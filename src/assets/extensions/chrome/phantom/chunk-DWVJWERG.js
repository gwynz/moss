import{b as ze,c as ro,d as $e,e as no}from"./chunk-7E434H27.js";import{v as Ve}from"./chunk-BDNKAVSO.js";import{a as ao,b as co,c as lo}from"./chunk-A6KOOECJ.js";import{a as U,c as Y,d as j,e as so,g as Re}from"./chunk-M5TISUE2.js";import{d as to,e as oo}from"./chunk-4P4TQ4ZP.js";import{a as Zt,c as eo}from"./chunk-TXVOU644.js";import{f as fe,j as je,n as Kt,y as we,z as qt}from"./chunk-YTLZ2SGV.js";import{s as Xt}from"./chunk-QNVGN5HE.js";import{a as J}from"./chunk-D6ZWMAKN.js";import{b as ve,g as Gt}from"./chunk-YE5I2OIJ.js";import{b as D,d as Nt,h as v}from"./chunk-IAL2BZAA.js";import{a as Jt}from"./chunk-M6UNEOVM.js";import{a as Vt}from"./chunk-53GGNXTW.js";import{a as io,b as mo}from"./chunk-M65HNOJE.js";import{g as Ut,l as Yt,m as Qt}from"./chunk-RHCYAVA3.js";import{F as wt}from"./chunk-GA7OWDUC.js";import{h as It,i as kt,j as Dt}from"./chunk-EOII3ZM4.js";import{c as $t,d as K}from"./chunk-H3HVEJML.js";import{A as Ot,C as ue,F as jt,K as zt,_a as P,p as Oe}from"./chunk-NDIBTKLE.js";import{c as h}from"./chunk-6JMEWALM.js";import{f as Et,i as _t}from"./chunk-4GL3WODX.js";import{k as Ft}from"./chunk-5NEPC5CX.js";import{Na as Ht,w as Wt,x as Mt,y as Bt}from"./chunk-KWNEQJE2.js";import{A as Lt}from"./chunk-PQUTVVRL.js";import{b as yt}from"./chunk-XGLSOW44.js";import{a as G}from"./chunk-ZGQB4B3Z.js";import{a as bt}from"./chunk-OJPBMZQC.js";import{$ as At,Ja as Rt,aa as Tt,da as Pe,ea as Ct,ka as Pt,l as xt,la as vt,n as _e}from"./chunk-FLYQWZR6.js";import{a as Ko}from"./chunk-CYENH7PC.js";import{A as ye,Ab as te,Bc as He,Ib as ut,La as Le,Qa as mt,i as it,m as L,p as q,ub as de,vb as pt,z as he,zc as ft}from"./chunk-F236ETGH.js";import{Ad as rt,Gc as pe,Hc as z,Kc as $,Mf as dt,Pe as ct,dd as tt,ie as nt,jd as ot,je as st,of as lt,pf as Te,tf as Be}from"./chunk-LPV5DSV2.js";import{a as at}from"./chunk-BYU664DD.js";import{$a as ht,Ba as S,C as et,Ea as St,L as B,La as oe,M as y,Ra as Fe,Sa as Ce,Xa as gt,Y as w,ac as O,x as Ze}from"./chunk-JYKVQ4NC.js";import{a as s,g as p,i as a,j as T,m as Buffer,n as c}from"./chunk-TSHWMJEM.js";a();c();var be=p(B()),po=p(Ko());var Ne=new bt,uo=s(({beforeReset:e}={})=>{let{mutateAsync:t}=to(),{mutateAsync:o}=oo(),[r,n]=(0,be.useState)("idle"),i=r==="resetting",d=(0,be.useCallback)(async()=>{await e?.(),n("resetting"),G.capture("resetApp");let l=await Ne.get(_e.ApiEnvironment);await Ne.clear(),io.clear(),l&&await Ne.set(_e.ApiEnvironment,l),await _t.logOut(),await Ut(),await t(!0),await o(!0),await Et(),po.default.runtime.reload()},[e,o,t]);return{isResetting:i,handleResetApp:d}},"useResetApp");a();c();var re=p(y());var ie=p(B());a();c();var fo="_15xlg4e0 _48j31au9 _48j31av7 _48j31ax3 _48j31aw5 _48j31ar2 _48j31apw _48j31as8 _48j31aoq _48j31ax8 _48j31ax6 _48j31axa _48j31ax4 _48j31a3np _48j31a37v _48j31a2c7 _48j31a2s1 _48j31axc _48j31a187 _48j31a125 _48j31a1b1 _48j31a1cn _48j31a1kg _48j31a1mb _48j31a1mo _48j31a1t1 _48j31a1xm _48j31a20z _48j31a47p _48j31a43k",So="_15xlg4e1 _48j31axd";var Ke=ie.default.memo(e=>{let t=(0,ie.useCallback)(o=>$.captureError(o,z.Account),[]);return(0,re.jsx)(Fe,{...e,onError:t})}),Uo=ie.default.memo(({accountName:e,accountIndex:t,accountIcon:o,onPress:r,onClick:n=r})=>{let i=(0,ie.useCallback)(d=>$.captureError(d,z.Account),[]);return(0,re.jsxs)("div",{className:So,children:[(0,re.jsx)(Fe,{accountIndex:t,accountName:e,accountIcon:o,size:96,onError:i}),(0,re.jsx)("button",{type:"button",className:fo,"data-testid":"edit-avatar-icon",onClick:n,children:(0,re.jsx)(St.Edit,{size:20})})]})}),Yo=ie.default.memo(({children:e,withMargin:t})=>(0,re.jsx)(oe,{direction:"row",alignItems:"center",justifyContent:"center",marginX:"auto",marginY:t?20:"auto",children:e}));a();c();a();c();var Ue=p(y(),1),go=s(({value:e,onChange:t})=>{let{t:o}=w();return(0,Ue.jsx)(Qo,{children:(0,Ue.jsx)(Gt,{placeholder:o("assetListSearch"),value:e,onChange:r=>{"value"in r.target&&typeof r.target.value=="string"&&t(r.target.value)},showClearIcon:!!e,onClear:()=>{t("")}})})},"SettingsSearchHeader"),Qo=h.div`
  padding: 14px 0 14px;
  background: ${S.colors.legacy.areaBase};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${S.colors.legacy.borderBase};
  }
`;a();c();a();c();var qo=p(B());var ho=tt({minutes:5}),yo=s((e,t)=>rt({enabled:e!==null&&t,gcTime:ho,staleTime:ho,refetchInterval:!1,refetchOnMount:!1,...no(e)}),"useFetchShortcuts");a();c();var Ao=p(B());a();c();function Go(e,t){let o="type"in e&&e.type==="fungible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToTokenAddresses&&o.limitToTokenAddresses.length>0;return r&&!n?!0:r&&n?o.limitToTokenAddresses.some(i=>i===t.tokenAddress):!1}s(Go,"filterFungible");function Jo(e,t){let o=!("type"in e)||e.type==="collectible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToCollections&&o.limitToCollections.length>0;return r&&!n?!0:r&&n?o.limitToCollections.some(i=>i===t.collectionId):!1}s(Jo,"filterCollectible");var wo=s((e,t)=>e?e.filter(o=>t.type==="fungible"?Go(o,t):Jo(o,t)).slice(0,20):[],"filter");a();c();var xo=s(({input:e,shortcuts:t})=>{if(t.length===0)return[];let o=JSON.stringify(t);return e.collectionId&&(o=o.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(o=o.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(o=o.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(o)},"parse");var To=s((e,t,o)=>(0,Ao.useMemo)(()=>{let r=xo({input:t,shortcuts:e});return wo(r,o)},[e,t,o]),"useMappedShortcuts");function xe(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="fungible")}s(xe,"isFungible");function Xo(e){return xe(e)?ze(e.externalUrl):ze(e?.externalUrl)}s(Xo,"getUrl");function Zo(e){return xe(e)?!1:e?.collection.isSpam??!0}s(Zo,"isSpam");function er(e,t){let o=Xo(e),r=ro(o)&&!!o&&!Zo(e)&&t,{data:n,isPending:i}=yo(r&&o?new URL(o):null,t),d=xe(e)?"":tr(e)??"",l=xe(e)?e.tokenAddress:e?.id??"",x=et?"mobile":"desktop",m=xe(e)?{platform:x,tokenAddress:l,type:"fungible"}:{platform:x,collectionId:d,type:"collectible"},C=To(n??[],{collectionId:d,tokenId:l,ownerAddress:e?.owner},m);return{isLoading:!e||i&&r,shortcuts:r?C:[]}}s(er,"useShortcuts");var tr=s(e=>{if(e?.chainData){if(Mt(e.chainData))return e.chainData.contract;if(Wt(e.chainData))return e.collection.id;if(Bt(e.chainData))return e.chainData.firstCreatedInscriptionId}},"getCollectionId");a();c();a();c();var R=p(B(),1);a();c();a();c();var ae=p(y(),1),Ie=s(({onSuccess:e,type:t})=>{let{t:o}=w(),r=t===L.PrivateKey,n=o(r?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(v,{shouldWrap:!0,children:n}),(0,ae.jsx)(je,{onSuccess:e,type:t})]})},"SettingsExportSecretWarning");a();c();var ge=p(B(),1);a();c();var Co=p(B(),1);var ce=p(y(),1),Po=Co.default.memo(({indexes:e,wordlist:t})=>(0,ce.jsx)(nr,{children:e.length>0&&t.length>0?e.map((o,r)=>(0,ce.jsxs)(or,{children:[(0,ce.jsx)(sr,{children:`${r+1}.`}),(0,ce.jsx)(ir,{"data-testid":`secret-recovery-phrase-word-input-${r}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[o],pattern:"[A-Za-z\\s]+"})]},r)):Array.from({length:e.length>0?e.length:12},(o,r)=>(0,ce.jsx)(rr,{},r))})),or=h(J).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${S.colors.legacy.textBase};
  background: ${S.colors.legacy.areaAccent};
  border: 1px solid ${S.colors.legacy.borderDiminished};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,rr=h(Xt).attrs({backgroundColor:S.colors.legacy.borderBase,borderRadius:"6px",height:"41px"})``,nr=h.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,sr=h(P).attrs({size:14,weight:400,color:S.colors.legacy.textDiminished})`
  padding-left: 8px;
  padding-right: 2px;
`,ir=h.input`
  color: ${S.colors.legacy.textBase};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;a();c();var Se=p(y(),1),vo=s(({type:e})=>{let{t}=w(),o=e===L.PrivateKey?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return(0,Se.jsx)(ar,{"data-testid":`warning-island-${e}`,children:(0,Se.jsx)(Kt,{color:S.colors.legacy.spotNegative,title:(0,Se.jsxs)(yt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:o},children:["Do ",(0,Se.jsx)("u",{children:"not"})," share your ",o,"!"]}),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:o})})})},"WarningIsland"),ar=h.div`
  margin-bottom: 20px;
`;var N=p(y(),1),ke=s(({accountIdentifier:e,password:t,onDone:o})=>{let{t:r}=w(),{popDetailView:n}=D(),i=ot(),[{indexes:d,wordlist:l},x]=(0,ge.useState)({indexes:[],wordlist:[]}),{data:m}=pt(e),C=it(),k=(0,ge.useCallback)(()=>{n(),n(),n()},[n]);return(0,ge.useEffect)(()=>{(async()=>{if((m?.type===q.Seed||m?.type===q.Seedless)&&m?.seedIdentifier)try{let f=await t.foldAsync(V=>Ft(Buffer.from(V).toString("utf-8"),m.seedIdentifier));if(!f)throw new Error("Could not get mnemonic");let b=await Vt(),se=f.fold(b.fromEntropy),M=Array.from(await se.getIndexes());x({indexes:M,wordlist:b.wordlist}),$.addBreadcrumb(z.Account,`\u2705 Exported S*ed for Account: ${e}`,pe.Info),G.capture("exportMnemonic"),Ve(i)}catch{$.addBreadcrumb(z.Account,`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(m)}"`,pe.Error)}else if(m?.type===q.KMSVault)try{let f=C.getKMSInstance(),{mnemonic:b,walletId:se,tag:M}=await mt(f,m),V=b.toString().split(" "),Q=Array.from({length:V.length},(le,Z)=>Z);x({indexes:Q,wordlist:V}),$.addBreadcrumb(z.Account,`\u2705 Exported S*ed for KMS Account: ${e}`,pe.Info),G.capture("exportKMSMnemonic",{data:{walletId:se,tag:M}}),Ve(i)}catch{$.addBreadcrumb(z.Account,`\u{1F6AB} Failed to Export S*ed for KMS Account: "${e}"`,pe.Error)}else $.addBreadcrumb(z.Account,`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(m)}"`,pe.Error)})()},[m,e,t,i,C]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(v,{shouldWrap:!0,children:r("exportSecretYourSecretRecoveryPhrase")}),(0,N.jsx)(U,{children:(0,N.jsxs)(j,{children:[(0,N.jsx)(vo,{type:L.Mnemonic}),(0,N.jsx)(Po,{indexes:d,wordlist:l})]})}),(0,N.jsx)($t,{onClick:o||k,children:r("pastParticipleDone")})]})},"SettingsExportSeedPhrase");a();c();var E=p(B(),1);var u=p(y(),1),Ye=s(({navigationCallback:e})=>{let{t}=w(),{data:o=[]}=de(),{data:r=[]}=te("all"),n=(0,E.useMemo)(()=>o.filter(m=>he(m)).filter(m=>ye(m)||r.some(C=>C.identifier===m.seedIdentifier)),[r,o]),i=He(m=>m.editableAccountMetadata),d=He(m=>m.setEditableAccountMetadata),l=(0,E.useCallback)(m=>{d&&d({...i,...m})},[i,d]),x=(0,E.useCallback)(m=>{l(m),e(m)},[l,e]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v,{icon:(0,u.jsx)(jt,{fill:S.colors.legacy.textDiminished}),children:t("settingsSelectSecretPhrase")}),(0,u.jsx)(U,{children:n.length===0?(0,u.jsx)(Ce,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):(0,u.jsx)(oe,{gap:8,children:(0,u.jsx)(lr,{children:n.map((m,C)=>ye(m)?(0,u.jsx)(Ro,{accounts:Le(o,m.identifier),onClick:x,index:C,accountIdentifier:m.identifier},`kms-select-${m.identifier}`):(0,u.jsx)(Ro,{accounts:Le(o,m.seedIdentifier),onClick:x,index:C,seedIdentifier:m.seedIdentifier},`seed-select-${m.seedIdentifier}`))})})})]})},"SettingsSelectSeed"),Ro=s(({accounts:e,index:t,onClick:o,...r})=>{let{t:n}=w(),[i,d]=(0,E.useState)(!1),[l,x]=(0,E.useState)(!1),m=(0,E.useCallback)(()=>{d(!i)},[i,d]),C=(0,E.useCallback)(()=>{l||o(r)},[r,l,o]),k=(0,E.useMemo)(()=>e.length>1?n(i?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(i?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,i,n]),f=(0,E.useMemo)(()=>e.length>=1?{onMouseEnter:s(()=>x(!0),"onMouseEnter"),onMouseLeave:s(()=>x(!1),"onMouseLeave"),onClick:m}:null,[e.length,m]);return(0,u.jsx)(mr,{onClick:C,children:(0,u.jsxs)(Io,{children:[(0,u.jsxs)(pr,{children:[(0,u.jsxs)(dr,{children:[(0,u.jsx)(ur,{children:n("addAccountSecretPhraseDefaultLabel",{number:t+1})}),(0,u.jsx)(Sr,{...f,children:k})]}),(0,u.jsx)(J,{width:"fit-content",children:(0,u.jsx)(ko,{children:(0,u.jsx)(Oe,{fill:S.colors.legacy.textDiminished,width:10})})})]}),(0,u.jsx)(cr,{accounts:e,expanded:i})]})})},"MultiChainSelectSeedItem"),cr=s(({accounts:e,expanded:t})=>{let[o,{height:r}]=ct(),n=(0,E.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:r},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[r]);return(0,u.jsx)(gt,{mode:"wait",children:t&&e.length>0&&(0,u.jsx)(bo,{...n,children:(0,u.jsx)(bo,{ref:o,children:(0,u.jsx)(gr,{children:e.map((i,d)=>(0,u.jsxs)(J,{justify:"flex-start",children:[(0,u.jsx)(Ke,{size:24,accountIcon:i.icon,accountName:i.name,accountIndex:d}),(0,u.jsx)(fr,{style:{marginLeft:6},children:i.name})]},`account-${i.identifier}`))})})})})},"SelectSeedAssociatedAccounts"),lr=h.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,mr=h(J).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${S.colors.legacy.elementBase};
  border-radius: 8px;
  &:hover {
    background-color: ${S.colors.legacy.elementAccent};
  }
`,pr=h(J).attrs({justify:"space-between"})`
  padding: 15px;
`,dr=h.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,ur=h(P).attrs({size:16,weight:500,lineHeight:19})``,fr=h(P).attrs({size:15,weight:500,lineHeight:19})``,Sr=h(P).attrs({size:13,weight:500,lineHeight:19})`
  color: ${S.colors.legacy.spotBase};
  margin-top: 2px;
`,Io=h.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,gr=h(Io)`
  border-top: 1px solid ${S.colors.legacy.areaBase};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,bo=h(ht.div)`
  overflow: hidden;
`,Ei=s(({accounts:e,seedMetas:t,onClick:o,selectedSeedIdentifier:r})=>{let{t:n}=w(),i=(0,E.useMemo)(()=>{if(!t||!r)return 0;let l=t.find(x=>x.identifier===r);return l?t.indexOf(l):0},[t,r]),d=(0,E.useMemo)(()=>!e||!r?[]:e.filter(l=>(l.type===q.Seed||l.type===q.Seedless)&&l.seedIdentifier===r),[e,r]);return(0,u.jsxs)(hr,{children:[(0,u.jsx)(Ar,{children:n("addAccountSecretPhraseLabel")}),(0,u.jsx)(yr,{onClick:o,"data-testid":"select-secret-phrase-button",children:(0,u.jsxs)(J,{justify:"space-between",children:[(0,u.jsx)(J,{children:(0,u.jsxs)(wr,{children:[n("addAccountSecretPhraseDefaultLabel",{number:i+1})," ",(0,u.jsxs)(xr,{children:["(",d.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:d.length}):n("addAccountOneAccountsForSeed"),")"]})]})}),(0,u.jsx)(ko,{children:(0,u.jsx)(Oe,{fill:S.colors.legacy.textDiminished,width:10})})]})}),(0,u.jsx)(Do,{children:n("addAccountSelectSeedDescription")})]})},"MultiChainSelectSeedDropdown"),hr=h(Zt)`
  width: 100%;
  position: relative;
`,yr=h(eo)`
  padding: 8px 16px 8px 12px;
`,ko=h.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,wr=h(P).attrs({size:16,weight:400,lineHeight:19})``,xr=h(P).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${S.colors.legacy.textDiminished};
`,Do=h(P).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${S.colors.legacy.textDiminished};
`,Ar=h(Do)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;a();c();var De=p(B(),1);var ne=p(y(),1),Ae=[0,1,5,10,15,30,60,240,480,1440],Eo=s(()=>{let{t:e}=w(),{popDetailView:t}=D(),{data:o}=Pe(),{mutateAsync:r}=Ct(),n=(0,De.useCallback)(async d=>{try{let l=Be(d);await r({lockTimeInMs:l}),G.capture("changeLockTimerDuration",{data:{mins:d}}),t(),o!==l&&fe.success(e("changeLockTimerToast"))}catch(l){console.error(l)}},[o,t,r,e]),i=(0,De.useMemo)(()=>{if(o===void 0)return[];let d=lt(o);return Tr(d),Ae.map(l=>({topLeft:{text:Te(e,Be(l))},active:d===l,type:"radio",onClick:s(()=>n(l),"onClick")}))},[o,n,e]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(v,{children:e("changeLockTimerPrimaryText")}),(0,ne.jsx)(U,{children:(0,ne.jsx)(O,{rows:i})})]})},"SettingsAutoLockTimer"),Tr=s(async e=>{if(!Ae.includes(e)){let t=Ae.findIndex(o=>o>e);t?Ae.splice(t,0,e):Ae.push(e)}},"migrateOldTimerValue");a();c();var Ee=p(B(),1);var H=p(y(),1),Cr={currentPassword:"",password:"",confirmPassword:""},Pr={currentPassword:void 0,password:void 0,confirmPassword:void 0},Wo=s(()=>{let{t:e}=w(),{popDetailView:t}=D(),[o,r]=(0,Ee.useState)(Cr),{currentPassword:n,password:i,confirmPassword:d}=o,[l,x]=(0,Ee.useState)(Pr),m=l.password??l.confirmPassword??l.currentPassword,C=!n||!i||!d,[k,f]=(0,Ee.useState)(!1),b=s(M=>{let V=M.currentTarget.name,Q=M.currentTarget.value;r({...o,[V]:Q})},"handlePasswordChange");return(0,H.jsxs)(Re,{onSubmit:s(async M=>{M.preventDefault(),f(!0);let V,Q=ao(i)??lo(n,i),le=co(i,d);if(Q||le)return x({...l,password:Q,confirmPassword:le}),f(!1);try{if(!await Yt(n))throw new Error("Incorrect password");await Qt(n,d),f(!1),t(),fe.success(e("changePasswordToast"))}catch(Z){$.captureError(Z,z.Account),V=Z?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),x({...l,currentPassword:V}),f(!1)}},"handleSubmit"),children:[(0,H.jsx)(v,{children:e("changePasswordPrimaryText")}),(0,H.jsxs)(Y,{size:"large",children:[(0,H.jsxs)(j,{children:[(0,H.jsx)(Ot,{}),(0,H.jsx)(P,{size:26,weight:500,children:e("changePasswordPrimaryText")}),(0,H.jsxs)(so,{children:[(0,H.jsx)(ve,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!l.currentPassword,onChange:b}),(0,H.jsx)(ve,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!l.password,onChange:b}),(0,H.jsx)(ve.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!l.confirmPassword,warningMessage:m,onChange:b})]})]}),(0,H.jsx)(K,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:C||k,primaryLoading:k})]})]})},"SettingsChangePassword");a();c();var Qe=p(B(),1);a();c();var F=p(y(),1),We=s(({beforeReset:e})=>{let{t}=w(),{popDetailView:o}=D(),{isResetting:r,handleResetApp:n}=uo({beforeReset:e});return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(v,{children:t("settingsResetApp")}),(0,F.jsxs)(Y,{size:"large",children:[(0,F.jsx)("div",{}),(0,F.jsxs)(j,{children:[(0,F.jsx)(ue,{}),(0,F.jsx)(P,{size:28,weight:500,lineHeight:34,children:t("resetSeedPrimaryText")}),(0,F.jsx)(P,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px",children:t("resetSeedSecondaryText")})]}),(0,F.jsx)(K,{primaryDisabled:r,primaryLoading:r,primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:n,onSecondaryClicked:o})]})]})},"SettingsResetApp");var I=p(y(),1),Mo=s(({beforeReset:e})=>{let{t}=w(),{popDetailView:o,pushDetailView:r}=D(),{data:n=[]}=de(),i=n.filter(C=>C.type===q.Seedless),{data:d=[]}=te("recoverable-only"),l=(0,Qe.useCallback)((C,k,f)=>{r((0,I.jsx)(Ie,{type:L.Mnemonic,onSuccess:()=>r((0,I.jsx)(ke,{accountIdentifier:k,password:C,onDone:f}))}))},[r]),x=(0,Qe.useCallback)((C,k)=>{let f=i.find(b=>b.seedIdentifier===C);f&&r((0,I.jsx)(we,{type:L.Mnemonic,onSuccess:b=>l(b,f.identifier,k)}))},[i,r,l]),m=s(()=>{x(d[0].identifier,()=>{r((0,I.jsx)(We,{beforeReset:e}))})},"handleContinue");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v,{children:t("settingsDeleteSeedlessBundle")}),(0,I.jsxs)(Y,{size:"large",children:[(0,I.jsx)("div",{}),(0,I.jsxs)(j,{children:[(0,I.jsx)(ue,{}),(0,I.jsx)(P,{size:28,weight:500,lineHeight:34,children:t("settingsDeleteSeedlessBundle")}),(0,I.jsx)(P,{size:16,color:"textDiminished",lineHeight:19,maxWidth:"312px",children:t("settingsDeleteSeedlessBundleDescription")})]}),(0,I.jsx)(K,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:m,onSecondaryClicked:o})]})]})},"SettingsDeleteSeedlessBundle");a();c();var Bo=p(B(),1);var W=p(y(),1),vr=h.div`
  border: 1px solid ${S.colors.legacy.spotWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,Lo=Bo.default.memo(()=>{let{t:e}=w(),{downloadLogs:t,goSupportDesk:o,isFetching:r}=mo();return(0,W.jsxs)(Re,{onSubmit:t,children:[(0,W.jsx)(v,{children:e("settingsDownloadApplicationLogs")}),(0,W.jsxs)(Y,{size:"medium",children:[(0,W.jsx)("div",{}),(0,W.jsxs)(j,{children:[(0,W.jsx)(Jt,{diameter:96,color:at(S.colors.legacy.spotBase,.1),children:(0,W.jsx)(zt,{})}),(0,W.jsx)(P,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px",children:e("settingsDownloadApplicationLogs")}),(0,W.jsx)(P,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,margin:"0 0 4px",children:e("settingsDownloadApplicationLogsHelper")}),(0,W.jsx)(vr,{children:(0,W.jsx)(P,{size:14,color:S.colors.legacy.spotWarning,lineHeight:20,weight:500,children:e("settingsDownloadApplicationLogsWarning")})})]}),(0,W.jsx)(K,{primaryDisabled:r,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:o})]})]})});a();c();var Ho=p(B(),1);var _=p(y(),1),Fo=s(({seedIdentifier:e})=>{let{t}=w(),{hideSettingsMenu:o}=Nt(),{mutate:r}=ut(),{data:n=[]}=te("all"),i=n.findIndex(x=>x.identifier===e)??0,d=(0,Ho.useCallback)(()=>{r({seedIdentifier:e}),G.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),o()},[o,r,e,n]),{popDetailView:l}=D();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(v,{children:t("settingsRemoveSecretPhrase")}),(0,_.jsxs)(Y,{size:"large",children:[(0,_.jsx)("div",{}),(0,_.jsxs)(j,{children:[(0,_.jsx)(ue,{}),(0,_.jsx)(P,{size:28,weight:500,lineHeight:34,children:t("removeSeedPrimaryText",{number:i+1})}),(0,_.jsx)(P,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px",children:t("removeSeedSecondaryText",{number:i+1})})]}),(0,_.jsx)(K,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:d,onSecondaryClicked:l})]})]})},"SettingsRemoveSeed");var g=p(y(),1),tl=s(()=>{let{t:e}=w(),{pushDetailViewCallback:t,pushDetailView:o}=D(),{data:r=[]}=de(),n=r.filter(A=>he(A)),i=ft(),{data:[d]}=nt(["enable-delete-seedless-bundle-security-settings"]),l=wt(),{data:x=[]}=te("recoverable-only"),{hasCashAccount:m}=Lt(),{additionalPermissionRows:C}=Rr(),{data:k}=Pe(),{data:f,isPending:b}=At(),{mutate:se}=Tt(),{data:M,isPending:V}=Pt(),{mutate:Q}=vt(),le=(0,R.useCallback)(()=>{se({isAnalyticsOptedOut:!f})},[f,se]),Z=(0,R.useCallback)(()=>{Q({showWalletShortcuts:!M}),Ht.invalidateQueries({queryKey:[$e]})},[M,Q]),_o=(0,R.useCallback)(A=>{o((0,g.jsx)(qt,{password:A,isSettings:!0}))},[o]),qe=t((0,g.jsx)(we,{type:L.Seedless,onSuccess:_o})),Vo=(0,R.useMemo)(()=>{let A=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t((0,g.jsx)(Wo,{}))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:Te(e,k)},type:"drawer",onClick:t((0,g.jsx)(Eo,{}))}];return x.length&&A.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:qe}),A},[x.length,k,t,qe,e]),Oo=(0,R.useMemo)(()=>{let A=[];return A.push({topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t((0,g.jsx)(Lo,{}))}),A},[t,e]),jo=(0,R.useMemo)(()=>{let A=[];return V||A.push({id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:M??xt,type:"toggle",onClick:Z}),A},[M,V,Z,e]),zo=(0,R.useMemo)(()=>{let A=[];return b||A.push({id:"toggleAnalytics",active:!f,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:le}),A},[f,b,le,e]),Ge=(0,R.useCallback)((A,ee,Me)=>{o((0,g.jsx)(Ie,{type:L.Mnemonic,onSuccess:()=>o((0,g.jsx)(ke,{accountIdentifier:ee,password:A,onDone:Me}))}))},[o]),Je=(0,R.useCallback)(({seedIdentifier:A,accountIdentifier:ee},Me)=>{let Xe=n.find(me=>he(me)?ye(me)?me.identifier===ee:me.seedIdentifier===A:!1);Xe&&o((0,g.jsx)(we,{type:L.Mnemonic,onSuccess:me=>Ge(me,Xe.identifier,Me)}))},[o,n,Ge]),$o=(0,R.useMemo)(()=>{let A=[];return n.length&&A.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t((0,g.jsx)(Ye,{navigationCallback:ee=>Je(ee)}))}),A},[n.length,e,t,Je]),No=(0,R.useMemo)(()=>{let A=[];return i&&A.push({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"spotNegative"},onClick:t((0,g.jsx)(Ye,{navigationCallback:({seedIdentifier:ee})=>{ee&&o((0,g.jsx)(Fo,{seedIdentifier:ee}))}}))}),d&&x.length&&A.push({topLeft:{text:e("settingsDeleteSeedlessBundle"),color:m?"textDiminished":"spotNegative"},onClick:m?()=>{fe(e("settingsDeleteSeedlessBundleDisabledCashAccount"))}:t((0,g.jsx)(Mo,{beforeReset:l}))}),A.push({topLeft:{text:e("settingsResetApp"),color:"spotNegative"},onClick:t((0,g.jsx)(We,{}))}),A},[l,d,o,t,x,i,e,m]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{children:e("settingsSecurityPrimary")}),(0,g.jsx)(U,{children:(0,g.jsxs)(oe,{gap:"section",children:[(0,g.jsx)(O,{rows:Vo}),(0,g.jsx)(O,{rows:Oo}),C.length>0?(0,g.jsx)(O,{rows:C}):null,(0,g.jsx)(O,{rows:jo}),(0,g.jsxs)(oe,{gap:"list",children:[(0,g.jsx)(O,{rows:zo}),(0,g.jsx)(oe,{paddingX:4,children:(0,g.jsx)(Ce,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textDiminished"})})]}),(0,g.jsx)(O,{rows:$o}),(0,g.jsx)(O,{rows:No})]})})]})},"SecuritySettings");function Rr(){let e=dt(),{t}=w(),o=Ze(T.IS_FIREFOX),r=st.isFeatureEnabled("always-show-all-sites-permissions"),[n,i]=(0,R.useState)(null),[d,l]=(0,R.useState)(!1);(0,R.useEffect)(()=>{let f=!0;return(async()=>{let b=await It();f&&i(b)})(),()=>{f=!1}},[i]);let[x,m]=(0,R.useState)(!1),C=(0,R.useCallback)(async()=>{m(!0);try{let f=!!n;if(f)await Dt(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:f,newValue:!1}}),i(!1);else{let b=await kt();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:f,newValue:b}}),i(b)}}catch(f){f instanceof Error&&f.message.includes("You cannot remove required permissions")?l(!0):(console.error("Failed to set permissions"),console.error(f))}finally{m(!1)}},[n,e]),k=(0,R.useMemo)(()=>o||r?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:d||x,onClick:C,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(d?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[o,r,n,d,x,C,t]);return(0,R.useMemo)(()=>({additionalPermissionRows:k}),[k])}s(Rr,"useAllSitesPermissions");a();c();var X=p(y(),1),ul=s(()=>{let{t:e}=w(),{popDetailView:t}=D(),{currencyRows:o,searchQuery:r,setSearchQuery:n}=Rt({goBack:t});return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(v,{children:e("settingsCurrency")}),(0,X.jsx)(go,{value:r,onChange:n}),(0,X.jsx)(U,{children:(0,X.jsx)(O,{rows:o})})]})},"SettingsCurrencyList");export{Ie as a,Po as b,vo as c,ke as d,uo as e,We as f,Ke as g,Uo as h,Yo as i,Ye as j,Ei as k,go as l,ul as m,Eo as n,Wo as o,Lo as p,Fo as q,er as r,tl as s};
//# sourceMappingURL=chunk-DWVJWERG.js.map
