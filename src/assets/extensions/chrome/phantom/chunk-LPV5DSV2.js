import{a as mr,b as gb,c as yb,d as Ca,e as us,f as En,h as Mn,i as bb,j as Z6,k as ls,m as Mu,n as sZ,o as xb,w as vb,x as _b,y as J6,z as aZ}from"./chunk-NEE4FZIK.js";import{$ as ZNe,A as oZ,J as wi,L as Sn,M as Og,N as GNe,O as WNe,P as lk,Q as dk,R as hk,S as YNe,T as rJ,_ as XNe,a as pb,b as sk,ba as nJ,c as Vs,ca as C_,da as JNe,e as mb,ea as QNe,f as X6,fa as eCe,g as ak,ga as tCe,ha as pk,i as iZ,ia as mk,ja as rCe,ka as nCe,la as iCe,ma as iJ,na as oCe,oa as sCe,pa as aCe,qa as cCe,ra as gk,sa as oJ,ta as fCe,ua as uCe,va as lCe,w as be,y as O_}from"./chunk-JYKVQ4NC.js";import{e as tJ}from"./chunk-U7OZEJ4F.js";import{$ as PZ,A as xZ,Aa as fA,B as vZ,Ba as XZ,C as _Z,Ca as ZZ,D as tA,Da as JZ,E as uk,F as wZ,I as Eb,J as EZ,K as SZ,L as AZ,M as js,N as TZ,O as IZ,P as rA,Q as nA,R as N_,T as RZ,U as OZ,V as MZ,W as NZ,X as Sb,Y as CZ,Z as kZ,_ as BZ,a as mo,aa as LZ,b as cZ,ba as L0,bb as QZ,c as fZ,ca as iA,cb as eJ,d as Ll,da as DZ,e as uZ,ea as UZ,f as Q6,fa as FZ,g as lZ,ga as HZ,h as P0,ha as qZ,i as dZ,j as hZ,ja as oA,k as pZ,ka as VZ,l as ck,la as ch,m as wb,ma as jZ,n as mZ,o as di,oa as sA,p as M_,pa as Ab,q as gZ,qa as zZ,ra as KZ,s as eA,sa as $Z,ta as GZ,u as Hc,ua as aA,w as fk,wa as WZ,x as yZ,xa as Tb,ya as cA,z as bZ,za as YZ}from"./chunk-ZRGHR2IN.js";import{a as o,b as rZ,d as j,e as nZ,f as Rg,g as We,i as p,j as R,l as li,m as Buffer,n as m}from"./chunk-TSHWMJEM.js";var Cg=j((l5t,wk)=>{"use strict";p();m();var _k=65536,dCe=4294967295;function hCe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}o(hCe,"oldBrowser");var pCe=mr().Buffer,dA=self.crypto||self.msCrypto;dA&&dA.getRandomValues?wk.exports=mCe:wk.exports=hCe;function mCe(t,e){if(t>dCe)throw new RangeError("requested too many random bytes");var r=pCe.allocUnsafe(t);if(t>0)if(t>_k)for(var n=0;n<t;n+=_k)dA.getRandomValues(r.slice(n,n+_k));else dA.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}o(mCe,"randomBytes")});var Zt=j((m5t,Ek)=>{p();m();typeof Object.create=="function"?Ek.exports=o(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):Ek.exports=o(function(e,r){if(r){e.super_=r;var n=o(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")});var Rb=j((x5t,Sk)=>{"use strict";p();m();var Ib=typeof Reflect=="object"?Reflect:null,sJ=Ib&&typeof Ib.apply=="function"?Ib.apply:o(function(e,r,n){return Function.prototype.apply.call(e,r,n)},"ReflectApply"),hA;Ib&&typeof Ib.ownKeys=="function"?hA=Ib.ownKeys:Object.getOwnPropertySymbols?hA=o(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):hA=o(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function gCe(t){console&&console.warn&&console.warn(t)}o(gCe,"ProcessEmitWarning");var cJ=Number.isNaN||o(function(e){return e!==e},"NumberIsNaN");function Ln(){Ln.init.call(this)}o(Ln,"EventEmitter");Sk.exports=Ln;Sk.exports.once=vCe;Ln.EventEmitter=Ln;Ln.prototype._events=void 0;Ln.prototype._eventsCount=0;Ln.prototype._maxListeners=void 0;var aJ=10;function pA(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}o(pA,"checkListener");Object.defineProperty(Ln,"defaultMaxListeners",{enumerable:!0,get:o(function(){return aJ},"get"),set:o(function(t){if(typeof t!="number"||t<0||cJ(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");aJ=t},"set")});Ln.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ln.prototype.setMaxListeners=o(function(e){if(typeof e!="number"||e<0||cJ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function fJ(t){return t._maxListeners===void 0?Ln.defaultMaxListeners:t._maxListeners}o(fJ,"_getMaxListeners");Ln.prototype.getMaxListeners=o(function(){return fJ(this)},"getMaxListeners");Ln.prototype.emit=o(function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")sJ(l,this,r);else for(var h=l.length,y=pJ(l,h),n=0;n<h;++n)sJ(y[n],this,r);return!0},"emit");function uJ(t,e,r,n){var i,s,a;if(pA(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=fJ(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,gCe(c)}return t}o(uJ,"_addListener");Ln.prototype.addListener=o(function(e,r){return uJ(this,e,r,!1)},"addListener");Ln.prototype.on=Ln.prototype.addListener;Ln.prototype.prependListener=o(function(e,r){return uJ(this,e,r,!0)},"prependListener");function yCe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(yCe,"onceWrapper");function lJ(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=yCe.bind(n);return i.listener=r,n.wrapFn=i,i}o(lJ,"_onceWrap");Ln.prototype.once=o(function(e,r){return pA(r),this.on(e,lJ(this,e,r)),this},"once");Ln.prototype.prependOnceListener=o(function(e,r){return pA(r),this.prependListener(e,lJ(this,e,r)),this},"prependOnceListener");Ln.prototype.removeListener=o(function(e,r){var n,i,s,a,c;if(pA(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){c=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():bCe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this},"removeListener");Ln.prototype.off=Ln.prototype.removeListener;Ln.prototype.removeAllListeners=o(function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this},"removeAllListeners");function dJ(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?xCe(i):pJ(i,i.length)}o(dJ,"_listeners");Ln.prototype.listeners=o(function(e){return dJ(this,e,!0)},"listeners");Ln.prototype.rawListeners=o(function(e){return dJ(this,e,!1)},"rawListeners");Ln.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):hJ.call(t,e)};Ln.prototype.listenerCount=hJ;function hJ(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(hJ,"listenerCount");Ln.prototype.eventNames=o(function(){return this._eventsCount>0?hA(this._events):[]},"eventNames");function pJ(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}o(pJ,"arrayClone");function bCe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}o(bCe,"spliceOne");function xCe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}o(xCe,"unwrapListeners");function vCe(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}o(i,"errorListener");function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),mJ(t,e,s,{once:!0}),e!=="error"&&_Ce(t,i,{once:!0})})}o(vCe,"once");function _Ce(t,e,r){typeof t.on=="function"&&mJ(t,"error",e,r)}o(_Ce,"addErrorHandlerIfEventEmitter");function mJ(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,o(function i(s){n.once&&t.removeEventListener(e,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}o(mJ,"eventTargetAgnosticAddListener")});var Ak=j((E5t,gJ)=>{p();m();gJ.exports=Rb().EventEmitter});var B_=j(()=>{p();m()});var vJ=j((M5t,xJ)=>{"use strict";p();m();function yJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(yJ,"ownKeys");function wCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yJ(Object(r),!0).forEach(function(n){ECe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(wCe,"_objectSpread");function ECe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(ECe,"_defineProperty");function SCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(SCe,"_classCallCheck");function bJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(bJ,"_defineProperties");function ACe(t,e,r){return e&&bJ(t.prototype,e),r&&bJ(t,r),t}o(ACe,"_createClass");var TCe=li(),mA=TCe.Buffer,ICe=B_(),Tk=ICe.inspect,RCe=Tk&&Tk.custom||"inspect";function OCe(t,e,r){mA.prototype.copy.call(t,e,r)}o(OCe,"copyBuffer");xJ.exports=function(){function t(){SCe(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),ACe(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return mA.alloc(0);for(var n=mA.allocUnsafe(r>>>0),i=this.head,s=0;i;)OCe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,c=r>a.length?a.length:r;if(c===a.length?s+=a:s+=a.slice(0,r),r-=c,r===0){c===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(c));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=mA.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,c=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,c),r-=c,r===0){c===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(c));break}++s}return this.length-=s,n},"_getBuffer")},{key:RCe,value:o(function(r,n){return Tk(this,wCe({},n,{depth:0,customInspect:!1}))},"value")}]),t}()});var Rk=j((B5t,wJ)=>{"use strict";p();m();function MCe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ik,this,t)):process.nextTick(Ik,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(gA,r):(r._writableState.errorEmitted=!0,process.nextTick(_J,r,s)):process.nextTick(_J,r,s):e?(process.nextTick(gA,r),e(s)):process.nextTick(gA,r)}),this)}o(MCe,"destroy");function _J(t,e){Ik(t,e),gA(t)}o(_J,"emitErrorAndCloseNT");function gA(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(gA,"emitCloseNT");function NCe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(NCe,"undestroy");function Ik(t,e){t.emit("error",e)}o(Ik,"emitErrorNT");function CCe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(CCe,"errorOrDestroy");wJ.exports={destroy:MCe,undestroy:NCe,errorOrDestroy:CCe}});var kg=j((U5t,AJ)=>{"use strict";p();m();function kCe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(kCe,"_inheritsLoose");var SJ={};function Tf(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){kCe(a,s);function a(c,l,h){return s.call(this,n(c,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,SJ[t]=i}o(Tf,"createErrorType");function EJ(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(EJ,"oneOf");function BCe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(BCe,"startsWith");function PCe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(PCe,"endsWith");function LCe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(LCe,"includes");Tf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Tf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&BCe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(PCe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(EJ(e,"type"));else{var s=LCe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(EJ(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Tf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Tf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Tf("ERR_STREAM_PREMATURE_CLOSE","Premature close");Tf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Tf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Tf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Tf("ERR_STREAM_WRITE_AFTER_END","write after end");Tf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Tf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Tf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");AJ.exports.codes=SJ});var Ok=j((V5t,TJ)=>{"use strict";p();m();var DCe=kg().codes.ERR_INVALID_OPT_VALUE;function UCe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(UCe,"highWaterMarkFrom");function FCe(t,e,r,n){var i=UCe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new DCe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(FCe,"getHighWaterMark");TJ.exports={getHighWaterMark:FCe}});var Nk=j(($5t,IJ)=>{p();m();IJ.exports=HCe;function HCe(t,e){if(Mk("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Mk("throwDeprecation"))throw new Error(e);Mk("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n}o(HCe,"deprecate");function Mk(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}o(Mk,"config")});var xA=j((X5t,kJ)=>{"use strict";p();m();kJ.exports=Wi;function OJ(t){var e=this;this.next=null,this.entry=null,this.finish=function(){hke(e,t)}}o(OJ,"CorkedRequest");var Ob;Wi.WritableState=L_;var qCe={deprecate:Nk()},MJ=Ak(),bA=li().Buffer,VCe=self.Uint8Array||function(){};function jCe(t){return bA.from(t)}o(jCe,"_uint8ArrayToBuffer");function zCe(t){return bA.isBuffer(t)||t instanceof VCe}o(zCe,"_isUint8Array");var kk=Rk(),KCe=Ok(),$Ce=KCe.getHighWaterMark,H0=kg().codes,GCe=H0.ERR_INVALID_ARG_TYPE,WCe=H0.ERR_METHOD_NOT_IMPLEMENTED,YCe=H0.ERR_MULTIPLE_CALLBACK,XCe=H0.ERR_STREAM_CANNOT_PIPE,ZCe=H0.ERR_STREAM_DESTROYED,JCe=H0.ERR_STREAM_NULL_VALUES,QCe=H0.ERR_STREAM_WRITE_AFTER_END,eke=H0.ERR_UNKNOWN_ENCODING,Mb=kk.errorOrDestroy;Zt()(Wi,MJ);function tke(){}o(tke,"nop");function L_(t,e,r){Ob=Ob||q0(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ob),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=$Ce(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){cke(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new OJ(this)}o(L_,"WritableState");L_.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(L_.prototype,"buffer",{get:qCe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var yA;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yA=Function.prototype[Symbol.hasInstance],Object.defineProperty(Wi,Symbol.hasInstance,{value:o(function(e){return yA.call(this,e)?!0:this!==Wi?!1:e&&e._writableState instanceof L_},"value")})):yA=o(function(e){return e instanceof this},"realHasInstance");function Wi(t){Ob=Ob||q0();var e=this instanceof Ob;if(!e&&!yA.call(Wi,this))return new Wi(t);this._writableState=new L_(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),MJ.call(this)}o(Wi,"Writable");Wi.prototype.pipe=function(){Mb(this,new XCe)};function rke(t,e){var r=new QCe;Mb(t,r),process.nextTick(e,r)}o(rke,"writeAfterEnd");function nke(t,e,r,n){var i;return r===null?i=new JCe:typeof r!="string"&&!e.objectMode&&(i=new GCe("chunk",["string","Buffer"],r)),i?(Mb(t,i),process.nextTick(n,i),!1):!0}o(nke,"validChunk");Wi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&zCe(t);return s&&!bA.isBuffer(t)&&(t=jCe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=tke),n.ending?rke(this,r):(s||nke(this,n,t,r))&&(n.pendingcb++,i=oke(this,n,s,t,e,r)),i};Wi.prototype.cork=function(){this._writableState.corked++};Wi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&NJ(this,t))};Wi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new eke(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Wi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function ike(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=bA.from(e,r)),e}o(ike,"decodeChunk");Object.defineProperty(Wi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function oke(t,e,r,n,i,s){if(!r){var a=ike(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ck(t,e,!1,c,n,i,s);return l}o(oke,"writeOrBuffer");function Ck(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ZCe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(Ck,"doWrite");function ske(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(P_,t,e),t._writableState.errorEmitted=!0,Mb(t,n)):(i(n),t._writableState.errorEmitted=!0,Mb(t,n),P_(t,e))}o(ske,"onwriteError");function ake(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(ake,"onwriteStateUpdate");function cke(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new YCe;if(ake(r),e)ske(t,r,n,e,i);else{var s=CJ(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&NJ(t,r),n?process.nextTick(RJ,t,r,s,i):RJ(t,r,s,i)}}o(cke,"onwrite");function RJ(t,e,r,n){r||fke(t,e),e.pendingcb--,n(),P_(t,e)}o(RJ,"afterWrite");function fke(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(fke,"onwriteDrain");function NJ(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,Ck(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new OJ(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,y=r.callback,g=e.objectMode?1:l.length;if(Ck(t,e,!1,g,l,h,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(NJ,"clearBuffer");Wi.prototype._write=function(t,e,r){r(new WCe("_write()"))};Wi.prototype._writev=null;Wi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||dke(this,n,r),this};Object.defineProperty(Wi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function CJ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(CJ,"needFinish");function uke(t,e){t._final(function(r){e.pendingcb--,r&&Mb(t,r),e.prefinished=!0,t.emit("prefinish"),P_(t,e)})}o(uke,"callFinal");function lke(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(uke,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(lke,"prefinish");function P_(t,e){var r=CJ(e);if(r&&(lke(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(P_,"finishMaybe");function dke(t,e,r){e.ending=!0,P_(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(dke,"endWritable");function hke(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(hke,"onCorkedFinish");Object.defineProperty(Wi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Wi.prototype.destroy=kk.destroy;Wi.prototype._undestroy=kk.undestroy;Wi.prototype._destroy=function(t,e){e(t)}});var q0=j((eTt,PJ)=>{"use strict";p();m();var pke=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};PJ.exports=Dl;var BJ=wA(),Pk=xA();Zt()(Dl,BJ);for(Bk=pke(Pk.prototype),vA=0;vA<Bk.length;vA++)_A=Bk[vA],Dl.prototype[_A]||(Dl.prototype[_A]=Pk.prototype[_A]);var Bk,_A,vA;function Dl(t){if(!(this instanceof Dl))return new Dl(t);BJ.call(this,t),Pk.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",mke)))}o(Dl,"Duplex");Object.defineProperty(Dl.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(Dl.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(Dl.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function mke(){this._writableState.ended||process.nextTick(gke,this)}o(mke,"onend");function gke(t){t.end()}o(gke,"onEndNT");Object.defineProperty(Dl.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var Nb=j(DJ=>{"use strict";p();m();var Dk=mr().Buffer,LJ=Dk.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yke(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}o(yke,"_normalizeEncoding");function bke(t){var e=yke(t);if(typeof e!="string"&&(Dk.isEncoding===LJ||!LJ(t)))throw new Error("Unknown encoding: "+t);return e||t}o(bke,"normalizeEncoding");DJ.StringDecoder=D_;function D_(t){this.encoding=bke(t);var e;switch(this.encoding){case"utf16le":this.text=Ske,this.end=Ake,e=4;break;case"utf8":this.fillLast=_ke,e=4;break;case"base64":this.text=Tke,this.end=Ike,e=3;break;default:this.write=Rke,this.end=Oke;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Dk.allocUnsafe(e)}o(D_,"StringDecoder");D_.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};D_.prototype.end=Eke;D_.prototype.text=wke;D_.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Lk(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}o(Lk,"utf8CheckByte");function xke(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Lk(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Lk(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Lk(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}o(xke,"utf8CheckIncomplete");function vke(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}o(vke,"utf8CheckExtraBytes");function _ke(t){var e=this.lastTotal-this.lastNeed,r=vke(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}o(_ke,"utf8FillLast");function wke(t,e){var r=xke(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}o(wke,"utf8Text");function Eke(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}o(Eke,"utf8End");function Ske(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}o(Ske,"utf16Text");function Ake(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}o(Ake,"utf16End");function Tke(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}o(Tke,"base64Text");function Ike(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}o(Ike,"base64End");function Rke(t){return t.toString(this.encoding)}o(Rke,"simpleWrite");function Oke(t){return t&&t.length?this.write(t):""}o(Oke,"simpleEnd")});var U_=j((cTt,HJ)=>{"use strict";p();m();var UJ=kg().codes.ERR_STREAM_PREMATURE_CLOSE;function Mke(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(Mke,"once");function Nke(){}o(Nke,"noop");function Cke(t){return t.setHeader&&typeof t.abort=="function"}o(Cke,"isRequest");function FJ(t,e,r){if(typeof e=="function")return FJ(t,null,e);e||(e={}),r=Mke(r||Nke);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||c()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,c=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),y=o(function(O){r.call(t,O)},"onerror"),g=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new UJ),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new UJ),r.call(t,O)},"onclose"),E=o(function(){t.req.on("finish",c)},"onrequest");return Cke(t)?(t.on("complete",c),t.on("abort",g),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",y),t.on("close",g),function(){t.removeListener("complete",c),t.removeListener("abort",g),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",g)}}o(FJ,"eos");HJ.exports=FJ});var VJ=j((dTt,qJ)=>{"use strict";p();m();var EA;function V0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(V0,"_defineProperty");var kke=U_(),j0=Symbol("lastResolve"),Bg=Symbol("lastReject"),F_=Symbol("error"),SA=Symbol("ended"),Pg=Symbol("lastPromise"),Uk=Symbol("handlePromise"),Lg=Symbol("stream");function z0(t,e){return{value:t,done:e}}o(z0,"createIterResult");function Bke(t){var e=t[j0];if(e!==null){var r=t[Lg].read();r!==null&&(t[Pg]=null,t[j0]=null,t[Bg]=null,e(z0(r,!1)))}}o(Bke,"readAndResolve");function Pke(t){process.nextTick(Bke,t)}o(Pke,"onReadable");function Lke(t,e){return function(r,n){t.then(function(){if(e[SA]){r(z0(void 0,!0));return}e[Uk](r,n)},n)}}o(Lke,"wrapForNext");var Dke=Object.getPrototypeOf(function(){}),Uke=Object.setPrototypeOf((EA={get stream(){return this[Lg]},next:o(function(){var e=this,r=this[F_];if(r!==null)return Promise.reject(r);if(this[SA])return Promise.resolve(z0(void 0,!0));if(this[Lg].destroyed)return new Promise(function(a,c){process.nextTick(function(){e[F_]?c(e[F_]):a(z0(void 0,!0))})});var n=this[Pg],i;if(n)i=new Promise(Lke(n,this));else{var s=this[Lg].read();if(s!==null)return Promise.resolve(z0(s,!1));i=new Promise(this[Uk])}return this[Pg]=i,i},"next")},V0(EA,Symbol.asyncIterator,function(){return this}),V0(EA,"return",o(function(){var e=this;return new Promise(function(r,n){e[Lg].destroy(null,function(i){if(i){n(i);return}r(z0(void 0,!0))})})},"_return")),EA),Dke),Fke=o(function(e){var r,n=Object.create(Uke,(r={},V0(r,Lg,{value:e,writable:!0}),V0(r,j0,{value:null,writable:!0}),V0(r,Bg,{value:null,writable:!0}),V0(r,F_,{value:null,writable:!0}),V0(r,SA,{value:e._readableState.endEmitted,writable:!0}),V0(r,Uk,{value:o(function(s,a){var c=n[Lg].read();c?(n[Pg]=null,n[j0]=null,n[Bg]=null,s(z0(c,!1))):(n[j0]=s,n[Bg]=a)},"value"),writable:!0}),r));return n[Pg]=null,kke(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Bg];s!==null&&(n[Pg]=null,n[j0]=null,n[Bg]=null,s(i)),n[F_]=i;return}var a=n[j0];a!==null&&(n[Pg]=null,n[j0]=null,n[Bg]=null,a(z0(void 0,!0))),n[SA]=!0}),e.on("readable",Pke.bind(null,n)),n},"createReadableStreamAsyncIterator");qJ.exports=Fke});var zJ=j((gTt,jJ)=>{p();m();jJ.exports=function(){throw new Error("Readable.from is not available in the browser")}});var wA=j((vTt,eQ)=>{"use strict";p();m();eQ.exports=rn;var Cb;rn.ReadableState=WJ;var xTt=Rb().EventEmitter,GJ=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),q_=Ak(),AA=li().Buffer,Hke=self.Uint8Array||function(){};function qke(t){return AA.from(t)}o(qke,"_uint8ArrayToBuffer");function Vke(t){return AA.isBuffer(t)||t instanceof Hke}o(Vke,"_isUint8Array");var Fk=B_(),Br;Fk&&Fk.debuglog?Br=Fk.debuglog("stream"):Br=o(function(){},"debug");var jke=vJ(),$k=Rk(),zke=Ok(),Kke=zke.getHighWaterMark,TA=kg().codes,$ke=TA.ERR_INVALID_ARG_TYPE,Gke=TA.ERR_STREAM_PUSH_AFTER_EOF,Wke=TA.ERR_METHOD_NOT_IMPLEMENTED,Yke=TA.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,kb,Hk,qk;Zt()(rn,q_);var H_=$k.errorOrDestroy,Vk=["error","close","destroy","pause","resume"];function Xke(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(Xke,"prependListener");function WJ(t,e,r){Cb=Cb||q0(),t=t||{},typeof r!="boolean"&&(r=e instanceof Cb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Kke(this,t,"readableHighWaterMark",r),this.buffer=new jke,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(kb||(kb=Nb().StringDecoder),this.decoder=new kb(t.encoding),this.encoding=t.encoding)}o(WJ,"ReadableState");function rn(t){if(Cb=Cb||q0(),!(this instanceof rn))return new rn(t);var e=this instanceof Cb;this._readableState=new WJ(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),q_.call(this)}o(rn,"Readable");Object.defineProperty(rn.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});rn.prototype.destroy=$k.destroy;rn.prototype._undestroy=$k.undestroy;rn.prototype._destroy=function(t,e){e(t)};rn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=AA.from(t,e),e=""),n=!0),YJ(this,t,e,!1,n)};rn.prototype.unshift=function(t){return YJ(this,t,null,!0,!1)};function YJ(t,e,r,n,i){Br("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Qke(t,s);else{var a;if(i||(a=Zke(s,e)),a)H_(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==AA.prototype&&(e=qke(e)),n)s.endEmitted?H_(t,new Yke):jk(t,s,e,!0);else if(s.ended)H_(t,new Gke);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?jk(t,s,e,!1):Kk(t,s)):jk(t,s,e,!1)}else n||(s.reading=!1,Kk(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(YJ,"readableAddChunk");function jk(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&IA(t)),Kk(t,e)}o(jk,"addChunk");function Zke(t,e){var r;return!Vke(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new $ke("chunk",["string","Buffer","Uint8Array"],e)),r}o(Zke,"chunkInvalid");rn.prototype.isPaused=function(){return this._readableState.flowing===!1};rn.prototype.setEncoding=function(t){kb||(kb=Nb().StringDecoder);var e=new kb(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var KJ=1073741824;function Jke(t){return t>=KJ?t=KJ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(Jke,"computeNewHighWaterMark");function $J(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Jke(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o($J,"howMuchToRead");rn.prototype.read=function(t){Br("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Br("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?zk(this):IA(this),null;if(t=$J(t,e),t===0&&e.ended)return e.length===0&&zk(this),null;var n=e.needReadable;Br("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Br("length less than watermark",n)),e.ended||e.reading?(n=!1,Br("reading or ended",n)):n&&(Br("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=$J(r,e)));var i;return t>0?i=JJ(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&zk(this)),i!==null&&this.emit("data",i),i};function Qke(t,e){if(Br("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?IA(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,XJ(t)))}}o(Qke,"onEofChunk");function IA(t){var e=t._readableState;Br("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Br("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(XJ,t))}o(IA,"emitReadable");function XJ(t){var e=t._readableState;Br("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Gk(t)}o(XJ,"emitReadable_");function Kk(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(eBe,t,e))}o(Kk,"maybeReadMore");function eBe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Br("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(eBe,"maybeReadMore_");rn.prototype._read=function(t){H_(this,new Wke("_read()"))};rn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Br("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?c:M;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){Br("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}o(a,"onunpipe");function c(){Br("onend"),t.end()}o(c,"onend");var l=tBe(r);t.on("drain",l);var h=!1;function y(){Br("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",M),r.removeListener("data",g),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(y,"cleanup"),r.on("data",g);function g(k){Br("ondata");var C=t.write(k);Br("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&QJ(n.pipes,t)!==-1)&&!h&&(Br("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(g,"ondata");function E(k){Br("onerror",k),M(),t.removeListener("error",E),GJ(t,"error")===0&&H_(t,k)}o(E,"onerror"),Xke(t,"error",E);function T(){t.removeListener("finish",O),M()}o(T,"onclose"),t.once("close",T);function O(){Br("onfinish"),t.removeListener("close",T),M()}o(O,"onfinish"),t.once("finish",O);function M(){Br("unpipe"),r.unpipe(t)}return o(M,"unpipe"),t.emit("pipe",r),n.flowing||(Br("pipe resume"),r.resume()),t};function tBe(t){return o(function(){var r=t._readableState;Br("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&GJ(t,"data")&&(r.flowing=!0,Gk(t))},"pipeOnDrainFunctionResult")}o(tBe,"pipeOnDrain");rn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=QJ(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};rn.prototype.on=function(t,e){var r=q_.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Br("on readable",n.length,n.reading),n.length?IA(this):n.reading||process.nextTick(rBe,this)),r};rn.prototype.addListener=rn.prototype.on;rn.prototype.removeListener=function(t,e){var r=q_.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(ZJ,this),r};rn.prototype.removeAllListeners=function(t){var e=q_.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(ZJ,this),e};function ZJ(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(ZJ,"updateReadableListening");function rBe(t){Br("readable nexttick read 0"),t.read(0)}o(rBe,"nReadingNextTick");rn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Br("resume"),t.flowing=!t.readableListening,nBe(this,t)),t.paused=!1,this};function nBe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(iBe,t,e))}o(nBe,"resume");function iBe(t,e){Br("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Gk(t),e.flowing&&!e.reading&&t.read(0)}o(iBe,"resume_");rn.prototype.pause=function(){return Br("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Br("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Gk(t){var e=t._readableState;for(Br("flow",e.flowing);e.flowing&&t.read()!==null;);}o(Gk,"flow");rn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Br("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Br("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var c=e.push(a);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(c){return o(function(){return t[c].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<Vk.length;s++)t.on(Vk[s],this.emit.bind(this,Vk[s]));return this._read=function(a){Br("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(rn.prototype[Symbol.asyncIterator]=function(){return Hk===void 0&&(Hk=VJ()),Hk(this)});Object.defineProperty(rn.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(rn.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(rn.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});rn._fromList=JJ;Object.defineProperty(rn.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function JJ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(JJ,"fromList");function zk(t){var e=t._readableState;Br("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(oBe,e,t))}o(zk,"endReadable");function oBe(t,e){if(Br("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(oBe,"endReadableNT");typeof Symbol=="function"&&(rn.from=function(t,e){return qk===void 0&&(qk=zJ()),qk(rn,t,e)});function QJ(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(QJ,"indexOf")});var MA=j((STt,rQ)=>{"use strict";p();m();rQ.exports=lh;var RA=kg().codes,sBe=RA.ERR_METHOD_NOT_IMPLEMENTED,aBe=RA.ERR_MULTIPLE_CALLBACK,cBe=RA.ERR_TRANSFORM_ALREADY_TRANSFORMING,fBe=RA.ERR_TRANSFORM_WITH_LENGTH_0,OA=q0();Zt()(lh,OA);function uBe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new aBe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(uBe,"afterTransform");function lh(t){if(!(this instanceof lh))return new lh(t);OA.call(this,t),this._transformState={afterTransform:uBe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lBe)}o(lh,"Transform");function lBe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){tQ(t,e,r)}):tQ(this,null,null)}o(lBe,"prefinish");lh.prototype.push=function(t,e){return this._transformState.needTransform=!1,OA.prototype.push.call(this,t,e)};lh.prototype._transform=function(t,e,r){r(new sBe("_transform()"))};lh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};lh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};lh.prototype._destroy=function(t,e){OA.prototype._destroy.call(this,t,function(r){e(r)})};function tQ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new fBe;if(t._transformState.transforming)throw new cBe;return t.push(null)}o(tQ,"done")});var Wk=j((RTt,iQ)=>{"use strict";p();m();iQ.exports=V_;var nQ=MA();Zt()(V_,nQ);function V_(t){if(!(this instanceof V_))return new V_(t);nQ.call(this,t)}o(V_,"PassThrough");V_.prototype._transform=function(t,e,r){r(null,t)}});var Xk=j((CTt,cQ)=>{"use strict";p();m();var Yk;function dBe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(dBe,"once");var aQ=kg().codes,hBe=aQ.ERR_MISSING_ARGS,pBe=aQ.ERR_STREAM_DESTROYED;function oQ(t){if(t)throw t}o(oQ,"noop");function mBe(t){return t.setHeader&&typeof t.abort=="function"}o(mBe,"isRequest");function gBe(t,e,r,n){n=dBe(n);var i=!1;t.on("close",function(){i=!0}),Yk===void 0&&(Yk=U_()),Yk(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,mBe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new pBe("pipe"))}}}o(gBe,"destroyer");function sQ(t){t()}o(sQ,"call");function yBe(t,e){return t.pipe(e)}o(yBe,"pipe");function bBe(t){return!t.length||typeof t[t.length-1]!="function"?oQ:t.pop()}o(bBe,"popCallback");function xBe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=bBe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new hBe("streams");var i,s=e.map(function(a,c){var l=c<e.length-1,h=c>0;return gBe(a,l,h,function(y){i||(i=y),y&&s.forEach(sQ),!l&&(s.forEach(sQ),n(i))})});return e.reduce(yBe)}o(xBe,"pipeline");cQ.exports=xBe});var uQ=j((If,fQ)=>{p();m();If=fQ.exports=wA();If.Stream=If;If.Readable=If;If.Writable=xA();If.Duplex=q0();If.Transform=MA();If.PassThrough=Wk();If.finished=U_();If.pipeline=Xk()});var Zk=j((UTt,dQ)=>{"use strict";p();m();var NA=mr().Buffer,lQ=uQ().Transform,vBe=Zt();function _Be(t,e){if(!NA.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}o(_Be,"throwIfNotStringOrBuffer");function K0(t){lQ.call(this),this._block=NA.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(K0,"HashBase");vBe(K0,lQ);K0.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};K0.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};K0.prototype.update=function(t,e){if(_Be(t,"Data"),this._finalized)throw new Error("Digest already called");NA.isBuffer(t)||(t=NA.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};K0.prototype._update=function(){throw new Error("_update is not implemented")};K0.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};K0.prototype._digest=function(){throw new Error("_digest is not implemented")};dQ.exports=K0});var BA=j((VTt,pQ)=>{"use strict";p();m();var wBe=Zt(),hQ=Zk(),EBe=mr().Buffer,SBe=new Array(16);function CA(){hQ.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o(CA,"MD5");wBe(CA,hQ);CA.prototype._update=function(){for(var t=SBe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=Ks(r,n,i,s,t[0],3614090360,7),s=Ks(s,r,n,i,t[1],3905402710,12),i=Ks(i,s,r,n,t[2],606105819,17),n=Ks(n,i,s,r,t[3],3250441966,22),r=Ks(r,n,i,s,t[4],4118548399,7),s=Ks(s,r,n,i,t[5],1200080426,12),i=Ks(i,s,r,n,t[6],2821735955,17),n=Ks(n,i,s,r,t[7],4249261313,22),r=Ks(r,n,i,s,t[8],1770035416,7),s=Ks(s,r,n,i,t[9],2336552879,12),i=Ks(i,s,r,n,t[10],4294925233,17),n=Ks(n,i,s,r,t[11],2304563134,22),r=Ks(r,n,i,s,t[12],1804603682,7),s=Ks(s,r,n,i,t[13],4254626195,12),i=Ks(i,s,r,n,t[14],2792965006,17),n=Ks(n,i,s,r,t[15],1236535329,22),r=$s(r,n,i,s,t[1],4129170786,5),s=$s(s,r,n,i,t[6],3225465664,9),i=$s(i,s,r,n,t[11],643717713,14),n=$s(n,i,s,r,t[0],3921069994,20),r=$s(r,n,i,s,t[5],3593408605,5),s=$s(s,r,n,i,t[10],38016083,9),i=$s(i,s,r,n,t[15],3634488961,14),n=$s(n,i,s,r,t[4],3889429448,20),r=$s(r,n,i,s,t[9],568446438,5),s=$s(s,r,n,i,t[14],3275163606,9),i=$s(i,s,r,n,t[3],4107603335,14),n=$s(n,i,s,r,t[8],1163531501,20),r=$s(r,n,i,s,t[13],2850285829,5),s=$s(s,r,n,i,t[2],4243563512,9),i=$s(i,s,r,n,t[7],1735328473,14),n=$s(n,i,s,r,t[12],2368359562,20),r=Gs(r,n,i,s,t[5],4294588738,4),s=Gs(s,r,n,i,t[8],2272392833,11),i=Gs(i,s,r,n,t[11],1839030562,16),n=Gs(n,i,s,r,t[14],4259657740,23),r=Gs(r,n,i,s,t[1],2763975236,4),s=Gs(s,r,n,i,t[4],1272893353,11),i=Gs(i,s,r,n,t[7],4139469664,16),n=Gs(n,i,s,r,t[10],3200236656,23),r=Gs(r,n,i,s,t[13],681279174,4),s=Gs(s,r,n,i,t[0],3936430074,11),i=Gs(i,s,r,n,t[3],3572445317,16),n=Gs(n,i,s,r,t[6],76029189,23),r=Gs(r,n,i,s,t[9],3654602809,4),s=Gs(s,r,n,i,t[12],3873151461,11),i=Gs(i,s,r,n,t[15],530742520,16),n=Gs(n,i,s,r,t[2],3299628645,23),r=Ws(r,n,i,s,t[0],4096336452,6),s=Ws(s,r,n,i,t[7],1126891415,10),i=Ws(i,s,r,n,t[14],2878612391,15),n=Ws(n,i,s,r,t[5],4237533241,21),r=Ws(r,n,i,s,t[12],1700485571,6),s=Ws(s,r,n,i,t[3],2399980690,10),i=Ws(i,s,r,n,t[10],4293915773,15),n=Ws(n,i,s,r,t[1],2240044497,21),r=Ws(r,n,i,s,t[8],1873313359,6),s=Ws(s,r,n,i,t[15],4264355552,10),i=Ws(i,s,r,n,t[6],2734768916,15),n=Ws(n,i,s,r,t[13],1309151649,21),r=Ws(r,n,i,s,t[4],4149444226,6),s=Ws(s,r,n,i,t[11],3174756917,10),i=Ws(i,s,r,n,t[2],718787259,15),n=Ws(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};CA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=EBe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function kA(t,e){return t<<e|t>>>32-e}o(kA,"rotl");function Ks(t,e,r,n,i,s,a){return kA(t+(e&r|~e&n)+i+s|0,a)+e|0}o(Ks,"fnF");function $s(t,e,r,n,i,s,a){return kA(t+(e&n|r&~n)+i+s|0,a)+e|0}o($s,"fnG");function Gs(t,e,r,n,i,s,a){return kA(t+(e^r^n)+i+s|0,a)+e|0}o(Gs,"fnH");function Ws(t,e,r,n,i,s,a){return kA(t+(r^(e|~n))+i+s|0,a)+e|0}o(Ws,"fnI");pQ.exports=CA});var Qk=j(($Tt,_Q)=>{"use strict";p();m();var Jk=li().Buffer,ABe=Zt(),vQ=Zk(),TBe=new Array(16),j_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],z_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],K_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],G_=[0,1518500249,1859775393,2400959708,2840853838],W_=[1352829926,1548603684,1836072691,2053994217,0];function PA(){vQ.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(PA,"RIPEMD160");ABe(PA,vQ);PA.prototype._update=function(){for(var t=TBe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=this._a|0,l=this._b|0,h=this._c|0,y=this._d|0,g=this._e|0,E=0;E<80;E+=1){var T,O;E<16?(T=mQ(r,n,i,s,a,t[j_[E]],G_[0],K_[E]),O=xQ(c,l,h,y,g,t[z_[E]],W_[0],$_[E])):E<32?(T=gQ(r,n,i,s,a,t[j_[E]],G_[1],K_[E]),O=bQ(c,l,h,y,g,t[z_[E]],W_[1],$_[E])):E<48?(T=yQ(r,n,i,s,a,t[j_[E]],G_[2],K_[E]),O=yQ(c,l,h,y,g,t[z_[E]],W_[2],$_[E])):E<64?(T=bQ(r,n,i,s,a,t[j_[E]],G_[3],K_[E]),O=gQ(c,l,h,y,g,t[z_[E]],W_[3],$_[E])):(T=xQ(r,n,i,s,a,t[j_[E]],G_[4],K_[E]),O=mQ(c,l,h,y,g,t[z_[E]],W_[4],$_[E])),r=a,a=s,s=Dg(i,10),i=n,n=T,c=g,g=y,y=Dg(h,10),h=l,l=O}var M=this._b+i+y|0;this._b=this._c+s+g|0,this._c=this._d+a+c|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=M};PA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Jk.alloc?Jk.alloc(20):new Jk(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Dg(t,e){return t<<e|t>>>32-e}o(Dg,"rotl");function mQ(t,e,r,n,i,s,a,c){return Dg(t+(e^r^n)+s+a|0,c)+i|0}o(mQ,"fn1");function gQ(t,e,r,n,i,s,a,c){return Dg(t+(e&r|~e&n)+s+a|0,c)+i|0}o(gQ,"fn2");function yQ(t,e,r,n,i,s,a,c){return Dg(t+((e|~r)^n)+s+a|0,c)+i|0}o(yQ,"fn3");function bQ(t,e,r,n,i,s,a,c){return Dg(t+(e&n|r&~n)+s+a|0,c)+i|0}o(bQ,"fn4");function xQ(t,e,r,n,i,s,a,c){return Dg(t+(e^(r|~n))+s+a|0,c)+i|0}o(xQ,"fn5");_Q.exports=PA});var EQ=j((XTt,wQ)=>{p();m();var IBe={}.toString;wQ.exports=Array.isArray||function(t){return IBe.call(t)=="[object Array]"}});var $0=j((QTt,SQ)=>{"use strict";p();m();SQ.exports=TypeError});var eB=j((rIt,AQ)=>{"use strict";p();m();AQ.exports=Object});var LA=j((oIt,TQ)=>{"use strict";p();m();TQ.exports=Error});var DA=j((cIt,IQ)=>{"use strict";p();m();IQ.exports=EvalError});var UA=j((lIt,RQ)=>{"use strict";p();m();RQ.exports=RangeError});var FA=j((pIt,OQ)=>{"use strict";p();m();OQ.exports=ReferenceError});var Y_=j((yIt,MQ)=>{"use strict";p();m();MQ.exports=SyntaxError});var HA=j((vIt,NQ)=>{"use strict";p();m();NQ.exports=URIError});var kQ=j((EIt,CQ)=>{"use strict";p();m();CQ.exports=Math.abs});var PQ=j((TIt,BQ)=>{"use strict";p();m();BQ.exports=Math.floor});var DQ=j((OIt,LQ)=>{"use strict";p();m();LQ.exports=Math.max});var FQ=j((CIt,UQ)=>{"use strict";p();m();UQ.exports=Math.min});var qQ=j((PIt,HQ)=>{"use strict";p();m();HQ.exports=Math.pow});var jQ=j((UIt,VQ)=>{"use strict";p();m();VQ.exports=Math.round});var KQ=j((qIt,zQ)=>{"use strict";p();m();zQ.exports=Number.isNaN||o(function(e){return e!==e},"isNaN")});var GQ=j((KIt,$Q)=>{"use strict";p();m();var RBe=KQ();$Q.exports=o(function(e){return RBe(e)||e===0?e:e<0?-1:1},"sign")});var YQ=j((YIt,WQ)=>{"use strict";p();m();WQ.exports=Object.getOwnPropertyDescriptor});var Ug=j((JIt,XQ)=>{"use strict";p();m();var qA=YQ();if(qA)try{qA([],"length")}catch{qA=null}XQ.exports=qA});var X_=j((tRt,ZQ)=>{"use strict";p();m();var VA=Object.defineProperty||!1;if(VA)try{VA({},"a",{value:1})}catch{VA=!1}ZQ.exports=VA});var tB=j((iRt,JQ)=>{"use strict";p();m();JQ.exports=o(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0},"hasSymbols")});var jA=j((cRt,eee)=>{"use strict";p();m();var QQ=typeof Symbol<"u"&&Symbol,OBe=tB();eee.exports=o(function(){return typeof QQ!="function"||typeof Symbol!="function"||typeof QQ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:OBe()},"hasNativeSymbols")});var rB=j((dRt,tee)=>{"use strict";p();m();tee.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var nB=j((mRt,ree)=>{"use strict";p();m();var MBe=eB();ree.exports=MBe.getPrototypeOf||null});var oee=j((bRt,iee)=>{"use strict";p();m();var NBe="Function.prototype.bind called on incompatible ",CBe=Object.prototype.toString,kBe=Math.max,BBe="[object Function]",nee=o(function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},"concatty"),PBe=o(function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},"slicy"),LBe=o(function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},"joiny");iee.exports=o(function(e){var r=this;if(typeof r!="function"||CBe.apply(r)!==BBe)throw new TypeError(NBe+r);for(var n=PBe(arguments,1),i,s=o(function(){if(this instanceof i){var y=r.apply(this,nee(n,arguments));return Object(y)===y?y:this}return r.apply(e,nee(n,arguments))},"binder"),a=kBe(0,r.length-n.length),c=[],l=0;l<a;l++)c[l]="$"+l;if(i=Function("binder","return function ("+LBe(c,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var G0=j((wRt,see)=>{"use strict";p();m();var DBe=oee();see.exports=Function.prototype.bind||DBe});var zA=j((ARt,aee)=>{"use strict";p();m();aee.exports=Function.prototype.call});var KA=j((RRt,cee)=>{"use strict";p();m();cee.exports=Function.prototype.apply});var uee=j((NRt,fee)=>{"use strict";p();m();fee.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var iB=j((BRt,lee)=>{"use strict";p();m();var UBe=G0(),FBe=KA(),HBe=zA(),qBe=uee();lee.exports=qBe||UBe.call(HBe,FBe)});var $A=j((DRt,dee)=>{"use strict";p();m();var VBe=G0(),jBe=$0(),zBe=zA(),KBe=iB();dee.exports=o(function(e){if(e.length<1||typeof e[0]!="function")throw new jBe("a function is required");return KBe(VBe,zBe,e)},"callBindBasic")});var bee=j((qRt,yee)=>{"use strict";p();m();var $Be=$A(),hee=Ug(),mee;try{mee=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var oB=!!mee&&hee&&hee(Object.prototype,"__proto__"),gee=Object,pee=gee.getPrototypeOf;yee.exports=oB&&typeof oB.get=="function"?$Be([oB.get]):typeof pee=="function"?o(function(e){return pee(e==null?e:gee(e))},"getDunder"):!1});var sB=j((KRt,wee)=>{"use strict";p();m();var xee=rB(),vee=nB(),_ee=bee();wee.exports=xee?o(function(e){return xee(e)},"getProto"):vee?o(function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return vee(e)},"getProto"):_ee?o(function(e){return _ee(e)},"getProto"):null});var GA=j((YRt,Eee)=>{"use strict";p();m();var GBe=Function.prototype.call,WBe=Object.prototype.hasOwnProperty,YBe=G0();Eee.exports=YBe.call(GBe,WBe)});var Mee=j((JRt,Oee)=>{"use strict";p();m();var Lr,XBe=eB(),ZBe=LA(),JBe=DA(),QBe=UA(),ePe=FA(),Db=Y_(),Lb=$0(),tPe=HA(),rPe=kQ(),nPe=PQ(),iPe=DQ(),oPe=FQ(),sPe=qQ(),aPe=jQ(),cPe=GQ(),Iee=Function,aB=o(function(t){try{return Iee('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Z_=Ug(),fPe=X_(),cB=o(function(){throw new Lb},"throwTypeError"),uPe=Z_?function(){try{return arguments.callee,cB}catch{try{return Z_(arguments,"callee").get}catch{return cB}}}():cB,Bb=jA()(),$o=sB(),lPe=nB(),dPe=rB(),Ree=KA(),J_=zA(),Pb={},hPe=typeof Uint8Array>"u"||!$o?Lr:$o(Uint8Array),Fg={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Lr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lr:ArrayBuffer,"%ArrayIteratorPrototype%":Bb&&$o?$o([][Symbol.iterator]()):Lr,"%AsyncFromSyncIteratorPrototype%":Lr,"%AsyncFunction%":Pb,"%AsyncGenerator%":Pb,"%AsyncGeneratorFunction%":Pb,"%AsyncIteratorPrototype%":Pb,"%Atomics%":typeof Atomics>"u"?Lr:Atomics,"%BigInt%":typeof BigInt>"u"?Lr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ZBe,"%eval%":eval,"%EvalError%":JBe,"%Float16Array%":typeof Float16Array>"u"?Lr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Lr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lr:FinalizationRegistry,"%Function%":Iee,"%GeneratorFunction%":Pb,"%Int8Array%":typeof Int8Array>"u"?Lr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Bb&&$o?$o($o([][Symbol.iterator]())):Lr,"%JSON%":typeof JSON=="object"?JSON:Lr,"%Map%":typeof Map>"u"?Lr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Bb||!$o?Lr:$o(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":XBe,"%Object.getOwnPropertyDescriptor%":Z_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lr:Promise,"%Proxy%":typeof Proxy>"u"?Lr:Proxy,"%RangeError%":QBe,"%ReferenceError%":ePe,"%Reflect%":typeof Reflect>"u"?Lr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Bb||!$o?Lr:$o(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Bb&&$o?$o(""[Symbol.iterator]()):Lr,"%Symbol%":Bb?Symbol:Lr,"%SyntaxError%":Db,"%ThrowTypeError%":uPe,"%TypedArray%":hPe,"%TypeError%":Lb,"%Uint8Array%":typeof Uint8Array>"u"?Lr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lr:Uint32Array,"%URIError%":tPe,"%WeakMap%":typeof WeakMap>"u"?Lr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lr:WeakSet,"%Function.prototype.call%":J_,"%Function.prototype.apply%":Ree,"%Object.defineProperty%":fPe,"%Object.getPrototypeOf%":lPe,"%Math.abs%":rPe,"%Math.floor%":nPe,"%Math.max%":iPe,"%Math.min%":oPe,"%Math.pow%":sPe,"%Math.round%":aPe,"%Math.sign%":cPe,"%Reflect.getPrototypeOf%":dPe};if($o)try{null.error}catch(t){See=$o($o(t)),Fg["%Error.prototype%"]=See}var See,pPe=o(function t(e){var r;if(e==="%AsyncFunction%")r=aB("async function () {}");else if(e==="%GeneratorFunction%")r=aB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=aB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&$o&&(r=$o(i.prototype))}return Fg[e]=r,r},"doEval"),Aee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Q_=G0(),WA=GA(),mPe=Q_.call(J_,Array.prototype.concat),gPe=Q_.call(Ree,Array.prototype.splice),Tee=Q_.call(J_,String.prototype.replace),YA=Q_.call(J_,String.prototype.slice),yPe=Q_.call(J_,RegExp.prototype.exec),bPe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xPe=/\\(\\)?/g,vPe=o(function(e){var r=YA(e,0,1),n=YA(e,-1);if(r==="%"&&n!=="%")throw new Db("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Db("invalid intrinsic syntax, expected opening `%`");var i=[];return Tee(e,bPe,function(s,a,c,l){i[i.length]=c?Tee(l,xPe,"$1"):a||s}),i},"stringToPath"),_Pe=o(function(e,r){var n=e,i;if(WA(Aee,n)&&(i=Aee[n],n="%"+i[0]+"%"),WA(Fg,n)){var s=Fg[n];if(s===Pb&&(s=pPe(n)),typeof s>"u"&&!r)throw new Lb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Db("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Oee.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Lb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Lb('"allowMissing" argument must be a boolean');if(yPe(/^%?[^%]*%?$/,e)===null)throw new Db("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=vPe(e),i=n.length>0?n[0]:"",s=_Pe("%"+i+"%",r),a=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],gPe(n,mPe([0,1],h)));for(var y=1,g=!0;y<n.length;y+=1){var E=n[y],T=YA(E,0,1),O=YA(E,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new Db("property names with quotes must have matching quotes");if((E==="constructor"||!g)&&(l=!0),i+="."+E,a="%"+i+"%",WA(Fg,a))c=Fg[a];else if(c!=null){if(!(E in c)){if(!r)throw new Lb("base intrinsic for "+e+" exists, but the property is not available.");return}if(Z_&&y+1>=n.length){var M=Z_(c,E);g=!!M,g&&"get"in M&&!("originalValue"in M.get)?c=M.get:c=c[E]}else g=WA(c,E),c=c[E];g&&!l&&(Fg[a]=c)}}return c},"GetIntrinsic")});var fB=j((r7t,kee)=>{"use strict";p();m();var Nee=Mee(),Cee=$A(),wPe=Cee([Nee("%String.prototype.indexOf%")]);kee.exports=o(function(e,r){var n=Nee(e,!!r);return typeof n=="function"&&wPe(e,".prototype.")>-1?Cee([n]):n},"callBoundIntrinsic")});var Dee=j((s7t,Lee)=>{"use strict";p();m();var Pee=Function.prototype.toString,Ub=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,lB,XA;if(typeof Ub=="function"&&typeof Object.defineProperty=="function")try{lB=Object.defineProperty({},"length",{get:o(function(){throw XA},"get")}),XA={},Ub(function(){throw 42},null,lB)}catch(t){t!==XA&&(Ub=null)}else Ub=null;var EPe=/^\s*class\b/,dB=o(function(e){try{var r=Pee.call(e);return EPe.test(r)}catch{return!1}},"isES6ClassFunction"),uB=o(function(e){try{return dB(e)?!1:(Pee.call(e),!0)}catch{return!1}},"tryFunctionToStr"),ZA=Object.prototype.toString,SPe="[object Object]",APe="[object Function]",TPe="[object GeneratorFunction]",IPe="[object HTMLAllCollection]",RPe="[object HTML document.all class]",OPe="[object HTMLCollection]",MPe=typeof Symbol=="function"&&!!Symbol.toStringTag,NPe=!(0 in[,]),hB=o(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(Bee=document.all,ZA.call(Bee)===ZA.call(document.all)&&(hB=o(function(e){if((NPe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=ZA.call(e);return(r===IPe||r===RPe||r===OPe||r===SPe)&&e("")==null}catch{}return!1},"isDocumentDotAll")));var Bee;Lee.exports=o(Ub?function(e){if(hB(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ub(e,null,lB)}catch(r){if(r!==XA)return!1}return!dB(e)&&uB(e)}:function(e){if(hB(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(MPe)return uB(e);if(dB(e))return!1;var r=ZA.call(e);return r!==APe&&r!==TPe&&!/^\[object HTML/.test(r)?!1:uB(e)},"isCallable")});var Hee=j((u7t,Fee)=>{"use strict";p();m();var CPe=Dee(),kPe=Object.prototype.toString,Uee=Object.prototype.hasOwnProperty,BPe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)Uee.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachArray"),PPe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},"forEachString"),LPe=o(function(e,r,n){for(var i in e)Uee.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachObject");function DPe(t){return kPe.call(t)==="[object Array]"}o(DPe,"isArray");Fee.exports=o(function(e,r,n){if(!CPe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),DPe(e)?BPe(e,r,i):typeof e=="string"?PPe(e,r,i):LPe(e,r,i)},"forEach")});var Vee=j((p7t,qee)=>{"use strict";p();m();qee.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var zee=j((y7t,jee)=>{"use strict";p();m();var pB=Vee(),UPe=typeof globalThis>"u"?self:globalThis;jee.exports=o(function(){for(var e=[],r=0;r<pB.length;r++)typeof UPe[pB[r]]=="function"&&(e[e.length]=pB[r]);return e},"availableTypedArrays")});var mB=j((_7t,$ee)=>{"use strict";p();m();var Kee={foo:{}},FPe=Object;$ee.exports=o(function(){return{__proto__:Kee}.foo===Kee.foo&&!({__proto__:null}instanceof FPe)},"hasProto")});var Jee=j((A7t,Zee)=>{"use strict";p();m();var qr,HPe=LA(),qPe=DA(),VPe=UA(),jPe=FA(),Vb=Y_(),qb=$0(),zPe=HA(),Xee=Function,gB=o(function(t){try{return Xee('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Hg=Object.getOwnPropertyDescriptor;if(Hg)try{Hg({},"")}catch{Hg=null}var yB=o(function(){throw new qb},"throwTypeError"),KPe=Hg?function(){try{return arguments.callee,yB}catch{try{return Hg(arguments,"callee").get}catch{return yB}}}():yB,Fb=jA()(),$Pe=mB()(),Go=Object.getPrototypeOf||($Pe?function(t){return t.__proto__}:null),Hb={},GPe=typeof Uint8Array>"u"||!Go?qr:Go(Uint8Array),qg={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?qr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?qr:ArrayBuffer,"%ArrayIteratorPrototype%":Fb&&Go?Go([][Symbol.iterator]()):qr,"%AsyncFromSyncIteratorPrototype%":qr,"%AsyncFunction%":Hb,"%AsyncGenerator%":Hb,"%AsyncGeneratorFunction%":Hb,"%AsyncIteratorPrototype%":Hb,"%Atomics%":typeof Atomics>"u"?qr:Atomics,"%BigInt%":typeof BigInt>"u"?qr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?qr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?qr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?qr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":HPe,"%eval%":eval,"%EvalError%":qPe,"%Float32Array%":typeof Float32Array>"u"?qr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?qr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?qr:FinalizationRegistry,"%Function%":Xee,"%GeneratorFunction%":Hb,"%Int8Array%":typeof Int8Array>"u"?qr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?qr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?qr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fb&&Go?Go(Go([][Symbol.iterator]())):qr,"%JSON%":typeof JSON=="object"?JSON:qr,"%Map%":typeof Map>"u"?qr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fb||!Go?qr:Go(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?qr:Promise,"%Proxy%":typeof Proxy>"u"?qr:Proxy,"%RangeError%":VPe,"%ReferenceError%":jPe,"%Reflect%":typeof Reflect>"u"?qr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?qr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fb||!Go?qr:Go(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?qr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fb&&Go?Go(""[Symbol.iterator]()):qr,"%Symbol%":Fb?Symbol:qr,"%SyntaxError%":Vb,"%ThrowTypeError%":KPe,"%TypedArray%":GPe,"%TypeError%":qb,"%Uint8Array%":typeof Uint8Array>"u"?qr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?qr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?qr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?qr:Uint32Array,"%URIError%":zPe,"%WeakMap%":typeof WeakMap>"u"?qr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?qr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?qr:WeakSet};if(Go)try{null.error}catch(t){Gee=Go(Go(t)),qg["%Error.prototype%"]=Gee}var Gee,WPe=o(function t(e){var r;if(e==="%AsyncFunction%")r=gB("async function () {}");else if(e==="%GeneratorFunction%")r=gB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=gB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Go&&(r=Go(i.prototype))}return qg[e]=r,r},"doEval"),Wee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ew=G0(),JA=GA(),YPe=ew.call(Function.call,Array.prototype.concat),XPe=ew.call(Function.apply,Array.prototype.splice),Yee=ew.call(Function.call,String.prototype.replace),QA=ew.call(Function.call,String.prototype.slice),ZPe=ew.call(Function.call,RegExp.prototype.exec),JPe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,QPe=/\\(\\)?/g,eLe=o(function(e){var r=QA(e,0,1),n=QA(e,-1);if(r==="%"&&n!=="%")throw new Vb("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Vb("invalid intrinsic syntax, expected opening `%`");var i=[];return Yee(e,JPe,function(s,a,c,l){i[i.length]=c?Yee(l,QPe,"$1"):a||s}),i},"stringToPath"),tLe=o(function(e,r){var n=e,i;if(JA(Wee,n)&&(i=Wee[n],n="%"+i[0]+"%"),JA(qg,n)){var s=qg[n];if(s===Hb&&(s=WPe(n)),typeof s>"u"&&!r)throw new qb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Vb("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Zee.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new qb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new qb('"allowMissing" argument must be a boolean');if(ZPe(/^%?[^%]*%?$/,e)===null)throw new Vb("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=eLe(e),i=n.length>0?n[0]:"",s=tLe("%"+i+"%",r),a=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],XPe(n,YPe([0,1],h)));for(var y=1,g=!0;y<n.length;y+=1){var E=n[y],T=QA(E,0,1),O=QA(E,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new Vb("property names with quotes must have matching quotes");if((E==="constructor"||!g)&&(l=!0),i+="."+E,a="%"+i+"%",JA(qg,a))c=qg[a];else if(c!=null){if(!(E in c)){if(!r)throw new qb("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hg&&y+1>=n.length){var M=Hg(c,E);g=!!M,g&&"get"in M&&!("originalValue"in M.get)?c=M.get:c=c[E]}else g=JA(c,E),c=c[E];g&&!l&&(qg[a]=c)}}return c},"GetIntrinsic")});var rte=j((O7t,tte)=>{"use strict";p();m();var Qee=X_(),rLe=Y_(),jb=$0(),ete=Ug();tte.exports=o(function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new jb("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new jb("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new jb("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new jb("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new jb("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new jb("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!ete&&ete(e,r);if(Qee)Qee(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(c||!i&&!s&&!a)e[r]=n;else throw new rLe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var xB=j((k7t,ite)=>{"use strict";p();m();var bB=X_(),nte=o(function(){return!!bB},"hasPropertyDescriptors");nte.hasArrayLengthDefineBug=o(function(){if(!bB)return null;try{return bB([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");ite.exports=nte});var fte=j((D7t,cte)=>{"use strict";p();m();var nLe=Jee(),ote=rte(),iLe=xB()(),ste=Ug(),ate=$0(),oLe=nLe("%Math.floor%");cte.exports=o(function(e,r){if(typeof e!="function")throw new ate("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||oLe(r)!==r)throw new ate("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&ste){var a=ste(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(iLe?ote(e,"length",r,!0,!0):ote(e,"length",r)),e},"setFunctionLength")});var lte=j((q7t,ute)=>{"use strict";p();m();var sLe=G0(),aLe=KA(),cLe=iB();ute.exports=o(function(){return cLe(sLe,aLe,arguments)},"applyBind")});var tw=j((K7t,e4)=>{"use strict";p();m();var fLe=fte(),dte=X_(),uLe=$A(),hte=lte();e4.exports=o(function(e){var r=uLe(arguments),n=e.length-(arguments.length-1);return fLe(r,1+(n>0?n:0),!0)},"callBind");dte?dte(e4.exports,"apply",{value:hte}):e4.exports.apply=hte});var rw=j((Y7t,pte)=>{"use strict";p();m();var lLe=tB();pte.exports=o(function(){return lLe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var EB=j((Q7t,bte)=>{"use strict";p();m();var n4=Hee(),dLe=zee(),mte=tw(),_B=fB(),r4=Ug(),t4=sB(),hLe=_B("Object.prototype.toString"),yte=rw()(),gte=typeof globalThis>"u"?self:globalThis,vB=dLe(),wB=_B("String.prototype.slice"),pLe=_B("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),i4={__proto__:null};yte&&r4&&t4?n4(vB,function(t){var e=new gte[t];if(Symbol.toStringTag in e&&t4){var r=t4(e),n=r4(r,Symbol.toStringTag);if(!n&&r){var i=t4(r);n=r4(i,Symbol.toStringTag)}i4["$"+t]=mte(n.get)}}):n4(vB,function(t){var e=new gte[t],r=e.slice||e.set;r&&(i4["$"+t]=mte(r))});var mLe=o(function(e){var r=!1;return n4(i4,function(n,i){if(!r)try{"$"+n(e)===i&&(r=wB(i,1))}catch{}}),r},"tryAllTypedArrays"),gLe=o(function(e){var r=!1;return n4(i4,function(n,i){if(!r)try{n(e),r=wB(i,1)}catch{}}),r},"tryAllSlices");bte.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!yte){var r=wB(hLe(e),8,-1);return pLe(vB,r)>-1?r:r!=="Object"?!1:gLe(e)}return r4?mLe(e):null},"whichTypedArray")});var vte=j((n9t,xte)=>{"use strict";p();m();var yLe=EB();xte.exports=o(function(e){return!!yLe(e)},"isTypedArray")});var wte=j((a9t,_te)=>{"use strict";p();m();var bLe=$0(),xLe=fB(),vLe=xLe("TypedArray.prototype.buffer",!0),_Le=vte();_te.exports=vLe||o(function(e){if(!_Le(e))throw new bLe("Not a Typed Array");return e.buffer},"typedArrayBuffer")});var o4=j((l9t,Ste)=>{"use strict";p();m();var Nu=mr().Buffer,wLe=EQ(),ELe=wte(),SLe=ArrayBuffer.isView||o(function(e){try{return ELe(e),!0}catch{return!1}},"isView"),ALe=typeof Uint8Array<"u",Ete=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",TLe=Ete&&(Nu.prototype instanceof Uint8Array||Nu.TYPED_ARRAY_SUPPORT);Ste.exports=o(function(e,r){if(Nu.isBuffer(e))return e.constructor&&!("isBuffer"in e)?Nu.from(e):e;if(typeof e=="string")return Nu.from(e,r);if(Ete&&SLe(e)){if(e.byteLength===0)return Nu.alloc(0);if(TLe){var n=Nu.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=Nu.from(i);if(s.length===e.byteLength)return s}if(ALe&&e instanceof Uint8Array)return Nu.from(e);var a=wLe(e);if(a)for(var c=0;c<e.length;c+=1){var l=e[c];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(a||Nu.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Nu.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer")});var Vg=j((m9t,Ate)=>{"use strict";p();m();var ILe=mr().Buffer,RLe=o4();function s4(t,e){this._block=ILe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o(s4,"Hash");s4.prototype.update=function(t,e){t=RLe(t,e||"utf8");for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var c=s%n,l=Math.min(i-a,n-c),h=0;h<l;h++)r[c+h]=t[a+h];s+=l,a+=l,s%n===0&&this._update(r)}return this._len+=i,this};s4.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};s4.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Ate.exports=s4});var Rte=j((x9t,Ite)=>{"use strict";p();m();var OLe=Zt(),Tte=Vg(),MLe=mr().Buffer,NLe=[1518500249,1859775393,-1894007588,-899497514],CLe=new Array(80);function nw(){this.init(),this._w=CLe,Tte.call(this,64,56)}o(nw,"Sha");OLe(nw,Tte);nw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function kLe(t){return t<<5|t>>>27}o(kLe,"rotl5");function BLe(t){return t<<30|t>>>2}o(BLe,"rotl30");function PLe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(PLe,"ft");nw.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var h=~~(l/20),y=kLe(r)+PLe(h,n,i,s)+a+e[l]+NLe[h]|0;a=s,s=i,i=BLe(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};nw.prototype._hash=function(){var t=MLe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Ite.exports=nw});var Nte=j((E9t,Mte)=>{"use strict";p();m();var LLe=Zt(),Ote=Vg(),DLe=mr().Buffer,ULe=[1518500249,1859775393,-1894007588,-899497514],FLe=new Array(80);function iw(){this.init(),this._w=FLe,Ote.call(this,64,56)}o(iw,"Sha1");LLe(iw,Ote);iw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function HLe(t){return t<<1|t>>>31}o(HLe,"rotl1");function qLe(t){return t<<5|t>>>27}o(qLe,"rotl5");function VLe(t){return t<<30|t>>>2}o(VLe,"rotl30");function jLe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(jLe,"ft");iw.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=HLe(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var h=~~(l/20),y=qLe(r)+jLe(h,n,i,s)+a+e[l]+ULe[h]|0;a=s,s=i,i=VLe(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};iw.prototype._hash=function(){var t=DLe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Mte.exports=iw});var SB=j((I9t,kte)=>{"use strict";p();m();var zLe=Zt(),Cte=Vg(),KLe=mr().Buffer,$Le=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],GLe=new Array(64);function ow(){this.init(),this._w=GLe,Cte.call(this,64,56)}o(ow,"Sha256");zLe(ow,Cte);ow.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function WLe(t,e,r){return r^t&(e^r)}o(WLe,"ch");function YLe(t,e,r){return t&e|r&(t|e)}o(YLe,"maj");function XLe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}o(XLe,"sigma0");function ZLe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}o(ZLe,"sigma1");function JLe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}o(JLe,"gamma0");function QLe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}o(QLe,"gamma1");ow.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=this._f|0,l=this._g|0,h=this._h|0,y=0;y<16;++y)e[y]=t.readInt32BE(y*4);for(;y<64;++y)e[y]=QLe(e[y-2])+e[y-7]+JLe(e[y-15])+e[y-16]|0;for(var g=0;g<64;++g){var E=h+ZLe(a)+WLe(a,c,l)+$Le[g]+e[g]|0,T=XLe(r)+YLe(r,n,i)|0;h=l,l=c,c=a,a=s+E|0,s=i,i=n,n=r,r=E+T|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};ow.prototype._hash=function(){var t=KLe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};kte.exports=ow});var Pte=j((N9t,Bte)=>{"use strict";p();m();var eDe=Zt(),tDe=SB(),rDe=Vg(),nDe=mr().Buffer,iDe=new Array(64);function a4(){this.init(),this._w=iDe,rDe.call(this,64,56)}o(a4,"Sha224");eDe(a4,tDe);a4.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};a4.prototype._hash=function(){var t=nDe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};Bte.exports=a4});var AB=j((P9t,Vte)=>{"use strict";p();m();var oDe=Zt(),qte=Vg(),sDe=mr().Buffer,Lte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],aDe=new Array(160);function sw(){this.init(),this._w=aDe,qte.call(this,128,112)}o(sw,"Sha512");oDe(sw,qte);sw.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Dte(t,e,r){return r^t&(e^r)}o(Dte,"Ch");function Ute(t,e,r){return t&e|r&(t|e)}o(Ute,"maj");function Fte(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}o(Fte,"sigma0");function Hte(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}o(Hte,"sigma1");function cDe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}o(cDe,"Gamma0");function fDe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}o(fDe,"Gamma0l");function uDe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}o(uDe,"Gamma1");function lDe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}o(lDe,"Gamma1l");function Wo(t,e){return t>>>0<e>>>0?1:0}o(Wo,"getCarry");sw.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,c=this._fh|0,l=this._gh|0,h=this._hh|0,y=this._al|0,g=this._bl|0,E=this._cl|0,T=this._dl|0,O=this._el|0,M=this._fl|0,k=this._gl|0,C=this._hl|0,B=0;B<32;B+=2)e[B]=t.readInt32BE(B*4),e[B+1]=t.readInt32BE(B*4+4);for(;B<160;B+=2){var N=e[B-30],P=e[B-15*2+1],H=cDe(N,P),F=fDe(P,N);N=e[B-2*2],P=e[B-2*2+1];var Z=uDe(N,P),W=lDe(P,N),X=e[B-7*2],S=e[B-7*2+1],f=e[B-16*2],d=e[B-16*2+1],b=F+S|0,x=H+X+Wo(b,F)|0;b=b+W|0,x=x+Z+Wo(b,W)|0,b=b+d|0,x=x+f+Wo(b,d)|0,e[B]=x,e[B+1]=b}for(var _=0;_<160;_+=2){x=e[_],b=e[_+1];var A=Ute(r,n,i),I=Ute(y,g,E),v=Fte(r,y),u=Fte(y,r),w=Hte(a,O),V=Hte(O,a),q=Lte[_],U=Lte[_+1],G=Dte(a,c,l),ee=Dte(O,M,k),re=C+V|0,Oe=h+w+Wo(re,C)|0;re=re+ee|0,Oe=Oe+G+Wo(re,ee)|0,re=re+U|0,Oe=Oe+q+Wo(re,U)|0,re=re+b|0,Oe=Oe+x+Wo(re,b)|0;var ae=u+I|0,le=v+A+Wo(ae,u)|0;h=l,C=k,l=c,k=M,c=a,M=O,O=T+re|0,a=s+Oe+Wo(O,T)|0,s=i,T=E,i=n,E=g,n=r,g=y,y=re+ae|0,r=Oe+le+Wo(y,re)|0}this._al=this._al+y|0,this._bl=this._bl+g|0,this._cl=this._cl+E|0,this._dl=this._dl+T|0,this._el=this._el+O|0,this._fl=this._fl+M|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+r+Wo(this._al,y)|0,this._bh=this._bh+n+Wo(this._bl,g)|0,this._ch=this._ch+i+Wo(this._cl,E)|0,this._dh=this._dh+s+Wo(this._dl,T)|0,this._eh=this._eh+a+Wo(this._el,O)|0,this._fh=this._fh+c+Wo(this._fl,M)|0,this._gh=this._gh+l+Wo(this._gl,k)|0,this._hh=this._hh+h+Wo(this._hl,C)|0};sw.prototype._hash=function(){var t=sDe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Vte.exports=sw});var zte=j((F9t,jte)=>{"use strict";p();m();var dDe=Zt(),hDe=AB(),pDe=Vg(),mDe=mr().Buffer,gDe=new Array(160);function c4(){this.init(),this._w=gDe,pDe.call(this,128,112)}o(c4,"Sha384");dDe(c4,hDe);c4.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};c4.prototype._hash=function(){var t=mDe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};jte.exports=c4});var f4=j((j9t,dh)=>{"use strict";p();m();dh.exports=o(function(e){var r=e.toLowerCase(),n=dh.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},"SHA");dh.exports.sha=Rte();dh.exports.sha1=Nte();dh.exports.sha224=Pte();dh.exports.sha256=SB();dh.exports.sha384=zte();dh.exports.sha512=AB()});var IB=j((G9t,Kte)=>{p();m();Kte.exports=Rf;var TB=Rb().EventEmitter,yDe=Zt();yDe(Rf,TB);Rf.Readable=wA();Rf.Writable=xA();Rf.Duplex=q0();Rf.Transform=MA();Rf.PassThrough=Wk();Rf.finished=U_();Rf.pipeline=Xk();Rf.Stream=Rf;function Rf(){TB.call(this)}o(Rf,"Stream");Rf.prototype.pipe=function(t,e){var r=this;function n(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}o(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}o(i,"ondrain"),t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}o(a,"onend");function c(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}o(c,"onclose");function l(y){if(h(),TB.listenerCount(this,"error")===0)throw y}o(l,"onerror"),r.on("error",l),t.on("error",l);function h(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return o(h,"cleanup"),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t}});var hh=j((Z9t,Gte)=>{"use strict";p();m();var bDe=mr().Buffer,$te=IB().Transform,xDe=Nb().StringDecoder,vDe=Zt(),_De=o4();function Cu(t){$te.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o(Cu,"CipherBase");vDe(Cu,$te);Cu.prototype.update=function(t,e,r){var n=_De(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Cu.prototype.setAutoPadding=function(){};Cu.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Cu.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Cu.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Cu.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Cu.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Cu.prototype._finalOrDigest=function(t){var e=this.__final()||bDe.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Cu.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new xDe(e),this._encoding=e),this._encoding!==e)throw new Error("can\u2019t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};Gte.exports=Cu});var jg=j((tOt,Yte)=>{"use strict";p();m();var wDe=Zt(),EDe=BA(),SDe=Qk(),ADe=f4(),Wte=hh();function u4(t){Wte.call(this,"digest"),this._hash=t}o(u4,"Hash");wDe(u4,Wte);u4.prototype._update=function(t){this._hash.update(t)};u4.prototype._final=function(){return this._hash.digest()};Yte.exports=o(function(e){return e=e.toLowerCase(),e==="md5"?new EDe:e==="rmd160"||e==="ripemd160"?new SDe:new u4(ADe(e))},"createHash")});var Jte=j((oOt,Zte)=>{"use strict";p();m();var TDe=Zt(),zg=mr().Buffer,Xte=hh(),IDe=zg.alloc(128),zb=64;function l4(t,e){Xte.call(this,"digest"),typeof e=="string"&&(e=zg.from(e)),this._alg=t,this._key=e,e.length>zb?e=t(e):e.length<zb&&(e=zg.concat([e,IDe],zb));for(var r=this._ipad=zg.allocUnsafe(zb),n=this._opad=zg.allocUnsafe(zb),i=0;i<zb;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}o(l4,"Hmac");TDe(l4,Xte);l4.prototype._update=function(t){this._hash.push(t)};l4.prototype._final=function(){var t=this._alg(zg.concat(this._hash));return this._alg(zg.concat([this._opad,t]))};Zte.exports=l4});var ere=j((fOt,Qte)=>{p();m();var RDe=BA();Qte.exports=function(t){return new RDe().update(t).digest()}});var MB=j((dOt,rre)=>{"use strict";p();m();var ODe=Zt(),MDe=Jte(),tre=hh(),aw=mr().Buffer,NDe=ere(),RB=Qk(),OB=f4(),CDe=aw.alloc(128);function cw(t,e){tre.call(this,"digest"),typeof e=="string"&&(e=aw.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new RB:OB(t);e=n.update(e).digest()}else e.length<r&&(e=aw.concat([e,CDe],r));for(var i=this._ipad=aw.allocUnsafe(r),s=this._opad=aw.allocUnsafe(r),a=0;a<r;a++)i[a]=e[a]^54,s[a]=e[a]^92;this._hash=t==="rmd160"?new RB:OB(t),this._hash.update(i)}o(cw,"Hmac");ODe(cw,tre);cw.prototype._update=function(t){this._hash.update(t)};cw.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new RB:OB(this._alg);return e.update(this._opad).update(t).digest()};rre.exports=o(function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new cw("rmd160",r):e==="md5"?new MDe(NDe,r):new cw(e,r)},"createHmac")});var NB=j((gOt,kDe)=>{kDe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var ire=j((yOt,nre)=>{"use strict";p();m();nre.exports=NB()});var CB=j((vOt,ore)=>{"use strict";p();m();var BDe=Math.pow(2,30)-1;ore.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>BDe||e!==e)throw new TypeError("Bad key length")}});var kB=j((EOt,are)=>{"use strict";p();m();var d4;self.process&&self.process.browser?d4="utf-8":self.process&&self.process.version?(sre=parseInt(process.version.split(".")[0].slice(1),10),d4=sre>=6?"utf-8":"binary"):d4="utf-8";var sre;are.exports=d4});var ure=j((TOt,fre)=>{"use strict";p();m();var fw=4,cre=new Buffer(fw);cre.fill(0);var PDe=8,LDe=16;function DDe(t){if(t.length%fw!==0){var e=t.length+(fw-t.length%fw);t=Buffer.concat([t,cre],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=fw,i++)r[i]=t.readInt32LE(n);return r}o(DDe,"toArray");fre.exports=o(function(e,r){var n=r(DDe(e),e.length*PDe);e=new Buffer(LDe);for(var i=0;i<n.length;i++)e.writeInt32LE(n[i],i<<2,!0);return e},"hash")});var dre=j((MOt,lre)=>{"use strict";p();m();var UDe=ure();function FDe(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<t.length;a+=16){var c=r,l=n,h=i,y=s;r=Ys(r,n,i,s,t[a+0],7,-680876936),s=Ys(s,r,n,i,t[a+1],12,-389564586),i=Ys(i,s,r,n,t[a+2],17,606105819),n=Ys(n,i,s,r,t[a+3],22,-1044525330),r=Ys(r,n,i,s,t[a+4],7,-176418897),s=Ys(s,r,n,i,t[a+5],12,1200080426),i=Ys(i,s,r,n,t[a+6],17,-1473231341),n=Ys(n,i,s,r,t[a+7],22,-45705983),r=Ys(r,n,i,s,t[a+8],7,1770035416),s=Ys(s,r,n,i,t[a+9],12,-1958414417),i=Ys(i,s,r,n,t[a+10],17,-42063),n=Ys(n,i,s,r,t[a+11],22,-1990404162),r=Ys(r,n,i,s,t[a+12],7,1804603682),s=Ys(s,r,n,i,t[a+13],12,-40341101),i=Ys(i,s,r,n,t[a+14],17,-1502002290),n=Ys(n,i,s,r,t[a+15],22,1236535329),r=Xs(r,n,i,s,t[a+1],5,-165796510),s=Xs(s,r,n,i,t[a+6],9,-1069501632),i=Xs(i,s,r,n,t[a+11],14,643717713),n=Xs(n,i,s,r,t[a+0],20,-373897302),r=Xs(r,n,i,s,t[a+5],5,-701558691),s=Xs(s,r,n,i,t[a+10],9,38016083),i=Xs(i,s,r,n,t[a+15],14,-660478335),n=Xs(n,i,s,r,t[a+4],20,-405537848),r=Xs(r,n,i,s,t[a+9],5,568446438),s=Xs(s,r,n,i,t[a+14],9,-1019803690),i=Xs(i,s,r,n,t[a+3],14,-187363961),n=Xs(n,i,s,r,t[a+8],20,1163531501),r=Xs(r,n,i,s,t[a+13],5,-1444681467),s=Xs(s,r,n,i,t[a+2],9,-51403784),i=Xs(i,s,r,n,t[a+7],14,1735328473),n=Xs(n,i,s,r,t[a+12],20,-1926607734),r=Zs(r,n,i,s,t[a+5],4,-378558),s=Zs(s,r,n,i,t[a+8],11,-2022574463),i=Zs(i,s,r,n,t[a+11],16,1839030562),n=Zs(n,i,s,r,t[a+14],23,-35309556),r=Zs(r,n,i,s,t[a+1],4,-1530992060),s=Zs(s,r,n,i,t[a+4],11,1272893353),i=Zs(i,s,r,n,t[a+7],16,-155497632),n=Zs(n,i,s,r,t[a+10],23,-1094730640),r=Zs(r,n,i,s,t[a+13],4,681279174),s=Zs(s,r,n,i,t[a+0],11,-358537222),i=Zs(i,s,r,n,t[a+3],16,-722521979),n=Zs(n,i,s,r,t[a+6],23,76029189),r=Zs(r,n,i,s,t[a+9],4,-640364487),s=Zs(s,r,n,i,t[a+12],11,-421815835),i=Zs(i,s,r,n,t[a+15],16,530742520),n=Zs(n,i,s,r,t[a+2],23,-995338651),r=Js(r,n,i,s,t[a+0],6,-198630844),s=Js(s,r,n,i,t[a+7],10,1126891415),i=Js(i,s,r,n,t[a+14],15,-1416354905),n=Js(n,i,s,r,t[a+5],21,-57434055),r=Js(r,n,i,s,t[a+12],6,1700485571),s=Js(s,r,n,i,t[a+3],10,-1894986606),i=Js(i,s,r,n,t[a+10],15,-1051523),n=Js(n,i,s,r,t[a+1],21,-2054922799),r=Js(r,n,i,s,t[a+8],6,1873313359),s=Js(s,r,n,i,t[a+15],10,-30611744),i=Js(i,s,r,n,t[a+6],15,-1560198380),n=Js(n,i,s,r,t[a+13],21,1309151649),r=Js(r,n,i,s,t[a+4],6,-145523070),s=Js(s,r,n,i,t[a+11],10,-1120210379),i=Js(i,s,r,n,t[a+2],15,718787259),n=Js(n,i,s,r,t[a+9],21,-343485551),r=W0(r,c),n=W0(n,l),i=W0(i,h),s=W0(s,y)}return[r,n,i,s]}o(FDe,"core_md5");function h4(t,e,r,n,i,s){return W0(HDe(W0(W0(e,t),W0(n,s)),i),r)}o(h4,"md5_cmn");function Ys(t,e,r,n,i,s,a){return h4(e&r|~e&n,t,e,i,s,a)}o(Ys,"md5_ff");function Xs(t,e,r,n,i,s,a){return h4(e&n|r&~n,t,e,i,s,a)}o(Xs,"md5_gg");function Zs(t,e,r,n,i,s,a){return h4(e^r^n,t,e,i,s,a)}o(Zs,"md5_hh");function Js(t,e,r,n,i,s,a){return h4(r^(e|~n),t,e,i,s,a)}o(Js,"md5_ii");function W0(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}o(W0,"safe_add");function HDe(t,e){return t<<e|t>>>32-e}o(HDe,"bit_rol");lre.exports=o(function(e){return UDe(e,FDe)},"md5")});var mre=j((BOt,pre)=>{"use strict";p();m();var hre=IB().Transform,qDe=Zt();function Y0(t){hre.call(this),this._block=new Buffer(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(Y0,"HashBase");qDe(Y0,hre);Y0.prototype._transform=function(t,e,r){var n=null;try{e!=="buffer"&&(t=new Buffer(t,e)),this.update(t)}catch(i){n=i}r(n)};Y0.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(r){e=r}t(e)};Y0.prototype.update=function(t,e){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=new Buffer(t,e||"binary"));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};Y0.prototype._update=function(t){throw new Error("_update is not implemented")};Y0.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return t!==void 0&&(e=e.toString(t)),e};Y0.prototype._digest=function(){throw new Error("_digest is not implemented")};pre.exports=Y0});var bre=j((UOt,yre)=>{"use strict";p();m();var VDe=Zt(),gre=mre();function p4(){gre.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(p4,"RIPEMD160");VDe(p4,gre);p4.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d,a=this._e;r=an(r,n,i,s,a,t[0],0,11),i=xe(i,10),a=an(a,r,n,i,s,t[1],0,14),n=xe(n,10),s=an(s,a,r,n,i,t[2],0,15),r=xe(r,10),i=an(i,s,a,r,n,t[3],0,12),a=xe(a,10),n=an(n,i,s,a,r,t[4],0,5),s=xe(s,10),r=an(r,n,i,s,a,t[5],0,8),i=xe(i,10),a=an(a,r,n,i,s,t[6],0,7),n=xe(n,10),s=an(s,a,r,n,i,t[7],0,9),r=xe(r,10),i=an(i,s,a,r,n,t[8],0,11),a=xe(a,10),n=an(n,i,s,a,r,t[9],0,13),s=xe(s,10),r=an(r,n,i,s,a,t[10],0,14),i=xe(i,10),a=an(a,r,n,i,s,t[11],0,15),n=xe(n,10),s=an(s,a,r,n,i,t[12],0,6),r=xe(r,10),i=an(i,s,a,r,n,t[13],0,7),a=xe(a,10),n=an(n,i,s,a,r,t[14],0,9),s=xe(s,10),r=an(r,n,i,s,a,t[15],0,8),i=xe(i,10),a=cn(a,r,n,i,s,t[7],1518500249,7),n=xe(n,10),s=cn(s,a,r,n,i,t[4],1518500249,6),r=xe(r,10),i=cn(i,s,a,r,n,t[13],1518500249,8),a=xe(a,10),n=cn(n,i,s,a,r,t[1],1518500249,13),s=xe(s,10),r=cn(r,n,i,s,a,t[10],1518500249,11),i=xe(i,10),a=cn(a,r,n,i,s,t[6],1518500249,9),n=xe(n,10),s=cn(s,a,r,n,i,t[15],1518500249,7),r=xe(r,10),i=cn(i,s,a,r,n,t[3],1518500249,15),a=xe(a,10),n=cn(n,i,s,a,r,t[12],1518500249,7),s=xe(s,10),r=cn(r,n,i,s,a,t[0],1518500249,12),i=xe(i,10),a=cn(a,r,n,i,s,t[9],1518500249,15),n=xe(n,10),s=cn(s,a,r,n,i,t[5],1518500249,9),r=xe(r,10),i=cn(i,s,a,r,n,t[2],1518500249,11),a=xe(a,10),n=cn(n,i,s,a,r,t[14],1518500249,7),s=xe(s,10),r=cn(r,n,i,s,a,t[11],1518500249,13),i=xe(i,10),a=cn(a,r,n,i,s,t[8],1518500249,12),n=xe(n,10),s=fn(s,a,r,n,i,t[3],1859775393,11),r=xe(r,10),i=fn(i,s,a,r,n,t[10],1859775393,13),a=xe(a,10),n=fn(n,i,s,a,r,t[14],1859775393,6),s=xe(s,10),r=fn(r,n,i,s,a,t[4],1859775393,7),i=xe(i,10),a=fn(a,r,n,i,s,t[9],1859775393,14),n=xe(n,10),s=fn(s,a,r,n,i,t[15],1859775393,9),r=xe(r,10),i=fn(i,s,a,r,n,t[8],1859775393,13),a=xe(a,10),n=fn(n,i,s,a,r,t[1],1859775393,15),s=xe(s,10),r=fn(r,n,i,s,a,t[2],1859775393,14),i=xe(i,10),a=fn(a,r,n,i,s,t[7],1859775393,8),n=xe(n,10),s=fn(s,a,r,n,i,t[0],1859775393,13),r=xe(r,10),i=fn(i,s,a,r,n,t[6],1859775393,6),a=xe(a,10),n=fn(n,i,s,a,r,t[13],1859775393,5),s=xe(s,10),r=fn(r,n,i,s,a,t[11],1859775393,12),i=xe(i,10),a=fn(a,r,n,i,s,t[5],1859775393,7),n=xe(n,10),s=fn(s,a,r,n,i,t[12],1859775393,5),r=xe(r,10),i=un(i,s,a,r,n,t[1],2400959708,11),a=xe(a,10),n=un(n,i,s,a,r,t[9],2400959708,12),s=xe(s,10),r=un(r,n,i,s,a,t[11],2400959708,14),i=xe(i,10),a=un(a,r,n,i,s,t[10],2400959708,15),n=xe(n,10),s=un(s,a,r,n,i,t[0],2400959708,14),r=xe(r,10),i=un(i,s,a,r,n,t[8],2400959708,15),a=xe(a,10),n=un(n,i,s,a,r,t[12],2400959708,9),s=xe(s,10),r=un(r,n,i,s,a,t[4],2400959708,8),i=xe(i,10),a=un(a,r,n,i,s,t[13],2400959708,9),n=xe(n,10),s=un(s,a,r,n,i,t[3],2400959708,14),r=xe(r,10),i=un(i,s,a,r,n,t[7],2400959708,5),a=xe(a,10),n=un(n,i,s,a,r,t[15],2400959708,6),s=xe(s,10),r=un(r,n,i,s,a,t[14],2400959708,8),i=xe(i,10),a=un(a,r,n,i,s,t[5],2400959708,6),n=xe(n,10),s=un(s,a,r,n,i,t[6],2400959708,5),r=xe(r,10),i=un(i,s,a,r,n,t[2],2400959708,12),a=xe(a,10),n=ln(n,i,s,a,r,t[4],2840853838,9),s=xe(s,10),r=ln(r,n,i,s,a,t[0],2840853838,15),i=xe(i,10),a=ln(a,r,n,i,s,t[5],2840853838,5),n=xe(n,10),s=ln(s,a,r,n,i,t[9],2840853838,11),r=xe(r,10),i=ln(i,s,a,r,n,t[7],2840853838,6),a=xe(a,10),n=ln(n,i,s,a,r,t[12],2840853838,8),s=xe(s,10),r=ln(r,n,i,s,a,t[2],2840853838,13),i=xe(i,10),a=ln(a,r,n,i,s,t[10],2840853838,12),n=xe(n,10),s=ln(s,a,r,n,i,t[14],2840853838,5),r=xe(r,10),i=ln(i,s,a,r,n,t[1],2840853838,12),a=xe(a,10),n=ln(n,i,s,a,r,t[3],2840853838,13),s=xe(s,10),r=ln(r,n,i,s,a,t[8],2840853838,14),i=xe(i,10),a=ln(a,r,n,i,s,t[11],2840853838,11),n=xe(n,10),s=ln(s,a,r,n,i,t[6],2840853838,8),r=xe(r,10),i=ln(i,s,a,r,n,t[15],2840853838,5),a=xe(a,10),n=ln(n,i,s,a,r,t[13],2840853838,6),s=xe(s,10);var c=this._a,l=this._b,h=this._c,y=this._d,g=this._e;c=ln(c,l,h,y,g,t[5],1352829926,8),h=xe(h,10),g=ln(g,c,l,h,y,t[14],1352829926,9),l=xe(l,10),y=ln(y,g,c,l,h,t[7],1352829926,9),c=xe(c,10),h=ln(h,y,g,c,l,t[0],1352829926,11),g=xe(g,10),l=ln(l,h,y,g,c,t[9],1352829926,13),y=xe(y,10),c=ln(c,l,h,y,g,t[2],1352829926,15),h=xe(h,10),g=ln(g,c,l,h,y,t[11],1352829926,15),l=xe(l,10),y=ln(y,g,c,l,h,t[4],1352829926,5),c=xe(c,10),h=ln(h,y,g,c,l,t[13],1352829926,7),g=xe(g,10),l=ln(l,h,y,g,c,t[6],1352829926,7),y=xe(y,10),c=ln(c,l,h,y,g,t[15],1352829926,8),h=xe(h,10),g=ln(g,c,l,h,y,t[8],1352829926,11),l=xe(l,10),y=ln(y,g,c,l,h,t[1],1352829926,14),c=xe(c,10),h=ln(h,y,g,c,l,t[10],1352829926,14),g=xe(g,10),l=ln(l,h,y,g,c,t[3],1352829926,12),y=xe(y,10),c=ln(c,l,h,y,g,t[12],1352829926,6),h=xe(h,10),g=un(g,c,l,h,y,t[6],1548603684,9),l=xe(l,10),y=un(y,g,c,l,h,t[11],1548603684,13),c=xe(c,10),h=un(h,y,g,c,l,t[3],1548603684,15),g=xe(g,10),l=un(l,h,y,g,c,t[7],1548603684,7),y=xe(y,10),c=un(c,l,h,y,g,t[0],1548603684,12),h=xe(h,10),g=un(g,c,l,h,y,t[13],1548603684,8),l=xe(l,10),y=un(y,g,c,l,h,t[5],1548603684,9),c=xe(c,10),h=un(h,y,g,c,l,t[10],1548603684,11),g=xe(g,10),l=un(l,h,y,g,c,t[14],1548603684,7),y=xe(y,10),c=un(c,l,h,y,g,t[15],1548603684,7),h=xe(h,10),g=un(g,c,l,h,y,t[8],1548603684,12),l=xe(l,10),y=un(y,g,c,l,h,t[12],1548603684,7),c=xe(c,10),h=un(h,y,g,c,l,t[4],1548603684,6),g=xe(g,10),l=un(l,h,y,g,c,t[9],1548603684,15),y=xe(y,10),c=un(c,l,h,y,g,t[1],1548603684,13),h=xe(h,10),g=un(g,c,l,h,y,t[2],1548603684,11),l=xe(l,10),y=fn(y,g,c,l,h,t[15],1836072691,9),c=xe(c,10),h=fn(h,y,g,c,l,t[5],1836072691,7),g=xe(g,10),l=fn(l,h,y,g,c,t[1],1836072691,15),y=xe(y,10),c=fn(c,l,h,y,g,t[3],1836072691,11),h=xe(h,10),g=fn(g,c,l,h,y,t[7],1836072691,8),l=xe(l,10),y=fn(y,g,c,l,h,t[14],1836072691,6),c=xe(c,10),h=fn(h,y,g,c,l,t[6],1836072691,6),g=xe(g,10),l=fn(l,h,y,g,c,t[9],1836072691,14),y=xe(y,10),c=fn(c,l,h,y,g,t[11],1836072691,12),h=xe(h,10),g=fn(g,c,l,h,y,t[8],1836072691,13),l=xe(l,10),y=fn(y,g,c,l,h,t[12],1836072691,5),c=xe(c,10),h=fn(h,y,g,c,l,t[2],1836072691,14),g=xe(g,10),l=fn(l,h,y,g,c,t[10],1836072691,13),y=xe(y,10),c=fn(c,l,h,y,g,t[0],1836072691,13),h=xe(h,10),g=fn(g,c,l,h,y,t[4],1836072691,7),l=xe(l,10),y=fn(y,g,c,l,h,t[13],1836072691,5),c=xe(c,10),h=cn(h,y,g,c,l,t[8],2053994217,15),g=xe(g,10),l=cn(l,h,y,g,c,t[6],2053994217,5),y=xe(y,10),c=cn(c,l,h,y,g,t[4],2053994217,8),h=xe(h,10),g=cn(g,c,l,h,y,t[1],2053994217,11),l=xe(l,10),y=cn(y,g,c,l,h,t[3],2053994217,14),c=xe(c,10),h=cn(h,y,g,c,l,t[11],2053994217,14),g=xe(g,10),l=cn(l,h,y,g,c,t[15],2053994217,6),y=xe(y,10),c=cn(c,l,h,y,g,t[0],2053994217,14),h=xe(h,10),g=cn(g,c,l,h,y,t[5],2053994217,6),l=xe(l,10),y=cn(y,g,c,l,h,t[12],2053994217,9),c=xe(c,10),h=cn(h,y,g,c,l,t[2],2053994217,12),g=xe(g,10),l=cn(l,h,y,g,c,t[13],2053994217,9),y=xe(y,10),c=cn(c,l,h,y,g,t[9],2053994217,12),h=xe(h,10),g=cn(g,c,l,h,y,t[7],2053994217,5),l=xe(l,10),y=cn(y,g,c,l,h,t[10],2053994217,15),c=xe(c,10),h=cn(h,y,g,c,l,t[14],2053994217,8),g=xe(g,10),l=an(l,h,y,g,c,t[12],0,8),y=xe(y,10),c=an(c,l,h,y,g,t[15],0,5),h=xe(h,10),g=an(g,c,l,h,y,t[10],0,12),l=xe(l,10),y=an(y,g,c,l,h,t[4],0,9),c=xe(c,10),h=an(h,y,g,c,l,t[1],0,12),g=xe(g,10),l=an(l,h,y,g,c,t[5],0,5),y=xe(y,10),c=an(c,l,h,y,g,t[8],0,14),h=xe(h,10),g=an(g,c,l,h,y,t[7],0,6),l=xe(l,10),y=an(y,g,c,l,h,t[6],0,8),c=xe(c,10),h=an(h,y,g,c,l,t[2],0,13),g=xe(g,10),l=an(l,h,y,g,c,t[13],0,6),y=xe(y,10),c=an(c,l,h,y,g,t[14],0,5),h=xe(h,10),g=an(g,c,l,h,y,t[0],0,15),l=xe(l,10),y=an(y,g,c,l,h,t[3],0,13),c=xe(c,10),h=an(h,y,g,c,l,t[9],0,11),g=xe(g,10),l=an(l,h,y,g,c,t[11],0,11),y=xe(y,10);var E=this._b+i+y|0;this._b=this._c+s+g|0,this._c=this._d+a+c|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=E};p4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function xe(t,e){return t<<e|t>>>32-e}o(xe,"rotl");function an(t,e,r,n,i,s,a,c){return xe(t+(e^r^n)+s+a|0,c)+i|0}o(an,"fn1");function cn(t,e,r,n,i,s,a,c){return xe(t+(e&r|~e&n)+s+a|0,c)+i|0}o(cn,"fn2");function fn(t,e,r,n,i,s,a,c){return xe(t+((e|~r)^n)+s+a|0,c)+i|0}o(fn,"fn3");function un(t,e,r,n,i,s,a,c){return xe(t+(e&n|r&~n)+s+a|0,c)+i|0}o(un,"fn4");function ln(t,e,r,n,i,s,a,c){return xe(t+(e^(r|~n))+s+a|0,c)+i|0}o(ln,"fn5");yre.exports=p4});var BB=j((VOt,_re)=>{"use strict";p();m();var jDe=mr().Buffer,zDe=o4(),vre=typeof Uint8Array<"u",KDe=vre&&typeof ArrayBuffer<"u",xre=KDe&&ArrayBuffer.isView;_re.exports=function(t,e,r){if(typeof t=="string"||jDe.isBuffer(t)||vre&&t instanceof Uint8Array||xre&&xre(t))return zDe(t,e);throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}});var PB=j((KOt,Are)=>{"use strict";p();m();var $De=dre(),GDe=bre(),WDe=f4(),Kg=mr().Buffer,YDe=CB(),wre=kB(),Ere=BB(),XDe=Kg.alloc(128),m4={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},ZDe={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function JDe(t){return new GDe().update(t).digest()}o(JDe,"rmd160Func");function QDe(t){function e(r){return WDe(t).update(r).digest()}return o(e,"shaFunc"),t==="rmd160"||t==="ripemd160"?JDe:t==="md5"?$De:e}o(QDe,"getDigest");function Sre(t,e,r){var n=QDe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Kg.concat([e,XDe],i));for(var s=Kg.allocUnsafe(i+m4[t]),a=Kg.allocUnsafe(i+m4[t]),c=0;c<i;c++)s[c]=e[c]^54,a[c]=e[c]^92;var l=Kg.allocUnsafe(i+r+4);s.copy(l,0,0,i),this.ipad1=l,this.ipad2=s,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=m4[t]}o(Sre,"Hmac");Sre.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function eUe(t,e,r,n,i){YDe(r,n),t=Ere(t,wre,"Password"),e=Ere(e,wre,"Salt");var s=(i||"sha1").toLowerCase(),a=ZDe[s]||s,c=m4[a];if(typeof c!="number"||!c)throw new TypeError("Digest algorithm not supported: "+i);var l=new Sre(a,t,e.length),h=Kg.allocUnsafe(n),y=Kg.allocUnsafe(e.length+4);e.copy(y,0,0,e.length);for(var g=0,E=c,T=Math.ceil(n/E),O=1;O<=T;O++){y.writeUInt32BE(O,e.length);for(var M=l.run(y,l.ipad1),k=M,C=1;C<r;C++){k=l.run(k,l.ipad2);for(var B=0;B<E;B++)M[B]^=k[B]}M.copy(h,g),g+=E}return h}o(eUe,"pbkdf2");Are.exports=eUe});var Cre=j((YOt,Nre)=>{"use strict";p();m();var Ore=mr().Buffer,tUe=CB(),Tre=kB(),Ire=PB(),Rre=BB(),g4,uw=self.crypto&&self.crypto.subtle,rUe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},LB=[],$g;function DB(){return $g||(self.process&&self.process.nextTick?$g=self.process.nextTick:self.queueMicrotask?$g=self.queueMicrotask:self.setImmediate?$g=self.setImmediate:$g=self.setTimeout,$g)}o(DB,"getNextTick");function Mre(t,e,r,n,i){return uw.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return uw.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Ore.from(s)})}o(Mre,"browserPbkdf2");function nUe(t){if(self.process&&!self.process.browser||!uw||!uw.importKey||!uw.deriveBits)return Promise.resolve(!1);if(LB[t]!==void 0)return LB[t];g4=g4||Ore.alloc(8);var e=Mre(g4,g4,10,128,t).then(function(){return!0},function(){return!1});return LB[t]=e,e}o(nUe,"checkNative");function iUe(t,e){t.then(function(r){DB()(function(){e(null,r)})},function(r){DB()(function(){e(r)})})}o(iUe,"resolvePromise");Nre.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var a=rUe[i.toLowerCase()];if(!a||typeof self.Promise!="function"){DB()(function(){var c;try{c=Ire(t,e,r,n,i)}catch(l){s(l);return}s(null,c)});return}if(tUe(r,n),t=Rre(t,Tre,"Password"),e=Rre(e,Tre,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");iUe(nUe(a).then(function(c){return c?Mre(t,e,r,n,a):Ire(t,e,r,n,i)}),s)}});var y4=j(UB=>{"use strict";p();m();UB.pbkdf2=Cre();UB.pbkdf2Sync=PB()});var FB=j(Of=>{"use strict";p();m();Of.readUInt32BE=o(function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0},"readUInt32BE");Of.writeUInt32BE=o(function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255},"writeUInt32BE");Of.ip=o(function(e,r,n,i){for(var s=0,a=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)a<<=1,a|=r>>>l+c&1;for(var l=1;l<=25;l+=8)a<<=1,a|=e>>>l+c&1}n[i+0]=s>>>0,n[i+1]=a>>>0},"ip");Of.rip=o(function(e,r,n,i){for(var s=0,a=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+c&1,s<<=1,s|=e>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)a<<=1,a|=r>>>l+c&1,a<<=1,a|=e>>>l+c&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"rip");Of.pc1=o(function(e,r,n,i){for(var s=0,a=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)a<<=1,a|=r>>l+c&1;for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+c&1}for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+c&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc1");Of.r28shl=o(function(e,r){return e<<r&268435455|e>>>28-r},"r28shl");var b4=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Of.pc2=o(function(e,r,n,i){for(var s=0,a=0,c=b4.length>>>1,l=0;l<c;l++)s<<=1,s|=e>>>b4[l]&1;for(var l=c;l<b4.length;l++)a<<=1,a|=r>>>b4[l]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc2");Of.expand=o(function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var kre=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Of.substitute=o(function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,a=kre[i*64+s];n<<=4,n|=a}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,a=kre[4*64+i*64+s];n<<=4,n|=a}return n>>>0},"substitute");var Bre=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Of.permute=o(function(e){for(var r=0,n=0;n<Bre.length;n++)r<<=1,r|=e>>>Bre[n]&1;return r>>>0},"permute");Of.padSplit=o(function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],a=0;a<r;a+=n)s.push(i.slice(a,a+n));return s.join(" ")},"padSplit")});var $c=j((sMt,Lre)=>{p();m();Lre.exports=Pre;function Pre(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Pre,"assert");Pre.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual")});var x4=j((uMt,Dre)=>{"use strict";p();m();var oUe=$c();function Mf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}o(Mf,"Cipher");Dre.exports=Mf;Mf.prototype._init=o(function(){},"_init");Mf.prototype.update=o(function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)},"update");Mf.prototype._buffer=o(function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n},"_buffer");Mf.prototype._flushBuffer=o(function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize},"_flushBuffer");Mf.prototype._updateEncrypt=o(function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s},"_updateEncrypt");Mf.prototype._updateDecrypt=o(function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s},"_updateDecrypt");Mf.prototype.final=o(function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");Mf.prototype._pad=o(function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0},"_pad");Mf.prototype._finalEncrypt=o(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},"_finalEncrypt");Mf.prototype._unpad=o(function(e){return e},"_unpad");Mf.prototype._finalDecrypt=o(function(){oUe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)},"_finalDecrypt")});var HB=j((pMt,Hre)=>{"use strict";p();m();var Ure=$c(),sUe=Zt(),Io=FB(),Fre=x4();function aUe(){this.tmp=new Array(2),this.keys=null}o(aUe,"DESState");function Ul(t){Fre.call(this,t);var e=new aUe;this._desState=e,this.deriveKeys(e,t.key)}o(Ul,"DES");sUe(Ul,Fre);Hre.exports=Ul;Ul.create=o(function(e){return new Ul(e)},"create");var cUe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Ul.prototype.deriveKeys=o(function(e,r){e.keys=new Array(16*2),Ure.equal(r.length,this.blockSize,"Invalid key length");var n=Io.readUInt32BE(r,0),i=Io.readUInt32BE(r,4);Io.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=cUe[s>>>1];n=Io.r28shl(n,a),i=Io.r28shl(i,a),Io.pc2(n,i,e.keys,s)}},"deriveKeys");Ul.prototype._update=o(function(e,r,n,i){var s=this._desState,a=Io.readUInt32BE(e,r),c=Io.readUInt32BE(e,r+4);Io.ip(a,c,s.tmp,0),a=s.tmp[0],c=s.tmp[1],this.type==="encrypt"?this._encrypt(s,a,c,s.tmp,0):this._decrypt(s,a,c,s.tmp,0),a=s.tmp[0],c=s.tmp[1],Io.writeUInt32BE(n,a,i),Io.writeUInt32BE(n,c,i+4)},"_update");Ul.prototype._pad=o(function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0},"_pad");Ul.prototype._unpad=o(function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Ure.equal(e[n],r);return e.slice(0,e.length-r)},"_unpad");Ul.prototype._encrypt=o(function(e,r,n,i,s){for(var a=r,c=n,l=0;l<e.keys.length;l+=2){var h=e.keys[l],y=e.keys[l+1];Io.expand(c,e.tmp,0),h^=e.tmp[0],y^=e.tmp[1];var g=Io.substitute(h,y),E=Io.permute(g),T=c;c=(a^E)>>>0,a=T}Io.rip(c,a,i,s)},"_encrypt");Ul.prototype._decrypt=o(function(e,r,n,i,s){for(var a=n,c=r,l=e.keys.length-2;l>=0;l-=2){var h=e.keys[l],y=e.keys[l+1];Io.expand(a,e.tmp,0),h^=e.tmp[0],y^=e.tmp[1];var g=Io.substitute(h,y),E=Io.permute(g),T=a;a=(c^E)>>>0,c=T}Io.rip(a,c,i,s)},"_decrypt")});var Vre=j(qre=>{"use strict";p();m();var fUe=$c(),uUe=Zt(),v4={};function lUe(t){fUe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}o(lUe,"CBCState");function dUe(t){function e(s){t.call(this,s),this._cbcInit()}o(e,"CBC"),uUe(e,t);for(var r=Object.keys(v4),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=v4[i]}return e.create=o(function(a){return new e(a)},"create"),e}o(dUe,"instantiate");qre.instantiate=dUe;v4._cbcInit=o(function(){var e=new lUe(this.options.iv);this._cbcState=e},"_cbcInit");v4._update=o(function(e,r,n,i){var s=this._cbcState,a=this.constructor.super_.prototype,c=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)c[l]^=e[r+l];a._update.call(this,c,0,n,i);for(var l=0;l<this.blockSize;l++)c[l]=n[i+l]}else{a._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=c[l];for(var l=0;l<this.blockSize;l++)c[l]=e[r+l]}},"_update")});var Kre=j((wMt,zre)=>{"use strict";p();m();var hUe=$c(),pUe=Zt(),jre=x4(),X0=HB();function mUe(t,e){hUe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[X0.create({type:"encrypt",key:r}),X0.create({type:"decrypt",key:n}),X0.create({type:"encrypt",key:i})]:this.ciphers=[X0.create({type:"decrypt",key:i}),X0.create({type:"encrypt",key:n}),X0.create({type:"decrypt",key:r})]}o(mUe,"EDEState");function Gg(t){jre.call(this,t);var e=new mUe(this.type,this.options.key);this._edeState=e}o(Gg,"EDE");pUe(Gg,jre);zre.exports=Gg;Gg.create=o(function(e){return new Gg(e)},"create");Gg.prototype._update=o(function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");Gg.prototype._pad=X0.prototype._pad;Gg.prototype._unpad=X0.prototype._unpad});var $re=j(Kb=>{"use strict";p();m();Kb.utils=FB();Kb.Cipher=x4();Kb.DES=HB();Kb.CBC=Vre();Kb.EDE=Kre()});var Yre=j((OMt,Wre)=>{p();m();var Gre=hh(),ph=$re(),gUe=Zt(),Wg=mr().Buffer,lw={"des-ede3-cbc":ph.CBC.instantiate(ph.EDE),"des-ede3":ph.EDE,"des-ede-cbc":ph.CBC.instantiate(ph.EDE),"des-ede":ph.EDE,"des-cbc":ph.CBC.instantiate(ph.DES),"des-ecb":ph.DES};lw.des=lw["des-cbc"];lw.des3=lw["des-ede3-cbc"];Wre.exports=_4;gUe(_4,Gre);function _4(t){Gre.call(this);var e=t.mode.toLowerCase(),r=lw[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Wg.isBuffer(i)||(i=Wg.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Wg.concat([i,i.slice(0,8)]));var s=t.iv;Wg.isBuffer(s)||(s=Wg.from(s)),this._des=r.create({key:i,iv:s,type:n})}o(_4,"DES");_4.prototype._update=function(t){return Wg.from(this._des.update(t))};_4.prototype._final=function(){return Wg.from(this._des.final())}});var Xre=j(qB=>{p();m();qB.encrypt=function(t,e){return t._cipher.encryptBlock(e)};qB.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var $b=j((LMt,Zre)=>{p();m();Zre.exports=o(function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},"xor")});var Qre=j(VB=>{p();m();var Jre=$b();VB.encrypt=function(t,e){var r=Jre(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};VB.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Jre(n,r)}});var rne=j(tne=>{p();m();var dw=mr().Buffer,yUe=$b();function ene(t,e,r){var n=e.length,i=yUe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=dw.concat([t._prev,r?e:i]),i}o(ene,"encryptStart");tne.encrypt=function(t,e,r){for(var n=dw.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=dw.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=dw.concat([n,ene(t,e.slice(0,i),r)]),e=e.slice(i);else{n=dw.concat([n,ene(t,e,r)]);break}return n}});var ine=j(nne=>{p();m();var jB=mr().Buffer;function bUe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=jB.concat([t._prev.slice(1),jB.from([r?e:i])]),i}o(bUe,"encryptByte");nne.encrypt=function(t,e,r){for(var n=e.length,i=jB.allocUnsafe(n),s=-1;++s<n;)i[s]=bUe(t,e[s],r);return i}});var sne=j(one=>{p();m();var w4=mr().Buffer;function xUe(t,e,r){for(var n,i=-1,s=8,a=0,c,l;++i<s;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-i?128:0,l=n[0]^c,a+=(l&128)>>i%8,t._prev=vUe(t._prev,r?c:l);return a}o(xUe,"encryptByte");function vUe(t,e){var r=t.length,n=-1,i=w4.allocUnsafe(t.length);for(t=w4.concat([t,w4.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}o(vUe,"shiftIn");one.encrypt=function(t,e,r){for(var n=e.length,i=w4.allocUnsafe(n),s=-1;++s<n;)i[s]=xUe(t,e[s],r);return i}});var cne=j(ane=>{p();m();var _Ue=$b();function wUe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}o(wUe,"getBlock");ane.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,wUe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),_Ue(e,r)}});var zB=j((oNt,fne)=>{p();m();function EUe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}o(EUe,"incr32");fne.exports=EUe});var $B=j(lne=>{p();m();var SUe=$b(),une=mr().Buffer,AUe=zB();function TUe(t){var e=t._cipher.encryptBlockRaw(t._prev);return AUe(t._prev),e}o(TUe,"getBlock");var KB=16;lne.encrypt=function(t,e){var r=Math.ceil(e.length/KB),n=t._cache.length;t._cache=une.concat([t._cache,une.allocUnsafe(r*KB)]);for(var i=0;i<r;i++){var s=TUe(t),a=n+i*KB;t._cache.writeUInt32BE(s[0],a+0),t._cache.writeUInt32BE(s[1],a+4),t._cache.writeUInt32BE(s[2],a+8),t._cache.writeUInt32BE(s[3],a+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),SUe(e,c)}});var GB=j((hNt,IUe)=>{IUe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var S4=j((pNt,dne)=>{p();m();var RUe={ECB:Xre(),CBC:Qre(),CFB:rne(),CFB8:ine(),CFB1:sne(),OFB:cne(),CTR:$B(),GCM:$B()},E4=GB();for(WB in E4)E4[WB].module=RUe[E4[WB].mode];var WB;dne.exports=E4});var hw=j((yNt,pne)=>{p();m();var A4=mr().Buffer;function XB(t){A4.isBuffer(t)||(t=A4.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}o(XB,"asUInt32Array");function YB(t){for(var e=0;e<t.length;t++)t[e]=0}o(YB,"scrubVec");function hne(t,e,r,n,i){for(var s=r[0],a=r[1],c=r[2],l=r[3],h=t[0]^e[0],y=t[1]^e[1],g=t[2]^e[2],E=t[3]^e[3],T,O,M,k,C=4,B=1;B<i;B++)T=s[h>>>24]^a[y>>>16&255]^c[g>>>8&255]^l[E&255]^e[C++],O=s[y>>>24]^a[g>>>16&255]^c[E>>>8&255]^l[h&255]^e[C++],M=s[g>>>24]^a[E>>>16&255]^c[h>>>8&255]^l[y&255]^e[C++],k=s[E>>>24]^a[h>>>16&255]^c[y>>>8&255]^l[g&255]^e[C++],h=T,y=O,g=M,E=k;return T=(n[h>>>24]<<24|n[y>>>16&255]<<16|n[g>>>8&255]<<8|n[E&255])^e[C++],O=(n[y>>>24]<<24|n[g>>>16&255]<<16|n[E>>>8&255]<<8|n[h&255])^e[C++],M=(n[g>>>24]<<24|n[E>>>16&255]<<16|n[h>>>8&255]<<8|n[y&255])^e[C++],k=(n[E>>>24]<<24|n[h>>>16&255]<<16|n[y>>>8&255]<<8|n[g&255])^e[C++],T=T>>>0,O=O>>>0,M=M>>>0,k=k>>>0,[T,O,M,k]}o(hne,"cryptBlock");var OUe=[0,1,2,4,8,16,32,64,128,27,54],go=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,c=0,l=0;l<256;++l){var h=c^c<<1^c<<2^c<<3^c<<4;h=h>>>8^h&255^99,r[a]=h,n[h]=a;var y=t[a],g=t[y],E=t[g],T=t[h]*257^h*16843008;i[0][a]=T<<24|T>>>8,i[1][a]=T<<16|T>>>16,i[2][a]=T<<8|T>>>24,i[3][a]=T,T=E*16843009^g*65537^y*257^a*16843008,s[0][h]=T<<24|T>>>8,s[1][h]=T<<16|T>>>16,s[2][h]=T<<8|T>>>24,s[3][h]=T,a===0?a=c=1:(a=y^t[t[t[E^y]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function Nf(t){this._key=XB(t),this._reset()}o(Nf,"AES");Nf.blockSize=4*4;Nf.keySize=256/8;Nf.prototype.blockSize=Nf.blockSize;Nf.prototype.keySize=Nf.keySize;Nf.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var a=i[s-1];s%e===0?(a=a<<8|a>>>24,a=go.SBOX[a>>>24]<<24|go.SBOX[a>>>16&255]<<16|go.SBOX[a>>>8&255]<<8|go.SBOX[a&255],a^=OUe[s/e|0]<<24):e>6&&s%e===4&&(a=go.SBOX[a>>>24]<<24|go.SBOX[a>>>16&255]<<16|go.SBOX[a>>>8&255]<<8|go.SBOX[a&255]),i[s]=i[s-e]^a}for(var c=[],l=0;l<n;l++){var h=n-l,y=i[h-(l%4?0:4)];l<4||h<=4?c[l]=y:c[l]=go.INV_SUB_MIX[0][go.SBOX[y>>>24]]^go.INV_SUB_MIX[1][go.SBOX[y>>>16&255]]^go.INV_SUB_MIX[2][go.SBOX[y>>>8&255]]^go.INV_SUB_MIX[3][go.SBOX[y&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c};Nf.prototype.encryptBlockRaw=function(t){return t=XB(t),hne(t,this._keySchedule,go.SUB_MIX,go.SBOX,this._nRounds)};Nf.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=A4.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Nf.prototype.decryptBlock=function(t){t=XB(t);var e=t[1];t[1]=t[3],t[3]=e;var r=hne(t,this._invKeySchedule,go.INV_SUB_MIX,go.INV_SBOX,this._nRounds),n=A4.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Nf.prototype.scrub=function(){YB(this._keySchedule),YB(this._invKeySchedule),YB(this._key)};pne.exports.AES=Nf});var yne=j((_Nt,gne)=>{p();m();var Gb=mr().Buffer,MUe=Gb.alloc(16,0);function NUe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}o(NUe,"toArray");function mne(t){var e=Gb.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}o(mne,"fromArray");function pw(t){this.h=t,this.state=Gb.alloc(16,0),this.cache=Gb.allocUnsafe(0)}o(pw,"GHASH");pw.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};pw.prototype._multiply=function(){for(var t=NUe(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=mne(e)};pw.prototype.update=function(t){this.cache=Gb.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};pw.prototype.final=function(t,e){return this.cache.length&&this.ghash(Gb.concat([this.cache,MUe],16)),this.ghash(mne([0,t,0,e])),this.state};gne.exports=pw});var ZB=j((ANt,vne)=>{p();m();var CUe=hw(),sc=mr().Buffer,bne=hh(),kUe=Zt(),xne=yne(),BUe=$b(),PUe=zB();function LUe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}o(LUe,"xorTest");function DUe(t,e,r){if(e.length===12)return t._finID=sc.concat([e,sc.from([0,0,0,1])]),sc.concat([e,sc.from([0,0,0,2])]);var n=new xne(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(sc.alloc(s,0))),n.update(sc.alloc(8,0));var a=i*8,c=sc.alloc(8);c.writeUIntBE(a,0,8),n.update(c),t._finID=n.state;var l=sc.from(t._finID);return PUe(l),l}o(DUe,"calcIv");function Yg(t,e,r,n){bne.call(this);var i=sc.alloc(4,0);this._cipher=new CUe.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new xne(s),r=DUe(this,r,s),this._prev=sc.from(r),this._cache=sc.allocUnsafe(0),this._secCache=sc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(Yg,"StreamCipher");kUe(Yg,bne);Yg.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=sc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Yg.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=BUe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&LUe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Yg.prototype.getAuthTag=o(function(){if(this._decrypt||!sc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");Yg.prototype.setAuthTag=o(function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},"setAuthTag");Yg.prototype.setAAD=o(function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},"setAAD");vne.exports=Yg});var QB=j((ONt,wne)=>{p();m();var UUe=hw(),JB=mr().Buffer,_ne=hh(),FUe=Zt();function T4(t,e,r,n){_ne.call(this),this._cipher=new UUe.AES(e),this._prev=JB.from(r),this._cache=JB.allocUnsafe(0),this._secCache=JB.allocUnsafe(0),this._decrypt=n,this._mode=t}o(T4,"StreamCipher");FUe(T4,_ne);T4.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};T4.prototype._final=function(){this._cipher.scrub()};wne.exports=T4});var mw=j((kNt,Ene)=>{p();m();var Xg=mr().Buffer,HUe=BA();function qUe(t,e,r,n){if(Xg.isBuffer(t)||(t=Xg.from(t,"binary")),e&&(Xg.isBuffer(e)||(e=Xg.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Xg.alloc(i),a=Xg.alloc(n||0),c=Xg.alloc(0);i>0||n>0;){var l=new HUe;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var h=0;if(i>0){var y=s.length-i;h=Math.min(i,c.length),c.copy(s,y,0,h),i-=h}if(h<c.length&&n>0){var g=a.length-n,E=Math.min(n,c.length-h);c.copy(a,g,h,h+E),n-=E}}return c.fill(0),{key:s,iv:a}}o(qUe,"EVP_BytesToKey");Ene.exports=qUe});var Ine=j(eP=>{p();m();var Sne=S4(),VUe=ZB(),mh=mr().Buffer,jUe=QB(),Ane=hh(),zUe=hw(),KUe=mw(),$Ue=Zt();function gw(t,e,r){Ane.call(this),this._cache=new I4,this._cipher=new zUe.AES(e),this._prev=mh.from(r),this._mode=t,this._autopadding=!0}o(gw,"Cipher");$Ue(gw,Ane);gw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return mh.concat(n)};var GUe=mh.alloc(16,16);gw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(GUe))throw this._cipher.scrub(),new Error("data not multiple of block length")};gw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function I4(){this.cache=mh.allocUnsafe(0)}o(I4,"Splitter");I4.prototype.add=function(t){this.cache=mh.concat([this.cache,t])};I4.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};I4.prototype.flush=function(){for(var t=16-this.cache.length,e=mh.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return mh.concat([this.cache,e])};function Tne(t,e,r){var n=Sne[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=mh.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=mh.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new jUe(n.module,e,r):n.type==="auth"?new VUe(n.module,e,r):new gw(n.module,e,r)}o(Tne,"createCipheriv");function WUe(t,e){var r=Sne[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=KUe(e,!1,r.key,r.iv);return Tne(t,n.key,n.iv)}o(WUe,"createCipher");eP.createCipheriv=Tne;eP.createCipher=WUe});var Nne=j(tP=>{p();m();var YUe=ZB(),Wb=mr().Buffer,Rne=S4(),XUe=QB(),One=hh(),ZUe=hw(),JUe=mw(),QUe=Zt();function yw(t,e,r){One.call(this),this._cache=new R4,this._last=void 0,this._cipher=new ZUe.AES(e),this._prev=Wb.from(r),this._mode=t,this._autopadding=!0}o(yw,"Decipher");QUe(yw,One);yw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Wb.concat(n)};yw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return eFe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};yw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function R4(){this.cache=Wb.allocUnsafe(0)}o(R4,"Splitter");R4.prototype.add=function(t){this.cache=Wb.concat([this.cache,t])};R4.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};R4.prototype.flush=function(){if(this.cache.length)return this.cache};function eFe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}o(eFe,"unpad");function Mne(t,e,r){var n=Rne[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Wb.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Wb.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new XUe(n.module,e,r,!0):n.type==="auth"?new YUe(n.module,e,r,!0):new yw(n.module,e,r)}o(Mne,"createDecipheriv");function tFe(t,e){var r=Rne[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=JUe(e,!1,r.key,r.iv);return Mne(t,n.key,n.iv)}o(tFe,"createDecipher");tP.createDecipher=tFe;tP.createDecipheriv=Mne});var O4=j(ku=>{p();m();var Cne=Ine(),kne=Nne(),rFe=GB();function nFe(){return Object.keys(rFe)}o(nFe,"getCiphers");ku.createCipher=ku.Cipher=Cne.createCipher;ku.createCipheriv=ku.Cipheriv=Cne.createCipheriv;ku.createDecipher=ku.Decipher=kne.createDecipher;ku.createDecipheriv=ku.Decipheriv=kne.createDecipheriv;ku.listCiphers=ku.getCiphers=nFe});var Bne=j(gh=>{p();m();gh["des-ecb"]={key:8,iv:0};gh["des-cbc"]=gh.des={key:8,iv:8};gh["des-ede3-cbc"]=gh.des3={key:24,iv:8};gh["des-ede3"]={key:24,iv:0};gh["des-ede-cbc"]={key:16,iv:8};gh["des-ede"]={key:16,iv:0}});var Fne=j(Bu=>{p();m();var Pne=Yre(),rP=O4(),Z0=S4(),yh=Bne(),Lne=mw();function iFe(t,e){t=t.toLowerCase();var r,n;if(Z0[t])r=Z0[t].key,n=Z0[t].iv;else if(yh[t])r=yh[t].key*8,n=yh[t].iv;else throw new TypeError("invalid suite type");var i=Lne(e,!1,r,n);return Dne(t,i.key,i.iv)}o(iFe,"createCipher");function oFe(t,e){t=t.toLowerCase();var r,n;if(Z0[t])r=Z0[t].key,n=Z0[t].iv;else if(yh[t])r=yh[t].key*8,n=yh[t].iv;else throw new TypeError("invalid suite type");var i=Lne(e,!1,r,n);return Une(t,i.key,i.iv)}o(oFe,"createDecipher");function Dne(t,e,r){if(t=t.toLowerCase(),Z0[t])return rP.createCipheriv(t,e,r);if(yh[t])return new Pne({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}o(Dne,"createCipheriv");function Une(t,e,r){if(t=t.toLowerCase(),Z0[t])return rP.createDecipheriv(t,e,r);if(yh[t])return new Pne({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}o(Une,"createDecipheriv");function sFe(){return Object.keys(yh).concat(rP.getCiphers())}o(sFe,"getCiphers");Bu.createCipher=Bu.Cipher=iFe;Bu.createCipheriv=Bu.Cipheriv=Dne;Bu.createDecipher=Bu.Decipher=oFe;Bu.createDecipheriv=Bu.Decipheriv=Une;Bu.listCiphers=Bu.getCiphers=sFe});var iP=j((Hne,nP)=>{p();m();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=gb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var I=S.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[u]=v;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-x;u++)I[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[_-u-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var G=u-U|0;x=S.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,Qr=x[8]|0,J=Qr&8191,Q=Qr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,$e=po&8191,Ge=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Te)|0,u=u+Math.imul(q,Ne)|0,u=u+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Te)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Te)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,Ge)|0,u=u+Math.imul(U,$e)|0,w=w+Math.imul(U,Ge)|0;var st=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Me,ve)|0,w=Math.imul(Me,Se),v=v+Math.imul(he,Te)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Ge)|0,u=u+Math.imul(re,$e)|0,w=w+Math.imul(re,Ge)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Ge)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Te)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,$e)|0,u=u+Math.imul(he,Ge)|0,u=u+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ge)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Te)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,$e)|0,u=u+Math.imul(Ae,Ge)|0,u=u+Math.imul(Me,$e)|0,w=w+Math.imul(Me,Ge)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),u=Math.imul(J,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Te)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,$e)|0,u=u+Math.imul(qe,Ge)|0,u=u+Math.imul(ke,$e)|0,w=w+Math.imul(ke,Ge)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(J,Te)|0,u=u+Math.imul(J,Ne)|0,u=u+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,$e)|0,u=u+Math.imul(Ue,Ge)|0,u=u+Math.imul(Pe,$e)|0,w=w+Math.imul(Pe,Ge)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Te),u=Math.imul(ne,Ne),u=u+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,u=u+Math.imul(J,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,$e)|0,u=u+Math.imul(Be,Ge)|0,u=u+Math.imul(Le,$e)|0,w=w+Math.imul(Le,Ge)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,$e)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Ge)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,$e),u=Math.imul(ne,Ge),u=u+Math.imul(de,$e)|0,w=Math.imul(de,Ge),v=v+Math.imul(J,He)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,u=u+Math.imul(J,K)|0,u=u+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),u=Math.imul(ne,K),u=u+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,u=u+Math.imul(J,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,u=u+Math.imul(J,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-u[G]*q[G];u[G]=v[G]*q[G]+u[G]*V[G],v[G]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(u),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof nP>"u"||nP,Hne)});var Vne=j((qne,oP)=>{p();m();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=gb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var I=S.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[u]=v;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-x;u++)I[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[_-u-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var G=u-U|0;x=S.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,Qr=x[8]|0,J=Qr&8191,Q=Qr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,$e=po&8191,Ge=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Te)|0,u=u+Math.imul(q,Ne)|0,u=u+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Te)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Te)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,Ge)|0,u=u+Math.imul(U,$e)|0,w=w+Math.imul(U,Ge)|0;var st=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Me,ve)|0,w=Math.imul(Me,Se),v=v+Math.imul(he,Te)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Ge)|0,u=u+Math.imul(re,$e)|0,w=w+Math.imul(re,Ge)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Ge)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Te)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,$e)|0,u=u+Math.imul(he,Ge)|0,u=u+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ge)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Te)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,$e)|0,u=u+Math.imul(Ae,Ge)|0,u=u+Math.imul(Me,$e)|0,w=w+Math.imul(Me,Ge)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),u=Math.imul(J,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Te)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,$e)|0,u=u+Math.imul(qe,Ge)|0,u=u+Math.imul(ke,$e)|0,w=w+Math.imul(ke,Ge)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(J,Te)|0,u=u+Math.imul(J,Ne)|0,u=u+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,$e)|0,u=u+Math.imul(Ue,Ge)|0,u=u+Math.imul(Pe,$e)|0,w=w+Math.imul(Pe,Ge)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Te),u=Math.imul(ne,Ne),u=u+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,u=u+Math.imul(J,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,$e)|0,u=u+Math.imul(Be,Ge)|0,u=u+Math.imul(Le,$e)|0,w=w+Math.imul(Le,Ge)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,$e)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Ge)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,$e),u=Math.imul(ne,Ge),u=u+Math.imul(de,$e)|0,w=Math.imul(de,Ge),v=v+Math.imul(J,He)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,u=u+Math.imul(J,K)|0,u=u+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),u=Math.imul(ne,K),u=u+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,u=u+Math.imul(J,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,u=u+Math.imul(J,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-u[G]*q[G];u[G]=v[G]*q[G]+u[G]*V[G],v[G]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(u),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof oP>"u"||oP,qne)});var M4=j((cCt,cP)=>{p();m();var sP;cP.exports=o(function(e){return sP||(sP=new J0(null)),sP.generate(e)},"rand");function J0(t){this.rand=t}o(J0,"Rand");cP.exports.Rand=J0;J0.prototype.generate=o(function(e){return this._rand(e)},"generate");J0.prototype._rand=o(function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?J0.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?J0.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof self=="object"&&(J0.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(aP=Yb(),typeof aP.randomBytes!="function")throw new Error("Not supported");J0.prototype._rand=o(function(e){return aP.randomBytes(e)},"_rand")}catch{}var aP});var fP=j((dCt,jne)=>{p();m();var Zg=Vne(),aFe=M4();function Jg(t){this.rand=t||new aFe.Rand}o(Jg,"MillerRabin");jne.exports=Jg;Jg.create=o(function(e){return new Jg(e)},"create");Jg.prototype._randbelow=o(function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Zg(this.rand.generate(n));while(i.cmp(e)>=0);return i},"_randbelow");Jg.prototype._randrange=o(function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))},"_randrange");Jg.prototype.test=o(function(e,r,n){var i=e.bitLength(),s=Zg.mont(e),a=new Zg(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var c=e.subn(1),l=0;!c.testn(l);l++);for(var h=e.shrn(l),y=c.toRed(s),g=!0;r>0;r--){var E=this._randrange(new Zg(2),c);n&&n(E);var T=E.toRed(s).redPow(h);if(!(T.cmp(a)===0||T.cmp(y)===0)){for(var O=1;O<l;O++){if(T=T.redSqr(),T.cmp(a)===0)return!1;if(T.cmp(y)===0)break}if(O===l)return!1}}return g},"test");Jg.prototype.getDivisor=o(function(e,r){var n=e.bitLength(),i=Zg.mont(e),s=new Zg(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var l=e.shrn(c),h=a.toRed(i);r>0;r--){var y=this._randrange(new Zg(2),a),g=e.gcd(y);if(g.cmpn(1)!==0)return g;var E=y.toRed(i).redPow(l);if(!(E.cmp(s)===0||E.cmp(h)===0)){for(var T=1;T<c;T++){if(E=E.redSqr(),E.cmp(s)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(h)===0)break}if(T===c)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1},"getDivisor")});var mP=j((vCt,$ne)=>{p();m();var cFe=Cg();$ne.exports=pP;pP.simpleSieve=dP;pP.fermatTest=hP;var ds=iP(),fFe=new ds(24),uFe=fP(),zne=new uFe,lFe=new ds(1),lP=new ds(2),dFe=new ds(5),gCt=new ds(16),yCt=new ds(8),hFe=new ds(10),pFe=new ds(3),bCt=new ds(7),mFe=new ds(11),Kne=new ds(4),xCt=new ds(12),uP=null;function gFe(){if(uP!==null)return uP;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return uP=e,e}o(gFe,"_getPrimes");function dP(t){for(var e=gFe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}o(dP,"simpleSieve");function hP(t){var e=ds.mont(t);return lP.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}o(hP,"fermatTest");function pP(t,e){if(t<16)return e===2||e===5?new ds([140,123]):new ds([140,39]);e=new ds(e);for(var r,n;;){for(r=new ds(cFe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(lFe),r.testn(1)||r.iadd(lP),e.cmp(lP)){if(!e.cmp(dFe))for(;r.mod(hFe).cmp(pFe);)r.iadd(Kne)}else for(;r.mod(fFe).cmp(mFe);)r.iadd(Kne);if(n=r.shrn(1),dP(n)&&dP(r)&&hP(n)&&hP(r)&&zne.test(n)&&zne.test(r))return r}}o(pP,"findPrime")});var Gne=j((SCt,yFe)=>{yFe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var Zne=j((ACt,Xne)=>{p();m();var Cf=iP(),bFe=fP(),Wne=new bFe,xFe=new Cf(24),vFe=new Cf(11),_Fe=new Cf(10),wFe=new Cf(3),EFe=new Cf(7),Yne=mP(),SFe=Cg();Xne.exports=bh;function AFe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new Cf(t),this}o(AFe,"setPublicKey");function TFe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new Cf(t),this}o(TFe,"setPrivateKey");var N4={};function IFe(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in N4)return N4[n];var i=0;if(t.isEven()||!Yne.simpleSieve||!Yne.fermatTest(t)||!Wne.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,N4[n]=i,i;Wne.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(xFe).cmp(vFe)&&(i+=8);break;case"05":s=t.mod(_Fe),s.cmp(wFe)&&s.cmp(EFe)&&(i+=8);break;default:i+=4}return N4[n]=i,i}o(IFe,"checkPrime");function bh(t,e,r){this.setGenerator(e),this.__prime=new Cf(t),this._prime=Cf.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=AFe,this.setPrivateKey=TFe):this._primeCode=8}o(bh,"DH");Object.defineProperty(bh.prototype,"verifyError",{enumerable:!0,get:o(function(){return typeof this._primeCode!="number"&&(this._primeCode=IFe(this.__prime,this.__gen)),this._primeCode},"get")});bh.prototype.generateKeys=function(){return this._priv||(this._priv=new Cf(SFe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};bh.prototype.computeSecret=function(t){t=new Cf(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};bh.prototype.getPublicKey=o(function(e){return C4(this._pub,e)},"getPublicKey");bh.prototype.getPrivateKey=o(function(e){return C4(this._priv,e)},"getPrivateKey");bh.prototype.getPrime=function(t){return C4(this.__prime,t)};bh.prototype.getGenerator=function(t){return C4(this._gen,t)};bh.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new Cf(t),this};function C4(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}o(C4,"formatReturnValue")});var eie=j(Xb=>{p();m();var RFe=mP(),Jne=Gne(),gP=Zne();function OFe(t){var e=new Buffer(Jne[t].prime,"hex"),r=new Buffer(Jne[t].gen,"hex");return new gP(e,r)}o(OFe,"getDiffieHellman");var MFe={binary:!0,hex:!0,base64:!0};function Qne(t,e,r,n){return Buffer.isBuffer(e)||MFe[e]===void 0?Qne(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new gP(RFe(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new gP(t,r,!0)))}o(Qne,"createDiffieHellman");Xb.DiffieHellmanGroup=Xb.createDiffieHellmanGroup=Xb.getDiffieHellman=OFe;Xb.createDiffieHellman=Xb.DiffieHellman=Qne});var yP=j((kCt,tie)=>{p();m();tie.exports=Rb().EventEmitter});var aie=j((LCt,sie)=>{"use strict";p();m();function rie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(rie,"ownKeys");function nie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rie(Object(r),!0).forEach(function(n){NFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(nie,"_objectSpread");function NFe(t,e,r){return e=oie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(NFe,"_defineProperty");function CFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(CFe,"_classCallCheck");function iie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oie(n.key),n)}}o(iie,"_defineProperties");function kFe(t,e,r){return e&&iie(t.prototype,e),r&&iie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(kFe,"_createClass");function oie(t){var e=BFe(t,"string");return typeof e=="symbol"?e:String(e)}o(oie,"_toPropertyKey");function BFe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(BFe,"_toPrimitive");var PFe=li(),k4=PFe.Buffer,LFe=B_(),bP=LFe.inspect,DFe=bP&&bP.custom||"inspect";function UFe(t,e,r){k4.prototype.copy.call(t,e,r)}o(UFe,"copyBuffer");sie.exports=function(){function t(){CFe(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),kFe(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return k4.alloc(0);for(var n=k4.allocUnsafe(r>>>0),i=this.head,s=0;i;)UFe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,c=r>a.length?a.length:r;if(c===a.length?s+=a:s+=a.slice(0,r),r-=c,r===0){c===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(c));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=k4.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,c=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,c),r-=c,r===0){c===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(c));break}++s}return this.length-=s,n},"_getBuffer")},{key:DFe,value:o(function(r,n){return bP(this,nie(nie({},n),{},{depth:0,customInspect:!1}))},"value")}]),t}()});var vP=j((HCt,fie)=>{"use strict";p();m();function FFe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(xP,this,t)):process.nextTick(xP,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(B4,r):(r._writableState.errorEmitted=!0,process.nextTick(cie,r,s)):process.nextTick(cie,r,s):e?(process.nextTick(B4,r),e(s)):process.nextTick(B4,r)}),this)}o(FFe,"destroy");function cie(t,e){xP(t,e),B4(t)}o(cie,"emitErrorAndCloseNT");function B4(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(B4,"emitCloseNT");function HFe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(HFe,"undestroy");function xP(t,e){t.emit("error",e)}o(xP,"emitErrorNT");function qFe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(qFe,"errorOrDestroy");fie.exports={destroy:FFe,undestroy:HFe,errorOrDestroy:qFe}});var Qg=j((zCt,die)=>{"use strict";p();m();function VFe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(VFe,"_inheritsLoose");var lie={};function kf(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){VFe(a,s);function a(c,l,h){return s.call(this,n(c,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,lie[t]=i}o(kf,"createErrorType");function uie(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(uie,"oneOf");function jFe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(jFe,"startsWith");function zFe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(zFe,"endsWith");function KFe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(KFe,"includes");kf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);kf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&jFe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(zFe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(uie(e,"type"));else{var s=KFe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(uie(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);kf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");kf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});kf("ERR_STREAM_PREMATURE_CLOSE","Premature close");kf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});kf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");kf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");kf("ERR_STREAM_WRITE_AFTER_END","write after end");kf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);kf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);kf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");die.exports.codes=lie});var _P=j((WCt,hie)=>{"use strict";p();m();var $Fe=Qg().codes.ERR_INVALID_OPT_VALUE;function GFe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(GFe,"highWaterMarkFrom");function WFe(t,e,r,n){var i=GFe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new $Fe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(WFe,"getHighWaterMark");hie.exports={getHighWaterMark:WFe}});var SP=j((JCt,xie)=>{"use strict";p();m();xie.exports=Yi;function mie(t){var e=this;this.next=null,this.entry=null,this.finish=function(){_He(e,t)}}o(mie,"CorkedRequest");var Zb;Yi.WritableState=xw;var YFe={deprecate:Nk()},gie=yP(),L4=li().Buffer,XFe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function ZFe(t){return L4.from(t)}o(ZFe,"_uint8ArrayToBuffer");function JFe(t){return L4.isBuffer(t)||t instanceof XFe}o(JFe,"_isUint8Array");var EP=vP(),QFe=_P(),eHe=QFe.getHighWaterMark,Q0=Qg().codes,tHe=Q0.ERR_INVALID_ARG_TYPE,rHe=Q0.ERR_METHOD_NOT_IMPLEMENTED,nHe=Q0.ERR_MULTIPLE_CALLBACK,iHe=Q0.ERR_STREAM_CANNOT_PIPE,oHe=Q0.ERR_STREAM_DESTROYED,sHe=Q0.ERR_STREAM_NULL_VALUES,aHe=Q0.ERR_STREAM_WRITE_AFTER_END,cHe=Q0.ERR_UNKNOWN_ENCODING,Jb=EP.errorOrDestroy;Zt()(Yi,gie);function fHe(){}o(fHe,"nop");function xw(t,e,r){Zb=Zb||ey(),t=t||{},typeof r!="boolean"&&(r=e instanceof Zb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=eHe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){gHe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new mie(this)}o(xw,"WritableState");xw.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(xw.prototype,"buffer",{get:YFe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var P4;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P4=Function.prototype[Symbol.hasInstance],Object.defineProperty(Yi,Symbol.hasInstance,{value:o(function(e){return P4.call(this,e)?!0:this!==Yi?!1:e&&e._writableState instanceof xw},"value")})):P4=o(function(e){return e instanceof this},"realHasInstance");function Yi(t){Zb=Zb||ey();var e=this instanceof Zb;if(!e&&!P4.call(Yi,this))return new Yi(t);this._writableState=new xw(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),gie.call(this)}o(Yi,"Writable");Yi.prototype.pipe=function(){Jb(this,new iHe)};function uHe(t,e){var r=new aHe;Jb(t,r),process.nextTick(e,r)}o(uHe,"writeAfterEnd");function lHe(t,e,r,n){var i;return r===null?i=new sHe:typeof r!="string"&&!e.objectMode&&(i=new tHe("chunk",["string","Buffer"],r)),i?(Jb(t,i),process.nextTick(n,i),!1):!0}o(lHe,"validChunk");Yi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&JFe(t);return s&&!L4.isBuffer(t)&&(t=ZFe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=fHe),n.ending?uHe(this,r):(s||lHe(this,n,t,r))&&(n.pendingcb++,i=hHe(this,n,s,t,e,r)),i};Yi.prototype.cork=function(){this._writableState.corked++};Yi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&yie(this,t))};Yi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new cHe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Yi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function dHe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=L4.from(e,r)),e}o(dHe,"decodeChunk");Object.defineProperty(Yi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function hHe(t,e,r,n,i,s){if(!r){var a=dHe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else wP(t,e,!1,c,n,i,s);return l}o(hHe,"writeOrBuffer");function wP(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new oHe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(wP,"doWrite");function pHe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(bw,t,e),t._writableState.errorEmitted=!0,Jb(t,n)):(i(n),t._writableState.errorEmitted=!0,Jb(t,n),bw(t,e))}o(pHe,"onwriteError");function mHe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(mHe,"onwriteStateUpdate");function gHe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new nHe;if(mHe(r),e)pHe(t,r,n,e,i);else{var s=bie(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&yie(t,r),n?process.nextTick(pie,t,r,s,i):pie(t,r,s,i)}}o(gHe,"onwrite");function pie(t,e,r,n){r||yHe(t,e),e.pendingcb--,n(),bw(t,e)}o(pie,"afterWrite");function yHe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(yHe,"onwriteDrain");function yie(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,wP(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new mie(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,y=r.callback,g=e.objectMode?1:l.length;if(wP(t,e,!1,g,l,h,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(yie,"clearBuffer");Yi.prototype._write=function(t,e,r){r(new rHe("_write()"))};Yi.prototype._writev=null;Yi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||vHe(this,n,r),this};Object.defineProperty(Yi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function bie(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(bie,"needFinish");function bHe(t,e){t._final(function(r){e.pendingcb--,r&&Jb(t,r),e.prefinished=!0,t.emit("prefinish"),bw(t,e)})}o(bHe,"callFinal");function xHe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(bHe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(xHe,"prefinish");function bw(t,e){var r=bie(e);if(r&&(xHe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(bw,"finishMaybe");function vHe(t,e,r){e.ending=!0,bw(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(vHe,"endWritable");function _He(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(_He,"onCorkedFinish");Object.defineProperty(Yi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Yi.prototype.destroy=EP.destroy;Yi.prototype._undestroy=EP.undestroy;Yi.prototype._destroy=function(t,e){e(t)}});var ey=j((rkt,_ie)=>{"use strict";p();m();var wHe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};_ie.exports=Fl;var vie=IP(),TP=SP();Zt()(Fl,vie);for(AP=wHe(TP.prototype),D4=0;D4<AP.length;D4++)U4=AP[D4],Fl.prototype[U4]||(Fl.prototype[U4]=TP.prototype[U4]);var AP,U4,D4;function Fl(t){if(!(this instanceof Fl))return new Fl(t);vie.call(this,t),TP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",EHe)))}o(Fl,"Duplex");Object.defineProperty(Fl.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(Fl.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(Fl.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function EHe(){this._writableState.ended||process.nextTick(SHe,this)}o(EHe,"onend");function SHe(t){t.end()}o(SHe,"onEndNT");Object.defineProperty(Fl.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var F4=j((skt,Sie)=>{"use strict";p();m();var wie=Qg().codes.ERR_STREAM_PREMATURE_CLOSE;function AHe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(AHe,"once");function THe(){}o(THe,"noop");function IHe(t){return t.setHeader&&typeof t.abort=="function"}o(IHe,"isRequest");function Eie(t,e,r){if(typeof e=="function")return Eie(t,null,e);e||(e={}),r=AHe(r||THe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||c()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,c=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),y=o(function(O){r.call(t,O)},"onerror"),g=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new wie),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new wie),r.call(t,O)},"onclose"),E=o(function(){t.req.on("finish",c)},"onrequest");return IHe(t)?(t.on("complete",c),t.on("abort",g),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",y),t.on("close",g),function(){t.removeListener("complete",c),t.removeListener("abort",g),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",g)}}o(Eie,"eos");Sie.exports=Eie});var Tie=j((ukt,Aie)=>{"use strict";p();m();var H4;function ep(t,e,r){return e=RHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(ep,"_defineProperty");function RHe(t){var e=OHe(t,"string");return typeof e=="symbol"?e:String(e)}o(RHe,"_toPropertyKey");function OHe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(OHe,"_toPrimitive");var MHe=F4(),tp=Symbol("lastResolve"),ty=Symbol("lastReject"),vw=Symbol("error"),q4=Symbol("ended"),ry=Symbol("lastPromise"),RP=Symbol("handlePromise"),ny=Symbol("stream");function rp(t,e){return{value:t,done:e}}o(rp,"createIterResult");function NHe(t){var e=t[tp];if(e!==null){var r=t[ny].read();r!==null&&(t[ry]=null,t[tp]=null,t[ty]=null,e(rp(r,!1)))}}o(NHe,"readAndResolve");function CHe(t){process.nextTick(NHe,t)}o(CHe,"onReadable");function kHe(t,e){return function(r,n){t.then(function(){if(e[q4]){r(rp(void 0,!0));return}e[RP](r,n)},n)}}o(kHe,"wrapForNext");var BHe=Object.getPrototypeOf(function(){}),PHe=Object.setPrototypeOf((H4={get stream(){return this[ny]},next:o(function(){var e=this,r=this[vw];if(r!==null)return Promise.reject(r);if(this[q4])return Promise.resolve(rp(void 0,!0));if(this[ny].destroyed)return new Promise(function(a,c){process.nextTick(function(){e[vw]?c(e[vw]):a(rp(void 0,!0))})});var n=this[ry],i;if(n)i=new Promise(kHe(n,this));else{var s=this[ny].read();if(s!==null)return Promise.resolve(rp(s,!1));i=new Promise(this[RP])}return this[ry]=i,i},"next")},ep(H4,Symbol.asyncIterator,function(){return this}),ep(H4,"return",o(function(){var e=this;return new Promise(function(r,n){e[ny].destroy(null,function(i){if(i){n(i);return}r(rp(void 0,!0))})})},"_return")),H4),BHe),LHe=o(function(e){var r,n=Object.create(PHe,(r={},ep(r,ny,{value:e,writable:!0}),ep(r,tp,{value:null,writable:!0}),ep(r,ty,{value:null,writable:!0}),ep(r,vw,{value:null,writable:!0}),ep(r,q4,{value:e._readableState.endEmitted,writable:!0}),ep(r,RP,{value:o(function(s,a){var c=n[ny].read();c?(n[ry]=null,n[tp]=null,n[ty]=null,s(rp(c,!1))):(n[tp]=s,n[ty]=a)},"value"),writable:!0}),r));return n[ry]=null,MHe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[ty];s!==null&&(n[ry]=null,n[tp]=null,n[ty]=null,s(i)),n[vw]=i;return}var a=n[tp];a!==null&&(n[ry]=null,n[tp]=null,n[ty]=null,a(rp(void 0,!0))),n[q4]=!0}),e.on("readable",CHe.bind(null,n)),n},"createReadableStreamAsyncIterator");Aie.exports=LHe});var Rie=j((pkt,Iie)=>{p();m();Iie.exports=function(){throw new Error("Readable.from is not available in the browser")}});var IP=j((bkt,Uie)=>{"use strict";p();m();Uie.exports=nn;var Qb;nn.ReadableState=Cie;var ykt=Rb().EventEmitter,Nie=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),ww=yP(),V4=li().Buffer,DHe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function UHe(t){return V4.from(t)}o(UHe,"_uint8ArrayToBuffer");function FHe(t){return V4.isBuffer(t)||t instanceof DHe}o(FHe,"_isUint8Array");var OP=B_(),Pr;OP&&OP.debuglog?Pr=OP.debuglog("stream"):Pr=o(function(){},"debug");var HHe=aie(),LP=vP(),qHe=_P(),VHe=qHe.getHighWaterMark,j4=Qg().codes,jHe=j4.ERR_INVALID_ARG_TYPE,zHe=j4.ERR_STREAM_PUSH_AFTER_EOF,KHe=j4.ERR_METHOD_NOT_IMPLEMENTED,$He=j4.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ex,MP,NP;Zt()(nn,ww);var _w=LP.errorOrDestroy,CP=["error","close","destroy","pause","resume"];function GHe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(GHe,"prependListener");function Cie(t,e,r){Qb=Qb||ey(),t=t||{},typeof r!="boolean"&&(r=e instanceof Qb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=VHe(this,t,"readableHighWaterMark",r),this.buffer=new HHe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ex||(ex=Nb().StringDecoder),this.decoder=new ex(t.encoding),this.encoding=t.encoding)}o(Cie,"ReadableState");function nn(t){if(Qb=Qb||ey(),!(this instanceof nn))return new nn(t);var e=this instanceof Qb;this._readableState=new Cie(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ww.call(this)}o(nn,"Readable");Object.defineProperty(nn.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});nn.prototype.destroy=LP.destroy;nn.prototype._undestroy=LP.undestroy;nn.prototype._destroy=function(t,e){e(t)};nn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=V4.from(t,e),e=""),n=!0),kie(this,t,e,!1,n)};nn.prototype.unshift=function(t){return kie(this,t,null,!0,!1)};function kie(t,e,r,n,i){Pr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,XHe(t,s);else{var a;if(i||(a=WHe(s,e)),a)_w(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==V4.prototype&&(e=UHe(e)),n)s.endEmitted?_w(t,new $He):kP(t,s,e,!0);else if(s.ended)_w(t,new zHe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?kP(t,s,e,!1):PP(t,s)):kP(t,s,e,!1)}else n||(s.reading=!1,PP(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(kie,"readableAddChunk");function kP(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&z4(t)),PP(t,e)}o(kP,"addChunk");function WHe(t,e){var r;return!FHe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new jHe("chunk",["string","Buffer","Uint8Array"],e)),r}o(WHe,"chunkInvalid");nn.prototype.isPaused=function(){return this._readableState.flowing===!1};nn.prototype.setEncoding=function(t){ex||(ex=Nb().StringDecoder);var e=new ex(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Oie=1073741824;function YHe(t){return t>=Oie?t=Oie:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(YHe,"computeNewHighWaterMark");function Mie(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=YHe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(Mie,"howMuchToRead");nn.prototype.read=function(t){Pr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?BP(this):z4(this),null;if(t=Mie(t,e),t===0&&e.ended)return e.length===0&&BP(this),null;var n=e.needReadable;Pr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pr("length less than watermark",n)),e.ended||e.reading?(n=!1,Pr("reading or ended",n)):n&&(Pr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Mie(r,e)));var i;return t>0?i=Lie(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&BP(this)),i!==null&&this.emit("data",i),i};function XHe(t,e){if(Pr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?z4(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Bie(t)))}}o(XHe,"onEofChunk");function z4(t){var e=t._readableState;Pr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Bie,t))}o(z4,"emitReadable");function Bie(t){var e=t._readableState;Pr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,DP(t)}o(Bie,"emitReadable_");function PP(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(ZHe,t,e))}o(PP,"maybeReadMore");function ZHe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Pr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(ZHe,"maybeReadMore_");nn.prototype._read=function(t){_w(this,new KHe("_read()"))};nn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Pr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?c:M;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){Pr("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}o(a,"onunpipe");function c(){Pr("onend"),t.end()}o(c,"onend");var l=JHe(r);t.on("drain",l);var h=!1;function y(){Pr("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",M),r.removeListener("data",g),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(y,"cleanup"),r.on("data",g);function g(k){Pr("ondata");var C=t.write(k);Pr("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Die(n.pipes,t)!==-1)&&!h&&(Pr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(g,"ondata");function E(k){Pr("onerror",k),M(),t.removeListener("error",E),Nie(t,"error")===0&&_w(t,k)}o(E,"onerror"),GHe(t,"error",E);function T(){t.removeListener("finish",O),M()}o(T,"onclose"),t.once("close",T);function O(){Pr("onfinish"),t.removeListener("close",T),M()}o(O,"onfinish"),t.once("finish",O);function M(){Pr("unpipe"),r.unpipe(t)}return o(M,"unpipe"),t.emit("pipe",r),n.flowing||(Pr("pipe resume"),r.resume()),t};function JHe(t){return o(function(){var r=t._readableState;Pr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Nie(t,"data")&&(r.flowing=!0,DP(t))},"pipeOnDrainFunctionResult")}o(JHe,"pipeOnDrain");nn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Die(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};nn.prototype.on=function(t,e){var r=ww.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pr("on readable",n.length,n.reading),n.length?z4(this):n.reading||process.nextTick(QHe,this)),r};nn.prototype.addListener=nn.prototype.on;nn.prototype.removeListener=function(t,e){var r=ww.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Pie,this),r};nn.prototype.removeAllListeners=function(t){var e=ww.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Pie,this),e};function Pie(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(Pie,"updateReadableListening");function QHe(t){Pr("readable nexttick read 0"),t.read(0)}o(QHe,"nReadingNextTick");nn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Pr("resume"),t.flowing=!t.readableListening,eqe(this,t)),t.paused=!1,this};function eqe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(tqe,t,e))}o(eqe,"resume");function tqe(t,e){Pr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),DP(t),e.flowing&&!e.reading&&t.read(0)}o(tqe,"resume_");nn.prototype.pause=function(){return Pr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function DP(t){var e=t._readableState;for(Pr("flow",e.flowing);e.flowing&&t.read()!==null;);}o(DP,"flow");nn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Pr("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Pr("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var c=e.push(a);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(c){return o(function(){return t[c].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<CP.length;s++)t.on(CP[s],this.emit.bind(this,CP[s]));return this._read=function(a){Pr("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(nn.prototype[Symbol.asyncIterator]=function(){return MP===void 0&&(MP=Tie()),MP(this)});Object.defineProperty(nn.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(nn.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(nn.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});nn._fromList=Lie;Object.defineProperty(nn.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function Lie(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(Lie,"fromList");function BP(t){var e=t._readableState;Pr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(rqe,e,t))}o(BP,"endReadable");function rqe(t,e){if(Pr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(rqe,"endReadableNT");typeof Symbol=="function"&&(nn.from=function(t,e){return NP===void 0&&(NP=Rie()),NP(nn,t,e)});function Die(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(Die,"indexOf")});var UP=j((wkt,Hie)=>{"use strict";p();m();Hie.exports=xh;var K4=Qg().codes,nqe=K4.ERR_METHOD_NOT_IMPLEMENTED,iqe=K4.ERR_MULTIPLE_CALLBACK,oqe=K4.ERR_TRANSFORM_ALREADY_TRANSFORMING,sqe=K4.ERR_TRANSFORM_WITH_LENGTH_0,$4=ey();Zt()(xh,$4);function aqe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new iqe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(aqe,"afterTransform");function xh(t){if(!(this instanceof xh))return new xh(t);$4.call(this,t),this._transformState={afterTransform:aqe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",cqe)}o(xh,"Transform");function cqe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Fie(t,e,r)}):Fie(this,null,null)}o(cqe,"prefinish");xh.prototype.push=function(t,e){return this._transformState.needTransform=!1,$4.prototype.push.call(this,t,e)};xh.prototype._transform=function(t,e,r){r(new nqe("_transform()"))};xh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};xh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};xh.prototype._destroy=function(t,e){$4.prototype._destroy.call(this,t,function(r){e(r)})};function Fie(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new sqe;if(t._transformState.transforming)throw new oqe;return t.push(null)}o(Fie,"done")});var jie=j((Tkt,Vie)=>{"use strict";p();m();Vie.exports=Ew;var qie=UP();Zt()(Ew,qie);function Ew(t){if(!(this instanceof Ew))return new Ew(t);qie.call(this,t)}o(Ew,"PassThrough");Ew.prototype._transform=function(t,e,r){r(null,t)}});var Wie=j((Mkt,Gie)=>{"use strict";p();m();var FP;function fqe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(fqe,"once");var $ie=Qg().codes,uqe=$ie.ERR_MISSING_ARGS,lqe=$ie.ERR_STREAM_DESTROYED;function zie(t){if(t)throw t}o(zie,"noop");function dqe(t){return t.setHeader&&typeof t.abort=="function"}o(dqe,"isRequest");function hqe(t,e,r,n){n=fqe(n);var i=!1;t.on("close",function(){i=!0}),FP===void 0&&(FP=F4()),FP(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,dqe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new lqe("pipe"))}}}o(hqe,"destroyer");function Kie(t){t()}o(Kie,"call");function pqe(t,e){return t.pipe(e)}o(pqe,"pipe");function mqe(t){return!t.length||typeof t[t.length-1]!="function"?zie:t.pop()}o(mqe,"popCallback");function gqe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=mqe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new uqe("streams");var i,s=e.map(function(a,c){var l=c<e.length-1,h=c>0;return hqe(a,l,h,function(y){i||(i=y),y&&s.forEach(Kie),!l&&(s.forEach(Kie),n(i))})});return e.reduce(pqe)}o(gqe,"pipeline");Gie.exports=gqe});var Xie=j((Bf,Yie)=>{p();m();Bf=Yie.exports=IP();Bf.Stream=Bf;Bf.Readable=Bf;Bf.Writable=SP();Bf.Duplex=ey();Bf.Transform=UP();Bf.PassThrough=jie();Bf.finished=F4();Bf.pipeline=Wie()});var G4=j((Lkt,Qie)=>{p();m();var tx=yb(),yqe=Cg();function bqe(t){var e=Zie(t),r=e.toRed(tx.mont(t.modulus)).redPow(new tx(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}o(bqe,"blind");function Zie(t){var e=t.modulus.byteLength(),r;do r=new tx(yqe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}o(Zie,"getr");function Jie(t,e){var r=bqe(e),n=e.modulus.byteLength(),i=new tx(t).mul(r.blinder).umod(e.modulus),s=i.toRed(tx.mont(e.prime1)),a=i.toRed(tx.mont(e.prime2)),c=e.coefficient,l=e.prime1,h=e.prime2,y=s.redPow(e.exponent1).fromRed(),g=a.redPow(e.exponent2).fromRed(),E=y.isub(g).imul(c).umod(l).imul(h);return g.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}o(Jie,"crt");Jie.getr=Zie;Qie.exports=Jie});var eoe=j((Hkt,xqe)=>{xqe.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Hl=j((toe,HP)=>{p();m();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=gb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var I=S.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[u]=v;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-x;u++)I[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[_-u-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var G=u-U|0;x=S.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,Qr=x[8]|0,J=Qr&8191,Q=Qr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,$e=po&8191,Ge=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Te)|0,u=u+Math.imul(q,Ne)|0,u=u+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Te)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Te)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,Ge)|0,u=u+Math.imul(U,$e)|0,w=w+Math.imul(U,Ge)|0;var st=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Me,ve)|0,w=Math.imul(Me,Se),v=v+Math.imul(he,Te)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Ge)|0,u=u+Math.imul(re,$e)|0,w=w+Math.imul(re,Ge)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Ge)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Te)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,$e)|0,u=u+Math.imul(he,Ge)|0,u=u+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ge)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Te)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,$e)|0,u=u+Math.imul(Ae,Ge)|0,u=u+Math.imul(Me,$e)|0,w=w+Math.imul(Me,Ge)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),u=Math.imul(J,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Te)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,$e)|0,u=u+Math.imul(qe,Ge)|0,u=u+Math.imul(ke,$e)|0,w=w+Math.imul(ke,Ge)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(J,Te)|0,u=u+Math.imul(J,Ne)|0,u=u+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,$e)|0,u=u+Math.imul(Ue,Ge)|0,u=u+Math.imul(Pe,$e)|0,w=w+Math.imul(Pe,Ge)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Te),u=Math.imul(ne,Ne),u=u+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,u=u+Math.imul(J,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,$e)|0,u=u+Math.imul(Be,Ge)|0,u=u+Math.imul(Le,$e)|0,w=w+Math.imul(Le,Ge)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,$e)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Ge)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,$e),u=Math.imul(ne,Ge),u=u+Math.imul(de,$e)|0,w=Math.imul(de,Ge),v=v+Math.imul(J,He)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,u=u+Math.imul(J,K)|0,u=u+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),u=Math.imul(ne,K),u=u+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,u=u+Math.imul(J,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,u=u+Math.imul(J,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-u[G]*q[G];u[G]=v[G]*q[G]+u[G]*V[G],v[G]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(u),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof HP>"u"||HP,toe)});var qP=j(ioe=>{"use strict";p();m();var W4=ioe;function vqe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}o(vqe,"toArray");W4.toArray=vqe;function roe(t){return t.length===1?"0"+t:t}o(roe,"zero2");W4.zero2=roe;function noe(t){for(var e="",r=0;r<t.length;r++)e+=roe(t[r].toString(16));return e}o(noe,"toHex");W4.toHex=noe;W4.encode=o(function(e,r){return r==="hex"?noe(e):e},"encode")});var Gc=j(ooe=>{"use strict";p();m();var Pu=ooe,_qe=Hl(),wqe=$c(),Y4=qP();Pu.assert=wqe;Pu.toArray=Y4.toArray;Pu.zero2=Y4.zero2;Pu.toHex=Y4.toHex;Pu.encode=Y4.encode;function Eqe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var c,l=a.andln(s-1);a.isOdd()?(l>(s>>1)-1?c=(s>>1)-l:c=l,a.isubn(c)):c=0,n[i]=c,a.iushrn(1)}return n}o(Eqe,"getNAF");Pu.getNAF=Eqe;function Sqe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,c=e.andln(3)+i&3;a===3&&(a=-1),c===3&&(c=-1);var l;a&1?(s=t.andln(7)+n&7,(s===3||s===5)&&c===2?l=-a:l=a):l=0,r[0].push(l);var h;c&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?h=-c:h=c):h=0,r[1].push(h),2*n===l+1&&(n=1-n),2*i===h+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}o(Sqe,"getJSF");Pu.getJSF=Sqe;function Aqe(t,e,r){var n="_"+e;t.prototype[e]=o(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}o(Aqe,"cachedProperty");Pu.cachedProperty=Aqe;function Tqe(t){return typeof t=="string"?Pu.toArray(t,"hex"):t}o(Tqe,"parseBytes");Pu.parseBytes=Tqe;function Iqe(t){return new _qe(t,"hex","le")}o(Iqe,"intFromLE");Pu.intFromLE=Iqe});var Aw=j((Jkt,soe)=>{"use strict";p();m();var iy=Hl(),Sw=Gc(),X4=Sw.getNAF,Rqe=Sw.getJSF,Z4=Sw.assert;function np(t,e){this.type=t,this.p=new iy(e.p,16),this.red=e.prime?iy.red(e.prime):iy.mont(this.p),this.zero=new iy(0).toRed(this.red),this.one=new iy(1).toRed(this.red),this.two=new iy(2).toRed(this.red),this.n=e.n&&new iy(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(np,"BaseCurve");soe.exports=np;np.prototype.point=o(function(){throw new Error("Not implemented")},"point");np.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");np.prototype._fixedNafMul=o(function(e,r){Z4(e.precomputed);var n=e._getDoubles(),i=X4(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var h=c+n.step-1;h>=c;h--)l=(l<<1)+i[h];a.push(l)}for(var y=this.jpoint(null,null,null),g=this.jpoint(null,null,null),E=s;E>0;E--){for(c=0;c<a.length;c++)l=a[c],l===E?g=g.mixedAdd(n.points[c]):l===-E&&(g=g.mixedAdd(n.points[c].neg()));y=y.add(g)}return y.toP()},"_fixedNafMul");np.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=X4(r,n,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,c=c.dblp(h),l<0)break;var y=a[l];Z4(y!==0),e.type==="affine"?y>0?c=c.mixedAdd(s[y-1>>1]):c=c.mixedAdd(s[-y-1>>1].neg()):y>0?c=c.add(s[y-1>>1]):c=c.add(s[-y-1>>1].neg())}return e.type==="affine"?c.toP():c},"_wnafMul");np.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0,y,g,E;for(y=0;y<i;y++){E=r[y];var T=E._getNAFPoints(e);a[y]=T.wnd,c[y]=T.points}for(y=i-1;y>=1;y-=2){var O=y-1,M=y;if(a[O]!==1||a[M]!==1){l[O]=X4(n[O],a[O],this._bitLength),l[M]=X4(n[M],a[M],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[M].length,h);continue}var k=[r[O],null,null,r[M]];r[O].y.cmp(r[M].y)===0?(k[1]=r[O].add(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg())):r[O].y.cmp(r[M].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].add(r[M].neg())):(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],B=Rqe(n[O],n[M]);for(h=Math.max(B[0].length,h),l[O]=new Array(h),l[M]=new Array(h),g=0;g<h;g++){var N=B[0][g]|0,P=B[1][g]|0;l[O][g]=C[(N+1)*3+(P+1)],l[M][g]=0,c[O]=k}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(y=h;y>=0;y--){for(var Z=0;y>=0;){var W=!0;for(g=0;g<i;g++)F[g]=l[g][y]|0,F[g]!==0&&(W=!1);if(!W)break;Z++,y--}if(y>=0&&Z++,H=H.dblp(Z),y<0)break;for(g=0;g<i;g++){var X=F[g];X!==0&&(X>0?E=c[g][X-1>>1]:X<0&&(E=c[g][-X-1>>1].neg()),E.type==="affine"?H=H.mixedAdd(E):H=H.add(E))}}for(y=0;y<i;y++)c[y]=null;return s?H:H.toP()},"_wnafMulAdd");function Pf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(Pf,"BasePoint");np.BasePoint=Pf;Pf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");Pf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");np.prototype.decodePoint=o(function(e,r){e=Sw.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Z4(e[e.length-1]%2===0):e[0]===7&&Z4(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");Pf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");Pf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Pf.prototype.encode=o(function(e,r){return Sw.encode(this._encode(r),e)},"encode");Pf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Pf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");Pf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");Pf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");Pf.prototype._getBeta=o(function(){return null},"_getBeta");Pf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp")});var coe=j((rBt,aoe)=>{"use strict";p();m();var Oqe=Gc(),Xi=Hl(),VP=Zt(),rx=Aw(),Mqe=Oqe.assert;function Lf(t){rx.call(this,"short",t),this.a=new Xi(t.a,16).toRed(this.red),this.b=new Xi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Lf,"ShortCurve");VP(Lf,rx);aoe.exports=Lf;Lf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Xi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Xi(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Mqe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new Xi(c.a,16),b:new Xi(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Lf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:Xi.mont(e),n=new Xi(2).toRed(r).redInvm(),i=n.redNeg(),s=new Xi(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[a,c]},"_getEndoRoots");Lf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Xi(1),a=new Xi(0),c=new Xi(0),l=new Xi(1),h,y,g,E,T,O,M,k=0,C,B;n.cmpn(0)!==0;){var N=i.div(n);C=i.sub(N.mul(n)),B=c.sub(N.mul(s));var P=l.sub(N.mul(a));if(!g&&C.cmp(r)<0)h=M.neg(),y=s,g=C.neg(),E=B;else if(g&&++k===2)break;M=C,i=n,n=C,c=s,s=B,l=a,a=P}T=C.neg(),O=B;var H=g.sqr().add(E.sqr()),F=T.sqr().add(O.sqr());return F.cmp(H)>=0&&(T=h,O=y),g.negative&&(g=g.neg(),E=E.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:g,b:E},{a:T,b:O}]},"_getEndoBasis");Lf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),y=a.mul(i.b),g=e.sub(c).sub(l),E=h.add(y).neg();return{k1:g,k2:E}},"_endoSplit");Lf.prototype.pointFromX=o(function(e,r){e=new Xi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Lf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Lf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),l=e[a],h=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=c.k1,s[a*2+1]=c.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),g=0;g<a*2;g++)i[g]=null,s[g]=null;return y},"_endoWnafMulAdd");function Yo(t,e,r,n){rx.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xi(e,16),this.y=new Xi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Yo,"Point");VP(Yo,rx.BasePoint);Lf.prototype.point=o(function(e,r,n){return new Yo(this,e,r,n)},"point");Lf.prototype.pointFromJSON=o(function(e,r){return Yo.fromJSON(this,e,r)},"pointFromJSON");Yo.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Yo.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Yo.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(c){return e.point(c[0],c[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Yo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Yo.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Yo.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Yo.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)},"dbl");Yo.prototype.getX=o(function(){return this.x.fromRed()},"getX");Yo.prototype.getY=o(function(){return this.y.fromRed()},"getY");Yo.prototype.mul=o(function(e){return e=new Xi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Yo.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Yo.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Yo.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Yo.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Yo.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function hs(t,e,r,n){rx.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xi(0)):(this.x=new Xi(e,16),this.y=new Xi(r,16),this.z=new Xi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(hs,"JPoint");VP(hs,rx.BasePoint);Lf.prototype.jpoint=o(function(e,r,n){return new hs(this,e,r,n)},"jpoint");hs.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");hs.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");hs.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(c);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=l.redSqr(),g=y.redMul(l),E=i.redMul(y),T=h.redSqr().redIAdd(g).redISub(E).redISub(E),O=h.redMul(E.redISub(T)).redISub(a.redMul(g)),M=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,O,M)},"add");hs.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=s.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),y=h.redMul(c),g=n.redMul(h),E=l.redSqr().redIAdd(y).redISub(g).redISub(g),T=l.redMul(g.redISub(E)).redISub(s.redMul(y)),O=this.z.redMul(c);return this.curve.jpoint(E,T,O)},"mixedAdd");hs.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,c=this.y,l=this.z,h=l.redSqr().redSqr(),y=c.redAdd(c);for(r=0;r<e;r++){var g=a.redSqr(),E=y.redSqr(),T=E.redSqr(),O=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(h)),M=a.redMul(E),k=O.redSqr().redISub(M.redAdd(M)),C=M.redISub(k),B=O.redMul(C);B=B.redIAdd(B).redISub(T);var N=y.redMul(l);r+1<e&&(h=h.redMul(T)),a=k,l=N,y=B}return this.curve.jpoint(a,y.redMul(s),l)},"dblp");hs.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");hs.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(c).redISub(c),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=h,r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),E=this.y.redSqr(),T=E.redSqr(),O=this.x.redAdd(E).redSqr().redISub(g).redISub(T);O=O.redIAdd(O);var M=g.redAdd(g).redIAdd(g),k=M.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=M.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");hs.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(c).redISub(c);e=h;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),E=this.y.redSqr(),T=this.x.redMul(E),O=this.x.redSub(g).redMul(this.x.redAdd(g));O=O.redAdd(O).redIAdd(O);var M=T.redIAdd(T);M=M.redIAdd(M);var k=M.redAdd(M);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(g);var C=E.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(M.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");hs.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var y=h.redMul(c),g=l.redSqr().redISub(y.redAdd(y)),E=y.redISub(g),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=l.redMul(E).redISub(T),M=n.redAdd(n).redMul(i);return this.curve.jpoint(g,O,M)},"_dbl");hs.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var l=c.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=s.redIAdd(c).redSqr().redISub(a).redISub(l).redISub(h),g=r.redMul(y);g=g.redIAdd(g),g=g.redIAdd(g);var E=this.x.redMul(l).redISub(g);E=E.redIAdd(E),E=E.redIAdd(E);var T=this.y.redMul(y.redMul(h.redISub(y)).redISub(c.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,T,O)},"trpl");hs.prototype.mul=o(function(e,r){return e=new Xi(e,r),this.curve._wnafMul(this,e)},"mul");hs.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");hs.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");hs.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");hs.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity")});var loe=j((sBt,uoe)=>{"use strict";p();m();var nx=Hl(),foe=Zt(),J4=Aw(),Nqe=Gc();function ix(t){J4.call(this,"mont",t),this.a=new nx(t.a,16).toRed(this.red),this.b=new nx(t.b,16).toRed(this.red),this.i4=new nx(4).toRed(this.red).redInvm(),this.two=new nx(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}o(ix,"MontCurve");foe(ix,J4);uoe.exports=ix;ix.prototype.validate=o(function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function Xo(t,e,r){J4.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new nx(e,16),this.z=new nx(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(Xo,"Point");foe(Xo,J4.BasePoint);ix.prototype.decodePoint=o(function(e,r){return this.point(Nqe.toArray(e,r),1)},"decodePoint");ix.prototype.point=o(function(e,r){return new Xo(this,e,r)},"point");ix.prototype.pointFromJSON=o(function(e){return Xo.fromJSON(this,e)},"pointFromJSON");Xo.prototype.precompute=o(function(){},"precompute");Xo.prototype._encode=o(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");Xo.fromJSON=o(function(e,r){return new Xo(e,r[0],r[1]||e.one)},"fromJSON");Xo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Xo.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");Xo.prototype.dbl=o(function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),c=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,c)},"dbl");Xo.prototype.add=o(function(){throw new Error("Not supported on Montgomery curve")},"add");Xo.prototype.diffAdd=o(function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),c=a.redMul(n),l=s.redMul(i),h=r.z.redMul(c.redAdd(l).redSqr()),y=r.x.redMul(c.redISub(l).redSqr());return this.curve.point(h,y)},"diffAdd");Xo.prototype.mul=o(function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var c=a.length-1;c>=0;c--)a[c]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");Xo.prototype.mulAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");Xo.prototype.jumlAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");Xo.prototype.eq=o(function(e){return this.getX().cmp(e.getX())===0},"eq");Xo.prototype.normalize=o(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");Xo.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX")});var poe=j((uBt,hoe)=>{"use strict";p();m();var Cqe=Gc(),vh=Hl(),doe=Zt(),Q4=Aw(),kqe=Cqe.assert;function ql(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Q4.call(this,"edwards",t),this.a=new vh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new vh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new vh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),kqe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}o(ql,"EdwardsCurve");doe(ql,Q4);hoe.exports=ql;ql.prototype._mulA=o(function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},"_mulA");ql.prototype._mulC=o(function(e){return this.oneC?e:this.c.redMul(e)},"_mulC");ql.prototype.jpoint=o(function(e,r,n,i){return this.point(e,r,n,i)},"jpoint");ql.prototype.pointFromX=o(function(e,r){e=new vh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var l=c.fromRed().isOdd();return(r&&!l||!r&&l)&&(c=c.redNeg()),this.point(e,c)},"pointFromX");ql.prototype.pointFromY=o(function(e,r){e=new vh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)},"pointFromY");ql.prototype.validate=o(function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function Qn(t,e,r,n,i){Q4.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new vh(e,16),this.y=new vh(r,16),this.z=n?new vh(n,16):this.curve.one,this.t=i&&new vh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(Qn,"Point");doe(Qn,Q4.BasePoint);ql.prototype.pointFromJSON=o(function(e){return Qn.fromJSON(this,e)},"pointFromJSON");ql.prototype.point=o(function(e,r,n,i){return new Qn(this,e,r,n,i)},"point");Qn.fromJSON=o(function(e,r){return new Qn(e,r[0],r[1],r[2])},"fromJSON");Qn.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Qn.prototype.isInfinity=o(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");Qn.prototype._extDbl=o(function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),c=a.redSub(n),l=i.redSub(r),h=s.redMul(c),y=a.redMul(l),g=s.redMul(l),E=c.redMul(a);return this.curve.point(h,y,E,g)},"_extDbl");Qn.prototype._projDbl=o(function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,c,l,h;if(this.curve.twisted){c=this.curve._mulA(r);var y=c.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(y.redSub(this.curve.two)),s=y.redMul(c.redSub(n)),a=y.redSqr().redSub(y).redSub(y)):(l=this.z.redSqr(),h=y.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(h),s=y.redMul(c.redSub(n)),a=y.redMul(h))}else c=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),h=c.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(c)).redMul(h),s=this.curve._mulC(c).redMul(r.redISub(n)),a=c.redMul(h);return this.curve.point(i,s,a)},"_projDbl");Qn.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");Qn.prototype._extAdd=o(function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),c=s.redSub(i),l=s.redAdd(i),h=n.redAdd(r),y=a.redMul(c),g=l.redMul(h),E=a.redMul(h),T=c.redMul(l);return this.curve.point(y,g,T,E)},"_extAdd");Qn.prototype._projAdd=o(function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),c=n.redSub(a),l=n.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),y=r.redMul(c).redMul(h),g,E;return this.curve.twisted?(g=r.redMul(l).redMul(s.redSub(this.curve._mulA(i))),E=c.redMul(l)):(g=r.redMul(l).redMul(s.redSub(i)),E=this.curve._mulC(c).redMul(l)),this.curve.point(y,g,E)},"_projAdd");Qn.prototype.add=o(function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},"add");Qn.prototype.mul=o(function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},"mul");Qn.prototype.mulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)},"mulAdd");Qn.prototype.jmulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)},"jmulAdd");Qn.prototype.normalize=o(function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},"normalize");Qn.prototype.neg=o(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");Qn.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX");Qn.prototype.getY=o(function(){return this.normalize(),this.y.fromRed()},"getY");Qn.prototype.eq=o(function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},"eq");Qn.prototype.eqXToP=o(function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");Qn.prototype.toP=Qn.prototype.normalize;Qn.prototype.mixedAdd=Qn.prototype.add});var jP=j(moe=>{"use strict";p();m();var e8=moe;e8.base=Aw();e8.short=coe();e8.mont=loe();e8.edwards=poe()});var Lu=j(Yn=>{"use strict";p();m();var Bqe=$c(),Pqe=Zt();Yn.inherits=Pqe;function Lqe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}o(Lqe,"isSurrogatePair");function Dqe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Lqe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}o(Dqe,"toArray");Yn.toArray=Dqe;function Uqe(t){for(var e="",r=0;r<t.length;r++)e+=yoe(t[r].toString(16));return e}o(Uqe,"toHex");Yn.toHex=Uqe;function goe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}o(goe,"htonl");Yn.htonl=goe;function Fqe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=goe(i)),r+=boe(i.toString(16))}return r}o(Fqe,"toHex32");Yn.toHex32=Fqe;function yoe(t){return t.length===1?"0"+t:t}o(yoe,"zero2");Yn.zero2=yoe;function boe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}o(boe,"zero8");Yn.zero8=boe;function Hqe(t,e,r,n){var i=r-e;Bqe(i%4===0);for(var s=new Array(i/4),a=0,c=e;a<s.length;a++,c+=4){var l;n==="big"?l=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:l=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=l>>>0}return s}o(Hqe,"join32");Yn.join32=Hqe;function qqe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}o(qqe,"split32");Yn.split32=qqe;function Vqe(t,e){return t>>>e|t<<32-e}o(Vqe,"rotr32");Yn.rotr32=Vqe;function jqe(t,e){return t<<e|t>>>32-e}o(jqe,"rotl32");Yn.rotl32=jqe;function zqe(t,e){return t+e>>>0}o(zqe,"sum32");Yn.sum32=zqe;function Kqe(t,e,r){return t+e+r>>>0}o(Kqe,"sum32_3");Yn.sum32_3=Kqe;function $qe(t,e,r,n){return t+e+r+n>>>0}o($qe,"sum32_4");Yn.sum32_4=$qe;function Gqe(t,e,r,n,i){return t+e+r+n+i>>>0}o(Gqe,"sum32_5");Yn.sum32_5=Gqe;function Wqe(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,c=(a<n?1:0)+r+i;t[e]=c>>>0,t[e+1]=a}o(Wqe,"sum64");Yn.sum64=Wqe;function Yqe(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}o(Yqe,"sum64_hi");Yn.sum64_hi=Yqe;function Xqe(t,e,r,n){var i=e+n;return i>>>0}o(Xqe,"sum64_lo");Yn.sum64_lo=Xqe;function Zqe(t,e,r,n,i,s,a,c){var l=0,h=e;h=h+n>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+c>>>0,l+=h<c?1:0;var y=t+r+i+a+l;return y>>>0}o(Zqe,"sum64_4_hi");Yn.sum64_4_hi=Zqe;function Jqe(t,e,r,n,i,s,a,c){var l=e+n+s+c;return l>>>0}o(Jqe,"sum64_4_lo");Yn.sum64_4_lo=Jqe;function Qqe(t,e,r,n,i,s,a,c,l,h){var y=0,g=e;g=g+n>>>0,y+=g<e?1:0,g=g+s>>>0,y+=g<s?1:0,g=g+c>>>0,y+=g<c?1:0,g=g+h>>>0,y+=g<h?1:0;var E=t+r+i+a+l+y;return E>>>0}o(Qqe,"sum64_5_hi");Yn.sum64_5_hi=Qqe;function eVe(t,e,r,n,i,s,a,c,l,h){var y=e+n+s+c+h;return y>>>0}o(eVe,"sum64_5_lo");Yn.sum64_5_lo=eVe;function tVe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}o(tVe,"rotr64_hi");Yn.rotr64_hi=tVe;function rVe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(rVe,"rotr64_lo");Yn.rotr64_lo=rVe;function nVe(t,e,r){return t>>>r}o(nVe,"shr64_hi");Yn.shr64_hi=nVe;function iVe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(iVe,"shr64_lo");Yn.shr64_lo=iVe});var ox=j(voe=>{"use strict";p();m();var xoe=Lu(),oVe=$c();function t8(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}o(t8,"BlockHash");voe.BlockHash=t8;t8.prototype.update=o(function(e,r){if(e=xoe.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=xoe.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},"update");t8.prototype.digest=o(function(e){return this.update(this._pad()),oVe(this.pending===null),this._digest(e)},"digest");t8.prototype._pad=o(function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i},"pad")});var zP=j(_h=>{"use strict";p();m();var sVe=Lu(),Vl=sVe.rotr32;function aVe(t,e,r,n){if(t===0)return _oe(e,r,n);if(t===1||t===3)return Eoe(e,r,n);if(t===2)return woe(e,r,n)}o(aVe,"ft_1");_h.ft_1=aVe;function _oe(t,e,r){return t&e^~t&r}o(_oe,"ch32");_h.ch32=_oe;function woe(t,e,r){return t&e^t&r^e&r}o(woe,"maj32");_h.maj32=woe;function Eoe(t,e,r){return t^e^r}o(Eoe,"p32");_h.p32=Eoe;function cVe(t){return Vl(t,2)^Vl(t,13)^Vl(t,22)}o(cVe,"s0_256");_h.s0_256=cVe;function fVe(t){return Vl(t,6)^Vl(t,11)^Vl(t,25)}o(fVe,"s1_256");_h.s1_256=fVe;function uVe(t){return Vl(t,7)^Vl(t,18)^t>>>3}o(uVe,"g0_256");_h.g0_256=uVe;function lVe(t){return Vl(t,17)^Vl(t,19)^t>>>10}o(lVe,"g1_256");_h.g1_256=lVe});var Toe=j((OBt,Aoe)=>{"use strict";p();m();var sx=Lu(),dVe=ox(),hVe=zP(),KP=sx.rotl32,Tw=sx.sum32,pVe=sx.sum32_5,mVe=hVe.ft_1,Soe=dVe.BlockHash,gVe=[1518500249,1859775393,2400959708,3395469782];function jl(){if(!(this instanceof jl))return new jl;Soe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o(jl,"SHA1");sx.inherits(jl,Soe);Aoe.exports=jl;jl.blockSize=512;jl.outSize=160;jl.hmacStrength=80;jl.padLength=64;jl.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=KP(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],c=this.h[2],l=this.h[3],h=this.h[4];for(i=0;i<n.length;i++){var y=~~(i/20),g=pVe(KP(s,5),mVe(y,a,c,l),h,n[i],gVe[y]);h=l,l=c,c=KP(a,30),a=s,s=g}this.h[0]=Tw(this.h[0],s),this.h[1]=Tw(this.h[1],a),this.h[2]=Tw(this.h[2],c),this.h[3]=Tw(this.h[3],l),this.h[4]=Tw(this.h[4],h)},"_update");jl.prototype._digest=o(function(e){return e==="hex"?sx.toHex32(this.h,"big"):sx.split32(this.h,"big")},"digest")});var $P=j((kBt,Roe)=>{"use strict";p();m();var ax=Lu(),yVe=ox(),cx=zP(),bVe=$c(),Du=ax.sum32,xVe=ax.sum32_4,vVe=ax.sum32_5,_Ve=cx.ch32,wVe=cx.maj32,EVe=cx.s0_256,SVe=cx.s1_256,AVe=cx.g0_256,TVe=cx.g1_256,Ioe=yVe.BlockHash,IVe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zl(){if(!(this instanceof zl))return new zl;Ioe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=IVe,this.W=new Array(64)}o(zl,"SHA256");ax.inherits(zl,Ioe);Roe.exports=zl;zl.blockSize=512;zl.outSize=256;zl.hmacStrength=192;zl.padLength=64;zl.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=xVe(TVe(n[i-2]),n[i-7],AVe(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],c=this.h[2],l=this.h[3],h=this.h[4],y=this.h[5],g=this.h[6],E=this.h[7];for(bVe(this.k.length===n.length),i=0;i<n.length;i++){var T=vVe(E,SVe(h),_Ve(h,y,g),this.k[i],n[i]),O=Du(EVe(s),wVe(s,a,c));E=g,g=y,y=h,h=Du(l,T),l=c,c=a,a=s,s=Du(T,O)}this.h[0]=Du(this.h[0],s),this.h[1]=Du(this.h[1],a),this.h[2]=Du(this.h[2],c),this.h[3]=Du(this.h[3],l),this.h[4]=Du(this.h[4],h),this.h[5]=Du(this.h[5],y),this.h[6]=Du(this.h[6],g),this.h[7]=Du(this.h[7],E)},"_update");zl.prototype._digest=o(function(e){return e==="hex"?ax.toHex32(this.h,"big"):ax.split32(this.h,"big")},"digest")});var Noe=j((DBt,Moe)=>{"use strict";p();m();var GP=Lu(),Ooe=$P();function wh(){if(!(this instanceof wh))return new wh;Ooe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o(wh,"SHA224");GP.inherits(wh,Ooe);Moe.exports=wh;wh.blockSize=512;wh.outSize=224;wh.hmacStrength=192;wh.padLength=64;wh.prototype._digest=o(function(e){return e==="hex"?GP.toHex32(this.h.slice(0,7),"big"):GP.split32(this.h.slice(0,7),"big")},"digest")});var XP=j((qBt,Poe)=>{"use strict";p();m();var ac=Lu(),RVe=ox(),OVe=$c(),Kl=ac.rotr64_hi,$l=ac.rotr64_lo,Coe=ac.shr64_hi,koe=ac.shr64_lo,ip=ac.sum64,WP=ac.sum64_hi,YP=ac.sum64_lo,MVe=ac.sum64_4_hi,NVe=ac.sum64_4_lo,CVe=ac.sum64_5_hi,kVe=ac.sum64_5_lo,Boe=RVe.BlockHash,BVe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Uu(){if(!(this instanceof Uu))return new Uu;Boe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=BVe,this.W=new Array(160)}o(Uu,"SHA512");ac.inherits(Uu,Boe);Poe.exports=Uu;Uu.blockSize=1024;Uu.outSize=512;Uu.hmacStrength=192;Uu.padLength=128;Uu.prototype._prepareBlock=o(function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=KVe(n[i-4],n[i-3]),a=$Ve(n[i-4],n[i-3]),c=n[i-14],l=n[i-13],h=jVe(n[i-30],n[i-29]),y=zVe(n[i-30],n[i-29]),g=n[i-32],E=n[i-31];n[i]=MVe(s,a,c,l,h,y,g,E),n[i+1]=NVe(s,a,c,l,h,y,g,E)}},"_prepareBlock");Uu.prototype._update=o(function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],h=this.h[5],y=this.h[6],g=this.h[7],E=this.h[8],T=this.h[9],O=this.h[10],M=this.h[11],k=this.h[12],C=this.h[13],B=this.h[14],N=this.h[15];OVe(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var H=B,F=N,Z=qVe(E,T),W=VVe(E,T),X=PVe(E,T,O,M,k,C),S=LVe(E,T,O,M,k,C),f=this.k[P],d=this.k[P+1],b=n[P],x=n[P+1],_=CVe(H,F,Z,W,X,S,f,d,b,x),A=kVe(H,F,Z,W,X,S,f,d,b,x);H=FVe(i,s),F=HVe(i,s),Z=DVe(i,s,a,c,l,h),W=UVe(i,s,a,c,l,h);var I=WP(H,F,Z,W),v=YP(H,F,Z,W);B=k,N=C,k=O,C=M,O=E,M=T,E=WP(y,g,_,A),T=YP(g,g,_,A),y=l,g=h,l=a,h=c,a=i,c=s,i=WP(_,A,I,v),s=YP(_,A,I,v)}ip(this.h,0,i,s),ip(this.h,2,a,c),ip(this.h,4,l,h),ip(this.h,6,y,g),ip(this.h,8,E,T),ip(this.h,10,O,M),ip(this.h,12,k,C),ip(this.h,14,B,N)},"_update");Uu.prototype._digest=o(function(e){return e==="hex"?ac.toHex32(this.h,"big"):ac.split32(this.h,"big")},"digest");function PVe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}o(PVe,"ch64_hi");function LVe(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}o(LVe,"ch64_lo");function DVe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}o(DVe,"maj64_hi");function UVe(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}o(UVe,"maj64_lo");function FVe(t,e){var r=Kl(t,e,28),n=Kl(e,t,2),i=Kl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(FVe,"s0_512_hi");function HVe(t,e){var r=$l(t,e,28),n=$l(e,t,2),i=$l(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(HVe,"s0_512_lo");function qVe(t,e){var r=Kl(t,e,14),n=Kl(t,e,18),i=Kl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(qVe,"s1_512_hi");function VVe(t,e){var r=$l(t,e,14),n=$l(t,e,18),i=$l(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(VVe,"s1_512_lo");function jVe(t,e){var r=Kl(t,e,1),n=Kl(t,e,8),i=Coe(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(jVe,"g0_512_hi");function zVe(t,e){var r=$l(t,e,1),n=$l(t,e,8),i=koe(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(zVe,"g0_512_lo");function KVe(t,e){var r=Kl(t,e,19),n=Kl(e,t,29),i=Coe(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(KVe,"g1_512_hi");function $Ve(t,e){var r=$l(t,e,19),n=$l(e,t,29),i=koe(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o($Ve,"g1_512_lo")});var Uoe=j((KBt,Doe)=>{"use strict";p();m();var ZP=Lu(),Loe=XP();function Eh(){if(!(this instanceof Eh))return new Eh;Loe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o(Eh,"SHA384");ZP.inherits(Eh,Loe);Doe.exports=Eh;Eh.blockSize=1024;Eh.outSize=384;Eh.hmacStrength=192;Eh.padLength=128;Eh.prototype._digest=o(function(e){return e==="hex"?ZP.toHex32(this.h.slice(0,12),"big"):ZP.split32(this.h.slice(0,12),"big")},"digest")});var Foe=j(fx=>{"use strict";p();m();fx.sha1=Toe();fx.sha224=Noe();fx.sha256=$P();fx.sha384=Uoe();fx.sha512=XP()});var Koe=j(zoe=>{"use strict";p();m();var oy=Lu(),GVe=ox(),r8=oy.rotl32,Hoe=oy.sum32,Iw=oy.sum32_3,qoe=oy.sum32_4,joe=GVe.BlockHash;function Gl(){if(!(this instanceof Gl))return new Gl;joe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}o(Gl,"RIPEMD160");oy.inherits(Gl,joe);zoe.ripemd160=Gl;Gl.blockSize=512;Gl.outSize=160;Gl.hmacStrength=192;Gl.padLength=64;Gl.prototype._update=o(function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],l=n,h=i,y=s,g=a,E=c,T=0;T<80;T++){var O=Hoe(r8(qoe(n,Voe(T,i,s,a),e[XVe[T]+r],WVe(T)),JVe[T]),c);n=c,c=a,a=r8(s,10),s=i,i=O,O=Hoe(r8(qoe(l,Voe(79-T,h,y,g),e[ZVe[T]+r],YVe(T)),QVe[T]),E),l=E,E=g,g=r8(y,10),y=h,h=O}O=Iw(this.h[1],s,g),this.h[1]=Iw(this.h[2],a,E),this.h[2]=Iw(this.h[3],c,l),this.h[3]=Iw(this.h[4],n,h),this.h[4]=Iw(this.h[0],i,y),this.h[0]=O},"update");Gl.prototype._digest=o(function(e){return e==="hex"?oy.toHex32(this.h,"little"):oy.split32(this.h,"little")},"digest");function Voe(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}o(Voe,"f");function WVe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}o(WVe,"K");function YVe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}o(YVe,"Kh");var XVe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ZVe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],JVe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],QVe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Goe=j((rPt,$oe)=>{"use strict";p();m();var eje=Lu(),tje=$c();function ux(t,e,r){if(!(this instanceof ux))return new ux(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(eje.toArray(e,r))}o(ux,"Hmac");$oe.exports=ux;ux.prototype._init=o(function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),tje(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},"init");ux.prototype.update=o(function(e,r){return this.inner.update(e,r),this},"update");ux.prototype.digest=o(function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},"digest")});var lx=j(Woe=>{p();m();var ps=Woe;ps.utils=Lu();ps.common=ox();ps.sha=Foe();ps.ripemd=Koe();ps.hmac=Goe();ps.sha1=ps.sha.sha1;ps.sha256=ps.sha.sha256;ps.sha224=ps.sha.sha224;ps.sha384=ps.sha.sha384;ps.sha512=ps.sha.sha512;ps.ripemd160=ps.ripemd.ripemd160});var Xoe=j((fPt,Yoe)=>{p();m();Yoe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var n8=j(Qoe=>{"use strict";p();m();var QP=Qoe,op=lx(),JP=jP(),rje=Gc(),Zoe=rje.assert;function Joe(t){t.type==="short"?this.curve=new JP.short(t):t.type==="edwards"?this.curve=new JP.edwards(t):this.curve=new JP.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Zoe(this.g.validate(),"Invalid curve"),Zoe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(Joe,"PresetCurve");QP.PresetCurve=Joe;function sp(t,e){Object.defineProperty(QP,t,{configurable:!0,enumerable:!0,get:o(function(){var r=new Joe(e);return Object.defineProperty(QP,t,{configurable:!0,enumerable:!0,value:r}),r},"get")})}o(sp,"defineCurve");sp("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:op.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});sp("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:op.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});sp("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:op.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});sp("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:op.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});sp("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:op.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});sp("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:op.sha256,gRed:!1,g:["9"]});sp("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:op.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var eL;try{eL=Xoe()}catch{eL=void 0}sp("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:op.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",eL]})});var rse=j((gPt,tse)=>{"use strict";p();m();var nje=lx(),sy=qP(),ese=$c();function ap(t){if(!(this instanceof ap))return new ap(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=sy.toArray(t.entropy,t.entropyEnc||"hex"),r=sy.toArray(t.nonce,t.nonceEnc||"hex"),n=sy.toArray(t.pers,t.persEnc||"hex");ese(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(ap,"HmacDRBG");tse.exports=ap;ap.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");ap.prototype._hmac=o(function(){return new nje.hmac(this.hash,this.K)},"hmac");ap.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");ap.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=sy.toArray(e,r),n=sy.toArray(n,i),ese(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");ap.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=sy.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,sy.encode(a,r)},"generate")});var ise=j((vPt,nse)=>{"use strict";p();m();var ije=Hl(),oje=Gc(),tL=oje.assert;function Qs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(Qs,"KeyPair");nse.exports=Qs;Qs.fromPublic=o(function(e,r,n){return r instanceof Qs?r:new Qs(e,{pub:r,pubEnc:n})},"fromPublic");Qs.fromPrivate=o(function(e,r,n){return r instanceof Qs?r:new Qs(e,{priv:r,privEnc:n})},"fromPrivate");Qs.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");Qs.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");Qs.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");Qs.prototype._importPrivate=o(function(e,r){this.priv=new ije(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");Qs.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?tL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&tL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");Qs.prototype.derive=o(function(e){return e.validate()||tL(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");Qs.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");Qs.prototype.verify=o(function(e,r,n){return this.ec.verify(e,r,this,void 0,n)},"verify");Qs.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var ase=j((SPt,sse)=>{"use strict";p();m();var i8=Hl(),iL=Gc(),sje=iL.assert;function o8(t,e){if(t instanceof o8)return t;this._importDER(t,e)||(sje(t.r&&t.s,"Signature without r or s"),this.r=new i8(t.r,16),this.s=new i8(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(o8,"Signature");sse.exports=o8;function aje(){this.place=0}o(aje,"Position");function rL(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(rL,"getLength");function ose(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(ose,"rmPadding");o8.prototype._importDER=o(function(e,r){e=iL.toArray(e,r);var n=new aje;if(e[n.place++]!==48)return!1;var i=rL(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=rL(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var c=rL(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new i8(a),this.s=new i8(l),this.recoveryParam=null,!0},"_importDER");function nL(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(nL,"constructLength");o8.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=ose(r),n=ose(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];nL(i,r.length),i=i.concat(r),i.push(2),nL(i,n.length);var s=i.concat(n),a=[48];return nL(a,s.length),a=a.concat(s),iL.encode(a,e)},"toDER")});var use=j((RPt,fse)=>{"use strict";p();m();var Fu=Hl(),cse=rse(),cje=Gc(),oL=n8(),fje=M4(),ay=cje.assert,sL=ise(),s8=ase();function Df(t){if(!(this instanceof Df))return new Df(t);typeof t=="string"&&(ay(Object.prototype.hasOwnProperty.call(oL,t),"Unknown curve "+t),t=oL[t]),t instanceof oL.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Df,"EC");fse.exports=Df;Df.prototype.keyPair=o(function(e){return new sL(this,e)},"keyPair");Df.prototype.keyFromPrivate=o(function(e,r){return sL.fromPrivate(this,e,r)},"keyFromPrivate");Df.prototype.keyFromPublic=o(function(e,r){return sL.fromPublic(this,e,r)},"keyFromPublic");Df.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new cse({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fje(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Fu(2));;){var s=new Fu(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Df.prototype._truncateToN=o(function(e,r,n){var i;if(Fu.isBN(e)||typeof e=="number")e=new Fu(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Fu(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Fu(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Df.prototype.sign=o(function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Fu.isBN(e)){ay(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ay(e.length>>>0===e.length);for(var s=0;s<e.length;s++)ay((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),ay(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),c=r.getPrivate().toArray("be",a),l=e.toArray("be",a);ay(new Fu(l).eq(e),"Can not sign message");for(var h=new cse({hash:this.hash,entropy:c,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),y=this.n.sub(new Fu(1)),g=0;;g++){var E=i.k?i.k(g):new Fu(h.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(y)>=0)){var T=this.g.mul(E);if(!T.isInfinity()){var O=T.getX(),M=O.umod(this.n);if(M.cmpn(0)!==0){var k=E.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var C=(T.getY().isOdd()?1:0)|(O.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),C^=1),new s8({r:M,s:k,recoveryParam:C})}}}}}},"sign");Df.prototype.verify=o(function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new s8(r,"hex");var a=r.r,c=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var l=c.invm(this.n),h=l.mul(e).umod(this.n),y=l.mul(a).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(h,n.getPublic(),y),g.isInfinity()?!1:g.eqXToP(a)):(g=this.g.mulAdd(h,n.getPublic(),y),g.isInfinity()?!1:g.getX().umod(this.n).cmp(a)===0)},"verify");Df.prototype.recoverPubKey=function(t,e,r,n){ay((3&r)===r,"The recovery param is more than two bits"),e=new s8(e,n);var i=this.n,s=new Fu(t),a=e.r,c=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var y=e.r.invm(i),g=i.sub(s).mul(y).umod(i),E=c.mul(y).umod(i);return this.g.mulAdd(g,a,E)};Df.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new s8(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var pse=j((CPt,hse)=>{"use strict";p();m();var Rw=Gc(),dse=Rw.assert,lse=Rw.parseBytes,dx=Rw.cachedProperty;function Zo(t,e){this.eddsa=t,this._secret=lse(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=lse(e.pub)}o(Zo,"KeyPair");Zo.fromPublic=o(function(e,r){return r instanceof Zo?r:new Zo(e,{pub:r})},"fromPublic");Zo.fromSecret=o(function(e,r){return r instanceof Zo?r:new Zo(e,{secret:r})},"fromSecret");Zo.prototype.secret=o(function(){return this._secret},"secret");dx(Zo,"pubBytes",o(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));dx(Zo,"pub",o(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));dx(Zo,"privBytes",o(function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));dx(Zo,"priv",o(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));dx(Zo,"hash",o(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));dx(Zo,"messagePrefix",o(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));Zo.prototype.sign=o(function(e){return dse(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},"sign");Zo.prototype.verify=o(function(e,r){return this.eddsa.verify(e,r,this)},"verify");Zo.prototype.getSecret=o(function(e){return dse(this._secret,"KeyPair is public only"),Rw.encode(this.secret(),e)},"getSecret");Zo.prototype.getPublic=o(function(e){return Rw.encode(this.pubBytes(),e)},"getPublic");hse.exports=Zo});var yse=j((LPt,gse)=>{"use strict";p();m();var uje=Hl(),a8=Gc(),mse=a8.assert,c8=a8.cachedProperty,lje=a8.parseBytes;function cy(t,e){this.eddsa=t,typeof e!="object"&&(e=lje(e)),Array.isArray(e)&&(mse(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),mse(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof uje&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(cy,"Signature");c8(cy,"S",o(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));c8(cy,"R",o(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));c8(cy,"Rencoded",o(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));c8(cy,"Sencoded",o(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));cy.prototype.toBytes=o(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");cy.prototype.toHex=o(function(){return a8.encode(this.toBytes(),"hex").toUpperCase()},"toHex");gse.exports=cy});var wse=j((HPt,_se)=>{"use strict";p();m();var dje=lx(),hje=n8(),hx=Gc(),pje=hx.assert,xse=hx.parseBytes,vse=pse(),bse=yse();function cc(t){if(pje(t==="ed25519","only tested with ed25519 so far"),!(this instanceof cc))return new cc(t);t=hje[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=dje.sha512}o(cc,"EDDSA");_se.exports=cc;cc.prototype.sign=o(function(e,r){e=xse(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),c=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),l=i.add(c).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:a})},"sign");cc.prototype.verify=o(function(e,r,n){if(e=xse(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),c=r.R().add(i.pub().mul(s));return c.eq(a)},"verify");cc.prototype.hashInt=o(function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return hx.intFromLE(e.digest()).umod(this.curve.n)},"hashInt");cc.prototype.keyFromPublic=o(function(e){return vse.fromPublic(this,e)},"keyFromPublic");cc.prototype.keyFromSecret=o(function(e){return vse.fromSecret(this,e)},"keyFromSecret");cc.prototype.makeSignature=o(function(e){return e instanceof bse?e:new bse(this,e)},"makeSignature");cc.prototype.encodePoint=o(function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r},"encodePoint");cc.prototype.decodePoint=o(function(e){e=hx.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=hx.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");cc.prototype.encodeInt=o(function(e){return e.toArray("le",this.encodingLength)},"encodeInt");cc.prototype.decodeInt=o(function(e){return hx.intFromLE(e)},"decodeInt");cc.prototype.isPoint=o(function(e){return e instanceof this.pointClass},"isPoint")});var f8=j(Ese=>{"use strict";p();m();var fy=Ese;fy.version=eoe().version;fy.utils=Gc();fy.rand=M4();fy.curve=jP();fy.curves=n8();fy.ec=use();fy.eddsa=wse()});var cL=j((Sse,aL)=>{p();m();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=gb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var I=S.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[u]=v;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-x;u++)I[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[_-u-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var G=u-U|0;x=S.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,Qr=x[8]|0,J=Qr&8191,Q=Qr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,$e=po&8191,Ge=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Te)|0,u=u+Math.imul(q,Ne)|0,u=u+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Te)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Te)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,Ge)|0,u=u+Math.imul(U,$e)|0,w=w+Math.imul(U,Ge)|0;var st=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Me,ve)|0,w=Math.imul(Me,Se),v=v+Math.imul(he,Te)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Ge)|0,u=u+Math.imul(re,$e)|0,w=w+Math.imul(re,Ge)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Ge)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Te)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,$e)|0,u=u+Math.imul(he,Ge)|0,u=u+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ge)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Te)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,$e)|0,u=u+Math.imul(Ae,Ge)|0,u=u+Math.imul(Me,$e)|0,w=w+Math.imul(Me,Ge)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),u=Math.imul(J,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Te)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,$e)|0,u=u+Math.imul(qe,Ge)|0,u=u+Math.imul(ke,$e)|0,w=w+Math.imul(ke,Ge)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(J,Te)|0,u=u+Math.imul(J,Ne)|0,u=u+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,$e)|0,u=u+Math.imul(Ue,Ge)|0,u=u+Math.imul(Pe,$e)|0,w=w+Math.imul(Pe,Ge)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Te),u=Math.imul(ne,Ne),u=u+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,u=u+Math.imul(J,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,$e)|0,u=u+Math.imul(Be,Ge)|0,u=u+Math.imul(Le,$e)|0,w=w+Math.imul(Le,Ge)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,$e)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Ge)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,$e),u=Math.imul(ne,Ge),u=u+Math.imul(de,$e)|0,w=Math.imul(de,Ge),v=v+Math.imul(J,He)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,u=u+Math.imul(J,K)|0,u=u+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),u=Math.imul(ne,K),u=u+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,u=u+Math.imul(J,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,u=u+Math.imul(J,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-u[G]*q[G];u[G]=v[G]*q[G]+u[G]*V[G],v[G]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(u),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof aL>"u"||aL,Sse)});var l8=j((XPt,Ase)=>{"use strict";p();m();var u8=li(),px=u8.Buffer,Uf={},Ff;for(Ff in u8)u8.hasOwnProperty(Ff)&&(Ff==="SlowBuffer"||Ff==="Buffer"||(Uf[Ff]=u8[Ff]));var mx=Uf.Buffer={};for(Ff in px)px.hasOwnProperty(Ff)&&(Ff==="allocUnsafe"||Ff==="allocUnsafeSlow"||(mx[Ff]=px[Ff]));Uf.Buffer.prototype=px.prototype;(!mx.from||mx.from===Uint8Array.from)&&(mx.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return px(t,e,r)});mx.alloc||(mx.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=px(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!Uf.kStringMaxLength)try{Uf.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}Uf.constants||(Uf.constants={MAX_LENGTH:Uf.kMaxLength},Uf.kStringMaxLength&&(Uf.constants.MAX_STRING_LENGTH=Uf.kStringMaxLength));Ase.exports=Uf});var d8=j(Tse=>{"use strict";p();m();var mje=Zt();function Hf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}o(Hf,"Reporter");Tse.Reporter=Hf;Hf.prototype.isError=o(function(e){return e instanceof gx},"isError");Hf.prototype.save=o(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");Hf.prototype.restore=o(function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)},"restore");Hf.prototype.enterKey=o(function(e){return this._reporterState.path.push(e)},"enterKey");Hf.prototype.exitKey=o(function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)},"exitKey");Hf.prototype.leaveKey=o(function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)},"leaveKey");Hf.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");Hf.prototype.enterObject=o(function(){let e=this._reporterState,r=e.obj;return e.obj={},r},"enterObject");Hf.prototype.leaveObject=o(function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n},"leaveObject");Hf.prototype.error=o(function(e){let r,n=this._reporterState,i=e instanceof gx;if(i?r=e:r=new gx(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");Hf.prototype.wrapResult=o(function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e},"wrapResult");function gx(t,e){this.path=t,this.rethrow(e)}o(gx,"ReporterError");mje(gx,Error);gx.prototype.rethrow=o(function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,gx),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var xx=j(fL=>{"use strict";p();m();var gje=Zt(),h8=d8().Reporter,yx=l8().Buffer;function qf(t,e){if(h8.call(this,e),!yx.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o(qf,"DecoderBuffer");gje(qf,h8);fL.DecoderBuffer=qf;qf.isDecoderBuffer=o(function(e){return e instanceof qf?!0:typeof e=="object"&&yx.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");qf.prototype.save=o(function(){return{offset:this.offset,reporter:h8.prototype.save.call(this)}},"save");qf.prototype.restore=o(function(e){let r=new qf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,h8.prototype.restore.call(this,e.reporter),r},"restore");qf.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");qf.prototype.readUInt8=o(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");qf.prototype.skip=o(function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new qf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},"skip");qf.prototype.raw=o(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function bx(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return bx.isEncoderBuffer(r)||(r=new bx(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=yx.byteLength(t);else if(yx.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}o(bx,"EncoderBuffer");fL.EncoderBuffer=bx;bx.isEncoderBuffer=o(function(e){return e instanceof bx?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");bx.prototype.join=o(function(e,r){return e||(e=yx.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):yx.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e},"join")});var p8=j((aLt,Rse)=>{"use strict";p();m();var yje=d8().Reporter,bje=xx().EncoderBuffer,xje=xx().DecoderBuffer,ka=$c(),Ise=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],vje=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Ise),_je=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Dn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(Dn,"Node");Rse.exports=Dn;var wje=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Dn.prototype.clone=o(function(){let e=this._baseState,r={};wje.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");Dn.prototype._wrap=o(function(){let e=this._baseState;vje.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");Dn.prototype._init=o(function(e){let r=this._baseState;ka(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),ka.equal(r.children.length,1,"Root node can have only one child")},"init");Dn.prototype._useArgs=o(function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(ka(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(ka(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let c=i[a];s[c]=a}),s}))},"useArgs");_je.forEach(function(t){Dn.prototype[t]=o(function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)},"_overrided")});Ise.forEach(function(t){Dn.prototype[t]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return ka(r.tag===null),r.tag=t,this._useArgs(n),this},"_tagMethod")});Dn.prototype.use=o(function(e){ka(e);let r=this._baseState;return ka(r.use===null),r.use=e,this},"use");Dn.prototype.optional=o(function(){let e=this._baseState;return e.optional=!0,this},"optional");Dn.prototype.def=o(function(e){let r=this._baseState;return ka(r.default===null),r.default=e,r.optional=!0,this},"def");Dn.prototype.explicit=o(function(e){let r=this._baseState;return ka(r.explicit===null&&r.implicit===null),r.explicit=e,this},"explicit");Dn.prototype.implicit=o(function(e){let r=this._baseState;return ka(r.explicit===null&&r.implicit===null),r.implicit=e,this},"implicit");Dn.prototype.obj=o(function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");Dn.prototype.key=o(function(e){let r=this._baseState;return ka(r.key===null),r.key=e,this},"key");Dn.prototype.any=o(function(){let e=this._baseState;return e.any=!0,this},"any");Dn.prototype.choice=o(function(e){let r=this._baseState;return ka(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this},"choice");Dn.prototype.contains=o(function(e){let r=this._baseState;return ka(r.use===null),r.contains=e,this},"contains");Dn.prototype._decode=o(function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let h=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(h)}else if(s=this._peekTag(e,l,n.any),e.isError(s))return s}let c;if(n.obj&&s&&(c=e.enterObject()),s){if(n.explicit!==null){let h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}let l=e.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=e.save());let y=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(y))return y;n.any?i=e.raw(h):e=y}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(y){y._decode(e,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let h=new xje(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,r)}}return n.obj&&s&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i},"decode");Dn.prototype._decodeGeneric=o(function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)},"decodeGeneric");Dn.prototype._getUse=o(function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),ka(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");Dn.prototype._decodeChoice=o(function(e,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let c=e.save(),l=n.choice[a];try{let h=l._decode(e,r);if(e.isError(h))return!1;i={type:a,value:h},s=!0}catch{return e.restore(c),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");Dn.prototype._createEncoderBuffer=o(function(e){return new bje(e,this.reporter)},"createEncoderBuffer");Dn.prototype._encode=o(function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");Dn.prototype._encodeValue=o(function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new yje);let s=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let a=null,c=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)a=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let h=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let y=l._encode(e[l._baseState.key],r,e);return r.leaveKey(h),y},this).filter(function(l){return l}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(h){let y=this._baseState;return this._getUse(y.args[0],e)._encode(h,r)},l))}else i.use!==null?s=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,h=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(l,c,h,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");Dn.prototype._encodeChoice=o(function(e,r){let n=this._baseState,i=n.choice[e.type];return i||ka(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)},"encodeChoice");Dn.prototype._encodePrimitive=o(function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)},"encodePrimitive");Dn.prototype._isNumstr=o(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");Dn.prototype._isPrintstr=o(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr")});var m8=j(uy=>{"use strict";p();m();function Ose(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}o(Ose,"reverse");uy.tagClass={0:"universal",1:"application",2:"context",3:"private"};uy.tagClassByName=Ose(uy.tagClass);uy.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};uy.tagByName=Ose(uy.tag)});var lL=j((mLt,Cse)=>{"use strict";p();m();var Eje=Zt(),Sh=l8().Buffer,Mse=p8(),uL=m8();function Nse(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Hu,this.tree._init(t.body)}o(Nse,"DEREncoder");Cse.exports=Nse;Nse.prototype.encode=o(function(e,r){return this.tree._encode(e,r).join()},"encode");function Hu(t){Mse.call(this,"der",t)}o(Hu,"DERNode");Eje(Hu,Mse);Hu.prototype._encodeComposite=o(function(e,r,n,i){let s=Sje(e,r,n,this.reporter);if(i.length<128){let l=Sh.alloc(2);return l[0]=s,l[1]=i.length,this._createEncoderBuffer([l,i])}let a=1;for(let l=i.length;l>=256;l>>=8)a++;let c=Sh.alloc(2+a);c[0]=s,c[1]=128|a;for(let l=1+a,h=i.length;h>0;l--,h>>=8)c[l]=h&255;return this._createEncoderBuffer([c,i])},"encodeComposite");Hu.prototype._encodeStr=o(function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=Sh.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");Hu.prototype._encodeObjid=o(function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let l=e[c];for(i++;l>=128;l>>=7)i++}let s=Sh.alloc(i),a=s.length-1;for(let c=e.length-1;c>=0;c--){let l=e[c];for(s[a--]=l&127;(l>>=7)>0;)s[a--]=128|l&127}return this._createEncoderBuffer(s)},"encodeObjid");function Vf(t){return t<10?"0"+t:t}o(Vf,"two");Hu.prototype._encodeTime=o(function(e,r){let n,i=new Date(e);return r==="gentime"?n=[Vf(i.getUTCFullYear()),Vf(i.getUTCMonth()+1),Vf(i.getUTCDate()),Vf(i.getUTCHours()),Vf(i.getUTCMinutes()),Vf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Vf(i.getUTCFullYear()%100),Vf(i.getUTCMonth()+1),Vf(i.getUTCDate()),Vf(i.getUTCHours()),Vf(i.getUTCMinutes()),Vf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");Hu.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");Hu.prototype._encodeInt=o(function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Sh.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=Sh.from(s)}if(Sh.isBuffer(e)){let s=e.length;e.length===0&&s++;let a=Sh.alloc(s);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Sh.from(i))},"encodeInt");Hu.prototype._encodeBool=o(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");Hu.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree},"use");Hu.prototype._skipDefault=o(function(e,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function Sje(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),uL.tagByName.hasOwnProperty(t))i=uL.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=uL.tagClassByName[r||"universal"]<<6,i)}o(Sje,"encodeTag")});var Bse=j((xLt,kse)=>{"use strict";p();m();var Aje=Zt(),dL=lL();function hL(t){dL.call(this,t),this.enc="pem"}o(hL,"PEMEncoder");Aje(hL,dL);kse.exports=hL;hL.prototype.encode=o(function(e,r){let i=dL.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var pL=j(Lse=>{"use strict";p();m();var Pse=Lse;Pse.der=lL();Pse.pem=Bse()});var gL=j((TLt,Vse)=>{"use strict";p();m();var Tje=Zt(),Ije=cL(),Dse=xx().DecoderBuffer,Fse=p8(),Use=m8();function Hse(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Wc,this.tree._init(t.body)}o(Hse,"DERDecoder");Vse.exports=Hse;Hse.prototype.decode=o(function(e,r){return Dse.isDecoderBuffer(e)||(e=new Dse(e,r)),this.tree._decode(e,r)},"decode");function Wc(t){Fse.call(this,"der",t)}o(Wc,"DERNode");Tje(Wc,Fse);Wc.prototype._peekTag=o(function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),s=mL(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");Wc.prototype._decodeTag=o(function(e,r,n){let i=mL(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let s=qse(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let a=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");Wc.prototype._skipUntilEnd=o(function(e,r){for(;;){let n=mL(e,r);if(e.isError(n))return n;let i=qse(e,n.primitive,r);if(e.isError(i))return i;let s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");Wc.prototype._decodeList=o(function(e,r,n,i){let s=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let c=n.decode(e,"der",i);if(e.isError(c)&&a)break;s.push(c)}return s},"decodeList");Wc.prototype._decodeStr=o(function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");Wc.prototype._decodeObjid=o(function(e,r,n){let i,s=[],a=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),a<<=7,a|=c&127,c&128||(s.push(a),a=0);c&128&&s.push(a);let l=s[0]/40|0,h=s[0]%40;if(n?i=s:i=[l,h].concat(s.slice(1)),r){let y=r[i.join(" ")];y===void 0&&(y=r[i.join(".")]),y!==void 0&&(i=y)}return i},"decodeObjid");Wc.prototype._decodeTime=o(function(e,r){let n=e.raw().toString(),i,s,a,c,l,h;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,c=n.slice(8,10)|0,l=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,c=n.slice(6,8)|0,l=n.slice(8,10)|0,h=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,c,l,h,0)},"decodeTime");Wc.prototype._decodeNull=o(function(){return null},"decodeNull");Wc.prototype._decodeBool=o(function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0},"decodeBool");Wc.prototype._decodeInt=o(function(e,r){let n=e.raw(),i=new Ije(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");Wc.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree},"use");function mL(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=Use.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=Use.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(mL,"derDecodeTag");function qse(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}o(qse,"derDecodeLen")});var zse=j((MLt,jse)=>{"use strict";p();m();var Rje=Zt(),Oje=l8().Buffer,yL=gL();function bL(t){yL.call(this,t),this.enc="pem"}o(bL,"PEMDecoder");Rje(bL,yL);jse.exports=bL;bL.prototype.decode=o(function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1;for(let y=0;y<n.length;y++){let g=n[y].match(s);if(g!==null&&g[2]===i)if(a===-1){if(g[1]!=="BEGIN")break;a=y}else{if(g[1]!=="END")break;c=y;break}}if(a===-1||c===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(a+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let h=Oje.from(l,"base64");return yL.prototype.decode.call(this,h,r)},"decode")});var xL=j($se=>{"use strict";p();m();var Kse=$se;Kse.der=gL();Kse.pem=zse()});var Wse=j(Gse=>{"use strict";p();m();var Mje=pL(),Nje=xL(),Cje=Zt(),kje=Gse;kje.define=o(function(e,r){return new vx(e,r)},"define");function vx(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o(vx,"Entity");vx.prototype._createNamed=o(function(e){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),Cje(n,e),n.prototype._initNamed=o(function(s,a){e.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");vx.prototype._getDecoder=o(function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(Nje[e])),this.decoders[e]},"_getDecoder");vx.prototype.decode=o(function(e,r,n){return this._getDecoder(r).decode(e,n)},"decode");vx.prototype._getEncoder=o(function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(Mje[e])),this.encoders[e]},"_getEncoder");vx.prototype.encode=o(function(e,r,n){return this._getEncoder(r).encode(e,n)},"encode")});var Xse=j(Yse=>{"use strict";p();m();var g8=Yse;g8.Reporter=d8().Reporter;g8.DecoderBuffer=xx().DecoderBuffer;g8.EncoderBuffer=xx().EncoderBuffer;g8.Node=p8()});var Qse=j(Jse=>{"use strict";p();m();var Zse=Jse;Zse._reverse=o(function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r},"reverse");Zse.der=m8()});var vL=j(eae=>{"use strict";p();m();var _x=eae;_x.bignum=cL();_x.define=Wse().define;_x.base=Xse();_x.constants=Qse();_x.decoders=xL();_x.encoders=pL()});var iae=j((ZLt,nae)=>{"use strict";p();m();var qu=vL(),tae=qu.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Bje=qu.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),_L=qu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Pje=qu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_L),this.key("subjectPublicKey").bitstr())}),Lje=qu.define("RelativeDistinguishedName",function(){this.setof(Bje)}),Dje=qu.define("RDNSequence",function(){this.seqof(Lje)}),rae=qu.define("Name",function(){this.choice({rdnSequence:this.use(Dje)})}),Uje=qu.define("Validity",function(){this.seq().obj(this.key("notBefore").use(tae),this.key("notAfter").use(tae))}),Fje=qu.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Hje=qu.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(_L),this.key("issuer").use(rae),this.key("validity").use(Uje),this.key("subject").use(rae),this.key("subjectPublicKeyInfo").use(Pje),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Fje).optional())}),qje=qu.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Hje),this.key("signatureAlgorithm").use(_L),this.key("signatureValue").bitstr())});nae.exports=qje});var sae=j(ju=>{"use strict";p();m();var Vu=vL();ju.certificate=iae();var Vje=Vu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ju.RSAPrivateKey=Vje;var jje=Vu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ju.RSAPublicKey=jje;var zje=Vu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(oae),this.key("subjectPublicKey").bitstr())});ju.PublicKey=zje;var oae=Vu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Kje=Vu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(oae),this.key("subjectPrivateKey").octstr())});ju.PrivateKey=Kje;var $je=Vu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ju.EncryptedPrivateKey=$je;var Gje=Vu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ju.DSAPrivateKey=Gje;ju.DSAparam=Vu.define("DSAparam",function(){this.int()});var Wje=Vu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Yje),this.key("publicKey").optional().explicit(1).bitstr())});ju.ECPrivateKey=Wje;var Yje=Vu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ju.signature=Vu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var aae=j((nDt,Xje)=>{Xje.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var fae=j((iDt,cae)=>{p();m();var Zje=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Jje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Qje=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,eze=mw(),tze=O4(),y8=mr().Buffer;cae.exports=function(t,e){var r=t.toString(),n=r.match(Zje),i;if(n){var a="aes"+n[1],c=y8.from(n[2],"hex"),l=y8.from(n[3].replace(/[\r\n]/g,""),"base64"),h=eze(e,c.slice(0,8),parseInt(n[1],10)).key,y=[],g=tze.createDecipheriv(a,h,c);y.push(g.update(l)),y.push(g.final()),i=y8.concat(y)}else{var s=r.match(Qje);i=y8.from(s[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(Jje)[1];return{tag:E,data:i}}});var Ow=j((aDt,lae)=>{p();m();var fc=sae(),rze=aae(),nze=fae(),ize=O4(),oze=y4(),wL=mr().Buffer;lae.exports=uae;function uae(t){var e;typeof t=="object"&&!wL.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=wL.from(t));var r=nze(t,e),n=r.tag,i=r.data,s,a;switch(n){case"CERTIFICATE":a=fc.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=fc.PublicKey.decode(i,"der")),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return fc.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=fc.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=fc.EncryptedPrivateKey.decode(i,"der"),i=sze(i,e);case"PRIVATE KEY":switch(a=fc.PrivateKey.decode(i,"der"),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return fc.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:fc.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=fc.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return fc.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return fc.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:fc.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=fc.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}o(uae,"parseKeys");uae.signature=fc.signature;function sze(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=rze[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,c=parseInt(i.split("-")[1],10)/8,l=oze.pbkdf2Sync(e,r,n,c,"sha1"),h=ize.createDecipheriv(i,l,s),y=[];return y.push(h.update(a)),y.push(h.final()),wL.concat(y)}o(sze,"decrypt")});var EL=j((lDt,aze)=>{aze.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var pae=j((dDt,x8)=>{"use strict";p();m();var ea=mr().Buffer,ly=MB(),cze=G4(),fze=f8().ec,b8=yb(),uze=Ow(),lze=EL(),dze=1;function hze(t,e,r,n,i){var s=uze(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return pze(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return mze(t,s,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==dze)throw new Error("illegal or unsupported padding mode");t=ea.concat([i,t]);for(var a=s.modulus.byteLength(),c=[0,1];t.length+c.length+1<a;)c.push(255);c.push(0);for(var l=-1;++l<t.length;)c.push(t[l]);var h=cze(c,s);return h}o(hze,"sign");function pze(t,e){var r=lze[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new fze(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return ea.from(s.toDER())}o(pze,"ecSign");function mze(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,a=e.params.g,c=new b8(0),l,h=SL(t,s).mod(s),y=!1,g=dae(n,s,t,r);y===!1;)l=hae(s,g,r),c=bze(a,l,i,s),y=l.invm(s).imul(h.add(n.mul(c))).mod(s),y.cmpn(0)===0&&(y=!1,c=new b8(0));return gze(c,y)}o(mze,"dsaSign");function gze(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),ea.from(n)}o(gze,"toDER");function dae(t,e,r,n){if(t=ea.from(t.toArray()),t.length<e.byteLength()){var i=ea.alloc(e.byteLength()-t.length);t=ea.concat([i,t])}var s=r.length,a=yze(r,e),c=ea.alloc(s);c.fill(1);var l=ea.alloc(s);return l=ly(n,l).update(c).update(ea.from([0])).update(t).update(a).digest(),c=ly(n,l).update(c).digest(),l=ly(n,l).update(c).update(ea.from([1])).update(t).update(a).digest(),c=ly(n,l).update(c).digest(),{k:l,v:c}}o(dae,"getKey");function SL(t,e){var r=new b8(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}o(SL,"bits2int");function yze(t,e){t=SL(t,e),t=t.mod(e);var r=ea.from(t.toArray());if(r.length<e.byteLength()){var n=ea.alloc(e.byteLength()-r.length);r=ea.concat([n,r])}return r}o(yze,"bits2octets");function hae(t,e,r){var n,i;do{for(n=ea.alloc(0);n.length*8<t.bitLength();)e.v=ly(r,e.k).update(e.v).digest(),n=ea.concat([n,e.v]);i=SL(n,t),e.k=ly(r,e.k).update(e.v).update(ea.from([0])).digest(),e.v=ly(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}o(hae,"makeKey");function bze(t,e,r,n){return t.toRed(b8.mont(r)).redPow(e).fromRed().mod(n)}o(bze,"makeR");x8.exports=hze;x8.exports.getKey=dae;x8.exports.makeKey=hae});var bae=j((gDt,yae)=>{"use strict";p();m();var AL=mr().Buffer,Mw=yb(),xze=f8().ec,gae=Ow(),vze=EL();function _ze(t,e,r,n,i){var s=gae(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return wze(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return Eze(t,e,s)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=AL.concat([i,e]);for(var a=s.modulus.byteLength(),c=[1],l=0;e.length+c.length+2<a;)c.push(255),l+=1;c.push(0);for(var h=-1;++h<e.length;)c.push(e[h]);c=AL.from(c);var y=Mw.mont(s.modulus);t=new Mw(t).toRed(y),t=t.redPow(new Mw(s.publicExponent)),t=AL.from(t.fromRed().toArray());var g=l<8?1:0;for(a=Math.min(t.length,c.length),t.length!==c.length&&(g=1),h=-1;++h<a;)g|=t[h]^c[h];return g===0}o(_ze,"verify");function wze(t,e,r){var n=vze[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new xze(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}o(wze,"ecVerify");function Eze(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,a=r.data.pub_key,c=gae.signature.decode(t,"der"),l=c.s,h=c.r;mae(l,i),mae(h,i);var y=Mw.mont(n),g=l.invm(i),E=s.toRed(y).redPow(new Mw(e).mul(g).mod(i)).fromRed().mul(a.toRed(y).redPow(h.mul(g).mod(i)).fromRed()).mod(n).mod(i);return E.cmp(h)===0}o(Eze,"dsaVerify");function mae(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}o(mae,"checkValue");yae.exports=_ze});var Sae=j((vDt,Eae)=>{"use strict";p();m();var v8=mr().Buffer,_ae=jg(),_8=Xie(),wae=Zt(),Sze=pae(),Aze=bae(),dy=NB();Object.keys(dy).forEach(function(t){dy[t].id=v8.from(dy[t].id,"hex"),dy[t.toLowerCase()]=dy[t]});function Nw(t){_8.Writable.call(this);var e=dy[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=_ae(e.hash),this._tag=e.id,this._signType=e.sign}o(Nw,"Sign");wae(Nw,_8.Writable);Nw.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");Nw.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?v8.from(e,r):e),this},"update");Nw.prototype.sign=o(function(e,r){this.end();var n=this._hash.digest(),i=Sze(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function Cw(t){_8.Writable.call(this);var e=dy[t];if(!e)throw new Error("Unknown message digest");this._hash=_ae(e.hash),this._tag=e.id,this._signType=e.sign}o(Cw,"Verify");wae(Cw,_8.Writable);Cw.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");Cw.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?v8.from(e,r):e),this},"update");Cw.prototype.verify=o(function(e,r,n){var i=typeof r=="string"?v8.from(r,n):r;this.end();var s=this._hash.digest();return Aze(i,s,e,this._signType,this._tag)},"verifyMethod");function xae(t){return new Nw(t)}o(xae,"createSign");function vae(t){return new Cw(t)}o(vae,"createVerify");Eae.exports={Sign:xae,Verify:vae,createSign:xae,createVerify:vae}});var Tae=j((Aae,TL)=>{p();m();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=gb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var I=S.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[u]=v;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-x;u++)I[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[_-u-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var G=u-U|0;x=S.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,Qr=x[8]|0,J=Qr&8191,Q=Qr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,$e=po&8191,Ge=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Te)|0,u=u+Math.imul(q,Ne)|0,u=u+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Te)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Te)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,Ge)|0,u=u+Math.imul(U,$e)|0,w=w+Math.imul(U,Ge)|0;var st=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Me,ve)|0,w=Math.imul(Me,Se),v=v+Math.imul(he,Te)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Ge)|0,u=u+Math.imul(re,$e)|0,w=w+Math.imul(re,Ge)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Ge)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Te)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,$e)|0,u=u+Math.imul(he,Ge)|0,u=u+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ge)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Te)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,$e)|0,u=u+Math.imul(Ae,Ge)|0,u=u+Math.imul(Me,$e)|0,w=w+Math.imul(Me,Ge)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),u=Math.imul(J,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Te)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,$e)|0,u=u+Math.imul(qe,Ge)|0,u=u+Math.imul(ke,$e)|0,w=w+Math.imul(ke,Ge)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(J,Te)|0,u=u+Math.imul(J,Ne)|0,u=u+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,$e)|0,u=u+Math.imul(Ue,Ge)|0,u=u+Math.imul(Pe,$e)|0,w=w+Math.imul(Pe,Ge)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Te),u=Math.imul(ne,Ne),u=u+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,u=u+Math.imul(J,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,$e)|0,u=u+Math.imul(Be,Ge)|0,u=u+Math.imul(Le,$e)|0,w=w+Math.imul(Le,Ge)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,$e)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Ge)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,$e),u=Math.imul(ne,Ge),u=u+Math.imul(de,$e)|0,w=Math.imul(de,Ge),v=v+Math.imul(J,He)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,u=u+Math.imul(J,K)|0,u=u+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),u=Math.imul(ne,K),u=u+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,u=u+Math.imul(J,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,u=u+Math.imul(J,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-u[G]*q[G];u[G]=v[G]*q[G]+u[G]*V[G],v[G]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(u),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof TL>"u"||TL,Aae)});var Rae=j((IDt,Iae)=>{p();m();var Tze=f8(),Ize=Tae();Iae.exports=o(function(e){return new hy(e)},"createECDH");var Yc={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Yc.p224=Yc.secp224r1;Yc.p256=Yc.secp256r1=Yc.prime256v1;Yc.p192=Yc.secp192r1=Yc.prime192v1;Yc.p384=Yc.secp384r1;Yc.p521=Yc.secp521r1;function hy(t){this.curveType=Yc[t],this.curveType||(this.curveType={name:t}),this.curve=new Tze.ec(this.curveType.name),this.keys=void 0}o(hy,"ECDH");hy.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};hy.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return IL(i,r,this.curveType.byteLength)};hy.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),IL(r,t)};hy.prototype.getPrivateKey=function(t){return IL(this.keys.getPrivate(),t)};hy.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};hy.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new Ize(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function IL(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}o(IL,"formatReturnValue")});var OL=j((NDt,Oae)=>{p();m();var Rze=jg(),RL=mr().Buffer;Oae.exports=function(t,e){for(var r=RL.alloc(0),n=0,i;r.length<e;)i=Oze(n++),r=RL.concat([r,Rze("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function Oze(t){var e=RL.allocUnsafe(4);return e.writeUInt32BE(t,0),e}o(Oze,"i2ops")});var ML=j((PDt,Mae)=>{p();m();Mae.exports=o(function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},"xor")});var w8=j((Nae,NL)=>{p();m();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=gb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var I=S.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[u]=v;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-x;u++)I[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),I[_-u-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var G=u-U|0;x=S.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,Qr=x[8]|0,J=Qr&8191,Q=Qr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,$e=po&8191,Ge=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Te)|0,u=u+Math.imul(q,Ne)|0,u=u+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Te)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Te)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,Ge)|0,u=u+Math.imul(U,$e)|0,w=w+Math.imul(U,Ge)|0;var st=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Me,ve)|0,w=Math.imul(Me,Se),v=v+Math.imul(he,Te)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,$e)|0,u=u+Math.imul(ee,Ge)|0,u=u+Math.imul(re,$e)|0,w=w+Math.imul(re,Ge)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Ge)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Te)|0,u=u+Math.imul(qe,Ne)|0,u=u+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,$e)|0,u=u+Math.imul(he,Ge)|0,u=u+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ge)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Te)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,$e)|0,u=u+Math.imul(Ae,Ge)|0,u=u+Math.imul(Me,$e)|0,w=w+Math.imul(Me,Ge)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),u=Math.imul(J,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Te)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,$e)|0,u=u+Math.imul(qe,Ge)|0,u=u+Math.imul(ke,$e)|0,w=w+Math.imul(ke,Ge)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(J,Te)|0,u=u+Math.imul(J,Ne)|0,u=u+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,$e)|0,u=u+Math.imul(Ue,Ge)|0,u=u+Math.imul(Pe,$e)|0,w=w+Math.imul(Pe,Ge)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Te),u=Math.imul(ne,Ne),u=u+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,u=u+Math.imul(J,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,$e)|0,u=u+Math.imul(Be,Ge)|0,u=u+Math.imul(Le,$e)|0,w=w+Math.imul(Le,Ge)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,$e)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Ge)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,$e),u=Math.imul(ne,Ge),u=u+Math.imul(de,$e)|0,w=Math.imul(de,Ge),v=v+Math.imul(J,He)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,u=u+Math.imul(J,K)|0,u=u+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),u=Math.imul(ne,K),u=u+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,u=u+Math.imul(J,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,u=u+Math.imul(J,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-u[G]*q[G];u[G]=v[G]*q[G]+u[G]*V[G],v[G]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(u),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof NL>"u"||NL,Nae)});var CL=j((VDt,kae)=>{p();m();var Cae=w8(),Mze=mr().Buffer;function Nze(t,e){return Mze.from(t.toRed(Cae.mont(e.modulus)).redPow(new Cae(e.publicExponent)).fromRed().toArray())}o(Nze,"withPublic");kae.exports=Nze});var Dae=j(($Dt,Lae)=>{p();m();var Cze=Ow(),kL=Cg(),kze=jg(),Bae=OL(),Pae=ML(),BL=w8(),Bze=CL(),Pze=G4(),zu=mr().Buffer;Lae.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=Cze(e),a;if(i===4)a=Lze(s,r);else if(i===1)a=Dze(s,r,n);else if(i===3){if(a=new BL(r),a.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?Pze(a,s):Bze(a,s)},"publicEncrypt");function Lze(t,e){var r=t.modulus.byteLength(),n=e.length,i=kze("sha1").update(zu.alloc(0)).digest(),s=i.length,a=2*s;if(n>r-a-2)throw new Error("message too long");var c=zu.alloc(r-n-a-2),l=r-s-1,h=kL(s),y=Pae(zu.concat([i,c,zu.alloc(1,1),e],l),Bae(h,l)),g=Pae(h,Bae(y,s));return new BL(zu.concat([zu.alloc(1),g,y],r))}o(Lze,"oaep");function Dze(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=zu.alloc(i-n-3,255):s=Uze(i-n-3),new BL(zu.concat([zu.from([0,r?1:2]),s,zu.alloc(1),e],i))}o(Dze,"pkcs1");function Uze(t){for(var e=zu.allocUnsafe(t),r=0,n=kL(t*2),i=0,s;r<t;)i===n.length&&(n=kL(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}o(Uze,"nonZero")});var Vae=j((XDt,qae)=>{p();m();var Fze=Ow(),Uae=OL(),Fae=ML(),Hae=w8(),Hze=G4(),qze=jg(),Vze=CL(),kw=mr().Buffer;qae.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=Fze(e),a=s.modulus.byteLength();if(r.length>a||new Hae(r).cmp(s.modulus)>=0)throw new Error("decryption error");var c;n?c=Vze(new Hae(r),s):c=Hze(r,s);var l=kw.alloc(a-c.length);if(c=kw.concat([l,c],a),i===4)return jze(s,c);if(i===1)return zze(s,c,n);if(i===3)return c;throw new Error("unknown padding")},"privateDecrypt");function jze(t,e){var r=t.modulus.byteLength(),n=qze("sha1").update(kw.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),a=e.slice(i+1),c=Fae(s,Uae(a,i)),l=Fae(a,Uae(c,r-i-1));if(Kze(n,l.slice(0,i)))throw new Error("decryption error");for(var h=i;l[h]===0;)h++;if(l[h++]!==1)throw new Error("decryption error");return l.slice(h)}o(jze,"oaep");function zze(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var a=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}o(zze,"pkcs1");function Kze(t,e){t=kw.from(t),e=kw.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}o(Kze,"compare")});var jae=j(py=>{p();m();py.publicEncrypt=Dae();py.privateDecrypt=Vae();py.privateEncrypt=o(function(e,r){return py.publicEncrypt(e,r,!0)},"privateEncrypt");py.publicDecrypt=o(function(e,r){return py.privateDecrypt(e,r,!0)},"publicDecrypt")});var Qae=j(Bw=>{"use strict";p();m();function zae(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}o(zae,"oldBrowser");var $ae=mr(),Kae=Cg(),Gae=$ae.Buffer,Wae=$ae.kMaxLength,PL=self.crypto||self.msCrypto,Yae=Math.pow(2,32)-1;function Xae(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>Yae||t<0)throw new TypeError("offset must be a uint32");if(t>Wae||t>e)throw new RangeError("offset out of range")}o(Xae,"assertOffset");function Zae(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>Yae||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>Wae)throw new RangeError("buffer too small")}o(Zae,"assertSize");PL&&PL.getRandomValues?(Bw.randomFill=$ze,Bw.randomFillSync=Gze):(Bw.randomFill=zae,Bw.randomFillSync=zae);function $ze(t,e,r,n){if(!Gae.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return Xae(e,t.length),Zae(r,e,t.length),Jae(t,e,r,n)}o($ze,"randomFill");function Jae(t,e,r,n){var i=t.buffer,s=new Uint8Array(i,e,r);if(PL.getRandomValues(s),n){process.nextTick(function(){n(null,t)});return}return t;var a}o(Jae,"actualFill");function Gze(t,e,r){if(typeof e>"u"&&(e=0),!Gae.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Xae(e,t.length),r===void 0&&(r=t.length-e),Zae(r,e,t.length),Jae(t,e,r)}o(Gze,"randomFillSync")});var Yb=j(Er=>{"use strict";p();m();Er.randomBytes=Er.rng=Er.pseudoRandomBytes=Er.prng=Cg();Er.createHash=Er.Hash=jg();Er.createHmac=Er.Hmac=MB();var Wze=ire(),Yze=Object.keys(Wze),Xze=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Yze);Er.getHashes=function(){return Xze};var ece=y4();Er.pbkdf2=ece.pbkdf2;Er.pbkdf2Sync=ece.pbkdf2Sync;var Wl=Fne();Er.Cipher=Wl.Cipher;Er.createCipher=Wl.createCipher;Er.Cipheriv=Wl.Cipheriv;Er.createCipheriv=Wl.createCipheriv;Er.Decipher=Wl.Decipher;Er.createDecipher=Wl.createDecipher;Er.Decipheriv=Wl.Decipheriv;Er.createDecipheriv=Wl.createDecipheriv;Er.getCiphers=Wl.getCiphers;Er.listCiphers=Wl.listCiphers;var Pw=eie();Er.DiffieHellmanGroup=Pw.DiffieHellmanGroup;Er.createDiffieHellmanGroup=Pw.createDiffieHellmanGroup;Er.getDiffieHellman=Pw.getDiffieHellman;Er.createDiffieHellman=Pw.createDiffieHellman;Er.DiffieHellman=Pw.DiffieHellman;var E8=Sae();Er.createSign=E8.createSign;Er.Sign=E8.Sign;Er.createVerify=E8.createVerify;Er.Verify=E8.Verify;Er.createECDH=Rae();var S8=jae();Er.publicEncrypt=S8.publicEncrypt;Er.privateEncrypt=S8.privateEncrypt;Er.publicDecrypt=S8.publicDecrypt;Er.privateDecrypt=S8.privateDecrypt;var tce=Qae();Er.randomFill=tce.randomFill;Er.randomFillSync=tce.randomFillSync;Er.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Er.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Q8=j(ed=>{"use strict";p();m();Object.defineProperty(ed,"__esModule",{value:!0});ed.isBytes=Fce;ed.number=J8;ed.bool=Uce;ed.bytes=QL;ed.hash=Hce;ed.exists=qce;ed.output=Vce;function J8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}o(J8,"number");function Uce(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}o(Uce,"bool");function Fce(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(Fce,"isBytes");function QL(t,...e){if(!Fce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}o(QL,"bytes");function Hce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");J8(t.outputLen),J8(t.blockLen)}o(Hce,"hash");function qce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(qce,"exists");function Vce(t,e){QL(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(Vce,"output");var B$e={number:J8,bool:Uce,bytes:QL,hash:Hce,exists:qce,output:Vce};ed.default=B$e});var jce=j(e5=>{"use strict";p();m();Object.defineProperty(e5,"__esModule",{value:!0});e5.crypto=void 0;e5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var xp=j(kr=>{"use strict";p();m();Object.defineProperty(kr,"__esModule",{value:!0});kr.Hash=kr.nextTick=kr.byteSwapIfBE=kr.byteSwap=kr.isLE=kr.rotl=kr.rotr=kr.createView=kr.u32=kr.u8=void 0;kr.isBytes=P$e;kr.byteSwap32=V$e;kr.bytesToHex=z$e;kr.hexToBytes=K$e;kr.asyncLoop=G$e;kr.utf8ToBytes=Kce;kr.toBytes=t5;kr.concatBytes=W$e;kr.checkOpts=X$e;kr.wrapConstructor=Z$e;kr.wrapConstructorWithOpts=J$e;kr.wrapXOFConstructorWithOpts=Q$e;kr.randomBytes=eGe;var Cx=jce(),tD=Q8();function P$e(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(P$e,"isBytes");var L$e=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");kr.u8=L$e;var D$e=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");kr.u32=D$e;var U$e=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");kr.createView=U$e;var F$e=o((t,e)=>t<<32-e|t>>>e,"rotr");kr.rotr=F$e;var H$e=o((t,e)=>t<<e|t>>>32-e>>>0,"rotl");kr.rotl=H$e;kr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var q$e=o(t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,"byteSwap");kr.byteSwap=q$e;kr.byteSwapIfBE=kr.isLE?t=>t:t=>(0,kr.byteSwap)(t);function V$e(t){for(let e=0;e<t.length;e++)t[e]=(0,kr.byteSwap)(t[e])}o(V$e,"byteSwap32");var j$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function z$e(t){(0,tD.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=j$e[t[r]];return e}o(z$e,"bytesToHex");var Rh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function zce(t){if(t>=Rh._0&&t<=Rh._9)return t-Rh._0;if(t>=Rh._A&&t<=Rh._F)return t-(Rh._A-10);if(t>=Rh._a&&t<=Rh._f)return t-(Rh._a-10)}o(zce,"asciiToBase16");function K$e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=zce(t.charCodeAt(s)),c=zce(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(K$e,"hexToBytes");var $$e=o(async()=>{},"nextTick");kr.nextTick=$$e;async function G$e(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,kr.nextTick)(),n+=s)}}o(G$e,"asyncLoop");function Kce(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(Kce,"utf8ToBytes");function t5(t){return typeof t=="string"&&(t=Kce(t)),(0,tD.bytes)(t),t}o(t5,"toBytes");function W$e(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,tD.bytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(W$e,"concatBytes");var eD=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};kr.Hash=eD;var Y$e={}.toString;function X$e(t,e){if(e!==void 0&&Y$e.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(X$e,"checkOpts");function Z$e(t){let e=o(n=>t().update(t5(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Z$e,"wrapConstructor");function J$e(t){let e=o((n,i)=>t(i).update(t5(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(J$e,"wrapConstructorWithOpts");function Q$e(t){let e=o((n,i)=>t(i).update(t5(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Q$e,"wrapXOFConstructorWithOpts");function eGe(t=32){if(Cx.crypto&&typeof Cx.crypto.getRandomValues=="function")return Cx.crypto.getRandomValues(new Uint8Array(t));if(Cx.crypto&&typeof Cx.crypto.randomBytes=="function")return Cx.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}o(eGe,"randomBytes")});var iD=j(vp=>{"use strict";p();m();Object.defineProperty(vp,"__esModule",{value:!0});vp.HashMD=vp.Maj=vp.Chi=void 0;var rD=Q8(),Jw=xp();function tGe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(tGe,"setBigUint64");var rGe=o((t,e,r)=>t&e^~t&r,"Chi");vp.Chi=rGe;var nGe=o((t,e,r)=>t&e^t&r^e&r,"Maj");vp.Maj=nGe;var nD=class extends Jw.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Jw.createView)(this.buffer)}update(e){(0,rD.exists)(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,Jw.toBytes)(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,Jw.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,rD.exists)(this),(0,rD.output)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;tGe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Jw.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};vp.HashMD=nD});var hfe=j(ir=>{"use strict";p();m();Object.defineProperty(ir,"__esModule",{value:!0});ir.add5L=ir.add5H=ir.add4H=ir.add4L=ir.add3H=ir.add3L=ir.rotlBL=ir.rotlBH=ir.rotlSL=ir.rotlSH=ir.rotr32L=ir.rotr32H=ir.rotrBL=ir.rotrBH=ir.rotrSL=ir.rotrSH=ir.shrSL=ir.shrSH=ir.toBig=void 0;ir.fromBig=sD;ir.split=$ce;ir.add=sfe;var r5=BigInt(2**32-1),oD=BigInt(32);function sD(t,e=!1){return e?{h:Number(t&r5),l:Number(t>>oD&r5)}:{h:Number(t>>oD&r5)|0,l:Number(t&r5)|0}}o(sD,"fromBig");function $ce(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=sD(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o($ce,"split");var Gce=o((t,e)=>BigInt(t>>>0)<<oD|BigInt(e>>>0),"toBig");ir.toBig=Gce;var Wce=o((t,e,r)=>t>>>r,"shrSH");ir.shrSH=Wce;var Yce=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");ir.shrSL=Yce;var Xce=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");ir.rotrSH=Xce;var Zce=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");ir.rotrSL=Zce;var Jce=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");ir.rotrBH=Jce;var Qce=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");ir.rotrBL=Qce;var efe=o((t,e)=>e,"rotr32H");ir.rotr32H=efe;var tfe=o((t,e)=>t,"rotr32L");ir.rotr32L=tfe;var rfe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");ir.rotlSH=rfe;var nfe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");ir.rotlSL=nfe;var ife=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");ir.rotlBH=ife;var ofe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");ir.rotlBL=ofe;function sfe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(sfe,"add");var afe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");ir.add3L=afe;var cfe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");ir.add3H=cfe;var ffe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");ir.add4L=ffe;var ufe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");ir.add4H=ufe;var lfe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");ir.add5L=lfe;var dfe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");ir.add5H=dfe;var iGe={fromBig:sD,split:$ce,toBig:Gce,shrSH:Wce,shrSL:Yce,rotrSH:Xce,rotrSL:Zce,rotrBH:Jce,rotrBL:Qce,rotr32H:efe,rotr32L:tfe,rotlSH:rfe,rotlSL:nfe,rotlBH:ife,rotlBL:ofe,add:sfe,add3L:afe,add3H:cfe,add4L:ffe,add4H:ufe,add5H:dfe,add5L:lfe};ir.default=iGe});var pfe=j(Qo=>{"use strict";p();m();Object.defineProperty(Qo,"__esModule",{value:!0});Qo.sha384=Qo.sha512_256=Qo.sha512_224=Qo.sha512=Qo.SHA384=Qo.SHA512_256=Qo.SHA512_224=Qo.SHA512=void 0;var oGe=iD(),Sr=hfe(),s5=xp(),[sGe,aGe]=Sr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_p=new Uint32Array(80),wp=new Uint32Array(80),by=class extends oGe.HashMD{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)_p[N]=e.getUint32(r),wp[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=_p[N-15]|0,H=wp[N-15]|0,F=Sr.default.rotrSH(P,H,1)^Sr.default.rotrSH(P,H,8)^Sr.default.shrSH(P,H,7),Z=Sr.default.rotrSL(P,H,1)^Sr.default.rotrSL(P,H,8)^Sr.default.shrSL(P,H,7),W=_p[N-2]|0,X=wp[N-2]|0,S=Sr.default.rotrSH(W,X,19)^Sr.default.rotrBH(W,X,61)^Sr.default.shrSH(W,X,6),f=Sr.default.rotrSL(W,X,19)^Sr.default.rotrBL(W,X,61)^Sr.default.shrSL(W,X,6),d=Sr.default.add4L(Z,f,wp[N-7],wp[N-16]),b=Sr.default.add4H(d,F,S,_p[N-7],_p[N-16]);_p[N]=b|0,wp[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Sr.default.rotrSH(g,E,14)^Sr.default.rotrSH(g,E,18)^Sr.default.rotrBH(g,E,41),H=Sr.default.rotrSL(g,E,14)^Sr.default.rotrSL(g,E,18)^Sr.default.rotrBL(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=Sr.default.add5L(B,H,Z,aGe[N],wp[N]),X=Sr.default.add5H(W,C,P,F,sGe[N],_p[N]),S=W|0,f=Sr.default.rotrSH(n,i,28)^Sr.default.rotrBH(n,i,34)^Sr.default.rotrBH(n,i,39),d=Sr.default.rotrSL(n,i,28)^Sr.default.rotrBL(n,i,34)^Sr.default.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=Sr.default.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Sr.default.add3L(S,d,x);n=Sr.default.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Sr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Sr.default.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Sr.default.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Sr.default.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=Sr.default.add(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=Sr.default.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Sr.default.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Sr.default.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){_p.fill(0),wp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Qo.SHA512=by;var n5=class extends by{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};Qo.SHA512_224=n5;var i5=class extends by{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};Qo.SHA512_256=i5;var o5=class extends by{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Qo.SHA384=o5;Qo.sha512=(0,s5.wrapConstructor)(()=>new by);Qo.sha512_224=(0,s5.wrapConstructor)(()=>new n5);Qo.sha512_256=(0,s5.wrapConstructor)(()=>new i5);Qo.sha384=(0,s5.wrapConstructor)(()=>new o5)});var Gu=j(An=>{"use strict";p();m();Object.defineProperty(An,"__esModule",{value:!0});An.notImplemented=An.bitMask=void 0;An.isBytes=c5;An.abytes=f5;An.abool=fGe;An.bytesToHex=uD;An.numberToHexUnpadded=yfe;An.hexToNumber=lD;An.hexToBytes=u5;An.bytesToNumberBE=lGe;An.bytesToNumberLE=dGe;An.numberToBytesBE=bfe;An.numberToBytesLE=hGe;An.numberToVarBytesBE=pGe;An.ensureBytes=mGe;An.concatBytes=xfe;An.equalBytes=gGe;An.utf8ToBytes=yGe;An.inRange=vfe;An.aInRange=bGe;An.bitLen=xGe;An.bitGet=vGe;An.bitSet=_Ge;An.createHmacDrbg=EGe;An.validateObject=AGe;An.memoized=IGe;var fD=BigInt(0),a5=BigInt(1),cGe=BigInt(2);function c5(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(c5,"isBytes");function f5(t){if(!c5(t))throw new Error("Uint8Array expected")}o(f5,"abytes");function fGe(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}o(fGe,"abool");var uGe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uD(t){f5(t);let e="";for(let r=0;r<t.length;r++)e+=uGe[t[r]];return e}o(uD,"bytesToHex");function yfe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(yfe,"numberToHexUnpadded");function lD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(lD,"hexToNumber");var Oh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function mfe(t){if(t>=Oh._0&&t<=Oh._9)return t-Oh._0;if(t>=Oh._A&&t<=Oh._F)return t-(Oh._A-10);if(t>=Oh._a&&t<=Oh._f)return t-(Oh._a-10)}o(mfe,"asciiToBase16");function u5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=mfe(t.charCodeAt(s)),c=mfe(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(u5,"hexToBytes");function lGe(t){return lD(uD(t))}o(lGe,"bytesToNumberBE");function dGe(t){return f5(t),lD(uD(Uint8Array.from(t).reverse()))}o(dGe,"bytesToNumberLE");function bfe(t,e){return u5(t.toString(16).padStart(e*2,"0"))}o(bfe,"numberToBytesBE");function hGe(t,e){return bfe(t,e).reverse()}o(hGe,"numberToBytesLE");function pGe(t){return u5(yfe(t))}o(pGe,"numberToVarBytesBE");function mGe(t,e,r){let n;if(typeof e=="string")try{n=u5(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(c5(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(mGe,"ensureBytes");function xfe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];f5(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(xfe,"concatBytes");function gGe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(gGe,"equalBytes");function yGe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(yGe,"utf8ToBytes");var aD=o(t=>typeof t=="bigint"&&fD<=t,"isPosBig");function vfe(t,e,r){return aD(t)&&aD(e)&&aD(r)&&e<=t&&t<r}o(vfe,"inRange");function bGe(t,e,r,n){if(!vfe(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}o(bGe,"aInRange");function xGe(t){let e;for(e=0;t>fD;t>>=a5,e+=1);return e}o(xGe,"bitLen");function vGe(t,e){return t>>BigInt(e)&a5}o(vGe,"bitGet");function _Ge(t,e,r){return t|(r?a5:fD)<<BigInt(e)}o(_Ge,"bitSet");var wGe=o(t=>(cGe<<BigInt(t-1))-a5,"bitMask");An.bitMask=wGe;var cD=o(t=>new Uint8Array(t),"u8n"),gfe=o(t=>Uint8Array.from(t),"u8fr");function EGe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=cD(t),i=cD(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),c=o((...g)=>r(i,n,...g),"h"),l=o((g=cD())=>{i=c(gfe([0]),g),n=c(),g.length!==0&&(i=c(gfe([1]),g),n=c())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,E=[];for(;g<e;){n=c();let T=n.slice();E.push(T),g+=n.length}return xfe(...E)},"gen");return o((g,E)=>{a(),l(g);let T;for(;!(T=E(h()));)l();return a(),T},"genUntil")}o(EGe,"createHmacDrbg");var SGe={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||c5(t),"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function AGe(t,e,r={}){let n=o((i,s,a)=>{let c=SGe[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(AGe,"validateObject");var TGe=o(()=>{throw new Error("not implemented")},"notImplemented");An.notImplemented=TGe;function IGe(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let s=t(r,...n);return e.set(r,s),s}}o(IGe,"memoized")});var Sp=j(Ai=>{"use strict";p();m();Object.defineProperty(Ai,"__esModule",{value:!0});Ai.isNegativeLE=void 0;Ai.mod=Zc;Ai.pow=Efe;Ai.pow2=NGe;Ai.invert=l5;Ai.tonelliShanks=Sfe;Ai.FpSqrt=Afe;Ai.validateField=BGe;Ai.FpPow=Tfe;Ai.FpInvertBatch=Ife;Ai.FpDiv=PGe;Ai.FpLegendre=Rfe;Ai.FpIsSquare=LGe;Ai.nLength=hD;Ai.Field=DGe;Ai.FpSqrtOdd=UGe;Ai.FpSqrtEven=FGe;Ai.hashToPrivateScalar=HGe;Ai.getFieldBytesLength=pD;Ai.getMinHashLength=Ofe;Ai.mapHashToField=qGe;var Jc=Gu(),Oo=BigInt(0),Xn=BigInt(1),Ep=BigInt(2),RGe=BigInt(3),dD=BigInt(4),_fe=BigInt(5),wfe=BigInt(8),OGe=BigInt(9),MGe=BigInt(16);function Zc(t,e){let r=t%e;return r>=Oo?r:e+r}o(Zc,"mod");function Efe(t,e,r){if(r<=Oo||e<Oo)throw new Error("Expected power/modulo > 0");if(r===Xn)return Oo;let n=Xn;for(;e>Oo;)e&Xn&&(n=n*t%r),t=t*t%r,e>>=Xn;return n}o(Efe,"pow");function NGe(t,e,r){let n=t;for(;e-- >Oo;)n*=n,n%=r;return n}o(NGe,"pow2");function l5(t,e){if(t===Oo||e<=Oo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Zc(t,e),n=e,i=Oo,s=Xn,a=Xn,c=Oo;for(;r!==Oo;){let h=n/r,y=n%r,g=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=g,c=E}if(n!==Xn)throw new Error("invert: does not exist");return Zc(i,e)}o(l5,"invert");function Sfe(t){let e=(t-Xn)/Ep,r,n,i;for(r=t-Xn,n=0;r%Ep===Oo;r/=Ep,n++);for(i=Ep;i<t&&Efe(i,e,t)!==t-Xn;i++);if(n===1){let a=(t+Xn)/dD;return o(function(l,h){let y=l.pow(h,a);if(!l.eql(l.sqr(y),h))throw new Error("Cannot find square root");return y},"tonelliFast")}let s=(r+Xn)/Ep;return o(function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,y=c.pow(c.mul(c.ONE,i),r),g=c.pow(l,s),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let T=1;for(let M=c.sqr(E);T<h&&!c.eql(M,c.ONE);T++)M=c.sqr(M);let O=c.pow(y,Xn<<BigInt(h-T-1));y=c.sqr(O),g=c.mul(g,O),E=c.mul(E,y),h=T}return g},"tonelliSlow")}o(Sfe,"tonelliShanks");function Afe(t){if(t%dD===RGe){let e=(t+Xn)/dD;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%wfe===_fe){let e=(t-_fe)/wfe;return o(function(n,i){let s=n.mul(i,Ep),a=n.pow(s,e),c=n.mul(i,a),l=n.mul(n.mul(c,Ep),a),h=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%MGe,Sfe(t)}o(Afe,"FpSqrt");var CGe=o((t,e)=>(Zc(t,e)&Xn)===Xn,"isNegativeLE");Ai.isNegativeLE=CGe;var kGe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function BGe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=kGe.reduce((n,i)=>(n[i]="function",n),e);return(0,Jc.validateObject)(t,r)}o(BGe,"validateField");function Tfe(t,e,r){if(r<Oo)throw new Error("Expected power > 0");if(r===Oo)return t.ONE;if(r===Xn)return e;let n=t.ONE,i=e;for(;r>Oo;)r&Xn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Xn;return n}o(Tfe,"FpPow");function Ife(t,e){let r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}o(Ife,"FpInvertBatch");function PGe(t,e,r){return t.mul(e,typeof r=="bigint"?l5(r,t.ORDER):t.inv(r))}o(PGe,"FpDiv");function Rfe(t){let e=(t-Xn)/Ep;return(r,n)=>r.pow(n,e)}o(Rfe,"FpLegendre");function LGe(t){let e=Rfe(t.ORDER);return r=>{let n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}o(LGe,"FpIsSquare");function hD(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(hD,"nLength");function DGe(t,e,r=!1,n={}){if(t<=Oo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=hD(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=Afe(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,Jc.bitMask)(i),ZERO:Oo,ONE:Xn,create:o(l=>Zc(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Oo<=l&&l<t},"isValid"),is0:o(l=>l===Oo,"is0"),isOdd:o(l=>(l&Xn)===Xn,"isOdd"),neg:o(l=>Zc(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>Zc(l*l,t),"sqr"),add:o((l,h)=>Zc(l+h,t),"add"),sub:o((l,h)=>Zc(l-h,t),"sub"),mul:o((l,h)=>Zc(l*h,t),"mul"),pow:o((l,h)=>Tfe(c,l,h),"pow"),div:o((l,h)=>Zc(l*l5(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>l5(l,t),"inv"),sqrt:n.sqrt||(l=>a(c,l)),invertBatch:o(l=>Ife(c,l),"invertBatch"),cmov:o((l,h,y)=>y?h:l,"cmov"),toBytes:o(l=>r?(0,Jc.numberToBytesLE)(l,s):(0,Jc.numberToBytesBE)(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?(0,Jc.bytesToNumberLE)(l):(0,Jc.bytesToNumberBE)(l)},"fromBytes")});return Object.freeze(c)}o(DGe,"Field");function UGe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}o(UGe,"FpSqrtOdd");function FGe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}o(FGe,"FpSqrtEven");function HGe(t,e,r=!1){t=(0,Jc.ensureBytes)("privateHash",t);let n=t.length,i=hD(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,Jc.bytesToNumberLE)(t):(0,Jc.bytesToNumberBE)(t);return Zc(s,e-Xn)+Xn}o(HGe,"hashToPrivateScalar");function pD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(pD,"getFieldBytesLength");function Ofe(t){let e=pD(t);return e+Math.ceil(e/2)}o(Ofe,"getMinHashLength");function qGe(t,e,r=!1){let n=t.length,i=pD(e),s=Ofe(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?(0,Jc.bytesToNumberBE)(t):(0,Jc.bytesToNumberLE)(t),c=Zc(a,e-Xn)+Xn;return r?(0,Jc.numberToBytesLE)(c,i):(0,Jc.numberToBytesBE)(c,i)}o(qGe,"mapHashToField")});var yD=j(Qw=>{"use strict";p();m();Object.defineProperty(Qw,"__esModule",{value:!0});Qw.wNAF=jGe;Qw.pippenger=zGe;Qw.validateBasic=KGe;var Mfe=Sp(),Cfe=Gu(),VGe=BigInt(0),mD=BigInt(1),gD=new WeakMap,Nfe=new WeakMap;function jGe(t,e){let r=o((s,a)=>{let c=a.negate();return s?c:a},"constTimeNegate"),n=o(s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},"validateW"),i=o(s=>{n(s);let a=Math.ceil(e/s)+1,c=2**(s-1);return{windows:a,windowSize:c}},"opts");return{constTimeNegate:r,unsafeLadder(s,a){let c=t.ZERO,l=s;for(;a>VGe;)a&mD&&(c=c.add(l)),l=l.double(),a>>=mD;return c},precomputeWindow(s,a){let{windows:c,windowSize:l}=i(a),h=[],y=s,g=y;for(let E=0;E<c;E++){g=y,h.push(g);for(let T=1;T<l;T++)g=g.add(y),h.push(g);y=g.double()}return h},wNAF(s,a,c){let{windows:l,windowSize:h}=i(s),y=t.ZERO,g=t.BASE,E=BigInt(2**s-1),T=2**s,O=BigInt(s);for(let M=0;M<l;M++){let k=M*h,C=Number(c&E);c>>=O,C>h&&(C-=T,c+=mD);let B=k,N=k+Math.abs(C)-1,P=M%2!==0,H=C<0;C===0?g=g.add(r(P,a[B])):y=y.add(r(H,a[N]))}return{p:y,f:g}},wNAFCached(s,a,c){let l=Nfe.get(s)||1,h=gD.get(s);return h||(h=this.precomputeWindow(s,l),l!==1&&gD.set(s,c(h))),this.wNAF(l,h,a)},setWindowSize(s,a){n(a),Nfe.set(s,a),gD.delete(s)}}}o(jGe,"wNAF");function zGe(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((y,g)=>{if(!e.isValid(y))throw new Error(`wrong scalar at index ${g}`)}),r.forEach((y,g)=>{if(!(y instanceof t))throw new Error(`wrong point at index ${g}`)});let i=(0,Cfe.bitLen)(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/s)*s,h=t.ZERO;for(let y=l;y>=0;y-=s){c.fill(t.ZERO);for(let E=0;E<n.length;E++){let T=n[E],O=Number(T>>BigInt(y)&BigInt(a));c[O]=c[O].add(r[E])}let g=t.ZERO;for(let E=c.length-1,T=t.ZERO;E>0;E--)T=T.add(c[E]),g=g.add(T);if(h=h.add(g),y!==0)for(let E=0;E<s;E++)h=h.double()}return h}o(zGe,"pippenger");function KGe(t){return(0,Mfe.validateField)(t.Fp),(0,Cfe.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Mfe.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(KGe,"validateBasic")});var Bfe=j(xD=>{"use strict";p();m();Object.defineProperty(xD,"__esModule",{value:!0});xD.twistedEdwards=YGe;var bD=yD(),kfe=Sp(),lc=Gu(),Qc=Gu(),Wu=BigInt(0),uc=BigInt(1),d5=BigInt(2),$Ge=BigInt(8),GGe={zip215:!0};function WGe(t){let e=(0,bD.validateBasic)(t);return lc.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}o(WGe,"validateOpts");function YGe(t){let e=WGe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:l}=e,h=d5<<BigInt(c*8)-uc,y=r.create,g=(0,kfe.Field)(e.n,e.nBitLength),E=e.uvRatio||((A,I)=>{try{return{isValid:!0,value:r.sqrt(A*r.inv(I))}}catch{return{isValid:!1,value:Wu}}}),T=e.adjustScalarBytes||(A=>A),O=e.domain||((A,I,v)=>{if((0,Qc.abool)("phflag",v),I.length||v)throw new Error("Contexts/pre-hash are not supported");return A});function M(A,I){lc.aInRange("coordinate "+A,I,Wu,h)}o(M,"aCoordinate");function k(A){if(!(A instanceof N))throw new Error("ExtendedPoint expected")}o(k,"assertPoint");let C=(0,Qc.memoized)((A,I)=>{let{ex:v,ey:u,ez:w}=A,V=A.is0();I==null&&(I=V?$Ge:r.inv(w));let q=y(v*I),U=y(u*I),G=y(w*I);if(V)return{x:Wu,y:uc};if(G!==uc)throw new Error("invZ was invalid");return{x:q,y:U}}),B=(0,Qc.memoized)(A=>{let{a:I,d:v}=e;if(A.is0())throw new Error("bad point: ZERO");let{ex:u,ey:w,ez:V,et:q}=A,U=y(u*u),G=y(w*w),ee=y(V*V),re=y(ee*ee),Oe=y(U*I),ae=y(ee*y(Oe+G)),le=y(re+y(v*y(U*G)));if(ae!==le)throw new Error("bad point: equation left != right (1)");let ye=y(u*w),he=y(V*q);if(ye!==he)throw new Error("bad point: equation left != right (2)");return!0});class N{static{o(this,"Point")}constructor(I,v,u,w){this.ex=I,this.ey=v,this.ez=u,this.et=w,M("x",I),M("y",v),M("z",u),M("t",w),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof N)throw new Error("extended point not allowed");let{x:v,y:u}=I||{};return M("x",v),M("y",u),new N(v,u,uc,y(v*u))}static normalizeZ(I){let v=r.invertBatch(I.map(u=>u.ez));return I.map((u,w)=>u.toAffine(v[w])).map(N.fromAffine)}static msm(I,v){return(0,bD.pippenger)(N,g,I,v)}_setWindowSize(I){F.setWindowSize(this,I)}assertValidity(){B(this)}equals(I){k(I);let{ex:v,ey:u,ez:w}=this,{ex:V,ey:q,ez:U}=I,G=y(v*U),ee=y(V*w),re=y(u*U),Oe=y(q*w);return G===ee&&re===Oe}is0(){return this.equals(N.ZERO)}negate(){return new N(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){let{a:I}=e,{ex:v,ey:u,ez:w}=this,V=y(v*v),q=y(u*u),U=y(d5*y(w*w)),G=y(I*V),ee=v+u,re=y(y(ee*ee)-V-q),Oe=G+q,ae=Oe-U,le=G-q,ye=y(re*ae),he=y(Oe*le),ge=y(re*le),lr=y(ae*Oe);return new N(ye,he,lr,ge)}add(I){k(I);let{a:v,d:u}=e,{ex:w,ey:V,ez:q,et:U}=this,{ex:G,ey:ee,ez:re,et:Oe}=I;if(v===BigInt(-1)){let Ue=y((V-w)*(ee+G)),Pe=y((V+w)*(ee-G)),Gn=y(Pe-Ue);if(Gn===Wu)return this.double();let Be=y(q*d5*Oe),Le=y(U*d5*re),Qr=Le+Be,J=Pe+Ue,Q=Le-Be,pe=y(Qr*Gn),ne=y(J*Q),de=y(Qr*Q),yt=y(Gn*J);return new N(pe,ne,yt,de)}let ae=y(w*G),le=y(V*ee),ye=y(U*u*Oe),he=y(q*re),ge=y((w+V)*(G+ee)-ae-le),lr=he-ye,Ae=he+ye,Me=y(le-v*ae),Kn=y(ge*lr),qe=y(Ae*Me),ke=y(ge*Me),$n=y(lr*Ae);return new N(Kn,qe,$n,ke)}subtract(I){return this.add(I.negate())}wNAF(I){return F.wNAFCached(this,I,N.normalizeZ)}multiply(I){let v=I;lc.aInRange("scalar",v,uc,n);let{p:u,f:w}=this.wNAF(v);return N.normalizeZ([u,w])[0]}multiplyUnsafe(I){let v=I;return lc.aInRange("scalar",v,Wu,n),v===Wu?H:this.equals(H)||v===uc?this:this.equals(P)?this.wNAF(v).p:F.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return F.unsafeLadder(this,n).is0()}toAffine(I){return C(this,I)}clearCofactor(){let{h:I}=e;return I===uc?this:this.multiplyUnsafe(I)}static fromHex(I,v=!1){let{d:u,a:w}=e,V=r.BYTES;I=(0,Qc.ensureBytes)("pointHex",I,V),(0,Qc.abool)("zip215",v);let q=I.slice(),U=I[V-1];q[V-1]=U&-129;let G=lc.bytesToNumberLE(q),ee=v?h:r.ORDER;lc.aInRange("pointHex.y",G,Wu,ee);let re=y(G*G),Oe=y(re-uc),ae=y(u*re-w),{isValid:le,value:ye}=E(Oe,ae);if(!le)throw new Error("Point.fromHex: invalid y coordinate");let he=(ye&uc)===uc,ge=(U&128)!==0;if(!v&&ye===Wu&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==he&&(ye=y(-ye)),N.fromAffine({x:ye,y:G})}static fromPrivateKey(I){return X(I).point}toRawBytes(){let{x:I,y:v}=this.toAffine(),u=lc.numberToBytesLE(v,r.BYTES);return u[u.length-1]|=I&uc?128:0,u}toHex(){return lc.bytesToHex(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,uc,y(e.Gx*e.Gy)),N.ZERO=new N(Wu,uc,uc,Wu);let{BASE:P,ZERO:H}=N,F=(0,bD.wNAF)(N,c*8);function Z(A){return(0,kfe.mod)(A,n)}o(Z,"modN");function W(A){return Z(lc.bytesToNumberLE(A))}o(W,"modN_LE");function X(A){let I=c;A=(0,Qc.ensureBytes)("private key",A,I);let v=(0,Qc.ensureBytes)("hashed private key",s(A),2*I),u=T(v.slice(0,I)),w=v.slice(I,2*I),V=W(u),q=P.multiply(V),U=q.toRawBytes();return{head:u,prefix:w,scalar:V,point:q,pointBytes:U}}o(X,"getExtendedPublicKey");function S(A){return X(A).pointBytes}o(S,"getPublicKey");function f(A=new Uint8Array,...I){let v=lc.concatBytes(...I);return W(s(O(v,(0,Qc.ensureBytes)("context",A),!!i)))}o(f,"hashDomainToScalar");function d(A,I,v={}){A=(0,Qc.ensureBytes)("message",A),i&&(A=i(A));let{prefix:u,scalar:w,pointBytes:V}=X(I),q=f(v.context,u,A),U=P.multiply(q).toRawBytes(),G=f(v.context,U,V,A),ee=Z(q+G*w);lc.aInRange("signature.s",ee,Wu,n);let re=lc.concatBytes(U,lc.numberToBytesLE(ee,r.BYTES));return(0,Qc.ensureBytes)("result",re,c*2)}o(d,"sign");let b=GGe;function x(A,I,v,u=b){let{context:w,zip215:V}=u,q=r.BYTES;A=(0,Qc.ensureBytes)("signature",A,2*q),I=(0,Qc.ensureBytes)("message",I),V!==void 0&&(0,Qc.abool)("zip215",V),i&&(I=i(I));let U=lc.bytesToNumberLE(A.slice(q,2*q)),G,ee,re;try{G=N.fromHex(v,V),ee=N.fromHex(A.slice(0,q),V),re=P.multiplyUnsafe(U)}catch{return!1}if(!V&&G.isSmallOrder())return!1;let Oe=f(w,ee.toRawBytes(),G.toRawBytes(),I);return ee.add(G.multiplyUnsafe(Oe)).subtract(re).clearCofactor().equals(N.ZERO)}return o(x,"verify"),P._setWindowSize(8),{CURVE:e,getPublicKey:S,sign:d,verify:x,ExtendedPoint:N,utils:{getExtendedPublicKey:X,randomPrivateKey:o(()=>a(r.BYTES),"randomPrivateKey"),precompute(A=8,I=N.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}}}}o(YGe,"twistedEdwards")});var _D=j(xy=>{"use strict";p();m();Object.defineProperty(xy,"__esModule",{value:!0});xy.expand_message_xmd=Pfe;xy.expand_message_xof=Lfe;xy.hash_to_field=vD;xy.isogenyMap=QGe;xy.createHasher=eWe;var XGe=Sp(),ta=Gu(),ZGe=ta.bytesToNumberBE;function Ap(t,e){if(eE(t),eE(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}o(Ap,"i2osp");function JGe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}o(JGe,"strxor");function eE(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}o(eE,"anum");function Pfe(t,e,r,n){(0,ta.abytes)(t),(0,ta.abytes)(e),eE(r),e.length>255&&(e=n((0,ta.concatBytes)((0,ta.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let c=(0,ta.concatBytes)(e,Ap(e.length,1)),l=Ap(0,s),h=Ap(r,2),y=new Array(a),g=n((0,ta.concatBytes)(l,t,h,Ap(0,1),c));y[0]=n((0,ta.concatBytes)(g,Ap(1,1),c));for(let T=1;T<=a;T++){let O=[JGe(g,y[T-1]),Ap(T+1,1),c];y[T]=n((0,ta.concatBytes)(...O))}return(0,ta.concatBytes)(...y).slice(0,r)}o(Pfe,"expand_message_xmd");function Lfe(t,e,r,n,i){if((0,ta.abytes)(t),(0,ta.abytes)(e),eE(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,ta.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Ap(r,2)).update(e).update(Ap(e.length,1)).digest()}o(Lfe,"expand_message_xof");function vD(t,e,r){(0,ta.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:a,expand:c,DST:l}=r;(0,ta.abytes)(t),eE(e);let h=typeof l=="string"?(0,ta.utf8ToBytes)(l):l,y=n.toString(2).length,g=Math.ceil((y+i)/8),E=e*s*g,T;if(c==="xmd")T=Pfe(t,h,E,a);else if(c==="xof")T=Lfe(t,h,E,i,a);else if(c==="_internal_pass")T=t;else throw new Error('expand must be "xmd" or "xof"');let O=new Array(e);for(let M=0;M<e;M++){let k=new Array(s);for(let C=0;C<s;C++){let B=g*(C+M*s),N=T.subarray(B,B+g);k[C]=(0,XGe.mod)(ZGe(N),n)}O[M]=k}return O}o(vD,"hash_to_field");function QGe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,a,c,l]=r.map(h=>h.reduce((y,g)=>t.add(t.mul(y,n),g)));return n=t.div(s,a),i=t.mul(i,t.div(c,l)),{x:n,y:i}}}o(QGe,"isogenyMap");function eWe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=vD(n,2,{...r,DST:r.DST,...i}),a=t.fromAffine(e(s[0])),c=t.fromAffine(e(s[1])),l=a.add(c).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){let s=vD(n,1,{...r,DST:r.encodeDST,...i}),a=t.fromAffine(e(s[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let s of n)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}}o(eWe,"createHasher")});var Ufe=j(ED=>{"use strict";p();m();Object.defineProperty(ED,"__esModule",{value:!0});ED.montgomery=rWe;var Dfe=Sp(),Tp=Gu(),kx=BigInt(0),wD=BigInt(1);function tWe(t){return(0,Tp.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}o(tWe,"validateOpts");function rWe(t){let e=tWe(t),{P:r}=e,n=o(B=>(0,Dfe.mod)(B,r),"modP"),i=e.montgomeryBits,s=Math.ceil(i/8),a=e.nByteLength,c=e.adjustScalarBytes||(B=>B),l=e.powPminus2||(B=>(0,Dfe.pow)(B,r-BigInt(2),r));function h(B,N,P){let H=n(B*(N-P));return N=n(N-H),P=n(P+H),[N,P]}o(h,"cswap");let y=(e.a-BigInt(2))/BigInt(4);function g(B,N){(0,Tp.aInRange)("u",B,kx,r),(0,Tp.aInRange)("scalar",N,kx,r);let P=N,H=B,F=wD,Z=kx,W=B,X=wD,S=kx,f;for(let b=BigInt(i-1);b>=kx;b--){let x=P>>b&wD;S^=x,f=h(S,F,W),F=f[0],W=f[1],f=h(S,Z,X),Z=f[0],X=f[1],S=x;let _=F+Z,A=n(_*_),I=F-Z,v=n(I*I),u=A-v,w=W+X,V=W-X,q=n(V*_),U=n(w*I),G=q+U,ee=q-U;W=n(G*G),X=n(H*n(ee*ee)),F=n(A*v),Z=n(u*(A+n(y*u)))}f=h(S,F,W),F=f[0],W=f[1],f=h(S,Z,X),Z=f[0],X=f[1];let d=l(Z);return n(F*d)}o(g,"montgomeryLadder");function E(B){return(0,Tp.numberToBytesLE)(n(B),s)}o(E,"encodeUCoordinate");function T(B){let N=(0,Tp.ensureBytes)("u coordinate",B,s);return a===32&&(N[31]&=127),(0,Tp.bytesToNumberLE)(N)}o(T,"decodeUCoordinate");function O(B){let N=(0,Tp.ensureBytes)("scalar",B),P=N.length;if(P!==s&&P!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${P}`);return(0,Tp.bytesToNumberLE)(c(N))}o(O,"decodeScalar");function M(B,N){let P=T(N),H=O(B),F=g(P,H);if(F===kx)throw new Error("Invalid private or public key received");return E(F)}o(M,"scalarMult");let k=E(e.Gu);function C(B){return M(B,k)}return o(C,"scalarMultBase"),{scalarMult:M,scalarMultBase:C,getSharedSecret:o((B,N)=>M(B,N),"getSharedSecret"),getPublicKey:o(B=>C(B),"getPublicKey"),utils:{randomPrivateKey:o(()=>e.randomBytes(e.nByteLength),"randomPrivateKey")},GuBytes:k}}o(rWe,"montgomery")});var Xfe=j(or=>{"use strict";p();m();Object.defineProperty(or,"__esModule",{value:!0});or.hash_to_ristretto255=or.hashToRistretto255=or.RistrettoPoint=or.encodeToCurve=or.hashToCurve=or.edwardsToMontgomery=or.x25519=or.ed25519ph=or.ed25519ctx=or.ed25519=or.ED25519_TORSION_SUBGROUP=void 0;or.edwardsToMontgomeryPub=Wfe;or.edwardsToMontgomeryPriv=oWe;var p5=pfe(),tE=xp(),RD=Bfe(),Vfe=_D(),Tn=Sp(),nWe=Ufe(),vy=Gu(),rE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),TD=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),iWe=BigInt(0),td=BigInt(1),h5=BigInt(2),jfe=BigInt(3),zfe=BigInt(5),OD=BigInt(8);function Kfe(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=rE,c=t*t%s*t%s,l=(0,Tn.pow2)(c,h5,s)*c%s,h=(0,Tn.pow2)(l,td,s)*t%s,y=(0,Tn.pow2)(h,zfe,s)*h%s,g=(0,Tn.pow2)(y,e,s)*y%s,E=(0,Tn.pow2)(g,r,s)*g%s,T=(0,Tn.pow2)(E,n,s)*E%s,O=(0,Tn.pow2)(T,i,s)*T%s,M=(0,Tn.pow2)(O,i,s)*T%s,k=(0,Tn.pow2)(M,e,s)*y%s;return{pow_p_5_8:(0,Tn.pow2)(k,h5,s)*t%s,b2:c}}o(Kfe,"ed25519_pow_2_252_3");function $fe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o($fe,"adjustScalarBytes");function MD(t,e){let r=rE,n=(0,Tn.mod)(e*e*e,r),i=(0,Tn.mod)(n*n*e,r),s=Kfe(t*i).pow_p_5_8,a=(0,Tn.mod)(t*n*s,r),c=(0,Tn.mod)(e*a*a,r),l=a,h=(0,Tn.mod)(a*TD,r),y=c===t,g=c===(0,Tn.mod)(-t,r),E=c===(0,Tn.mod)(-t*TD,r);return y&&(a=l),(g||E)&&(a=h),(0,Tn.isNegativeLE)(a,r)&&(a=(0,Tn.mod)(-a,r)),{isValid:y||g,value:a}}o(MD,"uvRatio");or.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var bt=(0,Tn.Field)(rE,void 0,!0),nE={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:OD,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p5.sha512,randomBytes:tE.randomBytes,adjustScalarBytes:$fe,uvRatio:MD};or.ed25519=(0,RD.twistedEdwards)(nE);function Gfe(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,tE.concatBytes)((0,tE.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}o(Gfe,"ed25519_domain");or.ed25519ctx=(0,RD.twistedEdwards)({...nE,domain:Gfe});or.ed25519ph=(0,RD.twistedEdwards)(Object.assign({},nE,{domain:Gfe,prehash:p5.sha512}));or.x25519=(0,nWe.montgomery)({P:rE,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:o(t=>{let e=rE,{pow_p_5_8:r,b2:n}=Kfe(t);return(0,Tn.mod)((0,Tn.pow2)(r,jfe,e)*n,e)},"powPminus2"),adjustScalarBytes:$fe,randomBytes:tE.randomBytes});function Wfe(t){let{y:e}=or.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return bt.toBytes(bt.create((r+e)*bt.inv(r-e)))}o(Wfe,"edwardsToMontgomeryPub");or.edwardsToMontgomery=Wfe;function oWe(t){let e=nE.hash(t.subarray(0,32));return nE.adjustScalarBytes(e).subarray(0,32)}o(oWe,"edwardsToMontgomeryPriv");var sWe=(bt.ORDER+jfe)/OD,aWe=bt.pow(h5,sWe),Ffe=bt.sqrt(bt.neg(bt.ONE));function cWe(t){let e=(bt.ORDER-zfe)/OD,r=BigInt(486662),n=bt.sqr(t);n=bt.mul(n,h5);let i=bt.add(n,bt.ONE),s=bt.neg(r),a=bt.sqr(i),c=bt.mul(a,i),l=bt.mul(n,r);l=bt.mul(l,s),l=bt.add(l,a),l=bt.mul(l,s);let h=bt.sqr(c);a=bt.sqr(h),h=bt.mul(h,c),h=bt.mul(h,l),a=bt.mul(a,h);let y=bt.pow(a,e);y=bt.mul(y,h);let g=bt.mul(y,Ffe);a=bt.sqr(y),a=bt.mul(a,c);let E=bt.eql(a,l),T=bt.cmov(g,y,E),O=bt.mul(s,n),M=bt.mul(y,t);M=bt.mul(M,aWe);let k=bt.mul(M,Ffe),C=bt.mul(l,n);a=bt.sqr(M),a=bt.mul(a,c);let B=bt.eql(a,C),N=bt.cmov(k,M,B);a=bt.sqr(T),a=bt.mul(a,c);let P=bt.eql(a,l),H=bt.cmov(O,s,P),F=bt.cmov(N,T,P),Z=bt.isOdd(F);return F=bt.cmov(F,bt.neg(F),P!==Z),{xMn:H,xMd:i,yMn:F,yMd:td}}o(cWe,"map_to_curve_elligator2_curve25519");var fWe=(0,Tn.FpSqrtEven)(bt,bt.neg(BigInt(486664)));function uWe(t){let{xMn:e,xMd:r,yMn:n,yMd:i}=cWe(t),s=bt.mul(e,i);s=bt.mul(s,fWe);let a=bt.mul(r,n),c=bt.sub(e,r),l=bt.add(e,r),h=bt.mul(a,l),y=bt.eql(h,bt.ZERO);s=bt.cmov(s,bt.ZERO,y),a=bt.cmov(a,bt.ONE,y),c=bt.cmov(c,bt.ONE,y),l=bt.cmov(l,bt.ONE,y);let g=bt.invertBatch([a,l]);return{x:bt.mul(s,g[0]),y:bt.mul(c,g[1])}}o(uWe,"map_to_curve_elligator2_edwards25519");var Yfe=(0,Vfe.createHasher)(or.ed25519.ExtendedPoint,t=>uWe(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:bt.ORDER,m:1,k:128,expand:"xmd",hash:p5.sha512});or.hashToCurve=Yfe.hashToCurve;or.encodeToCurve=Yfe.encodeToCurve;function SD(t){if(!(t instanceof Yu))throw new Error("RistrettoPoint expected")}o(SD,"assertRstPoint");var ID=TD,lWe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),dWe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),hWe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),pWe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Hfe=o(t=>MD(td,t),"invertSqrt"),mWe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),AD=o(t=>or.ed25519.CURVE.Fp.create((0,vy.bytesToNumberLE)(t)&mWe),"bytes255ToNumberLE");function qfe(t){let{d:e}=or.ed25519.CURVE,r=or.ed25519.CURVE.Fp.ORDER,n=or.ed25519.CURVE.Fp.create,i=n(ID*t*t),s=n((i+td)*hWe),a=BigInt(-1),c=n((a-e*i)*n(i+e)),{isValid:l,value:h}=MD(s,c),y=n(h*t);(0,Tn.isNegativeLE)(y,r)||(y=n(-y)),l||(h=y),l||(a=i);let g=n(a*(i-td)*pWe-c),E=h*h,T=n((h+h)*c),O=n(g*lWe),M=n(td-E),k=n(td+E);return new or.ed25519.ExtendedPoint(n(T*k),n(M*O),n(O*k),n(T*M))}o(qfe,"calcElligatorRistrettoMap");var Yu=class t{static{o(this,"RistPoint")}constructor(e){this.ep=e}static fromAffine(e){return new t(or.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,vy.ensureBytes)("ristrettoHash",e,64);let r=AD(e.slice(0,32)),n=qfe(r),i=AD(e.slice(32,64)),s=qfe(i);return new t(n.add(s))}static fromHex(e){e=(0,vy.ensureBytes)("ristrettoHex",e,32);let{a:r,d:n}=or.ed25519.CURVE,i=or.ed25519.CURVE.Fp.ORDER,s=or.ed25519.CURVE.Fp.create,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",c=AD(e);if(!(0,vy.equalBytes)((0,vy.numberToBytesLE)(c,32),e)||(0,Tn.isNegativeLE)(c,i))throw new Error(a);let l=s(c*c),h=s(td+r*l),y=s(td-r*l),g=s(h*h),E=s(y*y),T=s(r*n*g-E),{isValid:O,value:M}=Hfe(s(T*E)),k=s(M*y),C=s(M*k*T),B=s((c+c)*k);(0,Tn.isNegativeLE)(B,i)&&(B=s(-B));let N=s(h*C),P=s(B*N);if(!O||(0,Tn.isNegativeLE)(P,i)||N===iWe)throw new Error(a);return new t(new or.ed25519.ExtendedPoint(B,N,td,P))}toRawBytes(){let{ex:e,ey:r,ez:n,et:i}=this.ep,s=or.ed25519.CURVE.Fp.ORDER,a=or.ed25519.CURVE.Fp.create,c=a(a(n+r)*a(n-r)),l=a(e*r),h=a(l*l),{value:y}=Hfe(a(c*h)),g=a(y*c),E=a(y*l),T=a(g*E*i),O;if((0,Tn.isNegativeLE)(i*T,s)){let k=a(r*ID),C=a(e*ID);e=k,r=C,O=a(g*dWe)}else O=E;(0,Tn.isNegativeLE)(e*T,s)&&(r=a(-r));let M=a((n-r)*O);return(0,Tn.isNegativeLE)(M,s)&&(M=a(-M)),(0,vy.numberToBytesLE)(M,32)}toHex(){return(0,vy.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){SD(e);let{ex:r,ey:n}=this.ep,{ex:i,ey:s}=e.ep,a=or.ed25519.CURVE.Fp.create,c=a(r*s)===a(n*i),l=a(n*s)===a(r*i);return c||l}add(e){return SD(e),new t(this.ep.add(e.ep))}subtract(e){return SD(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}double(){return new t(this.ep.double())}negate(){return new t(this.ep.negate())}};or.RistrettoPoint=(Yu.BASE||(Yu.BASE=new Yu(or.ed25519.ExtendedPoint.BASE)),Yu.ZERO||(Yu.ZERO=new Yu(or.ed25519.ExtendedPoint.ZERO)),Yu);var gWe=o((t,e)=>{let r=e.DST,n=typeof r=="string"?(0,tE.utf8ToBytes)(r):r,i=(0,Vfe.expand_message_xmd)(t,n,64,p5.sha512);return Yu.hashToCurve(i)},"hashToRistretto255");or.hashToRistretto255=gWe;or.hash_to_ristretto255=or.hashToRistretto255});var Zfe=j(m5=>{"use strict";p();m();Object.defineProperty(m5,"__esModule",{value:!0});m5.crypto=void 0;m5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var y5=j(Kt=>{"use strict";p();m();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.wrapXOFConstructorWithOpts=Kt.wrapConstructorWithOpts=Kt.wrapConstructor=Kt.Hash=Kt.nextTick=Kt.swap32IfBE=Kt.byteSwapIfBE=Kt.swap8IfBE=Kt.isLE=void 0;Kt.isBytes=Qfe;Kt.anumber=ND;Kt.abytes=Px;Kt.ahash=yWe;Kt.aexists=bWe;Kt.aoutput=xWe;Kt.u8=vWe;Kt.u32=_We;Kt.clean=wWe;Kt.createView=EWe;Kt.rotr=SWe;Kt.rotl=AWe;Kt.byteSwap=kD;Kt.byteSwap32=eue;Kt.bytesToHex=IWe;Kt.hexToBytes=RWe;Kt.asyncLoop=MWe;Kt.utf8ToBytes=BD;Kt.bytesToUtf8=NWe;Kt.toBytes=g5;Kt.kdfInputToBytes=CWe;Kt.concatBytes=kWe;Kt.checkOpts=BWe;Kt.createHasher=rue;Kt.createOptHasher=nue;Kt.createXOFer=iue;Kt.randomBytes=PWe;var Bx=Zfe();function Qfe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Qfe,"isBytes");function ND(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(ND,"anumber");function Px(t,...e){if(!Qfe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Px,"abytes");function yWe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ND(t.outputLen),ND(t.blockLen)}o(yWe,"ahash");function bWe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(bWe,"aexists");function xWe(t,e){Px(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(xWe,"aoutput");function vWe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(vWe,"u8");function _We(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(_We,"u32");function wWe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(wWe,"clean");function EWe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(EWe,"createView");function SWe(t,e){return t<<32-e|t>>>e}o(SWe,"rotr");function AWe(t,e){return t<<e|t>>>32-e>>>0}o(AWe,"rotl");Kt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function kD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(kD,"byteSwap");Kt.swap8IfBE=Kt.isLE?t=>t:t=>kD(t);Kt.byteSwapIfBE=Kt.swap8IfBE;function eue(t){for(let e=0;e<t.length;e++)t[e]=kD(t[e]);return t}o(eue,"byteSwap32");Kt.swap32IfBE=Kt.isLE?t=>t:eue;var tue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",TWe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function IWe(t){if(Px(t),tue)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=TWe[t[r]];return e}o(IWe,"bytesToHex");var Mh={_0:48,_9:57,A:65,F:70,a:97,f:102};function Jfe(t){if(t>=Mh._0&&t<=Mh._9)return t-Mh._0;if(t>=Mh.A&&t<=Mh.F)return t-(Mh.A-10);if(t>=Mh.a&&t<=Mh.f)return t-(Mh.a-10)}o(Jfe,"asciiToBase16");function RWe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(tue)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=Jfe(t.charCodeAt(s)),c=Jfe(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(RWe,"hexToBytes");var OWe=o(async()=>{},"nextTick");Kt.nextTick=OWe;async function MWe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Kt.nextTick)(),n+=s)}}o(MWe,"asyncLoop");function BD(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(BD,"utf8ToBytes");function NWe(t){return new TextDecoder().decode(t)}o(NWe,"bytesToUtf8");function g5(t){return typeof t=="string"&&(t=BD(t)),Px(t),t}o(g5,"toBytes");function CWe(t){return typeof t=="string"&&(t=BD(t)),Px(t),t}o(CWe,"kdfInputToBytes");function kWe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Px(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(kWe,"concatBytes");function BWe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(BWe,"checkOpts");var CD=class{static{o(this,"Hash")}};Kt.Hash=CD;function rue(t){let e=o(n=>t().update(g5(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(rue,"createHasher");function nue(t){let e=o((n,i)=>t(i).update(g5(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(nue,"createOptHasher");function iue(t){let e=o((n,i)=>t(i).update(g5(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(iue,"createXOFer");Kt.wrapConstructor=rue;Kt.wrapConstructorWithOpts=nue;Kt.wrapXOFConstructorWithOpts=iue;function PWe(t=32){if(Bx.crypto&&typeof Bx.crypto.getRandomValues=="function")return Bx.crypto.getRandomValues(new Uint8Array(t));if(Bx.crypto&&typeof Bx.crypto.randomBytes=="function")return Uint8Array.from(Bx.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(PWe,"randomBytes")});var sue=j(Pa=>{"use strict";p();m();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.SHA512_IV=Pa.SHA384_IV=Pa.SHA224_IV=Pa.SHA256_IV=Pa.HashMD=void 0;Pa.setBigUint64=oue;Pa.Chi=LWe;Pa.Maj=DWe;var rd=y5();function oue(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(oue,"setBigUint64");function LWe(t,e,r){return t&e^~t&r}o(LWe,"Chi");function DWe(t,e,r){return t&e^t&r^e&r}o(DWe,"Maj");var PD=class extends rd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,rd.createView)(this.buffer)}update(e){(0,rd.aexists)(this),e=(0,rd.toBytes)(e),(0,rd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,rd.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,rd.aexists)(this),(0,rd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,rd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;oue(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,rd.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Pa.HashMD=PD;Pa.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Pa.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Pa.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Pa.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var UD=j(sr=>{"use strict";p();m();Object.defineProperty(sr,"__esModule",{value:!0});sr.toBig=sr.shrSL=sr.shrSH=sr.rotrSL=sr.rotrSH=sr.rotrBL=sr.rotrBH=sr.rotr32L=sr.rotr32H=sr.rotlSL=sr.rotlSH=sr.rotlBL=sr.rotlBH=sr.add5L=sr.add5H=sr.add4L=sr.add4H=sr.add3L=sr.add3H=void 0;sr.add=_ue;sr.fromBig=DD;sr.split=aue;var b5=BigInt(2**32-1),LD=BigInt(32);function DD(t,e=!1){return e?{h:Number(t&b5),l:Number(t>>LD&b5)}:{h:Number(t>>LD&b5)|0,l:Number(t&b5)|0}}o(DD,"fromBig");function aue(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=DD(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(aue,"split");var cue=o((t,e)=>BigInt(t>>>0)<<LD|BigInt(e>>>0),"toBig");sr.toBig=cue;var fue=o((t,e,r)=>t>>>r,"shrSH");sr.shrSH=fue;var uue=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");sr.shrSL=uue;var lue=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");sr.rotrSH=lue;var due=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");sr.rotrSL=due;var hue=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");sr.rotrBH=hue;var pue=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");sr.rotrBL=pue;var mue=o((t,e)=>e,"rotr32H");sr.rotr32H=mue;var gue=o((t,e)=>t,"rotr32L");sr.rotr32L=gue;var yue=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");sr.rotlSH=yue;var bue=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");sr.rotlSL=bue;var xue=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");sr.rotlBH=xue;var vue=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");sr.rotlBL=vue;function _ue(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(_ue,"add");var wue=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");sr.add3L=wue;var Eue=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");sr.add3H=Eue;var Sue=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");sr.add4L=Sue;var Aue=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");sr.add4H=Aue;var Tue=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");sr.add5L=Tue;var Iue=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");sr.add5H=Iue;var UWe={fromBig:DD,split:aue,toBig:cue,shrSH:fue,shrSL:uue,rotrSH:lue,rotrSL:due,rotrBH:hue,rotrBL:pue,rotr32H:mue,rotr32L:gue,rotlSH:yue,rotlSL:bue,rotlBH:xue,rotlBL:vue,add:_ue,add3L:wue,add3H:Eue,add4L:Sue,add4H:Aue,add5H:Iue,add5L:Tue};sr.default=UWe});var Oue=j(ei=>{"use strict";p();m();Object.defineProperty(ei,"__esModule",{value:!0});ei.sha512_224=ei.sha512_256=ei.sha384=ei.sha512=ei.sha224=ei.sha256=ei.SHA512_256=ei.SHA512_224=ei.SHA384=ei.SHA512=ei.SHA224=ei.SHA256=void 0;var qt=sue(),Ar=UD(),yo=y5(),FWe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ip=new Uint32Array(64),iE=class extends qt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=qt.SHA256_IV[0]|0,this.B=qt.SHA256_IV[1]|0,this.C=qt.SHA256_IV[2]|0,this.D=qt.SHA256_IV[3]|0,this.E=qt.SHA256_IV[4]|0,this.F=qt.SHA256_IV[5]|0,this.G=qt.SHA256_IV[6]|0,this.H=qt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)Ip[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=Ip[g-15],T=Ip[g-2],O=(0,yo.rotr)(E,7)^(0,yo.rotr)(E,18)^E>>>3,M=(0,yo.rotr)(T,17)^(0,yo.rotr)(T,19)^T>>>10;Ip[g]=M+Ip[g-7]+O+Ip[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=(0,yo.rotr)(c,6)^(0,yo.rotr)(c,11)^(0,yo.rotr)(c,25),T=y+E+(0,qt.Chi)(c,l,h)+FWe[g]+Ip[g]|0,M=((0,yo.rotr)(n,2)^(0,yo.rotr)(n,13)^(0,yo.rotr)(n,22))+(0,qt.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){(0,yo.clean)(Ip)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,yo.clean)(this.buffer)}};ei.SHA256=iE;var x5=class extends iE{static{o(this,"SHA224")}constructor(){super(28),this.A=qt.SHA224_IV[0]|0,this.B=qt.SHA224_IV[1]|0,this.C=qt.SHA224_IV[2]|0,this.D=qt.SHA224_IV[3]|0,this.E=qt.SHA224_IV[4]|0,this.F=qt.SHA224_IV[5]|0,this.G=qt.SHA224_IV[6]|0,this.H=qt.SHA224_IV[7]|0}};ei.SHA224=x5;var Rue=Ar.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),HWe=Rue[0],qWe=Rue[1],Rp=new Uint32Array(80),Op=new Uint32Array(80),_y=class extends qt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=qt.SHA512_IV[0]|0,this.Al=qt.SHA512_IV[1]|0,this.Bh=qt.SHA512_IV[2]|0,this.Bl=qt.SHA512_IV[3]|0,this.Ch=qt.SHA512_IV[4]|0,this.Cl=qt.SHA512_IV[5]|0,this.Dh=qt.SHA512_IV[6]|0,this.Dl=qt.SHA512_IV[7]|0,this.Eh=qt.SHA512_IV[8]|0,this.El=qt.SHA512_IV[9]|0,this.Fh=qt.SHA512_IV[10]|0,this.Fl=qt.SHA512_IV[11]|0,this.Gh=qt.SHA512_IV[12]|0,this.Gl=qt.SHA512_IV[13]|0,this.Hh=qt.SHA512_IV[14]|0,this.Hl=qt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)Rp[N]=e.getUint32(r),Op[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=Rp[N-15]|0,H=Op[N-15]|0,F=Ar.rotrSH(P,H,1)^Ar.rotrSH(P,H,8)^Ar.shrSH(P,H,7),Z=Ar.rotrSL(P,H,1)^Ar.rotrSL(P,H,8)^Ar.shrSL(P,H,7),W=Rp[N-2]|0,X=Op[N-2]|0,S=Ar.rotrSH(W,X,19)^Ar.rotrBH(W,X,61)^Ar.shrSH(W,X,6),f=Ar.rotrSL(W,X,19)^Ar.rotrBL(W,X,61)^Ar.shrSL(W,X,6),d=Ar.add4L(Z,f,Op[N-7],Op[N-16]),b=Ar.add4H(d,F,S,Rp[N-7],Rp[N-16]);Rp[N]=b|0,Op[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Ar.rotrSH(g,E,14)^Ar.rotrSH(g,E,18)^Ar.rotrBH(g,E,41),H=Ar.rotrSL(g,E,14)^Ar.rotrSL(g,E,18)^Ar.rotrBL(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=Ar.add5L(B,H,Z,qWe[N],Op[N]),X=Ar.add5H(W,C,P,F,HWe[N],Rp[N]),S=W|0,f=Ar.rotrSH(n,i,28)^Ar.rotrBH(n,i,34)^Ar.rotrBH(n,i,39),d=Ar.rotrSL(n,i,28)^Ar.rotrBL(n,i,34)^Ar.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=Ar.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Ar.add3L(S,d,x);n=Ar.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Ar.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Ar.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Ar.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Ar.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=Ar.add(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=Ar.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Ar.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Ar.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){(0,yo.clean)(Rp,Op)}destroy(){(0,yo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ei.SHA512=_y;var v5=class extends _y{static{o(this,"SHA384")}constructor(){super(48),this.Ah=qt.SHA384_IV[0]|0,this.Al=qt.SHA384_IV[1]|0,this.Bh=qt.SHA384_IV[2]|0,this.Bl=qt.SHA384_IV[3]|0,this.Ch=qt.SHA384_IV[4]|0,this.Cl=qt.SHA384_IV[5]|0,this.Dh=qt.SHA384_IV[6]|0,this.Dl=qt.SHA384_IV[7]|0,this.Eh=qt.SHA384_IV[8]|0,this.El=qt.SHA384_IV[9]|0,this.Fh=qt.SHA384_IV[10]|0,this.Fl=qt.SHA384_IV[11]|0,this.Gh=qt.SHA384_IV[12]|0,this.Gl=qt.SHA384_IV[13]|0,this.Hh=qt.SHA384_IV[14]|0,this.Hl=qt.SHA384_IV[15]|0}};ei.SHA384=v5;var ra=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),na=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),_5=class extends _y{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=ra[0]|0,this.Al=ra[1]|0,this.Bh=ra[2]|0,this.Bl=ra[3]|0,this.Ch=ra[4]|0,this.Cl=ra[5]|0,this.Dh=ra[6]|0,this.Dl=ra[7]|0,this.Eh=ra[8]|0,this.El=ra[9]|0,this.Fh=ra[10]|0,this.Fl=ra[11]|0,this.Gh=ra[12]|0,this.Gl=ra[13]|0,this.Hh=ra[14]|0,this.Hl=ra[15]|0}};ei.SHA512_224=_5;var w5=class extends _y{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=na[0]|0,this.Al=na[1]|0,this.Bh=na[2]|0,this.Bl=na[3]|0,this.Ch=na[4]|0,this.Cl=na[5]|0,this.Dh=na[6]|0,this.Dl=na[7]|0,this.Eh=na[8]|0,this.El=na[9]|0,this.Fh=na[10]|0,this.Fl=na[11]|0,this.Gh=na[12]|0,this.Gl=na[13]|0,this.Hh=na[14]|0,this.Hl=na[15]|0}};ei.SHA512_256=w5;ei.sha256=(0,yo.createHasher)(()=>new iE);ei.sha224=(0,yo.createHasher)(()=>new x5);ei.sha512=(0,yo.createHasher)(()=>new _y);ei.sha384=(0,yo.createHasher)(()=>new v5);ei.sha512_256=(0,yo.createHasher)(()=>new w5);ei.sha512_224=(0,yo.createHasher)(()=>new _5)});var Mue=j(nd=>{"use strict";p();m();Object.defineProperty(nd,"__esModule",{value:!0});nd.sha224=nd.SHA224=nd.sha256=nd.SHA256=void 0;var E5=Oue();nd.SHA256=E5.SHA256;nd.sha256=E5.sha256;nd.SHA224=E5.SHA224;nd.sha224=E5.sha224});var Nue=j(qD=>{"use strict";p();m();function Nh(t,e,r){return e<=t&&t<=r}o(Nh,"inRange");function R5(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}o(R5,"ToDictionary");function VWe(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var c=s&1023,l=a&1023;i.push(65536+(c<<10)+l),n+=1}else i.push(65533)}n+=1}return i}o(VWe,"stringToCodePoints");function jWe(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}o(jWe,"codePointsToString");var S5=-1;function HD(t){this.tokens=[].slice.call(t)}o(HD,"Stream");HD.prototype={endOfStream:o(function(){return!this.tokens.length},"endOfStream"),read:o(function(){return this.tokens.length?this.tokens.shift():S5},"read"),prepend:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},"prepend"),push:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)},"push")};var Lx=-1;function FD(t,e){if(t)throw TypeError("Decoder error");return e||65533}o(FD,"decoderError");var A5="utf-8";function T5(t,e){if(!(this instanceof T5))return new T5(t,e);if(t=t!==void 0?String(t).toLowerCase():A5,t!==A5)throw new Error("Encoding not supported. Only utf-8 is supported");e=R5(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}o(T5,"TextDecoder");T5.prototype={decode:o(function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=R5(r),this._streaming||(this._decoder=new zWe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new HD(n),s=[],a;!i.endOfStream()&&(a=this._decoder.handler(i,i.read()),a!==Lx);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(i,i.read()),a===Lx)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),jWe(s)},"decode")};function I5(t,e){if(!(this instanceof I5))return new I5(t,e);if(t=t!==void 0?String(t).toLowerCase():A5,t!==A5)throw new Error("Encoding not supported. Only utf-8 is supported");e=R5(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}o(I5,"TextEncoder");I5.prototype={encode:o(function(e,r){e=e?String(e):"",r=R5(r),this._streaming||(this._encoder=new KWe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new HD(VWe(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Lx);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Lx;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)},"encode")};function zWe(t){var e=t.fatal,r=0,n=0,i=0,s=128,a=191;this.handler=function(c,l){if(l===S5&&i!==0)return i=0,FD(e);if(l===S5)return Lx;if(i===0){if(Nh(l,0,127))return l;if(Nh(l,194,223))i=1,r=l-192;else if(Nh(l,224,239))l===224&&(s=160),l===237&&(a=159),i=2,r=l-224;else if(Nh(l,240,244))l===240&&(s=144),l===244&&(a=143),i=3,r=l-240;else return FD(e);return r=r<<6*i,null}if(!Nh(l,s,a))return r=i=n=0,s=128,a=191,c.prepend(l),FD(e);if(s=128,a=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var h=r;return r=i=n=0,h}}o(zWe,"UTF8Decoder");function KWe(t){var e=t.fatal;this.handler=function(r,n){if(n===S5)return Lx;if(Nh(n,0,127))return n;var i,s;Nh(n,128,2047)?(i=1,s=192):Nh(n,2048,65535)?(i=2,s=224):Nh(n,65536,1114111)&&(i=3,s=240);for(var a=[(n>>6*i)+s];i>0;){var c=n>>6*(i-1);a.push(128|c&63),i-=1}return a}}o(KWe,"UTF8Encoder");qD.TextEncoder=I5;qD.TextDecoder=T5});var Lue=j(Fn=>{"use strict";p();m();var $We=Fn&&Fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:o(function(){return e[r]},"get")})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GWe=Fn&&Fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),id=Fn&&Fn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},WWe=Fn&&Fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&$We(e,t,r);return GWe(e,t),e},Cue=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.deserializeUnchecked=Fn.deserialize=Fn.serialize=Fn.BinaryReader=Fn.BinaryWriter=Fn.BorshError=Fn.baseDecode=Fn.baseEncode=void 0;var Mp=Cue(yb()),kue=Cue(Mu()),YWe=WWe(Nue()),XWe=typeof TextDecoder!="function"?YWe.TextDecoder:TextDecoder,ZWe=new XWe("utf-8",{fatal:!0});function JWe(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),kue.default.encode(Buffer.from(t))}o(JWe,"baseEncode");Fn.baseEncode=JWe;function QWe(t){return Buffer.from(kue.default.decode(t))}o(QWe,"baseDecode");Fn.baseDecode=QWe;var VD=1024,gs=class extends Error{static{o(this,"BorshError")}constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Fn.BorshError=gs;var O5=class{static{o(this,"BinaryWriter")}constructor(){this.buf=Buffer.alloc(VD),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(VD)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mp.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mp.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mp.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mp.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(VD)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Fn.BinaryWriter=O5;function od(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new gs("Reached the end of buffer when deserializing")}throw s}}}o(od,"handlingRangeError");var La=class{static{o(this,"BinaryReader")}constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Mp.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Mp.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Mp.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Mp.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new gs(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return ZWe.decode(r)}catch(n){throw new gs(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};id([od],La.prototype,"readU8",null);id([od],La.prototype,"readU16",null);id([od],La.prototype,"readU32",null);id([od],La.prototype,"readU64",null);id([od],La.prototype,"readU128",null);id([od],La.prototype,"readU256",null);id([od],La.prototype,"readU512",null);id([od],La.prototype,"readString",null);id([od],La.prototype,"readFixedArray",null);id([od],La.prototype,"readArray",null);Fn.BinaryReader=La;function Bue(t){return t.charAt(0).toUpperCase()+t.slice(1)}o(Bue,"capitalizeFirstLetter");function wy(t,e,r,n,i){try{if(typeof n=="string")i[`write${Bue(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new gs(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new gs(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)wy(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{wy(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),wy(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,a)=>{wy(t,e,a,n.key,i),wy(t,e,s,n.value,i)});break}default:throw new gs(`FieldType ${n} unrecognized`)}else Pue(t,r,i)}catch(s){throw s instanceof gs&&s.addToFieldPath(e),s}}o(wy,"serializeField");function Pue(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new gs(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{wy(t,i,e[i],s,r)});else if(n.kind==="enum"){let i=e[n.field];for(let s=0;s<n.values.length;++s){let[a,c]=n.values[s];if(a===i){r.writeU8(s),wy(t,a,e[a],c,r);break}}}else throw new gs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(Pue,"serializeStruct");function eYe(t,e,r=O5){let n=new r;return Pue(t,e,n),n.toArray()}o(eYe,"serialize");Fn.serialize=eYe;function Ey(t,e,r,n){try{if(typeof r=="string")return n[`read${Bue(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let s=0;s<r[1];s++)i.push(Ey(t,null,r[0],n));return i}else return n.readArray(()=>Ey(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Ey(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let c=Ey(t,e,r.key,n),l=Ey(t,e,r.value,n);i.set(c,l)}return i}return jD(t,r,n)}catch(i){throw i instanceof gs&&i.addToFieldPath(e),i}}o(Ey,"deserializeField");function jD(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new gs(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[s,a]of t.get(e).fields)i[s]=Ey(t,s,a,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new gs(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],c=Ey(t,s,a,r);return new e({[s]:c})}throw new gs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(jD,"deserializeStruct");function tYe(t,e,r,n=La){let i=new n(r),s=jD(t,e,i);if(i.offset<r.length)throw new gs(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}o(tYe,"deserialize");Fn.deserialize=tYe;function rYe(t,e,r,n=La){let i=new n(r);return jD(t,e,i)}o(rYe,"deserializeUnchecked");Fn.deserializeUnchecked=rYe});var GD=j(Ie=>{"use strict";p();m();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.s16=Ie.s8=Ie.nu64be=Ie.u48be=Ie.u40be=Ie.u32be=Ie.u24be=Ie.u16be=Ie.nu64=Ie.u48=Ie.u40=Ie.u32=Ie.u24=Ie.u16=Ie.u8=Ie.offset=Ie.greedy=Ie.Constant=Ie.UTF8=Ie.CString=Ie.Blob=Ie.Boolean=Ie.BitField=Ie.BitStructure=Ie.VariantLayout=Ie.Union=Ie.UnionLayoutDiscriminator=Ie.UnionDiscriminator=Ie.Structure=Ie.Sequence=Ie.DoubleBE=Ie.Double=Ie.FloatBE=Ie.Float=Ie.NearInt64BE=Ie.NearInt64=Ie.NearUInt64BE=Ie.NearUInt64=Ie.IntBE=Ie.Int=Ie.UIntBE=Ie.UInt=Ie.OffsetLayout=Ie.GreedyCount=Ie.ExternalLayout=Ie.bindConstructorLayout=Ie.nameWithProperty=Ie.Layout=Ie.uint8ArrayToBuffer=Ie.checkUint8Array=void 0;Ie.constant=Ie.utf8=Ie.cstr=Ie.blob=Ie.unionLayoutDiscriminator=Ie.union=Ie.seq=Ie.bits=Ie.struct=Ie.f64be=Ie.f64=Ie.f32be=Ie.f32=Ie.ns64be=Ie.s48be=Ie.s40be=Ie.s32be=Ie.s24be=Ie.s16be=Ie.ns64=Ie.s48=Ie.s40=Ie.s32=Ie.s24=void 0;var KD=li();function Fx(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Fx,"checkUint8Array");Ie.checkUint8Array=Fx;function hn(t){return Fx(t),KD.Buffer.from(t.buffer,t.byteOffset,t.length)}o(hn,"uint8ArrayToBuffer");Ie.uint8ArrayToBuffer=hn;var xn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Ie.Layout=xn;function $D(t,e){return e.property?t+"["+e.property+"]":t}o($D,"nameWithProperty");Ie.nameWithProperty=$D;function nYe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof xn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(nYe,"bindConstructorLayout");Ie.bindConstructorLayout=nYe;var ia=class extends xn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Ie.ExternalLayout=ia;var M5=class extends ia{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Fx(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Ie.GreedyCount=M5;var oE=class extends ia{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof xn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof dc||this.layout instanceof ef}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Ie.OffsetLayout=oE;var dc=class extends xn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return hn(r).writeUIntLE(e,n,this.span),this.span}};Ie.UInt=dc;var ef=class extends xn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return hn(r).writeUIntBE(e,n,this.span),this.span}};Ie.UIntBE=ef;var Ch=class extends xn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readIntLE(r,this.span)}encode(e,r,n=0){return hn(r).writeIntLE(e,n,this.span),this.span}};Ie.Int=Ch;var Np=class extends xn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return hn(e).readIntBE(r,this.span)}encode(e,r,n=0){return hn(r).writeIntBE(e,n,this.span),this.span}};Ie.IntBE=Np;var zD=Math.pow(2,32);function G5(t){let e=Math.floor(t/zD),r=t-e*zD;return{hi32:e,lo32:r}}o(G5,"divmodInt64");function W5(t,e){return t*zD+e}o(W5,"roundedInt64");var N5=class extends xn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return W5(s,i)}encode(e,r,n=0){let i=G5(e),s=hn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Ie.NearUInt64=N5;var C5=class extends xn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return W5(i,s)}encode(e,r,n=0){let i=G5(e),s=hn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearUInt64BE=C5;var k5=class extends xn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return W5(s,i)}encode(e,r,n=0){let i=G5(e),s=hn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Ie.NearInt64=k5;var B5=class extends xn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=hn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return W5(i,s)}encode(e,r,n=0){let i=G5(e),s=hn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearInt64BE=B5;var P5=class extends xn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return hn(e).readFloatLE(r)}encode(e,r,n=0){return hn(r).writeFloatLE(e,n),4}};Ie.Float=P5;var L5=class extends xn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return hn(e).readFloatBE(r)}encode(e,r,n=0){return hn(r).writeFloatBE(e,n),4}};Ie.FloatBE=L5;var D5=class extends xn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return hn(e).readDoubleLE(r)}encode(e,r,n=0){return hn(r).writeDoubleLE(e,n),8}};Ie.Double=D5;var U5=class extends xn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return hn(e).readDoubleBE(r)}encode(e,r,n=0){return hn(r).writeDoubleBE(e,n),8}};Ie.DoubleBE=U5;var F5=class extends xn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof xn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ia&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof ia)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ia&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof ia&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,c)=>a+i.encode(c,r,n+a),0);return this.count instanceof ia&&this.count.encode(e.length,r,n),s}};Ie.Sequence=F5;var H5=class extends xn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof xn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Fx(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let c of this.fields){let l=c.span;if(a=0<l?l:0,c.property!==void 0){let h=e[c.property];h!==void 0&&(a=c.encode(h,r,n),0>l&&(l=c.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Ie.Structure=H5;var sE=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Ie.UnionDiscriminator=sE;var Ux=class extends sE{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof ia&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Ie.UnionLayoutDiscriminator=Ux;var aE=class extends xn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof dc||e instanceof ef)i=new Ux(new oE(e));else if(e instanceof ia&&e.isCount())i=new Ux(e);else if(e instanceof sE)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof xn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof dc||e instanceof ef)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof dc||e instanceof ef,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new q5(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Ie.Union=aE;var q5=class extends xn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof aE))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof xn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Ie.VariantLayout=q5;function Dx(t){return 0>t&&(t+=4294967296),t}o(Dx,"fixBitwiseResult");var cE=class extends xn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof dc||e instanceof ef))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Dx(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new fE(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new V5(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Ie.BitStructure=cE;var fE=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof cE))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Dx(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Dx(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Dx(e&this.valueMask))throw new TypeError($D("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Dx(e<<this.start);this.container._packedSetValue(Dx(r&~this.wordMask)|n)}};Ie.BitField=fE;var V5=class extends fE{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ie.Boolean=V5;var j5=class extends xn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof ia&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ia||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),hn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof ia&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError($D("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=hn(e);return hn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof ia&&this.length.encode(i,r,n),i}};Ie.Blob=j5;var z5=class extends xn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Fx(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return hn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=KD.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=hn(r);return i.copy(a,n),a[n+s]=0,s+1}};Ie.CString=z5;var K5=class extends xn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Fx(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return hn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=KD.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(hn(r),n),s}};Ie.UTF8=K5;var $5=class extends xn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Ie.Constant=$5;Ie.greedy=(t,e)=>new M5(t,e);Ie.offset=(t,e,r)=>new oE(t,e,r);Ie.u8=t=>new dc(1,t);Ie.u16=t=>new dc(2,t);Ie.u24=t=>new dc(3,t);Ie.u32=t=>new dc(4,t);Ie.u40=t=>new dc(5,t);Ie.u48=t=>new dc(6,t);Ie.nu64=t=>new N5(t);Ie.u16be=t=>new ef(2,t);Ie.u24be=t=>new ef(3,t);Ie.u32be=t=>new ef(4,t);Ie.u40be=t=>new ef(5,t);Ie.u48be=t=>new ef(6,t);Ie.nu64be=t=>new C5(t);Ie.s8=t=>new Ch(1,t);Ie.s16=t=>new Ch(2,t);Ie.s24=t=>new Ch(3,t);Ie.s32=t=>new Ch(4,t);Ie.s40=t=>new Ch(5,t);Ie.s48=t=>new Ch(6,t);Ie.ns64=t=>new k5(t);Ie.s16be=t=>new Np(2,t);Ie.s24be=t=>new Np(3,t);Ie.s32be=t=>new Np(4,t);Ie.s40be=t=>new Np(5,t);Ie.s48be=t=>new Np(6,t);Ie.ns64be=t=>new B5(t);Ie.f32=t=>new P5(t);Ie.f32be=t=>new L5(t);Ie.f64=t=>new D5(t);Ie.f64be=t=>new U5(t);Ie.struct=(t,e,r)=>new H5(t,e,r);Ie.bits=(t,e,r)=>new cE(t,e,r);Ie.seq=(t,e,r)=>new F5(t,e,r);Ie.union=(t,e,r)=>new aE(t,e,r);Ie.unionLayoutDiscriminator=(t,e)=>new Ux(t,e);Ie.blob=(t,e)=>new j5(t,e);Ie.cstr=t=>new z5(t);Ie.utf8=(t,e)=>new K5(t,e);Ie.constant=(t,e)=>new $5(t,e)});var xU=j(fe=>{"use strict";p();m();var Due=1,Uue=2,Fue=3,Hue=4,que=5,Vue=6,jue=7,zue=8,Kue=9,WD=10,YD=-32700,XD=-32603,ZD=-32602,JD=-32601,QD=-32600,$ue=-32016,eU=-32015,tU=-32014,Gue=-32013,rU=-32012,Wue=-32011,nU=-32010,iU=-32009,Yue=-32008,oU=-32007,sU=-32006,Xue=-32005,aU=-32004,Zue=-32003,Y5=-32002,cU=-32001,Jue=28e5,Que=2800001,ele=2800002,tle=2800003,rle=2800004,nle=2800005,ile=2800006,ole=2800007,sle=2800008,ale=2800009,cle=2800010,fle=2800011,ule=323e4,lle=32300001,dle=3230002,hle=3230003,ple=3230004,mle=361e4,gle=3610001,yle=3610002,ble=3610003,xle=3610004,vle=3610005,_le=3610006,wle=3610007,Ele=3611e3,Sle=3704e3,Ale=3704001,Tle=3704002,Ile=3704003,Rle=3704004,Ole=4128e3,Mle=4128001,Nle=4128002,fU=4615e3,Cle=4615001,kle=4615002,Ble=4615003,Ple=4615004,Lle=4615005,Dle=4615006,Ule=4615007,Fle=4615008,Hle=4615009,qle=4615010,Vle=4615011,jle=4615012,zle=4615013,Kle=4615014,$le=4615015,Gle=4615016,Wle=4615017,Yle=4615018,Xle=4615019,Zle=4615020,Jle=4615021,Qle=4615022,ede=4615023,tde=4615024,rde=4615025,uU=4615026,nde=4615027,ide=4615028,ode=4615029,sde=4615030,ade=4615031,cde=4615032,fde=4615033,ude=4615034,lde=4615035,dde=4615036,hde=4615037,pde=4615038,mde=4615039,gde=4615040,yde=4615041,bde=4615042,xde=4615043,vde=4615044,lU=4615045,_de=4615046,wde=4615047,Ede=4615048,Sde=4615049,Ade=4615050,Tde=4615051,Ide=4615052,Rde=4615053,Ode=4615054,Mde=5508e3,Nde=5508001,Cde=5508002,kde=5508003,Bde=5508004,Pde=5508005,Lde=5508006,Dde=5508007,Ude=5508008,Fde=5508009,Hde=5508010,qde=5508011,Vde=5663e3,jde=5663001,zde=5663002,Kde=5663003,$de=5663004,Gde=5663005,Wde=5663006,Yde=5663007,Xde=5663008,Zde=5663009,Jde=5663010,Qde=5663011,ehe=5663012,the=5663013,rhe=5663014,nhe=5663015,ihe=5663016,ohe=5663017,she=5663018,ahe=5663019,che=5663020,dU=705e4,fhe=7050001,uhe=7050002,lhe=7050003,dhe=7050004,hhe=7050005,phe=7050006,mhe=7050007,ghe=7050008,yhe=7050009,bhe=7050010,xhe=7050011,vhe=7050012,_he=7050013,whe=7050014,Ehe=7050015,She=7050016,Ahe=7050017,The=7050018,Ihe=7050019,Rhe=7050020,Ohe=7050021,Mhe=7050022,Nhe=7050023,Che=7050024,khe=7050025,Bhe=7050026,Phe=7050027,Lhe=7050028,Dhe=7050029,hU=7050030,pU=7050031,Uhe=7050032,Fhe=7050033,Hhe=7050034,mU=7050035,qhe=7050036,Vhe=8078e3,jhe=8078001,zhe=8078002,Khe=8078003,$he=8078004,Ghe=8078005,Whe=8078006,Yhe=8078007,Xhe=8078008,Zhe=8078009,Jhe=8078010,Qhe=8078011,e0e=8078012,t0e=8078013,r0e=8078014,n0e=8078015,i0e=8078016,o0e=8078017,s0e=8078018,a0e=8078019,c0e=8078020,f0e=8078021,u0e=8078022,l0e=81e5,d0e=8100001,h0e=8100002,p0e=8100003,m0e=819e4,g0e=8190001,y0e=8190002,b0e=8190003,x0e=8190004,v0e=99e5,_0e=9900001,w0e=9900002,E0e=9900003,S0e=9900004;function A0e(t){return Array.isArray(t)?"%5B"+t.map(A0e).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}o(A0e,"encodeValue");function iYe([t,e]){return`${t}=${A0e(e)}`}o(iYe,"encodeObjectContextEntry");function oYe(t){let e=Object.entries(t).map(iYe).join("&");return btoa(e)}o(oYe,"encodeContextObject");var sYe={[ule]:"Account not found at address: $address",[ple]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[hle]:"Expected decoded account at address: $address",[dle]:"Failed to decode account data at address: $address",[lle]:"Accounts not found at addresses: $addresses",[ale]:"Unable to find a viable program address bump seed.",[ele]:"$putativeAddress is not a base58-encoded address.",[Jue]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[tle]:"The `CryptoKey` must be an `Ed25519` public key.",[fle]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[sle]:"Invalid seeds; point must fall off the Ed25519 curve.",[rle]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[ile]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[ole]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[nle]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[cle]:"Program address cannot end with PDA marker.",[Que]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Hue]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Due]:"The network has progressed past the last block for which this transaction could have been committed.",[Vhe]:"Codec [$codecDescription] cannot decode empty byte arrays.",[u0e]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[c0e]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Ghe]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Whe]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[$he]:"Encoder and decoder must either both be fixed-size or variable-size.",[Xhe]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[zhe]:"Expected a fixed-size codec, got a variable-size one.",[t0e]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[Khe]:"Expected a variable-size codec, got a fixed-size one.",[a0e]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[jhe]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[s0e]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[Zhe]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[Jhe]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[n0e]:"Invalid literal union variant. Expected one of [$variants], got $value.",[Yhe]:"Expected [$codecDescription] to have $expected items, got $actual.",[e0e]:"Invalid value $value for base $base with alphabet $alphabet.",[i0e]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Qhe]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[r0e]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[f0e]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[o0e]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[Ele]:"No random values implementation could be found.",[Hle]:"instruction requires an uninitialized account",[ede]:"instruction tries to borrow reference for an account which is already borrowed",[tde]:"instruction left account with an outstanding borrowed reference",[Jle]:"program other than the account's owner changed the size of the account data",[Lle]:"account data too small for instruction",[Qle]:"instruction expected an executable account",[_de]:"An account does not have enough lamports to be rent-exempt",[Ede]:"Program arithmetic overflowed",[lU]:"Failed to serialize or deserialize account data: $encodedData",[Ode]:"Builtin programs must consume compute units",[cde]:"Cross-program invocation call depth too deep",[pde]:"Computational budget exceeded",[uU]:"custom program error: #$code",[Wle]:"instruction contains duplicate accounts",[rde]:"instruction modifications of multiply-passed account differ",[sde]:"executable accounts must be rent exempt",[ide]:"instruction changed executable accounts data",[ode]:"instruction changed the balance of an executable account",[Yle]:"instruction changed executable bit of an account",[Kle]:"instruction modified data of an account it does not own",[zle]:"instruction spent from the balance of an account it does not own",[Cle]:"generic instruction error",[Ade]:"Provided owner is not allowed",[xde]:"Account is immutable",[vde]:"Incorrect authority provided",[Ule]:"incorrect program id for instruction",[Dle]:"insufficient funds for instruction",[Ple]:"invalid account data for instruction",[wde]:"Invalid account owner",[kle]:"invalid program argument",[nde]:"program returned invalid error code",[Ble]:"invalid instruction data",[hde]:"Failed to reallocate account data",[dde]:"Provided seeds do not result in a valid address",[Tde]:"Accounts data allocations exceeded the maximum allowed per transaction",[Ide]:"Max accounts exceeded",[Rde]:"Max instruction trace length exceeded",[lde]:"Length of the seed is too long for address generation",[fde]:"An account required by the instruction is missing",[Fle]:"missing required signature for instruction",[jle]:"instruction illegally modified the program id of an account",[Zle]:"insufficient account keys for instruction",[mde]:"Cross-program invocation with unauthorized signer or writable account",[gde]:"Failed to create program execution environment",[bde]:"Program failed to compile",[yde]:"Program failed to complete",[Gle]:"instruction modified data of a read-only account",[$le]:"instruction changed the balance of a read-only account",[ude]:"Cross-program invocation reentrancy not allowed for this instruction",[Xle]:"instruction modified rent epoch of an account",[Vle]:"sum of account balances before and after instruction do not match",[qle]:"instruction requires an initialized account",[fU]:"",[ade]:"Unsupported program id",[Sde]:"Unsupported sysvar",[Ole]:"The instruction does not have any accounts.",[Mle]:"The instruction does not have any data.",[Nle]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[que]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Uue]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[w0e]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[S0e]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[_0e]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[v0e]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[E0e]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[XD]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[ZD]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[QD]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[JD]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[YD]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[rU]:"$__serverMessage",[cU]:"$__serverMessage",[aU]:"$__serverMessage",[tU]:"$__serverMessage",[nU]:"$__serverMessage",[iU]:"$__serverMessage",[$ue]:"Minimum context slot has not been reached",[Xue]:"Node is unhealthy; behind by $numSlotsBehind slots",[Yue]:"No snapshot",[Y5]:"Transaction simulation failed",[oU]:"$__serverMessage",[Wue]:"Transaction history is not available from this node",[sU]:"$__serverMessage",[Gue]:"Transaction signature length mismatch",[Zue]:"Transaction signature verification failure",[eU]:"$__serverMessage",[Sle]:"Key pair bytes must be of length 64, got $byteLength.",[Ale]:"Expected private key bytes with length 32. Actual length: $actualLength.",[Tle]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[Rle]:"The provided private key does not match the provided public key.",[Ile]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Vue]:"Lamports value must be in the range [0, 2e64-1]",[jue]:"`$value` cannot be parsed as a `BigInt`",[WD]:"$message",[zue]:"`$value` cannot be parsed as a `Number`",[Fue]:"No nonce account could be found at address `$nonceAccountAddress`",[m0e]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[y0e]:"WebSocket was closed before payload could be added to the send buffer",[b0e]:"WebSocket connection closed",[x0e]:"WebSocket failed to connect",[g0e]:"Failed to obtain a subscription id from the server",[p0e]:"Could not find an API plan for RPC method: `$method`",[l0e]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[h0e]:"HTTP error ($statusCode): $message",[d0e]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Mde]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Nde]:"The provided value does not implement the `KeyPairSigner` interface",[kde]:"The provided value does not implement the `MessageModifyingSigner` interface",[Bde]:"The provided value does not implement the `MessagePartialSigner` interface",[Cde]:"The provided value does not implement any of the `MessageSigner` interfaces",[Lde]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Dde]:"The provided value does not implement the `TransactionPartialSigner` interface",[Ude]:"The provided value does not implement the `TransactionSendingSigner` interface",[Pde]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Fde]:"More than one `TransactionSendingSigner` was identified.",[Hde]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[qde]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[wle]:"Cannot export a non-extractable key.",[gle]:"No digest implementation could be found.",[mle]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[yle]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[ble]:"No signature verification implementation could be found.",[xle]:"No key generation implementation could be found.",[vle]:"No signing implementation could be found.",[_le]:"No key export implementation could be found.",[Kue]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[She]:"Transaction processing left an account with an outstanding borrowed reference",[fhe]:"Account in use",[uhe]:"Account loaded twice",[lhe]:"Attempt to debit an account but found no record of a prior credit.",[Nhe]:"Transaction loads an address table account that doesn't exist",[mhe]:"This transaction has already been processed",[ghe]:"Blockhash not found",[yhe]:"Loader call chain is too deep",[Ehe]:"Transactions are currently disabled due to cluster maintenance",[hU]:"Transaction contains a duplicate instruction ($index) that is not allowed",[hhe]:"Insufficient funds for fee",[pU]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[phe]:"This account may not be used to pay transaction fees",[xhe]:"Transaction contains an invalid account reference",[khe]:"Transaction loads an address table account with invalid data",[Bhe]:"Transaction address table lookup uses an invalid index",[Che]:"Transaction loads an address table account with an invalid owner",[Fhe]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[_he]:"This program may not be used for executing instructions",[Phe]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Ihe]:"Transaction loads a writable account that cannot be written",[Uhe]:"Transaction exceeded max loaded accounts data size cap",[bhe]:"Transaction requires a fee but has no signature present",[dhe]:"Attempt to load a program that does not exist",[mU]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[Hhe]:"ResanitizationNeeded",[whe]:"Transaction failed to sanitize accounts offsets correctly",[vhe]:"Transaction did not pass signature verification",[Mhe]:"Transaction locked too many accounts",[qhe]:"Sum of account balances before and after transaction do not match",[dU]:"The transaction failed with the error `$errorName`",[The]:"Transaction version is unsupported",[Ohe]:"Transaction would exceed account data limit within the block",[Dhe]:"Transaction would exceed total account data limit",[Rhe]:"Transaction would exceed max account limit within the block",[Ahe]:"Transaction would exceed max Block Cost Limit",[Lhe]:"Transaction would exceed max Vote Cost Limit",[nhe]:"Attempted to sign a transaction with an address that is not a signer for it",[Jde]:"Transaction is missing an address at index: $index.",[ihe]:"Transaction has no expected signers therefore it cannot be encoded",[che]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[zde]:"Transaction does not have a blockhash lifetime",[Kde]:"Transaction is not a durable nonce transaction",[Gde]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[Wde]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[Xde]:"No fee payer set in CompiledTransaction",[Yde]:"Could not find program address at index $index",[she]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[ahe]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[Qde]:"Transaction is missing a fee payer.",[ehe]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[rhe]:"Transaction first instruction is not advance nonce account instruction.",[the]:"Transaction with no instructions cannot be durable nonce transaction.",[Vde]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[jde]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[ohe]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[Zde]:"Transaction is missing signatures for addresses: $addresses.",[$de]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},kh="i",sd="t";function aYe(t,e={}){let r=sYe[t];if(r.length===0)return"";let n;function i(a){if(n[sd]===2){let c=r.slice(n[kh]+1,a);s.push(c in e?`${e[c]}`:`$${c}`)}else n[sd]===1&&s.push(r.slice(n[kh],a))}o(i,"commitStateUpTo");let s=[];return r.split("").forEach((a,c)=>{if(c===0){n={[kh]:0,[sd]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let l;switch(n[sd]){case 0:l={[kh]:c,[sd]:1};break;case 1:a==="\\"?l={[kh]:c,[sd]:0}:a==="$"&&(l={[kh]:c,[sd]:2});break;case 2:a==="\\"?l={[kh]:c,[sd]:0}:a==="$"?l={[kh]:c,[sd]:2}:a.match(/\w/)||(l={[kh]:c,[sd]:1});break}l&&(n!==l&&i(c),n=l)}),i(),s.join("")}o(aYe,"getHumanReadableErrorMessage");function cYe(t,e={}){if(R.NODE_ENV!=="production")return aYe(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${oYe(e)}'`),`${r}\``}}o(cYe,"getErrorMessage");function fYe(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}o(fYe,"isSolanaError");var uE=class extends Error{static{o(this,"SolanaError")}cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:s,...a}=e;s&&(n={cause:s}),Object.keys(a).length>0&&(r=a)}let i=cYe(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function gU(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}o(gU,"safeCaptureStackTrace");function T0e({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let s,a;typeof n=="string"?s=n:(s=Object.keys(n)[0],a=n[s]);let c=r.indexOf(s),l=t+c,h=e(l,s,a),y=new uE(l,h);return gU(y,i),y}o(T0e,"getSolanaErrorFromRpcError");var uYe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function yU(t,e){let r=Number(t);return T0e({errorCodeBaseOffset:4615001,getErrorContext(n,i,s){return n===fU?{errorName:i,index:r,...s!==void 0?{instructionErrorContext:s}:null}:n===uU?{code:Number(s),index:r}:n===lU?{encodedData:s,index:r}:{index:r}},orderedErrorNames:uYe,rpcEnumError:e},yU)}o(yU,"getSolanaErrorFromInstructionError");var lYe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function bU(t){return typeof t=="object"&&"InstructionError"in t?yU(...t.InstructionError):T0e({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===dU)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===hU)return{index:Number(n)};if(e===pU||e===mU)return{accountIndex:Number(n.account_index)}},orderedErrorNames:lYe,rpcEnumError:t},bU)}o(bU,"getSolanaErrorFromTransactionError");function I0e(t){let e;if(dYe(t)){let{code:r,data:n,message:i}=t,s=Number(r);if(s===Y5){let{err:a,...c}=n,l=a?{cause:bU(a)}:null;e=new uE(Y5,{...c,...l})}else{let a;switch(s){case XD:case ZD:case QD:case JD:case YD:case rU:case cU:case aU:case tU:case nU:case iU:case oU:case sU:case eU:a={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(a=n)}e=new uE(s,a)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new uE(WD,{error:t,message:r})}return gU(e,I0e),e}o(I0e,"getSolanaErrorFromJsonRpcError");function dYe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}o(dYe,"isRpcErrorResponse");fe.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=ule;fe.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=ple;fe.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=hle;fe.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=dle;fe.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=lle;fe.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=ale;fe.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=ele;fe.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=Jue;fe.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=tle;fe.SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS=fle;fe.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=sle;fe.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=rle;fe.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=ile;fe.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=ole;fe.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=nle;fe.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=cle;fe.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=Que;fe.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=Hue;fe.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=Due;fe.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=Vhe;fe.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=u0e;fe.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=c0e;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=Ghe;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=Whe;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=$he;fe.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=Xhe;fe.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=zhe;fe.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=t0e;fe.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=Khe;fe.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=a0e;fe.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=jhe;fe.SOLANA_ERROR__CODECS__INVALID_CONSTANT=s0e;fe.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=Zhe;fe.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=Jhe;fe.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=n0e;fe.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=Yhe;fe.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=e0e;fe.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=i0e;fe.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=Qhe;fe.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=r0e;fe.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=f0e;fe.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=o0e;fe.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=Ele;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=Hle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=ede;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=tde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=Jle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=Lle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=Qle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=_de;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=Ede;fe.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=lU;fe.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=Ode;fe.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=cde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=pde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=uU;fe.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=Wle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=rde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=sde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=ide;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=ode;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=Yle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=Kle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=zle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=Cle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=Ade;fe.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=xde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=vde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=Ule;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=Dle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=Ple;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=wde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=kle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=nde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=Ble;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=hde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=dde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=Tde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=Ide;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=Rde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=lde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=fde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=Fle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=jle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=Zle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=mde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=gde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=bde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=yde;fe.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=Gle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=$le;fe.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=ude;fe.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=Xle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=Vle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=qle;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=fU;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=ade;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=Sde;fe.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=Ole;fe.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=Mle;fe.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=Nle;fe.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=que;fe.SOLANA_ERROR__INVALID_NONCE=Uue;fe.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=w0e;fe.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=S0e;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=_0e;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=v0e;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=E0e;fe.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=XD;fe.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=ZD;fe.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=QD;fe.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=JD;fe.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=YD;fe.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=rU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=cU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=aU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=tU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=nU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=iU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=$ue;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=Xue;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=Yue;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=Y5;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=oU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=Wue;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=sU;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=Gue;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=Zue;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=eU;fe.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=Sle;fe.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=Ale;fe.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=Tle;fe.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=Rle;fe.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=Ile;fe.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=Vue;fe.SOLANA_ERROR__MALFORMED_BIGINT_STRING=jue;fe.SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR=WD;fe.SOLANA_ERROR__MALFORMED_NUMBER_STRING=zue;fe.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=Fue;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=m0e;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=y0e;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=b0e;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=x0e;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=g0e;fe.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=p0e;fe.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=l0e;fe.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=h0e;fe.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=d0e;fe.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=Mde;fe.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=Nde;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=kde;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=Bde;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=Cde;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=Lde;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=Dde;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=Ude;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=Pde;fe.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=Fde;fe.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=Hde;fe.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=qde;fe.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=wle;fe.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=gle;fe.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=mle;fe.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=yle;fe.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=ble;fe.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=xle;fe.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=vle;fe.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=_le;fe.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=Kue;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=She;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=fhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=uhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=lhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=Nhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=mhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=ghe;fe.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=yhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=Ehe;fe.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=hU;fe.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=hhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=pU;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=phe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=xhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=khe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=Bhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=Che;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=Fhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=_he;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=Phe;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=Ihe;fe.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=Uhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=bhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=dhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=mU;fe.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=Hhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=whe;fe.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=vhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=Mhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=qhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=dU;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=The;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=Ohe;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=Dhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=Rhe;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=Ahe;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=Lhe;fe.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=nhe;fe.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=Jde;fe.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=ihe;fe.SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT=che;fe.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=zde;fe.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=Kde;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=Gde;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=Wde;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=Xde;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=Yde;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=she;fe.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=ahe;fe.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=Qde;fe.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=ehe;fe.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=rhe;fe.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=the;fe.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=Vde;fe.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=jde;fe.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=ohe;fe.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=Zde;fe.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=$de;fe.SolanaError=uE;fe.getSolanaErrorFromInstructionError=yU;fe.getSolanaErrorFromJsonRpcError=I0e;fe.getSolanaErrorFromTransactionError=bU;fe.isSolanaError=fYe;fe.safeCaptureStackTrace=gU});var Y0e=j(ar=>{"use strict";p();m();var ti=xU(),hYe=o(t=>{let e=t.filter(s=>s.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((s,a)=>s+a.length,0),n=new Uint8Array(r),i=0;return e.forEach(s=>{n.set(s,i),i+=s.length}),n},"mergeBytes"),R0e=o((t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},"padBytes"),O0e=o((t,e)=>R0e(t.length<=e?t:t.slice(0,e),e),"fixBytes");function M0e(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,s)=>i===n[s])}o(M0e,"containsBytes");function lE(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}o(lE,"getEncodedSize");function Xu(t){return Object.freeze({...t,encode:o(e=>{let r=new Uint8Array(lE(e,t));return t.write(e,r,0),r},"encode")})}o(Xu,"createEncoder");function ad(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode")})}o(ad,"createDecoder");function N0e(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode"),encode:o(e=>{let r=new Uint8Array(lE(e,t));return t.write(e,r,0),r},"encode")})}o(N0e,"createCodec");function Zi(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}o(Zi,"isFixedSize");function vU(t){if(!Zi(t))throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}o(vU,"assertIsFixedSize");function _U(t){return!Zi(t)}o(_U,"isVariableSize");function pYe(t){if(!_U(t))throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}o(pYe,"assertIsVariableSize");function Bh(t,e){if(Zi(t)!==Zi(e))throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(Zi(t)&&Zi(e)&&t.fixedSize!==e.fixedSize)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Zi(t)&&!Zi(e)&&t.maxSize!==e.maxSize)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}o(Bh,"combineCodec");function C0e(t,e){let r=o((n,i,s)=>{let a=t.encode(n);if(B0e(a,e)>=0)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:a,hexEncodedBytes:X5(a),hexSentinel:X5(e),sentinel:e});return i.set(a,s),s+=a.length,i.set(e,s),s+=e.length,s},"write");return Zi(t)?Xu({...t,fixedSize:t.fixedSize+e.length,write:r}):Xu({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:o(n=>t.getSizeFromValue(n)+e.length,"getSizeFromValue"),write:r})}o(C0e,"addEncoderSentinel");function k0e(t,e){let r=o((n,i)=>{let s=i===0?n:n.slice(i),a=B0e(s,e);if(a===-1)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:s,hexDecodedBytes:X5(s),hexSentinel:X5(e),sentinel:e});let c=s.slice(0,a);return[t.decode(c),i+c.length+e.length]},"read");return Zi(t)?ad({...t,fixedSize:t.fixedSize+e.length,read:r}):ad({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}o(k0e,"addDecoderSentinel");function mYe(t,e){return Bh(C0e(t,e),k0e(t,e))}o(mYe,"addCodecSentinel");function B0e(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:M0e(i,e,n))}o(B0e,"findSentinelIndex");function X5(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(X5,"hexBytes");function gYe(t,e,r=0){if(e.length-r<=0)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}o(gYe,"assertByteArrayIsNotEmptyForCodec");function wU(t,e,r,n=0){let i=r.length-n;if(i<e)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}o(wU,"assertByteArrayHasEnoughBytesForCodec");function dE(t,e,r){if(e<0||e>r)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}o(dE,"assertByteArrayOffsetIsNotOutOfRange");function P0e(t,e){let r=o((a,c,l)=>{let h=t.encode(a);return l=e.write(h.length,c,l),c.set(h,l),l+h.length},"write");if(Zi(e)&&Zi(t))return Xu({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=Zi(e)?e.fixedSize:e.maxSize??null,i=Zi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return Xu({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:o(a=>{let c=lE(a,t);return lE(c,e)+c},"getSizeFromValue"),write:r})}o(P0e,"addEncoderSizePrefix");function L0e(t,e){let r=o((a,c)=>{let[l,h]=e.read(a,c),y=Number(l);return c=h,(c>0||a.length>y)&&(a=a.slice(c,c+y)),wU("addDecoderSizePrefix",y,a),[t.decode(a),c+y]},"read");if(Zi(e)&&Zi(t))return ad({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=Zi(e)?e.fixedSize:e.maxSize??null,i=Zi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return ad({...t,...s!==null?{maxSize:s}:{},read:r})}o(L0e,"addDecoderSizePrefix");function yYe(t,e){return Bh(P0e(t,e),L0e(t,e))}o(yYe,"addCodecSizePrefix");function D0e(t,e){return Xu({fixedSize:e,write:o((r,n,i)=>{let s=t.encode(r),a=s.length>e?s.slice(0,e):s;return n.set(a,i),i+e},"write")})}o(D0e,"fixEncoderSize");function U0e(t,e){return ad({fixedSize:e,read:o((r,n)=>{wU("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),Zi(t)&&(r=O0e(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]},"read")})}o(U0e,"fixDecoderSize");function bYe(t,e){return Bh(D0e(t,e),U0e(t,e))}o(bYe,"fixCodecSize");function Z5(t,e){return Xu({...t,write:o((r,n,i)=>{let s=o(h=>F0e(h,n.length),"wrapBytes"),a=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:s}):i;dE("offsetEncoder",a,n.length);let c=t.write(r,n,a),l=e.postOffset?e.postOffset({bytes:n,newPreOffset:a,postOffset:c,preOffset:i,wrapBytes:s}):c;return dE("offsetEncoder",l,n.length),l},"write")})}o(Z5,"offsetEncoder");function J5(t,e){return ad({...t,read:o((r,n)=>{let i=o(h=>F0e(h,r.length),"wrapBytes"),s=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;dE("offsetDecoder",s,r.length);let[a,c]=t.read(r,s),l=e.postOffset?e.postOffset({bytes:r,newPreOffset:s,postOffset:c,preOffset:n,wrapBytes:i}):c;return dE("offsetDecoder",l,r.length),[a,l]},"read")})}o(J5,"offsetDecoder");function xYe(t,e){return Bh(Z5(t,e),J5(t,e))}o(xYe,"offsetCodec");function F0e(t,e){return e===0?0:(t%e+e)%e}o(F0e,"modulo");function Q5(t,e){if(Zi(t)){let r=e(t.fixedSize);if(r<0)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return Xu({...t,fixedSize:r})}return Xu({...t,getSizeFromValue:o(r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n},"getSizeFromValue")})}o(Q5,"resizeEncoder");function eT(t,e){if(Zi(t)){let r=e(t.fixedSize);if(r<0)throw new ti.SolanaError(ti.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return ad({...t,fixedSize:r})}return t}o(eT,"resizeDecoder");function vYe(t,e){return Bh(Q5(t,e),eT(t,e))}o(vYe,"resizeCodec");function H0e(t,e){return Z5(Q5(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(H0e,"padLeftEncoder");function q0e(t,e){return Z5(Q5(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(q0e,"padRightEncoder");function V0e(t,e){return J5(eT(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(V0e,"padLeftDecoder");function j0e(t,e){return J5(eT(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(j0e,"padRightDecoder");function _Ye(t,e){return Bh(H0e(t,e),V0e(t,e))}o(_Ye,"padLeftCodec");function wYe(t,e){return Bh(q0e(t,e),j0e(t,e))}o(wYe,"padRightCodec");function z0e(t,e,r,n,i=0){for(;r<--n;){let s=t[r];e[r+i]=t[n],e[n+i]=s,r++}r===n&&(e[r+i]=t[r])}o(z0e,"copySourceToTargetInReverse");function K0e(t){return vU(t),Xu({...t,write:o((e,r,n)=>{let i=t.write(e,r,n);return z0e(r,r,n,n+t.fixedSize),i},"write")})}o(K0e,"reverseEncoder");function $0e(t){return vU(t),ad({...t,read:o((e,r)=>{let n=e.slice();return z0e(e,n,r,r+t.fixedSize),t.read(n,r)},"read")})}o($0e,"reverseDecoder");function EYe(t){return Bh(K0e(t),$0e(t))}o(EYe,"reverseCodec");function G0e(t,e){return Xu({..._U(t)?{...t,getSizeFromValue:o(r=>t.getSizeFromValue(e(r)),"getSizeFromValue")}:t,write:o((r,n,i)=>t.write(e(r),n,i),"write")})}o(G0e,"transformEncoder");function W0e(t,e){return ad({...t,read:o((r,n)=>{let[i,s]=t.read(r,n);return[e(i,r,n),s]},"read")})}o(W0e,"transformDecoder");function SYe(t,e,r){return N0e({...G0e(t,e),read:r?W0e(t,r).read:t.read})}o(SYe,"transformCodec");ar.addCodecSentinel=mYe;ar.addCodecSizePrefix=yYe;ar.addDecoderSentinel=k0e;ar.addDecoderSizePrefix=L0e;ar.addEncoderSentinel=C0e;ar.addEncoderSizePrefix=P0e;ar.assertByteArrayHasEnoughBytesForCodec=wU;ar.assertByteArrayIsNotEmptyForCodec=gYe;ar.assertByteArrayOffsetIsNotOutOfRange=dE;ar.assertIsFixedSize=vU;ar.assertIsVariableSize=pYe;ar.combineCodec=Bh;ar.containsBytes=M0e;ar.createCodec=N0e;ar.createDecoder=ad;ar.createEncoder=Xu;ar.fixBytes=O0e;ar.fixCodecSize=bYe;ar.fixDecoderSize=U0e;ar.fixEncoderSize=D0e;ar.getEncodedSize=lE;ar.isFixedSize=Zi;ar.isVariableSize=_U;ar.mergeBytes=hYe;ar.offsetCodec=xYe;ar.offsetDecoder=J5;ar.offsetEncoder=Z5;ar.padBytes=R0e;ar.padLeftCodec=_Ye;ar.padLeftDecoder=V0e;ar.padLeftEncoder=H0e;ar.padRightCodec=wYe;ar.padRightDecoder=j0e;ar.padRightEncoder=q0e;ar.resizeCodec=vYe;ar.resizeDecoder=eT;ar.resizeEncoder=Q5;ar.reverseCodec=EYe;ar.reverseDecoder=$0e;ar.reverseEncoder=K0e;ar.transformCodec=SYe;ar.transformDecoder=W0e;ar.transformEncoder=G0e});var Ape=j(gr=>{"use strict";p();m();var X0e=xU(),Mo=Y0e();function EU(t,e,r,n){if(n<e||n>r)throw new X0e.SolanaError(X0e.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}o(EU,"assertNumberIsBetweenForCodec");var Z0e=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(Z0e||{});function J0e(t){return t?.endian!==1}o(J0e,"isLittleEndian");function Kf(t){return Mo.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&EU(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,J0e(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}o(Kf,"numberEncoderFactory");function $f(t){return Mo.createDecoder({fixedSize:t.size,read(e,r=0){Mo.assertByteArrayIsNotEmptyForCodec(t.name,e,r),Mo.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(AYe(e,r,t.size));return[t.get(n,J0e(t.config)),r+t.size]}})}o($f,"numberDecoderFactory");function AYe(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}o(AYe,"toArrayBuffer");var Q0e=o((t={})=>Kf({config:t,name:"f32",set:o((e,r,n)=>e.setFloat32(0,Number(r),n),"set"),size:4}),"getF32Encoder"),epe=o((t={})=>$f({config:t,get:o((e,r)=>e.getFloat32(0,r),"get"),name:"f32",size:4}),"getF32Decoder"),TYe=o((t={})=>Mo.combineCodec(Q0e(t),epe(t)),"getF32Codec"),tpe=o((t={})=>Kf({config:t,name:"f64",set:o((e,r,n)=>e.setFloat64(0,Number(r),n),"set"),size:8}),"getF64Encoder"),rpe=o((t={})=>$f({config:t,get:o((e,r)=>e.getFloat64(0,r),"get"),name:"f64",size:8}),"getF64Decoder"),IYe=o((t={})=>Mo.combineCodec(tpe(t),rpe(t)),"getF64Codec"),npe=o((t={})=>Kf({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getI128Encoder"),ipe=o((t={})=>$f({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigInt64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"i128",size:16}),"getI128Decoder"),RYe=o((t={})=>Mo.combineCodec(npe(t),ipe(t)),"getI128Codec"),ope=o((t={})=>Kf({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:o((e,r,n)=>e.setInt16(0,Number(r),n),"set"),size:2}),"getI16Encoder"),spe=o((t={})=>$f({config:t,get:o((e,r)=>e.getInt16(0,r),"get"),name:"i16",size:2}),"getI16Decoder"),OYe=o((t={})=>Mo.combineCodec(ope(t),spe(t)),"getI16Codec"),ape=o((t={})=>Kf({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:o((e,r,n)=>e.setInt32(0,Number(r),n),"set"),size:4}),"getI32Encoder"),cpe=o((t={})=>$f({config:t,get:o((e,r)=>e.getInt32(0,r),"get"),name:"i32",size:4}),"getI32Decoder"),MYe=o((t={})=>Mo.combineCodec(ape(t),cpe(t)),"getI32Codec"),fpe=o((t={})=>Kf({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:o((e,r,n)=>e.setBigInt64(0,BigInt(r),n),"set"),size:8}),"getI64Encoder"),upe=o((t={})=>$f({config:t,get:o((e,r)=>e.getBigInt64(0,r),"get"),name:"i64",size:8}),"getI64Decoder"),NYe=o((t={})=>Mo.combineCodec(fpe(t),upe(t)),"getI64Codec"),lpe=o(()=>Kf({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:o((t,e)=>t.setInt8(0,Number(e)),"set"),size:1}),"getI8Encoder"),dpe=o(()=>$f({get:o(t=>t.getInt8(0),"get"),name:"i8",size:1}),"getI8Decoder"),CYe=o(()=>Mo.combineCodec(lpe(),dpe()),"getI8Codec"),hpe=o(()=>Mo.createEncoder({getSizeFromValue:o(t=>t<=127?1:t<=16383?2:3,"getSizeFromValue"),maxSize:3,write:o((t,e,r)=>{EU("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let s=Number(t)>>i*7;if(s===0)break;let a=127&s;n[i]=a,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length},"write")}),"getShortU16Encoder"),ppe=o(()=>Mo.createDecoder({maxSize:3,read:o((t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,s=t[e+i],a=127&s;if(r|=a<<i*7,!(s&128))break}return[r,e+n]},"read")}),"getShortU16Decoder"),kYe=o(()=>Mo.combineCodec(hpe(),ppe()),"getShortU16Codec"),mpe=o((t={})=>Kf({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getU128Encoder"),gpe=o((t={})=>$f({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigUint64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"u128",size:16}),"getU128Decoder"),BYe=o((t={})=>Mo.combineCodec(mpe(t),gpe(t)),"getU128Codec"),ype=o((t={})=>Kf({config:t,name:"u16",range:[0,+"0xffff"],set:o((e,r,n)=>e.setUint16(0,Number(r),n),"set"),size:2}),"getU16Encoder"),bpe=o((t={})=>$f({config:t,get:o((e,r)=>e.getUint16(0,r),"get"),name:"u16",size:2}),"getU16Decoder"),PYe=o((t={})=>Mo.combineCodec(ype(t),bpe(t)),"getU16Codec"),xpe=o((t={})=>Kf({config:t,name:"u32",range:[0,+"0xffffffff"],set:o((e,r,n)=>e.setUint32(0,Number(r),n),"set"),size:4}),"getU32Encoder"),vpe=o((t={})=>$f({config:t,get:o((e,r)=>e.getUint32(0,r),"get"),name:"u32",size:4}),"getU32Decoder"),LYe=o((t={})=>Mo.combineCodec(xpe(t),vpe(t)),"getU32Codec"),_pe=o((t={})=>Kf({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:o((e,r,n)=>e.setBigUint64(0,BigInt(r),n),"set"),size:8}),"getU64Encoder"),wpe=o((t={})=>$f({config:t,get:o((e,r)=>e.getBigUint64(0,r),"get"),name:"u64",size:8}),"getU64Decoder"),DYe=o((t={})=>Mo.combineCodec(_pe(t),wpe(t)),"getU64Codec"),Epe=o(()=>Kf({name:"u8",range:[0,+"0xff"],set:o((t,e)=>t.setUint8(0,Number(e)),"set"),size:1}),"getU8Encoder"),Spe=o(()=>$f({get:o(t=>t.getUint8(0),"get"),name:"u8",size:1}),"getU8Decoder"),UYe=o(()=>Mo.combineCodec(Epe(),Spe()),"getU8Codec");gr.Endian=Z0e;gr.assertNumberIsBetweenForCodec=EU;gr.getF32Codec=TYe;gr.getF32Decoder=epe;gr.getF32Encoder=Q0e;gr.getF64Codec=IYe;gr.getF64Decoder=rpe;gr.getF64Encoder=tpe;gr.getI128Codec=RYe;gr.getI128Decoder=ipe;gr.getI128Encoder=npe;gr.getI16Codec=OYe;gr.getI16Decoder=spe;gr.getI16Encoder=ope;gr.getI32Codec=MYe;gr.getI32Decoder=cpe;gr.getI32Encoder=ape;gr.getI64Codec=NYe;gr.getI64Decoder=upe;gr.getI64Encoder=fpe;gr.getI8Codec=CYe;gr.getI8Decoder=dpe;gr.getI8Encoder=lpe;gr.getShortU16Codec=kYe;gr.getShortU16Decoder=ppe;gr.getShortU16Encoder=hpe;gr.getU128Codec=BYe;gr.getU128Decoder=gpe;gr.getU128Encoder=mpe;gr.getU16Codec=PYe;gr.getU16Decoder=bpe;gr.getU16Encoder=ype;gr.getU32Codec=LYe;gr.getU32Decoder=vpe;gr.getU32Encoder=xpe;gr.getU64Codec=DYe;gr.getU64Decoder=wpe;gr.getU64Encoder=_pe;gr.getU8Codec=UYe;gr.getU8Decoder=Spe;gr.getU8Encoder=Epe});var Ipe=j((tT,Tpe)=>{p();m();(function(t,e){typeof tT=="object"&&typeof Tpe<"u"?e(tT):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Superstruct={}))})(tT,function(t){"use strict";class e extends TypeError{static{o(this,"StructError")}constructor(Q,pe){let ne,{message:de,explanation:yt,...ve}=Q,{path:Se}=Q,tr=Se.length===0?de:`At path: ${Se.join(".")} -- ${de}`;super(yt??tr),yt!=null&&(this.cause=tr),Object.assign(this,ve),this.name=this.constructor.name,this.failures=()=>ne??(ne=[Q,...pe()])}}function r(J){return n(J)&&typeof J[Symbol.iterator]=="function"}o(r,"isIterable");function n(J){return typeof J=="object"&&J!=null}o(n,"isObject");function i(J){return n(J)&&!Array.isArray(J)}o(i,"isNonArrayObject");function s(J){if(Object.prototype.toString.call(J)!=="[object Object]")return!1;let Q=Object.getPrototypeOf(J);return Q===null||Q===Object.prototype}o(s,"isPlainObject");function a(J){return typeof J=="symbol"?J.toString():typeof J=="string"?JSON.stringify(J):`${J}`}o(a,"print");function c(J){let{done:Q,value:pe}=J.next();return Q?void 0:pe}o(c,"shiftIterator");function l(J,Q,pe,ne){if(J===!0)return;J===!1?J={}:typeof J=="string"&&(J={message:J});let{path:de,branch:yt}=Q,{type:ve}=pe,{refinement:Se,message:tr=`Expected a value of type \`${ve}\`${Se?` with refinement \`${Se}\``:""}, but received: \`${a(ne)}\``}=J;return{value:ne,type:ve,refinement:Se,key:de[de.length-1],path:de,branch:yt,...J,message:tr}}o(l,"toFailure");function*h(J,Q,pe,ne){r(J)||(J=[J]);for(let de of J){let yt=l(de,Q,pe,ne);yt&&(yield yt)}}o(h,"toFailures");function*y(J,Q,pe={}){let{path:ne=[],branch:de=[J],coerce:yt=!1,mask:ve=!1}=pe,Se={path:ne,branch:de,mask:ve};yt&&(J=Q.coercer(J,Se));let tr="valid";for(let Te of Q.validator(J,Se))Te.explanation=pe.message,tr="not_valid",yield[Te,void 0];for(let[Te,Ne,ui]of Q.entries(J,Se)){let Fe=y(Ne,ui,{path:Te===void 0?ne:[...ne,Te],branch:Te===void 0?de:[...de,Ne],coerce:yt,mask:ve,message:pe.message});for(let De of Fe)De[0]?(tr=De[0].refinement!=null?"not_refined":"not_valid",yield[De[0],void 0]):yt&&(Ne=De[1],Te===void 0?J=Ne:J instanceof Map?J.set(Te,Ne):J instanceof Set?J.add(Ne):n(J)&&(Ne!==void 0||Te in J)&&(J[Te]=Ne))}if(tr!=="not_valid")for(let Te of Q.refiner(J,Se))Te.explanation=pe.message,tr="not_refined",yield[Te,void 0];tr==="valid"&&(yield[void 0,J])}o(y,"run");class g{static{o(this,"Struct")}constructor(Q){let{type:pe,schema:ne,validator:de,refiner:yt,coercer:ve=o(tr=>tr,"coercer"),entries:Se=o(function*(){},"entries")}=Q;this.type=pe,this.schema=ne,this.entries=Se,this.coercer=ve,de?this.validator=(tr,Te)=>{let Ne=de(tr,Te);return h(Ne,Te,this,tr)}:this.validator=()=>[],yt?this.refiner=(tr,Te)=>{let Ne=yt(tr,Te);return h(Ne,Te,this,tr)}:this.refiner=()=>[]}assert(Q,pe){return E(Q,this,pe)}create(Q,pe){return T(Q,this,pe)}is(Q){return M(Q,this)}mask(Q,pe){return O(Q,this,pe)}validate(Q,pe={}){return k(Q,this,pe)}}function E(J,Q,pe){let ne=k(J,Q,{message:pe});if(ne[0])throw ne[0]}o(E,"assert");function T(J,Q,pe){let ne=k(J,Q,{coerce:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(T,"create");function O(J,Q,pe){let ne=k(J,Q,{coerce:!0,mask:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(O,"mask");function M(J,Q){return!k(J,Q)[0]}o(M,"is");function k(J,Q,pe={}){let ne=y(J,Q,pe),de=c(ne);return de[0]?[new e(de[0],function*(){for(let ve of ne)ve[0]&&(yield ve[0])}),void 0]:[void 0,de[1]]}o(k,"validate");function C(...J){let Q=J[0].type==="type",pe=J.map(de=>de.schema),ne=Object.assign({},...pe);return Q?ge(ne):ee(ne)}o(C,"assign");function B(J,Q){return new g({type:J,schema:null,validator:Q})}o(B,"define");function N(J,Q){return new g({...J,refiner:o((pe,ne)=>pe===void 0||J.refiner(pe,ne),"refiner"),validator(pe,ne){return pe===void 0?!0:(Q(pe,ne),J.validator(pe,ne))}})}o(N,"deprecated");function P(J){return new g({type:"dynamic",schema:null,*entries(Q,pe){yield*J(Q,pe).entries(Q,pe)},validator(Q,pe){return J(Q,pe).validator(Q,pe)},coercer(Q,pe){return J(Q,pe).coercer(Q,pe)},refiner(Q,pe){return J(Q,pe).refiner(Q,pe)}})}o(P,"dynamic");function H(J){let Q;return new g({type:"lazy",schema:null,*entries(pe,ne){Q??(Q=J()),yield*Q.entries(pe,ne)},validator(pe,ne){return Q??(Q=J()),Q.validator(pe,ne)},coercer(pe,ne){return Q??(Q=J()),Q.coercer(pe,ne)},refiner(pe,ne){return Q??(Q=J()),Q.refiner(pe,ne)}})}o(H,"lazy");function F(J,Q){let{schema:pe}=J,ne={...pe};for(let de of Q)delete ne[de];switch(J.type){case"type":return ge(ne);default:return ee(ne)}}o(F,"omit");function Z(J){let Q=J instanceof g,pe=Q?{...J.schema}:{...J};for(let ne in pe)pe[ne]=re(pe[ne]);return Q&&J.type==="type"?ge(pe):ee(pe)}o(Z,"partial");function W(J,Q){let{schema:pe}=J,ne={};for(let de of Q)ne[de]=pe[de];switch(J.type){case"type":return ge(ne);default:return ee(ne)}}o(W,"pick");function X(J,Q){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),B(J,Q)}o(X,"struct");function S(){return B("any",()=>!0)}o(S,"any");function f(J){return new g({type:"array",schema:J,*entries(Q){if(J&&Array.isArray(Q))for(let[pe,ne]of Q.entries())yield[pe,ne,J]},coercer(Q){return Array.isArray(Q)?Q.slice():Q},validator(Q){return Array.isArray(Q)||`Expected an array value, but received: ${a(Q)}`}})}o(f,"array");function d(){return B("bigint",J=>typeof J=="bigint")}o(d,"bigint");function b(){return B("boolean",J=>typeof J=="boolean")}o(b,"boolean");function x(){return B("date",J=>J instanceof Date&&!isNaN(J.getTime())||`Expected a valid \`Date\` object, but received: ${a(J)}`)}o(x,"date");function _(J){let Q={},pe=J.map(ne=>a(ne)).join();for(let ne of J)Q[ne]=ne;return new g({type:"enums",schema:Q,validator(ne){return J.includes(ne)||`Expected one of \`${pe}\`, but received: ${a(ne)}`}})}o(_,"enums");function A(){return B("func",J=>typeof J=="function"||`Expected a function, but received: ${a(J)}`)}o(A,"func");function I(J){return B("instance",Q=>Q instanceof J||`Expected a \`${J.name}\` instance, but received: ${a(Q)}`)}o(I,"instance");function v(){return B("integer",J=>typeof J=="number"&&!isNaN(J)&&Number.isInteger(J)||`Expected an integer, but received: ${a(J)}`)}o(v,"integer");function u(J){return new g({type:"intersection",schema:null,*entries(Q,pe){for(let ne of J)yield*ne.entries(Q,pe)},*validator(Q,pe){for(let ne of J)yield*ne.validator(Q,pe)},*refiner(Q,pe){for(let ne of J)yield*ne.refiner(Q,pe)}})}o(u,"intersection");function w(J){let Q=a(J),pe=typeof J;return new g({type:"literal",schema:pe==="string"||pe==="number"||pe==="boolean"?J:null,validator(ne){return ne===J||`Expected the literal \`${Q}\`, but received: ${a(ne)}`}})}o(w,"literal");function V(J,Q){return new g({type:"map",schema:null,*entries(pe){if(J&&Q&&pe instanceof Map)for(let[ne,de]of pe.entries())yield[ne,ne,J],yield[ne,de,Q]},coercer(pe){return pe instanceof Map?new Map(pe):pe},validator(pe){return pe instanceof Map||`Expected a \`Map\` object, but received: ${a(pe)}`}})}o(V,"map");function q(){return B("never",()=>!1)}o(q,"never");function U(J){return new g({...J,validator:o((Q,pe)=>Q===null||J.validator(Q,pe),"validator"),refiner:o((Q,pe)=>Q===null||J.refiner(Q,pe),"refiner")})}o(U,"nullable");function G(){return B("number",J=>typeof J=="number"&&!isNaN(J)||`Expected a number, but received: ${a(J)}`)}o(G,"number");function ee(J){let Q=J?Object.keys(J):[],pe=q();return new g({type:"object",schema:J||null,*entries(ne){if(J&&n(ne)){let de=new Set(Object.keys(ne));for(let yt of Q)de.delete(yt),yield[yt,ne[yt],J[yt]];for(let yt of de)yield[yt,ne[yt],pe]}},validator(ne){return i(ne)||`Expected an object, but received: ${a(ne)}`},coercer(ne,de){if(!i(ne))return ne;let yt={...ne};if(de.mask&&J)for(let ve in yt)J[ve]===void 0&&delete yt[ve];return yt}})}o(ee,"object");function re(J){return new g({...J,validator:o((Q,pe)=>Q===void 0||J.validator(Q,pe),"validator"),refiner:o((Q,pe)=>Q===void 0||J.refiner(Q,pe),"refiner")})}o(re,"optional");function Oe(J,Q){return new g({type:"record",schema:null,*entries(pe){if(n(pe))for(let ne in pe){let de=pe[ne];yield[ne,ne,J],yield[ne,de,Q]}},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(Oe,"record");function ae(){return B("regexp",J=>J instanceof RegExp)}o(ae,"regexp");function le(J){return new g({type:"set",schema:null,*entries(Q){if(J&&Q instanceof Set)for(let pe of Q)yield[pe,pe,J]},coercer(Q){return Q instanceof Set?new Set(Q):Q},validator(Q){return Q instanceof Set||`Expected a \`Set\` object, but received: ${a(Q)}`}})}o(le,"set");function ye(){return B("string",J=>typeof J=="string"||`Expected a string, but received: ${a(J)}`)}o(ye,"string");function he(J){let Q=q();return new g({type:"tuple",schema:null,*entries(pe){if(Array.isArray(pe)){let ne=Math.max(J.length,pe.length);for(let de=0;de<ne;de++)yield[de,pe[de],J[de]||Q]}},validator(pe){return Array.isArray(pe)||`Expected an array, but received: ${a(pe)}`},coercer(pe){return Array.isArray(pe)?pe.slice():pe}})}o(he,"tuple");function ge(J){let Q=Object.keys(J);return new g({type:"type",schema:J,*entries(pe){if(n(pe))for(let ne of Q)yield[ne,pe[ne],J[ne]]},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(ge,"type");function lr(J){let Q=J.map(pe=>pe.type).join(" | ");return new g({type:"union",schema:null,coercer(pe,ne){for(let de of J){let[yt,ve]=de.validate(pe,{coerce:!0,mask:ne.mask});if(!yt)return ve}return pe},validator(pe,ne){let de=[];for(let yt of J){let[...ve]=y(pe,yt,ne),[Se]=ve;if(Se[0])for(let[tr]of ve)tr&&de.push(tr);else return[]}return[`Expected the value to satisfy a union of \`${Q}\`, but received: ${a(pe)}`,...de]}})}o(lr,"union");function Ae(){return B("unknown",()=>!0)}o(Ae,"unknown");function Me(J,Q,pe){return new g({...J,coercer:o((ne,de)=>M(ne,Q)?J.coercer(pe(ne,de),de):J.coercer(ne,de),"coercer")})}o(Me,"coerce");function Kn(J,Q,pe={}){return Me(J,Ae(),ne=>{let de=typeof Q=="function"?Q():Q;if(ne===void 0)return de;if(!pe.strict&&s(ne)&&s(de)){let yt={...ne},ve=!1;for(let Se in de)yt[Se]===void 0&&(yt[Se]=de[Se],ve=!0);if(ve)return yt}return ne})}o(Kn,"defaulted");function qe(J){return Me(J,ye(),Q=>Q.trim())}o(qe,"trimmed");function ke(J){return Qr(J,"empty",Q=>{let pe=$n(Q);return pe===0||`Expected an empty ${J.type} but received one with a size of \`${pe}\``})}o(ke,"empty");function $n(J){return J instanceof Map||J instanceof Set?J.size:J.length}o($n,"getSize");function Ue(J,Q,pe={}){let{exclusive:ne}=pe;return Qr(J,"max",de=>ne?de<Q:de<=Q||`Expected a ${J.type} less than ${ne?"":"or equal to "}${Q} but received \`${de}\``)}o(Ue,"max");function Pe(J,Q,pe={}){let{exclusive:ne}=pe;return Qr(J,"min",de=>ne?de>Q:de>=Q||`Expected a ${J.type} greater than ${ne?"":"or equal to "}${Q} but received \`${de}\``)}o(Pe,"min");function Gn(J){return Qr(J,"nonempty",Q=>$n(Q)>0||`Expected a nonempty ${J.type} but received an empty one`)}o(Gn,"nonempty");function Be(J,Q){return Qr(J,"pattern",pe=>Q.test(pe)||`Expected a ${J.type} matching \`/${Q.source}/\` but received "${pe}"`)}o(Be,"pattern");function Le(J,Q,pe=Q){let ne=`Expected a ${J.type}`,de=Q===pe?`of \`${Q}\``:`between \`${Q}\` and \`${pe}\``;return Qr(J,"size",yt=>{if(typeof yt=="number"||yt instanceof Date)return Q<=yt&&yt<=pe||`${ne} ${de} but received \`${yt}\``;if(yt instanceof Map||yt instanceof Set){let{size:ve}=yt;return Q<=ve&&ve<=pe||`${ne} with a size ${de} but received one with a size of \`${ve}\``}else{let{length:ve}=yt;return Q<=ve&&ve<=pe||`${ne} with a length ${de} but received one with a length of \`${ve}\``}})}o(Le,"size");function Qr(J,Q,pe){return new g({...J,*refiner(ne,de){yield*J.refiner(ne,de);let yt=pe(ne,de),ve=h(yt,de,J,ne);for(let Se of ve)yield{...Se,refinement:Q}}})}o(Qr,"refine"),t.Struct=g,t.StructError=e,t.any=S,t.array=f,t.assert=E,t.assign=C,t.bigint=d,t.boolean=b,t.coerce=Me,t.create=T,t.date=x,t.defaulted=Kn,t.define=B,t.deprecated=N,t.dynamic=P,t.empty=ke,t.enums=_,t.func=A,t.instance=I,t.integer=v,t.intersection=u,t.is=M,t.lazy=H,t.literal=w,t.map=V,t.mask=O,t.max=Ue,t.min=Pe,t.never=q,t.nonempty=Gn,t.nullable=U,t.number=G,t.object=ee,t.omit=F,t.optional=re,t.partial=Z,t.pattern=Be,t.pick=W,t.record=Oe,t.refine=Qr,t.regexp=ae,t.set=le,t.size=Le,t.string=ye,t.struct=X,t.trimmed=qe,t.tuple=he,t.type=ge,t.union=lr,t.unknown=Ae,t.validate=k})});var AU=j(SU=>{"use strict";p();m();Object.defineProperty(SU,"__esModule",{value:!0});SU.default=HYe;var rT,FYe=new Uint8Array(16);function HYe(){if(!rT&&(rT=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!rT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rT(FYe)}o(HYe,"rng")});var Rpe=j(nT=>{"use strict";p();m();Object.defineProperty(nT,"__esModule",{value:!0});nT.default=void 0;var qYe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;nT.default=qYe});var hE=j(iT=>{"use strict";p();m();Object.defineProperty(iT,"__esModule",{value:!0});iT.default=void 0;var VYe=jYe(Rpe());function jYe(t){return t&&t.__esModule?t:{default:t}}o(jYe,"_interopRequireDefault");function zYe(t){return typeof t=="string"&&VYe.default.test(t)}o(zYe,"validate");var KYe=zYe;iT.default=KYe});var mE=j(pE=>{"use strict";p();m();Object.defineProperty(pE,"__esModule",{value:!0});pE.default=void 0;pE.unsafeStringify=Ope;var $Ye=GYe(hE());function GYe(t){return t&&t.__esModule?t:{default:t}}o(GYe,"_interopRequireDefault");var ys=[];for(let t=0;t<256;++t)ys.push((t+256).toString(16).slice(1));function Ope(t,e=0){return ys[t[e+0]]+ys[t[e+1]]+ys[t[e+2]]+ys[t[e+3]]+"-"+ys[t[e+4]]+ys[t[e+5]]+"-"+ys[t[e+6]]+ys[t[e+7]]+"-"+ys[t[e+8]]+ys[t[e+9]]+"-"+ys[t[e+10]]+ys[t[e+11]]+ys[t[e+12]]+ys[t[e+13]]+ys[t[e+14]]+ys[t[e+15]]}o(Ope,"unsafeStringify");function WYe(t,e=0){let r=Ope(t,e);if(!(0,$Ye.default)(r))throw TypeError("Stringified UUID is invalid");return r}o(WYe,"stringify");var YYe=WYe;pE.default=YYe});var Npe=j(oT=>{"use strict";p();m();Object.defineProperty(oT,"__esModule",{value:!0});oT.default=void 0;var XYe=JYe(AU()),ZYe=mE();function JYe(t){return t&&t.__esModule?t:{default:t}}o(JYe,"_interopRequireDefault");var Mpe,TU,IU=0,RU=0;function QYe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||Mpe,a=t.clockseq!==void 0?t.clockseq:TU;if(s==null||a==null){let E=t.random||(t.rng||XYe.default)();s==null&&(s=Mpe=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),a==null&&(a=TU=(E[6]<<8|E[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:RU+1,h=c-IU+(l-RU)/1e4;if(h<0&&t.clockseq===void 0&&(a=a+1&16383),(h<0||c>IU)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");IU=c,RU=l,TU=a,c+=122192928e5;let y=((c&268435455)*1e4+l)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;let g=c/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let E=0;E<6;++E)i[n+E]=s[E];return e||(0,ZYe.unsafeStringify)(i)}o(QYe,"v1");var eXe=QYe;oT.default=eXe});var OU=j(sT=>{"use strict";p();m();Object.defineProperty(sT,"__esModule",{value:!0});sT.default=void 0;var tXe=rXe(hE());function rXe(t){return t&&t.__esModule?t:{default:t}}o(rXe,"_interopRequireDefault");function nXe(t){if(!(0,tXe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}o(nXe,"parse");var iXe=nXe;sT.default=iXe});var MU=j(Sy=>{"use strict";p();m();Object.defineProperty(Sy,"__esModule",{value:!0});Sy.URL=Sy.DNS=void 0;Sy.default=fXe;var oXe=mE(),sXe=aXe(OU());function aXe(t){return t&&t.__esModule?t:{default:t}}o(aXe,"_interopRequireDefault");function cXe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}o(cXe,"stringToBytes");var Cpe="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Sy.DNS=Cpe;var kpe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Sy.URL=kpe;function fXe(t,e,r){function n(i,s,a,c){var l;if(typeof i=="string"&&(i=cXe(i)),typeof s=="string"&&(s=(0,sXe.default)(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=r(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){c=c||0;for(let y=0;y<16;++y)a[c+y]=h[y];return a}return(0,oXe.unsafeStringify)(h)}o(n,"generateUUID");try{n.name=t}catch{}return n.DNS=Cpe,n.URL=kpe,n}o(fXe,"v35")});var Ppe=j(cT=>{"use strict";p();m();Object.defineProperty(cT,"__esModule",{value:!0});cT.default=void 0;function uXe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return lXe(dXe(hXe(t),t.length*8))}o(uXe,"md5");function lXe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let s=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}o(lXe,"md5ToHexEncodedArray");function Bpe(t){return(t+64>>>9<<4)+14+1}o(Bpe,"getOutputLength");function dXe(t,e){t[e>>5]|=128<<e%32,t[Bpe(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let a=0;a<t.length;a+=16){let c=r,l=n,h=i,y=s;r=oa(r,n,i,s,t[a],7,-680876936),s=oa(s,r,n,i,t[a+1],12,-389564586),i=oa(i,s,r,n,t[a+2],17,606105819),n=oa(n,i,s,r,t[a+3],22,-1044525330),r=oa(r,n,i,s,t[a+4],7,-176418897),s=oa(s,r,n,i,t[a+5],12,1200080426),i=oa(i,s,r,n,t[a+6],17,-1473231341),n=oa(n,i,s,r,t[a+7],22,-45705983),r=oa(r,n,i,s,t[a+8],7,1770035416),s=oa(s,r,n,i,t[a+9],12,-1958414417),i=oa(i,s,r,n,t[a+10],17,-42063),n=oa(n,i,s,r,t[a+11],22,-1990404162),r=oa(r,n,i,s,t[a+12],7,1804603682),s=oa(s,r,n,i,t[a+13],12,-40341101),i=oa(i,s,r,n,t[a+14],17,-1502002290),n=oa(n,i,s,r,t[a+15],22,1236535329),r=sa(r,n,i,s,t[a+1],5,-165796510),s=sa(s,r,n,i,t[a+6],9,-1069501632),i=sa(i,s,r,n,t[a+11],14,643717713),n=sa(n,i,s,r,t[a],20,-373897302),r=sa(r,n,i,s,t[a+5],5,-701558691),s=sa(s,r,n,i,t[a+10],9,38016083),i=sa(i,s,r,n,t[a+15],14,-660478335),n=sa(n,i,s,r,t[a+4],20,-405537848),r=sa(r,n,i,s,t[a+9],5,568446438),s=sa(s,r,n,i,t[a+14],9,-1019803690),i=sa(i,s,r,n,t[a+3],14,-187363961),n=sa(n,i,s,r,t[a+8],20,1163531501),r=sa(r,n,i,s,t[a+13],5,-1444681467),s=sa(s,r,n,i,t[a+2],9,-51403784),i=sa(i,s,r,n,t[a+7],14,1735328473),n=sa(n,i,s,r,t[a+12],20,-1926607734),r=aa(r,n,i,s,t[a+5],4,-378558),s=aa(s,r,n,i,t[a+8],11,-2022574463),i=aa(i,s,r,n,t[a+11],16,1839030562),n=aa(n,i,s,r,t[a+14],23,-35309556),r=aa(r,n,i,s,t[a+1],4,-1530992060),s=aa(s,r,n,i,t[a+4],11,1272893353),i=aa(i,s,r,n,t[a+7],16,-155497632),n=aa(n,i,s,r,t[a+10],23,-1094730640),r=aa(r,n,i,s,t[a+13],4,681279174),s=aa(s,r,n,i,t[a],11,-358537222),i=aa(i,s,r,n,t[a+3],16,-722521979),n=aa(n,i,s,r,t[a+6],23,76029189),r=aa(r,n,i,s,t[a+9],4,-640364487),s=aa(s,r,n,i,t[a+12],11,-421815835),i=aa(i,s,r,n,t[a+15],16,530742520),n=aa(n,i,s,r,t[a+2],23,-995338651),r=ca(r,n,i,s,t[a],6,-198630844),s=ca(s,r,n,i,t[a+7],10,1126891415),i=ca(i,s,r,n,t[a+14],15,-1416354905),n=ca(n,i,s,r,t[a+5],21,-57434055),r=ca(r,n,i,s,t[a+12],6,1700485571),s=ca(s,r,n,i,t[a+3],10,-1894986606),i=ca(i,s,r,n,t[a+10],15,-1051523),n=ca(n,i,s,r,t[a+1],21,-2054922799),r=ca(r,n,i,s,t[a+8],6,1873313359),s=ca(s,r,n,i,t[a+15],10,-30611744),i=ca(i,s,r,n,t[a+6],15,-1560198380),n=ca(n,i,s,r,t[a+13],21,1309151649),r=ca(r,n,i,s,t[a+4],6,-145523070),s=ca(s,r,n,i,t[a+11],10,-1120210379),i=ca(i,s,r,n,t[a+2],15,718787259),n=ca(n,i,s,r,t[a+9],21,-343485551),r=Cp(r,c),n=Cp(n,l),i=Cp(i,h),s=Cp(s,y)}return[r,n,i,s]}o(dXe,"wordsToMd5");function hXe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(Bpe(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}o(hXe,"bytesToWords");function Cp(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}o(Cp,"safeAdd");function pXe(t,e){return t<<e|t>>>32-e}o(pXe,"bitRotateLeft");function aT(t,e,r,n,i,s){return Cp(pXe(Cp(Cp(e,t),Cp(n,s)),i),r)}o(aT,"md5cmn");function oa(t,e,r,n,i,s,a){return aT(e&r|~e&n,t,e,i,s,a)}o(oa,"md5ff");function sa(t,e,r,n,i,s,a){return aT(e&n|r&~n,t,e,i,s,a)}o(sa,"md5gg");function aa(t,e,r,n,i,s,a){return aT(e^r^n,t,e,i,s,a)}o(aa,"md5hh");function ca(t,e,r,n,i,s,a){return aT(r^(e|~n),t,e,i,s,a)}o(ca,"md5ii");var mXe=uXe;cT.default=mXe});var Dpe=j(fT=>{"use strict";p();m();Object.defineProperty(fT,"__esModule",{value:!0});fT.default=void 0;var gXe=Lpe(MU()),yXe=Lpe(Ppe());function Lpe(t){return t&&t.__esModule?t:{default:t}}o(Lpe,"_interopRequireDefault");var bXe=(0,gXe.default)("v3",48,yXe.default),xXe=bXe;fT.default=xXe});var Upe=j(uT=>{"use strict";p();m();Object.defineProperty(uT,"__esModule",{value:!0});uT.default=void 0;var vXe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),_Xe={randomUUID:vXe};uT.default=_Xe});var qpe=j(lT=>{"use strict";p();m();Object.defineProperty(lT,"__esModule",{value:!0});lT.default=void 0;var Fpe=Hpe(Upe()),wXe=Hpe(AU()),EXe=mE();function Hpe(t){return t&&t.__esModule?t:{default:t}}o(Hpe,"_interopRequireDefault");function SXe(t,e,r){if(Fpe.default.randomUUID&&!e&&!t)return Fpe.default.randomUUID();t=t||{};let n=t.random||(t.rng||wXe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,EXe.unsafeStringify)(n)}o(SXe,"v4");var AXe=SXe;lT.default=AXe});var Vpe=j(dT=>{"use strict";p();m();Object.defineProperty(dT,"__esModule",{value:!0});dT.default=void 0;function TXe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}o(TXe,"f");function NU(t,e){return t<<e|t>>>32-e}o(NU,"ROTL");function IXe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let a=unescape(encodeURIComponent(t));t=[];for(let c=0;c<a.length;++c)t.push(a.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let a=0;a<i;++a){let c=new Uint32Array(16);for(let l=0;l<16;++l)c[l]=t[a*64+l*4]<<24|t[a*64+l*4+1]<<16|t[a*64+l*4+2]<<8|t[a*64+l*4+3];s[a]=c}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<i;++a){let c=new Uint32Array(80);for(let T=0;T<16;++T)c[T]=s[a][T];for(let T=16;T<80;++T)c[T]=NU(c[T-3]^c[T-8]^c[T-14]^c[T-16],1);let l=r[0],h=r[1],y=r[2],g=r[3],E=r[4];for(let T=0;T<80;++T){let O=Math.floor(T/20),M=NU(l,5)+TXe(O,h,y,g)+E+e[O]+c[T]>>>0;E=g,g=y,y=NU(h,30)>>>0,h=l,l=M}r[0]=r[0]+l>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}o(IXe,"sha1");var RXe=IXe;dT.default=RXe});var zpe=j(hT=>{"use strict";p();m();Object.defineProperty(hT,"__esModule",{value:!0});hT.default=void 0;var OXe=jpe(MU()),MXe=jpe(Vpe());function jpe(t){return t&&t.__esModule?t:{default:t}}o(jpe,"_interopRequireDefault");var NXe=(0,OXe.default)("v5",80,MXe.default),CXe=NXe;hT.default=CXe});var Kpe=j(pT=>{"use strict";p();m();Object.defineProperty(pT,"__esModule",{value:!0});pT.default=void 0;var kXe="00000000-0000-0000-0000-000000000000";pT.default=kXe});var $pe=j(mT=>{"use strict";p();m();Object.defineProperty(mT,"__esModule",{value:!0});mT.default=void 0;var BXe=PXe(hE());function PXe(t){return t&&t.__esModule?t:{default:t}}o(PXe,"_interopRequireDefault");function LXe(t){if(!(0,BXe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}o(LXe,"version");var DXe=LXe;mT.default=DXe});var gT=j(Zu=>{"use strict";p();m();Object.defineProperty(Zu,"__esModule",{value:!0});Object.defineProperty(Zu,"NIL",{enumerable:!0,get:o(function(){return VXe.default},"get")});Object.defineProperty(Zu,"parse",{enumerable:!0,get:o(function(){return $Xe.default},"get")});Object.defineProperty(Zu,"stringify",{enumerable:!0,get:o(function(){return KXe.default},"get")});Object.defineProperty(Zu,"v1",{enumerable:!0,get:o(function(){return UXe.default},"get")});Object.defineProperty(Zu,"v3",{enumerable:!0,get:o(function(){return FXe.default},"get")});Object.defineProperty(Zu,"v4",{enumerable:!0,get:o(function(){return HXe.default},"get")});Object.defineProperty(Zu,"v5",{enumerable:!0,get:o(function(){return qXe.default},"get")});Object.defineProperty(Zu,"validate",{enumerable:!0,get:o(function(){return zXe.default},"get")});Object.defineProperty(Zu,"version",{enumerable:!0,get:o(function(){return jXe.default},"get")});var UXe=Ph(Npe()),FXe=Ph(Dpe()),HXe=Ph(qpe()),qXe=Ph(zpe()),VXe=Ph(Kpe()),jXe=Ph($pe()),zXe=Ph(hE()),KXe=Ph(mE()),$Xe=Ph(OU());function Ph(t){return t&&t.__esModule?t:{default:t}}o(Ph,"_interopRequireDefault")});var Wpe=j((ozt,Gpe)=>{"use strict";p();m();var GXe=gT().v4,WXe=o(function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){let a=typeof n.generator=="function"?n.generator:function(){return GXe()};s.id=a(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s},"generateRequest");Gpe.exports=WXe});var Xpe=j((fzt,Ype)=>{"use strict";p();m();var YXe=gT().v4,XXe=Wpe(),gE=o(function(t,e){if(!(this instanceof gE))return new gE(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return YXe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t},"ClientBrowser");Ype.exports=gE;gE.prototype.request=function(t,e,r,n){let i=this,s=null,a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);let h=typeof n=="function";try{s=XXe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(h)return n(y);throw y}if(!h)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(h){return n(h)}return this.callServer(l,function(h,y){i._parseResponse(h,y,n)}),s};gE.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=o(function(a){return typeof a.error<"u"},"isError"),s=o(function(a){return!i(a)},"isNotError");return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)}});var Jpe=j((hzt,CU)=>{"use strict";p();m();var ZXe=Object.prototype.hasOwnProperty,Da="~";function yE(){}o(yE,"Events");Object.create&&(yE.prototype=Object.create(null),new yE().__proto__||(Da=!1));function JXe(t,e,r){this.fn=t,this.context=e,this.once=r||!1}o(JXe,"EE");function Zpe(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new JXe(r,n||t,i),a=Da?Da+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}o(Zpe,"addListener");function yT(t,e){--t._eventsCount===0?t._events=new yE:delete t._events[e]}o(yT,"clearEvent");function fa(){this._events=new yE,this._eventsCount=0}o(fa,"EventEmitter");fa.prototype.eventNames=o(function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)ZXe.call(r,n)&&e.push(Da?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},"eventNames");fa.prototype.listeners=o(function(e){var r=Da?Da+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},"listeners");fa.prototype.listenerCount=o(function(e){var r=Da?Da+e:e,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");fa.prototype.emit=o(function(e,r,n,i,s,a){var c=Da?Da+e:e;if(!this._events[c])return!1;var l=this._events[c],h=arguments.length,y,g;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,i),!0;case 5:return l.fn.call(l.context,r,n,i,s),!0;case 6:return l.fn.call(l.context,r,n,i,s,a),!0}for(g=1,y=new Array(h-1);g<h;g++)y[g-1]=arguments[g];l.fn.apply(l.context,y)}else{var E=l.length,T;for(g=0;g<E;g++)switch(l[g].once&&this.removeListener(e,l[g].fn,void 0,!0),h){case 1:l[g].fn.call(l[g].context);break;case 2:l[g].fn.call(l[g].context,r);break;case 3:l[g].fn.call(l[g].context,r,n);break;case 4:l[g].fn.call(l[g].context,r,n,i);break;default:if(!y)for(T=1,y=new Array(h-1);T<h;T++)y[T-1]=arguments[T];l[g].fn.apply(l[g].context,y)}}return!0},"emit");fa.prototype.on=o(function(e,r,n){return Zpe(this,e,r,n,!1)},"on");fa.prototype.once=o(function(e,r,n){return Zpe(this,e,r,n,!0)},"once");fa.prototype.removeListener=o(function(e,r,n,i){var s=Da?Da+e:e;if(!this._events[s])return this;if(!r)return yT(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&yT(this,s);else{for(var c=0,l=[],h=a.length;c<h;c++)(a[c].fn!==r||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=l.length===1?l[0]:l:yT(this,s)}return this},"removeListener");fa.prototype.removeAllListeners=o(function(e){var r;return e?(r=Da?Da+e:e,this._events[r]&&yT(this,r)):(this._events=new yE,this._eventsCount=0),this},"removeAllListeners");fa.prototype.off=fa.prototype.removeListener;fa.prototype.addListener=fa.prototype.on;fa.prefixed=Da;fa.EventEmitter=fa;typeof CU<"u"&&(CU.exports=fa)});var nme=j(bE=>{"use strict";p();m();var QXe=li(),Qpe=Jpe(),eZe=class extends Qpe.EventEmitter{static{o(this,"WebSocketBrowserImpl")}socket;constructor(t,e,r){super(),this.socket=new self.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,r){let n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function eme(t,e){return new eZe(t,e)}o(eme,"WebSocket");var tme=class{static{o(this,"DefaultDataPack")}encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},rme=class extends Qpe.EventEmitter{static{o(this,"CommonClient")}address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},c,l){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new tme,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return!n&&typeof r=="object"&&(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));let a=this.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(c),n,l=>{if(l)return s(l);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return n(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=QXe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);let n=[r.notification];if(r.params.constructor===Object)n.push(r.params);else for(let i=0;i<r.params.length;i++)n.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}},tZe=class extends rme{static{o(this,"Client")}constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:r=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},s){super(eme,t,{autoconnect:e,reconnect:r,reconnect_interval:n,max_reconnects:i},s)}};bE.Client=tZe;bE.CommonClient=rme;bE.DefaultDataPack=tme;bE.WebSocket=eme});var dme=j(pi=>{"use strict";p();m();Object.defineProperty(pi,"__esModule",{value:!0});pi.shake256=pi.shake128=pi.keccak_512=pi.keccak_384=pi.keccak_256=pi.keccak_224=pi.sha3_512=pi.sha3_384=pi.sha3_256=pi.sha3_224=pi.Keccak=void 0;pi.keccakP=ume;var vE=UD(),ua=y5(),rZe=BigInt(0),xE=BigInt(1),nZe=BigInt(2),iZe=BigInt(7),oZe=BigInt(256),sZe=BigInt(113),sme=[],ame=[],cme=[];for(let t=0,e=xE,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],sme.push(2*(5*n+r)),ame.push((t+1)*(t+2)/2%64);let i=rZe;for(let s=0;s<7;s++)e=(e<<xE^(e>>iZe)*sZe)%oZe,e&nZe&&(i^=xE<<(xE<<BigInt(s))-xE);cme.push(i)}var fme=(0,vE.split)(cme,!0),aZe=fme[0],cZe=fme[1],ime=o((t,e,r)=>r>32?(0,vE.rotlBH)(t,e,r):(0,vE.rotlSH)(t,e,r),"rotlH"),ome=o((t,e,r)=>r>32?(0,vE.rotlBL)(t,e,r):(0,vE.rotlSL)(t,e,r),"rotlL");function ume(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,l=(a+2)%10,h=r[l],y=r[l+1],g=ime(h,y,1)^r[c],E=ome(h,y,1)^r[c+1];for(let T=0;T<50;T+=10)t[a+T]^=g,t[a+T+1]^=E}let i=t[2],s=t[3];for(let a=0;a<24;a++){let c=ame[a],l=ime(i,s,c),h=ome(i,s,c),y=sme[a];i=t[y],s=t[y+1],t[y]=l,t[y+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=aZe[n],t[1]^=cZe[n]}(0,ua.clean)(r)}o(ume,"keccakP");var _E=class t extends ua.Hash{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,(0,ua.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,ua.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,ua.swap32IfBE)(this.state32),ume(this.state32,this.rounds),(0,ua.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,ua.aexists)(this),e=(0,ua.toBytes)(e),(0,ua.abytes)(e);let{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,ua.aexists)(this,!1),(0,ua.abytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,ua.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,ua.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,ua.clean)(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};pi.Keccak=_E;var kp=o((t,e,r)=>(0,ua.createHasher)(()=>new _E(e,t,r)),"gen");pi.sha3_224=kp(6,144,224/8);pi.sha3_256=kp(6,136,256/8);pi.sha3_384=kp(6,104,384/8);pi.sha3_512=kp(6,72,512/8);pi.keccak_224=kp(1,144,224/8);pi.keccak_256=kp(1,136,256/8);pi.keccak_384=kp(1,104,384/8);pi.keccak_512=kp(1,72,512/8);var lme=o((t,e,r)=>(0,ua.createXOFer)((n={})=>new _E(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake");pi.shake128=lme(31,168,128/8);pi.shake256=lme(31,136,256/8)});var hme=j(Lp=>{"use strict";p();m();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.sha224=Lp.sha256=Lp.SHA256=void 0;var kU=iD(),Gf=xp(),fZe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pp=new Uint32Array(64),wE=class extends kU.HashMD{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=Bp[0]|0,this.B=Bp[1]|0,this.C=Bp[2]|0,this.D=Bp[3]|0,this.E=Bp[4]|0,this.F=Bp[5]|0,this.G=Bp[6]|0,this.H=Bp[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)Pp[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=Pp[g-15],T=Pp[g-2],O=(0,Gf.rotr)(E,7)^(0,Gf.rotr)(E,18)^E>>>3,M=(0,Gf.rotr)(T,17)^(0,Gf.rotr)(T,19)^T>>>10;Pp[g]=M+Pp[g-7]+O+Pp[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=(0,Gf.rotr)(c,6)^(0,Gf.rotr)(c,11)^(0,Gf.rotr)(c,25),T=y+E+(0,kU.Chi)(c,l,h)+fZe[g]+Pp[g]|0,M=((0,Gf.rotr)(n,2)^(0,Gf.rotr)(n,13)^(0,Gf.rotr)(n,22))+(0,kU.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){Pp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};Lp.SHA256=wE;var BU=class extends wE{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Lp.sha256=(0,Gf.wrapConstructor)(()=>new wE);Lp.sha224=(0,Gf.wrapConstructor)(()=>new BU)});var mme=j(Ay=>{"use strict";p();m();Object.defineProperty(Ay,"__esModule",{value:!0});Ay.hmac=Ay.HMAC=void 0;var bT=Q8(),pme=xp(),EE=class extends pme.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,bT.hash)(e);let n=(0,pme.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,bT.exists)(this),this.iHash.update(e),this}digestInto(e){(0,bT.exists)(this),(0,bT.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Ay.HMAC=EE;var uZe=o((t,e,r)=>new EE(t,e).update(r).digest(),"hmac");Ay.hmac=uZe;Ay.hmac.create=(t,e)=>new EE(t,e)});var PU=j(xs=>{"use strict";p();m();Object.defineProperty(xs,"__esModule",{value:!0});xs.DER=void 0;xs.weierstrassPoints=bme;xs.weierstrass=mZe;xs.SWUFpSqrtRatio=xme;xs.mapToCurveSimpleSWU=gZe;var xT=yD(),Ty=Sp(),Kr=Gu(),bs=Gu();function gme(t){t.lowS!==void 0&&(0,bs.abool)("lowS",t.lowS),t.prehash!==void 0&&(0,bs.abool)("prehash",t.prehash)}o(gme,"validateSigVerOpts");function lZe(t){let e=(0,xT.validateBasic)(t);Kr.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(lZe,"validatePointOpts");var{bytesToNumberBE:dZe,hexToBytes:hZe}=Kr;xs.DER={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_tlv:{encode:o((t,e)=>{let{Err:r}=xs.DER;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=Kr.numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?Kr.numberToHexUnpadded(i.length/2|128):"";return`${Kr.numberToHexUnpadded(t)}${s}${i}${e}`},"encode"),decode(t,e){let{Err:r}=xs.DER,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],s=!!(i&128),a=0;if(!s)a=i;else{let l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");let h=e.subarray(n,n+l);if(h.length!==l)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let y of h)a=a<<8|y;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}let c=e.subarray(n,n+a);if(c.length!==a)throw new r("tlv.decode: wrong value length");return{v:c,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=xs.DER;if(t<Ju)throw new e("integer: negative integers are not allowed");let r=Kr.numberToHexUnpadded(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){let{Err:e}=xs.DER;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return dZe(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=xs.DER,i=typeof t=="string"?hZe(t):t;Kr.abytes(i);let{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("Invalid signature: left bytes after parsing");let{v:c,l}=n.decode(2,s),{v:h,l:y}=n.decode(2,l);if(y.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(h)}},hexFromSig(t){let{_tlv:e,_int:r}=xs.DER,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}};var Ju=BigInt(0),Hn=BigInt(1),Dp=BigInt(2),vT=BigInt(3),yme=BigInt(4);function bme(t){let e=lZe(t),{Fp:r}=e,n=Ty.Field(e.n,e.nBitLength),i=e.toBytes||((M,k,C)=>{let B=k.toAffine();return Kr.concatBytes(Uint8Array.from([4]),r.toBytes(B.x),r.toBytes(B.y))}),s=e.fromBytes||(M=>{let k=M.subarray(1),C=r.fromBytes(k.subarray(0,r.BYTES)),B=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:C,y:B}});function a(M){let{a:k,b:C}=e,B=r.sqr(M),N=r.mul(B,M);return r.add(r.add(N,r.mul(M,k)),C)}if(o(a,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(M){return Kr.inRange(M,Hn,e.n)}o(c,"isWithinCurveOrder");function l(M){let{allowedPrivateKeyLengths:k,nByteLength:C,wrapPrivateKey:B,n:N}=e;if(k&&typeof M!="bigint"){if(Kr.isBytes(M)&&(M=Kr.bytesToHex(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(C*2,"0")}let P;try{P=typeof M=="bigint"?M:Kr.bytesToNumberBE((0,bs.ensureBytes)("private key",M,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof M}`)}return B&&(P=Ty.mod(P,N)),Kr.aInRange("private key",P,Hn,N),P}o(l,"normPrivateKeyToScalar");function h(M){if(!(M instanceof E))throw new Error("ProjectivePoint expected")}o(h,"assertPrjPoint");let y=(0,bs.memoized)((M,k)=>{let{px:C,py:B,pz:N}=M;if(r.eql(N,r.ONE))return{x:C,y:B};let P=M.is0();k==null&&(k=P?r.ONE:r.inv(N));let H=r.mul(C,k),F=r.mul(B,k),Z=r.mul(N,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Z,r.ONE))throw new Error("invZ was invalid");return{x:H,y:F}}),g=(0,bs.memoized)(M=>{if(M.is0()){if(e.allowInfinityPoint&&!r.is0(M.py))return;throw new Error("bad point: ZERO")}let{x:k,y:C}=M.toAffine();if(!r.isValid(k)||!r.isValid(C))throw new Error("bad point: x or y not FE");let B=r.sqr(C),N=a(k);if(!r.eql(B,N))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class E{static{o(this,"Point")}constructor(k,C,B){if(this.px=k,this.py=C,this.pz=B,k==null||!r.isValid(k))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(B==null||!r.isValid(B))throw new Error("z required");Object.freeze(this)}static fromAffine(k){let{x:C,y:B}=k||{};if(!k||!r.isValid(C)||!r.isValid(B))throw new Error("invalid affine point");if(k instanceof E)throw new Error("projective point not allowed");let N=o(P=>r.eql(P,r.ZERO),"is0");return N(C)&&N(B)?E.ZERO:new E(C,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let C=r.invertBatch(k.map(B=>B.pz));return k.map((B,N)=>B.toAffine(C[N])).map(E.fromAffine)}static fromHex(k){let C=E.fromAffine(s((0,bs.ensureBytes)("pointHex",k)));return C.assertValidity(),C}static fromPrivateKey(k){return E.BASE.multiply(l(k))}static msm(k,C){return(0,xT.pippenger)(E,n,k,C)}_setWindowSize(k){O.setWindowSize(this,k)}assertValidity(){g(this)}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){h(k);let{px:C,py:B,pz:N}=this,{px:P,py:H,pz:F}=k,Z=r.eql(r.mul(C,F),r.mul(P,N)),W=r.eql(r.mul(B,F),r.mul(H,N));return Z&&W}negate(){return new E(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:C}=e,B=r.mul(C,vT),{px:N,py:P,pz:H}=this,F=r.ZERO,Z=r.ZERO,W=r.ZERO,X=r.mul(N,N),S=r.mul(P,P),f=r.mul(H,H),d=r.mul(N,P);return d=r.add(d,d),W=r.mul(N,H),W=r.add(W,W),F=r.mul(k,W),Z=r.mul(B,f),Z=r.add(F,Z),F=r.sub(S,Z),Z=r.add(S,Z),Z=r.mul(F,Z),F=r.mul(d,F),W=r.mul(B,W),f=r.mul(k,f),d=r.sub(X,f),d=r.mul(k,d),d=r.add(d,W),W=r.add(X,X),X=r.add(W,X),X=r.add(X,f),X=r.mul(X,d),Z=r.add(Z,X),f=r.mul(P,H),f=r.add(f,f),X=r.mul(f,d),F=r.sub(F,X),W=r.mul(f,S),W=r.add(W,W),W=r.add(W,W),new E(F,Z,W)}add(k){h(k);let{px:C,py:B,pz:N}=this,{px:P,py:H,pz:F}=k,Z=r.ZERO,W=r.ZERO,X=r.ZERO,S=e.a,f=r.mul(e.b,vT),d=r.mul(C,P),b=r.mul(B,H),x=r.mul(N,F),_=r.add(C,B),A=r.add(P,H);_=r.mul(_,A),A=r.add(d,b),_=r.sub(_,A),A=r.add(C,N);let I=r.add(P,F);return A=r.mul(A,I),I=r.add(d,x),A=r.sub(A,I),I=r.add(B,N),Z=r.add(H,F),I=r.mul(I,Z),Z=r.add(b,x),I=r.sub(I,Z),X=r.mul(S,A),Z=r.mul(f,x),X=r.add(Z,X),Z=r.sub(b,X),X=r.add(b,X),W=r.mul(Z,X),b=r.add(d,d),b=r.add(b,d),x=r.mul(S,x),A=r.mul(f,A),b=r.add(b,x),x=r.sub(d,x),x=r.mul(S,x),A=r.add(A,x),d=r.mul(b,A),W=r.add(W,d),d=r.mul(I,A),Z=r.mul(_,Z),Z=r.sub(Z,d),d=r.mul(_,b),X=r.mul(I,X),X=r.add(X,d),new E(Z,W,X)}subtract(k){return this.add(k.negate())}is0(){return this.equals(E.ZERO)}wNAF(k){return O.wNAFCached(this,k,E.normalizeZ)}multiplyUnsafe(k){Kr.aInRange("scalar",k,Ju,e.n);let C=E.ZERO;if(k===Ju)return C;if(k===Hn)return this;let{endo:B}=e;if(!B)return O.unsafeLadder(this,k);let{k1neg:N,k1:P,k2neg:H,k2:F}=B.splitScalar(k),Z=C,W=C,X=this;for(;P>Ju||F>Ju;)P&Hn&&(Z=Z.add(X)),F&Hn&&(W=W.add(X)),X=X.double(),P>>=Hn,F>>=Hn;return N&&(Z=Z.negate()),H&&(W=W.negate()),W=new E(r.mul(W.px,B.beta),W.py,W.pz),Z.add(W)}multiply(k){let{endo:C,n:B}=e;Kr.aInRange("scalar",k,Hn,B);let N,P;if(C){let{k1neg:H,k1:F,k2neg:Z,k2:W}=C.splitScalar(k),{p:X,f:S}=this.wNAF(F),{p:f,f:d}=this.wNAF(W);X=O.constTimeNegate(H,X),f=O.constTimeNegate(Z,f),f=new E(r.mul(f.px,C.beta),f.py,f.pz),N=X.add(f),P=S.add(d)}else{let{p:H,f:F}=this.wNAF(k);N=H,P=F}return E.normalizeZ([N,P])[0]}multiplyAndAddUnsafe(k,C,B){let N=E.BASE,P=o((F,Z)=>Z===Ju||Z===Hn||!F.equals(N)?F.multiplyUnsafe(Z):F.multiply(Z),"mul"),H=P(this,C).add(P(k,B));return H.is0()?void 0:H}toAffine(k){return y(this,k)}isTorsionFree(){let{h:k,isTorsionFree:C}=e;if(k===Hn)return!0;if(C)return C(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:C}=e;return k===Hn?this:C?C(E,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return(0,bs.abool)("isCompressed",k),this.assertValidity(),i(E,this,k)}toHex(k=!0){return(0,bs.abool)("isCompressed",k),Kr.bytesToHex(this.toRawBytes(k))}}E.BASE=new E(e.Gx,e.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO);let T=e.nBitLength,O=(0,xT.wNAF)(E,e.endo?Math.ceil(T/2):T);return{CURVE:e,ProjectivePoint:E,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:c}}o(bme,"weierstrassPoints");function pZe(t){let e=(0,xT.validateBasic)(t);return Kr.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(pZe,"validateOpts");function mZe(t){let e=pZe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(x){return Ty.mod(x,n)}o(a,"modN");function c(x){return Ty.invert(x,n)}o(c,"invN");let{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:y,isWithinCurveOrder:g}=bme({...e,toBytes(x,_,A){let I=_.toAffine(),v=r.toBytes(I.x),u=Kr.concatBytes;return(0,bs.abool)("isCompressed",A),A?u(Uint8Array.from([_.hasEvenY()?2:3]),v):u(Uint8Array.from([4]),v,r.toBytes(I.y))},fromBytes(x){let _=x.length,A=x[0],I=x.subarray(1);if(_===i&&(A===2||A===3)){let v=Kr.bytesToNumberBE(I);if(!Kr.inRange(v,Hn,r.ORDER))throw new Error("Point is not on curve");let u=y(v),w;try{w=r.sqrt(u)}catch(U){let G=U instanceof Error?": "+U.message:"";throw new Error("Point is not on curve"+G)}let V=(w&Hn)===Hn;return(A&1)===1!==V&&(w=r.neg(w)),{x:v,y:w}}else if(_===s&&A===4){let v=r.fromBytes(I.subarray(0,r.BYTES)),u=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:v,y:u}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),E=o(x=>Kr.bytesToHex(Kr.numberToBytesBE(x,e.nByteLength)),"numToNByteStr");function T(x){let _=n>>Hn;return x>_}o(T,"isBiggerThanHalfOrder");function O(x){return T(x)?a(-x):x}o(O,"normalizeS");let M=o((x,_,A)=>Kr.bytesToNumberBE(x.slice(_,A)),"slcNum");class k{static{o(this,"Signature")}constructor(_,A,I){this.r=_,this.s=A,this.recovery=I,this.assertValidity()}static fromCompact(_){let A=e.nByteLength;return _=(0,bs.ensureBytes)("compactSignature",_,A*2),new k(M(_,0,A),M(_,A,2*A))}static fromDER(_){let{r:A,s:I}=xs.DER.toSig((0,bs.ensureBytes)("DER",_));return new k(A,I)}assertValidity(){Kr.aInRange("r",this.r,Hn,n),Kr.aInRange("s",this.s,Hn,n)}addRecoveryBit(_){return new k(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:I,recovery:v}=this,u=F((0,bs.ensureBytes)("msgHash",_));if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");let w=v===2||v===3?A+e.n:A;if(w>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let V=v&1?"03":"02",q=l.fromHex(V+E(w)),U=c(w),G=a(-u*U),ee=a(I*U),re=l.BASE.multiplyAndAddUnsafe(q,G,ee);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Kr.hexToBytes(this.toDERHex())}toDERHex(){return xs.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Kr.hexToBytes(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}let C={isValidPrivateKey(x){try{return h(x),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:o(()=>{let x=Ty.getMinHashLength(e.n);return Ty.mapHashToField(e.randomBytes(x),e.n)},"randomPrivateKey"),precompute(x=8,_=l.BASE){return _._setWindowSize(x),_.multiply(BigInt(3)),_}};function B(x,_=!0){return l.fromPrivateKey(x).toRawBytes(_)}o(B,"getPublicKey");function N(x){let _=Kr.isBytes(x),A=typeof x=="string",I=(_||A)&&x.length;return _?I===i||I===s:A?I===2*i||I===2*s:x instanceof l}o(N,"isProbPub");function P(x,_,A=!0){if(N(x))throw new Error("first arg must be private key");if(!N(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(h(x)).toRawBytes(A)}o(P,"getSharedSecret");let H=e.bits2int||function(x){let _=Kr.bytesToNumberBE(x),A=x.length*8-e.nBitLength;return A>0?_>>BigInt(A):_},F=e.bits2int_modN||function(x){return a(H(x))},Z=Kr.bitMask(e.nBitLength);function W(x){return Kr.aInRange(`num < 2^${e.nBitLength}`,x,Ju,Z),Kr.numberToBytesBE(x,e.nByteLength)}o(W,"int2octets");function X(x,_,A=S){if(["recovered","canonical"].some(ae=>ae in A))throw new Error("sign() legacy options not supported");let{hash:I,randomBytes:v}=e,{lowS:u,prehash:w,extraEntropy:V}=A;u==null&&(u=!0),x=(0,bs.ensureBytes)("msgHash",x),gme(A),w&&(x=(0,bs.ensureBytes)("prehashed msgHash",I(x)));let q=F(x),U=h(_),G=[W(U),W(q)];if(V!=null&&V!==!1){let ae=V===!0?v(r.BYTES):V;G.push((0,bs.ensureBytes)("extraEntropy",ae))}let ee=Kr.concatBytes(...G),re=q;function Oe(ae){let le=H(ae);if(!g(le))return;let ye=c(le),he=l.BASE.multiply(le).toAffine(),ge=a(he.x);if(ge===Ju)return;let lr=a(ye*a(re+ge*U));if(lr===Ju)return;let Ae=(he.x===ge?0:2)|Number(he.y&Hn),Me=lr;return u&&T(lr)&&(Me=O(lr),Ae^=1),new k(ge,Me,Ae)}return o(Oe,"k2sig"),{seed:ee,k2sig:Oe}}o(X,"prepSig");let S={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function d(x,_,A=S){let{seed:I,k2sig:v}=X(x,_,A),u=e;return Kr.createHmacDrbg(u.hash.outputLen,u.nByteLength,u.hmac)(I,v)}o(d,"sign"),l.BASE._setWindowSize(8);function b(x,_,A,I=f){let v=x;if(_=(0,bs.ensureBytes)("msgHash",_),A=(0,bs.ensureBytes)("publicKey",A),"strict"in I)throw new Error("options.strict was renamed to lowS");gme(I);let{lowS:u,prehash:w}=I,V,q;try{if(typeof v=="string"||Kr.isBytes(v))try{V=k.fromDER(v)}catch(he){if(!(he instanceof xs.DER.Err))throw he;V=k.fromCompact(v)}else if(typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint"){let{r:he,s:ge}=v;V=new k(he,ge)}else throw new Error("PARSE");q=l.fromHex(A)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&V.hasHighS())return!1;w&&(_=e.hash(_));let{r:U,s:G}=V,ee=F(_),re=c(G),Oe=a(ee*re),ae=a(U*re),le=l.BASE.multiplyAndAddUnsafe(q,Oe,ae)?.toAffine();return le?a(le.x)===U:!1}return o(b,"verify"),{CURVE:e,getPublicKey:B,getSharedSecret:P,sign:d,verify:b,ProjectivePoint:l,Signature:k,utils:C}}o(mZe,"weierstrass");function xme(t,e){let r=t.ORDER,n=Ju;for(let O=r-Hn;O%Dp===Ju;O/=Dp)n+=Hn;let i=n,s=Dp<<i-Hn-Hn,a=s*Dp,c=(r-Hn)/a,l=(c-Hn)/Dp,h=a-Hn,y=s,g=t.pow(e,c),E=t.pow(e,(c+Hn)/Dp),T=o((O,M)=>{let k=g,C=t.pow(M,h),B=t.sqr(C);B=t.mul(B,M);let N=t.mul(O,B);N=t.pow(N,l),N=t.mul(N,C),C=t.mul(N,M),B=t.mul(N,O);let P=t.mul(B,C);N=t.pow(P,y);let H=t.eql(N,t.ONE);C=t.mul(B,E),N=t.mul(P,k),B=t.cmov(C,B,H),P=t.cmov(N,P,H);for(let F=i;F>Hn;F--){let Z=F-Dp;Z=Dp<<Z-Hn;let W=t.pow(P,Z),X=t.eql(W,t.ONE);C=t.mul(B,k),k=t.mul(k,k),W=t.mul(P,k),B=t.cmov(C,B,X),P=t.cmov(W,P,X)}return{isValid:H,value:B}},"sqrtRatio");if(t.ORDER%yme===vT){let O=(t.ORDER-vT)/yme,M=t.sqrt(t.neg(e));T=o((k,C)=>{let B=t.sqr(C),N=t.mul(k,C);B=t.mul(B,N);let P=t.pow(B,O);P=t.mul(P,N);let H=t.mul(P,M),F=t.mul(t.sqr(P),C),Z=t.eql(F,k),W=t.cmov(H,P,Z);return{isValid:Z,value:W}},"sqrtRatio")}return T}o(xme,"SWUFpSqrtRatio");function gZe(t,e){if(Ty.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=xme(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,c,l,h,y,g;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),a=t.add(s,t.ONE),a=t.mul(a,e.B),c=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),c=t.mul(c,e.A),s=t.sqr(a),h=t.sqr(c),l=t.mul(h,e.A),s=t.add(s,l),s=t.mul(s,a),h=t.mul(h,c),l=t.mul(h,e.B),s=t.add(s,l),y=t.mul(i,a);let{isValid:E,value:T}=r(s,h);g=t.mul(i,n),g=t.mul(g,T),y=t.cmov(y,a,E),g=t.cmov(g,T,E);let O=t.isOdd(n)===t.isOdd(g);return g=t.cmov(t.neg(g),g,O),y=t.div(y,c),{x:y,y:g}}}o(gZe,"mapToCurveSimpleSWU")});var wme=j(_T=>{"use strict";p();m();Object.defineProperty(_T,"__esModule",{value:!0});_T.getHash=_me;_T.createCurve=xZe;var yZe=mme(),vme=xp(),bZe=PU();function _me(t){return{hash:t,hmac:o((e,...r)=>(0,yZe.hmac)(t,e,(0,vme.concatBytes)(...r)),"hmac"),randomBytes:vme.randomBytes}}o(_me,"getHash");function xZe(t,e){let r=o(n=>(0,bZe.weierstrass)({...t,..._me(n)}),"create");return Object.freeze({...r(e),create:r})}o(xZe,"createCurve")});var Cme=j(pc=>{"use strict";p();m();Object.defineProperty(pc,"__esModule",{value:!0});pc.encodeToCurve=pc.hashToCurve=pc.schnorr=pc.secp256k1=void 0;var wT=hme(),vZe=xp(),_Ze=wme(),Ame=_D(),es=Sp(),hc=Gu(),wZe=PU(),TE=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ET=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),SE=BigInt(1),ST=BigInt(2),Eme=o((t,e)=>(t+e/ST)/e,"divNearest");function Tme(t){let e=TE,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),h=t*t*t%e,y=h*h*t%e,g=(0,es.pow2)(y,r,e)*y%e,E=(0,es.pow2)(g,r,e)*y%e,T=(0,es.pow2)(E,ST,e)*h%e,O=(0,es.pow2)(T,i,e)*T%e,M=(0,es.pow2)(O,s,e)*O%e,k=(0,es.pow2)(M,c,e)*M%e,C=(0,es.pow2)(k,l,e)*k%e,B=(0,es.pow2)(C,c,e)*M%e,N=(0,es.pow2)(B,r,e)*y%e,P=(0,es.pow2)(N,a,e)*O%e,H=(0,es.pow2)(P,n,e)*h%e,F=(0,es.pow2)(H,ST,e);if(!Up.eql(Up.sqr(F),t))throw new Error("Cannot find square root");return F}o(Tme,"sqrtMod");var Up=(0,es.Field)(TE,void 0,void 0,{sqrt:Tme});pc.secp256k1=(0,_Ze.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Up,n:ET,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=ET,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-SE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=Eme(s*t,e),l=Eme(-n*t,e),h=(0,es.mod)(t-c*r-l*i,e),y=(0,es.mod)(-c*n-l*s,e),g=h>a,E=y>a;if(g&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:E,k2:y}},"splitScalar")}},wT.sha256);var Ime=BigInt(0),Sme={};function AT(t,...e){let r=Sme[t];if(r===void 0){let n=(0,wT.sha256)(Uint8Array.from(t,i=>i.charCodeAt(0)));r=(0,hc.concatBytes)(n,n),Sme[t]=r}return(0,wT.sha256)((0,hc.concatBytes)(r,...e))}o(AT,"taggedHash");var FU=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),DU=o(t=>(0,hc.numberToBytesBE)(t,32),"numTo32b"),LU=o(t=>(0,es.mod)(t,TE),"modP"),AE=o(t=>(0,es.mod)(t,ET),"modN"),HU=pc.secp256k1.ProjectivePoint,EZe=o((t,e,r)=>HU.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function UU(t){let e=pc.secp256k1.utils.normPrivateKeyToScalar(t),r=HU.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:AE(-e),bytes:FU(r)}}o(UU,"schnorrGetExtPubKey");function Rme(t){(0,hc.aInRange)("x",t,SE,TE);let e=LU(t*t),r=LU(e*t+BigInt(7)),n=Tme(r);n%ST!==Ime&&(n=LU(-n));let i=new HU(t,n,SE);return i.assertValidity(),i}o(Rme,"lift_x");var Hx=hc.bytesToNumberBE;function Ome(...t){return AE(Hx(AT("BIP0340/challenge",...t)))}o(Ome,"challenge");function SZe(t){return UU(t).bytes}o(SZe,"schnorrGetPublicKey");function AZe(t,e,r=(0,vZe.randomBytes)(32)){let n=(0,hc.ensureBytes)("message",t),{bytes:i,scalar:s}=UU(e),a=(0,hc.ensureBytes)("auxRand",r,32),c=DU(s^Hx(AT("BIP0340/aux",a))),l=AT("BIP0340/nonce",c,i,n),h=AE(Hx(l));if(h===Ime)throw new Error("sign failed: k is zero");let{bytes:y,scalar:g}=UU(h),E=Ome(y,i,n),T=new Uint8Array(64);if(T.set(y,0),T.set(DU(AE(g+E*s)),32),!Mme(T,n,i))throw new Error("sign: Invalid signature produced");return T}o(AZe,"schnorrSign");function Mme(t,e,r){let n=(0,hc.ensureBytes)("signature",t,64),i=(0,hc.ensureBytes)("message",e),s=(0,hc.ensureBytes)("publicKey",r,32);try{let a=Rme(Hx(s)),c=Hx(n.subarray(0,32));if(!(0,hc.inRange)(c,SE,TE))return!1;let l=Hx(n.subarray(32,64));if(!(0,hc.inRange)(l,SE,ET))return!1;let h=Ome(DU(c),FU(a),i),y=EZe(a,l,AE(-h));return!(!y||!y.hasEvenY()||y.toAffine().x!==c)}catch{return!1}}o(Mme,"schnorrVerify");pc.schnorr={getPublicKey:SZe,sign:AZe,verify:Mme,utils:{randomPrivateKey:pc.secp256k1.utils.randomPrivateKey,lift_x:Rme,pointToBytes:FU,numberToBytesBE:hc.numberToBytesBE,bytesToNumberBE:hc.bytesToNumberBE,taggedHash:AT,mod:es.mod}};var TZe=(0,Ame.isogenyMap)(Up,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),IZe=(0,wZe.mapToCurveSimpleSWU)(Up,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Up.create(BigInt("-11"))}),Nme=(0,Ame.createHasher)(pc.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=IZe(Up.create(t[0]));return TZe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Up.ORDER,m:1,k:128,expand:"xmd",hash:wT.sha256});pc.hashToCurve=Nme.hashToCurve;pc.encodeToCurve=Nme.encodeToCurve});var vF=j(pt=>{"use strict";p();m();var Xt=li(),Gx=Xfe(),RZe=yb(),OZe=Mu(),kme=Mue(),qU=Lue(),tge=GD(),rge=Ape(),L=Ipe(),MZe=Xpe(),Bme=nme(),Pme=dme(),hF=Cme();function pF(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(pF,"_interopDefaultCompat");function NZe(t){if(t&&typeof t=="object"&&"default"in t)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(NZe,"_interopNamespaceCompat");var Lme=pF(RZe),vs=pF(OZe),oe=NZe(tge),CZe=pF(MZe),kZe=Gx.ed25519.utils.randomPrivateKey,Dme=o(()=>{let t=Gx.ed25519.utils.randomPrivateKey(),e=OT(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"generateKeypair"),OT=Gx.ed25519.getPublicKey;function Ume(t){try{return Gx.ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}o(Ume,"isOnCurve");var mF=o((t,e)=>Gx.ed25519.sign(t,e.slice(0,32)),"sign"),BZe=Gx.ed25519.verify,Ir=o(t=>Xt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Xt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Xt.Buffer.from(t),"toBuffer"),OE=class{static{o(this,"Struct")}constructor(e){Object.assign(this,e)}encode(){return Xt.Buffer.from(qU.serialize(RE,this))}static decode(e){return qU.deserialize(RE,this,e)}static decodeUnchecked(e){return qU.deserializeUnchecked(RE,this,e)}},WU=class extends OE{static{o(this,"Enum")}constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},RE=new Map,nge,ige=32,dd=32;function PZe(t){return t._bn!==void 0}o(PZe,"isPublicKeyData");var Fme=1,ht=class t extends OE{static{o(this,"PublicKey")}constructor(e){if(super({}),this._bn=void 0,PZe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=vs.default.decode(e);if(r.length!=dd)throw new Error("Invalid public key input");this._bn=new Lme.default(r)}else this._bn=new Lme.default(e);if(this._bn.byteLength()>dd)throw new Error("Invalid public key input")}}static unique(){let e=new t(Fme);return Fme+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return vs.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Xt.Buffer);if(e.length===dd)return e;let r=Xt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Xt.Buffer.concat([e.toBuffer(),Xt.Buffer.from(r),n.toBuffer()]),s=kme.sha256(i);return new t(s)}static createProgramAddressSync(e,r){let n=Xt.Buffer.alloc(0);e.forEach(function(s){if(s.length>ige)throw new TypeError("Max seed length exceeded");n=Xt.Buffer.concat([n,Ir(s)])}),n=Xt.Buffer.concat([n,r.toBuffer(),Xt.Buffer.from("ProgramDerivedAddress")]);let i=kme.sha256(n);if(Ume(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let s=e.concat(Xt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return Ume(r.toBytes())}};nge=ht;ht.default=new nge("11111111111111111111111111111111");RE.set(ht,{kind:"struct",fields:[["_bn","u256"]]});var YU=class{static{o(this,"Account")}constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Ir(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Ir(kZe()),this._publicKey=Ir(OT(this._secretKey))}get publicKey(){return new ht(this._publicKey)}get secretKey(){return Xt.Buffer.concat([this._secretKey,this._publicKey],64)}},LZe=new ht("BPFLoader1111111111111111111111111111111111"),Hp=1232,FT=127,ME=64,NE=class extends Error{static{o(this,"TransactionExpiredBlockheightExceededError")}constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(NE.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var CE=class extends Error{static{o(this,"TransactionExpiredTimeoutError")}constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(CE.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Fp=class extends Error{static{o(this,"TransactionExpiredNonceInvalidError")}constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Fp.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Oy=class{static{o(this,"MessageAccountKeys")}constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});let i=o(s=>{let a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a},"findKeyIndex");return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(a=>i(a.pubkey)),data:s.data}))}},Dr=o((t="publicKey")=>oe.blob(32,t),"publicKey"),DZe=o((t="signature")=>oe.blob(64,t),"signature"),Ry=o((t="string")=>{let e=oe.struct([oe.u32("length"),oe.u32("lengthPadding"),oe.blob(oe.offset(oe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,a)=>r(s,a).chars.toString(),i.encode=(s,a,c)=>{let l={chars:Xt.Buffer.from(s,"utf8")};return n(l,a,c)},i.alloc=s=>oe.u32().span+oe.u32().span+Xt.Buffer.from(s,"utf8").length,i},"rustString"),UZe=o((t="authorized")=>oe.struct([Dr("staker"),Dr("withdrawer")],t),"authorized"),FZe=o((t="lockup")=>oe.struct([oe.ns64("unixTimestamp"),oe.ns64("epoch"),Dr("custodian")],t),"lockup"),HZe=o((t="voteInit")=>oe.struct([Dr("nodePubkey"),Dr("authorizedVoter"),Dr("authorizedWithdrawer"),oe.u8("commission")],t),"voteInit"),qZe=o((t="voteAuthorizeWithSeedArgs")=>oe.struct([oe.u32("voteAuthorizationType"),Dr("currentAuthorityDerivedKeyOwnerPubkey"),Ry("currentAuthorityDerivedKeySeed"),Dr("newAuthorized")],t),"voteAuthorizeWithSeedArgs");function oge(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return oge({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(oge,"getAlloc");function mc(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}o(mc,"decodeLength");function tf(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}o(tf,"encodeLength");function pn(t,e){if(!t)throw new Error(e||"Assertion failed")}o(pn,"assert");var MT=class t{static{o(this,"CompiledKeys")}constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=o(a=>{let c=a.toBase58(),l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},"getOrInsertDefault"),s=i(r);s.isSigner=!0,s.isWritable=!0;for(let a of e){i(a.programId).isInvoked=!0;for(let c of a.keys){let l=i(c.pubkey);l.isSigner||=c.isSigner,l.isWritable||=c.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];pn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{pn(r.length>0,"Expected at least one writable signer key");let[l]=r[0];pn(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...r.map(([l])=>new ht(l)),...n.map(([l])=>new ht(l)),...i.map(([l])=>new ht(l)),...s.map(([l])=>new ht(l))];return[a,c]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[s,a]of this.keyMetaMap.entries())if(r(a)){let c=new ht(s),l=e.findIndex(h=>h.equals(c));l>=0&&(pn(l<256,"Max lookup table index exceeded"),n.push(l),i.push(c),this.keyMetaMap.delete(s))}return[n,i]}},sge="Reached end of buffer unexpectedly";function fd(t){if(t.length===0)throw new Error(sge);return t.shift()}o(fd,"guardedShift");function gc(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(sge);return t.splice(...e)}o(gc,"guardedSplice");var hd=class t{static{o(this,"Message")}constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ht(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:vs.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Oy(this.staticAccountKeys)}static compile(e){let r=MT.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),a=new Oy(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:vs.default.encode(c.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];tf(r,e);let n=this.instructions.map(g=>{let{accounts:E,programIdIndex:T}=g,O=Array.from(vs.default.decode(g.data)),M=[];tf(M,E.length);let k=[];return tf(k,O.length),{programIdIndex:T,keyIndicesCount:Xt.Buffer.from(M),keyIndices:E,dataLength:Xt.Buffer.from(k),data:O}}),i=[];tf(i,n.length);let s=Xt.Buffer.alloc(Hp);Xt.Buffer.from(i).copy(s);let a=i.length;n.forEach(g=>{let T=oe.struct([oe.u8("programIdIndex"),oe.blob(g.keyIndicesCount.length,"keyIndicesCount"),oe.seq(oe.u8("keyIndex"),g.keyIndices.length,"keyIndices"),oe.blob(g.dataLength.length,"dataLength"),oe.seq(oe.u8("userdatum"),g.data.length,"data")]).encode(g,s,a);a+=T}),s=s.slice(0,a);let c=oe.struct([oe.blob(1,"numRequiredSignatures"),oe.blob(1,"numReadonlySignedAccounts"),oe.blob(1,"numReadonlyUnsignedAccounts"),oe.blob(r.length,"keyCount"),oe.seq(Dr("key"),e,"keys"),Dr("recentBlockhash")]),l={numRequiredSignatures:Xt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Xt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Xt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Xt.Buffer.from(r),keys:this.accountKeys.map(g=>Ir(g.toBytes())),recentBlockhash:vs.default.decode(this.recentBlockhash)},h=Xt.Buffer.alloc(2048),y=c.encode(l,h);return s.copy(h,y),h.slice(0,y+s.length)}static from(e){let r=[...e],n=fd(r);if(n!==(n&FT))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=fd(r),s=fd(r),a=mc(r),c=[];for(let E=0;E<a;E++){let T=gc(r,0,dd);c.push(new ht(Xt.Buffer.from(T)))}let l=gc(r,0,dd),h=mc(r),y=[];for(let E=0;E<h;E++){let T=fd(r),O=mc(r),M=gc(r,0,O),k=mc(r),C=gc(r,0,k),B=vs.default.encode(Xt.Buffer.from(C));y.push({programIdIndex:T,accounts:M,data:B})}let g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:vs.default.encode(Xt.Buffer.from(l)),accountKeys:c,instructions:y};return new t(g)}},qx=class t{static{o(this,"MessageV0")}constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Oy(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((a,c)=>a+c.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return i<a}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=MT.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let y of s){let g=r.extractTableLookup(y);if(g!==void 0){let[E,{writable:T,readonly:O}]=g;n.push(E),i.writable.push(...T),i.readonly.push(...O)}}let[a,c]=r.getMessageComponents(),h=new Oy(c,i).compileInstructions(e.instructions);return new t({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){let e=Array();tf(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();tf(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();tf(s,this.addressTableLookups.length);let a=oe.struct([oe.u8("prefix"),oe.struct([oe.u8("numRequiredSignatures"),oe.u8("numReadonlySignedAccounts"),oe.u8("numReadonlyUnsignedAccounts")],"header"),oe.blob(e.length,"staticAccountKeysLength"),oe.seq(Dr(),this.staticAccountKeys.length,"staticAccountKeys"),Dr("recentBlockhash"),oe.blob(n.length,"instructionsLength"),oe.blob(r.length,"serializedInstructions"),oe.blob(s.length,"addressTableLookupsLength"),oe.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(Hp),h=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(y=>y.toBytes()),recentBlockhash:vs.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},c);return c.slice(0,h)}serializeInstructions(){let e=0,r=new Uint8Array(Hp);for(let n of this.compiledInstructions){let i=Array();tf(i,n.accountKeyIndexes.length);let s=Array();tf(s,n.data.length);let a=oe.struct([oe.u8("programIdIndex"),oe.blob(i.length,"encodedAccountKeyIndexesLength"),oe.seq(oe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),oe.blob(s.length,"encodedDataLength"),oe.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Hp);for(let n of this.addressTableLookups){let i=Array();tf(i,n.writableIndexes.length);let s=Array();tf(s,n.readonlyIndexes.length);let a=oe.struct([Dr("accountKey"),oe.blob(i.length,"encodedWritableIndexesLength"),oe.seq(oe.u8(),n.writableIndexes.length,"writableIndexes"),oe.blob(s.length,"encodedReadonlyIndexesLength"),oe.seq(oe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=fd(r),i=n&FT;pn(n!==i,"Expected versioned message but received legacy message");let s=i;pn(s===0,`Expected versioned message with version 0 but found version ${s}`);let a={numRequiredSignatures:fd(r),numReadonlySignedAccounts:fd(r),numReadonlyUnsignedAccounts:fd(r)},c=[],l=mc(r);for(let O=0;O<l;O++)c.push(new ht(gc(r,0,dd)));let h=vs.default.encode(gc(r,0,dd)),y=mc(r),g=[];for(let O=0;O<y;O++){let M=fd(r),k=mc(r),C=gc(r,0,k),B=mc(r),N=new Uint8Array(gc(r,0,B));g.push({programIdIndex:M,accountKeyIndexes:C,data:N})}let E=mc(r),T=[];for(let O=0;O<E;O++){let M=new ht(gc(r,0,dd)),k=mc(r),C=gc(r,0,k),B=mc(r),N=gc(r,0,B);T.push({accountKey:M,writableIndexes:C,readonlyIndexes:N})}return new t({header:a,staticAccountKeys:c,recentBlockhash:h,compiledInstructions:g,addressTableLookups:T})}},gF={deserializeMessageVersion(t){let e=t[0],r=e&FT;return r===e?"legacy":r},deserialize:o(t=>{let e=gF.deserializeMessageVersion(t);if(e==="legacy")return hd.from(t);if(e===0)return qx.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)},"deserialize")},Lh=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({}),VZe=Xt.Buffer.alloc(ME).fill(0),kn=class{static{o(this,"TransactionInstruction")}constructor(e){this.keys=void 0,this.programId=void 0,this.data=Xt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Rn=class t{static{o(this,"Transaction")}get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new kn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let M=0;M<r.length;M++)if(r[M].programId===void 0)throw new Error(`Transaction instruction index ${M} has undefined program id`);let i=[],s=[];r.forEach(M=>{M.keys.forEach(C=>{s.push({...C})});let k=M.programId.toString();i.includes(k)||i.push(k)}),i.forEach(M=>{s.push({pubkey:new ht(M),isSigner:!1,isWritable:!1})});let a=[];s.forEach(M=>{let k=M.pubkey.toString(),C=a.findIndex(B=>B.pubkey.toString()===k);C>-1?(a[C].isWritable=a[C].isWritable||M.isWritable,a[C].isSigner=a[C].isSigner||M.isSigner):a.push(M)}),a.sort(function(M,k){if(M.isSigner!==k.isSigner)return M.isSigner?-1:1;if(M.isWritable!==k.isWritable)return M.isWritable?-1:1;let C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return M.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",C)});let c=a.findIndex(M=>M.pubkey.equals(n));if(c>-1){let[M]=a.splice(c,1);M.isSigner=!0,M.isWritable=!0,a.unshift(M)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let M of this.signatures){let k=a.findIndex(C=>C.pubkey.equals(M.publicKey));if(k>-1)a[k].isSigner||(a[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${M.publicKey.toString()}`)}let l=0,h=0,y=0,g=[],E=[];a.forEach(({pubkey:M,isSigner:k,isWritable:C})=>{k?(g.push(M.toString()),l+=1,C||(h+=1)):(E.push(M.toString()),C||(y+=1))});let T=g.concat(E),O=r.map(M=>{let{data:k,programId:C}=M;return{programIdIndex:T.indexOf(C.toString()),accounts:M.keys.map(B=>T.indexOf(B.pubkey.toString())),data:vs.default.encode(k)}});return O.forEach(M=>{pn(M.programIdIndex>=0),M.accounts.forEach(k=>pn(k>=0))}),new hd({header:{numRequiredSignatures:l,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:y},accountKeys:T,recentBlockhash:e,instructions:O})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let s=mF(n,i.secretKey);this._addSignature(i.publicKey,Ir(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){pn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Xt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):BZe(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(i,r);if(s){let a="Signature verification failed.";throw s.invalid&&(a+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),s.missing&&(a+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];tf(n,r.length);let i=n.length+r.length*64+e.length,s=Xt.Buffer.alloc(i);return pn(r.length<256),Xt.Buffer.from(n).copy(s,0),r.forEach(({signature:a},c)=>{a!==null&&(pn(a.length===64,"signature has invalid length"),Xt.Buffer.from(a).copy(s,n.length+c*64))}),e.copy(s,n.length+r.length*64),pn(s.length<=Hp,`Transaction too large: ${s.length} > ${Hp}`),s}get keys(){return pn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return pn(this.instructions.length===1),this.instructions[0].programId}get data(){return pn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=mc(r),i=[];for(let s=0;s<n;s++){let a=gc(r,0,ME);i.push(vs.default.encode(Xt.Buffer.from(a)))}return t.populate(hd.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{let a={signature:i==vs.default.encode(VZe)?null:vs.default.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(i=>{let s=i.accounts.map(a=>{let c=e.accountKeys[a];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new kn({keys:s,programId:e.accountKeys[i.programIdIndex],data:vs.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},XU=class t{static{o(this,"TransactionMessage")}constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,h=a-c;pn(h>0,"Message header is invalid");let y=e.staticAccountKeys.length-a-l;pn(y>=0,"Message header is invalid");let g=e.getAccountKeys(r),E=g.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let T=[];for(let O of i){let M=[];for(let C of O.accountKeyIndexes){let B=g.get(C);if(B===void 0)throw new Error(`Failed to find key for account key index ${C}`);let N=C<a,P;N?P=C<h:C<g.staticAccountKeys.length?P=C-a<y:P=C-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,M.push({pubkey:B,isSigner:C<n.numRequiredSignatures,isWritable:P})}let k=g.get(O.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${O.programIdIndex}`);T.push(new kn({programId:k,data:Ir(O.data),keys:M}))}return new t({payerKey:E,instructions:T,recentBlockhash:s})}compileToLegacyMessage(){return hd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return qx.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},ZU=class t{static{o(this,"VersionedTransaction")}get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)pn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(ME));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();tf(r,this.signatures.length);let n=oe.struct([oe.blob(r.length,"encodedSignaturesLength"),oe.seq(DZe(),this.signatures.length,"signatures"),oe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e],n=[],i=mc(r);for(let a=0;a<i;a++)n.push(new Uint8Array(gc(r,0,ME)));let s=gF.deserialize(new Uint8Array(r));return new t(s,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(a=>a.equals(i.publicKey));pn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=mF(r,i.secretKey)}}addSignature(e,r){pn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));pn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},jZe=160,zZe=64,KZe=jZe/zZe,age=1e3/KZe,cd=new ht("SysvarC1ock11111111111111111111111111111111"),$Ze=new ht("SysvarEpochSchedu1e111111111111111111111111"),GZe=new ht("Sysvar1nstructions1111111111111111111111111"),IT=new ht("SysvarRecentB1ockHashes11111111111111111111"),Vx=new ht("SysvarRent111111111111111111111111111111111"),WZe=new ht("SysvarRewards111111111111111111111111111111"),YZe=new ht("SysvarS1otHashes111111111111111111111111111"),XZe=new ht("SysvarS1otHistory11111111111111111111111111"),RT=new ht("SysvarStakeHistory1111111111111111111111111"),My=class extends Error{static{o(this,"SendTransactionError")}constructor({action:e,signature:r,transactionMessage:n,logs:i}){let s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(e){case"send":c=`Transaction ${r} resulted in an error. 
${n}. `+s+a;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+s+a;break;default:c=`Unknown action '${(l=>l)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},ZZe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Bt=class extends Error{static{o(this,"SolanaJSONRPCError")}constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function JU(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,l=c.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw s!=null?new My({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}o(JU,"sendAndConfirmTransaction");function Iy(t){return new Promise(e=>setTimeout(e,t))}o(Iy,"sleep");function Jr(t,e){let r=t.layout.span>=0?t.layout.span:oge(t,e),n=Xt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Jr,"encodeData");function In(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}o(In,"decodeData$1");var cge=oe.nu64("lamportsPerSignature"),fge=oe.struct([oe.u32("version"),oe.u32("state"),Dr("authorizedPubkey"),Dr("nonce"),oe.struct([cge],"feeCalculator")]),QU=fge.span,NT=class t{static{o(this,"NonceAccount")}constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=fge.decode(Ir(e),0);return new t({authorizedPubkey:new ht(r.authorizedPubkey),nonce:new ht(r.nonce).toString(),feeCalculator:r.feeCalculator})}};function jx(t){let e=tge.blob(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=rge.getU64Codec();return i.decode=(a,c)=>{let l=r(a,c);return s.decode(l)},i.encode=(a,c,l)=>{let h=s.encode(a);return n(h,c,l)},i}o(jx,"u64");var eF=class{static{o(this,"SystemInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(ni))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=In(ni.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ht(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=In(ni.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=In(ni.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ht(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=In(ni.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:s}=In(ni.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,space:i,programId:new ht(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=In(ni.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ht(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=In(ni.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,programId:new ht(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:s,programId:a}=In(ni.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ht(r),seed:n,lamports:i,space:s,programId:new ht(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=In(ni.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ht(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),In(ni.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=In(ni.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=In(ni.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ht(r)}}static checkProgramId(e){if(!e.equals(_s.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ni=Object.freeze({Create:{index:0,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports"),oe.ns64("space"),Dr("programId")])},Assign:{index:1,layout:oe.struct([oe.u32("instruction"),Dr("programId")])},Transfer:{index:2,layout:oe.struct([oe.u32("instruction"),jx("lamports")])},CreateWithSeed:{index:3,layout:oe.struct([oe.u32("instruction"),Dr("base"),Ry("seed"),oe.ns64("lamports"),oe.ns64("space"),Dr("programId")])},AdvanceNonceAccount:{index:4,layout:oe.struct([oe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:oe.struct([oe.u32("instruction"),Dr("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe.struct([oe.u32("instruction"),Dr("authorized")])},Allocate:{index:8,layout:oe.struct([oe.u32("instruction"),oe.ns64("space")])},AllocateWithSeed:{index:9,layout:oe.struct([oe.u32("instruction"),Dr("base"),Ry("seed"),oe.ns64("space"),Dr("programId")])},AssignWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),Dr("base"),Ry("seed"),Dr("programId")])},TransferWithSeed:{index:11,layout:oe.struct([oe.u32("instruction"),jx("lamports"),Ry("seed"),Dr("programId")])},UpgradeNonceAccount:{index:12,layout:oe.struct([oe.u32("instruction")])}}),_s=class t{static{o(this,"SystemProgram")}constructor(){}static createAccount(e){let r=ni.Create,n=Jr(r,{lamports:e.lamports,space:e.space,programId:Ir(e.programId.toBuffer())});return new kn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=ni.TransferWithSeed;r=Jr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ni.Transfer;r=Jr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new kn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=ni.AssignWithSeed;r=Jr(i,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ni.Assign;r=Jr(i,{programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new kn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=ni.CreateWithSeed,n=Jr(r,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ir(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new kn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Rn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:QU,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:QU,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=ni.InitializeNonceAccount,n=Jr(r,{authorized:Ir(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:IT,isSigner:!1,isWritable:!1},{pubkey:Vx,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new kn(i)}static nonceAdvance(e){let r=ni.AdvanceNonceAccount,n=Jr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:IT,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new kn(i)}static nonceWithdraw(e){let r=ni.WithdrawNonceAccount,n=Jr(r,{lamports:e.lamports});return new kn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:IT,isSigner:!1,isWritable:!1},{pubkey:Vx,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=ni.AuthorizeNonceAccount,n=Jr(r,{authorized:Ir(e.newAuthorizedPubkey.toBuffer())});return new kn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=ni.AllocateWithSeed;r=Jr(i,{base:Ir(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ir(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ni.Allocate;r=Jr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new kn({keys:n,programId:this.programId,data:r})}};_s.programId=new ht("11111111111111111111111111111111");var JZe=Hp-300,zx=class t{static{o(this,"Loader")}constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,s){{let g=await e.getMinimumBalanceForRentExemption(s.length),E=await e.getAccountInfo(n.publicKey,"confirmed"),T=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==s.length&&(T=T||new Rn,T.add(_s.allocate({accountPubkey:n.publicKey,space:s.length}))),E.owner.equals(i)||(T=T||new Rn,T.add(_s.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<g&&(T=T||new Rn,T.add(_s.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:g-E.lamports})))}else T=new Rn().add(_s.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:g>0?g:1,space:s.length,programId:i}));T!==null&&await JU(e,T,[r,n],{commitment:"confirmed"})}let a=oe.struct([oe.u32("instruction"),oe.u32("offset"),oe.u32("bytesLength"),oe.u32("bytesLengthPadding"),oe.seq(oe.u8("byte"),oe.offset(oe.u32(),-8),"bytes")]),c=t.chunkSize,l=0,h=s,y=[];for(;h.length>0;){let g=h.slice(0,c),E=Xt.Buffer.alloc(c+16);a.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},E);let T=new Rn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});y.push(JU(e,T,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Iy(1e3/4),l+=c,h=h.slice(c)}await Promise.all(y);{let g=oe.struct([oe.u32("instruction")]),E=Xt.Buffer.alloc(g.span);g.encode({instruction:1},E);let T=new Rn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Vx,isSigner:!1,isWritable:!1}],programId:i,data:E}),O="processed",M=await e.sendTransaction(T,[r,n],{preflightCommitment:O}),{context:k,value:C}=await e.confirmTransaction({signature:M,lastValidBlockHeight:T.lastValidBlockHeight,blockhash:T.recentBlockhash},O);if(C.err)throw new Error(`Transaction ${M} failed (${JSON.stringify(C)})`);for(;;){try{if(await e.getSlot({commitment:O})>k.slot)break}catch{}await new Promise(B=>setTimeout(B,Math.round(age/2)))}}return!0}};zx.chunkSize=JZe;var QZe=new ht("BPFLoader2111111111111111111111111111111111"),tF=class{static{o(this,"BpfLoader")}static getMinNumSignatures(e){return zx.getMinNumSignatures(e)}static load(e,r,n,i,s){return zx.load(e,r,n,s,i)}};function eJe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(eJe,"getDefaultExportFromCjs");var VU,Hme;function tJe(){if(Hme)return VU;Hme=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,a,c,l,h,y,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(g=t.call(n),g==="[object Array]"){for(c="[",a=n.length-1,s=0;s<a;s++)c+=r(n[s],!0)+",";return a>-1&&(c+=r(n[s],!0)),c+"]"}else if(g==="[object Object]"){for(l=e(n).sort(),a=l.length,c="",s=0;s<a;)h=l[s],y=r(n[h],!1),y!==void 0&&(c&&(c+=","),c+=JSON.stringify(h)+":"+y),s++;return"{"+c+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return o(r,"stringify"),VU=o(function(n){var i=r(n,!1);if(i!==void 0)return""+i},"fastStableStringify$1"),VU}o(tJe,"requireFastStableStringify");var rJe=tJe(),qme=eJe(rJe),IE=32;function jU(t){let e=0;for(;t>1;)t/=2,e++;return e}o(jU,"trailingZeros");function nJe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}o(nJe,"nextPowerOfTwo");var CT=class{static{o(this,"EpochSchedule")}constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=jU(nJe(e+IE+1))-jU(IE)-1,n=this.getSlotsInEpoch(r),i=e-(n-IE);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*IE:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+jU(IE)):this.slotsPerEpoch}},iJe=globalThis.fetch,rF=class extends Bme.CommonClient{static{o(this,"RpcWebSocketClient")}constructor(e,r,n){let i=o(s=>{let a=Bme.WebSocket(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a},"webSocketFactory");super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function oJe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}o(oJe,"decodeData");var Vme=56,kE=class{static{o(this,"AddressLookupTableAccount")}constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=oJe(sJe,e),n=e.length-Vme;pn(n>=0,"lookup table is invalid"),pn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=oe.struct([oe.seq(Dr(),i,"addresses")]).decode(e.slice(Vme));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ht(r.authority[0]):void 0,addresses:s.map(a=>new ht(a))}}},sJe={index:1,layout:oe.struct([oe.u32("typeIndex"),jx("deactivationSlot"),oe.nu64("lastExtendedSlot"),oe.u8("lastExtendedStartIndex"),oe.u8(),oe.seq(Dr(),oe.offset(oe.u8(),-1),"authority")])},aJe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function cJe(t){let e=t.match(aJe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,s]=e,a=t.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),l=c==null?"":`:${c+1}`;return`${a}//${n}${l}${s}`}o(cJe,"makeWebsocketUrl");var ki=L.coerce(L.instance(ht),L.string(),t=>new ht(t)),uge=L.tuple([L.string(),L.literal("base64")]),yF=L.coerce(L.instance(Xt.Buffer),uge,t=>Xt.Buffer.from(t[0],"base64")),lge=30*1e3;function fJe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}o(fJe,"assertEndpointUrl");function ri(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}o(ri,"extractCommitmentFromConfig");function jme(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}o(jme,"applyDefaultMemcmpEncodingToFilters");function dge(t){return L.union([L.type({jsonrpc:L.literal("2.0"),id:L.string(),result:t}),L.type({jsonrpc:L.literal("2.0"),id:L.string(),error:L.type({code:L.unknown(),message:L.string(),data:L.optional(L.any())})})])}o(dge,"createRpcResult");var uJe=dge(L.unknown());function Tr(t){return L.coerce(dge(t),uJe,e=>"error"in e?e:{...e,result:L.create(e.result,t)})}o(Tr,"jsonRpcResult");function ao(t){return Tr(L.type({context:L.type({slot:L.number()}),value:t}))}o(ao,"jsonRpcResultAndContext");function HT(t){return L.type({context:L.type({slot:L.number()}),value:t})}o(HT,"notificationResultAndContext");function zU(t,e){return t===0?new qx({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ht(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:vs.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new hd(e)}o(zU,"versionedMessageFromResponse");var lJe=L.type({foundation:L.number(),foundationTerm:L.number(),initial:L.number(),taper:L.number(),terminal:L.number()}),dJe=Tr(L.array(L.nullable(L.type({epoch:L.number(),effectiveSlot:L.number(),amount:L.number(),postBalance:L.number(),commission:L.optional(L.nullable(L.number()))})))),hJe=L.array(L.type({slot:L.number(),prioritizationFee:L.number()})),pJe=L.type({total:L.number(),validator:L.number(),foundation:L.number(),epoch:L.number()}),mJe=L.type({epoch:L.number(),slotIndex:L.number(),slotsInEpoch:L.number(),absoluteSlot:L.number(),blockHeight:L.optional(L.number()),transactionCount:L.optional(L.number())}),gJe=L.type({slotsPerEpoch:L.number(),leaderScheduleSlotOffset:L.number(),warmup:L.boolean(),firstNormalEpoch:L.number(),firstNormalSlot:L.number()}),yJe=L.record(L.string(),L.array(L.number())),Cy=L.nullable(L.union([L.type({}),L.string()])),bJe=L.type({err:Cy}),xJe=L.literal("receivedSignature"),vJe=L.type({"solana-core":L.string(),"feature-set":L.optional(L.number())}),_Je=L.type({program:L.string(),programId:ki,parsed:L.unknown()}),wJe=L.type({programId:ki,accounts:L.array(ki),data:L.string()}),zme=ao(L.type({err:L.nullable(L.union([L.type({}),L.string()])),logs:L.nullable(L.array(L.string())),accounts:L.optional(L.nullable(L.array(L.nullable(L.type({executable:L.boolean(),owner:L.string(),lamports:L.number(),data:L.array(L.string()),rentEpoch:L.optional(L.number())}))))),unitsConsumed:L.optional(L.number()),returnData:L.optional(L.nullable(L.type({programId:L.string(),data:L.tuple([L.string(),L.literal("base64")])}))),innerInstructions:L.optional(L.nullable(L.array(L.type({index:L.number(),instructions:L.array(L.union([_Je,wJe]))}))))})),EJe=ao(L.type({byIdentity:L.record(L.string(),L.array(L.number())),range:L.type({firstSlot:L.number(),lastSlot:L.number()})}));function SJe(t,e,r,n,i,s){let a=r||iJe,c;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=o(async(y,g)=>{let E=await new Promise((T,O)=>{try{n(y,g,(M,k)=>T([M,k]))}catch(M){O(M)}});return await a(...E)},"fetchWithMiddleware")),new CZe.default(async(y,g)=>{let E={method:"POST",body:y,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},SQe)};try{let T=5,O,M=500;for(;l?O=await l(t,E):O=await a(t,E),!(O.status!==429||i===!0||(T-=1,T===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${M}ms delay...`),await Iy(M),M*=2;let k=await O.text();O.ok?g(null,k):g(new Error(`${O.status} ${O.statusText}: ${k}`))}catch(T){T instanceof Error&&g(T)}},{})}o(SJe,"createRpcClient");function AJe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,a)=>{if(s){i(s);return}n(a)})})}o(AJe,"createRpcRequest");function TJe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,a)=>{if(s){n(s);return}r(a)})})}o(TJe,"createRpcBatchRequest");var IJe=Tr(lJe),RJe=Tr(pJe),OJe=Tr(hJe),MJe=Tr(mJe),NJe=Tr(gJe),CJe=Tr(yJe),kJe=Tr(L.number()),BJe=ao(L.type({total:L.number(),circulating:L.number(),nonCirculating:L.number(),nonCirculatingAccounts:L.array(ki)})),nF=L.type({amount:L.string(),uiAmount:L.nullable(L.number()),decimals:L.number(),uiAmountString:L.optional(L.string())}),PJe=ao(L.array(L.type({address:ki,amount:L.string(),uiAmount:L.nullable(L.number()),decimals:L.number(),uiAmountString:L.optional(L.string())}))),LJe=ao(L.array(L.type({pubkey:ki,account:L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:yF,rentEpoch:L.number()})}))),iF=L.type({program:L.string(),parsed:L.unknown(),space:L.number()}),DJe=ao(L.array(L.type({pubkey:ki,account:L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:iF,rentEpoch:L.number()})}))),UJe=ao(L.array(L.type({lamports:L.number(),address:ki}))),BE=L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:yF,rentEpoch:L.number()}),FJe=L.type({pubkey:ki,account:BE}),HJe=L.coerce(L.union([L.instance(Xt.Buffer),iF]),L.union([uge,iF]),t=>Array.isArray(t)?L.create(t,yF):t),oF=L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:HJe,rentEpoch:L.number()}),qJe=L.type({pubkey:ki,account:oF}),VJe=L.type({state:L.union([L.literal("active"),L.literal("inactive"),L.literal("activating"),L.literal("deactivating")]),active:L.number(),inactive:L.number()}),jJe=Tr(L.array(L.type({signature:L.string(),slot:L.number(),err:Cy,memo:L.nullable(L.string()),blockTime:L.optional(L.nullable(L.number()))}))),zJe=Tr(L.array(L.type({signature:L.string(),slot:L.number(),err:Cy,memo:L.nullable(L.string()),blockTime:L.optional(L.nullable(L.number()))}))),KJe=L.type({subscription:L.number(),result:HT(BE)}),$Je=L.type({pubkey:ki,account:BE}),GJe=L.type({subscription:L.number(),result:HT($Je)}),WJe=L.type({parent:L.number(),slot:L.number(),root:L.number()}),YJe=L.type({subscription:L.number(),result:WJe}),XJe=L.union([L.type({type:L.union([L.literal("firstShredReceived"),L.literal("completed"),L.literal("optimisticConfirmation"),L.literal("root")]),slot:L.number(),timestamp:L.number()}),L.type({type:L.literal("createdBank"),parent:L.number(),slot:L.number(),timestamp:L.number()}),L.type({type:L.literal("frozen"),slot:L.number(),timestamp:L.number(),stats:L.type({numTransactionEntries:L.number(),numSuccessfulTransactions:L.number(),numFailedTransactions:L.number(),maxTransactionsPerEntry:L.number()})}),L.type({type:L.literal("dead"),slot:L.number(),timestamp:L.number(),err:L.string()})]),ZJe=L.type({subscription:L.number(),result:XJe}),JJe=L.type({subscription:L.number(),result:HT(L.union([bJe,xJe]))}),QJe=L.type({subscription:L.number(),result:L.number()}),eQe=L.type({pubkey:L.string(),gossip:L.nullable(L.string()),tpu:L.nullable(L.string()),rpc:L.nullable(L.string()),version:L.nullable(L.string())}),Kme=L.type({votePubkey:L.string(),nodePubkey:L.string(),activatedStake:L.number(),epochVoteAccount:L.boolean(),epochCredits:L.array(L.tuple([L.number(),L.number(),L.number()])),commission:L.number(),lastVote:L.number(),rootSlot:L.nullable(L.number())}),tQe=Tr(L.type({current:L.array(Kme),delinquent:L.array(Kme)})),rQe=L.union([L.literal("processed"),L.literal("confirmed"),L.literal("finalized")]),nQe=L.type({slot:L.number(),confirmations:L.nullable(L.number()),err:Cy,confirmationStatus:L.optional(rQe)}),iQe=ao(L.array(L.nullable(nQe))),oQe=Tr(L.number()),hge=L.type({accountKey:ki,writableIndexes:L.array(L.number()),readonlyIndexes:L.array(L.number())}),bF=L.type({signatures:L.array(L.string()),message:L.type({accountKeys:L.array(L.string()),header:L.type({numRequiredSignatures:L.number(),numReadonlySignedAccounts:L.number(),numReadonlyUnsignedAccounts:L.number()}),instructions:L.array(L.type({accounts:L.array(L.number()),data:L.string(),programIdIndex:L.number()})),recentBlockhash:L.string(),addressTableLookups:L.optional(L.array(hge))})}),pge=L.type({pubkey:ki,signer:L.boolean(),writable:L.boolean(),source:L.optional(L.union([L.literal("transaction"),L.literal("lookupTable")]))}),mge=L.type({accountKeys:L.array(pge),signatures:L.array(L.string())}),gge=L.type({parsed:L.unknown(),program:L.string(),programId:ki}),yge=L.type({accounts:L.array(ki),data:L.string(),programId:ki}),sQe=L.union([yge,gge]),aQe=L.union([L.type({parsed:L.unknown(),program:L.string(),programId:L.string()}),L.type({accounts:L.array(L.string()),data:L.string(),programId:L.string()})]),bge=L.coerce(sQe,aQe,t=>"accounts"in t?L.create(t,yge):L.create(t,gge)),xge=L.type({signatures:L.array(L.string()),message:L.type({accountKeys:L.array(pge),instructions:L.array(bge),recentBlockhash:L.string(),addressTableLookups:L.optional(L.nullable(L.array(hge)))})}),kT=L.type({accountIndex:L.number(),mint:L.string(),owner:L.optional(L.string()),programId:L.optional(L.string()),uiTokenAmount:nF}),vge=L.type({writable:L.array(ki),readonly:L.array(ki)}),qT=L.type({err:Cy,fee:L.number(),innerInstructions:L.optional(L.nullable(L.array(L.type({index:L.number(),instructions:L.array(L.type({accounts:L.array(L.number()),data:L.string(),programIdIndex:L.number()}))})))),preBalances:L.array(L.number()),postBalances:L.array(L.number()),logMessages:L.optional(L.nullable(L.array(L.string()))),preTokenBalances:L.optional(L.nullable(L.array(kT))),postTokenBalances:L.optional(L.nullable(L.array(kT))),loadedAddresses:L.optional(vge),computeUnitsConsumed:L.optional(L.number()),costUnits:L.optional(L.number())}),xF=L.type({err:Cy,fee:L.number(),innerInstructions:L.optional(L.nullable(L.array(L.type({index:L.number(),instructions:L.array(bge)})))),preBalances:L.array(L.number()),postBalances:L.array(L.number()),logMessages:L.optional(L.nullable(L.array(L.string()))),preTokenBalances:L.optional(L.nullable(L.array(kT))),postTokenBalances:L.optional(L.nullable(L.array(kT))),loadedAddresses:L.optional(vge),computeUnitsConsumed:L.optional(L.number()),costUnits:L.optional(L.number())}),Wx=L.union([L.literal(0),L.literal("legacy")]),ky=L.type({pubkey:L.string(),lamports:L.number(),postBalance:L.nullable(L.number()),rewardType:L.nullable(L.string()),commission:L.optional(L.nullable(L.number()))}),cQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:bF,meta:L.nullable(qT),version:L.optional(Wx)})),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),fQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),uQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:mge,meta:L.nullable(qT),version:L.optional(Wx)})),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),lQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:xge,meta:L.nullable(xF),version:L.optional(Wx)})),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),dQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:mge,meta:L.nullable(xF),version:L.optional(Wx)})),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),hQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),pQe=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:bF,meta:L.nullable(qT)})),rewards:L.optional(L.array(ky)),blockTime:L.nullable(L.number())}))),$me=Tr(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),signatures:L.array(L.string()),blockTime:L.nullable(L.number())}))),KU=Tr(L.nullable(L.type({slot:L.number(),meta:L.nullable(qT),blockTime:L.optional(L.nullable(L.number())),transaction:bF,version:L.optional(Wx)}))),TT=Tr(L.nullable(L.type({slot:L.number(),transaction:xge,meta:L.nullable(xF),blockTime:L.optional(L.nullable(L.number())),version:L.optional(Wx)}))),mQe=ao(L.type({blockhash:L.string(),lastValidBlockHeight:L.number()})),gQe=ao(L.boolean()),yQe=L.type({slot:L.number(),numTransactions:L.number(),numSlots:L.number(),samplePeriodSecs:L.number()}),bQe=Tr(L.array(yQe)),xQe=ao(L.nullable(L.type({feeCalculator:L.type({lamportsPerSignature:L.number()})}))),vQe=Tr(L.string()),_Qe=Tr(L.string()),wQe=L.type({err:Cy,logs:L.array(L.string()),signature:L.string()}),EQe=L.type({result:HT(wQe),subscription:L.number()}),SQe={"solana-client":"js/1.0.0-maintenance"},sF=class{static{o(this,"Connection")}constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let h={};return async y=>{let{commitment:g,config:E}=ri(y),T=this._buildArgs([],g,void 0,E),O=qme(T);return h[O]=h[O]??(async()=>{try{let M=await this._rpcRequest("getBlockHeight",T),k=L.create(M,Tr(L.number()));if("error"in k)throw new Bt(k.error,"failed to get block height information");return k.result}finally{delete h[O]}})(),await h[O]}})();let n,i,s,a,c,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,c=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=fJe(e),this._rpcWsEndpoint=n||cJe(e),this._rpcClient=SJe(e,i,s,a,c,l),this._rpcRequest=AJe(this._rpcClient),this._rpcBatchRequest=TJe(this._rpcClient),this._rpcWebSocket=new rF(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),c=L.create(a,ao(L.number()));if("error"in c)throw new Bt(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=L.create(r,Tr(L.nullable(L.number())));if("error"in n)throw new Bt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=L.create(e,Tr(L.number()));if("error"in r)throw new Bt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=L.create(e,kJe);if("error"in r)throw new Bt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=L.create(n,BJe);if("error"in i)throw new Bt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=L.create(i,ao(nF));if("error"in s)throw new Bt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=L.create(i,ao(nF));if("error"in s)throw new Bt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:s}=ri(n),a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});let c=this._buildArgs(a,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",c),h=L.create(l,LJe);if("error"in h)throw new Bt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=L.create(a,DJe);if("error"in c)throw new Bt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=L.create(i,UJe);if("error"in s)throw new Bt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=L.create(i,PJe);if("error"in s)throw new Bt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),c=L.create(a,ao(L.nullable(BE)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),c=L.create(a,ao(L.nullable(oF)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=ri(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",a),l=L.create(c,ao(L.array(L.nullable(oF))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=ri(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"base64",i),c=await this._rpcRequest("getMultipleAccounts",a),l=L.create(c,ao(L.array(L.nullable(BE))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:s}=ri(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),c=await this._rpcRequest("getStakeActivation",a),l=L.create(c,Tr(VJe));if("error"in l)throw new Bt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=ri(r),{encoding:s,...a}=i||{},c=this._buildArgs([e.toBase58()],n,s||"base64",{...a,...a.filters?{filters:jme(a.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",c),h=L.array(FJe),y=a.withContext===!0?L.create(l,ao(h)):L.create(l,Tr(h));if("error"in y)throw new Bt(y.error,`failed to get accounts owned by program ${e.toBase58()}`);return y.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),c=L.create(a,Tr(L.array(qJe)));if("error"in c)throw new Bt(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=vs.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return pn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1,a=new Promise((l,h)=>{try{n=this.onSignature(r,(g,E)=>{n=void 0;let T={context:E,value:g};l({__type:Lh.PROCESSED,response:T})},e);let y=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&g()})});(async()=>{if(await y,s)return;let g=await this.getSignatureStatus(r);if(s||g==null)return;let{context:E,value:T}=g;if(T!=null)if(T?.err)h(T.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:Lh.PROCESSED,response:{context:E,value:T}})}})()}catch(y){h(y)}});return{abortConfirmation:o(()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},"abortConfirmation"),confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1,a=new Promise(g=>{let E=o(async()=>{try{return await this.getBlockHeight(e)}catch{return-1}},"checkBlockHeight");(async()=>{let T=await E();if(!s){for(;T<=n;)if(await Iy(1e3),s||(T=await E(),s))return;g({__type:Lh.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),h=this.getCancellationPromise(r),y;try{let g=await Promise.race([h,l,a]);if(g.__type===Lh.PROCESSED)y=g.response;else throw new NE(i)}finally{s=!0,c()}return y}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let c=!1,l=new Promise(T=>{let O=s,M=null,k=o(async()=>{try{let{context:C,value:B}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return M=C.slot,B?.nonce}catch{return O}},"getCurrentNonceValue");(async()=>{if(O=await k(),!c)for(;;){if(s!==O){T({__type:Lh.NONCE_INVALID,slotInWhichNonceDidAdvance:M});return}if(await Iy(2e3),c||(O=await k(),c))return}})()}),{abortConfirmation:h,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),g=this.getCancellationPromise(r),E;try{let T=await Promise.race([g,y,l]);if(T.__type===Lh.PROCESSED)E=T.response;else{let O;for(;;){let M=await this.getSignatureStatus(a);if(M==null)break;if(M.context.slot<(T.slotInWhichNonceDidAdvance??n)){await Iy(400);continue}O=M;break}if(O?.value){let M=e||"finalized",{confirmationStatus:k}=O.value;switch(M){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new Fp(a);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new Fp(a);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new Fp(a);break;default:}E={context:O.context,value:{err:O.value.err}}}else throw new Fp(a)}}finally{c=!0,h()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:Lh.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c;try{let l=await Promise.race([a,i]);if(l.__type===Lh.PROCESSED)c=l.response;else throw new CE(r,l.timeoutMs/1e3)}finally{clearTimeout(n),s()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=L.create(e,Tr(L.array(eQe)));if("error"in r)throw new Bt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=L.create(n,tQe);if("error"in i)throw new Bt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=ri(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=L.create(s,Tr(L.number()));if("error"in a)throw new Bt(a.error,"failed to get slot");return a.result}async getSlotLeader(e){let{commitment:r,config:n}=ri(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=L.create(s,Tr(L.string()));if("error"in a)throw new Bt(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=L.create(i,Tr(L.array(ki)));if("error"in s)throw new Bt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);pn(i.length===1);let s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),s=L.create(i,iQe);if("error"in s)throw new Bt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){let{commitment:r,config:n}=ri(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=L.create(s,Tr(L.number()));if("error"in a)throw new Bt(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=L.create(n,IJe);if("error"in i)throw new Bt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:s}=ri(n),a=this._buildArgs([e.map(h=>h.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),c=await this._rpcRequest("getInflationReward",a),l=L.create(c,dJe);if("error"in l)throw new Bt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=L.create(e,RJe);if("error"in r)throw new Bt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=ri(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=L.create(s,MJe);if("error"in a)throw new Bt(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=L.create(e,NJe);if("error"in r)throw new Bt(r.error,"failed to get epoch schedule");let n=r.result;return new CT(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=L.create(e,CJe);if("error"in r)throw new Bt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=L.create(i,oQe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){let{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=L.create(r,bQe);if("error"in n)throw new Bt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=L.create(i,xQe);if("error"in s)throw new Bt(s.error,"failed to get fee calculator");let{context:a,value:c}=s.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){let n=Ir(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=L.create(s,ao(L.nullable(L.number())));if("error"in a)throw new Bt(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){let r=e?.lockedWritableAccounts?.map(a=>a.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=L.create(i,OJe);if("error"in s)throw new Bt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=ri(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=L.create(s,mQe);if("error"in a)throw new Bt(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),c=L.create(a,gQe);if("error"in c)throw new Bt(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=L.create(e,Tr(vJe));if("error"in r)throw new Bt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=L.create(e,Tr(L.string()));if("error"in r)throw new Bt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let c=L.create(a,uQe);if("error"in c)throw c.error;return c.result}case"none":{let c=L.create(a,fQe);if("error"in c)throw c.error;return c.result}default:{let c=L.create(a,cQe);if("error"in c)throw c.error;let{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:h,meta:y,version:g})=>({meta:y,transaction:{...h,message:zU(g,h.message)},version:g}))}:null}}}catch(c){throw new Bt(c,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let c=L.create(a,dQe);if("error"in c)throw c.error;return c.result}case"none":{let c=L.create(a,hQe);if("error"in c)throw c.error;return c.result}default:{let c=L.create(a,lQe);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Bt(c,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...l}=e;n=c,r=l}let i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=L.create(s,EJe);if("error"in a)throw new Bt(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),c=L.create(a,KU);if("error"in c)throw new Bt(c.error,"failed to get transaction");let l=c.result;return l&&{...l,transaction:{...l.transaction,message:zU(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=ri(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),c=L.create(a,TT);if("error"in c)throw new Bt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=ri(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=L.create(l,TT);if("error"in h)throw new Bt(h.error,"failed to get transactions");return h.result})}async getTransactions(e,r){let{commitment:n,config:i}=ri(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=L.create(l,KU);if("error"in h)throw new Bt(h.error,"failed to get transactions");let y=h.result;return y&&{...y,transaction:{...y.transaction,message:zU(y.version,y.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=L.create(i,pQe);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");let c={...a,transactions:a.transactions.map(({transaction:l,meta:h})=>{let y=new hd(l.message);return{meta:h,transaction:{...l,message:y}}})};return{...c,transactions:c.transactions.map(({transaction:l,meta:h})=>({meta:h,transaction:Rn.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=L.create(s,Tr(L.array(L.number())));if("error"in a)throw new Bt(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=L.create(i,$me);if("error"in s)throw new Bt(s.error,"failed to get block");let a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=L.create(i,$me);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=L.create(i,KU);if("error"in s)throw new Bt(s.error,"failed to get transaction");let a=s.result;if(!a)return a;let c=new hd(a.transaction.message),l=a.transaction.signatures;return{...a,transaction:Rn.populate(c,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=L.create(i,TT);if("error"in s)throw new Bt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){let n=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(a=>{let c=L.create(a,TT);if("error"in c)throw new Bt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let a=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>a));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=L.create(s,jJe);if("error"in a)throw new Bt(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=L.create(s,zJe);if("error"in a)throw new Bt(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=new kE({key:e,state:kE.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=NT.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=L.create(n,vQe);if("error"in i)throw new Bt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Iy(100);let n=Date.now()-this._blockhashInfo.lastFetch>=lge;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Iy(age/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=ri(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=L.create(s,ao(L.number()));if("error"in a)throw new Bt(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){let M=e.serialize(),k=Xt.Buffer.from(M).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let C=r||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(C.innerInstructions=r.innerInstructions);let B=[k,C],N=await this._rpcRequest("simulateTransaction",B),P=L.create(N,zme);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof Rn){let O=e;i=new Rn,i.feePayer=O.feePayer,i.instructions=e.instructions,i.nonceInfo=O.nonceInfo,i.signatures=O.signatures}else i=Rn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let s=r;if(i.nonceInfo&&s)i.sign(...s);else{let O=this._disableBlockhashCaching;for(;;){let M=await this._blockhashWithExpiryBlockHeight(O);if(i.lastValidBlockHeight=M.lastValidBlockHeight,i.recentBlockhash=M.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");let k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else O=!0}}let a=i._compile(),c=a.serialize(),h=i._serialize(c).toString("base64"),y={encoding:"base64",commitment:this.commitment};if(n){let O=(Array.isArray(n)?n:a.nonProgramIds()).map(M=>M.toBase58());y.accounts={encoding:"base64",addresses:O}}s&&(y.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(y.innerInstructions=r.innerInstructions);let g=[h,y],E=await this._rpcRequest("simulateTransaction",g),T=L.create(E,zme);if("error"in T){let O;if("data"in T.error&&(O=T.error.data.logs,O&&Array.isArray(O))){let M=`
    `,k=M+O.join(M);console.error(T.error.message,k)}throw new My({action:"simulate",signature:"",transactionMessage:T.error.message,logs:O})}return T.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let a=e.serialize();return await this.sendRawTransaction(a,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let a=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))a=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){let n=Ir(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);let a=[e,n],c=await this._rpcRequest("sendTransaction",a),l=L.create(c,_Qe);if("error"in l){let h;throw"data"in l.error&&(h=l.error.data.logs),new My({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:h})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=o(()=>e===this._rpcWebSocketGeneration,"isCurrentConnectionStillActive");await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:s,method:a}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let c=await this._rpcWebSocket.call(a,s);this._setSubscription(n,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:s,error:c}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:s,unsubscribeMethod:a}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[s])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=L.create(e,KJe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=qme([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let a=this._subscriptionsByHash[i];pn(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let{commitment:i,config:s}=ri(n),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=L.create(e,GJe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let{commitment:s,config:a}=ri(n),c=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",a||(i?{filters:jme(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=L.create(e,EQe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=L.create(e,YJe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=L.create(e,ZJe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let s=r||this._commitment;if(s||n||i){let a={};n&&(a.encoding=n),s&&(a.commitment=s),i&&(a=Object.assign(a,i)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=L.create(e,JJe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:o((a,c)=>{if(a.type==="status"){r(a.result,c);try{this.removeSignatureListener(s)}catch{}}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){let{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),c=this._makeSubscription({callback:o((l,h)=>{r(l,h);try{this.removeSignatureListener(c)}catch{}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=L.create(e,QJe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},BT=class t{static{o(this,"Keypair")}constructor(e){this._keypair=void 0,this._keypair=e??Dme()}static generate(){return new t(Dme())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),s=OT(i);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=OT(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ht(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Dh=Object.freeze({CreateLookupTable:{index:0,layout:oe.struct([oe.u32("instruction"),jx("recentSlot"),oe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe.struct([oe.u32("instruction")])},ExtendLookupTable:{index:2,layout:oe.struct([oe.u32("instruction"),jx(),oe.seq(Dr(),oe.offset(oe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe.struct([oe.u32("instruction")])},CloseLookupTable:{index:4,layout:oe.struct([oe.u32("instruction")])}}),aF=class{static{o(this,"AddressLookupTableInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Dh))if(a.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=In(Dh.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=In(Dh.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ht(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(PE.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},PE=class{static{o(this,"AddressLookupTableProgram")}constructor(){}static createLookupTable(e){let[r,n]=ht.findProgramAddressSync([e.authority.toBuffer(),rge.getU64Encoder().encode(e.recentSlot)],this.programId),i=Dh.CreateLookupTable,s=Jr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:_s.programId,isSigner:!1,isWritable:!1}];return[new kn({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){let r=Dh.FreezeLookupTable,n=Jr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new kn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Dh.ExtendLookupTable,n=Jr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:_s.programId,isSigner:!1,isWritable:!1}),new kn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Dh.DeactivateLookupTable,n=Jr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new kn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Dh.CloseLookupTable,n=Jr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new kn({programId:this.programId,keys:i,data:n})}};PE.programId=new ht("AddressLookupTab1e1111111111111111111111111");var cF=class{static{o(this,"ComputeBudgetInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u8("instruction").decode(e.data),i;for(let[s,a]of Object.entries(ud))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=In(ud.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=In(ud.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=In(ud.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=In(ud.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(LE.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},ud=Object.freeze({RequestUnits:{index:0,layout:oe.struct([oe.u8("instruction"),oe.u32("units"),oe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:oe.struct([oe.u8("instruction"),oe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:oe.struct([oe.u8("instruction"),oe.u32("units")])},SetComputeUnitPrice:{index:3,layout:oe.struct([oe.u8("instruction"),jx("microLamports")])}}),LE=class{static{o(this,"ComputeBudgetProgram")}constructor(){}static requestUnits(e){let r=ud.RequestUnits,n=Jr(r,e);return new kn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=ud.RequestHeapFrame,n=Jr(r,e);return new kn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=ud.SetComputeUnitLimit,n=Jr(r,e);return new kn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=ud.SetComputeUnitPrice,n=Jr(r,{microLamports:BigInt(e.microLamports)});return new kn({keys:[],programId:this.programId,data:n})}};LE.programId=new ht("ComputeBudget111111111111111111111111111111");var Gme=64,Wme=32,Yme=64,Xme=oe.struct([oe.u8("numSignatures"),oe.u8("padding"),oe.u16("signatureOffset"),oe.u16("signatureInstructionIndex"),oe.u16("publicKeyOffset"),oe.u16("publicKeyInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u16("messageInstructionIndex")]),PT=class t{static{o(this,"Ed25519Program")}constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:s}=e;pn(r.length===Wme,`Public Key must be ${Wme} bytes but received ${r.length} bytes`),pn(i.length===Yme,`Signature must be ${Yme} bytes but received ${i.length} bytes`);let a=Xme.span,c=a+r.length,l=c+i.length,h=1,y=Xt.Buffer.alloc(l+n.length),g=s??65535;return Xme.encode({numSignatures:h,padding:0,signatureOffset:c,signatureInstructionIndex:g,publicKeyOffset:a,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:g},y),y.fill(r,a),y.fill(i,c),y.fill(n,l),new kn({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;pn(r.length===Gme,`Private key must be ${Gme} bytes but received ${r.length} bytes`);try{let s=BT.fromSecretKey(r),a=s.publicKey.toBytes(),c=mF(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:c,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};PT.programId=new ht("Ed25519SigVerify111111111111111111111111111");var AQe=o((t,e)=>{let r=hF.secp256k1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]},"ecdsaSign");hF.secp256k1.utils.isValidPrivateKey;var TQe=hF.secp256k1.getPublicKey,Zme=32,$U=20,Jme=64,IQe=11,GU=oe.struct([oe.u8("numSignatures"),oe.u16("signatureOffset"),oe.u8("signatureInstructionIndex"),oe.u16("ethAddressOffset"),oe.u8("ethAddressInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u8("messageInstructionIndex"),oe.blob(20,"ethAddress"),oe.blob(64,"signature"),oe.u8("recoveryId")]),LT=class t{static{o(this,"Secp256k1Program")}constructor(){}static publicKeyToEthAddress(e){pn(e.length===Jme,`Public key must be ${Jme} bytes but received ${e.length} bytes`);try{return Xt.Buffer.from(Pme.keccak_256(Ir(e))).slice(-$U)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e,c;typeof r=="string"?r.startsWith("0x")?c=Xt.Buffer.from(r.substr(2),"hex"):c=Xt.Buffer.from(r,"hex"):c=r,pn(c.length===$U,`Address must be ${$U} bytes but received ${c.length} bytes`);let l=1+IQe,h=l,y=l+c.length,g=y+i.length+1,E=1,T=Xt.Buffer.alloc(GU.span+n.length);return GU.encode({numSignatures:E,signatureOffset:y,signatureInstructionIndex:a,ethAddressOffset:h,ethAddressInstructionIndex:a,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:a,signature:Ir(i),ethAddress:Ir(c),recoveryId:s},T),T.fill(Ir(n),GU.span),new kn({keys:[],programId:t.programId,data:T})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;pn(r.length===Zme,`Private key must be ${Zme} bytes but received ${r.length} bytes`);try{let s=Ir(r),a=TQe(s,!1).slice(1),c=Xt.Buffer.from(Pme.keccak_256(Ir(n))),[l,h]=AQe(c,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:l,recoveryId:h,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};LT.programId=new ht("KeccakSecp256k11111111111111111111111111111");var _ge,wge=new ht("StakeConfig11111111111111111111111111111111"),DT=class{static{o(this,"Authorized")}constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},Ny=class{static{o(this,"Lockup")}constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};_ge=Ny;Ny.default=new _ge(0,0,ht.default);var fF=class{static{o(this,"StakeInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(ts))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=In(ts.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new DT(new ht(r.staker),new ht(r.withdrawer)),lockup:new Ny(n.unixTimestamp,n.epoch,new ht(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),In(ts.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=In(ts.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=In(ts.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ht(s),newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=In(ts.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),In(ts.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=In(ts.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),In(ts.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Kx.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ts=Object.freeze({Initialize:{index:0,layout:oe.struct([oe.u32("instruction"),UZe(),FZe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Dr("newAuthorized"),oe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:oe.struct([oe.u32("instruction")])},Split:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Withdraw:{index:4,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Deactivate:{index:5,layout:oe.struct([oe.u32("instruction")])},Merge:{index:7,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:oe.struct([oe.u32("instruction"),Dr("newAuthorized"),oe.u32("stakeAuthorizationType"),Ry("authoritySeed"),Dr("authorityOwner")])}}),RQe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Kx=class{static{o(this,"StakeProgram")}constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Ny.default,a=ts.Initialize,c=Jr(a,{authorized:{staker:Ir(n.staker.toBuffer()),withdrawer:Ir(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ir(s.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vx,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new kn(l)}static createAccountWithSeed(e){let r=new Rn;r.add(_s.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){let r=new Rn;r.add(_s.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=ts.Delegate,a=Jr(s);return new Rn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:RT,isSigner:!1,isWritable:!1},{pubkey:wge,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,c=ts.Authorize,l=Jr(c,{newAuthorized:Ir(i.toBuffer()),stakeAuthorizationType:s.index}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cd,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new Rn().add({keys:h,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:l}=e,h=ts.AuthorizeWithSeed,y=Jr(h,{newAuthorized:Ir(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:Ir(s.toBuffer())}),g=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:cd,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new Rn().add({keys:g,programId:this.programId,data:y})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=ts.Split,c=Jr(a,{lamports:s});return new kn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,r){let n=new Rn;return n.add(_s.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:c,lamports:l}=e,h=new Rn;return h.add(_s.allocate({accountPubkey:s,basePubkey:a,seed:c,space:this.space,programId:this.programId})),r&&r>0&&h.add(_s.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=ts.Merge,a=Jr(s);return new Rn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:RT,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,c=ts.Withdraw,l=Jr(c,{lamports:s}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:RT,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new Rn().add({keys:h,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=ts.Deactivate,s=Jr(i);return new Rn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Kx.programId=new ht("Stake11111111111111111111111111111111111111");Kx.space=200;var UT=class{static{o(this,"VoteInit")}constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},uF=class{static{o(this,"VoteInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(ld))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=In(ld.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new UT(new ht(r.nodePubkey),new ht(r.authorizedVoter),new ht(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=In(ld.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=In(ld.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ht(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ht(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=In(ld.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals($x.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ld=Object.freeze({InitializeAccount:{index:0,layout:oe.struct([oe.u32("instruction"),HZe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Dr("newAuthorized"),oe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),qZe()])}}),OQe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),$x=class t{static{o(this,"VoteProgram")}constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=ld.InitializeAccount,a=Jr(s,{voteInit:{nodePubkey:Ir(i.nodePubkey.toBuffer()),authorizedVoter:Ir(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ir(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vx,isSigner:!1,isWritable:!1},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new kn(c)}static createAccount(e){let r=new Rn;return r.add(_s.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=ld.Authorize,c=Jr(a,{newAuthorized:Ir(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Rn().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:c}=e,l=ld.AuthorizeWithSeed,h=Jr(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ir(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ir(s.toBuffer()),voteAuthorizationType:a.index}}),y=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:cd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Rn().add({keys:y,programId:this.programId,data:h})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=ld.Withdraw,c=Jr(a,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Rn().add({keys:l,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=ld.UpdateValidatorIdentity,a=Jr(s),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Rn().add({keys:c,programId:this.programId,data:a})}};$x.programId=new ht("Vote111111111111111111111111111111111111111");$x.space=3762;var Ege=new ht("Va1idator1nfo111111111111111111111111111111"),MQe=L.type({name:L.string(),website:L.optional(L.string()),details:L.optional(L.string()),iconUrl:L.optional(L.string()),keybaseUsername:L.optional(L.string())}),lF=class t{static{o(this,"ValidatorInfo")}constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(mc(r)!==2)return null;let i=[];for(let s=0;s<2;s++){let a=new ht(gc(r,0,dd)),c=fd(r)===1;i.push({publicKey:a,isSigner:c})}if(i[0].publicKey.equals(Ege)&&i[1].isSigner){let s=Ry().decode(Xt.Buffer.from(r)),a=JSON.parse(s);return L.assert(a,MQe),new t(i[1].publicKey,a)}return null}},NQe=new ht("Vote111111111111111111111111111111111111111"),CQe=oe.struct([Dr("nodePubkey"),Dr("authorizedWithdrawer"),oe.u8("commission"),oe.nu64(),oe.seq(oe.struct([oe.nu64("slot"),oe.u32("confirmationCount")]),oe.offset(oe.u32(),-8),"votes"),oe.u8("rootSlotValid"),oe.nu64("rootSlot"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),Dr("authorizedVoter")]),oe.offset(oe.u32(),-8),"authorizedVoters"),oe.struct([oe.seq(oe.struct([Dr("authorizedPubkey"),oe.nu64("epochOfLastAuthorizedSwitch"),oe.nu64("targetEpoch")]),32,"buf"),oe.nu64("idx"),oe.u8("isEmpty")],"priorVoters"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),oe.nu64("credits"),oe.nu64("prevCredits")]),oe.offset(oe.u32(),-8),"epochCredits"),oe.struct([oe.nu64("slot"),oe.nu64("timestamp")],"lastTimestamp")]),dF=class t{static{o(this,"VoteAccount")}constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=CQe.decode(Ir(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ht(n.nodePubkey),authorizedWithdrawer:new ht(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(kQe),priorVoters:BQe(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function kQe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ht(t)}}o(kQe,"parseAuthorizedVoter");function Qme({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ht(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}o(Qme,"parsePriorVoters");function BQe({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Qme),...t.slice(0,e).map(Qme)]}o(BQe,"getPriorVoters");var ege={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function PQe(t,e){let r=e===!1?"http":"https";if(!t)return ege[r].devnet;let n=ege[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}o(PQe,"clusterApiUrl");async function LQe(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;let a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await t.sendRawTransaction(e,a),l=s&&s.commitment,y=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(c,l))).value;if(y.err)throw c!=null?new My({action:a?.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(y)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(y)})`);return c}o(LQe,"sendAndConfirmRawTransaction");var DQe=1e9;pt.Account=YU;pt.AddressLookupTableAccount=kE;pt.AddressLookupTableInstruction=aF;pt.AddressLookupTableProgram=PE;pt.Authorized=DT;pt.BLOCKHASH_CACHE_TIMEOUT_MS=lge;pt.BPF_LOADER_DEPRECATED_PROGRAM_ID=LZe;pt.BPF_LOADER_PROGRAM_ID=QZe;pt.BpfLoader=tF;pt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=ud;pt.ComputeBudgetInstruction=cF;pt.ComputeBudgetProgram=LE;pt.Connection=sF;pt.Ed25519Program=PT;pt.Enum=WU;pt.EpochSchedule=CT;pt.FeeCalculatorLayout=cge;pt.Keypair=BT;pt.LAMPORTS_PER_SOL=DQe;pt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Dh;pt.Loader=zx;pt.Lockup=Ny;pt.MAX_SEED_LENGTH=ige;pt.Message=hd;pt.MessageAccountKeys=Oy;pt.MessageV0=qx;pt.NONCE_ACCOUNT_LENGTH=QU;pt.NonceAccount=NT;pt.PACKET_DATA_SIZE=Hp;pt.PUBLIC_KEY_LENGTH=dd;pt.PublicKey=ht;pt.SIGNATURE_LENGTH_IN_BYTES=ME;pt.SOLANA_SCHEMA=RE;pt.STAKE_CONFIG_ID=wge;pt.STAKE_INSTRUCTION_LAYOUTS=ts;pt.SYSTEM_INSTRUCTION_LAYOUTS=ni;pt.SYSVAR_CLOCK_PUBKEY=cd;pt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=$Ze;pt.SYSVAR_INSTRUCTIONS_PUBKEY=GZe;pt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=IT;pt.SYSVAR_RENT_PUBKEY=Vx;pt.SYSVAR_REWARDS_PUBKEY=WZe;pt.SYSVAR_SLOT_HASHES_PUBKEY=YZe;pt.SYSVAR_SLOT_HISTORY_PUBKEY=XZe;pt.SYSVAR_STAKE_HISTORY_PUBKEY=RT;pt.Secp256k1Program=LT;pt.SendTransactionError=My;pt.SolanaJSONRPCError=Bt;pt.SolanaJSONRPCErrorCode=ZZe;pt.StakeAuthorizationLayout=RQe;pt.StakeInstruction=fF;pt.StakeProgram=Kx;pt.Struct=OE;pt.SystemInstruction=eF;pt.SystemProgram=_s;pt.Transaction=Rn;pt.TransactionExpiredBlockheightExceededError=NE;pt.TransactionExpiredNonceInvalidError=Fp;pt.TransactionExpiredTimeoutError=CE;pt.TransactionInstruction=kn;pt.TransactionMessage=XU;pt.TransactionStatus=Lh;pt.VALIDATOR_INFO_KEY=Ege;pt.VERSION_PREFIX_MASK=FT;pt.VOTE_PROGRAM_ID=NQe;pt.ValidatorInfo=lF;pt.VersionedMessage=gF;pt.VersionedTransaction=ZU;pt.VoteAccount=dF;pt.VoteAuthorizationLayout=OQe;pt.VoteInit=UT;pt.VoteInstruction=uF;pt.VoteProgram=$x;pt.clusterApiUrl=PQe;pt.sendAndConfirmRawTransaction=LQe;pt.sendAndConfirmTransaction=JU});var jge=j(Re=>{"use strict";p();m();Object.defineProperty(Re,"__esModule",{value:!0});Re.s16=Re.s8=Re.nu64be=Re.u48be=Re.u40be=Re.u32be=Re.u24be=Re.u16be=Re.nu64=Re.u48=Re.u40=Re.u32=Re.u24=Re.u16=Re.u8=Re.offset=Re.greedy=Re.Constant=Re.UTF8=Re.CString=Re.Blob=Re.Boolean=Re.BitField=Re.BitStructure=Re.VariantLayout=Re.Union=Re.UnionLayoutDiscriminator=Re.UnionDiscriminator=Re.Structure=Re.Sequence=Re.DoubleBE=Re.Double=Re.FloatBE=Re.Float=Re.NearInt64BE=Re.NearInt64=Re.NearUInt64BE=Re.NearUInt64=Re.IntBE=Re.Int=Re.UIntBE=Re.UInt=Re.OffsetLayout=Re.GreedyCount=Re.ExternalLayout=Re.bindConstructorLayout=Re.nameWithProperty=Re.Layout=Re.uint8ArrayToBuffer=Re.checkUint8Array=void 0;Re.constant=Re.utf8=Re.cstr=Re.blob=Re.unionLayoutDiscriminator=Re.union=Re.seq=Re.bits=Re.struct=Re.f64be=Re.f64=Re.f32be=Re.f32=Re.ns64be=Re.s48be=Re.s40be=Re.s32be=Re.s24be=Re.s16be=Re.ns64=Re.s48=Re.s40=Re.s32=Re.s24=void 0;var OF=li();function Jx(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Jx,"checkUint8Array");Re.checkUint8Array=Jx;function mn(t){return Jx(t),OF.Buffer.from(t.buffer,t.byteOffset,t.length)}o(mn,"uint8ArrayToBuffer");Re.uint8ArrayToBuffer=mn;var vn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Re.Layout=vn;function MF(t,e){return e.property?t+"["+e.property+"]":t}o(MF,"nameWithProperty");Re.nameWithProperty=MF;function HQe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof vn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(HQe,"bindConstructorLayout");Re.bindConstructorLayout=HQe;var la=class extends vn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Re.ExternalLayout=la;var zT=class extends la{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Jx(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Re.GreedyCount=zT;var DE=class extends la{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof vn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof yc||this.layout instanceof rf}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Re.OffsetLayout=DE;var yc=class extends vn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return mn(r).writeUIntLE(e,n,this.span),this.span}};Re.UInt=yc;var rf=class extends vn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return mn(r).writeUIntBE(e,n,this.span),this.span}};Re.UIntBE=rf;var Fh=class extends vn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mn(e).readIntLE(r,this.span)}encode(e,r,n=0){return mn(r).writeIntLE(e,n,this.span),this.span}};Re.Int=Fh;var qp=class extends vn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mn(e).readIntBE(r,this.span)}encode(e,r,n=0){return mn(r).writeIntBE(e,n,this.span),this.span}};Re.IntBE=qp;var RF=Math.pow(2,32);function aI(t){let e=Math.floor(t/RF),r=t-e*RF;return{hi32:e,lo32:r}}o(aI,"divmodInt64");function cI(t,e){return t*RF+e}o(cI,"roundedInt64");var KT=class extends vn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=mn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return cI(s,i)}encode(e,r,n=0){let i=aI(e),s=mn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Re.NearUInt64=KT;var $T=class extends vn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=mn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return cI(i,s)}encode(e,r,n=0){let i=aI(e),s=mn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Re.NearUInt64BE=$T;var GT=class extends vn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=mn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return cI(s,i)}encode(e,r,n=0){let i=aI(e),s=mn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Re.NearInt64=GT;var WT=class extends vn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=mn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return cI(i,s)}encode(e,r,n=0){let i=aI(e),s=mn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Re.NearInt64BE=WT;var YT=class extends vn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return mn(e).readFloatLE(r)}encode(e,r,n=0){return mn(r).writeFloatLE(e,n),4}};Re.Float=YT;var XT=class extends vn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return mn(e).readFloatBE(r)}encode(e,r,n=0){return mn(r).writeFloatBE(e,n),4}};Re.FloatBE=XT;var ZT=class extends vn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return mn(e).readDoubleLE(r)}encode(e,r,n=0){return mn(r).writeDoubleLE(e,n),8}};Re.Double=ZT;var JT=class extends vn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return mn(e).readDoubleBE(r)}encode(e,r,n=0){return mn(r).writeDoubleBE(e,n),8}};Re.DoubleBE=JT;var QT=class extends vn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof vn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof la&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof la)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof la&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof la&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,c)=>a+i.encode(c,r,n+a),0);return this.count instanceof la&&this.count.encode(e.length,r,n),s}};Re.Sequence=QT;var eI=class extends vn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof vn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Jx(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let c of this.fields){let l=c.span;if(a=0<l?l:0,c.property!==void 0){let h=e[c.property];h!==void 0&&(a=c.encode(h,r,n),0>l&&(l=c.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Re.Structure=eI;var UE=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Re.UnionDiscriminator=UE;var Zx=class extends UE{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof la&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Re.UnionLayoutDiscriminator=Zx;var FE=class extends vn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof yc||e instanceof rf)i=new Zx(new DE(e));else if(e instanceof la&&e.isCount())i=new Zx(e);else if(e instanceof UE)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof vn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof yc||e instanceof rf)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof yc||e instanceof rf,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new tI(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Re.Union=FE;var tI=class extends vn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof FE))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof vn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Re.VariantLayout=tI;function Xx(t){return 0>t&&(t+=4294967296),t}o(Xx,"fixBitwiseResult");var HE=class extends vn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof yc||e instanceof rf))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Xx(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new qE(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new rI(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Re.BitStructure=HE;var qE=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof HE))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Xx(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Xx(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Xx(e&this.valueMask))throw new TypeError(MF("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Xx(e<<this.start);this.container._packedSetValue(Xx(r&~this.wordMask)|n)}};Re.BitField=qE;var rI=class extends qE{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Re.Boolean=rI;var nI=class extends vn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof la&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof la||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),mn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof la&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(MF("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=mn(e);return mn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof la&&this.length.encode(i,r,n),i}};Re.Blob=nI;var iI=class extends vn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Jx(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return mn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=OF.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=mn(r);return i.copy(a,n),a[n+s]=0,s+1}};Re.CString=iI;var oI=class extends vn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Jx(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return mn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=OF.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(mn(r),n),s}};Re.UTF8=oI;var sI=class extends vn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Re.Constant=sI;Re.greedy=(t,e)=>new zT(t,e);Re.offset=(t,e,r)=>new DE(t,e,r);Re.u8=t=>new yc(1,t);Re.u16=t=>new yc(2,t);Re.u24=t=>new yc(3,t);Re.u32=t=>new yc(4,t);Re.u40=t=>new yc(5,t);Re.u48=t=>new yc(6,t);Re.nu64=t=>new KT(t);Re.u16be=t=>new rf(2,t);Re.u24be=t=>new rf(3,t);Re.u32be=t=>new rf(4,t);Re.u40be=t=>new rf(5,t);Re.u48be=t=>new rf(6,t);Re.nu64be=t=>new $T(t);Re.s8=t=>new Fh(1,t);Re.s16=t=>new Fh(2,t);Re.s24=t=>new Fh(3,t);Re.s32=t=>new Fh(4,t);Re.s40=t=>new Fh(5,t);Re.s48=t=>new Fh(6,t);Re.ns64=t=>new GT(t);Re.s16be=t=>new qp(2,t);Re.s24be=t=>new qp(3,t);Re.s32be=t=>new qp(4,t);Re.s40be=t=>new qp(5,t);Re.s48be=t=>new qp(6,t);Re.ns64be=t=>new WT(t);Re.f32=t=>new YT(t);Re.f32be=t=>new XT(t);Re.f64=t=>new ZT(t);Re.f64be=t=>new JT(t);Re.struct=(t,e,r)=>new eI(t,e,r);Re.bits=(t,e,r)=>new HE(t,e,r);Re.seq=(t,e,r)=>new QT(t,e,r);Re.union=(t,e,r)=>new FE(t,e,r);Re.unionLayoutDiscriminator=(t,e)=>new Zx(t,e);Re.blob=(t,e)=>new nI(t,e);Re.cstr=t=>new iI(t);Re.utf8=(t,e)=>new oI(t,e);Re.constant=(t,e)=>new sI(t,e)});var zF=j($E=>{"use strict";p();m();Object.defineProperty($E,"__esModule",{value:!0});$E.SupportedAlgorithm=void 0;var Uet;(function(t){t.sha256="sha256",t.sha512="sha512"})(Uet=$E.SupportedAlgorithm||($E.SupportedAlgorithm={}))});var Uye=j(gI=>{"use strict";p();m();Object.defineProperty(gI,"__esModule",{value:!0});gI.version=void 0;gI.version="sha2/5.7.0"});var Hye=j(Zf=>{"use strict";p();m();var Fet=Zf&&Zf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.computeHmac=Zf.sha512=Zf.sha256=Zf.ripemd160=void 0;var GE=Fet(lx()),WE=us(),Het=zF(),Fye=Ca(),qet=Uye(),Vet=new Fye.Logger(qet.version);function jet(t){return"0x"+GE.default.ripemd160().update((0,WE.arrayify)(t)).digest("hex")}o(jet,"ripemd160");Zf.ripemd160=jet;function zet(t){return"0x"+GE.default.sha256().update((0,WE.arrayify)(t)).digest("hex")}o(zet,"sha256");Zf.sha256=zet;function Ket(t){return"0x"+GE.default.sha512().update((0,WE.arrayify)(t)).digest("hex")}o(Ket,"sha512");Zf.sha512=Ket;function $et(t,e,r){return Het.SupportedAlgorithm[t]||Vet.throwError("unsupported algorithm "+t,Fye.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+GE.default.hmac(GE.default[t],(0,WE.arrayify)(e)).update((0,WE.arrayify)(r)).digest("hex")}o($et,"computeHmac");Zf.computeHmac=$et});var KF=j(Jf=>{"use strict";p();m();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.SupportedAlgorithm=Jf.sha512=Jf.sha256=Jf.ripemd160=Jf.computeHmac=void 0;var yI=Hye();Object.defineProperty(Jf,"computeHmac",{enumerable:!0,get:o(function(){return yI.computeHmac},"get")});Object.defineProperty(Jf,"ripemd160",{enumerable:!0,get:o(function(){return yI.ripemd160},"get")});Object.defineProperty(Jf,"sha256",{enumerable:!0,get:o(function(){return yI.sha256},"get")});Object.defineProperty(Jf,"sha512",{enumerable:!0,get:o(function(){return yI.sha512},"get")});var Get=zF();Object.defineProperty(Jf,"SupportedAlgorithm",{enumerable:!0,get:o(function(){return Get.SupportedAlgorithm},"get")})});var pH=j((hH,l1e)=>{"use strict";p();m();(function(t){function e(u){return parseInt(u)===u}o(e,"checkInt");function r(u){if(!e(u.length))return!1;for(var w=0;w<u.length;w++)if(!e(u[w])||u[w]<0||u[w]>255)return!1;return!0}o(r,"checkInts");function n(u,w){if(u.buffer&&ArrayBuffer.isView(u)&&u.name==="Uint8Array")return w&&(u.slice?u=u.slice():u=Array.prototype.slice.call(u)),u;if(Array.isArray(u)){if(!r(u))throw new Error("Array contains invalid value: "+u);return new Uint8Array(u)}if(e(u.length)&&r(u))return new Uint8Array(u);throw new Error("unsupported array-like object")}o(n,"coerceArray");function i(u){return new Uint8Array(u)}o(i,"createArray");function s(u,w,V,q,U){(q!=null||U!=null)&&(u.slice?u=u.slice(q,U):u=Array.prototype.slice.call(u,q,U)),w.set(u,V)}o(s,"copyArray");var a=function(){function u(V){var q=[],U=0;for(V=encodeURI(V);U<V.length;){var G=V.charCodeAt(U++);G===37?(q.push(parseInt(V.substr(U,2),16)),U+=2):q.push(G)}return n(q)}o(u,"toBytes");function w(V){for(var q=[],U=0;U<V.length;){var G=V[U];G<128?(q.push(String.fromCharCode(G)),U++):G>191&&G<224?(q.push(String.fromCharCode((G&31)<<6|V[U+1]&63)),U+=2):(q.push(String.fromCharCode((G&15)<<12|(V[U+1]&63)<<6|V[U+2]&63)),U+=3)}return q.join("")}return o(w,"fromBytes"),{toBytes:u,fromBytes:w}}(),c=function(){function u(q){for(var U=[],G=0;G<q.length;G+=2)U.push(parseInt(q.substr(G,2),16));return U}o(u,"toBytes");var w="0123456789abcdef";function V(q){for(var U=[],G=0;G<q.length;G++){var ee=q[G];U.push(w[(ee&240)>>4]+w[ee&15])}return U.join("")}return o(V,"fromBytes"),{toBytes:u,fromBytes:V}}(),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],y=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],O=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],M=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],B=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],N=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],P=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],H=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],F=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Z=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function W(u){for(var w=[],V=0;V<u.length;V+=4)w.push(u[V]<<24|u[V+1]<<16|u[V+2]<<8|u[V+3]);return w}o(W,"convertToInt32");var X=o(function(u){if(!(this instanceof X))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(u,!0)}),this._prepare()},"AES");X.prototype._prepare=function(){var u=l[this.key.length];if(u==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var w=0;w<=u;w++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var V=(u+1)*4,q=this.key.length/4,U=W(this.key),G,w=0;w<q;w++)G=w>>2,this._Ke[G][w%4]=U[w],this._Kd[u-G][w%4]=U[w];for(var ee=0,re=q,Oe;re<V;){if(Oe=U[q-1],U[0]^=y[Oe>>16&255]<<24^y[Oe>>8&255]<<16^y[Oe&255]<<8^y[Oe>>24&255]^h[ee]<<24,ee+=1,q!=8)for(var w=1;w<q;w++)U[w]^=U[w-1];else{for(var w=1;w<q/2;w++)U[w]^=U[w-1];Oe=U[q/2-1],U[q/2]^=y[Oe&255]^y[Oe>>8&255]<<8^y[Oe>>16&255]<<16^y[Oe>>24&255]<<24;for(var w=q/2+1;w<q;w++)U[w]^=U[w-1]}for(var w=0,ae,le;w<q&&re<V;)ae=re>>2,le=re%4,this._Ke[ae][le]=U[w],this._Kd[u-ae][le]=U[w++],re++}for(var ae=1;ae<u;ae++)for(var le=0;le<4;le++)Oe=this._Kd[ae][le],this._Kd[ae][le]=P[Oe>>24&255]^H[Oe>>16&255]^F[Oe>>8&255]^Z[Oe&255]},X.prototype.encrypt=function(u){if(u.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var w=this._Ke.length-1,V=[0,0,0,0],q=W(u),U=0;U<4;U++)q[U]^=this._Ke[0][U];for(var G=1;G<w;G++){for(var U=0;U<4;U++)V[U]=E[q[U]>>24&255]^T[q[(U+1)%4]>>16&255]^O[q[(U+2)%4]>>8&255]^M[q[(U+3)%4]&255]^this._Ke[G][U];q=V.slice()}for(var ee=i(16),re,U=0;U<4;U++)re=this._Ke[w][U],ee[4*U]=(y[q[U]>>24&255]^re>>24)&255,ee[4*U+1]=(y[q[(U+1)%4]>>16&255]^re>>16)&255,ee[4*U+2]=(y[q[(U+2)%4]>>8&255]^re>>8)&255,ee[4*U+3]=(y[q[(U+3)%4]&255]^re)&255;return ee},X.prototype.decrypt=function(u){if(u.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var w=this._Kd.length-1,V=[0,0,0,0],q=W(u),U=0;U<4;U++)q[U]^=this._Kd[0][U];for(var G=1;G<w;G++){for(var U=0;U<4;U++)V[U]=k[q[U]>>24&255]^C[q[(U+3)%4]>>16&255]^B[q[(U+2)%4]>>8&255]^N[q[(U+1)%4]&255]^this._Kd[G][U];q=V.slice()}for(var ee=i(16),re,U=0;U<4;U++)re=this._Kd[w][U],ee[4*U]=(g[q[U]>>24&255]^re>>24)&255,ee[4*U+1]=(g[q[(U+3)%4]>>16&255]^re>>16)&255,ee[4*U+2]=(g[q[(U+2)%4]>>8&255]^re>>8)&255,ee[4*U+3]=(g[q[(U+1)%4]&255]^re)&255;return ee};var S=o(function(u){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new X(u)},"ModeOfOperationECB");S.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16)s(u,V,0,q,q+16),V=this._aes.encrypt(V),s(V,w,q);return w},S.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16)s(u,V,0,q,q+16),V=this._aes.decrypt(V),s(V,w,q);return w};var f=o(function(u,w){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(w,!0),this._aes=new X(u)},"ModeOfOperationCBC");f.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16){s(u,V,0,q,q+16);for(var U=0;U<16;U++)V[U]^=this._lastCipherblock[U];this._lastCipherblock=this._aes.encrypt(V),s(this._lastCipherblock,w,q)}return w},f.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16){s(u,V,0,q,q+16),V=this._aes.decrypt(V);for(var U=0;U<16;U++)w[q+U]=V[U]^this._lastCipherblock[U];s(u,this._lastCipherblock,0,q,q+16)}return w};var d=o(function(u,w,V){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");V||(V=1),this.segmentSize=V,this._shiftRegister=n(w,!0),this._aes=new X(u)},"ModeOfOperationCFB");d.prototype.encrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var w=n(u,!0),V,q=0;q<w.length;q+=this.segmentSize){V=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)w[q+U]^=V[U];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(w,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return w},d.prototype.decrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var w=n(u,!0),V,q=0;q<w.length;q+=this.segmentSize){V=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)w[q+U]^=V[U];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(u,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return w};var b=o(function(u,w){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(w,!0),this._lastPrecipherIndex=16,this._aes=new X(u)},"ModeOfOperationOFB");b.prototype.encrypt=function(u){for(var w=n(u,!0),V=0;V<w.length;V++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),w[V]^=this._lastPrecipher[this._lastPrecipherIndex++];return w},b.prototype.decrypt=b.prototype.encrypt;var x=o(function(u){if(!(this instanceof x))throw Error("Counter must be instanitated with `new`");u!==0&&!u&&(u=1),typeof u=="number"?(this._counter=i(16),this.setValue(u)):this.setBytes(u)},"Counter");x.prototype.setValue=function(u){if(typeof u!="number"||parseInt(u)!=u)throw new Error("invalid counter value (must be an integer)");for(var w=15;w>=0;--w)this._counter[w]=u%256,u=u>>8},x.prototype.setBytes=function(u){if(u=n(u,!0),u.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=u},x.prototype.increment=function(){for(var u=15;u>=0;u--)if(this._counter[u]===255)this._counter[u]=0;else{this._counter[u]++;break}};var _=o(function(u,w){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",w instanceof x||(w=new x(w)),this._counter=w,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new X(u)},"ModeOfOperationCTR");_.prototype.encrypt=function(u){for(var w=n(u,!0),V=0;V<w.length;V++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),w[V]^=this._remainingCounter[this._remainingCounterIndex++];return w},_.prototype.decrypt=_.prototype.encrypt;function A(u){u=n(u,!0);var w=16-u.length%16,V=i(u.length+w);s(u,V);for(var q=u.length;q<V.length;q++)V[q]=w;return V}o(A,"pkcs7pad");function I(u){if(u=n(u,!0),u.length<16)throw new Error("PKCS#7 invalid length");var w=u[u.length-1];if(w>16)throw new Error("PKCS#7 padding byte out of range");for(var V=u.length-w,q=0;q<w;q++)if(u[V+q]!==w)throw new Error("PKCS#7 invalid padding byte");var U=i(V);return s(u,U,0,0,V),U}o(I,"pkcs7strip");var v={AES:X,Counter:x,ModeOfOperation:{ecb:S,cbc:f,cfb:d,ofb:b,ctr:_},utils:{hex:c,utf8:a},padding:{pkcs7:{pad:A,strip:I}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof hH<"u"?l1e.exports=v:typeof define=="function"&&define.amd?define(v):(t.aesjs&&(v._aesjs=t.aesjs),t.aesjs=v)})(hH)});var m1e=j((_H,p1e)=>{"use strict";p();m();(function(t){function r(T){let O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),M=1779033703,k=3144134277,C=1013904242,B=2773480762,N=1359893119,P=2600822924,H=528734635,F=1541459225,Z=new Uint32Array(64);function W(_){let A=0,I=_.length;for(;I>=64;){let v=M,u=k,w=C,V=B,q=N,U=P,G=H,ee=F,re,Oe,ae,le,ye;for(Oe=0;Oe<16;Oe++)ae=A+Oe*4,Z[Oe]=(_[ae]&255)<<24|(_[ae+1]&255)<<16|(_[ae+2]&255)<<8|_[ae+3]&255;for(Oe=16;Oe<64;Oe++)re=Z[Oe-2],le=(re>>>17|re<<15)^(re>>>19|re<<13)^re>>>10,re=Z[Oe-15],ye=(re>>>7|re<<25)^(re>>>18|re<<14)^re>>>3,Z[Oe]=(le+Z[Oe-7]|0)+(ye+Z[Oe-16]|0)|0;for(Oe=0;Oe<64;Oe++)le=(((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&U^~q&G)|0)+(ee+(O[Oe]+Z[Oe]|0)|0)|0,ye=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&u^v&w^u&w)|0,ee=G,G=U,U=q,q=V+le|0,V=w,w=u,u=v,v=le+ye|0;M=M+v|0,k=k+u|0,C=C+w|0,B=B+V|0,N=N+q|0,P=P+U|0,H=H+G|0,F=F+ee|0,A+=64,I-=64}}o(W,"blocks"),W(T);let X,S=T.length%64,f=T.length/536870912|0,d=T.length<<3,b=S<56?56:120,x=T.slice(T.length-S,T.length);for(x.push(128),X=S+1;X<b;X++)x.push(0);return x.push(f>>>24&255),x.push(f>>>16&255),x.push(f>>>8&255),x.push(f>>>0&255),x.push(d>>>24&255),x.push(d>>>16&255),x.push(d>>>8&255),x.push(d>>>0&255),W(x),[M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255]}o(r,"SHA256");function n(T,O,M){T=T.length<=64?T:r(T);let k=64+O.length+4,C=new Array(k),B=new Array(64),N,P=[];for(N=0;N<64;N++)C[N]=54;for(N=0;N<T.length;N++)C[N]^=T[N];for(N=0;N<O.length;N++)C[64+N]=O[N];for(N=k-4;N<k;N++)C[N]=0;for(N=0;N<64;N++)B[N]=92;for(N=0;N<T.length;N++)B[N]^=T[N];function H(){for(let F=k-1;F>=k-4;F--){if(C[F]++,C[F]<=255)return;C[F]=0}}for(o(H,"incrementCounter");M>=32;)H(),P=P.concat(r(B.concat(r(C)))),M-=32;return M>0&&(H(),P=P.concat(r(B.concat(r(C))).slice(0,M))),P}o(n,"PBKDF2_HMAC_SHA256_OneIter");function i(T,O,M,k,C){let B;for(l(T,(2*M-1)*16,C,0,16),B=0;B<2*M;B++)c(T,B*16,C,16),a(C,k),l(C,0,T,O+B*16,16);for(B=0;B<M;B++)l(T,O+B*2*16,T,B*16,16);for(B=0;B<M;B++)l(T,O+(B*2+1)*16,T,(B+M)*16,16)}o(i,"blockmix_salsa8");function s(T,O){return T<<O|T>>>32-O}o(s,"R");function a(T,O){l(T,0,O,0,16);for(let M=8;M>0;M-=2)O[4]^=s(O[0]+O[12],7),O[8]^=s(O[4]+O[0],9),O[12]^=s(O[8]+O[4],13),O[0]^=s(O[12]+O[8],18),O[9]^=s(O[5]+O[1],7),O[13]^=s(O[9]+O[5],9),O[1]^=s(O[13]+O[9],13),O[5]^=s(O[1]+O[13],18),O[14]^=s(O[10]+O[6],7),O[2]^=s(O[14]+O[10],9),O[6]^=s(O[2]+O[14],13),O[10]^=s(O[6]+O[2],18),O[3]^=s(O[15]+O[11],7),O[7]^=s(O[3]+O[15],9),O[11]^=s(O[7]+O[3],13),O[15]^=s(O[11]+O[7],18),O[1]^=s(O[0]+O[3],7),O[2]^=s(O[1]+O[0],9),O[3]^=s(O[2]+O[1],13),O[0]^=s(O[3]+O[2],18),O[6]^=s(O[5]+O[4],7),O[7]^=s(O[6]+O[5],9),O[4]^=s(O[7]+O[6],13),O[5]^=s(O[4]+O[7],18),O[11]^=s(O[10]+O[9],7),O[8]^=s(O[11]+O[10],9),O[9]^=s(O[8]+O[11],13),O[10]^=s(O[9]+O[8],18),O[12]^=s(O[15]+O[14],7),O[13]^=s(O[12]+O[15],9),O[14]^=s(O[13]+O[12],13),O[15]^=s(O[14]+O[13],18);for(let M=0;M<16;++M)T[M]+=O[M]}o(a,"salsa20_8");function c(T,O,M,k){for(let C=0;C<k;C++)M[C]^=T[O+C]}o(c,"blockxor");function l(T,O,M,k,C){for(;C--;)M[k++]=T[O++]}o(l,"arraycopy");function h(T){if(!T||typeof T.length!="number")return!1;for(let O=0;O<T.length;O++){let M=T[O];if(typeof M!="number"||M%1||M<0||M>=256)return!1}return!0}o(h,"checkBufferish");function y(T,O){if(typeof T!="number"||T%1)throw new Error("invalid "+O);return T}o(y,"ensureInteger");function g(T,O,M,k,C,B,N){if(M=y(M,"N"),k=y(k,"r"),C=y(C,"p"),B=y(B,"dkLen"),M===0||M&M-1)throw new Error("N must be power of 2");if(M>2147483647/128/k)throw new Error("N too large");if(k>2147483647/128/C)throw new Error("r too large");if(!h(T))throw new Error("password must be an array or buffer");if(T=Array.prototype.slice.call(T),!h(O))throw new Error("salt must be an array or buffer");O=Array.prototype.slice.call(O);let P=n(T,O,C*128*k),H=new Uint32Array(C*32*k);for(let q=0;q<H.length;q++){let U=q*4;H[q]=(P[U+3]&255)<<24|(P[U+2]&255)<<16|(P[U+1]&255)<<8|(P[U+0]&255)<<0}let F=new Uint32Array(64*k),Z=new Uint32Array(32*k*M),W=32*k,X=new Uint32Array(16),S=new Uint32Array(16),f=C*M*2,d=0,b=null,x=!1,_=0,A=0,I,v,u=N?parseInt(1e3/k):4294967295,w=typeof setImmediate<"u"?setImmediate:setTimeout,V=o(function(){if(x)return N(new Error("cancelled"),d/f);let q;switch(_){case 0:v=A*32*k,l(H,v,F,0,W),_=1,I=0;case 1:q=M-I,q>u&&(q=u);for(let G=0;G<q;G++)l(F,0,Z,(I+G)*W,W),i(F,W,k,X,S);if(I+=q,d+=q,N){let G=parseInt(1e3*d/f);if(G!==b){if(x=N(null,d/f),x)break;b=G}}if(I<M)break;I=0,_=2;case 2:q=M-I,q>u&&(q=u);for(let G=0;G<q;G++){let ee=(2*k-1)*16,re=F[ee]&M-1;c(Z,re*W,F,W),i(F,W,k,X,S)}if(I+=q,d+=q,N){let G=parseInt(1e3*d/f);if(G!==b){if(x=N(null,d/f),x)break;b=G}}if(I<M)break;if(l(F,0,H,v,W),A++,A<C){_=0;break}P=[];for(let G=0;G<H.length;G++)P.push(H[G]>>0&255),P.push(H[G]>>8&255),P.push(H[G]>>16&255),P.push(H[G]>>24&255);let U=n(T,P,B);return N&&N(null,1,U),U}N&&w(V)},"incrementalSMix");if(!N)for(;;){let q=V();if(q!=null)return q}V()}o(g,"_scrypt");let E={scrypt:o(function(T,O,M,k,C,B,N){return new Promise(function(P,H){let F=0;N&&N(0),g(T,O,M,k,C,B,function(Z,W,X){if(Z)H(Z);else if(X)N&&F!==1&&N(1),P(new Uint8Array(X));else if(N&&W!==F)return F=W,N(W)})})},"scrypt"),syncScrypt:o(function(T,O,M,k,C,B){return new Uint8Array(g(T,O,M,k,C,B))},"syncScrypt")};typeof _H<"u"?p1e.exports=E:typeof define=="function"&&define.amd?define(E):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=E)})(_H)});var Ev=j(wv=>{"use strict";p();m();Object.defineProperty(wv,"__esModule",{value:!0});wv.bech32m=wv.bech32=void 0;var gR="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Fbe={};for(let t=0;t<gR.length;t++){let e=gR.charAt(t);Fbe[e]=t}function _v(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}o(_v,"polymodStep");function Ube(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=_v(e)^n>>5}e=_v(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=_v(e)^n&31}return e}o(Ube,"prefixChk");function Iq(t,e,r,n){let i=0,s=0,a=(1<<r)-1,c=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,c.push(i>>s&a);if(n)s>0&&c.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return c}o(Iq,"convert");function nnt(t){return Iq(t,8,5,!0)}o(nnt,"toWords");function int(t){let e=Iq(t,5,8,!1);if(Array.isArray(e))return e}o(int,"fromWordsUnsafe");function ont(t){let e=Iq(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}o(ont,"fromWords");function Hbe(t){let e;t==="bech32"?e=1:e=734539939;function r(a,c,l){if(l=l||90,a.length+7+c.length>l)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let h=Ube(a);if(typeof h=="string")throw new Error(h);let y=a+"1";for(let g=0;g<c.length;++g){let E=c[g];if(E>>5)throw new Error("Non 5-bit word");h=_v(h)^E,y+=gR.charAt(E)}for(let g=0;g<6;++g)h=_v(h);h^=e;for(let g=0;g<6;++g){let E=h>>(5-g)*5&31;y+=gR.charAt(E)}return y}o(r,"encode");function n(a,c){if(c=c||90,a.length<8)return a+" too short";if(a.length>c)return"Exceeds length limit";let l=a.toLowerCase(),h=a.toUpperCase();if(a!==l&&a!==h)return"Mixed-case string "+a;a=l;let y=a.lastIndexOf("1");if(y===-1)return"No separator character for "+a;if(y===0)return"Missing prefix for "+a;let g=a.slice(0,y),E=a.slice(y+1);if(E.length<6)return"Data too short";let T=Ube(g);if(typeof T=="string")return T;let O=[];for(let M=0;M<E.length;++M){let k=E.charAt(M),C=Fbe[k];if(C===void 0)return"Unknown character "+k;T=_v(T)^C,!(M+6>=E.length)&&O.push(C)}return T!==e?"Invalid checksum for "+a:{prefix:g,words:O}}o(n,"__decode");function i(a,c){let l=n(a,c);if(typeof l=="object")return l}o(i,"decodeUnsafe");function s(a,c){let l=n(a,c);if(typeof l=="object")return l;throw new Error(l)}return o(s,"decode"),{decodeUnsafe:i,decode:s,encode:r,toWords:nnt,fromWordsUnsafe:int,fromWords:ont}}o(Hbe,"getLibraryFromEncoding");wv.bech32=Hbe("bech32");wv.bech32m=Hbe("bech32m")});var Yh=j((por,bR)=>{p();m();(function(t){"use strict";var e=o(function(z){var $,K=new Float64Array(16);if(z)for($=0;$<z.length;$++)K[$]=z[$];return K},"gf"),r=o(function(){throw new Error("no PRNG")},"randombytes"),n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(z,$,K,D){z[$]=K>>24&255,z[$+1]=K>>16&255,z[$+2]=K>>8&255,z[$+3]=K&255,z[$+4]=D>>24&255,z[$+5]=D>>16&255,z[$+6]=D>>8&255,z[$+7]=D&255}o(T,"ts64");function O(z,$,K,D,Y){var te,me=0;for(te=0;te<Y;te++)me|=z[$+te]^K[D+te];return(1&me-1>>>8)-1}o(O,"vn");function M(z,$,K,D){return O(z,$,K,D,16)}o(M,"crypto_verify_16");function k(z,$,K,D){return O(z,$,K,D,32)}o(k,"crypto_verify_32");function C(z,$,K,D){for(var Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,te=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,nt=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,Pt=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,st=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,xt=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,vt=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,It=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Et=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ct=Y,dt=te,ot=me,ft=se,ut=ue,rt=lt,_e=nt,we=Pt,tt=st,Xe=xt,Ze=vt,it=It,Ht=At,hr=_t,br=Et,pr=wt,ce,Cr=0;Cr<20;Cr+=2)ce=ct+Ht|0,ut^=ce<<7|ce>>>25,ce=ut+ct|0,tt^=ce<<9|ce>>>23,ce=tt+ut|0,Ht^=ce<<13|ce>>>19,ce=Ht+tt|0,ct^=ce<<18|ce>>>14,ce=rt+dt|0,Xe^=ce<<7|ce>>>25,ce=Xe+rt|0,hr^=ce<<9|ce>>>23,ce=hr+Xe|0,dt^=ce<<13|ce>>>19,ce=dt+hr|0,rt^=ce<<18|ce>>>14,ce=Ze+_e|0,br^=ce<<7|ce>>>25,ce=br+Ze|0,ot^=ce<<9|ce>>>23,ce=ot+br|0,_e^=ce<<13|ce>>>19,ce=_e+ot|0,Ze^=ce<<18|ce>>>14,ce=pr+it|0,ft^=ce<<7|ce>>>25,ce=ft+pr|0,we^=ce<<9|ce>>>23,ce=we+ft|0,it^=ce<<13|ce>>>19,ce=it+we|0,pr^=ce<<18|ce>>>14,ce=ct+ft|0,dt^=ce<<7|ce>>>25,ce=dt+ct|0,ot^=ce<<9|ce>>>23,ce=ot+dt|0,ft^=ce<<13|ce>>>19,ce=ft+ot|0,ct^=ce<<18|ce>>>14,ce=rt+ut|0,_e^=ce<<7|ce>>>25,ce=_e+rt|0,we^=ce<<9|ce>>>23,ce=we+_e|0,ut^=ce<<13|ce>>>19,ce=ut+we|0,rt^=ce<<18|ce>>>14,ce=Ze+Xe|0,it^=ce<<7|ce>>>25,ce=it+Ze|0,tt^=ce<<9|ce>>>23,ce=tt+it|0,Xe^=ce<<13|ce>>>19,ce=Xe+tt|0,Ze^=ce<<18|ce>>>14,ce=pr+br|0,Ht^=ce<<7|ce>>>25,ce=Ht+pr|0,hr^=ce<<9|ce>>>23,ce=hr+Ht|0,br^=ce<<13|ce>>>19,ce=br+hr|0,pr^=ce<<18|ce>>>14;ct=ct+Y|0,dt=dt+te|0,ot=ot+me|0,ft=ft+se|0,ut=ut+ue|0,rt=rt+lt|0,_e=_e+nt|0,we=we+Pt|0,tt=tt+st|0,Xe=Xe+xt|0,Ze=Ze+vt|0,it=it+It|0,Ht=Ht+At|0,hr=hr+_t|0,br=br+Et|0,pr=pr+wt|0,z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=dt>>>0&255,z[5]=dt>>>8&255,z[6]=dt>>>16&255,z[7]=dt>>>24&255,z[8]=ot>>>0&255,z[9]=ot>>>8&255,z[10]=ot>>>16&255,z[11]=ot>>>24&255,z[12]=ft>>>0&255,z[13]=ft>>>8&255,z[14]=ft>>>16&255,z[15]=ft>>>24&255,z[16]=ut>>>0&255,z[17]=ut>>>8&255,z[18]=ut>>>16&255,z[19]=ut>>>24&255,z[20]=rt>>>0&255,z[21]=rt>>>8&255,z[22]=rt>>>16&255,z[23]=rt>>>24&255,z[24]=_e>>>0&255,z[25]=_e>>>8&255,z[26]=_e>>>16&255,z[27]=_e>>>24&255,z[28]=we>>>0&255,z[29]=we>>>8&255,z[30]=we>>>16&255,z[31]=we>>>24&255,z[32]=tt>>>0&255,z[33]=tt>>>8&255,z[34]=tt>>>16&255,z[35]=tt>>>24&255,z[36]=Xe>>>0&255,z[37]=Xe>>>8&255,z[38]=Xe>>>16&255,z[39]=Xe>>>24&255,z[40]=Ze>>>0&255,z[41]=Ze>>>8&255,z[42]=Ze>>>16&255,z[43]=Ze>>>24&255,z[44]=it>>>0&255,z[45]=it>>>8&255,z[46]=it>>>16&255,z[47]=it>>>24&255,z[48]=Ht>>>0&255,z[49]=Ht>>>8&255,z[50]=Ht>>>16&255,z[51]=Ht>>>24&255,z[52]=hr>>>0&255,z[53]=hr>>>8&255,z[54]=hr>>>16&255,z[55]=hr>>>24&255,z[56]=br>>>0&255,z[57]=br>>>8&255,z[58]=br>>>16&255,z[59]=br>>>24&255,z[60]=pr>>>0&255,z[61]=pr>>>8&255,z[62]=pr>>>16&255,z[63]=pr>>>24&255}o(C,"core_salsa20");function B(z,$,K,D){for(var Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,te=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,nt=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,Pt=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,st=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,xt=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,vt=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,It=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Et=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ct=Y,dt=te,ot=me,ft=se,ut=ue,rt=lt,_e=nt,we=Pt,tt=st,Xe=xt,Ze=vt,it=It,Ht=At,hr=_t,br=Et,pr=wt,ce,Cr=0;Cr<20;Cr+=2)ce=ct+Ht|0,ut^=ce<<7|ce>>>25,ce=ut+ct|0,tt^=ce<<9|ce>>>23,ce=tt+ut|0,Ht^=ce<<13|ce>>>19,ce=Ht+tt|0,ct^=ce<<18|ce>>>14,ce=rt+dt|0,Xe^=ce<<7|ce>>>25,ce=Xe+rt|0,hr^=ce<<9|ce>>>23,ce=hr+Xe|0,dt^=ce<<13|ce>>>19,ce=dt+hr|0,rt^=ce<<18|ce>>>14,ce=Ze+_e|0,br^=ce<<7|ce>>>25,ce=br+Ze|0,ot^=ce<<9|ce>>>23,ce=ot+br|0,_e^=ce<<13|ce>>>19,ce=_e+ot|0,Ze^=ce<<18|ce>>>14,ce=pr+it|0,ft^=ce<<7|ce>>>25,ce=ft+pr|0,we^=ce<<9|ce>>>23,ce=we+ft|0,it^=ce<<13|ce>>>19,ce=it+we|0,pr^=ce<<18|ce>>>14,ce=ct+ft|0,dt^=ce<<7|ce>>>25,ce=dt+ct|0,ot^=ce<<9|ce>>>23,ce=ot+dt|0,ft^=ce<<13|ce>>>19,ce=ft+ot|0,ct^=ce<<18|ce>>>14,ce=rt+ut|0,_e^=ce<<7|ce>>>25,ce=_e+rt|0,we^=ce<<9|ce>>>23,ce=we+_e|0,ut^=ce<<13|ce>>>19,ce=ut+we|0,rt^=ce<<18|ce>>>14,ce=Ze+Xe|0,it^=ce<<7|ce>>>25,ce=it+Ze|0,tt^=ce<<9|ce>>>23,ce=tt+it|0,Xe^=ce<<13|ce>>>19,ce=Xe+tt|0,Ze^=ce<<18|ce>>>14,ce=pr+br|0,Ht^=ce<<7|ce>>>25,ce=Ht+pr|0,hr^=ce<<9|ce>>>23,ce=hr+Ht|0,br^=ce<<13|ce>>>19,ce=br+hr|0,pr^=ce<<18|ce>>>14;z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=rt>>>0&255,z[5]=rt>>>8&255,z[6]=rt>>>16&255,z[7]=rt>>>24&255,z[8]=Ze>>>0&255,z[9]=Ze>>>8&255,z[10]=Ze>>>16&255,z[11]=Ze>>>24&255,z[12]=pr>>>0&255,z[13]=pr>>>8&255,z[14]=pr>>>16&255,z[15]=pr>>>24&255,z[16]=_e>>>0&255,z[17]=_e>>>8&255,z[18]=_e>>>16&255,z[19]=_e>>>24&255,z[20]=we>>>0&255,z[21]=we>>>8&255,z[22]=we>>>16&255,z[23]=we>>>24&255,z[24]=tt>>>0&255,z[25]=tt>>>8&255,z[26]=tt>>>16&255,z[27]=tt>>>24&255,z[28]=Xe>>>0&255,z[29]=Xe>>>8&255,z[30]=Xe>>>16&255,z[31]=Xe>>>24&255}o(B,"core_hsalsa20");function N(z,$,K,D){C(z,$,K,D)}o(N,"crypto_core_salsa20");function P(z,$,K,D){B(z,$,K,D)}o(P,"crypto_core_hsalsa20");var H=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(z,$,K,D,Y,te,me){var se=new Uint8Array(16),ue=new Uint8Array(64),lt,nt;for(nt=0;nt<16;nt++)se[nt]=0;for(nt=0;nt<8;nt++)se[nt]=te[nt];for(;Y>=64;){for(N(ue,se,me,H),nt=0;nt<64;nt++)z[$+nt]=K[D+nt]^ue[nt];for(lt=1,nt=8;nt<16;nt++)lt=lt+(se[nt]&255)|0,se[nt]=lt&255,lt>>>=8;Y-=64,$+=64,D+=64}if(Y>0)for(N(ue,se,me,H),nt=0;nt<Y;nt++)z[$+nt]=K[D+nt]^ue[nt];return 0}o(F,"crypto_stream_salsa20_xor");function Z(z,$,K,D,Y){var te=new Uint8Array(16),me=new Uint8Array(64),se,ue;for(ue=0;ue<16;ue++)te[ue]=0;for(ue=0;ue<8;ue++)te[ue]=D[ue];for(;K>=64;){for(N(me,te,Y,H),ue=0;ue<64;ue++)z[$+ue]=me[ue];for(se=1,ue=8;ue<16;ue++)se=se+(te[ue]&255)|0,te[ue]=se&255,se>>>=8;K-=64,$+=64}if(K>0)for(N(me,te,Y,H),ue=0;ue<K;ue++)z[$+ue]=me[ue];return 0}o(Z,"crypto_stream_salsa20");function W(z,$,K,D,Y){var te=new Uint8Array(32);P(te,D,Y,H);for(var me=new Uint8Array(8),se=0;se<8;se++)me[se]=D[se+16];return Z(z,$,K,me,te)}o(W,"crypto_stream");function X(z,$,K,D,Y,te,me){var se=new Uint8Array(32);P(se,te,me,H);for(var ue=new Uint8Array(8),lt=0;lt<8;lt++)ue[lt]=te[lt+16];return F(z,$,K,D,Y,ue,se)}o(X,"crypto_stream_xor");var S=o(function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var $,K,D,Y,te,me,se,ue;$=z[0]&255|(z[1]&255)<<8,this.r[0]=$&8191,K=z[2]&255|(z[3]&255)<<8,this.r[1]=($>>>13|K<<3)&8191,D=z[4]&255|(z[5]&255)<<8,this.r[2]=(K>>>10|D<<6)&7939,Y=z[6]&255|(z[7]&255)<<8,this.r[3]=(D>>>7|Y<<9)&8191,te=z[8]&255|(z[9]&255)<<8,this.r[4]=(Y>>>4|te<<12)&255,this.r[5]=te>>>1&8190,me=z[10]&255|(z[11]&255)<<8,this.r[6]=(te>>>14|me<<2)&8191,se=z[12]&255|(z[13]&255)<<8,this.r[7]=(me>>>11|se<<5)&8065,ue=z[14]&255|(z[15]&255)<<8,this.r[8]=(se>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8},"poly1305");S.prototype.blocks=function(z,$,K){for(var D=this.fin?0:2048,Y,te,me,se,ue,lt,nt,Pt,st,xt,vt,It,At,_t,Et,wt,ct,dt,ot,ft=this.h[0],ut=this.h[1],rt=this.h[2],_e=this.h[3],we=this.h[4],tt=this.h[5],Xe=this.h[6],Ze=this.h[7],it=this.h[8],Ht=this.h[9],hr=this.r[0],br=this.r[1],pr=this.r[2],ce=this.r[3],Cr=this.r[4],en=this.r[5],tn=this.r[6],wr=this.r[7],Yr=this.r[8],Xr=this.r[9];K>=16;)Y=z[$+0]&255|(z[$+1]&255)<<8,ft+=Y&8191,te=z[$+2]&255|(z[$+3]&255)<<8,ut+=(Y>>>13|te<<3)&8191,me=z[$+4]&255|(z[$+5]&255)<<8,rt+=(te>>>10|me<<6)&8191,se=z[$+6]&255|(z[$+7]&255)<<8,_e+=(me>>>7|se<<9)&8191,ue=z[$+8]&255|(z[$+9]&255)<<8,we+=(se>>>4|ue<<12)&8191,tt+=ue>>>1&8191,lt=z[$+10]&255|(z[$+11]&255)<<8,Xe+=(ue>>>14|lt<<2)&8191,nt=z[$+12]&255|(z[$+13]&255)<<8,Ze+=(lt>>>11|nt<<5)&8191,Pt=z[$+14]&255|(z[$+15]&255)<<8,it+=(nt>>>8|Pt<<8)&8191,Ht+=Pt>>>5|D,st=0,xt=st,xt+=ft*hr,xt+=ut*(5*Xr),xt+=rt*(5*Yr),xt+=_e*(5*wr),xt+=we*(5*tn),st=xt>>>13,xt&=8191,xt+=tt*(5*en),xt+=Xe*(5*Cr),xt+=Ze*(5*ce),xt+=it*(5*pr),xt+=Ht*(5*br),st+=xt>>>13,xt&=8191,vt=st,vt+=ft*br,vt+=ut*hr,vt+=rt*(5*Xr),vt+=_e*(5*Yr),vt+=we*(5*wr),st=vt>>>13,vt&=8191,vt+=tt*(5*tn),vt+=Xe*(5*en),vt+=Ze*(5*Cr),vt+=it*(5*ce),vt+=Ht*(5*pr),st+=vt>>>13,vt&=8191,It=st,It+=ft*pr,It+=ut*br,It+=rt*hr,It+=_e*(5*Xr),It+=we*(5*Yr),st=It>>>13,It&=8191,It+=tt*(5*wr),It+=Xe*(5*tn),It+=Ze*(5*en),It+=it*(5*Cr),It+=Ht*(5*ce),st+=It>>>13,It&=8191,At=st,At+=ft*ce,At+=ut*pr,At+=rt*br,At+=_e*hr,At+=we*(5*Xr),st=At>>>13,At&=8191,At+=tt*(5*Yr),At+=Xe*(5*wr),At+=Ze*(5*tn),At+=it*(5*en),At+=Ht*(5*Cr),st+=At>>>13,At&=8191,_t=st,_t+=ft*Cr,_t+=ut*ce,_t+=rt*pr,_t+=_e*br,_t+=we*hr,st=_t>>>13,_t&=8191,_t+=tt*(5*Xr),_t+=Xe*(5*Yr),_t+=Ze*(5*wr),_t+=it*(5*tn),_t+=Ht*(5*en),st+=_t>>>13,_t&=8191,Et=st,Et+=ft*en,Et+=ut*Cr,Et+=rt*ce,Et+=_e*pr,Et+=we*br,st=Et>>>13,Et&=8191,Et+=tt*hr,Et+=Xe*(5*Xr),Et+=Ze*(5*Yr),Et+=it*(5*wr),Et+=Ht*(5*tn),st+=Et>>>13,Et&=8191,wt=st,wt+=ft*tn,wt+=ut*en,wt+=rt*Cr,wt+=_e*ce,wt+=we*pr,st=wt>>>13,wt&=8191,wt+=tt*br,wt+=Xe*hr,wt+=Ze*(5*Xr),wt+=it*(5*Yr),wt+=Ht*(5*wr),st+=wt>>>13,wt&=8191,ct=st,ct+=ft*wr,ct+=ut*tn,ct+=rt*en,ct+=_e*Cr,ct+=we*ce,st=ct>>>13,ct&=8191,ct+=tt*pr,ct+=Xe*br,ct+=Ze*hr,ct+=it*(5*Xr),ct+=Ht*(5*Yr),st+=ct>>>13,ct&=8191,dt=st,dt+=ft*Yr,dt+=ut*wr,dt+=rt*tn,dt+=_e*en,dt+=we*Cr,st=dt>>>13,dt&=8191,dt+=tt*ce,dt+=Xe*pr,dt+=Ze*br,dt+=it*hr,dt+=Ht*(5*Xr),st+=dt>>>13,dt&=8191,ot=st,ot+=ft*Xr,ot+=ut*Yr,ot+=rt*wr,ot+=_e*tn,ot+=we*en,st=ot>>>13,ot&=8191,ot+=tt*Cr,ot+=Xe*ce,ot+=Ze*pr,ot+=it*br,ot+=Ht*hr,st+=ot>>>13,ot&=8191,st=(st<<2)+st|0,st=st+xt|0,xt=st&8191,st=st>>>13,vt+=st,ft=xt,ut=vt,rt=It,_e=At,we=_t,tt=Et,Xe=wt,Ze=ct,it=dt,Ht=ot,$+=16,K-=16;this.h[0]=ft,this.h[1]=ut,this.h[2]=rt,this.h[3]=_e,this.h[4]=we,this.h[5]=tt,this.h[6]=Xe,this.h[7]=Ze,this.h[8]=it,this.h[9]=Ht},S.prototype.finish=function(z,$){var K=new Uint16Array(10),D,Y,te,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(D=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=D,D=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=D*5,D=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=D,D=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=D,K[0]=this.h[0]+5,D=K[0]>>>13,K[0]&=8191,me=1;me<10;me++)K[me]=this.h[me]+D,D=K[me]>>>13,K[me]&=8191;for(K[9]-=8192,Y=(D^1)-1,me=0;me<10;me++)K[me]&=Y;for(Y=~Y,me=0;me<10;me++)this.h[me]=this.h[me]&Y|K[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,te=this.h[0]+this.pad[0],this.h[0]=te&65535,me=1;me<8;me++)te=(this.h[me]+this.pad[me]|0)+(te>>>16)|0,this.h[me]=te&65535;z[$+0]=this.h[0]>>>0&255,z[$+1]=this.h[0]>>>8&255,z[$+2]=this.h[1]>>>0&255,z[$+3]=this.h[1]>>>8&255,z[$+4]=this.h[2]>>>0&255,z[$+5]=this.h[2]>>>8&255,z[$+6]=this.h[3]>>>0&255,z[$+7]=this.h[3]>>>8&255,z[$+8]=this.h[4]>>>0&255,z[$+9]=this.h[4]>>>8&255,z[$+10]=this.h[5]>>>0&255,z[$+11]=this.h[5]>>>8&255,z[$+12]=this.h[6]>>>0&255,z[$+13]=this.h[6]>>>8&255,z[$+14]=this.h[7]>>>0&255,z[$+15]=this.h[7]>>>8&255},S.prototype.update=function(z,$,K){var D,Y;if(this.leftover){for(Y=16-this.leftover,Y>K&&(Y=K),D=0;D<Y;D++)this.buffer[this.leftover+D]=z[$+D];if(K-=Y,$+=Y,this.leftover+=Y,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(K>=16&&(Y=K-K%16,this.blocks(z,$,Y),$+=Y,K-=Y),K){for(D=0;D<K;D++)this.buffer[this.leftover+D]=z[$+D];this.leftover+=K}};function f(z,$,K,D,Y,te){var me=new S(te);return me.update(K,D,Y),me.finish(z,$),0}o(f,"crypto_onetimeauth");function d(z,$,K,D,Y,te){var me=new Uint8Array(16);return f(me,0,K,D,Y,te),M(z,$,me,0)}o(d,"crypto_onetimeauth_verify");function b(z,$,K,D,Y){var te;if(K<32)return-1;for(X(z,0,$,0,K,D,Y),f(z,16,z,32,K-32,z),te=0;te<16;te++)z[te]=0;return 0}o(b,"crypto_secretbox");function x(z,$,K,D,Y){var te,me=new Uint8Array(32);if(K<32||(W(me,0,32,D,Y),d($,16,$,32,K-32,me)!==0))return-1;for(X(z,0,$,0,K,D,Y),te=0;te<32;te++)z[te]=0;return 0}o(x,"crypto_secretbox_open");function _(z,$){var K;for(K=0;K<16;K++)z[K]=$[K]|0}o(_,"set25519");function A(z){var $,K,D=1;for($=0;$<16;$++)K=z[$]+D+65535,D=Math.floor(K/65536),z[$]=K-D*65536;z[0]+=D-1+37*(D-1)}o(A,"car25519");function I(z,$,K){for(var D,Y=~(K-1),te=0;te<16;te++)D=Y&(z[te]^$[te]),z[te]^=D,$[te]^=D}o(I,"sel25519");function v(z,$){var K,D,Y,te=e(),me=e();for(K=0;K<16;K++)me[K]=$[K];for(A(me),A(me),A(me),D=0;D<2;D++){for(te[0]=me[0]-65517,K=1;K<15;K++)te[K]=me[K]-65535-(te[K-1]>>16&1),te[K-1]&=65535;te[15]=me[15]-32767-(te[14]>>16&1),Y=te[15]>>16&1,te[14]&=65535,I(me,te,1-Y)}for(K=0;K<16;K++)z[2*K]=me[K]&255,z[2*K+1]=me[K]>>8}o(v,"pack25519");function u(z,$){var K=new Uint8Array(32),D=new Uint8Array(32);return v(K,z),v(D,$),k(K,0,D,0)}o(u,"neq25519");function w(z){var $=new Uint8Array(32);return v($,z),$[0]&1}o(w,"par25519");function V(z,$){var K;for(K=0;K<16;K++)z[K]=$[2*K]+($[2*K+1]<<8);z[15]&=32767}o(V,"unpack25519");function q(z,$,K){for(var D=0;D<16;D++)z[D]=$[D]+K[D]}o(q,"A");function U(z,$,K){for(var D=0;D<16;D++)z[D]=$[D]-K[D]}o(U,"Z");function G(z,$,K){var D,Y,te=0,me=0,se=0,ue=0,lt=0,nt=0,Pt=0,st=0,xt=0,vt=0,It=0,At=0,_t=0,Et=0,wt=0,ct=0,dt=0,ot=0,ft=0,ut=0,rt=0,_e=0,we=0,tt=0,Xe=0,Ze=0,it=0,Ht=0,hr=0,br=0,pr=0,ce=K[0],Cr=K[1],en=K[2],tn=K[3],wr=K[4],Yr=K[5],Xr=K[6],no=K[7],On=K[8],Ki=K[9],$i=K[10],Gi=K[11],To=K[12],Fs=K[13],Hs=K[14],qs=K[15];D=$[0],te+=D*ce,me+=D*Cr,se+=D*en,ue+=D*tn,lt+=D*wr,nt+=D*Yr,Pt+=D*Xr,st+=D*no,xt+=D*On,vt+=D*Ki,It+=D*$i,At+=D*Gi,_t+=D*To,Et+=D*Fs,wt+=D*Hs,ct+=D*qs,D=$[1],me+=D*ce,se+=D*Cr,ue+=D*en,lt+=D*tn,nt+=D*wr,Pt+=D*Yr,st+=D*Xr,xt+=D*no,vt+=D*On,It+=D*Ki,At+=D*$i,_t+=D*Gi,Et+=D*To,wt+=D*Fs,ct+=D*Hs,dt+=D*qs,D=$[2],se+=D*ce,ue+=D*Cr,lt+=D*en,nt+=D*tn,Pt+=D*wr,st+=D*Yr,xt+=D*Xr,vt+=D*no,It+=D*On,At+=D*Ki,_t+=D*$i,Et+=D*Gi,wt+=D*To,ct+=D*Fs,dt+=D*Hs,ot+=D*qs,D=$[3],ue+=D*ce,lt+=D*Cr,nt+=D*en,Pt+=D*tn,st+=D*wr,xt+=D*Yr,vt+=D*Xr,It+=D*no,At+=D*On,_t+=D*Ki,Et+=D*$i,wt+=D*Gi,ct+=D*To,dt+=D*Fs,ot+=D*Hs,ft+=D*qs,D=$[4],lt+=D*ce,nt+=D*Cr,Pt+=D*en,st+=D*tn,xt+=D*wr,vt+=D*Yr,It+=D*Xr,At+=D*no,_t+=D*On,Et+=D*Ki,wt+=D*$i,ct+=D*Gi,dt+=D*To,ot+=D*Fs,ft+=D*Hs,ut+=D*qs,D=$[5],nt+=D*ce,Pt+=D*Cr,st+=D*en,xt+=D*tn,vt+=D*wr,It+=D*Yr,At+=D*Xr,_t+=D*no,Et+=D*On,wt+=D*Ki,ct+=D*$i,dt+=D*Gi,ot+=D*To,ft+=D*Fs,ut+=D*Hs,rt+=D*qs,D=$[6],Pt+=D*ce,st+=D*Cr,xt+=D*en,vt+=D*tn,It+=D*wr,At+=D*Yr,_t+=D*Xr,Et+=D*no,wt+=D*On,ct+=D*Ki,dt+=D*$i,ot+=D*Gi,ft+=D*To,ut+=D*Fs,rt+=D*Hs,_e+=D*qs,D=$[7],st+=D*ce,xt+=D*Cr,vt+=D*en,It+=D*tn,At+=D*wr,_t+=D*Yr,Et+=D*Xr,wt+=D*no,ct+=D*On,dt+=D*Ki,ot+=D*$i,ft+=D*Gi,ut+=D*To,rt+=D*Fs,_e+=D*Hs,we+=D*qs,D=$[8],xt+=D*ce,vt+=D*Cr,It+=D*en,At+=D*tn,_t+=D*wr,Et+=D*Yr,wt+=D*Xr,ct+=D*no,dt+=D*On,ot+=D*Ki,ft+=D*$i,ut+=D*Gi,rt+=D*To,_e+=D*Fs,we+=D*Hs,tt+=D*qs,D=$[9],vt+=D*ce,It+=D*Cr,At+=D*en,_t+=D*tn,Et+=D*wr,wt+=D*Yr,ct+=D*Xr,dt+=D*no,ot+=D*On,ft+=D*Ki,ut+=D*$i,rt+=D*Gi,_e+=D*To,we+=D*Fs,tt+=D*Hs,Xe+=D*qs,D=$[10],It+=D*ce,At+=D*Cr,_t+=D*en,Et+=D*tn,wt+=D*wr,ct+=D*Yr,dt+=D*Xr,ot+=D*no,ft+=D*On,ut+=D*Ki,rt+=D*$i,_e+=D*Gi,we+=D*To,tt+=D*Fs,Xe+=D*Hs,Ze+=D*qs,D=$[11],At+=D*ce,_t+=D*Cr,Et+=D*en,wt+=D*tn,ct+=D*wr,dt+=D*Yr,ot+=D*Xr,ft+=D*no,ut+=D*On,rt+=D*Ki,_e+=D*$i,we+=D*Gi,tt+=D*To,Xe+=D*Fs,Ze+=D*Hs,it+=D*qs,D=$[12],_t+=D*ce,Et+=D*Cr,wt+=D*en,ct+=D*tn,dt+=D*wr,ot+=D*Yr,ft+=D*Xr,ut+=D*no,rt+=D*On,_e+=D*Ki,we+=D*$i,tt+=D*Gi,Xe+=D*To,Ze+=D*Fs,it+=D*Hs,Ht+=D*qs,D=$[13],Et+=D*ce,wt+=D*Cr,ct+=D*en,dt+=D*tn,ot+=D*wr,ft+=D*Yr,ut+=D*Xr,rt+=D*no,_e+=D*On,we+=D*Ki,tt+=D*$i,Xe+=D*Gi,Ze+=D*To,it+=D*Fs,Ht+=D*Hs,hr+=D*qs,D=$[14],wt+=D*ce,ct+=D*Cr,dt+=D*en,ot+=D*tn,ft+=D*wr,ut+=D*Yr,rt+=D*Xr,_e+=D*no,we+=D*On,tt+=D*Ki,Xe+=D*$i,Ze+=D*Gi,it+=D*To,Ht+=D*Fs,hr+=D*Hs,br+=D*qs,D=$[15],ct+=D*ce,dt+=D*Cr,ot+=D*en,ft+=D*tn,ut+=D*wr,rt+=D*Yr,_e+=D*Xr,we+=D*no,tt+=D*On,Xe+=D*Ki,Ze+=D*$i,it+=D*Gi,Ht+=D*To,hr+=D*Fs,br+=D*Hs,pr+=D*qs,te+=38*dt,me+=38*ot,se+=38*ft,ue+=38*ut,lt+=38*rt,nt+=38*_e,Pt+=38*we,st+=38*tt,xt+=38*Xe,vt+=38*Ze,It+=38*it,At+=38*Ht,_t+=38*hr,Et+=38*br,wt+=38*pr,Y=1,D=te+Y+65535,Y=Math.floor(D/65536),te=D-Y*65536,D=me+Y+65535,Y=Math.floor(D/65536),me=D-Y*65536,D=se+Y+65535,Y=Math.floor(D/65536),se=D-Y*65536,D=ue+Y+65535,Y=Math.floor(D/65536),ue=D-Y*65536,D=lt+Y+65535,Y=Math.floor(D/65536),lt=D-Y*65536,D=nt+Y+65535,Y=Math.floor(D/65536),nt=D-Y*65536,D=Pt+Y+65535,Y=Math.floor(D/65536),Pt=D-Y*65536,D=st+Y+65535,Y=Math.floor(D/65536),st=D-Y*65536,D=xt+Y+65535,Y=Math.floor(D/65536),xt=D-Y*65536,D=vt+Y+65535,Y=Math.floor(D/65536),vt=D-Y*65536,D=It+Y+65535,Y=Math.floor(D/65536),It=D-Y*65536,D=At+Y+65535,Y=Math.floor(D/65536),At=D-Y*65536,D=_t+Y+65535,Y=Math.floor(D/65536),_t=D-Y*65536,D=Et+Y+65535,Y=Math.floor(D/65536),Et=D-Y*65536,D=wt+Y+65535,Y=Math.floor(D/65536),wt=D-Y*65536,D=ct+Y+65535,Y=Math.floor(D/65536),ct=D-Y*65536,te+=Y-1+37*(Y-1),Y=1,D=te+Y+65535,Y=Math.floor(D/65536),te=D-Y*65536,D=me+Y+65535,Y=Math.floor(D/65536),me=D-Y*65536,D=se+Y+65535,Y=Math.floor(D/65536),se=D-Y*65536,D=ue+Y+65535,Y=Math.floor(D/65536),ue=D-Y*65536,D=lt+Y+65535,Y=Math.floor(D/65536),lt=D-Y*65536,D=nt+Y+65535,Y=Math.floor(D/65536),nt=D-Y*65536,D=Pt+Y+65535,Y=Math.floor(D/65536),Pt=D-Y*65536,D=st+Y+65535,Y=Math.floor(D/65536),st=D-Y*65536,D=xt+Y+65535,Y=Math.floor(D/65536),xt=D-Y*65536,D=vt+Y+65535,Y=Math.floor(D/65536),vt=D-Y*65536,D=It+Y+65535,Y=Math.floor(D/65536),It=D-Y*65536,D=At+Y+65535,Y=Math.floor(D/65536),At=D-Y*65536,D=_t+Y+65535,Y=Math.floor(D/65536),_t=D-Y*65536,D=Et+Y+65535,Y=Math.floor(D/65536),Et=D-Y*65536,D=wt+Y+65535,Y=Math.floor(D/65536),wt=D-Y*65536,D=ct+Y+65535,Y=Math.floor(D/65536),ct=D-Y*65536,te+=Y-1+37*(Y-1),z[0]=te,z[1]=me,z[2]=se,z[3]=ue,z[4]=lt,z[5]=nt,z[6]=Pt,z[7]=st,z[8]=xt,z[9]=vt,z[10]=It,z[11]=At,z[12]=_t,z[13]=Et,z[14]=wt,z[15]=ct}o(G,"M");function ee(z,$){G(z,$,$)}o(ee,"S");function re(z,$){var K=e(),D;for(D=0;D<16;D++)K[D]=$[D];for(D=253;D>=0;D--)ee(K,K),D!==2&&D!==4&&G(K,K,$);for(D=0;D<16;D++)z[D]=K[D]}o(re,"inv25519");function Oe(z,$){var K=e(),D;for(D=0;D<16;D++)K[D]=$[D];for(D=250;D>=0;D--)ee(K,K),D!==1&&G(K,K,$);for(D=0;D<16;D++)z[D]=K[D]}o(Oe,"pow2523");function ae(z,$,K){var D=new Uint8Array(32),Y=new Float64Array(80),te,me,se=e(),ue=e(),lt=e(),nt=e(),Pt=e(),st=e();for(me=0;me<31;me++)D[me]=$[me];for(D[31]=$[31]&127|64,D[0]&=248,V(Y,K),me=0;me<16;me++)ue[me]=Y[me],nt[me]=se[me]=lt[me]=0;for(se[0]=nt[0]=1,me=254;me>=0;--me)te=D[me>>>3]>>>(me&7)&1,I(se,ue,te),I(lt,nt,te),q(Pt,se,lt),U(se,se,lt),q(lt,ue,nt),U(ue,ue,nt),ee(nt,Pt),ee(st,se),G(se,lt,se),G(lt,ue,Pt),q(Pt,se,lt),U(se,se,lt),ee(ue,se),U(lt,nt,st),G(se,lt,c),q(se,se,nt),G(lt,lt,se),G(se,nt,st),G(nt,ue,Y),ee(ue,Pt),I(se,ue,te),I(lt,nt,te);for(me=0;me<16;me++)Y[me+16]=se[me],Y[me+32]=lt[me],Y[me+48]=ue[me],Y[me+64]=nt[me];var xt=Y.subarray(32),vt=Y.subarray(16);return re(xt,xt),G(vt,vt,xt),v(z,vt),0}o(ae,"crypto_scalarmult");function le(z,$){return ae(z,$,i)}o(le,"crypto_scalarmult_base");function ye(z,$){return r($,32),le(z,$)}o(ye,"crypto_box_keypair");function he(z,$,K){var D=new Uint8Array(32);return ae(D,K,$),P(z,n,D,H)}o(he,"crypto_box_beforenm");var ge=b,lr=x;function Ae(z,$,K,D,Y,te){var me=new Uint8Array(32);return he(me,Y,te),ge(z,$,K,D,me)}o(Ae,"crypto_box");function Me(z,$,K,D,Y,te){var me=new Uint8Array(32);return he(me,Y,te),lr(z,$,K,D,me)}o(Me,"crypto_box_open");var Kn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qe(z,$,K,D){for(var Y=new Int32Array(16),te=new Int32Array(16),me,se,ue,lt,nt,Pt,st,xt,vt,It,At,_t,Et,wt,ct,dt,ot,ft,ut,rt,_e,we,tt,Xe,Ze,it,Ht=z[0],hr=z[1],br=z[2],pr=z[3],ce=z[4],Cr=z[5],en=z[6],tn=z[7],wr=$[0],Yr=$[1],Xr=$[2],no=$[3],On=$[4],Ki=$[5],$i=$[6],Gi=$[7],To=0;D>=128;){for(ut=0;ut<16;ut++)rt=8*ut+To,Y[ut]=K[rt+0]<<24|K[rt+1]<<16|K[rt+2]<<8|K[rt+3],te[ut]=K[rt+4]<<24|K[rt+5]<<16|K[rt+6]<<8|K[rt+7];for(ut=0;ut<80;ut++)if(me=Ht,se=hr,ue=br,lt=pr,nt=ce,Pt=Cr,st=en,xt=tn,vt=wr,It=Yr,At=Xr,_t=no,Et=On,wt=Ki,ct=$i,dt=Gi,_e=tn,we=Gi,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=(ce>>>14|On<<18)^(ce>>>18|On<<14)^(On>>>9|ce<<23),we=(On>>>14|ce<<18)^(On>>>18|ce<<14)^(ce>>>9|On<<23),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=ce&Cr^~ce&en,we=On&Ki^~On&$i,tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=Kn[ut*2],we=Kn[ut*2+1],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=Y[ut%16],we=te[ut%16],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,ot=Ze&65535|it<<16,ft=tt&65535|Xe<<16,_e=ot,we=ft,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=(Ht>>>28|wr<<4)^(wr>>>2|Ht<<30)^(wr>>>7|Ht<<25),we=(wr>>>28|Ht<<4)^(Ht>>>2|wr<<30)^(Ht>>>7|wr<<25),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=Ht&hr^Ht&br^hr&br,we=wr&Yr^wr&Xr^Yr&Xr,tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,xt=Ze&65535|it<<16,dt=tt&65535|Xe<<16,_e=lt,we=_t,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=ot,we=ft,tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,lt=Ze&65535|it<<16,_t=tt&65535|Xe<<16,hr=me,br=se,pr=ue,ce=lt,Cr=nt,en=Pt,tn=st,Ht=xt,Yr=vt,Xr=It,no=At,On=_t,Ki=Et,$i=wt,Gi=ct,wr=dt,ut%16===15)for(rt=0;rt<16;rt++)_e=Y[rt],we=te[rt],tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=Y[(rt+9)%16],we=te[(rt+9)%16],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,ot=Y[(rt+1)%16],ft=te[(rt+1)%16],_e=(ot>>>1|ft<<31)^(ot>>>8|ft<<24)^ot>>>7,we=(ft>>>1|ot<<31)^(ft>>>8|ot<<24)^(ft>>>7|ot<<25),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,ot=Y[(rt+14)%16],ft=te[(rt+14)%16],_e=(ot>>>19|ft<<13)^(ft>>>29|ot<<3)^ot>>>6,we=(ft>>>19|ot<<13)^(ot>>>29|ft<<3)^(ft>>>6|ot<<26),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,Y[rt]=Ze&65535|it<<16,te[rt]=tt&65535|Xe<<16;_e=Ht,we=wr,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[0],we=$[0],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[0]=Ht=Ze&65535|it<<16,$[0]=wr=tt&65535|Xe<<16,_e=hr,we=Yr,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[1],we=$[1],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[1]=hr=Ze&65535|it<<16,$[1]=Yr=tt&65535|Xe<<16,_e=br,we=Xr,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[2],we=$[2],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[2]=br=Ze&65535|it<<16,$[2]=Xr=tt&65535|Xe<<16,_e=pr,we=no,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[3],we=$[3],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[3]=pr=Ze&65535|it<<16,$[3]=no=tt&65535|Xe<<16,_e=ce,we=On,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[4],we=$[4],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[4]=ce=Ze&65535|it<<16,$[4]=On=tt&65535|Xe<<16,_e=Cr,we=Ki,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[5],we=$[5],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[5]=Cr=Ze&65535|it<<16,$[5]=Ki=tt&65535|Xe<<16,_e=en,we=$i,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[6],we=$[6],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[6]=en=Ze&65535|it<<16,$[6]=$i=tt&65535|Xe<<16,_e=tn,we=Gi,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[7],we=$[7],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[7]=tn=Ze&65535|it<<16,$[7]=Gi=tt&65535|Xe<<16,To+=128,D-=128}return D}o(qe,"crypto_hashblocks_hl");function ke(z,$,K){var D=new Int32Array(8),Y=new Int32Array(8),te=new Uint8Array(256),me,se=K;for(D[0]=1779033703,D[1]=3144134277,D[2]=1013904242,D[3]=2773480762,D[4]=1359893119,D[5]=2600822924,D[6]=528734635,D[7]=1541459225,Y[0]=4089235720,Y[1]=2227873595,Y[2]=4271175723,Y[3]=1595750129,Y[4]=2917565137,Y[5]=725511199,Y[6]=4215389547,Y[7]=327033209,qe(D,Y,$,K),K%=128,me=0;me<K;me++)te[me]=$[se-K+me];for(te[K]=128,K=256-128*(K<112?1:0),te[K-9]=0,T(te,K-8,se/536870912|0,se<<3),qe(D,Y,te,K),me=0;me<8;me++)T(z,8*me,D[me],Y[me]);return 0}o(ke,"crypto_hash");function $n(z,$){var K=e(),D=e(),Y=e(),te=e(),me=e(),se=e(),ue=e(),lt=e(),nt=e();U(K,z[1],z[0]),U(nt,$[1],$[0]),G(K,K,nt),q(D,z[0],z[1]),q(nt,$[0],$[1]),G(D,D,nt),G(Y,z[3],$[3]),G(Y,Y,h),G(te,z[2],$[2]),q(te,te,te),U(me,D,K),U(se,te,Y),q(ue,te,Y),q(lt,D,K),G(z[0],me,se),G(z[1],lt,ue),G(z[2],ue,se),G(z[3],me,lt)}o($n,"add");function Ue(z,$,K){var D;for(D=0;D<4;D++)I(z[D],$[D],K)}o(Ue,"cswap");function Pe(z,$){var K=e(),D=e(),Y=e();re(Y,$[2]),G(K,$[0],Y),G(D,$[1],Y),v(z,D),z[31]^=w(K)<<7}o(Pe,"pack");function Gn(z,$,K){var D,Y;for(_(z[0],s),_(z[1],a),_(z[2],a),_(z[3],s),Y=255;Y>=0;--Y)D=K[Y/8|0]>>(Y&7)&1,Ue(z,$,D),$n($,z),$n(z,z),Ue(z,$,D)}o(Gn,"scalarmult");function Be(z,$){var K=[e(),e(),e(),e()];_(K[0],y),_(K[1],g),_(K[2],a),G(K[3],y,g),Gn(z,K,$)}o(Be,"scalarbase");function Le(z,$,K){var D=new Uint8Array(64),Y=[e(),e(),e(),e()],te;for(K||r($,32),ke(D,$,32),D[0]&=248,D[31]&=127,D[31]|=64,Be(Y,D),Pe(z,Y),te=0;te<32;te++)$[te+32]=z[te];return 0}o(Le,"crypto_sign_keypair");var Qr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function J(z,$){var K,D,Y,te;for(D=63;D>=32;--D){for(K=0,Y=D-32,te=D-12;Y<te;++Y)$[Y]+=K-16*$[D]*Qr[Y-(D-32)],K=Math.floor(($[Y]+128)/256),$[Y]-=K*256;$[Y]+=K,$[D]=0}for(K=0,Y=0;Y<32;Y++)$[Y]+=K-($[31]>>4)*Qr[Y],K=$[Y]>>8,$[Y]&=255;for(Y=0;Y<32;Y++)$[Y]-=K*Qr[Y];for(D=0;D<32;D++)$[D+1]+=$[D]>>8,z[D]=$[D]&255}o(J,"modL");function Q(z){var $=new Float64Array(64),K;for(K=0;K<64;K++)$[K]=z[K];for(K=0;K<64;K++)z[K]=0;J(z,$)}o(Q,"reduce");function pe(z,$,K,D){var Y=new Uint8Array(64),te=new Uint8Array(64),me=new Uint8Array(64),se,ue,lt=new Float64Array(64),nt=[e(),e(),e(),e()];ke(Y,D,32),Y[0]&=248,Y[31]&=127,Y[31]|=64;var Pt=K+64;for(se=0;se<K;se++)z[64+se]=$[se];for(se=0;se<32;se++)z[32+se]=Y[32+se];for(ke(me,z.subarray(32),K+32),Q(me),Be(nt,me),Pe(z,nt),se=32;se<64;se++)z[se]=D[se];for(ke(te,z,K+64),Q(te),se=0;se<64;se++)lt[se]=0;for(se=0;se<32;se++)lt[se]=me[se];for(se=0;se<32;se++)for(ue=0;ue<32;ue++)lt[se+ue]+=te[se]*Y[ue];return J(z.subarray(32),lt),Pt}o(pe,"crypto_sign");function ne(z,$){var K=e(),D=e(),Y=e(),te=e(),me=e(),se=e(),ue=e();return _(z[2],a),V(z[1],$),ee(Y,z[1]),G(te,Y,l),U(Y,Y,z[2]),q(te,z[2],te),ee(me,te),ee(se,me),G(ue,se,me),G(K,ue,Y),G(K,K,te),Oe(K,K),G(K,K,Y),G(K,K,te),G(K,K,te),G(z[0],K,te),ee(D,z[0]),G(D,D,te),u(D,Y)&&G(z[0],z[0],E),ee(D,z[0]),G(D,D,te),u(D,Y)?-1:(w(z[0])===$[31]>>7&&U(z[0],s,z[0]),G(z[3],z[0],z[1]),0)}o(ne,"unpackneg");function de(z,$,K,D){var Y,te=new Uint8Array(32),me=new Uint8Array(64),se=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(K<64||ne(ue,D))return-1;for(Y=0;Y<K;Y++)z[Y]=$[Y];for(Y=0;Y<32;Y++)z[Y+32]=D[Y];if(ke(me,z,K),Q(me),Gn(se,ue,me),Be(ue,$.subarray(32)),$n(se,ue),Pe(te,se),K-=64,k($,0,te,0)){for(Y=0;Y<K;Y++)z[Y]=0;return-1}for(Y=0;Y<K;Y++)z[Y]=$[Y+64];return K}o(de,"crypto_sign_open");var yt=32,ve=24,Se=32,tr=16,Te=32,Ne=32,ui=32,Fe=32,De=32,po=ve,$e=Se,Ge=tr,Wn=64,He=32,Ve=64,ro=32,je=64;t.lowlevel={crypto_core_hsalsa20:P,crypto_stream_xor:X,crypto_stream:W,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:Z,crypto_onetimeauth:f,crypto_onetimeauth_verify:d,crypto_verify_16:M,crypto_verify_32:k,crypto_secretbox:b,crypto_secretbox_open:x,crypto_scalarmult:ae,crypto_scalarmult_base:le,crypto_box_beforenm:he,crypto_box_afternm:ge,crypto_box:Ae,crypto_box_open:Me,crypto_box_keypair:ye,crypto_hash:ke,crypto_sign:pe,crypto_sign_keypair:Le,crypto_sign_open:de,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:ve,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:tr,crypto_scalarmult_BYTES:Te,crypto_scalarmult_SCALARBYTES:Ne,crypto_box_PUBLICKEYBYTES:ui,crypto_box_SECRETKEYBYTES:Fe,crypto_box_BEFORENMBYTES:De,crypto_box_NONCEBYTES:po,crypto_box_ZEROBYTES:$e,crypto_box_BOXZEROBYTES:Ge,crypto_sign_BYTES:Wn,crypto_sign_PUBLICKEYBYTES:He,crypto_sign_SECRETKEYBYTES:Ve,crypto_sign_SEEDBYTES:ro,crypto_hash_BYTES:je,gf:e,D:l,L:Qr,pack25519:v,unpack25519:V,M:G,A:q,S:ee,Z:U,pow2523:Oe,add:$n,set25519:_,modL:J,scalarmult:Gn,scalarbase:Be};function ze(z,$){if(z.length!==yt)throw new Error("bad key size");if($.length!==ve)throw new Error("bad nonce size")}o(ze,"checkLengths");function Ao(z,$){if(z.length!==ui)throw new Error("bad public key size");if($.length!==Fe)throw new Error("bad secret key size")}o(Ao,"checkBoxLengths");function Ce(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}o(Ce,"checkArrayTypes");function Ke(z){for(var $=0;$<z.length;$++)z[$]=0}o(Ke,"cleanup"),t.randomBytes=function(z){var $=new Uint8Array(z);return r($,z),$},t.secretbox=function(z,$,K){Ce(z,$,K),ze(K,$);for(var D=new Uint8Array(Se+z.length),Y=new Uint8Array(D.length),te=0;te<z.length;te++)D[te+Se]=z[te];return b(Y,D,D.length,$,K),Y.subarray(tr)},t.secretbox.open=function(z,$,K){Ce(z,$,K),ze(K,$);for(var D=new Uint8Array(tr+z.length),Y=new Uint8Array(D.length),te=0;te<z.length;te++)D[te+tr]=z[te];return D.length<32||x(Y,D,D.length,$,K)!==0?null:Y.subarray(Se)},t.secretbox.keyLength=yt,t.secretbox.nonceLength=ve,t.secretbox.overheadLength=tr,t.scalarMult=function(z,$){if(Ce(z,$),z.length!==Ne)throw new Error("bad n size");if($.length!==Te)throw new Error("bad p size");var K=new Uint8Array(Te);return ae(K,z,$),K},t.scalarMult.base=function(z){if(Ce(z),z.length!==Ne)throw new Error("bad n size");var $=new Uint8Array(Te);return le($,z),$},t.scalarMult.scalarLength=Ne,t.scalarMult.groupElementLength=Te,t.box=function(z,$,K,D){var Y=t.box.before(K,D);return t.secretbox(z,$,Y)},t.box.before=function(z,$){Ce(z,$),Ao(z,$);var K=new Uint8Array(De);return he(K,z,$),K},t.box.after=t.secretbox,t.box.open=function(z,$,K,D){var Y=t.box.before(K,D);return t.secretbox.open(z,$,Y)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var z=new Uint8Array(ui),$=new Uint8Array(Fe);return ye(z,$),{publicKey:z,secretKey:$}},t.box.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Fe)throw new Error("bad secret key size");var $=new Uint8Array(ui);return le($,z),{publicKey:$,secretKey:new Uint8Array(z)}},t.box.publicKeyLength=ui,t.box.secretKeyLength=Fe,t.box.sharedKeyLength=De,t.box.nonceLength=po,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(z,$){if(Ce(z,$),$.length!==Ve)throw new Error("bad secret key size");var K=new Uint8Array(Wn+z.length);return pe(K,z,z.length,$),K},t.sign.open=function(z,$){if(Ce(z,$),$.length!==He)throw new Error("bad public key size");var K=new Uint8Array(z.length),D=de(K,z,z.length,$);if(D<0)return null;for(var Y=new Uint8Array(D),te=0;te<Y.length;te++)Y[te]=K[te];return Y},t.sign.detached=function(z,$){for(var K=t.sign(z,$),D=new Uint8Array(Wn),Y=0;Y<D.length;Y++)D[Y]=K[Y];return D},t.sign.detached.verify=function(z,$,K){if(Ce(z,$,K),$.length!==Wn)throw new Error("bad signature size");if(K.length!==He)throw new Error("bad public key size");var D=new Uint8Array(Wn+z.length),Y=new Uint8Array(Wn+z.length),te;for(te=0;te<Wn;te++)D[te]=$[te];for(te=0;te<z.length;te++)D[te+Wn]=z[te];return de(Y,D,D.length,K)>=0},t.sign.keyPair=function(){var z=new Uint8Array(He),$=new Uint8Array(Ve);return Le(z,$),{publicKey:z,secretKey:$}},t.sign.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Ve)throw new Error("bad secret key size");for(var $=new Uint8Array(He),K=0;K<$.length;K++)$[K]=z[32+K];return{publicKey:$,secretKey:new Uint8Array(z)}},t.sign.keyPair.fromSeed=function(z){if(Ce(z),z.length!==ro)throw new Error("bad seed size");for(var $=new Uint8Array(He),K=new Uint8Array(Ve),D=0;D<32;D++)K[D]=z[D];return Le($,K,!0),{publicKey:$,secretKey:K}},t.sign.publicKeyLength=He,t.sign.secretKeyLength=Ve,t.sign.seedLength=ro,t.sign.signatureLength=Wn,t.hash=function(z){Ce(z);var $=new Uint8Array(je);return ke($,z,z.length),$},t.hash.hashLength=je,t.verify=function(z,$){return Ce(z,$),z.length===0||$.length===0||z.length!==$.length?!1:O(z,0,$,0,z.length)===0},t.setPRNG=function(z){r=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var $=65536;t.setPRNG(function(K,D){var Y,te=new Uint8Array(D);for(Y=0;Y<D;Y+=$)z.getRandomValues(te.subarray(Y,Y+Math.min(D-Y,$)));for(Y=0;Y<D;Y++)K[Y]=te[Y];Ke(te)})}else typeof rZ<"u"&&(z=Yb(),z&&z.randomBytes&&t.setPRNG(function(K,D){var Y,te=z.randomBytes(D);for(Y=0;Y<D;Y++)K[Y]=te[Y];Ke(te)}))}()})(typeof bR<"u"&&bR.exports?bR.exports:self.nacl=self.nacl||{})});var Kbe=j(ER=>{"use strict";p();m();Object.defineProperty(ER,"__esModule",{value:!0});ER.crypto=void 0;ER.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Fq=j($t=>{"use strict";p();m();Object.defineProperty($t,"__esModule",{value:!0});$t.wrapXOFConstructorWithOpts=$t.wrapConstructorWithOpts=$t.wrapConstructor=$t.Hash=$t.nextTick=$t.swap32IfBE=$t.byteSwapIfBE=$t.swap8IfBE=$t.isLE=void 0;$t.isBytes=Gbe;$t.anumber=Pq;$t.abytes=Tv;$t.ahash=gnt;$t.aexists=ynt;$t.aoutput=bnt;$t.u8=xnt;$t.u32=vnt;$t.clean=_nt;$t.createView=wnt;$t.rotr=Ent;$t.rotl=Snt;$t.byteSwap=Dq;$t.byteSwap32=Wbe;$t.bytesToHex=Tnt;$t.hexToBytes=Int;$t.asyncLoop=Ont;$t.utf8ToBytes=Uq;$t.bytesToUtf8=Mnt;$t.toBytes=SR;$t.kdfInputToBytes=Nnt;$t.concatBytes=Cnt;$t.checkOpts=knt;$t.createHasher=Xbe;$t.createOptHasher=Zbe;$t.createXOFer=Jbe;$t.randomBytes=Bnt;var Av=Kbe();function Gbe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Gbe,"isBytes");function Pq(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Pq,"anumber");function Tv(t,...e){if(!Gbe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Tv,"abytes");function gnt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pq(t.outputLen),Pq(t.blockLen)}o(gnt,"ahash");function ynt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(ynt,"aexists");function bnt(t,e){Tv(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(bnt,"aoutput");function xnt(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(xnt,"u8");function vnt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(vnt,"u32");function _nt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(_nt,"clean");function wnt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(wnt,"createView");function Ent(t,e){return t<<32-e|t>>>e}o(Ent,"rotr");function Snt(t,e){return t<<e|t>>>32-e>>>0}o(Snt,"rotl");$t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Dq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(Dq,"byteSwap");$t.swap8IfBE=$t.isLE?t=>t:t=>Dq(t);$t.byteSwapIfBE=$t.swap8IfBE;function Wbe(t){for(let e=0;e<t.length;e++)t[e]=Dq(t[e]);return t}o(Wbe,"byteSwap32");$t.swap32IfBE=$t.isLE?t=>t:Wbe;var Ybe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ant=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tnt(t){if(Tv(t),Ybe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ant[t[r]];return e}o(Tnt,"bytesToHex");var Xh={_0:48,_9:57,A:65,F:70,a:97,f:102};function $be(t){if(t>=Xh._0&&t<=Xh._9)return t-Xh._0;if(t>=Xh.A&&t<=Xh.F)return t-(Xh.A-10);if(t>=Xh.a&&t<=Xh.f)return t-(Xh.a-10)}o($be,"asciiToBase16");function Int(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Ybe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=$be(t.charCodeAt(s)),c=$be(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(Int,"hexToBytes");var Rnt=o(async()=>{},"nextTick");$t.nextTick=Rnt;async function Ont(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,$t.nextTick)(),n+=s)}}o(Ont,"asyncLoop");function Uq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Uq,"utf8ToBytes");function Mnt(t){return new TextDecoder().decode(t)}o(Mnt,"bytesToUtf8");function SR(t){return typeof t=="string"&&(t=Uq(t)),Tv(t),t}o(SR,"toBytes");function Nnt(t){return typeof t=="string"&&(t=Uq(t)),Tv(t),t}o(Nnt,"kdfInputToBytes");function Cnt(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Tv(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Cnt,"concatBytes");function knt(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(knt,"checkOpts");var Lq=class{static{o(this,"Hash")}};$t.Hash=Lq;function Xbe(t){let e=o(n=>t().update(SR(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Xbe,"createHasher");function Zbe(t){let e=o((n,i)=>t(i).update(SR(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Zbe,"createOptHasher");function Jbe(t){let e=o((n,i)=>t(i).update(SR(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Jbe,"createXOFer");$t.wrapConstructor=Xbe;$t.wrapConstructorWithOpts=Zbe;$t.wrapXOFConstructorWithOpts=Jbe;function Bnt(t=32){if(Av.crypto&&typeof Av.crypto.getRandomValues=="function")return Av.crypto.getRandomValues(new Uint8Array(t));if(Av.crypto&&typeof Av.crypto.randomBytes=="function")return Uint8Array.from(Av.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(Bnt,"randomBytes")});var exe=j(Fa=>{"use strict";p();m();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.SHA512_IV=Fa.SHA384_IV=Fa.SHA224_IV=Fa.SHA256_IV=Fa.HashMD=void 0;Fa.setBigUint64=Qbe;Fa.Chi=Pnt;Fa.Maj=Lnt;var Sd=Fq();function Qbe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Qbe,"setBigUint64");function Pnt(t,e,r){return t&e^~t&r}o(Pnt,"Chi");function Lnt(t,e,r){return t&e^t&r^e&r}o(Lnt,"Maj");var Hq=class extends Sd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Sd.createView)(this.buffer)}update(e){(0,Sd.aexists)(this),e=(0,Sd.toBytes)(e),(0,Sd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,Sd.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Sd.aexists)(this),(0,Sd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Sd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Qbe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Sd.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Fa.HashMD=Hq;Fa.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Fa.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Fa.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Fa.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var wxe=j(fr=>{"use strict";p();m();Object.defineProperty(fr,"__esModule",{value:!0});fr.toBig=fr.shrSL=fr.shrSH=fr.rotrSL=fr.rotrSH=fr.rotrBL=fr.rotrBH=fr.rotr32L=fr.rotr32H=fr.rotlSL=fr.rotlSH=fr.rotlBL=fr.rotlBH=fr.add5L=fr.add5H=fr.add4L=fr.add4H=fr.add3L=fr.add3H=void 0;fr.add=mxe;fr.fromBig=Vq;fr.split=txe;var AR=BigInt(2**32-1),qq=BigInt(32);function Vq(t,e=!1){return e?{h:Number(t&AR),l:Number(t>>qq&AR)}:{h:Number(t>>qq&AR)|0,l:Number(t&AR)|0}}o(Vq,"fromBig");function txe(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=Vq(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(txe,"split");var rxe=o((t,e)=>BigInt(t>>>0)<<qq|BigInt(e>>>0),"toBig");fr.toBig=rxe;var nxe=o((t,e,r)=>t>>>r,"shrSH");fr.shrSH=nxe;var ixe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");fr.shrSL=ixe;var oxe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");fr.rotrSH=oxe;var sxe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");fr.rotrSL=sxe;var axe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");fr.rotrBH=axe;var cxe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");fr.rotrBL=cxe;var fxe=o((t,e)=>e,"rotr32H");fr.rotr32H=fxe;var uxe=o((t,e)=>t,"rotr32L");fr.rotr32L=uxe;var lxe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");fr.rotlSH=lxe;var dxe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");fr.rotlSL=dxe;var hxe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");fr.rotlBH=hxe;var pxe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");fr.rotlBL=pxe;function mxe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(mxe,"add");var gxe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");fr.add3L=gxe;var yxe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");fr.add3H=yxe;var bxe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");fr.add4L=bxe;var xxe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");fr.add4H=xxe;var vxe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");fr.add5L=vxe;var _xe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");fr.add5H=_xe;var Dnt={fromBig:Vq,split:txe,toBig:rxe,shrSH:nxe,shrSL:ixe,rotrSH:oxe,rotrSL:sxe,rotrBH:axe,rotrBL:cxe,rotr32H:fxe,rotr32L:uxe,rotlSH:lxe,rotlSL:dxe,rotlBH:hxe,rotlBL:pxe,add:mxe,add3L:gxe,add3H:yxe,add4L:bxe,add4H:xxe,add5H:_xe,add5L:vxe};fr.default=Dnt});var Sxe=j(ii=>{"use strict";p();m();Object.defineProperty(ii,"__esModule",{value:!0});ii.sha512_224=ii.sha512_256=ii.sha384=ii.sha512=ii.sha224=ii.sha256=ii.SHA512_256=ii.SHA512_224=ii.SHA384=ii.SHA512=ii.SHA224=ii.SHA256=void 0;var Vt=exe(),Rr=wxe(),bo=Fq(),Unt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),am=new Uint32Array(64),dS=class extends Vt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=Vt.SHA256_IV[0]|0,this.B=Vt.SHA256_IV[1]|0,this.C=Vt.SHA256_IV[2]|0,this.D=Vt.SHA256_IV[3]|0,this.E=Vt.SHA256_IV[4]|0,this.F=Vt.SHA256_IV[5]|0,this.G=Vt.SHA256_IV[6]|0,this.H=Vt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)am[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=am[g-15],T=am[g-2],O=(0,bo.rotr)(E,7)^(0,bo.rotr)(E,18)^E>>>3,M=(0,bo.rotr)(T,17)^(0,bo.rotr)(T,19)^T>>>10;am[g]=M+am[g-7]+O+am[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=(0,bo.rotr)(c,6)^(0,bo.rotr)(c,11)^(0,bo.rotr)(c,25),T=y+E+(0,Vt.Chi)(c,l,h)+Unt[g]+am[g]|0,M=((0,bo.rotr)(n,2)^(0,bo.rotr)(n,13)^(0,bo.rotr)(n,22))+(0,Vt.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){(0,bo.clean)(am)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,bo.clean)(this.buffer)}};ii.SHA256=dS;var TR=class extends dS{static{o(this,"SHA224")}constructor(){super(28),this.A=Vt.SHA224_IV[0]|0,this.B=Vt.SHA224_IV[1]|0,this.C=Vt.SHA224_IV[2]|0,this.D=Vt.SHA224_IV[3]|0,this.E=Vt.SHA224_IV[4]|0,this.F=Vt.SHA224_IV[5]|0,this.G=Vt.SHA224_IV[6]|0,this.H=Vt.SHA224_IV[7]|0}};ii.SHA224=TR;var Exe=Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Fnt=Exe[0],Hnt=Exe[1],cm=new Uint32Array(80),fm=new Uint32Array(80),Gy=class extends Vt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=Vt.SHA512_IV[0]|0,this.Al=Vt.SHA512_IV[1]|0,this.Bh=Vt.SHA512_IV[2]|0,this.Bl=Vt.SHA512_IV[3]|0,this.Ch=Vt.SHA512_IV[4]|0,this.Cl=Vt.SHA512_IV[5]|0,this.Dh=Vt.SHA512_IV[6]|0,this.Dl=Vt.SHA512_IV[7]|0,this.Eh=Vt.SHA512_IV[8]|0,this.El=Vt.SHA512_IV[9]|0,this.Fh=Vt.SHA512_IV[10]|0,this.Fl=Vt.SHA512_IV[11]|0,this.Gh=Vt.SHA512_IV[12]|0,this.Gl=Vt.SHA512_IV[13]|0,this.Hh=Vt.SHA512_IV[14]|0,this.Hl=Vt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)cm[N]=e.getUint32(r),fm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=cm[N-15]|0,H=fm[N-15]|0,F=Rr.rotrSH(P,H,1)^Rr.rotrSH(P,H,8)^Rr.shrSH(P,H,7),Z=Rr.rotrSL(P,H,1)^Rr.rotrSL(P,H,8)^Rr.shrSL(P,H,7),W=cm[N-2]|0,X=fm[N-2]|0,S=Rr.rotrSH(W,X,19)^Rr.rotrBH(W,X,61)^Rr.shrSH(W,X,6),f=Rr.rotrSL(W,X,19)^Rr.rotrBL(W,X,61)^Rr.shrSL(W,X,6),d=Rr.add4L(Z,f,fm[N-7],fm[N-16]),b=Rr.add4H(d,F,S,cm[N-7],cm[N-16]);cm[N]=b|0,fm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Rr.rotrSH(g,E,14)^Rr.rotrSH(g,E,18)^Rr.rotrBH(g,E,41),H=Rr.rotrSL(g,E,14)^Rr.rotrSL(g,E,18)^Rr.rotrBL(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=Rr.add5L(B,H,Z,Hnt[N],fm[N]),X=Rr.add5H(W,C,P,F,Fnt[N],cm[N]),S=W|0,f=Rr.rotrSH(n,i,28)^Rr.rotrBH(n,i,34)^Rr.rotrBH(n,i,39),d=Rr.rotrSL(n,i,28)^Rr.rotrBL(n,i,34)^Rr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=Rr.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Rr.add3L(S,d,x);n=Rr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Rr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Rr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Rr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Rr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=Rr.add(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=Rr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Rr.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Rr.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){(0,bo.clean)(cm,fm)}destroy(){(0,bo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ii.SHA512=Gy;var IR=class extends Gy{static{o(this,"SHA384")}constructor(){super(48),this.Ah=Vt.SHA384_IV[0]|0,this.Al=Vt.SHA384_IV[1]|0,this.Bh=Vt.SHA384_IV[2]|0,this.Bl=Vt.SHA384_IV[3]|0,this.Ch=Vt.SHA384_IV[4]|0,this.Cl=Vt.SHA384_IV[5]|0,this.Dh=Vt.SHA384_IV[6]|0,this.Dl=Vt.SHA384_IV[7]|0,this.Eh=Vt.SHA384_IV[8]|0,this.El=Vt.SHA384_IV[9]|0,this.Fh=Vt.SHA384_IV[10]|0,this.Fl=Vt.SHA384_IV[11]|0,this.Gh=Vt.SHA384_IV[12]|0,this.Gl=Vt.SHA384_IV[13]|0,this.Hh=Vt.SHA384_IV[14]|0,this.Hl=Vt.SHA384_IV[15]|0}};ii.SHA384=IR;var ma=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),ga=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),RR=class extends Gy{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=ma[0]|0,this.Al=ma[1]|0,this.Bh=ma[2]|0,this.Bl=ma[3]|0,this.Ch=ma[4]|0,this.Cl=ma[5]|0,this.Dh=ma[6]|0,this.Dl=ma[7]|0,this.Eh=ma[8]|0,this.El=ma[9]|0,this.Fh=ma[10]|0,this.Fl=ma[11]|0,this.Gh=ma[12]|0,this.Gl=ma[13]|0,this.Hh=ma[14]|0,this.Hl=ma[15]|0}};ii.SHA512_224=RR;var OR=class extends Gy{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=ga[0]|0,this.Al=ga[1]|0,this.Bh=ga[2]|0,this.Bl=ga[3]|0,this.Ch=ga[4]|0,this.Cl=ga[5]|0,this.Dh=ga[6]|0,this.Dl=ga[7]|0,this.Eh=ga[8]|0,this.El=ga[9]|0,this.Fh=ga[10]|0,this.Fl=ga[11]|0,this.Gh=ga[12]|0,this.Gl=ga[13]|0,this.Hh=ga[14]|0,this.Hl=ga[15]|0}};ii.SHA512_256=OR;ii.sha256=(0,bo.createHasher)(()=>new dS);ii.sha224=(0,bo.createHasher)(()=>new TR);ii.sha512=(0,bo.createHasher)(()=>new Gy);ii.sha384=(0,bo.createHasher)(()=>new IR);ii.sha512_256=(0,bo.createHasher)(()=>new OR);ii.sha512_224=(0,bo.createHasher)(()=>new RR)});var Axe=j(Ad=>{"use strict";p();m();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.sha224=Ad.SHA224=Ad.sha256=Ad.SHA256=void 0;var MR=Sxe();Ad.SHA256=MR.SHA256;Ad.sha256=MR.sha256;Ad.SHA224=MR.SHA224;Ad.sha224=MR.sha224});var Ixe=j((far,Txe)=>{"use strict";p();m();function qnt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function y(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var O=0,M=0,k=0,C=T.length;k!==C&&T[k]===0;)k++,O++;for(var B=(C-k)*h+1>>>0,N=new Uint8Array(B);k!==C;){for(var P=T[k],H=0,F=B-1;(P!==0||H<M)&&F!==-1;F--,H++)P+=256*N[F]>>>0,N[F]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");M=H,k++}for(var Z=B-M;Z!==B&&N[Z]===0;)Z++;for(var W=c.repeat(O);Z<B;++Z)W+=t.charAt(N[Z]);return W}o(y,"encode");function g(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var O=0,M=0,k=0;T[O]===c;)M++,O++;for(var C=(T.length-O)*l+1>>>0,B=new Uint8Array(C);T[O];){var N=e[T.charCodeAt(O)];if(N===255)return;for(var P=0,H=C-1;(N!==0||P<k)&&H!==-1;H--,P++)N+=a*B[H]>>>0,B[H]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");k=P,O++}for(var F=C-k;F!==C&&B[F]===0;)F++;for(var Z=new Uint8Array(M+(C-F)),W=M;F!==C;)Z[W++]=B[F++];return Z}o(g,"decodeUnsafe");function E(T){var O=g(T);if(O)return O;throw new Error("Non-base"+a+" character")}return o(E,"decode"),{encode:y,decodeUnsafe:g,decode:E}}o(qnt,"base");Txe.exports=qnt});var Oxe=j((har,Rxe)=>{p();m();var Vnt=Ixe(),jnt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Rxe.exports=Vnt(jnt)});var Nxe=j((gar,Mxe)=>{"use strict";p();m();var jq=Oxe();Mxe.exports=function(t){function e(s){var a=Uint8Array.from(s),c=t(a),l=a.length+4,h=new Uint8Array(l);return h.set(a,0),h.set(c.subarray(0,4),a.length),jq.encode(h,l)}o(e,"encode");function r(s){var a=s.slice(0,-4),c=s.slice(-4),l=t(a);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=jq.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=jq.decode(s),c=r(a,t);if(!c)throw new Error("Invalid checksum");return c}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Iv=j((_ar,kxe)=>{"use strict";p();m();var{sha256:Cxe}=Axe(),znt=Nxe();function Knt(t){return Cxe(Cxe(t))}o(Knt,"sha256x2");kxe.exports=znt(Knt)});var Pxe=j((Aar,Bxe)=>{"use strict";p();m();var zq=Mu(),$nt=mr().Buffer;Bxe.exports=function(t){function e(s){var a=t(s);return zq.encode($nt.concat([s,a],s.length+4))}o(e,"encode");function r(s){var a=s.slice(0,-4),c=s.slice(-4),l=t(a);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=zq.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=zq.decode(s),c=r(a,t);if(!c)throw new Error("Invalid checksum");return c}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Uxe=j((Oar,Dxe)=>{"use strict";p();m();var Lxe=jg(),Gnt=Pxe();function Wnt(t){var e=Lxe("sha256").update(t).digest();return Lxe("sha256").update(e).digest()}o(Wnt,"sha256x2");Dxe.exports=Gnt(Wnt)});var Gq=j((kar,Hxe)=>{p();m();var Kq=Uxe();function Fxe(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}o(Fxe,"decodeRaw");function $q(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}o($q,"encodeRaw");function Ynt(t,e){return Fxe(Kq.decode(t),e)}o(Ynt,"decode");function Xnt(t,e,r){return typeof t=="number"?Kq.encode($q(t,e,r)):Kq.encode($q(t.version,t.privateKey,t.compressed))}o(Xnt,"encode");Hxe.exports={decode:Ynt,decodeRaw:Fxe,encode:Xnt,encodeRaw:$q}});var hve=j(jr=>{"use strict";p();m();Object.defineProperty(jr,"__esModule",{value:!0});jr.utils=jr.schnorr=jr.verify=jr.signSync=jr.sign=jr.getSharedSecret=jr.recoverPublicKey=jr.getPublicKey=jr.Signature=jr.Point=jr.CURVE=void 0;var nit=Yb(),$r=BigInt(0),yi=BigInt(1),dm=BigInt(2),pS=BigInt(3),Wxe=BigInt(8),qn=Object.freeze({a:$r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:yi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});jr.CURVE=qn;var Yxe=o((t,e)=>(t+e/dm)/e,"divNearest"),kR={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=qn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-yi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=Yxe(s*t,e),l=Yxe(-n*t,e),h=gt(t-c*r-l*i,e),y=gt(-c*n-l*s,e),g=h>a,E=y>a;if(g&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:E,k2:y}}},ul=32,Yy=32,rve=32,UR=ul+1,FR=2*ul+1;function Xxe(t){let{a:e,b:r}=qn,n=gt(t*t),i=gt(n*t);return gt(i+e*t+r)}o(Xxe,"weierstrass");var BR=qn.a===$r,gS=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function Zxe(t){if(!(t instanceof Ha))throw new TypeError("JacobianPoint expected")}o(Zxe,"assertJacPoint");var Ha=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof oi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(oi.ZERO)?t.ZERO:new t(e.x,e.y,yi)}static toAffineBatch(e){let r=cit(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Zxe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,l=gt(i*i),h=gt(c*c),y=gt(r*h),g=gt(s*l),E=gt(gt(n*c)*h),T=gt(gt(a*i)*l);return y===g&&E===T}negate(){return new t(this.x,gt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=gt(e*e),s=gt(r*r),a=gt(s*s),c=e+s,l=gt(dm*(gt(c*c)-i-a)),h=gt(pS*i),y=gt(h*h),g=gt(y-dm*l),E=gt(h*(l-g)-Wxe*a),T=gt(dm*r*n);return new t(g,E,T)}add(e){Zxe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e;if(s===$r||a===$r)return this;if(r===$r||n===$r)return e;let l=gt(i*i),h=gt(c*c),y=gt(r*h),g=gt(s*l),E=gt(gt(n*c)*h),T=gt(gt(a*i)*l),O=gt(g-y),M=gt(T-E);if(O===$r)return M===$r?this.double():t.ZERO;let k=gt(O*O),C=gt(O*k),B=gt(y*k),N=gt(M*M-C-dm*B),P=gt(M*(B-N)-E*C),H=gt(i*c*O);return new t(N,P,H)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===$r)return r;let n=eve(e);if(n===yi)return this;if(!BR){let g=r,E=this;for(;n>$r;)n&yi&&(g=g.add(E)),E=E.double(),n>>=yi;return g}let{k1neg:i,k1:s,k2neg:a,k2:c}=kR.splitScalar(n),l=r,h=r,y=this;for(;s>$r||c>$r;)s&yi&&(l=l.add(y)),c&yi&&(h=h.add(y)),y=y.double(),s>>=yi,c>>=yi;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(gt(h.x*kR.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=BR?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=oi.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Wq.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),Wq.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+(BR?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),y=2**n,g=BigInt(n);for(let E=0;E<c;E++){let T=E*l,O=Number(e&h);e>>=g,O>l&&(O-=y,e+=yi);let M=T,k=T+Math.abs(O)-1,C=E%2!==0,B=O<0;O===0?a=a.add(PR(C,i[M])):s=s.add(PR(B,i[k]))}return{p:s,f:a}}multiply(e,r){let n=eve(e),i,s;if(BR){let{k1neg:a,k1:c,k2neg:l,k2:h}=kR.splitScalar(n),{p:y,f:g}=this.wNAF(c,r),{p:E,f:T}=this.wNAF(h,r);y=PR(a,y),E=PR(l,E),E=new t(gt(E.x*kR.beta),E.y,E.z),i=y.add(E),s=g.add(T)}else{let{p:a,f:c}=this.wNAF(n,r);i=a,s=c}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Wxe:kv(i));let a=e,c=gt(a*a),l=gt(c*a),h=gt(r*c),y=gt(n*l),g=gt(i*a);if(s)return oi.ZERO;if(g!==yi)throw new Error("invZ was invalid");return new oi(h,y)}};Ha.BASE=new Ha(qn.Gx,qn.Gy,yi);Ha.ZERO=new Ha($r,yi,$r);function PR(t,e){let r=e.negate();return t?r:e}o(PR,"constTimeNegate");var Wq=new WeakMap,oi=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Wq.delete(this)}hasEvenY(){return this.y%dm===$r}static fromCompressedHex(e){let r=e.length===32,n=uf(r?e:e.subarray(1));if(!DR(n))throw new Error("Point is not on curve");let i=Xxe(n),s=ait(i),a=(s&yi)===yi;r?a&&(s=gt(-s)):(e[0]&1)===1!==a&&(s=gt(-s));let c=new t(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){let r=uf(e.subarray(1,ul+1)),n=uf(e.subarray(ul+1,ul*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Td(e),n=r.length,i=r[0];if(n===ul)return this.fromCompressedHex(r);if(n===UR&&(i===2||i===3))return this.fromCompressedHex(r);if(n===FR&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${UR} compressed bytes or ${FR} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Xy(e))}static fromSignature(e,r,n){let{r:i,s}=ive(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=Yq(Td(e)),{n:c}=qn,l=n===2||n===3?i+c:i,h=kv(l,c),y=gt(-a*h,c),g=gt(s*h,c),E=n&1?"03":"02",T=t.fromHex(E+hm(l)),O=t.BASE.multiplyAndAddUnsafe(T,y,g);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return pm(this.toHex(e))}toHex(e=!1){let r=hm(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${hm(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!DR(r)||!DR(n))throw new Error(e);let i=gt(n*n),s=Xxe(r);if(gt(i-s)!==$r)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,gt(-this.y))}double(){return Ha.fromAffine(this).double().toAffine()}add(e){return Ha.fromAffine(this).add(Ha.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ha.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Ha.fromAffine(this),s=r===$r||r===yi||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Ha.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(Ha.ZERO)?void 0:c.toAffine()}};jr.Point=oi;oi.BASE=new oi(qn.Gx,qn.Gy);oi.ZERO=new oi($r,$r);function Jxe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(Jxe,"sliceDER");function Qxe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Ov(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:uf(r),left:t.subarray(e+2)}}o(Qxe,"parseDERInt");function iit(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Ov(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Qxe(t.subarray(2)),{data:n,left:i}=Qxe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Ov(i)}`);return{r:e,s:n}}o(iit,"parseDERSignature");var Wy=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Ov(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(HR(i.slice(0,64)),HR(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=iit(r?e:pm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Nv(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Nv(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=qn.n>>yi;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,gt(-this.s,qn.n)):this}toDERRawBytes(){return pm(this.toDERHex())}toDERHex(){let e=Jxe(hS(this.s)),r=Jxe(hS(this.r)),n=e.length/2,i=r.length/2,s=hS(n),a=hS(i);return`30${hS(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return pm(this.toCompactHex())}toCompactHex(){return hm(this.r)+hm(this.s)}};jr.Signature=Wy;function lm(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(lm,"concatBytes");var oit=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ov(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=oit[t[r]];return e}o(Ov,"bytesToHex");var sit=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function hm(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!($r<=t&&t<sit))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(hm,"numTo32bStr");function Mv(t){let e=pm(hm(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(Mv,"numTo32b");function hS(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(hS,"numberToHexUnpadded");function HR(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(HR,"hexToNumber");function pm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(pm,"hexToBytes");function uf(t){return HR(Ov(t))}o(uf,"bytesToNumber");function Td(t){return t instanceof Uint8Array?Uint8Array.from(t):pm(t)}o(Td,"ensureBytes");function eve(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Nv(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(eve,"normalizeScalar");function gt(t,e=qn.P){let r=t%e;return r>=$r?r:e+r}o(gt,"mod");function nu(t,e){let{P:r}=qn,n=t;for(;e-- >$r;)n*=n,n%=r;return n}o(nu,"pow2");function ait(t){let{P:e}=qn,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,y=nu(h,pS)*h%e,g=nu(y,pS)*h%e,E=nu(g,dm)*l%e,T=nu(E,n)*E%e,O=nu(T,i)*T%e,M=nu(O,a)*O%e,k=nu(M,c)*M%e,C=nu(k,a)*O%e,B=nu(C,pS)*h%e,N=nu(B,s)*T%e,P=nu(N,r)*l%e,H=nu(P,dm);if(H*H%e!==t)throw new Error("Cannot find square root");return H}o(ait,"sqrtMod");function kv(t,e=qn.P){if(t===$r||e<=$r)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=gt(t,e),n=e,i=$r,s=yi,a=yi,c=$r;for(;r!==$r;){let h=n/r,y=n%r,g=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=g,c=E}if(n!==yi)throw new Error("invert: does not exist");return gt(i,e)}o(kv,"invert");function cit(t,e=qn.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===$r?s:(r[c]=s,gt(s*a,e)),yi),i=kv(n,e);return t.reduceRight((s,a,c)=>a===$r?s:(r[c]=gt(s*r[c],e),gt(s*a,e)),i),r}o(cit,"invertBatch");function fit(t){let e=t.length*8-Yy*8,r=uf(t);return e>0?r>>BigInt(e):r}o(fit,"bits2int_2");function Yq(t,e=!1){let r=fit(t);if(e)return r;let{n}=qn;return r>=n?r-n:r}o(Yq,"truncateHash");var Rv,mS,qR=class{static{o(this,"HmacDrbg")}constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return jr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return mS(this.k,...e)}checkSync(){if(typeof mS!="function")throw new gS("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return lm(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return lm(...r)}};function Nv(t){return $r<t&&t<qn.n}o(Nv,"isWithinCurveOrder");function DR(t){return $r<t&&t<qn.P}o(DR,"isValidFieldElement");function nve(t,e,r,n=!0){let{n:i}=qn,s=Yq(t,!0);if(!Nv(s))return;let a=kv(s,i),c=oi.BASE.multiply(s),l=gt(c.x,i);if(l===$r)return;let h=gt(a*gt(e+r*l,i),i);if(h===$r)return;let y=new Wy(l,h),g=(c.x===y.r?0:2)|Number(c.y&yi);return n&&y.hasHighS()&&(y=y.normalizeS(),g^=1),{sig:y,recovery:g}}o(nve,"kmdToSig");function Xy(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Yy)throw new Error("Expected 32 bytes of private key");e=HR(t)}else if(t instanceof Uint8Array){if(t.length!==Yy)throw new Error("Expected 32 bytes of private key");e=uf(t)}else throw new TypeError("Expected valid private key");if(!Nv(e))throw new Error("Expected private key: 0 < key < n");return e}o(Xy,"normalizePrivateKey");function Xq(t){return t instanceof oi?(t.assertValidity(),t):oi.fromHex(t)}o(Xq,"normalizePublicKey");function ive(t){if(t instanceof Wy)return t.assertValidity(),t;try{return Wy.fromDER(t)}catch{return Wy.fromCompact(t)}}o(ive,"normalizeSignature");function uit(t,e=!1){return oi.fromPrivateKey(t).toRawBytes(e)}o(uit,"getPublicKey");jr.getPublicKey=uit;function lit(t,e,r,n=!1){return oi.fromSignature(t,e,r).toRawBytes(n)}o(lit,"recoverPublicKey");jr.recoverPublicKey=lit;function tve(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===UR||n===FR:r?n===UR*2||n===FR*2:t instanceof oi}o(tve,"isProbPub");function dit(t,e,r=!1){if(tve(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!tve(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Xq(e);return n.assertValidity(),n.multiply(Xy(t)).toRawBytes(r)}o(dit,"getSharedSecret");jr.getSharedSecret=dit;function ove(t){let e=t.length>ul?t.slice(0,ul):t;return uf(e)}o(ove,"bits2int");function hit(t){let e=ove(t),r=gt(e,qn.n);return sve(r<$r?e:r)}o(hit,"bits2octets");function sve(t){return Mv(t)}o(sve,"int2octets");function ave(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Td(t),i=Xy(e),s=[sve(i),hit(n)];if(r!=null){r===!0&&(r=jr.utils.randomBytes(ul));let l=Td(r);if(l.length!==ul)throw new Error(`sign: Expected ${ul} bytes of extra data`);s.push(l)}let a=lm(...s),c=ove(n);return{seed:a,m:c,d:i}}o(ave,"initSigArgs");function cve(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}o(cve,"finalizeSig");async function pit(t,e,r={}){let{seed:n,m:i,d:s}=ave(t,e,r.extraEntropy),a=new qR(rve,Yy);await a.reseed(n);let c;for(;!(c=nve(await a.generate(),i,s,r.canonical));)await a.reseed();return cve(c,r)}o(pit,"sign");jr.sign=pit;function mit(t,e,r={}){let{seed:n,m:i,d:s}=ave(t,e,r.extraEntropy),a=new qR(rve,Yy);a.reseedSync(n);let c;for(;!(c=nve(a.generateSync(),i,s,r.canonical));)a.reseedSync();return cve(c,r)}o(mit,"signSync");jr.signSync=mit;var git={strict:!0};function yit(t,e,r,n=git){let i;try{i=ive(t),e=Td(e)}catch{return!1}let{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;let c=Yq(e),l;try{l=Xq(r)}catch{return!1}let{n:h}=qn,y=kv(a,h),g=gt(c*y,h),E=gt(s*y,h),T=oi.BASE.multiplyAndAddUnsafe(l,g,E);return T?gt(T.x,h)===s:!1}o(yit,"verify");jr.verify=yit;function VR(t){return gt(uf(t),qn.n)}o(VR,"schnorrChallengeFinalize");var Cv=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Td(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=uf(r.subarray(0,32)),i=uf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!DR(e)||!Nv(r))throw new Error("Invalid signature")}toHex(){return hm(this.r)+hm(this.s)}toRawBytes(){return pm(this.toHex())}};function bit(t){return oi.fromPrivateKey(t).toRawX()}o(bit,"schnorrGetPublicKey");var jR=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=jr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Td(e);let{x:i,scalar:s}=this.getScalar(Xy(r));if(this.px=i,this.d=s,this.rand=Td(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=oi.fromPrivateKey(e),n=r.hasEvenY()?e:qn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Mv(e^uf(r))}finalizeNonce(e){let r=gt(uf(e),qn.n);if(r===$r)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new Cv(e.x,gt(r+n*i,qn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=jr.utils.taggedHash,a=this.initNonce(r,await s(um.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(await s(um.nonce,a,n,e)),y=VR(await s(um.challenge,l,n,e)),g=this.finalizeSig(c,h,y,r);return await lve(g,e,n)||this.error(),g}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=jr.utils.taggedHashSync,a=this.initNonce(r,s(um.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(s(um.nonce,a,n,e)),y=VR(s(um.challenge,l,n,e)),g=this.finalizeSig(c,h,y,r);return dve(g,e,n)||this.error(),g}};async function xit(t,e,r){return new jR(t,e,r).calc()}o(xit,"schnorrSign");function vit(t,e,r){return new jR(t,e,r).calcSync()}o(vit,"schnorrSignSync");function fve(t,e,r){let n=t instanceof Cv,i=n?t:Cv.fromHex(t);return n&&i.assertValidity(),{...i,m:Td(e),P:Xq(r)}}o(fve,"initSchnorrVerify");function uve(t,e,r,n){let i=oi.BASE.multiplyAndAddUnsafe(e,Xy(r),gt(-n,qn.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(uve,"finalizeSchnorrVerify");async function lve(t,e,r){try{let{r:n,s:i,m:s,P:a}=fve(t,e,r),c=VR(await jr.utils.taggedHash(um.challenge,Mv(n),a.toRawX(),s));return uve(n,a,i,c)}catch{return!1}}o(lve,"schnorrVerify");function dve(t,e,r){try{let{r:n,s:i,m:s,P:a}=fve(t,e,r),c=VR(jr.utils.taggedHashSync(um.challenge,Mv(n),a.toRawX(),s));return uve(n,a,i,c)}catch(n){if(n instanceof gS)throw n;return!1}}o(dve,"schnorrVerifySync");jr.schnorr={Signature:Cv,getPublicKey:bit,sign:xit,verify:lve,signSync:vit,verifySync:dve};oi.BASE._setWindowSize(8);var ff={node:nit,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},um={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},LR={};jr.utils={bytesToHex:Ov,hexToBytes:pm,concatBytes:lm,mod:gt,invert:kv,isValidPrivateKey(t){try{return Xy(t),!0}catch{return!1}},_bigintTo32Bytes:Mv,_normalizePrivateKey:Xy,hashToPrivateKey:o(t=>{t=Td(t);let e=Yy+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=gt(uf(t),qn.n-yi)+yi;return Mv(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(ff.web)return ff.web.getRandomValues(new Uint8Array(t));if(ff.node){let{randomBytes:e}=ff.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>jr.utils.hashToPrivateKey(jr.utils.randomBytes(Yy+8)),"randomPrivateKey"),precompute(t=8,e=oi.BASE){let r=e===oi.BASE?e:new oi(e.x,e.y);return r._setWindowSize(t),r.multiply(pS),r},sha256:o(async(...t)=>{if(ff.web){let e=await ff.web.subtle.digest("SHA-256",lm(...t));return new Uint8Array(e)}else if(ff.node){let{createHash:e}=ff.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(ff.web){let r=await ff.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=lm(...e),i=await ff.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(ff.node){let{createHmac:r}=ff.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=LR[t];if(r===void 0){let n=await jr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=lm(n,n),LR[t]=r}return jr.utils.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof Rv!="function")throw new gS("sha256Sync is undefined, you need to set it");let r=LR[t];if(r===void 0){let n=Rv(Uint8Array.from(t,i=>i.charCodeAt(0)));r=lm(n,n),LR[t]=r}return Rv(r,...e)},"taggedHashSync"),_JacobianPoint:Ha};Object.defineProperties(jr.utils,{sha256Sync:{configurable:!1,get(){return Rv},set(t){Rv||(Rv=t)}},hmacSha256Sync:{configurable:!1,get(){return mS},set(t){mS||(mS=t)}}})});var Jq=j(qa=>{"use strict";p();m();Object.defineProperty(qa,"__esModule",{value:!0});qa.output=qa.exists=qa.hash=qa.bytes=qa.bool=qa.number=void 0;function zR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(zR,"number");qa.number=zR;function pve(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(pve,"bool");qa.bool=pve;function Zq(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(Zq,"bytes");qa.bytes=Zq;function mve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zR(t.outputLen),zR(t.blockLen)}o(mve,"hash");qa.hash=mve;function gve(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(gve,"exists");qa.exists=gve;function yve(t,e){Zq(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(yve,"output");qa.output=yve;var _it={number:zR,bool:pve,bytes:Zq,hash:mve,exists:gve,output:yve};qa.default=_it});var bve=j(KR=>{"use strict";p();m();Object.defineProperty(KR,"__esModule",{value:!0});KR.crypto=void 0;KR.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var GR=j(Or=>{"use strict";p();m();Object.defineProperty(Or,"__esModule",{value:!0});Or.randomBytes=Or.wrapXOFConstructorWithOpts=Or.wrapConstructorWithOpts=Or.wrapConstructor=Or.checkOpts=Or.Hash=Or.concatBytes=Or.toBytes=Or.utf8ToBytes=Or.asyncLoop=Or.nextTick=Or.hexToBytes=Or.bytesToHex=Or.isLE=Or.rotr=Or.createView=Or.u32=Or.u8=void 0;var Qq=bve(),tV=o(t=>t instanceof Uint8Array,"u8a"),wit=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");Or.u8=wit;var Eit=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");Or.u32=Eit;var Sit=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");Or.createView=Sit;var Ait=o((t,e)=>t<<32-e|t>>>e,"rotr");Or.rotr=Ait;Or.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Or.isLE)throw new Error("Non little-endian hardware is not supported");var Tit=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Iit(t){if(!tV(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Tit[t[r]];return e}o(Iit,"bytesToHex");Or.bytesToHex=Iit;function Rit(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(Rit,"hexToBytes");Or.hexToBytes=Rit;var Oit=o(async()=>{},"nextTick");Or.nextTick=Oit;async function Mit(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Or.nextTick)(),n+=s)}}o(Mit,"asyncLoop");Or.asyncLoop=Mit;function xve(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(xve,"utf8ToBytes");Or.utf8ToBytes=xve;function $R(t){if(typeof t=="string"&&(t=xve(t)),!tV(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o($R,"toBytes");Or.toBytes=$R;function Nit(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!tV(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(Nit,"concatBytes");Or.concatBytes=Nit;var eV=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};Or.Hash=eV;var Cit=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function kit(t,e){if(e!==void 0&&(typeof e!="object"||!Cit(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(kit,"checkOpts");Or.checkOpts=kit;function Bit(t){let e=o(n=>t().update($R(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Bit,"wrapConstructor");Or.wrapConstructor=Bit;function Pit(t){let e=o((n,i)=>t(i).update($R(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Pit,"wrapConstructorWithOpts");Or.wrapConstructorWithOpts=Pit;function Lit(t){let e=o((n,i)=>t(i).update($R(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Lit,"wrapXOFConstructorWithOpts");Or.wrapXOFConstructorWithOpts=Lit;function Dit(t=32){if(Qq.crypto&&typeof Qq.crypto.getRandomValues=="function")return Qq.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(Dit,"randomBytes");Or.randomBytes=Dit});var _ve=j(Zy=>{"use strict";p();m();Object.defineProperty(Zy,"__esModule",{value:!0});Zy.hmac=Zy.HMAC=void 0;var WR=Jq(),vve=GR(),yS=class extends vve.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,WR.default.hash(e);let n=(0,vve.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return WR.default.exists(this),this.iHash.update(e),this}digestInto(e){WR.default.exists(this),WR.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Zy.HMAC=yS;var Uit=o((t,e,r)=>new yS(t,e).update(r).digest(),"hmac");Zy.hmac=Uit;Zy.hmac.create=(t,e)=>new yS(t,e)});var wve=j(YR=>{"use strict";p();m();Object.defineProperty(YR,"__esModule",{value:!0});YR.SHA2=void 0;var rV=Jq(),bS=GR();function Fit(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Fit,"setBigUint64");var nV=class extends bS.Hash{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,bS.createView)(this.buffer)}update(e){rV.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,bS.toBytes)(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,bS.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rV.default.exists(this),rV.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Fit(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,bS.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};YR.SHA2=nV});var Eve=j(Bv=>{"use strict";p();m();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.sha224=Bv.sha256=void 0;var Hit=wve(),iu=GR(),qit=o((t,e,r)=>t&e^~t&r,"Chi"),Vit=o((t,e,r)=>t&e^t&r^e&r,"Maj"),jit=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gm=new Uint32Array(64),XR=class extends Hit.SHA2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=mm[0]|0,this.B=mm[1]|0,this.C=mm[2]|0,this.D=mm[3]|0,this.E=mm[4]|0,this.F=mm[5]|0,this.G=mm[6]|0,this.H=mm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)gm[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=gm[g-15],T=gm[g-2],O=(0,iu.rotr)(E,7)^(0,iu.rotr)(E,18)^E>>>3,M=(0,iu.rotr)(T,17)^(0,iu.rotr)(T,19)^T>>>10;gm[g]=M+gm[g-7]+O+gm[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=(0,iu.rotr)(c,6)^(0,iu.rotr)(c,11)^(0,iu.rotr)(c,25),T=y+E+qit(c,l,h)+jit[g]+gm[g]|0,M=((0,iu.rotr)(n,2)^(0,iu.rotr)(n,13)^(0,iu.rotr)(n,22))+Vit(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){gm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},iV=class extends XR{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Bv.sha256=(0,iu.wrapConstructor)(()=>new XR);Bv.sha224=(0,iu.wrapConstructor)(()=>new iV)});var lV=j(xo=>{"use strict";p();m();var zit=hve(),Kit=_ve(),Sve=Eve();function $it(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o($it,"_interopNamespaceDefault");var _n=$it(zit);_n.utils.hmacSha256Sync=(t,...e)=>Kit.hmac(Sve.sha256,t,_n.utils.concatBytes(...e));_n.utils.sha256Sync=(...t)=>Sve.sha256(_n.utils.concatBytes(...t));var aV=_n.utils._normalizePrivateKey,Git=32,Wit=32,oV=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),Yit=32;function sV(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}o(sV,"cmpBN32");function xS(t){return!(!(t instanceof Uint8Array)||t.length!==Wit||sV(t,oV)>=0)}o(xS,"isTweak");function Ave(t){return t instanceof Uint8Array&&t.length===64&&sV(t.subarray(0,32),oV)<0&&sV(t.subarray(32,64),oV)<0}o(Ave,"isSignature");function ZR(t){return t instanceof Uint8Array&&t.length===Git}o(ZR,"isHash");function Tve(t){return t===void 0||t instanceof Uint8Array&&t.length===Yit}o(Tve,"isExtraData");function Ive(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(Ive,"hexToNumber");function Xit(t){return Ive(_n.utils.bytesToHex(t))}o(Xit,"bytesToNumber");function cV(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=Ive(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=Xit(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}o(cV,"normalizeScalar");var Zit=o((t,e)=>{let r=aV(t),n=cV(e),i=_n.utils._bigintTo32Bytes(_n.utils.mod(r+n,_n.CURVE.n));return _n.utils.isValidPrivateKey(i)?i:null},"_privateAdd"),Jit=o((t,e)=>{let r=aV(t),n=cV(e),i=_n.utils._bigintTo32Bytes(_n.utils.mod(r-n,_n.CURVE.n));return _n.utils.isValidPrivateKey(i)?i:null},"_privateSub"),Qit=o(t=>{let e=aV(t),r=_n.utils._bigintTo32Bytes(_n.CURVE.n-e);return _n.utils.isValidPrivateKey(r)?r:null},"_privateNegate"),Rve=o((t,e,r)=>{let n=_n.Point.fromHex(t),i=cV(e),s=_n.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(r)},"_pointAddScalar"),eot=o((t,e,r)=>{let n=_n.Point.fromHex(t),i=typeof e=="string"?e:_n.utils.bytesToHex(e),s=BigInt(`0x${i}`);return n.multiply(s).toRawBytes(r)},"_pointMultiply");function vS(t,e){return t===void 0?e!==void 0?Ove(e):!0:!!t}o(vS,"assumeCompression");function Jy(t){try{return t()}catch{return null}}o(Jy,"throwToNull");function fV(t,e){if(t.length===32!==e)return!1;try{return!!_n.Point.fromHex(t)}catch{return!1}}o(fV,"_isPoint");function ym(t){return fV(t,!1)}o(ym,"isPoint");function Ove(t){return fV(t,!1)&&t.length===33}o(Ove,"isPointCompressed");function bm(t){return _n.utils.isValidPrivateKey(t)}o(bm,"isPrivate");function uV(t){return fV(t,!0)}o(uV,"isXOnlyPoint");function tot(t,e){if(!uV(t))throw new Error("Expected Point");if(!xS(e))throw new Error("Expected Tweak");return Jy(()=>{let r=Rve(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}o(tot,"xOnlyPointAddTweak");function Mve(t){if(!ym(t))throw new Error("Expected Point");return t.slice(1,33)}o(Mve,"xOnlyPointFromPoint");function Nve(t,e){if(!bm(t))throw new Error("Expected Private");return Jy(()=>_n.getPublicKey(t,vS(e)))}o(Nve,"pointFromScalar");function rot(t){if(!bm(t))throw new Error("Expected Private");return Mve(Nve(t))}o(rot,"xOnlyPointFromScalar");function not(t,e){if(!ym(t))throw new Error("Expected Point");return _n.Point.fromHex(t).toRawBytes(vS(e,t))}o(not,"pointCompress");function iot(t,e,r){if(!ym(t))throw new Error("Expected Point");if(!xS(e))throw new Error("Expected Tweak");return Jy(()=>eot(t,e,vS(r,t)))}o(iot,"pointMultiply");function oot(t,e,r){if(!ym(t)||!ym(e))throw new Error("Expected Point");return Jy(()=>{let n=_n.Point.fromHex(t),i=_n.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(vS(r,t))})}o(oot,"pointAdd");function sot(t,e,r){if(!ym(t))throw new Error("Expected Point");if(!xS(e))throw new Error("Expected Tweak");return Jy(()=>Rve(t,e,vS(r,t)))}o(sot,"pointAddScalar");function aot(t,e){if(bm(t)===!1)throw new Error("Expected Private");if(xS(e)===!1)throw new Error("Expected Tweak");return Jy(()=>Zit(t,e))}o(aot,"privateAdd");function cot(t,e){if(bm(t)===!1)throw new Error("Expected Private");if(xS(e)===!1)throw new Error("Expected Tweak");return Jy(()=>Jit(t,e))}o(cot,"privateSub");function fot(t){if(bm(t)===!1)throw new Error("Expected Private");return Qit(t)}o(fot,"privateNegate");function uot(t,e,r){if(!bm(e))throw new Error("Expected Private");if(!ZR(t))throw new Error("Expected Scalar");if(!Tve(r))throw new Error("Expected Extra Data (32 bytes)");return _n.signSync(t,e,{der:!1,extraEntropy:r})}o(uot,"sign");function lot(t,e,r=Buffer.alloc(32,0)){if(!bm(e))throw new Error("Expected Private");if(!ZR(t))throw new Error("Expected Scalar");if(!Tve(r))throw new Error("Expected Extra Data (32 bytes)");return _n.schnorr.signSync(t,e,r)}o(lot,"signSchnorr");function dot(t,e,r,n){if(!ym(e))throw new Error("Expected Point");if(!Ave(r))throw new Error("Expected Signature");if(!ZR(t))throw new Error("Expected Scalar");return _n.verify(r,t,e,{strict:n})}o(dot,"verify");function hot(t,e,r){if(!uV(e))throw new Error("Expected Point");if(!Ave(r))throw new Error("Expected Signature");if(!ZR(t))throw new Error("Expected Scalar");return _n.schnorr.verifySync(r,t,e)}o(hot,"verifySchnorr");xo.isPoint=ym;xo.isPointCompressed=Ove;xo.isPrivate=bm;xo.isXOnlyPoint=uV;xo.pointAdd=oot;xo.pointAddScalar=sot;xo.pointCompress=not;xo.pointFromScalar=Nve;xo.pointMultiply=iot;xo.privateAdd=aot;xo.privateNegate=fot;xo.privateSub=cot;xo.sign=uot;xo.signSchnorr=lot;xo.verify=dot;xo.verifySchnorr=hot;xo.xOnlyPointAddTweak=tot;xo.xOnlyPointFromPoint=Mve;xo.xOnlyPointFromScalar=rot});var ou=j(vm=>{"use strict";p();m();Object.defineProperty(vm,"__esModule",{value:!0});vm.testnet=vm.regtest=vm.bitcoin=void 0;vm.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};vm.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};vm.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var hV=j(_m=>{"use strict";p();m();Object.defineProperty(_m,"__esModule",{value:!0});_m.encode=_m.decode=_m.check=void 0;function wot(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}o(wot,"check");_m.check=wot;function Eot(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}o(Eot,"decode");_m.decode=Eot;function Sot(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}o(Sot,"encode");_m.encode=Sot});var QR=j(Pv=>{"use strict";p();m();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.REVERSE_OPS=Pv.OPS=void 0;var pV={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Pv.OPS=pV;var Uve={};Pv.REVERSE_OPS=Uve;for(let t of Object.keys(pV)){let e=pV[t];Uve[e]=t}});var Hve=j(Em=>{"use strict";p();m();Object.defineProperty(Em,"__esModule",{value:!0});Em.decode=Em.encode=Em.encodingLength=void 0;var wm=QR();function Fve(t){return t<wm.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}o(Fve,"encodingLength");Em.encodingLength=Fve;function Aot(t,e,r){let n=Fve(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(wm.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(wm.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(wm.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}o(Aot,"encode");Em.encode=Aot;function Tot(t,e){let r=t.readUInt8(e),n,i;if(r<wm.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===wm.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===wm.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==wm.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}o(Tot,"decode");Em.decode=Tot});var qve=j(Lv=>{"use strict";p();m();Object.defineProperty(Lv,"__esModule",{value:!0});Lv.encode=Lv.decode=void 0;function Iot(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),a=t.readUInt8(4);return a&128?-((a&-129)*4294967296+s):a*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}o(Iot,"decode");Lv.decode=Iot;function Rot(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}o(Rot,"scriptNumSize");function Oot(t){let e=Math.abs(t),r=Rot(e),n=Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}o(Oot,"encode");Lv.encode=Oot});var e7=j((mfr,Vve)=>{p();m();var wS={Array:o(function(t){return t!=null&&t.constructor===Array},"Array"),Boolean:o(function(t){return typeof t=="boolean"},"Boolean"),Function:o(function(t){return typeof t=="function"},"Function"),Nil:o(function(t){return t==null},"Nil"),Number:o(function(t){return typeof t=="number"},"Number"),Object:o(function(t){return typeof t=="object"},"Object"),String:o(function(t){return typeof t=="string"},"String"),"":function(){return!0}};wS.Null=wS.Nil;for(mV in wS)wS[mV].toJSON=function(t){return t}.bind(null,mV);var mV;Vve.exports=wS});var bV=j((xfr,Kve)=>{p();m();var Qy=e7();function jve(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}o(jve,"getTypeName");function gV(t){return Qy.Nil(t)?"":jve(t.constructor)}o(gV,"getValueTypeName");function Mot(t){return Qy.Function(t)?"":Qy.String(t)?JSON.stringify(t):t&&Qy.Object(t)?"":t}o(Mot,"getValue");function yV(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}o(yV,"captureStackTrace");function t7(t){return Qy.Function(t)?t.toJSON?t.toJSON():jve(t):Qy.Array(t)?"Array":t&&Qy.Object(t)?"Object":t!==void 0?t:""}o(t7,"tfJSON");function zve(t,e,r){var n=Mot(e);return"Expected "+t7(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}o(zve,"tfErrorString");function Zh(t,e,r){r=r||gV(e),this.message=zve(t,e,r),yV(this,Zh),this.__type=t,this.__value=e,this.__valueTypeName=r}o(Zh,"TfTypeError");Zh.prototype=Object.create(Error.prototype);Zh.prototype.constructor=Zh;function Not(t,e,r,n,i){var s='" of type ';return e==="key"&&(s='" with key type '),zve('property "'+t7(r)+s+t7(t),n,i)}o(Not,"tfPropertyErrorString");function Dv(t,e,r,n,i){t?(i=i||gV(n),this.message=Not(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',yV(this,Zh),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}o(Dv,"TfPropertyTypeError");Dv.prototype=Object.create(Error.prototype);Dv.prototype.constructor=Zh;function Cot(t,e){return new Zh(t,{},e)}o(Cot,"tfCustomError");function kot(t,e,r){return t instanceof Dv?(e=e+"."+t.__property,t=new Dv(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof Zh&&(t=new Dv(t.__type,e,r,t.__value,t.__valueTypeName)),yV(t),t}o(kot,"tfSubError");Kve.exports={TfTypeError:Zh,TfPropertyTypeError:Dv,tfCustomError:Cot,tfSubError:kot,tfJSON:t7,getValueTypeName:gV}});var Yve=j((Efr,Wve)=>{p();m();var wV=e7(),Bot=bV();function $ve(t){return Buffer.isBuffer(t)}o($ve,"_Buffer");function Gve(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}o(Gve,"Hex");function r7(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw Bot.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return o(n,"Length"),n.toJSON=function(){return r},n}o(r7,"_LengthN");var Pot=r7.bind(null,wV.Array),Lot=r7.bind(null,$ve),Dot=r7.bind(null,Gve),Uot=r7.bind(null,wV.String);function Fot(t,e,r){r=r||wV.Number;function n(i,s){return r(i,s)&&i>t&&i<e}return o(n,"_range"),n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}o(Fot,"Range");var vV=Math.pow(2,53)-1;function Hot(t){return typeof t=="number"&&isFinite(t)}o(Hot,"Finite");function qot(t){return t<<24>>24===t}o(qot,"Int8");function Vot(t){return t<<16>>16===t}o(Vot,"Int16");function jot(t){return(t|0)===t}o(jot,"Int32");function zot(t){return typeof t=="number"&&t>=-vV&&t<=vV&&Math.floor(t)===t}o(zot,"Int53");function Kot(t){return(t&255)===t}o(Kot,"UInt8");function $ot(t){return(t&65535)===t}o($ot,"UInt16");function Got(t){return t>>>0===t}o(Got,"UInt32");function Wot(t){return typeof t=="number"&&t>=0&&t<=vV&&Math.floor(t)===t}o(Wot,"UInt53");var _V={ArrayN:Pot,Buffer:$ve,BufferN:Lot,Finite:Hot,Hex:Gve,HexN:Dot,Int8:qot,Int16:Vot,Int32:jot,Int53:zot,Range:Fot,StringN:Uot,UInt8:Kot,UInt16:$ot,UInt32:Got,UInt53:Wot};for(xV in _V)_V[xV].toJSON=function(t){return t}.bind(null,xV);var xV;Wve.exports=_V});var e2e=j((Ifr,Qve)=>{p();m();var SS=bV(),Ss=e7(),Jh=SS.tfJSON,Zve=SS.TfTypeError,Jve=SS.TfPropertyTypeError,ES=SS.tfSubError,Yot=SS.getValueTypeName,Qh={arrayOf:o(function(e,r){e=Id(e),r=r||{};function n(i,s){return!Ss.Array(i)||Ss.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(a,c){try{return Va(e,a,s)}catch(l){throw ES(l,c)}})}return o(n,"_arrayOf"),n.toJSON=function(){var i="["+Jh(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},"arrayOf"),maybe:o(function t(e){e=Id(e);function r(n,i){return Ss.Nil(n)||e(n,i,t)}return o(r,"_maybe"),r.toJSON=function(){return"?"+Jh(e)},r},"maybe"),map:o(function(e,r){e=Id(e),r&&(r=Id(r));function n(i,s){if(!Ss.Object(i)||Ss.Nil(i))return!1;for(var a in i){try{r&&Va(r,a,s)}catch(l){throw ES(l,a,"key")}try{var c=i[a];Va(e,c,s)}catch(l){throw ES(l,a)}}return!0}return o(n,"_map"),r?n.toJSON=function(){return"{"+Jh(r)+": "+Jh(e)+"}"}:n.toJSON=function(){return"{"+Jh(e)+"}"},n},"map"),object:o(function(e){var r={};for(var n in e)r[n]=Id(e[n]);function i(s,a){if(!Ss.Object(s)||Ss.Nil(s))return!1;var c;try{for(c in r){var l=r[c],h=s[c];Va(l,h,a)}}catch(y){throw ES(y,c)}if(a){for(c in s)if(!r[c])throw new Jve(void 0,c)}return!0}return o(i,"_object"),i.toJSON=function(){return Jh(r)},i},"object"),anyOf:o(function(){var e=[].slice.call(arguments).map(Id);function r(n,i){return e.some(function(s){try{return Va(s,n,i)}catch{return!1}})}return o(r,"_anyOf"),r.toJSON=function(){return e.map(Jh).join("|")},r},"anyOf"),allOf:o(function(){var e=[].slice.call(arguments).map(Id);function r(n,i){return e.every(function(s){try{return Va(s,n,i)}catch{return!1}})}return o(r,"_allOf"),r.toJSON=function(){return e.map(Jh).join(" & ")},r},"allOf"),quacksLike:o(function(e){function r(n){return e===Yot(n)}return o(r,"_quacksLike"),r.toJSON=function(){return e},r},"quacksLike"),tuple:o(function(){var e=[].slice.call(arguments).map(Id);function r(n,i){return Ss.Nil(n)||Ss.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(s,a){try{return Va(s,n[a],i)}catch(c){throw ES(c,a)}})}return o(r,"_tuple"),r.toJSON=function(){return"("+e.map(Jh).join(", ")+")"},r},"tuple"),value:o(function(e){function r(n){return n===e}return o(r,"_value"),r.toJSON=function(){return e},r},"value")};Qh.oneOf=Qh.anyOf;function Id(t){if(Ss.String(t))return t[0]==="?"?Qh.maybe(t.slice(1)):Ss[t]||Qh.quacksLike(t);if(t&&Ss.Object(t)){if(Ss.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return Qh.arrayOf(t[0])}return Qh.object(t)}else if(Ss.Function(t))return t;return Qh.value(t)}o(Id,"compile");function Va(t,e,r,n){if(Ss.Function(t)){if(t(e,r))return!0;throw new Zve(n||t,e)}return Va(Id(t),e,r)}o(Va,"typeforce");for(e0 in Ss)Va[e0]=Ss[e0];var e0;for(e0 in Qh)Va[e0]=Qh[e0];var Xve=Yve();for(e0 in Xve)Va[e0]=Xve[e0];Va.compile=Id;Va.TfTypeError=Zve;Va.TfPropertyTypeError=Jve;Qve.exports=Va});var As=j(at=>{"use strict";p();m();Object.defineProperty(at,"__esModule",{value:!0});at.oneOf=at.Null=at.BufferN=at.Function=at.UInt32=at.UInt8=at.tuple=at.maybe=at.Hex=at.Buffer=at.String=at.Boolean=at.Array=at.Number=at.Hash256bit=at.Hash160bit=at.Buffer256bit=at.isTaptree=at.isTapleaf=at.TAPLEAF_VERSION_MASK=at.Network=at.ECPoint=at.Satoshi=at.Signer=at.BIP32Path=at.UInt31=at.isPoint=at.typeforce=void 0;var n7=li();at.typeforce=e2e();var t2e=n7.Buffer.alloc(32,0),r2e=n7.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Xot(t){if(!n7.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(t2e)===0||r.compare(r2e)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(t2e)===0||n.compare(r2e)>=0?!1:e===4&&t.length===65}o(Xot,"isPoint");at.isPoint=Xot;var Zot=Math.pow(2,31)-1;function Jot(t){return at.typeforce.UInt32(t)&&t<=Zot}o(Jot,"UInt31");at.UInt31=Jot;function n2e(t){return at.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}o(n2e,"BIP32Path");at.BIP32Path=n2e;n2e.toJSON=()=>"BIP32 derivation path";function Qot(t){return(at.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}o(Qot,"Signer");at.Signer=Qot;var est=21*1e14;function tst(t){return at.typeforce.UInt53(t)&&t<=est}o(tst,"Satoshi");at.Satoshi=tst;at.ECPoint=at.typeforce.quacksLike("Point");at.Network=at.typeforce.compile({messagePrefix:at.typeforce.oneOf(at.typeforce.Buffer,at.typeforce.String),bip32:{public:at.typeforce.UInt32,private:at.typeforce.UInt32},pubKeyHash:at.typeforce.UInt8,scriptHash:at.typeforce.UInt8,wif:at.typeforce.UInt8});at.TAPLEAF_VERSION_MASK=254;function i2e(t){return!t||!("output"in t)||!n7.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&at.TAPLEAF_VERSION_MASK)===t.version:!0}o(i2e,"isTapleaf");at.isTapleaf=i2e;function o2e(t){return(0,at.Array)(t)?t.length!==2?!1:t.every(e=>o2e(e)):i2e(t)}o(o2e,"isTaptree");at.isTaptree=o2e;at.Buffer256bit=at.typeforce.BufferN(32);at.Hash160bit=at.typeforce.BufferN(20);at.Hash256bit=at.typeforce.BufferN(32);at.Number=at.typeforce.Number;at.Array=at.typeforce.Array;at.Boolean=at.typeforce.Boolean;at.String=at.typeforce.String;at.Buffer=at.typeforce.Buffer;at.Hex=at.typeforce.Hex;at.maybe=at.typeforce.maybe;at.tuple=at.typeforce.tuple;at.UInt8=at.typeforce.UInt8;at.UInt32=at.typeforce.UInt32;at.Function=at.typeforce.Function;at.BufferN=at.typeforce.BufferN;at.Null=at.typeforce.Null;at.oneOf=at.typeforce.oneOf});var u2e=j(Fv=>{"use strict";p();m();Object.defineProperty(Fv,"__esModule",{value:!0});Fv.encode=Fv.decode=void 0;var{Buffer:Uv}=li(),f2e=hV(),EV=As(),{typeforce:rst}=EV,s2e=Uv.alloc(1,0);function a2e(t){let e=0;for(;t[e]===0;)++e;return e===t.length?s2e:(t=t.slice(e),t[0]&128?Uv.concat([s2e,t],1+t.length):t)}o(a2e,"toDER");function c2e(t){t[0]===0&&(t=t.slice(1));let e=Uv.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}o(c2e,"fromDER");function nst(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=f2e.decode(t.slice(0,-1)),i=c2e(n.r),s=c2e(n.s);return{signature:Uv.concat([i,s],64),hashType:e}}o(nst,"decode");Fv.decode=nst;function ist(t,e){rst({signature:EV.BufferN(64),hashType:EV.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Uv.allocUnsafe(1);n.writeUInt8(e,0);let i=a2e(t.slice(0,32)),s=a2e(t.slice(32,64));return Uv.concat([f2e.encode(i,s),n])}o(ist,"encode");Fv.encode=ist});var ja=j(Vn=>{"use strict";p();m();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.signature=Vn.number=Vn.isCanonicalScriptSignature=Vn.isDefinedHashType=Vn.isCanonicalPubKey=Vn.toStack=Vn.fromASM=Vn.toASM=Vn.decompile=Vn.compile=Vn.countNonPushOnlyOPs=Vn.isPushOnly=Vn.OPS=void 0;var ost=hV(),_c=QR();Object.defineProperty(Vn,"OPS",{enumerable:!0,get:o(function(){return _c.OPS},"get")});var SV=Hve(),l2e=qve(),sst=u2e(),Rd=As(),{typeforce:AS}=Rd,d2e=_c.OPS.OP_RESERVED;function ast(t){return Rd.Number(t)&&(t===_c.OPS.OP_0||t>=_c.OPS.OP_1&&t<=_c.OPS.OP_16||t===_c.OPS.OP_1NEGATE)}o(ast,"isOPInt");function h2e(t){return Rd.Buffer(t)||ast(t)}o(h2e,"isPushOnlyChunk");function p2e(t){return Rd.Array(t)&&t.every(h2e)}o(p2e,"isPushOnly");Vn.isPushOnly=p2e;function cst(t){return t.length-t.filter(h2e).length}o(cst,"countNonPushOnlyOPs");Vn.countNonPushOnlyOPs=cst;function i7(t){if(t.length===0)return _c.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return d2e+t[0];if(t[0]===129)return _c.OPS.OP_1NEGATE}}o(i7,"asMinimalOP");function m2e(t){return Buffer.isBuffer(t)}o(m2e,"chunksIsBuffer");function fst(t){return Rd.Array(t)}o(fst,"chunksIsArray");function o7(t){return Buffer.isBuffer(t)}o(o7,"singleChunkIsBuffer");function g2e(t){if(m2e(t))return t;AS(Rd.Array,t);let e=t.reduce((i,s)=>o7(s)?s.length===1&&i7(s)!==void 0?i+1:i+SV.encodingLength(s.length)+s.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(o7(i)){let s=i7(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=SV.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}o(g2e,"compile");Vn.compile=g2e;function AV(t){if(fst(t))return t;AS(Rd.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>_c.OPS.OP_0&&n<=_c.OPS.OP_PUSHDATA4){let i=SV.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let a=i7(s);a!==void 0?e.push(a):e.push(s)}else e.push(n),r+=1}return e}o(AV,"decompile");Vn.decompile=AV;function ust(t){return m2e(t)&&(t=AV(t)),t.map(e=>{if(o7(e)){let r=i7(e);if(r===void 0)return e.toString("hex");e=r}return _c.REVERSE_OPS[e]}).join(" ")}o(ust,"toASM");Vn.toASM=ust;function lst(t){return AS(Rd.String,t),g2e(t.split(" ").map(e=>_c.OPS[e]!==void 0?_c.OPS[e]:(AS(Rd.Hex,e),Buffer.from(e,"hex"))))}o(lst,"fromASM");Vn.fromASM=lst;function dst(t){return t=AV(t),AS(p2e,t),t.map(e=>o7(e)?e:e===_c.OPS.OP_0?Buffer.allocUnsafe(0):l2e.encode(e-d2e))}o(dst,"toStack");Vn.toStack=dst;function hst(t){return Rd.isPoint(t)}o(hst,"isCanonicalPubKey");Vn.isCanonicalPubKey=hst;function y2e(t){let e=t&-129;return e>0&&e<4}o(y2e,"isDefinedHashType");Vn.isDefinedHashType=y2e;function pst(t){return!Buffer.isBuffer(t)||!y2e(t[t.length-1])?!1:ost.check(t.slice(0,-1))}o(pst,"isCanonicalScriptSignature");Vn.isCanonicalScriptSignature=pst;Vn.number=l2e;Vn.signature=sst});var t0=j(Hv=>{"use strict";p();m();Object.defineProperty(Hv,"__esModule",{value:!0});Hv.value=Hv.prop=void 0;function mst(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}o(mst,"prop");Hv.prop=mst;function gst(t){let e;return()=>(e!==void 0||(e=t()),e)}o(gst,"value");Hv.value=gst});var v2e=j(a7=>{"use strict";p();m();Object.defineProperty(a7,"__esModule",{value:!0});a7.p2data=void 0;var yst=ou(),s7=ja(),r0=As(),b2e=t0(),x2e=s7.OPS;function bst(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(bst,"stacksEqual");function xst(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,r0.typeforce)({network:r0.typeforce.maybe(r0.typeforce.Object),output:r0.typeforce.maybe(r0.typeforce.Buffer),data:r0.typeforce.maybe(r0.typeforce.arrayOf(r0.typeforce.Buffer))},t);let n={name:"embed",network:t.network||yst.bitcoin};if(b2e.prop(n,"output",()=>{if(t.data)return s7.compile([x2e.OP_RETURN].concat(t.data))}),b2e.prop(n,"data",()=>{if(t.output)return s7.decompile(t.output).slice(1)}),e.validate&&t.output){let i=s7.decompile(t.output);if(i[0]!==x2e.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(r0.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!bst(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}o(xst,"p2data");a7.p2data=xst});var w2e=j(f7=>{"use strict";p();m();Object.defineProperty(f7,"__esModule",{value:!0});f7.p2ms=void 0;var vst=ou(),qv=ja(),Co=As(),Sm=t0(),Vv=qv.OPS,c7=Vv.OP_RESERVED;function _2e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(_2e,"stacksEqual");function _st(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return qv.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===Vv.OP_0)!==void 0}o(r,"isAcceptableSignature"),(0,Co.typeforce)({network:Co.typeforce.maybe(Co.typeforce.Object),m:Co.typeforce.maybe(Co.typeforce.Number),n:Co.typeforce.maybe(Co.typeforce.Number),output:Co.typeforce.maybe(Co.typeforce.Buffer),pubkeys:Co.typeforce.maybe(Co.typeforce.arrayOf(Co.isPoint)),signatures:Co.typeforce.maybe(Co.typeforce.arrayOf(r)),input:Co.typeforce.maybe(Co.typeforce.Buffer)},t);let i={network:t.network||vst.bitcoin},s=[],a=!1;function c(l){a||(a=!0,s=qv.decompile(l),i.m=s[0]-c7,i.n=s[s.length-2]-c7,i.pubkeys=s.slice(1,-2))}if(o(c,"decode"),Sm.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return qv.compile([].concat(c7+t.m,t.pubkeys,c7+i.n,Vv.OP_CHECKMULTISIG))}),Sm.prop(i,"m",()=>{if(i.output)return c(i.output),i.m}),Sm.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),Sm.prop(i,"pubkeys",()=>{if(t.output)return c(t.output),i.pubkeys}),Sm.prop(i,"signatures",()=>{if(t.input)return qv.decompile(t.input).slice(1)}),Sm.prop(i,"input",()=>{if(t.signatures)return qv.compile([Vv.OP_0].concat(t.signatures))}),Sm.prop(i,"witness",()=>{if(i.input)return[]}),Sm.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(c(t.output),!Co.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!Co.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==Vv.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,Co.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!_2e(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Vv.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!_2e(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}o(_st,"p2ms");f7.p2ms=_st});var S2e=j(u7=>{"use strict";p();m();Object.defineProperty(u7,"__esModule",{value:!0});u7.p2pk=void 0;var wst=ou(),zv=ja(),ll=As(),jv=t0(),E2e=zv.OPS;function Est(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ll.typeforce)({network:ll.typeforce.maybe(ll.typeforce.Object),output:ll.typeforce.maybe(ll.typeforce.Buffer),pubkey:ll.typeforce.maybe(ll.isPoint),signature:ll.typeforce.maybe(zv.isCanonicalScriptSignature),input:ll.typeforce.maybe(ll.typeforce.Buffer)},t);let r=jv.value(()=>zv.decompile(t.input)),i={name:"p2pk",network:t.network||wst.bitcoin};if(jv.prop(i,"output",()=>{if(t.pubkey)return zv.compile([t.pubkey,E2e.OP_CHECKSIG])}),jv.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),jv.prop(i,"signature",()=>{if(t.input)return r()[0]}),jv.prop(i,"input",()=>{if(t.signature)return zv.compile([t.signature])}),jv.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==E2e.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,ll.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!zv.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}o(Est,"p2pk");u7.p2pk=Est});var A2e=j(l7=>{"use strict";p();m();Object.defineProperty(l7,"__esModule",{value:!0});l7.crypto=void 0;l7.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var h7=j(Gt=>{"use strict";p();m();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.wrapXOFConstructorWithOpts=Gt.wrapConstructorWithOpts=Gt.wrapConstructor=Gt.Hash=Gt.nextTick=Gt.swap32IfBE=Gt.byteSwapIfBE=Gt.swap8IfBE=Gt.isLE=void 0;Gt.isBytes=I2e;Gt.anumber=TV;Gt.abytes=$v;Gt.ahash=Sst;Gt.aexists=Ast;Gt.aoutput=Tst;Gt.u8=Ist;Gt.u32=Rst;Gt.clean=Ost;Gt.createView=Mst;Gt.rotr=Nst;Gt.rotl=Cst;Gt.byteSwap=RV;Gt.byteSwap32=R2e;Gt.bytesToHex=Bst;Gt.hexToBytes=Pst;Gt.asyncLoop=Dst;Gt.utf8ToBytes=OV;Gt.bytesToUtf8=Ust;Gt.toBytes=d7;Gt.kdfInputToBytes=Fst;Gt.concatBytes=Hst;Gt.checkOpts=qst;Gt.createHasher=M2e;Gt.createOptHasher=N2e;Gt.createXOFer=C2e;Gt.randomBytes=Vst;var Kv=A2e();function I2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(I2e,"isBytes");function TV(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(TV,"anumber");function $v(t,...e){if(!I2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o($v,"abytes");function Sst(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");TV(t.outputLen),TV(t.blockLen)}o(Sst,"ahash");function Ast(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(Ast,"aexists");function Tst(t,e){$v(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(Tst,"aoutput");function Ist(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(Ist,"u8");function Rst(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(Rst,"u32");function Ost(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(Ost,"clean");function Mst(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(Mst,"createView");function Nst(t,e){return t<<32-e|t>>>e}o(Nst,"rotr");function Cst(t,e){return t<<e|t>>>32-e>>>0}o(Cst,"rotl");Gt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function RV(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(RV,"byteSwap");Gt.swap8IfBE=Gt.isLE?t=>t:t=>RV(t);Gt.byteSwapIfBE=Gt.swap8IfBE;function R2e(t){for(let e=0;e<t.length;e++)t[e]=RV(t[e]);return t}o(R2e,"byteSwap32");Gt.swap32IfBE=Gt.isLE?t=>t:R2e;var O2e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",kst=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bst(t){if($v(t),O2e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=kst[t[r]];return e}o(Bst,"bytesToHex");var n0={_0:48,_9:57,A:65,F:70,a:97,f:102};function T2e(t){if(t>=n0._0&&t<=n0._9)return t-n0._0;if(t>=n0.A&&t<=n0.F)return t-(n0.A-10);if(t>=n0.a&&t<=n0.f)return t-(n0.a-10)}o(T2e,"asciiToBase16");function Pst(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(O2e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=T2e(t.charCodeAt(s)),c=T2e(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(Pst,"hexToBytes");var Lst=o(async()=>{},"nextTick");Gt.nextTick=Lst;async function Dst(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Gt.nextTick)(),n+=s)}}o(Dst,"asyncLoop");function OV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(OV,"utf8ToBytes");function Ust(t){return new TextDecoder().decode(t)}o(Ust,"bytesToUtf8");function d7(t){return typeof t=="string"&&(t=OV(t)),$v(t),t}o(d7,"toBytes");function Fst(t){return typeof t=="string"&&(t=OV(t)),$v(t),t}o(Fst,"kdfInputToBytes");function Hst(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];$v(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Hst,"concatBytes");function qst(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(qst,"checkOpts");var IV=class{static{o(this,"Hash")}};Gt.Hash=IV;function M2e(t){let e=o(n=>t().update(d7(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(M2e,"createHasher");function N2e(t){let e=o((n,i)=>t(i).update(d7(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(N2e,"createOptHasher");function C2e(t){let e=o((n,i)=>t(i).update(d7(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(C2e,"createXOFer");Gt.wrapConstructor=M2e;Gt.wrapConstructorWithOpts=N2e;Gt.wrapXOFConstructorWithOpts=C2e;function Vst(t=32){if(Kv.crypto&&typeof Kv.crypto.getRandomValues=="function")return Kv.crypto.getRandomValues(new Uint8Array(t));if(Kv.crypto&&typeof Kv.crypto.randomBytes=="function")return Uint8Array.from(Kv.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(Vst,"randomBytes")});var NV=j(za=>{"use strict";p();m();Object.defineProperty(za,"__esModule",{value:!0});za.SHA512_IV=za.SHA384_IV=za.SHA224_IV=za.SHA256_IV=za.HashMD=void 0;za.setBigUint64=k2e;za.Chi=jst;za.Maj=zst;var Od=h7();function k2e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(k2e,"setBigUint64");function jst(t,e,r){return t&e^~t&r}o(jst,"Chi");function zst(t,e,r){return t&e^t&r^e&r}o(zst,"Maj");var MV=class extends Od.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Od.createView)(this.buffer)}update(e){(0,Od.aexists)(this),e=(0,Od.toBytes)(e),(0,Od.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,Od.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Od.aexists)(this),(0,Od.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Od.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;k2e(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Od.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};za.HashMD=MV;za.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);za.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);za.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);za.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var kV=j(wc=>{"use strict";p();m();Object.defineProperty(wc,"__esModule",{value:!0});wc.ripemd160=wc.RIPEMD160=wc.md5=wc.MD5=wc.sha1=wc.SHA1=void 0;var e1=NV(),Ts=h7(),Gv=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),Am=new Uint32Array(80),g7=class extends e1.HashMD{static{o(this,"SHA1")}constructor(){super(64,20,8,!1),this.A=Gv[0]|0,this.B=Gv[1]|0,this.C=Gv[2]|0,this.D=Gv[3]|0,this.E=Gv[4]|0}get(){let{A:e,B:r,C:n,D:i,E:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)Am[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)Am[l]=(0,Ts.rotl)(Am[l-3]^Am[l-8]^Am[l-14]^Am[l-16],1);let{A:n,B:i,C:s,D:a,E:c}=this;for(let l=0;l<80;l++){let h,y;l<20?(h=(0,e1.Chi)(i,s,a),y=1518500249):l<40?(h=i^s^a,y=1859775393):l<60?(h=(0,e1.Maj)(i,s,a),y=2400959708):(h=i^s^a,y=3395469782);let g=(0,Ts.rotl)(n,5)+h+c+y+Am[l]|0;c=a,a=s,s=(0,Ts.rotl)(i,30),i=n,n=g}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,this.set(n,i,s,a,c)}roundClean(){(0,Ts.clean)(Am)}destroy(){this.set(0,0,0,0,0),(0,Ts.clean)(this.buffer)}};wc.SHA1=g7;wc.sha1=(0,Ts.createHasher)(()=>new g7);var Kst=Math.pow(2,32),$st=Array.from({length:64},(t,e)=>Math.floor(Kst*Math.abs(Math.sin(e+1)))),p7=Gv.slice(0,4),CV=new Uint32Array(16),y7=class extends e1.HashMD{static{o(this,"MD5")}constructor(){super(64,16,8,!0),this.A=p7[0]|0,this.B=p7[1]|0,this.C=p7[2]|0,this.D=p7[3]|0}get(){let{A:e,B:r,C:n,D:i}=this;return[e,r,n,i]}set(e,r,n,i){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0}process(e,r){for(let c=0;c<16;c++,r+=4)CV[c]=e.getUint32(r,!0);let{A:n,B:i,C:s,D:a}=this;for(let c=0;c<64;c++){let l,h,y;c<16?(l=(0,e1.Chi)(i,s,a),h=c,y=[7,12,17,22]):c<32?(l=(0,e1.Chi)(a,i,s),h=(5*c+1)%16,y=[5,9,14,20]):c<48?(l=i^s^a,h=(3*c+5)%16,y=[4,11,16,23]):(l=s^(i|~a),h=7*c%16,y=[6,10,15,21]),l=l+n+$st[c]+CV[h],n=a,a=s,s=i,i=i+(0,Ts.rotl)(l,y[c%4])}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,this.set(n,i,s,a)}roundClean(){(0,Ts.clean)(CV)}destroy(){this.set(0,0,0,0),(0,Ts.clean)(this.buffer)}};wc.MD5=y7;wc.md5=(0,Ts.createHasher)(()=>new y7);var Gst=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),P2e=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),Wst=P2e.map(t=>(9*t+5)%16),L2e=(()=>{let r=[[P2e],[Wst]];for(let n=0;n<4;n++)for(let i of r)i.push(i[n].map(s=>Gst[s]));return r})(),D2e=L2e[0],U2e=L2e[1],F2e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),Yst=D2e.map((t,e)=>t.map(r=>F2e[e][r])),Xst=U2e.map((t,e)=>t.map(r=>F2e[e][r])),Zst=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Jst=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function B2e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(B2e,"ripemd_f");var m7=new Uint32Array(16),b7=class extends e1.HashMD{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let T=0;T<16;T++,r+=4)m7[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,c=this.h2|0,l=c,h=this.h3|0,y=h,g=this.h4|0,E=g;for(let T=0;T<5;T++){let O=4-T,M=Zst[T],k=Jst[T],C=D2e[T],B=U2e[T],N=Yst[T],P=Xst[T];for(let H=0;H<16;H++){let F=(0,Ts.rotl)(n+B2e(T,s,c,h)+m7[C[H]]+M,N[H])+g|0;n=g,g=h,h=(0,Ts.rotl)(c,10)|0,c=s,s=F}for(let H=0;H<16;H++){let F=(0,Ts.rotl)(i+B2e(O,a,l,y)+m7[B[H]]+k,P[H])+E|0;i=E,E=y,y=(0,Ts.rotl)(l,10)|0,l=a,a=F}}this.set(this.h1+c+y|0,this.h2+h+E|0,this.h3+g+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){(0,Ts.clean)(m7)}destroy(){this.destroyed=!0,(0,Ts.clean)(this.buffer),this.set(0,0,0,0,0)}};wc.RIPEMD160=b7;wc.ripemd160=(0,Ts.createHasher)(()=>new b7)});var q2e=j(Wv=>{"use strict";p();m();Object.defineProperty(Wv,"__esModule",{value:!0});Wv.ripemd160=Wv.RIPEMD160=void 0;var H2e=kV();Wv.RIPEMD160=H2e.RIPEMD160;Wv.ripemd160=H2e.ripemd160});var j2e=j(Yv=>{"use strict";p();m();Object.defineProperty(Yv,"__esModule",{value:!0});Yv.sha1=Yv.SHA1=void 0;var V2e=kV();Yv.SHA1=V2e.SHA1;Yv.sha1=V2e.sha1});var l_e=j(ur=>{"use strict";p();m();Object.defineProperty(ur,"__esModule",{value:!0});ur.toBig=ur.shrSL=ur.shrSH=ur.rotrSL=ur.rotrSH=ur.rotrBL=ur.rotrBH=ur.rotr32L=ur.rotr32H=ur.rotlSL=ur.rotlSH=ur.rotlBL=ur.rotlBH=ur.add5L=ur.add5H=ur.add4L=ur.add4H=ur.add3L=ur.add3H=void 0;ur.add=i_e;ur.fromBig=PV;ur.split=z2e;var x7=BigInt(2**32-1),BV=BigInt(32);function PV(t,e=!1){return e?{h:Number(t&x7),l:Number(t>>BV&x7)}:{h:Number(t>>BV&x7)|0,l:Number(t&x7)|0}}o(PV,"fromBig");function z2e(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=PV(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(z2e,"split");var K2e=o((t,e)=>BigInt(t>>>0)<<BV|BigInt(e>>>0),"toBig");ur.toBig=K2e;var $2e=o((t,e,r)=>t>>>r,"shrSH");ur.shrSH=$2e;var G2e=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");ur.shrSL=G2e;var W2e=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");ur.rotrSH=W2e;var Y2e=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");ur.rotrSL=Y2e;var X2e=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");ur.rotrBH=X2e;var Z2e=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");ur.rotrBL=Z2e;var J2e=o((t,e)=>e,"rotr32H");ur.rotr32H=J2e;var Q2e=o((t,e)=>t,"rotr32L");ur.rotr32L=Q2e;var e_e=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");ur.rotlSH=e_e;var t_e=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");ur.rotlSL=t_e;var r_e=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");ur.rotlBH=r_e;var n_e=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");ur.rotlBL=n_e;function i_e(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(i_e,"add");var o_e=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");ur.add3L=o_e;var s_e=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");ur.add3H=s_e;var a_e=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");ur.add4L=a_e;var c_e=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");ur.add4H=c_e;var f_e=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");ur.add5L=f_e;var u_e=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");ur.add5H=u_e;var Qst={fromBig:PV,split:z2e,toBig:K2e,shrSH:$2e,shrSL:G2e,rotrSH:W2e,rotrSL:Y2e,rotrBH:X2e,rotrBL:Z2e,rotr32H:J2e,rotr32L:Q2e,rotlSH:e_e,rotlSL:t_e,rotlBH:r_e,rotlBL:n_e,add:i_e,add3L:o_e,add3H:s_e,add4L:a_e,add4H:c_e,add5H:u_e,add5L:f_e};ur.default=Qst});var h_e=j(si=>{"use strict";p();m();Object.defineProperty(si,"__esModule",{value:!0});si.sha512_224=si.sha512_256=si.sha384=si.sha512=si.sha224=si.sha256=si.SHA512_256=si.SHA512_224=si.SHA384=si.SHA512=si.SHA224=si.SHA256=void 0;var jt=NV(),Mr=l_e(),vo=h7(),eat=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tm=new Uint32Array(64),TS=class extends jt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=jt.SHA256_IV[0]|0,this.B=jt.SHA256_IV[1]|0,this.C=jt.SHA256_IV[2]|0,this.D=jt.SHA256_IV[3]|0,this.E=jt.SHA256_IV[4]|0,this.F=jt.SHA256_IV[5]|0,this.G=jt.SHA256_IV[6]|0,this.H=jt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)Tm[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=Tm[g-15],T=Tm[g-2],O=(0,vo.rotr)(E,7)^(0,vo.rotr)(E,18)^E>>>3,M=(0,vo.rotr)(T,17)^(0,vo.rotr)(T,19)^T>>>10;Tm[g]=M+Tm[g-7]+O+Tm[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=(0,vo.rotr)(c,6)^(0,vo.rotr)(c,11)^(0,vo.rotr)(c,25),T=y+E+(0,jt.Chi)(c,l,h)+eat[g]+Tm[g]|0,M=((0,vo.rotr)(n,2)^(0,vo.rotr)(n,13)^(0,vo.rotr)(n,22))+(0,jt.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){(0,vo.clean)(Tm)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,vo.clean)(this.buffer)}};si.SHA256=TS;var v7=class extends TS{static{o(this,"SHA224")}constructor(){super(28),this.A=jt.SHA224_IV[0]|0,this.B=jt.SHA224_IV[1]|0,this.C=jt.SHA224_IV[2]|0,this.D=jt.SHA224_IV[3]|0,this.E=jt.SHA224_IV[4]|0,this.F=jt.SHA224_IV[5]|0,this.G=jt.SHA224_IV[6]|0,this.H=jt.SHA224_IV[7]|0}};si.SHA224=v7;var d_e=Mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),tat=d_e[0],rat=d_e[1],Im=new Uint32Array(80),Rm=new Uint32Array(80),t1=class extends jt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=jt.SHA512_IV[0]|0,this.Al=jt.SHA512_IV[1]|0,this.Bh=jt.SHA512_IV[2]|0,this.Bl=jt.SHA512_IV[3]|0,this.Ch=jt.SHA512_IV[4]|0,this.Cl=jt.SHA512_IV[5]|0,this.Dh=jt.SHA512_IV[6]|0,this.Dl=jt.SHA512_IV[7]|0,this.Eh=jt.SHA512_IV[8]|0,this.El=jt.SHA512_IV[9]|0,this.Fh=jt.SHA512_IV[10]|0,this.Fl=jt.SHA512_IV[11]|0,this.Gh=jt.SHA512_IV[12]|0,this.Gl=jt.SHA512_IV[13]|0,this.Hh=jt.SHA512_IV[14]|0,this.Hl=jt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)Im[N]=e.getUint32(r),Rm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=Im[N-15]|0,H=Rm[N-15]|0,F=Mr.rotrSH(P,H,1)^Mr.rotrSH(P,H,8)^Mr.shrSH(P,H,7),Z=Mr.rotrSL(P,H,1)^Mr.rotrSL(P,H,8)^Mr.shrSL(P,H,7),W=Im[N-2]|0,X=Rm[N-2]|0,S=Mr.rotrSH(W,X,19)^Mr.rotrBH(W,X,61)^Mr.shrSH(W,X,6),f=Mr.rotrSL(W,X,19)^Mr.rotrBL(W,X,61)^Mr.shrSL(W,X,6),d=Mr.add4L(Z,f,Rm[N-7],Rm[N-16]),b=Mr.add4H(d,F,S,Im[N-7],Im[N-16]);Im[N]=b|0,Rm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Mr.rotrSH(g,E,14)^Mr.rotrSH(g,E,18)^Mr.rotrBH(g,E,41),H=Mr.rotrSL(g,E,14)^Mr.rotrSL(g,E,18)^Mr.rotrBL(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=Mr.add5L(B,H,Z,rat[N],Rm[N]),X=Mr.add5H(W,C,P,F,tat[N],Im[N]),S=W|0,f=Mr.rotrSH(n,i,28)^Mr.rotrBH(n,i,34)^Mr.rotrBH(n,i,39),d=Mr.rotrSL(n,i,28)^Mr.rotrBL(n,i,34)^Mr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=Mr.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Mr.add3L(S,d,x);n=Mr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Mr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Mr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Mr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Mr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=Mr.add(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=Mr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Mr.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Mr.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){(0,vo.clean)(Im,Rm)}destroy(){(0,vo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};si.SHA512=t1;var _7=class extends t1{static{o(this,"SHA384")}constructor(){super(48),this.Ah=jt.SHA384_IV[0]|0,this.Al=jt.SHA384_IV[1]|0,this.Bh=jt.SHA384_IV[2]|0,this.Bl=jt.SHA384_IV[3]|0,this.Ch=jt.SHA384_IV[4]|0,this.Cl=jt.SHA384_IV[5]|0,this.Dh=jt.SHA384_IV[6]|0,this.Dl=jt.SHA384_IV[7]|0,this.Eh=jt.SHA384_IV[8]|0,this.El=jt.SHA384_IV[9]|0,this.Fh=jt.SHA384_IV[10]|0,this.Fl=jt.SHA384_IV[11]|0,this.Gh=jt.SHA384_IV[12]|0,this.Gl=jt.SHA384_IV[13]|0,this.Hh=jt.SHA384_IV[14]|0,this.Hl=jt.SHA384_IV[15]|0}};si.SHA384=_7;var ya=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),ba=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),w7=class extends t1{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=ya[0]|0,this.Al=ya[1]|0,this.Bh=ya[2]|0,this.Bl=ya[3]|0,this.Ch=ya[4]|0,this.Cl=ya[5]|0,this.Dh=ya[6]|0,this.Dl=ya[7]|0,this.Eh=ya[8]|0,this.El=ya[9]|0,this.Fh=ya[10]|0,this.Fl=ya[11]|0,this.Gh=ya[12]|0,this.Gl=ya[13]|0,this.Hh=ya[14]|0,this.Hl=ya[15]|0}};si.SHA512_224=w7;var E7=class extends t1{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=ba[0]|0,this.Al=ba[1]|0,this.Bh=ba[2]|0,this.Bl=ba[3]|0,this.Ch=ba[4]|0,this.Cl=ba[5]|0,this.Dh=ba[6]|0,this.Dl=ba[7]|0,this.Eh=ba[8]|0,this.El=ba[9]|0,this.Fh=ba[10]|0,this.Fl=ba[11]|0,this.Gh=ba[12]|0,this.Gl=ba[13]|0,this.Hh=ba[14]|0,this.Hl=ba[15]|0}};si.SHA512_256=E7;si.sha256=(0,vo.createHasher)(()=>new TS);si.sha224=(0,vo.createHasher)(()=>new v7);si.sha512=(0,vo.createHasher)(()=>new t1);si.sha384=(0,vo.createHasher)(()=>new _7);si.sha512_256=(0,vo.createHasher)(()=>new E7);si.sha512_224=(0,vo.createHasher)(()=>new w7)});var p_e=j(Md=>{"use strict";p();m();Object.defineProperty(Md,"__esModule",{value:!0});Md.sha224=Md.SHA224=Md.sha256=Md.SHA256=void 0;var S7=h_e();Md.SHA256=S7.SHA256;Md.sha256=S7.sha256;Md.SHA224=S7.SHA224;Md.sha224=S7.sha224});var Nd=j(ko=>{"use strict";p();m();Object.defineProperty(ko,"__esModule",{value:!0});ko.taggedHash=ko.TAGGED_HASH_PREFIXES=ko.TAGS=ko.hash256=ko.hash160=ko.sha256=ko.sha1=ko.ripemd160=void 0;var{Buffer:Ka}=li(),m_e=q2e(),nat=j2e(),A7=p_e();function iat(t){return Ka.from((0,m_e.ripemd160)(Uint8Array.from(t)))}o(iat,"ripemd160");ko.ripemd160=iat;function oat(t){return Ka.from((0,nat.sha1)(Uint8Array.from(t)))}o(oat,"sha1");ko.sha1=oat;function g_e(t){return Ka.from((0,A7.sha256)(Uint8Array.from(t)))}o(g_e,"sha256");ko.sha256=g_e;function sat(t){return Ka.from((0,m_e.ripemd160)((0,A7.sha256)(Uint8Array.from(t))))}o(sat,"hash160");ko.hash160=sat;function aat(t){return Ka.from((0,A7.sha256)((0,A7.sha256)(Uint8Array.from(t))))}o(aat,"hash256");ko.hash256=aat;ko.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];ko.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Ka.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Ka.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Ka.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Ka.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Ka.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Ka.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Ka.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Ka.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Ka.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function cat(t,e){return g_e(Ka.concat([ko.TAGGED_HASH_PREFIXES[t],e]))}o(cat,"taggedHash");ko.taggedHash=cat});var b_e=j(T7=>{"use strict";p();m();Object.defineProperty(T7,"__esModule",{value:!0});T7.p2pkh=void 0;var LV=Nd(),fat=ou(),Xv=ja(),$a=As(),i0=t0(),y_e=Iv(),Om=Xv.OPS;function uat(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,$a.typeforce)({network:$a.typeforce.maybe($a.typeforce.Object),address:$a.typeforce.maybe($a.typeforce.String),hash:$a.typeforce.maybe($a.typeforce.BufferN(20)),output:$a.typeforce.maybe($a.typeforce.BufferN(25)),pubkey:$a.typeforce.maybe($a.isPoint),signature:$a.typeforce.maybe(Xv.isCanonicalScriptSignature),input:$a.typeforce.maybe($a.typeforce.Buffer)},t);let r=i0.value(()=>{let a=Buffer.from(y_e.decode(t.address)),c=a.readUInt8(0),l=a.slice(1);return{version:c,hash:l}}),n=i0.value(()=>Xv.decompile(t.input)),i=t.network||fat.bitcoin,s={name:"p2pkh",network:i};if(i0.prop(s,"address",()=>{if(!s.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(i.pubKeyHash,0),s.hash.copy(a,1),y_e.encode(a)}),i0.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return LV.hash160(t.pubkey||s.pubkey)}),i0.prop(s,"output",()=>{if(s.hash)return Xv.compile([Om.OP_DUP,Om.OP_HASH160,s.hash,Om.OP_EQUALVERIFY,Om.OP_CHECKSIG])}),i0.prop(s,"pubkey",()=>{if(t.input)return n()[1]}),i0.prop(s,"signature",()=>{if(t.input)return n()[0]}),i0.prop(s,"input",()=>{if(t.pubkey&&t.signature)return Xv.compile([t.signature,t.pubkey])}),i0.prop(s,"witness",()=>{if(s.input)return[]}),e.validate){let a=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");a=r().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Om.OP_DUP||t.output[1]!==Om.OP_HASH160||t.output[2]!==20||t.output[23]!==Om.OP_EQUALVERIFY||t.output[24]!==Om.OP_CHECKSIG)throw new TypeError("Output is invalid");let c=t.output.slice(3,23);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.pubkey){let c=LV.hash160(t.pubkey);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.input){let c=n();if(c.length!==2)throw new TypeError("Input is invalid");if(!Xv.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!(0,$a.isPoint)(c[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");let l=LV.hash160(c[1]);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}o(uat,"p2pkh");T7.p2pkh=uat});var __e=j(I7=>{"use strict";p();m();Object.defineProperty(I7,"__esModule",{value:!0});I7.p2sh=void 0;var x_e=Nd(),lat=ou(),kd=ja(),Ti=As(),Cd=t0(),v_e=Iv(),IS=kd.OPS;function dat(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(dat,"stacksEqual");function hat(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ti.typeforce)({network:Ti.typeforce.maybe(Ti.typeforce.Object),address:Ti.typeforce.maybe(Ti.typeforce.String),hash:Ti.typeforce.maybe(Ti.typeforce.BufferN(20)),output:Ti.typeforce.maybe(Ti.typeforce.BufferN(23)),redeem:Ti.typeforce.maybe({network:Ti.typeforce.maybe(Ti.typeforce.Object),output:Ti.typeforce.maybe(Ti.typeforce.Buffer),input:Ti.typeforce.maybe(Ti.typeforce.Buffer),witness:Ti.typeforce.maybe(Ti.typeforce.arrayOf(Ti.typeforce.Buffer))}),input:Ti.typeforce.maybe(Ti.typeforce.Buffer),witness:Ti.typeforce.maybe(Ti.typeforce.arrayOf(Ti.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||lat.bitcoin);let n={network:r},i=Cd.value(()=>{let c=Buffer.from(v_e.decode(t.address)),l=c.readUInt8(0),h=c.slice(1);return{version:l,hash:h}}),s=Cd.value(()=>kd.decompile(t.input)),a=Cd.value(()=>{let c=s(),l=c[c.length-1];return{network:r,output:l===IS.OP_FALSE?Buffer.from([]):l,input:kd.compile(c.slice(0,-1)),witness:t.witness||[]}});if(Cd.prop(n,"address",()=>{if(!n.hash)return;let c=Buffer.allocUnsafe(21);return c.writeUInt8(n.network.scriptHash,0),n.hash.copy(c,1),v_e.encode(c)}),Cd.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return x_e.hash160(n.redeem.output)}),Cd.prop(n,"output",()=>{if(n.hash)return kd.compile([IS.OP_HASH160,n.hash,IS.OP_EQUAL])}),Cd.prop(n,"redeem",()=>{if(t.input)return a()}),Cd.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return kd.compile([].concat(kd.decompile(t.redeem.input),t.redeem.output))}),Cd.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Cd.prop(n,"name",()=>{let c=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&c.push(n.redeem.name),c.join("-")}),e.validate){let c=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(t.hash){if(c.length>0&&!c.equals(t.hash))throw new TypeError("Hash mismatch");c=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==IS.OP_HASH160||t.output[1]!==20||t.output[22]!==IS.OP_EQUAL)throw new TypeError("Output is invalid");let h=t.output.slice(2,22);if(c.length>0&&!c.equals(h))throw new TypeError("Hash mismatch");c=h}let l=o(h=>{if(h.output){let y=kd.decompile(h.output);if(!y||y.length<1)throw new TypeError("Redeem.output too short");if(h.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(kd.countNonPushOnlyOPs(y)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let g=x_e.hash160(h.output);if(c.length>0&&!c.equals(g))throw new TypeError("Hash mismatch");c=g}if(h.input){let y=h.input.length>0,g=h.witness&&h.witness.length>0;if(!y&&!g)throw new TypeError("Empty input");if(y&&g)throw new TypeError("Input and witness provided");if(y){let E=kd.decompile(h.input);if(!kd.isPushOnly(E))throw new TypeError("Non push-only scriptSig")}}},"checkRedeem");if(t.input){let h=s();if(!h||h.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(a().output))throw new TypeError("Input is invalid");l(a())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let h=a();if(t.redeem.output&&!t.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!dat(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}o(hat,"p2sh");I7.p2sh=hat});var E_e=j(M7=>{"use strict";p();m();Object.defineProperty(M7,"__esModule",{value:!0});M7.p2wpkh=void 0;var{Buffer:UV}=li(),DV=Nd(),pat=ou(),O7=ja(),Bo=As(),Mm=t0(),R7=Ev(),w_e=O7.OPS,mat=UV.alloc(0);function gat(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Bo.typeforce)({address:Bo.typeforce.maybe(Bo.typeforce.String),hash:Bo.typeforce.maybe(Bo.typeforce.BufferN(20)),input:Bo.typeforce.maybe(Bo.typeforce.BufferN(0)),network:Bo.typeforce.maybe(Bo.typeforce.Object),output:Bo.typeforce.maybe(Bo.typeforce.BufferN(22)),pubkey:Bo.typeforce.maybe(Bo.isPoint),signature:Bo.typeforce.maybe(O7.isCanonicalScriptSignature),witness:Bo.typeforce.maybe(Bo.typeforce.arrayOf(Bo.typeforce.Buffer))},t);let r=Mm.value(()=>{let s=R7.bech32.decode(t.address),a=s.words.shift(),c=R7.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:UV.from(c)}}),n=t.network||pat.bitcoin,i={name:"p2wpkh",network:n};if(Mm.prop(i,"address",()=>{if(!i.hash)return;let s=R7.bech32.toWords(i.hash);return s.unshift(0),R7.bech32.encode(n.bech32,s)}),Mm.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return DV.hash160(t.pubkey||i.pubkey)}),Mm.prop(i,"output",()=>{if(i.hash)return O7.compile([w_e.OP_0,i.hash])}),Mm.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),Mm.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),Mm.prop(i,"input",()=>{if(i.witness)return mat}),Mm.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let s=UV.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==w_e.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let a=DV.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");if(s=a,!(0,Bo.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!O7.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Bo.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let a=DV.hash160(t.witness[1]);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}o(gat,"p2wpkh");M7.p2wpkh=gat});var T_e=j(B7=>{"use strict";p();m();Object.defineProperty(B7,"__esModule",{value:!0});B7.p2wsh=void 0;var{Buffer:k7}=li(),S_e=Nd(),yat=ou(),s0=ja(),bi=As(),o0=t0(),N7=Ev(),A_e=s0.OPS,FV=k7.alloc(0);function bat(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(bat,"stacksEqual");function C7(t){return!!(k7.isBuffer(t)&&t.length===65&&t[0]===4&&(0,bi.isPoint)(t))}o(C7,"chunkHasUncompressedPubkey");function xat(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,bi.typeforce)({network:bi.typeforce.maybe(bi.typeforce.Object),address:bi.typeforce.maybe(bi.typeforce.String),hash:bi.typeforce.maybe(bi.typeforce.BufferN(32)),output:bi.typeforce.maybe(bi.typeforce.BufferN(34)),redeem:bi.typeforce.maybe({input:bi.typeforce.maybe(bi.typeforce.Buffer),network:bi.typeforce.maybe(bi.typeforce.Object),output:bi.typeforce.maybe(bi.typeforce.Buffer),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))}),input:bi.typeforce.maybe(bi.typeforce.BufferN(0)),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))},t);let r=o0.value(()=>{let a=N7.bech32.decode(t.address),c=a.words.shift(),l=N7.bech32.fromWords(a.words);return{version:c,prefix:a.prefix,data:k7.from(l)}}),n=o0.value(()=>s0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||yat.bitcoin);let s={network:i};if(o0.prop(s,"address",()=>{if(!s.hash)return;let a=N7.bech32.toWords(s.hash);return a.unshift(0),N7.bech32.encode(i.bech32,a)}),o0.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return S_e.sha256(s.redeem.output)}),o0.prop(s,"output",()=>{if(s.hash)return s0.compile([A_e.OP_0,s.hash])}),o0.prop(s,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:FV,witness:t.witness.slice(0,-1)}}),o0.prop(s,"input",()=>{if(s.witness)return FV}),o0.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let a=s0.toStack(n());return s.redeem=Object.assign({witness:a},t.redeem),s.redeem.input=FV,[].concat(a,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),o0.prop(s,"name",()=>{let a=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&a.push(s.redeem.name),a.join("-")}),e.validate){let a=k7.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==A_e.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let c=t.output.slice(2);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let c=s0.decompile(t.redeem.output);if(!c||c.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(s0.countNonPushOnlyOPs(c)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=S_e.sha256(t.redeem.output);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch");a=l}if(t.redeem.input&&!s0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!bat(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(C7)||t.redeem.output&&(s0.decompile(t.redeem.output)||[]).some(C7))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let c=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(C7)||(s0.decompile(c)||[]).some(C7))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}o(xat,"p2wsh");B7.p2wsh=xat});var P7=j(Zv=>{"use strict";p();m();Object.defineProperty(Zv,"__esModule",{value:!0});Zv.getEccLib=Zv.initEccLib=void 0;var RS={};function vat(t){t?t!==RS.eccLib&&(wat(t),RS.eccLib=t):RS.eccLib=t}o(vat,"initEccLib");Zv.initEccLib=vat;function _at(){if(!RS.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return RS.eccLib}o(_at,"getEccLib");Zv.getEccLib=_at;var a0=o(t=>Buffer.from(t,"hex"),"h");function wat(t){su(typeof t.isXOnlyPoint=="function"),su(t.isXOnlyPoint(a0("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),su(t.isXOnlyPoint(a0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),su(t.isXOnlyPoint(a0("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),su(t.isXOnlyPoint(a0("0000000000000000000000000000000000000000000000000000000000000001"))),su(!t.isXOnlyPoint(a0("0000000000000000000000000000000000000000000000000000000000000000"))),su(!t.isXOnlyPoint(a0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),su(typeof t.xOnlyPointAddTweak=="function"),Eat.forEach(e=>{let r=t.xOnlyPointAddTweak(a0(e.pubkey),a0(e.tweak));e.result===null?su(r===null):(su(r!==null),su(r.parity===e.parity),su(Buffer.from(r.xOnlyPubkey).equals(a0(e.result))))})}o(wat,"verifyEcc");function su(t){if(!t)throw new Error("ecc library invalid")}o(su,"assert");var Eat=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var O_e=j((alr,R_e)=>{"use strict";p();m();var HV=mr().Buffer,Sat=9007199254740991;function qV(t){if(t<0||t>Sat||t%1!==0)throw new RangeError("value out of range")}o(qV,"checkUInt53");function OS(t,e,r){if(qV(t),e||(e=HV.allocUnsafe(I_e(t))),!HV.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),OS.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),OS.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),OS.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),OS.bytes=9),e}o(OS,"encode");function MS(t,e){if(!HV.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return MS.bytes=1,r;if(r===253)return MS.bytes=3,t.readUInt16LE(e+1);if(r===254)return MS.bytes=5,t.readUInt32LE(e+1);MS.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return qV(s),s}o(MS,"decode");function I_e(t){return qV(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(I_e,"encodingLength");R_e.exports={encode:OS,decode:MS,encodingLength:I_e}});var CS=j(xa=>{"use strict";p();m();Object.defineProperty(xa,"__esModule",{value:!0});xa.BufferReader=xa.BufferWriter=xa.cloneBuffer=xa.reverseBuffer=xa.writeUInt64LE=xa.readUInt64LE=xa.varuint=void 0;var r1=As(),{typeforce:M_e}=r1,NS=O_e();xa.varuint=NS;function N_e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(N_e,"verifuint");function C_e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,N_e(n+r,9007199254740991),n+r}o(C_e,"readUInt64LE");xa.readUInt64LE=C_e;function k_e(t,e,r){return N_e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(k_e,"writeUInt64LE");xa.writeUInt64LE=k_e;function Aat(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(Aat,"reverseBuffer");xa.reverseBuffer=Aat;function Tat(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}o(Tat,"cloneBuffer");xa.cloneBuffer=Tat;var VV=class t{static{o(this,"BufferWriter")}static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,M_e(r1.tuple(r1.Buffer,r1.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=k_e(this.buffer,e,this.offset)}writeVarInt(e){NS.encode(e,this.buffer,this.offset),this.offset+=NS.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};xa.BufferWriter=VV;var jV=class{static{o(this,"BufferReader")}constructor(e,r=0){this.buffer=e,this.offset=r,M_e(r1.tuple(r1.Buffer,r1.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=C_e(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=NS.decode(this.buffer,this.offset);return this.offset+=NS.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};xa.BufferReader=jV});var L7=j(Po=>{"use strict";p();m();Object.defineProperty(Po,"__esModule",{value:!0});Po.tweakKey=Po.tapTweakHash=Po.tapleafHash=Po.findScriptPath=Po.toHashTree=Po.rootHashFromPath=Po.MAX_TAPTREE_DEPTH=Po.LEAF_VERSION_TAPSCRIPT=void 0;var Nm=li(),Iat=P7(),GV=Nd(),B_e=CS(),Rat=As();Po.LEAF_VERSION_TAPSCRIPT=192;Po.MAX_TAPTREE_DEPTH=128;var Oat=o(t=>"left"in t&&"right"in t,"isHashBranch");function Mat(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=$V(n,s):n=$V(s,n)}return n}o(Mat,"rootHashFromPath");Po.rootHashFromPath=Mat;function zV(t){if((0,Rat.isTapleaf)(t))return{hash:P_e(t)};let e=[zV(t[0]),zV(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:$V(r.hash,n.hash),left:r,right:n}}o(zV,"toHashTree");Po.toHashTree=zV;function KV(t,e){if(Oat(t)){let r=KV(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=KV(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}o(KV,"findScriptPath");Po.findScriptPath=KV;function P_e(t){let e=t.version||Po.LEAF_VERSION_TAPSCRIPT;return GV.taggedHash("TapLeaf",Nm.Buffer.concat([Nm.Buffer.from([e]),Cat(t.output)]))}o(P_e,"tapleafHash");Po.tapleafHash=P_e;function L_e(t,e){return GV.taggedHash("TapTweak",Nm.Buffer.concat(e?[t,e]:[t]))}o(L_e,"tapTweakHash");Po.tapTweakHash=L_e;function Nat(t,e){if(!Nm.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=L_e(t,e),n=(0,Iat.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Nm.Buffer.from(n.xOnlyPubkey)}}o(Nat,"tweakKey");Po.tweakKey=Nat;function $V(t,e){return GV.taggedHash("TapBranch",Nm.Buffer.concat([t,e]))}o($V,"tapBranchHash");function Cat(t){let e=B_e.varuint.encodingLength(t.length),r=Nm.Buffer.allocUnsafe(e);return B_e.varuint.encode(t.length,r),Nm.Buffer.concat([r,t])}o(Cat,"serializeScript")});var H_e=j(F7=>{"use strict";p();m();Object.defineProperty(F7,"__esModule",{value:!0});F7.p2tr=void 0;var D7=li(),kat=ou(),WV=ja(),Ur=As(),D_e=P7(),Ec=L7(),au=t0(),U7=Ev(),U_e=WV.OPS,F_e=1,Bat=80;function Pat(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ur.typeforce)({address:Ur.typeforce.maybe(Ur.typeforce.String),input:Ur.typeforce.maybe(Ur.typeforce.BufferN(0)),network:Ur.typeforce.maybe(Ur.typeforce.Object),output:Ur.typeforce.maybe(Ur.typeforce.BufferN(34)),internalPubkey:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),hash:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),pubkey:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),signature:Ur.typeforce.maybe(Ur.typeforce.anyOf(Ur.typeforce.BufferN(64),Ur.typeforce.BufferN(65))),witness:Ur.typeforce.maybe(Ur.typeforce.arrayOf(Ur.typeforce.Buffer)),scriptTree:Ur.typeforce.maybe(Ur.isTaptree),redeem:Ur.typeforce.maybe({output:Ur.typeforce.maybe(Ur.typeforce.Buffer),redeemVersion:Ur.typeforce.maybe(Ur.typeforce.Number),witness:Ur.typeforce.maybe(Ur.typeforce.arrayOf(Ur.typeforce.Buffer))}),redeemVersion:Ur.typeforce.maybe(Ur.typeforce.Number)},t);let r=au.value(()=>{let c=U7.bech32m.decode(t.address),l=c.words.shift(),h=U7.bech32m.fromWords(c.words);return{version:l,prefix:c.prefix,data:D7.Buffer.from(h)}}),n=au.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===Bat?t.witness.slice(0,-1):t.witness.slice()}),i=au.value(()=>{if(t.scriptTree)return(0,Ec.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||kat.bitcoin,a={name:"p2tr",network:s};if(au.prop(a,"address",()=>{if(!a.pubkey)return;let c=U7.bech32m.toWords(a.pubkey);return c.unshift(F_e),U7.bech32m.encode(s.bech32,c)}),au.prop(a,"hash",()=>{let c=i();if(c)return c.hash;let l=n();if(l&&l.length>1){let h=l[l.length-1],y=h[0]&Ur.TAPLEAF_VERSION_MASK,g=l[l.length-2],E=(0,Ec.tapleafHash)({output:g,version:y});return(0,Ec.rootHashFromPath)(h,E)}return null}),au.prop(a,"output",()=>{if(a.pubkey)return WV.compile([U_e.OP_1,a.pubkey])}),au.prop(a,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Ec.LEAF_VERSION_TAPSCRIPT),au.prop(a,"redeem",()=>{let c=n();if(!(!c||c.length<2))return{output:c[c.length-2],witness:c.slice(0,-2),redeemVersion:c[c.length-1][0]&Ur.TAPLEAF_VERSION_MASK}}),au.prop(a,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(a.internalPubkey){let c=(0,Ec.tweakKey)(a.internalPubkey,a.hash);if(c)return c.x}}),au.prop(a,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let c=n();if(c&&c.length>1)return c[c.length-1].slice(1,33)}),au.prop(a,"signature",()=>{if(t.signature)return t.signature;let c=n();if(!(!c||c.length!==1))return c[0]}),au.prop(a,"witness",()=>{if(t.witness)return t.witness;let c=i();if(c&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,Ec.tapleafHash)({output:t.redeem.output,version:a.redeemVersion}),h=(0,Ec.findScriptPath)(c,l);if(!h)return;let y=(0,Ec.tweakKey)(t.internalPubkey,c.hash);if(!y)return;let g=D7.Buffer.concat([D7.Buffer.from([a.redeemVersion|y.parity]),t.internalPubkey].concat(h));return[t.redeem.output,g]}if(t.signature)return[t.signature]}),e.validate){let c=D7.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==F_e)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");c=r().data}if(t.pubkey){if(c.length>0&&!c.equals(t.pubkey))throw new TypeError("Pubkey mismatch");c=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==U_e.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(c.length>0&&!c.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");c=t.output.slice(2)}if(t.internalPubkey){let y=(0,Ec.tweakKey)(t.internalPubkey,a.hash);if(c.length>0&&!c.equals(y.x))throw new TypeError("Pubkey mismatch");c=y.x}if(c&&c.length&&!(0,D_e.getEccLib)().isXOnlyPoint(c))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let y=(0,Ec.tapleafHash)({output:t.redeem.output,version:a.redeemVersion});if(!(0,Ec.findScriptPath)(l,y))throw new TypeError("Redeem script not in tree")}let h=n();if(t.redeem&&a.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==a.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(WV.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(a.redeem.output&&!t.redeem.output.equals(a.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&a.redeem.witness&&!Lat(t.redeem.witness,a.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(h.length===1){if(t.signature&&!t.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{let y=h[h.length-1];if(y.length<33)throw new TypeError(`The control-block length is too small. Got ${y.length}, expected min 33.`);if((y.length-33)%32!==0)throw new TypeError(`The control-block length of ${y.length} is incorrect!`);let g=(y.length-33)/32;if(g>128)throw new TypeError(`The script path is too long. Got ${g}, expected max 128.`);let E=y.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(E))throw new TypeError("Internal pubkey mismatch");if(!(0,D_e.getEccLib)().isXOnlyPoint(E))throw new TypeError("Invalid internalPubkey for p2tr witness");let T=y[0]&Ur.TAPLEAF_VERSION_MASK,O=h[h.length-2],M=(0,Ec.tapleafHash)({output:O,version:T}),k=(0,Ec.rootHashFromPath)(y,M),C=(0,Ec.tweakKey)(E,k);if(!C)throw new TypeError("Invalid outputKey for p2tr witness");if(c.length&&!c.equals(C.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(C.parity!==(y[0]&1))throw new Error("Incorrect parity")}}return Object.assign(a,t)}o(Pat,"p2tr");F7.p2tr=Pat;function Lat(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(Lat,"stacksEqual")});var Jv=j(os=>{"use strict";p();m();Object.defineProperty(os,"__esModule",{value:!0});os.p2tr=os.p2wsh=os.p2wpkh=os.p2sh=os.p2pkh=os.p2pk=os.p2ms=os.embed=void 0;var Dat=v2e();Object.defineProperty(os,"embed",{enumerable:!0,get:o(function(){return Dat.p2data},"get")});var Uat=w2e();Object.defineProperty(os,"p2ms",{enumerable:!0,get:o(function(){return Uat.p2ms},"get")});var Fat=S2e();Object.defineProperty(os,"p2pk",{enumerable:!0,get:o(function(){return Fat.p2pk},"get")});var Hat=b_e();Object.defineProperty(os,"p2pkh",{enumerable:!0,get:o(function(){return Hat.p2pkh},"get")});var qat=__e();Object.defineProperty(os,"p2sh",{enumerable:!0,get:o(function(){return qat.p2sh},"get")});var Vat=E_e();Object.defineProperty(os,"p2wpkh",{enumerable:!0,get:o(function(){return Vat.p2wpkh},"get")});var jat=T_e();Object.defineProperty(os,"p2wsh",{enumerable:!0,get:o(function(){return jat.p2wsh},"get")});var zat=H_e();Object.defineProperty(os,"p2tr",{enumerable:!0,get:o(function(){return zat.p2tr},"get")})});var YV=j(Sc=>{"use strict";p();m();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.toOutputScript=Sc.fromOutputScript=Sc.toBech32=Sc.toBase58Check=Sc.fromBech32=Sc.fromBase58Check=void 0;var q_e=ou(),Bd=Jv(),V_e=ja(),H7=As(),Qv=Ev(),j_e=Iv(),z_e=40,K_e=2,$_e=16,G_e=2,W_e=80,Y_e="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Kat(t,e){let r=t.slice(2);if(r.length<K_e||r.length>z_e)throw new TypeError("Invalid program length for segwit address");let n=t[0]-W_e;if(n<G_e||n>$_e)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(Y_e),J_e(r,n,e.bech32)}o(Kat,"_toFutureSegwitAddress");function X_e(t){let e=Buffer.from(j_e.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}o(X_e,"fromBase58Check");Sc.fromBase58Check=X_e;function Z_e(t){let e,r;try{e=Qv.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Qv.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Qv.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}o(Z_e,"fromBech32");Sc.fromBech32=Z_e;function $at(t,e){(0,H7.typeforce)((0,H7.tuple)(H7.Hash160bit,H7.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),j_e.encode(r)}o($at,"toBase58Check");Sc.toBase58Check=$at;function J_e(t,e,r){let n=Qv.bech32.toWords(t);return n.unshift(e),e===0?Qv.bech32.encode(r,n):Qv.bech32m.encode(r,n)}o(J_e,"toBech32");Sc.toBech32=J_e;function Gat(t,e){e=e||q_e.bitcoin;try{return Bd.p2pkh({output:t,network:e}).address}catch{}try{return Bd.p2sh({output:t,network:e}).address}catch{}try{return Bd.p2wpkh({output:t,network:e}).address}catch{}try{return Bd.p2wsh({output:t,network:e}).address}catch{}try{return Bd.p2tr({output:t,network:e}).address}catch{}try{return Kat(t,e)}catch{}throw new Error(V_e.toASM(t)+" has no matching Address")}o(Gat,"fromOutputScript");Sc.fromOutputScript=Gat;function Wat(t,e){e=e||q_e.bitcoin;let r,n;try{r=X_e(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Bd.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Bd.p2sh({hash:r.hash}).output}else{try{n=Z_e(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Bd.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Bd.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Bd.p2tr({pubkey:n.data}).output}else if(n.version>=G_e&&n.version<=$_e&&n.data.length>=K_e&&n.data.length<=z_e)return console.warn(Y_e),V_e.compile([n.version+W_e,n.data])}}throw new Error(t+" has no matching Script")}o(Wat,"toOutputScript");Sc.toOutputScript=Wat});var Q_e=j(q7=>{"use strict";p();m();Object.defineProperty(q7,"__esModule",{value:!0});q7.fastMerkleRoot=void 0;function Yat(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let s=0;s<r;s+=2,++i){let a=n[s],c=s+1===r?a:n[s+1],l=Buffer.concat([a,c]);n[i]=e(l)}r=i}return n[0]}o(Yat,"fastMerkleRoot");q7.fastMerkleRoot=Yat});var e2=j(V7=>{"use strict";p();m();Object.defineProperty(V7,"__esModule",{value:!0});V7.Transaction=void 0;var{Buffer:va}=li(),_o=CS(),Ga=Nd(),ewe=ja(),Xat=ja(),sn=As(),{typeforce:Pd}=sn;function Ld(t){let e=t.length;return _o.varuint.encodingLength(e)+e}o(Ld,"varSliceSize");function Zat(t){let e=t.length;return _o.varuint.encodingLength(e)+t.reduce((r,n)=>r+Ld(n),0)}o(Zat,"vectorSize");var Cm=va.allocUnsafe(0),twe=[],XV=va.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),rwe=va.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Jat=va.from("ffffffffffffffff","hex"),Qat={script:Cm,valueBuffer:Jat};function ect(t){return t.value!==void 0}o(ect,"isOutput");var lf=class t{static{o(this,"Transaction")}constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new _o.BufferReader(e),i=new t;i.version=n.readInt32();let s=n.readUInt8(),a=n.readUInt8(),c=!1;s===t.ADVANCED_TRANSACTION_MARKER&&a===t.ADVANCED_TRANSACTION_FLAG?c=!0:n.offset-=2;let l=n.readVarInt();for(let y=0;y<l;++y)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:twe});let h=n.readVarInt();for(let y=0;y<h;++y)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(c){for(let y=0;y<l;++y)i.ins[y].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(va.from(e,"hex"),!1)}static isCoinbaseHash(e){Pd(sn.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Pd(sn.tuple(sn.Hash256bit,sn.UInt32,sn.maybe(sn.UInt32),sn.maybe(sn.Buffer)),arguments),sn.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Cm,sequence:n,witness:twe})-1}addOutput(e,r){return Pd(sn.tuple(sn.Buffer,sn.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+_o.varuint.encodingLength(this.ins.length)+_o.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Ld(i.script),0)+this.outs.reduce((n,i)=>n+8+Ld(i.script),0)+(r?this.ins.reduce((n,i)=>n+Zat(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Pd(sn.tuple(sn.UInt32,sn.Buffer,sn.Number),arguments),e>=this.ins.length)return rwe;let i=ewe.compile(ewe.decompile(r).filter(c=>c!==Xat.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===t.SIGHASH_NONE)s.outs=[],s.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return rwe;s.outs.length=e+1;for(let c=0;c<e;c++)s.outs[c]=Qat;s.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(c=>{c.script=Cm}),s.ins[e].script=i);let a=va.allocUnsafe(s.byteLength(!1)+4);return a.writeInt32LE(n,a.length-4),s.__toBuffer(a,0,!1),Ga.hash256(a)}hashForWitnessV1(e,r,n,i,s,a){if(Pd(sn.tuple(sn.UInt32,Pd.arrayOf(sn.Buffer),Pd.arrayOf(sn.Satoshi),sn.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let c=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,h=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,y=c===t.SIGHASH_NONE,g=c===t.SIGHASH_SINGLE,E=Cm,T=Cm,O=Cm,M=Cm,k=Cm;if(!h){let P=_o.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(H=>{P.writeSlice(H.hash),P.writeUInt32(H.index)}),E=Ga.sha256(P.end()),P=_o.BufferWriter.withCapacity(8*this.ins.length),n.forEach(H=>P.writeUInt64(H)),T=Ga.sha256(P.end()),P=_o.BufferWriter.withCapacity(r.map(Ld).reduce((H,F)=>H+F)),r.forEach(H=>P.writeVarSlice(H)),O=Ga.sha256(P.end()),P=_o.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(H=>P.writeUInt32(H.sequence)),M=Ga.sha256(P.end())}if(y||g){if(g&&e<this.outs.length){let P=this.outs[e],H=_o.BufferWriter.withCapacity(8+Ld(P.script));H.writeUInt64(P.value),H.writeVarSlice(P.script),k=Ga.sha256(H.end())}}else{let P=this.outs.map(F=>8+Ld(F.script)).reduce((F,Z)=>F+Z),H=_o.BufferWriter.withCapacity(P);this.outs.forEach(F=>{H.writeUInt64(F.value),H.writeVarSlice(F.script)}),k=Ga.sha256(H.end())}let C=(s?2:0)+(a?1:0),B=174-(h?49:0)-(y?32:0)+(a?32:0)+(s?37:0),N=_o.BufferWriter.withCapacity(B);if(N.writeUInt8(i),N.writeInt32(this.version),N.writeUInt32(this.locktime),N.writeSlice(E),N.writeSlice(T),N.writeSlice(O),N.writeSlice(M),y||g||N.writeSlice(k),N.writeUInt8(C),h){let P=this.ins[e];N.writeSlice(P.hash),N.writeUInt32(P.index),N.writeUInt64(n[e]),N.writeVarSlice(r[e]),N.writeUInt32(P.sequence)}else N.writeUInt32(e);if(a){let P=_o.BufferWriter.withCapacity(Ld(a));P.writeVarSlice(a),N.writeSlice(Ga.sha256(P.end()))}return g&&N.writeSlice(k),s&&(N.writeSlice(s),N.writeUInt8(0),N.writeUInt32(4294967295)),Ga.taggedHash("TapSighash",va.concat([va.from([0]),N.end()]))}hashForWitnessV0(e,r,n,i){Pd(sn.tuple(sn.UInt32,sn.Buffer,sn.Satoshi,sn.UInt32),arguments);let s=va.from([]),a,c=XV,l=XV,h=XV;if(i&t.SIGHASH_ANYONECANPAY||(s=va.allocUnsafe(36*this.ins.length),a=new _o.BufferWriter(s,0),this.ins.forEach(g=>{a.writeSlice(g.hash),a.writeUInt32(g.index)}),l=Ga.hash256(s)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(s=va.allocUnsafe(4*this.ins.length),a=new _o.BufferWriter(s,0),this.ins.forEach(g=>{a.writeUInt32(g.sequence)}),h=Ga.hash256(s)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let g=this.outs.reduce((E,T)=>E+8+Ld(T.script),0);s=va.allocUnsafe(g),a=new _o.BufferWriter(s,0),this.outs.forEach(E=>{a.writeUInt64(E.value),a.writeVarSlice(E.script)}),c=Ga.hash256(s)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let g=this.outs[e];s=va.allocUnsafe(8+Ld(g.script)),a=new _o.BufferWriter(s,0),a.writeUInt64(g.value),a.writeVarSlice(g.script),c=Ga.hash256(s)}s=va.allocUnsafe(156+Ld(r)),a=new _o.BufferWriter(s,0);let y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(l),a.writeSlice(h),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(r),a.writeUInt64(n),a.writeUInt32(y.sequence),a.writeSlice(c),a.writeUInt32(this.locktime),a.writeUInt32(i),Ga.hash256(s)}getHash(e){return e&&this.isCoinbase()?va.alloc(32,0):Ga.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,_o.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Pd(sn.tuple(sn.Number,sn.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Pd(sn.tuple(sn.Number,[sn.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=va.allocUnsafe(this.byteLength(n)));let i=new _o.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(a=>{i.writeSlice(a.hash),i.writeUInt32(a.index),i.writeVarSlice(a.script),i.writeUInt32(a.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(a=>{ect(a)?i.writeUInt64(a.value):i.writeSlice(a.valueBuffer),i.writeVarSlice(a.script)}),s&&this.ins.forEach(a=>{i.writeVector(a.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};V7.Transaction=lf;lf.DEFAULT_SEQUENCE=4294967295;lf.SIGHASH_DEFAULT=0;lf.SIGHASH_ALL=1;lf.SIGHASH_NONE=2;lf.SIGHASH_SINGLE=3;lf.SIGHASH_ANYONECANPAY=128;lf.SIGHASH_OUTPUT_MASK=3;lf.SIGHASH_INPUT_MASK=128;lf.ADVANCED_TRANSACTION_MARKER=0;lf.ADVANCED_TRANSACTION_FLAG=1});var swe=j(j7=>{"use strict";p();m();Object.defineProperty(j7,"__esModule",{value:!0});j7.Block=void 0;var n1=CS(),ZV=Nd(),tct=Q_e(),rct=e2(),owe=As(),{typeforce:nct}=owe,JV=new TypeError("Cannot compute merkle root for zero transactions"),nwe=new TypeError("Cannot compute witness commit for non-segwit block"),QV=class t{static{o(this,"Block")}constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new n1.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=o(()=>{let c=rct.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=c.byteLength(),c},"readTransaction"),s=r.readVarInt();n.transactions=[];for(let c=0;c<s;++c){let l=i();n.transactions.push(l)}let a=n.getWitnessCommit();return a&&(n.witnessCommit=a),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(nct([{getHash:owe.Function}],e),e.length===0)throw JV;if(r&&!iwe(e))throw nwe;let n=e.map(s=>s.getHash(r)),i=(0,tct.fastMerkleRoot)(n,ZV.hash256);return r?ZV.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!iwe(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return ict(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+n1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return ZV.hash256(this.toBuffer(!0))}getId(){return(0,n1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new n1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(n1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=n1.varuint.encode.bytes,this.transactions.forEach(i=>{let s=i.byteLength();i.toBuffer(r,n.offset),n.offset+=s})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,n1.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw JV;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw JV;if(!this.hasWitnessCommit())throw nwe;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};j7.Block=QV;function iwe(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}o(iwe,"txesHaveWitnessCommit");function ict(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}o(ict,"anyTxHasWitness")});var ss=j(dl=>{"use strict";p();m();Object.defineProperty(dl,"__esModule",{value:!0});var oct;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(oct=dl.GlobalTypes||(dl.GlobalTypes={}));dl.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var sct;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(sct=dl.InputTypes||(dl.InputTypes={}));dl.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var act;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(act=dl.OutputTypes||(dl.OutputTypes={}));dl.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var cwe=j(i1=>{"use strict";p();m();Object.defineProperty(i1,"__esModule",{value:!0});var awe=ss(),cct=o(t=>[...Array(t).keys()],"range");function fct(t){if(t.key[0]!==awe.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of cct(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),a=i&2147483647;r.path+="/"+a.toString(10)+(s?"'":"")}return r}o(fct,"decode");i1.decode=fct;function uct(t){let e=Buffer.from([awe.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(a=>{let c=a.slice(-1)==="'",l=2147483647&parseInt(c?a.slice(0,-1):a,10);c&&(l+=2147483648),i.writeUInt32LE(l,s),s+=4}),{key:r,value:i}}o(uct,"encode");i1.encode=uct;i1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function lct(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}o(lct,"check");i1.check=lct;function dct(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}o(dct,"canAddToArray");i1.canAddToArray=dct});var fwe=j(ej=>{"use strict";p();m();Object.defineProperty(ej,"__esModule",{value:!0});var hct=ss();function pct(t){return{key:Buffer.from([hct.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}o(pct,"encode");ej.encode=pct});var lwe=j(o1=>{"use strict";p();m();Object.defineProperty(o1,"__esModule",{value:!0});var uwe=ss();function mct(t){if(t.key[0]!==uwe.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}o(mct,"decode");o1.decode=mct;function gct(t){return{key:Buffer.from([uwe.InputTypes.FINAL_SCRIPTSIG]),value:t}}o(gct,"encode");o1.encode=gct;o1.expected="Buffer";function yct(t){return Buffer.isBuffer(t)}o(yct,"check");o1.check=yct;function bct(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}o(bct,"canAdd");o1.canAdd=bct});var hwe=j(s1=>{"use strict";p();m();Object.defineProperty(s1,"__esModule",{value:!0});var dwe=ss();function xct(t){if(t.key[0]!==dwe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}o(xct,"decode");s1.decode=xct;function vct(t){return{key:Buffer.from([dwe.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}o(vct,"encode");s1.encode=vct;s1.expected="Buffer";function _ct(t){return Buffer.isBuffer(t)}o(_ct,"check");s1.check=_ct;function wct(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}o(wct,"canAdd");s1.canAdd=wct});var mwe=j(a1=>{"use strict";p();m();Object.defineProperty(a1,"__esModule",{value:!0});var pwe=ss();function Ect(t){if(t.key[0]!==pwe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}o(Ect,"decode");a1.decode=Ect;function Sct(t){return{key:Buffer.from([pwe.InputTypes.NON_WITNESS_UTXO]),value:t}}o(Sct,"encode");a1.encode=Sct;a1.expected="Buffer";function Act(t){return Buffer.isBuffer(t)}o(Act,"check");a1.check=Act;function Tct(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}o(Tct,"canAdd");a1.canAdd=Tct});var ywe=j(c1=>{"use strict";p();m();Object.defineProperty(c1,"__esModule",{value:!0});var gwe=ss();function Ict(t){if(t.key[0]!==gwe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}o(Ict,"decode");c1.decode=Ict;function Rct(t){let e=Buffer.from([gwe.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}o(Rct,"encode");c1.encode=Rct;c1.expected="{ pubkey: Buffer; signature: Buffer; }";function Oct(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Mct(t.signature)}o(Oct,"check");c1.check=Oct;function Mct(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}o(Mct,"isDerSigWithSighash");function Nct(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}o(Nct,"canAddToArray");c1.canAddToArray=Nct});var xwe=j(f1=>{"use strict";p();m();Object.defineProperty(f1,"__esModule",{value:!0});var bwe=ss();function Cct(t){if(t.key[0]!==bwe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}o(Cct,"decode");f1.decode=Cct;function kct(t){return{key:Buffer.from([bwe.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}o(kct,"encode");f1.encode=kct;f1.expected="string";function Bct(t){return typeof t=="string"}o(Bct,"check");f1.check=Bct;function Pct(t,e){return!!t&&!!e&&t.porCommitment===void 0}o(Pct,"canAdd");f1.canAdd=Pct});var _we=j(u1=>{"use strict";p();m();Object.defineProperty(u1,"__esModule",{value:!0});var vwe=ss();function Lct(t){if(t.key[0]!==vwe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}o(Lct,"decode");u1.decode=Lct;function Dct(t){let e=Buffer.from([vwe.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}o(Dct,"encode");u1.encode=Dct;u1.expected="number";function Uct(t){return typeof t=="number"}o(Uct,"check");u1.check=Uct;function Fct(t,e){return!!t&&!!e&&t.sighashType===void 0}o(Fct,"canAdd");u1.canAdd=Fct});var Swe=j(l1=>{"use strict";p();m();Object.defineProperty(l1,"__esModule",{value:!0});var wwe=ss();function Hct(t){if(t.key[0]!==wwe.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!Ewe(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}o(Hct,"decode");l1.decode=Hct;function qct(t){return{key:Buffer.from([wwe.InputTypes.TAP_KEY_SIG]),value:t}}o(qct,"encode");l1.encode=qct;l1.expected="Buffer";function Ewe(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}o(Ewe,"check");l1.check=Ewe;function Vct(t,e){return!!t&&!!e&&t.tapKeySig===void 0}o(Vct,"canAdd");l1.canAdd=Vct});var Twe=j(d1=>{"use strict";p();m();Object.defineProperty(d1,"__esModule",{value:!0});var Awe=ss();function jct(t){if(t.key[0]!==Awe.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}o(jct,"decode");d1.decode=jct;function zct(t){let e=Buffer.from([Awe.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}o(zct,"encode");d1.encode=zct;d1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Kct(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}o(Kct,"check");d1.check=Kct;function $ct(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}o($ct,"canAddToArray");d1.canAddToArray=$ct});var Owe=j(h1=>{"use strict";p();m();Object.defineProperty(h1,"__esModule",{value:!0});var Iwe=ss();function Gct(t){if(t.key[0]!==Iwe.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!Rwe(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}o(Gct,"decode");h1.decode=Gct;function Wct(t){return{key:Buffer.from([Iwe.InputTypes.TAP_MERKLE_ROOT]),value:t}}o(Wct,"encode");h1.encode=Wct;h1.expected="Buffer";function Rwe(t){return Buffer.isBuffer(t)&&t.length===32}o(Rwe,"check");h1.check=Rwe;function Yct(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}o(Yct,"canAdd");h1.canAdd=Yct});var Nwe=j(p1=>{"use strict";p();m();Object.defineProperty(p1,"__esModule",{value:!0});var Mwe=ss();function Xct(t){if(t.key[0]!==Mwe.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}o(Xct,"decode");p1.decode=Xct;function Zct(t){let e=Buffer.from([Mwe.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}o(Zct,"encode");p1.encode=Zct;p1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Jct(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}o(Jct,"check");p1.check=Jct;function Qct(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}o(Qct,"canAddToArray");p1.canAddToArray=Qct});var km=j(PS=>{"use strict";p();m();Object.defineProperty(PS,"__esModule",{value:!0});var eft=9007199254740991;function tj(t){if(t<0||t>eft||t%1!==0)throw new RangeError("value out of range")}o(tj,"checkUInt53");function kS(t,e,r){if(tj(t),e||(e=Buffer.allocUnsafe(Cwe(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(kS,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(kS,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(kS,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(kS,{bytes:9})),e}o(kS,"encode");PS.encode=kS;function BS(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(BS,{bytes:1}),r;if(r===253)return Object.assign(BS,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(BS,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(BS,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return tj(s),s}}o(BS,"decode");PS.decode=BS;function Cwe(t){return tj(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(Cwe,"encodingLength");PS.encodingLength=Cwe});var K7=j(Bm=>{"use strict";p();m();Object.defineProperty(Bm,"__esModule",{value:!0});var z7=km();Bm.range=t=>[...Array(t).keys()];function tft(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(tft,"reverseBuffer");Bm.reverseBuffer=tft;function rft(t){let e=t.map(kwe);return e.push(Buffer.from([0])),Buffer.concat(e)}o(rft,"keyValsToBuffer");Bm.keyValsToBuffer=rft;function kwe(t){let e=t.key.length,r=t.value.length,n=z7.encodingLength(e),i=z7.encodingLength(r),s=Buffer.allocUnsafe(n+e+i+r);return z7.encode(e,s,0),t.key.copy(s,n),z7.encode(r,s,n+e),t.value.copy(s,n+e+i),s}o(kwe,"keyValToBuffer");Bm.keyValToBuffer=kwe;function Bwe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(Bwe,"verifuint");function nft(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Bwe(n+r,9007199254740991),n+r}o(nft,"readUInt64LE");Bm.readUInt64LE=nft;function ift(t,e,r){return Bwe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(ift,"writeUInt64LE");Bm.writeUInt64LE=ift});var Dwe=j(m1=>{"use strict";p();m();Object.defineProperty(m1,"__esModule",{value:!0});var Pwe=ss(),Lwe=K7(),$7=km();function oft(t){if(t.key[0]!==Pwe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=Lwe.readUInt64LE(t.value,0),r=8,n=$7.decode(t.value,r);r+=$7.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}o(oft,"decode");m1.decode=oft;function sft(t){let{script:e,value:r}=t,n=$7.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return Lwe.writeUInt64LE(i,r,0),$7.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([Pwe.InputTypes.WITNESS_UTXO]),value:i}}o(sft,"encode");m1.encode=sft;m1.expected="{ script: Buffer; value: number; }";function aft(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}o(aft,"check");m1.check=aft;function cft(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}o(cft,"canAdd");m1.canAdd=cft});var Fwe=j(g1=>{"use strict";p();m();Object.defineProperty(g1,"__esModule",{value:!0});var Uwe=ss(),rj=km();function fft(t){if(t.key[0]!==Uwe.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=rj.decode(t.value,e);e+=rj.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}o(fft,"decode");g1.decode=fft;function uft(t){let e=Buffer.from([Uwe.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),rj.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}o(uft,"encode");g1.encode=uft;g1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function lft(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}o(lft,"check");g1.check=lft;function dft(t,e){return!!t&&!!e&&t.tapTree===void 0}o(dft,"canAdd");g1.canAdd=dft});var ij=j(nj=>{"use strict";p();m();Object.defineProperty(nj,"__esModule",{value:!0});var hft=o(t=>[...Array(t).keys()],"range"),pft=o(t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4,"isValidDERKey");function mft(t,e=pft){function r(c){if(c.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+c.key.toString("hex"));let l=c.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+c.key.toString("hex"));if(c.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let h={masterFingerprint:c.value.slice(0,4),pubkey:l,path:"m"};for(let y of hft(c.value.length/4-1)){let g=c.value.readUInt32LE(y*4+4),E=!!(g&2147483648),T=g&2147483647;h.path+="/"+T.toString(10)+(E?"'":"")}return h}o(r,"decode");function n(c){let l=Buffer.from([t]),h=Buffer.concat([l,c.pubkey]),y=c.path.split("/"),g=Buffer.allocUnsafe(y.length*4);c.masterFingerprint.copy(g,0);let E=4;return y.slice(1).forEach(T=>{let O=T.slice(-1)==="'",M=2147483647&parseInt(O?T.slice(0,-1):T,10);O&&(M+=2147483648),g.writeUInt32LE(M,E),E+=4}),{key:h,value:g}}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(c){return Buffer.isBuffer(c.pubkey)&&Buffer.isBuffer(c.masterFingerprint)&&typeof c.path=="string"&&e(c.pubkey)&&c.masterFingerprint.length===4}o(s,"check");function a(c,l,h){let y=l.pubkey.toString("hex");return h.has(y)?!1:(h.add(y),c.filter(g=>g.pubkey.equals(l.pubkey)).length===0)}return o(a,"canAddToArray"),{decode:r,encode:n,check:s,expected:i,canAddToArray:a}}o(mft,"makeConverter");nj.makeConverter=mft});var Hwe=j(oj=>{"use strict";p();m();Object.defineProperty(oj,"__esModule",{value:!0});function gft(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}o(gft,"makeChecker");oj.makeChecker=gft});var qwe=j(sj=>{"use strict";p();m();Object.defineProperty(sj,"__esModule",{value:!0});function yft(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,c){return!!a&&!!c&&a.redeemScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(yft,"makeConverter");sj.makeConverter=yft});var Vwe=j(aj=>{"use strict";p();m();Object.defineProperty(aj,"__esModule",{value:!0});var G7=km(),bft=ij(),xft=o(t=>t.length===32,"isValidBIP340Key");function vft(t){let e=bft.makeConverter(t,xft);function r(a){let c=G7.decode(a.value),l=G7.encodingLength(c),h=e.decode({key:a.key,value:a.value.slice(l+c*32)}),y=new Array(c);for(let g=0,E=l;g<c;g++,E+=32)y[g]=a.value.slice(E,E+32);return Object.assign({},h,{leafHashes:y})}o(r,"decode");function n(a){let c=e.encode(a),l=G7.encodingLength(a.leafHashes.length),h=Buffer.allocUnsafe(l);G7.encode(a.leafHashes.length,h);let y=Buffer.concat([h,...a.leafHashes,c.value]);return Object.assign({},c,{value:y})}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(a){return Array.isArray(a.leafHashes)&&a.leafHashes.every(c=>Buffer.isBuffer(c)&&c.length===32)&&e.check(a)}return o(s,"check"),{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}o(vft,"makeConverter");aj.makeConverter=vft});var jwe=j(cj=>{"use strict";p();m();Object.defineProperty(cj,"__esModule",{value:!0});function _ft(t){function e(a){if(a.key[0]!==t||a.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+a.key.toString("hex"));if(a.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)&&a.length===32}o(i,"check");function s(a,c){return!!a&&!!c&&a.tapInternalKey===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(_ft,"makeConverter");cj.makeConverter=_ft});var zwe=j(fj=>{"use strict";p();m();Object.defineProperty(fj,"__esModule",{value:!0});function wft(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,c){return!!a&&!!c&&a.witnessScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(wft,"makeConverter");fj.makeConverter=wft});var W7=j(LS=>{"use strict";p();m();Object.defineProperty(LS,"__esModule",{value:!0});var df=ss(),Eft=cwe(),Sft=fwe(),Aft=lwe(),Tft=hwe(),Ift=mwe(),Rft=ywe(),Oft=xwe(),Mft=_we(),Nft=Swe(),Cft=Twe(),kft=Owe(),Bft=Nwe(),Pft=Dwe(),Lft=Fwe(),Kwe=ij(),uj=Hwe(),$we=qwe(),Gwe=Vwe(),Wwe=jwe(),Ywe=zwe(),Dft={unsignedTx:Sft,globalXpub:Eft,checkPubkey:uj.makeChecker([])};LS.globals=Dft;var Uft={nonWitnessUtxo:Ift,partialSig:Rft,sighashType:Mft,finalScriptSig:Aft,finalScriptWitness:Tft,porCommitment:Oft,witnessUtxo:Pft,bip32Derivation:Kwe.makeConverter(df.InputTypes.BIP32_DERIVATION),redeemScript:$we.makeConverter(df.InputTypes.REDEEM_SCRIPT),witnessScript:Ywe.makeConverter(df.InputTypes.WITNESS_SCRIPT),checkPubkey:uj.makeChecker([df.InputTypes.PARTIAL_SIG,df.InputTypes.BIP32_DERIVATION]),tapKeySig:Nft,tapScriptSig:Bft,tapLeafScript:Cft,tapBip32Derivation:Gwe.makeConverter(df.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:Wwe.makeConverter(df.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:kft};LS.inputs=Uft;var Fft={bip32Derivation:Kwe.makeConverter(df.OutputTypes.BIP32_DERIVATION),redeemScript:$we.makeConverter(df.OutputTypes.REDEEM_SCRIPT),witnessScript:Ywe.makeConverter(df.OutputTypes.WITNESS_SCRIPT),checkPubkey:uj.makeChecker([df.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:Gwe.makeConverter(df.OutputTypes.TAP_BIP32_DERIVATION),tapTree:Lft,tapInternalKey:Wwe.makeConverter(df.OutputTypes.TAP_INTERNAL_KEY)};LS.outputs=Fft});var Jwe=j(DS=>{"use strict";p();m();Object.defineProperty(DS,"__esModule",{value:!0});var xi=W7(),Y7=K7(),Xwe=km(),vr=ss();function Hft(t,e){let r=0;function n(){let k=Xwe.decode(t,r);r+=Xwe.encodingLength(k);let C=t.slice(r,r+k);return r+=k,C}o(n,"varSlice");function i(){let k=t.readUInt32BE(r);return r+=4,k}o(i,"readUInt32BE");function s(){let k=t.readUInt8(r);return r+=1,k}o(s,"readUInt8");function a(){let k=n(),C=n();return{key:k,value:C}}o(a,"getKeyValue");function c(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let k=t.readUInt8(r)===0;return k&&r++,k}if(o(c,"checkEndOfKeyValPairs"),i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],h={};for(;!c();){let k=a(),C=k.key.toString("hex");if(h[C])throw new Error("Format Error: Keys must be unique for global keymap: key "+C);h[C]=1,l.push(k)}let y=l.filter(k=>k.key[0]===vr.GlobalTypes.UNSIGNED_TX);if(y.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let g=e(y[0].value),{inputCount:E,outputCount:T}=g.getInputOutputCounts(),O=[],M=[];for(let k of Y7.range(E)){let C={},B=[];for(;!c();){let N=a(),P=N.key.toString("hex");if(C[P])throw new Error("Format Error: Keys must be unique for each input: input index "+k+" key "+P);C[P]=1,B.push(N)}O.push(B)}for(let k of Y7.range(T)){let C={},B=[];for(;!c();){let N=a(),P=N.key.toString("hex");if(C[P])throw new Error("Format Error: Keys must be unique for each output: output index "+k+" key "+P);C[P]=1,B.push(N)}M.push(B)}return Zwe(g,{globalMapKeyVals:l,inputKeyVals:O,outputKeyVals:M})}o(Hft,"psbtFromBuffer");DS.psbtFromBuffer=Hft;function Is(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}o(Is,"checkKeyBuffer");DS.checkKeyBuffer=Is;function Zwe(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let y of e)switch(y.key[0]){case vr.GlobalTypes.UNSIGNED_TX:if(Is("global",y.key,vr.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case vr.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(xi.globals.globalXpub.decode(y));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(y)}let a=r.length,c=n.length,l=[],h=[];for(let y of Y7.range(a)){let g={};for(let E of r[y])switch(xi.inputs.checkPubkey(E),E.key[0]){case vr.InputTypes.NON_WITNESS_UTXO:if(Is("input",E.key,vr.InputTypes.NON_WITNESS_UTXO),g.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");g.nonWitnessUtxo=xi.inputs.nonWitnessUtxo.decode(E);break;case vr.InputTypes.WITNESS_UTXO:if(Is("input",E.key,vr.InputTypes.WITNESS_UTXO),g.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");g.witnessUtxo=xi.inputs.witnessUtxo.decode(E);break;case vr.InputTypes.PARTIAL_SIG:g.partialSig===void 0&&(g.partialSig=[]),g.partialSig.push(xi.inputs.partialSig.decode(E));break;case vr.InputTypes.SIGHASH_TYPE:if(Is("input",E.key,vr.InputTypes.SIGHASH_TYPE),g.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");g.sighashType=xi.inputs.sighashType.decode(E);break;case vr.InputTypes.REDEEM_SCRIPT:if(Is("input",E.key,vr.InputTypes.REDEEM_SCRIPT),g.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");g.redeemScript=xi.inputs.redeemScript.decode(E);break;case vr.InputTypes.WITNESS_SCRIPT:if(Is("input",E.key,vr.InputTypes.WITNESS_SCRIPT),g.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");g.witnessScript=xi.inputs.witnessScript.decode(E);break;case vr.InputTypes.BIP32_DERIVATION:g.bip32Derivation===void 0&&(g.bip32Derivation=[]),g.bip32Derivation.push(xi.inputs.bip32Derivation.decode(E));break;case vr.InputTypes.FINAL_SCRIPTSIG:Is("input",E.key,vr.InputTypes.FINAL_SCRIPTSIG),g.finalScriptSig=xi.inputs.finalScriptSig.decode(E);break;case vr.InputTypes.FINAL_SCRIPTWITNESS:Is("input",E.key,vr.InputTypes.FINAL_SCRIPTWITNESS),g.finalScriptWitness=xi.inputs.finalScriptWitness.decode(E);break;case vr.InputTypes.POR_COMMITMENT:Is("input",E.key,vr.InputTypes.POR_COMMITMENT),g.porCommitment=xi.inputs.porCommitment.decode(E);break;case vr.InputTypes.TAP_KEY_SIG:Is("input",E.key,vr.InputTypes.TAP_KEY_SIG),g.tapKeySig=xi.inputs.tapKeySig.decode(E);break;case vr.InputTypes.TAP_SCRIPT_SIG:g.tapScriptSig===void 0&&(g.tapScriptSig=[]),g.tapScriptSig.push(xi.inputs.tapScriptSig.decode(E));break;case vr.InputTypes.TAP_LEAF_SCRIPT:g.tapLeafScript===void 0&&(g.tapLeafScript=[]),g.tapLeafScript.push(xi.inputs.tapLeafScript.decode(E));break;case vr.InputTypes.TAP_BIP32_DERIVATION:g.tapBip32Derivation===void 0&&(g.tapBip32Derivation=[]),g.tapBip32Derivation.push(xi.inputs.tapBip32Derivation.decode(E));break;case vr.InputTypes.TAP_INTERNAL_KEY:Is("input",E.key,vr.InputTypes.TAP_INTERNAL_KEY),g.tapInternalKey=xi.inputs.tapInternalKey.decode(E);break;case vr.InputTypes.TAP_MERKLE_ROOT:Is("input",E.key,vr.InputTypes.TAP_MERKLE_ROOT),g.tapMerkleRoot=xi.inputs.tapMerkleRoot.decode(E);break;default:g.unknownKeyVals||(g.unknownKeyVals=[]),g.unknownKeyVals.push(E)}l.push(g)}for(let y of Y7.range(c)){let g={};for(let E of n[y])switch(xi.outputs.checkPubkey(E),E.key[0]){case vr.OutputTypes.REDEEM_SCRIPT:if(Is("output",E.key,vr.OutputTypes.REDEEM_SCRIPT),g.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");g.redeemScript=xi.outputs.redeemScript.decode(E);break;case vr.OutputTypes.WITNESS_SCRIPT:if(Is("output",E.key,vr.OutputTypes.WITNESS_SCRIPT),g.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");g.witnessScript=xi.outputs.witnessScript.decode(E);break;case vr.OutputTypes.BIP32_DERIVATION:g.bip32Derivation===void 0&&(g.bip32Derivation=[]),g.bip32Derivation.push(xi.outputs.bip32Derivation.decode(E));break;case vr.OutputTypes.TAP_INTERNAL_KEY:Is("output",E.key,vr.OutputTypes.TAP_INTERNAL_KEY),g.tapInternalKey=xi.outputs.tapInternalKey.decode(E);break;case vr.OutputTypes.TAP_TREE:Is("output",E.key,vr.OutputTypes.TAP_TREE),g.tapTree=xi.outputs.tapTree.decode(E);break;case vr.OutputTypes.TAP_BIP32_DERIVATION:g.tapBip32Derivation===void 0&&(g.tapBip32Derivation=[]),g.tapBip32Derivation.push(xi.outputs.tapBip32Derivation.decode(E));break;default:g.unknownKeyVals||(g.unknownKeyVals=[]),g.unknownKeyVals.push(E)}h.push(g)}return{globalMap:i,inputs:l,outputs:h}}o(Zwe,"psbtFromKeyVals");DS.psbtFromKeyVals=Zwe});var tEe=j(X7=>{"use strict";p();m();Object.defineProperty(X7,"__esModule",{value:!0});var lj=W7(),Qwe=K7();function qft({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=eEe({globalMap:t,inputs:e,outputs:r}),a=Qwe.keyValsToBuffer(n),c=o(g=>g.length===0?[Buffer.from([0])]:g.map(Qwe.keyValsToBuffer),"keyValsOrEmptyToBuffer"),l=c(i),h=c(s),y=Buffer.allocUnsafe(5);return y.writeUIntBE(482972169471,0,5),Buffer.concat([y,a].concat(l,h))}o(qft,"psbtToBuffer");X7.psbtToBuffer=qft;var Vft=o((t,e)=>t.key.compare(e.key),"sortKeyVals");function dj(t,e){let r=new Set,n=Object.entries(t).reduce((s,[a,c])=>{if(a==="unknownKeyVals")return s;let l=e[a];if(l===void 0)return s;let h=(Array.isArray(c)?c:[c]).map(l.encode);return h.map(g=>g.key.toString("hex")).forEach(g=>{if(r.has(g))throw new Error("Serialize Error: Duplicate key: "+g);r.add(g)}),s.concat(h)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(Vft)}o(dj,"keyValsFromMap");function eEe({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:dj(t,lj.globals),inputKeyVals:e.map(n=>dj(n,lj.inputs)),outputKeyVals:r.map(n=>dj(n,lj.outputs))}}o(eEe,"psbtToKeyVals");X7.psbtToKeyVals=eEe});var hj=j(Z7=>{"use strict";p();m();function rEe(t){for(var e in t)Z7.hasOwnProperty(e)||(Z7[e]=t[e])}o(rEe,"__export");Object.defineProperty(Z7,"__esModule",{value:!0});rEe(Jwe());rEe(tEe())});var iEe=j(gj=>{"use strict";p();m();Object.defineProperty(gj,"__esModule",{value:!0});var pj=hj();function jft(t){let e=t[0],r=pj.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=nEe(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=t2(r.globalKeyVals),a=r.inputKeyVals.map(t2),c=r.outputKeyVals.map(t2);for(let l of n){let h=nEe(l);if(h===void 0||!h.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let y=pj.psbtToKeyVals(l);t2(y.globalKeyVals).forEach(mj(s,r.globalKeyVals,y.globalKeyVals)),y.inputKeyVals.map(t2).forEach((O,M)=>O.forEach(mj(a[M],r.inputKeyVals[M],y.inputKeyVals[M]))),y.outputKeyVals.map(t2).forEach((O,M)=>O.forEach(mj(c[M],r.outputKeyVals[M],y.outputKeyVals[M])))}return pj.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}o(jft,"combine");gj.combine=jft;function mj(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}o(mj,"keyPusher");function nEe(t){return t.globalMap.unsignedTx}o(nEe,"getTx");function t2(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}o(t2,"getKeySet")});var bj=j(_a=>{"use strict";p();m();Object.defineProperty(_a,"__esModule",{value:!0});var zft=W7();function sEe(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}o(sEe,"checkForInput");_a.checkForInput=sEe;function aEe(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}o(aEe,"checkForOutput");_a.checkForOutput=aEe;function Kft(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}o(Kft,"checkHasKey");_a.checkHasKey=Kft;function $ft(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}o($ft,"getEnumLength");_a.getEnumLength=$ft;function Gft(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,a=!i||!!e.finalScriptWitness,c=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&a&&c}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}o(Gft,"inputCheckUncleanFinalized");_a.inputCheckUncleanFinalized=Gft;function oEe(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}o(oEe,"throwForUpdateMaker");function yj(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:a,check:c,expected:l}=zft[t+"s"][n]||{},h=!!a;if(c)if(h){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(c)||oEe(t,n,l,i);let y=r[n]||[],g=new Set;if(!i.every(E=>a(y,E,g)))throw new Error("Can not add duplicate data to array");r[n]=y.concat(i)}else{if(c(i)||oEe(t,n,l,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}o(yj,"updateMaker");_a.updateGlobal=yj("global");_a.updateInput=yj("input");_a.updateOutput=yj("output");function Wft(t,e){let r=t.length-1,n=sEe(t,r);_a.updateInput(e,n)}o(Wft,"addInputAttributes");_a.addInputAttributes=Wft;function Yft(t,e){let r=t.length-1,n=aEe(t,r);_a.updateOutput(e,n)}o(Yft,"addOutputAttributes");_a.addOutputAttributes=Yft;function Xft(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}o(Xft,"defaultVersionSetter");_a.defaultVersionSetter=Xft;function Zft(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}o(Zft,"defaultLocktimeSetter");_a.defaultLocktimeSetter=Zft});var fEe=j(_j=>{"use strict";p();m();Object.defineProperty(_j,"__esModule",{value:!0});var Jft=iEe(),cEe=hj(),xj=ss(),Rs=bj(),vj=class{static{o(this,"Psbt")}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=cEe.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return cEe.psbtToBuffer(this)}updateGlobal(e){return Rs.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=Rs.checkForInput(this.inputs,e);return Rs.updateInput(r,n),this}updateOutput(e,r){let n=Rs.checkForOutput(this.outputs,e);return Rs.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return Rs.checkHasKey(e,this.globalMap.unknownKeyVals,Rs.getEnumLength(xj.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=Rs.checkForInput(this.inputs,e);return Rs.checkHasKey(r,n.unknownKeyVals,Rs.getEnumLength(xj.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=Rs.checkForOutput(this.outputs,e);return Rs.checkHasKey(r,n.unknownKeyVals,Rs.getEnumLength(xj.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),Rs.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),Rs.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=Rs.checkForInput(this.inputs,e);Rs.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Jft.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};_j.Psbt=vj});var Q7=j(ai=>{"use strict";p();m();Object.defineProperty(ai,"__esModule",{value:!0});ai.signatureBlocksAction=ai.checkInputForSig=ai.pubkeyInScript=ai.pubkeyPositionInScript=ai.witnessStackToScriptWitness=ai.isP2TR=ai.isP2SHScript=ai.isP2WSHScript=ai.isP2WPKH=ai.isP2PKH=ai.isP2PK=ai.isP2MS=void 0;var uEe=km(),US=ja(),J7=e2(),Qft=Nd(),y1=Jv();function b1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}o(b1,"isPaymentFactory");ai.isP2MS=b1(y1.p2ms);ai.isP2PK=b1(y1.p2pk);ai.isP2PKH=b1(y1.p2pkh);ai.isP2WPKH=b1(y1.p2wpkh);ai.isP2WSHScript=b1(y1.p2wsh);ai.isP2SHScript=b1(y1.p2sh);ai.isP2TR=b1(y1.p2tr);function eut(t){let e=Buffer.allocUnsafe(0);function r(a){e=Buffer.concat([e,Buffer.from(a)])}o(r,"writeSlice");function n(a){let c=e.length,l=uEe.encodingLength(a);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),uEe.encode(a,e,c)}o(n,"writeVarInt");function i(a){n(a.length),r(a)}o(i,"writeVarSlice");function s(a){n(a.length),a.forEach(i)}return o(s,"writeVector"),s(t),e}o(eut,"witnessStackToScriptWitness");ai.witnessStackToScriptWitness=eut;function lEe(t,e){let r=(0,Qft.hash160)(t),n=t.slice(1,33),i=US.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}o(lEe,"pubkeyPositionInScript");ai.pubkeyPositionInScript=lEe;function tut(t,e){return lEe(t,e)!==-1}o(tut,"pubkeyInScript");ai.pubkeyInScript=tut;function rut(t,e){return nut(t).some(n=>dEe(n,US.signature.decode,e))}o(rut,"checkInputForSig");ai.checkInputForSig=rut;function dEe(t,e,r){let{hashType:n}=e(t),i=[];switch(n&J7.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case J7.Transaction.SIGHASH_ALL:break;case J7.Transaction.SIGHASH_SINGLE:case J7.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}o(dEe,"signatureBlocksAction");ai.signatureBlocksAction=dEe;function nut(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=iut(t)}else e=t.partialSig;return e.map(r=>r.signature)}o(nut,"extractPartialSigs");function iut(t){let e=t.finalScriptSig?US.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?US.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&US.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}o(iut,"getPsigsFromInputFinalScripts")});var pEe=j(Ii=>{"use strict";p();m();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.checkTaprootInputForSigs=Ii.tapTreeFromList=Ii.tapTreeToList=Ii.tweakInternalPubKey=Ii.checkTaprootOutputFields=Ii.checkTaprootInputFields=Ii.isTaprootOutput=Ii.isTaprootInput=Ii.serializeTaprootSignature=Ii.tapScriptFinalizer=Ii.toXOnly=void 0;var Aj=As(),out=e2(),r9=Q7(),Pm=L7(),sut=Jv(),aut=Q7(),cut=o(t=>t.length===32?t:t.slice(1,33),"toXOnly");Ii.toXOnly=cut;function fut(t,e,r){let n=Iut(e,t,r);try{let s=Aut(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,r9.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}o(fut,"tapScriptFinalizer");Ii.tapScriptFinalizer=fut;function uut(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}o(uut,"serializeTaprootSignature");Ii.serializeTaprootSignature=uut;function e9(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,r9.isP2TR)(t.witnessUtxo.script))}o(e9,"isTaprootInput");Ii.isTaprootInput=e9;function t9(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,r9.isP2TR)(e))}o(t9,"isTaprootOutput");Ii.isTaprootOutput=t9;function lut(t,e,r){wut(t,e,r),Sut(t,e,r)}o(lut,"checkTaprootInputFields");Ii.checkTaprootInputFields=lut;function dut(t,e,r){Eut(t,e,r),hut(t,e)}o(dut,"checkTaprootOutputFields");Ii.checkTaprootOutputFields=dut;function hut(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=put(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}o(hut,"checkTaprootScriptPubkey");function put(t,e){let r=e&&hEe(e.leaves),{output:n}=(0,sut.p2tr)({internalPubkey:t,scriptTree:r});return n}o(put,"getTaprootScripPubkey");function mut(t,e){let r=e.tapInternalKey,n=r&&(0,Pm.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}o(mut,"tweakInternalPubKey");Ii.tweakInternalPubKey=mut;function gut(t){if(!(0,Aj.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return Ej(t)}o(gut,"tapTreeToList");Ii.tapTreeToList=gut;function hEe(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:_ut(t)}o(hEe,"tapTreeFromList");Ii.tapTreeFromList=hEe;function yut(t,e){return xut(t).some(n=>(0,aut.signatureBlocksAction)(n,but,e))}o(yut,"checkTaprootInputForSigs");Ii.checkTaprootInputForSigs=yut;function but(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||out.Transaction.SIGHASH_DEFAULT}}o(but,"decodeSchnorrSignature");function xut(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=vut(t.finalScriptWitness);r&&e.push(r)}return e}o(xut,"extractTaprootSigs");function vut(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}o(vut,"getTapKeySigFromWithness");function Ej(t,e=[],r=0){if(r>Pm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,Aj.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Pm.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&Ej(t[0],e,r+1),t[1]&&Ej(t[1],e,r+1),e):[]}o(Ej,"_tapTreeToList");function _ut(t){let e;for(let r of t)if(e=Sj(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}o(_ut,"instertLeavesInTree");function Sj(t,e,r=0){if(r>Pm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,Aj.isTapleaf)(e))return;let n=Sj(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=Sj(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}o(Sj,"instertLeafInTree");function wut(t,e,r){let n=e9(t)&&r2(e),i=r2(t)&&e9(e),s=t===e&&e9(e)&&r2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(wut,"checkMixedTaprootAndNonTaprootInputFields");function Eut(t,e,r){let n=t9(t)&&r2(e),i=r2(t)&&t9(e),s=t===e&&t9(e)&&r2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(Eut,"checkMixedTaprootAndNonTaprootOutputFields");function Sut(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>wj(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>wj(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>wj(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}o(Sut,"checkIfTapLeafInTree");function wj(t,e){if(!e)return!0;let r=(0,Pm.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Pm.rootHashFromPath)(t.controlBlock,r).equals(e)}o(wj,"isTapLeafInTree");function Aut(t,e){let r=(0,Pm.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>Tut(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}o(Aut,"sortSignatures");function Tut(t,e){return Object.assign({positionInScript:(0,r9.pubkeyPositionInScript)(e.pubkey,t)},e)}o(Tut,"addPubkeyPositionInScript");function Iut(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>Rut(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}o(Iut,"findTapLeafToFinalize");function Rut(t,e,r){let n=(0,Pm.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}o(Rut,"canFinalizeLeaf");function r2(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}o(r2,"hasNonTaprootFields")});var UEe=j(f9=>{"use strict";p();m();Object.defineProperty(f9,"__esModule",{value:!0});f9.Psbt=void 0;var mEe=fEe(),gEe=km(),Wa=bj(),yEe=YV(),i9=CS(),Out=ou(),cu=Jv(),Mut=L7(),c0=ja(),Os=e2(),Ui=pEe(),wo=Q7(),Nut={network:Out.bitcoin,maximumFeeRate:5e3},Ij=class t{static{o(this,"Psbt")}static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=mEe.Psbt.fromBuffer(e,Cut),i=new t(r,n);return Dut(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new mEe.Psbt(new o9)){this.data=r,this.opts=Object.assign({},Nut,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=o((i,s,a,c)=>Object.defineProperty(i,s,{enumerable:a,writable:c}),"dpew");n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,i9.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,yEe.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,i9.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){n9(e),this.opts.maximumFeeRate=e}setVersion(e){n9(e),FS(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){n9(e),FS(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){n9(r),FS(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Ui.checkTaprootInputFields)(e,e,"addInput"),FS(this.data.inputs,"addInput"),e.witnessScript&&s9(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];REe(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&Oj(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");FS(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,yEe.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Ui.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(TEe))throw new Error("Not finalized");let r=this.__CACHE;if(e||But(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return BEe(this.data.inputs,n,r,!0),n}getFeeRate(){return wEe("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return wEe("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Wa.checkForInput)(this.data.inputs,0),HS(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Wa.checkForInput)(this.data.inputs,e);return(0,Ui.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Ui.tapScriptFinalizer){let i=(0,Wa.checkForInput)(this.data.inputs,e);if((0,Ui.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Uut){let{script:i,isP2SH:s,isP2WSH:a,isSegwit:c}=Vut(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);Put(r);let{finalScriptSig:l,finalScriptWitness:h}=n(e,r,i,c,s,a);if(l&&this.data.updateInput(e,{finalScriptSig:l}),h&&this.data.updateInput(e,{finalScriptWitness:h}),!l&&!h)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Ui.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=cu.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),a=(0,wo.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:a})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Wa.checkForInput)(this.data.inputs,e),n=PEe(e,r,this.__CACHE),i=c9(n,e,"input",r.redeemScript||Gut(r.finalScriptSig),r.witnessScript||Wut(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",a=DEe(i.meaningfulScript);return s+a}inputHasPubkey(e,r){let n=(0,Wa.checkForInput)(this.data.inputs,e);return Kut(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Wa.checkForInput)(this.data.inputs,e),i=xEe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Wa.checkForOutput)(this.data.outputs,e);return $ut(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Wa.checkForOutput)(this.data.outputs,e),i=xEe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Wa.checkForInput)(this.data.inputs,0),HS(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Ui.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let a=n?s.filter(g=>g.pubkey.equals(n)):s;if(a.length<1)throw new Error("No signatures for this pubkey");let c=[],l,h,y;for(let g of a){let E=c0.signature.decode(g.signature),{hash:T,script:O}=y!==E.hashType?MEe(e,Object.assign({},i,{sighashType:E.hashType}),this.__CACHE,!0):{hash:l,script:h};y=E.hashType,l=T,h=O,IEe(g.pubkey,O,"verify"),c.push(r(g.pubkey,T,E.signature))}return c.every(g=>g===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,a=(i||{}).tapScriptSig;if(!i&&!s&&!(a&&!a.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Ui.toXOnly)(n);let c=n?Rj(e,i,this.data.inputs,n,this.__CACHE):Hut(e,i,this.data.inputs,this.__CACHE);if(!c.length)throw new Error("No signatures for this pubkey");let l=c.find(y=>!y.leafHash),h=0;if(s&&l){if(!r(l.pubkey,l.hash,SEe(s)))return!1;h++}if(a)for(let y of a){let g=c.find(E=>y.pubkey.equals(E.pubkey));if(g){if(!r(y.pubkey,g.hash,SEe(y.signature)))return!1;h++}}return h>0}signAllInputsHD(e,r=[Os.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of HS(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Os.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],a=[];for(let c of HS(this.data.inputs.length))a.push(this.signInputHDAsync(c,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Os.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return AEe(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[Os.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let c=AEe(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(c).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of HS(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],a=[];for(let[c]of this.data.inputs.entries())a.push(this.signInputAsync(c,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Wa.checkForInput)(this.data.inputs,e);return(0,Ui.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Wa.checkForInput)(this.data.inputs,e);if((0,Ui.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Os.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=EEe(this.data.inputs,e,r.publicKey,this.__CACHE,n),a=[{pubkey:r.publicKey,signature:c0.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:a}),this}_signTaprootInput(e,r,n,i,s=[Os.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),c=a.filter(h=>!h.leafHash).map(h=>(0,Ui.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType))[0],l=a.filter(h=>!!h.leafHash).map(h=>({pubkey:(0,Ui.toXOnly)(n.publicKey),signature:(0,Ui.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType),leafHash:h.leafHash}));return c&&this.data.updateInput(e,{tapKeySig:c}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Wa.checkForInput)(this.data.inputs,e);return(0,Ui.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Wa.checkForInput)(this.data.inputs,e);if((0,Ui.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Os.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=EEe(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(a=>{let c=[{pubkey:r.publicKey,signature:c0.signature.encode(a,s)}];this.data.updateInput(e,{partialSig:c})})}async _signTaprootInputAsync(e,r,n,i,s=[Os.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),c=[],l=a.filter(y=>!y.leafHash)[0];if(l){let y=Promise.resolve(n.signSchnorr(l.hash)).then(g=>({tapKeySig:(0,Ui.serializeTaprootSignature)(g,r.sighashType)}));c.push(y)}let h=a.filter(y=>!!y.leafHash);if(h.length){let y=h.map(g=>Promise.resolve(n.signSchnorr(g.hash)).then(E=>({tapScriptSig:[{pubkey:(0,Ui.toXOnly)(n.publicKey),signature:(0,Ui.serializeTaprootSignature)(E,r.sighashType),leafHash:g.leafHash}]})));c.push(...y)}return Promise.all(c).then(y=>{y.forEach(g=>this.data.updateInput(e,g))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let a=Rj(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!a||!a.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return a}toBuffer(){return Tj(this.__CACHE),this.data.toBuffer()}toHex(){return Tj(this.__CACHE),this.data.toHex()}toBase64(){return Tj(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&s9(r.witnessScript),(0,Ui.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&Oj(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Ui.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};f9.Psbt=Ij;var Cut=o(t=>new o9(t),"transactionFromBuffer"),o9=class{static{o(this,"PsbtTransaction")}constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Os.Transaction.fromBuffer(e),Lut(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,i9.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function kut(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return bEe(1,t.partialSig);case"multisig":let n=cu.p2ms({output:e});return bEe(n.m,t.partialSig,n.pubkeys);default:return!1}}o(kut,"canFinalize");function Tj(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}o(Tj,"checkCache");function bEe(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=Yut(i);return e.find(a=>a.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}o(bEe,"hasSigs");function TEe(t){return!!t.finalScriptSig||!!t.finalScriptWitness}o(TEe,"isFinalized");function xEe(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}o(xEe,"bip32DerivationIsMine");function n9(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}o(n9,"check32Bit");function But(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}o(But,"checkFees");function FS(t,e){t.forEach(r=>{if((0,Ui.isTaprootInput)(r)?(0,Ui.checkTaprootInputForSigs)(r,e):(0,wo.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}o(FS,"checkInputsForPartialSig");function Put(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=c0.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}o(Put,"checkPartialSigSighashes");function IEe(t,e,r){if(!(0,wo.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}o(IEe,"checkScriptForPubkey");function Lut(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}o(Lut,"checkTxEmpty");function Dut(t,e){t.ins.forEach(r=>{REe(e,r)})}o(Dut,"checkTxForDupeIns");function REe(t,e){let r=(0,i9.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}o(REe,"checkTxInputCache");function OEe(t,e){return(r,n,i,s)=>{let a=t({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}o(OEe,"scriptCheckerFactory");var vEe=OEe(cu.p2sh,"Redeem script"),_Ee=OEe(cu.p2wsh,"Witness script");function wEe(t,e,r,n){if(!r.every(TEe))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),BEe(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}o(wEe,"getTxCacheValue");function Uut(t,e,r,n,i,s){let a=DEe(r);if(!kut(e,r,a))throw new Error(`Can not finalize input #${t}`);return Fut(r,a,e.partialSig,n,i,s)}o(Uut,"getFinalScripts");function Fut(t,e,r,n,i,s){let a,c,l=qut(t,e,r),h=s?cu.p2wsh({redeem:l}):null,y=i?cu.p2sh({redeem:h||l}):null;return n?(h?c=(0,wo.witnessStackToScriptWitness)(h.witness):c=(0,wo.witnessStackToScriptWitness)(l.witness),y&&(a=y.input)):y?a=y.input:a=l.input,{finalScriptSig:a,finalScriptWitness:c}}o(Fut,"prepareFinalScripts");function EEe(t,e,r,n,i){let s=(0,Wa.checkForInput)(t,e),{hash:a,sighashType:c,script:l}=MEe(e,s,n,!1,i);return IEe(r,l,"sign"),{hash:a,sighashType:c}}o(EEe,"getHashAndSighashType");function MEe(t,e,r,n,i){let s=r.__TX,a=e.sighashType||Os.Transaction.SIGHASH_ALL;CEe(a,i);let c,l;if(e.nonWitnessUtxo){let g=a9(r,e,t),E=s.ins[t].hash,T=g.getHash();if(!E.equals(T))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let O=s.ins[t].index;l=g.outs[O]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:h,type:y}=c9(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(y)>=0)c=s.hashForWitnessV0(t,h,l.value,a);else if((0,wo.isP2WPKH)(h)){let g=cu.p2pkh({hash:h.slice(2)}).output;c=s.hashForWitnessV0(t,g,l.value,a)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),c=s.hashForSignature(t,h,a)}return{script:h,sighashType:a,hash:c}}o(MEe,"getHashForSig");function Hut(t,e,r,n){let i=[];if(e.tapInternalKey){let a=NEe(t,e,n);a&&i.push(a)}if(e.tapScriptSig){let a=e.tapScriptSig.map(c=>c.pubkey);i.push(...a)}return i.map(a=>Rj(t,e,r,a,n)).flat()}o(Hut,"getAllTaprootHashesForSig");function NEe(t,e,r){let{script:n}=Mj(t,e,r);return(0,wo.isP2TR)(n)?n.subarray(2,34):null}o(NEe,"getPrevoutTaprootKey");function SEe(t){return t.length===64?t:t.subarray(0,64)}o(SEe,"trimTaprootSig");function Rj(t,e,r,n,i,s,a){let c=i.__TX,l=e.sighashType||Os.Transaction.SIGHASH_DEFAULT;CEe(l,a);let h=r.map((O,M)=>Mj(M,O,i)),y=h.map(O=>O.script),g=h.map(O=>O.value),E=[];if(e.tapInternalKey&&!s){let O=NEe(t,e,i)||Buffer.from([]);if((0,Ui.toXOnly)(n).equals(O)){let M=c.hashForWitnessV1(t,y,g,l);E.push({pubkey:n,hash:M})}}let T=(e.tapLeafScript||[]).filter(O=>(0,wo.pubkeyInScript)(n,O.script)).map(O=>{let M=(0,Mut.tapleafHash)({output:O.script,version:O.leafVersion});return Object.assign({hash:M},O)}).filter(O=>!s||s.equals(O.hash)).map(O=>{let M=c.hashForWitnessV1(t,y,g,Os.Transaction.SIGHASH_DEFAULT,O.hash);return{pubkey:n,hash:M,leafHash:O.hash}});return E.concat(T)}o(Rj,"getTaprootHashesForSig");function CEe(t,e){if(e&&e.indexOf(t)<0){let r=zut(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}o(CEe,"checkSighashTypeAllowed");function qut(t,e,r){let n;switch(e){case"multisig":let i=jut(t,r);n=cu.p2ms({output:t,signatures:i});break;case"pubkey":n=cu.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=cu.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=cu.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}o(qut,"getPayment");function Vut(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=a9(r,e,t),a=n.ins[t].index;i.script=s.outs[a].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,wo.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}o(Vut,"getScriptFromInput");function AEe(t,e,r){let n=(0,Wa.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(a=>{if(a.masterFingerprint.equals(r.fingerprint))return a}).filter(a=>!!a);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(a=>{let c=r.derivePath(a.path);if(!a.pubkey.equals(c.publicKey))throw new Error("pubkey did not match bip32Derivation");return c})}o(AEe,"getSignersFromHD");function jut(t,e){return cu.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}o(jut,"getSortedSigs");function kEe(t){let e=0;function r(a){return e+=a,t.slice(e-a,e)}o(r,"readSlice");function n(){let a=gEe.decode(t,e);return e+=gEe.decode.bytes,a}o(n,"readVarInt");function i(){return r(n())}o(i,"readVarSlice");function s(){let a=n(),c=[];for(let l=0;l<a;l++)c.push(i());return c}return o(s,"readVector"),s()}o(kEe,"scriptWitnessToWitnessStack");function zut(t){let e=t&Os.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Os.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Os.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Os.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}o(zut,"sighashTypeToString");function Oj(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Os.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let a=i.__NON_WITNESS_UTXO_BUF_CACHE[s],c=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(a!==void 0)return a;{let l=c.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=l,l}},set(a){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=a}})}o(Oj,"addNonWitnessTxCache");function BEe(t,e,r,n){let i=0;t.forEach((l,h)=>{if(n&&l.finalScriptSig&&(e.ins[h].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[h].witness=kEe(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let y=a9(r,l,h),g=e.ins[h].index,E=y.outs[g];i+=E.value}});let s=e.outs.reduce((l,h)=>l+h.value,0),a=i-s;if(a<0)throw new Error("Outputs are spending more than Inputs");let c=e.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(a/c)}o(BEe,"inputFinalizeGetAmts");function a9(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||Oj(t,e,r),n[r]}o(a9,"nonWitnessUtxoTxFromCache");function PEe(t,e,r){let{script:n}=Mj(t,e,r);return n}o(PEe,"getScriptFromUtxo");function Mj(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=a9(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}o(Mj,"getScriptAndAmountFromUtxo");function Kut(t,e,r,n){let i=PEe(r,e,n),{meaningfulScript:s}=c9(i,r,"input",e.redeemScript,e.witnessScript);return(0,wo.pubkeyInScript)(t,s)}o(Kut,"pubkeyInInput");function $ut(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=c9(i,r,"output",e.redeemScript,e.witnessScript);return(0,wo.pubkeyInScript)(t,s)}o($ut,"pubkeyInOutput");function Gut(t){if(!t)return;let e=c0.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||LEe(r)||Xut(r)||!c0.decompile(r)))return r}o(Gut,"redeemFromFinalScriptSig");function Wut(t){if(!t)return;let e=kEe(t),r=e[e.length-1];if(!(LEe(r)||!c0.decompile(r)))return r}o(Wut,"redeemFromFinalWitnessScript");function Yut(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}o(Yut,"compressPubkey");function LEe(t){return t.length===33&&c0.isCanonicalPubKey(t)}o(LEe,"isPubkeyLike");function Xut(t){return c0.isCanonicalScriptSignature(t)}o(Xut,"isSigLike");function c9(t,e,r,n,i){let s=(0,wo.isP2SHScript)(t),a=s&&n&&(0,wo.isP2WSHScript)(n),c=(0,wo.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((c||a)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return a?(l=i,vEe(e,t,n,r),_Ee(e,n,i,r),s9(l)):c?(l=i,_Ee(e,t,i,r),s9(l)):s?(l=n,vEe(e,t,n,r)):l=t,{meaningfulScript:l,type:a?"p2sh-p2wsh":s?"p2sh":c?"p2wsh":"raw"}}o(c9,"getMeaningfulScript");function s9(t){if((0,wo.isP2WPKH)(t)||(0,wo.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}o(s9,"checkInvalidP2WSH");function DEe(t){return(0,wo.isP2WPKH)(t)?"witnesspubkeyhash":(0,wo.isP2PKH)(t)?"pubkeyhash":(0,wo.isP2MS)(t)?"multisig":(0,wo.isP2PK)(t)?"pubkey":"nonstandard"}o(DEe,"classifyScript");function HS(t){return[...Array(t).keys()]}o(HS,"range")});var Nj=j(Qi=>{"use strict";p();m();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.initEccLib=Qi.Transaction=Qi.opcodes=Qi.Psbt=Qi.Block=Qi.script=Qi.payments=Qi.networks=Qi.crypto=Qi.address=void 0;var Zut=YV();Qi.address=Zut;var Jut=Nd();Qi.crypto=Jut;var Qut=ou();Qi.networks=Qut;var elt=Jv();Qi.payments=elt;var tlt=ja();Qi.script=tlt;var rlt=swe();Object.defineProperty(Qi,"Block",{enumerable:!0,get:o(function(){return rlt.Block},"get")});var nlt=UEe();Object.defineProperty(Qi,"Psbt",{enumerable:!0,get:o(function(){return nlt.Psbt},"get")});var ilt=QR();Object.defineProperty(Qi,"opcodes",{enumerable:!0,get:o(function(){return ilt.OPS},"get")});var olt=e2();Object.defineProperty(Qi,"Transaction",{enumerable:!0,get:o(function(){return olt.Transaction},"get")});var slt=P7();Object.defineProperty(Qi,"initEccLib",{enumerable:!0,get:o(function(){return slt.initEccLib},"get")})});var p4e=j((oPr,h4e)=>{p();m();var igt=WNe(),ogt=lk(),sgt="[object Date]";function agt(t){return ogt(t)&&igt(t)==sgt}o(agt,"baseIsDate");h4e.exports=agt});var b4e=j((fPr,y4e)=>{p();m();var cgt=p4e(),fgt=dk(),m4e=hk(),g4e=m4e&&m4e.isDate,ugt=g4e?fgt(g4e):cgt;y4e.exports=ugt});var w0=j(Wr=>{"use strict";p();m();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.DEFAULT_TLRU_TTL_MS=Wr.BANDIT_ASSIGNMENT_SHARDS=Wr.MAX_EVENT_QUEUE_SIZE=Wr.NULL_SENTINEL=Wr.SESSION_ASSIGNMENT_CONFIG_LOADED=Wr.PRECOMPUTED_FLAGS_ENDPOINT=Wr.PRECOMPUTED_BASE_URL=Wr.BANDIT_ENDPOINT=Wr.UFC_ENDPOINT=Wr.BASE_URL=Wr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Wr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Wr.POLL_JITTER_PCT=Wr.DEFAULT_POLL_INTERVAL_MS=Wr.REQUEST_TIMEOUT_MILLIS=Wr.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Wr.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Wr.REQUEST_TIMEOUT_MILLIS=Wr.DEFAULT_REQUEST_TIMEOUT_MS;Wr.DEFAULT_POLL_INTERVAL_MS=3e4;Wr.POLL_JITTER_PCT=.1;Wr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Wr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Wr.BASE_URL="https://fscdn.eppo.cloud/api";Wr.UFC_ENDPOINT="/flag-config/v1/config";Wr.BANDIT_ENDPOINT="/flag-config/v1/bandits";Wr.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Wr.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Wr.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Wr.NULL_SENTINEL="EPPO_NULL";Wr.MAX_EVENT_QUEUE_SIZE=100;Wr.BANDIT_ASSIGNMENT_SHARDS=1e4;Wr.DEFAULT_TLRU_TTL_MS=6e5});var NM=j(U$=>{"use strict";p();m();Object.defineProperty(U$,"__esModule",{value:!0});var MM=w0(),D$=class{static{o(this,"ApiEndpoints")}constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??MM.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(MM.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(MM.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(MM.PRECOMPUTED_FLAGS_ENDPOINT)}};U$.default=D$});var j8e=j((J$r,V8e)=>{"use strict";p();m();function Jyt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}o(Jyt,"tryStringify");V8e.exports=Qyt;function Qyt(t,e,r){var n=r&&r.stringify||Jyt,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=n(t);for(var c=1;c<s;c++)a[c]=n(e[c]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var h="",y=1-i,g=-1,E=t&&t.length||0,T=0;T<E;){if(t.charCodeAt(T)===37&&T+1<E){switch(g=g>-1?g:0,t.charCodeAt(T+1)){case 100:case 102:if(y>=l||e[y]==null)break;g<T&&(h+=t.slice(g,T)),h+=Number(e[y]),g=T+2,T++;break;case 105:if(y>=l||e[y]==null)break;g<T&&(h+=t.slice(g,T)),h+=Math.floor(Number(e[y])),g=T+2,T++;break;case 79:case 111:case 106:if(y>=l||e[y]===void 0)break;g<T&&(h+=t.slice(g,T));var O=typeof e[y];if(O==="string"){h+="'"+e[y]+"'",g=T+2,T++;break}if(O==="function"){h+=e[y].name||"<anonymous>",g=T+2,T++;break}h+=n(e[y]),g=T+2,T++;break;case 115:if(y>=l)break;g<T&&(h+=t.slice(g,T)),h+=String(e[y]),g=T+2,T++;break;case 37:g<T&&(h+=t.slice(g,T)),h+="%",g=T+2,T++,y--;break}++y}++T}return g===-1?t:(g<E&&(h+=t.slice(g)),h)}o(Qyt,"format")});var Y8e=j((rGr,kM)=>{"use strict";p();m();var z8e=j8e();kM.exports=E0;var $3=p1t().console||{},e1t={mapHttpRequest:CM,mapHttpResponse:CM,wrapRequestSerializer:F$,wrapResponseSerializer:F$,wrapErrorSerializer:F$,req:CM,res:CM,err:$8e,errWithCause:$8e};function sg(t,e){return t==="silent"?1/0:e.levels.values[t]}o(sg,"levelToValue");var V$=Symbol("pino.logFuncs"),H$=Symbol("pino.hierarchy"),t1t={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function K8e(t,e){let r={logger:e,parent:t[H$]};e[H$]=r}o(K8e,"appendChildLogger");function r1t(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:$3[i]||$3[t1t[i]||"log"]||K2}),t[V$]=n}o(r1t,"setupBaseLogFunctions");function n1t(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}o(n1t,"shouldSerialize");function E0(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||$3;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=n1t(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let a=Object.keys(t.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&c.forEach(function(M){r[M]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",h=Object.create(r);h.log||(h.log=K2),r1t(h,c,r),K8e({},h),Object.defineProperty(h,"levelVal",{get:g}),Object.defineProperty(h,"level",{get:E,set:T});let y={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:c,timestamp:l1t(t),messageKey:t.messageKey||"msg",onChild:t.onChild||K2};h.levels=i1t(t),h.level=l,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=K2,h.serializers=n,h._serialize=i,h._stdErrSerialize=s,h.child=function(...M){return O.call(this,y,...M)},e&&(h._logEvent=q$());function g(){return sg(this.level,this)}o(g,"getLevelVal");function E(){return this._level}o(E,"getLevel");function T(M){if(M!=="silent"&&!this.levels.values[M])throw Error("unknown level "+M);this._level=M,H1(this,y,h,"error"),H1(this,y,h,"fatal"),H1(this,y,h,"warn"),H1(this,y,h,"info"),H1(this,y,h,"debug"),H1(this,y,h,"trace"),a.forEach(k=>{H1(this,y,h,k)})}o(T,"setLevel");function O(M,k,C){if(!k)throw new Error("missing bindings for child Pino");C=C||{},i&&k.serializers&&(C.serializers=k.serializers);let B=C.serializers;if(i&&B){var N=Object.assign({},n,B),P=t.browser.serialize===!0?Object.keys(N):i;delete k.serializers,j$([k],P,N,this._stdErrSerialize)}function H(Z){this._childLevel=(Z._childLevel|0)+1,this.bindings=k,N&&(this.serializers=N,this._serialize=P),e&&(this._logEvent=q$([].concat(Z._logEvent.bindings,k)))}o(H,"Child"),H.prototype=this;let F=new H(this);return K8e(this,F),F.child=function(...Z){return O.call(this,M,...Z)},F.level=C.level||this.level,M.onChild(F),F}return o(O,"child"),h}o(E0,"pino");function i1t(t){let e=t.customLevels||{},r=Object.assign({},E0.levels.values,e),n=Object.assign({},E0.levels.labels,o1t(e));return{values:r,labels:n}}o(i1t,"getLevels");function o1t(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}o(o1t,"invertObject");E0.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};E0.stdSerializers=e1t;E0.stdTimeFunctions=Object.assign({},{nullTime:G8e,epochTime:W8e,unixTime:d1t,isoTime:h1t});function s1t(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[H$];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}o(s1t,"getBindingChain");function H1(t,e,r,n){if(Object.defineProperty(t,n,{value:sg(t.level,r)>sg(n,r)?K2:r[V$][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===K2){if(!e.transmit)return;let s=e.transmit.level||t.level,a=sg(s,r);if(sg(n,r)<a)return}t[n]=c1t(t,e,r,n);let i=s1t(t);i.length!==0&&(t[n]=a1t(i,t[n]))}o(H1,"set");function a1t(t,e){return function(){return e.apply(this,[...t,...arguments])}}o(a1t,"prependBindingsInArguments");function c1t(t,e,r,n){return function(i){return o(function(){let a=e.timestamp(),c=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===$3?$3:this;for(var h=0;h<c.length;h++)c[h]=arguments[h];var y=!1;if(e.serialize&&(j$(c,this._serialize,this.serializers,this._stdErrSerialize),y=!0),e.asObject||e.formatters?i.call(l,f1t(this,n,c,a,e)):i.apply(l,c),e.transmit){let g=e.transmit.level||t._level,E=sg(g,r),T=sg(n,r);if(T<E)return;u1t(this,{ts:a,methodLevel:n,methodValue:T,transmitLevel:g,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:sg(t._level,r)},c,y)}},"LOG")}(t[V$][n])}o(c1t,"createWrap");function f1t(t,e,r,n,i){let{level:s,log:a=o(E=>E,"logObjectFormatter")}=i.formatters||{},c=r.slice(),l=c[0],h={};if(n&&(h.time=n),s){let E=s(e,t.levels.values[e]);Object.assign(h,E)}else h.level=t.levels.values[e];let y=(t._childLevel|0)+1;if(y<1&&(y=1),l!==null&&typeof l=="object"){for(;y--&&typeof c[0]=="object";)Object.assign(h,c.shift());l=c.length?z8e(c.shift(),c):void 0}else typeof l=="string"&&(l=z8e(c.shift(),c));return l!==void 0&&(h[i.messageKey]=l),a(h)}o(f1t,"asObject");function j$(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=E0.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let s in t[i])e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}o(j$,"applySerializers");function u1t(t,e,r,n=!1){let i=e.send,s=e.ts,a=e.methodLevel,c=e.methodValue,l=e.val,h=t._logEvent.bindings;n||j$(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(y){return h.indexOf(y)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=c,i(a,t._logEvent,l),t._logEvent=q$(h)}o(u1t,"transmit");function q$(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}o(q$,"createLogEventShape");function $8e(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}o($8e,"asErrValue");function l1t(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?G8e:W8e}o(l1t,"getTimeFunction");function CM(){return{}}o(CM,"mock");function F$(t){return t}o(F$,"passthrough");function K2(){}o(K2,"noop");function G8e(){return!1}o(G8e,"nullTime");function W8e(){return Date.now()}o(W8e,"epochTime");function d1t(){return Math.round(Date.now()/1e3)}o(d1t,"unixTime");function h1t(){return new Date(Date.now()).toISOString()}o(h1t,"isoTime");function p1t(){function t(e){return typeof e<"u"&&e}o(t,"defd");try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:o(function(){return delete Object.prototype.globalThis,this.globalThis=this},"get"),configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}o(p1t,"pfGlobalThisOrFallback");kM.exports.default=E0;kM.exports.pino=E0});var Qd=j($2=>{"use strict";p();m();Object.defineProperty($2,"__esModule",{value:!0});$2.logger=$2.loggerPrefix=void 0;var m1t=Y8e();$2.loggerPrefix="[Eppo SDK]";$2.logger=(0,m1t.default)({level:R.LOG_LEVEL??(R.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var $$=j((z$,K$)=>{p();m();(function(t,e){typeof z$=="object"&&typeof K$<"u"?K$.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:z$,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=Array.prototype.slice.call(s),c=function(U){var G={};return U.forEach(function(ee,re){return G[ee]=re}),G}(a),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),y=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(U){return new Uint8Array(Array.prototype.slice.call(U,0))},g=o(function(U){return U.replace(/=/g,"").replace(/[+\/]/g,function(G){return G=="+"?"-":"_"})},"_mkUriSafe"),E=o(function(U){return U.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),T=o(function(U){for(var G,ee,re,Oe,ae="",le=U.length%3,ye=0;ye<U.length;){if((ee=U.charCodeAt(ye++))>255||(re=U.charCodeAt(ye++))>255||(Oe=U.charCodeAt(ye++))>255)throw new TypeError("invalid character found");G=ee<<16|re<<8|Oe,ae+=a[G>>18&63]+a[G>>12&63]+a[G>>6&63]+a[G&63]}return le?ae.slice(0,le-3)+"===".substring(le):ae},"btoaPolyfill"),O=typeof btoa=="function"?function(U){return btoa(U)}:r?function(U){return Buffer.from(U,"binary").toString("base64")}:T,M=r?function(U){return Buffer.from(U).toString("base64")}:function(U){for(var G=4096,ee=[],re=0,Oe=U.length;re<Oe;re+=G)ee.push(h.apply(null,U.subarray(re,re+G)));return O(ee.join(""))},k=o(function(U,G){return G===void 0&&(G=!1),G?g(M(U)):M(U)},"fromUint8Array"),C=o(function(U){if(U.length<2){var G=U.charCodeAt(0);return G<128?U:G<2048?h(192|G>>>6)+h(128|G&63):h(224|G>>>12&15)+h(128|G>>>6&63)+h(128|G&63)}else{var G=65536+(U.charCodeAt(0)-55296)*1024+(U.charCodeAt(1)-56320);return h(240|G>>>18&7)+h(128|G>>>12&63)+h(128|G>>>6&63)+h(128|G&63)}},"cb_utob"),B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,N=o(function(U){return U.replace(B,C)},"utob"),P=r?function(U){return Buffer.from(U,"utf8").toString("base64")}:i?function(U){return M(i.encode(U))}:function(U){return O(N(U))},H=o(function(U,G){return G===void 0&&(G=!1),G?g(P(U)):P(U)},"encode"),F=o(function(U){return H(U,!0)},"encodeURI"),Z=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,W=o(function(U){switch(U.length){case 4:var G=(7&U.charCodeAt(0))<<18|(63&U.charCodeAt(1))<<12|(63&U.charCodeAt(2))<<6|63&U.charCodeAt(3),ee=G-65536;return h((ee>>>10)+55296)+h((ee&1023)+56320);case 3:return h((15&U.charCodeAt(0))<<12|(63&U.charCodeAt(1))<<6|63&U.charCodeAt(2));default:return h((31&U.charCodeAt(0))<<6|63&U.charCodeAt(1))}},"cb_btou"),X=o(function(U){return U.replace(Z,W)},"btou"),S=o(function(U){if(U=U.replace(/\s+/g,""),!l.test(U))throw new TypeError("malformed base64.");U+="==".slice(2-(U.length&3));for(var G,ee="",re,Oe,ae=0;ae<U.length;)G=c[U.charAt(ae++)]<<18|c[U.charAt(ae++)]<<12|(re=c[U.charAt(ae++)])<<6|(Oe=c[U.charAt(ae++)]),ee+=re===64?h(G>>16&255):Oe===64?h(G>>16&255,G>>8&255):h(G>>16&255,G>>8&255,G&255);return ee},"atobPolyfill"),f=typeof atob=="function"?function(U){return atob(E(U))}:r?function(U){return Buffer.from(U,"base64").toString("binary")}:S,d=r?function(U){return y(Buffer.from(U,"base64"))}:function(U){return y(f(U).split("").map(function(G){return G.charCodeAt(0)}))},b=o(function(U){return d(_(U))},"toUint8Array"),x=r?function(U){return Buffer.from(U,"base64").toString("utf8")}:n?function(U){return n.decode(d(U))}:function(U){return X(f(U))},_=o(function(U){return E(U.replace(/[-_]/g,function(G){return G=="-"?"+":"/"}))},"_unURI"),A=o(function(U){return x(_(U))},"decode"),I=o(function(U){if(typeof U!="string")return!1;var G=U.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(G)||!/[^\s0-9a-zA-Z\-_]/.test(G)},"isValid"),v=o(function(U){return{value:U,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),u=o(function(){var U=o(function(G,ee){return Object.defineProperty(String.prototype,G,v(ee))},"_add");U("fromBase64",function(){return A(this)}),U("toBase64",function(G){return H(this,G)}),U("toBase64URI",function(){return H(this,!0)}),U("toBase64URL",function(){return H(this,!0)}),U("toUint8Array",function(){return b(this)})},"extendString"),w=o(function(){var U=o(function(G,ee){return Object.defineProperty(Uint8Array.prototype,G,v(ee))},"_add");U("toBase64",function(G){return k(this,G)}),U("toBase64URI",function(){return k(this,!0)}),U("toBase64URL",function(){return k(this,!0)})},"extendUint8Array"),V=o(function(){u(),w()},"extendBuiltins"),q={version:t,VERSION:e,atob:f,atobPolyfill:S,btoa:O,btoaPolyfill:T,fromBase64:A,toBase64:H,encode:H,encodeURI:F,encodeURL:F,utob:N,btou:X,decode:A,isValid:I,fromUint8Array:k,toUint8Array:b,extendString:u,extendUint8Array:w,extendBuiltins:V};return q.Base64={},Object.keys(q).forEach(function(U){return q.Base64[U]=q[U]}),q})});var J8e=j((X8e,Z8e)=>{p();m();(function(t){if(typeof X8e=="object")Z8e.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=o(function(C,B){return C+B&4294967295},"add32"),r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(C,B,N,P,H,F){return B=e(e(B,C),e(P,F)),e(B<<H|B>>>32-H,N)}o(n,"cmn");function i(C,B){var N=C[0],P=C[1],H=C[2],F=C[3];N+=(P&H|~P&F)+B[0]-680876936|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[1]-389564586|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[2]+606105819|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[3]-1044525330|0,P=(P<<22|P>>>10)+H|0,N+=(P&H|~P&F)+B[4]-176418897|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[5]+1200080426|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[6]-1473231341|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[7]-45705983|0,P=(P<<22|P>>>10)+H|0,N+=(P&H|~P&F)+B[8]+1770035416|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[9]-1958414417|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[10]-42063|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[11]-1990404162|0,P=(P<<22|P>>>10)+H|0,N+=(P&H|~P&F)+B[12]+1804603682|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[13]-40341101|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[14]-1502002290|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[15]+1236535329|0,P=(P<<22|P>>>10)+H|0,N+=(P&F|H&~F)+B[1]-165796510|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[6]-1069501632|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[11]+643717713|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[0]-373897302|0,P=(P<<20|P>>>12)+H|0,N+=(P&F|H&~F)+B[5]-701558691|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[10]+38016083|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[15]-660478335|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[4]-405537848|0,P=(P<<20|P>>>12)+H|0,N+=(P&F|H&~F)+B[9]+568446438|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[14]-1019803690|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[3]-187363961|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[8]+1163531501|0,P=(P<<20|P>>>12)+H|0,N+=(P&F|H&~F)+B[13]-1444681467|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[2]-51403784|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[7]+1735328473|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[12]-1926607734|0,P=(P<<20|P>>>12)+H|0,N+=(P^H^F)+B[5]-378558|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[8]-2022574463|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[11]+1839030562|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[14]-35309556|0,P=(P<<23|P>>>9)+H|0,N+=(P^H^F)+B[1]-1530992060|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[4]+1272893353|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[7]-155497632|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[10]-1094730640|0,P=(P<<23|P>>>9)+H|0,N+=(P^H^F)+B[13]+681279174|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[0]-358537222|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[3]-722521979|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[6]+76029189|0,P=(P<<23|P>>>9)+H|0,N+=(P^H^F)+B[9]-640364487|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[12]-421815835|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[15]+530742520|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[2]-995338651|0,P=(P<<23|P>>>9)+H|0,N+=(H^(P|~F))+B[0]-198630844|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[7]+1126891415|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[14]-1416354905|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[5]-57434055|0,P=(P<<21|P>>>11)+H|0,N+=(H^(P|~F))+B[12]+1700485571|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[3]-1894986606|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[10]-1051523|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[1]-2054922799|0,P=(P<<21|P>>>11)+H|0,N+=(H^(P|~F))+B[8]+1873313359|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[15]-30611744|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[6]-1560198380|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[13]+1309151649|0,P=(P<<21|P>>>11)+H|0,N+=(H^(P|~F))+B[4]-145523070|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[11]-1120210379|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[2]+718787259|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[9]-343485551|0,P=(P<<21|P>>>11)+H|0,C[0]=N+C[0]|0,C[1]=P+C[1]|0,C[2]=H+C[2]|0,C[3]=F+C[3]|0}o(i,"md5cycle");function s(C){var B=[],N;for(N=0;N<64;N+=4)B[N>>2]=C.charCodeAt(N)+(C.charCodeAt(N+1)<<8)+(C.charCodeAt(N+2)<<16)+(C.charCodeAt(N+3)<<24);return B}o(s,"md5blk");function a(C){var B=[],N;for(N=0;N<64;N+=4)B[N>>2]=C[N]+(C[N+1]<<8)+(C[N+2]<<16)+(C[N+3]<<24);return B}o(a,"md5blk_array");function c(C){var B=C.length,N=[1732584193,-271733879,-1732584194,271733878],P,H,F,Z,W,X;for(P=64;P<=B;P+=64)i(N,s(C.substring(P-64,P)));for(C=C.substring(P-64),H=C.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<H;P+=1)F[P>>2]|=C.charCodeAt(P)<<(P%4<<3);if(F[P>>2]|=128<<(P%4<<3),P>55)for(i(N,F),P=0;P<16;P+=1)F[P]=0;return Z=B*8,Z=Z.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(Z[2],16),X=parseInt(Z[1],16)||0,F[14]=W,F[15]=X,i(N,F),N}o(c,"md51");function l(C){var B=C.length,N=[1732584193,-271733879,-1732584194,271733878],P,H,F,Z,W,X;for(P=64;P<=B;P+=64)i(N,a(C.subarray(P-64,P)));for(C=P-64<B?C.subarray(P-64):new Uint8Array(0),H=C.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<H;P+=1)F[P>>2]|=C[P]<<(P%4<<3);if(F[P>>2]|=128<<(P%4<<3),P>55)for(i(N,F),P=0;P<16;P+=1)F[P]=0;return Z=B*8,Z=Z.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(Z[2],16),X=parseInt(Z[1],16)||0,F[14]=W,F[15]=X,i(N,F),N}o(l,"md51_array");function h(C){var B="",N;for(N=0;N<4;N+=1)B+=r[C>>N*8+4&15]+r[C>>N*8&15];return B}o(h,"rhex");function y(C){var B;for(B=0;B<C.length;B+=1)C[B]=h(C[B]);return C.join("")}o(y,"hex"),y(c("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=o(function(C,B){var N=(C&65535)+(B&65535),P=(C>>16)+(B>>16)+(N>>16);return P<<16|N&65535},"add32")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(B,N){return B=B|0||0,B<0?Math.max(B+N,0):Math.min(B,N)}o(C,"clamp"),ArrayBuffer.prototype.slice=function(B,N){var P=this.byteLength,H=C(B,P),F=P,Z,W,X,S;return N!==t&&(F=C(N,P)),H>F?new ArrayBuffer(0):(Z=F-H,W=new ArrayBuffer(Z),X=new Uint8Array(W),S=new Uint8Array(this,H,Z),X.set(S),W)}}();function g(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}o(g,"toUtf8");function E(C,B){var N=C.length,P=new ArrayBuffer(N),H=new Uint8Array(P),F;for(F=0;F<N;F+=1)H[F]=C.charCodeAt(F);return B?H:P}o(E,"utf8Str2ArrayBuffer");function T(C){return String.fromCharCode.apply(null,new Uint8Array(C))}o(T,"arrayBuffer2Utf8Str");function O(C,B,N){var P=new Uint8Array(C.byteLength+B.byteLength);return P.set(new Uint8Array(C)),P.set(new Uint8Array(B),C.byteLength),N?P:P.buffer}o(O,"concatenateArrayBuffers");function M(C){var B=[],N=C.length,P;for(P=0;P<N-1;P+=2)B.push(parseInt(C.substr(P,2),16));return String.fromCharCode.apply(String,B)}o(M,"hexToBinaryString");function k(){this.reset()}return o(k,"SparkMD5"),k.prototype.append=function(C){return this.appendBinary(g(C)),this},k.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var B=this._buff.length,N;for(N=64;N<=B;N+=64)i(this._hash,s(this._buff.substring(N-64,N)));return this._buff=this._buff.substring(N-64),this},k.prototype.end=function(C){var B=this._buff,N=B.length,P,H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F;for(P=0;P<N;P+=1)H[P>>2]|=B.charCodeAt(P)<<(P%4<<3);return this._finish(H,N),F=y(this._hash),C&&(F=M(F)),this.reset(),F},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function(C,B){var N=B,P,H,F;if(C[N>>2]|=128<<(N%4<<3),N>55)for(i(this._hash,C),N=0;N<16;N+=1)C[N]=0;P=this._length*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(P[2],16),F=parseInt(P[1],16)||0,C[14]=H,C[15]=F,i(this._hash,C)},k.hash=function(C,B){return k.hashBinary(g(C),B)},k.hashBinary=function(C,B){var N=c(C),P=y(N);return B?M(P):P},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function(C){var B=O(this._buff.buffer,C,!0),N=B.length,P;for(this._length+=C.byteLength,P=64;P<=N;P+=64)i(this._hash,a(B.subarray(P-64,P)));return this._buff=P-64<N?new Uint8Array(B.buffer.slice(P-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function(C){var B=this._buff,N=B.length,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H,F;for(H=0;H<N;H+=1)P[H>>2]|=B[H]<<(H%4<<3);return this._finish(P,N),F=y(this._hash),C&&(F=M(F)),this.reset(),F},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var C=k.prototype.getState.call(this);return C.buff=T(C.buff),C},k.ArrayBuffer.prototype.setState=function(C){return C.buff=E(C.buff,!0),k.prototype.setState.call(this,C)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function(C,B){var N=l(new Uint8Array(C)),P=y(N);return B?M(P):P},k})});var S0=j(ag=>{"use strict";p();m();Object.defineProperty(ag,"__esModule",{value:!0});ag.getMD5Hash=G$;ag.encodeBase64=El;ag.attributeEncodeBase64=t5e;ag.decodeBase64=y1t;ag.obfuscatePrecomputedBanditMap=b1t;ag.obfuscatePrecomputedFlags=v1t;var e5e=$$(),g1t=J8e();function G$(t,e=""){return new g1t().append(e).append(t).end()}o(G$,"getMD5Hash");function El(t){return e5e.encode(t)}o(El,"encodeBase64");function t5e(t){return El(typeof t!="string"?String(t):t)}o(t5e,"attributeEncodeBase64");function y1t(t){return e5e.decode(t)}o(y1t,"decodeBase64");function b1t(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[G$(r,t),x1t(n)]))}o(b1t,"obfuscatePrecomputedBanditMap");function x1t(t){return{banditKey:El(t.banditKey),action:El(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:El(t.modelVersion),actionNumericAttributes:Q8e(t.actionNumericAttributes),actionCategoricalAttributes:Q8e(t.actionCategoricalAttributes)}}o(x1t,"obfuscatePrecomputedBandit");function Q8e(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[El(e),t5e(r)]))}o(Q8e,"encodeAttributes");function v1t(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],s=Object.fromEntries(Object.entries(i.extraLogging??{}).map(c=>c.map(El))),a=G$(n,t);r[a]={flagKey:a,variationType:i.variationType,extraLogging:s,doLog:i.doLog,allocationKey:El(i.allocationKey??""),variationKey:El(i.variationKey??""),variationValue:El(i.variationValue)}}),r}o(v1t,"obfuscatePrecomputedFlags")});var G3=j(G2=>{"use strict";p();m();Object.defineProperty(G2,"__esModule",{value:!0});G2.AbstractAssignmentCache=void 0;G2.assignmentCacheKeyToString=W$;G2.assignmentCacheValueToString=Y$;var r5e=S0();function W$({subjectKey:t,flagKey:e}){return(0,r5e.getMD5Hash)([t,e].join(";"))}o(W$,"assignmentCacheKeyToString");function Y$(t){return(0,r5e.getMD5Hash)(Object.values(t).join(";"))}o(Y$,"assignmentCacheValueToString");var X$=class{static{o(this,"AbstractAssignmentCache")}constructor(e){this.delegate=e}has(e){return this.get(e)===Y$(e)}get(e){return this.delegate.get(W$(e))}set(e){this.delegate.set(W$(e),Y$(e))}entries(){return this.delegate.entries()}};G2.AbstractAssignmentCache=X$});var J$=j(BM=>{"use strict";p();m();Object.defineProperty(BM,"__esModule",{value:!0});BM.LRUCache=void 0;var Z$=class{static{o(this,"LRUCache")}constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};BM.LRUCache=Z$});var LM=j(PM=>{"use strict";p();m();Object.defineProperty(PM,"__esModule",{value:!0});PM.LRUInMemoryAssignmentCache=void 0;var _1t=G3(),w1t=J$(),Q$=class extends _1t.AbstractAssignmentCache{static{o(this,"LRUInMemoryAssignmentCache")}constructor(e){super(new w1t.LRUCache(e))}};PM.LRUInMemoryAssignmentCache=Q$});var UM=j(DM=>{"use strict";p();m();Object.defineProperty(DM,"__esModule",{value:!0});DM.NonExpiringInMemoryAssignmentCache=void 0;var E1t=G3(),eG=class extends E1t.AbstractAssignmentCache{static{o(this,"NonExpiringInMemoryAssignmentCache")}constructor(e=new Map){super(e)}};DM.NonExpiringInMemoryAssignmentCache=eG});var rG=j(q1=>{"use strict";p();m();Object.defineProperty(q1,"__esModule",{value:!0});q1.isInstanceOfContextualAttributes=FM;q1.ensureNonContextualSubjectAttributes=S1t;q1.ensureContextualSubjectAttributes=A1t;q1.deduceAttributeContext=tG;q1.ensureActionsWithContextualAttributes=T1t;function FM(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}o(FM,"isInstanceOfContextualAttributes");function S1t(t){let e;if(FM(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}o(S1t,"ensureNonContextualSubjectAttributes");function A1t(t){return FM(t)?t:tG(t)}o(A1t,"ensureContextualSubjectAttributes");function tG(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}o(tG,"deduceAttributeContext");function T1t(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(FM)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=tG(n)}),e}o(T1t,"ensureActionsWithContextualAttributes")});var oG=j(cg=>{"use strict";p();m();Object.defineProperty(cg,"__esModule",{value:!0});cg.DeterministicSharder=cg.MD5Sharder=cg.Sharder=void 0;var I1t=S0(),W3=class{static{o(this,"Sharder")}};cg.Sharder=W3;var nG=class extends W3{static{o(this,"MD5Sharder")}getShard(e,r){let n=(0,I1t.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};cg.MD5Sharder=nG;var iG=class extends W3{static{o(this,"DeterministicSharder")}constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};cg.DeterministicSharder=iG});var n5e=j(HM=>{"use strict";p();m();Object.defineProperty(HM,"__esModule",{value:!0});HM.BanditEvaluator=void 0;var R1t=w0(),O1t=oG(),sG=class{static{o(this,"BanditEvaluator")}constructor(){this.assignmentShards=R1t.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new O1t.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:s}=this.getTopScore(i);return s}evaluateBandit(e,r,n,i,s){let a=this.scoreActions(n,i,s),c=this.weighActions(a,s.gamma,s.actionProbabilityFloor),l=this.selectAction(e,r,c),y=Object.values(a).reduce((g,E)=>E>g?E:g,-1/0)-a[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:a[l],actionWeight:c[l],gamma:s.gamma,optimalityGap:y}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([s,a])=>{let c=n.defaultActionScore,l=n.coefficients[s];l&&(c=l.intercept,c+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),c+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),c+=this.scoreNumericAttributes(l.actionNumericCoefficients,a.numericAttributes),c+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,a.categoricalAttributes)),i[s]=c}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey];return typeof s=="number"&&isFinite(s)?n+=s*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey]?.toString(),a=s&&i.valueCoefficients[s];return n+=typeof a=="number"?a:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},s=Object.entries(e);if(!s.length)return i;let{topScore:a,topAction:c}=this.getTopScore(e);if(a===null||c===null)throw new Error("Unable to find top score");let l=a,h=c,y=s.length,g=n/y,E=0;return s.forEach(([T,O])=>{if(T===h)return;let M=1/(y+r*(l-O)),k=Math.max(M,g);E+=k,i[T]=k}),i[h]=Math.max(1-E,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((h,y)=>{let g=this.sharder.getShard(`${e}-${r}-${h[0]}`,this.assignmentShards),E=this.sharder.getShard(`${e}-${r}-${y[0]}`,this.assignmentShards),T=g-E;return T===0&&(T=h[0]<y[0]?-1:1),T}),a=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,c=0,l=null;for(let h of i)if(c+=h[1],c>a){l=h[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([s,a])=>{(n===null||i===null||a>n||a===n&&s<i)&&(n=a,i=s)}),{topScore:n,topAction:i}}};HM.BanditEvaluator=sG});var i5e=j(qM=>{"use strict";p();m();Object.defineProperty(qM,"__esModule",{value:!0});qM.TLRUCache=void 0;var M1t=J$(),aG=class extends M1t.LRUCache{static{o(this,"TLRUCache")}constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};qM.TLRUCache=aG});var o5e=j(VM=>{"use strict";p();m();Object.defineProperty(VM,"__esModule",{value:!0});VM.TLRUInMemoryAssignmentCache=void 0;var N1t=w0(),C1t=G3(),k1t=i5e(),cG=class extends C1t.AbstractAssignmentCache{static{o(this,"TLRUInMemoryAssignmentCache")}constructor(e,r=N1t.DEFAULT_TLRU_TTL_MS){super(new k1t.TLRUCache(e,r))}};VM.TLRUInMemoryAssignmentCache=cG});var A0=j(fg=>{"use strict";p();m();Object.defineProperty(fg,"__esModule",{value:!0});fg.FormatEnum=fg.UNKNOWN_ENVIRONMENT_NAME=fg.VariationType=void 0;var s5e;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(s5e||(fg.VariationType=s5e={}));fg.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var a5e;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(a5e||(fg.FormatEnum=a5e={}))});var f5e=j(eh=>{"use strict";p();m();Object.defineProperty(eh,"__esModule",{value:!0});eh.ConfigurationWireV1=eh.ObfuscatedPrecomputedConfigurationResponse=eh.PrecomputedConfigurationResponse=eh.PrecomputedConfiguration=void 0;var B1t=A0(),c5e=S0(),jM=class{static{o(this,"BasePrecomputedConfigurationResponse")}constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=B1t.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},fG=class t{static{o(this,"PrecomputedConfiguration")}constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,s,a){let c=new KM(e,r,n,i,s,a);return new t(JSON.stringify(c),e,s)}static unobfuscated(e,r,n,i,s){let a=new zM(e,r,n,i,s);return new t(JSON.stringify(a),e,i)}};eh.PrecomputedConfiguration=fG;var zM=class extends jM{static{o(this,"PrecomputedConfigurationResponse")}constructor(e,r,n,i,s){super(e,i,s),this.flags=r,this.bandits=n,this.obfuscated=!1}};eh.PrecomputedConfigurationResponse=zM;var KM=class extends jM{static{o(this,"ObfuscatedPrecomputedConfigurationResponse")}constructor(e,r,n,i,s,a){super(e,s,a),this.obfuscated=!0,this.salt=i,this.bandits=(0,c5e.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,c5e.obfuscatePrecomputedFlags)(this.salt,r)}};eh.ObfuscatedPrecomputedConfigurationResponse=KM;var uG=class{static{o(this,"ConfigurationWireV1")}constructor(e){this.precomputed=e,this.version=1}};eh.ConfigurationWireV1=uG});var dG=j(lG=>{"use strict";p();m();Object.defineProperty(lG,"__esModule",{value:!0});lG.hydrateConfigurationStore=P1t;async function P1t(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}o(P1t,"hydrateConfigurationStore")});var gG=j(mG=>{"use strict";p();m();Object.defineProperty(mG,"__esModule",{value:!0});var hG=dG(),pG=class{static{o(this,"ConfigurationRequestor")}constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,hG.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,hG.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let s=await this.httpClient.getBanditParameters();s?.bandits&&(await(0,hG.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:s.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let s=r[i.flagKey];s||(s=[],r[i.flagKey]=s),s.push(i)})}),r}};mG.default=pG});var GM=j(vu=>{"use strict";p();m();Object.defineProperty(vu,"__esModule",{value:!0});vu.decodeFlag=L1t;vu.decodeVariations=u5e;vu.decodeValue=bG;vu.decodeAllocation=l5e;vu.decodeSplit=d5e;vu.decodeShard=h5e;vu.decodeObject=$M;vu.decodeObjectTo=xG;vu.decodePrecomputedFlag=D1t;vu.decodePrecomputedBandit=U1t;var yG=A0(),Ia=S0();function L1t(t){return{...t,variations:u5e(t.variations,t.variationType),allocations:t.allocations.map(l5e)}}o(L1t,"decodeFlag");function u5e(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,Ia.decodeBase64)(r.key);return[n,{key:n,value:bG(r.value,e)}]}))}o(u5e,"decodeVariations");function bG(t,e){switch(e){case yG.VariationType.INTEGER:case yG.VariationType.NUMERIC:return Number((0,Ia.decodeBase64)(t));case yG.VariationType.BOOLEAN:return(0,Ia.decodeBase64)(t)==="true";default:return(0,Ia.decodeBase64)(t)}}o(bG,"decodeValue");function l5e(t){return{...t,key:(0,Ia.decodeBase64)(t.key),splits:t.splits.map(d5e),startAt:t.startAt?new Date((0,Ia.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,Ia.decodeBase64)(t.endAt)).toISOString():void 0}}o(l5e,"decodeAllocation");function d5e(t){return{extraLogging:t.extraLogging?$M(t.extraLogging):void 0,variationKey:(0,Ia.decodeBase64)(t.variationKey),shards:t.shards.map(h5e)}}o(d5e,"decodeSplit");function h5e(t){return{...t,salt:(0,Ia.decodeBase64)(t.salt)}}o(h5e,"decodeShard");function $M(t){return xG(t,e=>e)}o($M,"decodeObject");function xG(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,Ia.decodeBase64)(r),e((0,Ia.decodeBase64)(n))]))}o(xG,"decodeObjectTo");function D1t(t){return{...t,allocationKey:(0,Ia.decodeBase64)(t.allocationKey??""),variationKey:(0,Ia.decodeBase64)(t.variationKey??""),variationValue:bG(t.variationValue,t.variationType),extraLogging:$M(t.extraLogging??{})}}o(D1t,"decodePrecomputedFlag");function U1t(t){return{...t,banditKey:(0,Ia.decodeBase64)(t.banditKey),action:(0,Ia.decodeBase64)(t.action),modelVersion:(0,Ia.decodeBase64)(t.modelVersion),actionNumericAttributes:xG(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:$M(t.actionCategoricalAttributes??{})}}o(U1t,"decodePrecomputedBandit")});var p5e=j(W2=>{"use strict";p();m();Object.defineProperty(W2,"__esModule",{value:!0});W2.EppoValue=W2.EppoValueType=void 0;var Y3=A0(),F1t=S0(),_u;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(_u||(W2.EppoValueType=_u={}));var vG=class t{static{o(this,"EppoValue")}constructor(e,r,n,i,s){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=s}static valueOf(e,r){if(e==null)return t.Null();switch(r){case Y3.VariationType.BOOLEAN:return t.Bool(e);case Y3.VariationType.NUMERIC:return t.Numeric(e);case Y3.VariationType.INTEGER:return t.Numeric(e);case Y3.VariationType.STRING:return t.String(e);case Y3.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case _u.NullType:return"null";case _u.BoolType:return this.boolValue?"true":"false";case _u.NumericType:return this.numericValue?this.numericValue.toString():"0";case _u.StringType:return this.stringValue??"";case _u.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,F1t.getMD5Hash)(e)}static Bool(e){return new t(_u.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(_u.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(_u.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(_u.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(_u.NullType,void 0,void 0,void 0,void 0)}};W2.EppoValue=vG});var wG=j(ug=>{"use strict";p();m();Object.defineProperty(ug,"__esModule",{value:!0});ug.FlagEvaluationDetailsBuilder=ug.AllocationEvaluationCode=ug.flagEvaluationCodes=void 0;var H1t=A0();ug.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var WM;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(WM||(ug.AllocationEvaluationCode=WM={}));var _G=class{static{o(this,"FlagEvaluationDetailsBuilder")}constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=s=>{this.unmatchedAllocations.push(s)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(s,a,c,l,h)=>(this.variationKey=a.key,this.variationValue=h===H1t.VariationType.JSON&&typeof a.value=="string"?JSON.parse(a.value):a.value,this.matchedRule=l,this.matchedAllocation={key:c.key,allocationEvaluationCode:WM.MATCH,orderPosition:s+1},this),this.buildForNoneResult=(s,a)=>this.setNone().build(s,a),this.build=(s,a)=>({environmentName:this.environmentName,flagEvaluationCode:s,flagEvaluationDescription:a,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(s,a)=>{try{return this.build(s,a)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let s=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,a=s+1;return this.allocations.slice(s).map((c,l)=>({key:c.key,allocationEvaluationCode:WM.UNEVALUATED,orderPosition:a+l}))},this.setNone()}};ug.FlagEvaluationDetailsBuilder=_G});var SG=j(YM=>{"use strict";p();m();Object.defineProperty(YM,"__esModule",{value:!0});YM.FlagEvaluationError=void 0;var EG=class extends Error{static{o(this,"FlagEvaluationError")}};YM.FlagEvaluationError=EG});var X3=j((CWr,m5e)=>{p();m();var q1t="2.0.0",V1t=Number.MAX_SAFE_INTEGER||9007199254740991,j1t=16,z1t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];m5e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:j1t,MAX_SAFE_INTEGER:V1t,RELEASE_TYPES:z1t,SEMVER_SPEC_VERSION:q1t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Z3=j((PWr,g5e)=>{p();m();var K1t=typeof process=="object"&&R&&R.NODE_DEBUG&&/\bsemver\b/i.test(R.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};g5e.exports=K1t});var Y2=j((T0,y5e)=>{p();m();var{MAX_SAFE_COMPONENT_LENGTH:AG}=X3(),$1t=Z3();T0=y5e.exports={};var G1t=T0.re=[],W1t=T0.safeRe=[],Ct=T0.src=[],kt=T0.t={},Y1t=0,Nr=o((t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=Y1t++;$1t(t,i,e),kt[t]=i,Ct[i]=e,G1t[i]=new RegExp(e,r?"g":void 0),W1t[i]=new RegExp(n,r?"g":void 0)},"createToken");Nr("NUMERICIDENTIFIER","0|[1-9]\\d*");Nr("NUMERICIDENTIFIERLOOSE","[0-9]+");Nr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Nr("MAINVERSION",`(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})`);Nr("MAINVERSIONLOOSE",`(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})`);Nr("PRERELEASEIDENTIFIER",`(?:${Ct[kt.NUMERICIDENTIFIER]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Nr("PRERELEASEIDENTIFIERLOOSE",`(?:${Ct[kt.NUMERICIDENTIFIERLOOSE]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Nr("PRERELEASE",`(?:-(${Ct[kt.PRERELEASEIDENTIFIER]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIER]})*))`);Nr("PRERELEASELOOSE",`(?:-?(${Ct[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);Nr("BUILDIDENTIFIER","[0-9A-Za-z-]+");Nr("BUILD",`(?:\\+(${Ct[kt.BUILDIDENTIFIER]}(?:\\.${Ct[kt.BUILDIDENTIFIER]})*))`);Nr("FULLPLAIN",`v?${Ct[kt.MAINVERSION]}${Ct[kt.PRERELEASE]}?${Ct[kt.BUILD]}?`);Nr("FULL",`^${Ct[kt.FULLPLAIN]}$`);Nr("LOOSEPLAIN",`[v=\\s]*${Ct[kt.MAINVERSIONLOOSE]}${Ct[kt.PRERELEASELOOSE]}?${Ct[kt.BUILD]}?`);Nr("LOOSE",`^${Ct[kt.LOOSEPLAIN]}$`);Nr("GTLT","((?:<|>)?=?)");Nr("XRANGEIDENTIFIERLOOSE",`${Ct[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Nr("XRANGEIDENTIFIER",`${Ct[kt.NUMERICIDENTIFIER]}|x|X|\\*`);Nr("XRANGEPLAIN",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:${Ct[kt.PRERELEASE]})?${Ct[kt.BUILD]}?)?)?`);Nr("XRANGEPLAINLOOSE",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:${Ct[kt.PRERELEASELOOSE]})?${Ct[kt.BUILD]}?)?)?`);Nr("XRANGE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAIN]}$`);Nr("XRANGELOOSE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("COERCE",`(^|[^\\d])(\\d{1,${AG}})(?:\\.(\\d{1,${AG}}))?(?:\\.(\\d{1,${AG}}))?(?:$|[^\\d])`);Nr("COERCERTL",Ct[kt.COERCE],!0);Nr("LONETILDE","(?:~>?)");Nr("TILDETRIM",`(\\s*)${Ct[kt.LONETILDE]}\\s+`,!0);T0.tildeTrimReplace="$1~";Nr("TILDE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAIN]}$`);Nr("TILDELOOSE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("LONECARET","(?:\\^)");Nr("CARETTRIM",`(\\s*)${Ct[kt.LONECARET]}\\s+`,!0);T0.caretTrimReplace="$1^";Nr("CARET",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAIN]}$`);Nr("CARETLOOSE",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("COMPARATORLOOSE",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]})$|^$`);Nr("COMPARATOR",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.FULLPLAIN]})$|^$`);Nr("COMPARATORTRIM",`(\\s*)${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]}|${Ct[kt.XRANGEPLAIN]})`,!0);T0.comparatorTrimReplace="$1$2$3";Nr("HYPHENRANGE",`^\\s*(${Ct[kt.XRANGEPLAIN]})\\s+-\\s+(${Ct[kt.XRANGEPLAIN]})\\s*$`);Nr("HYPHENRANGELOOSE",`^\\s*(${Ct[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ct[kt.XRANGEPLAINLOOSE]})\\s*$`);Nr("STAR","(<|>)?=?\\s*\\*");Nr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Nr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var XM=j((qWr,b5e)=>{p();m();var X1t=Object.freeze({loose:!0}),Z1t=Object.freeze({}),J1t=o(t=>t?typeof t!="object"?X1t:t:Z1t,"parseOptions");b5e.exports=J1t});var TG=j((KWr,_5e)=>{p();m();var x5e=/^[0-9]+$/,v5e=o((t,e)=>{let r=x5e.test(t),n=x5e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),Q1t=o((t,e)=>v5e(e,t),"rcompareIdentifiers");_5e.exports={compareIdentifiers:v5e,rcompareIdentifiers:Q1t}});var Ra=j((YWr,A5e)=>{p();m();var ZM=Z3(),{MAX_LENGTH:w5e,MAX_SAFE_INTEGER:JM}=X3(),{safeRe:E5e,t:S5e}=Y2(),ebt=XM(),{compareIdentifiers:X2}=TG(),IG=class t{static{o(this,"SemVer")}constructor(e,r){if(r=ebt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>w5e)throw new TypeError(`version is longer than ${w5e} characters`);ZM("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?E5e[S5e.LOOSE]:E5e[S5e.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>JM||this.major<0)throw new TypeError("Invalid major version");if(this.minor>JM||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>JM||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<JM)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ZM("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),X2(this.major,e.major)||X2(this.minor,e.minor)||X2(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(ZM("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return X2(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(ZM("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return X2(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),X2(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};A5e.exports=IG});var V1=j((QWr,I5e)=>{p();m();var T5e=Ra(),tbt=o((t,e,r=!1)=>{if(t instanceof T5e)return t;try{return new T5e(t,e)}catch(n){if(!r)return null;throw n}},"parse");I5e.exports=tbt});var O5e=j((nYr,R5e)=>{p();m();var rbt=V1(),nbt=o((t,e)=>{let r=rbt(t,e);return r?r.version:null},"valid");R5e.exports=nbt});var N5e=j((aYr,M5e)=>{p();m();var ibt=V1(),obt=o((t,e)=>{let r=ibt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");M5e.exports=obt});var B5e=j((lYr,k5e)=>{p();m();var C5e=Ra(),sbt=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new C5e(t instanceof C5e?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");k5e.exports=sbt});var D5e=j((mYr,L5e)=>{p();m();var P5e=V1(),abt=o((t,e)=>{let r=P5e(t,null,!0),n=P5e(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,c=s?n:r,l=!!a.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":a.patch?"patch":a.minor?"minor":"major";let y=l?"pre":"";return r.major!==n.major?y+"major":r.minor!==n.minor?y+"minor":r.patch!==n.patch?y+"patch":"prerelease"},"diff");L5e.exports=abt});var F5e=j((xYr,U5e)=>{p();m();var cbt=Ra(),fbt=o((t,e)=>new cbt(t,e).major,"major");U5e.exports=fbt});var q5e=j((EYr,H5e)=>{p();m();var ubt=Ra(),lbt=o((t,e)=>new ubt(t,e).minor,"minor");H5e.exports=lbt});var j5e=j((IYr,V5e)=>{p();m();var dbt=Ra(),hbt=o((t,e)=>new dbt(t,e).patch,"patch");V5e.exports=hbt});var K5e=j((NYr,z5e)=>{p();m();var pbt=V1(),mbt=o((t,e)=>{let r=pbt(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");z5e.exports=mbt});var wu=j((PYr,G5e)=>{p();m();var $5e=Ra(),gbt=o((t,e,r)=>new $5e(t,r).compare(new $5e(e,r)),"compare");G5e.exports=gbt});var Y5e=j((FYr,W5e)=>{p();m();var ybt=wu(),bbt=o((t,e,r)=>ybt(e,t,r),"rcompare");W5e.exports=bbt});var Z5e=j((jYr,X5e)=>{p();m();var xbt=wu(),vbt=o((t,e)=>xbt(t,e,!0),"compareLoose");X5e.exports=vbt});var QM=j((GYr,Q5e)=>{p();m();var J5e=Ra(),_bt=o((t,e,r)=>{let n=new J5e(t,r),i=new J5e(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");Q5e.exports=_bt});var tTe=j((ZYr,eTe)=>{p();m();var wbt=QM(),Ebt=o((t,e)=>t.sort((r,n)=>wbt(r,n,e)),"sort");eTe.exports=Ebt});var nTe=j((tXr,rTe)=>{p();m();var Sbt=QM(),Abt=o((t,e)=>t.sort((r,n)=>Sbt(n,r,e)),"rsort");rTe.exports=Abt});var J3=j((oXr,iTe)=>{p();m();var Tbt=wu(),Ibt=o((t,e,r)=>Tbt(t,e,r)>0,"gt");iTe.exports=Ibt});var eN=j((fXr,oTe)=>{p();m();var Rbt=wu(),Obt=o((t,e,r)=>Rbt(t,e,r)<0,"lt");oTe.exports=Obt});var RG=j((hXr,sTe)=>{p();m();var Mbt=wu(),Nbt=o((t,e,r)=>Mbt(t,e,r)===0,"eq");sTe.exports=Nbt});var OG=j((yXr,aTe)=>{p();m();var Cbt=wu(),kbt=o((t,e,r)=>Cbt(t,e,r)!==0,"neq");aTe.exports=kbt});var tN=j((_Xr,cTe)=>{p();m();var Bbt=wu(),Pbt=o((t,e,r)=>Bbt(t,e,r)>=0,"gte");cTe.exports=Pbt});var rN=j((AXr,fTe)=>{p();m();var Lbt=wu(),Dbt=o((t,e,r)=>Lbt(t,e,r)<=0,"lte");fTe.exports=Dbt});var MG=j((OXr,uTe)=>{p();m();var Ubt=RG(),Fbt=OG(),Hbt=J3(),qbt=tN(),Vbt=eN(),jbt=rN(),zbt=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Ubt(t,r,n);case"!=":return Fbt(t,r,n);case">":return Hbt(t,r,n);case">=":return qbt(t,r,n);case"<":return Vbt(t,r,n);case"<=":return jbt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");uTe.exports=zbt});var dTe=j((kXr,lTe)=>{p();m();var Kbt=Ra(),$bt=V1(),{safeRe:nN,t:iN}=Y2(),Gbt=o((t,e)=>{if(t instanceof Kbt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(nN[iN.COERCE]);else{let n;for(;(n=nN[iN.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),nN[iN.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;nN[iN.COERCERTL].lastIndex=-1}return r===null?null:$bt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)},"coerce");lTe.exports=Gbt});var pTe=j((DXr,hTe)=>{"use strict";p();m();hTe.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var gTe=j((HXr,mTe)=>{"use strict";p();m();mTe.exports=bn;bn.Node=j1;bn.create=bn;function bn(t){var e=this;if(e instanceof bn||(e=new bn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}o(bn,"Yallist");bn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};bn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};bn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};bn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Ybt(this,arguments[t]);return this.length};bn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Xbt(this,arguments[t]);return this.length};bn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};bn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};bn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};bn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};bn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};bn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};bn.prototype.map=function(t,e){e=e||this;for(var r=new bn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};bn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new bn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};bn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};bn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};bn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};bn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};bn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new bn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};bn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new bn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};bn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Wbt(this,i,r[n]);return s};bn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Wbt(t,e,r){var n=e===t.head?new j1(r,null,e,t):new j1(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}o(Wbt,"insert");function Ybt(t,e){t.tail=new j1(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}o(Ybt,"push");function Xbt(t,e){t.head=new j1(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}o(Xbt,"unshift");function j1(t,e,r,n){if(!(this instanceof j1))return new j1(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}o(j1,"Node");try{pTe()(bn)}catch{}});var _Te=j((zXr,vTe)=>{"use strict";p();m();var Zbt=gTe(),z1=Symbol("max"),R0=Symbol("length"),Z2=Symbol("lengthCalculator"),e6=Symbol("allowStale"),K1=Symbol("maxAge"),I0=Symbol("dispose"),yTe=Symbol("noDisposeOnSet"),cs=Symbol("lruList"),Sl=Symbol("cache"),xTe=Symbol("updateAgeOnGet"),NG=o(()=>1,"naiveLength"),kG=class{static{o(this,"LRUCache")}constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[z1]=e.max||1/0,n=e.length||NG;if(this[Z2]=typeof n!="function"?NG:n,this[e6]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[K1]=e.maxAge||0,this[I0]=e.dispose,this[yTe]=e.noDisposeOnSet||!1,this[xTe]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[z1]=e||1/0,Q3(this)}get max(){return this[z1]}set allowStale(e){this[e6]=!!e}get allowStale(){return this[e6]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[K1]=e,Q3(this)}get maxAge(){return this[K1]}set lengthCalculator(e){typeof e!="function"&&(e=NG),e!==this[Z2]&&(this[Z2]=e,this[R0]=0,this[cs].forEach(r=>{r.length=this[Z2](r.value,r.key),this[R0]+=r.length})),Q3(this)}get lengthCalculator(){return this[Z2]}get length(){return this[R0]}get itemCount(){return this[cs].length}rforEach(e,r){r=r||this;for(let n=this[cs].tail;n!==null;){let i=n.prev;bTe(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[cs].head;n!==null;){let i=n.next;bTe(this,e,n,r),n=i}}keys(){return this[cs].toArray().map(e=>e.key)}values(){return this[cs].toArray().map(e=>e.value)}reset(){this[I0]&&this[cs]&&this[cs].length&&this[cs].forEach(e=>this[I0](e.key,e.value)),this[Sl]=new Map,this[cs]=new Zbt,this[R0]=0}dump(){return this[cs].map(e=>oN(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[cs]}set(e,r,n){if(n=n||this[K1],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[Z2](r,e);if(this[Sl].has(e)){if(s>this[z1])return J2(this,this[Sl].get(e)),!1;let l=this[Sl].get(e).value;return this[I0]&&(this[yTe]||this[I0](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[R0]+=s-l.length,l.length=s,this.get(e),Q3(this),!0}let a=new BG(e,r,s,i,n);return a.length>this[z1]?(this[I0]&&this[I0](e,r),!1):(this[R0]+=a.length,this[cs].unshift(a),this[Sl].set(e,this[cs].head),Q3(this),!0)}has(e){if(!this[Sl].has(e))return!1;let r=this[Sl].get(e).value;return!oN(this,r)}get(e){return CG(this,e,!0)}peek(e){return CG(this,e,!1)}pop(){let e=this[cs].tail;return e?(J2(this,e),e.value):null}del(e){J2(this,this[Sl].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let a=s-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Sl].forEach((e,r)=>CG(this,r,!1))}},CG=o((t,e,r)=>{let n=t[Sl].get(e);if(n){let i=n.value;if(oN(t,i)){if(J2(t,n),!t[e6])return}else r&&(t[xTe]&&(n.value.now=Date.now()),t[cs].unshiftNode(n));return i.value}},"get"),oN=o((t,e)=>{if(!e||!e.maxAge&&!t[K1])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[K1]&&r>t[K1]},"isStale"),Q3=o(t=>{if(t[R0]>t[z1])for(let e=t[cs].tail;t[R0]>t[z1]&&e!==null;){let r=e.prev;J2(t,e),e=r}},"trim"),J2=o((t,e)=>{if(e){let r=e.value;t[I0]&&t[I0](r.key,r.value),t[R0]-=r.length,t[Sl].delete(r.key),t[cs].removeNode(e)}},"del"),BG=class{static{o(this,"Entry")}constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},bTe=o((t,e,r,n)=>{let i=r.value;oN(t,i)&&(J2(t,r),t[e6]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},"forEachStep");vTe.exports=kG});var Eu=j((WXr,ATe)=>{p();m();var PG=class t{static{o(this,"Range")}constructor(e,r){if(r=Qbt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof LG)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!ETe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&sxt(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&ixt)|(this.options.loose&&oxt))+":"+e,i=wTe.get(n);if(i)return i;let s=this.options.loose,a=s?Fc[Qa.HYPHENRANGELOOSE]:Fc[Qa.HYPHENRANGE];e=e.replace(a,gxt(this.options.includePrerelease)),qi("hyphen replace",e),e=e.replace(Fc[Qa.COMPARATORTRIM],txt),qi("comparator trim",e),e=e.replace(Fc[Qa.TILDETRIM],rxt),e=e.replace(Fc[Qa.CARETTRIM],nxt);let c=e.split(" ").map(g=>axt(g,this.options)).join(" ").split(/\s+/).map(g=>mxt(g,this.options));s&&(c=c.filter(g=>(qi("loose invalid filter",g,this.options),!!g.match(Fc[Qa.COMPARATORLOOSE])))),qi("range list",c);let l=new Map,h=c.map(g=>new LG(g,this.options));for(let g of h){if(ETe(g))return[g];l.set(g.value,g)}l.size>1&&l.has("")&&l.delete("");let y=[...l.values()];return wTe.set(n,y),y}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>STe(n,r)&&e.set.some(i=>STe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ext(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(yxt(this.set[r],e,this.options))return!0;return!1}};ATe.exports=PG;var Jbt=_Te(),wTe=new Jbt({max:1e3}),Qbt=XM(),LG=t6(),qi=Z3(),ext=Ra(),{safeRe:Fc,t:Qa,comparatorTrimReplace:txt,tildeTrimReplace:rxt,caretTrimReplace:nxt}=Y2(),{FLAG_INCLUDE_PRERELEASE:ixt,FLAG_LOOSE:oxt}=X3(),ETe=o(t=>t.value==="<0.0.0-0","isNullSet"),sxt=o(t=>t.value==="","isAny"),STe=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),axt=o((t,e)=>(qi("comp",t,e),t=uxt(t,e),qi("caret",t),t=cxt(t,e),qi("tildes",t),t=dxt(t,e),qi("xrange",t),t=pxt(t,e),qi("stars",t),t),"parseComparator"),ec=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),cxt=o((t,e)=>t.trim().split(/\s+/).map(r=>fxt(r,e)).join(" "),"replaceTildes"),fxt=o((t,e)=>{let r=e.loose?Fc[Qa.TILDELOOSE]:Fc[Qa.TILDE];return t.replace(r,(n,i,s,a,c)=>{qi("tilde",t,n,i,s,a,c);let l;return ec(i)?l="":ec(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:ec(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(qi("replaceTilde pr",c),l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,qi("tilde return",l),l})},"replaceTilde"),uxt=o((t,e)=>t.trim().split(/\s+/).map(r=>lxt(r,e)).join(" "),"replaceCarets"),lxt=o((t,e)=>{qi("caret",t,e);let r=e.loose?Fc[Qa.CARETLOOSE]:Fc[Qa.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,c,l)=>{qi("caret",t,i,s,a,c,l);let h;return ec(s)?h="":ec(a)?h=`>=${s}.0.0${n} <${+s+1}.0.0-0`:ec(c)?s==="0"?h=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(qi("replaceCaret pr",l),s==="0"?a==="0"?h=`>=${s}.${a}.${c}-${l} <${s}.${a}.${+c+1}-0`:h=`>=${s}.${a}.${c}-${l} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${c}-${l} <${+s+1}.0.0-0`):(qi("no pr"),s==="0"?a==="0"?h=`>=${s}.${a}.${c}${n} <${s}.${a}.${+c+1}-0`:h=`>=${s}.${a}.${c}${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${c} <${+s+1}.0.0-0`),qi("caret return",h),h})},"replaceCaret"),dxt=o((t,e)=>(qi("replaceXRanges",t,e),t.split(/\s+/).map(r=>hxt(r,e)).join(" ")),"replaceXRanges"),hxt=o((t,e)=>{t=t.trim();let r=e.loose?Fc[Qa.XRANGELOOSE]:Fc[Qa.XRANGE];return t.replace(r,(n,i,s,a,c,l)=>{qi("xRange",t,n,i,s,a,c,l);let h=ec(s),y=h||ec(a),g=y||ec(c),E=g;return i==="="&&E&&(i=""),l=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&E?(y&&(a=0),c=0,i===">"?(i=">=",y?(s=+s+1,a=0,c=0):(a=+a+1,c=0)):i==="<="&&(i="<",y?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${c}${l}`):y?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:g&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),qi("xRange return",n),n})},"replaceXRange"),pxt=o((t,e)=>(qi("replaceStars",t,e),t.trim().replace(Fc[Qa.STAR],"")),"replaceStars"),mxt=o((t,e)=>(qi("replaceGTE0",t,e),t.trim().replace(Fc[e.includePrerelease?Qa.GTE0PRE:Qa.GTE0],"")),"replaceGTE0"),gxt=o(t=>(e,r,n,i,s,a,c,l,h,y,g,E,T)=>(ec(n)?r="":ec(i)?r=`>=${n}.0.0${t?"-0":""}`:ec(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,ec(h)?l="":ec(y)?l=`<${+h+1}.0.0-0`:ec(g)?l=`<${h}.${+y+1}.0-0`:E?l=`<=${h}.${y}.${g}-${E}`:t?l=`<${h}.${y}.${+g+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),"hyphenReplace"),yxt=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(qi(t[n].semver),t[n].semver!==LG.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var t6=j((JXr,NTe)=>{p();m();var r6=Symbol("SemVer ANY"),FG=class t{static{o(this,"Comparator")}static get ANY(){return r6}constructor(e,r){if(r=TTe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),UG("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===r6?this.value="":this.value=this.operator+this.semver.version,UG("comp",this)}parse(e){let r=this.options.loose?ITe[RTe.COMPARATORLOOSE]:ITe[RTe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new OTe(n[2],this.options.loose):this.semver=r6}toString(){return this.value}test(e){if(UG("Comparator.test",e,this.options.loose),this.semver===r6||e===r6)return!0;if(typeof e=="string")try{e=new OTe(e,this.options)}catch{return!1}return DG(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new MTe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new MTe(this.value,r).test(e.semver):(r=TTe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||DG(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||DG(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};NTe.exports=FG;var TTe=XM(),{safeRe:ITe,t:RTe}=Y2(),DG=MG(),UG=Z3(),OTe=Ra(),MTe=Eu()});var n6=j((rZr,CTe)=>{p();m();var bxt=Eu(),xxt=o((t,e,r)=>{try{e=new bxt(e,r)}catch{return!1}return e.test(t)},"satisfies");CTe.exports=xxt});var BTe=j((sZr,kTe)=>{p();m();var vxt=Eu(),_xt=o((t,e)=>new vxt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");kTe.exports=_xt});var LTe=j((uZr,PTe)=>{p();m();var wxt=Ra(),Ext=Eu(),Sxt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new Ext(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new wxt(n,r))}),n},"maxSatisfying");PTe.exports=Sxt});var UTe=j((pZr,DTe)=>{p();m();var Axt=Ra(),Txt=Eu(),Ixt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new Txt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new Axt(n,r))}),n},"minSatisfying");DTe.exports=Ixt});var qTe=j((bZr,HTe)=>{p();m();var HG=Ra(),Rxt=Eu(),FTe=J3(),Oxt=o((t,e)=>{t=new Rxt(t,e);let r=new HG("0.0.0");if(t.test(r)||(r=new HG("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let c=new HG(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||FTe(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||FTe(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");HTe.exports=Oxt});var jTe=j((wZr,VTe)=>{p();m();var Mxt=Eu(),Nxt=o((t,e)=>{try{return new Mxt(t,e).range||"*"}catch{return null}},"validRange");VTe.exports=Nxt});var sN=j((TZr,GTe)=>{p();m();var Cxt=Ra(),$Te=t6(),{ANY:kxt}=$Te,Bxt=Eu(),Pxt=n6(),zTe=J3(),KTe=eN(),Lxt=rN(),Dxt=tN(),Uxt=o((t,e,r,n)=>{t=new Cxt(t,n),e=new Bxt(e,n);let i,s,a,c,l;switch(r){case">":i=zTe,s=Lxt,a=KTe,c=">",l=">=";break;case"<":i=KTe,s=Dxt,a=zTe,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Pxt(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let y=e.set[h],g=null,E=null;if(y.forEach(T=>{T.semver===kxt&&(T=new $Te(">=0.0.0")),g=g||T,E=E||T,i(T.semver,g.semver,n)?g=T:a(T.semver,E.semver,n)&&(E=T)}),g.operator===c||g.operator===l||(!E.operator||E.operator===c)&&s(t,E.semver))return!1;if(E.operator===l&&a(t,E.semver))return!1}return!0},"outside");GTe.exports=Uxt});var YTe=j((MZr,WTe)=>{p();m();var Fxt=sN(),Hxt=o((t,e,r)=>Fxt(t,e,">",r),"gtr");WTe.exports=Hxt});var ZTe=j((BZr,XTe)=>{p();m();var qxt=sN(),Vxt=o((t,e,r)=>qxt(t,e,"<",r),"ltr");XTe.exports=Vxt});var eIe=j((UZr,QTe)=>{p();m();var JTe=Eu(),jxt=o((t,e,r)=>(t=new JTe(t,r),e=new JTe(e,r),t.intersects(e,r)),"intersects");QTe.exports=jxt});var rIe=j((VZr,tIe)=>{p();m();var zxt=n6(),Kxt=wu();tIe.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((y,g)=>Kxt(y,g,r));for(let y of a)zxt(y,e,r)?(s=y,i||(i=y)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let c=[];for(let[y,g]of n)y===g?c.push(y):!g&&y===a[0]?c.push("*"):g?y===a[0]?c.push(`<=${g}`):c.push(`${y} - ${g}`):c.push(`>=${y}`);let l=c.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return l.length<h.length?l:e}});var cIe=j((KZr,aIe)=>{p();m();var nIe=Eu(),VG=t6(),{ANY:qG}=VG,i6=n6(),jG=wu(),$xt=o((t,e,r={})=>{if(t===e)return!0;t=new nIe(t,r),e=new nIe(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=Wxt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),Gxt=[new VG(">=0.0.0-0")],iIe=[new VG(">=0.0.0")],Wxt=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qG){if(e.length===1&&e[0].semver===qG)return!0;r.includePrerelease?t=Gxt:t=iIe}if(e.length===1&&e[0].semver===qG){if(r.includePrerelease)return!0;e=iIe}let n=new Set,i,s;for(let T of t)T.operator===">"||T.operator===">="?i=oIe(i,T,r):T.operator==="<"||T.operator==="<="?s=sIe(s,T,r):n.add(T.semver);if(n.size>1)return null;let a;if(i&&s){if(a=jG(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let T of n){if(i&&!i6(T,String(i),r)||s&&!i6(T,String(s),r))return null;for(let O of e)if(!i6(T,String(O),r))return!1;return!0}let c,l,h,y,g=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;g&&g.prerelease.length===1&&s.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let T of e){if(y=y||T.operator===">"||T.operator===">=",h=h||T.operator==="<"||T.operator==="<=",i){if(E&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===E.major&&T.semver.minor===E.minor&&T.semver.patch===E.patch&&(E=!1),T.operator===">"||T.operator===">="){if(c=oIe(i,T,r),c===T&&c!==i)return!1}else if(i.operator===">="&&!i6(i.semver,String(T),r))return!1}if(s){if(g&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===g.major&&T.semver.minor===g.minor&&T.semver.patch===g.patch&&(g=!1),T.operator==="<"||T.operator==="<="){if(l=sIe(s,T,r),l===T&&l!==s)return!1}else if(s.operator==="<="&&!i6(s.semver,String(T),r))return!1}if(!T.operator&&(s||i)&&a!==0)return!1}return!(i&&h&&!s&&a!==0||s&&y&&!i&&a!==0||E||g)},"simpleSubset"),oIe=o((t,e,r)=>{if(!t)return e;let n=jG(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),sIe=o((t,e,r)=>{if(!t)return e;let n=jG(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");aIe.exports=$xt});var dIe=j((YZr,lIe)=>{p();m();var zG=Y2(),fIe=X3(),Yxt=Ra(),uIe=TG(),Xxt=V1(),Zxt=O5e(),Jxt=N5e(),Qxt=B5e(),evt=D5e(),tvt=F5e(),rvt=q5e(),nvt=j5e(),ivt=K5e(),ovt=wu(),svt=Y5e(),avt=Z5e(),cvt=QM(),fvt=tTe(),uvt=nTe(),lvt=J3(),dvt=eN(),hvt=RG(),pvt=OG(),mvt=tN(),gvt=rN(),yvt=MG(),bvt=dTe(),xvt=t6(),vvt=Eu(),_vt=n6(),wvt=BTe(),Evt=LTe(),Svt=UTe(),Avt=qTe(),Tvt=jTe(),Ivt=sN(),Rvt=YTe(),Ovt=ZTe(),Mvt=eIe(),Nvt=rIe(),Cvt=cIe();lIe.exports={parse:Xxt,valid:Zxt,clean:Jxt,inc:Qxt,diff:evt,major:tvt,minor:rvt,patch:nvt,prerelease:ivt,compare:ovt,rcompare:svt,compareLoose:avt,compareBuild:cvt,sort:fvt,rsort:uvt,gt:lvt,lt:dvt,eq:hvt,neq:pvt,gte:mvt,lte:gvt,cmp:yvt,coerce:bvt,Comparator:xvt,Range:vvt,satisfies:_vt,toComparators:wvt,maxSatisfying:Evt,minSatisfying:Svt,minVersion:Avt,validRange:Tvt,outside:Ivt,gtr:Rvt,ltr:Ovt,intersects:Mvt,simplifyRange:Nvt,subset:Cvt,SemVer:Yxt,re:zG.re,src:zG.src,tokens:zG.t,SEMVER_SPEC_VERSION:fIe.SEMVER_SPEC_VERSION,RELEASE_TYPES:fIe.RELEASE_TYPES,compareIdentifiers:uIe.compareIdentifiers,rcompareIdentifiers:uIe.rcompareIdentifiers}});var xIe=j(G1=>{"use strict";p();m();Object.defineProperty(G1,"__esModule",{value:!0});G1.ObfuscatedOperatorType=G1.OperatorType=void 0;G1.matchesRule=kvt;var Al=dIe(),$1=S0(),Cs;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Cs||(G1.OperatorType=Cs={}));var ks;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(ks||(G1.ObfuscatedOperatorType=ks={}));var O0;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(O0||(O0={}));function kvt(t,e,r){return!Bvt(e,t.conditions,r).includes(!1)}o(kvt,"matchesRule");function Bvt(t,e,r){return e.map(n=>r?Lvt(Object.entries(t).reduce((i,[s,a])=>({[(0,$1.getMD5Hash)(s)]:a,...i}),{}),n):Pvt(t,n))}o(Bvt,"evaluateRuleConditions");function Pvt(t,e){let r=t[e.attribute];if(e.operator===Cs.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Cs.GTE:case Cs.GT:case Cs.LTE:case Cs.LT:{if(bIe(e.value)===O0.SEM_VER){let s=e.operator===Cs.GTE?Al.gte:e.operator===Cs.GT?Al.gt:e.operator===Cs.LTE?Al.lte:Al.lt;return yIe(r,e.value,s)}let i=o((s,a)=>e.operator===Cs.GTE?s>=a:e.operator===Cs.GT?s>a:e.operator===Cs.LTE?s<=a:s<a,"comparator");return gIe(r,e.value,i)}case Cs.MATCHES:return new RegExp(e.value).test(r);case Cs.NOT_MATCHES:return!new RegExp(e.value).test(r);case Cs.ONE_OF:return hIe(r.toString(),e.value);case Cs.NOT_ONE_OF:return pIe(r.toString(),e.value)}return!1}o(Pvt,"evaluateCondition");function Lvt(t,e){let r=t[e.attribute];if(e.operator===ks.IS_NULL)return e.value===(0,$1.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case ks.GTE:case ks.GT:case ks.LTE:case ks.LT:{let n=(0,$1.decodeBase64)(e.value);if(bIe(n)===O0.SEM_VER){let a=e.operator===ks.GTE?Al.gte:e.operator===ks.GT?Al.gt:e.operator===ks.LTE?Al.lte:Al.lt;return yIe(r,n,a)}let s=o((a,c)=>e.operator===ks.GTE?a>=c:e.operator===ks.GT?a>c:e.operator===ks.LTE?a<=c:a<c,"comparator");return gIe(r,Number(n),s)}case ks.MATCHES:return new RegExp((0,$1.decodeBase64)(e.value)).test(r);case ks.NOT_MATCHES:return!new RegExp((0,$1.decodeBase64)(e.value)).test(r);case ks.ONE_OF:return hIe((0,$1.getMD5Hash)(r.toString()),e.value);case ks.NOT_ONE_OF:return pIe((0,$1.getMD5Hash)(r.toString()),e.value)}return!1}o(Lvt,"evaluateObfuscatedCondition");function hIe(t,e){return mIe(t,e).length>0}o(hIe,"isOneOf");function pIe(t,e){return mIe(t,e).length===0}o(pIe,"isNotOneOf");function mIe(t,e){return e.filter(r=>r===t)}o(mIe,"getMatchingStringValues");function gIe(t,e,r){return r(Number(t),Number(e))}o(gIe,"compareNumber");function yIe(t,e,r){return!!(0,Al.valid)(t)&&!!(0,Al.valid)(e)&&r(t,e)}o(yIe,"compareSemVer");function bIe(t){return typeof t=="number"?O0.NUMERIC:Array.isArray(t)?O0.STRING_ARRAY:typeof t=="string"&&(0,Al.valid)(t)?O0.SEM_VER:isNaN(Number(t))?O0.PLAIN_STRING:O0.NUMERIC}o(bIe,"targetingRuleConditionValuesTypesFromValues")});var EIe=j(lg=>{"use strict";p();m();Object.defineProperty(lg,"__esModule",{value:!0});lg.Evaluator=void 0;lg.isInShardRange=vIe;lg.hashKey=_Ie;lg.noneResult=$G;lg.matchesRules=wIe;var Dvt=aN(),o6=wG(),Uvt=SG(),Fvt=xIe(),Hvt=oG(),KG=class{static{o(this,"Evaluator")}constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,s,a)=>{if(!(0,Dvt.checkValueTypeMatch)(a,r.value)){let{key:g,value:E}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${g}) is configured for type ${a}, but is set to incompatible value (${E})`}}let c=!!n.rules?.length,l=n.splits.length>1,h=i.shards.length>1,y=l||h;return c&&y?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${s} belongs to the range of traffic assigned to "${i.variationKey}".`}:c&&!y?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${s} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new Hvt.MD5Sharder}evaluateFlag(e,r,n,i,s,a){let c=new o6.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return $G(e.key,n,i,c.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let h=0;h<e.allocations.length;h++){let y=e.allocations[h],g=o(O=>{c.addUnmatchedAllocation({key:y.key,allocationEvaluationCode:O,orderPosition:h+1})},"addUnmatchedAllocation");if(y.startAt&&l<new Date(y.startAt)){g(o6.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(y.endAt&&l>new Date(y.endAt)){g(o6.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:E,matchedRule:T}=wIe(y?.rules??[],{id:n,...i},s);if(E){for(let O of y.splits)if(O.shards.every(M=>this.matchesShard(M,n,e.totalShards))){let M=e.variations[O.variationKey],{flagEvaluationCode:k,flagEvaluationDescription:C}=this.getMatchedEvaluationCodeAndDescription(M,y,O,n,a),B=c.setMatch(h,M,y,T,a).build(k,C);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:y.key,variation:M,extraLogging:O.extraLogging??{},doLog:y.doLog,flagEvaluationDetails:B}}g(o6.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else g(o6.AllocationEvaluationCode.FAILING_RULE)}return $G(e.key,n,i,c.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let h=c.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(h){let y=new Uvt.FlagEvaluationError(l.message);throw y.flagEvaluationDetails=h,y}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(_Ie(e.salt,r),n);return e.ranges.some(s=>vIe(i,s))}};lg.Evaluator=KG;function vIe(t,e){return e.start<=t&&t<e.end}o(vIe,"isInShardRange");function _Ie(t,e){return`${t}-${e}`}o(_Ie,"hashKey");function $G(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}o($G,"noneResult");function wIe(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(s=>{let a=(0,Fvt.matchesRule)(s,e,r);return a&&(n=s),a})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}o(wIe,"matchesRules")});var WG=j(cN=>{"use strict";p();m();Object.defineProperty(cN,"__esModule",{value:!0});cN.BoundedEventQueue=void 0;var qvt=Qd(),Vvt=w0(),GG=class{static{o(this,"BoundedEventQueue")}constructor(e,r=new Array,n=Vvt.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&qvt.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};cN.BoundedEventQueue=GG});var ZG=j(XG=>{"use strict";p();m();Object.defineProperty(XG,"__esModule",{value:!0});var YG=class{static{o(this,"NoOpEventDispatcher")}dispatch(e){}};XG.default=YG});var fN=j(s6=>{"use strict";p();m();Object.defineProperty(s6,"__esModule",{value:!0});s6.HttpRequestError=void 0;var Tl=class extends Error{static{o(this,"HttpRequestError")}constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};s6.HttpRequestError=Tl;var JG=class{static{o(this,"FetchHttpClient")}constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),s=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!s?.ok)throw new Tl("Failed to fetch data",s?.status);return await s.json()}catch(r){throw r.name==="AbortError"?new Tl("Request timed out",408,r):r instanceof Tl?r:new Tl("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,s=setTimeout(()=>n.abort(),this.timeout),a=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(s),!a?.ok){let c=await a.text();throw new Tl(c||"Failed to post data",a?.status)}return await a.json()}catch(n){throw n.name==="AbortError"?new Tl("Request timed out",408,n):n instanceof Tl?n:new Tl("Network error",0,n)}}};s6.default=JG});var SIe=j(QG=>{"use strict";p();m();Object.defineProperty(QG,"__esModule",{value:!0});QG.waitForMs=jvt;async function jvt(t){await new Promise(e=>setTimeout(e,t))}o(jvt,"waitForMs")});var tW=j(eW=>{"use strict";p();m();Object.defineProperty(eW,"__esModule",{value:!0});eW.default=Kvt;var xf=Qd(),uN=w0(),zvt=SIe();function Kvt(t,e,r){let n=!1,i=0,s=t,a=!1,c,l=o(async()=>{n=!1;let g=!1,E=r?.skipInitialPoll?0:1+(r?.maxStartRetries??uN.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),T=null;for(;!g&&E>0;)try{await e(),g=!0,a=!1,xf.logger.info("Eppo SDK successfully requested initial configuration")}catch(M){if(a=!0,xf.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${M.message}`),--E>0){let k=AIe(t);xf.logger.warn(`Eppo SDK will retry the initial poll again in ${k} ms (${E} attempts remaining)`),await(0,zvt.waitForMs)(k)}else r?.pollAfterFailedStart?xf.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(xf.logger.error("Eppo SDK initial poll failed. Aborting polling"),h()),r?.errorOnFailedStart&&(T=M)}if(!n&&(g&&r?.pollAfterSuccessfulStart||!g&&r?.pollAfterFailedStart)?(xf.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),c=setTimeout(y,t)):xf.logger.info("Eppo SDK will not poll for configuration updates"),T)throw xf.logger.info("Eppo SDK rethrowing start error"),T},"start"),h=o(()=>{n||(n=!0,c&&clearTimeout(c),xf.logger.info("Eppo SDK polling stopped"))},"stop");async function y(){if(!n){try{await e(),i=0,s=t,a&&(a=!1,xf.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(g){a=!0,xf.logger.warn(`Eppo SDK encountered an error polling configurations: ${g.message}`);let E=1+(r?.maxPollRetries??uN.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<E){let T=Math.pow(2,i),O=AIe(t);s=T*t+O,xf.logger.warn(`Eppo SDK will try polling again in ${s} ms (${E-i} attempts remaining)`)}else xf.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),h()}setTimeout(y,s)}}return o(y,"poll"),{start:l,stop:h}}o(Kvt,"initPoller");function AIe(t){let e=t*uN.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*uN.POLL_JITTER_PCT/2),1);return e+r}o(AIe,"randomJitterMs")});var dN=j(a6=>{"use strict";p();m();Object.defineProperty(a6,"__esModule",{value:!0});a6.InvalidArgumentError=void 0;a6.validateNotBlank=$vt;var lN=class extends Error{static{o(this,"InvalidArgumentError")}};a6.InvalidArgumentError=lN;function $vt(t,e){if(t==null||t.length===0)throw new lN(e)}o($vt,"validateNotBlank")});var TIe=j((MJr,Gvt)=>{Gvt.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var rW=j(hN=>{"use strict";p();m();Object.defineProperty(hN,"__esModule",{value:!0});hN.LIB_VERSION=void 0;var Wvt=TIe();hN.LIB_VERSION=Wvt.version});var aN=j(f6=>{"use strict";p();m();Object.defineProperty(f6,"__esModule",{value:!0});f6.checkTypeMatch=CIe;f6.checkValueTypeMatch=c2t;var Yvt=gT(),Xvt=NM(),Vi=Qd(),W1=rG(),Zvt=n5e(),Jvt=LM(),IIe=UM(),Qvt=o5e(),RIe=f5e(),e2t=gG(),c6=w0(),t2t=GM(),Y1=p5e(),pN=EIe(),OIe=WG(),r2t=ZG(),MIe=wG(),n2t=SG(),i2t=fN(),th=A0(),o2t=S0(),s2t=tW(),NIe=dN(),a2t=rW(),nW=class{static{o(this,"EppoClient")}constructor({eventDispatcher:e=new r2t.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:s,configurationRequestParameters:a}){this.assignmentEventsQueue=new OIe.BoundedEventQueue("assignments"),this.banditEventsQueue=new OIe.BoundedEventQueue("bandit"),this.banditEvaluator=new Zvt.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new pN.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=s,this.configurationRequestParameters=a,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=c6.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=c6.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=c6.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:y=!1,skipInitialPoll:g=!1}=this.configurationRequestParameters,{pollingIntervalMs:E=c6.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;E<=0&&(Vi.logger.error("pollingIntervalMs must be greater than 0. Using default"),E=c6.DEFAULT_POLL_INTERVAL_MS);let T=new Xvt.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),O=new i2t.default(T,s),M=new e2t.default(O,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),k=o(async()=>{if(await this.flagConfigurationStore.isExpired())return M.fetchAndStoreConfigurations()},"pollingCallback");this.requestPoller=(0,s2t.default)(E,k,{maxStartRetries:a,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:y,skipInitialPoll:g}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Y1.EppoValue.String(i),th.VariationType.STRING);return{variation:s.stringValue??i,action:null,evaluationDetails:a}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Y1.EppoValue.Bool(i),th.VariationType.BOOLEAN);return{variation:s.boolValue??i,action:null,evaluationDetails:a}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Y1.EppoValue.Numeric(i),th.VariationType.INTEGER);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Y1.EppoValue.Numeric(i),th.VariationType.NUMERIC);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Y1.EppoValue.JSON(i),th.VariationType.JSON);return{variation:s.objectValue??i,action:null,evaluationDetails:a}}getBanditAction(e,r,n,i,s){let{variation:a,action:c}=this.getBanditActionDetails(e,r,n,i,s);return{variation:a,action:c}}getBestAction(e,r,n,i){let s=null,c=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(c){let l=this.getBandit(c);if(l){let h=(0,W1.ensureContextualSubjectAttributes)(r),y=(0,W1.ensureActionsWithContextualAttributes)(n);s=this.banditEvaluator.evaluateBestBanditAction(h,y,l.modelData)}}return s??i}getBanditActionDetails(e,r,n,i,s){let a=s,c=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let h=(0,W1.ensureNonContextualSubjectAttributes)(n),{variation:y,evaluationDetails:g}=this.getStringAssignmentDetails(e,r,h,s);a=y,l=g;let E=this.findBanditByVariation(e,a);if(!E)return{variation:a,action:null,evaluationDetails:l};l.banditKey=E.banditKey;let T=this.evaluateBanditAction(e,r,n,i,E.modelData);if(T?.actionKey){c=T.actionKey;let O={timestamp:new Date().toISOString(),featureFlag:e,bandit:E.banditKey,subject:r,action:c,actionProbability:T.actionWeight,optimalityGap:T.optimalityGap,modelVersion:E.modelVersion,subjectNumericAttributes:T.subjectAttributes.numericAttributes,subjectCategoricalAttributes:T.subjectAttributes.categoricalAttributes,actionNumericAttributes:T.actionAttributes.numericAttributes,actionCategoricalAttributes:T.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(O)}catch(M){Vi.logger.error("Error logging bandit event",M)}l.banditAction=c}}catch(h){if(Vi.logger.error("Error determining bandit action",h),!this.isGracefulFailureMode)throw h;a&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${h.message}`}return{variation:a,action:c,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:s,treatmentVariationEntries:a}=e,c=this.getStringAssignment(i,r,n,"control");if(c==="control")return s;if(!c.startsWith("treatment-"))return Vi.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),s;let l=Number.parseInt(c.split("-")[1])-1;return isNaN(l)?(Vi.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),s):l>=a.length?(Vi.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),s):a[l]}evaluateBanditAction(e,r,n,i,s){if(!Object.keys(i).length)return null;let a=(0,W1.ensureContextualSubjectAttributes)(n),c=(0,W1.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,a,c,s)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(c){Vi.logger.warn("Error encountered logging bandit action",c)}}getAssignmentVariation(e,r,n,i,s){try{let a=this.getAssignmentDetail(e,r,n,s);return this.parseVariationWithDetails(a,i,s)}catch(a){let c=this.rethrowIfNotGraceful(a,i);if(a instanceof n2t.FlagEvaluationError&&a.flagEvaluationDetails)return{eppoValue:c,flagEvaluationDetails:a.flagEvaluationDetails};{let l=new MIe.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${a.message}`);return{eppoValue:c,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:Y1.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(s){return{eppoValue:this.rethrowIfNotGraceful(s,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return Vi.logger.error(`${Vi.loggerPrefix} Error getting assignment: ${e.message}`),r??Y1.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),s={};return i.forEach(a=>{let c=this.getFlag(a);if(!c){Vi.logger.debug(`${Vi.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(c,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){Vi.logger.debug(`${Vi.loggerPrefix} No assigned variation: ${a}`);return}s[a]={flagKey:a,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:c.variationType,variationValue:l.variation.value.toString()}}),s}getPrecomputedConfiguration(e,r={},n={},i){let s=this.getConfigDetails(),a=(0,W1.ensureContextualSubjectAttributes)(r),c=(0,W1.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,c),h=this.computeBanditsForFlags(e,a,n,l),y=RIe.PrecomputedConfiguration.obfuscated(e,l,h,i??"",a,s.configEnvironment),g=new RIe.ConfigurationWireV1(y);return JSON.stringify(g)}getAssignmentDetail(e,r,n={},i){(0,NIe.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,NIe.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.newFlagEvaluationDetailsBuilder(e),a=this.getConfigDetails(),c=this.getFlag(e);if(c===null){Vi.logger.warn(`${Vi.loggerPrefix} No assigned variation. Flag not found: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,pN.noneResult)(e,r,n,h,a.configFormat)}if(!CIe(i,c.variationType)){let h=`Variation value does not have the correct type. Found ${c.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let y=s.buildForNoneResult("TYPE_MISMATCH",h);return(0,pN.noneResult)(e,r,n,y,a.configFormat)}throw new TypeError(h)}if(!c.enabled){Vi.logger.info(`${Vi.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,pN.noneResult)(e,r,n,h,a.configFormat)}let l=this.evaluator.evaluateFlag(c,a,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(h){Vi.logger.error(`${Vi.loggerPrefix} Error logging assignment event: ${h}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,Yvt.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new MIe.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,o2t.getMD5Hash)(e));return r?(0,t2t.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new IIe.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new Jvt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new IIe.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new Qvt.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(s){Vi.logger.error(`${Vi.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:s,subjectAttributes:a,variation:c}=e,l={...e.extraLogging??{},allocation:s??null,experiment:s?`${r}-${s}`:null,featureFlag:r,format:n,variation:c?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:a,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(c&&s&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:s,variationKey:c.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:s??"__eppo_no_allocation",variationKey:c?.key??"__eppo_no_variation"})}catch(h){Vi.logger.error(`${Vi.loggerPrefix} Error logging assignment event: ${h.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:a2t.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let s={};return Object.keys(n).forEach(a=>{let c=i[a];if(c){let l=this.getPrecomputedBandit(a,c.variationValue,e,r,n[a]);l&&(s[a]=l)}}),s}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(s=>s.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,s){let a=this.findBanditByVariation(e,r);if(!a)return null;let c=this.evaluateBanditAction(e,n,i,s,a.modelData);return c?{banditKey:a.banditKey,action:c.actionKey,actionNumericAttributes:c.actionAttributes.numericAttributes,actionCategoricalAttributes:c.actionAttributes.categoricalAttributes,actionProbability:c.actionWeight,modelVersion:a.modelVersion,optimalityGap:c.optimalityGap}:null}};f6.default=nW;function CIe(t,e){return t===void 0||e===t}o(CIe,"checkTypeMatch");function c2t(t,e){if(t==null)return!0;switch(t){case th.VariationType.STRING:return typeof e=="string";case th.VariationType.BOOLEAN:return typeof e=="boolean";case th.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case th.VariationType.NUMERIC:return typeof e=="number";case th.VariationType.JSON:return typeof e=="string";default:return!1}}o(c2t,"checkValueTypeMatch")});var PIe=j(oW=>{"use strict";p();m();Object.defineProperty(oW,"__esModule",{value:!0});var kIe=dG(),BIe=A0(),iW=class{static{o(this,"PrecomputedFlagRequestor")}constructor(e,r,n,i,s,a){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=s,this.banditActions=a}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,kIe.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:BIe.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,kIe.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:BIe.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};oW.default=iW});var FIe=j(aW=>{"use strict";p();m();Object.defineProperty(aW,"__esModule",{value:!0});var f2t=NM(),ci=Qd(),LIe=rG(),u2t=LM(),l2t=UM(),X1=w0(),DIe=GM(),d2t=fN(),u6=A0(),UIe=S0(),h2t=tW(),p2t=PIe(),m2t=dN(),g2t=rW(),y2t=aN(),sW=class{static{o(this,"EppoPrecomputedClient")}constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,LIe.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||ci.logger.error(`${ci.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&ci.logger.error(`${ci.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||ci.logger.error(`${ci.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&ci.logger.warn(`${ci.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=X1.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=X1.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=X1.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:y=!1,skipInitialPoll:g=!1}=this.requestParameters,{subjectKey:E,subjectAttributes:T}=this.subject,{pollingIntervalMs:O=X1.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;O<=0&&(ci.logger.error("pollingIntervalMs must be greater than 0. Using default"),O=X1.DEFAULT_POLL_INTERVAL_MS);let M=new f2t.default({baseUrl:i??X1.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),k=new d2t.default(M,s),C=new p2t.default(k,this.precomputedFlagStore,E,T,this.precomputedBanditStore,this.banditActions),B=o(async()=>{if(await this.precomputedFlagStore.isExpired())return C.fetchAndStorePrecomputedFlags()},"pollingCallback");this.requestPoller=(0,h2t.default)(O,B,{maxStartRetries:a,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:y,skipInitialPoll:g}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=s=>s){(0,m2t.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.getPrecomputedFlag(e);if(s==null)return ci.logger.warn(`${ci.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,y2t.checkTypeMatch)(n,s.variationType)){let c=`${ci.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${s.variationType}`;return ci.logger.error(c),r}let a={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,LIe.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:s.variationKey??"",value:s.variationValue},allocationKey:s.allocationKey??"",extraLogging:s.extraLogging??{},doLog:s.doLog};try{a?.doLog&&this.logAssignment(a)}catch(c){ci.logger.error(`${ci.loggerPrefix} Error logging assignment event: ${c}`)}try{return a.variation?.value!==void 0?i(a.variation.value):r}catch(c){return ci.logger.error(`${ci.loggerPrefix} Error transforming value: ${c}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,u6.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,u6.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,u6.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,u6.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,u6.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return ci.logger.warn(`${ci.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),s={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(s)}catch(a){ci.logger.error(`${ci.loggerPrefix} Error logging bandit action: ${a}`)}return{variation:i,action:s.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,UIe.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,DIe.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,DIe.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,UIe.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new l2t.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new u2t.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(s){ci.logger.error(`${ci.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:s,variation:a,format:c}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:c,variation:a?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(a&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:a.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<X1.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:a?.key??"__eppo_no_variation"})}catch(h){ci.logger.error(`${ci.loggerPrefix} Error logging assignment event: ${h.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(c){ci.logger.warn("Error encountered logging bandit action",c)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:g2t.LIB_VERSION}}};aW.default=sW});var HIe=j(gN=>{"use strict";p();m();Object.defineProperty(gN,"__esModule",{value:!0});gN.HybridConfigurationStore=void 0;var mN=Qd(),cW=class{static{o(this,"HybridConfigurationStore")}constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||mN.logger.warn(`${mN.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||mN.logger.warn(`${mN.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};gN.HybridConfigurationStore=cW});var qIe=j(Q2=>{"use strict";p();m();Object.defineProperty(Q2,"__esModule",{value:!0});Q2.MemoryOnlyConfigurationStore=Q2.MemoryStore=void 0;var yN=class{static{o(this,"MemoryStore")}constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};Q2.MemoryStore=yN;var fW=class{static{o(this,"MemoryOnlyConfigurationStore")}constructor(){this.servingStore=new yN,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};Q2.MemoryOnlyConfigurationStore=fW});var dW=j(lW=>{"use strict";p();m();Object.defineProperty(lW,"__esModule",{value:!0});var b2t=100,x2t=1e4,uW=class{static{o(this,"BatchEventProcessor")}constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(b2t,Math.min(x2t,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};lW.default=uW});var VIe=j(mW=>{"use strict";p();m();Object.defineProperty(mW,"__esModule",{value:!0});var hW=Qd(),pW=class{static{o(this,"BatchRetryManager")}constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:s}=this.config,a=Math.min(n*Math.pow(2,r),i);hW.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${a}ms...`),await new Promise(l=>setTimeout(l,a));let{failedEvents:c}=await this.delivery.deliver(e);return c.length===0?(hW.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<s-1?this.retry(c,r+1):(hW.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${s} tries, bailing`),e)}};mW.default=pW});var jIe=j(yW=>{"use strict";p();m();Object.defineProperty(yW,"__esModule",{value:!0});var bN=Qd(),gW=class{static{o(this,"EventDelivery")}constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{bN.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return bN.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){bN.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(bN.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:s})=>i.has(s))}):{failedEvents:[]}}};yW.default=gW});var KIe=j(xW=>{"use strict";p();m();Object.defineProperty(xW,"__esModule",{value:!0});var v2t=$$(),zIe="v0/i",bW=class{static{o(this,"SdkKeyDecoder")}decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=v2t.Base64.decode(r),s=new URLSearchParams(n).get("eh");if(!s)return null;let a=s.endsWith("/")?`${s}${zIe}`:`${s}/${zIe}`;return!a.startsWith("http://")&&!a.startsWith("https://")?`https://${a}`:a}};xW.default=bW});var $Ie=j(rh=>{"use strict";p();m();Object.defineProperty(rh,"__esModule",{value:!0});rh.DEFAULT_EVENT_DISPATCHER_CONFIG=rh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;rh.newDefaultEventDispatcher=T2t;var e_=Qd(),_2t=dW(),w2t=VIe(),E2t=jIe(),S2t=ZG(),A2t=KIe();rh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;rh.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var xN=class{static{o(this,"DefaultEventDispatcher")}constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:s,retryIntervalMs:a,maxRetryDelayMs:c,maxRetries:l=3}=n;this.eventDelivery=new E2t.default(i,s),this.retryManager=new w2t.default(this.eventDelivery,{retryIntervalMs:a,maxRetryDelayMs:c,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(h=>{e_.logger.info(`[EventDispatcher] Network status change, isOffline=${h}.`),this.isOffline=h,h?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){e_.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){e_.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}e_.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(e_.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};rh.default=xN;function T2t(t,e,r,n=rh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=rh.DEFAULT_EVENT_DISPATCHER_CONFIG){let a=new A2t.default().decodeEventIngestionUrl(r);return a?new xN(new _2t.default(t,n),e,{...i,ingestionUrl:a,sdkKey:r}):(e_.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new S2t.default)}o(T2t,"newDefaultEventDispatcher")});var XIe=j(Ut=>{"use strict";p();m();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.decodePrecomputedFlag=Ut.DefaultEventDispatcher=Ut.BatchEventProcessor=Ut.newDefaultEventDispatcher=Ut.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Ut.DEFAULT_EVENT_DISPATCHER_CONFIG=Ut.BoundedEventQueue=Ut.FormatEnum=Ut.VariationType=Ut.assignmentCacheValueToString=Ut.assignmentCacheKeyToString=Ut.LRUInMemoryAssignmentCache=Ut.NonExpiringInMemoryAssignmentCache=Ut.MemoryOnlyConfigurationStore=Ut.HybridConfigurationStore=Ut.MemoryStore=Ut.EppoPrecomputedClient=Ut.validation=Ut.HttpClient=Ut.FlagConfigRequestor=Ut.ApiEndpoints=Ut.constants=Ut.EppoClient=Ut.AbstractAssignmentCache=Ut.applicationLogger=Ut.loggerPrefix=void 0;var I2t=NM();Ut.ApiEndpoints=I2t.default;var GIe=Qd();Object.defineProperty(Ut,"applicationLogger",{enumerable:!0,get:o(function(){return GIe.logger},"get")});Object.defineProperty(Ut,"loggerPrefix",{enumerable:!0,get:o(function(){return GIe.loggerPrefix},"get")});var vW=G3();Object.defineProperty(Ut,"AbstractAssignmentCache",{enumerable:!0,get:o(function(){return vW.AbstractAssignmentCache},"get")});Object.defineProperty(Ut,"assignmentCacheKeyToString",{enumerable:!0,get:o(function(){return vW.assignmentCacheKeyToString},"get")});Object.defineProperty(Ut,"assignmentCacheValueToString",{enumerable:!0,get:o(function(){return vW.assignmentCacheValueToString},"get")});var R2t=LM();Object.defineProperty(Ut,"LRUInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return R2t.LRUInMemoryAssignmentCache},"get")});var O2t=UM();Object.defineProperty(Ut,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return O2t.NonExpiringInMemoryAssignmentCache},"get")});var M2t=aN();Ut.EppoClient=M2t.default;var N2t=FIe();Ut.EppoPrecomputedClient=N2t.default;var C2t=gG();Ut.FlagConfigRequestor=C2t.default;var k2t=HIe();Object.defineProperty(Ut,"HybridConfigurationStore",{enumerable:!0,get:o(function(){return k2t.HybridConfigurationStore},"get")});var WIe=qIe();Object.defineProperty(Ut,"MemoryStore",{enumerable:!0,get:o(function(){return WIe.MemoryStore},"get")});Object.defineProperty(Ut,"MemoryOnlyConfigurationStore",{enumerable:!0,get:o(function(){return WIe.MemoryOnlyConfigurationStore},"get")});var B2t=w0();Ut.constants=B2t;var P2t=GM();Object.defineProperty(Ut,"decodePrecomputedFlag",{enumerable:!0,get:o(function(){return P2t.decodePrecomputedFlag},"get")});var L2t=dW();Ut.BatchEventProcessor=L2t.default;var D2t=WG();Object.defineProperty(Ut,"BoundedEventQueue",{enumerable:!0,get:o(function(){return D2t.BoundedEventQueue},"get")});var vN=$Ie();Ut.DefaultEventDispatcher=vN.default;Object.defineProperty(Ut,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:o(function(){return vN.DEFAULT_EVENT_DISPATCHER_CONFIG},"get")});Object.defineProperty(Ut,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:o(function(){return vN.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE},"get")});Object.defineProperty(Ut,"newDefaultEventDispatcher",{enumerable:!0,get:o(function(){return vN.newDefaultEventDispatcher},"get")});var U2t=fN();Ut.HttpClient=U2t.default;var YIe=A0();Object.defineProperty(Ut,"VariationType",{enumerable:!0,get:o(function(){return YIe.VariationType},"get")});Object.defineProperty(Ut,"FormatEnum",{enumerable:!0,get:o(function(){return YIe.FormatEnum},"get")});var F2t=dN();Ut.validation=F2t});var kRe=j((grn,CRe)=>{p();m();var swt=nJ(),awt=C_(),cwt=lCe(),fwt=tCe(),uwt=eCe(),lwt=pk(),dwt=Object.prototype,hwt=dwt.hasOwnProperty,pwt=cwt(function(t,e){if(uwt(e)||fwt(e)){awt(e,lwt(e),t);return}for(var r in e)hwt.call(e,r)&&swt(t,r,e[r])});CRe.exports=pwt});var PRe=j((BRe,LN)=>{p();m();(function(t,e){typeof define=="function"&&define.amd?define(e):typeof LN=="object"&&LN.exports?LN.exports=e():t.numeral=e()})(BRe,function(){var t,e,r="2.0.6",n={},i={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(l,h){this._input=l,this._value=h}return o(c,"Numeral"),t=o(function(l){var h,y,g,E;if(t.isNumeral(l))h=l.value();else if(l===0||typeof l>"u")h=0;else if(l===null||e.isNaN(l))h=null;else if(typeof l=="string")if(a.zeroFormat&&l===a.zeroFormat)h=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)h=null;else{for(y in n)if(E=typeof n[y].regexps.unformat=="function"?n[y].regexps.unformat():n[y].regexps.unformat,E&&l.match(E)){g=n[y].unformat;break}g=g||t._.stringToNumber,h=g(l)}else h=Number(l)||null;return new c(l,h)},"numeral"),t.version=r,t.isNumeral=function(l){return l instanceof c},t._=e={numberToFormat:o(function(l,h,y){var g=i[t.options.currentLocale],E=!1,T=!1,O=0,M="",k=1e12,C=1e9,B=1e6,N=1e3,P="",H=!1,F,Z,W,X,S,f,d,b,x,_;if(l=l||0,Z=Math.abs(l),t._.includes(h,"(")?(E=!0,h=h.replace(/[\(|\)]/g,"")):(t._.includes(h,"+")||t._.includes(h,"-"))&&(b=t._.includes(h,"+")?h.indexOf("+"):l<0?h.indexOf("-"):-1,h=h.replace(/[\+|\-]/g,"")),t._.includes(h,"a")&&(F=h.match(/a(k|m|b|t)?/),F=F?F[1]:!1,t._.includes(h," a")&&(M=" "),h=h.replace(new RegExp(M+"a[kmbt]?"),""),Z>=k&&!F||F==="t"?(M+=g.abbreviations.trillion,l=l/k):Z<k&&Z>=C&&!F||F==="b"?(M+=g.abbreviations.billion,l=l/C):Z<C&&Z>=B&&!F||F==="m"?(M+=g.abbreviations.million,l=l/B):(Z<B&&Z>=N&&!F||F==="k")&&(M+=g.abbreviations.thousand,l=l/N)),t._.includes(h,"[.]")&&(T=!0,h=h.replace("[.]",".")),f=l.toString().split(".")[0],d=h.split(".")[1],x=h.indexOf(","),O=(h.split(".")[0].split(",")[0].match(/0/g)||[]).length,d?(t._.includes(d,"[")?(d=d.replace("]",""),d=d.split("["),P=t._.toFixed(l,d[0].length+d[1].length,y,d[1].length)):P=t._.toFixed(l,d.length,y),f=P.split(".")[0],t._.includes(P,".")?P=g.delimiters.decimal+P.split(".")[1]:P="",T&&Number(P.slice(1))===0&&(P="")):f=t._.toFixed(l,0,y),M&&!F&&Number(f)>=1e3&&M!==g.abbreviations.trillion)switch(f=String(Number(f)/1e3),M){case g.abbreviations.thousand:M=g.abbreviations.million;break;case g.abbreviations.million:M=g.abbreviations.billion;break;case g.abbreviations.billion:M=g.abbreviations.trillion;break}if(t._.includes(f,"-")&&(f=f.slice(1),H=!0),f.length<O)for(var A=O-f.length;A>0;A--)f="0"+f;return x>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g.delimiters.thousands)),h.indexOf(".")===0&&(f=""),_=f+P+(M||""),E?_=(E&&H?"(":"")+_+(E&&H?")":""):b>=0?_=b===0?(H?"-":"+")+_:_+(H?"-":"+"):H&&(_="-"+_),_},"numberToFormat"),stringToNumber:o(function(l){var h=i[a.currentLocale],y=l,g={thousand:3,million:6,billion:9,trillion:12},E,T,O,M;if(a.zeroFormat&&l===a.zeroFormat)T=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)T=null;else{T=1,h.delimiters.decimal!=="."&&(l=l.replace(/\./g,"").replace(h.delimiters.decimal,"."));for(E in g)if(M=new RegExp("[^a-zA-Z]"+h.abbreviations[E]+"(?:\\)|(\\"+h.currency.symbol+")?(?:\\))?)?$"),y.match(M)){T*=Math.pow(10,g[E]);break}T*=(l.split("-").length+Math.min(l.split("(").length-1,l.split(")").length-1))%2?1:-1,l=l.replace(/[^0-9\.]+/g,""),T*=Number(l)}return T},"stringToNumber"),isNaN:o(function(l){return typeof l=="number"&&isNaN(l)},"isNaN"),includes:o(function(l,h){return l.indexOf(h)!==-1},"includes"),insert:o(function(l,h,y){return l.slice(0,y)+h+l.slice(y)},"insert"),reduce:o(function(l,h){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof h!="function")throw new TypeError(h+" is not a function");var y=Object(l),g=y.length>>>0,E=0,T;if(arguments.length===3)T=arguments[2];else{for(;E<g&&!(E in y);)E++;if(E>=g)throw new TypeError("Reduce of empty array with no initial value");T=y[E++]}for(;E<g;E++)E in y&&(T=h(T,y[E],E,y));return T},"reduce"),multiplier:o(function(l){var h=l.toString().split(".");return h.length<2?1:Math.pow(10,h[1].length)},"multiplier"),correctionFactor:o(function(){var l=Array.prototype.slice.call(arguments);return l.reduce(function(h,y){var g=e.multiplier(y);return h>g?h:g},1)},"correctionFactor"),toFixed:o(function(l,h,y,g){var E=l.toString().split("."),T=h-(g||0),O,M,k,C;return E.length===2?O=Math.min(Math.max(E[1].length,T),h):O=T,k=Math.pow(10,O),C=(y(l+"e+"+O)/k).toFixed(O),g>h-O&&(M=new RegExp("\\.?0{1,"+(g-(h-O))+"}$"),C=C.replace(M,"")),C},"toFixed")},t.options=a,t.formats=n,t.locales=i,t.locale=function(l){return l&&(a.currentLocale=l.toLowerCase()),a.currentLocale},t.localeData=function(l){if(!l)return i[a.currentLocale];if(l=l.toLowerCase(),!i[l])throw new Error("Unknown locale : "+l);return i[l]},t.reset=function(){for(var l in s)a[l]=s[l]},t.zeroFormat=function(l){a.zeroFormat=typeof l=="string"?l:null},t.nullFormat=function(l){a.nullFormat=typeof l=="string"?l:null},t.defaultFormat=function(l){a.defaultFormat=typeof l=="string"?l:"0.0"},t.register=function(l,h,y){if(h=h.toLowerCase(),this[l+"s"][h])throw new TypeError(h+" "+l+" already registered.");return this[l+"s"][h]=y,y},t.validate=function(l,h){var y,g,E,T,O,M,k,C;if(typeof l!="string"&&(l+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",l)),l=l.trim(),l.match(/^\d+$/))return!0;if(l==="")return!1;try{k=t.localeData(h)}catch{k=t.localeData(t.locale())}return E=k.currency.symbol,O=k.abbreviations,y=k.delimiters.decimal,k.delimiters.thousands==="."?g="\\.":g=k.delimiters.thousands,C=l.match(/^[^\d]+/),C!==null&&(l=l.substr(1),C[0]!==E)||(C=l.match(/[^\d]+$/),C!==null&&(l=l.slice(0,-1),C[0]!==O.thousand&&C[0]!==O.million&&C[0]!==O.billion&&C[0]!==O.trillion))?!1:(M=new RegExp(g+"{2}"),l.match(/[^\d.,]/g)?!1:(T=l.split(y),T.length>2?!1:T.length<2?!!T[0].match(/^\d+.*\d$/)&&!T[0].match(M):T[0].length===1?!!T[0].match(/^\d+$/)&&!T[0].match(M)&&!!T[1].match(/^\d+$/):!!T[0].match(/^\d+.*\d$/)&&!T[0].match(M)&&!!T[1].match(/^\d+$/)))},t.fn=c.prototype={clone:o(function(){return t(this)},"clone"),format:o(function(l,h){var y=this._value,g=l||a.defaultFormat,E,T,O;if(h=h||Math.round,y===0&&a.zeroFormat!==null)T=a.zeroFormat;else if(y===null&&a.nullFormat!==null)T=a.nullFormat;else{for(E in n)if(g.match(n[E].regexps.format)){O=n[E].format;break}O=O||t._.numberToFormat,T=O(y,g,h)}return T},"format"),value:o(function(){return this._value},"value"),input:o(function(){return this._input},"input"),set:o(function(l){return this._value=Number(l),this},"set"),add:o(function(l){var h=e.correctionFactor.call(null,this._value,l);function y(g,E,T,O){return g+Math.round(h*E)}return o(y,"cback"),this._value=e.reduce([this._value,l],y,0)/h,this},"add"),subtract:o(function(l){var h=e.correctionFactor.call(null,this._value,l);function y(g,E,T,O){return g-Math.round(h*E)}return o(y,"cback"),this._value=e.reduce([l],y,Math.round(this._value*h))/h,this},"subtract"),multiply:o(function(l){function h(y,g,E,T){var O=e.correctionFactor(y,g);return Math.round(y*O)*Math.round(g*O)/Math.round(O*O)}return o(h,"cback"),this._value=e.reduce([this._value,l],h,1),this},"multiply"),divide:o(function(l){function h(y,g,E,T){var O=e.correctionFactor(y,g);return Math.round(y*O)/Math.round(g*O)}return o(h,"cback"),this._value=e.reduce([this._value,l],h),this},"divide"),difference:o(function(l){return Math.abs(t(this._value).subtract(l).value())},"difference")},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:o(function(l){var h=l%10;return~~(l%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th"},"ordinal"),currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:o(function(l,h,y){var g=t._.includes(h," BPS")?" ":"",E;return l=l*1e4,h=h.replace(/\s?BPS/,""),E=t._.numberToFormat(l,h,y),t._.includes(E,")")?(E=E.split(""),E.splice(-1,0,g+"BPS"),E=E.join("")):E=E+g+"BPS",E},"format"),unformat:o(function(l){return+(t._.stringToNumber(l)*1e-4).toFixed(15)},"unformat")})}(),function(){var l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},h={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},y=l.suffixes.concat(h.suffixes.filter(function(E){return l.suffixes.indexOf(E)<0})),g=y.join("|");g="("+g.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(g)},format:o(function(E,T,O){var M,k=t._.includes(T,"ib")?h:l,C=t._.includes(T," b")||t._.includes(T," ib")?" ":"",B,N,P;for(T=T.replace(/\s?i?b/,""),B=0;B<=k.suffixes.length;B++)if(N=Math.pow(k.base,B),P=Math.pow(k.base,B+1),E===null||E===0||E>=N&&E<P){C+=k.suffixes[B],N>0&&(E=E/N);break}return M=t._.numberToFormat(E,T,O),M+C},"format"),unformat:o(function(E){var T=t._.stringToNumber(E),O,M;if(T){for(O=l.suffixes.length-1;O>=0;O--){if(t._.includes(E,l.suffixes[O])){M=Math.pow(l.base,O);break}if(t._.includes(E,h.suffixes[O])){M=Math.pow(h.base,O);break}}T*=M||1}return T},"unformat")})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:o(function(l,h,y){var g=t.locales[t.options.currentLocale],E={before:h.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:h.match(/([\+|\-|\)|\s|\$]*)$/)[0]},T,O,M;for(h=h.replace(/\s?\$\s?/,""),T=t._.numberToFormat(l,h,y),l>=0?(E.before=E.before.replace(/[\-\(]/,""),E.after=E.after.replace(/[\-\)]/,"")):l<0&&!t._.includes(E.before,"-")&&!t._.includes(E.before,"(")&&(E.before="-"+E.before),M=0;M<E.before.length;M++)switch(O=E.before[M],O){case"$":T=t._.insert(T,g.currency.symbol,M);break;case" ":T=t._.insert(T," ",M+g.currency.symbol.length-1);break}for(M=E.after.length-1;M>=0;M--)switch(O=E.after[M],O){case"$":T=M===E.after.length-1?T+g.currency.symbol:t._.insert(T,g.currency.symbol,-(E.after.length-(1+M)));break;case" ":T=M===E.after.length-1?T+" ":t._.insert(T," ",-(E.after.length-(1+M)+g.currency.symbol.length-1));break}return T},"format")})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:o(function(l,h,y){var g,E=typeof l=="number"&&!t._.isNaN(l)?l.toExponential():"0e+0",T=E.split("e");return h=h.replace(/e[\+|\-]{1}0/,""),g=t._.numberToFormat(Number(T[0]),h,y),g+"e"+T[1]},"format"),unformat:o(function(l){var h=t._.includes(l,"e+")?l.split("e+"):l.split("e-"),y=Number(h[0]),g=Number(h[1]);g=t._.includes(l,"e-")?g*=-1:g;function E(T,O,M,k){var C=t._.correctionFactor(T,O),B=T*C*(O*C)/(C*C);return B}return o(E,"cback"),t._.reduce([y,Math.pow(10,g)],E,1)},"unformat")})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:o(function(l,h,y){var g=t.locales[t.options.currentLocale],E,T=t._.includes(h," o")?" ":"";return h=h.replace(/\s?o/,""),T+=g.ordinal(l),E=t._.numberToFormat(l,h,y),E+T},"format")})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:o(function(l,h,y){var g=t._.includes(h," %")?" ":"",E;return t.options.scalePercentBy100&&(l=l*100),h=h.replace(/\s?\%/,""),E=t._.numberToFormat(l,h,y),t._.includes(E,")")?(E=E.split(""),E.splice(-1,0,g+"%"),E=E.join("")):E=E+g+"%",E},"format"),unformat:o(function(l){var h=t._.stringToNumber(l);return t.options.scalePercentBy100?h*.01:h},"unformat")})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:o(function(l,h,y){var g=Math.floor(l/60/60),E=Math.floor((l-g*60*60)/60),T=Math.round(l-g*60*60-E*60);return g+":"+(E<10?"0"+E:E)+":"+(T<10?"0"+T:T)},"format"),unformat:o(function(l){var h=l.split(":"),y=0;return h.length===3?(y=y+Number(h[0])*60*60,y=y+Number(h[1])*60,y=y+Number(h[2])):h.length===2&&(y=y+Number(h[0])*60,y=y+Number(h[1])),Number(y)},"unformat")})}(),t})});var DN=j((nY,iY)=>{p();m();(function(t,e){typeof nY=="object"&&typeof iY<"u"?iY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(nY,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",a="hour",c="day",l="week",h="month",y="quarter",g="year",E="date",T="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o(function(d){var b=["th","st","nd","rd"],x=d%100;return"["+d+(b[(x-20)%10]||b[x]||b[0])+"]"},"ordinal")},C=o(function(d,b,x){var _=String(d);return!_||_.length>=b?d:""+Array(b+1-_.length).join(x)+d},"m"),B={s:C,z:o(function(d){var b=-d.utcOffset(),x=Math.abs(b),_=Math.floor(x/60),A=x%60;return(b<=0?"+":"-")+C(_,2,"0")+":"+C(A,2,"0")},"z"),m:o(function d(b,x){if(b.date()<x.date())return-d(x,b);var _=12*(x.year()-b.year())+(x.month()-b.month()),A=b.clone().add(_,h),I=x-A<0,v=b.clone().add(_+(I?-1:1),h);return+(-(_+(x-A)/(I?A-v:v-A))||0)},"t"),a:o(function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},"a"),p:o(function(d){return{M:h,y:g,w:l,d:c,D:E,h:a,m:s,s:i,ms:n,Q:y}[d]||String(d||"").toLowerCase().replace(/s$/,"")},"p"),u:o(function(d){return d===void 0},"u")},N="en",P={};P[N]=k;var H="$isDayjsObject",F=o(function(d){return d instanceof S||!(!d||!d[H])},"S"),Z=o(function d(b,x,_){var A;if(!b)return N;if(typeof b=="string"){var I=b.toLowerCase();P[I]&&(A=I),x&&(P[I]=x,A=I);var v=b.split("-");if(!A&&v.length>1)return d(v[0])}else{var u=b.name;P[u]=b,A=u}return!_&&A&&(N=A),A||!_&&N},"t"),W=o(function(d,b){if(F(d))return d.clone();var x=typeof b=="object"?b:{};return x.date=d,x.args=arguments,new S(x)},"O"),X=B;X.l=Z,X.i=F,X.w=function(d,b){return W(d,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var S=function(){function d(x){this.$L=Z(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[H]=!0}o(d,"M");var b=d.prototype;return b.parse=function(x){this.$d=function(_){var A=_.date,I=_.utc;if(A===null)return new Date(NaN);if(X.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var v=A.match(O);if(v){var u=v[2]-1||0,w=(v[7]||"0").substring(0,3);return I?new Date(Date.UTC(v[1],u,v[3]||1,v[4]||0,v[5]||0,v[6]||0,w)):new Date(v[1],u,v[3]||1,v[4]||0,v[5]||0,v[6]||0,w)}}return new Date(A)}(x),this.init()},b.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},b.$utils=function(){return X},b.isValid=function(){return this.$d.toString()!==T},b.isSame=function(x,_){var A=W(x);return this.startOf(_)<=A&&A<=this.endOf(_)},b.isAfter=function(x,_){return W(x)<this.startOf(_)},b.isBefore=function(x,_){return this.endOf(_)<W(x)},b.$g=function(x,_,A){return X.u(x)?this[_]:this.set(A,x)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(x,_){var A=this,I=!!X.u(_)||_,v=X.p(x),u=o(function(Oe,ae){var le=X.w(A.$u?Date.UTC(A.$y,ae,Oe):new Date(A.$y,ae,Oe),A);return I?le:le.endOf(c)},"l"),w=o(function(Oe,ae){return X.w(A.toDate()[Oe].apply(A.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ae)),A)},"$"),V=this.$W,q=this.$M,U=this.$D,G="set"+(this.$u?"UTC":"");switch(v){case g:return I?u(1,0):u(31,11);case h:return I?u(1,q):u(0,q+1);case l:var ee=this.$locale().weekStart||0,re=(V<ee?V+7:V)-ee;return u(I?U-re:U+(6-re),q);case c:case E:return w(G+"Hours",0);case a:return w(G+"Minutes",1);case s:return w(G+"Seconds",2);case i:return w(G+"Milliseconds",3);default:return this.clone()}},b.endOf=function(x){return this.startOf(x,!1)},b.$set=function(x,_){var A,I=X.p(x),v="set"+(this.$u?"UTC":""),u=(A={},A[c]=v+"Date",A[E]=v+"Date",A[h]=v+"Month",A[g]=v+"FullYear",A[a]=v+"Hours",A[s]=v+"Minutes",A[i]=v+"Seconds",A[n]=v+"Milliseconds",A)[I],w=I===c?this.$D+(_-this.$W):_;if(I===h||I===g){var V=this.clone().set(E,1);V.$d[u](w),V.init(),this.$d=V.set(E,Math.min(this.$D,V.daysInMonth())).$d}else u&&this.$d[u](w);return this.init(),this},b.set=function(x,_){return this.clone().$set(x,_)},b.get=function(x){return this[X.p(x)]()},b.add=function(x,_){var A,I=this;x=Number(x);var v=X.p(_),u=o(function(q){var U=W(I);return X.w(U.date(U.date()+Math.round(q*x)),I)},"y");if(v===h)return this.set(h,this.$M+x);if(v===g)return this.set(g,this.$y+x);if(v===c)return u(1);if(v===l)return u(7);var w=(A={},A[s]=e,A[a]=r,A[i]=t,A)[v]||1,V=this.$d.getTime()+x*w;return X.w(V,this)},b.subtract=function(x,_){return this.add(-1*x,_)},b.format=function(x){var _=this,A=this.$locale();if(!this.isValid())return A.invalidDate||T;var I=x||"YYYY-MM-DDTHH:mm:ssZ",v=X.z(this),u=this.$H,w=this.$m,V=this.$M,q=A.weekdays,U=A.months,G=A.meridiem,ee=o(function(ae,le,ye,he){return ae&&(ae[le]||ae(_,I))||ye[le].slice(0,he)},"h"),re=o(function(ae){return X.s(u%12||12,ae,"0")},"d"),Oe=G||function(ae,le,ye){var he=ae<12?"AM":"PM";return ye?he.toLowerCase():he};return I.replace(M,function(ae,le){return le||function(ye){switch(ye){case"YY":return String(_.$y).slice(-2);case"YYYY":return X.s(_.$y,4,"0");case"M":return V+1;case"MM":return X.s(V+1,2,"0");case"MMM":return ee(A.monthsShort,V,U,3);case"MMMM":return ee(U,V);case"D":return _.$D;case"DD":return X.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return ee(A.weekdaysMin,_.$W,q,2);case"ddd":return ee(A.weekdaysShort,_.$W,q,3);case"dddd":return q[_.$W];case"H":return String(u);case"HH":return X.s(u,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Oe(u,w,!0);case"A":return Oe(u,w,!1);case"m":return String(w);case"mm":return X.s(w,2,"0");case"s":return String(_.$s);case"ss":return X.s(_.$s,2,"0");case"SSS":return X.s(_.$ms,3,"0");case"Z":return v}return null}(ae)||v.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(x,_,A){var I,v=this,u=X.p(_),w=W(x),V=(w.utcOffset()-this.utcOffset())*e,q=this-w,U=o(function(){return X.m(v,w)},"D");switch(u){case g:I=U()/12;break;case h:I=U();break;case y:I=U()/3;break;case l:I=(q-V)/6048e5;break;case c:I=(q-V)/864e5;break;case a:I=q/r;break;case s:I=q/e;break;case i:I=q/t;break;default:I=q}return A?I:X.a(I)},b.daysInMonth=function(){return this.endOf(h).$D},b.$locale=function(){return P[this.$L]},b.locale=function(x,_){if(!x)return this.$L;var A=this.clone(),I=Z(x,_,!0);return I&&(A.$L=I),A},b.clone=function(){return X.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},d}(),f=S.prototype;return W.prototype=f,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",c],["$M",h],["$y",g],["$D",E]].forEach(function(d){f[d[1]]=function(b){return this.$g(b,d[0],d[1])}}),W.extend=function(d,b){return d.$i||(d(b,S,W),d.$i=!0),W},W.locale=Z,W.isDayjs=F,W.unix=function(d){return W(1e3*d)},W.en=P[N],W.Ls=P,W.p={},W})});var VRe=j((oY,sY)=>{p();m();(function(t,e){typeof oY=="object"&&typeof sY<"u"?sY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_duration=e()})(oY,function(){"use strict";var t,e,r=1e3,n=6e4,i=36e5,s=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,l=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,y={years:c,months:l,days:s,hours:i,minutes:n,seconds:r,milliseconds:1,weeks:6048e5},g=o(function(P){return P instanceof B},"c"),E=o(function(P,H,F){return new B(P,F,H.$l)},"f"),T=o(function(P){return e.p(P)+"s"},"m"),O=o(function(P){return P<0},"l"),M=o(function(P){return O(P)?Math.ceil(P):Math.floor(P)},"$"),k=o(function(P){return Math.abs(P)},"y"),C=o(function(P,H){return P?O(P)?{negative:!0,format:""+k(P)+H}:{negative:!1,format:""+P+H}:{negative:!1,format:""}},"v"),B=function(){function P(F,Z,W){var X=this;if(this.$d={},this.$l=W,F===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Z)return E(F*y[T(Z)],this);if(typeof F=="number")return this.$ms=F,this.parseFromMilliseconds(),this;if(typeof F=="object")return Object.keys(F).forEach(function(d){X.$d[T(d)]=F[d]}),this.calMilliseconds(),this;if(typeof F=="string"){var S=F.match(h);if(S){var f=S.slice(2).map(function(d){return d!=null?Number(d):0});return this.$d.years=f[0],this.$d.months=f[1],this.$d.weeks=f[2],this.$d.days=f[3],this.$d.hours=f[4],this.$d.minutes=f[5],this.$d.seconds=f[6],this.calMilliseconds(),this}}return this}o(P,"l");var H=P.prototype;return H.calMilliseconds=function(){var F=this;this.$ms=Object.keys(this.$d).reduce(function(Z,W){return Z+(F.$d[W]||0)*y[W]},0)},H.parseFromMilliseconds=function(){var F=this.$ms;this.$d.years=M(F/c),F%=c,this.$d.months=M(F/l),F%=l,this.$d.days=M(F/s),F%=s,this.$d.hours=M(F/i),F%=i,this.$d.minutes=M(F/n),F%=n,this.$d.seconds=M(F/r),F%=r,this.$d.milliseconds=F},H.toISOString=function(){var F=C(this.$d.years,"Y"),Z=C(this.$d.months,"M"),W=+this.$d.days||0;this.$d.weeks&&(W+=7*this.$d.weeks);var X=C(W,"D"),S=C(this.$d.hours,"H"),f=C(this.$d.minutes,"M"),d=this.$d.seconds||0;this.$d.milliseconds&&(d+=this.$d.milliseconds/1e3,d=Math.round(1e3*d)/1e3);var b=C(d,"S"),x=F.negative||Z.negative||X.negative||S.negative||f.negative||b.negative,_=S.format||f.format||b.format?"T":"",A=(x?"-":"")+"P"+F.format+Z.format+X.format+_+S.format+f.format+b.format;return A==="P"||A==="-P"?"P0D":A},H.toJSON=function(){return this.toISOString()},H.format=function(F){var Z=F||"YYYY-MM-DDTHH:mm:ss",W={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return Z.replace(a,function(X,S){return S||String(W[X])})},H.as=function(F){return this.$ms/y[T(F)]},H.get=function(F){var Z=this.$ms,W=T(F);return W==="milliseconds"?Z%=1e3:Z=W==="weeks"?M(Z/y[W]):this.$d[W],Z||0},H.add=function(F,Z,W){var X;return X=Z?F*y[T(Z)]:g(F)?F.$ms:E(F,this).$ms,E(this.$ms+X*(W?-1:1),this)},H.subtract=function(F,Z){return this.add(F,Z,!0)},H.locale=function(F){var Z=this.clone();return Z.$l=F,Z},H.clone=function(){return E(this.$ms,this)},H.humanize=function(F){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!F)},H.valueOf=function(){return this.asMilliseconds()},H.milliseconds=function(){return this.get("milliseconds")},H.asMilliseconds=function(){return this.as("milliseconds")},H.seconds=function(){return this.get("seconds")},H.asSeconds=function(){return this.as("seconds")},H.minutes=function(){return this.get("minutes")},H.asMinutes=function(){return this.as("minutes")},H.hours=function(){return this.get("hours")},H.asHours=function(){return this.as("hours")},H.days=function(){return this.get("days")},H.asDays=function(){return this.as("days")},H.weeks=function(){return this.get("weeks")},H.asWeeks=function(){return this.as("weeks")},H.months=function(){return this.get("months")},H.asMonths=function(){return this.as("months")},H.years=function(){return this.get("years")},H.asYears=function(){return this.as("years")},P}(),N=o(function(P,H,F){return P.add(H.years()*F,"y").add(H.months()*F,"M").add(H.days()*F,"d").add(H.hours()*F,"h").add(H.minutes()*F,"m").add(H.seconds()*F,"s").add(H.milliseconds()*F,"ms")},"p");return function(P,H,F){t=F,e=F().$utils(),F.duration=function(X,S){var f=F.locale();return E(X,{$l:f},S)},F.isDuration=g;var Z=H.prototype.add,W=H.prototype.subtract;H.prototype.add=function(X,S){return g(X)?N(this,X,1):Z.bind(this)(X,S)},H.prototype.subtract=function(X,S){return g(X)?N(this,X,-1):W.bind(this)(X,S)}}})});var jRe=j((aY,cY)=>{p();m();(function(t,e){typeof aY=="object"&&typeof cY<"u"?cY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_relativeTime=e()})(aY,function(){"use strict";return function(t,e,r){t=t||{};var n=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,l,h,y){return n.fromToBase(c,l,h,y)}o(s,"i"),r.en.relativeTime=i,n.fromToBase=function(c,l,h,y,g){for(var E,T,O,M=h.$locale().relativeTime||i,k=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=k.length,B=0;B<C;B+=1){var N=k[B];N.d&&(E=y?r(c).diff(h,N.d,!0):h.diff(c,N.d,!0));var P=(t.rounding||Math.round)(Math.abs(E));if(O=E>0,P<=N.r||!N.r){P<=1&&B>0&&(N=k[B-1]);var H=M[N.l];g&&(P=g(""+P)),T=typeof H=="string"?H.replace("%d",P):H(P,l,N.l,O);break}}if(l)return T;var F=O?M.future:M.past;return typeof F=="function"?F(T):F.replace("%s",T)},n.to=function(c,l){return s(c,l,this,!0)},n.from=function(c,l){return s(c,l,this)};var a=o(function(c){return c.$u?r.utc():r()},"d");n.toNow=function(c){return this.to(a(this),c)},n.fromNow=function(c){return this.from(a(this),c)}}})});var zRe=j((fY,uY)=>{p();m();(function(t,e){typeof fY=="object"&&typeof uY<"u"?uY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_utc=e()})(fY,function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,s){var a=i.prototype;s.utc=function(T){var O={date:T,utc:!0,args:arguments};return new i(O)},a.utc=function(T){var O=s(this.toDate(),{locale:this.$L,utc:!0});return T?O.add(this.utcOffset(),t):O},a.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(T){T.utc&&(this.$u=!0),this.$utils().u(T.$offset)||(this.$offset=T.$offset),c.call(this,T)};var l=a.init;a.init=function(){if(this.$u){var T=this.$d;this.$y=T.getUTCFullYear(),this.$M=T.getUTCMonth(),this.$D=T.getUTCDate(),this.$W=T.getUTCDay(),this.$H=T.getUTCHours(),this.$m=T.getUTCMinutes(),this.$s=T.getUTCSeconds(),this.$ms=T.getUTCMilliseconds()}else l.call(this)};var h=a.utcOffset;a.utcOffset=function(T,O){var M=this.$utils().u;if(M(T))return this.$u?0:M(this.$offset)?h.call(this):this.$offset;if(typeof T=="string"&&(T=function(N){N===void 0&&(N="");var P=N.match(e);if(!P)return null;var H=(""+P[0]).match(r)||["-",0,0],F=H[0],Z=60*+H[1]+ +H[2];return Z===0?0:F==="+"?Z:-Z}(T),T===null))return this;var k=Math.abs(T)<=16?60*T:T,C=this;if(O)return C.$offset=k,C.$u=T===0,C;if(T!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(k+B,t)).$offset=k,C.$x.$localOffset=B}else C=this.utc();return C};var y=a.format;a.format=function(T){var O=T||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,O)},a.valueOf=function(){var T=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*T},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var g=a.toDate;a.toDate=function(T){return T==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var E=a.diff;a.diff=function(T,O,M){if(T&&this.$u===T.$u)return E.call(this,T,O,M);var k=this.local(),C=s(T).local();return E.call(k,C,O,M)}}})});var s7e=j((pY,mY)=>{p();m();(function(t,e){typeof pY=="object"&&typeof mY<"u"?mY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=e()})(pY,function(){"use strict";return function(t,e,r){e.prototype.isToday=function(){var n="YYYY-MM-DD",i=r();return this.format(n)===i.format(n)}}})});var a7e=j((gY,yY)=>{p();m();(function(t,e){typeof gY=="object"&&typeof yY<"u"?yY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isYesterday=e()})(gY,function(){"use strict";return function(t,e,r){e.prototype.isYesterday=function(){var n="YYYY-MM-DD",i=r().subtract(1,"day");return this.format(n)===i.format(n)}}})});var y7e=j((Rfn,g7e)=>{p();m();function Uwt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}o(Uwt,"arrayEach");g7e.exports=Uwt});var x7e=j((Cfn,b7e)=>{p();m();var Fwt=C_(),Hwt=pk();function qwt(t,e){return t&&Fwt(e,Hwt(e),t)}o(qwt,"baseAssign");b7e.exports=qwt});var _7e=j((Lfn,v7e)=>{p();m();var Vwt=C_(),jwt=mk();function zwt(t,e){return t&&Vwt(e,jwt(e),t)}o(zwt,"baseAssignIn");v7e.exports=zwt});var E7e=j((Hfn,w7e)=>{p();m();var Kwt=C_(),$wt=iJ();function Gwt(t,e){return Kwt(t,$wt(t),e)}o(Gwt,"copySymbols");w7e.exports=Gwt});var bY=j((zfn,S7e)=>{p();m();var Wwt=oCe(),Ywt=sCe(),Xwt=iJ(),Zwt=iCe(),Jwt=Object.getOwnPropertySymbols,Qwt=Jwt?function(t){for(var e=[];t;)Wwt(e,Xwt(t)),t=Ywt(t);return e}:Zwt;S7e.exports=Qwt});var T7e=j((Gfn,A7e)=>{p();m();var eEt=C_(),tEt=bY();function rEt(t,e){return eEt(t,tEt(t),e)}o(rEt,"copySymbolsIn");A7e.exports=rEt});var R7e=j((Zfn,I7e)=>{p();m();var nEt=aCe(),iEt=bY(),oEt=mk();function sEt(t){return nEt(t,oEt,iEt)}o(sEt,"getAllKeysIn");I7e.exports=sEt});var M7e=j((tun,O7e)=>{p();m();var aEt=Object.prototype,cEt=aEt.hasOwnProperty;function fEt(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&cEt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}o(fEt,"initCloneArray");O7e.exports=fEt});var C7e=j((oun,N7e)=>{p();m();var uEt=oJ();function lEt(t,e){var r=e?uEt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}o(lEt,"cloneDataView");N7e.exports=lEt});var B7e=j((fun,k7e)=>{p();m();var dEt=/\w*$/;function hEt(t){var e=new t.constructor(t.source,dEt.exec(t));return e.lastIndex=t.lastIndex,e}o(hEt,"cloneRegExp");k7e.exports=hEt});var F7e=j((hun,U7e)=>{p();m();var P7e=GNe(),L7e=P7e?P7e.prototype:void 0,D7e=L7e?L7e.valueOf:void 0;function pEt(t){return D7e?Object(D7e.call(t)):{}}o(pEt,"cloneSymbol");U7e.exports=pEt});var q7e=j((yun,H7e)=>{p();m();var mEt=oJ(),gEt=C7e(),yEt=B7e(),bEt=F7e(),xEt=fCe(),vEt="[object Boolean]",_Et="[object Date]",wEt="[object Map]",EEt="[object Number]",SEt="[object RegExp]",AEt="[object Set]",TEt="[object String]",IEt="[object Symbol]",REt="[object ArrayBuffer]",OEt="[object DataView]",MEt="[object Float32Array]",NEt="[object Float64Array]",CEt="[object Int8Array]",kEt="[object Int16Array]",BEt="[object Int32Array]",PEt="[object Uint8Array]",LEt="[object Uint8ClampedArray]",DEt="[object Uint16Array]",UEt="[object Uint32Array]";function FEt(t,e,r){var n=t.constructor;switch(e){case REt:return mEt(t);case vEt:case _Et:return new n(+t);case OEt:return gEt(t,r);case MEt:case NEt:case CEt:case kEt:case BEt:case PEt:case LEt:case DEt:case UEt:return xEt(t,r);case wEt:return new n;case EEt:case TEt:return new n(t);case SEt:return yEt(t);case AEt:return new n;case IEt:return bEt(t)}}o(FEt,"initCloneByTag");H7e.exports=FEt});var j7e=j((_un,V7e)=>{p();m();var HEt=gk(),qEt=lk(),VEt="[object Map]";function jEt(t){return qEt(t)&&HEt(t)==VEt}o(jEt,"baseIsMap");V7e.exports=jEt});var G7e=j((Aun,$7e)=>{p();m();var zEt=j7e(),KEt=dk(),z7e=hk(),K7e=z7e&&z7e.isMap,$Et=K7e?KEt(K7e):zEt;$7e.exports=$Et});var Y7e=j((Run,W7e)=>{p();m();var GEt=gk(),WEt=lk(),YEt="[object Set]";function XEt(t){return WEt(t)&&GEt(t)==YEt}o(XEt,"baseIsSet");W7e.exports=XEt});var Q7e=j((Cun,J7e)=>{p();m();var ZEt=Y7e(),JEt=dk(),X7e=hk(),Z7e=X7e&&X7e.isSet,QEt=Z7e?JEt(Z7e):ZEt;J7e.exports=QEt});var i9e=j((Pun,n9e)=>{p();m();var eSt=ZNe(),tSt=y7e(),rSt=nJ(),nSt=x7e(),iSt=_7e(),oSt=rCe(),sSt=nCe(),aSt=E7e(),cSt=T7e(),fSt=cCe(),uSt=R7e(),lSt=gk(),dSt=M7e(),hSt=q7e(),pSt=uCe(),mSt=JNe(),gSt=QNe(),ySt=G7e(),bSt=XNe(),xSt=Q7e(),vSt=pk(),_St=mk(),wSt=1,ESt=2,SSt=4,e9e="[object Arguments]",ASt="[object Array]",TSt="[object Boolean]",ISt="[object Date]",RSt="[object Error]",t9e="[object Function]",OSt="[object GeneratorFunction]",MSt="[object Map]",NSt="[object Number]",r9e="[object Object]",CSt="[object RegExp]",kSt="[object Set]",BSt="[object String]",PSt="[object Symbol]",LSt="[object WeakMap]",DSt="[object ArrayBuffer]",USt="[object DataView]",FSt="[object Float32Array]",HSt="[object Float64Array]",qSt="[object Int8Array]",VSt="[object Int16Array]",jSt="[object Int32Array]",zSt="[object Uint8Array]",KSt="[object Uint8ClampedArray]",$St="[object Uint16Array]",GSt="[object Uint32Array]",fi={};fi[e9e]=fi[ASt]=fi[DSt]=fi[USt]=fi[TSt]=fi[ISt]=fi[FSt]=fi[HSt]=fi[qSt]=fi[VSt]=fi[jSt]=fi[MSt]=fi[NSt]=fi[r9e]=fi[CSt]=fi[kSt]=fi[BSt]=fi[PSt]=fi[zSt]=fi[KSt]=fi[$St]=fi[GSt]=!0;fi[RSt]=fi[t9e]=fi[LSt]=!1;function HN(t,e,r,n,i,s){var a,c=e&wSt,l=e&ESt,h=e&SSt;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!bSt(t))return t;var y=mSt(t);if(y){if(a=dSt(t),!c)return sSt(t,a)}else{var g=lSt(t),E=g==t9e||g==OSt;if(gSt(t))return oSt(t,c);if(g==r9e||g==e9e||E&&!i){if(a=l||E?{}:pSt(t),!c)return l?cSt(t,iSt(a,t)):aSt(t,nSt(a,t))}else{if(!fi[g])return i?t:{};a=hSt(t,g,c)}}s||(s=new eSt);var T=s.get(t);if(T)return T;s.set(t,a),xSt(t)?t.forEach(function(k){a.add(HN(k,e,r,k,t,s))}):ySt(t)&&t.forEach(function(k,C){a.set(C,HN(k,e,r,C,t,s))});var O=h?l?uSt:fSt:l?_St:vSt,M=y?void 0:O(t);return tSt(M||t,function(k,C){M&&(C=k,k=t[C]),rSt(a,C,HN(k,e,r,C,t,s))}),a}o(HN,"baseClone");n9e.exports=HN});var JSt=j((Fun,o9e)=>{p();m();var WSt=i9e(),YSt=1,XSt=4;function ZSt(t){return WSt(t,YSt|XSt)}o(ZSt,"cloneDeep");o9e.exports=ZSt});var NOe=j((Fhn,MOe)=>{"use strict";p();m();var zr,X6t=LA(),Z6t=DA(),J6t=UA(),Q6t=FA(),w_=Y_(),__=$0(),eAt=HA(),OOe=Function,bX=o(function(t){try{return OOe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),cb=Object.getOwnPropertyDescriptor;if(cb)try{cb({},"")}catch{cb=null}var xX=o(function(){throw new __},"throwTypeError"),tAt=cb?function(){try{return arguments.callee,xX}catch{try{return cb(arguments,"callee").get}catch{return xX}}}():xX,x_=jA()(),rAt=mB()(),fs=Object.getPrototypeOf||(rAt?function(t){return t.__proto__}:null),v_={},nAt=typeof Uint8Array>"u"||!fs?zr:fs(Uint8Array),fb={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?zr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zr:ArrayBuffer,"%ArrayIteratorPrototype%":x_&&fs?fs([][Symbol.iterator]()):zr,"%AsyncFromSyncIteratorPrototype%":zr,"%AsyncFunction%":v_,"%AsyncGenerator%":v_,"%AsyncGeneratorFunction%":v_,"%AsyncIteratorPrototype%":v_,"%Atomics%":typeof Atomics>"u"?zr:Atomics,"%BigInt%":typeof BigInt>"u"?zr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?zr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?zr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":X6t,"%eval%":eval,"%EvalError%":Z6t,"%Float32Array%":typeof Float32Array>"u"?zr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zr:FinalizationRegistry,"%Function%":OOe,"%GeneratorFunction%":v_,"%Int8Array%":typeof Int8Array>"u"?zr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x_&&fs?fs(fs([][Symbol.iterator]())):zr,"%JSON%":typeof JSON=="object"?JSON:zr,"%Map%":typeof Map>"u"?zr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!x_||!fs?zr:fs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zr:Promise,"%Proxy%":typeof Proxy>"u"?zr:Proxy,"%RangeError%":J6t,"%ReferenceError%":Q6t,"%Reflect%":typeof Reflect>"u"?zr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!x_||!fs?zr:fs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x_&&fs?fs(""[Symbol.iterator]()):zr,"%Symbol%":x_?Symbol:zr,"%SyntaxError%":w_,"%ThrowTypeError%":tAt,"%TypedArray%":nAt,"%TypeError%":__,"%Uint8Array%":typeof Uint8Array>"u"?zr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zr:Uint32Array,"%URIError%":eAt,"%WeakMap%":typeof WeakMap>"u"?zr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zr:WeakSet};if(fs)try{null.error}catch(t){TOe=fs(fs(t)),fb["%Error.prototype%"]=TOe}var TOe,iAt=o(function t(e){var r;if(e==="%AsyncFunction%")r=bX("async function () {}");else if(e==="%GeneratorFunction%")r=bX("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bX("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&fs&&(r=fs(i.prototype))}return fb[e]=r,r},"doEval"),IOe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C6=G0(),CC=GA(),oAt=C6.call(Function.call,Array.prototype.concat),sAt=C6.call(Function.apply,Array.prototype.splice),ROe=C6.call(Function.call,String.prototype.replace),kC=C6.call(Function.call,String.prototype.slice),aAt=C6.call(Function.call,RegExp.prototype.exec),cAt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fAt=/\\(\\)?/g,uAt=o(function(e){var r=kC(e,0,1),n=kC(e,-1);if(r==="%"&&n!=="%")throw new w_("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new w_("invalid intrinsic syntax, expected opening `%`");var i=[];return ROe(e,cAt,function(s,a,c,l){i[i.length]=c?ROe(l,fAt,"$1"):a||s}),i},"stringToPath"),lAt=o(function(e,r){var n=e,i;if(CC(IOe,n)&&(i=IOe[n],n="%"+i[0]+"%"),CC(fb,n)){var s=fb[n];if(s===v_&&(s=iAt(n)),typeof s>"u"&&!r)throw new __("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new w_("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");MOe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new __("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new __('"allowMissing" argument must be a boolean');if(aAt(/^%?[^%]*%?$/,e)===null)throw new w_("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=uAt(e),i=n.length>0?n[0]:"",s=lAt("%"+i+"%",r),a=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],sAt(n,oAt([0,1],h)));for(var y=1,g=!0;y<n.length;y+=1){var E=n[y],T=kC(E,0,1),O=kC(E,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new w_("property names with quotes must have matching quotes");if((E==="constructor"||!g)&&(l=!0),i+="."+E,a="%"+i+"%",CC(fb,a))c=fb[a];else if(c!=null){if(!(E in c)){if(!r)throw new __("base intrinsic for "+e+" exists, but the property is not available.");return}if(cb&&y+1>=n.length){var M=cb(c,E);g=!!M,g&&"get"in M&&!("originalValue"in M.get)?c=M.get:c=c[E]}else g=CC(c,E),c=c[E];g&&!l&&(fb[a]=c)}}return c},"GetIntrinsic")});var vX=j((jhn,BOe)=>{"use strict";p();m();var COe=NOe(),kOe=tw(),dAt=kOe(COe("String.prototype.indexOf"));BOe.exports=o(function(e,r){var n=COe(e,!!r);return typeof n=="function"&&dAt(e,".prototype.")>-1?kOe(n):n},"callBoundIntrinsic")});var DOe=j((Ghn,LOe)=>{"use strict";p();m();var hAt=rw()(),pAt=vX(),_X=pAt("Object.prototype.toString"),BC=o(function(e){return hAt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:_X(e)==="[object Arguments]"},"isArguments"),POe=o(function(e){return BC(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&_X(e)!=="[object Array]"&&_X(e.callee)==="[object Function]"},"isArguments"),mAt=function(){return BC(arguments)}();BC.isLegacyArguments=POe;LOe.exports=mAt?BC:POe});var HOe=j((Zhn,FOe)=>{"use strict";p();m();var gAt=Object.prototype.toString,yAt=Function.prototype.toString,bAt=/^\s*(?:function)?\*/,UOe=rw()(),wX=Object.getPrototypeOf,xAt=o(function(){if(!UOe)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),EX;FOe.exports=o(function(e){if(typeof e!="function")return!1;if(bAt.test(yAt.call(e)))return!0;if(!UOe){var r=gAt.call(e);return r==="[object GeneratorFunction]"}if(!wX)return!1;if(typeof EX>"u"){var n=xAt();EX=n?wX(n):!1}return wX(e)===EX},"isGeneratorFunction")});var VOe=j((t0n,qOe)=>{p();m();var vAt=Object.prototype.hasOwnProperty,_At=Object.prototype.toString;qOe.exports=o(function(e,r,n){if(_At.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)r.call(n,e[s],s,e);else for(var a in e)vAt.call(e,a)&&r.call(n,e[a],a,e)},"forEach")});var zOe=j((o0n,jOe)=>{"use strict";p();m();var SX=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],wAt=typeof globalThis>"u"?self:globalThis;jOe.exports=o(function(){for(var e=[],r=0;r<SX.length;r++)typeof wAt[SX[r]]=="function"&&(e[e.length]=SX[r]);return e},"availableTypedArrays")});var $Oe=j((f0n,KOe)=>{"use strict";p();m();KOe.exports=Ug()});var JOe=j((d0n,ZOe)=>{"use strict";p();m();var GOe=VOe(),EAt=zOe(),TX=vX(),SAt=TX("Object.prototype.toString"),WOe=rw()(),AAt=typeof globalThis>"u"?self:globalThis,YOe=EAt(),TAt=TX("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),IAt=TX("String.prototype.slice"),XOe={},PC=$Oe(),AX=Object.getPrototypeOf;WOe&&PC&&AX&&GOe(YOe,function(t){var e=new AAt[t];if(Symbol.toStringTag in e){var r=AX(e),n=PC(r,Symbol.toStringTag);if(!n){var i=AX(r);n=PC(i,Symbol.toStringTag)}XOe[t]=n.get}});var RAt=o(function(e){var r=!1;return GOe(XOe,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},"tryAllTypedArrays");ZOe.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!WOe||!(Symbol.toStringTag in e)){var r=IAt(SAt(e),8,-1);return TAt(YOe,r)>-1}return PC?RAt(e):!1},"isTypedArray")});var dMe=j(Fr=>{"use strict";p();m();var OAt=DOe(),MAt=HOe(),kl=EB(),QOe=JOe();function E_(t){return t.call.bind(t)}o(E_,"uncurryThis");var eMe=typeof BigInt<"u",tMe=typeof Symbol<"u",Iu=E_(Object.prototype.toString),NAt=E_(Number.prototype.valueOf),CAt=E_(String.prototype.valueOf),kAt=E_(Boolean.prototype.valueOf);eMe&&(rMe=E_(BigInt.prototype.valueOf));var rMe;tMe&&(nMe=E_(Symbol.prototype.valueOf));var nMe;function B6(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}o(B6,"checkBoxedPrimitive");Fr.isArgumentsObject=OAt;Fr.isGeneratorFunction=MAt;Fr.isTypedArray=QOe;function BAt(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(BAt,"isPromise");Fr.isPromise=BAt;function PAt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):QOe(t)||oMe(t)}o(PAt,"isArrayBufferView");Fr.isArrayBufferView=PAt;function LAt(t){return kl(t)==="Uint8Array"}o(LAt,"isUint8Array");Fr.isUint8Array=LAt;function DAt(t){return kl(t)==="Uint8ClampedArray"}o(DAt,"isUint8ClampedArray");Fr.isUint8ClampedArray=DAt;function UAt(t){return kl(t)==="Uint16Array"}o(UAt,"isUint16Array");Fr.isUint16Array=UAt;function FAt(t){return kl(t)==="Uint32Array"}o(FAt,"isUint32Array");Fr.isUint32Array=FAt;function HAt(t){return kl(t)==="Int8Array"}o(HAt,"isInt8Array");Fr.isInt8Array=HAt;function qAt(t){return kl(t)==="Int16Array"}o(qAt,"isInt16Array");Fr.isInt16Array=qAt;function VAt(t){return kl(t)==="Int32Array"}o(VAt,"isInt32Array");Fr.isInt32Array=VAt;function jAt(t){return kl(t)==="Float32Array"}o(jAt,"isFloat32Array");Fr.isFloat32Array=jAt;function zAt(t){return kl(t)==="Float64Array"}o(zAt,"isFloat64Array");Fr.isFloat64Array=zAt;function KAt(t){return kl(t)==="BigInt64Array"}o(KAt,"isBigInt64Array");Fr.isBigInt64Array=KAt;function $At(t){return kl(t)==="BigUint64Array"}o($At,"isBigUint64Array");Fr.isBigUint64Array=$At;function LC(t){return Iu(t)==="[object Map]"}o(LC,"isMapToString");LC.working=typeof Map<"u"&&LC(new Map);function GAt(t){return typeof Map>"u"?!1:LC.working?LC(t):t instanceof Map}o(GAt,"isMap");Fr.isMap=GAt;function DC(t){return Iu(t)==="[object Set]"}o(DC,"isSetToString");DC.working=typeof Set<"u"&&DC(new Set);function WAt(t){return typeof Set>"u"?!1:DC.working?DC(t):t instanceof Set}o(WAt,"isSet");Fr.isSet=WAt;function UC(t){return Iu(t)==="[object WeakMap]"}o(UC,"isWeakMapToString");UC.working=typeof WeakMap<"u"&&UC(new WeakMap);function YAt(t){return typeof WeakMap>"u"?!1:UC.working?UC(t):t instanceof WeakMap}o(YAt,"isWeakMap");Fr.isWeakMap=YAt;function RX(t){return Iu(t)==="[object WeakSet]"}o(RX,"isWeakSetToString");RX.working=typeof WeakSet<"u"&&RX(new WeakSet);function XAt(t){return RX(t)}o(XAt,"isWeakSet");Fr.isWeakSet=XAt;function FC(t){return Iu(t)==="[object ArrayBuffer]"}o(FC,"isArrayBufferToString");FC.working=typeof ArrayBuffer<"u"&&FC(new ArrayBuffer);function iMe(t){return typeof ArrayBuffer>"u"?!1:FC.working?FC(t):t instanceof ArrayBuffer}o(iMe,"isArrayBuffer");Fr.isArrayBuffer=iMe;function HC(t){return Iu(t)==="[object DataView]"}o(HC,"isDataViewToString");HC.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&HC(new DataView(new ArrayBuffer(1),0,1));function oMe(t){return typeof DataView>"u"?!1:HC.working?HC(t):t instanceof DataView}o(oMe,"isDataView");Fr.isDataView=oMe;var IX=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function k6(t){return Iu(t)==="[object SharedArrayBuffer]"}o(k6,"isSharedArrayBufferToString");function sMe(t){return typeof IX>"u"?!1:(typeof k6.working>"u"&&(k6.working=k6(new IX)),k6.working?k6(t):t instanceof IX)}o(sMe,"isSharedArrayBuffer");Fr.isSharedArrayBuffer=sMe;function ZAt(t){return Iu(t)==="[object AsyncFunction]"}o(ZAt,"isAsyncFunction");Fr.isAsyncFunction=ZAt;function JAt(t){return Iu(t)==="[object Map Iterator]"}o(JAt,"isMapIterator");Fr.isMapIterator=JAt;function QAt(t){return Iu(t)==="[object Set Iterator]"}o(QAt,"isSetIterator");Fr.isSetIterator=QAt;function e4t(t){return Iu(t)==="[object Generator]"}o(e4t,"isGeneratorObject");Fr.isGeneratorObject=e4t;function t4t(t){return Iu(t)==="[object WebAssembly.Module]"}o(t4t,"isWebAssemblyCompiledModule");Fr.isWebAssemblyCompiledModule=t4t;function aMe(t){return B6(t,NAt)}o(aMe,"isNumberObject");Fr.isNumberObject=aMe;function cMe(t){return B6(t,CAt)}o(cMe,"isStringObject");Fr.isStringObject=cMe;function fMe(t){return B6(t,kAt)}o(fMe,"isBooleanObject");Fr.isBooleanObject=fMe;function uMe(t){return eMe&&B6(t,rMe)}o(uMe,"isBigIntObject");Fr.isBigIntObject=uMe;function lMe(t){return tMe&&B6(t,nMe)}o(lMe,"isSymbolObject");Fr.isSymbolObject=lMe;function r4t(t){return aMe(t)||cMe(t)||fMe(t)||uMe(t)||lMe(t)}o(r4t,"isBoxedPrimitive");Fr.isBoxedPrimitive=r4t;function n4t(t){return typeof Uint8Array<"u"&&(iMe(t)||sMe(t))}o(n4t,"isAnyArrayBuffer");Fr.isAnyArrayBuffer=n4t;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Fr,t,{enumerable:!1,value:o(function(){throw new Error(t+" is not supported in userland")},"value")})})});var pMe=j((v0n,hMe)=>{p();m();hMe.exports=o(function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},"isBuffer")});var A_=j(Hr=>{p();m();var mMe=Object.getOwnPropertyDescriptors||o(function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},"getOwnPropertyDescriptors"),i4t=/%[sdj%]/g;Hr.format=function(t){if(!GC(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Eg(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(i4t,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return c}}),a=n[r];r<i;a=n[++r])$C(a)||!S_(a)?s+=" "+a:s+=" "+Eg(a);return s};Hr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Hr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n};var qC={},gMe=/^$/;R.NODE_DEBUG&&(VC=R.NODE_DEBUG,VC=VC.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),gMe=new RegExp("^"+VC+"$","i"));var VC;Hr.debuglog=function(t){if(t=t.toUpperCase(),!qC[t])if(gMe.test(t)){var e=process.pid;qC[t]=function(){var r=Hr.format.apply(Hr,arguments);console.error("%s %d: %s",t,e,r)}}else qC[t]=function(){};return qC[t]};function Eg(t,e){var r={seen:[],stylize:s4t};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),CX(e)?r.showHidden=e:e&&Hr._extend(r,e),lb(r.showHidden)&&(r.showHidden=!1),lb(r.depth)&&(r.depth=2),lb(r.colors)&&(r.colors=!1),lb(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o4t),zC(r,t,r.depth)}o(Eg,"inspect");Hr.inspect=Eg;Eg.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Eg.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o4t(t,e){var r=Eg.styles[e];return r?"\x1B["+Eg.colors[r][0]+"m"+t+"\x1B["+Eg.colors[r][1]+"m":t}o(o4t,"stylizeWithColor");function s4t(t,e){return t}o(s4t,"stylizeNoColor");function a4t(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}o(a4t,"arrayToHash");function zC(t,e,r){if(t.customInspect&&e&&jC(e.inspect)&&e.inspect!==Hr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return GC(n)||(n=zC(t,n,r)),n}var i=c4t(t,e);if(i)return i;var s=Object.keys(e),a=a4t(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),L6(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return OX(e);if(s.length===0){if(jC(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(P6(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(KC(e))return t.stylize(Date.prototype.toString.call(e),"date");if(L6(e))return OX(e)}var l="",h=!1,y=["{","}"];if(yMe(e)&&(h=!0,y=["[","]"]),jC(e)){var g=e.name?": "+e.name:"";l=" [Function"+g+"]"}if(P6(e)&&(l=" "+RegExp.prototype.toString.call(e)),KC(e)&&(l=" "+Date.prototype.toUTCString.call(e)),L6(e)&&(l=" "+OX(e)),s.length===0&&(!h||e.length==0))return y[0]+l+y[1];if(r<0)return P6(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return h?E=f4t(t,e,r,a,s):E=s.map(function(T){return NX(t,e,r,a,T,h)}),t.seen.pop(),u4t(E,l,y)}o(zC,"formatValue");function c4t(t,e){if(lb(e))return t.stylize("undefined","undefined");if(GC(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(bMe(e))return t.stylize(""+e,"number");if(CX(e))return t.stylize(""+e,"boolean");if($C(e))return t.stylize("null","null")}o(c4t,"formatPrimitive");function OX(t){return"["+Error.prototype.toString.call(t)+"]"}o(OX,"formatError");function f4t(t,e,r,n,i){for(var s=[],a=0,c=e.length;a<c;++a)xMe(e,String(a))?s.push(NX(t,e,r,n,String(a),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(NX(t,e,r,n,l,!0))}),s}o(f4t,"formatArray");function NX(t,e,r,n,i,s){var a,c,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):l.set&&(c=t.stylize("[Setter]","special")),xMe(n,i)||(a="["+i+"]"),c||(t.seen.indexOf(l.value)<0?($C(r)?c=zC(t,l.value,null):c=zC(t,l.value,r-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(h){return"   "+h}).join(`
`))):c=t.stylize("[Circular]","special")),lb(a)){if(s&&i.match(/^\d+$/))return c;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}o(NX,"formatProperty");function u4t(t,e,r){var n=0,i=t.reduce(function(s,a){return n++,a.indexOf(`
`)>=0&&n++,s+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}o(u4t,"reduceToSingleString");Hr.types=dMe();function yMe(t){return Array.isArray(t)}o(yMe,"isArray");Hr.isArray=yMe;function CX(t){return typeof t=="boolean"}o(CX,"isBoolean");Hr.isBoolean=CX;function $C(t){return t===null}o($C,"isNull");Hr.isNull=$C;function l4t(t){return t==null}o(l4t,"isNullOrUndefined");Hr.isNullOrUndefined=l4t;function bMe(t){return typeof t=="number"}o(bMe,"isNumber");Hr.isNumber=bMe;function GC(t){return typeof t=="string"}o(GC,"isString");Hr.isString=GC;function d4t(t){return typeof t=="symbol"}o(d4t,"isSymbol");Hr.isSymbol=d4t;function lb(t){return t===void 0}o(lb,"isUndefined");Hr.isUndefined=lb;function P6(t){return S_(t)&&kX(t)==="[object RegExp]"}o(P6,"isRegExp");Hr.isRegExp=P6;Hr.types.isRegExp=P6;function S_(t){return typeof t=="object"&&t!==null}o(S_,"isObject");Hr.isObject=S_;function KC(t){return S_(t)&&kX(t)==="[object Date]"}o(KC,"isDate");Hr.isDate=KC;Hr.types.isDate=KC;function L6(t){return S_(t)&&(kX(t)==="[object Error]"||t instanceof Error)}o(L6,"isError");Hr.isError=L6;Hr.types.isNativeError=L6;function jC(t){return typeof t=="function"}o(jC,"isFunction");Hr.isFunction=jC;function h4t(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}o(h4t,"isPrimitive");Hr.isPrimitive=h4t;Hr.isBuffer=pMe();function kX(t){return Object.prototype.toString.call(t)}o(kX,"objectToString");function MX(t){return t<10?"0"+t.toString(10):t.toString(10)}o(MX,"pad");var p4t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function m4t(){var t=new Date,e=[MX(t.getHours()),MX(t.getMinutes()),MX(t.getSeconds())].join(":");return[t.getDate(),p4t[t.getMonth()],e].join(" ")}o(m4t,"timestamp");Hr.log=function(){console.log("%s - %s",m4t(),Hr.format.apply(Hr,arguments))};Hr.inherits=Zt();Hr._extend=function(t,e){if(!e||!S_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function xMe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(xMe,"hasOwnProperty");var ub=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Hr.promisify=o(function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(ub&&e[ub]){var r=e[ub];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,ub,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(l,h){n=l,i=h}),a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);a.push(function(l,h){l?i(l):n(h)});try{e.apply(this,a)}catch(l){i(l)}return s}return o(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),ub&&Object.defineProperty(r,ub,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,mMe(e))},"promisify");Hr.promisify.custom=ub;function g4t(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}o(g4t,"callbackifyOnRejected");function y4t(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,a=o(function(){return i.apply(s,arguments)},"cb");t.apply(this,r).then(function(c){process.nextTick(a.bind(null,null,c))},function(c){process.nextTick(g4t.bind(null,c,a))})}return o(e,"callbackified"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,mMe(t)),e}o(y4t,"callbackify");Hr.callbackify=y4t});var DX=j((R0n,wMe)=>{"use strict";p();m();function T_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T_=o(function(r){return typeof r},"_typeof"):T_=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),T_(t)}o(T_,"_typeof");function b4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(b4t,"_classCallCheck");function x4t(t,e){return e&&(T_(e)==="object"||typeof e=="function")?e:v4t(t)}o(x4t,"_possibleConstructorReturn");function v4t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(v4t,"_assertThisInitialized");function PX(t){return PX=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),PX(t)}o(PX,"_getPrototypeOf");function _4t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LX(t,e)}o(_4t,"_inherits");function LX(t,e){return LX=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),LX(t,e)}o(LX,"_setPrototypeOf");var _Me={},I_,BX;function D6(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){_4t(a,s);function a(c,l,h){var y;return b4t(this,a),y=x4t(this,PX(a).call(this,n(c,l,h))),y.code=t,y}return o(a,"NodeError"),a}(r);_Me[t]=i}o(D6,"createErrorType");function vMe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(vMe,"oneOf");function w4t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(w4t,"startsWith");function E4t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(E4t,"endsWith");function S4t(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(S4t,"includes");D6("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);D6("ERR_INVALID_ARG_TYPE",function(t,e,r){I_===void 0&&(I_=UX()),I_(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&w4t(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(E4t(t," argument"))i="The ".concat(t," ").concat(n," ").concat(vMe(e,"type"));else{var s=S4t(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(vMe(e,"type"))}return i+=". Received type ".concat(T_(r)),i},TypeError);D6("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";BX===void 0&&(BX=A_());var n=BX.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);D6("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(T_(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);D6("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];I_===void 0&&(I_=UX()),I_(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);wMe.exports.codes=_Me});var IMe=j((C0n,TMe)=>{"use strict";p();m();function A4t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){T4t(t,i,r[i])})}return t}o(A4t,"_objectSpread");function T4t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(T4t,"_defineProperty");function I4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(I4t,"_classCallCheck");function EMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(EMe,"_defineProperties");function R4t(t,e,r){return e&&EMe(t.prototype,e),r&&EMe(t,r),t}o(R4t,"_createClass");function R_(t,e){return e&&(Ru(e)==="object"||typeof e=="function")?e:FX(t)}o(R_,"_possibleConstructorReturn");function FX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(FX,"_assertThisInitialized");function O4t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q6(t,e)}o(O4t,"_inherits");function HX(t){var e=typeof Map=="function"?new Map:void 0;return HX=o(function(n){if(n===null||!N4t(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return WC(n,arguments,Sg(this).constructor)}return o(i,"Wrapper"),i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),q6(i,n)},"_wrapNativeSuper"),HX(t)}o(HX,"_wrapNativeSuper");function M4t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}o(M4t,"isNativeReflectConstruct");function WC(t,e,r){return M4t()?WC=Reflect.construct:WC=o(function(i,s,a){var c=[null];c.push.apply(c,s);var l=Function.bind.apply(i,c),h=new l;return a&&q6(h,a.prototype),h},"_construct"),WC.apply(null,arguments)}o(WC,"_construct");function N4t(t){return Function.toString.call(t).indexOf("[native code]")!==-1}o(N4t,"_isNativeFunction");function q6(t,e){return q6=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),q6(t,e)}o(q6,"_setPrototypeOf");function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Sg(t)}o(Sg,"_getPrototypeOf");function Ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=o(function(r){return typeof r},"_typeof"):Ru=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Ru(t)}o(Ru,"_typeof");var C4t=A_(),qX=C4t.inspect,k4t=DX(),B4t=k4t.codes.ERR_INVALID_ARG_TYPE;function SMe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(SMe,"endsWith");function P4t(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}o(P4t,"repeat");var Bl="",U6="",F6="",Us="",db={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L4t=10;function AMe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}o(AMe,"copyError");function H6(t){return qX(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}o(H6,"inspectValue");function D4t(t,e,r){var n="",i="",s=0,a="",c=!1,l=H6(t),h=l.split(`
`),y=H6(e).split(`
`),g=0,E="";if(r==="strictEqual"&&Ru(t)==="object"&&Ru(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),h.length===1&&y.length===1&&h[0]!==y[0]){var T=h[0].length+y[0].length;if(T<=L4t){if((Ru(t)!=="object"||t===null)&&(Ru(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(db[r],`

`)+"".concat(h[0]," !== ").concat(y[0],`
`)}else if(r!=="strictEqualObject"){var O=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(T<O){for(;h[0][g]===y[0][g];)g++;g>2&&(E=`
  `.concat(P4t(" ",g),"^"),g=0)}}}for(var M=h[h.length-1],k=y[y.length-1];M===k&&(g++<2?a=`
  `.concat(M).concat(a):n=M,h.pop(),y.pop(),!(h.length===0||y.length===0));)M=h[h.length-1],k=y[y.length-1];var C=Math.max(h.length,y.length);if(C===0){var B=l.split(`
`);if(B.length>30)for(B[26]="".concat(Bl,"...").concat(Us);B.length>27;)B.pop();return"".concat(db.notIdentical,`

`).concat(B.join(`
`),`
`)}g>3&&(a=`
`.concat(Bl,"...").concat(Us).concat(a),c=!0),n!==""&&(a=`
  `.concat(n).concat(a),n="");var N=0,P=db[r]+`
`.concat(U6,"+ actual").concat(Us," ").concat(F6,"- expected").concat(Us),H=" ".concat(Bl,"...").concat(Us," Lines skipped");for(g=0;g<C;g++){var F=g-s;if(h.length<g+1)F>1&&g>2&&(F>4?(i+=`
`.concat(Bl,"...").concat(Us),c=!0):F>3&&(i+=`
  `.concat(y[g-2]),N++),i+=`
  `.concat(y[g-1]),N++),s=g,n+=`
`.concat(F6,"-").concat(Us," ").concat(y[g]),N++;else if(y.length<g+1)F>1&&g>2&&(F>4?(i+=`
`.concat(Bl,"...").concat(Us),c=!0):F>3&&(i+=`
  `.concat(h[g-2]),N++),i+=`
  `.concat(h[g-1]),N++),s=g,i+=`
`.concat(U6,"+").concat(Us," ").concat(h[g]),N++;else{var Z=y[g],W=h[g],X=W!==Z&&(!SMe(W,",")||W.slice(0,-1)!==Z);X&&SMe(Z,",")&&Z.slice(0,-1)===W&&(X=!1,W+=","),X?(F>1&&g>2&&(F>4?(i+=`
`.concat(Bl,"...").concat(Us),c=!0):F>3&&(i+=`
  `.concat(h[g-2]),N++),i+=`
  `.concat(h[g-1]),N++),s=g,i+=`
`.concat(U6,"+").concat(Us," ").concat(W),n+=`
`.concat(F6,"-").concat(Us," ").concat(Z),N+=2):(i+=n,n="",(F===1||g===0)&&(i+=`
  `.concat(W),N++))}if(N>20&&g<C-2)return"".concat(P).concat(H,`
`).concat(i,`
`).concat(Bl,"...").concat(Us).concat(n,`
`)+"".concat(Bl,"...").concat(Us)}return"".concat(P).concat(c?H:"",`
`).concat(i).concat(n).concat(a).concat(E)}o(D4t,"createErrDiff");var U4t=function(t){O4t(e,t);function e(r){var n;if(I4t(this,e),Ru(r)!=="object"||r===null)throw new B4t("options","Object",r);var i=r.message,s=r.operator,a=r.stackStartFn,c=r.actual,l=r.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=R_(this,Sg(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Bl="\x1B[34m",U6="\x1B[32m",Us="\x1B[39m",F6="\x1B[31m"):(Bl="",U6="",Us="",F6="")),Ru(c)==="object"&&c!==null&&Ru(l)==="object"&&l!==null&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=AMe(c),l=AMe(l)),s==="deepStrictEqual"||s==="strictEqual")n=R_(this,Sg(e).call(this,D4t(c,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var y=db[s],g=H6(c).split(`
`);if(s==="notStrictEqual"&&Ru(c)==="object"&&c!==null&&(y=db.notStrictEqualObject),g.length>30)for(g[26]="".concat(Bl,"...").concat(Us);g.length>27;)g.pop();g.length===1?n=R_(this,Sg(e).call(this,"".concat(y," ").concat(g[0]))):n=R_(this,Sg(e).call(this,"".concat(y,`

`).concat(g.join(`
`),`
`)))}else{var E=H6(c),T="",O=db[s];s==="notDeepEqual"||s==="notEqual"?(E="".concat(db[s],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(T="".concat(H6(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),T.length>512&&(T="".concat(T.slice(0,509),"...")),s==="deepEqual"||s==="equal"?E="".concat(O,`

`).concat(E,`

should equal

`):T=" ".concat(s," ").concat(T)),n=R_(this,Sg(e).call(this,"".concat(E).concat(T)))}return Error.stackTraceLimit=h,n.generatedMessage=!i,Object.defineProperty(FX(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=l,n.operator=s,Error.captureStackTrace&&Error.captureStackTrace(FX(n),a),n.stack,n.name="AssertionError",R_(n)}return o(e,"AssertionError"),R4t(e,[{key:"toString",value:o(function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)},"toString")},{key:qX.custom,value:o(function(n,i){return qX(this,A4t({},i,{customInspect:!1,depth:0}))},"value")}]),e}(HX(Error));TMe.exports=U4t});var MMe=j((L0n,OMe)=>{"use strict";p();m();function RMe(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s=Object.keys(Object(i)),a=0,c=s.length;a<c;a++){var l=s[a],h=Object.getOwnPropertyDescriptor(i,l);h!==void 0&&h.enumerable&&(r[l]=i[l])}}return r}o(RMe,"assign");function F4t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:RMe})}o(F4t,"polyfill");OMe.exports={assign:RMe,polyfill:F4t}});var VX=j((H0n,CMe)=>{"use strict";p();m();var NMe=Object.prototype.toString;CMe.exports=o(function(e){var r=NMe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&NMe.call(e.callee)==="[object Function]"),n},"isArguments")});var qMe=j((z0n,HMe)=>{"use strict";p();m();var FMe;Object.keys||(V6=Object.prototype.hasOwnProperty,jX=Object.prototype.toString,kMe=VX(),zX=Object.prototype.propertyIsEnumerable,BMe=!zX.call({toString:null},"toString"),PMe=zX.call(function(){},"prototype"),j6=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],YC=o(function(t){var e=t.constructor;return e&&e.prototype===t},"equalsConstructorPrototype"),LMe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},DMe=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!LMe["$"+t]&&V6.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{YC(self[t])}catch{return!0}}catch{return!0}return!1}(),UMe=o(function(t){if(typeof self>"u"||!DMe)return YC(t);try{return YC(t)}catch{return!1}},"equalsConstructorPrototypeIfNotBuggy"),FMe=o(function(e){var r=e!==null&&typeof e=="object",n=jX.call(e)==="[object Function]",i=kMe(e),s=r&&jX.call(e)==="[object String]",a=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var c=PMe&&n;if(s&&e.length>0&&!V6.call(e,0))for(var l=0;l<e.length;++l)a.push(String(l));if(i&&e.length>0)for(var h=0;h<e.length;++h)a.push(String(h));else for(var y in e)!(c&&y==="prototype")&&V6.call(e,y)&&a.push(String(y));if(BMe)for(var g=UMe(e),E=0;E<j6.length;++E)!(g&&j6[E]==="constructor")&&V6.call(e,j6[E])&&a.push(j6[E]);return a},"keys"));var V6,jX,kMe,zX,BMe,PMe,j6,YC,LMe,DMe,UMe;HMe.exports=FMe});var KMe=j((W0n,zMe)=>{"use strict";p();m();var H4t=Array.prototype.slice,q4t=VX(),VMe=Object.keys,XC=VMe?o(function(e){return VMe(e)},"keys"):qMe(),jMe=Object.keys;XC.shim=o(function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=o(function(n){return q4t(n)?jMe(H4t.call(n)):jMe(n)},"keys"))}else Object.keys=XC;return Object.keys||XC},"shimObjectKeys");zMe.exports=XC});var z6=j((J0n,YMe)=>{"use strict";p();m();var V4t=KMe(),j4t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",z4t=Object.prototype.toString,K4t=Array.prototype.concat,$Me=Object.defineProperty,$4t=o(function(t){return typeof t=="function"&&z4t.call(t)==="[object Function]"},"isFunction"),G4t=xB()(),GMe=$Me&&G4t,W4t=o(function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!$4t(n)||!n())return}GMe?$Me(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},"defineProperty"),WMe=o(function(t,e){var r=arguments.length>2?arguments[2]:{},n=V4t(e);j4t&&(n=K4t.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)W4t(t,n[i],e[n[i]],r[n[i]])},"defineProperties");WMe.supportsDescriptors=!!GMe;YMe.exports=WMe});var KX=j((rpn,ZMe)=>{"use strict";p();m();var XMe=o(function(t){return t!==t},"numberIsNaN");ZMe.exports=o(function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||XMe(e)&&XMe(r))},"is")});var $X=j((spn,JMe)=>{"use strict";p();m();var Y4t=KX();JMe.exports=o(function(){return typeof Object.is=="function"?Object.is:Y4t},"getPolyfill")});var eNe=j((upn,QMe)=>{"use strict";p();m();var X4t=$X(),Z4t=z6();QMe.exports=o(function(){var e=X4t();return Z4t(Object,{is:e},{is:o(function(){return Object.is!==e},"testObjectIs")}),e},"shimObjectIs")});var GX=j((ppn,nNe)=>{"use strict";p();m();var J4t=z6(),Q4t=tw(),e8t=KX(),tNe=$X(),t8t=eNe(),rNe=Q4t(tNe(),Object);J4t(rNe,{getPolyfill:tNe,implementation:e8t,shim:t8t});nNe.exports=rNe});var WX=j((ypn,iNe)=>{"use strict";p();m();iNe.exports=o(function(e){return e!==e},"isNaN")});var YX=j((_pn,oNe)=>{"use strict";p();m();var r8t=WX();oNe.exports=o(function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r8t},"getPolyfill")});var aNe=j((Apn,sNe)=>{"use strict";p();m();var n8t=z6(),i8t=YX();sNe.exports=o(function(){var e=i8t();return n8t(Number,{isNaN:e},{isNaN:o(function(){return Number.isNaN!==e},"testIsNaN")}),e},"shimNumberIsNaN")});var lNe=j((Opn,uNe)=>{"use strict";p();m();var o8t=tw(),s8t=z6(),a8t=WX(),cNe=YX(),c8t=aNe(),fNe=o8t(cNe(),Number);s8t(fNe,{getPolyfill:cNe,implementation:a8t,shim:c8t});uNe.exports=fNe});var MNe=j((Cpn,ONe)=>{"use strict";p();m();function dNe(t,e){return l8t(t)||u8t(t,e)||f8t()}o(dNe,"_slicedToArray");function f8t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}o(f8t,"_nonIterableRest");function u8t(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),c;!(n=(c=a.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}o(u8t,"_iterableToArrayLimit");function l8t(t){if(Array.isArray(t))return t}o(l8t,"_arrayWithHoles");function Af(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Af=o(function(r){return typeof r},"_typeof"):Af=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Af(t)}o(Af,"_typeof");var d8t=/a/g.flags!==void 0,nk=o(function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},"arrayFromSet"),hNe=o(function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},"arrayFromMap"),SNe=Object.is?Object.is:GX(),tk=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},XX=Number.isNaN?Number.isNaN:lNe();function JX(t){return t.call.bind(t)}o(JX,"uncurryThis");var $6=JX(Object.prototype.hasOwnProperty),rk=JX(Object.prototype.propertyIsEnumerable),pNe=JX(Object.prototype.toString),rc=A_().types,h8t=rc.isAnyArrayBuffer,p8t=rc.isArrayBufferView,mNe=rc.isDate,ZC=rc.isMap,gNe=rc.isRegExp,JC=rc.isSet,m8t=rc.isNativeError,g8t=rc.isBoxedPrimitive,yNe=rc.isNumberObject,bNe=rc.isStringObject,xNe=rc.isBooleanObject,vNe=rc.isBigIntObject,y8t=rc.isSymbolObject,b8t=rc.isFloat32Array,x8t=rc.isFloat64Array;function v8t(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}o(v8t,"isNonIndex");function QC(t){return Object.keys(t).filter(v8t).concat(tk(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}o(QC,"getOwnNonIndexProperties");function ANe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}o(ANe,"compare");var ek=void 0,_8t=!0,w8t=!1,ZX=0,QX=1,TNe=2,INe=3;function E8t(t,e){return d8t?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}o(E8t,"areSimilarRegExps");function S8t(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}o(S8t,"areSimilarFloatArrays");function A8t(t,e){return t.byteLength!==e.byteLength?!1:ANe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}o(A8t,"areSimilarTypedArrays");function T8t(t,e){return t.byteLength===e.byteLength&&ANe(new Uint8Array(t),new Uint8Array(e))===0}o(T8t,"areEqualArrayBuffers");function I8t(t,e){return yNe(t)?yNe(e)&&SNe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):bNe(t)?bNe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):xNe(t)?xNe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):vNe(t)?vNe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):y8t(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}o(I8t,"isEqualBoxedPrimitive");function Ou(t,e,r,n){if(t===e)return t!==0?!0:r?SNe(t,e):!0;if(r){if(Af(t)!=="object")return typeof t=="number"&&XX(t)&&XX(e);if(Af(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Af(t)!=="object")return e===null||Af(e)!=="object"?t==e:!1;if(e===null||Af(e)!=="object")return!1}var i=pNe(t),s=pNe(e);if(i!==s)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=QC(t,ek),c=QC(e,ek);return a.length!==c.length?!1:K6(t,e,r,n,QX,a)}if(i==="[object Object]"&&(!ZC(t)&&ZC(e)||!JC(t)&&JC(e)))return!1;if(mNe(t)){if(!mNe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(gNe(t)){if(!gNe(e)||!E8t(t,e))return!1}else if(m8t(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(p8t(t)){if(!r&&(b8t(t)||x8t(t))){if(!S8t(t,e))return!1}else if(!A8t(t,e))return!1;var l=QC(t,ek),h=QC(e,ek);return l.length!==h.length?!1:K6(t,e,r,n,ZX,l)}else{if(JC(t))return!JC(e)||t.size!==e.size?!1:K6(t,e,r,n,TNe);if(ZC(t))return!ZC(e)||t.size!==e.size?!1:K6(t,e,r,n,INe);if(h8t(t)){if(!T8t(t,e))return!1}else if(g8t(t)&&!I8t(t,e))return!1}return K6(t,e,r,n,ZX)}o(Ou,"innerDeepEqual");function _Ne(t,e){return e.filter(function(r){return rk(t,r)})}o(_Ne,"getEnumerables");function K6(t,e,r,n,i,s){if(arguments.length===5){s=Object.keys(t);var a=Object.keys(e);if(s.length!==a.length)return!1}for(var c=0;c<s.length;c++)if(!$6(e,s[c]))return!1;if(r&&arguments.length===5){var l=tk(t);if(l.length!==0){var h=0;for(c=0;c<l.length;c++){var y=l[c];if(rk(t,y)){if(!rk(e,y))return!1;s.push(y),h++}else if(rk(e,y))return!1}var g=tk(e);if(l.length!==g.length&&_Ne(e,g).length!==h)return!1}else{var E=tk(e);if(E.length!==0&&_Ne(e,E).length!==0)return!1}}if(s.length===0&&(i===ZX||i===QX&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var T=n.val1.get(t);if(T!==void 0){var O=n.val2.get(e);if(O!==void 0)return T===O}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var M=C8t(t,e,r,s,n,i);return n.val1.delete(t),n.val2.delete(e),M}o(K6,"keyCheck");function wNe(t,e,r,n){for(var i=nk(t),s=0;s<i.length;s++){var a=i[s];if(Ou(e,a,r,n))return t.delete(a),!0}return!1}o(wNe,"setHasEqualElement");function RNe(t){switch(Af(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(XX(t))return!1}return!0}o(RNe,"findLooseMatchingPrimitives");function R8t(t,e,r){var n=RNe(r);return n??(e.has(n)&&!t.has(n))}o(R8t,"setMightHaveLoosePrim");function O8t(t,e,r,n,i){var s=RNe(r);if(s!=null)return s;var a=e.get(s);return a===void 0&&!e.has(s)||!Ou(n,a,!1,i)?!1:!t.has(s)&&Ou(n,a,!1,i)}o(O8t,"mapMightHaveLoosePrim");function M8t(t,e,r,n){for(var i=null,s=nk(t),a=0;a<s.length;a++){var c=s[a];if(Af(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else if(!e.has(c)){if(r||!R8t(t,e,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var l=nk(e),h=0;h<l.length;h++){var y=l[h];if(Af(y)==="object"&&y!==null){if(!wNe(i,y,r,n))return!1}else if(!r&&!t.has(y)&&!wNe(i,y,r,n))return!1}return i.size===0}return!0}o(M8t,"setEquiv");function ENe(t,e,r,n,i,s){for(var a=nk(t),c=0;c<a.length;c++){var l=a[c];if(Ou(r,l,i,s)&&Ou(n,e.get(l),i,s))return t.delete(l),!0}return!1}o(ENe,"mapHasEqualEntry");function N8t(t,e,r,n){for(var i=null,s=hNe(t),a=0;a<s.length;a++){var c=dNe(s[a],2),l=c[0],h=c[1];if(Af(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var y=e.get(l);if(y===void 0&&!e.has(l)||!Ou(h,y,r,n)){if(r||!O8t(t,e,l,h,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var g=hNe(e),E=0;E<g.length;E++){var T=dNe(g[E],2),l=T[0],O=T[1];if(Af(l)==="object"&&l!==null){if(!ENe(i,t,l,O,r,n))return!1}else if(!r&&(!t.has(l)||!Ou(t.get(l),O,!1,n))&&!ENe(i,t,l,O,!1,n))return!1}return i.size===0}return!0}o(N8t,"mapEquiv");function C8t(t,e,r,n,i,s){var a=0;if(s===TNe){if(!M8t(t,e,r,i))return!1}else if(s===INe){if(!N8t(t,e,r,i))return!1}else if(s===QX)for(;a<t.length;a++)if($6(t,a)){if(!$6(e,a)||!Ou(t[a],e[a],r,i))return!1}else{if($6(e,a))return!1;for(var c=Object.keys(t);a<c.length;a++){var l=c[a];if(!$6(e,l)||!Ou(t[l],e[l],r,i))return!1}return c.length===Object.keys(e).length}for(a=0;a<n.length;a++){var h=n[a];if(!Ou(t[h],e[h],r,i))return!1}return!0}o(C8t,"objEquiv");function k8t(t,e){return Ou(t,e,w8t)}o(k8t,"isDeepEqual");function B8t(t,e){return Ou(t,e,_8t)}o(B8t,"isDeepStrictEqual");ONe.exports={isDeepEqual:k8t,isDeepStrictEqual:B8t}});var UX=j((Lpn,$Ne)=>{"use strict";p();m();function Ag(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ag=o(function(r){return typeof r},"_typeof"):Ag=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Ag(t)}o(Ag,"_typeof");function P8t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(P8t,"_classCallCheck");var L8t=DX(),W6=L8t.codes,NNe=W6.ERR_AMBIGUOUS_ARGUMENT,G6=W6.ERR_INVALID_ARG_TYPE,D8t=W6.ERR_INVALID_ARG_VALUE,U8t=W6.ERR_INVALID_RETURN_VALUE,Ig=W6.ERR_MISSING_ARGS,hb=IMe(),F8t=A_(),H8t=F8t.inspect,PNe=A_().types,q8t=PNe.isPromise,eZ=PNe.isRegExp,V8t=Object.assign?Object.assign:MMe().assign,LNe=Object.is?Object.is:GX(),Tg,ik;function Y6(){var t=MNe();Tg=t.isDeepEqual,ik=t.isDeepStrictEqual}o(Y6,"lazyLoadComparison");var CNe=!1,Ci=$Ne.exports=tZ,ok={};function Pl(t){throw t.message instanceof Error?t.message:new hb(t)}o(Pl,"innerFail");function DNe(t,e,r,n,i){var s=arguments.length,a;if(s===0)a="Failed";else if(s===1)r=t,t=void 0;else{if(CNe===!1){CNe=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||DNe};r!==void 0&&(l.message=r);var h=new hb(l);throw a&&(h.message=a,h.generatedMessage=!0),h}o(DNe,"fail");Ci.fail=DNe;Ci.AssertionError=hb;function UNe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new hb({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=i,s}}o(UNe,"innerOk");function tZ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];UNe.apply(void 0,[tZ,e.length].concat(e))}o(tZ,"ok");Ci.ok=tZ;Ci.equal=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");e!=r&&Pl({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},"equal");Ci.notEqual=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");e==r&&Pl({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},"notEqual");Ci.deepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");Tg===void 0&&Y6(),Tg(e,r)||Pl({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},"deepEqual");Ci.notDeepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");Tg===void 0&&Y6(),Tg(e,r)&&Pl({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},"notDeepEqual");Ci.deepStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");Tg===void 0&&Y6(),ik(e,r)||Pl({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},"deepStrictEqual");Ci.notDeepStrictEqual=FNe;function FNe(t,e,r){if(arguments.length<2)throw new Ig("actual","expected");Tg===void 0&&Y6(),ik(t,e)&&Pl({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:FNe})}o(FNe,"notDeepStrictEqual");Ci.strictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");LNe(e,r)||Pl({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},"strictEqual");Ci.notStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Ig("actual","expected");LNe(e,r)&&Pl({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})},"notStrictEqual");var kNe=o(function t(e,r,n){var i=this;P8t(this,t),r.forEach(function(s){s in e&&(n!==void 0&&typeof n[s]=="string"&&eZ(e[s])&&e[s].test(n[s])?i[s]=n[s]:i[s]=e[s])})},"Comparison");function j8t(t,e,r,n,i,s){if(!(r in t)||!ik(t[r],e[r])){if(!n){var a=new kNe(t,i),c=new kNe(e,i,t),l=new hb({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=t,l.expected=e,l.operator=s.name,l}Pl({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}o(j8t,"compareExceptionKey");function HNe(t,e,r,n){if(typeof e!="function"){if(eZ(e))return e.test(t);if(arguments.length===2)throw new G6("expected",["Function","RegExp"],e);if(Ag(t)!=="object"||t===null){var i=new hb({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new D8t("error",e,"may not be an empty object");return Tg===void 0&&Y6(),s.forEach(function(a){typeof t[a]=="string"&&eZ(e[a])&&e[a].test(t[a])||j8t(t,e,a,r,s,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}o(HNe,"expectedException");function qNe(t){if(typeof t!="function")throw new G6("fn","Function",t);try{t()}catch(e){return e}return ok}o(qNe,"getActual");function BNe(t){return q8t(t)||t!==null&&Ag(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(BNe,"checkIsPromise");function VNe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!BNe(e))throw new U8t("instance of Promise","promiseFn",e)}else if(BNe(t))e=t;else throw new G6("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return ok}).catch(function(r){return r})})}o(VNe,"waitForActual");function jNe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new G6("error",["Object","Error","Function","RegExp"],r);if(Ag(e)==="object"&&e!==null){if(e.message===r)throw new NNe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new NNe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&Ag(r)!=="object"&&typeof r!="function")throw new G6("error",["Object","Error","Function","RegExp"],r);if(e===ok){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s=t.name==="rejects"?"rejection":"exception";Pl({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:t})}if(r&&!HNe(e,r,n,t))throw e}o(jNe,"expectsError");function zNe(t,e,r,n){if(e!==ok){if(typeof r=="string"&&(n=r,r=void 0),!r||HNe(e,r)){var i=n?": ".concat(n):".",s=t.name==="doesNotReject"?"rejection":"exception";Pl({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}o(zNe,"expectsNoError");Ci.throws=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];jNe.apply(void 0,[t,qNe(e)].concat(n))},"throws");Ci.rejects=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return VNe(e).then(function(s){return jNe.apply(void 0,[t,s].concat(n))})},"rejects");Ci.doesNotThrow=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];zNe.apply(void 0,[t,qNe(e)].concat(n))},"doesNotThrow");Ci.doesNotReject=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return VNe(e).then(function(s){return zNe.apply(void 0,[t,s].concat(n))})},"doesNotReject");Ci.ifError=o(function t(e){if(e!=null){var r="ifError got unwanted exception: ";Ag(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=H8t(e);var n=new hb({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var a=n.stack.split(`
`),c=0;c<s.length;c++){var l=a.indexOf(s[c]);if(l!==-1){a=a.slice(0,l);break}}n.stack="".concat(a.join(`
`),`
`).concat(s.join(`
`))}throw n}},"ifError");function KNe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];UNe.apply(void 0,[KNe,e.length].concat(e))}o(KNe,"strict");Ci.strict=V8t(KNe,Ci,{equal:Ci.strictEqual,deepEqual:Ci.deepStrictEqual,notEqual:Ci.notStrictEqual,notDeepEqual:Ci.notDeepStrictEqual});Ci.strict.strict=Ci.strict});p();m();var Ye;(function(t){t.BitcoinTaproot="bip122_p2tr",t.BitcoinNativeSegwit="bip122_p2wpkh",t.BitcoinNestedSegwit="bip122_p2sh",t.BitcoinLegacy="bip122_p2pkh",t.Solana="solana",t.EVM="eip155",t.Sui="sui"})(Ye||(Ye={}));var uA=[Ye.BitcoinTaproot,Ye.BitcoinNativeSegwit,Ye.BitcoinNestedSegwit,Ye.BitcoinLegacy],k_=be.enum(uA);p();m();var St;(function(t){t.Solana="solana",t.Monad="monad",t.Ethereum="ethereum",t.Base="base",t.Arbitrum="arbitrum",t.Polygon="polygon",t.Bitcoin="bitcoin",t.Sui="sui",t.Hypercore="hypercore",t.Hyperevm="hyperevm"})(St||(St={}));var Nn;(function(t){t.Ethereum="60",t.Monad="143",t.Polygon="966",t.Base="8453",t.Arbitrum="9001",t.Solana="501",t.Bitcoin="0",t.Sui="784",t.Hypercore="925",t.Hyperevm="60"})(Nn||(Nn={}));p();m();var io;(function(t){t.Mainnet="solana:101",t.Testnet="solana:102",t.Devnet="solana:103",t.Localnet="solana:localnet"})(io||(io={}));var D0=be.union([be.literal(io.Mainnet),be.literal(io.Testnet),be.literal(io.Devnet),be.literal(io.Localnet)]),nc;(function(t){t.Mainnet="eip155:1",t.Sepolia="eip155:11155111"})(nc||(nc={}));var lA=be.union([be.literal(nc.Mainnet),be.literal(nc.Sepolia)]),qc;(function(t){t.Mainnet="eip155:137",t.Amoy="eip155:80002"})(qc||(qc={}));var yk=be.union([be.literal(qc.Mainnet),be.literal(qc.Amoy)]),Vc;(function(t){t.Mainnet="eip155:8453",t.Sepolia="eip155:84532"})(Vc||(Vc={}));var bk=be.union([be.literal(Vc.Mainnet),be.literal(Vc.Sepolia)]),jc;(function(t){t.Mainnet="eip155:42161",t.Sepolia="eip155:421614"})(jc||(jc={}));var xk=be.union([be.literal(jc.Mainnet),be.literal(jc.Sepolia)]),zc;(function(t){t.Mainnet="eip155:143",t.Testnet="eip155:10143"})(zc||(zc={}));var vk=be.union([be.literal(zc.Mainnet),be.literal(zc.Testnet)]),zs;(function(t){t.Mainnet="bip122:000000000019d6689c085ae165831e93",t.Testnet="bip122:000000000933ea01ad0ee984209779ba"})(zs||(zs={}));var U0=be.union([be.literal(zs.Mainnet),be.literal(zs.Testnet)]),Kc;(function(t){t.Mainnet="sui:mainnet",t.Testnet="sui:testnet"})(Kc||(Kc={}));var Mg=be.union([be.literal(Kc.Mainnet),be.literal(Kc.Testnet)]),ic;(function(t){t.Mainnet="hypercore:mainnet",t.Testnet="hypercore:testnet"})(ic||(ic={}));var fh=be.union([be.literal(ic.Mainnet),be.literal(ic.Testnet)]),oc;(function(t){t.Mainnet="eip155:999",t.Testnet="eip155:998"})(oc||(oc={}));var Ng=be.union([be.literal(oc.Mainnet),be.literal(oc.Testnet)]),F0=be.union([lA,yk,bk,vk,xk,fh,Ng]),uh=be.union([U0,F0,D0,Mg,fh,Ng]),Cn={Bitcoin:zs,Ethereum:nc,Polygon:qc,Solana:io,Sui:Kc,Base:Vc,Monad:zc,Arbitrum:jc,Hypercore:ic,Hyperevm:oc};p();m();p();m();p();m();p();m();p();m();p();m();var Zze=We(Yb(),1);var Jo=BigInt(0),Zr=BigInt(1),up=BigInt(2),Jze=BigInt(8),rce=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),hi=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:rce,n:rce,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var ace=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Lw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),lUt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Qze=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),eKe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),tKe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),rKe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Ro=class t{static{o(this,"ExtendedPoint")}constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof oo))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(oo.ZERO)?t.ZERO:new t(e.x,e.y,Zr,et(e.x*e.y))}static toAffineBatch(e){let r=oKe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){ice(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,l=et(r*c),h=et(s*i),y=et(n*c),g=et(a*i);return l===h&&y===g}negate(){return new t(et(-this.x),this.y,this.z,et(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=hi,s=et(e*e),a=et(r*r),c=et(up*et(n*n)),l=et(i*s),h=e+r,y=et(et(h*h)-s-a),g=l+a,E=g-c,T=l-a,O=et(y*E),M=et(g*T),k=et(y*T),C=et(E*g);return new t(O,M,C,k)}add(e){ice(e);let{x:r,y:n,z:i,t:s}=this,{x:a,y:c,z:l,t:h}=e,y=et((n-r)*(c+a)),g=et((n+r)*(c-a)),E=et(g-y);if(E===Jo)return this.double();let T=et(i*up*h),O=et(s*up*l),M=O+T,k=g+y,C=O-T,B=et(M*E),N=et(k*C),P=et(M*C),H=et(E*k);return new t(B,N,H,P)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=oo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&FL.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),FL.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+256/n,l=2**(n-1),h=BigInt(2**n-1),y=2**n,g=BigInt(n);for(let E=0;E<c;E++){let T=E*l,O=Number(e&h);e>>=g,O>l&&(O-=y,e+=Zr);let M=T,k=T+Math.abs(O)-1,C=E%2!==0,B=O<0;O===0?a=a.add(nce(C,i[M])):s=s.add(nce(B,i[k]))}return t.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(T8(e,hi.l),r)}multiplyUnsafe(e){let r=T8(e,hi.l,!1),n=t.BASE,i=t.ZERO;if(r===Jo)return i;if(this.equals(i)||r===Zr)return this;if(this.equals(n))return this.wNAF(r);let s=i,a=this;for(;r>Jo;)r&Zr&&(s=s.add(a)),a=a.double(),r>>=Zr;return s}isSmallOrder(){return this.multiplyUnsafe(hi.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(hi.l/up).double();return hi.l%up&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Jze:R8(i));let a=et(r*e),c=et(n*e),l=et(i*e);if(s)return oo.ZERO;if(l!==Zr)throw new Error("invZ was invalid");return new oo(a,c)}fromRistrettoBytes(){DL()}toRistrettoBytes(){DL()}fromRistrettoHash(){DL()}};Ro.BASE=new Ro(hi.Gx,hi.Gy,Zr,et(hi.Gx*hi.Gy));Ro.ZERO=new Ro(Jo,Zr,Zr,Jo);function nce(t,e){let r=e.negate();return t?r:e}o(nce,"constTimeNegate");function ice(t){if(!(t instanceof Ro))throw new TypeError("ExtendedPoint expected")}o(ice,"assertExtPoint");function LL(t){if(!(t instanceof my))throw new TypeError("RistrettoPoint expected")}o(LL,"assertRstPoint");function DL(){throw new Error("Legacy method: switch to RistrettoPoint")}o(DL,"legacyRist");var my=class t{static{o(this,"RistrettoPoint")}constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=hi,n=et(Lw*e*e),i=et((n+Zr)*tKe),s=BigInt(-1),a=et((s-r*n)*et(n+r)),{isValid:c,value:l}=qL(i,a),h=et(l*e);fp(h)||(h=et(-h)),c||(l=h),c||(s=n);let y=et(s*(n-Zr)*rKe-a),g=l*l,E=et((l+l)*a),T=et(y*Qze),O=et(Zr-g),M=et(Zr+g);return new Ro(et(E*M),et(O*T),et(T*M),et(E*O))}static hashToCurve(e){e=lp(e,64);let r=UL(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=UL(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new t(n.add(s))}static fromHex(e){e=lp(e,32);let{a:r,d:n}=hi,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=UL(e);if(!aKe(Fw(s),e)||fp(s))throw new Error(i);let a=et(s*s),c=et(Zr+r*a),l=et(Zr-r*a),h=et(c*c),y=et(l*l),g=et(r*n*h-y),{isValid:E,value:T}=sce(et(g*y)),O=et(T*l),M=et(T*O*g),k=et((s+s)*O);fp(k)&&(k=et(-k));let C=et(c*M),B=et(k*C);if(!E||fp(B)||C===Jo)throw new Error(i);return new t(new Ro(k,C,Zr,B))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=et(et(n+r)*et(n-r)),a=et(e*r),c=et(a*a),{value:l}=sce(et(s*c)),h=et(l*s),y=et(l*a),g=et(h*y*i),E;if(fp(i*g)){let O=et(r*Lw),M=et(e*Lw);e=O,r=M,E=et(h*eKe)}else E=y;fp(e*g)&&(r=et(-r));let T=et((n-r)*E);return fp(T)&&(T=et(-T)),Fw(T)}toHex(){return Hw(this.toRawBytes())}toString(){return this.toHex()}equals(e){LL(e);let r=this.ep,n=e.ep,i=et(r.x*n.y)===et(r.y*n.x),s=et(r.y*n.y)===et(r.x*n.x);return i||s}add(e){return LL(e),new t(this.ep.add(e.ep))}subtract(e){return LL(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};my.BASE=new my(Ro.BASE);my.ZERO=new my(Ro.ZERO);var FL=new WeakMap,oo=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,FL.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=hi;e=lp(e,32);let s=e.slice();s[31]=e[31]&-129;let a=qw(s);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=ace)throw new Error("Expected 0 < hex < 2**256");let c=et(a*a),l=et(c-Zr),h=et(n*c+Zr),{isValid:y,value:g}=qL(l,h);if(!y)throw new Error("Point.fromHex: invalid y coordinate");let E=(g&Zr)===Zr;return(e[31]&128)!==0!==E&&(g=et(-g)),new t(g,a)}static async fromPrivateKey(e){return(await lce(e)).point}toRawBytes(){let e=Fw(this.y);return e[31]|=this.x&Zr?128:0,e}toHex(){return Hw(this.toRawBytes())}toX25519(){let{y:e}=this,r=et((Zr+e)*R8(Zr-e));return Fw(r)}isTorsionFree(){return Ro.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(et(-this.x),this.y)}add(e){return Ro.fromAffine(this).add(Ro.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ro.fromAffine(this).multiply(e,this).toAffine()}};oo.BASE=new oo(hi.Gx,hi.Gy);oo.ZERO=new oo(Jo,Zr);var Uw=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=lp(e,64),n=oo.fromHex(r.slice(0,32),!1),i=qw(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof oo))throw new Error("Expected Point instance");return T8(r,hi.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Fw(this.s),32),e}toHex(){return Hw(this.toRawBytes())}};function oce(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(oce,"concatBytes");var nKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hw(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=nKe[t[r]];return e}o(Hw,"bytesToHex");function HL(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(HL,"hexToBytes");function cce(t){let r=t.toString(16).padStart(64,"0");return HL(r)}o(cce,"numberTo32BytesBE");function Fw(t){return cce(t).reverse()}o(Fw,"numberTo32BytesLE");function fp(t){return(et(t)&Zr)===Zr}o(fp,"edIsNegative");function qw(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Hw(Uint8Array.from(t).reverse()))}o(qw,"bytesToNumberLE");var iKe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function UL(t){return et(qw(t)&iKe)}o(UL,"bytes255ToNumberLE");function et(t,e=hi.P){let r=t%e;return r>=Jo?r:e+r}o(et,"mod");function R8(t,e=hi.P){if(t===Jo||e<=Jo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=et(t,e),n=e,i=Jo,s=Zr,a=Zr,c=Jo;for(;r!==Jo;){let h=n/r,y=n%r,g=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=g,c=E}if(n!==Zr)throw new Error("invert: does not exist");return et(i,e)}o(R8,"invert");function oKe(t,e=hi.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===Jo?s:(r[c]=s,et(s*a,e)),Zr),i=R8(n,e);return t.reduceRight((s,a,c)=>a===Jo?s:(r[c]=et(s*r[c],e),et(s*a,e)),i),r}o(oKe,"invertBatch");function Yl(t,e){let{P:r}=hi,n=t;for(;e-- >Jo;)n*=n,n%=r;return n}o(Yl,"pow2");function sKe(t){let{P:e}=hi,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),l=t*t%e*t%e,h=Yl(l,up)*l%e,y=Yl(h,Zr)*t%e,g=Yl(y,r)*y%e,E=Yl(g,n)*g%e,T=Yl(E,i)*E%e,O=Yl(T,s)*T%e,M=Yl(O,a)*O%e,k=Yl(M,a)*O%e,C=Yl(k,n)*g%e;return{pow_p_5_8:Yl(C,up)*t%e,b2:l}}o(sKe,"pow_2_252_3");function qL(t,e){let r=et(e*e*e),n=et(r*r*e),i=sKe(t*n).pow_p_5_8,s=et(t*r*i),a=et(e*s*s),c=s,l=et(s*Lw),h=a===t,y=a===et(-t),g=a===et(-t*Lw);return h&&(s=c),(y||g)&&(s=l),fp(s)&&(s=et(-s)),{isValid:h||y,value:s}}o(qL,"uvRatio");function sce(t){return qL(Zr,t)}o(sce,"invertSqrt");function A8(t){return et(qw(t),hi.l)}o(A8,"modlLE");function aKe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(aKe,"equalBytes");function lp(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):HL(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}o(lp,"ensureBytes");function T8(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Jo<t)return t}else if(Jo<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}o(T8,"normalizeScalar");function cKe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(cKe,"adjustBytes25519");function fce(t){if(t=typeof t=="bigint"||typeof t=="number"?cce(T8(t,ace)):lp(t),t.length!==32)throw new Error("Expected 32 bytes");return t}o(fce,"checkPrivateKey");function uce(t){let e=cKe(t.slice(0,32)),r=t.slice(32,64),n=A8(e),i=oo.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}o(uce,"getKeyFromHash");var Dw;function I8(...t){if(typeof Dw!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Dw(...t)}o(I8,"sha512s");async function lce(t){return uce(await Ah.sha512(fce(t)))}o(lce,"getExtendedPublicKey");function VL(t){return uce(I8(fce(t)))}o(VL,"getExtendedPublicKeySync");function fKe(t){return VL(t).pointBytes}o(fKe,"getPublicKeySync");function uKe(t,e){t=lp(t);let{prefix:r,scalar:n,pointBytes:i}=VL(e),s=A8(I8(r,t)),a=oo.BASE.multiply(s),c=A8(I8(a.toRawBytes(),i,t)),l=et(s+c*n,hi.l);return new Uw(a,l).toRawBytes()}o(uKe,"signSync");function lKe(t,e,r){e=lp(e),r instanceof oo||(r=oo.fromHex(r,!1));let{r:n,s:i}=t instanceof Uw?t.assertValidity():Uw.fromHex(t),s=Ro.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}o(lKe,"prepareVerification");function dKe(t,e,r,n){let i=A8(n),s=Ro.fromAffine(t).multiplyUnsafe(i);return Ro.fromAffine(e).add(s).subtract(r).multiplyUnsafe(hi.h).equals(Ro.ZERO)}o(dKe,"finishVerification");function hKe(t,e,r){let{r:n,SB:i,msg:s,pub:a}=lKe(t,e,r),c=I8(n.toRawBytes(),a.toRawBytes(),s);return dKe(a,n,i,c)}o(hKe,"verifySync");var O8={getExtendedPublicKey:VL,getPublicKey:fKe,sign:uKe,verify:hKe};oo.BASE._setWindowSize(8);var cp={node:Zze,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Ah={bytesToHex:Hw,hexToBytes:HL,concatBytes:oce,getExtendedPublicKey:lce,mod:et,invert:R8,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:o(t=>{if(t=lp(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return et(qw(t),hi.l-Zr)+Zr},"hashToPrivateScalar"),randomBytes:o((t=32)=>{if(cp.web)return cp.web.getRandomValues(new Uint8Array(t));if(cp.node){let{randomBytes:e}=cp.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Ah.randomBytes(32),"randomPrivateKey"),sha512:o(async(...t)=>{let e=oce(...t);if(cp.web){let r=await cp.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(cp.node)return Uint8Array.from(cp.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},"sha512"),precompute(t=8,e=oo.BASE){let r=e.equals(oo.BASE)?e:new oo(e.x,e.y);return r._setWindowSize(t),r.multiply(up),r},sha512Sync:void 0};Object.defineProperties(Ah,{sha512Sync:{configurable:!1,get(){return Dw},set(t){Dw||(Dw=t)}}});p();m();p();m();p();m();function jL(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(jL,"number");function pKe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(pKe,"bool");function dce(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(dce,"bytes");function mKe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jL(t.outputLen),jL(t.blockLen)}o(mKe,"hash");function gKe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(gKe,"exists");function yKe(t,e){dce(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(yKe,"output");var bKe={number:jL,bool:pKe,bytes:dce,hash:mKe,exists:gKe,output:yKe},Un=bKe;p();m();p();m();var Vw={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var wx=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32"),Ex=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Ku=o((t,e)=>t<<32-e|t>>>e,"rotr"),xKe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xKe)throw new Error("Non little-endian hardware is not supported");var vKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _Ke(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=vKe[t[r]];return e}o(_Ke,"bytesToHex");function wKe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(wKe,"hexToBytes");var EKe=o(async()=>{},"nextTick");async function M8(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await EKe(),n+=s)}}o(M8,"asyncLoop");function SKe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}o(SKe,"utf8ToBytes");function $u(t){if(typeof t=="string"&&(t=SKe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}o($u,"toBytes");var dp=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},AKe=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function N8(t,e){if(e!==void 0&&(typeof e!="object"||!AKe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}o(N8,"checkOpts");function Xl(t){let e=o(n=>t().update($u(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Xl,"wrapConstructor");function hce(t){let e=o((n,i)=>t(i).update($u(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(hce,"wrapConstructorWithOpts");function zL(t=32){if(Vw.web)return Vw.web.getRandomValues(new Uint8Array(t));if(Vw.node)return new Uint8Array(Vw.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}o(zL,"randomBytes");function TKe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(TKe,"setBigUint64");var Sx=class extends dp{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ex(this.buffer)}update(e){Un.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=$u(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=Ex(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Un.exists(this),Un.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;TKe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=Ex(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};p();m();var C8=BigInt(4294967295),KL=BigInt(32);function pce(t,e=!1){return e?{h:Number(t&C8),l:Number(t>>KL&C8)}:{h:Number(t>>KL&C8)|0,l:Number(t&C8)|0}}o(pce,"fromBig");function IKe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=pce(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(IKe,"split");var RKe=o((t,e)=>BigInt(t>>>0)<<KL|BigInt(e>>>0),"toBig"),OKe=o((t,e,r)=>t>>>r,"shrSH"),MKe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),NKe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),CKe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),kKe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),BKe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),PKe=o((t,e)=>e,"rotr32H"),LKe=o((t,e)=>t,"rotr32L"),DKe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),UKe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),FKe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),HKe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function qKe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(qKe,"add");var VKe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),jKe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),zKe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),KKe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),$Ke=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),GKe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H"),WKe={fromBig:pce,split:IKe,toBig:RKe,shrSH:OKe,shrSL:MKe,rotrSH:NKe,rotrSL:CKe,rotrBH:kKe,rotrBL:BKe,rotr32H:PKe,rotr32L:LKe,rotlSH:DKe,rotlSL:UKe,rotlBH:FKe,rotlBL:HKe,add:qKe,add3L:VKe,add3H:jKe,add4L:zKe,add4H:KKe,add5H:GKe,add5L:$Ke},Jt=WKe;var[YKe,XKe]=Jt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),hp=new Uint32Array(80),pp=new Uint32Array(80),Ax=class extends Sx{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)hp[N]=e.getUint32(r),pp[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=hp[N-15]|0,H=pp[N-15]|0,F=Jt.rotrSH(P,H,1)^Jt.rotrSH(P,H,8)^Jt.shrSH(P,H,7),Z=Jt.rotrSL(P,H,1)^Jt.rotrSL(P,H,8)^Jt.shrSL(P,H,7),W=hp[N-2]|0,X=pp[N-2]|0,S=Jt.rotrSH(W,X,19)^Jt.rotrBH(W,X,61)^Jt.shrSH(W,X,6),f=Jt.rotrSL(W,X,19)^Jt.rotrBL(W,X,61)^Jt.shrSL(W,X,6),d=Jt.add4L(Z,f,pp[N-7],pp[N-16]),b=Jt.add4H(d,F,S,hp[N-7],hp[N-16]);hp[N]=b|0,pp[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Jt.rotrSH(g,E,14)^Jt.rotrSH(g,E,18)^Jt.rotrBH(g,E,41),H=Jt.rotrSL(g,E,14)^Jt.rotrSL(g,E,18)^Jt.rotrBL(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=Jt.add5L(B,H,Z,XKe[N],pp[N]),X=Jt.add5H(W,C,P,F,YKe[N],hp[N]),S=W|0,f=Jt.rotrSH(n,i,28)^Jt.rotrBH(n,i,34)^Jt.rotrBH(n,i,39),d=Jt.rotrSL(n,i,28)^Jt.rotrBL(n,i,34)^Jt.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=Jt.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Jt.add3L(S,d,x);n=Jt.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Jt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Jt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Jt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Jt.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=Jt.add(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=Jt.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Jt.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Jt.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){hp.fill(0),pp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},$L=class extends Ax{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},GL=class extends Ax{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},WL=class extends Ax{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Zl=Xl(()=>new Ax),qUt=Xl(()=>new $L),VUt=Xl(()=>new GL),jUt=Xl(()=>new WL);p();m();var ZKe=We(Yb(),1);var dn=BigInt(0),Ei=BigInt(1),gp=BigInt(2),Kw=BigInt(3),mce=BigInt(8),Si=Object.freeze({a:dn,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Ei,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),gce=o((t,e)=>(t+e/gp)/e,"divNearest"),k8={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Si,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ei*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=gce(s*t,e),l=gce(-n*t,e),h=Rt(t-c*r-l*i,e),y=Rt(-c*n-l*s,e),g=h>a,E=y>a;if(g&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:E,k2:y}}},Tx=32,Gw=32;var yce=Tx+1,bce=2*Tx+1;function xce(t){let{a:e,b:r}=Si,n=Rt(t*t),i=Rt(n*t);return Rt(i+e*t+r)}o(xce,"weierstrass");var B8=Si.a===dn,U8=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function vce(t){if(!(t instanceof Ba))throw new TypeError("JacobianPoint expected")}o(vce,"assertJacPoint");var Ba=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof so))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(so.ZERO)?t.ZERO:new t(e.x,e.y,Ei)}static toAffineBatch(e){let r=r$e(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){vce(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,l=Rt(i*i),h=Rt(c*c),y=Rt(r*h),g=Rt(s*l),E=Rt(Rt(n*c)*h),T=Rt(Rt(a*i)*l);return y===g&&E===T}negate(){return new t(this.x,Rt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Rt(e*e),s=Rt(r*r),a=Rt(s*s),c=e+s,l=Rt(gp*(Rt(c*c)-i-a)),h=Rt(Kw*i),y=Rt(h*h),g=Rt(y-gp*l),E=Rt(h*(l-g)-mce*a),T=Rt(gp*r*n);return new t(g,E,T)}add(e){vce(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e;if(s===dn||a===dn)return this;if(r===dn||n===dn)return e;let l=Rt(i*i),h=Rt(c*c),y=Rt(r*h),g=Rt(s*l),E=Rt(Rt(n*c)*h),T=Rt(Rt(a*i)*l),O=Rt(g-y),M=Rt(T-E);if(O===dn)return M===dn?this.double():t.ZERO;let k=Rt(O*O),C=Rt(O*k),B=Rt(y*k),N=Rt(M*M-C-gp*B),P=Rt(M*(B-N)-E*C),H=Rt(i*c*O);return new t(N,P,H)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===dn)return r;let n=Ece(e);if(n===Ei)return this;if(!B8){let g=r,E=this;for(;n>dn;)n&Ei&&(g=g.add(E)),E=E.double(),n>>=Ei;return g}let{k1neg:i,k1:s,k2neg:a,k2:c}=k8.splitScalar(n),l=r,h=r,y=this;for(;s>dn||c>dn;)s&Ei&&(l=l.add(y)),c&Ei&&(h=h.add(y)),y=y.double(),s>>=Ei,c>>=Ei;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(Rt(h.x*k8.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=B8?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=so.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&XL.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),XL.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+(B8?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),y=2**n,g=BigInt(n);for(let E=0;E<c;E++){let T=E*l,O=Number(e&h);e>>=g,O>l&&(O-=y,e+=Ei);let M=T,k=T+Math.abs(O)-1,C=E%2!==0,B=O<0;O===0?a=a.add(P8(C,i[M])):s=s.add(P8(B,i[k]))}return{p:s,f:a}}multiply(e,r){let n=Ece(e),i,s;if(B8){let{k1neg:a,k1:c,k2neg:l,k2:h}=k8.splitScalar(n),{p:y,f:g}=this.wNAF(c,r),{p:E,f:T}=this.wNAF(h,r);y=P8(a,y),E=P8(l,E),E=new t(Rt(E.x*k8.beta),E.y,E.z),i=y.add(E),s=g.add(T)}else{let{p:a,f:c}=this.wNAF(n,r);i=a,s=c}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?mce:V8(i));let a=e,c=Rt(a*a),l=Rt(c*a),h=Rt(r*c),y=Rt(n*l),g=Rt(i*a);if(s)return so.ZERO;if(g!==Ei)throw new Error("invZ was invalid");return new so(h,y)}};Ba.BASE=new Ba(Si.Gx,Si.Gy,Ei);Ba.ZERO=new Ba(dn,Ei,dn);function P8(t,e){let r=e.negate();return t?r:e}o(P8,"constTimeNegate");var XL=new WeakMap,so=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,XL.delete(this)}hasEvenY(){return this.y%gp===dn}static fromCompressedHex(e){let r=e.length===32,n=zf(r?e:e.subarray(1));if(!D8(n))throw new Error("Point is not on curve");let i=xce(n),s=t$e(i),a=(s&Ei)===Ei;r?a&&(s=Rt(-s)):(e[0]&1)===1!==a&&(s=Rt(-s));let c=new t(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){let r=zf(e.subarray(1,Tx+1)),n=zf(e.subarray(Tx+1,Tx*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=gy(e),n=r.length,i=r[0];if(n===Tx)return this.fromCompressedHex(r);if(n===yce&&(i===2||i===3))return this.fromCompressedHex(r);if(n===bce&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${yce} compressed bytes or ${bce} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Xw(e))}static fromSignature(e,r,n){let{r:i,s}=s$e(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=i$e(gy(e)),{n:c}=Si,l=n===2||n===3?i+c:i,h=V8(l,c),y=Rt(-a*h,c),g=Rt(s*h,c),E=n&1?"03":"02",T=t.fromHex(E+yp(l)),O=t.BASE.multiplyAndAddUnsafe(T,y,g);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return bp(this.toHex(e))}toHex(e=!1){let r=yp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${yp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!D8(r)||!D8(n))throw new Error(e);let i=Rt(n*n),s=xce(r);if(Rt(i-s)!==dn)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Rt(-this.y))}double(){return Ba.fromAffine(this).double().toAffine()}add(e){return Ba.fromAffine(this).add(Ba.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ba.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Ba.fromAffine(this),s=r===dn||r===Ei||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Ba.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(Ba.ZERO)?void 0:c.toAffine()}};so.BASE=new so(Si.Gx,Si.Gy);so.ZERO=new so(dn,dn);function _ce(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(_ce,"sliceDER");function wce(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Rx(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:zf(r),left:t.subarray(e+2)}}o(wce,"parseDERInt");function JKe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Rx(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=wce(t.subarray(2)),{data:n,left:i}=wce(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Rx(i)}`);return{r:e,s:n}}o(JKe,"parseDERSignature");var $w=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Rx(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(F8(i.slice(0,64)),F8(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=JKe(r?e:bp(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Yw(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Yw(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Si.n>>Ei;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Rt(-this.s,Si.n)):this}toDERRawBytes(){return bp(this.toDERHex())}toDERHex(){let e=_ce(zw(this.s)),r=_ce(zw(this.r)),n=e.length/2,i=r.length/2,s=zw(n),a=zw(i);return`30${zw(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return bp(this.toCompactHex())}toCompactHex(){return yp(this.r)+yp(this.s)}};function jw(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(jw,"concatBytes");var QKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Rx(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=QKe[t[r]];return e}o(Rx,"bytesToHex");var e$e=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function yp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(dn<=t&&t<e$e))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(yp,"numTo32bStr");function Ww(t){let e=bp(yp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(Ww,"numTo32b");function zw(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(zw,"numberToHexUnpadded");function F8(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(F8,"hexToNumber");function bp(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(bp,"hexToBytes");function zf(t){return F8(Rx(t))}o(zf,"bytesToNumber");function gy(t){return t instanceof Uint8Array?Uint8Array.from(t):bp(t)}o(gy,"ensureBytes");function Ece(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Yw(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(Ece,"normalizeScalar");function Rt(t,e=Si.P){let r=t%e;return r>=dn?r:e+r}o(Rt,"mod");function jf(t,e){let{P:r}=Si,n=t;for(;e-- >dn;)n*=n,n%=r;return n}o(jf,"pow2");function t$e(t){let{P:e}=Si,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,y=jf(h,Kw)*h%e,g=jf(y,Kw)*h%e,E=jf(g,gp)*l%e,T=jf(E,n)*E%e,O=jf(T,i)*T%e,M=jf(O,a)*O%e,k=jf(M,c)*M%e,C=jf(k,a)*O%e,B=jf(C,Kw)*h%e,N=jf(B,s)*T%e,P=jf(N,r)*l%e,H=jf(P,gp);if(H*H%e!==t)throw new Error("Cannot find square root");return H}o(t$e,"sqrtMod");function V8(t,e=Si.P){if(t===dn||e<=dn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Rt(t,e),n=e,i=dn,s=Ei,a=Ei,c=dn;for(;r!==dn;){let h=n/r,y=n%r,g=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=g,c=E}if(n!==Ei)throw new Error("invert: does not exist");return Rt(i,e)}o(V8,"invert");function r$e(t,e=Si.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===dn?s:(r[c]=s,Rt(s*a,e)),Ei),i=V8(n,e);return t.reduceRight((s,a,c)=>a===dn?s:(r[c]=Rt(s*r[c],e),Rt(s*a,e)),i),r}o(r$e,"invertBatch");function n$e(t){let e=t.length*8-Gw*8,r=zf(t);return e>0?r>>BigInt(e):r}o(n$e,"bits2int_2");function i$e(t,e=!1){let r=n$e(t);if(e)return r;let{n}=Si;return r>=n?r-n:r}o(i$e,"truncateHash");var Ix,YL;function Yw(t){return dn<t&&t<Si.n}o(Yw,"isWithinCurveOrder");function D8(t){return dn<t&&t<Si.P}o(D8,"isValidFieldElement");function Xw(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Gw)throw new Error("Expected 32 bytes of private key");e=F8(t)}else if(t instanceof Uint8Array){if(t.length!==Gw)throw new Error("Expected 32 bytes of private key");e=zf(t)}else throw new TypeError("Expected valid private key");if(!Yw(e))throw new Error("Expected private key: 0 < key < n");return e}o(Xw,"normalizePrivateKey");function o$e(t){return t instanceof so?(t.assertValidity(),t):so.fromHex(t)}o(o$e,"normalizePublicKey");function s$e(t){if(t instanceof $w)return t.assertValidity(),t;try{return $w.fromDER(t)}catch{return $w.fromCompact(t)}}o(s$e,"normalizeSignature");function Mx(t,e=!1){return so.fromPrivateKey(t).toRawBytes(e)}o(Mx,"getPublicKey");function H8(t){return Rt(zf(t),Si.n)}o(H8,"schnorrChallengeFinalize");var Ox=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=gy(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=zf(r.subarray(0,32)),i=zf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!D8(e)||!Yw(r))throw new Error("Invalid signature")}toHex(){return yp(this.r)+yp(this.s)}toRawBytes(){return bp(this.toHex())}};function a$e(t){return so.fromPrivateKey(t).toRawX()}o(a$e,"schnorrGetPublicKey");var q8=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=Jl.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=gy(e);let{x:i,scalar:s}=this.getScalar(Xw(r));if(this.px=i,this.d=s,this.rand=gy(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=so.fromPrivateKey(e),n=r.hasEvenY()?e:Si.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Ww(e^zf(r))}finalizeNonce(e){let r=Rt(zf(e),Si.n);if(r===dn)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new Ox(e.x,Rt(r+n*i,Si.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=Jl.taggedHash,a=this.initNonce(r,await s(mp.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(await s(mp.nonce,a,n,e)),y=H8(await s(mp.challenge,l,n,e)),g=this.finalizeSig(c,h,y,r);return await Tce(g,e,n)||this.error(),g}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=Jl.taggedHashSync,a=this.initNonce(r,s(mp.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(s(mp.nonce,a,n,e)),y=H8(s(mp.challenge,l,n,e)),g=this.finalizeSig(c,h,y,r);return Ice(g,e,n)||this.error(),g}};async function c$e(t,e,r){return new q8(t,e,r).calc()}o(c$e,"schnorrSign");function f$e(t,e,r){return new q8(t,e,r).calcSync()}o(f$e,"schnorrSignSync");function Sce(t,e,r){let n=t instanceof Ox,i=n?t:Ox.fromHex(t);return n&&i.assertValidity(),{...i,m:gy(e),P:o$e(r)}}o(Sce,"initSchnorrVerify");function Ace(t,e,r,n){let i=so.BASE.multiplyAndAddUnsafe(e,Xw(r),Rt(-n,Si.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(Ace,"finalizeSchnorrVerify");async function Tce(t,e,r){try{let{r:n,s:i,m:s,P:a}=Sce(t,e,r),c=H8(await Jl.taggedHash(mp.challenge,Ww(n),a.toRawX(),s));return Ace(n,a,i,c)}catch{return!1}}o(Tce,"schnorrVerify");function Ice(t,e,r){try{let{r:n,s:i,m:s,P:a}=Sce(t,e,r),c=H8(Jl.taggedHashSync(mp.challenge,Ww(n),a.toRawX(),s));return Ace(n,a,i,c)}catch(n){if(n instanceof U8)throw n;return!1}}o(Ice,"schnorrVerifySync");var WUt={Signature:Ox,getPublicKey:a$e,sign:c$e,verify:Tce,signSync:f$e,verifySync:Ice};so.BASE._setWindowSize(8);var Xc={node:ZKe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},mp={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},L8={},Jl={bytesToHex:Rx,hexToBytes:bp,concatBytes:jw,mod:Rt,invert:V8,isValidPrivateKey(t){try{return Xw(t),!0}catch{return!1}},_bigintTo32Bytes:Ww,_normalizePrivateKey:Xw,hashToPrivateKey:o(t=>{t=gy(t);let e=Gw+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Rt(zf(t),Si.n-Ei)+Ei;return Ww(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(Xc.web)return Xc.web.getRandomValues(new Uint8Array(t));if(Xc.node){let{randomBytes:e}=Xc.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Jl.hashToPrivateKey(Jl.randomBytes(Gw+8)),"randomPrivateKey"),precompute(t=8,e=so.BASE){let r=e===so.BASE?e:new so(e.x,e.y);return r._setWindowSize(t),r.multiply(Kw),r},sha256:o(async(...t)=>{if(Xc.web){let e=await Xc.web.subtle.digest("SHA-256",jw(...t));return new Uint8Array(e)}else if(Xc.node){let{createHash:e}=Xc.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(Xc.web){let r=await Xc.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=jw(...e),i=await Xc.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Xc.node){let{createHmac:r}=Xc.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=L8[t];if(r===void 0){let n=await Jl.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=jw(n,n),L8[t]=r}return Jl.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof Ix!="function")throw new U8("sha256Sync is undefined, you need to set it");let r=L8[t];if(r===void 0){let n=Ix(Uint8Array.from(t,i=>i.charCodeAt(0)));r=jw(n,n),L8[t]=r}return Ix(r,...e)},"taggedHashSync"),_JacobianPoint:Ba};Object.defineProperties(Jl,{sha256Sync:{configurable:!1,get(){return Ix},set(t){Ix||(Ix=t)}},hmacSha256Sync:{configurable:!1,get(){return YL},set(t){YL||(YL=t)}}});p();m();var u$e=new Error("Unsupported path."),ms=o((t,e=u$e)=>{throw e},"assertNever");p();m();var Rce=/^[0-9]{1,10}'?$/;p();m();p();m();var j8=class extends dp{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Un.hash(e);let n=$u(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Un.exists(this),this.iHash.update(e),this}digestInto(e){Un.exists(this),Un.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Th=o((t,e,r)=>new j8(t,e).update(r).digest(),"hmac");Th.create=(t,e)=>new j8(t,e);var l$e="ed25519 seed",Oce=o(t=>{let e=Buffer.from(Th(Zl,Buffer.from(l$e),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),Mce=o(({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),s=Buffer.from(Th(Zl,e,i)).toString("hex"),a=s.slice(0,64),c=s.slice(64);return{key:Buffer.from(a,"hex"),chainCode:Buffer.from(c,"hex")}},"CKDPriv");p();m();var Ih=We(li());var Nx=We(us());var d$e=Ih.Buffer.from("Bitcoin seed"),Nce=En.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kce=o(t=>{let e=Ih.Buffer.from(Th(Zl,Ih.Buffer.from(d$e),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Ih.Buffer.from(r,"hex"),chainCode:Ih.Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),Bce=o((t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&2147483648)i.set(r,1);else{let g=Mx(r,!0);i.set((0,Nx.arrayify)(g))}for(let g=24;g>=0;g-=8)i[33+(g>>3)]=e>>24-g&255;let s=Ih.Buffer.from(Th(Zl,n,i)).toString("hex"),a=s.slice(0,64),c=s.slice(64),l=En.from(`0x${a}`);if(l.gte(Nce))throw new Error("Invalid private key");let h=l.add(`0x${r.toString("hex")}`).mod(Nce);if(h.eq(En.from(0)))throw new Error("Invalid private key");let y=(0,Nx.hexZeroPad)((0,Nx.hexlify)(h),32);return{key:Ih.Buffer.from(y.replace("0x",""),"hex"),chainCode:Ih.Buffer.from(c,"hex")}},"CKDPriv");p();m();var ZL=be.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Rce.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."}),Ee;(function(t){t.BitcoinTaproot="bitcoinTaproot",t.BitcoinNativeSegwit="bitcoinNativeSegwit",t.BitcoinNestedSegwit="bitcoinNestedSegwit",t.BitcoinLegacy="bitcoinLegacy",t.Bip44RootSolana="bip44Root",t.Bip44Solana="bip44",t.Bip44ChangeSolana="bip44Change",t.DeprecatedSolana="deprecated",t.Bip44RootEthereum="bip44RootEthereum",t.Bip44Ethereum="bip44Ethereum",t.Bip44EthereumSecondary="bip44EthereumSecondary",t.Bip44EthereumTertiary="bip44EthereumTertiary",t.Bip44Sui="bip44Sui"})(Ee||(Ee={}));var h$e=be.union([be.literal(Ee.BitcoinTaproot),be.literal(Ee.BitcoinNativeSegwit),be.literal(Ee.BitcoinNestedSegwit),be.literal(Ee.BitcoinLegacy)]),p$e=be.union([be.literal(Ee.Bip44RootEthereum),be.literal(Ee.Bip44Ethereum),be.literal(Ee.Bip44EthereumSecondary),be.literal(Ee.Bip44EthereumTertiary)]),m$e=be.union([be.literal(Ee.Bip44RootSolana),be.literal(Ee.Bip44Solana),be.literal(Ee.Bip44ChangeSolana),be.literal(Ee.DeprecatedSolana)]),g$e=be.literal(Ee.Bip44Sui);p();m();var y$e=be.union([be.literal(Ee.Bip44ChangeSolana),be.literal(Ee.Bip44Solana),be.literal(Ee.DeprecatedSolana)]),b$e=be.union([be.literal(Ee.Bip44Ethereum),be.literal(Ee.Bip44EthereumSecondary),be.literal(Ee.Bip44EthereumTertiary)]),x$e=be.union([be.literal(Ee.BitcoinTaproot),be.literal(Ee.BitcoinNativeSegwit),be.literal(Ee.BitcoinNestedSegwit),be.literal(Ee.BitcoinLegacy)]),v$e=be.literal(Ee.Bip44Sui),z8=be.number().int().min(0),_$e=be.object({pathType:be.literal(Ee.Bip44RootSolana),index:be.number().optional()}),w$e=be.object({pathType:y$e,index:z8}),E$e=be.object({pathType:be.literal(Ee.Bip44RootEthereum),index:be.number().optional()}),S$e=be.object({pathType:b$e,index:z8}),A$e=be.object({pathType:x$e,index:z8}),T$e=be.object({pathType:v$e,index:z8}),Lce=be.union([_$e,w$e,E$e,S$e,A$e,T$e]),Zw=new Error("Invalid derivation path."),Dce=new Error("Unsupported derivation path."),I$e=o(t=>{if(!Lce.safeParse(t).success)throw Zw;switch(t.pathType){case Ee.BitcoinTaproot:return`m/86'/0'/0'/0/${t.index}`;case Ee.BitcoinNativeSegwit:return`m/84'/0'/0'/0/${t.index}`;case Ee.BitcoinNestedSegwit:return`m/46'/0'/0'/0/${t.index}`;case Ee.BitcoinLegacy:return`m/44'/0'/0'/0/${t.index}`;case Ee.Bip44RootEthereum:return"m/44'/60'";case Ee.Bip44Ethereum:return`m/44'/60'/0'/0/${t.index}`;case Ee.Bip44EthereumSecondary:return`m/44'/60'/1'/0/${t.index}`;case Ee.Bip44EthereumTertiary:return`m/44'/60'/2'/0/${t.index}`;case Ee.Bip44RootSolana:return"m/44'/501'";case Ee.DeprecatedSolana:return`m/501'/${t.index}'/0/0`;case Ee.Bip44Solana:return`m/44'/501'/${t.index}'`;case Ee.Bip44ChangeSolana:return`m/44'/501'/${t.index}'/0'`;case Ee.Bip44Sui:return`m/44'/784'/${t.index}'/0'/0'`}},"getDerivationPath"),Pce=1<<31>>>0,R$e=o(t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw Zw;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let s="";for(let l=0;l<4;l++)s+=e[1+i*4+l];let a=parseInt(s,16),c=a>=Pce;c&&(a-=Pce),n+=`/${a.toString(10)}${c?"'":""}`}return n}catch{throw Zw}},"parseHexEncodedPayload"),O$e=o(t=>{let e,r=ZL.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=R$e(t)}catch{throw Zw}if(e==="m/44'/501'")return{pathType:Ee.Bip44RootSolana};if(e==="m/44'/60'")return{pathType:Ee.Bip44RootEthereum};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinTaproot,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinNativeSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinNestedSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinLegacy,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.Bip44Ethereum,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:Ee.Bip44EthereumSecondary,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:Ee.Bip44EthereumTertiary,index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:Ee.Bip44ChangeSolana,index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:Ee.Bip44Solana,index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:Ee.DeprecatedSolana,index:parseInt(n[1],10)}}catch{}throw Dce},"parseDerivationPath");p();m();var UFt=new Error("Unsupported path."),M$e=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:return!0;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:case Ee.Bip44Sui:return!1}},"isBitcoinDerivationPathType"),N$e=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:return!1;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:return!0;case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:case Ee.Bip44Sui:return!1}},"isEVMDerivationPathType"),C$e=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44Sui:return!1;case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:return!0}},"isSolanaDerivationPathType");Ah.sha512Sync=(...t)=>Zl(Ah.concatBytes(...t));var{getPublicKey:k$e}=O8,Ql=class{static{o(this,"CachedHDWallet")}#t;#e;constructor(e){this.#t={ellipticCurve:"ed25519",value:Oce(e),nodes:{}},this.#e={ellipticCurve:"secp256k1",value:kce(e),nodes:{}}}derivePathType(e,r){switch(e){case Ee.BitcoinTaproot:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinNativeSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinNestedSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinLegacy:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.Bip44Ethereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case Ee.Bip44EthereumSecondary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case Ee.Bip44EthereumTertiary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case Ee.Bip44RootEthereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case Ee.Bip44ChangeSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case Ee.Bip44Solana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case Ee.DeprecatedSolana:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case Ee.Bip44RootSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case Ee.Bip44Sui:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):ms(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,s=n.split("/"),a=this.#t;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let y=a.nodes?.[h]??null;if(!y){let g={ellipticCurve:r,value:Mce(a.value,parseInt(h,10)+2147483648),nodes:{}};y=g,a.nodes[h]=g}a=y}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=k$e(a.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(a.value.key),{publicKey:c,secretKey:l};case 64:return l=new Uint8Array(64),l.set(a.value.key),l.set(c,32),{publicKey:c,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,s=n.split("/"),a=this.#e;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let y=a.nodes?.[h]??null;if(!y){let g=0;h.endsWith("'")&&(g=2147483648);let E={ellipticCurve:r,value:Bce(a.value,parseInt(h,10)+g),nodes:{}};y=E,a.nodes[h]=E}a=y}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=a.value.key;return{publicKey:Mx(c,i),secretKey:new Uint8Array(c)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#t),this.cleanUpTree(this.#e),this.#t=null,this.#e=null}};var K8=class{static{o(this,"BitcoinLegacyAddressType")}type=Ye.BitcoinLegacy;displayName="Legacy";defaultDerivationPathType=Ee.BitcoinLegacy;otherDerivationPathType=[]};p();m();var $8=class{static{o(this,"BitcoinNativeSegwitAddressType")}type=Ye.BitcoinNativeSegwit;displayName="Native Segwit";defaultDerivationPathType=Ee.BitcoinNativeSegwit;otherDerivationPathType=[]};p();m();var G8=class{static{o(this,"BitcoinNestedSegwitAddressType")}type=Ye.BitcoinNestedSegwit;displayName="Nested Segwit";defaultDerivationPathType=Ee.BitcoinNestedSegwit;otherDerivationPathType=[]};p();m();var W8=class{static{o(this,"BitcoinTaprootAddressType")}type=Ye.BitcoinTaproot;displayName="Taproot";defaultDerivationPathType=Ee.BitcoinTaproot;otherDerivationPathType=[]};p();m();var Y8=class{static{o(this,"EVMAddressType")}type=Ye.EVM;displayName="Ethereum";defaultDerivationPathType=Ee.Bip44Ethereum;otherDerivationPathType=[Ee.Bip44RootEthereum,Ee.Bip44EthereumSecondary,Ee.Bip44EthereumTertiary]};p();m();var X8=class{static{o(this,"SolanaAddressType")}type=Ye.Solana;displayName="Solana";defaultDerivationPathType=Ee.Bip44ChangeSolana;otherDerivationPathType=[Ee.Bip44RootSolana,Ee.Bip44Solana,Ee.DeprecatedSolana]};p();m();var Z8=class{static{o(this,"SuiAddressType")}type=Ye.Sui;displayName="Sui";defaultDerivationPathType=Ee.Bip44Sui;otherDerivationPathType=[]};var JL=class{static{o(this,"AddressTypesClass")}[Ye.BitcoinTaproot]=new W8;[Ye.BitcoinNativeSegwit]=new $8;[Ye.BitcoinNestedSegwit]=new G8;[Ye.BitcoinLegacy]=new K8;[Ye.EVM]=new Y8;[Ye.Solana]=new X8;[Ye.Sui]=new Z8;allAddressTypes=Object.values(Ye);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},yy=new JL;p();m();var By=We(li(),1),co=We(vF(),1),Uh=We(Mu(),1);p();m();wi.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});p();m();var UQe=o((t,e)=>t+e,"add"),Sge=o(t=>t.reduce(UQe,0),"sum");var Age=By.Buffer.alloc(64).fill(0),_F=o(t=>Wf(t)?By.Buffer.from(t.message.serialize()):t.serializeMessage(),"transactionToSerializedMessage"),VT=o(t=>Uh.default.encode(_F(t)),"transactionToMessageString"),Tge=o(t=>{try{return VT(Yx(t,"bs58"))}catch{return VT(Yx(t,"base64"))}},"transactionStringToMessageString"),Ige=o(t=>{try{return Yx(t,"bs58").version}catch{return Yx(t,"base64").version}},"transactionStringToVersion"),Rge=o(t=>wF(SF(t)),"messageStringToTransactionString"),Wf=o(t=>t&&"version"in t,"isVersionedTransaction"),jT=o((t,e)=>Wf(t)?By.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),"transactionToSerializedTransaction"),wF=o((t,e)=>Uh.default.encode(jT(t,e)),"transactionToBase58TransactionString"),Oge=o((t,e)=>jT(t,e).toString("base64"),"transactionToBase64TransactionString"),Yx=o((t,e)=>{let r;if(e==="base64")r=By.Buffer.from(t,"base64");else if(e==="bs58")r=Uh.default.decode(t);else throw new Error("Unsupported encoding");return co.VersionedTransaction.deserialize(r)},"transactionStringToTransaction");function EF(t){return Wf(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}o(EF,"isAlreadySigned");var Mge=o(t=>{let e=t.map(r=>co.VersionedMessage.deserialize(Uh.default.decode(r)));return Sge(e.map(r=>r.header.numRequiredSignatures))},"getRequiredSignatures"),SF=o(t=>{let e=Uh.default.decode(t);if(co.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=co.Message.from(e);return co.Transaction.populate(i,[])}let n=co.VersionedMessage.deserialize(e);return new co.VersionedTransaction(n)},"messageStringToTransaction"),Nge=o((t,e=[])=>{let r=Uh.default.decode(t);if(co.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=co.Message.from(r);return co.Transaction.populate(i,e.map(s=>s?Uh.default.encode(s):Uh.default.encode(Age)))}else{let i=co.VersionedMessage.deserialize(r);return new co.VersionedTransaction(i,e.map(s=>s||Age))}},"messageAndSignaturesToTransaction"),Cge=o(t=>t.compileMessage().accountKeys,"getAccountsFromTransaction"),AF=o(t=>Wf(t)?t.message.recentBlockhash:t.recentBlockhash,"getRecentBlockhash"),kge=o((t,e)=>{Wf(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},"setRecentBlockhash"),Bge=o(async(t,e)=>{if(AF(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;kge(t,r)},"setRecentBlockhashIfNotExists"),Pge=o(async(t,e)=>{if(EF(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;kge(t,r)},"setRecentBlockhashIfNotSigned"),TF=o((t,e)=>{Wf(t)||(t.feePayer=e)},"setFeePayer"),IF=o(t=>Wf(t)?t.message.staticAccountKeys[0]:t.feePayer,"getFeePayer"),Lge=o((t,e)=>{IF(t)||TF(t,e)},"setFeePayerIfNotExists"),Dge=o((t,e)=>{Wf(t)?t.sign(e):t.partialSign(...e)},"signWithAdditionalSigners"),Uge=o(t=>Wf(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),"getSignaturePubKeys"),Fge=o(t=>Wf(t)?t.signatures.map(e=>By.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null),"getSignatures");function Hge(t){if(!FQe(By.Buffer.from(t)))return!1;let e;try{e=co.Message.from(t)}catch{e=void 0}let r;try{r=co.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}o(Hge,"isSafeMessage");function FQe(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}o(FQe,"isValidUTF8");var qge=o(t=>wi(t).dividedBy(co.LAMPORTS_PER_SOL),"lamportsToSolana"),Vge=o(t=>wi(t).multipliedBy(co.LAMPORTS_PER_SOL),"solanaToLamports");var Qu={};nZ(Qu,{BufferLayout:()=>jQe,getAccountsFromTransaction:()=>Cge,getFeePayer:()=>IF,getRecentBlockhash:()=>AF,getRequiredSignatures:()=>Mge,getSignaturePubKeys:()=>Uge,getSignatures:()=>Fge,isAlreadySigned:()=>EF,isSafeMessage:()=>Hge,isVersionedTransaction:()=>Wf,lamportsToSolana:()=>qge,messageAndSignaturesToTransaction:()=>Nge,messageStringToTransaction:()=>SF,messageStringToTransactionString:()=>Rge,setFeePayer:()=>TF,setFeePayerIfNotExists:()=>Lge,setRecentBlockhashIfNotExists:()=>Bge,setRecentBlockhashIfNotSigned:()=>Pge,signWithAdditionalSigners:()=>Dge,solanaInstructionEncodeData:()=>Kge,solanaToLamports:()=>Vge,transactionStringToMessageString:()=>Tge,transactionStringToTransaction:()=>Yx,transactionStringToVersion:()=>Ige,transactionToBase58TransactionString:()=>wF,transactionToBase64TransactionString:()=>Oge,transactionToMessageString:()=>VT,transactionToSerializedMessage:()=>_F,transactionToSerializedTransaction:()=>jT});p();m();var jQe=We(jge(),1);Rg(Qu,We(vF(),1));p();m();var zge=We(li());p();m();var qQe=We(li()),Qx=We(GD());function NF(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return NF({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(NF,"getAlloc");function Kge(t,e){let r=t.layout.span>=0?t.layout.span:NF(t,e),n=zge.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Kge,"encodeData");p();m();function $ge(t){return Uint8Array.from(Buffer.from(t,"base64"))}o($ge,"fromBase64");function Gge(t){return Buffer.from(t).toString("base64")}o(Gge,"toBase64");p();m();p();m();p();m();p();m();var Wge="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Yf=class t{static{o(this,"ObfuscatedBytes")}#t;#e;constructor(e){let r=e.length,n=zL(r),i=Yge(e,n);this.#e=n,this.#t=i}static from(e){return new t(e)}read=o(e=>{let r=fI(this.#t,this.#e);try{e(r)}finally{this.cleanup(r)}},"read");readAsync=o(async e=>{let r=fI(this.#t,this.#e);try{await e(r)}finally{this.cleanup(r)}},"readAsync");fold=o(e=>{let r=fI(this.#t,this.#e);try{let n=e(r);if(n===r)throw new Error(Wge);return n}finally{this.cleanup(r)}},"fold");foldAsync=o(async e=>{let r=fI(this.#t,this.#e);try{let n=await e(r);if(n===r)throw new Error(Wge);return n}finally{this.cleanup(r)}},"foldAsync");cleanup=o(e=>{let r=zL(e.length),n=Yge(e,r);this.#e=r,this.#t=n,e.fill(0)},"cleanup")},Yge=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"encrypt"),fI=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"decrypt");p();m();var zQe=o(t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/={1,2}$/,""),"encodeBase64URL");p();m();p();m();var CF=/^[A-Za-z0-9-_]*$/;var kF=o(t=>{if(!t.match(CF))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")},"decodeBase64URL");p();m();var Xge=We(Mu(),1);function KQe(t){let e=kF(t);return Xge.default.encode(e)}o(KQe,"base64URLToBase58");p();m();function $Qe(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}o($Qe,"strip0xPrefix");p();m();p();m();p();m();var uI=class{static{o(this,"KeypairGeneratorChainPluginBitcoin")}addressTypes=[Ye.BitcoinTaproot,Ye.BitcoinNativeSegwit,Ye.BitcoinNestedSegwit,Ye.BitcoinLegacy];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:Mx(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Ql(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};p();m();p();m();p();m();p();m();var Jge=We(Ca());p();m();var Zge="properties/5.7.0";var GQe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},lI=new Jge.Logger(Zge);function Ft(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}o(Ft,"defineReadOnly");function L$t(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}o(L$t,"getStatic");function Hh(t){return GQe(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}o(Hh,"resolveProperties");function Qge(t,e){(!t||typeof t!="object")&&lI.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||lI.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}o(Qge,"checkProperties");function jE(t){let e={};for(let r in t)e[r]=t[r];return e}o(jE,"shallowCopy");var WQe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function eye(t){if(t==null||WQe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!eye(n))return!1}return!0}return lI.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(eye,"_isFrozen");function YQe(t){if(eye(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>VE(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&Ft(e,r,VE(n))}return e}return lI.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(YQe,"_deepCopy");function VE(t){return YQe(t)}o(VE,"deepCopy");var Vp=class{static{o(this,"Description")}constructor(e){for(let r in e)this[r]=VE(e[r])}};var nye=We(Ca());p();m();var tye="abstract-provider/5.7.0";var XQe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},ZQe=new nye.Logger(tye),rye=class extends Vp{static{o(this,"ForkEvent")}static isForkEvent(e){return!!(e&&e._isForkEvent)}};var dI=class t{static{o(this,"Provider")}constructor(){ZQe.checkAbstract(new.target,t),Ft(this,"_isProvider",!0)}getFeeData(){return XQe(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield Hh({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=En.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};p();m();var pd=We(Ca());p();m();var iye="abstract-signer/5.7.0";var el=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Xf=new pd.Logger(iye),JQe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],QQe=[pd.Logger.errors.INSUFFICIENT_FUNDS,pd.Logger.errors.NONCE_EXPIRED,pd.Logger.errors.REPLACEMENT_UNDERPRICED],zE=class t{static{o(this,"Signer")}constructor(){Xf.checkAbstract(new.target,t),Ft(this,"_isSigner",!0)}getBalance(e){return el(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return el(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return el(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield Hh(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return el(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield Hh(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return el(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return el(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return el(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return el(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return el(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)JQe.indexOf(n)===-1&&Xf.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=jE(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Xf.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return el(this,void 0,void 0,function*(){let r=yield Hh(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>el(this,void 0,void 0,function*(){if(i==null)return null;let s=yield this.resolveName(i);return s==null&&Xf.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Xf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Xf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Xf.throwError("network does not support EIP-1559",pd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Xf.throwError("failed to get consistent fee data",pd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(QQe.indexOf(i.code)>=0)throw i;return Xf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pd.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Xf.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Hh(r)})}_checkProvider(e){this.provider||Xf.throwError("missing provider",pd.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},oye=class t extends zE{static{o(this,"VoidSigner")}constructor(e,r){super(),Ft(this,"address",e),Ft(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Xf.throwError(e,pd.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var nl=We(us());p();m();p();m();p();m();p();m();p();m();var eet="0x0000000000000000000000000000000000000000";p();m();var tet=En.from(-1),BF=En.from(0),ret=En.from(1);var net=En.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");p();m();var iet="0x0000000000000000000000000000000000000000000000000000000000000000";p();m();var PF=We(us()),aye=We(Ca());p();m();var sye="strings/5.7.0";var cye=new aye.Logger(sye),tl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(tl||(tl={}));var bc;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(bc||(bc={}));function oet(t,e,r,n,i){return cye.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}o(oet,"errorFunc");function fye(t,e,r,n,i){if(t===bc.BAD_PREFIX||t===bc.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===bc.OVERRUN?r.length-e-1:0}o(fye,"ignoreFunc");function set(t,e,r,n,i){return t===bc.OVERLONG?(n.push(i),0):(n.push(65533),fye(t,e,r,n,i))}o(set,"replaceFunc");var uye=Object.freeze({error:oet,ignore:fye,replace:set});function lye(t,e){e==null&&(e=uye.error),t=(0,PF.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(bc.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(bc.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(bc.OVERRUN,n-1,t,r);continue}let c=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let h=t[n];if((h&192)!=128){n+=e(bc.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|h&63,n++}if(c!==null){if(c>1114111){n+=e(bc.OUT_OF_RANGE,n-1-s,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(bc.UTF16_SURROGATE,n-1-s,t,r,c);continue}if(c<=a){n+=e(bc.OVERLONG,n-1-s,t,r,c);continue}r.push(c)}}return r}o(lye,"getUtf8CodePoints");function rs(t,e=tl.current){e!=tl.current&&(cye.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,PF.arrayify)(r)}o(rs,"toUtf8Bytes");function aet(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}o(aet,"_toUtf8String");function dye(t,e){return aet(lye(t,e))}o(dye,"toUtf8String");function LF(t,e=tl.current){return lye(rs(t,e))}o(LF,"toUtf8CodePoints");function ev(t){return Mn(rs(t))}o(ev,"id");p();m();var tv=We(us());var Tye=We(Ca());p();m();var hI="hash/5.7.0";p();m();p();m();p();m();p();m();var DF=We(us());function UF(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,DF.arrayify)(e)}o(UF,"decode");function cet(t){t=(0,DF.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}o(cet,"encode");p();m();function pye(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=o(function(s,a){n.call(s,function(c){a>0&&Array.isArray(c)?i(c,a-1):r.push(c)})},"flatDeep");return i(t,e),r}o(pye,"flat");function fet(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}o(fet,"fromEntries");function uet(t){let e=0;function r(){return t[e++]<<8|t[e++]}o(r,"u16");let n=r(),i=1,s=[0,1];for(let H=1;H<n;H++)s.push(i+=r());let a=r(),c=e;e+=a;let l=0,h=0;function y(){return l==0&&(h=h<<8|t[e++],l=8),h>>--l&1}o(y,"read_bit");let g=31,E=Math.pow(2,g),T=E>>>1,O=T>>1,M=E-1,k=0;for(let H=0;H<g;H++)k=k<<1|y();let C=[],B=0,N=E;for(;;){let H=Math.floor(((k-B+1)*i-1)/N),F=0,Z=n;for(;Z-F>1;){let S=F+Z>>>1;H<s[S]?Z=S:F=S}if(F==0)break;C.push(F);let W=B+Math.floor(N*s[F]/i),X=B+Math.floor(N*s[F+1]/i)-1;for(;!((W^X)&T);)k=k<<1&M|y(),W=W<<1&M,X=X<<1&M|1;for(;W&~X&O;)k=k&T|k<<1&M>>>1|y(),W=W<<1^T,X=(X^T)<<1|T|1;B=W,N=1+X-W}let P=n-4;return C.map(H=>{switch(H-P){case 3:return P+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return P+256+(t[c++]<<8|t[c++]);case 1:return P+t[c++];default:return H-1}})}o(uet,"decode_arithmetic");function det(t){let e=0;return()=>t[e++]}o(det,"read_payload");function mye(t){return det(uet(t))}o(mye,"read_compressed_payload");function het(t){return t&1?~t>>1:t>>1}o(het,"signed");function pet(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}o(pet,"read_counts");function hye(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}o(hye,"read_ascending");function met(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=het(e());return r}o(met,"read_deltas");function KE(t,e){let r=hye(t(),t),n=t(),i=hye(n,t),s=pet(n,t);for(let a=0;a<n;a++)for(let c=0;c<s[a];c++)r.push(i[a]+c);return e?r.map(a=>e[a]):r}o(KE,"read_member_array");function gye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(yet(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(bet(r,t))}return fet(pye(e))}o(gye,"read_mapped_map");function get(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}o(get,"read_zero_terminated_array");function yye(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)met(t,r).forEach((s,a)=>n[a].push(s));return n}o(yye,"read_transposed");function yet(t,e){let r=1+e(),n=e(),i=get(e),s=yye(i.length,1+t,e);return pye(s.map((a,c)=>{let l=a[0],h=a.slice(1);return Array(i[c]).fill(void 0).map((y,g)=>{let E=g*n;return[l+g*r,h.map(T=>T+E)]})}))}o(yet,"read_linear_table");function bet(t,e){let r=1+e();return yye(r,1+t,e).map(i=>[i[0],i.slice(1)])}o(bet,"read_replacement_table");function bye(t){let e=KE(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let h=KE(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,y)=>y.set.size-h.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let c=i==1,l=i==2;return{branches:n,valid:s,fe0f:a,save:c,check:l}}}o(bye,"read_emoji_trie");function xye(){return mye(UF("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}o(xye,"getData");var pI=xye(),xet=new Set(KE(pI)),vet=new Set(KE(pI)),_et=gye(pI),wet=bye(pI),vye=45,_ye=95;function wye(t){return LF(t)}o(wye,"explode_cp");function Eet(t){return t.filter(e=>e!=65039)}o(Eet,"filter_fe0f");function Eye(t){for(let e of t.split(".")){let r=wye(e);try{for(let n=r.lastIndexOf(_ye)-1;n>=0;n--)if(r[n]!==_ye)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===vye&&r[3]===vye)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}o(Eye,"ens_normalize_post_check");function Sye(t){return Eye(Aet(t,Eet))}o(Sye,"ens_normalize");function Aet(t,e){let r=wye(t).reverse(),n=[];for(;r.length;){let i=Iet(r);if(i){n.push(...e(i));continue}let s=r.pop();if(xet.has(s)){n.push(s);continue}if(vet.has(s))continue;let a=_et[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Eye(Tet(String.fromCodePoint(...n)))}o(Aet,"normalize");function Tet(t){return t.normalize("NFC")}o(Tet,"nfc");function Iet(t,e){var r;let n=wet,i,s,a=[],c=t.length;for(e&&(e.length=0);c;){let l=t[--c];if(n=(r=n.branches.find(h=>h.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;a.push(l),n.fe0f&&(a.push(65039),c>0&&t[c-1]==65039&&c--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(c).reverse()),t.length=c)}return i}o(Iet,"consume_emoji_reversed");var Ret=new Tye.Logger(hI),Iye=new Uint8Array(32);Iye.fill(0);function Aye(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}o(Aye,"checkComponent");function Rye(t){let e=rs(Sye(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Aye(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Aye(e.slice(n))),r}o(Rye,"ensNameSplit");function Oet(t){typeof t!="string"&&Ret.throwArgumentError("invalid ENS name; not a string","name",t);let e=Iye,r=Rye(t);for(;r.length;)e=Mn((0,tv.concat)([e,Mn(r.pop())]));return(0,tv.hexlify)(e)}o(Oet,"namehash");function Met(t){return(0,tv.hexlify)((0,tv.concat)(Rye(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}o(Met,"dnsEncode");p();m();var Oye=We(us());var Mye=`Ethereum Signed Message:
`;function FF(t){return typeof t=="string"&&(t=rs(t)),Mn((0,Oye.concat)([rs(Mye),rs(String(t.length)),t]))}o(FF,"hashMessage");p();m();var Ji=We(us());var Bye=We(Ca());var Net=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Bi=new Bye.Logger(hI),Pye=new Uint8Array(32);Pye.fill(0);var Cet=En.from(-1),Lye=En.from(0),Dye=En.from(1),ket=En.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Bet(t){let e=(0,Ji.arrayify)(t),r=e.length%32;return r?(0,Ji.hexConcat)([e,Pye.slice(r)]):(0,Ji.hexlify)(e)}o(Bet,"hexPadRight");var Pet=(0,Ji.hexZeroPad)(Dye.toHexString(),32),Let=(0,Ji.hexZeroPad)(Lye.toHexString(),32),Nye={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},HF=["name","version","chainId","verifyingContract","salt"];function Cye(t){return function(e){return typeof e!="string"&&Bi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}o(Cye,"checkString");var Det={name:Cye("name"),version:Cye("version"),chainId:o(function(t){try{return En.from(t).toString()}catch{}return Bi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},"chainId"),verifyingContract:o(function(t){try{return ls(t).toLowerCase()}catch{}return Bi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},"verifyingContract"),salt:o(function(t){try{let e=(0,Ji.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Ji.hexlify)(e)}catch{}return Bi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)},"salt")};function qF(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Bi.throwArgumentError("invalid numeric width","type",t);let i=ket.mask(r?n-1:n),s=r?i.add(Dye).mul(Cet):Lye;return function(a){let c=En.from(a);return(c.lt(s)||c.gt(i))&&Bi.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),(0,Ji.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Bi.throwArgumentError("invalid bytes width","type",t),function(n){return(0,Ji.arrayify)(n).length!==r&&Bi.throwArgumentError(`invalid length for ${t}`,"value",n),Bet(n)}}}switch(t){case"address":return function(e){return(0,Ji.hexZeroPad)(ls(e),32)};case"bool":return function(e){return e?Pet:Let};case"bytes":return function(e){return Mn(e)};case"string":return function(e){return ev(e)}}return null}o(qF,"getBaseEncoder");function kye(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}o(kye,"encodeType");var rv=class t{static{o(this,"TypedDataEncoder")}constructor(e){Ft(this,"types",Object.freeze(VE(e))),Ft(this,"_encoderCache",{}),Ft(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(let c in e){let l={};e[c].forEach(h=>{l[h.name]&&Bi.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",e),l[h.name]=!0;let y=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];y===c&&Bi.throwArgumentError(`circular type reference to ${JSON.stringify(y)}`,"types",e),!qF(y)&&(n[y]||Bi.throwArgumentError(`unknown type ${JSON.stringify(y)}`,"types",e),n[y].push(c),r[c][y]=!0)})}let s=Object.keys(n).filter(c=>n[c].length===0);s.length===0?Bi.throwArgumentError("missing primary type","types",e):s.length>1&&Bi.throwArgumentError(`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ft(this,"primaryType",s[0]);function a(c,l){l[c]&&Bi.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),l[c]=!0,Object.keys(r[c]).forEach(h=>{n[h]&&(a(h,l),Object.keys(l).forEach(y=>{i[y][h]=!0}))}),delete l[c]}o(a,"checkCircular"),a(this.primaryType,{});for(let c in i){let l=Object.keys(i[c]);l.sort(),this._types[c]=kye(c,e[c])+l.map(h=>kye(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=qF(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return c=>{a>=0&&c.length!==a&&Bi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let l=c.map(s);return this._types[i]&&(l=l.map(Mn)),Mn((0,Ji.hexConcat)(l))}}let n=this.types[e];if(n){let i=ev(this._types[e]);return s=>{let a=n.map(({name:c,type:l})=>{let h=this.getEncoder(l)(s[c]);return this._types[l]?Mn(h):h});return a.unshift(i),(0,Ji.hexConcat)(a)}}return Bi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Bi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Mn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(qF(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let a=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&Bi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(a,l,n))}let s=this.types[e];return s?s.reduce((a,{name:c,type:l})=>(a[c]=this._visit(l,r[c],n),a),{}):Bi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=Nye[n];i||Bi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>HF.indexOf(n.name)-HF.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,Ji.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return Mn(t.encode(e,r,n))}static resolveNames(e,r,n,i){return Net(this,void 0,void 0,function*(){e=jE(e);let s={};e.verifyingContract&&!(0,Ji.isHexString)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let a=t.from(r);a.visit(n,(c,l)=>(c==="address"&&!(0,Ji.isHexString)(l,20)&&(s[l]="0x"),l));for(let c in s)s[c]=yield i(c);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(c,l)=>c==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},s=[];HF.forEach(l=>{let h=e[l];h!=null&&(i[l]=Det[l](h),s.push({name:l,type:Nye[l]}))});let a=t.from(r),c=jE(r);return c.EIP712Domain?Bi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=s,a.encode(n),{types:c,domain:i,primaryType:a.primaryType,message:a.visit(n,(l,h)=>{if(l.match(/^bytes(\d*)/))return(0,Ji.hexlify)((0,Ji.arrayify)(h));if(l.match(/^u?int/))return En.from(h).toString();switch(l){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&Bi.throwArgumentError("invalid string","value",h),h}return Bi.throwArgumentError("unsupported type","type",l)})}}};p();m();p();m();var VF=We(us());var mI=class{static{o(this,"BaseX")}constructor(e){Ft(this,"alphabet",e),Ft(this,"base",e.length),Ft(this,"_alphabetMap",{}),Ft(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,VF.arrayify)(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let c=0;c<n.length;++c)a+=n[c]<<8,n[c]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,VF.arrayify)(new Uint8Array(r.reverse()))}},JWt=new mI("abcdefghijklmnopqrstuvwxyz234567"),jF=new mI("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var on=We(us());p();m();p();m();var jp=We(us()),$F=We(KF());function Py(t,e,r,n,i){t=(0,jp.arrayify)(t),e=(0,jp.arrayify)(e);let s,a=1,c=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let h,y;for(let g=1;g<=a;g++){l[e.length]=g>>24&255,l[e.length+1]=g>>16&255,l[e.length+2]=g>>8&255,l[e.length+3]=g&255;let E=(0,jp.arrayify)((0,$F.computeHmac)(i,t,l));s||(s=E.length,y=new Uint8Array(s),a=Math.ceil(n/s),h=n-(a-1)*s),y.set(E);for(let M=1;M<r;M++){E=(0,jp.arrayify)((0,$F.computeHmac)(i,t,E));for(let k=0;k<s;k++)y[k]^=E[k]}let T=(g-1)*s,O=g===a?h:s;c.set((0,jp.arrayify)(y).slice(0,O),T)}return(0,jp.hexlify)(c)}o(Py,"pbkdf2");p();m();p();m();var dr=We(yb()),md=We(lx());function nv(t,e,r){return r={path:e,exports:{},require:o(function(n,i){return Wet(n,i??r.path)},"require")},t(r,r.exports),r.exports}o(nv,"createCommonjsModule");function Wet(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}o(Wet,"commonjsRequire");var XF=Vye;function Vye(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Vye,"assert");Vye.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var rl=nv(function(t,e){"use strict";var r=e;function n(a,c){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)l[h]=a[h]|0;return l}if(c==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)l.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var y=a.charCodeAt(h),g=y>>8,E=y&255;g?l.push(g,E):l.push(E)}return l}o(n,"toArray"),r.toArray=n;function i(a){return a.length===1?"0"+a:a}o(i,"zero2"),r.zero2=i;function s(a){for(var c="",l=0;l<a.length;l++)c+=i(a[l].toString(16));return c}o(s,"toHex"),r.toHex=s,r.encode=o(function(c,l){return l==="hex"?s(c):c},"encode")}),nf=nv(function(t,e){"use strict";var r=e;r.assert=XF,r.toArray=rl.toArray,r.zero2=rl.zero2,r.toHex=rl.toHex,r.encode=rl.encode;function n(l,h,y){var g=new Array(Math.max(l.bitLength(),y)+1);g.fill(0);for(var E=1<<h+1,T=l.clone(),O=0;O<g.length;O++){var M,k=T.andln(E-1);T.isOdd()?(k>(E>>1)-1?M=(E>>1)-k:M=k,T.isubn(M)):M=0,g[O]=M,T.iushrn(1)}return g}o(n,"getNAF"),r.getNAF=n;function i(l,h){var y=[[],[]];l=l.clone(),h=h.clone();for(var g=0,E=0,T;l.cmpn(-g)>0||h.cmpn(-E)>0;){var O=l.andln(3)+g&3,M=h.andln(3)+E&3;O===3&&(O=-1),M===3&&(M=-1);var k;O&1?(T=l.andln(7)+g&7,(T===3||T===5)&&M===2?k=-O:k=O):k=0,y[0].push(k);var C;M&1?(T=h.andln(7)+E&7,(T===3||T===5)&&O===2?C=-M:C=M):C=0,y[1].push(C),2*g===k+1&&(g=1-g),2*E===C+1&&(E=1-E),l.iushrn(1),h.iushrn(1)}return y}o(i,"getJSF"),r.getJSF=i;function s(l,h,y){var g="_"+h;l.prototype[h]=o(function(){return this[g]!==void 0?this[g]:this[g]=y.call(this)},"cachedProperty")}o(s,"cachedProperty"),r.cachedProperty=s;function a(l){return typeof l=="string"?r.toArray(l,"hex"):l}o(a,"parseBytes"),r.parseBytes=a;function c(l){return new dr.default(l,"hex","le")}o(c,"intFromLE"),r.intFromLE=c}),vI=nf.getNAF,Yet=nf.getJSF,_I=nf.assert;function Kp(t,e){this.type=t,this.p=new dr.default(e.p,16),this.red=e.prime?dr.default.red(e.prime):dr.default.mont(this.p),this.zero=new dr.default(0).toRed(this.red),this.one=new dr.default(1).toRed(this.red),this.two=new dr.default(2).toRed(this.red),this.n=e.n&&new dr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(Kp,"BaseCurve");var Ly=Kp;Kp.prototype.point=o(function(){throw new Error("Not implemented")},"point");Kp.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");Kp.prototype._fixedNafMul=o(function(e,r){_I(e.precomputed);var n=e._getDoubles(),i=vI(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var h=c+n.step-1;h>=c;h--)l=(l<<1)+i[h];a.push(l)}for(var y=this.jpoint(null,null,null),g=this.jpoint(null,null,null),E=s;E>0;E--){for(c=0;c<a.length;c++)l=a[c],l===E?g=g.mixedAdd(n.points[c]):l===-E&&(g=g.mixedAdd(n.points[c].neg()));y=y.add(g)}return y.toP()},"_fixedNafMul");Kp.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=vI(r,n,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,c=c.dblp(h),l<0)break;var y=a[l];_I(y!==0),e.type==="affine"?y>0?c=c.mixedAdd(s[y-1>>1]):c=c.mixedAdd(s[-y-1>>1].neg()):y>0?c=c.add(s[y-1>>1]):c=c.add(s[-y-1>>1].neg())}return e.type==="affine"?c.toP():c},"_wnafMul");Kp.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0,y,g,E;for(y=0;y<i;y++){E=r[y];var T=E._getNAFPoints(e);a[y]=T.wnd,c[y]=T.points}for(y=i-1;y>=1;y-=2){var O=y-1,M=y;if(a[O]!==1||a[M]!==1){l[O]=vI(n[O],a[O],this._bitLength),l[M]=vI(n[M],a[M],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[M].length,h);continue}var k=[r[O],null,null,r[M]];r[O].y.cmp(r[M].y)===0?(k[1]=r[O].add(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg())):r[O].y.cmp(r[M].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].add(r[M].neg())):(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],B=Yet(n[O],n[M]);for(h=Math.max(B[0].length,h),l[O]=new Array(h),l[M]=new Array(h),g=0;g<h;g++){var N=B[0][g]|0,P=B[1][g]|0;l[O][g]=C[(N+1)*3+(P+1)],l[M][g]=0,c[O]=k}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(y=h;y>=0;y--){for(var Z=0;y>=0;){var W=!0;for(g=0;g<i;g++)F[g]=l[g][y]|0,F[g]!==0&&(W=!1);if(!W)break;Z++,y--}if(y>=0&&Z++,H=H.dblp(Z),y<0)break;for(g=0;g<i;g++){var X=F[g];X!==0&&(X>0?E=c[g][X-1>>1]:X<0&&(E=c[g][-X-1>>1].neg()),E.type==="affine"?H=H.mixedAdd(E):H=H.add(E))}}for(y=0;y<i;y++)c[y]=null;return s?H:H.toP()},"_wnafMulAdd");function eu(t,e){this.curve=t,this.type=e,this.precomputed=null}o(eu,"BasePoint");Kp.BasePoint=eu;eu.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");eu.prototype.validate=o(function(){return this.curve.validate(this)},"validate");Kp.prototype.decodePoint=o(function(e,r){e=nf.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?_I(e[e.length-1]%2===0):e[0]===7&&_I(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");eu.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");eu.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");eu.prototype.encode=o(function(e,r){return nf.encode(this._encode(r),e)},"encode");eu.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");eu.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");eu.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");eu.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");eu.prototype._getBeta=o(function(){return null},"_getBeta");eu.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp");var ZF=nv(function(t){typeof Object.create=="function"?t.exports=o(function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):t.exports=o(function(r,n){if(n){r.super_=n;var i=o(function(){},"TempCtor");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},"inherits")}),Xet=nf.assert;function tu(t){Ly.call(this,"short",t),this.a=new dr.default(t.a,16).toRed(this.red),this.b=new dr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(tu,"ShortCurve");ZF(tu,Ly);var Zet=tu;tu.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new dr.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Xet(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new dr.default(c.a,16),b:new dr.default(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");tu.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:dr.default.mont(e),n=new dr.default(2).toRed(r).redInvm(),i=n.redNeg(),s=new dr.default(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[a,c]},"_getEndoRoots");tu.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new dr.default(1),a=new dr.default(0),c=new dr.default(0),l=new dr.default(1),h,y,g,E,T,O,M,k=0,C,B;n.cmpn(0)!==0;){var N=i.div(n);C=i.sub(N.mul(n)),B=c.sub(N.mul(s));var P=l.sub(N.mul(a));if(!g&&C.cmp(r)<0)h=M.neg(),y=s,g=C.neg(),E=B;else if(g&&++k===2)break;M=C,i=n,n=C,c=s,s=B,l=a,a=P}T=C.neg(),O=B;var H=g.sqr().add(E.sqr()),F=T.sqr().add(O.sqr());return F.cmp(H)>=0&&(T=h,O=y),g.negative&&(g=g.neg(),E=E.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:g,b:E},{a:T,b:O}]},"_getEndoBasis");tu.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),y=a.mul(i.b),g=e.sub(c).sub(l),E=h.add(y).neg();return{k1:g,k2:E}},"_endoSplit");tu.prototype.pointFromX=o(function(e,r){e=new dr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");tu.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");tu.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),l=e[a],h=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=c.k1,s[a*2+1]=c.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),g=0;g<a*2;g++)i[g]=null,s[g]=null;return y},"_endoWnafMulAdd");function ns(t,e,r,n){Ly.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dr.default(e,16),this.y=new dr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(ns,"Point");ZF(ns,Ly.BasePoint);tu.prototype.point=o(function(e,r,n){return new ns(this,e,r,n)},"point");tu.prototype.pointFromJSON=o(function(e,r){return ns.fromJSON(this,e,r)},"pointFromJSON");ns.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");ns.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");ns.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(c){return e.point(c[0],c[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");ns.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");ns.prototype.isInfinity=o(function(){return this.inf},"isInfinity");ns.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");ns.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)},"dbl");ns.prototype.getX=o(function(){return this.x.fromRed()},"getX");ns.prototype.getY=o(function(){return this.y.fromRed()},"getY");ns.prototype.mul=o(function(e){return e=new dr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");ns.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");ns.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");ns.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");ns.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");ns.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function ws(t,e,r,n){Ly.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dr.default(0)):(this.x=new dr.default(e,16),this.y=new dr.default(r,16),this.z=new dr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(ws,"JPoint");ZF(ws,Ly.BasePoint);tu.prototype.jpoint=o(function(e,r,n){return new ws(this,e,r,n)},"jpoint");ws.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");ws.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");ws.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(c);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=l.redSqr(),g=y.redMul(l),E=i.redMul(y),T=h.redSqr().redIAdd(g).redISub(E).redISub(E),O=h.redMul(E.redISub(T)).redISub(a.redMul(g)),M=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,O,M)},"add");ws.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=s.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),y=h.redMul(c),g=n.redMul(h),E=l.redSqr().redIAdd(y).redISub(g).redISub(g),T=l.redMul(g.redISub(E)).redISub(s.redMul(y)),O=this.z.redMul(c);return this.curve.jpoint(E,T,O)},"mixedAdd");ws.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,c=this.y,l=this.z,h=l.redSqr().redSqr(),y=c.redAdd(c);for(r=0;r<e;r++){var g=a.redSqr(),E=y.redSqr(),T=E.redSqr(),O=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(h)),M=a.redMul(E),k=O.redSqr().redISub(M.redAdd(M)),C=M.redISub(k),B=O.redMul(C);B=B.redIAdd(B).redISub(T);var N=y.redMul(l);r+1<e&&(h=h.redMul(T)),a=k,l=N,y=B}return this.curve.jpoint(a,y.redMul(s),l)},"dblp");ws.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");ws.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(c).redISub(c),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=h,r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),E=this.y.redSqr(),T=E.redSqr(),O=this.x.redAdd(E).redSqr().redISub(g).redISub(T);O=O.redIAdd(O);var M=g.redAdd(g).redIAdd(g),k=M.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=M.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");ws.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(c).redISub(c);e=h;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),E=this.y.redSqr(),T=this.x.redMul(E),O=this.x.redSub(g).redMul(this.x.redAdd(g));O=O.redAdd(O).redIAdd(O);var M=T.redIAdd(T);M=M.redIAdd(M);var k=M.redAdd(M);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(g);var C=E.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(M.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");ws.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var y=h.redMul(c),g=l.redSqr().redISub(y.redAdd(y)),E=y.redISub(g),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=l.redMul(E).redISub(T),M=n.redAdd(n).redMul(i);return this.curve.jpoint(g,O,M)},"_dbl");ws.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var l=c.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=s.redIAdd(c).redSqr().redISub(a).redISub(l).redISub(h),g=r.redMul(y);g=g.redIAdd(g),g=g.redIAdd(g);var E=this.x.redMul(l).redISub(g);E=E.redIAdd(E),E=E.redIAdd(E);var T=this.y.redMul(y.redMul(h.redISub(y)).redISub(c.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,T,O)},"trpl");ws.prototype.mul=o(function(e,r){return e=new dr.default(e,r),this.curve._wnafMul(this,e)},"mul");ws.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");ws.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");ws.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");ws.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");var bI=nv(function(t,e){"use strict";var r=e;r.base=Ly,r.short=Zet,r.mont=null,r.edwards=null}),xI=nv(function(t,e){"use strict";var r=e,n=nf.assert;function i(c){c.type==="short"?this.curve=new bI.short(c):c.type==="edwards"?this.curve=new bI.edwards(c):this.curve=new bI.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(i,"PresetCurve"),r.PresetCurve=i;function s(c,l){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:o(function(){var h=new i(l);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:h}),h},"get")})}o(s,"defineCurve"),s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:md.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:md.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:md.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:md.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:md.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:md.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:md.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:md.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function zp(t){if(!(this instanceof zp))return new zp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=rl.toArray(t.entropy,t.entropyEnc||"hex"),r=rl.toArray(t.nonce,t.nonceEnc||"hex"),n=rl.toArray(t.pers,t.persEnc||"hex");XF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(zp,"HmacDRBG");var jye=zp;zp.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");zp.prototype._hmac=o(function(){return new md.default.hmac(this.hash,this.K)},"hmac");zp.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");zp.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=rl.toArray(e,r),n=rl.toArray(n,i),XF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");zp.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=rl.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,rl.encode(a,r)},"generate");var YF=nf.assert;function da(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(da,"KeyPair");var JF=da;da.fromPublic=o(function(e,r,n){return r instanceof da?r:new da(e,{pub:r,pubEnc:n})},"fromPublic");da.fromPrivate=o(function(e,r,n){return r instanceof da?r:new da(e,{priv:r,privEnc:n})},"fromPrivate");da.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");da.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");da.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");da.prototype._importPrivate=o(function(e,r){this.priv=new dr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");da.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?YF(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&YF(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");da.prototype.derive=o(function(e){return e.validate()||YF(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");da.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");da.prototype.verify=o(function(e,r){return this.ec.verify(e,r,this)},"verify");da.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect");var Jet=nf.assert;function wI(t,e){if(t instanceof wI)return t;this._importDER(t,e)||(Jet(t.r&&t.s,"Signature without r or s"),this.r=new dr.default(t.r,16),this.s=new dr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(wI,"Signature");var EI=wI;function Qet(){this.place=0}o(Qet,"Position");function GF(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(GF,"getLength");function qye(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(qye,"rmPadding");wI.prototype._importDER=o(function(e,r){e=nf.toArray(e,r);var n=new Qet;if(e[n.place++]!==48)return!1;var i=GF(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=GF(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var c=GF(e,n);if(c===!1||e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new dr.default(a),this.s=new dr.default(l),this.recoveryParam=null,!0},"_importDER");function WF(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(WF,"constructLength");wI.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=qye(r),n=qye(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];WF(i,r.length),i=i.concat(r),i.push(2),WF(i,n.length);var s=i.concat(n),a=[48];return WF(a,s.length),a=a.concat(s),nf.encode(a,e)},"toDER");var ett=o(function(){throw new Error("unsupported")},"rand"),zye=nf.assert;function Qf(t){if(!(this instanceof Qf))return new Qf(t);typeof t=="string"&&(zye(Object.prototype.hasOwnProperty.call(xI,t),"Unknown curve "+t),t=xI[t]),t instanceof xI.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Qf,"EC");var ttt=Qf;Qf.prototype.keyPair=o(function(e){return new JF(this,e)},"keyPair");Qf.prototype.keyFromPrivate=o(function(e,r){return JF.fromPrivate(this,e,r)},"keyFromPrivate");Qf.prototype.keyFromPublic=o(function(e,r){return JF.fromPublic(this,e,r)},"keyFromPublic");Qf.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new jye({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ett(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new dr.default(2));;){var s=new dr.default(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Qf.prototype._truncateToN=o(function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Qf.prototype.sign=o(function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new dr.default(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),c=e.toArray("be",s),l=new jye({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new dr.default(1)),y=0;;y++){var g=i.k?i.k(y):new dr.default(l.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(h)>=0)){var E=this.g.mul(g);if(!E.isInfinity()){var T=E.getX(),O=T.umod(this.n);if(O.cmpn(0)!==0){var M=g.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var k=(E.getY().isOdd()?1:0)|(T.cmp(O)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),k^=1),new EI({r:O,s:M,recoveryParam:k})}}}}}},"sign");Qf.prototype.verify=o(function(e,r,n,i){e=this._truncateToN(new dr.default(e,16)),n=this.keyFromPublic(n,i),r=new EI(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(l,n.getPublic(),h),y.isInfinity()?!1:y.eqXToP(s)):(y=this.g.mulAdd(l,n.getPublic(),h),y.isInfinity()?!1:y.getX().umod(this.n).cmp(s)===0)},"verify");Qf.prototype.recoverPubKey=function(t,e,r,n){zye((3&r)===r,"The recovery param is more than two bits"),e=new EI(e,n);var i=this.n,s=new dr.default(t),a=e.r,c=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var y=e.r.invm(i),g=i.sub(s).mul(y).umod(i),E=c.mul(y).umod(i);return this.g.mulAdd(g,a,E)};Qf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new EI(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var rtt=nv(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=nf,r.rand=function(){throw new Error("unsupported")},r.curve=bI,r.curves=xI,r.ec=ttt,r.eddsa=null}),Kye=rtt.ec;var mi=We(us());var Gye=We(Ca());p();m();var $ye="signing-key/5.7.0";var eH=new Gye.Logger($ye),QF=null;function gd(){return QF||(QF=new Kye("secp256k1")),QF}o(gd,"getCurve");var yd=class{static{o(this,"SigningKey")}constructor(e){Ft(this,"curve","secp256k1"),Ft(this,"privateKey",(0,mi.hexlify)(e)),(0,mi.hexDataLength)(this.privateKey)!==32&&eH.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=gd().keyFromPrivate((0,mi.arrayify)(this.privateKey));Ft(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ft(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ft(this,"_isSigningKey",!0)}_addPoint(e){let r=gd().keyFromPublic((0,mi.arrayify)(this.publicKey)),n=gd().keyFromPublic((0,mi.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=gd().keyFromPrivate((0,mi.arrayify)(this.privateKey)),n=(0,mi.arrayify)(e);n.length!==32&&eH.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,mi.splitSignature)({recoveryParam:i.recoveryParam,r:(0,mi.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,mi.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=gd().keyFromPrivate((0,mi.arrayify)(this.privateKey)),n=gd().keyFromPublic((0,mi.arrayify)(tH(e)));return(0,mi.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Wye(t,e){let r=(0,mi.splitSignature)(e),n={r:(0,mi.arrayify)(r.r),s:(0,mi.arrayify)(r.s)};return"0x"+gd().recoverPubKey((0,mi.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}o(Wye,"recoverPublicKey");function tH(t,e){let r=(0,mi.arrayify)(t);if(r.length===32){let n=new yd(r);return e?"0x"+gd().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,mi.hexlify)(r):"0x"+gd().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+gd().keyFromPublic(r).getPublic(!0,"hex"):(0,mi.hexlify)(r)}return eH.throwArgumentError("invalid public or private key","key","[REDACTED]")}o(tH,"computePublicKey");var xc=We(KF());p();m();var cr=We(us());var SI=We(Ca());p();m();var Yye="transactions/5.7.0";var pa=new SI.Logger(Yye),Xye;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Xye||(Xye={}));function nH(t){return t==="0x"?null:ls(t)}o(nH,"handleAddress");function ha(t){return t==="0x"?BF:En.from(t)}o(ha,"handleNumber");var ntt=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],itt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function bd(t){let e=tH(t);return ls((0,cr.hexDataSlice)(Mn((0,cr.hexDataSlice)(e,1)),12))}o(bd,"computeAddress");function iH(t,e){return bd(Wye((0,cr.arrayify)(t),e))}o(iH,"recoverAddress");function of(t,e){let r=(0,cr.stripZeros)(En.from(t).toHexString());return r.length>32&&pa.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}o(of,"formatNumber");function rH(t,e){return{address:ls(t),storageKeys:(e||[]).map((r,n)=>((0,cr.hexDataLength)(r)!==32&&pa.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}o(rH,"accessSetify");function oH(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&pa.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),rH(r[0],r[1])):rH(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return rH(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}o(oH,"accessListify");function Zye(t){return oH(t).map(e=>[e.address,e.storageKeys])}o(Zye,"formatAccessList");function Jye(t,e){if(t.gasPrice!=null){let n=En.from(t.gasPrice),i=En.from(t.maxFeePerGas||0);n.eq(i)||pa.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[of(t.chainId||0,"chainId"),of(t.nonce||0,"nonce"),of(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),of(t.maxFeePerGas||0,"maxFeePerGas"),of(t.gasLimit||0,"gasLimit"),t.to!=null?ls(t.to):"0x",of(t.value||0,"value"),t.data||"0x",Zye(t.accessList||[])];if(e){let n=(0,cr.splitSignature)(e);r.push(of(n.recoveryParam,"recoveryParam")),r.push((0,cr.stripZeros)(n.r)),r.push((0,cr.stripZeros)(n.s))}return(0,cr.hexConcat)(["0x02",bb(r)])}o(Jye,"_serializeEip1559");function Qye(t,e){let r=[of(t.chainId||0,"chainId"),of(t.nonce||0,"nonce"),of(t.gasPrice||0,"gasPrice"),of(t.gasLimit||0,"gasLimit"),t.to!=null?ls(t.to):"0x",of(t.value||0,"value"),t.data||"0x",Zye(t.accessList||[])];if(e){let n=(0,cr.splitSignature)(e);r.push(of(n.recoveryParam,"recoveryParam")),r.push((0,cr.stripZeros)(n.r)),r.push((0,cr.stripZeros)(n.s))}return(0,cr.hexConcat)(["0x01",bb(r)])}o(Qye,"_serializeEip2930");function ott(t,e){Qge(t,itt);let r=[];ntt.forEach(function(a){let c=t[a.name]||[],l={};a.numeric&&(l.hexPad="left"),c=(0,cr.arrayify)((0,cr.hexlify)(c,l)),a.length&&c.length!==a.length&&c.length>0&&pa.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,c),a.maxLength&&(c=(0,cr.stripZeros)(c),c.length>a.maxLength&&pa.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,c)),r.push((0,cr.hexlify)(c))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&pa.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,cr.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,cr.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return bb(r);let i=(0,cr.splitSignature)(e),s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&pa.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&pa.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,cr.hexlify)(s)),r.push((0,cr.stripZeros)((0,cr.arrayify)(i.r))),r.push((0,cr.stripZeros)((0,cr.arrayify)(i.s))),bb(r)}o(ott,"_serialize");function sH(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&pa.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),ott(t,e);switch(t.type){case 1:return Qye(t,e);case 2:return Jye(t,e);default:break}return pa.throwError(`unsupported transaction type: ${t.type}`,SI.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}o(sH,"serialize");function e1e(t,e,r){try{let n=ha(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{pa.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,cr.hexZeroPad)(e[1],32),t.s=(0,cr.hexZeroPad)(e[2],32);try{let n=Mn(r(t));t.from=iH(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}o(e1e,"_parseEipSignature");function stt(t){let e=Z6(t.slice(1));e.length!==9&&e.length!==12&&pa.throwArgumentError("invalid component count for transaction type: 2","payload",(0,cr.hexlify)(t));let r=ha(e[2]),n=ha(e[3]),i={type:2,chainId:ha(e[0]).toNumber(),nonce:ha(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ha(e[4]),to:nH(e[5]),value:ha(e[6]),data:e[7],accessList:oH(e[8])};return e.length===9||(i.hash=Mn(t),e1e(i,e.slice(9),Jye)),i}o(stt,"_parseEip1559");function att(t){let e=Z6(t.slice(1));e.length!==8&&e.length!==11&&pa.throwArgumentError("invalid component count for transaction type: 1","payload",(0,cr.hexlify)(t));let r={type:1,chainId:ha(e[0]).toNumber(),nonce:ha(e[1]).toNumber(),gasPrice:ha(e[2]),gasLimit:ha(e[3]),to:nH(e[4]),value:ha(e[5]),data:e[6],accessList:oH(e[7])};return e.length===8||(r.hash=Mn(t),e1e(r,e.slice(8),Qye)),r}o(att,"_parseEip2930");function ctt(t){let e=Z6(t);e.length!==9&&e.length!==6&&pa.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ha(e[0]).toNumber(),gasPrice:ha(e[1]),gasLimit:ha(e[2]),to:nH(e[3]),value:ha(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=En.from(e[6]).toNumber()}catch{return r}if(r.r=(0,cr.hexZeroPad)(e[7],32),r.s=(0,cr.hexZeroPad)(e[8],32),En.from(r.r).isZero()&&En.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,cr.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let s=Mn(bb(i));try{r.from=iH(s,{r:(0,cr.hexlify)(r.r),s:(0,cr.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=Mn(t)}return r.type=null,r}o(ctt,"_parse");function XYt(t){let e=(0,cr.arrayify)(t);if(e[0]>127)return ctt(e);switch(e[0]){case 1:return att(e);case 2:return stt(e);default:break}return pa.throwError(`unsupported transaction type: ${e[0]}`,SI.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}o(XYt,"parse");p();m();p();m();var r1e=We(Ca());p();m();var t1e="wordlists/5.7.0";var ftt=!1,utt=new r1e.Logger(t1e),iv=class t{static{o(this,"Wordlist")}constructor(e){utt.checkAbstract(new.target,t),Ft(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return ev(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),ftt)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||Ft(n._ethers.wordlists,r,e))}catch{}}};p();m();p();m();var ltt="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",YE=null;function n1e(t){if(YE==null&&(YE=ltt.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),iv.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw YE=null,new Error("BIP39 Wordlist for en (English) FAILED")}o(n1e,"loadWords");var aH=class extends iv{static{o(this,"LangEn")}constructor(){super("en")}getWord(e){return n1e(this),YE[e]}getWordIndex(e){return n1e(this),YE.indexOf(e)}},cH=new aH;iv.register(cH);var AI={en:cH};var s1e=We(Ca());p();m();var i1e="hdnode/5.7.0";var II=new s1e.Logger(i1e),dtt=En.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),htt=rs("Bitcoin seed"),XE=2147483648;function a1e(t){return(1<<t)-1<<8-t}o(a1e,"getUpperMask");function ptt(t){return(1<<t)-1}o(ptt,"getLowerMask");function TI(t){return(0,on.hexZeroPad)((0,on.hexlify)(t),32)}o(TI,"bytes32");function o1e(t){return jF.encode((0,on.concat)([t,(0,on.hexDataSlice)((0,xc.sha256)((0,xc.sha256)(t)),0,4)]))}o(o1e,"base58check");function fH(t){if(t==null)return AI.en;if(typeof t=="string"){let e=AI[t];return e==null&&II.throwArgumentError("unknown locale","wordlist",t),e}return t}o(fH,"getWordlist");var ov={},Dy="m/44'/60'/0'/0/0",$p=class t{static{o(this,"HDNode")}constructor(e,r,n,i,s,a,c,l){if(e!==ov)throw new Error("HDNode constructor cannot be called directly");if(r){let h=new yd(r);Ft(this,"privateKey",h.privateKey),Ft(this,"publicKey",h.compressedPublicKey)}else Ft(this,"privateKey",null),Ft(this,"publicKey",(0,on.hexlify)(n));Ft(this,"parentFingerprint",i),Ft(this,"fingerprint",(0,on.hexDataSlice)((0,xc.ripemd160)((0,xc.sha256)(this.publicKey)),0,4)),Ft(this,"address",bd(this.publicKey)),Ft(this,"chainCode",s),Ft(this,"index",a),Ft(this,"depth",c),l==null?(Ft(this,"mnemonic",null),Ft(this,"path",null)):typeof l=="string"?(Ft(this,"mnemonic",null),Ft(this,"path",l)):(Ft(this,"mnemonic",l),Ft(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return o1e((0,on.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,on.hexlify)(this.depth),this.parentFingerprint,(0,on.hexZeroPad)((0,on.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,on.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(ov,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~XE));let n=new Uint8Array(37);if(e&XE){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,on.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,on.arrayify)(this.publicKey));for(let g=24;g>=0;g-=8)n[33+(g>>3)]=e>>24-g&255;let i=(0,on.arrayify)((0,xc.computeHmac)(xc.SupportedAlgorithm.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32),c=null,l=null;this.privateKey?c=TI(En.from(s).add(this.privateKey).mod(dtt)):l=new yd((0,on.hexlify)(s))._addPoint(this.publicKey);let h=r,y=this.mnemonic;return y&&(h=Object.freeze({phrase:y.phrase,path:r,locale:y.locale||"en"})),new t(ov,c,l,this.fingerprint,TI(a),e,this.depth+1,h)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let s=r[i];if(s.match(/^[0-9]+'$/)){let a=parseInt(s.substring(0,s.length-1));if(a>=XE)throw new Error("invalid path index - "+s);n=n._derive(XE+a)}else if(s.match(/^[0-9]+$/)){let a=parseInt(s);if(a>=XE)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){let n=(0,on.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,on.arrayify)((0,xc.computeHmac)(xc.SupportedAlgorithm.sha512,htt,n));return new t(ov,TI(i.slice(0,32)),null,"0x00000000",TI(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=fH(n),e=ZE(uH(e,n),n),t._fromSeed(mtt(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=jF.decode(e);(r.length!==82||o1e(r.slice(0,78))!==e)&&II.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,on.hexlify)(r.slice(5,9)),s=parseInt((0,on.hexlify)(r.slice(9,13)).substring(2),16),a=(0,on.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,on.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(ov,null,(0,on.hexlify)(c),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new t(ov,(0,on.hexlify)(c.slice(1)),null,i,a,s,n,null)}return II.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function mtt(t,e){e||(e="");let r=rs("mnemonic"+e,tl.NFKD);return Py(rs(t,tl.NFKD),r,2048,64,"sha512")}o(mtt,"mnemonicToSeed");function uH(t,e){e=fH(e),II.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,on.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let h=0;h<r.length;h++){let y=e.getWordIndex(r[h].normalize("NFKD"));if(y===-1)throw new Error("invalid mnemonic");for(let g=0;g<11;g++)y&1<<10-g&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,a=r.length/3,c=a1e(a);if(((0,on.arrayify)((0,xc.sha256)(n.slice(0,s/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return(0,on.hexlify)(n.slice(0,s/8))}o(uH,"mnemonicToEntropy");function ZE(t,e){if(e=fH(e),t=(0,on.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&ptt(8-n)),n+=3);let i=t.length/4,s=(0,on.arrayify)((0,xc.sha256)(t))[0]&a1e(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}o(ZE,"entropyToMnemonic");p();m();p();m();var u1e=We(us()),dH=We(Ca());p();m();var c1e="random/5.7.0";var lH=new dH.Logger(c1e);function gtt(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}o(gtt,"getGlobal");var f1e=gtt(),RI=f1e.crypto||f1e.msCrypto;(!RI||!RI.getRandomValues)&&(lH.warn("WARNING: Missing strong random number source"),RI={getRandomValues:o(function(t){return lH.throwError("no secure random source avaialble",dH.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})},"getRandomValues")});function Gp(t){(t<=0||t>1024||t%1||t!=t)&&lH.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return RI.getRandomValues(e),(0,u1e.arrayify)(e)}o(Gp,"randomBytes");p();m();p();m();var mH=We(pH());var gH=We(us());var h1e=We(Ca());p();m();var OI="json-wallets/5.7.0";p();m();var sv=We(us());function qh(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,sv.arrayify)(t)}o(qh,"looseArrayify");function av(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}o(av,"zpad");function JE(t){return typeof t=="string"?rs(t,tl.NFKC):(0,sv.arrayify)(t)}o(JE,"getPassword");function Pi(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(let a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}o(Pi,"searchPath");function d1e(t){let e=(0,sv.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,sv.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}o(d1e,"uuidV4");var ytt=new h1e.Logger(OI),yH=class extends Vp{static{o(this,"CrowdsaleAccount")}isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function bH(t,e){let r=JSON.parse(t);e=JE(e);let n=ls(Pi(r,"ethaddr")),i=qh(Pi(r,"encseed"));(!i||i.length%16!==0)&&ytt.throwArgumentError("invalid encseed","json",t);let s=(0,gH.arrayify)(Py(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),l=new mH.default.ModeOfOperation.cbc(s,a),h=mH.default.padding.pkcs7.strip((0,gH.arrayify)(l.decrypt(c))),y="";for(let T=0;T<h.length;T++)y+=String.fromCharCode(h[T]);let g=rs(y),E=Mn(g);return new yH({_isCrowdsaleAccount:!0,address:n,privateKey:E})}o(bH,"decrypt");p();m();function xH(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}o(xH,"isCrowdsaleWallet");function vH(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}o(vH,"isKeystoreWallet");p();m();var Vh=We(pH()),NI=We(m1e());var Li=We(us());var MI=We(Ca());var btt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},wH=new MI.Logger(OI);function g1e(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}o(g1e,"hasMnemonic");var EH=class extends Vp{static{o(this,"KeystoreAccount")}isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function xtt(t,e,r){if(Pi(t,"crypto/cipher")==="aes-128-ctr"){let i=qh(Pi(t,"crypto/cipherparams/iv")),s=new Vh.default.Counter(i),a=new Vh.default.ModeOfOperation.ctr(e,s);return(0,Li.arrayify)(a.decrypt(r))}return null}o(xtt,"_decrypt");function y1e(t,e){let r=qh(Pi(t,"crypto/ciphertext"));if((0,Li.hexlify)(Mn((0,Li.concat)([e.slice(16,32),r]))).substring(2)!==Pi(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=xtt(t,e.slice(0,16),r);i||wH.throwError("unsupported cipher",MI.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=e.slice(32,64),a=bd(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),ls(l)!==a)throw new Error("address mismatch")}let c={_isKeystoreAccount:!0,address:a,privateKey:(0,Li.hexlify)(i)};if(Pi(t,"x-ethers/version")==="0.1"){let l=qh(Pi(t,"x-ethers/mnemonicCiphertext")),h=qh(Pi(t,"x-ethers/mnemonicCounter")),y=new Vh.default.Counter(h),g=new Vh.default.ModeOfOperation.ctr(s,y),E=Pi(t,"x-ethers/path")||Dy,T=Pi(t,"x-ethers/locale")||"en",O=(0,Li.arrayify)(g.decrypt(l));try{let M=ZE(O,T),k=$p.fromMnemonic(M,null,T).derivePath(E);if(k.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=k.mnemonic}catch(M){if(M.code!==MI.Logger.errors.INVALID_ARGUMENT||M.argument!=="wordlist")throw M}}return new EH(c)}o(y1e,"_getAccount");function b1e(t,e,r,n,i){return(0,Li.arrayify)(Py(t,e,r,n,i))}o(b1e,"pbkdf2Sync");function vtt(t,e,r,n,i){return Promise.resolve(b1e(t,e,r,n,i))}o(vtt,"pbkdf2");function x1e(t,e,r,n,i){let s=JE(e),a=Pi(t,"crypto/kdf");if(a&&typeof a=="string"){let c=o(function(l,h){return wH.throwArgumentError("invalid key-derivation function parameters",l,h)},"throwError");if(a.toLowerCase()==="scrypt"){let l=qh(Pi(t,"crypto/kdfparams/salt")),h=parseInt(Pi(t,"crypto/kdfparams/n")),y=parseInt(Pi(t,"crypto/kdfparams/r")),g=parseInt(Pi(t,"crypto/kdfparams/p"));(!h||!y||!g)&&c("kdf",a),h&h-1&&c("N",h);let E=parseInt(Pi(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),n(s,l,h,y,g,64,i)}else if(a.toLowerCase()==="pbkdf2"){let l=qh(Pi(t,"crypto/kdfparams/salt")),h=null,y=Pi(t,"crypto/kdfparams/prf");y==="hmac-sha256"?h="sha256":y==="hmac-sha512"?h="sha512":c("prf",y);let g=parseInt(Pi(t,"crypto/kdfparams/c")),E=parseInt(Pi(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),r(s,l,g,E,h)}}return wH.throwArgumentError("unsupported key-derivation function","kdf",a)}o(x1e,"_computeKdfKey");function v1e(t,e){let r=JSON.parse(t),n=x1e(r,e,b1e,NI.default.syncScrypt);return y1e(r,n)}o(v1e,"decryptSync");function _1e(t,e,r){return btt(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield x1e(n,e,vtt,NI.default.scrypt,r);return y1e(n,i)})}o(_1e,"decrypt");function SH(t,e,r,n){try{if(ls(t.address)!==bd(t.privateKey))throw new Error("address/privateKey mismatch");if(g1e(t)){let k=t.mnemonic;if($p.fromMnemonic(k.phrase,null,k.locale).derivePath(k.path||Dy).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(k){return Promise.reject(k)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Li.arrayify)(t.privateKey),s=JE(e),a=null,c=null,l=null;if(g1e(t)){let k=t.mnemonic;a=(0,Li.arrayify)(uH(k.phrase,k.locale||"en")),c=k.path||Dy,l=k.locale||"en"}let h=r.client;h||(h="ethers.js");let y=null;r.salt?y=(0,Li.arrayify)(r.salt):y=Gp(32);let g=null;if(r.iv){if(g=(0,Li.arrayify)(r.iv),g.length!==16)throw new Error("invalid iv")}else g=Gp(16);let E=null;if(r.uuid){if(E=(0,Li.arrayify)(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=Gp(16);let T=1<<17,O=8,M=1;return r.scrypt&&(r.scrypt.N&&(T=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&(M=r.scrypt.p)),NI.default.scrypt(s,y,T,O,M,64,n).then(k=>{k=(0,Li.arrayify)(k);let C=k.slice(0,16),B=k.slice(16,32),N=k.slice(32,64),P=new Vh.default.Counter(g),H=new Vh.default.ModeOfOperation.ctr(C,P),F=(0,Li.arrayify)(H.encrypt(i)),Z=Mn((0,Li.concat)([B,F])),W={address:t.address.substring(2).toLowerCase(),id:d1e(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Li.hexlify)(g).substring(2)},ciphertext:(0,Li.hexlify)(F).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Li.hexlify)(y).substring(2),n:T,dklen:32,p:M,r:O},mac:Z.substring(2)}};if(a){let X=Gp(16),S=new Vh.default.Counter(X),f=new Vh.default.ModeOfOperation.ctr(N,S),d=(0,Li.arrayify)(f.encrypt(a)),b=new Date,x=b.getUTCFullYear()+"-"+av(b.getUTCMonth()+1,2)+"-"+av(b.getUTCDate(),2)+"T"+av(b.getUTCHours(),2)+"-"+av(b.getUTCMinutes(),2)+"-"+av(b.getUTCSeconds(),2)+".0Z";W["x-ethers"]={client:h,gethFilename:"UTC--"+x+"--"+W.address,mnemonicCounter:(0,Li.hexlify)(X).substring(2),mnemonicCiphertext:(0,Li.hexlify)(d).substring(2),path:c,locale:l,version:"0.1"}}return JSON.stringify(W)})}o(SH,"encrypt");function w1e(t,e,r){if(xH(t)){r&&r(0);let n=bH(t,e);return r&&r(1),Promise.resolve(n)}return vH(t)?_1e(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}o(w1e,"decryptJsonWallet");function E1e(t,e){if(xH(t))return bH(t,e);if(vH(t))return v1e(t,e);throw new Error("invalid JSON wallet")}o(E1e,"decryptJsonWalletSync");var AH=We(Ca());p();m();var S1e="wallet/5.7.0";var A1e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},cv=new AH.Logger(S1e);function _tt(t){return t!=null&&(0,nl.isHexString)(t.privateKey,32)&&t.address!=null}o(_tt,"isAccount");function wtt(t){let e=t.mnemonic;return e&&e.phrase}o(wtt,"hasMnemonic");var fv=class t extends zE{static{o(this,"Wallet")}constructor(e,r){if(super(),_tt(e)){let n=new yd(e.privateKey);if(Ft(this,"_signingKey",()=>n),Ft(this,"address",bd(this.publicKey)),this.address!==ls(e.address)&&cv.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),wtt(e)){let i=e.mnemonic;Ft(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Dy,locale:i.locale||"en"}));let s=this.mnemonic,a=$p.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);bd(a.privateKey)!==this.address&&cv.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Ft(this,"_mnemonic",()=>null)}else{if(yd.isSigningKey(e))e.curve!=="secp256k1"&&cv.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Ft(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new yd(e);Ft(this,"_signingKey",()=>n)}Ft(this,"_mnemonic",()=>null),Ft(this,"address",bd(this.publicKey))}r&&!dI.isProvider(r)&&cv.throwArgumentError("invalid provider","provider",r),Ft(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return Hh(e).then(r=>{r.from!=null&&(ls(r.from)!==this.address&&cv.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(Mn(sH(r)));return sH(r,n)})}signMessage(e){return A1e(this,void 0,void 0,function*(){return(0,nl.joinSignature)(this._signingKey().signDigest(FF(e)))})}_signTypedData(e,r,n){return A1e(this,void 0,void 0,function*(){let i=yield rv.resolveNames(e,r,n,s=>(this.provider==null&&cv.throwError("cannot resolve ENS names without a provider",AH.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return(0,nl.joinSignature)(this._signingKey().signDigest(rv.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),SH(this,e,r,n)}static createRandom(e){let r=Gp(16);e||(e={}),e.extraEntropy&&(r=(0,nl.arrayify)((0,nl.hexDataSlice)(Mn((0,nl.concat)([r,e.extraEntropy])),0,16)));let n=ZE(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return w1e(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(E1e(e,r))}static fromMnemonic(e,r,n){return r||(r=Dy),new t($p.fromMnemonic(e,null,n).derivePath(r))}};var CI=class{static{o(this,"KeypairGeneratorChainPluginEthereum")}addressTypes=[Ye.EVM];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new fv(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Ql(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};p();m();p();m();Ah.sha512Sync=(...t)=>Zl(Ah.concatBytes(...t));var{getPublicKey:Ett}=O8,TH=o(t=>{let e=Ett(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"getDeprecatedSolanaKeyPairFromPrivateKey");var kI=class{static{o(this,"KeypairGeneratorChainPluginSolana")}addressTypes=[Ye.Solana];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Qu.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Ql(s));try{let s=i.derivePathType(n,r);switch(n){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44Sui:return{publicKey:s.publicKey,privateKey:s.secretKey};case Ee.DeprecatedSolana:{let a=TH(s.secretKey);return{publicKey:a.publicKey,privateKey:a.secretKey}}}}finally{i.cleanup()}}};p();m();p();m();p();m();p();m();p();m();p();m();p();m();function Stt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){let y=t.charAt(h),g=y.charCodeAt(0);if(e[g]!==255)throw new TypeError(y+" is ambiguous");e[g]=h}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let y=0,g=0,E=0,T=h.length;for(;E!==T&&h[E]===0;)E++,y++;let O=(T-E)*s+1>>>0,M=new Uint8Array(O);for(;E!==T;){let B=h[E],N=0;for(let P=O-1;(B!==0||N<g)&&P!==-1;P--,N++)B+=256*M[P]>>>0,M[P]=B%r>>>0,B=B/r>>>0;if(B!==0)throw new Error("Non-zero carry");g=N,E++}let k=O-g;for(;k!==O&&M[k]===0;)k++;let C=n.repeat(y);for(;k<O;++k)C+=t.charAt(M[k]);return C}o(a,"encode");function c(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let y=0,g=0,E=0;for(;h[y]===n;)g++,y++;let T=(h.length-y)*i+1>>>0,O=new Uint8Array(T);for(;h[y];){let B=e[h.charCodeAt(y)];if(B===255)return;let N=0;for(let P=T-1;(B!==0||N<E)&&P!==-1;P--,N++)B+=r*O[P]>>>0,O[P]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");E=N,y++}let M=T-E;for(;M!==T&&O[M]===0;)M++;let k=new Uint8Array(g+(T-M)),C=g;for(;M!==T;)k[C++]=O[M++];return k}o(c,"decodeUnsafe");function l(h){let y=c(h);if(y)return y;throw new Error("Non-base"+r+" character")}return o(l,"decode"),{encode:a,decodeUnsafe:c,decode:l}}o(Stt,"base");var T1e=Stt;var Att="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",IH=T1e(Att);var Uy=o(t=>IH.encode(t),"toBase58"),Fy=o(t=>IH.decode(t),"fromBase58");p();m();function is(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}o(is,"fromBase64");var RH=8192;function Di(t){if(t.length<RH)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=RH){let n=t.slice(r,r+RH);e+=String.fromCharCode(...n)}return btoa(e)}o(Di,"toBase64");p();m();p();m();function Wp(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}o(Wp,"fromHex");function ru(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(ru,"toHex");p();m();p();m();function uv(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}o(uv,"ulebEncode");function I1e(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}o(I1e,"ulebDecode");var BI=class{static{o(this,"BcsReader")}constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=I1e(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};p();m();p();m();function OH(t,e){switch(e){case"base58":return Uy(t);case"base64":return Di(t);case"hex":return ru(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}o(OH,"encodeStr");function MH(t,e=["<",">"]){let[r,n]=e,i=[],s="",a=0;for(let c=0;c<t.length;c++){let l=t[c];if(l===r&&a++,l===n&&a--,a===0&&l===","){i.push(s.trim()),s="";continue}s+=l}return i.push(s.trim()),i}o(MH,"splitGenericParameters");var PI=class{static{o(this,"BcsWriter")}constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return NH(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return NH(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return NH(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return uv(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return OH(this.toBytes(),e)}};function NH(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}o(NH,"toLittleEndian");var R1e=o(t=>{throw TypeError(t)},"__typeError"),O1e=o((t,e,r)=>e.has(t)||R1e("Cannot "+r),"__accessCheck"),il=o((t,e,r)=>(O1e(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),DI=o((t,e,r)=>e.has(t)?R1e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),UI=o((t,e,r,n)=>(O1e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),lv,QE,LI,Yp,Ttt=class M1e{static{o(this,"_BcsType")}constructor(e){DI(this,lv),DI(this,QE),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),UI(this,lv,e.write),UI(this,QE,e.serialize??((r,n)=>{let i=new PI({initialSize:this.serializedSize(r)??void 0,...n});return il(this,lv).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),il(this,lv).call(this,e,r)}serialize(e,r){return this.validate(e),new CH(this,il(this,QE).call(this,e,r))}parse(e){let r=new BI(e);return this.read(r)}fromHex(e){return this.parse(Wp(e))}fromBase58(e){return this.parse(Fy(e))}fromBase64(e){return this.parse(is(e))}transform({name:e,input:r,output:n,validate:i}){return new M1e({name:e??this.name,read:o(s=>n(this.read(s)),"read"),write:o((s,a)=>il(this,lv).call(this,r(s),a),"write"),serializedSize:o(s=>this.serializedSize(r(s)),"serializedSize"),serialize:o((s,a)=>il(this,QE).call(this,r(s),a),"serialize"),validate:o(s=>{i?.(s),this.validate(r(s))},"validate")})}};lv=new WeakMap;QE=new WeakMap;var xd=Ttt,Itt=Symbol.for("@mysten/serialized-bcs");var CH=class{static{o(this,"SerializedBcs")}constructor(e,r){DI(this,LI),DI(this,Yp),UI(this,LI,e),UI(this,Yp,r)}get[Itt](){return!0}toBytes(){return il(this,Yp)}toHex(){return ru(il(this,Yp))}toBase64(){return Di(il(this,Yp))}toBase58(){return Uy(il(this,Yp))}parse(){return il(this,LI).parse(il(this,Yp))}};LI=new WeakMap;Yp=new WeakMap;function eS({size:t,...e}){return new xd({...e,serializedSize:o(()=>t,"serializedSize")})}o(eS,"fixedSizeBcsType");function FI({readMethod:t,writeMethod:e,...r}){return eS({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](n),"write"),validate:o(n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)},"validate")})}o(FI,"uIntBcsType");function HI({readMethod:t,writeMethod:e,...r}){return eS({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](BigInt(n)),"write"),validate:o(n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)},"validate")})}o(HI,"bigUIntBcsType");function N1e({serialize:t,...e}){let r=new xd({...e,serialize:t,write:o((n,i)=>{for(let s of r.serialize(n).toBytes())i.write8(s)},"write")});return r}o(N1e,"dynamicSizeBcsType");function C1e({toBytes:t,fromBytes:e,...r}){return new xd({...r,read:o(n=>{let i=n.readULEB(),s=n.readBytes(i);return e(s)},"read"),write:o((n,i)=>{let s=t(n);i.writeULEB(s.length);for(let a=0;a<s.length;a++)i.write8(s[a])},"write"),serialize:o(n=>{let i=t(n),s=uv(i.length),a=new Uint8Array(s.length+i.length);return a.set(s,0),a.set(i,s.length),a},"serialize"),validate:o(n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)},"validate")})}o(C1e,"stringLikeBcsType");function k1e(t){let e=null;function r(){return e||(e=t()),e}return o(r,"getType"),new xd({name:"lazy",read:o(n=>r().read(n),"read"),serializedSize:o(n=>r().serializedSize(n),"serializedSize"),write:o((n,i)=>r().write(n,i),"write"),serialize:o((n,i)=>r().serialize(n,i).toBytes(),"serialize")})}o(k1e,"lazyBcsType");p();m();var ie={u8(t){return FI({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return FI({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return FI({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return HI({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return HI({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return HI({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return eS({name:"bool",size:1,read:o(e=>e.read8()===1,"read"),write:o((e,r)=>r.write8(e?1:0),"write"),...t,validate:o(e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)},"validate")})},uleb128(t){return N1e({name:"uleb128",read:o(e=>e.readULEB(),"read"),serialize:o(e=>Uint8Array.from(uv(e)),"serialize"),...t})},bytes(t,e){return eS({name:`bytes[${t}]`,size:t,read:o(r=>r.readBytes(t),"read"),write:o((r,n)=>{let i=new Uint8Array(r);for(let s=0;s<t;s++)n.write8(i[s]??0)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)},"validate")})},string(t){return C1e({name:"string",toBytes:o(e=>new TextEncoder().encode(e),"toBytes"),fromBytes:o(e=>new TextDecoder().decode(e),"fromBytes"),...t})},fixedArray(t,e,r){return new xd({name:`${e.name}[${t}]`,read:o(n=>{let i=new Array(t);for(let s=0;s<t;s++)i[s]=e.read(n);return i},"read"),write:o((n,i)=>{for(let s of n)e.write(s,i)},"write"),...r,validate:o(n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)},"validate")})},option(t){return ie.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:o(e=>e==null?{None:!0}:{Some:e},"input"),output:o(e=>e.$kind==="Some"?e.Some:null,"output")})},vector(t,e){return new xd({name:`vector<${t.name}>`,read:o(r=>{let n=r.readULEB(),i=new Array(n);for(let s=0;s<n;s++)i[s]=t.read(r);return i},"read"),write:o((r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)},"validate")})},tuple(t,e){return new xd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:o(r=>{let n=0;for(let i=0;i<t.length;i++){let s=t[i].serializedSize(r[i]);if(s==null)return null;n+=s}return n},"serializedSize"),read:o(r=>{let n=[];for(let i of t)n.push(i.read(r));return n},"read"),write:o((r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)},"validate")})},struct(t,e,r){let n=Object.entries(e);return new xd({name:t,serializedSize:o(i=>{let s=0;for(let[a,c]of n){let l=c.serializedSize(i[a]);if(l==null)return null;s+=l}return s},"serializedSize"),read:o(i=>{let s={};for(let[a,c]of n)s[a]=c.read(i);return s},"read"),write:o((i,s)=>{for(let[a,c]of n)c.write(i[a],s)},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)},"validate")})},enum(t,e,r){let n=Object.entries(e);return new xd({name:t,read:o(i=>{let s=i.readULEB(),a=n[s];if(!a)throw new TypeError(`Unknown value ${s} for enum ${t}`);let[c,l]=a;return{[c]:l?.read(i)??!0,$kind:c}},"read"),write:o((i,s)=>{let[a,c]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[h,y]=n[l];if(h===a){s.writeULEB(l),y?.write(c,s);return}}},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let s=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(e,c));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${t}}`);let[a]=s;if(!Object.hasOwn(e,a))throw new TypeError(`Invalid enum variant ${a}`)},"validate")})},map(t,e){return ie.vector(ie.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:o(r=>[...r.entries()],"input"),output:o(r=>{let n=new Map;for(let[i,s]of r)n.set(i,s);return n},"output")})},lazy(t){return k1e(t)}};p();m();p();m();p();m();var Xp=32;function B1e(t){return Rtt(t)&&Ott(t)===Xp}o(B1e,"isValidSuiAddress");function vd(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Xp*2,"0")}`}o(vd,"normalizeSuiAddress");function Rtt(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}o(Rtt,"isHex");function Ott(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}o(Ott,"getHexByteLength");p();m();var Mtt=/^vector<(.+)>$/,Ntt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,tS=class t{static{o(this,"TypeTagSerializer")}static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(Mtt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(Ntt);if(i)return{struct:{address:r?vd(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return MH(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function Ctt(t){return ie.u64({name:"unsafe_u64",...t}).transform({input:o(e=>e,"input"),output:o(e=>Number(e),"output")})}o(Ctt,"unsafe_u64");function ktt(t){return ie.enum("Option",{None:null,Some:t})}o(ktt,"optionEnum");var gi=ie.bytes(Xp).transform({validate:o(t=>{let e=typeof t=="string"?t:ru(t);if(!e||!B1e(vd(e)))throw new Error(`Invalid Sui address ${e}`)},"validate"),input:o(t=>typeof t=="string"?Wp(vd(t)):t,"input"),output:o(t=>vd(ru(t)),"output")}),sf=ie.vector(ie.u8()).transform({name:"ObjectDigest",input:o(t=>Fy(t),"input"),output:o(t=>Uy(new Uint8Array(t)),"output"),validate:o(t=>{if(Fy(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")},"validate")}),vc=ie.struct("SuiObjectRef",{objectId:gi,version:ie.u64(),digest:sf}),kH=ie.struct("SharedObjectRef",{objectId:gi,initialSharedVersion:ie.u64(),mutable:ie.bool()}),BH=ie.enum("ObjectArg",{ImmOrOwnedObject:vc,SharedObject:kH,Receiving:vc}),PH=ie.enum("CallArg",{Pure:ie.struct("Pure",{bytes:ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")})}),Object:BH}),LH=ie.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:ie.lazy(()=>LH),struct:ie.lazy(()=>VH),u16:null,u32:null,u256:null}),qI=LH.transform({input:o(t=>typeof t=="string"?tS.parseFromStr(t,!0):t,"input"),output:o(t=>tS.tagToString(t),"output")}),ol=ie.enum("Argument",{GasCoin:null,Input:ie.u16(),Result:ie.u16(),NestedResult:ie.tuple([ie.u16(),ie.u16()])}),DH=ie.struct("ProgrammableMoveCall",{package:gi,module:ie.string(),function:ie.string(),typeArguments:ie.vector(qI),arguments:ie.vector(ol)}),UH=ie.enum("Command",{MoveCall:DH,TransferObjects:ie.struct("TransferObjects",{objects:ie.vector(ol),address:ol}),SplitCoins:ie.struct("SplitCoins",{coin:ol,amounts:ie.vector(ol)}),MergeCoins:ie.struct("MergeCoins",{destination:ol,sources:ie.vector(ol)}),Publish:ie.struct("Publish",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")})),dependencies:ie.vector(gi)}),MakeMoveVec:ie.struct("MakeMoveVec",{type:ktt(qI).transform({input:o(t=>t===null?{None:!0}:{Some:t},"input"),output:o(t=>t.Some??null,"output")}),elements:ie.vector(ol)}),Upgrade:ie.struct("Upgrade",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")})),dependencies:ie.vector(gi),package:gi,ticket:ol})}),FH=ie.struct("ProgrammableTransaction",{inputs:ie.vector(PH),commands:ie.vector(UH)}),HH=ie.enum("TransactionKind",{ProgrammableTransaction:FH,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),qH=ie.enum("TransactionExpiration",{None:null,Epoch:Ctt()}),VH=ie.struct("StructTag",{address:gi,module:ie.string(),name:ie.string(),typeParams:ie.vector(LH)}),jH=ie.struct("GasData",{payment:ie.vector(vc),owner:gi,price:ie.u64(),budget:ie.u64()}),zH=ie.struct("TransactionDataV1",{kind:HH,sender:gi,gasData:jH,expiration:qH}),KH=ie.enum("TransactionData",{V1:zH}),$H=ie.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),GH=ie.enum("IntentVersion",{V0:null}),WH=ie.enum("AppId",{Sui:null}),YH=ie.struct("Intent",{scope:$H,version:GH,appId:WH});function XH(t){return ie.struct(`IntentMessage<${t.name}>`,{intent:YH,value:t})}o(XH,"IntentMessage");var ZH=ie.enum("CompressedSignature",{ED25519:ie.fixedArray(64,ie.u8()),Secp256k1:ie.fixedArray(64,ie.u8()),Secp256r1:ie.fixedArray(64,ie.u8()),ZkLogin:ie.vector(ie.u8())}),JH=ie.enum("PublicKey",{ED25519:ie.fixedArray(32,ie.u8()),Secp256k1:ie.fixedArray(33,ie.u8()),Secp256r1:ie.fixedArray(33,ie.u8()),ZkLogin:ie.vector(ie.u8())}),QH=ie.struct("MultiSigPkMap",{pubKey:JH,weight:ie.u8()}),eq=ie.struct("MultiSigPublicKey",{pk_map:ie.vector(QH),threshold:ie.u16()}),P1e=ie.struct("MultiSig",{sigs:ie.vector(ZH),bitmap:ie.u16(),multisig_pk:eq}),Btt=ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")}),tq=ie.struct("SenderSignedTransaction",{intentMessage:XH(KH),txSignatures:ie.vector(Btt)}),L1e=ie.vector(tq,{name:"SenderSignedData"});p();m();var Ptt=ie.enum("PackageUpgradeError",{UnableToFetchPackage:ie.struct("UnableToFetchPackage",{packageId:gi}),NotAPackage:ie.struct("NotAPackage",{objectId:gi}),IncompatibleUpgrade:null,DigestDoesNotMatch:ie.struct("DigestDoesNotMatch",{digest:ie.vector(ie.u8())}),UnknownUpgradePolicy:ie.struct("UnknownUpgradePolicy",{policy:ie.u8()}),PackageIDDoesNotMatch:ie.struct("PackageIDDoesNotMatch",{packageId:gi,ticketId:gi})}),Ltt=ie.struct("ModuleId",{address:gi,name:ie.string()}),D1e=ie.struct("MoveLocation",{module:Ltt,function:ie.u16(),instruction:ie.u16(),functionName:ie.option(ie.string())}),Dtt=ie.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:ie.struct("IndexOutOfBounds",{idx:ie.u16()}),SecondaryIndexOutOfBounds:ie.struct("SecondaryIndexOutOfBounds",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidResultArity:ie.struct("InvalidResultArity",{resultIdx:ie.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),Utt=ie.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Ftt=ie.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:ie.struct("MoveObjectTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),MovePackageTooBig:ie.struct("MovePackageTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),CircularObjectOwnership:ie.struct("CircularObjectOwnership",{object:gi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:ie.option(D1e),MoveAbort:ie.tuple([D1e,ie.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:ie.struct("CommandArgumentError",{argIdx:ie.u16(),kind:Dtt}),TypeArgumentError:ie.struct("TypeArgumentError",{argumentIdx:ie.u16(),kind:Utt}),UnusedValueWithoutDrop:ie.struct("UnusedValueWithoutDrop",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidPublicFunctionReturnType:ie.struct("InvalidPublicFunctionReturnType",{idx:ie.u16()}),InvalidTransferObject:null,EffectsTooLarge:ie.struct("EffectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:ie.struct("PackageUpgradeError",{upgradeError:Ptt}),WrittenObjectsTooLarge:ie.struct("WrittenObjectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:ie.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:ie.vector(gi)}),AddressDeniedForCoin:ie.struct("AddressDeniedForCoin",{address:gi,coinType:ie.string()}),CoinTypeGlobalPause:ie.struct("CoinTypeGlobalPause",{coinType:ie.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),U1e=ie.enum("ExecutionStatus",{Success:null,Failed:ie.struct("ExecutionFailed",{error:Ftt,command:ie.option(ie.u64())})}),F1e=ie.struct("GasCostSummary",{computationCost:ie.u64(),storageCost:ie.u64(),storageRebate:ie.u64(),nonRefundableStorageFee:ie.u64()}),dv=ie.enum("Owner",{AddressOwner:gi,ObjectOwner:gi,Shared:ie.struct("Shared",{initialSharedVersion:ie.u64()}),Immutable:null}),Htt=ie.struct("TransactionEffectsV1",{status:U1e,executedEpoch:ie.u64(),gasUsed:F1e,modifiedAtVersions:ie.vector(ie.tuple([gi,ie.u64()])),sharedObjects:ie.vector(vc),transactionDigest:sf,created:ie.vector(ie.tuple([vc,dv])),mutated:ie.vector(ie.tuple([vc,dv])),unwrapped:ie.vector(ie.tuple([vc,dv])),deleted:ie.vector(vc),unwrappedThenDeleted:ie.vector(vc),wrapped:ie.vector(vc),gasObject:ie.tuple([vc,dv]),eventsDigest:ie.option(sf),dependencies:ie.vector(sf)}),rq=ie.tuple([ie.u64(),sf]),qtt=ie.enum("ObjectIn",{NotExist:null,Exist:ie.tuple([rq,dv])}),Vtt=ie.enum("ObjectOut",{NotExist:null,ObjectWrite:ie.tuple([sf,dv]),PackageWrite:rq}),jtt=ie.enum("IDOperation",{None:null,Created:null,Deleted:null}),ztt=ie.struct("EffectsObjectChange",{inputState:qtt,outputState:Vtt,idOperation:jtt}),Ktt=ie.enum("UnchangedSharedKind",{ReadOnlyRoot:rq,MutateDeleted:ie.u64(),ReadDeleted:ie.u64(),Cancelled:ie.u64(),PerEpochConfig:null}),$tt=ie.struct("TransactionEffectsV2",{status:U1e,executedEpoch:ie.u64(),gasUsed:F1e,transactionDigest:sf,gasObjectIndex:ie.option(ie.u32()),eventsDigest:ie.option(sf),dependencies:ie.vector(sf),lamportVersion:ie.u64(),changedObjects:ie.vector(ie.tuple([gi,ztt])),unchangedSharedObjects:ie.vector(ie.tuple([gi,Ktt])),auxDataDigest:ie.option(sf)}),H1e=ie.enum("TransactionEffects",{V1:Htt,V2:$tt});var jh={...ie,U8:ie.u8(),U16:ie.u16(),U32:ie.u32(),U64:ie.u64(),U128:ie.u128(),U256:ie.u256(),ULEB128:ie.uleb128(),Bool:ie.bool(),String:ie.string(),Address:gi,AppId:WH,Argument:ol,CallArg:PH,CompressedSignature:ZH,GasData:jH,Intent:YH,IntentMessage:XH,IntentScope:$H,IntentVersion:GH,MultiSig:P1e,MultiSigPkMap:QH,MultiSigPublicKey:eq,ObjectArg:BH,ObjectDigest:sf,ProgrammableMoveCall:DH,ProgrammableTransaction:FH,PublicKey:JH,SenderSignedData:L1e,SenderSignedTransaction:tq,SharedObjectRef:kH,StructTag:VH,SuiObjectRef:vc,Command:UH,TransactionData:KH,TransactionDataV1:zH,TransactionExpiration:qH,TransactionKind:HH,TypeTag:qI,TransactionEffects:H1e};p();m();p();m();p();m();p();m();p();m();function Gtt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Gtt,"isBytes");function hv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(hv,"anumber");function Kh(t,...e){if(!Gtt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Kh,"abytes");function V1e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hv(t.outputLen),hv(t.blockLen)}o(V1e,"ahash");function $h(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o($h,"aexists");function VI(t,e){Kh(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(VI,"aoutput");function rS(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(rS,"u32");function sl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(sl,"clean");function jI(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(jI,"createView");var j1e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function z1e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(z1e,"byteSwap");var _d=j1e?t=>t:t=>z1e(t);function Wtt(t){for(let e=0;e<t.length;e++)t[e]=z1e(t[e]);return t}o(Wtt,"byteSwap32");var Hy=j1e?t=>t:Wtt,K1e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ytt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zI(t){if(Kh(t),K1e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ytt[t[r]];return e}o(zI,"bytesToHex");var zh={_0:48,_9:57,A:65,F:70,a:97,f:102};function q1e(t){if(t>=zh._0&&t<=zh._9)return t-zh._0;if(t>=zh.A&&t<=zh.F)return t-(zh.A-10);if(t>=zh.a&&t<=zh.f)return t-(zh.a-10)}o(q1e,"asciiToBase16");function $1e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(K1e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=q1e(t.charCodeAt(s)),c=q1e(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o($1e,"hexToBytes");function Xtt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Xtt,"utf8ToBytes");function al(t){return typeof t=="string"&&(t=Xtt(t)),Kh(t),t}o(al,"toBytes");var Zp=class{static{o(this,"Hash")}};function G1e(t){let e=o(n=>t().update(al(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(G1e,"createHasher");function W1e(t){let e=o((n,i)=>t(i).update(al(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(W1e,"createOptHasher");var Y1e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);p();m();function Ztt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Ztt,"setBigUint64");var KI=class extends Zp{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=jI(this.buffer)}update(e){$h(this),e=al(e),Kh(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=jI(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$h(this),VI(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,sl(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Ztt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=jI(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};var Es=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);p();m();var $I=BigInt(4294967295),X1e=BigInt(32);function nq(t,e=!1){return e?{h:Number(t&$I),l:Number(t>>X1e&$I)}:{h:Number(t>>X1e&$I)|0,l:Number(t&$I)|0}}o(nq,"fromBig");function Z1e(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=nq(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(Z1e,"split");var iq=o((t,e,r)=>t>>>r,"shrSH"),oq=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),wd=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),Ed=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),qy=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),Vy=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),J1e=o((t,e)=>e,"rotr32H"),Q1e=o((t,e)=>t,"rotr32L");function af(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(af,"add");var nS=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),iS=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),ebe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),tbe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),rbe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),nbe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var No=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),mt=new Uint32Array(32);function Jp(t,e,r,n,i,s){let a=i[s],c=i[s+1],l=mt[2*t],h=mt[2*t+1],y=mt[2*e],g=mt[2*e+1],E=mt[2*r],T=mt[2*r+1],O=mt[2*n],M=mt[2*n+1],k=nS(l,y,a);h=iS(k,h,g,c),l=k|0,{Dh:M,Dl:O}={Dh:M^h,Dl:O^l},{Dh:M,Dl:O}={Dh:J1e(M,O),Dl:Q1e(M,O)},{h:T,l:E}=af(T,E,M,O),{Bh:g,Bl:y}={Bh:g^T,Bl:y^E},{Bh:g,Bl:y}={Bh:wd(g,y,24),Bl:Ed(g,y,24)},mt[2*t]=l,mt[2*t+1]=h,mt[2*e]=y,mt[2*e+1]=g,mt[2*r]=E,mt[2*r+1]=T,mt[2*n]=O,mt[2*n+1]=M}o(Jp,"G1b");function Qp(t,e,r,n,i,s){let a=i[s],c=i[s+1],l=mt[2*t],h=mt[2*t+1],y=mt[2*e],g=mt[2*e+1],E=mt[2*r],T=mt[2*r+1],O=mt[2*n],M=mt[2*n+1],k=nS(l,y,a);h=iS(k,h,g,c),l=k|0,{Dh:M,Dl:O}={Dh:M^h,Dl:O^l},{Dh:M,Dl:O}={Dh:wd(M,O,16),Dl:Ed(M,O,16)},{h:T,l:E}=af(T,E,M,O),{Bh:g,Bl:y}={Bh:g^T,Bl:y^E},{Bh:g,Bl:y}={Bh:qy(g,y,63),Bl:Vy(g,y,63)},mt[2*t]=l,mt[2*t+1]=h,mt[2*e]=y,mt[2*e+1]=g,mt[2*r]=E,mt[2*r+1]=T,mt[2*n]=O,mt[2*n+1]=M}o(Qp,"G2b");function Jtt(t,e={},r,n,i){if(hv(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:s,salt:a,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}o(Jtt,"checkBlake2Opts");var sq=class extends Zp{static{o(this,"BLAKE2")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,hv(e),hv(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=rS(this.buffer)}update(e){$h(this),e=al(e),Kh(e);let{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,a=e.byteOffset,c=e.buffer;for(let l=0;l<s;){this.pos===r&&(Hy(i),this.compress(i,0,!1),Hy(i),this.pos=0);let h=Math.min(r-this.pos,s-l),y=a+l;if(h===r&&!(y%4)&&l+h<s){let g=new Uint32Array(c,y,Math.floor((s-l)/4));Hy(g);for(let E=0;l+r<s;E+=i.length,l+=r)this.length+=r,this.compress(g,E,!1);Hy(g);continue}n.set(e.subarray(l,l+h),this.pos),this.pos+=h,this.length+=h,l+=h}return this}digestInto(e){$h(this),VI(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,sl(this.buffer.subarray(r)),Hy(n),this.compress(n,0,!0),Hy(n);let i=rS(e);this.get().forEach((s,a)=>i[a]=_d(s))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:a,pos:c}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=c,e.outputLen=a,e}clone(){return this._cloneInto()}},GI=class extends sq{static{o(this,"BLAKE2b")}constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=No[0]|0,this.v0h=No[1]|0,this.v1l=No[2]|0,this.v1h=No[3]|0,this.v2l=No[4]|0,this.v2h=No[5]|0,this.v3l=No[6]|0,this.v3h=No[7]|0,this.v4l=No[8]|0,this.v4h=No[9]|0,this.v5l=No[10]|0,this.v5h=No[11]|0,this.v6l=No[12]|0,this.v6h=No[13]|0,this.v7l=No[14]|0,this.v7h=No[15]|0,Jtt(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,a=0;if(n!==void 0&&(n=al(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=al(s);let c=rS(s);this.v4l^=_d(c[0]),this.v4h^=_d(c[1]),this.v5l^=_d(c[2]),this.v5h^=_d(c[3])}if(i!==void 0){i=al(i);let c=rS(i);this.v6l^=_d(c[0]),this.v6h^=_d(c[1]),this.v7l^=_d(c[2]),this.v7h^=_d(c[3])}if(n!==void 0){let c=new Uint8Array(this.blockLen);c.set(n),this.update(c)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:a,v3l:c,v3h:l,v4l:h,v4h:y,v5l:g,v5h:E,v6l:T,v6h:O,v7l:M,v7h:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=c|0,this.v3h=l|0,this.v4l=h|0,this.v4h=y|0,this.v5l=g|0,this.v5h=E|0,this.v6l=T|0,this.v6h=O|0,this.v7l=M|0,this.v7h=k|0}compress(e,r,n){this.get().forEach((l,h)=>mt[h]=l),mt.set(No,16);let{h:i,l:s}=nq(BigInt(this.length));mt[24]=No[8]^s,mt[25]=No[9]^i,n&&(mt[28]=~mt[28],mt[29]=~mt[29]);let a=0,c=Y1e;for(let l=0;l<12;l++)Jp(0,4,8,12,e,r+2*c[a++]),Qp(0,4,8,12,e,r+2*c[a++]),Jp(1,5,9,13,e,r+2*c[a++]),Qp(1,5,9,13,e,r+2*c[a++]),Jp(2,6,10,14,e,r+2*c[a++]),Qp(2,6,10,14,e,r+2*c[a++]),Jp(3,7,11,15,e,r+2*c[a++]),Qp(3,7,11,15,e,r+2*c[a++]),Jp(0,5,10,15,e,r+2*c[a++]),Qp(0,5,10,15,e,r+2*c[a++]),Jp(1,6,11,12,e,r+2*c[a++]),Qp(1,6,11,12,e,r+2*c[a++]),Jp(2,7,8,13,e,r+2*c[a++]),Qp(2,7,8,13,e,r+2*c[a++]),Jp(3,4,9,14,e,r+2*c[a++]),Qp(3,4,9,14,e,r+2*c[a++]);this.v0l^=mt[0]^mt[16],this.v0h^=mt[1]^mt[17],this.v1l^=mt[2]^mt[18],this.v1h^=mt[3]^mt[19],this.v2l^=mt[4]^mt[20],this.v2h^=mt[5]^mt[21],this.v3l^=mt[6]^mt[22],this.v3h^=mt[7]^mt[23],this.v4l^=mt[8]^mt[24],this.v4h^=mt[9]^mt[25],this.v5l^=mt[10]^mt[26],this.v5h^=mt[11]^mt[27],this.v6l^=mt[12]^mt[28],this.v6h^=mt[13]^mt[29],this.v7l^=mt[14]^mt[30],this.v7h^=mt[15]^mt[31],sl(mt)}destroy(){this.destroyed=!0,sl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},obe=W1e(t=>new GI(t));var jy=obe;p();m();p();m();function WI(t,e){return jh.IntentMessage(jh.fixedArray(e.length,jh.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}o(WI,"messageWithIntent");function aq(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(aq,"bytesEqual");var pv=class{static{o(this,"PublicKey")}equals(e){return aq(this.toRawBytes(),e.toRawBytes())}toBase64(){return Di(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return Di(e)}verifyWithIntent(e,r,n){let i=WI(n,e),s=jy(i,{dkLen:32});return this.verify(s,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(jh.vector(jh.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return vd(zI(jy(this.toSuiBytes(),{dkLen:32})).slice(0,Xp*2))}};p();m();var Gh={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},sbe={ED25519:32,Secp256k1:33,Secp256r1:33},YI={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};p();m();p();m();p();m();function abe(t,e){if(!!!t)throw new Error(e)}o(abe,"devAssert");p();m();var fq={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Qtt=new Set(Object.keys(fq));function uq(t){let e=t?.kind;return typeof e=="string"&&Qtt.has(e)}o(uq,"isNode");var cq;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(cq||(cq={}));p();m();var oS;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(oS||(oS={}));p();m();p();m();function lq(t){return t===9||t===32}o(lq,"isWhiteSpace");function cbe(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(T=>T.length===0||lq(T.charCodeAt(0))),a=r.endsWith('\\"""'),c=t.endsWith('"')&&!a,l=t.endsWith("\\"),h=c||l,y=!(e!=null&&e.minimize)&&(!i||t.length>70||h||s||a),g="",E=i&&lq(t.charCodeAt(0));return(y&&!E||s)&&(g+=`
`),g+=r,(y||h)&&(g+=`
`),'"""'+g+'"""'}o(cbe,"printBlockString");p();m();function fbe(t){return XI(t,[])}o(fbe,"inspect");function XI(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return ert(t,e);default:return String(t)}}o(XI,"formatValue");function ert(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(trt(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:XI(n,r)}else if(Array.isArray(t))return nrt(t,r);return rrt(t,r)}o(ert,"formatObjectValue");function trt(t){return typeof t.toJSON=="function"}o(trt,"isJSONable");function rrt(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+irt(t)+"]":"{ "+r.map(([i,s])=>i+": "+XI(s,e)).join(", ")+" }"}o(rrt,"formatObject");function nrt(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(XI(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}o(nrt,"formatArray");function irt(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}o(irt,"getObjectTag");p();m();p();m();function ube(t){return`"${t.replace(ort,srt)}"`}o(ube,"printString");var ort=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function srt(t){return art[t.charCodeAt(0)]}o(srt,"escapedReplacer");var art=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];p();m();var lbe=Object.freeze({});function dq(t,e,r=fq){let n=new Map;for(let C of Object.values(oS))n.set(C,dbe(e,C));let i,s=Array.isArray(t),a=[t],c=-1,l=[],h=t,y,g,E=[],T=[];do{c++;let C=c===a.length,B=C&&l.length!==0;if(C){if(y=T.length===0?void 0:E[E.length-1],h=g,g=T.pop(),B)if(s){h=h.slice();let P=0;for(let[H,F]of l){let Z=H-P;F===null?(h.splice(Z,1),P++):h[Z]=F}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(let[P,H]of l)h[P]=H}c=i.index,a=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(g){if(y=s?c:a[c],h=g[y],h==null)continue;E.push(y)}let N;if(!Array.isArray(h)){var O,M;uq(h)||abe(!1,`Invalid AST Node: ${fbe(h)}.`);let P=C?(O=n.get(h.kind))===null||O===void 0?void 0:O.leave:(M=n.get(h.kind))===null||M===void 0?void 0:M.enter;if(N=P?.call(e,h,y,g,E,T),N===lbe)break;if(N===!1){if(!C){E.pop();continue}}else if(N!==void 0&&(l.push([y,N]),!C))if(uq(N))h=N;else{E.pop();continue}}if(N===void 0&&B&&l.push([y,h]),C)E.pop();else{var k;i={inArray:s,index:c,keys:a,edits:l,prev:i},s=Array.isArray(h),a=s?h:(k=r[h.kind])!==null&&k!==void 0?k:[],c=-1,l=[],g&&T.push(g),g=h}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}o(dq,"visit");function dbe(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}o(dbe,"getEnterLeaveForKind");function JI(t){return dq(t,frt)}o(JI,"print");var crt=80,frt={Name:{leave:o(t=>t.value,"leave")},Variable:{leave:o(t=>"$"+t.name,"leave")},Document:{leave:o(t=>Nt(t.definitions,`

`),"leave")},OperationDefinition:{leave(t){let e=Vr("(",Nt(t.variableDefinitions,", "),")"),r=Nt([t.operation,Nt([t.name,e]),Nt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:o(({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Vr(" = ",r)+Vr(" ",Nt(n," ")),"leave")},SelectionSet:{leave:o(({selections:t})=>cl(t),"leave")},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let s=Vr("",t,": ")+e,a=s+Vr("(",Nt(r,", "),")");return a.length>crt&&(a=s+Vr(`(
`,ZI(Nt(r,`
`)),`
)`)),Nt([a,Nt(n," "),i]," ")}},Argument:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},FragmentSpread:{leave:o(({name:t,directives:e})=>"..."+t+Vr(" ",Nt(e," ")),"leave")},InlineFragment:{leave:o(({typeCondition:t,directives:e,selectionSet:r})=>Nt(["...",Vr("on ",t),Nt(e," "),r]," "),"leave")},FragmentDefinition:{leave:o(({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${Vr("(",Nt(r,", "),")")} on ${e} ${Vr("",Nt(n," ")," ")}`+i,"leave")},IntValue:{leave:o(({value:t})=>t,"leave")},FloatValue:{leave:o(({value:t})=>t,"leave")},StringValue:{leave:o(({value:t,block:e})=>e?cbe(t):ube(t),"leave")},BooleanValue:{leave:o(({value:t})=>t?"true":"false","leave")},NullValue:{leave:o(()=>"null","leave")},EnumValue:{leave:o(({value:t})=>t,"leave")},ListValue:{leave:o(({values:t})=>"["+Nt(t,", ")+"]","leave")},ObjectValue:{leave:o(({fields:t})=>"{"+Nt(t,", ")+"}","leave")},ObjectField:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},Directive:{leave:o(({name:t,arguments:e})=>"@"+t+Vr("(",Nt(e,", "),")"),"leave")},NamedType:{leave:o(({name:t})=>t,"leave")},ListType:{leave:o(({type:t})=>"["+t+"]","leave")},NonNullType:{leave:o(({type:t})=>t+"!","leave")},SchemaDefinition:{leave:o(({description:t,directives:e,operationTypes:r})=>Vr("",t,`
`)+Nt(["schema",Nt(e," "),cl(r)]," "),"leave")},OperationTypeDefinition:{leave:o(({operation:t,type:e})=>t+": "+e,"leave")},ScalarTypeDefinition:{leave:o(({description:t,name:e,directives:r})=>Vr("",t,`
`)+Nt(["scalar",e,Nt(r," ")]," "),"leave")},ObjectTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Vr("",t,`
`)+Nt(["type",e,Vr("implements ",Nt(r," & ")),Nt(n," "),cl(i)]," "),"leave")},FieldDefinition:{leave:o(({description:t,name:e,arguments:r,type:n,directives:i})=>Vr("",t,`
`)+e+(hbe(r)?Vr(`(
`,ZI(Nt(r,`
`)),`
)`):Vr("(",Nt(r,", "),")"))+": "+n+Vr(" ",Nt(i," ")),"leave")},InputValueDefinition:{leave:o(({description:t,name:e,type:r,defaultValue:n,directives:i})=>Vr("",t,`
`)+Nt([e+": "+r,Vr("= ",n),Nt(i," ")]," "),"leave")},InterfaceTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Vr("",t,`
`)+Nt(["interface",e,Vr("implements ",Nt(r," & ")),Nt(n," "),cl(i)]," "),"leave")},UnionTypeDefinition:{leave:o(({description:t,name:e,directives:r,types:n})=>Vr("",t,`
`)+Nt(["union",e,Nt(r," "),Vr("= ",Nt(n," | "))]," "),"leave")},EnumTypeDefinition:{leave:o(({description:t,name:e,directives:r,values:n})=>Vr("",t,`
`)+Nt(["enum",e,Nt(r," "),cl(n)]," "),"leave")},EnumValueDefinition:{leave:o(({description:t,name:e,directives:r})=>Vr("",t,`
`)+Nt([e,Nt(r," ")]," "),"leave")},InputObjectTypeDefinition:{leave:o(({description:t,name:e,directives:r,fields:n})=>Vr("",t,`
`)+Nt(["input",e,Nt(r," "),cl(n)]," "),"leave")},DirectiveDefinition:{leave:o(({description:t,name:e,arguments:r,repeatable:n,locations:i})=>Vr("",t,`
`)+"directive @"+e+(hbe(r)?Vr(`(
`,ZI(Nt(r,`
`)),`
)`):Vr("(",Nt(r,", "),")"))+(n?" repeatable":"")+" on "+Nt(i," | "),"leave")},SchemaExtension:{leave:o(({directives:t,operationTypes:e})=>Nt(["extend schema",Nt(t," "),cl(e)]," "),"leave")},ScalarTypeExtension:{leave:o(({name:t,directives:e})=>Nt(["extend scalar",t,Nt(e," ")]," "),"leave")},ObjectTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Nt(["extend type",t,Vr("implements ",Nt(e," & ")),Nt(r," "),cl(n)]," "),"leave")},InterfaceTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Nt(["extend interface",t,Vr("implements ",Nt(e," & ")),Nt(r," "),cl(n)]," "),"leave")},UnionTypeExtension:{leave:o(({name:t,directives:e,types:r})=>Nt(["extend union",t,Nt(e," "),Vr("= ",Nt(r," | "))]," "),"leave")},EnumTypeExtension:{leave:o(({name:t,directives:e,values:r})=>Nt(["extend enum",t,Nt(e," "),cl(r)]," "),"leave")},InputObjectTypeExtension:{leave:o(({name:t,directives:e,fields:r})=>Nt(["extend input",t,Nt(e," "),cl(r)]," "),"leave")}};function Nt(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}o(Nt,"join");function cl(t){return Vr(`{
`,ZI(Nt(t,`
`)),`
}`)}o(cl,"block");function Vr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}o(Vr,"wrap");function ZI(t){return Vr("  ",t.replace(/\n/g,`
  `))}o(ZI,"indent");function hbe(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}o(hbe,"hasMultilineItems");p();m();var pbe=o(t=>{throw TypeError(t)},"__typeError"),mbe=o((t,e,r)=>e.has(t)||pbe("Cannot "+r),"__accessCheck"),QI=o((t,e,r)=>(mbe(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),eR=o((t,e,r)=>e.has(t)?pbe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),tR=o((t,e,r,n)=>(mbe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),rR,nR,iR,oR,hq=class extends Error{static{o(this,"SuiGraphQLRequestError")}},sR=class{static{o(this,"SuiGraphQLClient")}constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){eR(this,rR),eR(this,nR),eR(this,iR),eR(this,oR),tR(this,rR,e),tR(this,nR,i),tR(this,iR,n),tR(this,oR,(...s)=>r(...s))}async query(e){let r=await QI(this,oR).call(this,QI(this,rR),{method:"POST",headers:{"Content-Type":"application/json",...QI(this,iR)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):JI(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new hq(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:QI(this,nR)[e]})}};rR=new WeakMap;nR=new WeakMap;iR=new WeakMap;oR=new WeakMap;p();m();p();m();p();m();var sS={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var gq=class extends Error{static{o(this,"GraphQLError")}constructor(e,r,n,i,s,a,c){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),a&&(this.originalError=a);var l=c;if(!l&&a){var h=a.extensions;h&&typeof h=="object"&&(l=h)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},gn,Dt;function fo(t){return new gq(`Syntax Error: Unexpected token at ${Dt} in ${t}`)}o(fo,"error");function cf(t){if(t.lastIndex=Dt,t.test(gn))return gn.slice(Dt,Dt=t.lastIndex)}o(cf,"advance");var aR=/ +(?=[^\s])/y;function urt(t){for(var e=t.split(`
`),r="",n=0,i=0,s=e.length-1,a=0;a<e.length;a++)aR.lastIndex=0,aR.test(e[a])&&(a&&(!n||aR.lastIndex<n)&&(n=aR.lastIndex),i=i||a,s=a);for(var c=i;c<=s;c++)c!==i&&(r+=`
`),r+=e[c].slice(n).replace(/\\"""/g,'"""');return r}o(urt,"blockString");function yr(){for(var t=0|gn.charCodeAt(Dt++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|gn.charCodeAt(Dt++))if(t===35)for(;(t=gn.charCodeAt(Dt++))!==10&&t!==13;);Dt--}o(yr,"ignored");var Ua=/[_A-Za-z]\w*/y,pq=new RegExp("(?:(null|true|false)|\\$("+Ua.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Ua.source+"))","y"),em=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(em||{}),lrt=/\\/;function cR(t){var e,r;if(pq.lastIndex=Dt,gn.charCodeAt(Dt)===91){Dt++,yr();for(var n=[];gn.charCodeAt(Dt)!==93;)n.push(cR(t));return Dt++,yr(),{kind:"ListValue",values:n}}else if(gn.charCodeAt(Dt)===123){Dt++,yr();for(var i=[];gn.charCodeAt(Dt)!==125;){if((e=cf(Ua))==null||(yr(),gn.charCodeAt(Dt++)!==58))throw fo("ObjectField");yr(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:cR(t)})}return Dt++,yr(),{kind:"ObjectValue",fields:i}}else if((r=pq.exec(gn))!=null){if(Dt=pq.lastIndex,yr(),(e=r[em.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[em.Var])!=null){if(t)throw fo("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[em.Int])!=null){var s;return(s=r[em.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=r[em.BlockString])!=null)return{kind:"StringValue",value:urt(e.slice(3,-3)),block:!0};if((e=r[em.String])!=null)return{kind:"StringValue",value:lrt.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[em.Enum])!=null)return{kind:"EnumValue",value:e}}}throw fo("Value")}o(cR,"value");function gbe(t){if(gn.charCodeAt(Dt)===40){var e=[];Dt++,yr();var r;do{if((r=cf(Ua))==null||(yr(),gn.charCodeAt(Dt++)!==58))throw fo("Argument");yr(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:cR(t)})}while(gn.charCodeAt(Dt)!==41);return Dt++,yr(),e}}o(gbe,"arguments_");function mv(t){if(gn.charCodeAt(Dt)===64){var e=[],r;do{if(Dt++,(r=cf(Ua))==null)throw fo("Directive");yr(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:gbe(t)})}while(gn.charCodeAt(Dt)===64);return e}}o(mv,"directives");function drt(){for(var t,e=0;gn.charCodeAt(Dt)===91;)e++,Dt++,yr();if((t=cf(Ua))==null)throw fo("NamedType");yr();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(gn.charCodeAt(Dt)===33&&(Dt++,yr(),r={kind:"NonNullType",type:r}),e){if(gn.charCodeAt(Dt++)!==93)throw fo("NamedType");yr(),r={kind:"ListType",type:r}}while(e--);return r}o(drt,"type");var mq=new RegExp("(?:(\\.{3})|("+Ua.source+"))","y"),yq=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(yq||{});function fR(){var t=[],e,r;do if(mq.lastIndex=Dt,(r=mq.exec(gn))!=null){if(Dt=mq.lastIndex,r[yq.Spread]!=null){yr();var n=cf(Ua);if(n!=null&&n!=="on")yr(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:mv(!1)});else{if(yr(),n==="on"){if((n=cf(Ua))==null)throw fo("NamedType");yr()}var i=mv(!1);if(gn.charCodeAt(Dt++)!==123)throw fo("InlineFragment");yr(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:fR()})}}else if((e=r[yq.Name])!=null){var s=void 0;if(yr(),gn.charCodeAt(Dt)===58){if(Dt++,yr(),s=e,(e=cf(Ua))==null)throw fo("Field");yr()}var a=gbe(!1);yr();var c=mv(!1),l=void 0;gn.charCodeAt(Dt)===123&&(Dt++,yr(),l=fR()),t.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:a,directives:c,selectionSet:l})}}else throw fo("SelectionSet");while(gn.charCodeAt(Dt)!==125);return Dt++,yr(),{kind:"SelectionSet",selections:t}}o(fR,"selectionSet");function hrt(){var t,e;if((t=cf(Ua))==null||(yr(),cf(Ua)!=="on")||(yr(),(e=cf(Ua))==null))throw fo("FragmentDefinition");yr();var r=mv(!1);if(gn.charCodeAt(Dt++)!==123)throw fo("FragmentDefinition");return yr(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:fR()}}o(hrt,"fragmentDefinition");var prt=/(?:query|mutation|subscription|fragment)/y;function mrt(t){var e,r,n;if(t&&(yr(),e=cf(Ua),r=o(function(){if(yr(),gn.charCodeAt(Dt)===40){var s=[];Dt++,yr();var a;do{if(gn.charCodeAt(Dt++)!==36||(a=cf(Ua))==null)throw fo("Variable");if(yr(),gn.charCodeAt(Dt++)!==58)throw fo("VariableDefinition");yr();var c=drt(),l=void 0;gn.charCodeAt(Dt)===61&&(Dt++,yr(),l=cR(!0)),yr(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:a}},type:c,defaultValue:l,directives:mv(!0)})}while(gn.charCodeAt(Dt)!==41);return Dt++,yr(),s}},"variableDefinitions")(),n=mv(!1)),gn.charCodeAt(Dt)===123)return Dt++,yr(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:fR()}}o(mrt,"operationDefinition");function ybe(t,e){return Dt=0,o(function(n,i){var s,a;yr();var c=[];do if((s=cf(prt))==="fragment")yr(),c.push(hrt());else if((a=mrt(s))!=null)c.push(a);else throw fo("Document");while(Dt<n.length);if(!i){var l;return{kind:"Document",definitions:c,set loc(h){l=h},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:c}},"document")(gn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}o(ybe,"parse");var bbe=0,bq=new Set;function xq(){function t(e,r){var n=ybe(e).definitions,i=new Set;for(var s of r||[])for(var a of s.definitions)a.kind===sS.FRAGMENT_DEFINITION&&!i.has(a)&&(n.push(a),i.add(a));var c;(c=n[0].kind===sS.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(h=>h.name.value!=="_unmask"));var l;return{kind:sS.DOCUMENT,definitions:n,get loc(){if(!l&&c){var h=e+o(function(g){try{bbe++;var E="";for(var T of g)if(!bq.has(T)){bq.add(T);var{loc:O}=T;O&&(E+=O.source.body)}return E}finally{--bbe==0&&bq.clear()}},"concatLocSources")(r||[]);return{start:0,end:h.length,source:{body:h,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(h){l=h}}}return o(t,"graphql"),t.scalar=o(function(r,n){return n},"scalar"),t.persisted=o(function(r,n){return{kind:sS.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},"persisted"),t}o(xq,"initGraphQLTada");var Jrr=xq();var xbe=xq();p();m();function grt(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(grt,"base64UrlCharTo6Bits");function yrt(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=grt(n);e=e.concat(i)}return e}o(yrt,"base64UrlStringToBitVector");function brt(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=yrt(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let s=new Uint8Array(Math.floor(r.length/8)),a=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),h=parseInt(l.join(""),2);s[a++]=h}return new TextDecoder().decode(s)}o(brt,"decodeBase64URL");function xrt(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}o(xrt,"verifyExtendedClaim");function vbe(t,e){let r=brt(t.value,t.indexMod4),[n,i]=xrt(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}o(vbe,"extractClaimValue");p();m();p();m();var _be=ie.struct("ZkLoginSignature",{inputs:ie.struct("ZkLoginSignatureInputs",{proofPoints:ie.struct("ZkLoginSignatureInputsProofPoints",{a:ie.vector(ie.string()),b:ie.vector(ie.vector(ie.string())),c:ie.vector(ie.string())}),issBase64Details:ie.struct("ZkLoginSignatureInputsClaim",{value:ie.string(),indexMod4:ie.u8()}),headerBase64:ie.string(),addressSeed:ie.string()}),maxEpoch:ie.u64(),userSignature:ie.vector(ie.u8())});function wbe(t){return _be.parse(typeof t=="string"?is(t):t)}o(wbe,"parseZkLoginSignature");p();m();function vrt(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}o(vrt,"findFirstNonZeroIndex");function uR(t,e){let r=t.toString(16);return $1e(r.padStart(e*2,"0").slice(-e*2))}o(uR,"toPaddedBigEndianBytes");function vq(t,e){let r=uR(t,e),n=vrt(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(vq,"toBigEndianBytes");var Abe=o(t=>{throw TypeError(t)},"__typeError"),Tbe=o((t,e,r)=>e.has(t)||Abe("Cannot "+r),"__accessCheck"),Wh=o((t,e,r)=>(Tbe(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),_q=o((t,e,r)=>e.has(t)?Abe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),gv=o((t,e,r,n)=>(Tbe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),fl,aS,cS,_rt=class wq extends pv{static{o(this,"_ZkLoginPublicIdentifier")}constructor(e,{client:r}={}){super(),_q(this,fl),_q(this,aS),_q(this,cS),gv(this,aS,r),typeof e=="string"?gv(this,fl,is(e)):e instanceof Uint8Array?gv(this,fl,e):gv(this,fl,Uint8Array.from(e)),gv(this,cS,Wh(this,fl).length!==Wh(this,fl)[0]+1+32),Wh(this,cS)&&gv(this,fl,Ebe(Wh(this,fl)))}equals(e){return super.equals(e)}toSuiAddress(){if(Wh(this,cS)){let e=Ebe(Wh(this,fl),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),vd(zI(jy(r,{dkLen:32})).slice(0,Xp*2))}return super.toSuiAddress()}toRawBytes(){return Wh(this,fl)}flag(){return Gh.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=lR(r),i=new wq(n.publicKey).toSuiAddress();return Sbe({address:i,bytes:Di(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Wh(this,aS)})}verifyTransaction(e,r){let n=lR(r),i=new wq(n.publicKey).toSuiAddress();return Sbe({address:i,bytes:Di(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Wh(this,aS)})}};fl=new WeakMap;aS=new WeakMap;cS=new WeakMap;var wrt=_rt;function Ert(t,e,r){let n=r?.legacyAddress?vq(t,32):uR(t,32),i=new TextEncoder().encode(e),s=new Uint8Array(1+i.length+n.length);return s.set([i.length],0),s.set(i,1),s.set(n,1+i.length),new wrt(s,r)}o(Ert,"toZkLoginPublicIdentifier");var Srt=xbe(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function Ebe(t,e=!1){let r=t[0]+1,n=BigInt(`0x${ru(t.slice(r))}`),i=e?vq(n,32):uR(n,32),s=new Uint8Array(r+i.length);return s.set(t.slice(0,r),0),s.set(i,r),s}o(Ebe,"normalizeZkLoginPublicKeyBytes");async function Sbe({address:t,bytes:e,signature:r,intentScope:n,client:i=new sR({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let s=await i.query({query:Srt,variables:{bytes:e,signature:r,intentScope:n,author:t}});return s.data?.verifyZkloginSignature.success===!0&&s.data?.verifyZkloginSignature.errors.length===0}o(Sbe,"graphqlVerifyZkLoginSignature");function lR(t){let e=typeof t=="string"?is(t):t;if(e[0]!==Gh.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:s}=wbe(r),{issBase64Details:a,addressSeed:c}=n,l=vbe(a,"iss"),h=Ert(BigInt(c),l);return{serializedSignature:Di(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:s,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:h.toRawBytes()}}o(lR,"parseSerializedZkLoginSignature");function Ibe({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([Gh[e]]),i.set(t,1),i.set(n,1+t.length),Di(i)}o(Ibe,"toSerializedSignature");function Rbe(t){let e=is(t),r=YI[e[0]];switch(r){case"MultiSig":let n=jh.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return lR(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=sbe[r],s=e.slice(1,e.length-i),a=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:r,signature:s,publicKey:a,bytes:e};default:throw new Error("Unsupported signature scheme")}}o(Rbe,"parseSerializedSignature");p();m();p();m();p();m();function yv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(yv,"anumber");function Art(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Art,"isBytes");function fS(t,...e){if(!Art(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(fS,"abytes");function dR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yv(t.outputLen),yv(t.blockLen)}o(dR,"ahash");function bv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(bv,"aexists");function Obe(t,e){fS(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(Obe,"aoutput");p();m();p();m();p();m();var vv=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");function Trt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}o(Trt,"utf8ToBytes");function tm(t){return typeof t=="string"&&(t=Trt(t)),fS(t),t}o(tm,"toBytes");var xv=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};function Mbe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(Mbe,"checkOpts");function Nbe(t){let e=o(n=>t().update(tm(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Nbe,"wrapConstructor");var hR=class extends xv{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,dR(e);let n=tm(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return bv(this),this.iHash.update(e),this}digestInto(e){bv(this),fS(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Eq=o((t,e,r)=>new hR(t,e).update(r).digest(),"hmac");Eq.create=(t,e)=>new hR(t,e);function Irt(t,e,r,n){dR(t);let i=Mbe({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:c}=i;if(yv(s),yv(a),yv(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=tm(e),h=tm(r),y=new Uint8Array(a),g=Eq.create(t,l),E=g._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:c,DK:y,PRF:g,PRFSalt:E}}o(Irt,"pbkdf2Init");function Rrt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(Rrt,"pbkdf2Output");function Cbe(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:c,PRFSalt:l}=Irt(t,e,r,n),h,y=new Uint8Array(4),g=vv(y),E=new Uint8Array(c.outputLen);for(let T=1,O=0;O<s;T++,O+=c.outputLen){let M=a.subarray(O,O+c.outputLen);g.setInt32(0,T,!1),(h=l._cloneInto(h)).update(y).digestInto(E),M.set(E.subarray(0,M.length));for(let k=1;k<i;k++){c._cloneInto(h).update(E).digestInto(E);for(let C=0;C<M.length;C++)M[C]^=E[C]}}return Rrt(c,l,a,h,E)}o(Cbe,"pbkdf2");p();m();function Ort(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Ort,"setBigUint64");var pR=class extends xv{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=vv(this.buffer)}update(e){bv(this);let{view:r,buffer:n,blockLen:i}=this;e=tm(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=vv(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bv(this),Obe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Ort(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=vv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};p();m();p();m();var mR=BigInt(4294967295),Sq=BigInt(32);function kbe(t,e=!1){return e?{h:Number(t&mR),l:Number(t>>Sq&mR)}:{h:Number(t>>Sq&mR)|0,l:Number(t&mR)|0}}o(kbe,"fromBig");function Mrt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=kbe(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(Mrt,"split");var Nrt=o((t,e)=>BigInt(t>>>0)<<Sq|BigInt(e>>>0),"toBig"),Crt=o((t,e,r)=>t>>>r,"shrSH"),krt=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),Brt=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),Prt=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),Lrt=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),Drt=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),Urt=o((t,e)=>e,"rotr32H"),Frt=o((t,e)=>t,"rotr32L"),Hrt=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),qrt=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),Vrt=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),jrt=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function zrt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(zrt,"add");var Krt=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),$rt=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),Grt=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),Wrt=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),Yrt=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),Xrt=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var Zrt={fromBig:kbe,split:Mrt,toBig:Nrt,shrSH:Crt,shrSL:krt,rotrSH:Brt,rotrSL:Prt,rotrBH:Lrt,rotrBL:Drt,rotr32H:Urt,rotr32L:Frt,rotlSH:Hrt,rotlSL:qrt,rotlBH:Vrt,rotlBL:jrt,add:zrt,add3L:Krt,add3H:$rt,add4L:Grt,add4H:Wrt,add5H:Xrt,add5L:Yrt},xr=Zrt;var[Jrt,Qrt]=xr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),rm=new Uint32Array(80),nm=new Uint32Array(80),Aq=class extends pR{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)rm[N]=e.getUint32(r),nm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=rm[N-15]|0,H=nm[N-15]|0,F=xr.rotrSH(P,H,1)^xr.rotrSH(P,H,8)^xr.shrSH(P,H,7),Z=xr.rotrSL(P,H,1)^xr.rotrSL(P,H,8)^xr.shrSL(P,H,7),W=rm[N-2]|0,X=nm[N-2]|0,S=xr.rotrSH(W,X,19)^xr.rotrBH(W,X,61)^xr.shrSH(W,X,6),f=xr.rotrSL(W,X,19)^xr.rotrBL(W,X,61)^xr.shrSL(W,X,6),d=xr.add4L(Z,f,nm[N-7],nm[N-16]),b=xr.add4H(d,F,S,rm[N-7],rm[N-16]);rm[N]=b|0,nm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=xr.rotrSH(g,E,14)^xr.rotrSH(g,E,18)^xr.rotrBH(g,E,41),H=xr.rotrSL(g,E,14)^xr.rotrSL(g,E,18)^xr.rotrBL(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=xr.add5L(B,H,Z,Qrt[N],nm[N]),X=xr.add5H(W,C,P,F,Jrt[N],rm[N]),S=W|0,f=xr.rotrSH(n,i,28)^xr.rotrBH(n,i,34)^xr.rotrBH(n,i,39),d=xr.rotrSL(n,i,28)^xr.rotrBL(n,i,34)^xr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=xr.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=xr.add3L(S,d,x);n=xr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=xr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=xr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=xr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=xr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=xr.add(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=xr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=xr.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=xr.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){rm.fill(0),nm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Bbe=Nbe(()=>new Aq);function Pbe(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}o(Pbe,"nfkd");function ent(t){let e=Pbe(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}o(ent,"normalize");var tnt=o(t=>Pbe("mnemonic"+t),"salt");function Lbe(t,e=""){return Cbe(Bbe,ent(t).nfkd,tnt(e),{c:2048,dkLen:64})}o(Lbe,"mnemonicToSeedSync");function Tq(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}o(Tq,"isValidHardenedPath");function rnt(t){return Lbe(t,"")}o(rnt,"mnemonicToSeed");function Dbe(t){return ru(rnt(t))}o(Dbe,"mnemonicToSeedHex");p();m();var uS=We(Ev(),1);var Sv=32;var Rq="suiprivkey",yR=class{static{o(this,"Signer")}async signWithIntent(e,r){let n=WI(r,e),i=jy(n,{dkLen:32});return{signature:Ibe({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Di(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(ie.vector(ie.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Di(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},lS=class extends yR{static{o(this,"Keypair")}};function zy(t){let{prefix:e,words:r}=uS.bech32.decode(t);if(e!==Rq)throw new Error("invalid private key prefix");let n=new Uint8Array(uS.bech32.fromWords(r)),i=n.slice(1);return{schema:YI[n[0]],secretKey:i}}o(zy,"decodeSuiPrivateKey");function Oq(t,e){if(t.length!==Sv)throw new Error("Invalid bytes length");let r=Gh[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),uS.bech32.encode(Rq,uS.bech32.toWords(n))}o(Oq,"encodeSuiPrivateKey");p();m();p();m();var Ky=We(Yh(),1);p();m();p();m();var xR=class extends Zp{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,V1e(e);let n=al(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),sl(s)}update(e){return $h(this),this.iHash.update(e),this}digestInto(e){$h(this),Kh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},vR=o((t,e,r)=>new xR(t,e).update(r).digest(),"hmac");vR.create=(t,e)=>new xR(t,e);p();m();p();m();var qbe=Z1e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),snt=qbe[0],ant=qbe[1],im=new Uint32Array(80),om=new Uint32Array(80),_R=class extends KI{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=Es[0]|0,this.Al=Es[1]|0,this.Bh=Es[2]|0,this.Bl=Es[3]|0,this.Ch=Es[4]|0,this.Cl=Es[5]|0,this.Dh=Es[6]|0,this.Dl=Es[7]|0,this.Eh=Es[8]|0,this.El=Es[9]|0,this.Fh=Es[10]|0,this.Fl=Es[11]|0,this.Gh=Es[12]|0,this.Gl=Es[13]|0,this.Hh=Es[14]|0,this.Hl=Es[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:g,Fl:E,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k]}set(e,r,n,i,s,a,c,l,h,y,g,E,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=E|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)im[N]=e.getUint32(r),om[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=im[N-15]|0,H=om[N-15]|0,F=wd(P,H,1)^wd(P,H,8)^iq(P,H,7),Z=Ed(P,H,1)^Ed(P,H,8)^oq(P,H,7),W=im[N-2]|0,X=om[N-2]|0,S=wd(W,X,19)^qy(W,X,61)^iq(W,X,6),f=Ed(W,X,19)^Vy(W,X,61)^oq(W,X,6),d=ebe(Z,f,om[N-7],om[N-16]),b=tbe(d,F,S,im[N-7],im[N-16]);im[N]=b|0,om[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:g,El:E,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=wd(g,E,14)^wd(g,E,18)^qy(g,E,41),H=Ed(g,E,14)^Ed(g,E,18)^Vy(g,E,41),F=g&T^~g&M,Z=E&O^~E&k,W=rbe(B,H,Z,ant[N],om[N]),X=nbe(W,C,P,F,snt[N],im[N]),S=W|0,f=wd(n,i,28)^qy(n,i,34)^qy(n,i,39),d=Ed(n,i,28)^Vy(n,i,34)^Vy(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=E|0,{h:g,l:E}=af(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=nS(S,d,x);n=iS(_,X,f,b),i=_|0}({h:n,l:i}=af(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=af(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=af(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=af(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:E}=af(this.Eh|0,this.El|0,g|0,E|0),{h:T,l:O}=af(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=af(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=af(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,l,h,y,g,E,T,O,M,k,C,B)}roundClean(){sl(im,om)}destroy(){sl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Vbe=G1e(()=>new _R);var Mq=Vbe;var cnt=We(Yh(),1);var fnt="ed25519 seed",unt=2147483648,lnt=new RegExp("^m(\\/[0-9]+')+$"),jbe=o(t=>t.replace("'",""),"replaceDerive"),dnt=o(t=>{let r=vR.create(Mq,fnt).update(Wp(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},"getMasterKeyFromSeed"),hnt=o(({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let s=new Uint8Array(1+t.length+n.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(n,0,n.byteLength),t.length+1);let a=vR.create(Mq,e).update(s).digest(),c=a.slice(0,32),l=a.slice(32);return{key:c,chainCode:l}},"CKDPriv");var pnt=o(t=>lnt.test(t)?!t.split("/").slice(1).map(jbe).some(isNaN):!1,"isValidPath"),Nq=o((t,e,r=unt)=>{if(!pnt(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=dnt(e);return t.split("/").slice(1).map(jbe).map(a=>parseInt(a,10)).reduce((a,c)=>hnt(a,c+r),{key:n,chainCode:i})},"derivePath");p();m();var zbe=We(Yh(),1);var Cq=32,sm=class extends pv{static{o(this,"Ed25519PublicKey")}constructor(e){if(super(),typeof e=="string"?this.data=is(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Cq)throw new Error(`Invalid public key input. Expected ${Cq} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return Gh.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=Rbe(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!aq(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return zbe.default.sign.detached.verify(e,n,this.toRawBytes())}};sm.SIZE=Cq;var kq="m/44'/784'/0'/0'/0'",$y=class t extends lS{static{o(this,"Ed25519Keypair")}constructor(e){super(),e?this.keypair=e:this.keypair=Ky.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(Ky.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let s=zy(e);if(s.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${s.schema}`);return this.fromSecretKey(s.secretKey,r)}let n=e.length;if(n!==Sv)throw new Error(`Wrong secretKey size. Expected ${Sv} bytes, got ${n}.`);let i=Ky.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let a=new TextEncoder().encode("sui validation"),c=Ky.default.sign.detached(a,i.secretKey);if(!Ky.default.sign.detached.verify(a,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new sm(this.keypair.publicKey)}getSecretKey(){return Oq(this.keypair.secretKey.slice(0,Sv),this.getKeyScheme())}async sign(e){return Ky.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=kq),!Tq(r))throw new Error("Invalid derivation path");let{key:n}=Nq(r,Dbe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=kq),!Tq(r))throw new Error("Invalid derivation path");let{key:n}=Nq(r,e);return t.fromSecretKey(n)}};var wR=class{static{o(this,"KeypairGeneratorChainPluginSui")}addressTypes=[Ye.Sui];generateKeypairFromPrivateKey(e){let r=e.fold(a=>new Uint8Array(a)),n=$y.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),s=zy(n.getSecretKey());if(s.schema!=="ED25519")throw new Error(`got unexpected schema ${s.schema} for Sui`);return{publicKey:i,privateKey:s.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Ql(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};var Bq=class{static{o(this,"KeypairGenerator")}cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new uI),this.registerChainPlugin(new CI),this.registerChainPlugin(new kI),this.registerChainPlugin(new wR)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=yy.getAddressType(n),s=this.cryptoChainPlugins.get(i);if(!s)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return s.generateKeypairFromSeed(e,r,n)}};p();m();function mnt(t){return yy.getAll().includes(t)}o(mnt,"isAddressType");p();m();var qxe=We(Mu()),Vxe=We(Iv()),CR=We(Yh()),jxe=We(Gq());var zxe=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case Ye.BitcoinTaproot:case Ye.BitcoinNativeSegwit:case Ye.BitcoinNestedSegwit:case Ye.BitcoinLegacy:try{return{key:Znt(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case Ye.EVM:try{return{key:Jnt(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case Ye.Solana:try{return eit(e)}catch{throw new Error("Could not find encoding for Solana private key")}case Ye.Sui:try{return{key:Qnt(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return ms(r)}},"decodePrivateKeyFromString"),Znt=o((t,e)=>{try{let{privateKey:r}=jxe.decodeRaw(Vxe.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},"decodeBitcoinPrivateKey"),Jnt=o(t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new fv(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},"decodeEthereumPrivateKey"),NR=o(t=>{let e=CR.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=CR.default.sign.detached(r,t);if(!CR.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},"decodeSolanaPrivateKey"),Qnt=o(t=>{try{let e=zy(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},"decodeSuiPrivateKey"),eit=o(t=>{try{let e=JSON.parse(t);return NR(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=qxe.default.decode(t);return NR(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return NR(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return NR(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")},"enumerateSolanaPrivateKeyEncodings");p();m();var Kxe=We(Mu()),$xe=We(Iv()),Gxe=We(Gq());var tit=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case Ye.BitcoinTaproot:case Ye.BitcoinNativeSegwit:case Ye.BitcoinNestedSegwit:case Ye.BitcoinLegacy:return $xe.default.encode(Gxe.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case Ye.EVM:return"0x"+Buffer.from(e).toString("hex");case Ye.Solana:return Kxe.default.encode(e);case Ye.Sui:return $y.fromSecretKey(e).getSecretKey();default:return ms(r)}},"exportPrivateKeyAsString");p();m();var rit=o(t=>{try{return Yf.from(zxe(t).key)}catch(e){return console.error(e),Yf.from(Buffer.from(""))}},"getPrivateKeyAsObfuscatedBytes");p();m();var alt=We(lV());p();m();var[Bve,Pve,Lve]=[[],[],[]],pot=BigInt(0),_S=BigInt(1),mot=BigInt(2),got=BigInt(7),yot=BigInt(256),bot=BigInt(113);for(let t=0,e=_S,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Bve.push(2*(5*n+r)),Pve.push((t+1)*(t+2)/2%64);let i=pot;for(let s=0;s<7;s++)e=(e<<_S^(e>>got)*bot)%yot,e&mot&&(i^=_S<<(_S<<BigInt(s))-_S);Lve.push(i)}var[xot,vot]=Jt.split(Lve,!0),Cve=o((t,e,r)=>r>32?Jt.rotlBH(t,e,r):Jt.rotlSH(t,e,r),"rotlH"),kve=o((t,e,r)=>r>32?Jt.rotlBL(t,e,r):Jt.rotlSL(t,e,r),"rotlL");function _ot(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,l=(a+2)%10,h=r[l],y=r[l+1],g=Cve(h,y,1)^r[c],E=kve(h,y,1)^r[c+1];for(let T=0;T<50;T+=10)t[a+T]^=g,t[a+T+1]^=E}let i=t[2],s=t[3];for(let a=0;a<24;a++){let c=Pve[a],l=Cve(i,s,c),h=kve(i,s,c),y=Bve[a];i=t[y],s=t[y+1],t[y]=l,t[y+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=xot[n],t[1]^=vot[n]}r.fill(0)}o(_ot,"keccakP");var JR=class t extends dp{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Un.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=wx(this.state)}keccak(){_ot(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Un.exists(this);let{blockLen:r,state:n}=this;e=$u(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Un.exists(this,!1),Un.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Un.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Un.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},xm=o((t,e,r)=>Xl(()=>new JR(e,t,r)),"gen"),Ucr=xm(6,144,224/8),Fcr=xm(6,136,256/8),Hcr=xm(6,104,384/8),qcr=xm(6,72,512/8),Vcr=xm(1,144,224/8),dV=xm(1,136,256/8),jcr=xm(1,104,384/8),zcr=xm(1,72,512/8),Dve=o((t,e,r)=>hce((n={})=>new JR(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake"),Kcr=Dve(31,168,128/8),$cr=Dve(31,136,256/8);var hl=We(Nj()),FEe=We(Mu());function clt(t){let{publicKey:e,addressType:r}=t;switch(r){case Ye.BitcoinTaproot:case Ye.BitcoinNativeSegwit:case Ye.BitcoinNestedSegwit:case Ye.BitcoinLegacy:return flt(e,r,t.networkID);case Ye.EVM:return ult(e);case Ye.Solana:return FEe.default.encode(e);case Ye.Sui:return new sm(e).toSuiAddress();default:return ms(r)}}o(clt,"publicKeyToAddress");var flt=o((t,e,r)=>{let n=r===zs.Testnet?hl.networks.testnet:hl.networks.bitcoin,i;switch(e){case Ye.BitcoinTaproot:hl.initEccLib(alt),i=hl.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case Ye.BitcoinNativeSegwit:i=hl.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case Ye.BitcoinNestedSegwit:{let s=Buffer.from(t),a=hl.payments.p2wpkh({pubkey:s,network:n},{validate:!1});i=hl.payments.p2sh({pubkey:s,network:n,redeem:a},{validate:!1})?.address;break}case Ye.BitcoinLegacy:{i=hl.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:ms(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},"getBitcoinAddress"),ult=o(t=>{let e=t.slice(1),n=dV(e).slice(12);return HEe(`0x${Buffer.from(n).toString("hex")}`)},"computeChecksumAddress"),HEe=o(t=>{if(!sZ.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(dV(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},"toChecksumAddress");p();m();function llt(t){return k_.safeParse(t).success}o(llt,"isBitcoinAddressType");p();m();function dlt(t){switch(t){case Ee.Bip44RootSolana:case Ee.Bip44ChangeSolana:case Ee.Bip44Solana:case Ee.DeprecatedSolana:return Ye.Solana;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:return Ye.EVM;case Ee.BitcoinLegacy:return Ye.BitcoinLegacy;case Ee.BitcoinNativeSegwit:return Ye.BitcoinNativeSegwit;case Ee.BitcoinNestedSegwit:return Ye.BitcoinNestedSegwit;case Ee.BitcoinTaproot:return Ye.BitcoinTaproot;case Ee.Bip44Sui:return Ye.Sui}}o(dlt,"getAddressTypeFromDerivationPathType");p();m();p();m();var qEe={id:St.Arbitrum,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{[jc.Mainnet]:{id:jc.Mainnet,name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},[jc.Sepolia]:{id:jc.Sepolia,name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:jc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Nn.Arbitrum,parentChain:St.Ethereum};p();m();var VEe={id:St.Base,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/base.png",name:"Base",networks:{[Vc.Mainnet]:{id:Vc.Mainnet,name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},[Vc.Sepolia]:{id:Vc.Sepolia,name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:Vc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Nn.Base,parentChain:St.Ethereum};p();m();var hlt=We(lV());var u9=We(Nj());var n2=be.string().refine(t=>{try{return u9.initEccLib(hlt),u9.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),qS=be.object({networkID:U0,addressType:be.nativeEnum(Ye),address:n2,publicKey:be.instanceof(Uint8Array).optional()}),Cj={id:St.Bitcoin,addressTypes:[Ye.BitcoinTaproot,Ye.BitcoinNativeSegwit],iconUrl:"https://assets.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{[zs.Mainnet]:{id:zs.Mainnet,name:"Bitcoin",value:128},[zs.Testnet]:{id:zs.Testnet,name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:zs.Mainnet,tokenDecimals:8,tokenSymbol:"BTC",slip44:Nn.Bitcoin};p();m();var l9=be.object({networkID:F0,addressType:be.nativeEnum(Ye),address:xb}),jEe={id:St.Ethereum,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{[nc.Mainnet]:{id:nc.Mainnet,name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},[nc.Sepolia]:{id:nc.Sepolia,name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:nc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Nn.Ethereum};p();m();var zEe={id:St.Hypercore,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{[ic.Mainnet]:{id:ic.Mainnet,name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},[ic.Testnet]:{id:ic.Testnet,name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:ic.Mainnet,tokenDecimals:9,tokenSymbol:"ETH",slip44:Nn.Hypercore},KEe=be.object({networkID:fh,addressType:be.nativeEnum(Ye),address:J6});p();m();var $Ee={id:St.Hyperevm,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/hyperevm.png",name:"HyperEVM",networks:{[oc.Mainnet]:{id:oc.Mainnet,name:"HyperEVM",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/mainnet",value:999},[oc.Testnet]:{id:oc.Testnet,name:"HyperEVM Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/testnet",value:998}},mainnetID:oc.Mainnet,tokenDecimals:18,tokenSymbol:"HYPE",slip44:Nn.Hyperevm};p();m();var GEe={id:St.Monad,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/monad.png",name:"Monad",networks:{[zc.Mainnet]:{id:zc.Mainnet,name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143},[zc.Testnet]:{id:zc.Testnet,name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143}},mainnetID:zc.Mainnet,tokenDecimals:18,tokenSymbol:"MON",slip44:Nn.Monad};p();m();var WEe={id:St.Polygon,addressTypes:[Ye.EVM],iconUrl:"https://assets.phantom.app/assets/polygon.png",name:"Polygon",networks:{[qc.Mainnet]:{id:qc.Mainnet,name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},[qc.Amoy]:{id:qc.Amoy,name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:qc.Mainnet,tokenDecimals:18,tokenSymbol:"POL",slip44:Nn.Polygon,parentChain:St.Ethereum};p();m();var d9=be.object({networkID:D0,addressType:be.nativeEnum(Ye),address:vb}),YEe={id:St.Solana,addressTypes:[Ye.Solana],iconUrl:"https://assets.phantom.app/assets/solana.png",name:"Solana",networks:{[io.Mainnet]:{id:io.Mainnet,name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},[io.Testnet]:{id:io.Testnet,name:"Solana Testnet",shortName:"Testnet",value:"testnet"},[io.Devnet]:{id:io.Devnet,name:"Solana Devnet",shortName:"Devnet",value:"devnet"},[io.Localnet]:{id:io.Localnet,name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:io.Localnet,mainnetID:io.Mainnet,tokenDecimals:9,tokenSymbol:"SOL",slip44:Nn.Solana};p();m();var XEe={id:St.Sui,addressTypes:[Ye.Sui],iconUrl:"https://assets.phantom.app/assets/sui.png",name:"Sui",networks:{[Kc.Mainnet]:{id:Kc.Mainnet,name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},[Kc.Testnet]:{id:Kc.Testnet,name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:Kc.Mainnet,tokenDecimals:9,tokenSymbol:"SUI",slip44:Nn.Sui},ZEe=be.object({networkID:Mg,addressType:be.nativeEnum(Ye),address:_b,publicKey:be.instanceof(Uint8Array).optional()});p();m();var kj=class extends Error{static{o(this,"UnsupportedChainFeatureError")}chain;feature;constructor(e,r){super(`${r} is not yet supported for ${e}`),this.chain=e,this.feature=r,this.name="UnsupportedChainFeatureError"}},Bj=class extends kj{static{o(this,"UnsupportedSuiChainError")}constructor(e){super(St.Sui,e)}};p();m();function h9(t){return Object.values(St).includes(t)}o(h9,"isChain");var as={[St.Bitcoin]:Cj,[St.Ethereum]:jEe,[St.Polygon]:WEe,[St.Monad]:GEe,[St.Solana]:YEe,[St.Base]:VEe,[St.Sui]:XEe,[St.Arbitrum]:qEe,[St.Hypercore]:zEe,[St.Hyperevm]:$Ee},p9={[St.Solana]:1,[St.Ethereum]:2,[St.Bitcoin]:3,[St.Monad]:4,[St.Base]:5,[St.Sui]:6,[St.Polygon]:7,[St.Arbitrum]:8,[St.Hypercore]:9,[St.Hyperevm]:10},plt={[St.Solana]:!0,[St.Ethereum]:!0,[St.Monad]:!0,[St.Base]:!0,[St.Polygon]:!0,[St.Bitcoin]:!0,[St.Sui]:!0,[St.Arbitrum]:!1,[St.Hypercore]:!1,[St.Hyperevm]:!0},Pj=o((t,e)=>{let r=p9[t]-p9[e];return r===0?0:r>0?1:-1},"compareChain"),mlt=o(()=>{let t=Object.values(St).sort(Pj),e=t.map(ye=>as[ye]),r={},n=[],i={},s={},a={};e.forEach(ye=>{let he=Object.fromEntries(Object.entries(ye.networks).filter(([Ae,Me])=>!Me.hidden)),ge=Object.keys(he);n.push(...ge),ge.forEach(Ae=>{r[Ae]=ye});let lr=Object.values(he);i[ye.id]=lr.map(Ae=>Ae.id),lr.forEach(Ae=>{s[Ae.id]=Ae});for(let Ae of ye.addressTypes){let Me=a[Ae];Me?Me.push(ye.id):a[Ae]=[ye.id]}});let c=new Set(n);function l(ye){return ye?.evmOnly?t.filter(he=>as[he].addressTypes.includes(Ye.EVM)):t}o(l,"getAllChainIDs");function h(ye){return plt[ye]}o(h,"isChainDefaultEnabled");function y(ye){return n.filter(he=>r[he].id===ye)}o(y,"getNetworkIDs");function g(ye){if(!ye)return n;let he=n;return ye.evmOnly&&(he=he.filter(ge=>v(ge))),ye.mainnetOnly&&(he=he.filter(ge=>U(ge))),he}o(g,"getAllNetworkIDs");function E(ye){return r[ye]}o(E,"getChainDefinition");function T(ye){return s[ye].rpcProxyUrl}o(T,"getRpcProxyUrl");function O(ye){return r[ye].addressTypes[0]}o(O,"_DO_NOT_USE_getAddressType");function M(ye){let he=r[ye];if(he.addressTypes.length===1){let[ge]=he.addressTypes;return ge}else throw`The chain ${he.id} has multiple address types`}o(M,"getAddressType");function k(ye){return r[ye].addressTypes}o(k,"getAddressTypes");function C(ye){return r[ye].id}o(C,"getChainID");function B(ye){return as[le(ye)].name}o(B,"getChainName");function N(ye){return r[ye].tokenDecimals}o(N,"getTokenDecimals");function P(ye){return(X(ye)?r[ye]:as[ye]).tokenSymbol}o(P,"getTokenSymbol");function H(ye){return(X(ye)?r[ye]:as[ye]).iconUrl}o(H,"getChainIconUrl");function F(ye){return r[ye].slip44}o(F,"getSlip44");function Z(ye){return as[le(ye)].mainnetID}o(Z,"getMainnetNetworkID");function W(ye){let he;if(v(ye)&&(he=s[ye].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${ye}. Must be an EVM NetworkID.`)}o(W,"getEVMNetworkIDValue");function X(ye){return c.has(ye)}o(X,"isNetworkID");function S(ye){return Object.keys(as.bitcoin.networks).includes(ye)}o(S,"isBitcoinNetworkID");function f(ye){return Object.keys(as.ethereum.networks).includes(ye)}o(f,"isEthereumNetworkID");function d(ye){return Object.keys(as.polygon.networks).includes(ye)}o(d,"isPolygonNetworkID");function b(ye){return Object.keys(as.base.networks).includes(ye)}o(b,"isBaseNetworkID");function x(ye){return Object.keys(as.arbitrum.networks).includes(ye)}o(x,"isArbitrumNetworkID");function _(ye){return Object.keys(as.monad.networks).includes(ye)}o(_,"isMonadNetworkID");function A(ye){return Object.keys(as.hypercore.networks).includes(ye)}o(A,"isHypercoreNetworkID");function I(ye){return Object.keys(as.hyperevm.networks).includes(ye)}o(I,"isHyperevmNetworkID");function v(ye){return f(ye)||d(ye)||b(ye)||_(ye)||x(ye)||A(ye)||I(ye)}o(v,"isEVMNetworkID");function u(ye){return Object.keys(as.solana.networks).includes(ye)}o(u,"isSolanaNetworkID");function w(ye){return Object.keys(as.sui.networks).includes(ye)}o(w,"isSuiNetworkID");function V(ye){if(!u(ye))throw new Error(`Invalid NetworkID: ${ye}. Must be a Solana NetworkID.`);return as.solana.networks[ye].value}o(V,"getSolanaNetworkIDValue");function q(ye){return r[ye].localnetID===ye}o(q,"isLocalNetworkID");function U(ye){return r[ye].mainnetID===ye}o(U,"isMainnetNetworkID");function G(ye){return s[ye]}o(G,"getNetworkDefinition");function ee(ye,he=!1){let ge=s[ye];return he&&ge.shortName?ge.shortName:ge.name}o(ee,"getNetworkName");function re(ye){return r[ye].parentChain}o(re,"getParentChain");function Oe(ye){return a[ye]}o(Oe,"getChainIDs");function ae(ye,he){let ge=r[ye].id,lr=r[he].id;return Pj(ge,lr)}o(ae,"compareNetworkID");function le(ye){return h9(ye)?ye:X(ye)?Mt.getChainID(ye):ms(ye)}return o(le,"getChain"),{...as,getAllChainIDs:l,isChainDefaultEnabled:h,getNetworkIDs:y,getAllNetworkIDs:g,getChainDefinition:E,getAddressType:M,getAddressTypes:k,getChainID:C,getChainName:B,getTokenDecimals:N,getTokenSymbol:P,getChainIconUrl:H,getSlip44:F,getMainnetNetworkID:Z,getEVMNetworkIDValue:W,getSolanaNetworkIDValue:V,_DO_NOT_USE_getAddressType:O,isNetworkID:X,isMonadNetworkID:_,isBitcoinNetworkID:S,isEVMNetworkID:v,isSolanaNetworkID:u,isEthereumNetworkID:f,isPolygonNetworkID:d,isBaseNetworkID:b,isArbitrumNetworkID:x,isSuiNetworkID:w,isHypercoreNetworkID:A,isHyperevmNetworkID:I,isLocalNetworkID:q,isMainnetNetworkID:U,getNetworkDefinition:G,getNetworkName:ee,getChainIDs:Oe,compareChain:Pj,compareNetworkID:ae,getRpcProxyUrl:T,getParentChain:re}},"createChains"),Mt=mlt();p();m();p();m();var Mmr=be.union([qS,l9,d9,ZEe,KEe]);var wn;(function(t){t.address="address",t.tx="tx",t.nativeToken="nativeToken"})(wn||(wn={}));var JEe=be.string(),QEe=be.object({chainId:uh,resourceType:be.nativeEnum(wn)}),Lj=QEe.extend({resourceType:be.literal(wn.nativeToken),slip44:be.nativeEnum(Nn)}),f0=QEe.extend({resourceType:be.literal(wn.address),address:be.string()}),Dj=f0.extend({chainId:D0,address:vb}),Uj=f0.extend({chainId:F0,address:xb,tokenId:be.string().optional()}),Fj=f0.extend({chainId:U0,address:n2.or(be.string())}),glt=f0.extend({chainId:Mg,address:_b,tokenId:be.string().optional()}),eSe=f0.extend({chainId:fh,address:J6,tokenId:be.string().optional()}),tSe=f0.extend({chainId:Ng,address:aZ,tokenId:be.string().optional()}),rSe=be.union([Lj,f0,Dj,Uj,Fj,glt]);p();m();var nSe=o(t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(Mt.isEVMNetworkID(r)||Mt.isSolanaNetworkID(r)||Mt.isBitcoinNetworkID(r)||Mt.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,s]=n;if(!i||!s)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(wn).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i===wn.nativeToken){if(!Object.values(Nn).includes(s))throw new Error(`Unsupported slip44 '${s}'`);return{chainId:r,resourceType:i,slip44:s}}else if(Mt.isEVMNetworkID(r)){if(i===wn.address)return e.length===3?{chainId:r,address:s,resourceType:i,tokenId:e[2]}:{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Mt.isSolanaNetworkID(r)){if(i===wn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Mt.isBitcoinNetworkID(r)){if(i===wn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Mt.isSuiNetworkID(r)){if(i===wn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)},"decodeCaip19");p();m();var iSe=o(t=>{if(t.resourceType===wn.nativeToken)return`${t.chainId}/${wn.nativeToken}:${t.slip44}`;if(Mt.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${wn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${wn.address}:${t.address}`;if(Mt.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${wn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${wn.address}:${t.address}`;if(Mt.isSolanaNetworkID(t.chainId))return`${t.chainId}/${wn.address}:${t.address}`;if(Mt.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/${wn.address}:${e.address}`}return Mt.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${wn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${wn.address}:${t.address}`:ms(t.chainId)},"encodeCaip19");p();m();p();m();var oSe=be.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let s=i[0],a=i[1];return typeof t=="string"&&Mt.isNetworkID(r)&&s.match(/^[-a-z0-9]{2,8}/)&&a.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});p();m();function sSe(t){return!t||t.resourceType!==wn.address?!1:!!Mt.isEVMNetworkID(t.chainId)}o(sSe,"isEvmCaip19Address");p();m();function aSe(t,e){return Mt.isBitcoinNetworkID(e)?n2.safeParse(t).success:Mt.isEVMNetworkID(e)?xb.safeParse(t).success:Mt.isSolanaNetworkID(e)?vb.safeParse(t).success:Mt.isSuiNetworkID(e)?_b.safeParse(t).success:ms(e)}o(aSe,"validateAddress");p();m();var cSe=o(t=>{let e=Mt.getNetworkIDs(t),r=Mt.getMainnetNetworkID(e[0]),n=Mt[t].slip44;return{chainId:r,resourceType:wn.nativeToken,slip44:n}},"getNativeFungibleCaip19ForChain");p();m();p();m();function fSe(t){return qS.safeParse(t).success}o(fSe,"isBitcoinChainAddress");function uSe(t){return d9.safeParse(t).success}o(uSe,"isSolanaChainAddress");function lSe(t){return l9.safeParse(t).success}o(lSe,"isEVMChainAddress");var dSe=be.object({networkID:uh,addressType:be.nativeEnum(Ye),address:be.string()}),ylt=o(t=>`${t.networkID}-${t.address}`,"toKey"),hSe={toKey:ylt},pSe=o(t=>{let e={chainId:t.networkID,address:t.address,resourceType:wn.address};return Mt.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e},"chainAddressToCaip19Address");p();m();function mSe(t){return[Cn.Solana.Devnet,Cn.Solana.Testnet,Cn.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}o(mSe,"hexToCAIP2");p();m();var gSe=be.object({id:uh,name:be.string(),symbol:be.string(),imageUrl:be.string()});function ySe(t){let{name:e,tokenSymbol:r,iconUrl:n}=Mt.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}o(ySe,"getNetworkMetadata");p();m();function bSe(t){switch(t){case"devnet":return Cn.Solana.Devnet;case"mainnet":return Cn.Solana.Mainnet;case"testnet":return Cn.Solana.Testnet;case"localnet":return Cn.Solana.Localnet}}o(bSe,"solanaNetworkIDToCAIPSolanaNetworkID");function xSe(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}o(xSe,"solanaNetworkIDToClusterID");p();m();var vSe=o((t,e)=>{if(Mt.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return Ye.BitcoinTaproot;case(e.startsWith("bc1q")||e.startsWith("tb1q")):return Ye.BitcoinNativeSegwit;case(e.startsWith("3")||e.startsWith("2")):return Ye.BitcoinNestedSegwit;case(e.startsWith("1")||e.startsWith("m")):return Ye.BitcoinLegacy}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return Mt.isEVMNetworkID(t)?Ye.EVM:Mt.isSolanaNetworkID(t)?Ye.Solana:Mt.isSuiNetworkID(t)?Ye.Sui:ms(t)},"addressTypeFromAddress");p();m();var blt=Mt.getAllNetworkIDs().filter(t=>Mt.isEVMNetworkID(t)),_Se=o(t=>blt.find(e=>Mt.getNetworkDefinition(e).value===t),"evmNetworkIdForChainIdValue");p();m();var wSe=o(t=>Mt.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return Mt.isMainnetNetworkID(e);if(t==="testnets_only")return!Mt.isMainnetNetworkID(e)}else return!0}).map(Hj),"getEthSupportedNetworkIds"),Hj=o(t=>`0x${Mt.getNetworkDefinition(t).value.toString(16)}`,"networkIDToHex");p();m();p();m();var xlt=o(t=>{setTimeout(()=>{t()},0)},"_scheduleFlush"),vlt=o(t=>t(),"_runBatch");var qj=o(t=>{xlt(t)},"scheduleFlush"),ESe=o(t=>{vlt(t)},"runBatch");var Vj=class{static{o(this,"WeakRefPolyfill")}constructor(e){this.value=e}deref(){return this.value}},_lt=typeof WeakRef=="function"?WeakRef:Vj,RSe,v9=o(t=>{RSe=t},"setCurrentConsumer"),Ac=o(()=>RSe,"getCurrentConsumer"),wlt=0,_9=class{static{o(this,"StateSignal")}_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,s)=>i===s,n="signal"){this._value=e,this._equals=r,this._id=wlt++,this._desc=n}get value(){return this.consume(),this._value}update(e){this.value=e(this._value)}set value(e){this._equals(e,this._value)||(this._value=e,this.notify())}consume(){let e=Ac();e!==void 0&&this._subs.set(e.ref,e.computedCount)}notify(){let{_subs:e}=this;for(let[r,n]of e.entries()){let i=r.deref();i===void 0||n!==i.computedCount||BSe(i)}this._subs=new Map,kSe(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function Elt(t){let e=t._listeners;if(e!==null)for(let r of e)r()}o(Elt,"runListeners$1");var OSe=o(()=>!1,"FALSE_EQUALS$1");function v1(t,e){let r=e?.equals===!1?OSe:e?.equals??((n,i)=>n===i);return new _9(t,r,e?.desc)}o(v1,"signal");var Slt=o(t=>new _9(void 0,OSe,t?.desc),"notifier");function zS(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())zS(n);tz(t)&&x1(t)}}o(zS,"watchSignal");function Zj(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())Zj(i);tz(t)&&t._value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}o(Zj,"unwatchSignal");var Alt=typeof requestIdleCallback=="function"?requestIdleCallback:t=>qj(t),VS=new Set,b9=[],w9=new Map,jj=[],m9=new Set,Tlt=o(()=>Promise.resolve(),"microtask"),E9=null,R9=o(t=>{if(E9)return;let e;E9={promise:new Promise(n=>e=n),resolve:e},qj(Olt)},"scheduleFlush"),MSe=o(t=>{VS.add(t),R9()},"schedulePull"),Ilt=o(t=>{VS.delete(t)},"cancelPull"),NSe=o(t=>{b9.push(t),R9()},"scheduleAsyncPull"),CSe=o(t=>{let e=w9.get(t)??0;w9.set(t,e+1),R9()},"scheduleUnwatch"),kSe=o(t=>{jj.push(t),R9()},"scheduleListeners");var Rlt=o(t=>{m9.add(t),!(m9.size>1)&&Alt(()=>{for(let e of m9)e.sweepGc();m9.clear()})},"scheduleGcSweep"),Olt=o(async()=>{let t=E9;for(;b9.length>0||VS.size>0;){let e=b9;b9=[];for(let n of e)x1(n);let r=VS;VS=new Set;for(let n of r)Ult(n);await Tlt()}E9=null,ESe(()=>{for(let[e,r]of w9)Zj(e,r);for(let e of jj)e instanceof A9?rdt(e):Elt(e);w9.clear(),jj=[]}),t.resolve()},"flushWatchers");function BSe(t){let e=t._state;e!==Fi.Dirty&&(t._state=Fi.Dirty,e<Fi.MaybeDirty&&zj(t))}o(BSe,"dirtySignal");function zj(t){if(Ac()===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");tz(t)?t.watchCount>0&&NSe(t):(t._isListener&&MSe(t),x9(t.subs),t.subs=new Map)}o(zj,"propagateDirty");function x9(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case Fi.Clean:n._state=Fi.MaybeDirty,n.dirtyHead=r,r.nextDirty=void 0,zj(n);break;case Fi.Pending:case Fi.MaybeDirty:case Fi.PendingDirty:{let s=n.dirtyHead,a=r.ord;if(s.ord>a)n.dirtyHead=r,r.nextDirty=s,(i===Fi.Pending||i===Fi.PendingDirty)&&(n._state=Fi.MaybeDirty,zj(n));else{let c=s.nextDirty;for(;c!==void 0&&c.ord<a;)s=c,c=s.nextDirty;r.nextDirty=c,s.nextDirty=r}break}}}}o(x9,"dirtySignalConsumers");var SSe=0,KS=(t=>(t[t.Signal=0]="Signal",t[t.Promise=1]="Promise",t))(KS||{});function Kj(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:SSe++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=SSe++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}o(Kj,"createEdge");function Mlt(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}o(Mlt,"findAndRemoveDirty");var S9=o((t,e)=>t===e,"DEFAULT_EQUALS"),Nlt=o(()=>!1,"FALSE_EQUALS"),Jj=o(t=>t===!1?Nlt:t??S9,"equalsFrom"),Clt=function*(){}().constructor;function PSe(t){return t.constructor===Clt}o(PSe,"isGeneratorResult");function O9(t){return t.constructor===Promise}o(O9,"isPromise");function klt(t,e){function r(n){return typeof n=="object"&&n!==null&&(O9(n)||l0(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(y,g){let E=Ac();try{v9(e);let T=y(g);T.done?n(T.value):r(T.value).then(l,h)}catch(T){i(T)}finally{v9(E)}}o(s,"step");let a=t.next.bind(t),c=t.throw.bind(t);function l(y){s(a,y)}o(l,"fulfilled");function h(y){s(c,y)}o(h,"rejected"),s(a)})}o(klt,"generatorResultToPromiseWithConsumer");function Blt(t,e){function r(n){return typeof n=="object"&&n!==null&&(O9(n)||l0(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(y,g){let E=zSe();try{T9(e);let T=y(g);T.done?n(T.value):r(T.value).then(l,h)}catch(T){i(T)}finally{T9(E)}}o(s,"step");let a=t.next.bind(t),c=t.throw.bind(t);function l(y){s(a,y)}o(l,"fulfilled");function h(y){s(c,y)}o(h,"rejected"),s(a)})}o(Blt,"generatorResultToPromiseWithScope");var jS,$j=class{static{o(this,"Callback")}scope;deps;_callbacks;fn;constructor(e,r,n){this.deps=n,this.scope=r,this.setFn(e)}get callbacks(){return this._callbacks??(this._callbacks=[])}setFn(e){this.fn=(...r)=>{let n=this.scope,i=zSe(),s=jS;try{jS=this,T9(n);let a=e(...r);return typeof a=="object"&&a!==null&&PSe(a)?Blt(a,n):a}finally{jS=s,T9(i)}}}};function LSe(t,e,r){return new $j(t,e,r)}o(LSe,"createCallback");function uo(t,e,r){let n;if(jS!==void 0)n=jS.callbacks;else{let s=Ac();if(s===void 0)throw new Error("callback must be used within a reactive function, component, or nested callback");n=s.callbacks??(s.callbacks=[])}let i=n[e];return i===void 0?i=n[e]=LSe(t,Dm(),r):r&&i.deps?.findIndex((s,a)=>s!==r[a])!==-1&&(i.setFn(t),i.deps=r),i.fn}o(uo,"callback");var g9=Array.from;function Plt(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}o(Plt,"isThenable");function y9(t,e,r){Plt(t)?t.then(e,r):e(t)}o(y9,"thenLoop");var i2=class t{static{o(this,"ReactivePromiseImpl")}_value=void 0;_error=void 0;_flags=1;_signal=void 0;_equals=S9;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_updatedCount=0;_version=v1(0);run=void 0;constructor(e){if(USe(this),e){let r=o(i=>{i&&typeof i.then=="function"?this._setPromise(i):this._setValue(i)},"resolve"),n=o(i=>{this._setError(i)},"reject");try{e(r,n)}catch(i){n(i)}}}static all(e){let r=new t,n=g9(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,c=!1,l=o(y=>g=>{c||(s[y]=g,--a===0&&r._setValue(s))},"onFulfillAt"),h=o(y=>{c||(c=!0,r._setError(y))},"onReject");for(let y=0;y<i;y++)y9(n[y],l(y),h);return r}static race(e){let r=new t,n=g9(e),i=n.length;if(i===0)return r;let s=!1,a=o(l=>{s||(s=!0,r._setValue(l))},"onFulfill"),c=o(l=>{s||(s=!0,r._setError(l))},"onReject");for(let l=0;l<i;l++)y9(n[l],a,c);return r}static any(e){let r=new t,n=g9(e),i=n.length;if(i===0)return r._setError(new AggregateError([],"No promises were provided to ReactivePromise.any")),r;let s=i,a=new Array(i),c=!1,l=o(y=>{c||(c=!0,r._setValue(y))},"onFulfill"),h=o(y=>g=>{c||(a[y]=g,--s===0&&r._setError(new AggregateError(a,"All promises were rejected in ReactivePromise.any")))},"onRejectAt");for(let y=0;y<i;y++)y9(n[y],l,h(y));return r}static allSettled(e){let r=new t,n=g9(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,c=o(h=>y=>{s[h]={status:"fulfilled",value:y},--a===0&&r._setValue(s)},"onFulfillAt"),l=o(h=>y=>{s[h]={status:"rejected",reason:y},--a===0&&r._setValue(s)},"onRejectAt");for(let h=0;h<i;h++)y9(n[h],c(h),l(h));return r}static resolve(e){return e instanceof t?e:new t(r=>r(e))}static reject(e){return new t((r,n)=>n(e))}static withResolvers(){let e=new t;return e._equals=S9,e._initFlags(1),{promise:e,resolve:o(i=>{i&&typeof i.then=="function"?e._setPromise(i):e._setValue(i)},"resolve"),reject:o(i=>{e._setError(i)},"reject")}}_initFlags(e){this._flags=e}_consumeFlags(e){let r=Ac();if(r===void 0)return;this._flags&128&&this._connect();let n=r.ref,i=this._stateSubs,s=i.get(n)??0;i.set(n,s|e)}_connect(){let e=this._signal,r=Ac();if(r?.watchCount===0){let{ref:n,computedCount:i,deps:s}=r,a=s.get(e);if(a?.consumedAt!==i){let c=Kj(a,KS.Signal,e,e.updatedCount,i);e.subs.set(n,c),s.set(e,c)}}else Qj(e)}_setFlags(e,r=0,n=0){let i=this._flags,s=i&~r|e,a=i^s|n;if(this._flags=s,a===0)return;a&48&&this._updatedCount++;let c=this._stateSubs;for(let[l,h]of c)if(h&a){let y=l.deref();y&&BSe(y),c.delete(l)}this._version.update(l=>l+1)}_setPending(){return this._flags&1?this._awaitSubs:(this._setFlags(1),x9(this._awaitSubs),this._awaitSubs=new Map)}_clearPending(){this._setFlags(0,1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(n=this._setPending());try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,s=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,s=16),n&2&&(s=32,this._error=void 0),n&1?this._scheduleSubs(r,s!==0):s!==0&&x9(r),this._awaitSubs=r=new Map,this._setFlags(12,3,s);let a=this._pending;this._pending=[];let c=this._updatedCount;for(let{ref:h,edge:y,resolve:g}of a)g?.(i),h!==void 0&&(y.updatedAt=c,r.set(h,y));let l=this._signal;l!==void 0&&Gj(l)}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._flags&1?this._scheduleSubs(r,i!==0):i!==0&&x9(r),this._awaitSubs=r=new Map,this._setFlags(2,5,i);let s=this._pending;this._pending=[];let a=this._updatedCount;for(let{ref:l,edge:h,reject:y}of s)y?.(n),l!==void 0&&(h.updatedAt=a,r.set(l,h));let c=this._signal;c!==void 0&&Gj(c)}_scheduleSubs(e,r){let n=r?Fi.Dirty:Fi.PendingDirty;for(let i of e.keys()){let s=i.deref();s!==void 0&&(s._state=n,NSe(s))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}then(e,r){let n=this._flags;return new Promise((i,s)=>{let a,c,l=Ac();if(l!==void 0){n&128&&(this._connect(),n=this._flags),a=l.ref;let g=this._awaitSubs.get(a)??Mlt(l,this);c=Kj(g,KS.Promise,this,this._updatedCount,l.computedCount)}let h=e?g=>{try{let E=e(g);i(E)}catch(E){s(E)}}:i,y=r?g=>{try{let E=r(g);i(E)}catch(E){s(E)}}:s;n&1?this._pending.push({ref:a,edge:c,resolve:h,reject:y}):(n&4?h(this._value):n&2&&y(this._error),a&&this._awaitSubs.set(a,c))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}},DSe=new WeakSet;function USe(t){DSe.add(t)}o(USe,"setReactivePromise");function l0(t){return DSe.has(t)}o(l0,"isReactivePromise");function FSe(t){return l0(t)&&(t._flags&128)!==0}o(FSe,"isRelay$1");function Llt(t,e){let r=new i2;return r._signal=e,r._equals=e.def.equals,r._initFlags(1),r._setPromise(t),r}o(Llt,"createPromise");function HSe(t,e,r){let n=new i2,i=!1,s,a=o(()=>{typeof s=="function"?s():s!==void 0&&s.deactivate?.();let h=n._signal;h.subs=new Map,h._state=Fi.Dirty,h.watchCount=0,i=!1,s=void 0},"unsubscribe"),c={get value(){return n._value},set value(h){n._setValue(h)},setPromise:o(h=>{n._setPromise(h)},"setPromise"),setError:o(h=>{n._setError(h)},"setError")},l={compute:o(()=>(i===!1?(s=t(c),i=!0):typeof s=="function"||s===void 0?(s?.(),s=t(c)):s.update?.(),a),"compute"),equals:S9,isRelay:!0,paramKey:r?.paramKey,id:r?.id,desc:r?.desc,tracer:void 0};return n._signal=o2(l,[],void 0,e),n._equals=Jj(r?.equals),n._initFlags(129),n}o(HSe,"createRelay");function qSe(t,e,r){let n=new i2,{fn:i}=LSe(t,e);return n._equals=Jj(r?.equals),n._initFlags(64),n.run=(...s)=>(n._setPromise(i(...s)),n),n}o(qSe,"createTask");var Dlt=i2;function Qj(t){let e=Ac();if(e!==void 0){let{ref:r,computedCount:n,deps:i}=e,s=i.get(t);if(s?.consumedAt!==n){s===void 0&&e.watchCount>0&&zS(t);let c=x1(t),l=Kj(s,KS.Signal,t,c,n);t.subs.set(r,l),i.set(t,l)}else{let c=x1(t);s!==void 0&&(s.updatedAt=c)}}else x1(t);return t._value}o(Qj,"getSignal");function x1(t){let{ref:e,_state:r}=t;if(r<Fi.Dirty)return t.updatedCount;if(r>=Fi.MaybeDirty){let i=t.dirtyHead;for(;i!==void 0;){if(i.type===KS.Promise){let c=i.dep;if(c.isPending){let l=t._value;return c._awaitSubs.set(e,i),l._setPending(),t._state=Fi.Pending,t.dirtyHead=i,t.updatedCount}else if(i.updatedAt===i.dep._updatedCount)c._awaitSubs.set(e,i);else{t.dirtyHead=i.nextDirty,t._state=Fi.Dirty;break}i=i.nextDirty;continue}let s=i.dep,a=x1(s);if(s.subs.set(e,i),i.updatedAt!==a){t.dirtyHead=i.nextDirty,t._state=Fi.Dirty;break}i=i.nextDirty}}let n=t._state;return n===Fi.Dirty?t._isLazy?t.updatedCount++:VSe(t):n===Fi.PendingDirty&&t._value._clearPending(),t._state=Fi.Clean,t.dirtyHead=void 0,t.updatedCount}o(x1,"checkSignal");function VSe(t){let e=Ac(),r=t.updatedCount,n=++t.computedCount;try{v9(t);let i=r!==0,s=t._value,a=t.def.compute(...t.args),c=!1;a!==null&&typeof a=="object"&&(PSe(a)?(a=klt(a,t),c=!0):O9(a)&&(c=!0)),c?s!==null&&typeof s=="object"&&l0(s)?s._setPromise(a):(t._value=Llt(a,t),t.updatedCount=r+1):((!i||!t.def.equals(s,a))&&(t._value=a,t.updatedCount=t._isLazy?r:r+1),Gj(t,n))}finally{v9(e)}}o(VSe,"runSignal");function Gj(t,e=t.computedCount){let{ref:r,deps:n}=t;for(let[i,s]of n)s.consumedAt!==e&&(CSe(i),i.subs.delete(r),n.delete(i))}o(Gj,"disconnectSignal");function Ult(t){let e=t.listeners,r=x1(t);return e!==null&&e.updatedAt!==r&&(e.updatedAt=r,kSe(t)),r}o(Ult,"checkAndRunListeners");var{log:ASe,floor:TSe,imul:Lo,abs:Flt}=Math;function fu(t,e=0){let r=e^t.length,n=3432918353,i=461845907,s=0;for(;s+4<=t.length;){let c=t.charCodeAt(s)&255|(t.charCodeAt(s+1)&255)<<8|(t.charCodeAt(s+2)&255)<<16|(t.charCodeAt(s+3)&255)<<24;c=Lo(c,n),c=c<<15|c>>>17,c=Lo(c,i),r^=c,r=r<<13|r>>>19,r=Lo(r,5)+3864292196,s+=4}let a=0;switch(t.length&3){case 3:a^=(t.charCodeAt(s+2)&255)<<16;case 2:a^=(t.charCodeAt(s+1)&255)<<8;case 1:a^=t.charCodeAt(s)&255,a=Lo(a,n),a=a<<15|a>>>17,a=Lo(a,i),r^=a}return r^=t.length,r^=r>>>16,r=Lo(r,2246822507),r^=r>>>13,r=Lo(r,3266489909),r^=r>>>16,r>>>0}o(fu,"hashStr");function jSe(t,e=0){t=Flt(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let a=t&4294967295;t=TSe(t/4294967296),a=Lo(a,n),a=a<<15|a>>>17,a=Lo(a,i),r^=a,r=r<<13|r>>>19,r=Lo(r,5)+3864292196}if(t>0){let a=t&4294967295;a=Lo(a,n),a=a<<15|a>>>17,a=Lo(a,i),r^=a}let s=t===0?1:TSe(ASe(t)/ASe(256))+1;return r^=s,r^=r>>>16,r=Lo(r,2246822507),r^=r>>>13,r=Lo(r,3266489909),r^=r>>>16,r>>>0}o(jSe,"hashNumber");function ez(t){let e=7,r=3432918353,n=461845907;for(let i of t){let s=u0(i);s=Lo(s,r),s=s<<15|s>>>17,s=Lo(s,n),e^=s,e=e<<13|e>>>19,e=Lo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=Lo(e,2246822507),e^=e>>>13,e=Lo(e,3266489909),e^=e>>>16,e>>>0}o(ez,"hashArray");function Hlt(t){let e=Ylt,r=Object.keys(t);for(let n of r)e+=u0(n)^u0(t[n]);return e>>>0}o(Hlt,"hashObject");function qlt(t){let e=13;for(let r of t)e+=u0(r);return e>>>0}o(qlt,"hashSet");function Vlt(t){let e=12;for(let[r,n]of t)e+=u0(r)^u0(n);return e>>>0}o(Vlt,"hashMap");function jlt(t){return jSe(t.getTime(),14)}o(jlt,"hashDate");function zlt(t){return(fu(t.source+t.flags,15)^t.lastIndex)>>>0}o(zlt,"hashRegExp");var Klt=fu("undefined",0),$lt=fu("null",1),Glt=fu("true",2),Wlt=fu("false",3);fu("array",7);var Ylt=fu("object",8),Xlt=Object.getPrototypeOf,Zlt=new Map([[Object.prototype,Hlt],[Array.prototype,ez],[Map.prototype,Vlt],[Set.prototype,qlt],[Date.prototype,jlt],[RegExp.prototype,zlt]]);function u0(t,e=[]){switch(typeof t){case"undefined":return Klt;case"boolean":return t?Glt:Wlt;case"number":return fu(String(t),4);case"string":return fu(t,5);case"bigint":return fu(t.toString(),6);case"object":{if(t===null)return $lt;let r=e.indexOf(t);if(r!==-1)return fu(String(r),11);let n=Zlt.get(Xlt(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return Wj(t)}case"function":return Wj(t);case"symbol":return fu(t.toString(),10)}}o(u0,"hashValue");var ISe=new WeakMap,Jlt=1;function Wj(t){let e=ISe.get(t);return e===void 0&&(e=jSe(Jlt++,9),ISe.set(t,e)),e}o(Wj,"getObjectHash");var Qlt=ez([]);function edt(t,e){return Wj(t)^(e.length>0?ez(e):Qlt)}o(edt,"hashReactiveFn");var Fi=(t=>(t[t.Clean=0]="Clean",t[t.Pending=1]="Pending",t[t.Dirty=2]="Dirty",t[t.MaybeDirty=3]="MaybeDirty",t[t.PendingDirty=4]="PendingDirty",t))(Fi||{}),tdt=0;function $S(t,e,r,n,i,s,a){return{id:t,desc:e,compute:r,equals:Jj(n),isRelay:i,paramKey:s,tracer:a}}o($S,"createReactiveDefinition");var A9=class{static{o(this,"ReactiveSignal")}flags;scope=void 0;id=++tdt;subs=new Map;deps=new Map;ref=new _lt(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;key;args;callbacks=void 0;_listeners=null;_value=void 0;tracerMeta;def;constructor(e,r,n,i){this.flags=(e.isRelay?8:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e}get _state(){return this.flags&7}set _state(e){this.flags=this.flags&-8|e}get _isListener(){return(this.flags&16)!==0}set _isListener(e){e?this.flags|=16:this.flags&=-17}get _isLazy(){return(this.flags&32)!==0}set _isLazy(e){e?this.flags|=32:this.flags&=-33}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get value(){return Qj(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(zS(this),this.flags|=16),MSe(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(Ilt(this),CSe(this),this.flags&=-17))}}addListenerLazy(){return this._isListener||(zS(this),this.flags|=16),this.listeners.cachedBoundAdd}},rdt=o(t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},"runListeners"),tz=o(t=>(t.flags&8)!==0,"isRelay");function o2(t,e=[],r,n){return new A9(t,e,r,n)}o(o2,"createReactiveSignal");var ndt=0,Yj=class{static{o(this,"ContextImpl")}constructor(e,r){this.defaultValue=e,this._description=r??`context:${ndt++}`,this._key=Symbol(this._description)}_key;_description},_1=o((t,e)=>new Yj(t,e),"context");var GS=o(t=>{let e=M9??Ac()?.scope;if(e===void 0)throw new Error("getContext must be used within a reactive function, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue},"getContext"),Lm=class t{static{o(this,"SignalScope")}parentScope;constructor(e,r){this.parentScope=r,this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n,typeof n=="object"&&n!==null&&I9.set(n,this);this.signals.clear()}getChild(e){let r=u0(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r){let n=e.paramKey?.(...r),i=edt(e.compute,n?[n]:r),s=this.signals.get(i);return s===void 0&&(s=o2(e,r,i,this),this.signals.set(i,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),Rlt(this))}removeFromGc(e){this.gcCandidates.delete(e);let{key:r}=e;r&&this.signals.set(r,e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){let e=this.signals;for(let r of this.gcCandidates)r.watchCount===0&&e.delete(r.key);this.gcCandidates=new Set}},rz=new Lm([]),nz=o(()=>rz,"getGlobalScope");function iz(t){rz.setContexts(t)}o(iz,"setGlobalContexts");var M9,T9=o(t=>{M9=t},"setCurrentScope"),zSe=o(()=>M9,"getInternalCurrentScope"),Dm=o((t=rz)=>M9??Ac()?.scope??t,"getCurrentScope"),I9=new WeakMap,Xj=new WeakMap,oz=o((t,e)=>{if(Xj.has(t))throw new Error("Object already has a scope owner, owners cannot be dynamic");Xj.set(t,e)},"setScopeOwner"),KSe=o(t=>{let e=Xj.get(t);if(!e)throw new Error("Object has no scope owner, reactiveMethod must be attached to an owned context object");let r=I9.get(e)??KSe(e);return I9.set(t,r),r},"reifyScopeOwner"),$Se=o(t=>{let e=I9.get(t);return e||(e=KSe(t)),e},"getScopeOwner");p();m();p();m();var sz=new Map;function az(t,e){let r=sz.get(t);if(!r){let n=$S(e?.id,e?.desc,t,e?.equals,!1,e?.paramKey,void 0),i=Dm();r=[o((...a)=>Dm(i).get(n,a).value,"reactiveFn"),n],sz.set(t,r)}return r}o(az,"getReactiveFnAndDefinition");function vi(t,e){return az(t,e)[0]}o(vi,"reactive");var cz=o((t,e,r)=>{let n=$S(r?.id,r?.desc,e,r?.equals,!1,r?.paramKey,void 0),i=o((...s)=>$Se(t).get(n,s).value,"reactiveFn");return sz.set(i,[i,n]),i},"reactiveMethod");function idt(t,e){let r=Dm();return HSe(t,r,e)}o(idt,"relay");var WS=o((t,e)=>{let r=Dm();return qSe(t,r,e)},"task");function GSe(t,e){let r=$S(e?.id,e?.desc,t,e?.equals,!1,void 0,e?.tracer),n=e?.isolate?new Lm([]):Dm();return o2(r,void 0,void 0,n)}o(GSe,"watcher");var fz=o((t,e)=>{let r=$S(e?.id,e?.desc,t,e?.equals,!1,void 0,void 0),n=e?.isolate?new Lm([]):Dm();return o2(r,void 0,void 0,n)},"reactiveSignal");p();m();p();m();p();m();p();m();var w1=o(()=>{let t=v1(void 0,{equals:o(()=>!1,"equals")});return{consume:o(()=>t.value,"consume"),notify:o(()=>t.value=void 0,"notify")}},"createNotifier");p();m();var WSe=We(Og(),1),Ya=We(Sn(),1);var uz=(0,Ya.createContext)(void 0);function YSe(){return(0,Ya.useContext)(uz)}o(YSe,"useScope");function E1(t){let e=Ac()?.scope??YSe();if(!e)throw new Error("useContext must be used within a signal hook, a withContext, or a component");return e.getContext(t)??t.defaultValue}o(E1,"useContext");function H1r({children:t,contexts:e=[],inherit:r=!0}){let n=(0,Ya.useContext)(uz)??nz(),i=(0,Ya.useRef)(null);return i.current===null&&(i.current=new Lm(e,r?n:void 0)),(0,WSe.jsx)(uz.Provider,{value:i.current,children:t})}o(H1r,"ContextProvider");var XSe=(0,Ya.createContext)(!1),q1r=XSe.Provider;function ZSe(){return(0,Ya.useContext)(XSe)}o(ZSe,"useSignalsSuspended");var JSe=o(t=>{let e=ZSe();return(0,Ya.useSyncExternalStore)((0,Ya.useCallback)(e?()=>()=>{}:r=>t.addListener(r),[t,e]),()=>t.value,()=>t.value)},"useStateSignal"),QSe=o(t=>{let e=ZSe();return(0,Ya.useSyncExternalStore)(e?()=>()=>{}:t.addListenerLazy(),()=>t.value,()=>t.value)},"useReactiveFnSignal"),e3e=o(t=>(FSe(t)&&QSe(t._signal),JSe(t._version),t),"useReactivePromise"),odt=o((t,...e)=>{let[,r]=az(t),i=(YSe()??nz()).get(r,e),s=QSe(i);return typeof s=="object"&&s!==null&&l0(s)?e3e(s):s},"useReactiveFn"),sdt=o(t=>typeof t=="object"&&t!==null&&l0(t),"isNonNullishAsyncSignal");function Tc(t,...e){return Ac()?typeof t=="function"?t(...e):sdt(t)?t:t.value:typeof t=="function"?odt(t,...e):typeof t=="object"&&t!==null&&l0(t)?e3e(t):JSe(t)}o(Tc,"useReactive");p();m();var t3e=We(Sn(),1);p();m();function s2(t){if(Array.isArray(t))return t.map(s2);if(t&&typeof t=="object"){if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(t instanceof Map)return new Map(Array.from(t.entries()).map(([r,n])=>[s2(r),s2(n)]));if(t instanceof Set)return new Set(Array.from(t).map(s2));let e=Object.create(Object.getPrototypeOf(t));for(let r of Object.keys(t))e[r]=s2(t[r]);return e}return t}o(s2,"cloneDeep");var adt=vi(t=>s2(t.value)),cdt=vi((t,...e)=>{let r=t(...e);return new Proxy(r,{get(n,i,s){return i==="value"?adt(n):Reflect.get(n,i,s)}})});function W1r(t,...e){let r=Tc(cdt,t,...e);return Tc(()=>r.value),r}o(W1r,"useQuery");function Q1r(t,e){return(0,t3e.useMemo)(()=>{let r=t.value?e?e(t.value):t.value:void 0;return{value:t.value,data:r,isLoading:t.isPending,isSuccess:t.isResolved,isFetching:t.isPending,isError:t.isRejected,isFetched:t.isSettled,status:t.isPending?"pending":t.isResolved?"success":"error",error:t.error}},[t.value,t.isPending,t.isResolved,t.isRejected,t.isSettled,t.error,e])}o(Q1r,"useToQueryResult");p();m();var Tt;(function(t){t.Debug="debug",t.Fatal="fatal",t.Error="error",t.Info="info"})(Tt||(Tt={}));var uu;(function(t){t.PD="PD",t.WP="WP",t.IO="IO",t.PL="PL",t.TRA="TRA",t.SOC="SOC",t.CASH="CASH",t.GROW="GROW"})(uu||(uu={}));var Je;(function(t){t.Account="account",t.Auth="Auth",t.ActionBanner="actionBanner",t.Authentication="authentication",t.AutoConfirm="autoConfirm",t.BugReporter="bugReporter",t.Chat="chat",t.Collectibles="collectibles",t.DappBrowser="dappBrowser",t.DappRegistry="dappRegistry",t.DeepLinks="deepLinks",t.FeatureFlags="featureFlags",t.Feed="feed",t.FileLogger="fileLogger",t.Fungibles="fungibles",t.History="history",t.Ledger="ledger",t.MagicEden="magicEden",t.Migration="migration",t.MobileWalletAdapter="mobileWalletAdapter",t.MobileEmbedded="mobileEmbedded",t.PhantomConnect="phantomConnect",t.Network="network",t.Notifications="notifications",t.NotificationCenter="notificationCenter",t.OnRamp="onRamp",t.Performance="performance",t.Perps="perps",t.Prices="prices",t.Profiles="profiles",t.Provider="provider",t.Seedless="se*dless",t.Settings="settings",t.Lock="lock",t.Simulation="simulation",t.Staking="staking",t.Storage="storage",t.StartUp="startUp",t.Swapper="swapper",t.Transaction="transaction",t.Safeguard="safeguard",t.Tokens="tokens",t.TrustedApps="trustedApps",t.UserSearch="userSearch",t.Generic="generic",t.WebTokenPage="webTokenPage",t.WebUserPage="webUserPage",t.WebPortal="webPortal",t.WebExplorePage="webExplorePage",t.WebAppPage="webAppPage",t.WebPublicSite="webPublicSite",t.Stripe="stripe",t.Kyc="kyc",t.Cash="cash",t.WebTokensSitemap="webTokensSitemap",t.Competitions="competitions"})(Je||(Je={}));p();m();p();m();var fdt="Error message ignored by logging middleware.",r3e=o(t=>({beforeEvent:o((...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(fdt);return{value:e,...r.data?{data:r.data}:{}}},"beforeEvent"),afterEvent:void 0}),"ignoreMessages");p();m();var udt="Sensitive data detected by pki scanner. File logging blocked.";var n3e=/(seed|mnemonic|seedAndMnemonic|ObfuscatedBytes)/im,N9={beforeEvent:o((...[t,e])=>{let r=t instanceof Error?t.message:t;if(n3e.test(r)||e.data&&n3e.test(JSON.stringify(e.data)))throw new Error(udt);return{value:t,...e.data?{data:e.data}:{}}},"beforeEvent"),afterEvent:void 0};var ldt=["premature close"],ddt=r3e(ldt),Um=class extends Error{static{o(this,"FileLoggerUninitializedError")}constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function hdt(t=[]){let e=null;async function r({provider:h}){await h.init(),e={provider:h}}o(r,"init");async function n(h){if(!e)throw new Um;return e.provider.downloadLog(h)}o(n,"downloadLog");async function i(){if(!e)throw new Um;return e.provider.flush()}o(i,"flush");async function s(){if(!e)throw new Um;return e.provider.getLogFilePaths()}o(s,"getLogFilePaths");async function a(){if(!e)throw new Um;return e.provider.getRecentLogs()}o(a,"getRecentLogs");async function c(h){if(!e)throw new Um;return e.provider.sendLogFilesByEmail(h)}o(c,"sendLogFilesByEmail");function l(h,y,g,E){if(!e)throw new Um;for(let T of t)if(T?.beforeEvent!==void 0)try{T.beforeEvent(h,{featureTag:y,severity:g})}catch(O){Vs()&&O instanceof Error&&console.warn(O.message);return}e.provider.write(h,y,g,E);for(let T of t)if(T?.afterEvent!==void 0)try{T.afterEvent(h,{featureTag:y,severity:g})}catch(O){Vs()&&O instanceof Error&&console.warn(O.message);return}}return o(l,"write"),{init:r,downloadLog:n,flush:i,getLogFilePaths:s,getRecentLogs:a,sendLogFilesByEmail:c,write:l}}o(hdt,"createFileLogger");var YS=hdt([ddt,N9]);p();m();p();m();p();m();p();m();p();m();p();m();function a2(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return i3e[t]>=i3e[r.getLevel()]&&i.includes(e)}o(a2,"isAuthorized");var Wt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},i3e={[Wt.ok]:0,[Wt.debug]:1,[Wt.info]:2,[Wt.notice]:4,[Wt.warn]:5,[Wt.error]:6,[Wt.critical]:7,[Wt.alert]:8,[Wt.emerg]:9};p();m();function Fm(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}o(Fm,"createErrorFieldFromRawError");var pdt=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},S1={console:"console",http:"http",silent:"silent"},o3e=Object.keys(Wt),wa=class{static{o(this,"Logger")}constructor(e,r,n=S1.http,i=Wt.debug,s={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=Tb("logger"),this.contextManager.setContext(s),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Wt.info,i,s){let a=Eb(r),c;if(i!=null){let l=EZ({stackTrace:AZ(i)?tA(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:js.LOGGER,handling:"handled",startClocks:dZ()});c=Sb({error:Fm(l,{includeMessage:!0})},a)}else c=a;this.handleLogStrategy({message:Eb(e),context:c,status:n},this,s)}log(e,r,n=Wt.info,i){let s;a2(n,S1.http,this)&&(s=uk("log")),this.logImplementation(e,r,n,i,s)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};pdt([mZ],wa.prototype,"logImplementation",null);wa.prototype.ok=d0(Wt.ok);wa.prototype.debug=d0(Wt.debug);wa.prototype.info=d0(Wt.info);wa.prototype.notice=d0(Wt.notice);wa.prototype.warn=d0(Wt.warn);wa.prototype.error=d0(Wt.error);wa.prototype.critical=d0(Wt.critical);wa.prototype.alert=d0(Wt.alert);wa.prototype.emerg=d0(Wt.emerg);function d0(t){return function(e,r,n){let i;a2(t,S1.http,this)&&(i=uk("log")),this.logImplementation(e,r,t,n,i)}}o(d0,"createLoggerMethod");p();m();function s3e(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}o(s3e,"buildCommonContext");p();m();p();m();var gdt=32*1024;function c3e(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&Ll.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=xZ(t),r=a3e(t.forwardConsoleLogs,fk(mo),"Forward Console Logs"),n=a3e(t.forwardReports,fk(RZ),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(mo.error)&&r.push(mo.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:gdt,...e}}o(c3e,"validateAndBuildLogsConfiguration");function a3e(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){Ll.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:CZ(t)}o(a3e,"validateAndBuildForwardOption");function f3e(t){let e=vZ(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}o(f3e,"serializeLogsConfiguration");function u3e(t,e,r){let n=kZ(),i,s,a=e.observable.subscribe(c);function c(){if(!s||!i||!e.isGranted())return;a.unsubscribe();let l=r(i,s);n.drain(l)}return o(c,"tryStartLogs"),{init(l){if(!l){Ll.error("Missing configuration");return}if(_Z(l.enableExperimentalFeatures),ch()&&(l=ydt(l)),i=l,s){nA("DD_LOGS",l);return}let h=c3e(l);h&&(s=h,aA().subscribe(Hc),e.tryToInit(h.trackingConsent),c())},get initConfiguration(){return i},getInternalContext:Hc,handleLog(l,h,y,g=t(),E=P0()){n.add(T=>T.handleLog(l,h,y,g,E))}}}o(u3e,"createPreStartStrategy");function ydt(t){return{...t,clientToken:"empty"}}o(ydt,"overrideInitConfigurationForBridge");var lz="logs";function l3e(t){let e=Tb("global context"),r=Tb("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=Tb("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=yZ();function s(){return s3e(e,r,n)}o(s,"getCommonContext");let a=u3e(s,i,(h,y)=>{h.storeContextsAcrossPages&&(cA(y,e,lz,2),cA(y,r,lz,1),cA(y,n,lz,4));let g=t(h,y,s,i);return a=bdt(h,g),g}),c={},l=new wa((...h)=>a.handleLog(...h));return IZ({logger:l,init:di(h=>a.init(h)),setTrackingConsent:di(h=>{i.update(h),UZ({feature:"set-tracking-consent",tracking_consent:h})}),getGlobalContext:di(()=>e.getContext()),setGlobalContext:di(h=>e.setContext(h)),setGlobalContextProperty:di((h,y)=>e.setContextProperty(h,y)),removeGlobalContextProperty:di(h=>e.removeContextProperty(h)),clearGlobalContext:di(()=>e.clearContext()),createLogger:di((h,y={})=>(c[h]=new wa((...g)=>a.handleLog(...g),Eb(h),y.handler,y.level,Eb(y.context)),c[h])),getLogger:di(h=>c[h]),getInitConfiguration:di(()=>NZ(a.initConfiguration)),getInternalContext:di(h=>a.getInternalContext(h)),setUser:di(r.setContext),getUser:di(r.getContext),setUserProperty:di(r.setContextProperty),removeUserProperty:di(r.removeContextProperty),clearUser:di(r.clearContext),setAccount:di(n.setContext),getAccount:di(n.getContext),setAccountProperty:di(n.setContextProperty),removeAccountProperty:di(n.removeContextProperty),clearAccount:di(n.clearContext)})}o(l3e,"makeLogsPublicApi");function bdt(t,e){return{init:o(r=>{nA("DD_LOGS",r)},"init"),initConfiguration:t,...e}}o(bdt,"createPostStartStrategy");p();m();p();m();var xdt="logs";function d3e(t,e){let r=FZ(t,xdt,n=>vdt(t,n),e);return{findTrackedSession:o((n,i={returnInactive:!1})=>{let s=r.findSession(n,i);return s&&s.trackingType==="1"?{id:s.id,anonymousId:s.anonymousId}:void 0},"findTrackedSession"),expireObservable:r.expireObservable}}o(d3e,"startLogsSessionManager");function h3e(t){let r=p3e(t)==="1"?{}:void 0;return{findTrackedSession:o(()=>r,"findTrackedSession"),expireObservable:new eA}}o(h3e,"startLogsSessionManagerStub");function p3e(t){return Q6(t.sessionSampleRate)?"1":"0"}o(p3e,"computeTrackingType");function vdt(t,e){let r=_dt(e)?e:p3e(t);return{trackingType:r,isTracked:r==="1"}}o(vdt,"computeSessionState");function _dt(t){return t==="0"||t==="1"}o(_dt,"hasValidLoggerSession");p();m();p();m();var m3e=!1;function c2(t){let e=self;if(fA()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!m3e&&(m3e=!0,L0("Logs sent before RUM is injected by the synthetics worker",{testId:XZ(),resultId:ZZ()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}o(c2,"getRUMInternalContext");function g3e(t,e,r,n,i){let s=o3e.concat(["custom"]),a={};s.forEach(c=>{a[c]=KZ(c,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:c,messageContext:l=void 0,savedCommonContext:h=void 0,domainContext:y})=>{var g,E;let T=hZ(c.date),O=t.findTrackedSession(T);if(!t.findTrackedSession(T,{returnInactive:!0}))return;let k=h||n(),C;!ck(k.account)&&k.account.id&&(C=k.account),O&&O.anonymousId&&!k.user.anonymous_id&&(k.user.anonymous_id=O.anonymousId);let B=Sb({service:e.service,session_id:O?O.id:void 0,session:O?{id:O.id}:void 0,usr:ck(k.user)?void 0:k.user,account:C,view:k.view},k.context,c2(T),c,l);((g=e.beforeSend)===null||g===void 0?void 0:g.call(e,B,y))===!1||B.origin!==js.AGENT&&((E=a[B.status])!==null&&E!==void 0?E:a.custom).isLimitReached()||r.notify(1,B)})}o(g3e,"startLogsAssembly");p();m();var wdt={[mo.log]:Wt.info,[mo.debug]:Wt.debug,[mo.info]:Wt.info,[mo.warn]:Wt.warn,[mo.error]:Wt.error};function y3e(t,e){let r=WZ(t.forwardConsoleLogs).subscribe(n=>{var i;let s={rawLogsEvent:{date:P0(),message:n.message,origin:js.CONSOLE,error:n.error&&Fm(n.error),status:wdt[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,s)});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(y3e,"startConsoleCollection");p();m();function b3e(t,e){let r=OZ(t,t.forwardReports).subscribe(n=>{let i=n.message,s,a=n.originalError.type==="deprecation"?Wt.warn:Wt.error;a===Wt.error?s=Fm(n):n.stack&&(i+=` Found in ${SZ(n.stack)}`),e.notify(0,{rawLogsEvent:{date:P0(),message:i,origin:js.REPORT,error:s,status:a}})});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(b3e,"startReportCollection");p();m();function x3e(t,e){if(!t.forwardErrorsToLogs)return{stop:Hc};let r=GZ(t).subscribe(s=>{s.state==="complete"&&i("xhr",s)}),n=aA().subscribe(s=>{s.state==="resolve"&&i("fetch",s)});function i(s,a){!bZ(a.url)&&(Tdt(a)||HZ(a.status))&&("xhr"in a?Edt(a.xhr,t,c):a.response?Adt(a.response,t,c):a.error&&Sdt(a.error,t,c));function c(l){let h={isAborted:a.isAborted,handlingStack:a.handlingStack};e.notify(0,{rawLogsEvent:{message:`${Idt(s)} error ${a.method} ${a.url}`,date:a.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:a.method,status_code:a.status,url:a.url},status:Wt.error,origin:js.NETWORK},domainContext:h})}o(c,"onResponseDataAvailable")}return o(i,"handleResponse"),{stop:o(()=>{r.unsubscribe(),n.unsubscribe()},"stop")}}o(x3e,"startNetworkErrorCollection");function Edt(t,e,r){typeof t.response=="string"?r(dz(t.response,e)):r(t.response)}o(Edt,"computeXhrResponseData");function Sdt(t,e,r){r(dz(wZ(tA(t)),e))}o(Sdt,"computeFetchErrorText");function Adt(t,e,r){let n=qZ(t);!n||!n.body?r():self.TextDecoder?Rdt(n.body,e.requestErrorResponseLengthLimit,(i,s)=>{r(i?`Unable to retrieve response: ${i}`:s)}):n.text().then(di(i=>r(dz(i,e))),di(i=>r(`Unable to retrieve response: ${i}`)))}o(Adt,"computeFetchResponseText");function Tdt(t){return t.status===0&&t.responseType!=="opaque"}o(Tdt,"isRejected");function dz(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}o(dz,"truncateResponseText");function Idt(t){return t==="xhr"?"XHR":"Fetch"}o(Idt,"format");function Rdt(t,e,r){YZ(t,(n,i,s)=>{if(n)r(n);else{let a=new TextDecoder().decode(i);s&&(a+="..."),r(void 0,a)}},{bytesLimit:e,collectStreamBody:!0})}o(Rdt,"truncateResponseStream");p();m();function v3e(t,e){if(!t.forwardErrorsToLogs)return{stop:Hc};let r=new eA,{stop:n}=TZ(r),i=r.subscribe(s=>{e.notify(0,{rawLogsEvent:{message:s.message,date:s.startClocks.timeStamp,error:Fm(s),origin:js.SOURCE,status:Wt.error},messageContext:s.context})});return{stop:o(()=>{n(),i.unsubscribe()},"stop")}}o(v3e,"startRuntimeErrorCollection");p();m();var _3e=zZ;p();m();function w3e(t){function e(r,n,i,s,a){let c=Sb(n.getContext(),r.context);if(a2(r.status,S1.console,n)&&Mdt(r,c),a2(r.status,S1.http,n)){let l={rawLogsEvent:{date:a||P0(),message:r.message,status:r.status,origin:js.LOGGER},messageContext:c,savedCommonContext:s};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return o(e,"handleLog"),{handleLog:e}}o(w3e,"startLoggerCollection");var Odt={[Wt.ok]:mo.debug,[Wt.debug]:mo.debug,[Wt.info]:mo.info,[Wt.notice]:mo.info,[Wt.warn]:mo.warn,[Wt.error]:mo.error,[Wt.critical]:mo.error,[Wt.alert]:mo.error,[Wt.emerg]:mo.error};function Mdt({status:t,message:e},r){fZ[Odt[t]].call(cZ,e,r)}o(Mdt,"displayInConsole");p();m();function E3e(t,e,r,n,i){let s=sA(t,{endpoint:t.logsEndpointBuilder,encoder:Ab()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:Ab()},r,n,i.expireObservable);return e.subscribe(1,a=>{s.add(a)}),s}o(E3e,"startLogsBatch");p();m();function S3e(t){let e=oA();t.subscribe(1,r=>{e.send("log",r)})}o(S3e,"startLogsBridge");p();m();function A3e(t){return{get:o(e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}},"get")}}o(A3e,"startInternalContext");p();m();function T3e(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:js.AGENT,status:Wt.error}}),L0("Error reported to customer",{"error.message":e.message})}}o(T3e,"startReportError");p();m();function I3e(t,e,r,n,i){let s=BZ("browser-logs-sdk",e);s.setContextProvider(()=>{var c,l,h,y,g,E;return{application:{id:(c=c2())===null||c===void 0?void 0:c.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(y=(h=c2())===null||h===void 0?void 0:h.view)===null||y===void 0?void 0:y.id},action:{id:(E=(g=c2())===null||g===void 0?void 0:g.user_action)===null||E===void 0?void 0:E.id}}});let a=[];if(ch()){let c=oA(),l=s.observable.subscribe(h=>c.send("internal_telemetry",h));a.push(()=>l.unsubscribe())}else{let c=sA(e,{endpoint:e.rumEndpointBuilder,encoder:Ab()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:Ab()},r,n,i.expireObservable);a.push(()=>c.stop());let l=s.observable.subscribe(h=>c.add(h,LZ(e)));a.push(()=>l.unsubscribe())}return PZ(),DZ(f3e(t)),{telemetry:s,stop:o(()=>{a.forEach(c=>c())},"stop")}}o(I3e,"startLogsTelemetry");function R3e(t,e,r,n){let i=new _3e,s=[];i.subscribe(1,E=>MZ("logs",E));let a=T3e(i),c=jZ(e),l=e.sessionStoreStrategyType&&!ch()&&!fA()?d3e(e,n):h3e(e),{stop:h}=I3e(t,e,a,c,l);s.push(()=>h()),x3e(e,i),v3e(e,i),y3e(e,i),b3e(e,i);let{handleLog:y}=w3e(i);if(g3e(l,e,i,r,a),ch())S3e(i);else{let{stop:E}=E3e(e,i,a,c,l);s.push(()=>E())}let g=A3e(l);return{handleLog:y,getInternalContext:g.get,stop:o(()=>{s.forEach(E=>E())},"stop")}}o(R3e,"startLogs");var Hm=l3e(R3e);rA(wb(),"DD_LOGS",Hm);p();m();p();m();p();m();p();m();function XS(t,e,r){let n=0,i=[],s,a=0,c=[],{stop:l}=N_(t,e,"message",({data:g})=>{if(g.type!=="wrote"||g.streamId!==r)return;n+=g.additionalBytesCount,i.push(g.result),s=g.trailer;let E=c.shift();E&&E.id===g.id?E.writeCallback?E.writeCallback(g.result.byteLength):E.finishCallback&&E.finishCallback():(l(),L0("Worker responses received out of order."))});function h(){let g=i.length===0?new Uint8Array(0):pZ(i.concat(s)),E={rawBytesCount:n,output:g,outputBytesCount:g.byteLength,encoding:"deflate"};return n=0,i=[],E}o(h,"consumeResult");function y(){a>0&&(e.postMessage({action:"reset",streamId:r}),a=0)}return o(y,"sendResetIfNeeded"),{isAsync:!0,get isEmpty(){return a===0},write(g,E){e.postMessage({action:"write",id:a,data:g,streamId:r}),c.push({id:a,writeCallback:E,data:g}),a+=1},finish(g){y(),c.length?(c.forEach(E=>{delete E.writeCallback}),c[c.length-1].finishCallback=()=>g(h())):g(h())},finishSync(){y();let g=c.map(E=>(delete E.writeCallback,delete E.finishCallback,E.data)).join("");return{...h(),pendingData:g}},estimateEncodedBytesCount(g){return g.length/8},stop(){l()}}}o(XS,"createDeflateEncoder");p();m();p();m();function f2({configuredUrl:t,error:e,source:r,scriptType:n}){if(Ll.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&Ndt(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",Ll.error(`${i} See documentation at ${uZ}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&iA(e)}o(f2,"reportScriptLoadingError");function Ndt(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}o(Ndt,"isMessageCspRelated");var Cdt=30*lZ;function O3e(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}o(O3e,"createDeflateWorker");var lo={status:0};function ZS(t,e,r,n=O3e){switch(lo.status===0&&kdt(t,e,n),lo.status){case 1:return lo.initializationFailureCallbacks.push(r),lo.worker;case 3:return lo.worker}}o(ZS,"startDeflateWorker");function C9(){return lo.status}o(C9,"getDeflateWorkerStatus");function kdt(t,e,r=O3e){try{let n=r(t),{stop:i}=N_(t,n,"error",c=>{hz(t,e,c)}),{stop:s}=N_(t,n,"message",({data:c})=>{c.type==="errored"?hz(t,e,c.error,c.streamId):c.type==="initialized"&&Pdt(c.version)});n.postMessage({action:"init"}),gZ(()=>Bdt(e),Cdt),lo={status:1,worker:n,stop:o(()=>{i(),s()},"stop"),initializationFailureCallbacks:[]}}catch(n){hz(t,e,n)}}o(kdt,"doStartDeflateWorker");function Bdt(t){lo.status===1&&(Ll.error(`${t} failed to start: a timeout occurred while initializing the Worker`),lo.initializationFailureCallbacks.forEach(e=>e()),lo={status:2})}o(Bdt,"onTimeout");function Pdt(t){lo.status===1&&(lo={status:3,worker:lo.worker,stop:lo.stop,version:t})}o(Pdt,"onInitialized");function hz(t,e,r,n){lo.status===1||lo.status===0?(f2({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),lo.status===1&&lo.initializationFailureCallbacks.forEach(i=>i()),lo={status:2}):iA(r,{worker_version:lo.status===3&&lo.version,stream_id:n})}o(hz,"onError");p();m();function k9(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}o(k9,"isBrowserSupported");p();m();p();m();function M3e(t,e,r,n){let i=e.findTrackedSession(),s=Ldt(i,n),a=r.findView();return eJ(t,{viewContext:a,errorType:s,session:i})}o(M3e,"getSessionReplayLink");function Ldt(t,e){if(!k9())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}o(Ldt,"getErrorType");function N3e(t,e,r,n,i,s){let a=0,c;e.subscribe(9,()=>{(a===2||a===3)&&(y(),a=1)}),e.subscribe(10,()=>{a===1&&h()});let l=o(async()=>{let[g]=await Promise.all([i(),$Z(t,"interactive")]);if(a!==2)return;let E=s();if(!E||!g){a=0;return}({stop:c}=g(e,t,r,n,E)),a=3},"doStart");function h(g){let E=r.findTrackedSession();if(Ddt(E,g)){a=1;return}Udt(a)||(a=2,l().catch(M_),Fdt(E,g)&&r.setForcedReplay())}o(h,"start");function y(){a===3&&c?.(),a=0}return o(y,"stop"),{start:h,stop:y,getSessionReplayLink(){return M3e(t,r,n,a!==0)},isRecording:o(()=>a===3,"isRecording")}}o(N3e,"createPostStartStrategy");function Ddt(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}o(Ddt,"canStartRecording");function Udt(t){return t===2||t===3}o(Udt,"isRecordingInProgress");function Fdt(t,e){return e&&e.force&&t.sessionReplay===0}o(Fdt,"shouldForceReplay");p();m();function C3e(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:Hc},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}o(C3e,"createPreStartStrategy");function k3e(t,e){if(ch()&&!VZ("records")||!k9())return{start:Hc,stop:Hc,getReplayStats:o(()=>{},"getReplayStats"),onRumStart:Hc,isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:o(()=>{},"getSessionReplayLink")};let{strategy:r,shouldStartImmediately:n}=C3e();return{start:o(s=>r.start(s),"start"),stop:o(()=>r.stop(),"stop"),getSessionReplayLink:o(()=>r.getSessionReplayLink(),"getSessionReplayLink"),onRumStart:i,isRecording:o(()=>C9()===3&&r.isRecording(),"isRecording"),getReplayStats:o(s=>C9()===3?tJ(s):void 0,"getReplayStats")};function i(s,a,c,l,h){let y;function g(){return y||(h??(h=ZS(a,"Datadog Session Replay",()=>{r.stop()},e)),h&&(y=XS(a,h,1))),y}o(g,"getOrCreateDeflateEncoder"),r=N3e(a,s,c,l,t,g),n(a)&&r.start()}}o(k3e,"makeRecorderApi");p();m();async function B3e(t=Hdt){try{return await t()}catch(e){f2({error:e,source:"Recorder",scriptType:"module"})}}o(B3e,"lazyLoadRecorder");async function Hdt(){return(await import("./startRecording-OJVBVWBM.js")).startRecording}o(Hdt,"importRecorder");p();m();p();m();function P3e(){return wb().Profiler!==void 0}o(P3e,"isProfilingSupported");p();m();async function L3e(t=qdt){try{return await t()}catch(e){f2({error:e,source:"Profiler",scriptType:"module"})}}o(L3e,"lazyLoadProfiler");async function qdt(){return(await import("./profiler-PLFDELWD.js")).createRumProfiler}o(qdt,"importProfiler");function D3e(){let t;function e(r,n,i,s){!P3e()||!Q6(n.profilingSampleRate)||L3e().then(a=>{if(!a){L0("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=a(n,r,i),t.start(s.findView())}).catch(M_)}return o(e,"onRumStart"),{onRumStart:e,stop:o(()=>{t?.stop().catch(M_)},"stop")}}o(D3e,"makeProfilerApi");var Vdt=k3e(B3e),jdt=D3e(),A1=JZ(QZ,Vdt,jdt,{startDeflateWorker:ZS,createDeflateEncoder:XS});rA(wb(),"DD_RUM",A1);p();m();var u2=o(t=>{switch(t){case Je.Collectibles:case Je.MagicEden:case Je.Fungibles:case Je.Staking:case Je.Swapper:case Je.Perps:case Je.Prices:case Je.WebTokenPage:case Je.WebExplorePage:case Je.Tokens:case Je.WebTokensSitemap:return uu.PD;case Je.AutoConfirm:case Je.DeepLinks:case Je.DappBrowser:case Je.DappRegistry:case Je.Network:case Je.Transaction:case Je.Provider:case Je.History:case Je.TrustedApps:case Je.Simulation:case Je.MobileEmbedded:return uu.WP;case Je.WebAppPage:case Je.Account:case Je.Auth:case Je.ActionBanner:case Je.Authentication:case Je.Ledger:case Je.Lock:case Je.Seedless:case Je.PhantomConnect:case Je.Settings:case Je.Migration:case Je.MobileWalletAdapter:case Je.Generic:case Je.StartUp:case Je.WebPortal:case Je.Notifications:case Je.WebPublicSite:return uu.IO;case Je.BugReporter:case Je.Storage:case Je.FileLogger:case Je.FeatureFlags:case Je.Performance:return uu.PL;case Je.Safeguard:return uu.TRA;case Je.Chat:case Je.Profiles:case Je.Feed:case Je.NotificationCenter:case Je.WebUserPage:case Je.UserSearch:return uu.SOC;case Je.Stripe:case Je.Kyc:case Je.OnRamp:case Je.Cash:return uu.CASH;case Je.Competitions:return uu.GROW}},"teamForTag");p();m();var JS={init:o(async(t,e)=>{},"init"),captureError:o((t,e)=>{},"captureError"),captureMessage:o((t,e,r=Tt.Info)=>{},"captureMessage"),addBreadcrumb:o((t,e,r)=>{},"addBreadcrumb"),setUser:o(async t=>{},"setUser"),setTags:o(async t=>{},"setTags"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{},"startInactiveSpan"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};p();m();var B9;function U3e(){return B9===void 0&&(typeof process<"u"&&R?B9=R.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(B9=self.process.env.DATADOG_CLIENT_TOKEN)),B9}o(U3e,"getDatadogClientToken");var zdt={init:o(async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||U3e();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate,s=t.mode==="debug"?!0:e.trackUserInteractions,a=t.mode==="debug"?100:e.sessionReplaySampleRate??void 0;A1.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:O_,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"],defaultPrivacyLevel:"mask",trackUserInteractions:s,sessionReplaySampleRate:a}),Hm.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:O_,silentMultipleInit:!0,trackAnonymousUser:!1})},"init"),captureError:o((t,e)=>{pz(t.message,Tt.Error,{feature:e,team:u2(e)},t)},"captureError"),captureMessage:o((t,e,r=Tt.Info)=>{pz(t,r,{feature:e,team:u2(e)})},"captureMessage"),addBreadcrumb:o((t,e,r,n={})=>{pz(e,r,{category:t,...n})},"addBreadcrumb"),setUser:o(async t=>{Hm.setUser(t),A1.setUser(t)},"setUser"),setTags:o(async t=>{A1.setGlobalContext({tags:t}),Hm.setGlobalContext({tags:t})},"setTags"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(()=>{},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{A1.addFeatureFlagEvaluation(t,e)},"trackFeatureFlag")};function pz(t,e,r,n){switch((e===Tt.Error||e===Tt.Fatal)&&A1.addError(n??t,r),e){case Tt.Fatal:!n&&Hm.logger.critical(t,{context:r});break;case Tt.Error:!n&&Hm.logger.error(t,{context:r});break;case Tt.Info:Hm.logger.info(t,{context:r},n);break;case Tt.Debug:break}}o(pz,"reportToDatadog");function Kdt(){return typeof document<"u"}o(Kdt,"envSupportsDatadog");var F3e=Kdt()?zdt:JS;p();m();var H3e=o(t=>({beforeEvent:o((...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(!r.data?.skipFileLogger){let i=e instanceof Error?e.message:e;t.write(i,r.featureTag,r.severity,r.data)}return n},"beforeEvent"),afterEvent:void 0}),"fileLoggerMiddleware");p();m();p();m();var $dt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,Gdt=/\b0x[a-fA-F0-9]{64}\b/g,Wdt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,Ydt=/\b0x[a-fA-F0-9]{40}\b/g,q3e={SOLANA_SIGNATURE:$dt,EVM_SIGNATURE:Gdt,SOLANA_PUBKEY:Wdt,EVM_PUBKEY:Ydt},V3e=o(t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=P9(n):e[r]=n,e),{}),"stripSignaturesAndPubkeysFromContextObject"),P9=o(t=>{let e=t;for(let r in q3e){let n=q3e[r];e=e.replace(n,"")}return e},"stripSignaturesAndPubkeysFromString"),Xdt=o(t=>(t.message&&(t.message=P9(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=P9(t.cause)),t),"stripSignaturesAndPubkeysFromError"),j3e=o(t=>t instanceof Error?Xdt(t):P9(t),"stripSignaturesAndPubkeysFromStringOrError");var z3e={beforeEvent:o((...[t,e])=>({value:j3e(t),...e.data?{data:V3e(e.data)}:{}}),"beforeEvent"),afterEvent:void 0};p();m();function K3e(t,e){return{init:o(async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},"init"),captureError:o((r,n)=>{lu(()=>t.captureError(r,n)),lu(()=>e.captureError(r,n))},"captureError"),captureMessage:o((r,n,i=Tt.Info)=>{lu(()=>t.captureMessage(r,n,i)),lu(()=>e.captureMessage(r,n,i))},"captureMessage"),addBreadcrumb:o((r,n,i,s)=>{lu(()=>t.addBreadcrumb(r,n,i,s)),lu(()=>e.addBreadcrumb(r,n,i,s))},"addBreadcrumb"),setUser:o(async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},"setUser"),setTags:o(async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},"setTags"),captureMetric:o(async(r,n,i)=>{lu(()=>e.captureMetric(r,n,i))},"captureMetric"),startSpan:o((r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),"startSpan"),startInactiveSpan:o(r=>{let n=lu(()=>t.startInactiveSpan(r)),i=lu(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:o(()=>Zdt(n,i),"end")})},"startInactiveSpan"),trackFeatureFlag:o((r,n)=>{lu(()=>t.trackFeatureFlag(r,n)),lu(()=>e.trackFeatureFlag(r,n))},"trackFeatureFlag")}}o(K3e,"createMultiProvider");function lu(t){try{return t()}catch(e){Vs()&&console.error("[MultiProvider] Error:",e);return}}o(lu,"safeTry");function Zdt(...t){for(let e of t)e&&lu(()=>e.then(r=>r.end()))}o(Zdt,"endSpans");p();m();p();m();p();m();p();m();p();m();p();m();var Lt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();p();m();p();m();var pl="8.55.0";var Yt=globalThis;function qm(t,e,r){let n=r||Yt,i=n.__SENTRY__=n.__SENTRY__||{},s=i[pl]=i[pl]||{};return s[t]||(s[t]=e())}o(qm,"getGlobalSingleton");p();m();p();m();var Ic=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();var Jdt="Sentry Logger ",QS=["debug","info","warn","error","log","assert","trace"],l2={};function Rc(t){if(!("console"in Yt))return t();let e=Yt.console,r={},n=Object.keys(l2);n.forEach(i=>{let s=l2[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}o(Rc,"consoleSandbox");function Qdt(){let t=!1,e={enable:o(()=>{t=!0},"enable"),disable:o(()=>{t=!1},"disable"),isEnabled:o(()=>t,"isEnabled")};return Ic?QS.forEach(r=>{e[r]=(...n)=>{t&&Rc(()=>{Yt.console[r](`${Jdt}[${r}]:`,...n)})}}):QS.forEach(r=>{e[r]=()=>{}}),e}o(Qdt,"makeLogger");var Qe=qm("logger",Qdt);p();m();var Dd="?",$3e=/\(error: (.*)\)/,G3e=/captureMessage|captureException/;function D9(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let s=[],a=r.split(`
`);for(let c=n;c<a.length;c++){let l=a[c];if(l.length>1024)continue;let h=$3e.test(l)?l.replace($3e,"$1"):l;if(!h.match(/\S*Error: /)){for(let y of e){let g=y(h);if(g){s.push(g);break}}if(s.length>=50+i)break}}return W3e(s.slice(i))}}o(D9,"createStackParser");function gz(t){return Array.isArray(t)?D9(...t):t}o(gz,"stackParserFromStackParserOptions");function W3e(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(L9(e).function||"")&&e.pop(),e.reverse(),G3e.test(L9(e).function||"")&&(e.pop(),G3e.test(L9(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||L9(e).filename,function:r.function||Dd}))}o(W3e,"stripSentryFramesAndReverse");function L9(t){return t[t.length-1]||{}}o(L9,"getLastStackFrame");var mz="<anonymous>";function Oc(t){try{return!t||typeof t!="function"?mz:t.name||mz}catch{return mz}}o(Oc,"getFunctionName");function U9(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}o(U9,"getFramesFromEvent");var F9={},Y3e={};function Ea(t,e){F9[t]=F9[t]||[],F9[t].push(e)}o(Ea,"addHandler");function Sa(t,e){if(!Y3e[t]){Y3e[t]=!0;try{e()}catch(r){Ic&&Qe.error(`Error while instrumenting ${t}`,r)}}}o(Sa,"maybeInstrument");function Eo(t,e){let r=t&&F9[t];if(r)for(let n of r)try{n(e)}catch(i){Ic&&Qe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Oc(n)}
Error:`,i)}}o(Eo,"triggerHandlers");var yz=null;function e3(t){let e="error";Ea(e,t),Sa(e,eht)}o(e3,"addGlobalErrorInstrumentationHandler");function eht(){yz=Yt.onerror,Yt.onerror=function(t,e,r,n,i){return Eo("error",{column:n,error:i,line:r,msg:t,url:e}),yz?yz.apply(this,arguments):!1},Yt.onerror.__SENTRY_INSTRUMENTED__=!0}o(eht,"instrumentError");p();m();var bz=null;function t3(t){let e="unhandledrejection";Ea(e,t),Sa(e,tht)}o(t3,"addGlobalUnhandledRejectionInstrumentationHandler");function tht(){bz=Yt.onunhandledrejection,Yt.onunhandledrejection=function(t){return Eo("unhandledrejection",t),bz?bz.apply(this,arguments):!0},Yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(tht,"instrumentUnhandledRejection");p();m();p();m();p();m();function hf(){return r3(Yt),Yt}o(hf,"getMainCarrier");function r3(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||pl,e[pl]=e[pl]||{}}o(r3,"getSentryCarrier");p();m();p();m();p();m();p();m();p();m();p();m();p();m();var X3e=Object.prototype.toString;function T1(t){switch(X3e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return pf(t,Error)}}o(T1,"isError");function d2(t,e){return X3e.call(t)===`[object ${e}]`}o(d2,"isBuiltin");function H9(t){return d2(t,"ErrorEvent")}o(H9,"isErrorEvent");function q9(t){return d2(t,"DOMError")}o(q9,"isDOMError");function xz(t){return d2(t,"DOMException")}o(xz,"isDOMException");function Xa(t){return d2(t,"String")}o(Xa,"isString");function h2(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(h2,"isParameterizedString");function I1(t){return t===null||h2(t)||typeof t!="object"&&typeof t!="function"}o(I1,"isPrimitive");function ml(t){return d2(t,"Object")}o(ml,"isPlainObject");function R1(t){return typeof Event<"u"&&pf(t,Event)}o(R1,"isEvent");function vz(t){return typeof Element<"u"&&pf(t,Element)}o(vz,"isElement");function _z(t){return d2(t,"RegExp")}o(_z,"isRegExp");function gl(t){return!!(t&&t.then&&typeof t.then=="function")}o(gl,"isThenable");function wz(t){return ml(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(wz,"isSyntheticEvent");function pf(t,e){try{return t instanceof e}catch{return!1}}o(pf,"isInstanceOf");function n3(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(n3,"isVueViewModel");var p2=Yt,rht=80;function mf(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],s=0,a=0,c=" > ",l=c.length,h,y=Array.isArray(e)?e:e.keyAttrs,g=!Array.isArray(e)&&e.maxStringLength||rht;for(;r&&s++<n&&(h=nht(r,y),!(h==="html"||s>1&&a+i.length*l+h.length>=g));)i.push(h),a+=h.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}o(mf,"htmlTreeAsString");function nht(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(p2.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let a=r.className;if(a&&Xa(a)){let c=a.split(/\s+/);for(let l of c)n.push(`.${l}`)}}let s=["aria-label","type","name","title","alt"];for(let a of s){let c=r.getAttribute(a);c&&n.push(`[${a}="${c}"]`)}return n.join("")}o(nht,"_htmlElementAsString");function Ez(){try{return p2.document.location.href}catch{return""}}o(Ez,"getLocationHref");function Sz(t){return p2.document&&p2.document.querySelector?p2.document.querySelector(t):null}o(Sz,"getDomElement");function i3(t){if(!p2.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(i3,"getComponentName");p();m();function Ud(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(Ud,"truncate");function V9(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{n3(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}o(V9,"safeJoin");function Z3e(t,e,r=!1){return Xa(t)?_z(e)?e.test(t):Xa(e)?r?t===e:t.includes(e):!1:!1}o(Z3e,"isMatchingPattern");function Fd(t,e=[],r=!1){return e.some(n=>Z3e(t,n,r))}o(Fd,"stringMatchesSomePattern");function Do(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&j9(i,n);try{t[e]=i}catch{Ic&&Qe.log(`Failed to replace method "${e}" in object`,t)}}o(Do,"fill");function ho(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Ic&&Qe.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(ho,"addNonEnumerableProperty");function j9(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,ho(t,"__sentry_original__",e)}catch{}}o(j9,"markFunctionWrapped");function O1(t){return t.__sentry_original__}o(O1,"getOriginalFunction");function z9(t){if(T1(t))return{message:t.message,name:t.name,stack:t.stack,...Q3e(t)};if(R1(t)){let e={type:t.type,target:J3e(t.target),currentTarget:J3e(t.currentTarget),...Q3e(t)};return typeof CustomEvent<"u"&&pf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(z9,"convertToPlainObject");function J3e(t){try{return vz(t)?mf(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(J3e,"serializeEventTarget");function Q3e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}o(Q3e,"getOwnProperties");function Tz(t,e=40){let r=Object.keys(z9(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return Ud(n,e);for(let i=r.length;i>0;i--){let s=r.slice(0,i).join(", ");if(!(s.length>e))return i===r.length?s:Ud(s,e)}return""}o(Tz,"extractExceptionKeysForMessage");function jn(t){return Az(t,new Map)}o(jn,"dropUndefinedKeys");function Az(t,e){if(iht(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=Az(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(Az(i,e))}),n}return t}o(Az,"_dropUndefinedKeys");function iht(t){if(!ml(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(iht,"isPojo");p();m();var e6e=1e3;function Hd(){return Date.now()/e6e}o(Hd,"dateTimestampInSeconds");function oht(){let{performance:t}=Yt;if(!t||!t.now)return Hd;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/e6e}o(oht,"createUnixTimestampInSecondsFunc");var eo=oht(),o3,So=(()=>{let{performance:t}=Yt;if(!t||!t.now){o3="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):e,h=l<e;return s||h?i<=l?(o3="timeOrigin",t.timeOrigin):(o3="navigationStart",a):(o3="dateNow",n)})();p();m();function Uo(){let t=Yt,e=t.crypto||t.msCrypto,r=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=o(()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}o(Uo,"uuid4");function t6e(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(t6e,"getFirstException");function yl(t){let{message:e,event_id:r}=t;if(e)return e;let n=t6e(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}o(yl,"getEventDescription");function m2(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}o(m2,"addExceptionTypeValue");function qd(t,e){let r=t6e(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};r.mechanism.data=s}}o(qd,"addExceptionMechanism");function K9(t){if(sht(t))return!0;try{ho(t,"__sentry_captured__",!0)}catch{}return!1}o(K9,"checkOrSetAlreadyCaught");function sht(t){try{return t.__sentry_captured__}catch{}}o(sht,"isAlreadyCaptured");p();m();var h0;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(h0||(h0={}));function du(t){return new bl(e=>{e(t)})}o(du,"resolvedSyncPromise");function Vm(t){return new bl((e,r)=>{r(t)})}o(Vm,"rejectedSyncPromise");var bl=class t{static{o(this,"SyncPromise")}constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=h0.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{n(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(h0.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(h0.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===h0.PENDING){if(gl(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===h0.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===h0.RESOLVED&&r[1](this._value),this._state===h0.REJECTED&&r[2](this._value),r[0]=!0)})}}};function r6e(t){let e=eo(),r={sid:Uo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>aht(r),"toJSON")};return t&&p0(r,t),r}o(r6e,"makeSession");function p0(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||eo(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Uo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(p0,"updateSession");function n6e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),p0(t,r)}o(n6e,"closeSession");function aht(t){return jn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(aht,"sessionToJSON");p();m();function Mc(){return Uo()}o(Mc,"generateTraceId");function Nc(){return Uo().substring(16)}o(Nc,"generateSpanId");p();m();function g2(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=g2(n[i],e[i],r-1));return n}o(g2,"merge");p();m();var Iz="_sentrySpan";function m0(t,e){e?ho(t,Iz,e):delete t[Iz]}o(m0,"_setSpanForScope");function M1(t){return t[Iz]}o(M1,"_getSpanForScope");var cht=100,Rz=class t{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Mc(),spanId:Nc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,m0(e,M1(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&p0(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof gf?[r.getScopeData(),r.getRequestSession()]:ml(r)?[e,e.requestSession]:[],{tags:s,extra:a,user:c,contexts:l,level:h,fingerprint:y=[],propagationContext:g}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},c&&Object.keys(c).length&&(this._user=c),h&&(this._level=h),y.length&&(this._fingerprint=y),g&&(this._propagationContext=g),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,m0(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Mc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:cht;if(n<=0)return this;let i={timestamp:Hd(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:M1(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=g2(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Nc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Uo();if(!this._client)return Qe.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Uo();if(!this._client)return Qe.warn("No client configured on scope - will not capture message!"),i;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Uo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(Qe.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},gf=Rz;function i6e(){return qm("defaultCurrentScope",()=>new gf)}o(i6e,"getDefaultCurrentScope");function o6e(){return qm("defaultIsolationScope",()=>new gf)}o(o6e,"getDefaultIsolationScope");var Oz=class{static{o(this,"AsyncContextStack")}constructor(e,r){let n;e?n=e:n=new gf;let i;r?i=r:i=new gf,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return gl(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function y2(){let t=hf(),e=r3(t);return e.stack=e.stack||new Oz(i6e(),o6e())}o(y2,"getAsyncContextStack");function fht(t){return y2().withScope(t)}o(fht,"withScope");function uht(t,e){let r=y2();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}o(uht,"withSetScope");function s6e(t){return y2().withScope(()=>t(y2().getIsolationScope()))}o(s6e,"withIsolationScope");function a6e(){return{withIsolationScope:s6e,withScope:fht,withSetScope:uht,withSetIsolationScope:o((t,e)=>s6e(e),"withSetIsolationScope"),getCurrentScope:o(()=>y2().getScope(),"getCurrentScope"),getIsolationScope:o(()=>y2().getIsolationScope(),"getIsolationScope")}}o(a6e,"getStackAsyncContextStrategy");function Vd(t){let e=r3(t);return e.acs?e.acs:a6e()}o(Vd,"getAsyncContextStrategy");p();m();function _r(){let t=hf();return Vd(t).getCurrentScope()}o(_r,"getCurrentScope");function Fo(){let t=hf();return Vd(t).getIsolationScope()}o(Fo,"getIsolationScope");function $9(){return qm("globalScope",()=>new gf)}o($9,"getGlobalScope");function jm(...t){let e=hf(),r=Vd(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}o(jm,"withScope");function Qt(){return _r().getClient()}o(Qt,"getClient");function Mz(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return jn({trace_id:r,span_id:n,parent_span_id:i})}o(Mz,"getTraceContextFromScope");p();m();var lht="_sentryMetrics";function s3(t){let e=t[lht];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(jn(i));return r}o(s3,"getMetricSummaryJsonForSpan");p();m();var Aa="sentry.source",b2="sentry.sample_rate",Za="sentry.op",zn="sentry.origin",x2="sentry.idle_span_finish_reason",zm="sentry.measurement_unit",Km="sentry.measurement_value",a3="sentry.custom_span_name",Nz="sentry.profile_id",N1="sentry.exclusive_time";p();m();function Cz(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}o(Cz,"getSpanStatusFromHttpCode");function v2(t,e){t.setAttribute("http.response.status_code",e);let r=Cz(e);r.message!=="unknown_error"&&t.setStatus(r)}o(v2,"setHttpStatus");p();m();p();m();var G9="sentry-",dht=/^sentry-/,hht=8192;function W9(t){let e=pht(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(dht)){let a=i.slice(G9.length);n[a]=s}return n},{});if(Object.keys(r).length>0)return r}o(W9,"baggageHeaderToDynamicSamplingContext");function kz(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${G9}${n}`]=i),r),{});return mht(e)}o(kz,"dynamicSamplingContextToSentryBaggageHeader");function pht(t){if(!(!t||!Xa(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=c6e(r);return Object.entries(n).forEach(([i,s])=>{e[i]=s}),e},{}):c6e(t)}o(pht,"parseBaggageHeader");function c6e(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}o(c6e,"baggageHeaderToObject");function mht(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=i===0?s:`${e},${s}`;return a.length>hht?(Ic&&Qe.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}o(mht,"objectToBaggageHeader");var Y9=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function f6e(t){if(!t)return;let e=t.match(Y9);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}o(f6e,"extractTraceparentData");function Bz(t,e){let r=f6e(t),n=W9(e);if(!r||!r.traceId)return{traceId:Mc(),spanId:Nc()};let{traceId:i,parentSpanId:s,parentSampled:a}=r,c=Nc();return{traceId:i,parentSpanId:s,spanId:c,sampled:a,dsc:n||{}}}o(Bz,"propagationContextFromHeaders");function c3(t=Mc(),e=Nc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}o(c3,"generateSentryTraceHeader");var X9=0,Lz=1,u6e=!1;function d6e(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:a,origin:c}=er(t);return jn({parent_span_id:s,span_id:e,trace_id:r,data:n,op:i,status:a,origin:c})}o(d6e,"spanToTransactionTraceContext");function Dz(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:er(t).parent_span_id,s=n?Nc():e;return jn({parent_span_id:i,span_id:s,trace_id:r})}o(Dz,"spanToTraceContext");function Z9(t){let{traceId:e,spanId:r}=t.spanContext(),n=hu(t);return c3(e,r,n)}o(Z9,"spanToTraceHeader");function xl(t){return typeof t=="number"?l6e(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?l6e(t.getTime()):eo()}o(xl,"spanTimeInputToSeconds");function l6e(t){return t>9999999999?t/1e3:t}o(l6e,"ensureTimestampInSeconds");function er(t){if(xht(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(bht(t)){let{attributes:n,startTime:i,name:s,endTime:a,parentSpanId:c,status:l}=t;return jn({span_id:e,trace_id:r,data:n,description:s,parent_span_id:c,start_timestamp:xl(i),timestamp:xl(a)||void 0,status:J9(l),op:n[Za],origin:n[zn],_metrics_summary:s3(t)})}return{span_id:e,trace_id:r}}catch{return{}}}o(er,"spanToJSON");function bht(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(bht,"spanIsOpenTelemetrySdkTraceBaseSpan");function xht(t){return typeof t.getSpanJSON=="function"}o(xht,"spanIsSentrySpan");function hu(t){let{traceFlags:e}=t.spanContext();return e===Lz}o(hu,"spanIsSampled");function J9(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}o(J9,"getStatusMessage");var C1="_sentryChildSpans",Pz="_sentryRootSpan";function Q9(t,e){let r=t[Pz]||t;ho(e,Pz,r),t[C1]?t[C1].add(e):ho(t,C1,new Set([e]))}o(Q9,"addChildSpanToSpan");function h6e(t,e){t[C1]&&t[C1].delete(e)}o(h6e,"removeChildSpanFromSpan");function $m(t){let e=new Set;function r(n){if(!e.has(n)&&hu(n)){e.add(n);let i=n[C1]?Array.from(n[C1]):[];for(let s of i)r(s)}}return o(r,"addSpanChildren"),r(t),Array.from(e)}o($m,"getSpanDescendants");function Bn(t){return t[Pz]||t}o(Bn,"getRootSpan");function Pn(){let t=hf(),e=Vd(t);return e.getActiveSpan?e.getActiveSpan():M1(_r())}o(Pn,"getActiveSpan");function eO(){u6e||(Rc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),u6e=!0)}o(eO,"showSpanDropWarning");var p6e=!1;function tO(){p6e||(p6e=!0,e3(Uz),t3(Uz))}o(tO,"registerSpanErrorInstrumentation");function Uz(){let t=Pn(),e=t&&Bn(t);if(e){let r="internal_error";Lt&&Qe.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}o(Uz,"errorCallback");Uz.tag="sentry_tracingErrorCallback";p();m();var m6e="_sentryScope",g6e="_sentryIsolationScope";function y6e(t,e,r){t&&(ho(t,g6e,r),ho(t,m6e,e))}o(y6e,"setCapturedScopesOnSpan");function Fz(t){return{scope:t[m6e],isolationScope:t[g6e]}}o(Fz,"getCapturedScopesOnSpan");p();m();p();m();function Ja(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Qt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}o(Ja,"hasTracingEnabled");p();m();var Cc=class{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||Mc(),this._spanId=e.spanId||Nc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:X9}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};p();m();p();m();function b6e(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return vht(n,e,r)}o(b6e,"handleCallbackErrors");function vht(t,e,r){return gl(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}o(vht,"maybeHandlePromiseRejection");p();m();p();m();var _2="production";var x6e="_frozenDsc";function Hz(t,e){ho(t,x6e,e)}o(Hz,"freezeDscOnSpan");function qz(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=jn({environment:r.environment||_2,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}o(qz,"getDynamicSamplingContextFromClient");function f3(t,e){let r=e.getPropagationContext();return r.dsc||qz(r.traceId,t)}o(f3,"getDynamicSamplingContextFromScope");function yf(t){let e=Qt();if(!e)return{};let r=Bn(t),n=r[x6e];if(n)return n;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&W9(s);if(a)return a;let c=qz(t.spanContext().traceId,e),l=er(r),h=l.data||{},y=h[b2];y!=null&&(c.sample_rate=`${y}`);let g=h[Aa],E=l.description;return g!=="url"&&E&&(c.transaction=E),Ja()&&(c.sampled=String(hu(r))),e.emit("createDsc",c,r),c}o(yf,"getDynamicSamplingContextFromSpan");p();m();function v6e(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=er(t),{spanId:i}=t.spanContext(),s=hu(t),a=Bn(t),c=a===t,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,h=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&h.push(`parent ID: ${n}`),!c){let{op:y,description:g}=er(a);h.push(`root ID: ${a.spanContext().spanId}`),y&&h.push(`root op: ${y}`),g&&h.push(`root description: ${g}`)}Qe.log(`${l}
  ${h.join(`
  `)}`)}o(v6e,"logSpanStart");function _6e(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=er(t),{spanId:n}=t.spanContext(),s=Bn(t)===t,a=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${e}" with ID ${n}`;Qe.log(a)}o(_6e,"logSpanEnd");p();m();p();m();function rO(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Lt&&Qe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(rO,"parseSampleRate");function w6e(t,e){if(!Ja(t))return[!1];let r=Fo().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let s=rO(i);return s===void 0?(Lt&&Qe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Lt&&Qe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Lt&&Qe.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}o(w6e,"sampleSpan");p();m();p();m();p();m();var _ht=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wht(t){return t==="http"||t==="https"}o(wht,"isValidProtocol");function jd(t,e=!1){let{host:r,path:n,pass:i,port:s,projectId:a,protocol:c,publicKey:l}=t;return`${c}://${l}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${a}`}o(jd,"dsnToString");function E6e(t){let e=_ht.exec(t);if(!e){Rc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",s="",a="",c=""]=e.slice(1),l="",h=c,y=h.split("/");if(y.length>1&&(l=y.slice(0,-1).join("/"),h=y.pop()),h){let g=h.match(/^\d+/);g&&(h=g[0])}return S6e({host:s,pass:i,path:l,projectId:h,port:a,protocol:r,publicKey:n})}o(E6e,"dsnFromString");function S6e(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(S6e,"dsnFromComponents");function Eht(t){if(!Ic)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Qe.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?wht(n)?e&&isNaN(parseInt(e,10))?(Qe.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Qe.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Qe.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}o(Eht,"validateDsn");function Vz(t){let e=typeof t=="string"?E6e(t):S6e(t);if(!(!e||!Eht(e)))return e}o(Vz,"makeDsn");p();m();p();m();p();m();function A6e(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}o(r,"memoize");function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return o(n,"unmemoize"),[r,n]}o(A6e,"memoBuilder");function pu(t,e=100,r=1/0){try{return jz("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}o(pu,"normalize");function nO(t,e=3,r=100*1024){let n=pu(t,e);return Iht(n)>r?nO(t,e-1,r):n}o(nO,"normalizeToSize");function jz(t,e,r=1/0,n=1/0,i=A6e()){let[s,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let c=Sht(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return c.replace("object ","");if(s(e))return"[Circular ~]";let h=e;if(h&&typeof h.toJSON=="function")try{let T=h.toJSON();return jz("",T,l-1,n,i)}catch{}let y=Array.isArray(e)?[]:{},g=0,E=z9(e);for(let T in E){if(!Object.prototype.hasOwnProperty.call(E,T))continue;if(g>=n){y[T]="[MaxProperties ~]";break}let O=E[T];y[T]=jz(T,O,l-1,n,i),g++}return a(e),y}o(jz,"visit");function Sht(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(n3(e))return"[VueViewModel]";if(wz(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Oc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=Aht(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}o(Sht,"stringifyValue");function Aht(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(Aht,"getConstructorName");function Tht(t){return~-encodeURI(t).split(/%..|./).length}o(Tht,"utf8Length");function Iht(t){return Tht(JSON.stringify(t))}o(Iht,"jsonSize");function vl(t,e=[]){return[t,e]}o(vl,"createEnvelope");function Kz(t,e){let[r,n]=t;return[r,[...n,e]]}o(Kz,"addItemToEnvelope");function iO(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}o(iO,"forEachEnvelopeItem");function zz(t){return Yt.__SENTRY__&&Yt.__SENTRY__.encodePolyfill?Yt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(zz,"encodeUTF8");function $z(t){let[e,r]=t,n=JSON.stringify(e);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[zz(n),s]:n.push(typeof s=="string"?zz(s):s)}o(i,"append");for(let s of r){let[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(pu(c))}i(l)}}return typeof n=="string"?n:Rht(n)}o($z,"serializeEnvelope");function Rht(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}o(Rht,"concatBuffers");function Gz(t){return[{type:"span"},t]}o(Gz,"createSpanEnvelopeItem");function Wz(t){let e=typeof t.data=="string"?zz(t.data):t.data;return[jn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(Wz,"createAttachmentEnvelopeItem");var Oht={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function oO(t){return Oht[t]}o(oO,"envelopeItemTypeToDataCategory");function sO(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}o(sO,"getSdkMetadataForEnvelopeHeader");function Yz(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:jd(n)},...i&&{trace:jn({...i})}}}o(Yz,"createEventEnvelopeHeaders");function Mht(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(Mht,"enhanceEventWithSdkInfo");function T6e(t,e,r,n){let i=sO(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:jd(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return vl(s,[a])}o(T6e,"createSessionEnvelope");function I6e(t,e,r,n){let i=sO(r),s=t.type&&t.type!=="replay_event"?t.type:"event";Mht(t,r&&r.sdk);let a=Yz(t,i,n,e);return delete t.sdkProcessingMetadata,vl(a,[[{type:s},t]])}o(I6e,"createEventEnvelope");function R6e(t,e){function r(y){return!!y.trace_id&&!!y.public_key}o(r,"dscHasRequiredProps");let n=yf(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!s&&i&&{dsn:jd(i)}},c=e&&e.getOptions().beforeSendSpan,l=c?y=>{let g=c(er(y));return g||eO(),g}:y=>er(y),h=[];for(let y of t){let g=l(y);g&&h.push(Gz(g))}return vl(a,h)}o(R6e,"createSpanEnvelope");p();m();function aO(t,e,r,n=Pn()){let i=n&&Bn(n);i&&(Lt&&Qe.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[Km]:e,[zm]:r}))}o(aO,"setMeasurement");function cO(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[zm],s=n[Km];typeof i=="string"&&typeof s=="number"&&(e[r.name]={value:s,unit:i})}),e}o(cO,"timedEventsToMeasurements");var O6e=1e3,w2=class{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||Mc(),this._spanId=e.spanId||Nc(),this._startTime=e.startTimestamp||eo(),this._attributes={},this.setAttributes({[zn]:"manual",[Za]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?Lz:X9}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=xl(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Aa,"custom"),this}end(e){this._endTime||(this._endTime=xl(e),_6e(this),this._onSpanEnded())}getSpanJSON(){return jn({data:this._attributes,description:this._name,op:this._attributes[Za],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:J9(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[zn],_metrics_summary:s3(this),profile_id:this._attributes[Nz],exclusive_time:this._attributes[N1],measurements:cO(this._events),is_segment:this._isStandaloneSpan&&Bn(this)===this||void 0,segment_id:this._isStandaloneSpan?Bn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Lt&&Qe.log("[Tracing] Adding an event to span:",e);let i=M6e(r)?r:n||eo(),s=M6e(r)?{}:r||{},a={name:e,time:xl(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Qt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Bn(this)))return;if(this._isStandaloneSpan){this._sampled?Cht(R6e([this],e)):(Lt&&Qe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(Fz(this).scope||_r()).captureEvent(n)}_convertSpanToTransaction(){if(!N6e(er(this)))return;this._name||(Lt&&Qe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=Fz(this),i=(e||_r()).getClient()||Qt();if(this._sampled!==!0){Lt&&Qe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let a=$m(this).filter(g=>g!==this&&!Nht(g)).map(g=>er(g)).filter(N6e),c=this._attributes[Aa];delete this._attributes[a3],a.forEach(g=>{g.data&&delete g.data[a3]});let l={contexts:{trace:d6e(this)},spans:a.length>O6e?a.sort((g,E)=>g.start_timestamp-E.start_timestamp).slice(0,O6e):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...jn({dynamicSamplingContext:yf(this)})},_metrics_summary:s3(this),...c&&{transaction_info:{source:c}}},h=cO(this._events);return h&&Object.keys(h).length&&(Lt&&Qe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),l.measurements=h),l}};function M6e(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(M6e,"isSpanTimeInput");function N6e(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(N6e,"isFullFinishedSpan");function Nht(t){return t instanceof w2&&t.isStandaloneSpan()}o(Nht,"isStandaloneSpan");function Cht(t){let e=Qt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(Cht,"sendSpanEnvelope");var k6e="__SENTRY_SUPPRESS_TRACING__";function fO(t,e){let r=Xz();if(r.startSpan)return r.startSpan(t,e);let n=P6e(t),{forceTransaction:i,parentSpan:s}=t;return jm(t.scope,()=>Bht(s)(()=>{let c=_r(),l=L6e(c),y=t.onlyIfParent&&!l?new Cc:B6e({parentSpan:l,spanArguments:n,forceTransaction:i,scope:c});return m0(c,y),b6e(()=>e(y),()=>{let{status:g}=er(y);y.isRecording()&&(!g||g==="ok")&&y.setStatus({code:2,message:"internal_error"})},()=>y.end())}))}o(fO,"startSpan");function bf(t){let e=Xz();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=P6e(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?a=>jm(t.scope,a):i!==void 0?a=>E2(i,a):a=>a())(()=>{let a=_r(),c=L6e(a);return t.onlyIfParent&&!c?new Cc:B6e({parentSpan:c,spanArguments:r,forceTransaction:n,scope:a})})}o(bf,"startInactiveSpan");function E2(t,e){let r=Xz();return r.withActiveSpan?r.withActiveSpan(t,e):jm(n=>(m0(n,t||void 0),e(n)))}o(E2,"withActiveSpan");function B6e({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!Ja())return new Cc;let i=Fo(),s;if(t&&!r)s=kht(t,n,e),Q9(t,s);else if(t){let a=yf(t),{traceId:c,spanId:l}=t.spanContext(),h=hu(t);s=C6e({traceId:c,parentSpanId:l,...e},n,h),Hz(s,a)}else{let{traceId:a,dsc:c,parentSpanId:l,sampled:h}={...i.getPropagationContext(),...n.getPropagationContext()};s=C6e({traceId:a,parentSpanId:l,...e},n,h),c&&Hz(s,c)}return v6e(s),y6e(s,n,i),s}o(B6e,"createChildOrRootSpan");function P6e(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=xl(t.startTime),delete n.startTime,n}return r}o(P6e,"parseSentrySpanArguments");function Xz(){let t=hf();return Vd(t)}o(Xz,"getAcs");function C6e(t,e,r){let n=Qt(),i=n&&n.getOptions()||{},{name:s="",attributes:a}=t,[c,l]=e.getScopeData().sdkProcessingMetadata[k6e]?[!1]:w6e(i,{name:s,parentSampled:r,attributes:a,transactionContext:{name:s,parentSampled:r}}),h=new w2({...t,attributes:{[Aa]:"custom",...t.attributes},sampled:c});return l!==void 0&&h.setAttribute(b2,l),n&&n.emit("spanStart",h),h}o(C6e,"_startRootSpan");function kht(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[k6e]?!1:hu(t),a=s?new w2({...r,parentSpanId:n,traceId:i,sampled:s}):new Cc({traceId:i});Q9(t,a);let c=Qt();return c&&(c.emit("spanStart",a),r.endTimestamp&&c.emit("spanEnd",a)),a}o(kht,"_startChildSpan");function L6e(t){let e=M1(t);if(!e)return;let r=Qt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Bn(e):e}o(L6e,"getParentSpan");function Bht(t){return t!==void 0?e=>E2(t,e):e=>e()}o(Bht,"getActiveSpanWrapper");var S2={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Pht="heartbeatFailed",Lht="idleTimeout",Dht="finalTimeout",Uht="externalFinish";function uO(t,e={}){let r=new Map,n=!1,i,s=Uht,a=!e.disableAutoFinish,c=[],{idleTimeout:l=S2.idleTimeout,finalTimeout:h=S2.finalTimeout,childSpanTimeout:y=S2.childSpanTimeout,beforeSpanEnd:g}=e,E=Qt();if(!E||!Ja())return new Cc;let T=_r(),O=Pn(),M=Fht(t);M.end=new Proxy(M.end,{apply(F,Z,W){g&&g(M);let[X,...S]=W,f=X||eo(),d=xl(f),b=$m(M).filter(v=>v!==M);if(!b.length)return H(d),Reflect.apply(F,Z,[d,...S]);let x=b.map(v=>er(v).timestamp).filter(v=>!!v),_=x.length?Math.max(...x):void 0,A=er(M).start_timestamp,I=Math.min(A?A+h/1e3:1/0,Math.max(A||-1/0,Math.min(d,_||1/0)));return H(I),Reflect.apply(F,Z,[I,...S])}});function k(){i&&(clearTimeout(i),i=void 0)}o(k,"_cancelIdleTimeout");function C(F){k(),i=setTimeout(()=>{!n&&r.size===0&&a&&(s=Lht,M.end(F))},l)}o(C,"_restartIdleTimeout");function B(F){i=setTimeout(()=>{!n&&a&&(s=Pht,M.end(F))},y)}o(B,"_restartChildSpanTimeout");function N(F){k(),r.set(F,!0);let Z=eo();B(Z+y/1e3)}o(N,"_pushActivity");function P(F){if(r.has(F)&&r.delete(F),r.size===0){let Z=eo();C(Z+l/1e3)}}o(P,"_popActivity");function H(F){n=!0,r.clear(),c.forEach(d=>d()),m0(T,O);let Z=er(M),{start_timestamp:W}=Z;if(!W)return;(Z.data||{})[x2]||M.setAttribute(x2,s),Qe.log(`[Tracing] Idle span "${Z.op}" finished`);let S=$m(M).filter(d=>d!==M),f=0;S.forEach(d=>{d.isRecording()&&(d.setStatus({code:2,message:"cancelled"}),d.end(F),Lt&&Qe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(d,void 0,2)));let b=er(d),{timestamp:x=0,start_timestamp:_=0}=b,A=_<=F,I=(h+l)/1e3,v=x-_<=I;if(Lt){let u=JSON.stringify(d,void 0,2);A?v||Qe.log("[Tracing] Discarding span since it finished after idle span final timeout",u):Qe.log("[Tracing] Discarding span since it happened after idle span was finished",u)}(!v||!A)&&(h6e(M,d),f++)}),f>0&&M.setAttribute("sentry.idle_span_discarded_spans",f)}return o(H,"onIdleSpanEnded"),c.push(E.on("spanStart",F=>{if(n||F===M||er(F).timestamp)return;$m(M).includes(F)&&N(F.spanContext().spanId)})),c.push(E.on("spanEnd",F=>{n||P(F.spanContext().spanId)})),c.push(E.on("idleSpanEnableAutoFinish",F=>{F===M&&(a=!0,C(),r.size&&B())})),e.disableAutoFinish||C(),setTimeout(()=>{n||(M.setStatus({code:2,message:"deadline_exceeded"}),s=Dht,M.end())},h),M}o(uO,"startIdleSpan");function Fht(t){let e=bf(t);return m0(_r(),e),Lt&&Qe.log("[Tracing] Started span is an idle span"),e}o(Fht,"_startIdleSpan");p();m();p();m();p();m();function lO(t,e,r,n=0){return new bl((i,s)=>{let a=t[n];if(e===null||typeof a!="function")i(e);else{let c=a({...e},r);Lt&&a.id&&c===null&&Qe.log(`Event processor "${a.id}" dropped event`),gl(c)?c.then(l=>lO(t,l,r,n+1).then(i)).then(null,s):lO(t,c,r,n+1).then(i).then(null,s)}})}o(lO,"notifyEventProcessors");p();m();var dO,D6e,hO;function U6e(t){let e=Yt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return hO&&r.length===D6e||(D6e=r.length,hO=r.reduce((n,i)=>{dO||(dO={});let s=dO[i];if(s)n[s[0]]=s[1];else{let a=t(i);for(let c=a.length-1;c>=0;c--){let l=a[c],h=l&&l.filename,y=e[i];if(h&&y){n[h]=y,dO[i]=[h,y];break}}}return n},{})),hO}o(U6e,"getFilenameToDebugIdMap");p();m();function F6e(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=e;Hht(t,e),n&&jht(t,n),zht(t,r),qht(t,i),Vht(t,s)}o(F6e,"applyScopeDataToEvent");function Zz(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:h,eventProcessors:y,attachments:g,propagationContext:E,transactionName:T,span:O}=e;pO(t,"extra",r),pO(t,"tags",n),pO(t,"user",i),pO(t,"contexts",s),t.sdkProcessingMetadata=g2(t.sdkProcessingMetadata,c,2),a&&(t.level=a),T&&(t.transactionName=T),O&&(t.span=O),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),h.length&&(t.fingerprint=[...t.fingerprint,...h]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),g.length&&(t.attachments=[...t.attachments,...g]),t.propagationContext={...t.propagationContext,...E}}o(Zz,"mergeScopeData");function pO(t,e,r){t[e]=g2(t[e],r,1)}o(pO,"mergeAndOverwriteScopeData");function Hht(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:c}=e,l=jn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let h=jn(n);h&&Object.keys(h).length&&(t.tags={...h,...t.tags});let y=jn(i);y&&Object.keys(y).length&&(t.user={...y,...t.user});let g=jn(s);g&&Object.keys(g).length&&(t.contexts={...g,...t.contexts}),a&&(t.level=a),c&&t.type!=="transaction"&&(t.transaction=c)}o(Hht,"applyDataToEvent");function qht(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}o(qht,"applyBreadcrumbsToEvent");function Vht(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(Vht,"applySdkMetadataToEvent");function jht(t,e){t.contexts={trace:Dz(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:yf(e),...t.sdkProcessingMetadata};let r=Bn(e),n=er(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}o(jht,"applySpanToEvent");function zht(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(zht,"applyFingerprintToEvent");function H6e(t,e,r,n,i,s){let{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Uo(),timestamp:e.timestamp||Hd()},h=r.integrations||t.integrations.map(k=>k.name);Kht(l,t),Wht(l,h),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&$ht(l,t.stackParser);let y=Xht(n,r.captureContext);r.mechanism&&qd(l,r.mechanism);let g=i?i.getEventProcessors():[],E=$9().getScopeData();if(s){let k=s.getScopeData();Zz(E,k)}if(y){let k=y.getScopeData();Zz(E,k)}let T=[...r.attachments||[],...E.attachments];T.length&&(r.attachments=T),F6e(l,E);let O=[...g,...E.eventProcessors];return lO(O,l,r).then(k=>(k&&Ght(k),typeof a=="number"&&a>0?Yht(k,a,c):k))}o(H6e,"prepareEvent");function Kht(t,e){let{environment:r,release:n,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||r||_2,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=Ud(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Ud(a.value,s));let c=t.request;c&&c.url&&(c.url=Ud(c.url,s))}o(Kht,"applyClientOptions");function $ht(t,e){let r=U6e(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}o($ht,"applyDebugIds");function Ght(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}o(Ght,"applyDebugMeta");function Wht(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(Wht,"applyIntegrationsMetadata");function Yht(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:pu(i.data,e,r)}}))},...t.user&&{user:pu(t.user,e,r)},...t.contexts&&{contexts:pu(t.contexts,e,r)},...t.extra&&{extra:pu(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=pu(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:pu(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=pu(t.contexts.flags,3,r)),n}o(Yht,"normalizeEvent");function Xht(t,e){if(!e)return t;let r=t?t.clone():new gf;return r.update(e),r}o(Xht,"getFinalScope");function q6e(t){if(t)return Zht(t)?{captureContext:t}:Qht(t)?{captureContext:t}:t}o(q6e,"parseEventHintOrCaptureContext");function Zht(t){return t instanceof gf||typeof t=="function"}o(Zht,"hintIsScopeOrFunction");var Jht=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Qht(t){return Object.keys(t).some(e=>Jht.includes(e))}o(Qht,"hintIsScopeContext");function A2(t,e){return _r().captureException(t,q6e(e))}o(A2,"captureException");function mO(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return _r().captureMessage(t,r,n)}o(mO,"captureMessage");function u3(t,e){return _r().captureEvent(t,e)}o(u3,"captureEvent");function gO(t,e){Fo().setContext(t,e)}o(gO,"setContext");function yO(t){Fo().setTags(t)}o(yO,"setTags");function bO(t){Fo().setUser(t)}o(bO,"setUser");function Jz(){let t=Qt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}o(Jz,"isEnabled");function l3(t){let e=Qt(),r=Fo(),n=_r(),{release:i,environment:s=_2}=e&&e.getOptions()||{},{userAgent:a}=Yt.navigator||{},c=r6e({release:i,environment:s,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...t}),l=r.getSession();return l&&l.status==="ok"&&p0(l,{status:"exited"}),xO(),r.setSession(c),n.setSession(c),c}o(l3,"startSession");function xO(){let t=Fo(),e=_r(),r=e.getSession()||t.getSession();r&&n6e(r),j6e(),t.setSession(),e.setSession()}o(xO,"endSession");function j6e(){let t=Fo(),e=_r(),r=Qt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}o(j6e,"_sendSessionUpdate");function d3(t=!1){if(t){xO();return}j6e()}o(d3,"captureSession");p();m();var e0t="7";function t0t(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}o(t0t,"getBaseApiEndpoint");function r0t(t){return`${t0t(t)}${t.projectId}/envelope/`}o(r0t,"_getIngestEndpoint");function n0t(t,e){let r={sentry_version:e0t};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}o(n0t,"_encodedAuth");function z6e(t,e,r){return e||`${r0t(t)}?${n0t(t,r)}`}o(z6e,"getEnvelopeEndpointWithUrlEncodedAuth");p();m();p();m();var K6e=[];function i0t(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}o(i0t,"filterDuplicates");function Qz(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let a=r(e);n=Array.isArray(a)?a:[a]}else n=e;let i=i0t(n),s=i.findIndex(a=>a.name==="Debug");if(s>-1){let[a]=i.splice(s,1);i.push(a)}return i}o(Qz,"getIntegrationsToSetup");function $6e(t,e){let r={};return e.forEach(n=>{n&&tK(t,n,r)}),r}o($6e,"setupIntegrations");function eK(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}o(eK,"afterSetupIntegrations");function tK(t,e,r){if(r[e.name]){Lt&&Qe.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,K6e.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),K6e.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>n(i,s,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((s,a)=>n(s,a,t),{id:e.name});t.addEventProcessor(i)}Lt&&Qe.log(`Integration installed: ${e.name}`)}o(tK,"setupIntegration");p();m();function G6e(t,e,r){let n=[{type:"client_report"},{timestamp:r||Hd(),discarded_events:t}];return vl(e?{dsn:e}:{},[n])}o(G6e,"createClientReportEnvelope");p();m();var Ta=class extends Error{static{o(this,"SentryError")}constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var W6e="Not capturing exception because it's already been captured.",h3=class{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Vz(e.dsn):Lt&&Qe.warn("No DSN provided, client will not send events."),this._dsn){let i=z6e(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Rc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Uo();if(K9(e))return Lt&&Qe.log(W6e),i;let s={event_id:i,...r};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,n))),s.event_id}captureMessage(e,r,n,i){let s={event_id:Uo(),...n},a=h2(e)?e:String(e),c=I1(e)?this.eventFromMessage(a,r,s):this.eventFromException(e,s);return this._process(c.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(e,r,n){let i=Uo();if(r&&r.originalException&&K9(r.originalException))return Lt&&Qe.log(W6e),i;let s={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,c||n)),s.event_id}captureSession(e){typeof e.release!="string"?Lt&&Qe.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),p0(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):du(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];tK(this,e,this._integrations),r||eK(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=I6e(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=Kz(n,Wz(s));let i=this.sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=T6e(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,s=`${e}:${r}`;Lt&&Qe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Lt&&Qe.error("Error while sending envelope:",r),r)):(Lt&&Qe.error("Transport disabled"),du({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=$6e(this,e),eK(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,s=r.exception&&r.exception.values;if(s){i=!0;for(let l of s){let h=l.mechanism;if(h&&h.handled===!1){n=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&n)&&(p0(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new bl(r=>{let n=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=_r(),i=Fo()){let s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),H6e(s,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:Mz(n),...c.contexts};let l=f3(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:l,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Lt&&(i instanceof Ta&&i.logLevel==="log"?Qe.log(i.message):Qe.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:s}=i,a=X6e(e),c=Y6e(e),l=e.type||"error",h=`before send for type \`${l}\``,y=typeof s>"u"?void 0:rO(s);if(c&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),Vm(new Ta(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let g=l==="replay_event"?"replay":l,T=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,T).then(O=>{if(O===null)throw this.recordDroppedEvent("event_processor",g,e),new Ta("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return O;let k=s0t(this,i,O,r);return o0t(k,h)}).then(O=>{if(O===null){if(this.recordDroppedEvent("before_send",g,e),a){let B=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",B)}throw new Ta(`${h} returned \`null\`, will not send event.`,"log")}let M=n&&n.getSession();if(!a&&M&&this._updateSessionFromEvent(M,O),a){let C=O.sdkProcessingMetadata&&O.sdkProcessingMetadata.spanCountBeforeProcessing||0,B=O.spans?O.spans.length:0,N=C-B;N>0&&this.recordDroppedEvent("before_send","span",N)}let k=O.transaction_info;if(a&&k&&O.transaction!==e.transaction){let C="custom";O.transaction_info={...k,source:C}}return this.sendEvent(O,r),O}).then(null,O=>{throw O instanceof Ta?O:(this.captureException(O,{data:{__sentry__:!0},originalException:O}),new Ta(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${O}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,s]=r.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){Lt&&Qe.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Lt&&Qe.log("No outcomes to send");return}if(!this._dsn){Lt&&Qe.log("No dsn provided, will not send outcomes");return}Lt&&Qe.log("Sending outcomes:",e);let r=G6e(e,this._options.tunnel&&jd(this._dsn));this.sendEnvelope(r)}};function o0t(t,e){let r=`${e} must return \`null\` or a valid event.`;if(gl(t))return t.then(n=>{if(!ml(n)&&n!==null)throw new Ta(r);return n},n=>{throw new Ta(`${e} rejected with ${n}`)});if(!ml(t)&&t!==null)throw new Ta(r);return t}o(o0t,"_validateBeforeSendResult");function s0t(t,e,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=e;if(Y6e(r)&&i)return i(r,n);if(X6e(r)){if(r.spans&&a){let c=[];for(let l of r.spans){let h=a(l);h?c.push(h):(eO(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(s){if(r.spans){let c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(r,n)}}return r}o(s0t,"processBeforeSend");function Y6e(t){return t.type===void 0}o(Y6e,"isErrorEvent");function X6e(t){return t.type==="transaction"}o(X6e,"isTransactionEvent");p();m();function rK(t,e){e.debug===!0&&(Lt?Qe.enable():Rc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),_r().update(e.initialScope);let n=new t(e);return nK(n),n.init(),n}o(rK,"initAndBind");function nK(t){_r().setClient(t)}o(nK,"setCurrentClient");p();m();p();m();function Z6e(t){let e=[];function r(){return t===void 0||e.length<t}o(r,"isReady");function n(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(n,"remove");function i(a){if(!r())return Vm(new Ta("Not adding Promise because buffer limit was reached."));let c=a();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}o(i,"add");function s(a){return new bl((c,l)=>{let h=e.length;if(!h)return c(!0);let y=setTimeout(()=>{a&&a>0&&c(!1)},a);e.forEach(g=>{du(g).then(()=>{--h||(clearTimeout(y),c(!0))},l)})})}return o(s,"drain"),{$:e,add:i,drain:s}}o(Z6e,"makePromiseBuffer");p();m();function a0t(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}o(a0t,"parseRetryAfterHeader");function c0t(t,e){return t[e]||t.all||0}o(c0t,"disabledUntil");function J6e(t,e,r=Date.now()){return c0t(t,e)>r}o(J6e,"isRateLimited");function Q6e(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let c of s.trim().split(",")){let[l,h,,,y]=c.split(":",5),g=parseInt(l,10),E=(isNaN(g)?60:g)*1e3;if(!h)i.all=n+E;else for(let T of h.split(";"))T==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(i[T]=n+E):i[T]=n+E}else a?i.all=n+a0t(a,n):e===429&&(i.all=n+60*1e3);return i}o(Q6e,"updateRateLimits");var f0t=64;function vO(t,e,r=Z6e(t.bufferSize||f0t)){let n={},i=o(a=>r.drain(a),"flush");function s(a){let c=[];if(iO(a,(g,E)=>{let T=oO(E);if(J6e(n,T)){let O=eAe(g,E);t.recordDroppedEvent("ratelimit_backoff",T,O)}else c.push(g)}),c.length===0)return du({});let l=vl(a[0],c),h=o(g=>{iO(l,(E,T)=>{let O=eAe(E,T);t.recordDroppedEvent(g,oO(T),O)})},"recordEnvelopeLoss"),y=o(()=>e({body:$z(l)}).then(g=>(g.statusCode!==void 0&&(g.statusCode<200||g.statusCode>=300)&&Lt&&Qe.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),n=Q6e(n,g),g),g=>{throw h("network_error"),g}),"requestTask");return r.add(y).then(g=>g,g=>{if(g instanceof Ta)return Lt&&Qe.error("Skipped sending event because buffer is full."),h("queue_overflow"),du({});throw g})}return o(s,"send"),{send:s,flush:i}}o(vO,"createTransport");function eAe(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(eAe,"getEventForEnvelopeItem");p();m();function p3(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:pl})),version:pl}),t._metadata=i}o(p3,"applySdkMetadata");p();m();function m3(t={}){let e=Qt();if(!Jz()||!e)return{};let r=hf(),n=Vd(r);if(n.getTraceData)return n.getTraceData(t);let i=_r(),s=t.span||Pn(),a=s?Z9(s):u0t(i),c=s?yf(s):f3(e,i),l=kz(c);return Y9.test(a)?{"sentry-trace":a,baggage:l}:(Qe.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}o(m3,"getTraceData");function u0t(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return c3(e,n,r)}o(u0t,"scopeToTraceHeader");p();m();var l0t=100;function mu(t,e){let r=Qt(),n=Fo();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=l0t}=r.getOptions();if(s<=0)return;let c={timestamp:Hd(),...t},l=i?Rc(()=>i(c,e)):c;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,s))}o(mu,"addBreadcrumb");p();m();var tAe,d0t="FunctionToString",rAe=new WeakMap,h0t=o(()=>({name:d0t,setupOnce(){tAe=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=O1(this),r=rAe.has(Qt())&&e!==void 0?e:this;return tAe.apply(r,t)}}catch{}},setup(t){rAe.set(t,!0)}}),"_functionToStringIntegration"),_O=h0t;p();m();var p0t=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],m0t="InboundFilters",g0t=o((t={})=>({name:m0t,processEvent(e,r,n){let i=n.getOptions(),s=y0t(t,i);return b0t(e,s)?null:e}}),"_inboundFiltersIntegration"),EO=g0t;function y0t(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:p0t],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(y0t,"_mergeOptions");function b0t(t,e){return e.ignoreInternal&&S0t(t)?(Lt&&Qe.warn(`Event dropped due to being internal Sentry Error.
Event: ${yl(t)}`),!0):x0t(t,e.ignoreErrors)?(Lt&&Qe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${yl(t)}`),!0):T0t(t)?(Lt&&Qe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${yl(t)}`),!0):v0t(t,e.ignoreTransactions)?(Lt&&Qe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${yl(t)}`),!0):_0t(t,e.denyUrls)?(Lt&&Qe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${yl(t)}.
Url: ${wO(t)}`),!0):w0t(t,e.allowUrls)?!1:(Lt&&Qe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${yl(t)}.
Url: ${wO(t)}`),!0)}o(b0t,"_shouldDropEvent");function x0t(t,e){return t.type||!e||!e.length?!1:E0t(t).some(r=>Fd(r,e))}o(x0t,"_isIgnoredError");function v0t(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?Fd(r,e):!1}o(v0t,"_isIgnoredTransaction");function _0t(t,e){if(!e||!e.length)return!1;let r=wO(t);return r?Fd(r,e):!1}o(_0t,"_isDeniedUrl");function w0t(t,e){if(!e||!e.length)return!0;let r=wO(t);return r?Fd(r,e):!0}o(w0t,"_isAllowedUrl");function E0t(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}o(E0t,"_getPossibleEventMessages");function S0t(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(S0t,"_isSentryError");function A0t(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}o(A0t,"_getLastValidUrl");function wO(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?A0t(e):null}catch{return Lt&&Qe.error(`Cannot extract url for event ${yl(t)}`),null}}o(wO,"_getEventFilterUrl");function T0t(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(T0t,"_isUselessError");p();m();function oK(t,e,r=250,n,i,s,a){if(!s.exception||!s.exception.values||!a||!pf(a.originalException,Error))return;let c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=I0t(iK(t,e,i,a.originalException,n,s.exception.values,c,0),r))}o(oK,"applyAggregateErrorsToEvent");function iK(t,e,r,n,i,s,a,c){if(s.length>=r+1)return s;let l=[...s];if(pf(n[i],Error)){nAe(a,c);let h=t(e,n[i]),y=l.length;iAe(h,i,y,c),l=iK(t,e,r,n[i],i,[h,...l],h,y)}return Array.isArray(n.errors)&&n.errors.forEach((h,y)=>{if(pf(h,Error)){nAe(a,c);let g=t(e,h),E=l.length;iAe(g,`errors[${y}]`,E,c),l=iK(t,e,r,h,i,[g,...l],g,E)}}),l}o(iK,"aggregateExceptionsFromError");function nAe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(nAe,"applyExceptionGroupFieldsForParentException");function iAe(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}o(iAe,"applyExceptionGroupFieldsForChildException");function I0t(t,e){return t.map(r=>(r.value&&(r.value=Ud(r.value,e)),r))}o(I0t,"truncateAggregateExceptions");p();m();function gu(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}o(gu,"parseUrl");p();m();function sK(t){let e="console";Ea(e,t),Sa(e,R0t)}o(sK,"addConsoleInstrumentationHandler");function R0t(){"console"in Yt&&QS.forEach(function(t){t in Yt.console&&Do(Yt.console,t,function(e){return l2[t]=e,function(...r){Eo("console",{args:r,level:t});let i=l2[t];i&&i.apply(Yt.console,r)}})})}o(R0t,"instrumentConsole");p();m();function aK(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(aK,"severityLevelFromString");p();m();var O0t="Dedupe",M0t=o(()=>{let t;return{name:O0t,processEvent(e){if(e.type)return e;try{if(N0t(e,t))return Lt&&Qe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),SO=M0t;function N0t(t,e){return e?!!(C0t(t,e)||k0t(t,e)):!1}o(N0t,"_shouldDropEvent");function C0t(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!aAe(t,e)||!sAe(t,e))}o(C0t,"_isSameMessageEvent");function k0t(t,e){let r=oAe(e),n=oAe(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!aAe(t,e)||!sAe(t,e))}o(k0t,"_isSameExceptionEvent");function sAe(t,e){let r=U9(t),n=U9(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}o(sAe,"_isSameStacktrace");function aAe(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}o(aAe,"_isSameFingerprint");function oAe(t){return t.exception&&t.exception.values&&t.exception.values[0]}o(oAe,"_getExceptionFromEvent");p();m();function cK(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let s=Ja()&&e(t.fetchData.url);if(t.endTimestamp&&s){let E=t.fetchData.__span;if(!E)return;let T=n[E];T&&(L0t(T,t),delete n[E]);return}let{method:a,url:c}=t.fetchData,l=P0t(c),h=l?gu(l).host:void 0,y=!!Pn(),g=s&&y?bf({name:`${a} ${c}`,attributes:{url:c,type:"fetch","http.method":a,"http.url":l,"server.address":h,[zn]:i,[Za]:"http.client"}}):new Cc;if(t.fetchData.__span=g.spanContext().spanId,n[g.spanContext().spanId]=g,r(t.fetchData.url)){let E=t.args[0],T=t.args[1]||{},O=B0t(E,T,Ja()&&y?g:void 0);O&&(t.args[1]=T,T.headers=O)}return g}o(cK,"instrumentFetchRequest");function B0t(t,e,r){let n=m3({span:r}),i=n["sentry-trace"],s=n.baggage;if(!i)return;let a=e.headers||(D0t(t)?t.headers:void 0);if(a)if(U0t(a)){let c=new Headers(a);if(c.set("sentry-trace",i),s){let l=c.get("baggage");if(l){let h=AO(l);c.set("baggage",h?`${h},${s}`:s)}else c.set("baggage",s)}return c}else if(Array.isArray(a)){let c=[...a.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[h,y,...g]=l;return[h,AO(y),...g]}else return l}),["sentry-trace",i]];return s&&c.push(["baggage",s]),c}else{let c="baggage"in a?a.baggage:void 0,l=[];return Array.isArray(c)?l=c.map(h=>typeof h=="string"?AO(h):h).filter(h=>h===""):c&&l.push(AO(c)),s&&l.push(s),{...a,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}o(B0t,"_addTracingHeadersToFetchRequest");function P0t(t){try{return new URL(t).href}catch{return}}o(P0t,"getFullURL");function L0t(t,e){if(e.response){v2(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}o(L0t,"endSpan");function AO(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(G9)).join(",")}o(AO,"stripBaggageHeaderOfSentryBaggageValues");function D0t(t){return typeof Request<"u"&&pf(t,Request)}o(D0t,"isRequest");function U0t(t){return typeof Headers<"u"&&pf(t,Headers)}o(U0t,"isHeaders");p();m();function TO(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(TO,"getBreadcrumbLogLevelFromHttpStatusCode");p();m();p();m();var fK=Yt;function IO(){if(!("fetch"in fK))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(IO,"supportsFetch");function g3(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(g3,"isNativeFunction");function uK(){if(typeof EdgeRuntime=="string")return!0;if(!IO())return!1;if(g3(fK.fetch))return!0;let t=!1,e=fK.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=g3(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Ic&&Qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}o(uK,"supportsNativeFetch");function y3(t,e){let r="fetch";Ea(r,t),Sa(r,()=>fAe(void 0,e))}o(y3,"addFetchInstrumentationHandler");function dK(t){let e="fetch-body-resolved";Ea(e,t),Sa(e,()=>fAe(H0t))}o(dK,"addFetchEndInstrumentationHandler");function fAe(t,e=!1){e&&!uK()||Do(Yt,"fetch",function(r){return function(...n){let i=new Error,{method:s,url:a}=q0t(n),c={args:n,fetchData:{method:s,url:a},startTimestamp:eo()*1e3,virtualError:i};return t||Eo("fetch",{...c}),r.apply(Yt,n).then(async l=>(t?t(l):Eo("fetch",{...c,endTimestamp:eo()*1e3,response:l}),l),l=>{throw Eo("fetch",{...c,endTimestamp:eo()*1e3,error:l}),T1(l)&&l.stack===void 0&&(l.stack=i.stack,ho(l,"framesToPop",1)),l})}})}o(fAe,"instrumentFetch");async function F0t(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),s=!0;for(;s;){let a;try{a=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:c}=await n.read();clearTimeout(a),c&&(e(),s=!1)}catch{s=!1}finally{clearTimeout(a)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}o(F0t,"resolveResponse");function H0t(t){let e;try{e=t.clone()}catch{return}F0t(e,()=>{Eo("fetch-body-resolved",{endTimestamp:eo()*1e3,response:t})})}o(H0t,"streamHandler");function lK(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(lK,"hasProp");function cAe(t){return typeof t=="string"?t:t?lK(t,"url")?t.url:t.toString?t.toString():"":""}o(cAe,"getUrlFromResource");function q0t(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:cAe(r),method:lK(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:cAe(e),method:lK(e,"method")?String(e.method).toUpperCase():"GET"}}o(q0t,"parseFetchArgs");p();m();function hK(){return"npm"}o(hK,"getSDKSource");p();m();var RO=Yt;function pK(){let t=RO.chrome,e=t&&t.app&&t.app.runtime,r="history"in RO&&!!RO.history.pushState&&!!RO.history.replaceState;return!e&&r}o(pK,"supportsHistory");p();m();var zt=Yt,mK=0;function gK(){return mK>0}o(gK,"shouldIgnoreOnError");function rpt(){mK++,setTimeout(()=>{mK--})}o(rpt,"ignoreNextOnError");function k1(t,e={}){function r(i){return typeof i=="function"}if(o(r,"isFunction"),!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(O1(t))return t}catch{return t}let n=o(function(...i){try{let s=i.map(a=>k1(a,e));return t.apply(this,s)}catch(s){throw rpt(),jm(a=>{a.addEventProcessor(c=>(e.mechanism&&(m2(c,void 0,void 0),qd(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),A2(s)}),s}},"sentryWrapped");try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}j9(n,t),ho(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}o(k1,"wrap");p();m();p();m();var Ms=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();function OO(t,e){let r=xK(t,e),n={type:apt(e),value:cpt(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}o(OO,"exceptionFromError");function npt(t,e,r,n){let i=Qt(),s=i&&i.getOptions().normalizeDepth,a=lpt(e),c={__serialized__:nO(e,s)};if(a)return{exception:{values:[OO(t,a)]},extra:c};let l={exception:{values:[{type:R1(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:fpt(e,{isUnhandledRejection:n})}]},extra:c};if(r){let h=xK(t,r);h.length&&(l.exception.values[0].stacktrace={frames:h})}return l}o(npt,"eventFromPlainObject");function yK(t,e){return{exception:{values:[OO(t,e)]}}}o(yK,"eventFromError");function xK(t,e){let r=e.stacktrace||e.stack||"",n=opt(e),i=spt(e);try{return t(r,n,i)}catch{}return[]}o(xK,"parseStackFrames");var ipt=/Minified React error #\d+;/i;function opt(t){return t&&ipt.test(t.message)?1:0}o(opt,"getSkipFirstStackStringLines");function spt(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(spt,"getPopFirstTopFrames");function lAe(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(lAe,"isWebAssemblyException");function apt(t){let e=t&&t.name;return!e&&lAe(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(apt,"extractType");function cpt(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:lAe(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(cpt,"extractMessage");function dAe(t,e,r,n){let i=r&&r.syntheticException||void 0,s=MO(t,e,i,n);return qd(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),du(s)}o(dAe,"eventFromException");function hAe(t,e,r="info",n,i){let s=n&&n.syntheticException||void 0,a=bK(t,e,s,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),du(a)}o(hAe,"eventFromMessage");function MO(t,e,r,n,i){let s;if(H9(e)&&e.error)return yK(t,e.error);if(q9(e)||xz(e)){let a=e;if("stack"in e)s=yK(t,e);else{let c=a.name||(q9(a)?"DOMError":"DOMException"),l=a.message?`${c}: ${a.message}`:c;s=bK(t,l,r,n),m2(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return T1(e)?yK(t,e):ml(e)||R1(e)?(s=npt(t,e,r,i),qd(s,{synthetic:!0}),s):(s=bK(t,e,r,n),m2(s,`${e}`,void 0),qd(s,{synthetic:!0}),s)}o(MO,"eventFromUnknownInput");function bK(t,e,r,n){let i={};if(n&&r){let s=xK(t,r);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),qd(i,{synthetic:!0})}if(h2(e)){let{__sentry_template_string__:s,__sentry_template_values__:a}=e;return i.logentry={message:s,params:a},i}return i.message=e,i}o(bK,"eventFromString");function fpt(t,{isUnhandledRejection:e}){let r=Tz(t),n=e?"promise rejection":"exception";return H9(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:R1(t)?`Event \`${upt(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}o(fpt,"getNonErrorObjectExceptionValue");function upt(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(upt,"getObjectClassName");function lpt(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}o(lpt,"getErrorPropertyFromObject");p();m();function pAe(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:jd(n)}},s=dpt(t);return vl(i,[s])}o(pAe,"createUserFeedbackEnvelope");function dpt(t){return[{type:"user_report"},t]}o(dpt,"createUserFeedbackEnvelopeItem");var NO=class extends h3{static{o(this,"BrowserClient")}constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=zt.SENTRY_SDK_SOURCE||hK();p3(r,"browser",["browser"],n),super(r),r.sendClientReports&&zt.document&&zt.document.addEventListener("visibilitychange",()=>{zt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return dAe(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return hAe(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Ms&&Qe.warn("SDK not enabled, will not capture user feedback.");return}let r=pAe(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};p();m();p();m();p();m();p();m();var T2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();p();m();var hpt=o((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good","getRating"),yu=o((t,e,r,n)=>{let i,s;return a=>{e.value>=0&&(a||n)&&(s=e.value-(i||0),(s||i===void 0)&&(i=e.value,e.delta=s,e.rating=hpt(e.value,r),t(e)))}},"bindReporter");p();m();p();m();var Ot=Yt;p();m();var mAe=o(()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,"generateUniqueID");p();m();p();m();var g0=o((t=!0)=>{let e=Ot.performance&&Ot.performance.getEntriesByType&&Ot.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},"getNavigationEntry");var zd=o(()=>{let t=g0();return t&&t.activationStart||0},"getActivationStart");var bu=o((t,e)=>{let r=g0(),n="navigate";return r&&(Ot.document&&Ot.document.prerendering||zd()>0?n="prerender":Ot.document&&Ot.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:mAe(),navigationType:n}},"initMetric");p();m();var kc=o((t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}},"observe");p();m();var xu=o(t=>{let e=o(r=>{(r.type==="pagehide"||Ot.document&&Ot.document.visibilityState==="hidden")&&t(r)},"onHiddenOrPageHide");Ot.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},"onHidden");p();m();var Wm=o(t=>{let e=!1;return()=>{e||(t(),e=!0)}},"runOnce");p();m();p();m();var x3=-1,ppt=o(()=>Ot.document.visibilityState==="hidden"&&!Ot.document.prerendering?0:1/0,"initHiddenTime"),CO=o(t=>{Ot.document.visibilityState==="hidden"&&x3>-1&&(x3=t.type==="visibilitychange"?t.timeStamp:0,gpt())},"onVisibilityUpdate"),mpt=o(()=>{addEventListener("visibilitychange",CO,!0),addEventListener("prerenderingchange",CO,!0)},"addChangeListeners"),gpt=o(()=>{removeEventListener("visibilitychange",CO,!0),removeEventListener("prerenderingchange",CO,!0)},"removeChangeListeners"),Ym=o(()=>(Ot.document&&x3<0&&(x3=ppt(),mpt()),{get firstHiddenTime(){return x3}}),"getVisibilityWatcher");p();m();var Kd=o(t=>{Ot.document&&Ot.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},"whenActivated");var ypt=[1800,3e3],gAe=o((t,e={})=>{Kd(()=>{let r=Ym(),n=bu("FCP"),i,a=kc("paint",o(c=>{c.forEach(l=>{l.name==="first-contentful-paint"&&(a.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-zd(),0),n.entries.push(l),i(!0)))})},"handleEntries"));a&&(i=yu(t,n,ypt,e.reportAllChanges))})},"onFCP");var bpt=[.1,.25],yAe=o((t,e={})=>{gAe(Wm(()=>{let r=bu("CLS",0),n,i=0,s=[],a=o(l=>{l.forEach(h=>{if(!h.hadRecentInput){let y=s[0],g=s[s.length-1];i&&y&&g&&h.startTime-g.startTime<1e3&&h.startTime-y.startTime<5e3?(i+=h.value,s.push(h)):(i=h.value,s=[h])}}),i>r.value&&(r.value=i,r.entries=s,n())},"handleEntries"),c=kc("layout-shift",a);c&&(n=yu(t,r,bpt,e.reportAllChanges),xu(()=>{a(c.takeRecords()),n(!0)}),setTimeout(n,0))}))},"onCLS");p();m();var xpt=[100,300],bAe=o((t,e={})=>{Kd(()=>{let r=Ym(),n=bu("FID"),i,s=o(l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},"handleEntry"),a=o(l=>{l.forEach(s)},"handleEntries"),c=kc("first-input",a);i=yu(t,n,xpt,e.reportAllChanges),c&&xu(Wm(()=>{a(c.takeRecords()),c.disconnect()}))})},"onFID");p();m();p();m();p();m();var xAe=0,vK=1/0,kO=0,vpt=o(t=>{t.forEach(e=>{e.interactionId&&(vK=Math.min(vK,e.interactionId),kO=Math.max(kO,e.interactionId),xAe=kO?(kO-vK)/7+1:0)})},"updateEstimate"),_K,vAe=o(()=>_K?xAe:performance.interactionCount||0,"getInteractionCount"),_Ae=o(()=>{"interactionCount"in performance||_K||(_K=kc("event",vpt,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill");var y0=[],wK=new Map,wAe=40,_pt=0,wpt=o(()=>vAe()-_pt,"getInteractionCountForNavigation"),EAe=o(()=>{let t=Math.min(y0.length-1,Math.floor(wpt()/50));return y0[t]},"estimateP98LongestInteraction"),EK=10,Ept=[],SAe=o(t=>{if(Ept.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=y0[y0.length-1],r=wK.get(t.interactionId);if(r||y0.length<EK||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};wK.set(n.id,n),y0.push(n)}y0.sort((n,i)=>i.latency-n.latency),y0.length>EK&&y0.splice(EK).forEach(n=>wK.delete(n.id))}},"processInteractionEntry");p();m();var BO=o(t=>{let e=Ot.requestIdleCallback||Ot.setTimeout,r=-1;return t=Wm(t),Ot.document&&Ot.document.visibilityState==="hidden"?t():(r=e(t),xu(t)),r},"whenIdle");var Spt=[200,500],AAe=o((t,e={})=>{"PerformanceEventTiming"in Ot&&"interactionId"in PerformanceEventTiming.prototype&&Kd(()=>{_Ae();let r=bu("INP"),n,i=o(a=>{BO(()=>{a.forEach(SAe);let c=EAe();c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,n())})},"handleEntries"),s=kc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:wAe});n=yu(t,r,Spt,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),xu(()=>{i(s.takeRecords()),n(!0)}))})},"onINP");p();m();var Apt=[2500,4e3],TAe={},IAe=o((t,e={})=>{Kd(()=>{let r=Ym(),n=bu("LCP"),i,s=o(c=>{e.reportAllChanges||(c=c.slice(-1)),c.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-zd(),0),n.entries=[l],i())})},"handleEntries"),a=kc("largest-contentful-paint",s);if(a){i=yu(t,n,Apt,e.reportAllChanges);let c=Wm(()=>{TAe[n.id]||(s(a.takeRecords()),a.disconnect(),TAe[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ot.document&&addEventListener(l,()=>BO(c),{once:!0,capture:!0})}),xu(c)}})},"onLCP");p();m();var Tpt=[800,1800],SK=o(t=>{Ot.document&&Ot.document.prerendering?Kd(()=>SK(t)):Ot.document&&Ot.document.readyState!=="complete"?addEventListener("load",()=>SK(t),!0):setTimeout(t,0)},"whenReady"),RAe=o((t,e={})=>{let r=bu("TTFB"),n=yu(t,r,Tpt,e.reportAllChanges);SK(()=>{let i=g0();i&&(r.value=Math.max(i.responseStart-zd(),0),r.entries=[i],n(!0))})},"onTTFB");var v3={},PO={},OAe,MAe,NAe,CAe,kAe;function _3(t,e=!1){return w3("cls",t,Ipt,OAe,e)}o(_3,"addClsInstrumentationHandler");function AK(t,e=!1){return w3("lcp",t,Opt,NAe,e)}o(AK,"addLcpInstrumentationHandler");function TK(t){return w3("fid",t,Rpt,MAe)}o(TK,"addFidInstrumentationHandler");function IK(t){return w3("ttfb",t,Mpt,CAe)}o(IK,"addTtfbInstrumentationHandler");function RK(t){return w3("inp",t,Npt,kAe)}o(RK,"addInpInstrumentationHandler");function b0(t,e){return BAe(t,e),PO[t]||(Cpt(t),PO[t]=!0),PAe(t,e)}o(b0,"addPerformanceInstrumentationHandler");function I2(t,e){let r=v3[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){T2&&Qe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Oc(n)}
Error:`,i)}}o(I2,"triggerHandlers");function Ipt(){return yAe(t=>{I2("cls",{metric:t}),OAe=t},{reportAllChanges:!0})}o(Ipt,"instrumentCls");function Rpt(){return bAe(t=>{I2("fid",{metric:t}),MAe=t})}o(Rpt,"instrumentFid");function Opt(){return IAe(t=>{I2("lcp",{metric:t}),NAe=t},{reportAllChanges:!0})}o(Opt,"instrumentLcp");function Mpt(){return RAe(t=>{I2("ttfb",{metric:t}),CAe=t})}o(Mpt,"instrumentTtfb");function Npt(){return AAe(t=>{I2("inp",{metric:t}),kAe=t})}o(Npt,"instrumentInp");function w3(t,e,r,n,i=!1){BAe(t,e);let s;return PO[t]||(s=r(),PO[t]=!0),n&&e({metric:n}),PAe(t,e,i?s:void 0)}o(w3,"addMetricObserver");function Cpt(t){let e={};t==="event"&&(e.durationThreshold=0),kc(t,r=>{I2(t,{entries:r})},e)}o(Cpt,"instrumentPerformanceObserver");function BAe(t,e){v3[t]=v3[t]||[],v3[t].push(e)}o(BAe,"addHandler");function PAe(t,e,r){return()=>{r&&r();let n=v3[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}o(PAe,"getCleanupCallback");function LAe(t){return"duration"in t}o(LAe,"isPerformanceEventTiming");p();m();p();m();p();m();function LO(t){return typeof t=="number"&&isFinite(t)}o(LO,"isMeasurementValue");function $d(t,e,r,{...n}){let i=er(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),E2(t,()=>{let s=bf({startTime:e,...n});return s&&s.end(r),s})}o($d,"startAndEndSpan");function DO(t){let e=Qt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:s}=t,{release:a,environment:c}=e.getOptions(),l=e.getIntegrationByName("Replay"),h=l&&l.getReplayId(),y=_r(),g=y.getUser(),E=g!==void 0?g.email||g.id||g.ip_address:void 0,T;try{T=y.getScopeData().contexts.profile.profile_id}catch{}let O={release:a,environment:c,user:E||void 0,profile_id:T||void 0,replay_id:h||void 0,transaction:n,"user_agent.original":Ot.navigator&&Ot.navigator.userAgent,...i};return bf({name:r,attributes:O,startTime:s,experimental:{standalone:!0}})}o(DO,"startStandaloneWebVitalSpan");function E3(){return Ot&&Ot.addEventListener&&Ot.performance}o(E3,"getBrowserPerformanceAPI");function Ri(t){return t/1e3}o(Ri,"msToSec");function S3(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}o(S3,"extractNetworkProtocol");function DAe(){let t=0,e,r;if(!Bpt())return;let n=!1;function i(){n||(n=!0,r&&kpt(t,e,r),s())}o(i,"_collectClsOnce");let s=_3(({metric:a})=>{let c=a.entries[a.entries.length-1];c&&(t=a.value,e=c)},!0);xu(()=>{i()}),setTimeout(()=>{let a=Qt();if(!a)return;let c=a.on("startNavigationSpan",()=>{i(),c&&c()}),l=Pn(),h=l&&Bn(l),y=h&&er(h);y&&y.op==="pageload"&&(r=h.spanContext().spanId)},0)}o(DAe,"trackClsAsStandaloneSpan");function kpt(t,e,r){T2&&Qe.log(`Sending CLS span (${t})`);let n=Ri((So||0)+(e&&e.startTime||0)),i=_r().getScopeData().transactionName,s=e?mf(e.sources[0]&&e.sources[0].node):"Layout shift",a=jn({[zn]:"auto.http.browser.cls",[Za]:"ui.webvital.cls",[N1]:e&&e.duration||0,"sentry.pageload.span_id":r}),c=DO({name:s,transaction:i,attributes:a,startTime:n});c&&(c.addEvent("cls",{[zm]:"",[Km]:t}),c.end(n))}o(kpt,"sendStandaloneClsSpan");function Bpt(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}o(Bpt,"supportsLayoutShift");var Ppt=2147483647,UAe=0,Ns={},Bc,A3;function MK({recordClsStandaloneSpans:t}){let e=E3();if(e&&So){e.mark&&Ot.performance.mark("sentry-tracing-init");let r=Upt(),n=Dpt(),i=Fpt(),s=t?DAe():Lpt();return()=>{r(),n(),i(),s&&s()}}return()=>{}}o(MK,"startTrackingWebVitals");function NK(){b0("longtask",({entries:t})=>{let e=Pn();if(!e)return;let{op:r,start_timestamp:n}=er(e);for(let i of t){let s=Ri(So+i.startTime),a=Ri(i.duration);r==="navigation"&&n&&s<n||$d(e,s,s+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[zn]:"auto.ui.browser.metrics"}})}})}o(NK,"startTrackingLongTasks");function CK(){new PerformanceObserver(e=>{let r=Pn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=Ri(So+n.startTime),{start_timestamp:s,op:a}=er(r);if(a==="navigation"&&s&&i<s)continue;let c=Ri(n.duration),l={[zn]:"auto.ui.browser.metrics"},h=n.scripts[0],{invoker:y,invokerType:g,sourceURL:E,sourceFunctionName:T,sourceCharPosition:O}=h;l["browser.script.invoker"]=y,l["browser.script.invoker_type"]=g,E&&(l["code.filepath"]=E),T&&(l["code.function"]=T),O!==-1&&(l["browser.script.source_char_position"]=O),$d(r,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}o(CK,"startTrackingLongAnimationFrames");function kK(){b0("event",({entries:t})=>{let e=Pn();if(e){for(let r of t)if(r.name==="click"){let n=Ri(So+r.startTime),i=Ri(r.duration),s={name:mf(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[zn]:"auto.ui.browser.metrics"}},a=i3(r.target);a&&(s.attributes["ui.component_name"]=a),$d(e,n,n+i,s)}}})}o(kK,"startTrackingInteractions");function Lpt(){return _3(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Ns.cls={value:t.value,unit:""},A3=e)},!0)}o(Lpt,"_trackCLS");function Dpt(){return AK(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Ns.lcp={value:t.value,unit:"millisecond"},Bc=e)},!0)}o(Dpt,"_trackLCP");function Upt(){return TK(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=Ri(So),n=Ri(e.startTime);Ns.fid={value:t.value,unit:"millisecond"},Ns["mark.fid"]={value:r+n,unit:"second"}})}o(Upt,"_trackFID");function Fpt(){return IK(({metric:t})=>{t.entries[t.entries.length-1]&&(Ns.ttfb={value:t.value,unit:"millisecond"})})}o(Fpt,"_trackTtfb");function BK(t,e){let r=E3();if(!r||!r.getEntries||!So)return;let n=Ri(So),i=r.getEntries(),{op:s,start_timestamp:a}=er(t);if(i.slice(UAe).forEach(c=>{let l=Ri(c.startTime),h=Ri(Math.max(0,c.duration));if(!(s==="navigation"&&a&&n+l<a))switch(c.entryType){case"navigation":{qpt(t,c,n);break}case"mark":case"paint":case"measure":{Hpt(t,c,l,h,n);let y=Ym(),g=c.startTime<y.firstHiddenTime;c.name==="first-paint"&&g&&(Ns.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&g&&(Ns.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{zpt(t,c,c.name,l,h,n);break}}}),UAe=Math.max(i.length-1,0),Kpt(t),s==="pageload"){Gpt(Ns);let c=Ns["mark.fid"];c&&Ns.fid&&($d(t,c.value,c.value+Ri(Ns.fid.value),{name:"first input delay",op:"ui.action",attributes:{[zn]:"auto.ui.browser.metrics"}}),delete Ns["mark.fid"]),(!("fcp"in Ns)||!e.recordClsOnPageloadSpan)&&delete Ns.cls,Object.entries(Ns).forEach(([l,h])=>{aO(l,h.value,h.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",zd()),$pt(t)}Bc=void 0,A3=void 0,Ns={}}o(BK,"addPerformanceEntries");function Hpt(t,e,r,n,i){let s=g0(!1),a=Ri(s?s.requestStart:0),c=i+Math.max(r,a),l=i+r,h=l+n,y={[zn]:"auto.resource.browser.metrics"};return c!==l&&(y["sentry.browser.measure_happened_before_request"]=!0,y["sentry.browser.measure_start_time"]=c),$d(t,c,h,{name:e.name,op:e.entryType,attributes:y}),c}o(Hpt,"_addMeasureSpans");function qpt(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{UO(t,e,n,r)}),UO(t,e,"secureConnection",r,"TLS/SSL"),UO(t,e,"fetch",r,"cache"),UO(t,e,"domainLookup",r,"DNS"),jpt(t,e,r)}o(qpt,"_addNavigationSpans");function UO(t,e,r,n,i=r){let s=Vpt(r),a=e[s],c=e[`${r}Start`];!c||!a||$d(t,n+Ri(c),n+Ri(a),{op:`browser.${i}`,name:e.name,attributes:{[zn]:"auto.ui.browser.metrics"}})}o(UO,"_addPerformanceNavigationTiming");function Vpt(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}o(Vpt,"_getEndPropertyNameForNavigationTiming");function jpt(t,e,r){let n=r+Ri(e.requestStart),i=r+Ri(e.responseEnd),s=r+Ri(e.responseStart);e.responseEnd&&($d(t,n,i,{op:"browser.request",name:e.name,attributes:{[zn]:"auto.ui.browser.metrics"}}),$d(t,s,i,{op:"browser.response",name:e.name,attributes:{[zn]:"auto.ui.browser.metrics"}}))}o(jpt,"_addRequest");function zpt(t,e,r,n,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a=gu(r),c={[zn]:"auto.resource.browser.metrics"};OK(c,e,"transferSize","http.response_transfer_size"),OK(c,e,"encodedBodySize","http.response_content_length"),OK(c,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(c["http.response_delivery_type"]=l);let h=e.renderBlockingStatus;h&&(c["resource.render_blocking_status"]=h),a.protocol&&(c["url.scheme"]=a.protocol.split(":").pop()),a.host&&(c["server.address"]=a.host),c["url.same_origin"]=r.includes(Ot.location.origin);let{name:y,version:g}=S3(e.nextHopProtocol);c["network.protocol.name"]=y,c["network.protocol.version"]=g;let E=s+n,T=E+i;$d(t,E,T,{name:r.replace(Ot.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}o(zpt,"_addResourceSpans");function Kpt(t){let e=Ot.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),LO(r.rtt)&&(Ns["connection.rtt"]={value:r.rtt,unit:"millisecond"})),LO(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),LO(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}o(Kpt,"_trackNavigator");function $pt(t){Bc&&(Bc.element&&t.setAttribute("lcp.element",mf(Bc.element)),Bc.id&&t.setAttribute("lcp.id",Bc.id),Bc.url&&t.setAttribute("lcp.url",Bc.url.trim().slice(0,200)),Bc.loadTime!=null&&t.setAttribute("lcp.loadTime",Bc.loadTime),Bc.renderTime!=null&&t.setAttribute("lcp.renderTime",Bc.renderTime),t.setAttribute("lcp.size",Bc.size)),A3&&A3.sources&&A3.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,mf(e.node)))}o($pt,"_setWebVitalAttributes");function OK(t,e,r,n){let i=e[r];i!=null&&i<Ppt&&(t[n]=i)}o(OK,"setResourceEntrySizeData");function Gpt(t){let e=g0(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}o(Gpt,"_addTtfbRequestTimeToMeasurements");p();m();var Wpt=1e3,FAe,PK,LK;function DK(t){let e="dom";Ea(e,t),Sa(e,Ypt)}o(DK,"addClickKeypressInstrumentationHandler");function Ypt(){if(!Ot.document)return;let t=Eo.bind(null,"dom"),e=HAe(t,!0);Ot.document.addEventListener("click",e,!1),Ot.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=Ot[r],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Do(s,"addEventListener",function(a){return function(c,l,h){if(c==="click"||c=="keypress")try{let y=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},g=y[c]=y[c]||{refCount:0};if(!g.handler){let E=HAe(t);g.handler=E,a.call(this,c,E,h)}g.refCount++}catch{}return a.call(this,c,l,h)}}),Do(s,"removeEventListener",function(a){return function(c,l,h){if(c==="click"||c=="keypress")try{let y=this.__sentry_instrumentation_handlers__||{},g=y[c];g&&(g.refCount--,g.refCount<=0&&(a.call(this,c,g.handler,h),g.handler=void 0,delete y[c]),Object.keys(y).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,l,h)}}))})}o(Ypt,"instrumentDOM");function Xpt(t){if(t.type!==PK)return!1;try{if(!t.target||t.target._sentryId!==LK)return!1}catch{}return!0}o(Xpt,"isSimilarToLastCapturedEvent");function Zpt(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(Zpt,"shouldSkipDOMEvent");function HAe(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=Jpt(r);if(Zpt(r.type,n))return;ho(r,"_sentryCaptured",!0),n&&!n._sentryId&&ho(n,"_sentryId",Uo());let i=r.type==="keypress"?"input":r.type;Xpt(r)||(t({event:r,name:i,global:e}),PK=r.type,LK=n?n._sentryId:void 0),clearTimeout(FAe),FAe=Ot.setTimeout(()=>{LK=void 0,PK=void 0},Wpt)}}o(HAe,"makeDOMEventHandler");function Jpt(t){try{return t.target}catch{return null}}o(Jpt,"getEventTarget");p();m();var FO;function B1(t){let e="history";Ea(e,t),Sa(e,Qpt)}o(B1,"addHistoryInstrumentationHandler");function Qpt(){if(!pK())return;let t=Ot.onpopstate;Ot.onpopstate=function(...r){let n=Ot.location.href,i=FO;if(FO=n,Eo("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let s=FO,a=String(i);FO=a,Eo("history",{from:s,to:a})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),Do(Ot.history,"pushState",e),Do(Ot.history,"replaceState",e)}o(Qpt,"instrumentHistory");p();m();var HO={};function UK(t){let e=HO[t];if(e)return e;let r=Ot[t];if(g3(r))return HO[t]=r.bind(Ot);let n=Ot.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let s=i.contentWindow;s&&s[t]&&(r=s[t]),n.head.removeChild(i)}catch(i){T2&&Qe.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(HO[t]=r.bind(Ot))}o(UK,"getNativeImplementation");function qO(t){HO[t]=void 0}o(qO,"clearCachedImplementation");p();m();var x0="__sentry_xhr_v3__";function T3(t){let e="xhr";Ea(e,t),Sa(e,emt)}o(T3,"addXhrInstrumentationHandler");function emt(){if(!Ot.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,s=eo()*1e3,a=Xa(n[0])?n[0].toUpperCase():void 0,c=tmt(n[1]);if(!a||!c)return e.apply(r,n);r[x0]={method:a,url:c,request_headers:{}},a==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=o(()=>{let h=r[x0];if(h&&r.readyState===4){try{h.status_code=r.status}catch{}let y={endTimestamp:eo()*1e3,startTimestamp:s,xhr:r,virtualError:i};Eo("xhr",y)}},"onreadystatechangeHandler");return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(h,y,g){return l(),h.apply(y,g)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(h,y,g){let[E,T]=g,O=y[x0];return O&&Xa(E)&&Xa(T)&&(O.request_headers[E.toLowerCase()]=T),h.apply(y,g)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[x0];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let s={startTimestamp:eo()*1e3,xhr:r};return Eo("xhr",s),e.apply(r,n)}})}o(emt,"instrumentXHR");function tmt(t){if(Xa(t))return t;try{return t.toString()}catch{}}o(tmt,"parseUrl");p();m();var FK=[],VO=new Map;function HK(){if(E3()&&So){let e=rmt();return()=>{e()}}return()=>{}}o(HK,"startTrackingINP");var qAe={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function rmt(){return RK(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(O=>O.duration===t.value&&qAe[O.name]);if(!e)return;let{interactionId:r}=e,n=qAe[e.name],i=Ri(So+e.startTime),s=Ri(t.value),a=Pn(),c=a?Bn(a):void 0,h=(r!=null?VO.get(r):void 0)||c,y=h?er(h).description:_r().getScopeData().transactionName,g=mf(e.target),E=jn({[zn]:"auto.http.browser.inp",[Za]:`ui.interaction.${n}`,[N1]:e.duration}),T=DO({name:g,transaction:y,attributes:E,startTime:i});T&&(T.addEvent("inp",{[zm]:"millisecond",[Km]:t.value}),T.end(i+s))})}o(rmt,"_trackINP");function qK(t){let e=o(({entries:r})=>{let n=Pn(),i=n&&Bn(n);r.forEach(s=>{if(!LAe(s)||!i)return;let a=s.interactionId;if(a!=null&&!VO.has(a)){if(FK.length>10){let c=FK.shift();VO.delete(c)}FK.push(a),VO.set(a,i)}})},"handleEntries");b0("event",e),b0("first-input",e)}o(qK,"registerInpInteractionListener");function VAe(t,e=UK("fetch")){let r=0,n=0;function i(s){let a=s.body.length;r+=a,n++;let c={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return qO("fetch"),Vm("No fetch implementation available");try{return e(t.url,c).then(l=>(r-=a,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return qO("fetch"),r-=a,n--,Vm(l)}}return o(i,"makeRequest"),vO(t,i)}o(VAe,"makeFetchTransport");p();m();var nmt=30;var imt=50;function VK(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?Dd:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}o(VK,"createFrame");var omt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,smt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,amt=/\((\S*)(?::(\d+))(?::(\d+))\)/,cmt=o(t=>{let e=omt.exec(t);if(e){let[,n,i,s]=e;return VK(n,Dd,+i,+s)}let r=smt.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=amt.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=zAe(r[1]||Dd,r[2]);return VK(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},"chromeStackParserFn"),fmt=[nmt,cmt],umt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,lmt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dmt=o(t=>{let e=umt.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let s=lmt.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],i=e[1]||Dd;return[i,n]=zAe(i,n),VK(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko"),hmt=[imt,dmt];var pmt=[fmt,hmt],jAe=D9(...pmt),zAe=o((t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Dd,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails");p();m();p();m();var jO=1024,mmt="Breadcrumbs",gmt=o((t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:mmt,setup(r){e.console&&sK(xmt(r)),e.dom&&DK(bmt(r,e.dom)),e.xhr&&T3(vmt(r)),e.fetch&&y3(_mt(r)),e.history&&B1(wmt(r)),e.sentry&&r.on("beforeSendEvent",ymt(r))}}},"_breadcrumbsIntegration"),I3=gmt;function ymt(t){return o(function(r){Qt()===t&&mu({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:yl(r)},{event:r})},"addSentryBreadcrumb")}o(ymt,"_getSentryBreadcrumbHandler");function bmt(t,e){return o(function(n){if(Qt()!==t)return;let i,s,a=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>jO&&(Ms&&Qe.warn(`\`dom.maxStringLength\` cannot exceed ${jO}, but a value of ${c} was configured. Sentry will use ${jO} instead.`),c=jO),typeof a=="string"&&(a=[a]);try{let h=n.event,y=Emt(h)?h.target:h;i=mf(y,{keyAttrs:a,maxStringLength:c}),s=i3(y)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};s&&(l.data={"ui.component_name":s}),mu(l,{event:n.event,name:n.name,global:n.global})},"_innerDomBreadcrumb")}o(bmt,"_getDomBreadcrumbHandler");function xmt(t){return o(function(r){if(Qt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:aK(r.level),message:V9(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${V9(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;mu(n,{input:r.args,level:r.level})},"_consoleBreadcrumb")}o(xmt,"_getConsoleBreadcrumbHandler");function vmt(t){return o(function(r){if(Qt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,s=r.xhr[x0];if(!n||!i||!s)return;let{method:a,url:c,status_code:l,body:h}=s,y={method:a,url:c,status_code:l},g={xhr:r.xhr,input:h,startTimestamp:n,endTimestamp:i},E=TO(l);mu({category:"xhr",data:y,type:"http",level:E},g)},"_xhrBreadcrumb")}o(vmt,"_getXhrBreadcrumbHandler");function _mt(t){return o(function(r){if(Qt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};mu({category:"fetch",data:s,level:"error",type:"http"},a)}else{let s=r.response,a={...r.fetchData,status_code:s&&s.status},c={input:r.args,response:s,startTimestamp:n,endTimestamp:i},l=TO(a.status_code);mu({category:"fetch",data:a,type:"http",level:l},c)}},"_fetchBreadcrumb")}o(_mt,"_getFetchBreadcrumbHandler");function wmt(t){return o(function(r){if(Qt()!==t)return;let n=r.from,i=r.to,s=gu(zt.location.href),a=n?gu(n):void 0,c=gu(i);(!a||!a.path)&&(a=s),s.protocol===c.protocol&&s.host===c.host&&(i=c.relative),s.protocol===a.protocol&&s.host===a.host&&(n=a.relative),mu({category:"navigation",data:{from:n,to:i}})},"_historyBreadcrumb")}o(wmt,"_getHistoryBreadcrumbHandler");function Emt(t){return!!t&&!!t.target}o(Emt,"_isEvent");p();m();var Smt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Amt="BrowserApiErrors",Tmt=o((t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:Amt,setupOnce(){e.setTimeout&&Do(zt,"setTimeout",KAe),e.setInterval&&Do(zt,"setInterval",KAe),e.requestAnimationFrame&&Do(zt,"requestAnimationFrame",Imt),e.XMLHttpRequest&&"XMLHttpRequest"in zt&&Do(XMLHttpRequest.prototype,"send",Rmt);let r=e.eventTarget;r&&(Array.isArray(r)?r:Smt).forEach(Omt)}}},"_browserApiErrorsIntegration"),$Ae=Tmt;function KAe(t){return function(...e){let r=e[0];return e[0]=k1(r,{mechanism:{data:{function:Oc(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(KAe,"_wrapTimeFunction");function Imt(t){return function(e){return t.apply(this,[k1(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Oc(t)},handled:!1,type:"instrument"}})])}}o(Imt,"_wrapRAF");function Rmt(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Do(r,i,function(s){let a={mechanism:{data:{function:i,handler:Oc(s)},handled:!1,type:"instrument"}},c=O1(s);return c&&(a.mechanism.data.handler=Oc(c)),k1(s,a)})}),t.apply(this,e)}}o(Rmt,"_wrapXHR");function Omt(t){let r=zt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Do(n,"addEventListener",function(i){return function(s,a,c){try{Mmt(a)&&(a.handleEvent=k1(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Oc(a),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,k1(a,{mechanism:{data:{function:"addEventListener",handler:Oc(a),target:t},handled:!1,type:"instrument"}}),c])}}),Do(n,"removeEventListener",function(i){return function(s,a,c){try{let l=a.__sentry_wrapped__;l&&i.call(this,s,l,c)}catch{}return i.call(this,s,a,c)}}))}o(Omt,"_wrapEventTarget");function Mmt(t){return typeof t.handleEvent=="function"}o(Mmt,"isEventListenerObject");p();m();var GAe=()=>({name:"BrowserSession",setupOnce(){if(typeof zt.document>"u"){Ms&&Qe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}l3({ignoreDuration:!0}),d3(),B1(({from:t,to:e})=>{t!==void 0&&t!==e&&(l3({ignoreDuration:!0}),d3())})}});p();m();var Nmt="GlobalHandlers",Cmt=o((t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:Nmt,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(kmt(r),WAe("onerror")),e.onunhandledrejection&&(Bmt(r),WAe("onunhandledrejection"))}}},"_globalHandlersIntegration"),YAe=Cmt;function kmt(t){e3(e=>{let{stackParser:r,attachStacktrace:n}=XAe();if(Qt()!==t||gK())return;let{msg:i,url:s,line:a,column:c,error:l}=e,h=Dmt(MO(r,l||i,void 0,n,!1),s,a,c);h.level="error",u3(h,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}o(kmt,"_installGlobalOnErrorHandler");function Bmt(t){t3(e=>{let{stackParser:r,attachStacktrace:n}=XAe();if(Qt()!==t||gK())return;let i=Pmt(e),s=I1(i)?Lmt(i):MO(r,i,void 0,n,!0);s.level="error",u3(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(Bmt,"_installGlobalOnUnhandledRejectionHandler");function Pmt(t){if(I1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(Pmt,"_getUnhandledRejectionError");function Lmt(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(Lmt,"_eventFromRejectionWithPrimitive");function Dmt(t,e,r,n){let i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},c=a.stacktrace=a.stacktrace||{},l=c.frames=c.frames||[],h=n,y=r,g=Xa(e)&&e.length>0?e:Ez();return l.length===0&&l.push({colno:h,filename:g,function:Dd,in_app:!0,lineno:y}),t}o(Dmt,"_enhanceEventWithInitialFrame");function WAe(t){Ms&&Qe.log(`Global Handler attached: ${t}`)}o(WAe,"globalHandlerLog");function XAe(){let t=Qt();return t&&t.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(XAe,"getOptions");p();m();var ZAe=()=>({name:"HttpContext",preprocessEvent(t){if(!zt.navigator&&!zt.location&&!zt.document)return;let e=t.request&&t.request.url||zt.location&&zt.location.href,{referrer:r}=zt.document||{},{userAgent:n}=zt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...t.request,...e&&{url:e},headers:i};t.request=s}});p();m();var Umt="cause",Fmt=5,Hmt="LinkedErrors",qmt=o((t={})=>{let e=t.limit||Fmt,r=t.key||Umt;return{name:Hmt,preprocessEvent(n,i,s){let a=s.getOptions();oK(OO,a.stackParser,a.maxValueLength,r,e,n,i)}}},"_linkedErrorsIntegration"),JAe=qmt;function QAe(t){let e=[EO(),_O(),$Ae(),I3(),YAe(),JAe(),SO(),ZAe()];return t.autoSessionTracking!==!1&&e.push(GAe()),e}o(QAe,"getDefaultIntegrations");function Vmt(t={}){let e={defaultIntegrations:QAe(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:zt.SENTRY_RELEASE&&zt.SENTRY_RELEASE.id?zt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(Vmt,"applyDefaultOptions");function jmt(){let t=typeof zt.window<"u"&&zt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=zt.location&&zt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!n&&zt===zt.top&&s.some(l=>i.startsWith(`${l}//`)),c=typeof t.nw<"u";return!!n&&!a&&!c}o(jmt,"shouldShowBrowserExtensionError");function jK(t={}){let e=Vmt(t);if(!e.skipBrowserExtensionCheck&&jmt()){Rc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Ms&&(IO()||Qe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:gz(e.stackParser||jAe),integrations:Qz(e),transport:e.transport||VAe};return rK(NO,r)}o(jK,"init");p();m();var e4e=new WeakMap,zK=new Map,R3={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function r4e(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:c}={traceFetch:R3.traceFetch,traceXHR:R3.traceXHR,trackFetchStreamPerformance:R3.trackFetchStreamPerformance,...e},l=typeof s=="function"?s:g=>!0,h=o(g=>$mt(g,c),"shouldAttachHeadersWithTargets"),y={};r&&(t.addEventProcessor(g=>(g.type==="transaction"&&g.spans&&g.spans.forEach(E=>{if(E.op==="http.client"){let T=zK.get(E.span_id);T&&(E.timestamp=T/1e3,zK.delete(E.span_id))}}),g)),i&&dK(g=>{if(g.response){let E=e4e.get(g.response);E&&g.endTimestamp&&zK.set(E,g.endTimestamp)}}),y3(g=>{let E=cK(g,l,h,y);if(g.response&&g.fetchData.__span&&e4e.set(g.response,g.fetchData.__span),E){let T=n4e(g.fetchData.url),O=T?gu(T).host:void 0;E.setAttributes({"http.url":T,"server.address":O})}a&&E&&t4e(E)})),n&&T3(g=>{let E=Gmt(g,l,h,y);a&&E&&t4e(E)})}o(r4e,"instrumentOutgoingRequests");function zmt(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}o(zmt,"isPerformanceResourceTiming");function t4e(t){let{url:e}=er(t).data||{};if(!e||typeof e!="string")return;let r=b0("resource",({entries:n})=>{n.forEach(i=>{zmt(i)&&i.name.endsWith(e)&&(Kmt(i).forEach(a=>t.setAttribute(...a)),setTimeout(r))})})}o(t4e,"addHTTPTimings");function Gd(t=0){return((So||performance.timeOrigin)+t)/1e3}o(Gd,"getAbsoluteTime");function Kmt(t){let{name:e,version:r}=S3(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),So?[...n,["http.request.redirect_start",Gd(t.redirectStart)],["http.request.fetch_start",Gd(t.fetchStart)],["http.request.domain_lookup_start",Gd(t.domainLookupStart)],["http.request.domain_lookup_end",Gd(t.domainLookupEnd)],["http.request.connect_start",Gd(t.connectStart)],["http.request.secure_connection_start",Gd(t.secureConnectionStart)],["http.request.connection_end",Gd(t.connectEnd)],["http.request.request_start",Gd(t.requestStart)],["http.request.response_start",Gd(t.responseStart)],["http.request.response_end",Gd(t.responseEnd)]]:n}o(Kmt,"resourceTimingEntryToSpanData");function $mt(t,e){let r=zt.location&&zt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let s=n.origin===i;return e?Fd(n.toString(),e)||s&&Fd(n.pathname,e):s}else{let n=!!t.match(/^\/(?!\/)/);return e?Fd(t,e):n}}o($mt,"shouldAttachHeaders");function Gmt(t,e,r,n){let i=t.xhr,s=i&&i[x0];if(!i||i.__sentry_own_request__||!s)return;let a=Ja()&&e(s.url);if(t.endTimestamp&&a){let g=i.__sentry_xhr_span_id__;if(!g)return;let E=n[g];E&&s.status_code!==void 0&&(v2(E,s.status_code),E.end(),delete n[g]);return}let c=n4e(s.url),l=c?gu(c).host:void 0,h=!!Pn(),y=a&&h?bf({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":l,[zn]:"auto.http.browser",[Za]:"http.client"}}):new Cc;return i.__sentry_xhr_span_id__=y.spanContext().spanId,n[i.__sentry_xhr_span_id__]=y,r(s.url)&&Wmt(i,Ja()&&h?y:void 0),y}o(Gmt,"xhrCallback");function Wmt(t,e){let{"sentry-trace":r,baggage:n}=m3({span:e});r&&Ymt(t,r,n)}o(Wmt,"addTracingHeadersToXhrRequest");function Ymt(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}o(Ymt,"setHeaderOnXhr");function n4e(t){try{return new URL(t,zt.location.origin).href}catch{return}}o(n4e,"getFullURL");p();m();p();m();function i4e(){zt&&zt.document?zt.document.addEventListener("visibilitychange",()=>{let t=Pn();if(!t)return;let e=Bn(t);if(zt.document.hidden&&e){let r="cancelled",{op:n,status:i}=er(e);Ms&&Qe.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Ms&&Qe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(i4e,"registerBackgroundTabDetection");var Xmt="BrowserTracing",Zmt={...S2,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...R3},KK=o((t={})=>{tO();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:c,finalTimeout:l,childSpanTimeout:h,markBackgroundSpan:y,traceFetch:g,traceXHR:E,trackFetchStreamPerformance:T,shouldCreateSpanForRequest:O,enableHTTPTimings:M,instrumentPageLoad:k,instrumentNavigation:C}={...Zmt,...t},B=MK({recordClsStandaloneSpans:s||!1});e&&HK(),n&&Yt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?CK():r&&NK(),i&&kK();let N={name:void 0,source:void 0};function P(H,F){let Z=F.op==="pageload",W=a?a(F):F,X=W.attributes||{};F.name!==W.name&&(X[Aa]="custom",W.attributes=X),N.name=W.name,N.source=X[Aa];let S=uO(W,{idleTimeout:c,finalTimeout:l,childSpanTimeout:h,disableAutoFinish:Z,beforeSpanEnd:o(d=>{B(),BK(d,{recordClsOnPageloadSpan:!s})},"beforeSpanEnd")});function f(){["interactive","complete"].includes(zt.document.readyState)&&H.emit("idleSpanEnableAutoFinish",S)}return o(f,"emitFinish"),Z&&zt.document&&(zt.document.addEventListener("readystatechange",()=>{f()}),f()),S}return o(P,"_createRouteSpan"),{name:Xmt,afterAllSetup(H){let F,Z=zt.location&&zt.location.href;function W(){F&&!er(F).timestamp&&(Ms&&Qe.log(`[Tracing] Finishing current active span with op: ${er(F).op}`),F.end())}o(W,"maybeEndActiveSpan"),H.on("startNavigationSpan",X=>{Qt()===H&&(W(),F=P(H,{op:"navigation",...X}))}),H.on("startPageLoadSpan",(X,S={})=>{if(Qt()!==H)return;W();let f=S.sentryTrace||o4e("sentry-trace"),d=S.baggage||o4e("baggage"),b=Bz(f,d);_r().setPropagationContext(b),F=P(H,{op:"pageload",...X})}),H.on("spanEnd",X=>{let S=er(X).op;if(X!==Bn(X)||S!=="navigation"&&S!=="pageload")return;let f=_r(),d=f.getPropagationContext();f.setPropagationContext({...d,sampled:d.sampled!==void 0?d.sampled:hu(X),dsc:d.dsc||yf(X)})}),zt.location&&(k&&s4e(H,{name:zt.location.pathname,startTime:So?So/1e3:void 0,attributes:{[Aa]:"url",[zn]:"auto.pageload.browser"}}),C&&B1(({to:X,from:S})=>{if(S===void 0&&Z&&Z.indexOf(X)!==-1){Z=void 0;return}S!==X&&(Z=void 0,a4e(H,{name:zt.location.pathname,attributes:{[Aa]:"url",[zn]:"auto.navigation.browser"}}))})),y&&i4e(),i&&Jmt(c,l,h,N),e&&qK(),r4e(H,{traceFetch:g,traceXHR:E,trackFetchStreamPerformance:T,tracePropagationTargets:H.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:O,enableHTTPTimings:M})}}},"browserTracingIntegration");function s4e(t,e,r){t.emit("startPageLoadSpan",e,r),_r().setTransactionName(e.name);let n=Pn();return(n&&er(n).op)==="pageload"?n:void 0}o(s4e,"startBrowserTracingPageLoadSpan");function a4e(t,e){Fo().setPropagationContext({traceId:Mc()}),_r().setPropagationContext({traceId:Mc()}),t.emit("startNavigationSpan",e),_r().setTransactionName(e.name);let r=Pn();return(r&&er(r).op)==="navigation"?r:void 0}o(a4e,"startBrowserTracingNavigationSpan");function o4e(t){let e=Sz(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}o(o4e,"getMetaContent");function Jmt(t,e,r,n){let i,s=o(()=>{let a="ui.action.click",c=Pn(),l=c&&Bn(c);if(l){let h=er(l).op;if(["navigation","pageload"].includes(h)){Ms&&Qe.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(x2,"interactionInterrupted"),i.end(),i=void 0),!n.name){Ms&&Qe.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=uO({name:n.name,op:a,attributes:{[Aa]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})},"registerInteractionTransaction");zt.document&&addEventListener("click",s,{once:!1,capture:!0})}o(Jmt,"registerInteractionListener");p();m();var c4e=We(Sn(),1);function $K(t){let e={...t};return p3(e,"react"),gO("react",{version:c4e.version}),jK(e)}o($K,"init");p();m();var GK={op:"function"};var egt=["The server encountered a temporary error","premature close","The browser is shutting down."],tgt=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],rgt=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],f4e=!1,u4e={init:o(async(t,{appVersion:e,sentry:r})=>{r.enabled&&$K({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:o(n=>{let i=n.transactionContext.name;return tgt.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},"tracesSampler"),beforeSend:o(async(n,i)=>{let s=i?.originalException;for(let a of egt)if(s instanceof Error&&s.message===a||typeof s=="string"&&s===a)return null;if(s&&!f4e){let c=`${new Date().toISOString()}-logs.txt`,l=await YS.getRecentLogs();i.attachments=[{filename:c,data:l}],f4e=!0}return n},"beforeSend"),dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:o((n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,"beforeBreadcrumb"),integrations:o(function(n){return n.filter(function(s){return!rgt.includes(s.name)}).concat([I3({dom:!1,history:!1,console:!1}),KK({traceFetch:!1,traceXHR:!1,enableInp:!0})])},"integrations")})},"init"),captureError:o((t,e)=>{A2(t,{tags:{feature:e,team:u2(e)}})},"captureError"),captureMessage:o((t,e,r=Tt.Info)=>{mO(t,{tags:{feature:e,team:u2(e)},level:r})},"captureMessage"),addBreadcrumb:o((t,e,r,n)=>{mu({category:t,message:e,level:r,data:n})},"addBreadcrumb"),setUser:o(async t=>{bO(t)},"setUser"),setTags:o(async t=>{yO(t)},"setTags"),startSpan:o((t,e)=>{let r=fO({...GK,name:t},e);return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{let e=bf({...GK,name:t});return e?Promise.resolve(e):void 0},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};p();m();p();m();p();m();function l4e(){return Vs()}o(l4e,"isLocalRun");var ngt=be.enum(["disabled","console","standard","debug"]);function d4e(){let t=R.TELEMETRY_ENV,e=ngt.optional().parse(R.TELEMETRY_MODE),r=l4e(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}o(d4e,"createTelemetryConfig");p();m();var x4e=We(b4e(),1),v4e=We(YNe(),1);var zO="[Telemetry Development Log]",KO={[Tt.Debug]:console.log,[Tt.Info]:console.warn,[Tt.Error]:console.error,[Tt.Fatal]:console.error};function lgt(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}o(lgt,"hasToString");function dgt(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,v4e.default)(n)||(0,x4e.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:lgt(n)&&(e[r]=n.toString())),e),{})}o(dgt,"safeBreadcrumbData");function R2(t,e,{featureTag:r,value:n,severity:i,data:s}){let a={value:n,data:s};for(let c of t){let l=c[e];if(l){let h=l(a.value,{featureTag:r,severity:i,data:a.data});a.value=h.value,h.data&&(a.data=h.data)}}return a}o(R2,"runMiddleware");function _4e(t,e){let r,n=JS;async function i(k){if(!r){if(r=d4e(),n=r.isSubmitEnabled?t.provider:JS,Vs()){let C=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${C}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,k)}}o(i,"init");function s(){return r}o(s,"getConfig");function a(k,C){if(r)try{let B=R2(e,"beforeEvent",{value:k,featureTag:C,severity:Tt.Error});r.shouldLogToConsole&&KO[Tt.Error](zO,B.value,B.data),B.value instanceof Error?n.captureError(B.value,C):n.captureError(new Error(B.value),C),R2(e,"afterEvent",{value:B.value,featureTag:C,severity:Tt.Error})}catch(B){Vs()&&console.warn(B)}}o(a,"captureError");function c(k,C,B=Tt.Info){if(r)try{let N=R2(e,"beforeEvent",{value:k,featureTag:C,severity:B});r.shouldLogToConsole&&KO[B](zO,N.value),n.captureMessage(N.value instanceof Error?N.value.message:N.value,C,B),R2(e,"afterEvent",{value:N.value,featureTag:C,severity:B})}catch(N){Vs()&&console.warn(N)}}o(c,"captureMessage");function l(k,C,B,N){if(r)try{let P=R2(e,"beforeEvent",{featureTag:k,value:C,severity:B,data:N});r.shouldLogToConsole&&KO[B](...[zO,P.value,P.data].filter(Boolean)),n.addBreadcrumb(k,P.value instanceof Error?P.value.message:P.value,B,P.data),R2(e,"afterEvent",{featureTag:k,value:P.value,severity:B,data:P.data})}catch(P){Vs()&&console.warn(P)}}o(l,"addBreadcrumb");async function h(k){r&&await n.setUser(k)}o(h,"setUser");async function y(k){r&&await n.setTags(k)}o(y,"setTags");function g(k,C){return r?n.startSpan(k,C):Promise.resolve(C())}o(g,"startSpan");function E(k,C){return r?()=>n.startSpan(k,C):()=>Promise.resolve(C())}o(E,"startSpanCallback");function T(k){if(r)return n.startInactiveSpan(k)}o(T,"startInactiveSpan");async function O(k,C,B){r&&await t.provider.captureMetric(k,C,B)}o(O,"captureMetric");function M(k,C){r&&n.trackFeatureFlag(k,C)}return o(M,"trackFeatureFlag"),{init:i,getConfig:s,captureError:a,captureMessage:c,addBreadcrumb:l,setUser:h,setTags:y,startSpan:g,startSpanCallback:E,startInactiveSpan:T,captureMetric:O,trackFeatureFlag:M}}o(_4e,"createTelemetry");var hgt=[N9,z3e],pgt=H3e(YS),mgt=[...hgt,pgt],rr=_4e({provider:K3e(u4e,F3e)},mgt);p();m();p();m();p();m();function w4e(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}o(w4e,"formatNetworkRequestInfo");p();m();var ggt="Logger not initialized",ygt="Method not supported on this platform",E4e=["publicKey"];var WO=o(t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let s=S4e(e);switch(s){case"Object":return bgt(t);case"Array":return xgt(t);case"function":return vgt(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return s;default:return"?"}},"stringify"),bgt=o(t=>{let{obj:e,indent:r,...n}=t,i="{",s=t.depth;if(WK(e)>0){i+=`
`,s++;let a=0;for(let c in e){i+=GO(s,r),i+=c+": ";let l=WO({...n,obj:e[c],depth:s,indent:r});l&&(i+=l),a<WK(e)-1&&(i+=","),i+=`
`,a++}s--,i+=GO(s,r)}return i+="}",i},"stringifyObject"),xgt=o(t=>{let{obj:e,indent:r,...n}=t,i="[",s=t.depth,a=!1;if(e.length>0){s++;for(let c=0;c<e.length;c++){let l=S4e(e[c]),h=!1;l==="Object"&&WK(e[c])>0&&(h=!0),l==="Array"&&e[c].length>0&&(h=!0),!a&&h&&(i+=`
`);let y=WO({...n,obj:e[c],depth:s,indent:r});y&&(h&&(i+=GO(s,r)),i+=y,c<e.length-1&&(i+=", "),h&&(i+=`
`)),a=h}s--}return i+="]",i},"stringifyArray"),vgt=o(t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(s=>{s.match(/\}/)&&i--;let a=GO(i,n)+s.trim();return s.match(/\{/)&&i++,a}).join(`
`)},"stringifyFunction"),S4e=o(t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},"determineType"),GO=o((t,e)=>e.repeat(Math.max(t,0)),"indentsForDepth"),WK=o(t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},"objectSize"),_gt=`======================================================
Application State
======================================================

`,wgt=`======================================================
Network Logs
======================================================

`,Egt=`======================================================
Application Logs
======================================================

`,$O=`------------------------------------------------
`,Sgt=["authorization","x-phantomauthtoken","x-phantomnonce"],Agt=o((t,e=[])=>{let r=_gt;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${$O}`,r+=`${n}
${$O}
`,r+=WO({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=wgt;for(let n of e){if(n.requestHeaders)for(let i of Sgt)delete n.requestHeaders[i.toLowerCase()];r+=`${$O}`,r+=`${n.id}
${$O}
`,r+=w4e(n),r+=`

`}}return r+=Egt,r},"formatAppState"),Tgt=o(t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),"removeKeywordsFromLogs"),Igt=o(t=>t?JSON.parse(JSON.stringify(t,(e,r)=>E4e.includes(e)?void 0:r)):null,"removeKeysFromLogs");p();m();var Rgt=be.object({maxRequests:be.number(),ignoredUrls:be.array(be.string()),ignoredHosts:be.array(be.string())});p();m();var Ogt={days:o(t=>t*864e5,"days"),hours:o(t=>t*36e5,"hours"),minutes:o(t=>t*6e4,"minutes"),seconds:o(t=>t*1e3,"seconds"),milliseconds:o(t=>t,"milliseconds"),microseconds:o(t=>t/1e3,"microseconds"),nanoseconds:o(t=>t/1e6,"nanoseconds")};function O3(t){let e=0;for(let[r,n]of Object.entries(t)){let i=Ogt[r];e+=i(n)}return e}o(O3,"toMilliseconds");p();m();var YK=_1(null);function A4e(){let t=E1(YK);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}o(A4e,"useStorage");p();m();var T4e=_1(null);function XK(){let t=E1(T4e),e=E1(YK);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}o(XK,"useSyncedStorage");p();m();var Hi;(function(t){t.AuthEnabled="authEnabled",t.BalanceHiddenStatus="balanceHiddenStatus",t.BuyFormValues="buyFormValues",t.CachedBlocklistDiff="cachedBlocklistDiff",t.CachedBloomFilter="cachedBloomFilter",t.CachedBloomFilterHash="cachedBloomFilterHash",t.CachedScanDataCursor="cachedScanDataCursor",t.CachedScanDataRecents="cachedScanDataRecents",t.CustomGasControls="customGasControls",t.DappBrowserBookmarks="dAppBrowserBookmarks",t.DeviceId="deviceId",t.DevicePerformanceInfo="devicePerformanceInfo",t.ExploreFilters="exploreFilters",t.LatestCleanedStorageVersion="latestCleanedStorageVersion",t.LockTimerMs="lockTimerMs",t.MaxWalletIndex="maxWalletIndex",t.MinedTransactionsForAnalytics="minedTransactionsForAnalytics",t.OnboardingDone="onboardingDone",t.OwnerToClusterToLamportBalance="ownerToClusterToLamportBalance",t.OwnerToHiddenMints="ownerToHiddenMints",t.PendingTransactions="pendingTransactions",t.PriceMap="priceMap",t.RecentlyViewedSearchItems="RecentlyViewedSearchItems",t.Sha256SeedCorruptionWarningDismissed="sha256SeedCorruptionWarningDismissed",t.SeedlessPinVerificationLockTimerInMs="seedlessPinVerificationLockTimerInMs",t.SeedlessDeviceID="seedlessDeviceID",t.SettingReduceMotion="settingReduceMotion",t.SettingMotionLevel="settingMotionLevel",t.UserExplorerPreferenceV2="userExplorerPreferenceV2",t.UserIdCache="userIdCache",t.UserPropsCache="userPropsCache",t.UserRecentAddresses="userRecentAddresses",t.UserSavedAddresses="userSavedAddresses",t.UserTrustedApps="userTrustedApps",t.UserWhitelistSubdomains="userWhitelistedSubdomains",t.UserWhitelistedOrigins="userWhitelistedOrigins",t.SidePanelEnabled="sidePanelEnabled",t.RudderstackIdentifyData="rudderstackIdentifyData",t.Cluster="cluster",t.EncryptedMnemonic="encryptedMnemonic",t.EncryptedSeedAndMnemonic="encryptedSeedAndMnemonic",t.MainnetRpcUrl="mainnetRpcEndpoint",t.SwapQuoteFromAsset="swapQuoteFromAsset",t.SwapQuoteSlippage="swapQuoteSlippage",t.SwapQuoteToAsset="swapQuoteToAsset",t.TokenList="tokenList",t.TrustedApplicationsByOwnerBrowser="trustedApplicationsByOwner",t.TrustedApplicationsByOwnerBrowserV2="trustedApplicationsByOwnerBrowser",t.TrustedApplicationsByOwnerMobile="trustedApplicationsByOwnerMobile",t.UnencryptedSeedAndMnemonic="unencryptedSeedAndMnemonic",t.UserExplorerPreference="userExplorerPreference"})(Hi||(Hi={}));var ZK;(function(t){t.DeleteStorageValue="deleteStorageValue",t.LockExtension="lockExtension"})(ZK||(ZK={}));var Mgt={recipientError:void 0,amountError:void 0};p();m();p();m();p();m();p();m();var I4e="REACT_QUERY_OFFLINE_CACHE";function M3(t,e,...r){t&&console.log(e,...r)}o(M3,"debugLog");var Ngt=o(({underlyingStorage:t,throttleMs:e,cacheKey:r=I4e,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let s=null,a=o(async()=>{if(s)try{let c=JSON.stringify(s),l=c.length;l<n?await t.set(r,c):(await t.remove(r),M3(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),s=null}catch{}},"persistCache");return setInterval(()=>{a()},e),{persistClient:o(c=>{s=c},"persistClient"),restoreClient:o(async()=>{try{let c=await t.get(r);if(!c){M3(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(c),h=c.length;return M3(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",h,"bytes"),l}catch{M3(i,"[React Query Offline Cache] Error restoring offline cache.");return}},"restoreClient"),removeClient:o(async()=>(M3(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r)),"removeClient")}},"createReactQueryCache");p();m();p();m();p();m();p();m();var Pc=class{static{o(this,"Subscribable")}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};p();m();p();m();var Cgt={setTimeout:o((t,e)=>setTimeout(t,e),"setTimeout"),clearTimeout:o(t=>clearTimeout(t),"clearTimeout"),setInterval:o((t,e)=>setInterval(t,e),"setInterval"),clearInterval:o(t=>clearInterval(t),"clearInterval")},kgt=class{static{o(this,"TimeoutManager")}#t=Cgt;#e=!1;setTimeoutProvider(t){R.NODE_ENV!=="production"&&this.#e&&t!==this.#t&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#t,provider:t}),this.#t=t,R.NODE_ENV!=="production"&&(this.#e=!1)}setTimeout(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Wd=new kgt;function R4e(t){setTimeout(t,0)}o(R4e,"systemSetTimeoutZero");var Lc=typeof self>"u"||"Deno"in globalThis;function Zn(){}o(Zn,"noop");function N4e(t,e){return typeof t=="function"?t(e):t}o(N4e,"functionalUpdate");function N3(t){return typeof t=="number"&&t>=0&&t!==1/0}o(N3,"isValidTimeout");function YO(t,e){return Math.max(t+(e||0)-Date.now(),0)}o(YO,"timeUntilStale");function _l(t,e){return typeof t=="function"?t(e):t}o(_l,"resolveStaleTime");function Dc(t,e){return typeof t=="function"?t(e):t}o(Dc,"resolveEnabled");function XO(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:c}=t;if(a){if(n){if(e.queryHash!==C3(a,e.options))return!1}else if(!P1(e.queryKey,a))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}o(XO,"matchQuery");function ZO(t,e){let{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Yd(e.options.mutationKey)!==Yd(s))return!1}else if(!P1(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}o(ZO,"matchMutation");function C3(t,e){return(e?.queryKeyHashFn||Yd)(t)}o(C3,"hashQueryKeyByOptions");function Yd(t){return JSON.stringify(t,(e,r)=>JK(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}o(Yd,"hashKey");function P1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>P1(t[r],e[r])):!1}o(P1,"partialMatchKey");var Bgt=Object.prototype.hasOwnProperty;function O2(t,e){if(t===e)return t;let r=O4e(t)&&O4e(e);if(!r&&!(JK(t)&&JK(e)))return e;let i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,c=r?new Array(a):{},l=0;for(let h=0;h<a;h++){let y=r?h:s[h],g=t[y],E=e[y];if(g===E){c[y]=g,(r?h<i:Bgt.call(t,y))&&l++;continue}if(g===null||E===null||typeof g!="object"||typeof E!="object"){c[y]=E;continue}let T=O2(g,E);c[y]=T,T===g&&l++}return i===a&&l===i?t:c}o(O2,"replaceEqualDeep");function Zm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}o(Zm,"shallowEqualObjects");function O4e(t){return Array.isArray(t)&&t.length===Object.keys(t).length}o(O4e,"isPlainArray");function JK(t){if(!M4e(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!M4e(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}o(JK,"isPlainObject");function M4e(t){return Object.prototype.toString.call(t)==="[object Object]"}o(M4e,"hasObjectPrototype");function C4e(t){return new Promise(e=>{Wd.setTimeout(e,t)})}o(C4e,"sleep");function k3(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(R.NODE_ENV!=="production")try{return O2(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return O2(t,e)}return e}o(k3,"replaceData");function k4e(t){return t}o(k4e,"keepPreviousData");function B4e(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}o(B4e,"addToEnd");function P4e(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}o(P4e,"addToStart");var Xm=Symbol();function JO(t,e){return R.NODE_ENV!=="production"&&t.queryFn===Xm&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Xm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}o(JO,"ensureQueryFn");function B3(t,e){return typeof t=="function"?t(...e):!!t}o(B3,"shouldThrowError");var Pgt=class extends Pc{static{o(this,"FocusManager")}#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Lc&&self.addEventListener){let e=o(()=>t(),"listener");return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},M2=new Pgt;p();m();p();m();function P3(){let t,e,r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return o(n,"finalize"),r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}o(P3,"pendingThenable");function L4e(t){let e;if(t.then(r=>(e=r,r),Zn)?.catch(Zn),e!==void 0)return{data:e}}o(L4e,"tryResolveSync");function D4e(t){return t}o(D4e,"defaultTransformerFn");function Lgt(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}o(Lgt,"dehydrateMutation");function Dgt(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(R.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}o(Dgt,"dehydrateQuery");function U4e(t){return t.state.isPaused}o(U4e,"defaultShouldDehydrateMutation");function F4e(t){return t.state.status==="success"}o(F4e,"defaultShouldDehydrateQuery");function Ugt(t){return!0}o(Ugt,"defaultShouldRedactErrors");function QO(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??U4e,n=t.getMutationCache().getAll().flatMap(l=>r(l)?[Lgt(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??F4e,s=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??Ugt,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??D4e,c=t.getQueryCache().getAll().flatMap(l=>i(l)?[Dgt(l,a,s)]:[]);return{mutations:n,queries:c}}o(QO,"dehydrate");function QK(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),s=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??D4e,a=e.mutations||[],c=e.queries||[];a.forEach(({state:l,...h})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...h},l)}),c.forEach(({queryKey:l,state:h,queryHash:y,meta:g,promise:E,dehydratedAt:T})=>{let O=E?L4e(E):void 0,M=h.data===void 0?O?.data:h.data,k=M===void 0?M:s(M),C=i.get(y),B=C?.state.status==="pending",N=C?.state.fetchStatus==="fetching";if(C){let P=O&&T!==void 0&&T>C.state.dataUpdatedAt;if(h.dataUpdatedAt>C.state.dataUpdatedAt||P){let{fetchStatus:H,...F}=h;C.setState({...F,data:k})}}else C=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:y,meta:g},{...h,data:k,fetchStatus:"idle",status:k!==void 0?"success":h.status});E&&!B&&!N&&(T===void 0||T>C.state.dataUpdatedAt)&&C.fetch(void 0,{initialPromise:Promise.resolve(E).then(s)})})}o(QK,"hydrate");p();m();p();m();p();m();var H4e=R4e;function Fgt(){let t=[],e=0,r=o(c=>{c()},"notifyFn"),n=o(c=>{c()},"batchNotifyFn"),i=H4e,s=o(c=>{e?t.push(c):i(()=>{r(c)})},"schedule"),a=o(()=>{let c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(l=>{r(l)})})})},"flush");return{batch:o(c=>{let l;e++;try{l=c()}finally{e--,e||a()}return l},"batch"),batchCalls:o(c=>(...l)=>{s(()=>{c(...l)})},"batchCalls"),schedule:s,setNotifyFunction:o(c=>{r=c},"setNotifyFunction"),setBatchNotifyFunction:o(c=>{n=c},"setBatchNotifyFunction"),setScheduler:o(c=>{i=c},"setScheduler")}}o(Fgt,"createNotifyManager");var Gr=Fgt();p();m();p();m();p();m();var Hgt=class extends Pc{static{o(this,"OnlineManager")}#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Lc&&self.addEventListener){let e=o(()=>t(!0),"onlineListener"),r=o(()=>t(!1),"offlineListener");return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},N2=new Hgt;function qgt(t){return Math.min(1e3*2**t,3e4)}o(qgt,"defaultRetryDelay");function e$(t){return(t??"online")==="online"?N2.isOnline():!0}o(e$,"canFetch");var eM=class extends Error{static{o(this,"CancelledError")}constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function tM(t){let e=!1,r=0,n,i=P3(),s=o(()=>i.status!=="pending","isResolved"),a=o(M=>{if(!s()){let k=new eM(M);E(k),t.onCancel?.(k)}},"cancel"),c=o(()=>{e=!0},"cancelRetry"),l=o(()=>{e=!1},"continueRetry"),h=o(()=>M2.isFocused()&&(t.networkMode==="always"||N2.isOnline())&&t.canRun(),"canContinue"),y=o(()=>e$(t.networkMode)&&t.canRun(),"canStart"),g=o(M=>{s()||(n?.(),i.resolve(M))},"resolve"),E=o(M=>{s()||(n?.(),i.reject(M))},"reject"),T=o(()=>new Promise(M=>{n=o(k=>{(s()||h())&&M(k)},"continueFn"),t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),"pause"),O=o(()=>{if(s())return;let M,k=r===0?t.initialPromise:void 0;try{M=k??t.fn()}catch(C){M=Promise.reject(C)}Promise.resolve(M).then(g).catch(C=>{if(s())return;let B=t.retry??(Lc?0:3),N=t.retryDelay??qgt,P=typeof N=="function"?N(r,C):N,H=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,C);if(e||!H){E(C);return}r++,t.onFail?.(r,C),C4e(P).then(()=>h()?void 0:T()).then(()=>{e?E(C):O()})})},"run");return{promise:i,status:o(()=>i.status,"status"),cancel:a,continue:o(()=>(n?.(),i),"continue"),cancelRetry:c,continueRetry:l,canStart:y,start:o(()=>(y()?O():T().then(O),i),"start")}}o(tM,"createRetryer");p();m();var rM=class{static{o(this,"Removable")}#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N3(this.gcTime)&&(this.#t=Wd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(Wd.clearTimeout(this.#t),this.#t=void 0)}};var V4e=class extends rM{static{o(this,"Query")}#t;#e;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=q4e(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=q4e(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=k3(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Dc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_l(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!YO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}R.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=o(c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:o(()=>(this.#a=!0,r.signal),"get")})},"addSignalProperty"),i=o(()=>{let c=JO(this.options,e),h=o(()=>{let y={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(y),y},"createQueryFnContext")();return this.#a=!1,this.options.persister?this.options.persister(c,h,this):c(h)},"fetchFn"),a=o(()=>{let c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(c),c},"createFetchContext")();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=tM({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o(c=>{c instanceof eM&&c.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},"onCancel"),onFail:o((c,l)=>{this.#o({type:"failed",failureCount:c,error:l})},"onFail"),onPause:o(()=>{this.#o({type:"pause"})},"onPause"),onContinue:o(()=>{this.#o({type:"continue"})},"onContinue"),retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:o(()=>!0,"canRun")});try{let c=await this.#i.start();if(c===void 0)throw R.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof eM){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#o({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#o(t){let e=o(r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...t$(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}},"reducer");this.state=e(this.state),Gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function t$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}o(t$,"fetchState");function q4e(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}o(q4e,"getDefaultState");var Xd=class extends Pc{static{o(this,"QueryObserver")}constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=P3(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#u;#l;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),j4e(this.#e,this.options)?this.#p():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return r$(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return r$(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#_(),this.#e.removeObserver(this)}setOptions(t){let e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Dc(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!Zm(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let n=this.hasListeners();n&&z4e(this.#e,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#e!==r||Dc(this.options.enabled,this.#e)!==Dc(e.enabled,this.#e)||_l(this.options.staleTime,this.#e)!==_l(e.staleTime,this.#e))&&this.#g();let i=this.#y();n&&(this.#e!==r||Dc(this.options.enabled,this.#e)!==Dc(e.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return jgt(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:o((r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n)),"get")})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Zn)),e}#g(){this.#v();let t=_l(this.options.staleTime,this.#e);if(Lc||this.#n.isStale||!N3(t))return;let r=YO(this.#n.dataUpdatedAt,t)+1;this.#u=Wd.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#_(),this.#f=t,!(Lc||Dc(this.options.enabled,this.#e)===!1||!N3(this.#f)||this.#f===0)&&(this.#l=Wd.setInterval(()=>{(this.options.refetchIntervalInBackground||M2.isFocused())&&this.#p()},this.#f))}#x(){this.#g(),this.#b(this.#y())}#v(){this.#u&&(Wd.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#l&&(Wd.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#e,n=this.options,i=this.#n,s=this.#i,a=this.#s,l=t!==r?t.state:this.#r,{state:h}=t,y={...h},g=!1,E;if(e._optimisticResults){let W=this.hasListeners(),X=!W&&j4e(t,e),S=W&&z4e(t,r,e,n);(X||S)&&(y={...y,...t$(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:T,errorUpdatedAt:O,status:M}=y;E=y.data;let k=!1;if(e.placeholderData!==void 0&&E===void 0&&M==="pending"){let W;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(W=i.data,k=!0):W=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,W!==void 0&&(M="success",E=k3(i?.data,W,e),g=!0)}if(e.select&&E!==void 0&&!k)if(i&&E===s?.data&&e.select===this.#c)E=this.#d;else try{this.#c=e.select,E=e.select(E),E=k3(i?.data,E,e),this.#d=E,this.#o=null}catch(W){this.#o=W}this.#o&&(T=this.#o,E=this.#d,O=Date.now(),M="error");let C=y.fetchStatus==="fetching",B=M==="pending",N=M==="error",P=B&&C,H=E!==void 0,Z={status:M,fetchStatus:y.fetchStatus,isPending:B,isSuccess:M==="success",isError:N,isInitialLoading:P,isLoading:P,data:E,dataUpdatedAt:y.dataUpdatedAt,error:T,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>l.dataUpdateCount||y.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!B,isLoadingError:N&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:N&&H,isStale:n$(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Dc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let W=o(f=>{Z.status==="error"?f.reject(Z.error):Z.data!==void 0&&f.resolve(Z.data)},"finalizeThenableIfPossible"),X=o(()=>{let f=this.#a=Z.promise=P3();W(f)},"recreateThenable"),S=this.#a;switch(S.status){case"pending":t.queryHash===r.queryHash&&W(S);break;case"fulfilled":(Z.status==="error"||Z.data!==S.value)&&X();break;case"rejected":(Z.status!=="error"||Z.error!==S.reason)&&X();break}}return Z}updateResult(){let t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Zm(e,t))return;this.#n=e;let r=o(()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(a=>{let c=a;return this.#n[c]!==t[c]&&s.has(c)})},"shouldNotifyListeners");this.#E({listeners:r()})}#w(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;let e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#E(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Vgt(t,e){return Dc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}o(Vgt,"shouldLoadOnMount");function j4e(t,e){return Vgt(t,e)||t.state.data!==void 0&&r$(t,e,e.refetchOnMount)}o(j4e,"shouldFetchOnMount");function r$(t,e,r){if(Dc(e.enabled,t)!==!1&&_l(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&n$(t,e)}return!1}o(r$,"shouldFetchOn");function z4e(t,e,r,n){return(t!==e||Dc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&n$(t,r)}o(z4e,"shouldFetchOptionally");function n$(t,e){return Dc(e.enabled,t)!==!1&&t.isStaleByTime(_l(e.staleTime,t))}o(n$,"isStale");function jgt(t,e){return!Zm(t.getCurrentResult(),e)}o(jgt,"shouldAssignObserverCurrentProperties");p();m();function C2(t){return{onFetch:o((e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],c={pages:[],pageParams:[]},l=0,h=o(async()=>{let y=!1,g=o(O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:o(()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal),"get")})},"addSignalProperty"),E=JO(e.options,e.fetchOptions),T=o(async(O,M,k)=>{if(y)return Promise.reject();if(M==null&&O.pages.length)return Promise.resolve(O);let B=o(()=>{let F={client:e.client,queryKey:e.queryKey,pageParam:M,direction:k?"backward":"forward",meta:e.options.meta};return g(F),F},"createQueryFnContext")(),N=await E(B),{maxPages:P}=e.options,H=k?P4e:B4e;return{pages:H(O.pages,N,P),pageParams:H(O.pageParams,M,P)}},"fetchPage");if(i&&s.length){let O=i==="backward",M=O?K4e:i$,k={pages:s,pageParams:a},C=M(n,k);c=await T(k,C,O)}else{let O=t??s.length;do{let M=l===0?a[0]??n.initialPageParam:i$(n,c);if(l>0&&M==null)break;c=await T(c,M),l++}while(l<O)}return c},"fetchFn");e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h},"onFetch")}}o(C2,"infiniteQueryBehavior");function i$(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}o(i$,"getNextPageParam");function K4e(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}o(K4e,"getPreviousPageParam");function $4e(t,e){return e?i$(t,e)!=null:!1}o($4e,"hasNextPage");function G4e(t,e){return!e||!t.getPreviousPageParam?!1:K4e(t,e)!=null}o(G4e,"hasPreviousPage");var o$=class extends Xd{static{o(this,"InfiniteQueryObserver")}constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:C2()})}getOptimisticResult(t){return t.behavior=C2(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:a,isRefetchError:c}=n,l=r.fetchMeta?.fetchMore?.direction,h=a&&l==="forward",y=i&&l==="forward",g=a&&l==="backward",E=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:$4e(e,r.data),hasPreviousPage:G4e(e,r.data),isFetchNextPageError:h,isFetchingNextPage:y,isFetchPreviousPageError:g,isFetchingPreviousPage:E,isRefetchError:c&&!h&&!g,isRefetching:s&&!y&&!E}}};p();m();p();m();var W4e=class extends rM{static{o(this,"Mutation")}#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||s$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=o(()=>{this.#n({type:"continue"})},"onContinue");this.#r=tM({fn:o(()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),"fn"),onFail:o((i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},"onFail"),onPause:o(()=>{this.#n({type:"pause"})},"onPause"),onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:o(()=>this.#e.canRun(this),"canRun")});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){let e=o(r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}},"reducer");this.state=e(this.state),Gr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function s$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}o(s$,"getDefaultState");var Y4e=class extends Pc{static{o(this,"MutationCache")}constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){let n=new W4e({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);let e=nM(t);if(typeof e=="string"){let r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){let e=nM(t);if(typeof e=="string"){let r=this.#e.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=nM(t);if(typeof e=="string"){let n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=nM(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>ZO(e,r))}findAll(t={}){return this.getAll().filter(e=>ZO(t,e))}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return Gr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Zn))))}};function nM(t){return t.options.scope?.id}o(nM,"scopeFor");p();m();var a$=class extends Pc{static{o(this,"MutationObserver")}#t;#e=void 0;#r;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),Zm(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&Yd(e.mutationKey)!==Yd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??s$();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){Gr.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#e)})})}};p();m();function X4e(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}o(X4e,"difference");function zgt(t,e,r){let n=t.slice(0);return n[e]=r,n}o(zgt,"replaceAt");var c$=class extends Pc{static{o(this,"QueriesObserver")}#t;#e;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#t=t,this.#n=r,this.#r=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,R.NODE_ENV!=="production"){let r=t.map(n=>this.#t.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}Gr.batch(()=>{let r=this.#i,n=this.#u(this.#r);this.#c=n,n.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));let i=n.map(l=>l.observer),s=i.map(l=>l.getCurrentResult()),a=i.some((l,h)=>l!==r[h]),c=r.length===i.length&&!a?s.some((l,h)=>{let y=this.#e[h];return!y||!Zm(l,y)}):!0;!a&&!c||(a&&(this.#i=i),this.#e=s,this.hasListeners()&&(a&&(X4e(r,i).forEach(l=>{l.destroy()}),X4e(i,r).forEach(l=>{l.subscribe(h=>{this.#l(l,h)})})),this.#f()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#u(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,s=>{e.forEach(a=>{a.observer.trackProp(s)})})})}#h(t,e){return e?((!this.#s||this.#e!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#e,this.#s=O2(this.#s,e(t))),this.#s):t}#u(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#t.defaultQueryOptions(n),s=e.get(i.queryHash);s?r.push({defaultedQueryOptions:i,observer:s}):r.push({defaultedQueryOptions:i,observer:new Xd(this.#t,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#e=zgt(this.#e,r,e),this.#f())}#f(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#e,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&Gr.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}};p();m();var Z4e=class extends Pc{static{o(this,"QueryCache")}constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,i=e.queryHash??C3(n,e),s=this.get(i);return s||(s=new V4e({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>XO(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>XO(t,r)):e}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};p();m();var J4e=class{static{o(this,"QueryClient")}#t;#e;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new Z4e,this.#e=t.mutationCache||new Y4e,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=M2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=N2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(_l(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,a=N4e(e,s);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Gr.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){let e=this.#t;Gr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t;return Gr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=Gr.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Zn).catch(Zn)}invalidateQueries(t,e={}){return Gr.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=Gr.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Zn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(_l(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=C2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}ensureInfiniteQueryData(t){return t.behavior=C2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return N2.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Yd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{P1(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Yd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{P1(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=C3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};p();m();var Zd=We(Sn(),1);p();m();var k2=We(Sn(),1),Q4e=We(Og(),1);var f$=k2.createContext(void 0),Jm=o(t=>{let e=k2.useContext(f$);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},"useQueryClient"),iM=o(({client:t,children:e})=>(k2.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,Q4e.jsx)(f$.Provider,{value:t,children:e})),"QueryClientProvider");p();m();var oM=We(Sn(),1);var e8e=oM.createContext(!1),L3=o(()=>oM.useContext(e8e),"useIsRestoring"),u$=e8e.Provider;p();m();var D3=We(Sn(),1),Kgt=We(Og(),1);function $gt(){let t=!1;return{clearReset:o(()=>{t=!1},"clearReset"),reset:o(()=>{t=!0},"reset"),isReset:o(()=>t,"isReset")}}o($gt,"createValue");var Ggt=D3.createContext($gt()),sM=o(()=>D3.useContext(Ggt),"useQueryErrorResetBoundary");p();m();var t8e=We(Sn(),1);var aM=o((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},"ensurePreventErrorBoundaryRetry"),cM=o(t=>{t8e.useEffect(()=>{t.clearReset()},[t])},"useClearResetErrorBoundary"),fM=o(({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||B3(r,[t.error,n])),"getHasError");p();m();var uM=o(t=>{if(t.suspense){let r=o(i=>i==="static"?i:Math.max(i??1e3,1e3),"clamp"),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},"ensureSuspenseTimers"),lM=o((t,e)=>t.isLoading&&t.isFetching&&!e,"willFetch"),U3=o((t,e)=>t?.suspense&&e.isPending,"shouldSuspend"),B2=o((t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()}),"fetchOptimistic");function r8e({queries:t,...e},r){let n=Jm(r),i=L3(),s=sM(),a=Zd.useMemo(()=>t.map(M=>{let k=n.defaultQueryOptions(M);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[t,n,i]);a.forEach(M=>{uM(M),aM(M,s)}),cM(s);let[c]=Zd.useState(()=>new c$(n,a,e)),[l,h,y]=c.getOptimisticResult(a,e.combine),g=!i&&e.subscribed!==!1;Zd.useSyncExternalStore(Zd.useCallback(M=>g?c.subscribe(Gr.batchCalls(M)):Zn,[c,g]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Zd.useEffect(()=>{c.setQueries(a,e)},[a,e,c]);let T=l.some((M,k)=>U3(a[k],M))?l.flatMap((M,k)=>{let C=a[k];if(C){let B=new Xd(n,C);if(U3(C,M))return B2(C,B,s);lM(M,i)&&B2(C,B,s)}return[]}):[];if(T.length>0)throw Promise.all(T);let O=l.find((M,k)=>{let C=a[k];return C&&fM({result:M,errorResetBoundary:s,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(O?.error)throw O.error;return h(y())}o(r8e,"useQueries");p();m();p();m();var Qm=We(Sn(),1);function dM(t,e,r){if(R.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=L3(),i=sM(),s=Jm(r),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),R.NODE_ENV!=="production"&&(a.queryFn||console.error(`[${a.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),a._optimisticResults=n?"isRestoring":"optimistic",uM(a),aM(a,i),cM(i);let c=!s.getQueryCache().get(a.queryHash),[l]=Qm.useState(()=>new e(s,a)),h=l.getOptimisticResult(a),y=!n&&t.subscribed!==!1;if(Qm.useSyncExternalStore(Qm.useCallback(g=>{let E=y?l.subscribe(Gr.batchCalls(g)):Zn;return l.updateResult(),E},[l,y]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Qm.useEffect(()=>{l.setOptions(a)},[a,l]),U3(a,h))throw B2(a,l,i);if(fM({result:h,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!Lc&&lM(h,n)&&(c?B2(a,l,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Zn).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?h:l.trackResult(h)}o(dM,"useBaseQuery");function l$(t,e){return dM(t,Xd,e)}o(l$,"useQuery");p();m();var v0=We(Sn(),1);function n8e(t,e){let r=Jm(e),[n]=v0.useState(()=>new a$(r,t));v0.useEffect(()=>{n.setOptions(t)},[n,t]);let i=v0.useSyncExternalStore(v0.useCallback(a=>n.subscribe(Gr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=v0.useCallback((a,c)=>{n.mutate(a,c).catch(Zn)},[n]);if(i.error&&B3(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}o(n8e,"useMutation");p();m();function i8e(t,e){return dM(t,o$,e)}o(i8e,"useInfiniteQuery");p();m();var Wgt=["added","removed","updated"];function o8e(t){return Wgt.includes(t)}o(o8e,"isCacheEventType");async function a8e({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let s=await e.restoreClient();if(s)if(s.timestamp){let a=Date.now()-s.timestamp>r,c=s.buster!==n;if(a||c)return e.removeClient();QK(t,s.clientState,i)}else return e.removeClient()}catch(s){throw R.NODE_ENV!=="production"&&(console.error(s),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),s}}o(a8e,"persistQueryClientRestore");async function s8e({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:QO(t,n)};await e.persistClient(i)}o(s8e,"persistQueryClientSave");function c8e(t){let e=t.queryClient.getQueryCache().subscribe(n=>{o8e(n.type)&&s8e(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{o8e(n.type)&&s8e(t)});return()=>{e(),r()}}o(c8e,"persistQueryClientSubscribe");p();m();var eg=We(Sn(),1);var d$=We(Og(),1);var Ygt=o(({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[s,a]=eg.useState(!0),c=eg.useRef({persistOptions:e,onSuccess:r,onError:n}),l=eg.useRef(!1);return eg.useEffect(()=>{c.current={persistOptions:e,onSuccess:r,onError:n}}),eg.useEffect(()=>{let h={...c.current.persistOptions,queryClient:i.client};return l.current||(l.current=!0,a8e(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{a(!1)})),s?void 0:c8e(h)},[i.client,s]),(0,d$.jsx)(iM,{...i,children:(0,d$.jsx)(u$,{value:s,children:t})})},"PersistQueryClientProvider");p();m();p();m();var Xgt=We(Og(),1),hM=We(Sn(),1);var Zgt=hM.default.createContext(!1);function f8e(){return(0,hM.useContext)(Zgt)}o(f8e,"useIsInert");var u8e=We(Sn());function h$(t,e){let r=f8e(),n=(0,u8e.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,s=t?.enabled===!1;if(i&&!s)return{...t,refetchInterval:!1}}return t},[r,t]);return l$(n,e)}o(h$,"useQuery");p();m();var l8e="__STORAGE_RESET_KEY__",d8e=[Hi.AuthEnabled,Hi.BalanceHiddenStatus,Hi.BuyFormValues,Hi.CustomGasControls,Hi.DappBrowserBookmarks,Hi.DeviceId,Hi.LatestCleanedStorageVersion,Hi.LockTimerMs,Hi.MaxWalletIndex,Hi.OnboardingDone,Hi.OwnerToHiddenMints,Hi.PendingTransactions,Hi.PriceMap,Hi.UserExplorerPreferenceV2,Hi.UserRecentAddresses,Hi.UserSavedAddresses,Hi.UserTrustedApps,Hi.UserWhitelistSubdomains,Hi.UserWhitelistedOrigins];var Jgt="Error processing storage data",Qgt="Error getting storage data",eyt=["export-storage"],tyt=o((t,e)=>{let r=[...d8e,...e];return h$({queryKey:eyt,queryFn:o(()=>ryt(t,r),"queryFn"),gcTime:0,staleTime:0})},"useStorageExport"),ryt=o(async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let s=await i.getAll();r[n]=nyt(s,e)}return r}catch(r){throw new Error(`${Qgt}: ${JSON.stringify(r)}`)}},"getStorageExport"),nyt=o((t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${Jgt}: ${JSON.stringify(r)}`)}},"cleanUpStorageData");p();m();var P2=class{static{o(this,"StorageNotifierCache")}notifierCache=new Map;constructor(e){this.storage=e,e.subscribe(r=>{r===l8e?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}getNotifier(e){let r=this.notifierCache.get(e);return r||(r=w1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},h8e=new WeakMap,F3=o(()=>{let t=A4e(),e=h8e.get(t);return e===void 0&&(e=new P2(t),h8e.set(t,e)),e},"useStorageSignalProxy");var iyt=vi(t=>F3().get(t));var oyt=vi(t=>{let e=F3();return WS(function*(r){return e.set(t,r)})});p();m();p();m();p();m();p();m();p();m();var v$=We(Mu()),y8e=We(Yh());p();m();p();m();p();m();var syt=o((t,e,r)=>t&e^~t&r,"Chi"),ayt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),cyt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rg=new Uint32Array(64),pM=class extends Sx{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=tg[0]|0,this.B=tg[1]|0,this.C=tg[2]|0,this.D=tg[3]|0,this.E=tg[4]|0,this.F=tg[5]|0,this.G=tg[6]|0,this.H=tg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)rg[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=rg[g-15],T=rg[g-2],O=Ku(E,7)^Ku(E,18)^E>>>3,M=Ku(T,17)^Ku(T,19)^T>>>10;rg[g]=M+rg[g-7]+O+rg[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=Ku(c,6)^Ku(c,11)^Ku(c,25),T=y+E+syt(c,l,h)+cyt[g]+rg[g]|0,M=(Ku(n,2)^Ku(n,13)^Ku(n,22))+ayt(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){rg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},p$=class extends pM{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},m$=Xl(()=>new pM),Gqr=Xl(()=>new p$);p();m();function fyt(t,e,r,n){Un.hash(t);let i=N8({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:c}=i;if(Un.number(s),Un.number(a),Un.number(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=$u(e),h=$u(r),y=new Uint8Array(a),g=Th.create(t,l),E=g._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:c,DK:y,PRF:g,PRFSalt:E}}o(fyt,"pbkdf2Init");function uyt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(uyt,"pbkdf2Output");function g$(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:c,PRFSalt:l}=fyt(t,e,r,n),h,y=new Uint8Array(4),g=Ex(y),E=new Uint8Array(c.outputLen);for(let T=1,O=0;O<s;T++,O+=c.outputLen){let M=a.subarray(O,O+c.outputLen);g.setInt32(0,T,!1),(h=l._cloneInto(h)).update(y).digestInto(E),M.set(E.subarray(0,M.length));for(let k=1;k<i;k++){c._cloneInto(h).update(E).digestInto(E);for(let C=0;C<M.length;C++)M[C]^=E[C]}}return uyt(c,l,a,h,E)}o(g$,"pbkdf2");var yn=o((t,e)=>t<<e|t>>>32-e,"rotl");function p8e(t,e,r,n,i,s){let a=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],h=t[e++]^r[n++],y=t[e++]^r[n++],g=t[e++]^r[n++],E=t[e++]^r[n++],T=t[e++]^r[n++],O=t[e++]^r[n++],M=t[e++]^r[n++],k=t[e++]^r[n++],C=t[e++]^r[n++],B=t[e++]^r[n++],N=t[e++]^r[n++],P=t[e++]^r[n++],H=t[e++]^r[n++],F=a,Z=c,W=l,X=h,S=y,f=g,d=E,b=T,x=O,_=M,A=k,I=C,v=B,u=N,w=P,V=H;for(let q=0;q<8;q+=2)S^=yn(F+v|0,7),x^=yn(S+F|0,9),v^=yn(x+S|0,13),F^=yn(v+x|0,18),_^=yn(f+Z|0,7),u^=yn(_+f|0,9),Z^=yn(u+_|0,13),f^=yn(Z+u|0,18),w^=yn(A+d|0,7),W^=yn(w+A|0,9),d^=yn(W+w|0,13),A^=yn(d+W|0,18),X^=yn(V+I|0,7),b^=yn(X+V|0,9),I^=yn(b+X|0,13),V^=yn(I+b|0,18),Z^=yn(F+X|0,7),W^=yn(Z+F|0,9),X^=yn(W+Z|0,13),F^=yn(X+W|0,18),d^=yn(f+S|0,7),b^=yn(d+f|0,9),S^=yn(b+d|0,13),f^=yn(S+b|0,18),I^=yn(A+_|0,7),x^=yn(I+A|0,9),_^=yn(x+I|0,13),A^=yn(_+x|0,18),v^=yn(V+w|0,7),u^=yn(v+V|0,9),w^=yn(u+v|0,13),V^=yn(w+u|0,18);i[s++]=a+F|0,i[s++]=c+Z|0,i[s++]=l+W|0,i[s++]=h+X|0,i[s++]=y+S|0,i[s++]=g+f|0,i[s++]=E+d|0,i[s++]=T+b|0,i[s++]=O+x|0,i[s++]=M+_|0,i[s++]=k+A|0,i[s++]=C+I|0,i[s++]=B+v|0,i[s++]=N+u|0,i[s++]=P+w|0,i[s++]=H+V|0}o(p8e,"XorAndSalsa");function y$(t,e,r,n,i){let s=n+0,a=n+16*i;for(let c=0;c<16;c++)r[a+c]=t[e+(2*i-1)*16+c];for(let c=0;c<i;c++,s+=16,e+=16)p8e(r,a,t,e,r,s),c>0&&(a+=16),p8e(r,s,t,e+=16,r,a)}o(y$,"BlockMix");function lyt(t,e,r){let n=N8({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:a,dkLen:c,asyncTick:l,maxmem:h,onProgress:y}=n;if(Un.number(i),Un.number(s),Un.number(a),Un.number(c),Un.number(l),Un.number(h),y!==void 0&&typeof y!="function")throw new Error("progressCb should be function");let g=128*s,E=g/4;if(i<=1||i&i-1||i>=2**(g/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/g)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let T=g*(i+a);if(T>h)throw new Error(`Scrypt: parameters too large, ${T} (128 * r * (N + p)) > ${h} (maxmem)`);let O=g$(m$,t,e,{c:1,dkLen:g*a}),M=wx(O),k=wx(new Uint8Array(g*i)),C=wx(new Uint8Array(g)),B=o(()=>{},"blockMixCb");if(y){let N=2*i*a,P=Math.max(Math.floor(N/1e4),1),H=0;B=o(()=>{H++,y&&(!(H%P)||H===N)&&y(H/N)},"blockMixCb")}return{N:i,r:s,p:a,dkLen:c,blockSize32:E,V:k,B32:M,B:O,tmp:C,blockMixCb:B,asyncTick:l}}o(lyt,"scryptInit");function dyt(t,e,r,n,i){let s=g$(m$,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),s}o(dyt,"scryptOutput");async function m8e(t,e,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:c,V:l,B32:h,B:y,tmp:g,blockMixCb:E,asyncTick:T}=lyt(t,e,r);for(let O=0;O<s;O++){let M=c*O;for(let C=0;C<c;C++)l[C]=h[M+C];let k=0;await M8(n-1,T,C=>{y$(l,k,l,k+=c,i),E()}),y$(l,(n-1)*c,h,M,i),E(),await M8(n,T,C=>{let B=h[M+c-16]%n;for(let N=0;N<c;N++)g[N]=h[M+N]^l[B*c+N];y$(g,0,h,M,i),E()})}return dyt(t,a,y,l,g)}o(m8e,"scryptAsync");var b$=We(Mu()),g8e=We(y4()),x$=We(Yh());var mM=o(async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await m8e(t,b$.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:x$.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,g8e.pbkdf2)(t,b$.default.decode(e.salt),e.iterations,x$.secretbox.keyLength,e.digest,(i,s)=>i?n(i):r(s)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)},"deriveEncryptionKeyAsync");var _$=o(async(t,e)=>{let r=y8e.secretbox.open(v$.default.decode(t.encrypted),v$.default.decode(t.nonce),await mM(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r},"openSecretBoxAsync");async function L2(t,e){try{return await _$(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await _$(t,n);return i&&rr.addBreadcrumb(Je.Storage,"DecryptEncryptedText: Legacy decryption successful \u2705",Tt.Info),i}}o(L2,"decryptEncryptedTextAsync");p();m();var H3=We(Mu()),D2=We(Yh());var U2=o(async(t,e)=>{let r={kdf:"scrypt",salt:H3.default.encode((0,D2.randomBytes)(16)),nonce:H3.default.encode((0,D2.randomBytes)(D2.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await mM(e,r),i=(0,D2.secretbox)(t,H3.default.decode(r.nonce),n);return{...r,encrypted:H3.default.encode(i)}},"generateEncryptedText");p();m();async function gM(t,e){return U2(Buffer.from(t),e)}o(gM,"generateEncryptedTextAsync");p();m();var w$=be.object({encrypted:be.string(),nonce:be.string(),kdf:be.string(),salt:be.string(),iterations:be.number(),digest:be.string()});var b8e=be.object({version:be.literal(1),content:w$}),Uc;(function(t){t.Plain="plain",t.Secure="secure"})(Uc||(Uc={}));var E$=class{static{o(this,"EncryptedStorage")}storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:Uc.Plain},r)}static fromSecureStorage(e,r){return new this({store:e,type:Uc.Secure},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),s={};for(let[a,c]of Object.entries(i)){let l=await this.encrypt(c,r);s[a]=l}return n(s,e)})}async getSecureValue(e){let r;switch(this.storage.type){case Uc.Plain:{r=await this.storage.store.get(e);break}case Uc.Secure:{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case Uc.Plain:{n=await this.storage.store.getAll(e);break}case Uc.Secure:{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,s]of Object.entries(n)){let a=b8e.safeParse(s);if(a.success){let c=await this.decrypt(a.data);r[i]=c}}return r}async removeSecureValue(e){switch(this.storage.type){case Uc.Plain:{await this.storage.store.remove(e);break}case Uc.Secure:{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case Uc.Plain:{await this.storage.store.set(e,n);break}case Uc.Secure:{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let s=await this.encrypt(i);r[n]=s}switch(this.storage.type){case Uc.Plain:{await this.storage.store.setAll(r);break}case Uc.Secure:{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(a=>gM(n,a))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>L2(e.content,i));return JSON.parse(Buffer.from(n).toString())}};p();m();var x8e=We(Yh());var V3=class extends Error{static{o(this,"StorageEncryptionKeyErrorMissingPassword")}message="Failed to get the encryption password"},yM=class extends Error{static{o(this,"StorageEncryptionKeyErrorPasswordNeverSet")}message="Failed to update password that has never been set"},S$=class extends Error{static{o(this,"StorageEncryptionKeyErrorInvalidPassword")}message="Failed to decrypt using the password"},q3=".phantom-labs.encryption.encryptionKey",A$=class{static{o(this,"MiddleEncryptionKeyManager")}tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Yf.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Yf.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Yf.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=o(async s=>await this.encrypt(s,r),"encryptionCallback"),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new V3;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new yM;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new V3;if(!await this.fetchAndDecryptExistingKey())throw new yM;let i=Yf.from(this.randomEncryptionKey());return e(i,async(s,a)=>{let c=a??r,l=await i.foldAsync(h=>this.encrypt(h,c));return await this.saveExistingKey(l,s),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(rr.addBreadcrumb(Je.Storage,"Failed to get existing encryption key!",Tt.Info),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return rr.addBreadcrumb(Je.Storage,"Failed to get existing encryption key!",Tt.Info),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new V3;return e}async fetchExistingKey(){return this.deps.storage.get(q3)}async saveExistingKey(e,r){if(r){let n={...r,[q3]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(q3,e)}async deleteExistingKey(){return this.deps.storage.remove(q3)}randomEncryptionKey(){return(0,x8e.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>U2(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>L2(e.encryptedKey,n)).catch(()=>{throw new S$})}};p();m();p();m();p();m();p();m();p();m();var v8e=null;function hyt(t){v8e=t}o(hyt,"registerRequestAnonymousId");function _8e(){return v8e}o(_8e,"getCachedAnonymousId");function w8e(t){let e=_8e();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}o(w8e,"withAnonymousId");p();m();var T$=null;function pyt(t){T$=t}o(pyt,"registerFetchBearerToken");async function L1(t){if(!T$)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return T$(t)}o(L1,"getBearerToken");p();m();p();m();function E8e(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}o(E8e,"mergeSignals");var myt=2*60*1e3,gyt=[];async function S8e(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:s,...a}=e||{},c=e?.fetchTimeout??myt,l=e?.retryDelays??gyt,h=0,y=0,g=a;return new Promise((E,T)=>{function O(){h++,y=Date.now();let C=!0,B=new AbortController,N=fetch(t,{...g,signal:E8e(...a.signal?[a.signal,B.signal]:[B.signal])}),P=setTimeout(()=>{B.abort(),C=!1,k(h)?M():T(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${c} ms, tried ${h} times.`))},c);N.then(H=>{clearTimeout(P),C&&(H.status>=200&&H.status<300?E(H):k(h,H.status)?H.status===401&&i&&s?s(g).then(F=>{g=F,M()}).catch(F=>{T(F)}):M():E(H))}).catch(H=>{clearTimeout(P),k(h)?M():T(H)})}o(O,"sendTimedRequest");function M(){let C=l[h-1],B=y+C;setTimeout(O,Math.max(B-Date.now(),0))}o(M,"retryRequest");function k(C,B){if(B===401&&i)return C<=l.length;let N=B?B>=400&&B<=499:!1;return C<=l.length&&!N}o(k,"shouldRetry"),O()})}o(S8e,"fetchWithTimeoutAndRetry");p();m();var I$=null;function A8e(t){I$=t}o(A8e,"registerHttpErrorCallback");function T8e(t){if(I$)try{I$(t)}catch(e){console.error("[httpErrorReporting] callback failed",e)}}o(T8e,"notifyHttpError");function yyt(t){A8e(({status:e,path:r,method:n,responseType:i})=>{let s=t.getSampleRate();s<=0||Math.random()>s||t.addBreadcrumb("network","http.error_response","info",{status:String(e),path:r,method:n,responseType:i})})}o(yyt,"setupHttpErrorReporting");p();m();var j3=o((t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,s]of n.entries())s===void 0||s==="undefined"?r.delete(i):r.set(i,s);return r},"mergeHeaders");p();m();var q2=We(li(),1);p();m();p();m();function I8e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(I8e,"number");function R$(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(R$,"bytes");function R8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");I8e(t.outputLen),I8e(t.blockLen)}o(R8e,"hash");function F2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(F2,"exists");function O8e(t,e){R$(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(O8e,"output");p();m();var byt=o(t=>t instanceof Uint8Array,"u8a");var bM=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),wl=o((t,e)=>t<<32-e|t>>>e,"rotr"),xyt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xyt)throw new Error("Non little-endian hardware is not supported");function vyt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(vyt,"utf8ToBytes");function z3(t){if(typeof t=="string"&&(t=vyt(t)),!byt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(z3,"toBytes");var H2=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},Jjr={}.toString;function M8e(t){let e=o(n=>t().update(z3(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(M8e,"wrapConstructor");var xM=class extends H2{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,R8e(e);let n=z3(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return F2(this),this.iHash.update(e),this}digestInto(e){F2(this),R$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},O$=o((t,e,r)=>new xM(t,e).update(r).digest(),"hmac");O$.create=(t,e)=>new xM(t,e);p();m();p();m();function _yt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(_yt,"setBigUint64");var vM=class extends H2{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bM(this.buffer)}update(e){F2(this);let{view:r,buffer:n,blockLen:i}=this;e=z3(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=bM(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){F2(this),O8e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;_yt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=bM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var wyt=o((t,e,r)=>t&e^~t&r,"Chi"),Eyt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Syt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ng=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ig=new Uint32Array(64),M$=class extends vM{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=ng[0]|0,this.B=ng[1]|0,this.C=ng[2]|0,this.D=ng[3]|0,this.E=ng[4]|0,this.F=ng[5]|0,this.G=ng[6]|0,this.H=ng[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)ig[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=ig[g-15],T=ig[g-2],O=wl(E,7)^wl(E,18)^E>>>3,M=wl(T,17)^wl(T,19)^T>>>10;ig[g]=M+ig[g-7]+O+ig[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=wl(c,6)^wl(c,11)^wl(c,25),T=y+E+wyt(c,l,h)+Syt[g]+ig[g]|0,M=(wl(n,2)^wl(n,13)^wl(n,22))+Eyt(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){ig.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var N8e=M8e(()=>new M$);var Ayt=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],Tyt=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],Iyt=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function Ryt(t){let e=new URL(t);return e.pathname+e.search}o(Ryt,"getPathAndQuery");function N$(t,e){let r=Ryt(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,s=O$(N8e,q2.Buffer.from(String.fromCharCode(...Ayt)),q2.Buffer.from(i)),a=new Headers(e);return a.set(q2.Buffer.from(String.fromCharCode(...Tyt),"base64").toString(),encodeURIComponent(q2.Buffer.from(s).toString("base64"))),a.set(q2.Buffer.from(String.fromCharCode(...Iyt),"base64").toString(),n),a}o(N$,"withAuthHeaders");var j2=class extends Error{static{o(this,"RequestBuilderError")}constructor(e,r){super(e),this.response=r}response},Oyt={"X-Phantom-Version":O_,"X-Phantom-Platform":oZ};function Myt(t){return t===new URL(pb.Production).hostname||t===new URL(pb.Staging).hostname||t===new URL(sk.prod).hostname||t===new URL(sk.staging).hostname?!0:t.endsWith(".phantom.app")}o(Myt,"isPhantomDomain");var V2=o(async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},"makeResponse"),_M=class t{static{o(this,"RequestBuilder")}config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:Oyt,withApiEnvironment:"none",fetchBearerToken:void 0,...e}}fetch=o(async(e,r={})=>{try{if(typeof e=="function"){let h=ak()===pb.Production?"prod":"staging";e=e({apiEnv:h})}let n="";this.config.withApiEnvironment==="prod"?n=pb.Production:this.config.withApiEnvironment==="staging"?n=pb.Staging:this.config.withApiEnvironment==="default"?n=ak():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=j3(this.config.headers,r.headers),r.headers=w8e(r.headers),this.config.withClientAuth&&(r.headers=N$(i.toString(),r.headers));let s={...r,onAuthRetry:o(async h=>{let y=await L1({refresh:!0});if(y){let g=new Headers(h.headers);return g.set("authorization",`Bearer ${y}`),{...h,headers:g}}return h},"onAuthRetry")},{validateStatus:a}=this.config;if(r?.validateStatus!==void 0&&(a=r?.validateStatus),s.body&&typeof s.body!="string"){s.body=JSON.stringify(s.body);let h=new Headers(s.headers);h.has("Content-Type")||(h.set("Content-Type","application/json"),s.headers=h)}this.config.timeoutMs&&(s.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(s.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs));let c=this.config.fetchBearerToken;if(c===void 0){let h=this.config.withApiEnvironment!=="none";c=Myt(i.hostname)||h}if(c){let h=await L1({skipAutoLogin:!0});h&&(s.retryOnAuthTokenExpiration=!0,s.headers=j3(s.headers,{authorization:`Bearer ${h}`}))}let l=await S8e(i.toString(),s);if(l.status>=400){let y=(l.headers.get("content-type")?.toLowerCase()??"").includes("text/html")?"html":"json",g=i.pathname;T8e({status:l.status,path:g,method:s.method||"GET",responseType:y})}if(a&&!l.ok)throw new j2(`Request failed with status code ${l.status}`,await V2(l));return l}catch(n){throw n instanceof j2?n:new j2(n?.message,n?.response)}},"fetch");auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}noBearer(){return new t({...this.config,fetchBearerToken:!1})}headers(e,r){let n=r?.mergeHeaders===!1?e:j3(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return V2(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return V2(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return V2(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return V2(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return V2(i)}},Jd=new _M;function Nyt(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},s=(await Jd.post(t,n)).data;if("error"in s)throw new Error(JSON.stringify(s.error));return s.result}}o(Nyt,"getFetchFunc");async function Cyt(t,e={}){return Jd.fetch(t,e)}o(Cyt,"rpcNodeFetchFn");function og(t){return t.status>199&&t.status<400}o(og,"responseIsOkay");function kyt(t){return t instanceof j2}o(kyt,"isRequestBuilderError");p();m();var wM=o((t,e)=>{let r=e?`/${encodeURIComponent(e)}`:"";return`/user/v1/users/${t}/wallet-storage${r}`},"syncedStorageEndpoint");p();m();p();m();function D1(){return(t,e)=>e===null?t:e}o(D1,"REMOTE_OVER_LOCAL");var C8e=o(async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(a=>Object.prototype.hasOwnProperty.call(e,a)),s=await t.getAll();try{await t.setAll(i.reduce((a,c)=>{let l=s[c],h=r[c];if(h!=null){let{resolver:y=D1}=e[c];a[c]=y(l,h)}return a},{})).then(()=>{rr.addBreadcrumb(Je.Storage,"\u2705 Synced remote data to disk!",Tt.Info)})}catch{try{for(let c of i){let l=s[c],h=r[c];if(h==null)continue;let{resolver:y=D1}=e[c];await t.set(c,y(l,h)).then(()=>{rr.addBreadcrumb(Je.Storage,`\u2705 Synced remote data to disk: ${c}`,Tt.Info)}).catch(g=>{rr.addBreadcrumb(Je.Storage,`\u274C Failed to sync remote data to disk: ${c} => Error: ${g}`,Tt.Info)})}}catch(c){rr.addBreadcrumb(Je.Storage,`\u274C Failed to sync remote data to disk: ${c}`,Tt.Info)}}},"persistRemoteStorageToDisk");var C$=2,k$=500,K3=class t{static{o(this,"SyncedStorage")}static#t;#e;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){this.#e=e,this.#n=r,this.#s=n,this.#i=i,this.#a=s}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){return this.#t||(this.#t=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s})),this.#t}clear(){this.#o=null,this.#r={},this.#c=!1,rr.addBreadcrumb(Je.Storage,"\u{1F5D1}\uFE0F  Legacy synced storage: Cleared!",Tt.Info)}async hydrateIfNeeded(e=!0){if(X6())return;if(!this.#s||!this.#e||!this.#n){rr.addBreadcrumb(Je.Storage,"\u{1F7E0} Legacy synced storage: Not initialized!",Tt.Info);return}let r=await this.#a();if(r.status!=="done"){rr.addBreadcrumb(Je.Storage,`\u{1F7E0} Legacy synced storage: Not onboarded (status: ${r.status})`,Tt.Info);return}try{let n=await this.#s.getUser({skipAutoLogin:!0});if(!n){rr.addBreadcrumb(Je.Storage,"\u{1F7E0} Legacy synced storage: No user found",Tt.Info);return}if(n?.userID===this.#o)return;this.#o=n.userID;let i=await this.syncFromCloud();if(i){rr.addBreadcrumb(Je.Storage,"\u2705 Legacy synced storage: Found!",Tt.Info),this.#r=i,e&&(await C8e({storage:this.#e,keyRegistry:this.#n,allRemoteData:i}),this.#c=!0);let s=Object.values(this.#n).map(a=>a.queryKey).flat();await this.#i?.invalidateQueries({queryKey:s})}}catch(n){rr.captureError(new Error(`\u274C Legacy synced storage: Failed to initialize: ${n}`),Je.Storage)}}async syncFromCloud(e){if(this.#o)try{let r=wM(this.#o,e),n=await Jd.api().bearer(!0).retry(C$,k$).get(r);if(og(n))return n.data;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(n)}`,Tt.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(r)}`,Tt.Info)}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=wM(this.#o,e),i=await Jd.api().bearer(!0).retry(C$,k$).put(n,{value:r});if(og(i))return rr.addBreadcrumb(Je.Storage,`\u2705 Legacy synced storage: Synced to cloud: ${e}`,Tt.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,Tt.Info)}catch(n){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,Tt.Info)}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=wM(this.#o,e),n=await Jd.api().bearer(!0).retry(C$,k$).delete(r);if(og(n))return rr.addBreadcrumb(Je.Storage,`\u2705 Legacy synced storage: Removed from cloud: ${e}`,Tt.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,Tt.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${JSON.stringify(r)}`,Tt.Info)}return!1}async get(e){let r=await this.#e.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=D1,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let s=i?await this.syncFromCloud(e):this.#r[e];return n(r,s)}async getAll(e){return this.#e.getAll(e)}async remove(e){await this.#e.remove(e),Array.isArray(e)?Promise.all(e.map(async r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#e.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#e.setAll(e),Promise.all(Object.entries(e).map(async([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#e.subscribe(e)}async update(e,r){await this.#e.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};p();m();var EM=o((t,e,r=D1(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}}),"generateKeyRegistry");p();m();var k8e=new WeakMap,B8e=o(()=>{let t=F3(),e=XK();if(e instanceof K3){let r=k8e.get(e);return r===void 0&&(r=new P2(e),k8e.set(e,r)),r}return t},"useSyncedStorageSignalProxy"),Byt=vi(t=>B8e().get(t)),Pyt=o(t=>Tc(Byt,t),"useSyncedStorageValue"),Lyt=vi(t=>{let e=B8e();return WS(function*(r){return e.set(t,r)})}),Dyt=o(t=>Tc(Lyt,t),"useSetSyncedStorageValue");p();m();var Uyt={[Cn.Monad.Mainnet]:1,[Cn.Monad.Testnet]:1,[Cn.Ethereum.Mainnet]:6,[Cn.Ethereum.Sepolia]:6,[Cn.Polygon.Mainnet]:128,[Cn.Polygon.Amoy]:128,[Cn.Base.Mainnet]:3,[Cn.Base.Sepolia]:3,[Cn.Arbitrum.Mainnet]:1,[Cn.Arbitrum.Sepolia]:1,[Cn.Hypercore.Mainnet]:1,[Cn.Hypercore.Testnet]:1,[Cn.Hyperevm.Mainnet]:1,[Cn.Hyperevm.Testnet]:1},Fyt={[Cn.Bitcoin.Mainnet]:1,[Cn.Bitcoin.Testnet]:1};var Hyt="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",qyt=100;p();m();p();m();p();m();p();m();p();m();var SM=class{static{o(this,"MMKVStorage")}namespaces=new Map;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n),oz(n,this)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async delete(e,r){return this.getNamespace(e).delete(r)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}async reset(){for(let e of this.namespaces.values())e.reset();await this.options.backingStore.clear(),this._initPromise=void 0,await this.init()}},U1=_1(null);function B$(){let t=E1(U1);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}o(B$,"useMMKVStorage");var Vyt=o(async t=>{let e=new SM({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return iz([[U1,e]]),await e.init(),P8e(),e},"initMMKVStorage"),P8e,jyt=new Promise(t=>{P8e=t}),AM=o(async(t,e)=>(await jyt,t(e)),"waitForMMKV");var zyt=o(t=>{switch(t){case"boolean":return be.boolean();case"number":return be.number();case"string":return be.string();case"array":return be.array(be.any());default:return be.object({}).passthrough()}},"zodValidatorFromValue"),Kyt=o((t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let a=typeof n.defaultValue;if(a!=="undefined"&&a!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let s=n.validator??zyt(i);n.nullable&&(s=s.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:s,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}},"createItemMap");function _0(t,e,r){let n=Kyt(e,r),i=vi(c=>{let l=GS(U1);if(!l)throw new Error("MMKVStorage is not initialized");return l.get(t,n(c))}),s=vi(c=>{let l=GS(U1);return uo(h=>{if(!l)throw new Error("MMKVStorage is not initialized");return l.set(t,n(c),h)},0,[l,t,n,c])}),a=vi(function*(c){let l=GS(U1);if(!l)throw new Error("MMKVStorage is not initialized");return yield l.init(),l.get(t,n(c))});return[i,s,a]}o(_0,"defineMMKVSchema");p();m();var TM=o((t,e)=>{if(!t)throw new Error(e);return t},"expect"),P$=class t{static{o(this,"MMKVNamespace")}_stateFactorySignals=new Map;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=w1();eventNotifiers={change:w1(),idle:w1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this.disableRemoteUpdates=e.disableRemoteUpdates??!1,this._init=e.init??void 0,this._deps=r}get state(){return TM(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return TM(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return TM(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return TM(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=o(e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let s=e.eventVersions[n];i<s&&(r.eventVersions[n]=s,this.eventNotifiers[n].notify())}}},"onStoreChange");async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:o(()=>this.state.remoteState,"get"),set:o(i=>{this.setRemoteState(i)},"set"),onChange:o(i=>{this.onChangeCallbacks.push(i)},"onChange")};this._hooks=await this._init?.(this.deps,n,r)??{},this._stateFactorySignals.clear(),this.localNotifier.notify()}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState(e){let r=this._stateFactorySignals.get(e);return r===void 0&&(r=fz(()=>{let n=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},i=this.disableRemoteUpdates,s=e.updateOn,a=i?0:this.state.eventVersions[s],c=i?void 0:this.eventNotifiers[s];if(n.version<a||this.disableCache){if(this.hooks.getValue){n.value=this.hooks.getValue(e,n.value);let l=e.validator.safeParse(n.value);n.value=l.success?l.data:null}n.value===null&&(n.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),n.version=a,this.store.setItem(this.key,e.schema,e.key,n)}if(n.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return c?.consume(),this.localNotifier.consume(),v1(n.value)}),this._stateFactorySignals.set(e,r)),r.value}get=cz(this,e=>this.getState(e).value);async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),s=await this.hooks.setValue?.(e,i.value,n)??n;i.value=s,await this.store.setItem(this.key,e.schema,e.key,{value:s,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async delete(e){if(this.readonly)throw new Error(`Cannot delete value on read-only namespace: ${this.key}`);await this.store.deleteItem(this.key,e.schema,e.key),this._stateFactorySignals.delete(e),this.state.localVersion++,await this.store.setNamespace(this.key,this.state),this.localNotifier.notify()}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}async refreshRemoteState(){await this.hooks.refreshRemoteState?.()}async invalidate(){let r=this.state.remoteVersion+1;this.state.eventVersions.change=r,this.state.eventVersions.idle=r,this.state.remoteVersion=r,this.eventNotifiers.change.notify(),this.eventNotifiers.idle.notify(),await this.store.setNamespace(this.key,this.state)}reset(){this._hooks?.destroy?.(),this._removeStoreListener?.(),this._removeStoreListener=void 0,this.onChangeCallbacks=[]}};function F1(t){return new P$(t)}o(F1,"createMMKVNamespace");p();m();p();m();var IM=o(async(t,e)=>{let r={};if(!t||!e||e.length===0)return r;let n=new Set;for(let i of e)for(let s of i.legacyKeys)n.add(s);if(n.size>0)try{let i=await t.getAll(Array.from(n));Object.assign(r,i)}catch(i){rr.captureError(new Error(`Failed to load legacy values for migration: ${JSON.stringify(i)}`),Je.Storage)}return r},"preloadLegacyValues"),z2=o((t,e)=>`${t}:${e}`,"getResolverKey"),RM=o((t,e,r)=>{if(!r||r.length===0)return null;let n=r.find(a=>z2(a.targetSchema,a.targetKey)===t);if(!n)return null;let i={},s=!1;for(let a of n.legacyKeys){let c=e[a];c!=null&&(i[a]=c,s=!0)}if(!s)return null;try{return n.migrate(i)}catch(a){return rr.captureError(new Error(`Failed to migrate from legacy storage: ${JSON.stringify(a)}`),Je.Storage),null}},"tryMigrateValue");var L8e=F1({key:"localStorage",disableRemoteUpdates:!0,init:o(async t=>{let{legacyStorage:e,migrations:r}=t,n=await IM(e,r);return{getValue:o((i,s)=>{let a=z2(i.schema,i.key);if(s===null&&e){let c=RM(a,n,r);if(c!==null)return rr.addBreadcrumb(Je.Storage,`\u{1F504} Migrated from legacy storage: ${i.key} (schema: ${i.schema})`,Tt.Info),c}return s},"getValue")}},"init")}),$yt=o((t,e)=>_0(L8e,t,e),"defineLocalStorageItems");p();m();var D8e=o((t,e)=>{let r=e?`/${encodeURIComponent(e)}`:"";return`/user/v1/users/${t}/wallet-storage${r}`},"syncedStorageEndpoint"),U8e=2,F8e=500,Gyt=O3({minutes:5}),Wyt=o(async(t,e)=>{try{let r=await L1({skipAutoLogin:!0});if(!r)return null;let n=D8e(t,e),i=await Jd.api().noBearer().bearer(r).retry(U8e,F8e).get(n);if(og(i))return i.data;rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud - bad response: ${i}`,Tt.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud - error: ${r}`,Tt.Info)}return null},"fetchFromCloud"),Yyt=o(async(t,e,r)=>{try{let n=await L1({skipAutoLogin:!0});if(!n)return!1;let i=D8e(t,e),s=await Jd.api().noBearer().bearer(n).retry(U8e,F8e).put(i,{value:r});if(og(s))return rr.addBreadcrumb(Je.Storage,`\u2705 MMKV synced storage: Synced to cloud: ${e}`,Tt.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(s)}`,Tt.Info)}catch(n){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,Tt.Info)}return!1},"syncToCloud"),H8e=new Map,Xyt=o((t,e,r)=>{H8e.set(z2(t,e),r)},"registerResolver"),q8e=F1({key:"syncedStorage",init:o(async(t,e,r)=>{let{authRepository:n,pollingInterval:i=Gyt,legacyStorage:s,migrations:a}=t,c=null,l=await IM(s,a),h=o(async(E=!1)=>{if(!E&&c)return c;let T=c;try{let M=(await n.getUser({skipAutoLogin:!0}))?.userID??null;c===T&&M!==null&&(c=M)}catch(O){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Error fetching userID (skipAutoLogin=true): ${O}`,Tt.Info)}return c},"resolveUserID"),y=o(async E=>{let T=await h(E?.forceUserID);if(!T)return;let O=await Wyt(T);O&&(rr.addBreadcrumb(Je.Storage,"\u2705 MMKV synced storage: Fetched synced storage from cloud",Tt.Info),e.set(O))},"fetchAndUpdateRemoteState"),g=setInterval(()=>{y()},i);try{if(r>0){let E,T=new Promise(O=>{E=setTimeout(()=>{rr.addBreadcrumb(Je.Storage,`\u23F1\uFE0F MMKV synced storage: Initialization timed out after ${r}ms`,Tt.Info),O()},r)});await Promise.race([y(),T]),E!==void 0&&clearTimeout(E)}else rr.addBreadcrumb(Je.Storage,"\u23F1\uFE0F MMKV synced storage: Initialization skipped - deadline is 0 or negative",Tt.Info)}catch(E){rr.captureError(new Error(`\u274C MMKV synced storage: Failed to initialize: ${E}`),Je.Storage)}return{getValue:o((E,T)=>{let M=e.get()?.[E.key]??null,k=z2(E.schema,E.key),C=H8e.get(k),B=null;if(C?B=C(T,M):B=M??T,B===null&&s){let N=RM(k,l,a);if(N!==null)return rr.addBreadcrumb(Je.Storage,`\u{1F504} MMKV synced storage: Migrated from legacy storage: ${E.key} (schema: ${E.schema})`,Tt.Info),N}return B},"getValue"),setValue:o(async(E,T,O)=>{let M=await h();return M&&Yyt(M,E.key,O),O},"setValue"),refreshRemoteState:o(async()=>{await y({forceUserID:!0})},"refreshRemoteState"),destroy:o(()=>{clearInterval(g)},"destroy")}},"init")}),L$=o((t,e)=>{for(let r of e)r.resolver&&Xyt(t,r.key,r.resolver);return _0(q8e,t,e)},"defineSyncedStorageItems");p();m();var OM=class{static{o(this,"EppoAssignmentLogger")}analytics;constructor(e){this.analytics=e}logAssignment(e){try{let{allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,subjectAttributes:c}=e,{holdoutKey:l,holdoutVariation:h}=Zyt(e);if(r!==null&&s!==null&&n!==null){let g={allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,timestamp:new Date().toISOString(),subjectAttributes:c,...l&&{holdoutKey:l},...h&&{holdoutVariation:h}};this.analytics.capture("eppoRandomizationEvent",{data:{distinctId:a,properties:g}})}}catch(r){console.warn("EppoAssignmentLogger: Failed to log assignment event",r)}}};function Zyt(t){let e,r;return t.holdout&&typeof t.holdout=="string"&&(e=t.holdout??void 0),t.holdout_variation&&typeof t.holdout_variation=="string"&&(r=t.holdout_variation??void 0),{holdoutKey:e,holdoutVariation:r}}o(Zyt,"parseHoldoutLogging");p();m();var wN=We(XIe(),1);var H2t="eppo-phantom",q2t="0.0.1",V2t="https://eppo-proxy.phantom.app/api",_W=class extends wN.MemoryOnlyConfigurationStore{static{o(this,"PhantomStorageFlagConfigurationStore")}state;constructor(e){super(),this.state=e;let r=this.state.get();r&&super.setEntries(r),this.state.onChange(n=>{super.setEntries(n)})}setEntries(e){return this.state.set(e),super.setEntries(e)}},_N=null;async function j2t({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i,pollingIntervalMs:s}){let a=new _W(r),c=new wN.EppoClient({flagConfigurationStore:a}),l={apiKey:t,sdkName:H2t,sdkVersion:q2t,baseUrl:V2t,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e,pollingIntervalMs:s};c.setConfigurationRequestParameters(l);let h=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await a.init();let y=c.fetchFlagConfigurations();a.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([y,new Promise(E=>setTimeout(E,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let g=performance.now()-h;return n?.(`Eppo: Initialized Eppo provider in ${g.toFixed(2)}ms`),c}o(j2t,"_initEppo");async function ZIe(t){return _N||(_N=j2t(t),_N)}o(ZIe,"initEppo");var JIe={getBooleanAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getBooleanAssignmentDetails"),getStringAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getStringAssignmentDetails"),getNumericAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getNumericAssignmentDetails"),getJSONAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getJSONAssignmentDetails"),setAssignmentLogger:o(t=>{},"setAssignmentLogger"),useNonExpiringInMemoryAssignmentCache:o(()=>{},"useNonExpiringInMemoryAssignmentCache"),stopPolling:o(()=>{},"stopPolling")};var z2t=o(async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if((!mb()||X6())&&!iZ())n=JIe;else{let i={get:o(()=>e.get()?.eppoConfig??null,"get"),set:o(s=>{let a=e.get();e.set({overrides:a?.overrides??{},eppoConfig:s,userId:a?.userId??void 0})},"set"),onChange:o(s=>e.onChange(({eppoConfig:a})=>s(a)),"onChange")};if(n=await ZIe({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r,pollingIntervalMs:3e5}),t.analytics){let s=new OM(t.analytics);n.setAssignmentLogger(s),n.useNonExpiringInMemoryAssignmentCache()}}return{getValue:o((i,s)=>{try{let a,c,l=i.key,{deviceId:h,subjectAttributes:y}=t,g=e.get(),E=i.subjectAssignment??"user";if(E==="user"&&!g?.userId)return i.defaultValue??null;let T;switch(E){case"user":T=g?.userId??h;break;case"device":T=h;break}if(g?.overrides[l]!==void 0)return g.overrides[l]??null;if(i.isLegacyStringBoolean)a=n.getStringAssignmentDetails(l,T,y,"DEFAULT"),a.variation==="DEFAULT"?c=i.defaultValue??null:c=a.variation==="variant";else{switch(i.type){case"boolean":a=n.getBooleanAssignmentDetails(l,T,y,i.defaultValue);break;case"string":a=n.getStringAssignmentDetails(l,T,y,i.defaultValue);break;case"number":a=n.getNumericAssignmentDetails(l,T,y,i.defaultValue);break;default:a=n.getJSONAssignmentDetails(l,T,y,i.defaultValue)}c=a.variation}return t.telemetry&&a.evaluationDetails&&t.telemetry.trackFeatureFlag(l,c),c??null}catch(a){return console.error("Error fetching feature flag",a),i.defaultValue??null}},"getValue"),destroy:o(()=>{n.stopPolling()},"destroy")}},"flagNamespaceInit"),l6=F1({key:"flags",init:z2t,disableCache:Vs()}),K2t=o(()=>Tc($2t),"useFlagOverrides"),$2t=vi(()=>{let e=B$().getNamespace(l6);return[e.getRemoteState()?.overrides,uo(r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(uo(i=>({eppoConfig:i?.eppoConfig??{},overrides:n,userId:i?.userId}),0,[n])),e.sendEvent("idle")},0,[e])]}),wW=new WeakMap,EW=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:mb()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=_0(l6,`feature:${t}`,r);return wW.set(n,e),n},"defineFeatureFlags"),SW=o((t,e)=>{let r=e.map(s=>({key:typeof s=="string"?s:s.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof s=="object"?s.isLegacyStringBoolean:!1,subjectAssignment:typeof s=="object"?s.subjectAssignment:void 0})),[n]=_0(l6,`kill-switch:${t}`,r),i=o(s=>{try{return n(s)}catch{return!1}},"useValueWrapper");return wW.set(i,r),i},"defineKillSwitches"),AW=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:mb()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=_0(l6,`config:${t}`,r);return wW.set(n,e),n},"defineRemoteConfigs");var TW=o(t=>Tc(nh,t),"useFeatureFlag"),nh=EW("general",[{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-as-enum-trusted-badge",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-pnl",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-portfolio-token-balances",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-signalium-query-fungible-tokens",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-live-chat",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-chat-live-streaming",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-chat",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-tab",defaultValue:!0,devDefaultValue:!0},{key:"enable-agent-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-admin",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"user"},{key:"enable-follow-module",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-notification-center",defaultValue:!1,devDefaultValue:!0},{key:"enable-profile-fungibles-holdings",defaultValue:!1,devDefaultValue:!0},{key:"enable-profile-perps-holdings",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-extension-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-extension-perps-explore",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-leaderboard",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-competitions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-relay-withdrawal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-relay-withdrawal-v2",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-market-lists",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-warm-leverage",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-home-perps-empty-state-trending-markets",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-home-perps-empty-balance-market-carousel",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-multi-collateral-markets",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-markets",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-internal-predictions-actions",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-arbitrary-mints",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-swapper-coozie",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-bitcoin-swap",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-terminal-cta",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-terminal-auto-confirm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-predictions-api-debug",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-live-feed",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-user-stats",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quick-claim",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quote-streaming",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-preinitialize-prediction-markets",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-fresh-balance-check",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-cash-orders",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-predictions-fresh-balance-check",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0,subjectAssignment:"device"},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-onboarding-start-animation",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-auth-blur-remount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-phantom-login",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"spending_limits_cumulative",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-strict-deeplink-origin-checks",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account-ext",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-authenticator-mapping",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"always-show-all-sites-permissions",defaultValue:!1,subjectAssignment:"device"},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-hyperevm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-general-access",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-rt",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-buy-flow-warning",defaultValue:!1,subjectAssignment:"device"},{key:"enable-onboarding-aa",defaultValue:!1,subjectAssignment:"device"},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-cards",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-cash-kyc-refresh",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-settings-cash-connections",defaultValue:!1,devDefaultValue:!0},{key:"enable-manage-stripe-banks",defaultValue:!1,devDefaultValue:!0},{key:"enable-manage-stripe-cards",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash-onramp-normal-ach",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-migrate-zero-balance-auth-factor",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-auth-management",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-app-icon",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-mainnet",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-swapper",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-feature-flag-invalidate-test",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-signalium-query-price-streaming",defaultValue:!1,devDefaultValue:!0}]),EN=AW("general",[{key:"token-chat-leaderboard-config",type:"string",nullable:!0,devDefaultValue:"banner-badges",subjectAssignment:"device"},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"latest-notification-updated-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0,subjectAssignment:"device"},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"psol-popup-copy-test",type:"string",nullable:!0,subjectAssignment:"device"},{key:"swapper-poll-interval-json",type:"object",nullable:!0,subjectAssignment:"device"},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enabled-ugc-programs",type:"object",nullable:!0,subjectAssignment:"device"},{key:"trade-hub-variant",type:"string",nullable:!0,devDefaultValue:"",subjectAssignment:"device"},{key:"predictions-gas-additional-sol",type:"number",nullable:!0,defaultValue:.004,devDefaultValue:.004,subjectAssignment:"device"},{key:"predictions-positions-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"blocked-swapper-chains",type:"object",nullable:!0,subjectAssignment:"device"},{key:"funds-in-transit-amounts",type:"object",nullable:!0,subjectAssignment:"device"},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0,subjectAssignment:"device"},{key:"home-section-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"launches-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-discover-home-tokens-limit",type:"number",nullable:!1,defaultValue:10,subjectAssignment:"device"},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200,subjectAssignment:"device"},{key:"predictions-geo-restriction-help-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-home-disclosures-urls",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-learn-more-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-trending-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-tag-section-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-home-featured-poll-interval-ms",type:"number",nullable:!0,devDefaultValue:6e4,subjectAssignment:"device"},{key:"prediction-hub-poll-interval",type:"number",nullable:!1,defaultValue:1e4,devDefaultValue:1e4,subjectAssignment:"device"},{key:"predictions-home-positions-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-countdown-threshold-hours",type:"number",nullable:!1,defaultValue:6,devDefaultValue:6,subjectAssignment:"device"},{key:"http-error-reporting-sample-rate",type:"number",nullable:!1,defaultValue:1,devDefaultValue:1,subjectAssignment:"device"},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0,subjectAssignment:"device"},{key:"network-logger-config-json",type:"object",nullable:!0,subjectAssignment:"device"}]),IW=o(t=>Tc(EN,t),"useRemoteConfig"),G2t=o(t=>Tc(t_,t),"useKillSwitch"),t_=SW("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-validators-v2","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-perps-cash-funding","kill-perps-funding","kill-perps-withdrawal","kill-predictions-trading","kill-add-to-wallet","kill-cash-fiat-ramp","kill-cash-fiat-ramp-apple-pay","kill-cash-fiat-ramp-bank","kill-cash-fiat-ramp-card","kill-cash-out-tx-simulation","kill-cash-perps-quote-chain-addresses","kill-cash-balance-optimistic-update","kill-welcome-cash-modal","kill-cash-waitlist-activation-interstitial","kill-cash-general-access-activation-interstitial","kill-cash-associate-auth-factor"]);p();m();var W2t=o(t=>Tc(Y2t,t),"useFeatureFlags"),Y2t=vi(t=>({data:t.map(uo(r=>r.startsWith("kill-")?t_(r):nh(r),0)),isLoading:!1,isFetched:!0})),d6={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:t.startsWith("kill-")?t_(t):nh(t)},isFeatureEnabledAsync(t){return t.startsWith("kill-")?AM(t_,t):AM(nh,t)},getMultivariateAssignment(t,e){let r=EN(t);return typeof r=="string"||r===null?r:JSON.stringify(r)}};p();m();p();m();var X2t=R.EPPO_API_KEY;p();m();function Z2t(){let t=IW("trade-hub-variant");return TW("enable-replace-classic-ngs")||!!t}o(Z2t,"useIsTradeHubText");p();m();p();m();function J2t(t,e){return e.getSupportedChains().includes(t)}o(J2t,"isChainSupported");function QIe(t,e){if(h9(t))return e.get(t);if(Mt.isNetworkID(t)){let r=Mt.getChainID(t);if(J2t(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}o(QIe,"get");function RW(t){return{get:o(e=>QIe(e,t),"get"),supportedChains:t.getSupportedChains()}}o(RW,"createChainConfig");p();m();var OW=class{static{o(this,"ChainConfigRegistry")}chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};p();m();p();m();var Z1="@phantom/chains",h6={enabledChains:[`${Z1}:enabled-chains`],enabledAddressTypes:[`${Z1}:enabled-address-types`],enabledNetworkIDs(t){return[`${Z1}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${Z1}:chain-availability`,t]}};var r_=".phantom-labs.internal.enabledChainsOverrideSettings",MW=vi(()=>{try{return NW(r_)?.settings}catch{return null}});var eRe=vi(()=>{let t=[],e;try{e=MW(),e&&Object.entries(e).forEach(uo(([r,n])=>{n||t.push(r)},0,[t]))}catch{}try{Mt.getAllChainIDs().forEach(uo(r=>{e&&e[r]||Mt.isChainDefaultEnabled(r)||t.push(r)},1,[e,t]))}catch{}return[...new Set(t)]});var Q2t=o(async t=>{let e=await MW(),r=SN(r_),n=t.reduce((i,s)=>(i[s]=!0,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"enableChainIDs"),e_t=o(async t=>{let e=await MW(),r=SN(r_),n=t.reduce((i,s)=>(i[s]=!1,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"disableChainIDs"),dg=".phantom-labs.internal.disabledAddressTypes",t_t=be.object({version:be.literal(1),settings:be.record(be.boolean())}),r_t=be.object({version:be.literal(1),addressTypes:be.array(be.nativeEnum(Ye))}),n_t=o((t,e)=>{let r=t,n=e;return!r&&!n?null:{version:1,settings:{...r?.settings??{},...n?.settings??{}}}},"enabledChainsOverridesResolver"),i_t=o((t,e)=>{let r=t,n=e;if(!r&&!n)return null;let i=new Set([...r?.addressTypes??[],...n?.addressTypes??[]]);return{version:1,addressTypes:Array.from(i)}},"disabledAddressTypesResolver"),[NW,SN,tRe]=L$("chains",[{key:r_,type:"object",validator:t_t,nullable:!0,resolver:n_t,updateOn:"change"},{key:dg,type:"object",validator:r_t,nullable:!0,resolver:i_t,updateOn:"change"}]);var o_t=vi(()=>{let t;try{t=NW(dg)!==null}catch{t=!1}return t}),rRe=vi(()=>{let t;try{t=NW(dg)?.addressTypes??[]}catch{t=[]}return[...new Set([...t,Ye.BitcoinNestedSegwit,Ye.BitcoinLegacy])]}),s_t=o(async t=>{let e=await tRe(dg),r=new Set(e?.addressTypes??[]);return r.delete(t),SN(dg)({version:1,addressTypes:Array.from(r)})},"enableAddressType"),a_t=o(async t=>{let e=await tRe(dg),r=new Set(e?.addressTypes??[]);return r.add(t),SN(dg)({version:1,addressTypes:Array.from(r)})},"disableAddressType"),c_t=o((t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),"syncedEnabledChainsOverridesResolver"),f_t={...EM(r_,[`${Z1}:chain-availability`,`${Z1}:enabled-network-ids`,...h6.enabledChains],c_t),...EM(dg,[...h6.enabledAddressTypes])};p();m();var nRe=We(Og()),TN=We(Sn());var AN={async deriveAddresses(){},getUIConfig:o(()=>({}),"getUIConfig"),supportedUIConfigChains:[]},iRe=(0,TN.createContext)(AN);function u_t({children:t,registry:e,effects:r}){let n=e?RW(e):void 0,i={deriveAddresses:r?.deriveAddresses??AN.deriveAddresses,getUIConfig:o(s=>n?n.get(s):AN.getUIConfig(s),"getUIConfig"),supportedUIConfigChains:n?n.supportedChains:AN.supportedUIConfigChains};return(0,nRe.jsx)(iRe.Provider,{value:i,children:t})}o(u_t,"ChainDependencyProvider");function l_t(){return(0,TN.useContext)(iRe)}o(l_t,"useChainDependencies");p();m();var oRe=!1,d_t=vi(()=>{let t=nh("enable-arbitrum"),e=nh("enable-hyperevm"),r=nh("enable-monad-mainnet"),n=!mb();oRe||(rr.addBreadcrumb(Je.Network,"Fetched chain availability",Tt.Info,{skipFileLogger:!0}),oRe=!0);let i=Mt.getAllChainIDs().filter(uo(N=>(N!==St.Arbitrum||t)&&(N!==St.Hypercore||n)&&(N!==St.Hyperevm||e),0,[t,n,e])),s=eRe(),a=new Set(s),c=i.filter(uo(N=>!a.has(N),1,[a])),l=uo(N=>{let P=Mt.getChainID(N);return!r&&P===St.Monad&&Mt.isMainnetNetworkID(N)?!1:c.includes(P)},2,[r,c]),h=Mt.getAllNetworkIDs({mainnetOnly:!1}).filter(l),y=Mt.getAllNetworkIDs({mainnetOnly:!0}).filter(l),g=new Set(s.flatMap(uo(N=>Mt.getNetworkIDs(N),3))),E=h.filter(uo(N=>!g.has(N),4,[g])),T=y.filter(uo(N=>!g.has(N),5,[g])),O=E.filter(uo(N=>!Mt.isMainnetNetworkID(N),6)),M=yy.getAll(),k=rRe(),C=new Set(k);for(let N of M){let P=Mt.getChainIDs(N);if(!P){C.add(N);continue}P.every(uo(F=>a.has(F),7,[a]))&&C.add(N)}let B=M.filter(uo(N=>!C.has(N),8,[C]));return{supportedChainIDs:i,supportedAddressTypes:M,disabledChainIDs:s,enabledChainIDs:c,enabledAddressTypes:B,enabledNetworkIDs:E,enabledMainnetOnlyNetworkIDs:T,enabledTestnetOnlyNetworkIDs:O}});p();m();var sRe=[],h_t=o(t=>{sRe.push(t)},"registerExtraChainAvailabilityInvalidator"),p_t=o(async t=>{let e=d6.isFeatureEnabled("enable-arbitrum"),r=d6.isFeatureEnabled("enable-hyperevm"),n=d6.isFeatureEnabled("enable-monad-mainnet");await t.invalidateQueries({queryKey:h6.chainAvailability({isArbitrumEnabled:e,isHyperevmEnabled:r,isMonadMainnetEnabled:n})}),await Promise.all(sRe.map(i=>i(t)))},"invalidateChainAvailability");p();m();var aRe=class{static{o(this,"TTLCache")}storage;ttlMs;asyncFunction;cacheKey;cacheExpirationKey;constructor(e,r,n,i){this.storage=e,this.ttlMs=r,this.asyncFunction=n,this.cacheKey=`${i}-data`,this.cacheExpirationKey=`${i}-expiration`,this.updateCache()}async updateCache(){try{let e=await this.asyncFunction();await this.storage.set(this.cacheKey,e),await this.storage.set(this.cacheExpirationKey,Date.now()+this.ttlMs)}catch(e){throw new Error("error updating cache: "+e?.message,{cause:e})}}async get(){let e=await this.storage.get(this.cacheKey);try{return e||(await this.updateCache(),await this.storage.get(this.cacheKey))}finally{let r=await this.storage.get(this.cacheExpirationKey);(typeof r!="number"||r<Date.now())&&await this.updateCache()}}};p();m();var n_=We(Sn(),1);function Htn(t,e=100){let[r,n]=(0,n_.useState)(t),i=(0,n_.useRef)(null);return(0,n_.useEffect)(()=>(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{n(t)},e),()=>{i.current&&clearTimeout(i.current)}),[n,t,e]),r}o(Htn,"useDebouncedState");p();m();p();m();function M0(t){return Array.isArray?Array.isArray(t):mRe(t)==="[object Array]"}o(M0,"isArray");var m_t=1/0;function g_t(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-m_t?"-0":e}o(g_t,"baseToString");function y_t(t){return t==null?"":g_t(t)}o(y_t,"toString");function ih(t){return typeof t=="string"}o(ih,"isString");function hRe(t){return typeof t=="number"}o(hRe,"isNumber");function b_t(t){return t===!0||t===!1||x_t(t)&&mRe(t)=="[object Boolean]"}o(b_t,"isBoolean");function pRe(t){return typeof t=="object"}o(pRe,"isObject");function x_t(t){return pRe(t)&&t!==null}o(x_t,"isObjectLike");function vf(t){return t!=null}o(vf,"isDefined");function CW(t){return!t.trim().length}o(CW,"isBlank");function mRe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}o(mRe,"getTag");var v_t="Incorrect 'index' type",__t=o(t=>`Invalid value for key ${t}`,"LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY"),w_t=o(t=>`Pattern length exceeds max of ${t}.`,"PATTERN_LENGTH_TOO_LARGE"),E_t=o(t=>`Missing ${t} property in key`,"MISSING_KEY_PROPERTY"),S_t=o(t=>`Property 'weight' in key '${t}' must be a positive integer`,"INVALID_KEY_WEIGHT_VALUE"),cRe=Object.prototype.hasOwnProperty,kW=class{static{o(this,"KeyStore")}constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=gRe(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function gRe(t){let e=null,r=null,n=null,i=1,s=null;if(ih(t)||M0(t))n=t,e=fRe(t),r=BW(t);else{if(!cRe.call(t,"name"))throw new Error(E_t("name"));let a=t.name;if(n=a,cRe.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(S_t(a));e=fRe(a),r=BW(a),s=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:s}}o(gRe,"createKey");function fRe(t){return M0(t)?t:t.split(".")}o(fRe,"createKeyPath");function BW(t){return M0(t)?t.join("."):t}o(BW,"createKeyId");function A_t(t,e){let r=[],n=!1,i=o((s,a,c)=>{if(vf(s))if(!a[c])r.push(s);else{let l=a[c],h=s[l];if(!vf(h))return;if(c===a.length-1&&(ih(h)||hRe(h)||b_t(h)))r.push(y_t(h));else if(M0(h)){n=!0;for(let y=0,g=h.length;y<g;y+=1)i(h[y],a,c+1)}else a.length&&i(h,a,c+1)}},"deepGet");return i(t,ih(e)?e.split("."):e,0),n?r:r[0]}o(A_t,"get");var T_t={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},I_t={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:o((t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,"sortFn")},R_t={location:0,threshold:.6,distance:100},O_t={useExtendedSearch:!1,getFn:A_t,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},nr={...I_t,...T_t,...R_t,...O_t},M_t=/[^ ]+/g;function N_t(t=1,e=3){let r=new Map,n=Math.pow(10,e);return{get(i){let s=i.match(M_t).length;if(r.has(s))return r.get(s);let a=1/Math.pow(s,.5*t),c=parseFloat(Math.round(a*n)/n);return r.set(s,c),c},clear(){r.clear()}}}o(N_t,"norm");var p6=class{static{o(this,"FuseIndex")}constructor({getFn:e=nr.getFn,fieldNormWeight:r=nr.fieldNormWeight}={}){this.norm=N_t(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ih(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();ih(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!vf(e)||CW(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(vf(a)){if(M0(a)){let c=[],l=[{nestedArrIndex:-1,value:a}];for(;l.length;){let{nestedArrIndex:h,value:y}=l.pop();if(vf(y))if(ih(y)&&!CW(y)){let g={v:y,i:h,n:this.norm.get(y)};c.push(g)}else M0(y)&&y.forEach((g,E)=>{l.push({nestedArrIndex:E,value:g})})}n.$[s]=c}else if(ih(a)&&!CW(a)){let c={v:a,n:this.norm.get(a)};n.$[s]=c}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function yRe(t,e,{getFn:r=nr.getFn,fieldNormWeight:n=nr.fieldNormWeight}={}){let i=new p6({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(gRe)),i.setSources(e),i.create(),i}o(yRe,"createIndex");function C_t(t,{getFn:e=nr.getFn,fieldNormWeight:r=nr.fieldNormWeight}={}){let{keys:n,records:i}=t,s=new p6({getFn:e,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}o(C_t,"parseIndex");function IN(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=nr.distance,ignoreLocation:s=nr.ignoreLocation}={}){let a=e/t.length;if(s)return a;let c=Math.abs(n-r);return i?a+c/i:c?1:a}o(IN,"computeScore$1");function k_t(t=[],e=nr.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let a=t.length;s<a;s+=1){let c=t[s];c&&n===-1?n=s:!c&&n!==-1&&(i=s-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[s-1]&&s-n>=e&&r.push([n,s-1]),r}o(k_t,"convertMaskToIndices");var J1=32;function B_t(t,e,r,{location:n=nr.location,distance:i=nr.distance,threshold:s=nr.threshold,findAllMatches:a=nr.findAllMatches,minMatchCharLength:c=nr.minMatchCharLength,includeMatches:l=nr.includeMatches,ignoreLocation:h=nr.ignoreLocation}={}){if(e.length>J1)throw new Error(w_t(J1));let y=e.length,g=t.length,E=Math.max(0,Math.min(n,g)),T=s,O=E,M=c>1||l,k=M?Array(g):[],C;for(;(C=t.indexOf(e,O))>-1;){let Z=IN(e,{currentLocation:C,expectedLocation:E,distance:i,ignoreLocation:h});if(T=Math.min(Z,T),O=C+y,M){let W=0;for(;W<y;)k[C+W]=1,W+=1}}O=-1;let B=[],N=1,P=y+g,H=1<<y-1;for(let Z=0;Z<y;Z+=1){let W=0,X=P;for(;W<X;)IN(e,{errors:Z,currentLocation:E+X,expectedLocation:E,distance:i,ignoreLocation:h})<=T?W=X:P=X,X=Math.floor((P-W)/2+W);P=X;let S=Math.max(1,E-X+1),f=a?g:Math.min(E+X,g)+y,d=Array(f+2);d[f+1]=(1<<Z)-1;for(let x=f;x>=S;x-=1){let _=x-1,A=r[t.charAt(_)];if(M&&(k[_]=+!!A),d[x]=(d[x+1]<<1|1)&A,Z&&(d[x]|=(B[x+1]|B[x])<<1|1|B[x+1]),d[x]&H&&(N=IN(e,{errors:Z,currentLocation:_,expectedLocation:E,distance:i,ignoreLocation:h}),N<=T)){if(T=N,O=_,O<=E)break;S=Math.max(1,2*E-O)}}if(IN(e,{errors:Z+1,currentLocation:E,expectedLocation:E,distance:i,ignoreLocation:h})>T)break;B=d}let F={isMatch:O>=0,score:Math.max(.001,N)};if(M){let Z=k_t(k,c);Z.length?l&&(F.indices=Z):F.isMatch=!1}return F}o(B_t,"search");function P_t(t){let e={};for(let r=0,n=t.length;r<n;r+=1){let i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}o(P_t,"createPatternAlphabet");var RN=class{static{o(this,"BitapSearch")}constructor(e,{location:r=nr.location,threshold:n=nr.threshold,distance:i=nr.distance,includeMatches:s=nr.includeMatches,findAllMatches:a=nr.findAllMatches,minMatchCharLength:c=nr.minMatchCharLength,isCaseSensitive:l=nr.isCaseSensitive,ignoreLocation:h=nr.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:l,ignoreLocation:h},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let y=o((E,T)=>{this.chunks.push({pattern:E,alphabet:P_t(E),startIndex:T})},"addChunk"),g=this.pattern.length;if(g>J1){let E=0,T=g%J1,O=g-T;for(;E<O;)y(this.pattern.substr(E,J1),E),E+=J1;if(T){let M=g-J1;y(this.pattern.substr(M),M)}}else y(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let O={isMatch:!0,score:0};return n&&(O.indices=[[0,e.length-1]]),O}let{location:i,distance:s,threshold:a,findAllMatches:c,minMatchCharLength:l,ignoreLocation:h}=this.options,y=[],g=0,E=!1;this.chunks.forEach(({pattern:O,alphabet:M,startIndex:k})=>{let{isMatch:C,score:B,indices:N}=B_t(e,O,M,{location:i+k,distance:s,threshold:a,findAllMatches:c,minMatchCharLength:l,includeMatches:n,ignoreLocation:h});C&&(E=!0),g+=B,C&&N&&(y=[...y,...N])});let T={isMatch:E,score:E?g/this.chunks.length:1};return E&&n&&(T.indices=y),T}},oh=class{static{o(this,"BaseMatch")}constructor(e){this.pattern=e}static isMultiMatch(e){return uRe(e,this.multiRegex)}static isSingleMatch(e){return uRe(e,this.singleRegex)}search(){}};function uRe(t,e){let r=t.match(e);return r?r[1]:null}o(uRe,"getMatch");var PW=class extends oh{static{o(this,"ExactMatch")}constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},LW=class extends oh{static{o(this,"InverseExactMatch")}constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},DW=class extends oh{static{o(this,"PrefixExactMatch")}constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},UW=class extends oh{static{o(this,"InversePrefixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},FW=class extends oh{static{o(this,"SuffixExactMatch")}constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},HW=class extends oh{static{o(this,"InverseSuffixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},ON=class extends oh{static{o(this,"FuzzyMatch")}constructor(e,{location:r=nr.location,threshold:n=nr.threshold,distance:i=nr.distance,includeMatches:s=nr.includeMatches,findAllMatches:a=nr.findAllMatches,minMatchCharLength:c=nr.minMatchCharLength,isCaseSensitive:l=nr.isCaseSensitive,ignoreLocation:h=nr.ignoreLocation}={}){super(e),this._bitapSearch=new RN(e,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:l,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},MN=class extends oh{static{o(this,"IncludeMatch")}constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n,i=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);let a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}},qW=[PW,MN,DW,UW,HW,FW,LW,ON],lRe=qW.length,L_t=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,D_t="|";function U_t(t,e={}){return t.split(D_t).map(r=>{let n=r.trim().split(L_t).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=n.length;s<a;s+=1){let c=n[s],l=!1,h=-1;for(;!l&&++h<lRe;){let y=qW[h],g=y.isMultiMatch(c);g&&(i.push(new y(g,e)),l=!0)}if(!l)for(h=-1;++h<lRe;){let y=qW[h],g=y.isSingleMatch(c);if(g){i.push(new y(g,e));break}}}return i})}o(U_t,"parseQuery");var F_t=new Set([ON.type,MN.type]),VW=class{static{o(this,"ExtendedSearch")}constructor(e,{isCaseSensitive:r=nr.isCaseSensitive,includeMatches:n=nr.includeMatches,minMatchCharLength:i=nr.minMatchCharLength,ignoreLocation:s=nr.ignoreLocation,findAllMatches:a=nr.findAllMatches,location:c=nr.location,threshold:l=nr.threshold,distance:h=nr.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:a,ignoreLocation:s,location:c,threshold:l,distance:h},this.pattern=r?e:e.toLowerCase(),this.query=U_t(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,a=[],c=0;for(let l=0,h=r.length;l<h;l+=1){let y=r[l];a.length=0,s=0;for(let g=0,E=y.length;g<E;g+=1){let T=y[g],{isMatch:O,indices:M,score:k}=T.search(e);if(O){if(s+=1,c+=k,n){let C=T.constructor.type;F_t.has(C)?a=[...a,...M]:a.push(M)}}else{c=0,s=0,a.length=0;break}}if(s){let g={isMatch:!0,score:c/s};return n&&(g.indices=a),g}}return{isMatch:!1,score:1}}},jW=[];function H_t(...t){jW.push(...t)}o(H_t,"register");function zW(t,e){for(let r=0,n=jW.length;r<n;r+=1){let i=jW[r];if(i.condition(t,e))return new i(t,e)}return new RN(t,e)}o(zW,"createSearcher");var NN={AND:"$and",OR:"$or"},KW={PATH:"$path",PATTERN:"$val"},$W=o(t=>!!(t[NN.AND]||t[NN.OR]),"isExpression"),q_t=o(t=>!!t[KW.PATH],"isPath"),V_t=o(t=>!M0(t)&&pRe(t)&&!$W(t),"isLeaf"),dRe=o(t=>({[NN.AND]:Object.keys(t).map(e=>({[e]:t[e]}))}),"convertToExplicit");function bRe(t,e,{auto:r=!0}={}){let n=o(i=>{let s=Object.keys(i),a=q_t(i);if(!a&&s.length>1&&!$W(i))return n(dRe(i));if(V_t(i)){let l=a?i[KW.PATH]:s[0],h=a?i[KW.PATTERN]:i[l];if(!ih(h))throw new Error(__t(l));let y={keyId:BW(l),pattern:h};return r&&(y.searcher=zW(h,e)),y}let c={children:[],operator:s[0]};return s.forEach(l=>{let h=i[l];M0(h)&&h.forEach(y=>{c.children.push(n(y))})}),c},"next");return $W(t)||(t=dRe(t)),n(t)}o(bRe,"parse");function j_t(t,{ignoreFieldNorm:e=nr.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:a})=>{let c=i?i.weight:null;n*=Math.pow(a===0&&c?Number.EPSILON:a,(c||1)*(e?1:s))}),r.score=n})}o(j_t,"computeScore");function z_t(t,e){let r=t.matches;e.matches=[],vf(r)&&r.forEach(n=>{if(!vf(n.indices)||!n.indices.length)return;let{indices:i,value:s}=n,a={indices:i,value:s};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),e.matches.push(a)})}o(z_t,"transformMatches");function K_t(t,e){e.score=t.score}o(K_t,"transformScore");function $_t(t,e,{includeMatches:r=nr.includeMatches,includeScore:n=nr.includeScore}={}){let i=[];return r&&i.push(z_t),n&&i.push(K_t),t.map(s=>{let{idx:a}=s,c={item:e[a],refIndex:a};return i.length&&i.forEach(l=>{l(s,c)}),c})}o($_t,"format");var N0=class{static{o(this,"Fuse")}constructor(e,r={},n){this.options={...nr,...r},this.options.useExtendedSearch,this._keyStore=new kW(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof p6))throw new Error(v_t);this._myIndex=r||yRe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){vf(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let n=0,i=this._docs.length;n<i;n+=1){let s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:n,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:c}=this.options,l=ih(e)?ih(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return j_t(l,{ignoreFieldNorm:c}),s&&l.sort(a),hRe(r)&&r>-1&&(l=l.slice(0,r)),$_t(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){let r=zW(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:a,n:c})=>{if(!vf(s))return;let{isMatch:l,score:h,indices:y}=r.searchIn(s);l&&i.push({item:s,idx:a,matches:[{score:h,value:s,norm:c,indices:y}]})}),i}_searchLogical(e){let r=bRe(e,this.options),n=o((c,l,h)=>{if(!c.children){let{keyId:g,searcher:E}=c,T=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(l,g),searcher:E});return T&&T.length?[{idx:h,item:l,matches:T}]:[]}let y=[];for(let g=0,E=c.children.length;g<E;g+=1){let T=c.children[g],O=n(T,l,h);if(O.length)y.push(...O);else if(c.operator===NN.AND)return[]}return y},"evaluate"),i=this._myIndex.records,s={},a=[];return i.forEach(({$:c,i:l})=>{if(vf(c)){let h=n(r,c,l);h.length&&(s[l]||(s[l]={idx:l,item:c,matches:[]},a.push(s[l])),h.forEach(({matches:y})=>{s[l].matches.push(...y)}))}}),a}_searchObjectList(e){let r=zW(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:c})=>{if(!vf(a))return;let l=[];n.forEach((h,y)=>{l.push(...this._findMatches({key:h,value:a[y],searcher:r}))}),l.length&&s.push({idx:c,item:a,matches:l})}),s}_findMatches({key:e,value:r,searcher:n}){if(!vf(r))return[];let i=[];if(M0(r))r.forEach(({v:s,i:a,n:c})=>{if(!vf(s))return;let{isMatch:l,score:h,indices:y}=n.searchIn(s);l&&i.push({score:h,key:e,value:s,idx:a,norm:c,indices:y})});else{let{v:s,n:a}=r,{isMatch:c,score:l,indices:h}=n.searchIn(s);c&&i.push({score:l,key:e,value:s,norm:a,indices:h})}return i}};N0.version="7.0.0";N0.createIndex=yRe;N0.parseIndex=C_t;N0.config=nr;N0.parseQuery=bRe;H_t(VW);p();m();function BN(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(g){a(g)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})}o(BN,"__awaiter");var G_t="ENTRIES",ERe="KEYS",SRe="VALUES",Bs="",m6=class{static{o(this,"TreeIterator")}constructor(e,r){let n=e._tree,i=Array.from(n.keys());this.set=e,this._type=r,this._path=i.length>0?[{node:n,keys:i}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:r}=i_(this._path);if(i_(r)===Bs)return{done:!1,value:this.result()};let n=e.get(i_(r));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=i_(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>i_(e)).filter(e=>e!==Bs).join("")}value(){return i_(this._path).node.get(Bs)}result(){switch(this._type){case SRe:return this.value();case ERe:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},i_=o(t=>t[t.length-1],"last$1"),W_t=o((t,e,r)=>{let n=new Map;if(e===void 0)return n;let i=e.length+1,s=i+r,a=new Uint8Array(s*i).fill(r+1);for(let c=0;c<i;++c)a[c]=c;for(let c=1;c<s;++c)a[c*i]=c;return ARe(t,e,r,n,a,1,i,""),n},"fuzzySearch"),ARe=o((t,e,r,n,i,s,a,c)=>{let l=s*a;e:for(let h of t.keys())if(h===Bs){let y=i[l-1];y<=r&&n.set(c,[t.get(h),y])}else{let y=s;for(let g=0;g<h.length;++g,++y){let E=h[g],T=a*y,O=T-a,M=i[T],k=Math.max(0,y-r-1),C=Math.min(a-1,y+r);for(let B=k;B<C;++B){let N=E!==e[B],P=i[O+B]+ +N,H=i[O+B+1]+1,F=i[T+B]+1,Z=i[T+B+1]=Math.min(P,H,F);Z<M&&(M=Z)}if(M>r)continue e}ARe(t.get(h),e,r,n,i,y,a,c+h)}},"recurse"),g6=class t{static{o(this,"SearchableMap")}constructor(e=new Map,r=""){this._size=void 0,this._tree=e,this._prefix=r}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");let[r,n]=PN(this._tree,e.slice(this._prefix.length));if(r===void 0){let[i,s]=eY(n);for(let a of i.keys())if(a!==Bs&&a.startsWith(s)){let c=new Map;return c.set(a.slice(s.length),i.get(a)),new t(c,e)}}return new t(r,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,Y_t(this._tree,e)}entries(){return new m6(this,G_t)}forEach(e){for(let[r,n]of this)e(r,n,this)}fuzzyGet(e,r){return W_t(this._tree,e,r)}get(e){let r=ZW(this._tree,e);return r!==void 0?r.get(Bs):void 0}has(e){let r=ZW(this._tree,e);return r!==void 0&&r.has(Bs)}keys(){return new m6(this,ERe)}set(e,r){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,GW(this._tree,e).set(Bs,r),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,r){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let n=GW(this._tree,e);return n.set(Bs,r(n.get(Bs))),this}fetch(e,r){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let n=GW(this._tree,e),i=n.get(Bs);return i===void 0&&n.set(Bs,i=r()),i}values(){return new m6(this,SRe)}[Symbol.iterator](){return this.entries()}static from(e){let r=new t;for(let[n,i]of e)r.set(n,i);return r}static fromObject(e){return t.from(Object.entries(e))}},PN=o((t,e,r=[])=>{if(e.length===0||t==null)return[t,r];for(let n of t.keys())if(n!==Bs&&e.startsWith(n))return r.push([t,n]),PN(t.get(n),e.slice(n.length),r);return r.push([t,e]),PN(void 0,"",r)},"trackDown"),ZW=o((t,e)=>{if(e.length===0||t==null)return t;for(let r of t.keys())if(r!==Bs&&e.startsWith(r))return ZW(t.get(r),e.slice(r.length))},"lookup"),GW=o((t,e)=>{let r=e.length;e:for(let n=0;t&&n<r;){for(let s of t.keys())if(s!==Bs&&e[n]===s[0]){let a=Math.min(r-n,s.length),c=1;for(;c<a&&e[n+c]===s[c];)++c;let l=t.get(s);if(c===s.length)t=l;else{let h=new Map;h.set(s.slice(c),l),t.set(e.slice(n,n+c),h),t.delete(s),t=h}n+=c;continue e}let i=new Map;return t.set(e.slice(n),i),i}return t},"createPath"),Y_t=o((t,e)=>{let[r,n]=PN(t,e);if(r!==void 0){if(r.delete(Bs),r.size===0)TRe(n);else if(r.size===1){let[i,s]=r.entries().next().value;IRe(n,i,s)}}},"remove"),TRe=o(t=>{if(t.length===0)return;let[e,r]=eY(t);if(e.delete(r),e.size===0)TRe(t.slice(0,-1));else if(e.size===1){let[n,i]=e.entries().next().value;n!==Bs&&IRe(t.slice(0,-1),n,i)}},"cleanup"),IRe=o((t,e,r)=>{if(t.length===0)return;let[n,i]=eY(t);n.set(i+e,r),n.delete(i)},"merge"),eY=o(t=>t[t.length-1],"last"),tY="or",RRe="and",X_t="and_not",y6=class t{static{o(this,"MiniSearch")}constructor(e){if(e?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');let r=e.autoVacuum==null||e.autoVacuum===!0?XW:e.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},YW),e),{autoVacuum:r,searchOptions:Object.assign(Object.assign({},xRe),e.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},twt),e.autoSuggestOptions||{})}),this._index=new g6,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=QW,this.addFields(this._options.fields)}add(e){let{extractField:r,tokenize:n,processTerm:i,fields:s,idField:a}=this._options,c=r(e,a);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(c))throw new Error(`MiniSearch: duplicate ID ${c}`);let l=this.addDocumentId(c);this.saveStoredFields(l,e);for(let h of s){let y=r(e,h);if(y==null)continue;let g=n(y.toString(),h),E=this._fieldIds[h],T=new Set(g).size;this.addFieldLength(l,E,this._documentCount-1,T);for(let O of g){let M=i(O,h);if(Array.isArray(M))for(let k of M)this.addTerm(E,l,k);else M&&this.addTerm(E,l,M)}}}addAll(e){for(let r of e)this.add(r)}addAllAsync(e,r={}){let{chunkSize:n=10}=r,i={chunk:[],promise:Promise.resolve()},{chunk:s,promise:a}=e.reduce(({chunk:c,promise:l},h,y)=>(c.push(h),(y+1)%n===0?{chunk:[],promise:l.then(()=>new Promise(g=>setTimeout(g,0))).then(()=>this.addAll(c))}:{chunk:c,promise:l}),i);return a.then(()=>this.addAll(s))}remove(e){let{tokenize:r,processTerm:n,extractField:i,fields:s,idField:a}=this._options,c=i(e,a);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);let l=this._idToShortId.get(c);if(l==null)throw new Error(`MiniSearch: cannot remove document with ID ${c}: it is not in the index`);for(let h of s){let y=i(e,h);if(y==null)continue;let g=r(y.toString(),h),E=this._fieldIds[h],T=new Set(g).size;this.removeFieldLength(l,E,this._documentCount,T);for(let O of g){let M=n(O,h);if(Array.isArray(M))for(let k of M)this.removeTerm(E,l,k);else M&&this.removeTerm(E,l,M)}}this._storedFields.delete(l),this._documentIds.delete(l),this._idToShortId.delete(c),this._fieldLength.delete(l),this._documentCount-=1}removeAll(e){if(e)for(let r of e)this.remove(r);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new g6,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){let r=this._idToShortId.get(e);if(r==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(r),this._storedFields.delete(r),(this._fieldLength.get(r)||[]).forEach((n,i)=>{this.removeFieldLength(r,i,this._documentCount,n)}),this._fieldLength.delete(r),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:e,minDirtCount:r,batchSize:n,batchWait:i}=this._options.autoVacuum;this.conditionalVacuum({batchSize:n,batchWait:i},{minDirtCount:r,minDirtFactor:e})}discardAll(e){let r=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let n of e)this.discard(n)}finally{this._options.autoVacuum=r}this.maybeAutoVacuum()}replace(e){let{idField:r,extractField:n}=this._options,i=n(e,r);this.discard(i),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,r){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&r,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{let n=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=QW,this.performVacuuming(e,n)}),this._enqueuedVacuum)):this.vacuumConditionsMet(r)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}performVacuuming(e,r){return BN(this,void 0,void 0,function*(){let n=this._dirtCount;if(this.vacuumConditionsMet(r)){let i=e.batchSize||JW.batchSize,s=e.batchWait||JW.batchWait,a=1;for(let[c,l]of this._index){for(let[h,y]of l)for(let[g]of y)this._documentIds.has(g)||(y.size<=1?l.delete(h):y.delete(g));this._index.get(c).size===0&&this._index.delete(c),a%i===0&&(yield new Promise(h=>setTimeout(h,s))),a+=1}this._dirtCount-=n}yield null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null})}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:r,minDirtFactor:n}=e;return r=r||XW.minDirtCount,n=n||XW.minDirtFactor,this.dirtCount>=r&&this.dirtFactor>=n}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let r=this._idToShortId.get(e);if(r!=null)return this._storedFields.get(r)}search(e,r={}){let{searchOptions:n}=this._options,i=Object.assign(Object.assign({},n),r),s=this.executeQuery(e,r),a=[];for(let[c,{score:l,terms:h,match:y}]of s){let g=h.length||1,E={id:this._documentIds.get(c),score:l*g,terms:Object.keys(y),queryTerms:h,match:y};Object.assign(E,this._storedFields.get(c)),(i.filter==null||i.filter(E))&&a.push(E)}return e===t.wildcard&&i.boostDocument==null||a.sort(_Re),a}autoSuggest(e,r={}){r=Object.assign(Object.assign({},this._options.autoSuggestOptions),r);let n=new Map;for(let{score:s,terms:a}of this.search(e,r)){let c=a.join(" "),l=n.get(c);l!=null?(l.score+=s,l.count+=1):n.set(c,{score:s,terms:a,count:1})}let i=[];for(let[s,{score:a,terms:c,count:l}]of n)i.push({suggestion:s,terms:c,score:a/l});return i.sort(_Re),i}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,r){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),r)}static loadJSONAsync(e,r){return BN(this,void 0,void 0,function*(){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),r)})}static getDefault(e){if(YW.hasOwnProperty(e))return WW(YW,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,r){let{index:n,documentIds:i,fieldLength:s,storedFields:a,serializationVersion:c}=e,l=this.instantiateMiniSearch(e,r);l._documentIds=CN(i),l._fieldLength=CN(s),l._storedFields=CN(a);for(let[h,y]of l._documentIds)l._idToShortId.set(y,h);for(let[h,y]of n){let g=new Map;for(let E of Object.keys(y)){let T=y[E];c===1&&(T=T.ds),g.set(parseInt(E,10),CN(T))}l._index.set(h,g)}return l}static loadJSAsync(e,r){return BN(this,void 0,void 0,function*(){let{index:n,documentIds:i,fieldLength:s,storedFields:a,serializationVersion:c}=e,l=this.instantiateMiniSearch(e,r);l._documentIds=yield kN(i),l._fieldLength=yield kN(s),l._storedFields=yield kN(a);for(let[y,g]of l._documentIds)l._idToShortId.set(g,y);let h=0;for(let[y,g]of n){let E=new Map;for(let T of Object.keys(g)){let O=g[T];c===1&&(O=O.ds),E.set(parseInt(T,10),yield kN(O))}++h%1e3===0&&(yield ORe(0)),l._index.set(y,E)}return l})}static instantiateMiniSearch(e,r){let{documentCount:n,nextId:i,fieldIds:s,averageFieldLength:a,dirtCount:c,serializationVersion:l}=e;if(l!==1&&l!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");let h=new t(r);return h._documentCount=n,h._nextId=i,h._idToShortId=new Map,h._fieldIds=s,h._avgFieldLength=a,h._dirtCount=c||0,h._index=new g6,h}executeQuery(e,r={}){if(e===t.wildcard)return this.executeWildcardQuery(r);if(typeof e!="string"){let E=Object.assign(Object.assign(Object.assign({},r),e),{queries:void 0}),T=e.queries.map(O=>this.executeQuery(O,E));return this.combineResults(T,E.combineWith)}let{tokenize:n,processTerm:i,searchOptions:s}=this._options,a=Object.assign(Object.assign({tokenize:n,processTerm:i},s),r),{tokenize:c,processTerm:l}=a,g=c(e).flatMap(E=>l(E)).filter(E=>!!E).map(ewt(a)).map(E=>this.executeQuerySpec(E,a));return this.combineResults(g,a.combineWith)}executeQuerySpec(e,r){let n=Object.assign(Object.assign({},this._options.searchOptions),r),i=(n.fields||this._options.fields).reduce((M,k)=>Object.assign(Object.assign({},M),{[k]:WW(n.boost,k)||1}),{}),{boostDocument:s,weights:a,maxFuzzy:c,bm25:l}=n,{fuzzy:h,prefix:y}=Object.assign(Object.assign({},xRe.weights),a),g=this._index.get(e.term),E=this.termResults(e.term,e.term,1,e.termBoost,g,i,s,l),T,O;if(e.prefix&&(T=this._index.atPrefix(e.term)),e.fuzzy){let M=e.fuzzy===!0?.2:e.fuzzy,k=M<1?Math.min(c,Math.round(e.term.length*M)):M;k&&(O=this._index.fuzzyGet(e.term,k))}if(T)for(let[M,k]of T){let C=M.length-e.term.length;if(!C)continue;O?.delete(M);let B=y*M.length/(M.length+.3*C);this.termResults(e.term,M,B,e.termBoost,k,i,s,l,E)}if(O)for(let M of O.keys()){let[k,C]=O.get(M);if(!C)continue;let B=h*M.length/(M.length+C);this.termResults(e.term,M,B,e.termBoost,k,i,s,l,E)}return E}executeWildcardQuery(e){let r=new Map,n=Object.assign(Object.assign({},this._options.searchOptions),e);for(let[i,s]of this._documentIds){let a=n.boostDocument?n.boostDocument(s,"",this._storedFields.get(i)):1;r.set(i,{score:a,terms:[],match:{}})}return r}combineResults(e,r=tY){if(e.length===0)return new Map;let n=r.toLowerCase(),i=Z_t[n];if(!i)throw new Error(`Invalid combination operator: ${r}`);return e.reduce(i)||new Map}toJSON(){let e=[];for(let[r,n]of this._index){let i={};for(let[s,a]of n)i[s]=Object.fromEntries(a);e.push([r,i])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,r,n,i,s,a,c,l,h=new Map){if(s==null)return h;for(let y of Object.keys(a)){let g=a[y],E=this._fieldIds[y],T=s.get(E);if(T==null)continue;let O=T.size,M=this._avgFieldLength[E];for(let k of T.keys()){if(!this._documentIds.has(k)){this.removeTerm(E,k,r),O-=1;continue}let C=c?c(this._documentIds.get(k),r,this._storedFields.get(k)):1;if(!C)continue;let B=T.get(k),N=this._fieldLength.get(k)[E],P=Q_t(B,O,this._documentCount,N,M,l),H=n*i*g*C*P,F=h.get(k);if(F){F.score+=H,rwt(F.terms,e);let Z=WW(F.match,r);Z?Z.push(y):F.match[r]=[y]}else h.set(k,{score:H,terms:[e],match:{[r]:[y]}})}}return h}addTerm(e,r,n){let i=this._index.fetch(n,wRe),s=i.get(e);if(s==null)s=new Map,s.set(r,1),i.set(e,s);else{let a=s.get(r);s.set(r,(a||0)+1)}}removeTerm(e,r,n){if(!this._index.has(n)){this.warnDocumentChanged(r,e,n);return}let i=this._index.fetch(n,wRe),s=i.get(e);s==null||s.get(r)==null?this.warnDocumentChanged(r,e,n):s.get(r)<=1?s.size<=1?i.delete(e):s.delete(r):s.set(r,s.get(r)-1),this._index.get(n).size===0&&this._index.delete(n)}warnDocumentChanged(e,r,n){for(let i of Object.keys(this._fieldIds))if(this._fieldIds[i]===r){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${n}" was not present in field "${i}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){let r=this._nextId;return this._idToShortId.set(e,r),this._documentIds.set(r,e),this._documentCount+=1,this._nextId+=1,r}addFields(e){for(let r=0;r<e.length;r++)this._fieldIds[e[r]]=r}addFieldLength(e,r,n,i){let s=this._fieldLength.get(e);s==null&&this._fieldLength.set(e,s=[]),s[r]=i;let c=(this._avgFieldLength[r]||0)*n+i;this._avgFieldLength[r]=c/(n+1)}removeFieldLength(e,r,n,i){if(n===1){this._avgFieldLength[r]=0;return}let s=this._avgFieldLength[r]*n-i;this._avgFieldLength[r]=s/(n-1)}saveStoredFields(e,r){let{storeFields:n,extractField:i}=this._options;if(n==null||n.length===0)return;let s=this._storedFields.get(e);s==null&&this._storedFields.set(e,s={});for(let a of n){let c=i(r,a);c!==void 0&&(s[a]=c)}}};y6.wildcard=Symbol("*");var WW=o((t,e)=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,"getOwnProperty"),Z_t={[tY]:(t,e)=>{for(let r of e.keys()){let n=t.get(r);if(n==null)t.set(r,e.get(r));else{let{score:i,terms:s,match:a}=e.get(r);n.score=n.score+i,n.match=Object.assign(n.match,a),vRe(n.terms,s)}}return t},[RRe]:(t,e)=>{let r=new Map;for(let n of e.keys()){let i=t.get(n);if(i==null)continue;let{score:s,terms:a,match:c}=e.get(n);vRe(i.terms,a),r.set(n,{score:i.score+s,terms:i.terms,match:Object.assign(i.match,c)})}return r},[X_t]:(t,e)=>{for(let r of e.keys())t.delete(r);return t}},J_t={k:1.2,b:.7,d:.5},Q_t=o((t,e,r,n,i,s)=>{let{k:a,b:c,d:l}=s;return Math.log(1+(r-e+.5)/(e+.5))*(l+t*(a+1)/(t+a*(1-c+c*n/i)))},"calcBM25Score"),ewt=o(t=>(e,r,n)=>{let i=typeof t.fuzzy=="function"?t.fuzzy(e,r,n):t.fuzzy||!1,s=typeof t.prefix=="function"?t.prefix(e,r,n):t.prefix===!0,a=typeof t.boostTerm=="function"?t.boostTerm(e,r,n):1;return{term:e,fuzzy:i,prefix:s,termBoost:a}},"termToQuerySpec"),YW={idField:"id",extractField:o((t,e)=>t[e],"extractField"),tokenize:o(t=>t.split(nwt),"tokenize"),processTerm:o(t=>t.toLowerCase(),"processTerm"),fields:void 0,searchOptions:void 0,storeFields:[],logger:o((t,e)=>{typeof console?.[t]=="function"&&console[t](e)},"logger"),autoVacuum:!0},xRe={combineWith:tY,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:J_t},twt={combineWith:RRe,prefix:o((t,e,r)=>e===r.length-1,"prefix")},JW={batchSize:1e3,batchWait:10},QW={minDirtFactor:.1,minDirtCount:20},XW=Object.assign(Object.assign({},JW),QW),rwt=o((t,e)=>{t.includes(e)||t.push(e)},"assignUniqueTerm"),vRe=o((t,e)=>{for(let r of e)t.includes(r)||t.push(r)},"assignUniqueTerms"),_Re=o(({score:t},{score:e})=>e-t,"byScore"),wRe=o(()=>new Map,"createMap"),CN=o(t=>{let e=new Map;for(let r of Object.keys(t))e.set(parseInt(r,10),t[r]);return e},"objectToNumericMap"),kN=o(t=>BN(void 0,void 0,void 0,function*(){let e=new Map,r=0;for(let n of Object.keys(t))e.set(parseInt(n,10),t[n]),++r%1e3===0&&(yield ORe(0));return e}),"objectToNumericMapAsync"),ORe=o(t=>new Promise(e=>setTimeout(e,t)),"wait"),nwt=/[\n\r\p{Z}\p{P}]+/u;var b6=We(Sn(),1);var trn=o((t,e,r,n=!1)=>{let i=(0,b6.useMemo)(()=>n?null:new N0(t,r),[t,r,n]);return(0,b6.useMemo)(()=>n||!i?t:e?i.search(e).map(s=>s.item):t,[i,t,e,n])},"useFuse"),rrn=o((t,e,r,n=!1)=>{let i=(0,b6.useMemo)(()=>{if(n)return null;let s=new y6(r);return s.addAll(t),s},[t,r,n]);return(0,b6.useMemo)(()=>n||!i?t:e?i.search(e).map(s=>s):t,[i,t,e,n])},"useMiniSearch");p();m();var rY=We(Sn(),1);p();m();var MRe=We(Sn(),1);function NRe(){let t=(0,MRe.useRef)(!0);return t.current?(t.current=!1,!0):t.current}o(NRe,"useFirstMountState");var iwt=o((t,e)=>t===e,"strictEquals");function owt(t,e=iwt){let r=(0,rY.useRef)(void 0),n=(0,rY.useRef)(t);return!NRe()&&!e(n.current,t)&&(r.current=n.current,n.current=t),r.current}o(owt,"usePreviousDistinct");p();m();p();m();var LRe=We(kRe(),1),hg=We(PRe(),1);(0,LRe.default)(hg.default.localeData("en"),{abbreviations:{thousand:"K",million:"M",billion:"B",trillion:"T"}});var DRe=1e-5,URe="0,0.[00000]",mwt="0,0.[00]a",gwt=1e6,FRe=o((t,e=URe)=>{let r=new wi(t);if(r.abs().isGreaterThan(0)&&r.abs().isLessThan(DRe))return`< ${r.isLessThan(0)?"-":""}${DRe}`;let n=(0,hg.default)(r.toNumber());return e===URe&&r.isGreaterThanOrEqualTo(gwt)?n.format(mwt):n.format(e)},"formatTokenAmount");p();m();p();m();p();m();p();m();var HRe=ywt;function ywt(t,e){if(typeof t!="function")throw new Error("`callback` should be a function");if(e!==void 0&&typeof e!="function")throw new Error("`resolver` should be a function");var r={},n=o(function(){var i=Array.prototype.slice.call(arguments),s=e?e.apply(this,i):JSON.stringify(i);return s in r||(r[s]=t.apply(this,i)),r[s]},"memoized");return n.cache=r,n}o(ywt,"memoize");var bwt=o((...t)=>{let e=t.map(r=>r instanceof Map||r instanceof Set?Array.from(r):r);return JSON.stringify(e)},"defaultResolver"),qRe=o((t,e={forceRefresh:!1})=>{let{resolver:r=bwt}=e,n=HRe(t,r),i=o(function(...s){if(e.forceRefresh){let a=r(...s);delete n.cache[a]}return n.apply(this,s)},"wrapped");return i.cache=n.cache,i},"memoize");var xwt=o(t=>new wi(10).pow(t),"_tenPow"),pg=qRe(xwt);var Yrn=o((t,e)=>{let r=new wi(t).div(pg(e)).toNumber();return FRe(r)},"amountToFormattedAmount");p();m();var tnn=o((t,e)=>{let r=e?.format??"0,0.00%";return`${(e?.includePlusPrefix??!1)&&t>0?"+":""}${(0,hg.default)(t).format(t===0?"0%":r)}`},"formatPercentage");p();m();var snn=o(t=>t.replace(/^[\w-]*:\/\/(?:www\.)?|^www\./i,"").split("/")[0],"removeWebPrefixes");p();m();var lnn=o((t,e)=>{let r=t,n=`${r.substring(0,e)}...`;return n.length>=t.length?t:r.length>e?n:r},"truncateString");p();m();p();m();p();m();var x6=We(DN(),1),KRe=We(VRe(),1),$Re=We(jRe(),1),GRe=We(zRe(),1);x6.default.extend($Re.default);x6.default.extend(KRe.default);x6.default.extend(GRe.default);var Q1=x6.default,Inn=new Date().getTimezoneOffset()*6e4;var Unn=o((t,e)=>{let r=Q1(t),n=r.format("MMM D, YYYY"),i=r.format("h:mm a");return`${n} ${e||""} ${i}`},"formatTimestampAsDate");p();m();var lY=We(DN(),1);var znn=o((t,e)=>{let{compact:r=!1}=e??{},i=new Intl.DateTimeFormat(void 0,{hour:"numeric"}).resolvedOptions().hour12??!0?"h:mm a":"HH:mm",s=(0,lY.default)(),a=(0,lY.default)(t),c=a.format(i),l=s.startOf("day"),y=a.startOf("day").diff(l,"day");if(y===0)return c;if(y===1)return`${c} ${rJ.t("tomorrow")}`;if(y>=2&&y<=7)return`${new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(a.toDate())} ${c}`;let E=!r||a.diff(s,"year",!0)>=1?"MMM D, YYYY":"MMM D";return`${a.format(E)} ${c}`},"formatUntil");p();m();var Ynn=o(t=>{if(t)try{return new URL(t).origin}catch{return}},"getOrigin");p();m();p();m();var ein=o((t,e)=>Array.apply(0,new Array(Math.ceil(t.length/e))).map((r,n)=>t.slice(n*e,(n+1)*e)),"chunks");p();m();var WRe=o(t=>!!t,"filterBoolean");p();m();var fin=o(t=>{if(t.length!==0)return t[t.length-1]},"getLast");p();m();function pin(t){return t!=null}o(pin,"nonNullable");p();m();var xin=o(t=>[...Array(t).keys()],"range");p();m();var YRe=class t{static{o(this,"RingBuffer")}static fromArray(e,r=0){let n=new t(r);return n.fromArray(e,r===0),n}buffer=[];size;pos=0;constructor(e){if(e<0)throw new RangeError("Invalid size.");this.size=e}getSize(){return this.size}getPos(){return this.pos}getBufferLength(){return this.buffer.length}add(...e){e.forEach(r=>{this.buffer[this.pos]=r,this.pos=(this.pos+1)%this.size})}get(e){if(e<0&&(e+=this.buffer.length),!(e<0||e>this.buffer.length))return this.buffer.length<this.size?this.buffer[e]:this.buffer[(this.pos+e)%this.size]}getFirst(){return this.get(0)}getLast(){return this.get(-1)}getFirstN(e){return e===0?[]:e<0?this.getLastN(-e):this.toArray().slice(0,e)}getLastN(e){return e===0?[]:e<0?this.getFirstN(-e):this.toArray().slice(-e)}remove(e,r=1){if(e<0&&(e+=this.buffer.length),e<0||e>this.buffer.length)return[];let n=this.toArray(),i=n.splice(e,r);return this.fromArray(n),i}removeFirst(){return this.remove(0)[0]}removeLast(){return this.remove(-1)[0]}toArray(){return this.buffer.slice(this.pos).concat(this.buffer.slice(0,this.pos))}fromArray(e,r=!1){if(!Array.isArray(e))throw new TypeError("Input value is not an array.");r&&this.resize(e.length),this.size!==0&&(this.buffer=e.slice(-this.size),this.pos=this.buffer.length%this.size)}clear(){this.buffer=[],this.pos=0}resize(e){if(e<0)throw new RangeError("The size does not allow negative values.");if(e===0)this.clear();else if(e!==this.size){let r=this.toArray();this.fromArray(r.slice(-e)),this.pos=this.buffer.length%e}this.size=e}isFull(){return this.buffer.length===this.size}isEmpty(){return this.buffer.length===0}};p();m();var vwt=o((t,e)=>t+e,"add"),Rin=o(t=>t.reduce(vwt,0),"sum");p();m();function Pin(t){return be.any().array().transform(e=>e.map(r=>{let n=t.safeParse(r);return n.success?n.data:void 0}).filter(WRe)).catch([])}o(Pin,"zodArray");p();m();var eb=We(Sn(),1);var Hin=o((t,e=1e3)=>{let r=(0,eb.useRef)(!1),n=(0,eb.useRef)(null);return(0,eb.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]),(0,eb.useCallback)((...i)=>{r.current||(r.current=!0,t(...i),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current=!1},e))},[t,e])},"useDebouncedCallback");p();m();function Kin(t,e){let r=new WeakMap;return()=>{let n=t();if(n===void 0)return;let i=r.get(n);return i===void 0&&(i=e(n),r.set(n,i)),i}}o(Kin,"createUseDerivedContext");p();m();var o_=We(Sn(),1);var Xin=o((t,e=1e3)=>{let r=(0,o_.useRef)(void 0);return(0,o_.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),(0,o_.useCallback)(()=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{r.current=void 0,t()},e)},[t,e])},"useThrottledCallback");p();m();var XRe=We(Sn(),1);function ZRe(t){(0,XRe.useEffect)(t,[])}o(ZRe,"useEffectOnce");p();m();var JRe=We(Sn(),1);function dY(t){let e=(0,JRe.useRef)(t);e.current=t,ZRe(()=>()=>e.current())}o(dY,"useUnmount");p();m();var UN=We(Sn(),1);function _wt(t){let e=(0,UN.useRef)(void 0);return(0,UN.useEffect)(()=>{e.current=t}),e.current}o(_wt,"usePrevious");p();m();var QRe=We(Sn(),1);var wwt=o(t=>(t+1)%1e6,"updateReducer");function e7e(){let[,t]=(0,QRe.useReducer)(wwt,0);return t}o(e7e,"useUpdate");p();m();var Il=We(Sn(),1);function t7e(t,e=0){let r=(0,Il.useRef)(!1),n=(0,Il.useRef)(void 0),i=(0,Il.useRef)(t),s=(0,Il.useCallback)(()=>r.current,[]),a=(0,Il.useCallback)(()=>{r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current=!0,i.current()},e)},[e]),c=(0,Il.useCallback)(()=>{r.current=null,n.current&&clearTimeout(n.current)},[]);return(0,Il.useEffect)(()=>{i.current=t},[t]),(0,Il.useEffect)(()=>(a(),c),[e]),[s,c,a]}o(t7e,"useTimeoutFn");p();m();function Ewt(t=0){let e=e7e();return t7e(e,t)}o(Ewt,"useTimeout");p();m();var n7e=We(Sn(),1);p();m();var s_=We(Sn(),1);function r7e(t){let e=(0,s_.useRef)(0),[r,n]=(0,s_.useState)(t),i=(0,s_.useCallback)(s=>{cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{n(s)})},[]);return dY(()=>{cancelAnimationFrame(e.current)}),[r,i]}o(r7e,"useRafState");function Swt(t){Vs()&&(typeof t!="object"||typeof t.current>"u")&&console.error("`useScroll` expects a single ref argument.");let[e,r]=r7e({x:0,y:0});return(0,n7e.useEffect)(()=>{let n=t.current,i=o(()=>{n&&r({x:n.scrollLeft,y:n.scrollTop})},"handler");return n&&n.addEventListener("scroll",i,{capture:!1,passive:!0}),()=>{n&&n.removeEventListener("scroll",i)}},[r]),e}o(Swt,"useScroll");p();m();var v6=We(Sn(),1);function Awt(t,e,r=["mousedown","touchstart"]){let n=(0,v6.useRef)(e);(0,v6.useEffect)(()=>{n.current=e},[e]),(0,v6.useEffect)(()=>{let i=o(s=>{let a=t.current;a&&!a.contains(s.target)&&n.current(s)},"handler");for(let s of r)document.addEventListener(s,i);return()=>{for(let s of r)document.removeEventListener(s,i)}},[t,r])}o(Awt,"useClickAway");p();m();var tb=We(Sn(),1);var Twt={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Iwt(){let[t,e]=(0,tb.useState)(null),[r,n]=(0,tb.useState)(Twt),i=(0,tb.useMemo)(()=>new ResizeObserver(s=>{if(s[0]){let{x:a,y:c,width:l,height:h,top:y,left:g,bottom:E,right:T}=s[0].contentRect;n({x:a,y:c,width:l,height:h,top:y,left:g,bottom:E,right:T})}}),[]);return(0,tb.useLayoutEffect)(()=>{if(t)return i.observe(t),()=>{i.disconnect()}},[t,i]),[e,r]}o(Iwt,"useMeasure");p();m();function Gon(t){return`https://www.google.com/s2/favicons?domain=${t}&sz=256`}o(Gon,"getFaviconURL");p();m();var esn=o((t,e)=>new wi(t).div(pg(e)),"amountToUiAmount");p();m();var asn=o((t,e)=>new wi(t).div(pg(e)).toString(),"amountToUiAmountString");p();m();p();m();p();m();var i7e=o(t=>{let e=t?Math.floor(Math.log10(t)):0,r=e<0?Math.pow(10,1-e):100;return Math.round(t*r)/r},"roundToTwoTrailingDecimals");var Rwt=o(t=>{let e=Math.abs(t);if(e<1e3)return t;let r=Math.floor(Math.log10(e)),n=r>=6?1e5:r>=5?1e3:100;return Math.sign(t)*Math.floor(e/n)*n},"floorForDisplay"),hY=o((t,e={})=>{let r=typeof t=="number"?t:wi(t).toNumber(),{includePlusPrefix:n=!1,prefix:i="",infix:s="",suffix:a="",extendedDecimalsForSmallNumbers:c=!1,minimumAmount:l=.01,format:h="0,0.[00]",decimalFormatSmallNumbers:y="0.[00]",roundDecimals:g=!1}=e,E=r<0?"-":"",T=n&&r>0?"+":E,O=g?i7e(Math.abs(r)):Math.abs(r);if(e.compact&&O>=1e3&&(O=Math.abs(Rwt(r))),Math.abs(r)>=l||r===0){let M=Math.abs(r)>1?e.compact?"0.[00]a":h:y,k=(0,hg.default)(O).format(M);return`${i}${T}${s}${k}${a}`}else if(c){let M=wi(O).abs().toFormat();return`${i}${T}${s}${M}${a}`}else return`${i}${T}<${s}${wi(l).toFormat()}${a}`},"formatNumber");var Ssn=o((t,e={})=>hY(t,{...e,infix:"$",format:e.compact?"0.[00]a":e.format??"0,0.00",decimalFormatSmallNumbers:e.decimalFormatSmallNumbers??"0.00"}),"formatDollarAmount");p();m();var Osn=o(t=>t.replace(/,|\.{2,}/g,".").replace(/^0+/g,"0").replace(/^\./g,"0.").replace(/[^\d.]/g,""),"formatTokenAmountInputs");p();m();var Psn=o((t,e=9)=>{let r=(t.match(/\./g)||[]).length;return t.endsWith(".")&&r>1?t.substring(0,t.length-1):t.length===0||t.endsWith(".")||t.endsWith("0")?t:new wi(t).decimalPlaces(e).toString()},"formatTokenAmountToMaxDecimals");p();m();var Vsn=o((t,e)=>e===0?new wi(t):new wi(t).multipliedBy(pg(e)),"uiAmountToAmount");p();m();function Gsn(t,e,r){let n=e.split("."),i=t;for(let s of n)if(i&&typeof i=="object"&&s in i)i=i[s];else return;return r?r(i):i}o(Gsn,"getValueByPath");p();m();function Jsn(t,e){return t in e}o(Jsn,"hasKey");p();m();function o7e(t){return new Promise(e=>setTimeout(e,t))}o(o7e,"delayAsync");p();m();function Owt(t,e){let r=typeof e.interval=="function"?e.interval:()=>e.interval;if(typeof t!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function i(){try{return await t()}catch(s){if(n++<e.times&&e.errorFilter(s))return await o7e(r(n-1)),i();throw s}}return o(i,"retryAttempt"),i()}o(Owt,"retryInternal");async function Mwt(t,e,r=3,n=2e3,i){return Owt(t,{times:r,interval:i?()=>n:s=>n*Math.pow(2,s-1),errorFilter:e})}o(Mwt,"withRetry");p();m();var Nwt=o(async(t,e)=>new Promise((r,n)=>{let i=setTimeout(()=>{n("Promise timed out")},e);t.then(s=>{r(s),clearTimeout(i)}).catch(n)}),"withTimeout");p();m();function gan(t,e,r){let n="...",i=e+r+n.length;if(t.length<=i)return t;let s=t.substring(0,e),a=t.substring(t.length-r);return`${s}${n}${a}`}o(gan,"ellipsize");p();m();var Cwt=o(t=>t.replace(/\s/g,""),"removeWhitespace");p();m();function Aan(t){return t.toLowerCase().replace(/(^|\s|\.)(\w)/g,(e,r,n)=>r+n.toUpperCase())}o(Aan,"toTitleCase");p();m();function kwt(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}o(kwt,"removeDiacritics");p();m();var _6=We(DN(),1),c7e=We(s7e(),1),f7e=We(a7e(),1);_6.default.extend(c7e.default);_6.default.extend(f7e.default);var Uan=o(t=>{let e={Today:[],Yesterday:[],"Last Week":[],Earlier:[]};for(let r of t){let n=r.timestamp??0,i=_6.default.unix(n/1e3),s="Earlier";i.isToday()?s="Today":i.isYesterday()?s="Yesterday":i.isAfter((0,_6.default)().subtract(1,"week"))&&(s="Last Week"),e[s].push(r)}return Object.keys(e).reduce((r,n)=>({...r,[n]:e[n].sort((i,s)=>(i.timestamp==null&&(i.timestamp=0),s.timestamp==null&&(s.timestamp=0),i.timestamp<s.timestamp?1:i.timestamp>s.timestamp?-1:0)).map(i=>i.data)}),{})},"bucketByTime");p();m();var zan=O3({seconds:10}),Kan=O3({seconds:5});p();m();p();m();var u7e=o(t=>t/6e4,"msToMin");var ecn=o((t,e)=>{if(!e||e===0)return t("requireAuthImmediately");let r=u7e(e);return r===1?`1 ${t("timeUnitMinute")}`:r===60?`1 ${t("timeUnitHour")}`:r===1440?`1 ${t("timeUnitDay")}`:r>60?`${r/60} ${t("timeUnitHours")}`:`${r} ${t("timeUnitMinutes")}`},"formatLockTimer");p();m();var ocn=o((t,e)=>{let r=Math.floor(t/3600),n=Math.floor((t-r*3600)/60),i=t%60;return r>0?e("pendingTransactionEstimatedTimeHM",{hours:r,minutes:n}):n>0?e("pendingTransactionEstimatedTimeMS",{minutes:n,seconds:i}):e("pendingTransactionEstimatedTimeS",{seconds:i})},"formatSecondsAsTime");p();m();var lcn=o((t,e=!1)=>{let r=Q1.duration(Q1().diff(Q1(t))),n=[[r.years(),"y"],[r.months(),"mo"],[r.days(),"d"],[r.hours(),"h"],[r.minutes(),"m"],[r.seconds(),"s"],[r.milliseconds(),"ms"]].find(a=>a[0]!==0);if(!n)return"";let[i,s]=n;return e&&(s==="ms"||s==="s")?"< 1m":s==="ms"?"now":s==="s"?i<15?"now":"< 1m":`${i}${s}`},"formatTimestampFromNow");p();m();var gcn=o(t=>t*6e4,"minToMs");p();m();var _cn=o(t=>{if(t!=null&&!(t.constructor===Object&&Object.keys(t).length===0))return t},"toUndefined");p();m();p();m();function l7e(t){if(typeof t!="string"||!t)return!1;let e=t.toLowerCase();if(t.includes(":")&&!e.includes("://")){let r=t.indexOf(":"),n=t.substring(r+1);if(!/^\d{1,5}/.test(n))return!1}try{let r=e.includes("://")?t:`http://${t}`,n=new URL(r);if(n.protocol!=="http:"&&n.protocol!=="https:")return!1;let i=n.hostname==="localhost",s=n.hostname.startsWith("[")&&n.hostname.endsWith("]"),a=n.hostname.includes(".")&&!n.hostname.endsWith(".");return i||s||a}catch{return!1}}o(l7e,"isValidUrl");var Bwt=["localhost","127.0.0.1"],Pwt={google:o(t=>`https://www.google.com/search?q=${t}`,"google")},Ncn=o(t=>{try{let e=/^https?:\/\//i.test(t),r=l7e(t);if(r&&e)return t;if(!r)throw new Error("Query is not a valid URL");let n=e?t:`http://${t}`,i=new URL(n);if(Bwt.includes(i.hostname))return n;if(!t.includes("."))throw new Error("missing tld");return i.toString().replace(/^http:\/\//i,"https://").replace(/\/$/,"")}catch{let e=encodeURIComponent(t);return Pwt.google(e)}},"formatSearchURI");p();m();var Lcn=o(({url:t,format:e})=>{if(!t)return null;!t.startsWith("http")&&t.split(".").length===2&&(t=`http://${t}`),t.startsWith("www.")&&(t=`https://${t}`),!t.startsWith("http")&&!t.startsWith("https")&&(t=`https://${t}`);try{let{hostname:r,host:n,href:i}=new URL(t);switch(e){case"hostname":return r.replace("www.","");case"host":return n;case"root":return r.split(".").slice(-2).join(".");case"domain":return r.split(".").slice(-2)[0];case"full":return i;default:return r}}catch{return null}},"formatURL");p();m();var qcn=o(t=>{if(t)try{return new URL(t).hostname}catch{return}},"getHostname");p();m();p();m();var Lwt=["http:","https:","phantom:","solana:"],d7e=o((t,{restrictProtocols:e=!0,supportedProtocols:r=Lwt}={})=>{if(!t)return null;let n=null;if(/^https?:/i.test(t)&&!t.includes("://"))return null;let i=/^(?<specifiedProtocol>[a-zA-Z0-9-]+:)/.exec(t),s=i?.groups?.specifiedProtocol.toLowerCase();if(e&&s&&!r.includes(s))return null;try{if(n=new URL(i?t:`https://${t}`),n&&n.protocol==="http:"&&(n.protocol="https:"),n&&e&&!r.some(a=>a===n?.protocol))return null;if(n.protocol!=="http:"&&n.protocol!=="https:"&&n.protocol!=="phantom:"&&n.protocol!=="solana:"&&n.protocol!=="solana-wallet:"){let a=new URL(t.replace(n.protocol,"https:"));n=new URL(a.toString().replace(a.protocol,n.protocol))}}catch{}return n},"parseURL");var h7e={origin:void 0,hostname:void 0},Zcn=o(t=>{if(!t)return h7e;let e=d7e(t,{restrictProtocols:!1});if(!e)return h7e;let r=`${e.protocol}//${e.host}`,n=e.hostname;return{origin:r,hostname:n}},"getOriginAndHostname");p();m();var Dwt=["localhost","127.0.0.1"];function rfn(t){try{let e=t.trim();if(!e||e.startsWith("//"))return!1;let r=decodeURIComponent(e),i=/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//.test(r)?r:`http://${r}`,s=new URL(i);if(s.protocol!=="http:"&&s.protocol!=="https:")return!1;let a=s.hostname.toLowerCase();return Dwt.some(c=>a===c.toLowerCase())}catch{return!1}}o(rfn,"isLocalhost");p();m();var p7e=We(Og()),FN=We(Sn());var m7e=(0,FN.createContext)(null);function wfn({children:t,analytics:e}){return(0,p7e.jsx)(m7e.Provider,{value:e,children:t})}o(wfn,"AnalyticsProvider");function Efn(){let t=(0,FN.useContext)(m7e);return t||{capture:o(async()=>{},"capture"),captureError:o(async()=>{},"captureError"),addUserProperties:o(async()=>{},"addUserProperties"),identify:o(async()=>{},"identify"),getDeviceId:o(async()=>"","getDeviceId"),setDeviceId:o(()=>{},"setDeviceId"),setAnalyticsOptedOut:o(async()=>{},"setAnalyticsOptedOut"),setDisplayLanguage:o(async()=>{},"setDisplayLanguage"),screen:o(()=>{},"screen"),page:o(()=>{},"page"),rudderClient:null}}o(Efn,"useAnalytics");p();m();p();m();var QSt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),xY={randomUUID:QSt};p();m();var qN,e3t=new Uint8Array(16);function vY(){if(!qN&&(qN=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!qN))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qN(e3t)}o(vY,"rng");p();m();var Ps=[];for(let t=0;t<256;++t)Ps.push((t+256).toString(16).slice(1));function s9e(t,e=0){return Ps[t[e+0]]+Ps[t[e+1]]+Ps[t[e+2]]+Ps[t[e+3]]+"-"+Ps[t[e+4]]+Ps[t[e+5]]+"-"+Ps[t[e+6]]+Ps[t[e+7]]+"-"+Ps[t[e+8]]+Ps[t[e+9]]+"-"+Ps[t[e+10]]+Ps[t[e+11]]+Ps[t[e+12]]+Ps[t[e+13]]+Ps[t[e+14]]+Ps[t[e+15]]}o(s9e,"unsafeStringify");function t3t(t,e,r){if(xY.randomUUID&&!e&&!t)return xY.randomUUID();t=t||{};let n=t.random||(t.rng||vY)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return s9e(n)}o(t3t,"v4");var r3t=t3t;p();m();p();m();p();m();p();m();p();m();p();m();function a9e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(a9e,"number");function _Y(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(_Y,"bytes");function c9e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");a9e(t.outputLen),a9e(t.blockLen)}o(c9e,"hash");function a_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(a_,"exists");function f9e(t,e){_Y(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(f9e,"output");p();m();p();m();var VN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var u9e=o(t=>t instanceof Uint8Array,"u8a");var jN=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Rl=o((t,e)=>t<<32-e|t>>>e,"rotr"),n3t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!n3t)throw new Error("Non little-endian hardware is not supported");function i3t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(i3t,"utf8ToBytes");function w6(t){if(typeof t=="string"&&(t=i3t(t)),!u9e(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(w6,"toBytes");function l9e(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!u9e(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(l9e,"concatBytes");var c_=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},xln={}.toString;function d9e(t){let e=o(n=>t().update(w6(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(d9e,"wrapConstructor");function zN(t=32){if(VN&&typeof VN.getRandomValues=="function")return VN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(zN,"randomBytes");function o3t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(o3t,"setBigUint64");var KN=class extends c_{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jN(this.buffer)}update(e){a_(this);let{view:r,buffer:n,blockLen:i}=this;e=w6(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=jN(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a_(this),f9e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;o3t(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=jN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var s3t=o((t,e,r)=>t&e^~t&r,"Chi"),a3t=o((t,e,r)=>t&e^t&r^e&r,"Maj"),c3t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gg=new Uint32Array(64),wY=class extends KN{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=mg[0]|0,this.B=mg[1]|0,this.C=mg[2]|0,this.D=mg[3]|0,this.E=mg[4]|0,this.F=mg[5]|0,this.G=mg[6]|0,this.H=mg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)gg[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=gg[g-15],T=gg[g-2],O=Rl(E,7)^Rl(E,18)^E>>>3,M=Rl(T,17)^Rl(T,19)^T>>>10;gg[g]=M+gg[g-7]+O+gg[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=Rl(c,6)^Rl(c,11)^Rl(c,25),T=y+E+s3t(c,l,h)+c3t[g]+gg[g]|0,M=(Rl(n,2)^Rl(n,13)^Rl(n,22))+a3t(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){gg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var $N=d9e(()=>new wY);p();m();var TY={};nZ(TY,{bitGet:()=>m3t,bitLen:()=>p3t,bitMask:()=>E6,bitSet:()=>g3t,bytesToHex:()=>rb,bytesToNumberBE:()=>Ls,bytesToNumberLE:()=>YN,concatBytes:()=>C0,createHmacDrbg:()=>AY,ensureBytes:()=>Ho,equalBytes:()=>d3t,hexToBytes:()=>nb,hexToNumber:()=>SY,numberToBytesBE:()=>Ol,numberToBytesLE:()=>XN,numberToHexUnpadded:()=>m9e,numberToVarBytesBE:()=>l3t,utf8ToBytes:()=>h3t,validateObject:()=>yg});p();m();var p9e=BigInt(0),GN=BigInt(1),f3t=BigInt(2),WN=o(t=>t instanceof Uint8Array,"u8a"),u3t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rb(t){if(!WN(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=u3t[t[r]];return e}o(rb,"bytesToHex");function m9e(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(m9e,"numberToHexUnpadded");function SY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(SY,"hexToNumber");function nb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(nb,"hexToBytes");function Ls(t){return SY(rb(t))}o(Ls,"bytesToNumberBE");function YN(t){if(!WN(t))throw new Error("Uint8Array expected");return SY(rb(Uint8Array.from(t).reverse()))}o(YN,"bytesToNumberLE");function Ol(t,e){return nb(t.toString(16).padStart(e*2,"0"))}o(Ol,"numberToBytesBE");function XN(t,e){return Ol(t,e).reverse()}o(XN,"numberToBytesLE");function l3t(t){return nb(m9e(t))}o(l3t,"numberToVarBytesBE");function Ho(t,e,r){let n;if(typeof e=="string")try{n=nb(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(WN(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(Ho,"ensureBytes");function C0(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!WN(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(C0,"concatBytes");function d3t(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(d3t,"equalBytes");function h3t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(h3t,"utf8ToBytes");function p3t(t){let e;for(e=0;t>p9e;t>>=GN,e+=1);return e}o(p3t,"bitLen");function m3t(t,e){return t>>BigInt(e)&GN}o(m3t,"bitGet");var g3t=o((t,e,r)=>t|(r?GN:p9e)<<BigInt(e),"bitSet"),E6=o(t=>(f3t<<BigInt(t-1))-GN,"bitMask"),EY=o(t=>new Uint8Array(t),"u8n"),h9e=o(t=>Uint8Array.from(t),"u8fr");function AY(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=EY(t),i=EY(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),c=o((...g)=>r(i,n,...g),"h"),l=o((g=EY())=>{i=c(h9e([0]),g),n=c(),g.length!==0&&(i=c(h9e([1]),g),n=c())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,E=[];for(;g<e;){n=c();let T=n.slice();E.push(T),g+=n.length}return C0(...E)},"gen");return o((g,E)=>{a(),l(g);let T;for(;!(T=E(h()));)l();return a(),T},"genUntil")}o(AY,"createHmacDrbg");var y3t={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||t instanceof Uint8Array,"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function yg(t,e,r={}){let n=o((i,s,a)=>{let c=y3t[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(yg,"validateObject");var Vo=BigInt(0),to=BigInt(1),ib=BigInt(2),b3t=BigInt(3),IY=BigInt(4),g9e=BigInt(5),y9e=BigInt(8),x3t=BigInt(9),v3t=BigInt(16);function qo(t,e){let r=t%e;return r>=Vo?r:e+r}o(qo,"mod");function _3t(t,e,r){if(r<=Vo||e<Vo)throw new Error("Expected power/modulo > 0");if(r===to)return Vo;let n=to;for(;e>Vo;)e&to&&(n=n*t%r),t=t*t%r,e>>=to;return n}o(_3t,"pow");function _f(t,e,r){let n=t;for(;e-- >Vo;)n*=n,n%=r;return n}o(_f,"pow2");function ZN(t,e){if(t===Vo||e<=Vo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=qo(t,e),n=e,i=Vo,s=to,a=to,c=Vo;for(;r!==Vo;){let h=n/r,y=n%r,g=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=g,c=E}if(n!==to)throw new Error("invert: does not exist");return qo(i,e)}o(ZN,"invert");function w3t(t){let e=(t-to)/ib,r,n,i;for(r=t-to,n=0;r%ib===Vo;r/=ib,n++);for(i=ib;i<t&&_3t(i,e,t)!==t-to;i++);if(n===1){let a=(t+to)/IY;return o(function(l,h){let y=l.pow(h,a);if(!l.eql(l.sqr(y),h))throw new Error("Cannot find square root");return y},"tonelliFast")}let s=(r+to)/ib;return o(function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,y=c.pow(c.mul(c.ONE,i),r),g=c.pow(l,s),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let T=1;for(let M=c.sqr(E);T<h&&!c.eql(M,c.ONE);T++)M=c.sqr(M);let O=c.pow(y,to<<BigInt(h-T-1));y=c.sqr(O),g=c.mul(g,O),E=c.mul(E,y),h=T}return g},"tonelliSlow")}o(w3t,"tonelliShanks");function E3t(t){if(t%IY===b3t){let e=(t+to)/IY;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%y9e===g9e){let e=(t-g9e)/y9e;return o(function(n,i){let s=n.mul(i,ib),a=n.pow(s,e),c=n.mul(i,a),l=n.mul(n.mul(c,ib),a),h=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%v3t,w3t(t)}o(E3t,"FpSqrt");var S3t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function RY(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=S3t.reduce((n,i)=>(n[i]="function",n),e);return yg(t,r)}o(RY,"validateField");function A3t(t,e,r){if(r<Vo)throw new Error("Expected power > 0");if(r===Vo)return t.ONE;if(r===to)return e;let n=t.ONE,i=e;for(;r>Vo;)r&to&&(n=t.mul(n,i)),i=t.sqr(i),r>>=to;return n}o(A3t,"FpPow");function T3t(t,e){let r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}o(T3t,"FpInvertBatch");function OY(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(OY,"nLength");function b9e(t,e,r=!1,n={}){if(t<=Vo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=OY(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=E3t(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:E6(i),ZERO:Vo,ONE:to,create:o(l=>qo(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Vo<=l&&l<t},"isValid"),is0:o(l=>l===Vo,"is0"),isOdd:o(l=>(l&to)===to,"isOdd"),neg:o(l=>qo(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>qo(l*l,t),"sqr"),add:o((l,h)=>qo(l+h,t),"add"),sub:o((l,h)=>qo(l-h,t),"sub"),mul:o((l,h)=>qo(l*h,t),"mul"),pow:o((l,h)=>A3t(c,l,h),"pow"),div:o((l,h)=>qo(l*ZN(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>ZN(l,t),"inv"),sqrt:n.sqrt||(l=>a(c,l)),invertBatch:o(l=>T3t(c,l),"invertBatch"),cmov:o((l,h,y)=>y?h:l,"cmov"),toBytes:o(l=>r?XN(l,s):Ol(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?YN(l):Ls(l)},"fromBytes")});return Object.freeze(c)}o(b9e,"Field");function x9e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(x9e,"getFieldBytesLength");function MY(t){let e=x9e(t);return e+Math.ceil(e/2)}o(MY,"getMinHashLength");function v9e(t,e,r=!1){let n=t.length,i=x9e(e),s=MY(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?Ls(t):YN(t),c=qo(a,e-to)+to;return r?XN(c,i):Ol(c,i)}o(v9e,"mapHashToField");p();m();p();m();var R3t=BigInt(0),NY=BigInt(1);function _9e(t,e){let r=o((i,s)=>{let a=s.negate();return i?a:s},"constTimeNegate"),n=o(i=>{let s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}},"opts");return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,c=i;for(;s>R3t;)s&NY&&(a=a.add(c)),c=c.double(),s>>=NY;return a},precomputeWindow(i,s){let{windows:a,windowSize:c}=n(s),l=[],h=i,y=h;for(let g=0;g<a;g++){y=h,l.push(y);for(let E=1;E<c;E++)y=y.add(h),l.push(y);h=y.double()}return l},wNAF(i,s,a){let{windows:c,windowSize:l}=n(i),h=t.ZERO,y=t.BASE,g=BigInt(2**i-1),E=2**i,T=BigInt(i);for(let O=0;O<c;O++){let M=O*l,k=Number(a&g);a>>=T,k>l&&(k-=E,a+=NY);let C=M,B=M+Math.abs(k)-1,N=O%2!==0,P=k<0;k===0?y=y.add(r(N,s[C])):h=h.add(r(P,s[B]))}return{p:h,f:y}},wNAFCached(i,s,a,c){let l=i._WINDOW_SIZE||1,h=s.get(i);return h||(h=this.precomputeWindow(i,l),l!==1&&s.set(i,c(h))),this.wNAF(l,h,a)}}}o(_9e,"wNAF");function CY(t){return RY(t.Fp),yg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...OY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(CY,"validateBasic");function O3t(t){let e=CY(t);yg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(O3t,"validatePointOpts");var{bytesToNumberBE:M3t,hexToBytes:N3t}=TY,ob={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=ob;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:M3t(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ob,r=typeof t=="string"?N3t(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=ob._parseInt(r.subarray(2)),{d:a,l:c}=ob._parseInt(s);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=o(h=>Number.parseInt(h[0],16)&8?"00"+h:h,"slice"),r=o(h=>{let y=h.toString(16);return y.length&1?`0${y}`:y},"h"),n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,c=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${c}${n}`}},k0=BigInt(0),Su=BigInt(1),Jln=BigInt(2),w9e=BigInt(3),Qln=BigInt(4);function C3t(t){let e=O3t(t),{Fp:r}=e,n=e.toBytes||((O,M,k)=>{let C=M.toAffine();return C0(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(O=>{let M=O.subarray(1),k=r.fromBytes(M.subarray(0,r.BYTES)),C=r.fromBytes(M.subarray(r.BYTES,2*r.BYTES));return{x:k,y:C}});function s(O){let{a:M,b:k}=e,C=r.sqr(O),B=r.mul(C,O);return r.add(r.add(B,r.mul(O,M)),k)}if(o(s,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(O){return typeof O=="bigint"&&k0<O&&O<e.n}o(a,"isWithinCurveOrder");function c(O){if(!a(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}o(c,"assertGE");function l(O){let{allowedPrivateKeyLengths:M,nByteLength:k,wrapPrivateKey:C,n:B}=e;if(M&&typeof O!="bigint"){if(O instanceof Uint8Array&&(O=rb(O)),typeof O!="string"||!M.includes(O.length))throw new Error("Invalid key");O=O.padStart(k*2,"0")}let N;try{N=typeof O=="bigint"?O:Ls(Ho("private key",O,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof O}`)}return C&&(N=qo(N,B)),c(N),N}o(l,"normPrivateKeyToScalar");let h=new Map;function y(O){if(!(O instanceof g))throw new Error("ProjectivePoint expected")}o(y,"assertPrjPoint");class g{static{o(this,"Point")}constructor(M,k,C){if(this.px=M,this.py=k,this.pz=C,M==null||!r.isValid(M))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(M){let{x:k,y:C}=M||{};if(!M||!r.isValid(k)||!r.isValid(C))throw new Error("invalid affine point");if(M instanceof g)throw new Error("projective point not allowed");let B=o(N=>r.eql(N,r.ZERO),"is0");return B(k)&&B(C)?g.ZERO:new g(k,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){let k=r.invertBatch(M.map(C=>C.pz));return M.map((C,B)=>C.toAffine(k[B])).map(g.fromAffine)}static fromHex(M){let k=g.fromAffine(i(Ho("pointHex",M)));return k.assertValidity(),k}static fromPrivateKey(M){return g.BASE.multiply(l(M))}_setWindowSize(M){this._WINDOW_SIZE=M,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:M,y:k}=this.toAffine();if(!r.isValid(M)||!r.isValid(k))throw new Error("bad point: x or y not FE");let C=r.sqr(k),B=s(M);if(!r.eql(C,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:M}=this.toAffine();if(r.isOdd)return!r.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){y(M);let{px:k,py:C,pz:B}=this,{px:N,py:P,pz:H}=M,F=r.eql(r.mul(k,H),r.mul(N,B)),Z=r.eql(r.mul(C,H),r.mul(P,B));return F&&Z}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:M,b:k}=e,C=r.mul(k,w9e),{px:B,py:N,pz:P}=this,H=r.ZERO,F=r.ZERO,Z=r.ZERO,W=r.mul(B,B),X=r.mul(N,N),S=r.mul(P,P),f=r.mul(B,N);return f=r.add(f,f),Z=r.mul(B,P),Z=r.add(Z,Z),H=r.mul(M,Z),F=r.mul(C,S),F=r.add(H,F),H=r.sub(X,F),F=r.add(X,F),F=r.mul(H,F),H=r.mul(f,H),Z=r.mul(C,Z),S=r.mul(M,S),f=r.sub(W,S),f=r.mul(M,f),f=r.add(f,Z),Z=r.add(W,W),W=r.add(Z,W),W=r.add(W,S),W=r.mul(W,f),F=r.add(F,W),S=r.mul(N,P),S=r.add(S,S),W=r.mul(S,f),H=r.sub(H,W),Z=r.mul(S,X),Z=r.add(Z,Z),Z=r.add(Z,Z),new g(H,F,Z)}add(M){y(M);let{px:k,py:C,pz:B}=this,{px:N,py:P,pz:H}=M,F=r.ZERO,Z=r.ZERO,W=r.ZERO,X=e.a,S=r.mul(e.b,w9e),f=r.mul(k,N),d=r.mul(C,P),b=r.mul(B,H),x=r.add(k,C),_=r.add(N,P);x=r.mul(x,_),_=r.add(f,d),x=r.sub(x,_),_=r.add(k,B);let A=r.add(N,H);return _=r.mul(_,A),A=r.add(f,b),_=r.sub(_,A),A=r.add(C,B),F=r.add(P,H),A=r.mul(A,F),F=r.add(d,b),A=r.sub(A,F),W=r.mul(X,_),F=r.mul(S,b),W=r.add(F,W),F=r.sub(d,W),W=r.add(d,W),Z=r.mul(F,W),d=r.add(f,f),d=r.add(d,f),b=r.mul(X,b),_=r.mul(S,_),d=r.add(d,b),b=r.sub(f,b),b=r.mul(X,b),_=r.add(_,b),f=r.mul(d,_),Z=r.add(Z,f),f=r.mul(A,_),F=r.mul(x,F),F=r.sub(F,f),f=r.mul(x,d),W=r.mul(A,W),W=r.add(W,f),new g(F,Z,W)}subtract(M){return this.add(M.negate())}is0(){return this.equals(g.ZERO)}wNAF(M){return T.wNAFCached(this,h,M,k=>{let C=r.invertBatch(k.map(B=>B.pz));return k.map((B,N)=>B.toAffine(C[N])).map(g.fromAffine)})}multiplyUnsafe(M){let k=g.ZERO;if(M===k0)return k;if(c(M),M===Su)return this;let{endo:C}=e;if(!C)return T.unsafeLadder(this,M);let{k1neg:B,k1:N,k2neg:P,k2:H}=C.splitScalar(M),F=k,Z=k,W=this;for(;N>k0||H>k0;)N&Su&&(F=F.add(W)),H&Su&&(Z=Z.add(W)),W=W.double(),N>>=Su,H>>=Su;return B&&(F=F.negate()),P&&(Z=Z.negate()),Z=new g(r.mul(Z.px,C.beta),Z.py,Z.pz),F.add(Z)}multiply(M){c(M);let k=M,C,B,{endo:N}=e;if(N){let{k1neg:P,k1:H,k2neg:F,k2:Z}=N.splitScalar(k),{p:W,f:X}=this.wNAF(H),{p:S,f}=this.wNAF(Z);W=T.constTimeNegate(P,W),S=T.constTimeNegate(F,S),S=new g(r.mul(S.px,N.beta),S.py,S.pz),C=W.add(S),B=X.add(f)}else{let{p:P,f:H}=this.wNAF(k);C=P,B=H}return g.normalizeZ([C,B])[0]}multiplyAndAddUnsafe(M,k,C){let B=g.BASE,N=o((H,F)=>F===k0||F===Su||!H.equals(B)?H.multiplyUnsafe(F):H.multiply(F),"mul"),P=N(this,k).add(N(M,C));return P.is0()?void 0:P}toAffine(M){let{px:k,py:C,pz:B}=this,N=this.is0();M==null&&(M=N?r.ONE:r.inv(B));let P=r.mul(k,M),H=r.mul(C,M),F=r.mul(B,M);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:P,y:H}}isTorsionFree(){let{h:M,isTorsionFree:k}=e;if(M===Su)return!0;if(k)return k(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:M,clearCofactor:k}=e;return M===Su?this:k?k(g,this):this.multiplyUnsafe(e.h)}toRawBytes(M=!0){return this.assertValidity(),n(g,this,M)}toHex(M=!0){return rb(this.toRawBytes(M))}}g.BASE=new g(e.Gx,e.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,T=_9e(g,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}o(C3t,"weierstrassPoints");function k3t(t){let e=CY(t);return yg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(k3t,"validateOpts");function E9e(t){let e=k3t(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(_){return k0<_&&_<r.ORDER}o(a,"isValidFieldElement");function c(_){return qo(_,n)}o(c,"modN");function l(_){return ZN(_,n)}o(l,"invN");let{ProjectivePoint:h,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:E}=C3t({...e,toBytes(_,A,I){let v=A.toAffine(),u=r.toBytes(v.x),w=C0;return I?w(Uint8Array.from([A.hasEvenY()?2:3]),u):w(Uint8Array.from([4]),u,r.toBytes(v.y))},fromBytes(_){let A=_.length,I=_[0],v=_.subarray(1);if(A===i&&(I===2||I===3)){let u=Ls(v);if(!a(u))throw new Error("Point is not on curve");let w=g(u),V=r.sqrt(w),q=(V&Su)===Su;return(I&1)===1!==q&&(V=r.neg(V)),{x:u,y:V}}else if(A===s&&I===4){let u=r.fromBytes(v.subarray(0,r.BYTES)),w=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:u,y:w}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),T=o(_=>rb(Ol(_,e.nByteLength)),"numToNByteStr");function O(_){let A=n>>Su;return _>A}o(O,"isBiggerThanHalfOrder");function M(_){return O(_)?c(-_):_}o(M,"normalizeS");let k=o((_,A,I)=>Ls(_.slice(A,I)),"slcNum");class C{static{o(this,"Signature")}constructor(A,I,v){this.r=A,this.s=I,this.recovery=v,this.assertValidity()}static fromCompact(A){let I=e.nByteLength;return A=Ho("compactSignature",A,I*2),new C(k(A,0,I),k(A,I,2*I))}static fromDER(A){let{r:I,s:v}=ob.toSig(Ho("DER",A));return new C(I,v)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new C(this.r,this.s,A)}recoverPublicKey(A){let{r:I,s:v,recovery:u}=this,w=Z(Ho("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let V=u===2||u===3?I+e.n:I;if(V>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=u&1?"03":"02",U=h.fromHex(q+T(V)),G=l(V),ee=c(-w*G),re=c(v*G),Oe=h.BASE.multiplyAndAddUnsafe(U,ee,re);if(!Oe)throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return nb(this.toDERHex())}toDERHex(){return ob.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nb(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let B={isValidPrivateKey(_){try{return y(_),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:o(()=>{let _=MY(e.n);return v9e(e.randomBytes(_),e.n)},"randomPrivateKey"),precompute(_=8,A=h.BASE){return A._setWindowSize(_),A.multiply(BigInt(3)),A}};function N(_,A=!0){return h.fromPrivateKey(_).toRawBytes(A)}o(N,"getPublicKey");function P(_){let A=_ instanceof Uint8Array,I=typeof _=="string",v=(A||I)&&_.length;return A?v===i||v===s:I?v===2*i||v===2*s:_ instanceof h}o(P,"isProbPub");function H(_,A,I=!0){if(P(_))throw new Error("first arg must be private key");if(!P(A))throw new Error("second arg must be public key");return h.fromHex(A).multiply(y(_)).toRawBytes(I)}o(H,"getSharedSecret");let F=e.bits2int||function(_){let A=Ls(_),I=_.length*8-e.nBitLength;return I>0?A>>BigInt(I):A},Z=e.bits2int_modN||function(_){return c(F(_))},W=E6(e.nBitLength);function X(_){if(typeof _!="bigint")throw new Error("bigint expected");if(!(k0<=_&&_<W))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ol(_,e.nByteLength)}o(X,"int2octets");function S(_,A,I=f){if(["recovered","canonical"].some(le=>le in I))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:u}=e,{lowS:w,prehash:V,extraEntropy:q}=I;w==null&&(w=!0),_=Ho("msgHash",_),V&&(_=Ho("prehashed msgHash",v(_)));let U=Z(_),G=y(A),ee=[X(G),X(U)];if(q!=null){let le=q===!0?u(r.BYTES):q;ee.push(Ho("extraEntropy",le))}let re=C0(...ee),Oe=U;function ae(le){let ye=F(le);if(!E(ye))return;let he=l(ye),ge=h.BASE.multiply(ye).toAffine(),lr=c(ge.x);if(lr===k0)return;let Ae=c(he*c(Oe+lr*G));if(Ae===k0)return;let Me=(ge.x===lr?0:2)|Number(ge.y&Su),Kn=Ae;return w&&O(Ae)&&(Kn=M(Ae),Me^=1),new C(lr,Kn,Me)}return o(ae,"k2sig"),{seed:re,k2sig:ae}}o(S,"prepSig");let f={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function b(_,A,I=f){let{seed:v,k2sig:u}=S(_,A,I),w=e;return AY(w.hash.outputLen,w.nByteLength,w.hmac)(v,u)}o(b,"sign"),h.BASE._setWindowSize(8);function x(_,A,I,v=d){let u=_;if(A=Ho("msgHash",A),I=Ho("publicKey",I),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:w,prehash:V}=v,q,U;try{if(typeof u=="string"||u instanceof Uint8Array)try{q=C.fromDER(u)}catch(ge){if(!(ge instanceof ob.Err))throw ge;q=C.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ge,s:lr}=u;q=new C(ge,lr)}else throw new Error("PARSE");U=h.fromHex(I)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&q.hasHighS())return!1;V&&(A=e.hash(A));let{r:G,s:ee}=q,re=Z(A),Oe=l(ee),ae=c(re*Oe),le=c(G*Oe),ye=h.BASE.multiplyAndAddUnsafe(U,ae,le)?.toAffine();return ye?c(ye.x)===G:!1}return o(x,"verify"),{CURVE:e,getPublicKey:N,getSharedSecret:H,sign:b,verify:x,ProjectivePoint:h,Signature:C,utils:B}}o(E9e,"weierstrass");p();m();p();m();var JN=class extends c_{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,c9e(e);let n=w6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return a_(this),this.iHash.update(e),this}digestInto(e){a_(this),_Y(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},kY=o((t,e,r)=>new JN(t,e).update(r).digest(),"hmac");kY.create=(t,e)=>new JN(t,e);function B3t(t){return{hash:t,hmac:o((e,...r)=>kY(t,e,l9e(...r)),"hmac"),randomBytes:zN}}o(B3t,"getHash");function S9e(t,e){let r=o(n=>E9e({...t,...B3t(n)}),"create");return Object.freeze({...r(e),create:r})}o(S9e,"createCurve");var rC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),QN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),I9e=BigInt(1),eC=BigInt(2),A9e=o((t,e)=>(t+e/eC)/e,"divNearest");function R9e(t){let e=rC,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),h=t*t*t%e,y=h*h*t%e,g=_f(y,r,e)*y%e,E=_f(g,r,e)*y%e,T=_f(E,eC,e)*h%e,O=_f(T,i,e)*T%e,M=_f(O,s,e)*O%e,k=_f(M,c,e)*M%e,C=_f(k,l,e)*k%e,B=_f(C,c,e)*M%e,N=_f(B,r,e)*y%e,P=_f(N,a,e)*O%e,H=_f(P,n,e)*h%e,F=_f(H,eC,e);if(!PY.eql(PY.sqr(F),t))throw new Error("Cannot find square root");return F}o(R9e,"sqrtMod");var PY=b9e(rC,void 0,void 0,{sqrt:R9e}),f_=S9e({a:BigInt(0),b:BigInt(7),Fp:PY,n:QN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=QN,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-I9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=A9e(s*t,e),l=A9e(-n*t,e),h=qo(t-c*r-l*i,e),y=qo(-c*n-l*s,e),g=h>a,E=y>a;if(g&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:E,k2:y}},"splitScalar")}},$N),nC=BigInt(0),O9e=o(t=>typeof t=="bigint"&&nC<t&&t<rC,"fe"),P3t=o(t=>typeof t=="bigint"&&nC<t&&t<QN,"ge"),T9e={};function tC(t,...e){let r=T9e[t];if(r===void 0){let n=$N(Uint8Array.from(t,i=>i.charCodeAt(0)));r=C0(n,n),T9e[t]=r}return $N(C0(r,...e))}o(tC,"taggedHash");var UY=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),LY=o(t=>Ol(t,32),"numTo32b"),BY=o(t=>qo(t,rC),"modP"),S6=o(t=>qo(t,QN),"modN"),FY=f_.ProjectivePoint,L3t=o((t,e,r)=>FY.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function DY(t){let e=f_.utils.normPrivateKeyToScalar(t),r=FY.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:S6(-e),bytes:UY(r)}}o(DY,"schnorrGetExtPubKey");function M9e(t){if(!O9e(t))throw new Error("bad x: need 0 < x < p");let e=BY(t*t),r=BY(e*t+BigInt(7)),n=R9e(r);n%eC!==nC&&(n=BY(-n));let i=new FY(t,n,I9e);return i.assertValidity(),i}o(M9e,"lift_x");function N9e(...t){return S6(Ls(tC("BIP0340/challenge",...t)))}o(N9e,"challenge");function D3t(t){return DY(t).bytes}o(D3t,"schnorrGetPublicKey");function U3t(t,e,r=zN(32)){let n=Ho("message",t),{bytes:i,scalar:s}=DY(e),a=Ho("auxRand",r,32),c=LY(s^Ls(tC("BIP0340/aux",a))),l=tC("BIP0340/nonce",c,i,n),h=S6(Ls(l));if(h===nC)throw new Error("sign failed: k is zero");let{bytes:y,scalar:g}=DY(h),E=N9e(y,i,n),T=new Uint8Array(64);if(T.set(y,0),T.set(LY(S6(g+E*s)),32),!C9e(T,n,i))throw new Error("sign: Invalid signature produced");return T}o(U3t,"schnorrSign");function C9e(t,e,r){let n=Ho("signature",t,64),i=Ho("message",e),s=Ho("publicKey",r,32);try{let a=M9e(Ls(s)),c=Ls(n.subarray(0,32));if(!O9e(c))return!1;let l=Ls(n.subarray(32,64));if(!P3t(l))return!1;let h=N9e(LY(c),UY(a),i),y=L3t(a,l,S6(-h));return!(!y||!y.hasEvenY()||y.toAffine().x!==c)}catch{return!1}}o(C9e,"schnorrVerify");var wf={getPublicKey:D3t,sign:U3t,verify:C9e,utils:{randomPrivateKey:f_.utils.randomPrivateKey,lift_x:M9e,pointToBytes:UY,numberToBytesBE:Ol,bytesToNumberBE:Ls,taggedHash:tC,mod:qo}};p();m();p();m();p();m();function F3t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(F3t,"isBytes");function H3t(t,...e){if(!F3t(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(H3t,"bytes");function HY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(HY,"exists");function k9e(t,e){H3t(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(k9e,"output");p();m();function q3t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(q3t,"isBytes");var oC=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Ml=o((t,e)=>t<<32-e|t>>>e,"rotr"),V3t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!V3t)throw new Error("Non little-endian hardware is not supported");function j3t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(j3t,"utf8ToBytes");function qY(t){if(typeof t=="string"&&(t=j3t(t)),!q3t(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(qY,"toBytes");var iC=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},Mdn={}.toString;function sC(t){let e=o(n=>t().update(qY(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(sC,"wrapConstructor");function z3t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(z3t,"setBigUint64");var u_=class extends iC{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oC(this.buffer)}update(e){HY(this);let{view:r,buffer:n,blockLen:i}=this;e=qY(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=oC(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){HY(this),k9e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;z3t(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=oC(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var K3t=o((t,e,r)=>t&e^~t&r,"Chi"),$3t=o((t,e,r)=>t&e^t&r^e&r,"Maj"),G3t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xg=new Uint32Array(64),VY=class extends u_{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=bg[0]|0,this.B=bg[1]|0,this.C=bg[2]|0,this.D=bg[3]|0,this.E=bg[4]|0,this.F=bg[5]|0,this.G=bg[6]|0,this.H=bg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let g=0;g<16;g++,r+=4)xg[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let E=xg[g-15],T=xg[g-2],O=Ml(E,7)^Ml(E,18)^E>>>3,M=Ml(T,17)^Ml(T,19)^T>>>10;xg[g]=M+xg[g-7]+O+xg[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let g=0;g<64;g++){let E=Ml(c,6)^Ml(c,11)^Ml(c,25),T=y+E+K3t(c,l,h)+G3t[g]+xg[g]|0,M=(Ml(n,2)^Ml(n,13)^Ml(n,22))+$3t(n,i,s)|0;y=h,h=l,l=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){xg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Au=sC(()=>new VY);p();m();var W3t=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),P9e=Uint8Array.from({length:16},(t,e)=>e),Y3t=P9e.map(t=>(9*t+5)%16),zY=[P9e],KY=[Y3t];for(let t=0;t<4;t++)for(let e of[zY,KY])e.push(e[t].map(r=>W3t[r]));var L9e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),X3t=zY.map((t,e)=>t.map(r=>L9e[e][r])),Z3t=KY.map((t,e)=>t.map(r=>L9e[e][r])),J3t=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Q3t=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),aC=o((t,e)=>t<<e|t>>>32-e,"rotl");function B9e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(B9e,"f");var cC=new Uint32Array(16),jY=class extends u_{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let T=0;T<16;T++,r+=4)cC[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,c=this.h2|0,l=c,h=this.h3|0,y=h,g=this.h4|0,E=g;for(let T=0;T<5;T++){let O=4-T,M=J3t[T],k=Q3t[T],C=zY[T],B=KY[T],N=X3t[T],P=Z3t[T];for(let H=0;H<16;H++){let F=aC(n+B9e(T,s,c,h)+cC[C[H]]+M,N[H])+g|0;n=g,g=h,h=aC(c,10)|0,c=s,s=F}for(let H=0;H<16;H++){let F=aC(i+B9e(O,a,l,y)+cC[B[H]]+k,P[H])+E|0;i=E,E=y,y=aC(l,10)|0,l=a,a=F}}this.set(this.h1+c+y|0,this.h2+h+E|0,this.h3+g+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){cC.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},D9e=sC(()=>new jY);p();m();function l_(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}o(l_,"assertNumber");function fC(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(fC,"isBytes");function lC(...t){let e=o(s=>s,"id"),r=o((s,a)=>c=>s(a(c)),"wrap"),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}o(lC,"chain");function WY(t){return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})},"decode")}}o(WY,"alphabet");function YY(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},"encode"),decode:o(e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)},"decode")}}o(YY,"join");function e6t(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:o(e=>e,"encode"),decode:o(e=>t(e),"decode")}}o(e6t,"normalize");function U9e(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(a=>{if(a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let l=n;l<s.length;l++){let h=s[l],y=e*a+h;if(!Number.isSafeInteger(y)||e*a/e!==a||y-h!==e*a)throw new Error("convertRadix: carry overflow");a=y%r;let g=Math.floor(y/r);if(s[l]=g,!Number.isSafeInteger(g)||g*r+a!==y)throw new Error("convertRadix: carry overflow");if(c)g?c=!1:n=l;else continue}if(i.push(a),c)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}o(U9e,"convertRadix");var V9e=o((t,e)=>e?V9e(e,t%e):t,"gcd"),uC=o((t,e)=>t+(e-V9e(t,e)),"radix2carry");function $Y(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(uC(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${uC(e,r)}`);let i=0,s=0,a=2**r-1,c=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}o($Y,"convertRadix2");function t6t(t){return{encode:o(e=>{if(!fC(e))throw new Error("radix.encode input should be Uint8Array");return U9e(Array.from(e),2**8,t)},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(U9e(e,t,2**8))},"decode")}}o(t6t,"radix");function j9e(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(uC(8,t)>32||uC(t,8)>32)throw new Error("radix2: carry overflow");return{encode:o(r=>{if(!fC(r))throw new Error("radix2.encode input should be Uint8Array");return $Y(Array.from(r),8,t,!e)},"encode"),decode:o(r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from($Y(r,t,8,e))},"decode")}}o(j9e,"radix2");function F9e(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}o(F9e,"unsafeWrapper");function r6t(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!fC(r))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!fC(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let a=0;a<t;a++)if(i[a]!==s[a])throw new Error("Invalid checksum");return n}}}o(r6t,"checksum");var n6t=o(t=>lC(t6t(58),WY(t),YY("")),"genBase58"),i6t=n6t("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var o6t=o(t=>lC(r6t(4,e=>t(t(e))),i6t),"createBase58check"),z9e=o6t,GY=lC(WY("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),YY("")),H9e=[996825010,642813549,513874426,1027748829,705979059];function A6(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<H9e.length;n++)(e>>n&1)===1&&(r^=H9e[n]);return r}o(A6,"bech32Polymod");function q9e(t,e,r=1){let n=t.length,i=1;for(let s=0;s<n;s++){let a=t.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);i=A6(i)^a>>5}i=A6(i);for(let s=0;s<n;s++)i=A6(i)^t.charCodeAt(s)&31;for(let s of e)i=A6(i)^s;for(let s=0;s<6;s++)i=A6(i);return i^=r,GY.encode($Y([i%2**30],30,5,!1))}o(q9e,"bechChecksum");function K9e(t){let e=t==="bech32"?1:734539939,r=j9e(5),n=r.decode,i=r.encode,s=F9e(n);function a(y,g,E=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);if(y.length===0)throw new TypeError(`Invalid prefix length ${y.length}`);let T=y.length+7+g.length;if(E!==!1&&T>E)throw new TypeError(`Length ${T} exceeds limit ${E}`);let O=y.toLowerCase(),M=q9e(O,g,e);return`${O}1${GY.encode(g)}${M}`}o(a,"encode");function c(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);let E=y.toLowerCase();if(y!==E&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");let T=E.lastIndexOf("1");if(T===0||T===-1)throw new Error('Letter "1" must be present between prefix and data only');let O=E.slice(0,T),M=E.slice(T+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");let k=GY.decode(M).slice(0,-6),C=q9e(O,k,e);if(!M.endsWith(C))throw new Error(`Invalid checksum in ${y}: expected "${C}"`);return{prefix:O,words:k}}o(c,"decode");let l=F9e(c);function h(y){let{prefix:g,words:E}=c(y,!1);return{prefix:g,words:E,bytes:n(E)}}return o(h,"decodeToBytes"),{encode:a,decode:c,decodeToBytes:h,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:s,toWords:i}}o(K9e,"genBech32");var dC=K9e("bech32"),XY=K9e("bech32m"),ZY={encode:o(t=>new TextDecoder().decode(t),"encode"),decode:o(t=>new TextEncoder().encode(t),"decode")},ji=lC(j9e(4),WY("0123456789abcdef"),YY(""),e6t(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));p();m();var zi=new Uint8Array,bC=new Uint8Array([0]);function _i(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(_i,"equalBytes");function hC(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(hC,"concatBytes");var Ef=o(t=>t instanceof Uint8Array,"isBytes"),pC=class{static{o(this,"Reader")}constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(vg(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=yC(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!Ef(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(_i(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${ji.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},mC=class{static{o(this,"Writer")}constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=hC(...this.buffers);for(let r of this.ptrs){let n=e.length;e=hC(e,r.buffer);let i=r.ptr.encode(n);for(let s=0;s<i.length;s++)e[r.pos+s]=i[s]}return e}length(e,r){if(e===null)return;if(vg(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=yC(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},gC=o(t=>Uint8Array.from(t).reverse(),"swap");function $9e(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}o($9e,"checkBounds");function jo(t){return{...t,encode:o(e=>{let r=new mC;return t.encodeStream(r,e),r.buffer},"encode"),decode:o(e=>{let r=new pC(e),n=t.decodeStream(r);return r.finish(),n},"decode")}}o(jo,"wrap");function yC(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}o(yC,"getPath");function vg(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}o(vg,"isCoder");function a6t(){return{encode:o(t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},"encode"),decode:o(t=>Object.entries(t),"decode")}}o(a6t,"dict");var c6t={encode:o(t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},"encode"),decode:o(t=>BigInt(t),"decode")};function f6t(t){return{encode:o(e=>t[e],"encode"),decode:o(e=>t[e],"decode")}}o(f6t,"tsEnum");function u6t(t){let e=10n**BigInt(t);return{encode:o(r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let s=n.length-1;for(;s>=i&&n[s]==="0";s--);let[a,c]=[n.slice(0,i),n.slice(i,s+1)];return a||(a="0"),r<0n&&(a="-"+a),c?`${a}.${c}`:a},"encode"),decode:o(r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[s,a]=[r.slice(0,i),r.slice(i+1)],c=BigInt(s)*e,l=Math.min(a.length,t),h=BigInt(a.slice(0,l))*10n**BigInt(t-l),y=c+h;return n?-y:y},"decode")}}o(u6t,"decimal");function l6t(t){return{encode:o(e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},"encode"),decode:o(e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)},"decode")}}o(l6t,"match");var d_={dict:a6t,number:c6t,tsEnum:f6t,decimal:u6t,match:l6t};var Sf=o((t,e=!1,r=!1)=>jo({size:t,encodeStream:o((n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let s=BigInt(i),a=BigInt(t);$9e(n,s,8n*a,!!r);let c=2n**(8n*a-1n);r&&s<0&&(s=s|c);let l=[];for(let y=0;y<t;y++)l.push(Number(s&255n)),s>>=8n;let h=new Uint8Array(l).reverse();n.bytes(e?h.reverse():h)},"encodeStream"),decodeStream:o(n=>{let i=BigInt(t),s=n.bytes(t);e&&(s=gC(s));let a=gC(s),c=2n**(8n*i-1n),l=0n;for(let h=0;h<a.length;h++)l|=BigInt(a[h])<<8n*BigInt(h);return r&&l&c&&(l=(l^c)-c),$9e(n,l,8n*i,!!r),l},"decodeStream")}),"bigint"),ohn=Sf(32,!0),G9e=Sf(32,!1),shn=Sf(32,!0,!0),ahn=Sf(32,!1,!0),chn=Sf(16,!0),fhn=Sf(16,!1),uhn=Sf(16,!0,!0),lhn=Sf(16,!1,!0),T6=Sf(8,!0),dhn=Sf(8,!1),W9e=Sf(8,!0,!0),hhn=Sf(8,!1,!0),sh=o((t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return R6(Sf(t,e,r),d_.number)},"int"),Jn=sh(4,!0),Y9e=sh(4,!1),h_=sh(4,!0,!0),phn=sh(4,!1,!0),JY=sh(2,!0),mhn=sh(2,!1),ghn=sh(2,!0,!0),yhn=sh(2,!1,!0),B0=sh(1,!1),bhn=sh(1,!1,!0),xhn=jo({size:1,encodeStream:o((t,e)=>t.byte(e?1:0),"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1},"decodeStream")}),Oi=o((t,e=!1)=>jo({size:typeof t=="number"?t:void 0,encodeStream:o((r,n)=>{if(!Ef(n))throw r.err(`bytes: invalid value ${n}`);Ef(t)||r.length(t,n.length),r.bytes(e?gC(n):n),Ef(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n;if(Ef(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?gC(n):n},"decodeStream")}),"bytes"),I6=o((t,e=!1)=>{let r=Oi(t,e);return jo({size:r.size,encodeStream:o((n,i)=>r.encodeStream(n,ZY.decode(i)),"encodeStream"),decodeStream:o(n=>ZY.encode(r.decodeStream(n)),"decodeStream")})},"string"),vhn=I6(bC),X9e=o((t,e=!1,r=!1)=>{let n=Oi(t,e);return jo({size:n.size,encodeStream:o((i,s)=>{if(r&&!s.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let a=ji.decode(r?s.slice(2):s);return n.encodeStream(i,a)},"encodeStream"),decodeStream:o(i=>(r?"0x":"")+ji.encode(n.decodeStream(i)),"decodeStream")})},"hex");function R6(t,e){if(!vg(t))throw new Error(`apply: invalid inner value ${t}`);return jo({size:t.size,encodeStream:o((r,n)=>{let i;try{i=e.decode(n)}catch(s){throw r.err(""+s)}return t.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}},"decodeStream")})}o(R6,"apply");function Tu(t,e){if(!vg(t))throw new Error(`validate: invalid inner value ${t}`);return jo({size:t.size,encodeStream:o((r,n)=>t.encodeStream(r,e(n)),"encodeStream"),decodeStream:o(r=>e(t.decodeStream(r)),"decodeStream")})}o(Tu,"validate");var Z9e=o((t,e=!1)=>jo({size:t.length,encodeStream:o((r,n)=>{!!n!==e&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes>=t.length;return n&&(n=_i(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e},"decodeStream")}),"flag");function J9e(t,e,r){if(!vg(e))throw new Error(`flagged: invalid inner value ${e}`);return jo({encodeStream:o((n,i)=>{typeof t=="string"?yC(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},"encodeStream"),decodeStream:o(n=>{let i=!1;if(typeof t=="string"?i=yC(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)},"decodeStream")})}o(J9e,"flagged");function O6(t,e,r=!0){if(!vg(t))throw new Error(`flagged: invalid inner value ${t}`);return jo({size:t.size,encodeStream:o((n,i)=>t.encodeStream(n,e),"encodeStream"),decodeStream:o(n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||Ef(e)&&!_i(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)},"decodeStream")})}o(O6,"magic");function Q9e(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}o(Q9e,"sizeof");function Oa(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return jo({size:Q9e(Object.values(t)),encodeStream:o((e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(Oa,"struct");function eOe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return jo({size:Q9e(t),encodeStream:o((e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(eOe,"tuple");function tOe(t,e){if(!vg(e))throw new Error(`prefix: invalid inner value ${e}`);if(Ef(t))throw new Error("prefix: len cannot be Uint8Array");let r=Oi(t);return jo({size:typeof t=="number"?t:void 0,encodeStream:o((n,i)=>{let s=new mC(n.path,n.fieldPath);e.encodeStream(s,i),r.encodeStream(n,s.buffer)},"encodeStream"),decodeStream:o(n=>{let i=r.decodeStream(n);return e.decodeStream(new pC(i,n.path,n.fieldPath))},"decodeStream")})}o(tOe,"prefix");function tc(t,e){if(!vg(e))throw new Error(`array: invalid inner value ${e}`);return jo({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:o((r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);Ef(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let s=n[i],a=r.pos;if(e.encodeStream(r,s),Ef(t)){if(t.length>r.pos-a)continue;let c=r.buffer.subarray(a,r.pos);if(_i(c.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${s} data=${c}`)}r.fieldPathPop()}r.path.pop(),Ef(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(Ef(t)){let i=0;for(r.path.push(n);;){if(_i(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let s=0;s<i;s++)r.fieldPathPush(""+s),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n},"decodeStream")})}o(tc,"array");var _hn=O6(Oi(0),zi);var{ProjectivePoint:IC,sign:rOe,getPublicKey:h6t}=f_,wC=f_.CURVE.n,N6=o((t,e)=>t===void 0?e:t,"def"),Ni=Ef,RC=o(t=>D9e(Au(t)),"hash160"),_g=o((...t)=>Au(Au(wg(...t))),"sha256x2"),wg=hC,gOe=z9e(Au);function EC(t){if(Array.isArray(t))return t.map(e=>EC(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,EC(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}o(EC,"cloneDeep");var Na;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Na||(Na={}));function y_(t,e){let r=t.length;if(e===Na.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return IC.fromHex(t),t}else if(e===Na.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return wf.utils.lift_x(wf.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}o(y_,"validatePubkey");function ab(t,e){try{return y_(t,e),!0}catch{return!1}}o(ab,"isValidPubkey");var nOe=o(t=>t.r<wC/2n,"hasLowR");function p6t(t,e,r=!1){let n=rOe(t,e);if(r&&!nOe(n)){let i=new Uint8Array(32);for(let s=0;s<Number.MAX_SAFE_INTEGER&&(i.set(Jn.encode(s)),n=rOe(t,e,{extraEntropy:i}),!nOe(n));s++);}return n.toDERRawBytes()}o(p6t,"signECDSA");function yOe(t,e){let r=wf.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=wC)throw new Error("tweak higher than curve order");return i}o(yOe,"tapTweak");function m6t(t,e=new Uint8Array){let r=wf.utils,n=r.bytesToNumberBE(t),i=IC.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,wC),a=r.pointToBytes(i),c=yOe(a,e);return r.numberToBytesBE(r.mod(s+c,wC),32)}o(m6t,"taprootTweakPrivKey");function bOe(t,e){let r=wf.utils,n=yOe(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(IC.fromPrivateKey(n)),a=s.hasEvenY()?0:1;return[r.pointToBytes(s),a]}o(bOe,"taprootTweakPubkey");var nX=Tu(Oi(null),t=>y_(t,Na.ecdsa)),SC=Tu(Oi(32),t=>y_(t,Na.schnorr)),iOe=Tu(Oi(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var b_={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var g6t=8,y6t=2,sb=0,xOe=4294967295,xC=new Uint8Array(32),Ohn=d_.decimal(g6t);function iX(t,e){if(!Ni(t)||!Ni(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}o(iX,"_cmpBytes");var zo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(zo||(zo={}));var Ma=jo({encodeStream:o((t,e)=>{for(let r of e){if(typeof r=="string"){if(zo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(zo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(zo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=vOe().encode(BigInt(r))),!Ni(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<zo.PUSHDATA1?t.byte(n):n<=255?(t.byte(zo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(zo.PUSHDATA2),t.bytes(JY.encode(n))):(t.byte(zo.PUSHDATA4),t.bytes(Jn.encode(n))),t.bytes(r)}},"encodeStream"),decodeStream:o(t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(zo.OP_0<r&&r<=zo.PUSHDATA4){let n;if(r<zo.PUSHDATA1)n=r;else if(r===zo.PUSHDATA1)n=B0.decodeStream(t);else if(r===zo.PUSHDATA2)n=JY.decodeStream(t);else if(r===zo.PUSHDATA4)n=Jn.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(zo.OP_1<=r&&r<=zo.OP_16)e.push(r-(zo.OP_1-1));else{let n=zo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e},"decodeStream")});function vOe(t=6,e=!1){return jo({encodeStream:o((r,n)=>{if(n===0n)return;let i=n<0,s=BigInt(n),a=[];for(let c=i?-s:s;c;c>>=8n)a.push(Number(c&0xffn));a[a.length-1]>=128?a.push(i?128:0):i&&(a[a.length-1]|=128),r.bytes(new Uint8Array(a))},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,s=0n;for(let a=0;a<n;++a)i=r.byte(),s|=BigInt(i)<<8n*BigInt(a);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s},"decodeStream")})}o(vOe,"ScriptNum");function b6t(t,e=4,r=!0){if(typeof t=="number")return t;if(Ni(t))try{let n=vOe(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}o(b6t,"OpToNum");var oOe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},OC=jo({encodeStream:o((t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,s]of Object.values(oOe))if(!(i>e||e>s)){t.byte(r);for(let a=0;a<n;a++)t.byte(Number(e>>8n*BigInt(a)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=oOe[e],s=0n;for(let a=0;a<n;a++)s|=BigInt(t.byte())<<8n*BigInt(a);if(s<i)throw t.err(`Wrong CompactSize(${8*n})`);return s},"decodeStream")}),Cl=R6(OC,d_.number),sOe=o(t=>tc(OC,t),"BTCArray"),Nl=Oi(OC),x6t=Oa({txid:Oi(32,!0),index:Jn,finalScriptSig:Nl,sequence:Jn}),m_=Oa({amount:T6,script:Nl}),v6t={amount:0xffffffffffffffffn,script:zi},hX=tc(Cl,Nl),_6t=Oa({version:h_,segwitFlag:Z9e(new Uint8Array([0,1])),inputs:sOe(x6t),outputs:sOe(m_),witnesses:J9e("segwitFlag",tc("inputs/length",hX)),lockTime:Jn});function w6t(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}o(w6t,"validateRawTx");var ah=Tu(_6t,w6t);function oX(t){let[e,r,n,i,s,a]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:a}}o(oX,"PSBTKeyInfo");var MC=Oa({fingerprint:Y9e,path:tc(null,Jn)}),E6t=Oa({version:B0,internalKey:Oi(32),merklePath:tc(null,Oi(32))}),g_=Tu(E6t,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),_Oe=Oa({hashes:tc(Cl,Oi(32)),der:MC}),S6t=Oi(78),A6t=Oa({pubKey:SC,leafHash:Oi(32)}),T6t=tc(null,Oa({depth:B0,version:B0,script:Nl})),Ko=Oi(null),aOe=Oi(20),M6=Oi(32),pX={unsignedTx:[0,!1,ah,[0],[0],!1],xpub:[1,S6t,MC,[],[0,2],!1],txVersion:[2,!1,Jn,[2],[2],!1],fallbackLocktime:[3,!1,Jn,[],[2],!1],inputCount:[4,!1,Cl,[2],[2],!1],outputCount:[5,!1,Cl,[2],[2],!1],txModifiable:[6,!1,B0,[],[2],!1],version:[251,!1,Jn,[],[0,2],!1],proprietary:[252,Ko,Ko,[],[0,2],!1]},AC={nonWitnessUtxo:[0,!1,ah,[],[0,2],!1],witnessUtxo:[1,!1,m_,[],[0,2],!1],partialSig:[2,nX,Ko,[],[0,2],!1],sighashType:[3,!1,Jn,[],[0,2],!1],redeemScript:[4,!1,Ko,[],[0,2],!1],witnessScript:[5,!1,Ko,[],[0,2],!1],bip32Derivation:[6,nX,MC,[],[0,2],!1],finalScriptSig:[7,!1,Ko,[],[0,2],!1],finalScriptWitness:[8,!1,hX,[],[0,2],!1],porCommitment:[9,!1,Ko,[],[0,2],!1],ripemd160:[10,aOe,Ko,[],[0,2],!1],sha256:[11,M6,Ko,[],[0,2],!1],hash160:[12,aOe,Ko,[],[0,2],!1],hash256:[13,M6,Ko,[],[0,2],!1],txid:[14,!1,M6,[2],[2],!0],index:[15,!1,Jn,[2],[2],!0],sequence:[16,!1,Jn,[],[2],!0],requiredTimeLocktime:[17,!1,Jn,[],[2],!1],requiredHeightLocktime:[18,!1,Jn,[],[2],!1],tapKeySig:[19,!1,iOe,[],[0,2],!1],tapScriptSig:[20,A6t,iOe,[],[0,2],!1],tapLeafScript:[21,g_,Ko,[],[0,2],!1],tapBip32Derivation:[22,M6,_Oe,[],[0,2],!1],tapInternalKey:[23,!1,SC,[],[0,2],!1],tapMerkleRoot:[24,!1,M6,[],[0,2],!1],proprietary:[252,Ko,Ko,[],[0,2],!1]},I6t=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],R6t=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],TC={redeemScript:[0,!1,Ko,[],[0,2],!1],witnessScript:[1,!1,Ko,[],[0,2],!1],bip32Derivation:[2,nX,MC,[],[0,2],!1],amount:[3,!1,W9e,[2],[2],!0],script:[4,!1,Ko,[2],[2],!0],tapInternalKey:[5,!1,SC,[],[0,2],!1],tapTree:[6,!1,T6t,[],[0,2],!1],tapBip32Derivation:[7,SC,_Oe,[],[0,2],!1],proprietary:[252,Ko,Ko,[],[0,2],!1]},O6t=[],cOe=tc(bC,Oa({key:tOe(Cl,Oa({type:Cl,key:Oi(null)})),value:Oi(Cl)})),Mhn=Oa({type:Cl,key:Oi(null)});function mX(t){let e={};for(let r in t){let[n,i,s]=t[r];e[n]=[r,i,s]}return jo({encodeStream:o((r,n)=>{let i=[];for(let s in t){let a=n[s];if(a===void 0)continue;let[c,l,h]=t[s];if(!l)i.push({key:{type:c,key:zi},value:h.encode(a)});else{let y=a.map(([g,E])=>[l.encode(g),h.encode(E)]);y.sort((g,E)=>iX(g[0],E[0]));for(let[g,E]of y)i.push({key:{key:g,type:c},value:E})}}if(n.unknown){n.unknown.sort((s,a)=>iX(s[0].key,a[0].key));for(let[s,a]of n.unknown)i.push({key:s,value:a})}cOe.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=cOe.decodeStream(r),i={},s={};for(let a of n){let c="unknown",l=a.key.key,h=a.value;if(e[a.key.type]){let[y,g,E]=e[a.key.type];if(c=y,!g&&l.length)throw new Error(`PSBT: Non-empty key for ${c} (key=${ji.encode(l)} value=${ji.encode(h)}`);if(l=g?g.decode(l):void 0,h=E.decode(h),!g){if(i[c])throw new Error(`PSBT: Same keys: ${c} (key=${l} value=${h})`);i[c]=h,s[c]=!0;continue}}else l={type:a.key.type,key:a.key.key};if(s[c])throw new Error(`PSBT: Key type with empty key and no key=${c} val=${h}`);i[c]||(i[c]=[]),i[c].push([l,h])}return i},"decodeStream")})}o(mX,"PSBTKeyMap");function fOe(t,e){if(!_i(t.hash,Au(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Ds.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}o(fOe,"checkWSH");function sX(t,e,r){if(t){let n=Ds.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!_i(n.hash,RC(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Ds.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&fOe(n,r)}if(e){let n=Ds.decode(e);n.type==="wsh"&&r&&fOe(n,r)}}o(sX,"checkScript");var gX=Tu(mX(AC),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)y_(e,Na.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)y_(e,Na.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!_i(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=dX.fromRaw(ah.encode(t.nonWitnessUtxo)),n=ji.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),yX=Tu(mX(TC),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)y_(e,Na.ecdsa);return t}),wOe=Tu(mX(pX),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),M6t=Oa({magic:O6(I6(new Uint8Array([255])),"psbt"),global:wOe,inputs:tc("global/unsignedTx/inputs/length",gX),outputs:tc(null,yX)}),N6t=Oa({magic:O6(I6(new Uint8Array([255])),"psbt"),global:wOe,inputs:tc("global/inputCount",gX),outputs:tc("global/outputCount",yX)}),Nhn=Oa({magic:O6(I6(new Uint8Array([255])),"psbt"),items:tc(null,R6(tc(bC,eOe([X9e(Cl),Oi(OC)])),d_.dict()))});function QY(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=oX(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=oX(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}o(QY,"validatePSBTFields");function uOe(t,e,r){let n={};for(let i in r){let s=i;if(s!=="unknown"){if(!e[s])continue;let{allowInc:a,silentIgnore:c}=oX(e[s]);if(!a.includes(t)){if(c)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${s} but versions allows inclusion=${a}`)}}n[s]=r[s]}return n}o(uOe,"cleanPSBTFields");function EOe(t){let e=t&&t.global&&t.global.version||0;QY(e,pX,t.global);for(let a of t.inputs)QY(e,AC,a);for(let a of t.outputs)QY(e,TC,a);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let s=t.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return t}o(EOe,"validatePSBT");function eX(t,e,r,n){let i={...r,...e};for(let s in t){let a=s,[c,l,h]=t[a],y=n&&!n.includes(s);if(e[s]===void 0&&s in e){if(y)throw new Error(`Cannot remove signed field=${s}`);delete i[s]}else if(l){let g=r&&r[s]?r[s]:[],E=e[a];if(E){if(!Array.isArray(E))throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);E=E.map(M=>{if(M.length!==2)throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);return[typeof M[0]=="string"?l.decode(ji.decode(M[0])):M[0],typeof M[1]=="string"?h.decode(ji.decode(M[1])):M[1]]});let T={},O=o((M,k,C)=>{if(T[M]===void 0){T[M]=[k,C];return}let B=ji.encode(h.encode(T[M][1])),N=ji.encode(h.encode(C));if(B!==N)throw new Error(`keyMap(${a}): same key=${M} oldVal=${B} newVal=${N}`)},"add");for(let[M,k]of g){let C=ji.encode(l.encode(M));O(C,M,k)}for(let[M,k]of E){let C=ji.encode(l.encode(M));if(k===void 0){if(y)throw new Error(`Cannot remove signed field=${a}/${M}`);delete T[C]}else O(C,M,k)}i[a]=Object.values(T)}}else if(typeof i[s]=="string")i[s]=h.decode(ji.decode(i[s]));else if(y&&s in e&&r&&r[s]!==void 0&&!_i(h.encode(e[s]),h.encode(r[s])))throw new Error(`Cannot change signed field=${s}`)}for(let s in i)t[s]||delete i[s];return i}o(eX,"mergeKeyMap");var lOe=Tu(M6t,EOe),dOe=Tu(N6t,EOe),tX=Oa({txid:Oi(32,!0),index:Jn}),C6t={encode(t){if(!(t.length!==2||!Ni(t[0])||!ab(t[0],Na.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:o(t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0,"decode")};var k6t={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Ni(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:o(t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0,"decode")};var B6t={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Ni(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:o(t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0,"decode")},Chn=o((t,e=b_)=>{let r=t.script;if(!Ni(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=RC(r),i=Ds.encode({type:"sh",hash:n});sX(i,r,t.witnessScript);let s={type:"sh",redeemScript:r,script:Ds.encode({type:"sh",hash:n}),address:NC(e).encode({type:"sh",hash:n})};return t.witnessScript&&(s.witnessScript=t.witnessScript),s},"p2sh"),P6t={encode(t){if(!(t.length!==2||t[0]!==0||!Ni(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:o(t=>t.type==="wsh"?[0,t.hash]:void 0,"decode")};var L6t={encode(t){if(!(t.length!==2||t[0]!==0||!Ni(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:o(t=>t.type==="wpkh"?[0,t.hash]:void 0,"decode")},khn=o((t,e=b_)=>{if(!ab(t,Na.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=RC(t);return{type:"wpkh",script:Ds.encode({type:"wpkh",hash:r}),address:NC(e).encode({type:"wpkh",hash:r})}},"p2wpkh"),D6t={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let s of i)if(!Ni(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:o(t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0,"decode")};var U6t={encode(t){if(!(t.length!==2||t[0]!==1||!Ni(t[1])))return{type:"tr",pubkey:t[1]}},decode:o(t=>t.type==="tr"?[1,t.pubkey]:void 0,"decode")};function F6t(t){let e=Array.from(t);for(;e.length>=2;){e.sort((a,c)=>(c.weight||1)-(a.weight||1));let n=e.pop(),i=e.pop(),s=(i?.weight||1)+(n?.weight||1);e.push({weight:s,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}o(F6t,"taprootListToTree");function H6t(t,e,r=!1){let n=Ds.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let s of i.pubkeys){if(_i(s,SOe))throw new Error("Unspendable taproot key in leaf script");if(_i(s,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}o(H6t,"checkTaprootScript");function aX(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:c,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!_i(t.tapMerkleRoot,zi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let h=typeof l=="string"?ji.decode(l):l;if(!Ni(h))throw new Error(`checkScript: wrong script type=${h}`);return H6t(h,e,r),{type:"leaf",version:c,script:h,hash:_C(h,c)}}if(t.length!==2&&(t=F6t(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=aX(t[0],e,r),i=aX(t[1],e,r),[s,a]=[n.hash,i.hash];return iX(a,s)===-1&&([s,a]=[a,s]),{type:"branch",left:n,right:i,hash:wf.utils.taggedHash("TapBranch",s,a)}}o(aX,"taprootHashTree");function cX(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:cX(t.left,[t.right.hash,...e]),right:cX(t.right,[t.left.hash,...e])}}o(cX,"taprootAddPath");function fX(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...fX(t.left),...fX(t.right)]}o(fX,"taprootWalkTree");var SOe=Au(IC.BASE.toRawBytes(!1));function Bhn(t,e,r=b_,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?ji.decode(t):t||SOe;if(!ab(i,Na.schnorr))throw new Error("p2tr: non-schnorr pubkey");let s=e?cX(aX(e,i,n)):void 0,a=s?s.hash:void 0,[c,l]=bOe(i,a||zi),h;s&&(h=fX(s).map(E=>({...E,controlBlock:g_.encode({version:(E.version||lX)+l,internalKey:i,merklePath:E.path})})));let y;h&&(y=h.map(E=>[g_.decode(E.controlBlock),wg(E.script,new Uint8Array([E.version||lX]))]));let g={type:"tr",script:Ds.encode({type:"tr",pubkey:c}),address:NC(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:i};return h&&(g.leaves=h),y&&(g.tapLeafScript=y),a&&(g.tapMerkleRoot=a),g}o(Bhn,"p2tr");var q6t={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Ni(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:o(t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e},"decode")};var V6t={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=b6t(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let s=t[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Ni(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:o(t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e},"decode")};var j6t={encode(t){return{type:"unknown",script:Ma.encode(t)}},decode:o(t=>t.type==="unknown"?Ma.decode(t.script):void 0,"decode")},z6t=[C6t,k6t,B6t,P6t,L6t,D6t,U6t,q6t,V6t,j6t],K6t=R6(Ma,d_.match(z6t)),Ds=Tu(K6t,t=>{if(t.type==="pk"&&!ab(t.pubkey,Na.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Ni(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Ni(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Ni(t.pubkey)||!ab(t.pubkey,Na.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!ab(r,Na.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!ab(e,Na.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function AOe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}o(AOe,"validateWitness");function rX(t,e,r=b_){AOe(t,e);let n=t===0?dC:XY;return n.encode(r.bech32,[t].concat(n.toWords(e)))}o(rX,"programToWitness");function hOe(t,e){return gOe.encode(wg(Uint8Array.from(e),t))}o(hOe,"formatKey");function NC(t=b_){return{encode(e){let{type:r}=e;if(r==="wpkh")return rX(0,e.hash,t);if(r==="wsh")return rX(0,e.hash,t);if(r==="tr")return rX(1,e.pubkey,t);if(r==="pkh")return hOe(e.hash,[t.pubKeyHash]);if(r==="sh")return hOe(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=dC.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=XY.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...s]=n.words,a=dC.fromWords(s);if(AOe(i,a),i===0&&a.length===32)return{type:"wsh",hash:a};if(i===0&&a.length===20)return{type:"wpkh",hash:a};if(i===1&&a.length===32)return{type:"tr",pubkey:a};throw new Error("Unknown witness program")}let r=gOe.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}o(NC,"Address");var Mi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Mi||(Mi={}));var uX;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(uX||(uX={}));function $6t(t){if(typeof t!="number"||typeof uX[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}o($6t,"validateSigHash");function pOe(t){let e=t&31;return{isAny:!!(t&Mi.ANYONECANPAY),isNone:e===Mi.NONE,isSingle:e===Mi.SINGLE}}o(pOe,"unpackSighash");function vC(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:N6(t.sequence,xOe),finalScriptSig:N6(t.finalScriptSig,zi)}}o(vC,"inputBeforeSign");function mOe(t){for(let e in t){let r=e;I6t.includes(r)||delete t[r]}}o(mOe,"cleanFinalInput");function p_(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}o(p_,"outputBeforeSign");var lX=192,_C=o((t,e=lX)=>wf.utils.taggedHash("TapLeaf",new Uint8Array([e]),Nl.encode(t)),"tapLeafHash");function G6t(t,e,r,n=zi){return _i(r,e)&&(t=m6t(t,n),e=wf.getPublicKey(t)),{privKey:t,pubKey:e}}o(G6t,"getTaprootKeys");var W6t={}.toString;function Y6t(t){if(t!==void 0&&W6t.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:N6(t.version,y6t),lockTime:N6(t.lockTime,0),PSBTVersion:N6(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(Jn.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}o(Y6t,"validateOpts");var dX=class t{static{o(this,"Transaction")}constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=Y6t(e);r.lockTime!==sb&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=ah.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(e,r={}){let n;try{n=lOe.decode(e)}catch(g){try{n=dOe.decode(e)}catch{throw g}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let s=n.global.unsignedTx,a=i===0?s?.version:n.global.txVersion,c=i===0?s?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:a,lockTime:c,PSBTVersion:i}),h=i===0?s?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,h).map((g,E)=>({finalScriptSig:zi,...n.global.unsignedTx?.inputs[E],...g}));let y=i===0?s?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,y).map((g,E)=>({...g,...n.global.unsignedTx?.outputs[E]})),l.global={...n.global,txVersion:a},c!==sb&&(l.global.fallbackLocktime=c),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(s=>uOe(e,AC,s));for(let s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;let n=this.outputs.map(s=>uOe(e,TC,s)),i={...this.global};return e===0?(i.unsignedTx=ah.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===sb&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?lOe:dOe).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=sb,r=0,n=sb,i=0;for(let s of this.inputs)s.requiredHeightLocktime&&(e=Math.max(e,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?e:n!==sb?n:this.global.fallbackLocktime||sb}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Mi.DEFAULT?Mi.ALL:r&3;return{sigInputs:r&Mi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;let{sigInputs:c,sigOutputs:l}=this.inputSighash(s);if(c===Mi.ANYONECANPAY?n.push(s):e=!1,l===Mi.ALL)r=!1;else if(l===Mi.SINGLE)i.push(s);else if(l!==Mi.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(p_);this.hasWitnesses&&(e+=2),e+=4*Cl.encode(this.inputs.length).length,e+=4*Cl.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*Nl.encode(n.finalScriptSig||zi).length;for(let n of r)e+=32+4*Nl.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=hX.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return ah.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(vC).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||zi})),outputs:this.outputs.map(p_),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return ji.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return ji.encode(_g(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return ji.encode(_g(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),EC(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:s}=e;typeof i=="string"&&(i=ji.decode(i)),Ni(i)&&(i=ah.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof s=="string"&&(s=ji.decode(s)),s===void 0&&(s=r?.txid);let a={...r,...e,nonWitnessUtxo:i,txid:s};a.nonWitnessUtxo===void 0&&delete a.nonWitnessUtxo,a.sequence===void 0&&(a.sequence=xOe),a.tapMerkleRoot===null&&delete a.tapMerkleRoot,a=eX(AC,a,r,n),gX.encode(a);let c;return a.nonWitnessUtxo&&a.index!==void 0?c=a.nonWitnessUtxo.outputs[a.index]:a.witnessUtxo&&(c=a.witnessUtxo),c&&!this.opts.disableScriptCheck&&sX(c&&c.script,a.redeemScript,a.witnessScript),a}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addInput||s.inputs.includes(e))&&(i=R6t)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),EC(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:s}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof s=="string"&&(s=ji.decode(s)),s===void 0&&(s=r?.script);let a={...r,...e,amount:i,script:s};if(a.amount===void 0&&delete a.amount,a=eX(TC,a,r,n),yX.encode(a),a.script&&!this.opts.allowUnknownOutputs&&Ds.decode(a.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||sX(a.script,a.redeemScript,a.witnessScript),a}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addOutput||s.outputs.includes(e))&&(i=O6t)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=b_){return this.addOutput({script:Ds.encode(NC(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(p_);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:s,isSingle:a}=pOe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(a&&e>=this.outputs.length||e>=this.inputs.length)return G9e.encode(1n);r=Ma.encode(Ma.decode(r).filter(y=>y!=="CODESEPARATOR"));let c=this.inputs.map(vC).map((y,g)=>({...y,finalScriptSig:g===e?r:zi}));i?c=[c[e]]:(s||a)&&(c=c.map((y,g)=>({...y,sequence:g===e?y.sequence:0})));let l=this.outputs.map(p_);s?l=[]:a&&(l=l.slice(0,e).fill(v6t).concat([l[e]]));let h=ah.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:c,outputs:l});return _g(h,h_.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:s,isNone:a,isSingle:c}=pOe(n),l=xC,h=xC,y=xC,g=this.inputs.map(vC),E=this.outputs.map(p_);s||(l=_g(...g.map(tX.encode))),!s&&!c&&!a&&(h=_g(...g.map(O=>Jn.encode(O.sequence)))),!c&&!a?y=_g(...E.map(m_.encode)):c&&e<E.length&&(y=_g(m_.encode(E[e])));let T=g[e];return _g(h_.encode(this.version),l,h,Oi(32,!0).encode(T.txid),Jn.encode(T.index),Nl.encode(r),T6.encode(i),Jn.encode(T.sequence),y,Jn.encode(this.lockTime),Jn.encode(n))}preimageWitnessV1(e,r,n,i,s=-1,a,c=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let h=[B0.encode(0),B0.encode(n),h_.encode(this.version),Jn.encode(this.lockTime)],y=n===Mi.DEFAULT?Mi.ALL:n&3,g=n&Mi.ANYONECANPAY,E=this.inputs.map(vC),T=this.outputs.map(p_);g!==Mi.ANYONECANPAY&&h.push(...[E.map(tX.encode),i.map(T6.encode),r.map(Nl.encode),E.map(M=>Jn.encode(M.sequence))].map(M=>Au(wg(...M)))),y===Mi.ALL&&h.push(Au(wg(...T.map(m_.encode))));let O=(l?1:0)|(a?2:0);if(h.push(new Uint8Array([O])),g===Mi.ANYONECANPAY){let M=E[e];h.push(tX.encode(M),T6.encode(i[e]),Nl.encode(r[e]),Jn.encode(M.sequence))}else h.push(Jn.encode(e));return O&1&&h.push(Au(Nl.encode(l||zi))),y===Mi.SINGLE&&h.push(e<T.length?Au(m_.encode(T[e])):xC),a&&h.push(_C(a,c),B0.encode(0),h_.encode(s)),wf.utils.taggedHash("TapSighash",...h)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Mi.ALL,i=this.prevOut(e),s=Ds.decode(i.script),a=s.type,c=s,l=[s];if(s.type==="tr")return n=Mi.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let E=Ds.decode(e.redeemScript);(E.type==="wpkh"||E.type==="wsh")&&(r="segwit"),l.push(E),c=E,a+=`-${E.type}`}if(c.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let E=Ds.decode(e.witnessScript);E.type==="wsh"&&(r="segwit"),l.push(E),c=E,a+=`-${E.type}`}let h=l[l.length-1];if(h.type==="sh"||h.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let y=Ds.encode(h),g={type:a,txType:r,last:h,lastScript:y,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return g}}signIdx(e,r,n,i){this.checkInputIdx(r);let s=this.inputs[r],a=this.inputType(s);if(!Ni(e)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");let y=s.bip32Derivation.filter(E=>E[1].fingerprint==e.fingerprint).map(([E,{path:T}])=>{let O=e;for(let M of T)O=O.deriveChild(M);if(!_i(O.publicKey,E))throw new Error("bip32Derivation: wrong pubKey");if(!O.privateKey)throw new Error("bip32Derivation: no privateKey");return O});if(!y.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let g=!1;for(let E of y)this.signIdx(E.privateKey,r)&&(g=!0);return g}n?n.forEach($6t):n=[a.defaultSighash];let c=a.sighash;if(!n.includes(c))throw new Error(`Input with not allowed sigHash=${c}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===Mi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let h=this.prevOut(s);if(a.txType==="taproot"){if(s.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let y=this.inputs.map(this.prevOut),g=y.map(k=>k.script),E=y.map(k=>k.amount),T=!1,O=wf.getPublicKey(e),M=s.tapMerkleRoot||zi;if(s.tapInternalKey){let{pubKey:k,privKey:C}=G6t(e,O,s.tapInternalKey,M),[B,N]=bOe(s.tapInternalKey,M);if(_i(B,k)){let P=this.preimageWitnessV1(r,g,c,E),H=wg(wf.sign(P,C,i),c!==Mi.DEFAULT?new Uint8Array([c]):zi);this.updateInput(r,{tapKeySig:H},!0),T=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(let[k,C]of s.tapLeafScript){let B=C.subarray(0,-1),N=Ma.decode(B),P=C[C.length-1],H=_C(B,P);if(N.findIndex(X=>Ni(X)&&_i(X,O))===-1)continue;let Z=this.preimageWitnessV1(r,g,c,E,void 0,B,P),W=wg(wf.sign(Z,e,i),c!==Mi.DEFAULT?new Uint8Array([c]):zi);this.updateInput(r,{tapScriptSig:[[{pubKey:O,leafHash:H},W]]},!0),T=!0}}if(!T)throw new Error("No taproot scripts signed");return!0}else{let y=h6t(e),g=!1,E=RC(y);for(let M of Ma.decode(a.lastScript))Ni(M)&&(_i(M,y)||_i(M,E))&&(g=!0);if(!g)throw new Error(`Input script doesn't have pubKey: ${a.lastScript}`);let T;if(a.txType==="legacy")T=this.preimageLegacy(r,a.lastScript,c);else if(a.txType==="segwit"){let M=a.lastScript;a.last.type==="wpkh"&&(M=Ds.encode({type:"pkh",hash:a.last.hash})),T=this.preimageWitnessV0(r,M,c,h.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${a.txType}`);let O=p6t(T,e,this.opts.lowR);this.updateInput(r,{partialSig:[[y,wg(O,new Uint8Array([c]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(e,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((h,y)=>g_.encode(h[0]).length-g_.encode(y[0]).length);for(let[h,y]of l){let g=y.slice(0,-1),E=y[y.length-1],T=Ds.decode(g),O=_C(g,E),M=r.tapScriptSig.filter(C=>_i(C[0].leafHash,O)),k=[];if(T.type==="tr_ms"){let C=T.m,B=T.pubkeys,N=0;for(let P of B){let H=M.findIndex(F=>_i(F[0].pubKey,P));if(N===C||H===-1){k.push(zi);continue}k.push(M[H][1]),N++}if(N!==C)continue}else if(T.type==="tr_ns"){for(let C of T.pubkeys){let B=M.findIndex(N=>_i(N[0].pubKey,C));B!==-1&&k.push(M[B][1])}if(k.length!==T.pubkeys.length)continue}else if(T.type==="unknown"&&this.opts.allowUnknownInputs){let C=Ma.decode(g);if(k=M.map(([{pubKey:B},N])=>{let P=C.findIndex(H=>Ni(H)&&_i(H,B));if(P===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:N,pos:P}}).sort((B,N)=>B.pos-N.pos).map(B=>B.signature),!k.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=k.reverse().concat([g,g_.encode(h)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=zi,mOe(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=zi,s=[];if(n.last.type==="ms"){let l=n.last.m,h=n.last.pubkeys,y=[];for(let g of h){let E=r.partialSig.find(T=>_i(g,T[0]));E&&y.push(E[1])}if(y=y.slice(0,l),y.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${h.length} signatures=${y.length}`);i=Ma.encode([0,...y])}else if(n.last.type==="pk")i=Ma.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Ma.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=zi,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let a,c;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=Ma.decode(i).map(l=>{if(l===0)return zi;if(Ni(l))return l;throw new Error(`Wrong witness op=${l}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(c=s),n.type.startsWith("sh-wsh-")?a=Ma.encode([Ma.encode([0,Au(n.lastScript)])]):n.type.startsWith("sh-")?a=Ma.encode([...Ma.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(a=i),!a&&!c)throw new Error("Unknown error finalizing input");a&&(r.finalScriptSig=a),c&&(r.finalScriptWitness=c),mOe(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?ah.encode(this.global.unsignedTx):zi,n=e.global.unsignedTx?ah.encode(e.global.unsignedTx):zi;if(!_i(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=eX(pX,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};export{Cg as a,Rb as b,uQ as c,jg as d,y4 as e,f8 as f,Yb as g,_Ke as h,wKe as i,SKe as j,zL as k,Zl as l,Mx as m,WUt as n,ms as o,Ee as p,h$e as q,p$e as r,m$e as s,Lce as t,I$e as u,O$e as v,M$e as w,N$e as x,C$e as y,Ql as z,Ye as A,uA as B,k_ as C,St as D,Nn as E,io as F,D0 as G,nc as H,qc as I,Vc as J,jc as K,zc as L,zs as M,U0 as N,Kc as O,Mg as P,ic as Q,fh as R,F0 as S,uh as T,Cn as U,yy as V,Ft as W,L$t as X,Hh as Y,Qge as Z,jE as _,VE as $,Vp as aa,rye as ba,dI as ca,zE as da,oye as ea,eet as fa,tet as ga,BF as ha,ret as ia,net as ja,iet as ka,rs as la,dye as ma,ev as na,UF as oa,cet as pa,Oet as qa,Met as ra,rv as sa,jF as ta,KF as ua,yd as va,tH as wa,oH as xa,sH as ya,XYt as za,$p as Aa,jge as Ba,Nue as Ca,vF as Da,Kge as Ea,_F as Fa,Tge as Ga,Wf as Ha,wF as Ia,Yx as Ja,EF as Ka,SF as La,Bge as Ma,Pge as Na,Lge as Oa,Dge as Pa,Uge as Qa,Fge as Ra,Hge as Sa,qge as Ta,Vge as Ua,jQe as Va,Qu as Wa,TH as Xa,Uy as Ya,Fy as Za,is as _a,Di as $a,Wp as ab,ru as bb,MH as cb,ie as db,JI as eb,xq as fb,Lbe as gb,Ev as hb,Yh as ib,Bq as jb,mnt as kb,Iv as lb,Gq as mb,tit as nb,Yf as ob,$ge as pb,Gge as qb,zQe as rb,CF as sb,kF as tb,KQe as ub,$Qe as vb,rit as wb,lV as xb,e2e as yb,ja as zb,O_e as Ab,YV as Bb,pEe as Cb,Nj as Db,clt as Eb,HEe as Fb,llt as Gb,dlt as Hb,n2 as Ib,Bj as Jb,Mt as Kb,oSe as Lb,wn as Mb,JEe as Nb,f0 as Ob,rSe as Pb,nSe as Qb,iSe as Rb,sSe as Sb,fSe as Tb,uSe as Ub,lSe as Vb,dSe as Wb,hSe as Xb,pSe as Yb,mSe as Zb,gSe as _b,ySe as $b,bSe as ac,xSe as bc,aSe as cc,vSe as dc,cSe as ec,_Se as fc,wSe as gc,Hj as hc,RW as ic,OW as jc,v1 as kc,Slt as lc,uo as mc,USe as nc,Dlt as oc,u0 as pc,_1 as qc,GS as rc,iz as sc,oz as tc,vi as uc,cz as vc,idt as wc,WS as xc,GSe as yc,fz as zc,H1r as Ac,Tc as Bc,W1r as Cc,Q1r as Dc,B$ as Ec,Vyt as Fc,Tt as Gc,Je as Hc,YS as Ic,dgt as Jc,rr as Kc,ggt as Lc,ygt as Mc,WO as Nc,Agt as Oc,Tgt as Pc,Igt as Qc,Rgt as Rc,L8e as Sc,$yt as Tc,hyt as Uc,_8e as Vc,pyt as Wc,yyt as Xc,j3 as Yc,N$ as Zc,Jd as _c,Nyt as $c,Cyt as ad,og as bd,kyt as cd,O3 as dd,q8e as ed,L$ as fd,K3 as gd,EM as hd,YK as id,A4e as jd,T4e as kd,XK as ld,Ngt as md,k4e as nd,Xm as od,QO as pd,Gr as qd,Xd as rd,o$ as sd,J4e as td,Jm as ud,r8e as vd,n8e as wd,i8e as xd,Ygt as yd,f8e as zd,h$ as Ad,Hi as Bd,ZK as Cd,Mgt as Dd,tyt as Ed,m$ as Fd,g$ as Gd,b8e as Hd,E$ as Id,A$ as Jd,Pyt as Kd,Dyt as Ld,r_ as Md,Q2t as Nd,e_t as Od,o_t as Pd,s_t as Qd,a_t as Rd,f_t as Sd,Uyt as Td,Fyt as Ud,Hyt as Vd,qyt as Wd,u_t as Xd,l_t as Yd,dIe as Zd,l6 as _d,K2t as $d,wW as ae,TW as be,nh as ce,EN as de,IW as ee,G2t as fe,t_ as ge,X2t as he,W2t as ie,d6 as je,Z2t as ke,d_t as le,h_t as me,p_t as ne,Jsn as oe,JSt as pe,ein as qe,WRe as re,fin as se,pin as te,xin as ue,YRe as ve,Rin as we,Pin as xe,aRe as ye,DN as ze,VRe as Ae,zRe as Be,Q1 as Ce,Hin as De,Htn as Ee,Kin as Fe,trn as Ge,rrn as He,Xin as Ie,dY as Je,_wt as Ke,owt as Le,Ewt as Me,Swt as Ne,Awt as Oe,Iwt as Pe,Gon as Qe,qRe as Re,PRe as Se,FRe as Te,pg as Ue,Yrn as Ve,esn as We,asn as Xe,hY as Ye,Ssn as Ze,tnn as _e,Osn as $e,Psn as af,Vsn as bf,Gsn as cf,o7e as df,Mwt as ef,Nwt as ff,gan as gf,snn as hf,Cwt as if,Aan as jf,lnn as kf,kwt as lf,Uan as mf,Kan as nf,u7e as of,ecn as pf,ocn as qf,Unn as rf,lcn as sf,gcn as tf,znn as uf,_cn as vf,Ncn as wf,Lcn as xf,qcn as yf,Ynn as zf,d7e as Af,Zcn as Bf,rfn as Cf,b_ as Df,Ma as Ef,Chn as Ff,khn as Gf,Bhn as Hf,Ds as If,dX as Jf,UX as Kf,wfn as Lf,Efn as Mf,r3t as Nf};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

numeral/numeral.js:
  (*! @preserve
   * numeral.js
   * version : 2.0.6
   * author : Adam Draper
   * license : MIT
   * http://adamwdraper.github.com/Numeral-js/
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-LPV5DSV2.js.map
