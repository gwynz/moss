import{a as f}from"./chunk-5S2LR6TU.js";import{e as V}from"./chunk-UN5DVVHZ.js";import{e as F,f as O,g as Q}from"./chunk-KYC3TN2Q.js";import"./chunk-RKISZW47.js";import"./chunk-IAL2BZAA.js";import"./chunk-M6UNEOVM.js";import"./chunk-DQLUBVF4.js";import"./chunk-IP6N33CZ.js";import"./chunk-S2IXR5HZ.js";import"./chunk-EOII3ZM4.js";import{b as S}from"./chunk-KUVQSLSD.js";import"./chunk-H3HVEJML.js";import{_a as m}from"./chunk-NDIBTKLE.js";import"./chunk-6JMEWALM.js";import"./chunk-KWNEQJE2.js";import{N as R,_ as M}from"./chunk-HGG2EQ5O.js";import"./chunk-PQUTVVRL.js";import"./chunk-IOXJCRJI.js";import{b as H}from"./chunk-XGLSOW44.js";import"./chunk-56GZZQJU.js";import"./chunk-QLEUWUCH.js";import"./chunk-OJPBMZQC.js";import"./chunk-FLYQWZR6.js";import"./chunk-CYENH7PC.js";import{Fb as z,p as N}from"./chunk-F236ETGH.js";import{Va as B,Wa as K}from"./chunk-QF7OLC35.js";import{A as L,D as v,Kb as w,Wa as g}from"./chunk-LPV5DSV2.js";import"./chunk-NEE4FZIK.js";import"./chunk-BYU664DD.js";import{Ba as A,L as $,M as E,Y as P}from"./chunk-JYKVQ4NC.js";import"./chunk-U7OZEJ4F.js";import"./chunk-ZRGHR2IN.js";import{a as h,g as y,i as I,n as b}from"./chunk-TSHWMJEM.js";I();b();var r=y($(),1);var e=y(E(),1),j=h(a=>{let s={lamports:a.lamports,votePubkey:a.votePubkey,usdPerSol:a.usdPerSol,onClose:a.onClose,validatorName:a.validatorName},{t}=P(),{createStakeAccountAndDelegateStake:l,needsLedgerApproval:u,txHash:n,confirmationStatus:d,isError:k,error:i,onDeny:c}=ee(s);if(u)return(0,e.jsx)(O,{ledgerAction:l,cancel:c});if(k){let o=i?.message;return F(i)?(0,e.jsx)(Q,{ledgerActionError:i,onRetryClick:l,onCancelClick:c}):(0,e.jsxs)(S,{icon:"error",title:t("stakeAccountCreateAndDelegateStakingFailed"),onClose:c,showButton:!!n,iconSize:"large",children:[(0,e.jsx)(m,{wordBreak:"break-word",color:A.colors.legacy.textDiminished,size:16,lineHeight:20.8,children:o??t("stakeAccountCreateAndDelegateErrorStaking")}),(0,e.jsx)(f,{txHash:n,children:t("stakeAccountCreateAndDelegateViewTransaction")})]})}return d==="finalized"?(0,e.jsxs)(S,{icon:"success",title:t("stakeAccountCreateAndDelegateSolStaked"),onClose:a.onClose,iconSize:"large",children:[(0,e.jsx)(m,{wordBreak:"break-word",color:A.colors.legacy.textDiminished,size:16,lineHeight:20.8,children:(0,e.jsxs)(H,{i18nKey:"stakeAccountCreateAndDelegateSolStakedDisclaimerInterpolated",children:["Your SOL will begin earning rewards",(0,e.jsx)("br",{})," in the next couple of days once the stake account becomes active."]})}),(0,e.jsx)(f,{txHash:n,children:t("stakeAccountCreateAndDelegateViewTransaction")})]}):(0,e.jsxs)(S,{icon:"loading",title:t("stakeAccountCreateAndDelegateStakingSol"),onClose:a.onClose,iconSize:"large",children:[(0,e.jsx)(m,{wordBreak:"break-word",color:A.colors.legacy.textDiminished,size:16,lineHeight:20.8,children:t("stakeAccountCreateAndDelegateStakingSolDisclaimerInterpolated",{validatorName:a.validatorName})}),(0,e.jsx)(f,{txHash:n,children:t("stakeAccountCreateAndDelegateViewTransaction")})]})},"StakeAccountCreateAndDelegateStatusPage"),he=j,ee=h(({onClose:a,...s})=>{let{data:t,isSuccess:l}=z(),{accountIdentifier:u,isLedgerAccount:n,solanaChainAddress:d,solanaPublicKey:k,connection:i,networkID:c}=(0,r.useMemo)(()=>{let U=t?.identifier??"",C=(t?.addresses??[]).find(_=>w.isSolanaNetworkID(_.networkID)),W=new g.PublicKey(C?.address??""),X=t?.type===N.Ledger,x=C?.networkID,Z=B(K(x));return{accountIdentifier:U,isLedgerAccount:X,solanaChainAddress:C,solanaPublicKey:W,connection:Z,networkID:x}},[t]),o=V(i),D=(0,r.useCallback)(()=>{o.mutate({...s,accountIdentifier:u,senderAddress:d,authorizedPubkey:k,votePubkey:new g.PublicKey(s.votePubkey)})},[u,s,o,d,k]),p=R(),Y=(0,r.useCallback)(()=>{p.denied({chainType:L.Solana,chainName:v.Solana,networkId:w.getSolanaNetworkIDValue(c),type:"delegate"}),a()},[c,a,p]);(0,r.useEffect)(()=>{if(l){if(!t||!d)throw new Error("Selected account undefined when trying to perform stake transaction.");n||D()}},[l]);let T=o.data?.id,q=M(i,2e3,T),G=n&&(o.isIdle||o.isPending),J=q.data?.value?.confirmationStatus;return{createStakeAccountAndDelegateStake:D,onDeny:Y,needsLedgerApproval:G,txHash:T,confirmationStatus:J,isError:o.isError,error:o.error}},"useCreateAndDelegateOnMount");export{j as StakeAccountCreateAndDelegateStatusPage,he as default};
//# sourceMappingURL=StakeAccountCreateAndDelegateStatusPage-U4AYFVNF.js.map
