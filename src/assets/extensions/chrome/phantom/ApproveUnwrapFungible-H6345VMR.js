import{a as ce}from"./chunk-EDANRIVM.js";import{a as pe}from"./chunk-LZSJBMYD.js";import"./chunk-62SZ2XSE.js";import{U as me}from"./chunk-YTLZ2SGV.js";import"./chunk-IRPDX252.js";import"./chunk-U5BHRVQL.js";import"./chunk-5S2LR6TU.js";import"./chunk-UN5DVVHZ.js";import"./chunk-K3AOJOH2.js";import{s as ie}from"./chunk-QNVGN5HE.js";import"./chunk-KYC3TN2Q.js";import"./chunk-KECH4XEC.js";import"./chunk-RKISZW47.js";import"./chunk-OP3E2FEL.js";import"./chunk-D6ZWMAKN.js";import{l as se}from"./chunk-OHN4H3IY.js";import"./chunk-YEWLBR7H.js";import"./chunk-HAR363KY.js";import"./chunk-YE5I2OIJ.js";import"./chunk-XCWTSWVJ.js";import{a as h}from"./chunk-OEKZJ4Z7.js";import{b as ae,g as re}from"./chunk-IAL2BZAA.js";import"./chunk-M6UNEOVM.js";import"./chunk-Y7HDHZJX.js";import"./chunk-DQLUBVF4.js";import"./chunk-RHCYAVA3.js";import"./chunk-3ZRYSYYB.js";import"./chunk-IP6N33CZ.js";import"./chunk-S2IXR5HZ.js";import"./chunk-GA7OWDUC.js";import"./chunk-EOII3ZM4.js";import"./chunk-4AQPJCXC.js";import"./chunk-NFWY65KR.js";import"./chunk-KUVQSLSD.js";import"./chunk-IEGIKGVV.js";import{d as oe}from"./chunk-H3HVEJML.js";import{_a as ne,c as te}from"./chunk-NDIBTKLE.js";import{c as S}from"./chunk-6JMEWALM.js";import"./chunk-5NEPC5CX.js";import"./chunk-JQE54VLJ.js";import"./chunk-KWNEQJE2.js";import"./chunk-HGG2EQ5O.js";import"./chunk-PQUTVVRL.js";import{H as W,J as X,K as Y,L as Z,ab as _,fb as ee,p as Q}from"./chunk-IOXJCRJI.js";import"./chunk-XGLSOW44.js";import"./chunk-56GZZQJU.js";import"./chunk-QLEUWUCH.js";import"./chunk-ZGQB4B3Z.js";import"./chunk-OJPBMZQC.js";import"./chunk-FLYQWZR6.js";import"./chunk-UPPQC44E.js";import"./chunk-CYENH7PC.js";import{Fb as O,wc as j}from"./chunk-F236ETGH.js";import{_ as K,g as J}from"./chunk-QF7OLC35.js";import{A as H,Kb as k,Mb as $}from"./chunk-LPV5DSV2.js";import{u as B}from"./chunk-NEE4FZIK.js";import"./chunk-BYU664DD.js";import{Ba as c,K as I,L as ke,M as L,Xa as q,Y as z}from"./chunk-JYKVQ4NC.js";import"./chunk-U7OZEJ4F.js";import"./chunk-ZRGHR2IN.js";import{a as f,g as E,i as R,n as V}from"./chunk-TSHWMJEM.js";R();V();var n=E(ke(),1);var o=E(L(),1),Ue=S(h).attrs({align:"center"})`
  height: 100%;
`,ve=S(h).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,xe=S(h).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,De=S(ne).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Ae=f((a,e)=>{let{status:p,data:i}=W({networkID:a}),[t,l]=(0,n.useState)(J.standard),{popDetailView:r,pushDetailView:m}=ae(),y;return p!=="error"&&i&&t&&e&&(y=f(()=>{m((0,o.jsx)(pe,{onSelectTransactionSpeed:l,selectedTransactionSpeed:t,networkID:a,transactionUnitAmount:e,closeModal:r}))},"openGasSettings")),{transactionSpeed:t,openGasSettings:y}},"useUnwrapGasSettings"),Ce=f(a=>{let{t:e}=z(),p=te(),{handleHideModalVisibility:i}=me(),{chain:t,tokenAddress:l,balance:r,symbol:m,logoUri:y,walletAddress:de}=a.data,s=t.id,U=k.getNetworkName(s),{data:le}=O(),ue=le?.addresses??[],{data:u}=j({networkID:s,address:de}),g=(0,n.useMemo)(()=>({pageHeaderText:e("unwrapFungibleConfirmSwap"),swapTitle:e("unwrapFungibleConfirmSwapTitle",{fromToken:m,toToken:t.symbol}),networkFeeText:e("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:e("networkFeesTooltipDescription",{chainName:U}),confirmSwap:e("commandSwap"),cancelSwap:e("commandClose")}),[t.symbol,U,m,e]),{data:T,isPending:ge}=Q({amount:r,caip19:{chainId:s,resourceType:$.address,address:l??""},owner:u?.address??""}),d=(0,n.useMemo)(()=>T&&u?B.parse({to:T.to,from:u.address??"",data:T.data}):void 0,[T,u]),v=(0,n.useMemo)(()=>d?{type:H.EVM,networkID:s,unsignedTransaction:d}:void 0,[s,d]),{data:we}=X(v),{transactionSpeed:fe,openGasSettings:x}=Ae(s,we),{data:w,isFetched:D,isError:A,isSuccess:Se}=Y({networkID:s,transactionSpeed:fe,multichainTransaction:v,queryOptions:{refetchInterval:!1}}),{data:C}=Z(s,w),ye=C?.gasEstimationPriceUSD?e("gasUpTo",{amount:C?.gasEstimationPriceUSD}):void 0,Te=K(w),F=ye??Te??"",{hasSufficientFunds:P,nativeTokenSymbol:N}=_({networkID:s,addressType:u?.addressType,gasEstimation:w,transactionValue:new I(r??"0",16)}),G=D&&!Se,b=(0,n.useMemo)(()=>A?e("transactionGasLimitError"):G?e("transactionGasEstimationError"):P==="insufficient"?e("transactionNotEnoughNative",{nativeTokenSymbol:N}):"",[A,G,P,e,N]),be=(0,n.useMemo)(()=>[{label:e("commandSend"),value:`+${r} ${t.symbol}`,color:c.colors.legacy.spotPositive},{label:e("commandReceive"),value:`-${r} ${m}`,color:c.colors.legacy.spotNegative},{label:g.networkFeeText,onClick:x,value:F.length>0?F:(0,o.jsx)(ie,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:c.colors.legacy.borderDiminished}),color:b?c.colors.legacy.spotNegative:c.colors.legacy.textBase,leftSubtext:b,subtextColor:c.colors.legacy.spotNegative,tooltipContent:g.networkFeeTextDescription}],[r,t.symbol,g.networkFeeText,g.networkFeeTextDescription,F,b,x,m,e]),{mutateAsync:M,isPending:he}=ee(ue),Fe=(0,n.useCallback)(()=>{M({fungible:a,unsignedUnwrapTx:d,gasEstimation:w}),i("approveUnwrapFungible"),p("/notifications")},[a,w,i,p,d,M]),Ee=(0,n.useCallback)(()=>{i("approveUnwrapFungible")},[i]);return{isLoading:ge||!D,isSwapDisabled:he||!d||!!b,logoUri:y,summaryRows:be,i18nStrings:g,onConfirmSwap:Fe,onDenySwap:Ee}},"useApproveUnwrapEVMFungibleProps"),Pe=f(({fungible:a})=>{if(k.isEthereumNetworkID(a.data.chain.id)){let e=Ce(a);return(0,o.jsx)(Ne,{...e})}throw new Error(`Unwrap fungible not supported for chain: ${a.data.chain.id}`)},"ApproveUnwrapFungible"),rt=Pe,Ne=n.default.memo(({isLoading:a,isSwapDisabled:e,logoUri:p,summaryRows:i,i18nStrings:t,onConfirmSwap:l,onDenySwap:r})=>(0,o.jsxs)(Ue,{children:[(0,o.jsx)(re,{children:t.pageHeaderText}),(0,o.jsxs)(ve,{children:[(0,o.jsxs)(xe,{children:[(0,o.jsx)(se,{image:{type:"icon",preset:"swap"},size:64,badge:{src:p??""}}),(0,o.jsx)(De,{children:t.swapTitle})]}),(0,o.jsx)(ce,{rows:i,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),(0,o.jsx)(q,{mode:"wait",initial:!1,children:(0,o.jsx)(oe,{primaryText:t.confirmSwap,secondaryText:t.cancelSwap,primaryDisabled:a||e,onPrimaryClicked:l,onSecondaryClicked:r})})]})]}));export{rt as default};
//# sourceMappingURL=ApproveUnwrapFungible-H6345VMR.js.map
