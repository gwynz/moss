import{b as c}from"./chunk-UPPQC44E.js";import{a as l}from"./chunk-CYENH7PC.js";import{Aa as r}from"./chunk-JYKVQ4NC.js";import{a as n,g as w,i as s,n as a}from"./chunk-TSHWMJEM.js";s();a();var o=w(l());var m=c().name==="Google Chrome",P=n(()=>{try{if(chrome?.sidePanel)return!0}catch{}return!!o.default?.sidebarAction},"isSidebarSupported"),b=n(async()=>{try{if(chrome?.sidePanel){let{openPanelOnActionClick:e}=await chrome.sidePanel.getPanelBehavior();e&&await chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!1})}}catch(e){console.error(e)}},"resetSidePanelBehavior"),y=n(async()=>o.default.sidebarAction?o.default.sidebarAction.isOpen({}):self.location.pathname.endsWith("notification.html")?!1:self.innerHeight>r.height,"getIsSidebarOpen"),g=self.innerHeight>r.height,d="sidePanelWindow",S=n(async()=>{if(o.default.sidebarAction)await o.default.sidebarAction.close();else{let e=await o.default.windows.getCurrent();if(e.id!==void 0){let i=`${d}_${e.id}`;await chrome.storage.session.remove(i)}self.close()}},"closeSidebar"),A=n(()=>{o.default.sidebarAction?(o.default.sidebarAction.open(),self.close()):o.default.tabs.query({active:!0,currentWindow:!0}).then(([e])=>{let i=e?.id,t=e?.windowId;if(i===void 0||t===void 0)throw new Error("No active tab found");let p=`${d}_${t}`;return chrome.storage.session.set({[p]:!0}).then(()=>chrome.sidePanel.open({tabId:i,windowId:t}))}).then(()=>{setTimeout(()=>self.close(),100)}).catch(e=>{console.error("Failed to open side panel:",e),setTimeout(()=>self.close(),100)})},"openSidebar");export{m as a,P as b,b as c,y as d,S as e,A as f};
//# sourceMappingURL=chunk-AB2ZEUFU.js.map
