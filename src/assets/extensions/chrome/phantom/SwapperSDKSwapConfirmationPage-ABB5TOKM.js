import{U as q}from"./chunk-YTLZ2SGV.js";import"./chunk-IRPDX252.js";import"./chunk-U5BHRVQL.js";import"./chunk-5S2LR6TU.js";import"./chunk-UN5DVVHZ.js";import"./chunk-K3AOJOH2.js";import"./chunk-QNVGN5HE.js";import"./chunk-KYC3TN2Q.js";import"./chunk-KECH4XEC.js";import"./chunk-RKISZW47.js";import"./chunk-OP3E2FEL.js";import"./chunk-D6ZWMAKN.js";import"./chunk-OHN4H3IY.js";import"./chunk-YEWLBR7H.js";import"./chunk-HAR363KY.js";import"./chunk-YE5I2OIJ.js";import"./chunk-XCWTSWVJ.js";import"./chunk-OEKZJ4Z7.js";import"./chunk-IAL2BZAA.js";import"./chunk-M6UNEOVM.js";import"./chunk-Y7HDHZJX.js";import"./chunk-DQLUBVF4.js";import"./chunk-RHCYAVA3.js";import"./chunk-3ZRYSYYB.js";import"./chunk-IP6N33CZ.js";import"./chunk-S2IXR5HZ.js";import"./chunk-GA7OWDUC.js";import"./chunk-EOII3ZM4.js";import"./chunk-4AQPJCXC.js";import"./chunk-NFWY65KR.js";import"./chunk-KUVQSLSD.js";import"./chunk-IEGIKGVV.js";import"./chunk-H3HVEJML.js";import{c as _}from"./chunk-NDIBTKLE.js";import"./chunk-6JMEWALM.js";import"./chunk-5NEPC5CX.js";import"./chunk-JQE54VLJ.js";import"./chunk-KWNEQJE2.js";import"./chunk-HGG2EQ5O.js";import{$ as U,O as K,R as i,Ya as Q,ab as W,qa as z}from"./chunk-PQUTVVRL.js";import"./chunk-IOXJCRJI.js";import"./chunk-XGLSOW44.js";import"./chunk-56GZZQJU.js";import"./chunk-QLEUWUCH.js";import"./chunk-ZGQB4B3Z.js";import"./chunk-OJPBMZQC.js";import{ia as M}from"./chunk-FLYQWZR6.js";import"./chunk-UPPQC44E.js";import"./chunk-CYENH7PC.js";import{Fb as I,p as $}from"./chunk-F236ETGH.js";import"./chunk-QF7OLC35.js";import{Kb as k}from"./chunk-LPV5DSV2.js";import"./chunk-NEE4FZIK.js";import"./chunk-BYU664DD.js";import{L as ne,La as P,M as V,Y as A,cc as H,ub as L}from"./chunk-JYKVQ4NC.js";import"./chunk-U7OZEJ4F.js";import"./chunk-ZRGHR2IN.js";import{a as u,g as y,i as v,n as F}from"./chunk-TSHWMJEM.js";v();F();var t=y(ne(),1);var f=y(V(),1),ie=u(o=>self.open(o,"_blank"),"openURL"),ae=u(()=>{let{handleHideModalVisibility:o}=q(),e=_(),{data:m}=I(),w=m?.type===$.Ledger,l="swapSDKConfirmation",c=(0,t.useCallback)(()=>{o(l)},[o,l]),a=(0,t.useCallback)(()=>{c(),e("/notifications")},[c,e]);return W({isLedger:w,goToSwapTab:c,goToActivityTab:a})},"useSwapConfirmationViewProps"),se=u(()=>{let o=(0,t.useRef)(null),{t:e}=A(),m=U(),E=ae(),{data:w}=M(),l=e("swapTxConfirmationViewTransaction"),{isBridge:c,sellAsset:a,buyAsset:p,estimatedTime:G,isClosable:J,isSuccess:O,txErrorHelpButtonLink:X,onClose:Y,onSwapSuccess:Z}=E,[S,j]=(0,t.useState)(void 0),[n,ee]=(0,t.useState)(void 0),[B,te]=(0,t.useState)(!1),s,r,N,x,D=e("commandClose"),R,T=J||!1,g,h;if(c&&a){let d=`${a.amount} ${a.symbol}`,C=k.getNetworkName(a.networkID),b=`${p.amount} ${p.symbol}`,oe=k.getNetworkName(p.networkID);s=e("swapTxBridgeSubmitting"),r=e("swapTxBridgeSubmittingDescription",{sellAmount:d,sellNetwork:C,buyAmount:b,buyNetwork:oe})}else r=`${p.symbol||e("swapTxConfirmationTokens")} ${e("swapTxConfirmationTokensWillBeDeposited")} `,s=e("swapTxConfirmationSwappingTokens");return n?.type===i.ExecuteSwapStarted&&o.current?.start(),n?.type===i.TransactionConfirmed&&(c?(s=e("swapTxBridgeSubmitted"),r=e("swapTxBridgeSubmittedDescription",{estimatedTime:G}),N=e("swapTxBridgeSubmittedDisclaimer")):(s=e("swapTxConfirmationTokensDepositedTitle"),r=e("swapTxConfirmationTokensDepositedBody")),x={background:"spot"},T=!0,o.current?.success()),(n?.type===i.SimulationFailed||n?.type===i.TransactionConfirmationFailed||n?.type===i.TransactionSubmissionFailed)&&(x={background:"element"},D=e("commandClose"),T=!0,R=(0,f.jsx)(P,{alignItems:"flex-end",children:(0,f.jsx)(L,{icon:"HelpCircle",size:32,onClick:()=>ie(X),backgroundColor:[null,"elementAccent"],color:["textDiminished","textBase"],label:e("commandHelp")})})),n?.type===i.SimulationFailed&&(s=`${e("swapTxConfirmationSwapFailed")} ${a.symbol} \u2192 ${p.symbol}`,r=z(n.error),o.current?.fail()),(n?.type===i.TransactionConfirmationFailed||n?.type===i.TransactionSubmissionFailed)&&(s=e("swapTxConfirmationSwapFailed"),r=e("swapTxConfirmationSwapFailedUnknownError"),o.current?.fail()),(0,t.useEffect)(()=>{!g&&setTimeout(()=>{!B&&o.current?.start(),te(!0)},200)},[B,g]),(0,t.useEffect)(()=>{let d=m.subscribeExecution({onStateChange:u((C,b)=>{j(b),ee(C)},"onStateChange")});return()=>d()},[m]),S?.type===K.ConfirmingTransaction&&(h=Q({txReceipt:S?.txReceipt,networkID:S?.executingQuote.sell.data.chain.id,preferredExplorers:w})),(0,f.jsx)(H,{ref:o,title:s,txLink:h,txTitle:l,description:r,disclaimer:N,isClosable:T,buttonVariant:x,buttonText:D,onClose:O?Z:Y,header:R,customIcon:g})},"SwapperSDKSwapConfirmationPage"),ye=se;export{se as SwapperSDKSwapConfirmationPage,ye as default};
//# sourceMappingURL=SwapperSDKSwapConfirmationPage-ABB5TOKM.js.map
