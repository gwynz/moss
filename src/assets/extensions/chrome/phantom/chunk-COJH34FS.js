import{a as nt,b as To}from"./chunk-XY47KZPZ.js";import{a as Fo}from"./chunk-QCR3LFJC.js";import{a as xo,b as ko,d as Co,e as Eo,f as Ro}from"./chunk-TXVOU644.js";import{E as bo,F as Ao,G as kt}from"./chunk-YTLZ2SGV.js";import{r as yo}from"./chunk-QNVGN5HE.js";import{a as Wt}from"./chunk-OP3E2FEL.js";import{a as Ht}from"./chunk-D6ZWMAKN.js";import{U as ho}from"./chunk-OHN4H3IY.js";import{f as So}from"./chunk-YE5I2OIJ.js";import{p as wn}from"./chunk-DQLUBVF4.js";import{a as fo,c as go}from"./chunk-H3HVEJML.js";import{L as po,_a as at,v as lo}from"./chunk-NDIBTKLE.js";import{c as ae}from"./chunk-6JMEWALM.js";import{ca as tt,da as g}from"./chunk-KWNEQJE2.js";import{ka as mo,ma as uo}from"./chunk-HGG2EQ5O.js";import{$a as ao,db as co}from"./chunk-PQUTVVRL.js";import{C as Wn,Ca as no,H as Tt,J as Gn,K as et,L as $n,N as Kn,Na as xt,T as Ft,Ua as oo,V as jn,X as zn,Z as Zn,aa as Xn,ab as ro,ca as Qn,db as so,eb as io,f as _t,fa as Yn,ia as it,ja as Jn,la as qn,ma as eo,oa as to}from"./chunk-IOXJCRJI.js";import{a as Rn,b as bt}from"./chunk-XGLSOW44.js";import{Ka as In,ha as vn,pa as Ve,ya as Vt}from"./chunk-FLYQWZR6.js";import{B as $e,Fb as An,Rb as yn,hc as Tn,j as cn,p as mn,ub as Oe,wc as St}from"./chunk-F236ETGH.js";import{Ed as On,Jd as Vn,Od as _n,Ra as Ke,Rd as st,Sd as Hn,Ua as Ln,Vb as Dn,Vd as qe,Wb as Mn,X as Nn,Xc as At,Yc as Un,fd as yt,g as Bn,nd as Je,ud as Pn}from"./chunk-QF7OLC35.js";import{$e as Sn,A as Ge,Ad as an,De as un,E as on,Ee as ln,Fe as pn,Gc as ve,Ge as fn,Hc as Fe,Ia as rn,Je as gn,Kb as x,Kc as xe,Mb as Ut,Mf as Ye,Qb as pt,Rb as Pt,U as ut,Vd as dn,Wa as lt,We as Ie,af as hn,bf as Ot,dc as ft,dd as sn,ie as gt,if as bn}from"./chunk-LPV5DSV2.js";import{B as tn,Ba as Be,C as nn,Ea as Fn,J as we,L as j,La as q,Lb as En,M as ne,Ma as xn,Sa as z,T as p,Ta as kn,Y as ie,hb as Cn,lb as ht}from"./chunk-JYKVQ4NC.js";import{a as i,g as F,i as c,m as Buffer,n as m}from"./chunk-TSHWMJEM.js";c();m();var ke=F(j());c();m();var Ct=F(ne());var Et=F(j());c();m();var Ne=F(ne());var wo=i(({goHome:e})=>{let{t}=ie();return(0,Ne.jsxs)(q,{height:"100%",paddingY:36,paddingX:"screen",justifyContent:"center",alignItems:"center",children:[(0,Ne.jsxs)(q,{flex:1,justifyContent:"center",alignItems:"center",children:[(0,Ne.jsx)(q,{marginBottom:24,children:(0,Ne.jsx)(ht,{icon:"X",size:64,shape:"circle",backgroundColor:"spotNegative"})}),(0,Ne.jsx)(z,{color:"textBase",align:"center",font:"title1Semibold",marginBottom:8,children:t("sendErrorTitle")}),(0,Ne.jsx)(z,{color:"textDiminished",align:"center",font:"body",children:t("sendErrorFallback")})]}),(0,Ne.jsx)(Cn,{onPress:e,children:t("homeTab")})]})},"SendErrorFallback");var Gt=(0,Et.createContext)(!1),ts=i(({goHome:e,children:t})=>{let n=(0,Et.useCallback)(()=>{g.getState().resetSendSlice(),e()},[e]);return(0,Ct.jsx)(Rn,{fallback:i(o=>{if(o instanceof tt)return(0,Ct.jsx)(wo,{goHome:n});throw o},"fallback"),children:(0,Ct.jsx)(Gt.Provider,{value:!0,children:t})})},"SendFungibleFlowErrorBoundary");c();m();var Bo=F(j());c();m();c();m();var vo=i((e,t)=>{let{getExistingAccount:n,getKnownAddressLabel:o}=Ve();if(!e)return null;let r=n(e),s=o(e,t),u=r?r.name:s;return u||null},"useResolveHandleFromAddress");var Rt=i(({recipient:e,recipientHandle:t,networkID:n})=>{let o=vo(e,n),{data:r}=Zn(e,n),s=r?.address&&e;return{recipient:r?.address?r.address:e,recipientHandle:t||o||s||""}},"useResolvedRecipient");c();m();var Io=i((e,t)=>{let n=$e(e,4);return t?`${t} (${n})`:n},"formatRecipient");var $t=i(()=>{let e=g(r=>r.sendFormValues.recipient),t=g(r=>r.sendFormValues.recipientHandle),n=g(r=>r.encodedCaip19),o=n?pt(n).chainId:ut.Solana.Mainnet;return Rt({recipient:e,recipientHandle:t,networkID:o})},"useResolvedSendFungibleRecipient"),No=i(()=>{let{recipient:e,recipientHandle:t}=$t();return(0,Bo.useMemo)(()=>Io(e,t),[e,t])},"useFormattedSendFungibleRecipient");var pe=i(()=>{if(!(0,ke.useContext)(Gt))throw new Error("useSendFungibleFlow must be used within a SendFungibleFlowErrorBoundary");let t=yn(),n=g(U=>U.fungibleKey),o=g(U=>U.encodedCaip19),r=g(U=>U.splTokenAccount),s=g(U=>!!U.sendFormValues.solana),u=(0,ke.useMemo)(()=>{if(o)return o;if(s&&n){let U=t.find(K=>x.isSolanaNetworkID(K))??x.solana.mainnetID;return n==="SolanaNative"?Pt({chainId:U,resourceType:Ut.nativeToken,slip44:on.Solana}):Pt({chainId:U,resourceType:Ut.address,address:n})}},[o,s,n,t]),{data:d}=xt({legacyKey:n??"",encodedCaip19:u??"",isSplCompressed:!1,queryOptions:{enabled:!!n&&!!u}}),f=(0,ke.useMemo)(()=>{if(d)return Ao(d,{splTokenAccount:r})},[d,r]),[a,l]=(0,ke.useState)(f);f&&!a&&l(f);let w=(0,ke.useMemo)(()=>{let U=a?.data.chain.id;if(U){if(x.isBitcoinNetworkID(U)){let K=a?.data.walletAddress;return K?{address:K,networkID:U}:void 0}return U}},[a]),{data:y}=St(w);if(!a&&!y)throw new tt("fungible and senderAddress are undefined, send flow is broken");if(!a)throw new tt("fungible is undefined, send flow is broken");if(!y)throw new tt("senderAddress is undefined, send flow is broken");let{data:C,type:v}=a,{chain:O,decimals:M,logoUri:S,symbol:B,balance:E,key:_}=C,H=(0,ke.useMemo)(()=>{if(d)return kt(d);if(C.tokenAddress)return C.tokenAddress},[d,C.tokenAddress]),N=O.id,X=B||(H?$e(H,4):p.t("tokenRowUnknownToken")),b=H??"",A=v===At.SPL?a.data.programId:null,T=No(),R=g(U=>U.sendFormValues),{amountAsset:G}=R,I=Ie(G,M),te=`${qe(I,M)} ${X}`,re=(0,ke.useMemo)(()=>Vn(a),[a]),{data:_e}=Wn({query:re?{data:re}:void 0}),{fromUsd:Se,formatLocalizedPrice:Le}=Ft(),he=_e?.usd??0,$=it(I.toNumber(),he),be=Se($),Q=Le(be),De=he?`~${Q}`:"-",Y=On(a);return{senderAddress:y,networkID:N,tokenAddress:b,symbol:X,balance:E,decimals:M,programId:A,formattedRecipient:T,uiAmount:I,usdPriceOfToken:he,formattedUiAmount:te,formattedCurrencyAmount:De,tokenPrice:Q,logoUri:S,type:v,key:_,transferFeePercent:Y}},"useSendFungibleFlow");c();m();var vt=F(j());c();m();c();m();var cr=[Dn.toString(),Mn.toString()],Lo=i(async(e,t)=>{let n=Ln(t);try{let o=await n.getParsedAccountInfo(new lt.PublicKey(e));if(o&&cr.includes(o.value?.owner.toString()??"")&&"mintAuthority"in(o.value?.data).parsed.info)return!0}catch{}return!1},"isMintAccount");var mr=1*24*60*1e3,ur=1*60*1e3,Do=i(({address:e,networkID:t})=>an({queryKey:["is-mint-account",e],queryFn:i(async()=>{if(!x.isSolanaNetworkID(t))throw new Error("Attempting to get mint account for non-Solana network");return Lo(e,t)},"queryFn"),enabled:!!e&&x.isSolanaNetworkID(t),gcTime:mr,staleTime:ur}),"useIsMintAccount");c();m();var Uo=F(j());c();m();var Mo=890880,wt=i(()=>{let{senderAddress:e,type:t,networkID:n}=pe(),o=g(d=>d.sendFormValues),r=t===At.SolanaNative,s=Rt({recipient:o.recipient,recipientHandle:o.recipientHandle,networkID:n}),{data:u}=to({...e,address:s.recipient},r);return r&&typeof u<"u"&&u<Mo?Mo:0},"useMinSendableAmount");var Po=i((e,t,n)=>{let{fungibleKey:o,splTokenAccount:r,encodedCaip19:s}=g(v=>({fungibleKey:v.fungibleKey,splTokenAccount:v.splTokenAccount,encodedCaip19:v.encodedCaip19})),{data:[u]}=gt(["kill-send-simulation"]),d=wt(),f=(0,Uo.useMemo)(()=>{if(!(!e||u))return{sendSessionId:"simulate-send",shouldShowFiatValues:!1,fungibleKey:o,encodedCaip19:s,splTokenAccount:r,confirmedFungibleAndSender:null,sendFormValues:{recipient:t,recipientHandle:"",amountAsset:new we(d===0?1:d),solana:{references:[]}},gasEstimation:void 0}},[e,u,o,s,r,t,d]),{data:a,isLoading:l}=nt(f),w={type:"transaction",userAccount:e,params:void 0,url:"https://phantom.com",networkID:n};a&&(x.isEVMNetworkID(a.networkID)&&(w.params={transactions:[a.unsignedTransaction]}),x.isSolanaNetworkID(a.networkID)&&(w.params={transactions:a.transaction.map(v=>rn(v)),method:"signAndSendTransaction"}));let{data:y,isLoading:C}=ao(w,{disabled:!a||u,disableRefetch:!0});return{data:y,isLoading:!u&&(l||C)}},"useSimulateSend");c();m();var Oo=i(({senderAddress:e,networkID:t})=>{let n=e?{address:e,addressType:ft(t,e),networkID:t}:void 0,{isLoading:o}=zn(n);return{utxoWarning:void 0,utxoWarningVariant:"warning",isUtxoWarningLoading:o}},"useUtxoWarning");var lr=i((e,t)=>({address:e,addressType:ft(t,e),networkID:t}),"recipientToChainAddress"),pr=i(({senderAddress:e,senderAccounts:t,networkID:n})=>(0,vt.useMemo)(()=>e?t.reduce((o,r)=>{let s=r.addresses.filter(u=>u.networkID===n&&u.address!==e);if(n)for(let u of s)o.push({label:r.name,address:u.address,chainID:n});return o},[]):[],[e,t,n]),"useCompatibleSenderAddresses");function fr(e){if(!e)return"";let{warnings:t=[],error:n=""}=e;return n==="UNKNOWN_ERROR"?t[0]?.message:n==="INSUFFICIENT_FUNDS"?p.t(`sendWarning_${n}`):""}i(fr,"getWarningFromSimulationResult");var gr=i(({senderAddress:e,recipient:t,networkID:n})=>{let{data:o,isLoading:r}=Po(e??"",t,n);return{simulationWarning:fr(o),isSimulationLoading:r}},"useSimulationWarnings"),Sr=i(({recipient:e,networkID:t})=>{let{currentRecipient:n,isStaleRecipient:o,recipientError:r}=Qn(e,t);return!o&&!r&&n.length>0?n:""},"useResolvedRecipient"),hr=i(({recipient:e,networkID:t})=>{let{data:n=[],isLoading:o}=Pn({chainAddresses:e?[lr(e,t)]:[]});return{recipientHasZeroBalance:(0,vt.useMemo)(()=>n.length===1&&n[0].data.amount==="0",[n]),recipientTokensIsLoading:o}},"useRecipientHasZeroBalance"),dt=i(({senderAddress:e,senderAccounts:t,networkID:n,recipient:o})=>{let{recentAddresses:r,savedAddresses:s}=Ve(),u=pr({senderAddress:e,senderAccounts:t,networkID:n}),d=Sr({recipient:o,networkID:n}),{recipientHasZeroBalance:f,recipientTokensIsLoading:a}=hr({recipient:d,networkID:n}),{data:l,isLoading:w}=Do({address:d,networkID:n}),{simulationWarning:y,isSimulationLoading:C}=gr({senderAddress:e??"",recipient:d,networkID:n}),{utxoWarning:v,isUtxoWarningLoading:O}=Oo({senderAddress:e??"",networkID:n}),M=!d||a||w&&x.isSolanaNetworkID(n)||C||O;return{sendAddressWarning:(0,vt.useMemo)(()=>M||!e?null:v||(l?p.t("sendMintAccountWarning"):u.find(E=>E.address===d)?null:y||(r.addresses.find(E=>E.address===o)||s.addresses.find(E=>E.address===o)?null:e===d?p.t("sendSameAddressWarning"):f?p.t("sendRecipientZeroBalanceWarning"):p.t("sendUnknownAddressWarning"))),[r,s,o,d,u,e,f,l,y,M,v]),sendAddressVariant:l?"danger":"warning"}},"useSendWarning");c();m();var V=F(j());c();m();function Vo(e,t){return e.isZero()?new we(Ke.get(t).amountForGasEstimation??0):e}i(Vo,"amountForGasEstimation");var br=sn({seconds:10});function Ar({networkID:e,multichainTransaction:t,gasEstimationStatus:n,gasEstimationError:o,gasEstimation:r}){(0,V.useEffect)(()=>{if(!x.isSuiNetworkID(e))return;let s="undefined";if(r)try{s=JSON.stringify(r)}catch{s="[unserializable]"}let u=o?", err="+String(o):"";xe.addBreadcrumb(Fe.Transaction,`sendAmountPage gasEst: hasTx=${!!t}, status=${n}, value=${s}${u}`,ve.Info)},[e,t,n,o,r])}i(Ar,"useGasEstimationLogging");var yr=i(({onClose:e,onNext:t})=>{let{senderAddress:n,networkID:o,decimals:r,programId:s,type:u,balance:d,usdPriceOfToken:f,symbol:a,logoUri:l,formattedUiAmount:w,formattedCurrencyAmount:y}=pe(),C=wt(),v=Ie(C,r).toNumber(),[O,M]=(0,V.useState)(""),S=(0,V.useMemo)(()=>{try{let h=new we(O);if(!h.isNaN())return h}catch{}return new we(0)},[O]),B=g(h=>h),E=g(h=>h.sendFormValues),_=g(h=>h.resetSendSlice),{amountAsset:H,amountUsd:N,recipient:X}=E,b=g(h=>h.setSendFormValues),A=g(h=>h.shouldShowFiatValues),T=g(h=>h.setShouldShowFiatValues),R=s===dn,G=E.solana.memo,I=(0,V.useMemo)(()=>{let h=B.sendFormValues.recipient;return{...B,sendFormValues:{...E,recipient:h||n.address,amountAsset:Vo(E.amountAsset,o)}}},[E,B,n,o]),{data:te}=nt(I),{data:re,status:_e,error:Se}=et({networkID:o,multichainTransaction:te,transactionSpeed:"fastest",queryOptions:{refetchInterval:br}});Ar({networkID:o,multichainTransaction:te,gasEstimationStatus:_e,gasEstimationError:Se,gasEstimation:re});let{currencySymbol:Le,currencyCode:he,toUsd:$,fromUsd:be,formatLocalizedPrice:Q}=Ft(),De=eo({chainAddress:n,type:u,balance:d,decimals:r,recipient:X,gasEstimation:re,clampToZero:!0}),Y=Ie(De??0,r),U=it(Y.toNumber(),f),K=be(U,2),Me=A?Le:void 0,se=A?void 0:` ${a}`,Ue=A?he:a,ce=(0,V.useMemo)(()=>{if(S.isZero())return;let h=yt.get(o),W=A?h.minimumSendableCurrencyAmount:v,Pe=A?K:Y,rt=S.lt(W),Mt=S.gt(Pe);return rt?p.t("sendFormErrorMinRequiredInterpolated",{minAmount:W,tokenName:Ue}):Mt?p.t("sendFormErrorInsufficientBalance"):void 0},[S,A,o,K,Y,v,Ue]),J=(0,V.useCallback)(h=>{let W=Sn(h),Pe=hn(W,r);M(Pe)},[r]),Ae=(0,V.useCallback)(()=>{let h=Ie(H,r).toString(10),W=be(N??0).toString(10);J(A?h:W),T(!A)},[A,T,H,N,r,J,be]),me=(0,V.useCallback)(()=>{J(A?K.toString(10):Y.toString(10))},[J,A,Y,K]);(0,V.useEffect)(()=>{let h,W,Pe;A?(Pe=S.toNumber(),W=$(Pe),h=Ot(Jn(W,f,r),r)):(h=Ot(S,r),W=it(S.toNumber(),f)),b({...g.getState().sendFormValues,amountAsset:h,amountUsd:W})},[b,S,A,f,r,$]),(0,V.useEffect)(()=>{if(O)return;let h=A?N:Ie(H,r).toNumber();h&&M(h.toString())},[]);let ot=(0,V.useMemo)(()=>A?f?`${w}`:`??? ${a}`:`${y}`,[A,f,a,w,y]),Ze=(0,V.useMemo)(()=>{let h=Me??"",W=se??"";return A?`${Q(K)}`:`${h}${qe(Y)}${W}`},[A,K,Y,Me,se,Q]),He=(0,V.useCallback)(h=>{let W=E.solana;W.memo=h,b({...E,solana:W})},[E,b]),We=(0,V.useMemo)(()=>!ce&&H.gt(0),[ce,H]),Xe=(0,V.useCallback)(()=>{We&&t()},[We,t]),ue=(0,V.useCallback)(()=>{e(),_()},[e,_]),Ce=(0,V.useMemo)(()=>({edit:p.t("commandEdit"),next:p.t("commandNext"),send:p.t("commandSend"),cancel:p.t("commandCancel"),maxInput:p.t("maxInputMax"),inputAmountPlaceholder:p.t("maxInputAmount"),recipientAddress:p.t("sendRecipientAddress"),memoPlaceholder:p.t("sendMemoOptional"),availableToSend:p.t("availableToSend"),available:p.t("available"),pageTitle:`${p.t("commandSend")} ${a}`}),[a]),ye=x.isMainnetNetworkID(o);return{networkID:o,handleClose:ue,handleInputChange:J,handleMemoChange:He,handleNext:Xe,primaryTextPrefix:Me,primaryText:O,primaryTextSuffix:se,toggleDenomination:Ae,errorText:ce,secondaryText:ot,formattedMaxAmount:Ze,primarySymbol:Ue,symbol:a,decimals:r,logoUri:l,canGoNext:We,i18nStrings:Ce,handleSetMax:me,showSecondaryText:ye,canSendCurrencyAmount:ye&&!!f,isMemoEnabled:R,memo:G}},"useSendFungibleAmountPage");c();m();var fe=F(j());var Tr=i(({onClose:e,onRecipientNavigation:t,onAmountNavigation:n,networkID:o})=>{let{recipientHandle:r}=g(b=>b.sendFormValues),{data:s,isLoading:u}=co({usernameOrUserProfileId:r}),d=(0,fe.useMemo)(()=>{if(s?.addresses)return Object.keys(s.addresses)},[s]),{isLoading:f,hasNextPage:a,fungibleTokens:l,visibilityOverrides:w}=oo(),y=(0,fe.useMemo)(()=>{let b=o?l.filter(T=>T.decodedCaip19.chainId===o):l;return(d?b.filter(T=>d.includes(T.decodedCaip19.chainId)):b).filter(T=>!T.extraMetadata?.compression?.compressed)},[o,l,d]),[C,v]=(0,fe.useState)(""),O=ln(C)??"",M=fn(y,O,ho),S=g(b=>b.resetSendSlice),B=(0,fe.useMemo)(()=>({close:p.t("commandClose"),search:p.t("assetListSearch"),unknownToken:p.t("assetDetailUnknownToken"),noTokens:p.t("sendNoTokens")}),[]),E=(0,fe.useCallback)(b=>v(b),[v]),_=(0,fe.useCallback)(()=>{e(),S()},[e,S]),H=(0,fe.useCallback)(b=>{let{key:A,splTokenAccountPubkey:T,networkId:R,encodedCaip19:G}={key:b.legacyKey??b.encodedCaip19,splTokenAccountPubkey:bo(b,{find:"highestQuantity"})?.account,networkId:b.decodedCaip19.chainId,encodedCaip19:b.encodedCaip19},I=g.getState().fungibleKey;I&&I!==A&&g.getState().resetSendSlice(),g.setState({fungibleKey:A,splTokenAccount:T,encodedCaip19:G});let te=g.getState().sendFormValues;if(te.recipientHandle&&!te.recipient){let re=s?.addresses[R];if(re){g.setState({sendFormValues:{...te,recipient:re}}),n();return}}t()},[t,n,s?.addresses]),N=f||u;return{fungibles:(0,fe.useMemo)(()=>a?[...M,"loading"]:M,[a,M]),isLoading:N,visibilityOverrides:w,searchQuery:C,handleSearch:E,handleClose:_,handleSelect:H,i18nStrings:B}},"useSendFungibleSelectPage");c();m();c();m();var Kt=F(j());var _o=i(()=>{let e=g(l=>l.analyticsRecipient),t=g(l=>l.fungibleKey),n=g(l=>l.encodedCaip19),o=g(l=>l.sendFormValues.amountAsset),{data:r}=xt({legacyKey:t??"",encodedCaip19:n??"",isSplCompressed:!1,queryOptions:{enabled:!!t&&!!n}}),s=n?pt(n).chainId:ut.Solana.Mainnet,{data:u=[]}=Oe(),{data:d}=Tn(),f=(0,Kt.useMemo)(()=>u.some(l=>l.addresses.some(w=>w.address===e?.address)),[u,e]),{data:a}=St({address:r?.walletAddress,networkID:s});return(0,Kt.useMemo)(()=>{let l=r?Ie(o,r.decimals).toString():void 0;return{assetType:"token",networkId:s,recipient:e,senderAddress:a?.address??"",senderUsername:d?.username??"",tokenAddress:r?kt(r)??"":"",tokenSymbol:r?.symbol??"",tokenType:r?no(r):void 0,amount:l,selfSend:f}},[s,e,a?.address,d?.username,r,f,o])},"useSendTokenAnalyticsParams");c();m();var ge=F(j());c();m();var Go=F(j(),1),$o=F(j(),1);var Fr=i(e=>typeof e=="function","x"),Ho=i((e,t)=>Fr(e)?e(t):e,"p"),xr=(()=>{let e=0;return()=>(++e).toString()})();var kr=20,It=new Map,Cr=1e3,Wo=i(e=>{if(It.has(e))return;let t=setTimeout(()=>{It.delete(e),Bt({type:4,toastId:e})},Cr);It.set(e,t)},"b"),Er=i(e=>{let t=It.get(e);t&&clearTimeout(t)},"M"),zt=i((e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,kr)};case 1:return t.toast.id&&Er(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?zt(e,{type:1,toast:n}):zt(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?Wo(o):e.toasts.forEach(s=>{Wo(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},"g"),Rr=[],jt={toasts:[],pausedAt:void 0},Bt=i(e=>{jt=zt(jt,e),Rr.forEach(t=>{t(jt)})},"T");var wr=i((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||xr()}),"w"),ct=i(e=>(t,n)=>{let o=wr(t,e,n);return Bt({type:2,toast:o}),o.id},"l"),de=i((e,t)=>ct("blank")(e,t),"a");de.error=ct("error");de.success=ct("success");de.loading=ct("loading");de.custom=ct("custom");de.dismiss=e=>{Bt({type:3,toastId:e})};de.remove=e=>Bt({type:4,toastId:e});de.promise=(e,t,n)=>{let o=de.loading(t.loading,{...n,...n?.loading});return e.then(r=>(de.success(Ho(t.success,r),{id:o,...n,...n?.success}),r)).catch(r=>{de.error(Ho(t.error,r),{id:o,...n,...n?.error})}),e};c();m();var Ko=F(j());var jo=i(({networkID:e,transactionUnitAmount:t,onTransactionSpeedChange:n})=>{let{status:o,data:r}=Tt({networkID:e}),{transactionSpeed:s}=g(d=>d.sendFormValues),u=(0,Ko.useMemo)(()=>{if(o!=="error"&&r&&s)return()=>n({transactionSpeed:s,transactionUnitAmount:t})},[n,s,t,r,o]);return{transactionSpeed:s,openTransactionSettings:u}},"useSendFungibleGasSettings");c();m();var Zt=F(ne());var zo=F(j());var Xt=i(({networkID:e,formattedRecipient:t,networkName:n,networkFee:o,networkFeeErrorMsg:r,networkFeeRow:s,displayFeeTooltip:u,transferFeePercent:d,solanaMetadata:f,openTransactionSettings:a,onNetworkFeeDescriptionPress:l,onTransferFeePress:w})=>(0,zo.useMemo)(()=>{let y=[];x.isSolanaNetworkID(e)&&(f.label&&y.push({topLeft:p.t("sendConfirmationLabel"),topRight:f.label}),f.message&&y.push({topLeft:p.t("sendConfirmationMessage"),topRight:f.message}));let C=[{topLeft:p.t("transactionsTo"),topRight:t},{topLeft:p.t("sendFungibleSummaryNetwork"),topRight:n},{...u?{type:"tooltip",tooltipContent:p.t("networkFeesTooltipDescription",{chainName:n}),showTooltip:i(()=>l?.(),"showTooltip"),onClick:a,onPress:a}:{type:"base"},topLeft:p.t("sendFungibleSummaryNetworkFee"),topRight:o.length===0?(0,Zt.jsx)(xn,{width:75,height:8}):{text:o,color:r?"spotNegative":"textDiminished",after:u&&a?(0,Zt.jsx)(Fn.ChevronRight,{size:kn.icon,color:"textDiminished"}):void 0},bottomLeft:{text:r||s?.leftSubtext,color:r?"spotNegative":s?.leftSubtextColor},bottomRight:s?.rightSubtext,verticalAlign:"baseline"}];return d&&C.push({type:"tooltip",tooltipContent:p.t("sendFungibleTransferFeeToolTip"),showTooltip:i(()=>w?.(),"showTooltip"),topLeft:p.t("sendFungibleTransferFee"),topRight:`${d}%`}),f.memo&&C.push({topLeft:p.t("sendMemo"),bottomLeft:{text:f.memo.replace(/(\r\n|\n|\r)/gm," "),...nn?{numberOfLines:void 0}:{}}}),[...y,...C]},[e,t,n,u,o,r,s?.leftSubtext,s?.leftSubtextColor,s?.rightSubtext,f.label,f.message,f.memo,d,l,w,a]),"useSendSummaryRows");var Zo;(function(e){e.Link="link"})(Zo||(Zo={}));var vr=i(({hasSufficientFunds:e,isTransactionUnitError:t,isTransactionCreationError:n,hasGasEstimationFailed:o,nativeTokenSymbol:r})=>t?p.t("transactionGasLimitError"):o?p.t("transactionGasEstimationError"):e==="insufficient"?p.t("transactionNotEnoughNative",{nativeTokenSymbol:r}):n?p.t("transactionCreationError"):"","getNetworkFeeErrorMessage"),Ir=i(({onNext:e,onClose:t,onTransactionSpeedChange:n,onNetworkFeeDescriptionPress:o,onTransferFeePress:r,onSubmissionCheckFail:s,copyToClipboard:u})=>{let d=Ye(),{senderAddress:f,networkID:a,symbol:l,formattedRecipient:w,uiAmount:y,key:C,type:v,transferFeePercent:O}=pe(),M=g(),S=g(ue=>ue.sendFormValues),B=g(ue=>ue.setSendFormValues),{amountAsset:E,solana:_}=S,H=x.getNetworkName(a);uo(f,mo.SEND_FUNGIBLE);let{data:N,isError:X}=nt(M),{data:b,isError:A}=Gn(N),T=(0,ge.useCallback)(({transactionSpeed:ue,transactionUnitAmount:Ce})=>{n({transactionSpeed:ue,transactionUnitAmount:Ce,sendFormValues:S,setSendFormValues:B,networkID:a})},[B,S,a,n]),{transactionSpeed:R,openTransactionSettings:G}=jo({networkID:a,transactionUnitAmount:b,onTransactionSpeedChange:T}),{data:I,isFetched:te,isSuccess:re}=et({networkID:a,multichainTransaction:N,transactionSpeed:R,queryOptions:{refetchInterval:!1}}),{data:_e}=$n(a,I),Se=jn(f),Le=Un(v)?E:new we(0),{hasSufficientFunds:he,isLoading:$,nativeTokenSymbol:be}=ro({networkID:a,addressType:f?.addressType,gasEstimation:I,transactionValue:Le,recipient:S.recipient}),Q=Xn({networkID:a,gasEstimation:I,gasEstimationPrice:_e}),De=io(I,p.t),{data:Y}=Tt({networkID:a}),U=(0,ge.useMemo)(()=>Ke.get(a).supportsNetworkSettings&&Object.keys(Y??{}).length>1,[Y,a]);(0,ge.useEffect)(()=>{d.capture("sendAssetSummary",{data:{type:"fungible",symbol:l,networkId:a,chainId:x.getChainID(a)}})},[a,l,d]);let{data:K=[]}=Oe(),{sendAddressVariant:Me}=dt({senderAddress:f?.address,senderAccounts:K,networkID:a,recipient:S.recipient}),se=te&&!re,Ue=!!I&&!$&&he!=="insufficient"&&!!Q&&Me!=="danger",ce=vr({hasSufficientFunds:he,isTransactionUnitError:A,isTransactionCreationError:X,hasGasEstimationFailed:se,nativeTokenSymbol:be}),J=(0,ge.useCallback)(()=>N?Se?(d.capture("showFungibleTxSubmissionFailureModal"),s(Se),!1):(B({...S,multichainTransaction:N}),!0):!1,[N,Se,B,S,d,s]),Ae=un((0,ge.useCallback)(()=>{if(!J())return;let Ce={chainID:a,amount:y.toString(),symbol:l,address:C};xe.addBreadcrumb(Fe.Fungibles,"approved",ve.Info,Ce),e()},[J,l,y,a,e,C]),1e3),me=Xt({networkID:a,formattedRecipient:w,networkName:H,networkFee:Q,networkFeeErrorMsg:ce,networkFeeRow:De,transferFeePercent:O,solanaMetadata:_,displayFeeTooltip:U,openTransactionSettings:G,onNetworkFeeDescriptionPress:o,onTransferFeePress:r}),{data:ot}=In(),Ze=(0,ge.useMemo)(()=>{let ue=N&&Nn(N)?N.transaction.map(Ce=>{let ye=Buffer.from(Ce.serialize({verifySignatures:!1,requireAllSignatures:!1})).toString("base64");return{topLeft:p.t("notificationCopyTransactionText"),topRight:ye.slice(0,8),onClick:i(()=>{u(ye),de.success(p.t("notificationTransactionCopied"))},"onClick")}}):[];return[...me,...ue]},[me,N,u]),He=(0,ge.useCallback)(()=>{t(),M.resetSendSlice()},[t,M]),We=Fo(p.language,x.isSolanaNetworkID(a)),Xe=(0,ge.useMemo)(()=>({title:p.t("sendConfirmationPrimaryText"),send:p.t("commandSend"),cancel:p.t("commandCancel")}),[]);return{senderAddress:f?.address,networkID:a,handleNext:Ae,handleClose:He,canSend:Ue,txSubmissionCheckFailureModal:Se,summaryRows:ot&&tn?Ze:me,i18nStrings:Xe,networkHealth:We}},"useSendFungibleSummaryViewState");c();m();var P=F(ne());var D=F(j());c();m();var Xo=pn(Ye,e=>new Qt(e)),Qt=class{static{i(this,"SendAnalytics")}#e;constructor(t){this.#e=t}onSendFlowStart({assetType:t,context:n}){this.#e.capture("sendFlowStart",{data:{assetType:t,context:n}})}onSendAssetAttempt(t){this.#e.capture("sendAssetAttempt",{data:{chainId:x.getChainID(t.networkId),...t}})}onSendAssetSuccess(t){this.#e.capture("sendAssetSuccess",{data:{chainId:x.getChainID(t.networkId),...t}})}onSendAssetFailure(t){this.#e.capture("sendAssetFailure",{data:{chainId:x.getChainID(t.networkId),...t}})}};c();m();var ee;(function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.LOADING="LOADING"})(ee||(ee={}));c();m();var Nt=F(ne());var Qo=F(j());var Br=[/Unknown instruction error/i,/Unknown error/i];function Yt({programId:e,customErrorCode:t,customErrorReason:n,errorReason:o}){let{t:r}=ie(),s=Ye(),u=n||o,d=r(u);return(0,Qo.useEffect)(()=>{s.capture("transactionErrorDetails",{data:{programId:e,customErrorCode:t,customErrorReason:n,errorReason:o,hasTranslatedErrorMessage:u!==d}})},[]),(0,Nt.jsx)(q,{children:(0,Nt.jsxs)(z,{align:"center",color:"textDiminished",children:[d,t&&Br.some(f=>f.test(u))?` (${r("transactionsError")}: ${t})`:""]})})}i(Yt,"TransactionErrorDetails");var Nr=i(({sendSequenceAnalytics:e,onTransactionLinkPress:t,onClose:n,onCancel:o,onBack:r,mobileSignWithLedger:s,ledgerSupported:u})=>{let{t:d}=ie(),{data:[f]}=gt(["kill-base-history"]),{senderAddress:a,networkID:l,symbol:w,formattedRecipient:y,uiAmount:C,logoUri:v,tokenPrice:O,key:M}=pe(),{data:S,status:B}=An(),E=(0,D.useMemo)(()=>S?.addresses??[],[S]),_=Xo(),H=_o(),N=(0,D.useCallback)(()=>H.senderAddress?H:{...H,senderAddress:a.address},[H,a]),X=g(),b=(0,D.useMemo)(()=>Vt(l),[l]),{transactionSpeed:A,recipient:T}=X.sendFormValues,R=_n(l,A,a,w,v??"",y,C.toNumber(),O,d),[G,I]=(0,D.useState)(!1),[te,re]=(0,D.useState)(null),[_e,Se]=(0,D.useState)(null),{addRecentAddress:Le}=Ve(),he=S?.type===mn.Ledger,[$,be]=(0,D.useState)(void 0),Q=Kn("send:fungible",l,!!s);qn(M,C,$?$.id:"");let De=so(E),Y=(0,D.useCallback)(Z=>{Q(Z.id,"confirmed"),_.onSendAssetSuccess({...N(),txId:Z.id}),De()},[_,Q,De,N]),U=(0,D.useCallback)((Z,le)=>{_.onSendAssetFailure({...N(),txId:Z.id,errorMessage:le.message})},[_,N]),{isSuccess:K,isError:Me,error:se}=Yn(Y,$??void 0,U),Ue=!!$,ce=yt.get(l).sendSuccessCondition,J=(0,D.useMemo)(()=>{switch(ce){case Je.SUBMISSION:return G?ee.ERROR:Ue?ee.SUCCESS:ee.LOADING;case Je.CONFIRMATION:return G||Me?ee.ERROR:K?ee.SUCCESS:ee.LOADING}},[Me,K,G,Ue,ce]),{isError:Ae,isSuccess:me}=(0,D.useMemo)(()=>({isError:J===ee.ERROR,isSuccess:J===ee.SUCCESS}),[J]),ot=(0,D.useMemo)(()=>{let Z=Ke.get(l).transactionSpeedDescription(A??Bn.standard);return Z?d(Z):""},[l,A,d]),Ze=ce===Je.CONFIRMATION?"sendStatusConfirmedSuccessTitle":"sendStatusSubmittedSuccessTitle",He=(0,D.useMemo)(()=>{switch(J){case ee.LOADING:return d("sendStatusLoadingTitle");case ee.ERROR:return d("sendStatusErrorTitle");case ee.SUCCESS:return d(Ze)}},[J,Ze,d]),We=(0,D.useMemo)(()=>({titleText:He,retryText:d("commandRetry"),cancelText:d("commandCancel"),closeText:d("commandClose"),viewTransactionText:d("sendStatusViewTransaction")}),[He,d]);(0,D.useEffect)(()=>{K?(xe.addBreadcrumb(Fe.Fungibles,"transactionStatus",ve.Info,{...b,status:"confirmed"}),$?.id&&e&&e.transactionStatus($.id,{...b,status:{type:"confirmed"}})):Ae&&(xe.addBreadcrumb(Fe.Fungibles,"transactionStatus",ve.Error,{...b,status:"error"}),$?.id&&e&&e.transactionStatus($.id,{...b,status:{type:"error"}}))},[K,Ae,$,b,e]);let{mutateAsync:Xe}=To(),Ce=Ae?(0,P.jsxs)(P.Fragment,{children:[i(Z=>{switch(Z){case st.InsufficientFunds:return(0,P.jsx)(z,{color:"textDiminished",align:"center",children:d("sendStatusErrorMessageInsufficientBalance")});case st.UnknownError:default:return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,P.jsx)(bt,{i18nKey:"sendFungibleErrorMessageInterpolated",values:{uiAmount:C.toString(),assetSymbol:w,uiRecipient:y},components:{2:(0,P.jsx)(z,{font:"bodySemibold",color:"textBase"})}})}),te?(0,P.jsx)(q,{marginTop:16,justifyContent:"center",children:(0,P.jsx)(z,{font:"body",color:"textDiminished",children:d("sendFungibleSolanaErrorCode",{code:te})})}):null]})}},"showErrorDetails")(_e??st.InsufficientFunds),se&&"data"in se?(0,P.jsx)(q,{marginY:16,justifyContent:"center",color:"textDiminished",children:(0,P.jsx)(Yt,{errorReason:se.data.errorReason,programId:se.data.programId,customErrorReason:se.data.customErrorReason,customErrorCode:se.data.customErrorCode})}):null]}):me&&ce===Je.CONFIRMATION?(0,P.jsx)(z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,P.jsx)(bt,{i18nKey:"sendFungibleConfirmedSuccessMessageInterpolated",values:{uiAmount:C.toString(),assetSymbol:w,uiRecipient:y},components:{2:(0,P.jsx)(z,{font:"bodySemibold",color:"textBase"})}})}):me&&ce===Je.SUBMISSION?(0,P.jsx)(z,{font:"bodySemibold",align:"center",children:d("sendStatusEstimatedTransactionTime",{time:ot})}):(0,P.jsx)(z,{font:"bodySemibold",color:"textDiminished",align:"center",children:(0,P.jsx)(bt,{i18nKey:"sendFungibleLoadingMessageInterpolated",values:{uiAmount:C.toString(),assetSymbol:w,uiRecipient:y},components:{2:(0,P.jsx)(z,{font:"bodySemibold",color:"textBase"})}})}),ye=X.sendFormValues.multichainTransaction,{data:en}=et({networkID:l,multichainTransaction:ye,transactionSpeed:A,queryOptions:{refetchInterval:!1}}),mt=en,h=(0,D.useCallback)(async()=>{let Z=N();xe.addBreadcrumb(Fe.Fungibles,"sendButtonClicked",ve.Info,{timestamp:Date.now(),networkID:l,...b});try{if(!ye)throw new Error("multichainTransaction is undefined on send status");if(!mt)throw new Error("gasEstimation is undefined on send status");Le({address:T,chainID:l,timestamp:Date.now()});let le=Date.now();_.onSendAssetAttempt(Z);let Te=await Xe({multichainTransaction:ye,pendingTransactionInput:R,senderAddress:a,gasEstimation:mt}),Qe=Te.id;Q(Qe,"initiated",le),Q(Qe,"received");let Ee=Vt(l),Re;Ee.chainType===Ge.Solana&&e?(Re="signAndSendTransaction",e.submittedTransaction(Te.id,{...Ee,method:Re,walletAddress:a.address})):Ee.chainType===Ge.EVM&&e?(Re="eth_sendRawTransaction",e.submittedTransaction(Te.id,{...Ee,method:Re,walletAddress:a.address})):Ee.chainType===Ge.Sui&&e?(Re="signAndExecuteTransaction",e.submittedTransaction(Te.id,{...Ee,method:Re,walletAddress:a.address})):Ee.chainName==="bitcoin"&&e&&(Re="sendrawtransaction",e.submittedTransaction(Te.id,{...Ee,method:Re,walletAddress:a.address})),xe.addBreadcrumb(Fe.Fungibles,"submittedTransaction",ve.Info,{...Ee,txReceipt:Te.id,method:Re??"UNKNOWN"}),be(Te)}catch(le){let Te=Hn(le,b.chainType===Ge.Solana?Ge.Solana:void 0);if(Se(Te),Te===st.UnknownError&&le instanceof Error&&b.chainType===Ge.Solana){let[Qe]=le.message.match(/0x\d+/)||[];typeof Qe=="string"&&Qe&&re(Qe)}I(!0),_.onSendAssetFailure({...Z,errorMessage:le instanceof Error?le.message:String(le)}),xe.captureError(le,Fe.Fungibles)}},[ye,T,mt,Le,b,Xe,R,Q,l,_,e,a,N,I]),W=g(Z=>Z.retryArgs),Pe=(0,D.useCallback)(()=>{W?(be(void 0),I(!1),h()):r()},[h,r,W]),{data:rt}=vn($),Mt=(0,D.useCallback)(()=>{rt&&t(rt)},[t,rt]),rr=(0,D.useCallback)(()=>{o()},[o]),sr=(0,D.useCallback)(()=>{let{sendSuccessRedirect:Z}=Ke.get(l);n(Z(f))},[n,f,l]),ir=wn(l),ar=B==="pending",dr=(0,D.useCallback)(()=>{u&&!me&&!Ae&&X.resetSendSlice()},[me,Ae,X,u]);return gn(dr),{handleClose:sr,handleCancel:rr,handleRetry:Pe,handleTransactionLinkPress:Mt,isSuccess:me,isError:Ae,MessageElement:Ce,title:He,txReceipt:$,handleTokenTransfer:h,i18nStrings:We,isLoadingSelectedAccountStatus:ar,isLedger:he,ledgerApp:ir}},"useSendFungibleStatusPage");c();m();var oe=F(j(),1);c();m();var Lt=F(j(),1);var je=F(ne(),1),Lr=ae(ko)`
  width: 100%;
  border-style: none;
  padding: 0;
`,Yo=ae(go).attrs({width:"28px",borderRadius:"50px"})`
  height: 28px;
`,Jo=Lt.default.memo(({isExpanded:e,addressBookRecipient:t,clearRecipient:n})=>{let{t:o}=ie(),[r,s]=(0,Lt.useState)(!1),u={onMouseEnter:i(()=>s(!0),"onMouseEnter"),onMouseLeave:i(()=>s(!1),"onMouseLeave")},d=r&&!t&&!e;return(0,je.jsx)(yo,{color:Be.colors.legacy.areaBase,label:o("sendAddressBookButtonLabel"),ariaLabel:o("sendAddressBookButtonLabel"),alignment:"bottomRight",isVisible:d,triggerParams:u,children:t?(0,je.jsx)(Yo,{theme:"primary",paddingY:9,onClick:n,children:(0,je.jsx)(lo,{fill:Be.colors.legacy.areaBase,width:10})}):(0,je.jsx)(Lr,{children:(0,je.jsx)(Yo,{paddingY:6,theme:"primary",children:(0,je.jsx)(po,{fill:Be.colors.legacy.areaBase})})})})});c();m();var qo=F(j(),1);var tr=F(ne(),1),er=qo.default.memo(({symbol:e,chainName:t,recipient:n,recipientError:o,handleRecipientChange:r,onBlur:s})=>{let{t:u}=ie();return(0,tr.jsx)(So,{type:"text",name:"recipient",value:n,autoComplete:"off",spellCheck:"false",placeholder:u("sendRecipientTextAreaPlaceholder2",{symbol:t||e}),warning:!!o,onChange:r,onBlur:s,paddingRight:"80px"})});var L=F(ne(),1),nr=ae(at).attrs({size:16,weight:500,color:Be.colors.legacy.textDiminished})`
  font-style: italic;
`,Dr=ae(xo)`
  width: 100%;
  position: relative;
`,Mr=ae(Ht).attrs({align:"center"})`
  position: relative;
  border-radius: 6px;
  border: 1px solid ${Be.colors.legacy.borderDiminished};
  padding: 14px;
  background: ${Be.colors.legacy.areaAccent};
  height: 50px;
  margin-bottom: 2px;
`,Ur=ae(Co)`
  z-index: 2;
  width: 100%;
`,Jt=ae(Ro)`
  padding: 8px 12px;
  min-height: 41px;
`,Pr=ae(Ht).attrs({justify:"center"})`
  height: 85px;
`,or=ae(at).attrs({size:16,color:Be.colors.legacy.textDiminished})``,Or=ae.div`
  position: absolute;
  right: 12px;
  top: calc(50% - 28px / 2);
  width: auto;
  display: flex;
  gap: 12px;
  align-items: center;
`,Vr="__none",_r=50,Dt=10,Hr=i(e=>{let{addressBookRecipient:t,networkID:n,senderAddress:o,symbol:r,sendFormValues:s,sendFormErrors:u,recipientError:d,handleAddressSelection:f,setSendFormValues:a,setSendFormErrors:l,isLoading:w}=e,{t:y}=ie(),C=(0,oe.useMemo)(()=>({sendAddressBookRecentlyUsed:y("sendAddressBookRecentlyUsed"),sendAddressBookNoAddressesSaved:y("sendAddressBookNoAddressesSaved")}),[y]),{data:v=[]}=Oe(),O=(0,oe.useMemo)(()=>o?v.reduce((T,R)=>{let G=R.addresses.filter(I=>I.networkID===n&&I.address!==o);if(n)for(let I of G)T.push({label:R.name,address:I.address,chainID:n});return T},[]):[],[o,v,n]),{recentAddresses:M,savedAddresses:S}=Ve(),B=(0,oe.useMemo)(()=>S.addresses.reduce((T,R)=>(n&&_t(x.getAddressTypes(R.chainID),x.getAddressTypes(n))&&T.push({...R}),T),[]),[S,n]),E=(0,oe.useMemo)(()=>M.addresses.reduce((T,R)=>(n&&_t(x.getAddressTypes(R.chainID),x.getAddressTypes(n))&&T.push(R.address),T),[]),[M,n]),_=O.length===0&&B.length===0&&E.length===0,H=(0,oe.useMemo)(()=>{for(let{address:T,label:R}of O)if(T===t)return R;for(let{address:T,label:R}of B)if(T===t)return R},[t,O,B]),{recipient:N}=s,X=(0,oe.useCallback)(T=>{let R=T.currentTarget,G=self.getComputedStyle(R),I=parseInt(G.getPropertyValue("border-top-width"),Dt)+parseInt(G.getPropertyValue("padding-top"),Dt)+R.scrollHeight+parseInt(G.getPropertyValue("padding-bottom"),Dt)+parseInt(G.getPropertyValue("border-bottom-width"),Dt);I=R.value?Math.min(68,I-28):_r,R.style.height=`${I}px`,a({...s,recipient:bn(R.value)}),l({...u,recipientError:void 0})},[s,u,l,a]),b=(0,oe.useCallback)(()=>{a({...s,recipient:"",addressBookRecipient:void 0})},[s,a]),A=(0,oe.useMemo)(()=>{if(n)return x.getNetworkName(n)},[n]);return{i18nStrings:C,recipient:N,addressBookRecipient:t,addresses:O,savedAddresses:B,recentAddresses:E,isEmpty:_,selectedName:H,recipientError:d,symbol:r,chainName:A,handleAddressSelection:f,handleRecipientChange:X,clearRecipient:b,isLoading:w}},"useSendAddressBookProps"),ym=oe.default.memo(e=>{let t=Hr(e);return(0,L.jsx)(Wr,{...t})}),Wr=oe.default.memo(e=>{let{i18nStrings:t,recipient:n,addressBookRecipient:o,addresses:r,savedAddresses:s,recentAddresses:u,isEmpty:d,selectedName:f,recipientError:a,symbol:l,chainName:w,handleAddressSelection:y,handleRecipientChange:C,clearRecipient:v,isLoading:O=!1}=e;return(0,L.jsx)(Dr,{onChange:y,value:o??Vr,children:({isExpanded:M})=>(0,L.jsxs)(L.Fragment,{children:[o?(0,L.jsxs)(Mr,{children:[f?(0,L.jsx)(at,{size:16,weight:500,children:f}):(0,L.jsx)(nr,{children:t.sendAddressBookRecentlyUsed}),(0,L.jsxs)(at,{opacity:.5,size:16,weight:400,margin:"0 0 0 6px",children:["(",o.includes(".")?o:$e(o,4),")"]})]}):(0,L.jsx)(er,{symbol:l??"",chainName:w,recipient:n,recipientError:a,handleRecipientChange:C}),(0,L.jsxs)(Or,{children:[O?(0,L.jsx)(fo,{diameter:20}):null,(0,L.jsx)(Jo,{isExpanded:M,addressBookRecipient:o,clearRecipient:v})]}),(0,L.jsx)(Ur,{portal:!1,children:(0,L.jsxs)(Eo,{maxHeight:"150px",children:[r.map(({address:S,label:B,chainID:E},_)=>(0,L.jsx)(Jt,{value:S,children:(0,L.jsx)(Wt,{name:B,publicKey:S,publicKeyLabel:cn(E,S)})},`${S}-${_}`)),s.map(({address:S,label:B},E)=>(0,L.jsx)(Jt,{value:S,children:(0,L.jsx)(Wt,{name:B,publicKey:S})},`${S}-${E}`)),u.map((S,B)=>(0,L.jsxs)(Jt,{value:S,children:[(0,L.jsx)(nr,{children:t.sendAddressBookRecentlyUsed}),(0,L.jsx)(or,{opacity:.5,children:$e(S,4)})]},`${S}-${B}`)),d&&(0,L.jsx)(Pr,{children:(0,L.jsx)(or,{children:t.sendAddressBookNoAddressesSaved})})]})})]})})});c();m();var ze=F(ne());var Gr=i(()=>{let{uiAmount:e,symbol:t,formattedCurrencyAmount:n}=pe(),o=qe(e);return(0,ze.jsxs)(q,{direction:"column",alignItems:"center",marginTop:8,marginBottom:32,children:[(0,ze.jsx)(q,{marginBottom:16,children:(0,ze.jsx)(ht,{icon:"Send2",size:64,color:"spotBase",backgroundColor:"areaBase",shape:"circle"})}),(0,ze.jsxs)(z,{font:"heading1Semibold",align:"center",children:[o," ",t]}),n?(0,ze.jsx)(z,{color:"textDiminished",font:"title2",align:"center",children:n}):null]})},"SendFungibleSummaryHeader");c();m();var qt=F(ne());var $r=i(({networkId:e,senderAddress:t})=>{let{data:n=[]}=Oe(),{recipient:o}=$t(),{sendAddressWarning:r,sendAddressVariant:s}=dt({senderAddress:t,senderAccounts:n,networkID:e,recipient:o});return r?(0,qt.jsx)(q,{marginBottom:12,children:(0,qt.jsx)(En,{level:s==="danger"?"1-critical-alert":"2-alert",children:r})}):null},"SendFungibleWarningBanner");c();m();export{ts as a,pe as b,dt as c,Xt as d,Ir as e,yr as f,Tr as g,Yt as h,Nr as i,ym as j,Gr as k,$r as l};
//# sourceMappingURL=chunk-COJH34FS.js.map
