LavaPack.loadBundle([[8520,{"../../../components/app/connected-sites-list":6478,"../../../components/app/snaps/keyring-snap-removal-warning":6698,"../../../components/app/snaps/show-more":6701,"../../../components/app/snaps/snap-authorship-expanded":6703,"../../../components/app/snaps/snap-delineator":6710,"../../../components/app/snaps/snap-permissions-list":6730,"../../../components/app/snaps/snap-remove-warning":6734,"../../../components/app/snaps/snap-update-alert":6822,"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../helpers/constants/snaps":7468,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"../../../store/actions":8611,"./constants":8518,"@metamask/snaps-utils":3382,"prop-types":5495,react:5657,"react-redux":5622,"react-router-dom":5632,semver:5987},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=k(e("prop-types")),s=e("react-router-dom"),i=k(e("semver")),c=e("@metamask/snaps-utils"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=k(e("../../../components/app/snaps/snap-authorship-expanded")),p=k(e("../../../components/app/snaps/snap-remove-warning")),f=k(e("../../../components/app/connected-sites-list")),m=k(e("../../../components/app/snaps/keyring-snap-removal-warning")),h=e("../../../store/actions"),g=e("../../../selectors"),y=e("../../../components/component-library"),v=k(e("../../../components/app/snaps/snap-permissions-list")),b=e("../../../components/app/snaps/snap-delineator"),w=e("../../../helpers/constants/snaps"),C=k(e("../../../components/app/snaps/snap-update-alert")),T=e("../../../helpers/constants/routes"),_=e("../../../components/app/snaps/show-more"),E=e("./constants");function k(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I({snapId:e,initRemove:t,resetInitRemove:n}){const o=(0,s.useNavigate)(),k=(0,l.useI18nContext)(),S=(0,a.useSelector)(g.getSnaps),I=(0,a.useDispatch)(),x=Object.entries(S).map(([e,t])=>t).find(t=>t.id===e),[O,R]=(0,r.useState)(!1),[M,D]=(0,r.useState)(!1),[P,A]=(0,r.useState)([]),B=(0,a.useSelector)(g.getInternalAccounts),N=(0,a.useSelector)(e=>(0,g.getSubjectsWithSnapPermission)(e,null==x?void 0:x.id)),F=(0,a.useSelector)(e=>x&&(0,g.getPermissions)(e,x.id)),{name:j,description:U}=(0,a.useSelector)(t=>(0,g.getSnapMetadata)(t,e));let L=!1;L=Boolean(null==F?void 0:F.snap_manageAccounts),(0,r.useEffect)(()=>{L&&(async()=>{const e=await(0,h.getSnapAccountsById)(x.id),t=B.filter(t=>e.includes(t.address.toLowerCase()));A(t)})()},[null==x?void 0:x.id,B,L]);const q=(0,a.useSelector)(e=>x?(0,g.getSnapLatestVersion)(e,null==x?void 0:x.id):null),W=!!q&&i.default.gt(q,x.version);return(0,r.useEffect)(()=>{t&&(R(!0),n())},[t,n]),r.default.createElement(y.Box,null,W&&r.default.createElement(C.default,{snapName:j,onUpdateClick:async()=>{const e={[x.id]:{version:q}},t=await I((0,h.updateSnap)("MetaMask",e));t&&o(`${T.CONNECT_ROUTE}/${t}`)},bannerAlertProps:{marginBottom:4}}),r.default.createElement(d.default,{snapId:x.id,snap:x}),r.default.createElement(y.Box,{className:"snap-view__content__description",marginTop:[4,7]},r.default.createElement(b.SnapDelineator,{type:w.DelineatorType.Description,snapName:j},r.default.createElement(_.ShowMore,{buttonBackground:u.BackgroundColor.backgroundDefault},r.default.createElement(y.Text,null,U)))),r.default.createElement(y.Box,{className:"snap-view__content__permissions",marginTop:12},r.default.createElement(y.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:1},k("permissions")),r.default.createElement(v.default,{snapId:e,snapName:j,permissions:F??{},showOptions:!0,showAllPermissions:!0})),r.default.createElement(y.Box,{className:"snap-view__content__connected-sites",marginTop:12},r.default.createElement(y.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},N.every(e=>(0,c.isSnapId)(e.origin))?k("connectedSnaps"):N.some(e=>(0,c.isSnapId)(e.origin))?k("connectedSitesAndSnaps"):k("connectedSites")),r.default.createElement(f.default,{connectedSubjects:N,onDisconnect:e=>{var t;t=e,x.id,I((0,h.disconnectOriginFromSnap)(t,x.id))}})),r.default.createElement(y.Box,{className:"snap-view__content__remove",marginTop:12},r.default.createElement(y.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},k("removeSnap")),r.default.createElement(y.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},k("removeSnapDescription")),r.default.createElement(y.Box,{marginTop:4,display:u.Display.Flex,justifyContent:u.JustifyContent.center},r.default.createElement(y.Button,{className:"snap-view__content__remove-button",danger:"true",variant:y.ButtonVariant.Secondary,width:u.BlockSize.Full,size:y.ButtonSize.Lg,onClick:()=>R(!0),"data-testid":"remove-snap-button",disabled:x.preinstalled&&!1===x.removable},r.default.createElement(y.Text,{color:u.TextColor.inherit,variant:u.TextVariant.bodyMd,flexWrap:u.FlexWrap.NoWrap,ellipsis:!0,style:{overflow:"hidden"},paddingTop:3,paddingBottom:3},`${k("remove")} ${j}`)),r.default.createElement(p.default,{isOpen:O&&(!L||0===P.length)&&!M,onCancel:()=>R(!1),onSubmit:async()=>{await I((0,h.removeSnap)(x.id))},snapName:j}),r.default.createElement(r.default.Fragment,null,r.default.createElement(m.default,{snap:x,keyringAccounts:P,snapUrl:x.url,onCancel:()=>R(!1),onClose:()=>R(!1),onBack:()=>R(!1),onSubmit:async()=>{try{D(!0),await I((0,h.removeSnap)(x.id)),R(!1),I((0,h.showKeyringSnapRemovalModal)({snapName:j,result:E.KeyringSnapRemovalResultStatus.Success}))}catch{R(!1),I((0,h.showKeyringSnapRemovalModal)({snapName:j,result:E.KeyringSnapRemovalResultStatus.Failed}))}finally{D(!1)}},isOpen:O&&L&&P.length>0})))))}I.propTypes={snapId:o.default.string.isRequired,initRemove:o.default.bool,resetInitRemove:o.default.func};n.default=I}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-settings.js"}],[8521,{"../../../components/app/snaps/snap-authorship-header":6705,"../../../components/app/snaps/snap-home-menu":6712,"../../../components/app/snaps/snap-home-page/snap-home-renderer":6714,"../../../components/component-library":6951,"../../../components/multichain/pages/page":7266,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../selectors":8577,"./snap-settings":8520,"@metamask/utils":3554,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=e("@metamask/utils"),i=e("react-router-dom"),c=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),u=e("../../../selectors"),d=e("../../../components/component-library"),p=e("../../../components/multichain/pages/page"),f=y(e("../../../components/app/snaps/snap-authorship-header")),m=y(e("../../../components/app/snaps/snap-home-menu")),h=e("../../../components/app/snaps/snap-home-page/snap-home-renderer"),g=y(e("./snap-settings"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){const[,t]=e;return t}n.default=function(){const e=(0,r.c)(42),t=(0,i.useNavigate)(),n=(0,i.useLocation)(),{pathname:y}=n;let v;if(e[0]!==y){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t=/[^/]+$/u,e[2]=t):t=e[2],v=y.match(t),e[0]=y,e[1]=v}else v=e[1];const w=decodeURIComponent(v[0]),C=(0,o.useSelector)(u.getSnaps);let T,_;e[3]!==C?(T=Object.entries(C).map(b),e[3]=C,e[4]=T):T=e[4],e[5]!==w||e[6]!==T?(_=T.find(e=>e.id===w),e[5]=w,e[6]=T,e[7]=_):_=e[7];const E=_;let k,S,I;e[8]!==t||e[9]!==E?(k=()=>{E||t(l.SNAPS_ROUTE)},S=[t,E],e[8]=t,e[9]=E,e[10]=k,e[11]=S):(k=e[10],S=e[11]),(0,a.useEffect)(k,S),e[12]!==E?(I=e=>E&&(0,u.getPermissions)(e,E.id),e[12]=E,e[13]=I):I=e[13];const x=(0,o.useSelector)(I);let O;e[14]!==x?(O=x&&(0,s.hasProperty)(x,"endowment:page-home"),e[14]=x,e[15]=O):O=e[15];const R=O,[M,D]=(0,a.useState)(!R),[P,A]=(0,a.useState)(!1);if(!E)return null;let B;e[16]===Symbol.for("react.memo_cache_sentinel")?(B=()=>{D(!0)},e[16]=B):B=e[16];const N=B;let F;e[17]===Symbol.for("react.memo_cache_sentinel")?(F=()=>{A(!0),D(!0)},e[17]=F):F=e[17];const j=F;let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{A(!1)},e[18]=U):U=e[18];const L=U;let q;if(e[19]!==R||e[20]!==t||e[21]!==M||e[22]!==E.hidden||e[23]!==E.preinstalled){const n=()=>{E.preinstalled&&E.hidden?t(l.DEFAULT_ROUTE):M&&R?D(!1):t(l.SNAPS_ROUTE)};q=()=>a.default.createElement(d.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},a.default.createElement(d.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:d.ButtonIconSize.Md,onClick:n})),e[19]=R,e[20]=t,e[21]=M,e[22]=E.hidden,e[23]=E.preinstalled,e[24]=q}else q=e[24];const W=q;let $;e[25]!==W||e[26]!==E.hidden||e[27]!==E.hideSnapBranding||e[28]!==E.preinstalled||e[29]!==w?($=!E.hideSnapBranding&&a.default.createElement(f.default,{snapId:w,showInfo:!1,startAccessory:W(),endAccessory:!E.hidden&&a.default.createElement(m.default,{snapId:w,onSettingsClick:N,onRemoveClick:j,isSettingsAvailable:!E.preinstalled})}),e[25]=W,e[26]=E.hidden,e[27]=E.hideSnapBranding,e[28]=E.preinstalled,e[29]=w,e[30]=$):$=e[30];const K=M?4:0,H=M?4:0;let G,Y,V;return e[31]!==P||e[32]!==M||e[33]!==w?(G=M?a.default.createElement(g.default,{snapId:w,initRemove:P,resetInitRemove:L}):a.default.createElement(h.SnapHomeRenderer,{snapId:w}),e[31]=P,e[32]=M,e[33]=w,e[34]=G):G=e[34],e[35]!==K||e[36]!==H||e[37]!==G?(Y=a.default.createElement(p.Content,{backgroundColor:c.BackgroundColor.backgroundDefault,className:"snap-view__content",marginTop:K,padding:H},G),e[35]=K,e[36]=H,e[37]=G,e[38]=Y):Y=e[38],e[39]!==$||e[40]!==Y?(V=a.default.createElement("div",{className:"snap-view"},a.default.createElement(p.Page,{backgroundColor:c.BackgroundColor.backgroundDefault},$,Y)),e[39]=$,e[40]=Y,e[41]=V):V=e[41],V}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-view.js"}],[8522,{"./snap-list":8523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/index.js"}],[8523,{"../../../components/app/snaps/snap-list-item":6722,"../../../components/component-library":6951,"../../../components/multichain/pages/page":7266,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../helpers/utils/settings-search":7508,"../../../helpers/utils/util":7518,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),s=e("react-redux"),i=e("react-router-dom"),c=(r=e("../../../components/app/snaps/snap-list-item"))&&r.__esModule?r:{default:r},l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),f=e("../../../helpers/utils/settings-search"),m=e("../../../components/component-library"),h=e("../../../components/multichain/pages/page"),g=e("../../../helpers/utils/util");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.c)(25),t=(0,l.useI18nContext)(),n=(0,o.useRef)(),r=(0,i.useNavigate)();let y;e[0]!==r?(y=e=>{r((0,g.getSnapRoute)(e.id))},e[0]=r,e[1]=y):y=e[1];const v=y;let b,w;e[2]!==t?(b=()=>{(0,f.handleSettingsRefs)(t,t("snaps"),n)},w=[n,t],e[2]=t,e[3]=b,e[4]=w):(b=e[3],w=e[4]),(0,o.useEffect)(b,w);const C=(0,s.useSelector)(p.getSnapsList),T=(0,s.useSelector)(p.getAllSnapAvailableUpdates);let _,E,k,S,I,x,O;return e[5]!==r?(_=o.default.createElement(m.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:"sm",onClick:()=>r(d.DEFAULT_ROUTE)}),e[5]=r,e[6]=_):_=e[6],e[7]!==t?(E=t("snaps"),e[7]=t,e[8]=E):E=e[8],e[9]!==_||e[10]!==E?(k=o.default.createElement(h.Header,{backgroundColor:u.BackgroundColor.backgroundDefault,startAccessory:_},E),e[9]=_,e[10]=E,e[11]=k):k=e[11],e[12]!==v||e[13]!==T||e[14]!==C?(S=C.length>0&&o.default.createElement("div",{className:"snaps__content__list__body"},o.default.createElement("div",{className:"snaps__content__list__wrapper"},C.map(e=>o.default.createElement(c.default,{className:"snaps__content__list-item",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{v(e)},snapId:e.id,showUpdateDot:T.get(e.id)})))),e[12]=v,e[13]=T,e[14]=C,e[15]=S):S=e[15],e[16]!==C.length||e[17]!==t?(I=C.length<=5&&o.default.createElement(m.Box,{display:u.Display.Flex,height:u.BlockSize.Full,flexDirection:u.FlexDirection.Row,flexWrap:u.FlexWrap.Wrap,justifyContent:u.JustifyContent.center,className:"snaps__content__list__container--snaps-info-content"},C.length<1&&o.default.createElement(m.Box,{className:"snaps__content__list__container--no-snaps_inner",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center},o.default.createElement(m.Icon,{name:m.IconName.Snaps,color:u.IconColor.iconMuted,className:"snaps__content__list__no-snaps_icon",size:m.IconSize.Inherit}),o.default.createElement(m.Text,{color:u.Color.textMuted,align:u.TextAlign.Center,marginTop:4},t("noSnaps"))),o.default.createElement(m.Box,{display:u.Display.Flex,width:u.BlockSize.Full,height:u.BlockSize.Min}),o.default.createElement(m.Box,{className:"snaps__content__list__container--no-snaps_banner-tip",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(m.BannerTip,{logoType:m.BannerTipLogoType.Greeting,description:t("extendWalletWithSnaps"),descriptionProps:{variant:u.TextVariant.bodyMd}},o.default.createElement(m.ButtonLink,{size:u.Size.auto,href:"https://snaps.metamask.io/",target:"_blank",endIconName:m.IconName.Export},`${t("discoverSnaps")}`)))),e[16]=C.length,e[17]=t,e[18]=I):I=e[18],e[19]!==S||e[20]!==I?(x=o.default.createElement(h.Content,{backgroundColor:u.BackgroundColor.backgroundDefault,className:"snaps__content"},o.default.createElement(m.Box,{className:"snaps__content__list",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,height:u.BlockSize.Full},S,I)),e[19]=S,e[20]=I,e[21]=x):x=e[21],e[22]!==k||e[23]!==x?(O=o.default.createElement("div",{className:"snaps"},o.default.createElement(h.Page,{backgroundColor:u.BackgroundColor.backgroundDefault},k,x)),e[22]=k,e[23]=x,e[24]=O):O=e[24],O}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/snap-list.js"}],[8524,{"../../../shared/constants/metametrics":6190,"../../components/app/srp-details-modal":6827,"../../components/app/srp-input-import":6829,"../../components/component-library":6951,"../../contexts/metametrics":7420,"../../helpers/constants/design-system":7460,"../../hooks/useI18nContext":7615,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../components/component-library"),s=e("../../helpers/constants/design-system"),i=e("../../hooks/useI18nContext"),c=p(e("../../components/app/srp-input-import")),l=p(e("../../components/app/srp-details-modal")),u=e("../../../shared/constants/metametrics"),d=e("../../contexts/metametrics");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=e=>{const t=(0,r.c)(26),{error:n,setSecretRecoveryPhrase:p,onClearCallback:f,showDescription:h,toggleSrpDetailsModal:g,onSrpDetailsModalClose:y}=e,v=h===undefined||h,b=g!==undefined&&g,w=(0,i.useI18nContext)(),{trackEvent:C}=(0,a.useContext)(d.MetaMetricsContext),[T,_]=(0,a.useState)(!1);let E,k,S;t[0]!==b?(E=()=>{_(b)},k=[b],t[0]=b,t[1]=E,t[2]=k):(E=t[1],k=t[2]),(0,a.useEffect)(E,k),t[3]!==C?(S=()=>{C({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),_(!0)},t[3]=C,t[4]=S):S=t[4];const I=S;let x,O,R,M,D,P,A;return t[5]!==y||t[6]!==T?(x=T&&a.default.createElement(l.default,{onClose:()=>{_(!1),null==y||y()}}),t[5]=y,t[6]=T,t[7]=x):x=t[7],t[8]!==I||t[9]!==v||t[10]!==w?(O=v&&a.default.createElement(o.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center},a.default.createElement(o.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},w("typeYourSRP")),a.default.createElement(o.ButtonIcon,{iconName:o.IconName.Info,size:o.ButtonIconSize.Sm,color:s.IconColor.iconAlternative,onClick:I,ariaLabel:"info"})),t[8]=I,t[9]=v,t[10]=w,t[11]=O):O=t[11],t[12]!==f||t[13]!==p?(R=a.default.createElement(c.default,{onChange:p,onClearCallback:f}),t[12]=f,t[13]=p,t[14]=R):R=t[14],t[15]!==n?(M=n&&a.default.createElement(o.Box,{marginTop:2},a.default.createElement(o.Text,{"data-testid":"import-srp-error",variant:s.TextVariant.bodySm,color:s.TextColor.errorDefault},n)),t[15]=n,t[16]=M):M=t[16],t[17]!==R||t[18]!==M?(D=a.default.createElement(o.Box,{width:s.BlockSize.Full},a.default.createElement("form",{onSubmit:m},R,M)),t[17]=R,t[18]=M,t[19]=D):D=t[19],t[20]!==D||t[21]!==O?(P=a.default.createElement(o.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4,height:s.BlockSize.Full},O,D),t[20]=D,t[21]=O,t[22]=P):P=t[22],t[23]!==P||t[24]!==x?(A=a.default.createElement(a.default.Fragment,null,x,P),t[23]=P,t[24]=x,t[25]=A):A=t[25],A};function m(e){return e.preventDefault()}}}},{package:"$root$",file:"ui/pages/srp-input-form/index.tsx"}],[8525,{"../../../../shared/constants/metametrics":6190,"../../../../shared/modules/selectors":6333,"../../../components/component-library":6951,"../../../components/ui/box":7290,"../../../components/ui/pulse-loader":7371,"../../../contexts/i18n":7415,"../../../contexts/metametrics":7420,"../../../ducks/swaps/swaps":7456,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../selectors/selectors":8597,"../swaps-footer":8551,"./swap-step-icon":8527,"lodash/isEqual":5226,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.c)(41),t=(0,a.useContext)(c.I18nContext),n=(0,s.useNavigate)(),C=(0,o.useDispatch)(),T=(0,o.useSelector)(l.getFetchParams,i.default);let _;e[0]!==(null==T?void 0:T.metaData)?(_=(null==T?void 0:T.metaData)||{},e[0]=null==T?void 0:T.metaData,e[1]=_):_=e[1];const{destinationTokenInfo:E,sourceTokenInfo:k}=_,S=(0,o.useSelector)(l.getApproveTxParams,o.shallowEqual),I=(0,o.useSelector)(u.isHardwareWallet),x=(0,o.useSelector)(u.getHardwareWalletType),O=(0,o.useSelector)(d.getSmartTransactionsOptInStatusForMetrics),R=(0,o.useSelector)(d.getSmartTransactionsEnabled),M=(0,o.useSelector)(l.getCurrentSmartTransactionsEnabled),D=Boolean(S),{trackEvent:P}=(0,a.useContext)(y.MetaMetricsContext);let A,B,N;e[2]!==M||e[3]!==(null==E?void 0:E.symbol)||e[4]!==(null==T?void 0:T.balanceError)||e[5]!==(null==T?void 0:T.slippage)||e[6]!==(null==T?void 0:T.value)||e[7]!==x||e[8]!==I||e[9]!==D||e[10]!==R||e[11]!==O||e[12]!==(null==k?void 0:k.symbol)||e[13]!==P?(A=()=>{P({event:"Awaiting Signature(s) on a HW wallet",category:v.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:D,token_from:null==k?void 0:k.symbol,token_from_amount:null==T?void 0:T.value,token_to:null==E?void 0:E.symbol,request_type:null!=T&&T.balanceError?"Quote":"Order",slippage:null==T?void 0:T.slippage,custom_slippage:2===(null==T?void 0:T.slippage),is_hardware_wallet:I,hardware_wallet_type:x,stx_enabled:R,current_stx_enabled:M,stx_user_opt_in:O}})},e[2]=M,e[3]=null==E?void 0:E.symbol,e[4]=null==T?void 0:T.balanceError,e[5]=null==T?void 0:T.slippage,e[6]=null==T?void 0:T.value,e[7]=x,e[8]=I,e[9]=D,e[10]=R,e[11]=O,e[12]=null==k?void 0:k.symbol,e[13]=P,e[14]=A):A=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(B=[],e[15]=B):B=e[15];(0,a.useEffect)(A,B),e[16]!==D||e[17]!==t?(N=t(D?"swapTwoTransactions":"swapConfirmWithHwWallet"),e[16]=D,e[17]=t,e[18]=N):N=e[18];const F=N;let j,U,L,q,W,$,K,H;e[19]===Symbol.for("react.memo_cache_sentinel")?(j=a.default.createElement(m.default,{marginTop:3,marginBottom:4},a.default.createElement(f.default,null)),e[19]=j):j=e[19];e[20]!==F?(U=a.default.createElement(b.Text,{color:h.TextColor.textDefault,variant:h.TextVariant.headingMd,as:"h3"},F),e[20]=F,e[21]=U):U=e[21];e[22]!==(null==E?void 0:E.symbol)||e[23]!==D||e[24]!==(null==k?void 0:k.symbol)||e[25]!==t?(L=D&&a.default.createElement(a.default.Fragment,null,a.default.createElement(b.Text,{variant:h.TextVariant.bodyMdBold,marginTop:2},t("swapToConfirmWithHwWallet")),a.default.createElement("ul",{className:"awaiting-signatures__steps"},a.default.createElement("li",null,a.default.createElement(w.default,{stepNumber:1}),t("swapAllowSwappingOf",[a.default.createElement(b.Text,{as:"span",variant:h.TextVariant.bodyMdBold,key:"allowToken"},null==E?void 0:E.symbol)])),a.default.createElement("li",null,a.default.createElement(w.default,{stepNumber:2}),t("swapFromTo",[a.default.createElement(b.Text,{as:"span",variant:h.TextVariant.bodyMdBold,key:"tokenFrom"},null==k?void 0:k.symbol),a.default.createElement(b.Text,{as:"span",variation:h.TextVariant.bodyMdBold,key:"tokenTo"},null==E?void 0:E.symbol)]))),a.default.createElement(b.Text,{variant:h.TextVariant.bodyMd},t("swapGasFeesSplit"))),e[22]=null==E?void 0:E.symbol,e[23]=D,e[24]=null==k?void 0:k.symbol,e[25]=t,e[26]=L):L=e[26];e[27]!==U||e[28]!==L?(q=a.default.createElement(m.default,{paddingLeft:8,paddingRight:8,height:h.BLOCK_SIZES.FULL,justifyContent:h.JustifyContent.center,display:h.DISPLAY.FLEX,className:"awaiting-signatures__content"},j,U,L),e[27]=U,e[28]=L,e[29]=q):q=e[29];e[30]!==C||e[31]!==n?(W=async()=>{await C((0,l.prepareToLeaveSwaps)()),n(p.PREPARE_SWAP_ROUTE)},e[30]=C,e[31]=n,e[32]=W):W=e[32];e[33]!==t?($=t("cancel"),e[33]=t,e[34]=$):$=e[34];e[35]!==W||e[36]!==$?(K=a.default.createElement(g.default,{onSubmit:W,submitText:$,hideCancel:!0}),e[35]=W,e[36]=$,e[37]=K):K=e[37];e[38]!==K||e[39]!==q?(H=a.default.createElement("div",{className:"awaiting-signatures"},q,K),e[38]=K,e[39]=q,e[40]=H):H=e[40];return H};var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=C(e("lodash/isEqual")),c=e("../../../contexts/i18n"),l=e("../../../ducks/swaps/swaps"),u=e("../../../selectors/selectors"),d=e("../../../../shared/modules/selectors"),p=e("../../../helpers/constants/routes"),f=C(e("../../../components/ui/pulse-loader")),m=C(e("../../../components/ui/box")),h=e("../../../helpers/constants/design-system"),g=C(e("../swaps-footer")),y=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics"),b=e("../../../components/component-library"),w=C(e("./swap-step-icon"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[8526,{"./awaiting-signatures":8525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./awaiting-signatures"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[8527,{"prop-types":5495,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var r=e("react-compiler-runtime"),a=s(e("react")),o=s(e("prop-types"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){const t=(0,r.c)(2),{stepNumber:n}=e;switch(n===undefined?1:n){case 1:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"})),t[0]=e):e=t[0],e}case 2:{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"})),t[1]=e):e=t[1],e}default:return}}i.propTypes={stepNumber:o.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[8528,{"../../../../shared/constants/common":6177,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/swaps":6209,"../../../../shared/lib/ui-utils":6306,"../../../../shared/modules/selectors":6333,"../../../../shared/modules/selectors/networks":6335,"../../../../shared/modules/swaps.utils":6347,"../../../components/ui/mascot":7351,"../../../components/ui/pulse-loader":7371,"../../../contexts/i18n":7415,"../../../contexts/metametrics":7420,"../../../ducks/metamask/metamask":7448,"../../../ducks/swaps/swaps":7456,"../../../helpers/constants/routes":7465,"../../../helpers/utils/build-types":7484,"../../../selectors":8577,"../../../selectors/selectors":8597,"../../../store/actions":8611,"../create-new-swap":8534,"../swaps-footer":8551,"../swaps.util":8554,"../view-on-block-explorer":8555,"./quotes-timeout-icon":8530,"./swap-failure-icon":8531,"./swap-success-icon":8532,"@metamask/etherscan-link":2323,events:4770,"lodash/isEqual":5226,"prop-types":5495,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=F;var r=N(e("events")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=N(e("prop-types")),i=e("react-router-dom"),c=N(e("lodash/isEqual")),l=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/modules/selectors/networks"),m=e("../../../ducks/metamask/metamask"),h=e("../../../selectors"),g=e("../../../selectors/selectors"),y=e("../../../../shared/modules/selectors"),v=e("../../../ducks/swaps/swaps"),b=N(e("../../../components/ui/mascot")),w=e("../../../../shared/constants/swaps"),C=e("../../../../shared/constants/common"),T=e("../../../../shared/modules/swaps.utils"),_=N(e("../../../components/ui/pulse-loader")),E=e("../../../helpers/utils/build-types"),k=e("../../../helpers/constants/routes"),S=e("../../../store/actions"),I=e("../swaps.util"),x=N(e("../swaps-footer")),O=N(e("../create-new-swap")),R=N(e("../view-on-block-explorer")),M=e("../../../../shared/lib/ui-utils"),D=N(e("./swap-failure-icon")),P=N(e("./swap-success-icon")),A=N(e("./quotes-timeout-icon"));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function N(e){return e&&e.__esModule?e:{default:e}}function F({swapComplete:e,errorKey:t,txHash:n,tokensReceived:s,submittingSwap:B,txId:N}){var F,j;const U=(0,a.useContext)(u.I18nContext),{trackEvent:L}=(0,a.useContext)(d.MetaMetricsContext),q=(0,i.useNavigate)(),W=(0,o.useDispatch)(),$=(0,o.useSelector)(g.getHDEntropyIndex),K=(0,a.useRef)(new r.default),{swapMetaData:H}=(0,o.useSelector)(e=>(0,h.getFullTxData)(e,N))||{},G=(0,o.useSelector)(v.getFetchParams,c.default),Y=(0,o.useSelector)(v.getFromTokenInputValue),V=(0,o.useSelector)(v.getMaxSlippage),Z=(0,o.useSelector)(v.getUsedQuote,c.default),z=(0,o.useSelector)(v.getApproveTxParams,o.shallowEqual),Q=(0,o.useSelector)(v.getUsedSwapsGasPrice),X=(0,o.useSelector)(m.getCurrentCurrency),J=(0,o.useSelector)(h.getUSDConversionRate),ee=(0,o.useSelector)(f.getCurrentChainId),te=(0,o.useSelector)(h.getRpcPrefsForCurrentProvider,o.shallowEqual),[ne,re]=(0,a.useState)(!1),ae=(null==Z||null===(F=Z.destinationTokenInfo)||void 0===F?void 0:F.symbol)||(null==H?void 0:H.token_to);let oe;if(Z&&Q){var se,ie;oe=(0,I.getRenderableNetworkFeesForQuote)({tradeGas:Z.gasEstimateWithRefund||Z.averageGas,approveGas:(null==z?void 0:z.gas)||"0x0",gasPrice:Q,currentCurrency:X,conversionRate:J,tradeValue:null==Z||null===(se=Z.trade)||void 0===se?void 0:se.value,sourceSymbol:null==Z||null===(ie=Z.sourceTokenInfo)||void 0===ie?void 0:ie.symbol,sourceAmount:Z.sourceAmount,chainId:ee}).rawNetworkFees}const ce=(0,o.useSelector)(h.isHardwareWallet),le=(0,o.useSelector)(h.getHardwareWalletType),ue=(0,o.useSelector)(y.getSmartTransactionsOptInStatusForMetrics),de=(0,o.useSelector)(y.getSmartTransactionsEnabled),pe=(0,o.useSelector)(v.getCurrentSmartTransactionsEnabled),fe=(null==H?void 0:H.slippage)||(null==Z?void 0:Z.slippage),me={token_from:(null==H?void 0:H.token_from)||(null==Z||null===(j=Z.sourceTokenInfo)||void 0===j?void 0:j.symbol),token_from_amount:null==H?void 0:H.token_from_amount,token_to:ae,request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:fe,custom_slippage:2===fe,gas_fees:oe,is_hardware_wallet:ce,hardware_wallet_type:le,stx_enabled:de,current_stx_enabled:pe,stx_user_opt_in:ue},he=te.blockExplorerUrl??C.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null,ge=(0,l.getBlockExplorerLink)({hash:n,chainId:ee},{blockExplorerUrl:he});let ye,ve,be,we,Ce;t===w.OFFLINE_FOR_MAINTENANCE?(ye=U("offlineForMaintenance"),be=U("metamaskSwapsOfflineDescription"),we=U("close"),ve=a.default.createElement(D.default,null)):t===w.SWAP_FAILED_ERROR?(ye=U("swapFailedErrorTitle"),be=U("swapFailedErrorDescriptionWithSupportLink",[a.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:M.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{L({category:p.MetaMetricsEventCategory.Swaps,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:M.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},new URL(M.SUPPORT_LINK).hostname)]),we=U("tryAgain"),ve=a.default.createElement(D.default,null),Ce=ge&&a.default.createElement(R.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:me})):t===w.QUOTES_EXPIRED_ERROR?(ye=U("swapQuotesExpiredErrorTitle"),be=U("swapQuotesExpiredErrorDescription"),we=U("tryAgain"),ve=a.default.createElement(A.default,null),ne||(re(!0),L({event:"Quotes Timed Out",category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:me,properties:{hd_entropy_index:$}}))):t===w.ERROR_FETCHING_QUOTES?(ye=U("swapFetchingQuotesErrorTitle"),be=U("swapFetchingQuotesErrorDescription"),we=U("back"),ve=a.default.createElement(D.default,null)):t===w.QUOTES_NOT_AVAILABLE_ERROR?(ye=U("swapQuotesNotAvailableErrorTitle"),be=U("swapQuotesNotAvailableErrorDescription"),we=U("tryAgain"),ve=a.default.createElement(D.default,null)):t===w.CONTRACT_DATA_DISABLED_ERROR?(ye=U("swapContractDataDisabledErrorTitle"),be=U("swapContractDataDisabledErrorDescription"),we=U("tryAgain"),ve=a.default.createElement(D.default,null)):t||e?!t&&e&&(ye=U("swapTransactionComplete"),ve=a.default.createElement(P.default,null),we=U("close"),be=U("swapTokenAvailable",[a.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${s||""} ${ae}`)]),Ce=ge&&a.default.createElement(R.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:me})):(ye=U("swapProcessing"),ve=a.default.createElement(_.default,null),we=U("swapsViewInActivity"),be=U("swapOnceTransactionHasProcess",[a.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},ae)]),Ce=ge&&a.default.createElement(R.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:me})),(0,a.useEffect)(()=>{t&&W((0,S.stopPollingForQuotes)())},[W,t]);return a.default.createElement("div",{className:"awaiting-swap"},a.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&((0,E.isFlask)()||(0,E.isBeta)()?a.default.createElement("div",{className:"awaiting-swap__mascot"},a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"})):a.default.createElement(b.default,{animationEventEmitter:K.current,width:"90",height:"90"})),a.default.createElement("div",{className:"awaiting-swap__status-image"},ve),a.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},ye),a.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},be),Ce),!t&&e?a.default.createElement(O.default,{sensitiveTrackingProperties:me}):null,a.default.createElement(x.default,{onSubmit:async()=>{t===w.OFFLINE_FOR_MAINTENANCE?(await W((0,v.prepareToLeaveSwaps)()),q(k.DEFAULT_ROUTE)):t===w.QUOTES_EXPIRED_ERROR?(W((0,v.prepareForRetryGetQuotes)()),await W((0,v.fetchQuotesAndSetQuoteState)(q,Y,V,L))):t?await W((0,v.navigateBackToPrepareSwap)(q)):(0,T.isSwapsDefaultTokenSymbol)(ae,ee)||e?q(k.DEFAULT_ROUTE):q(`${k.DEFAULT_ROUTE}?tab=activity`)},onCancel:async()=>await W((0,v.navigateBackToPrepareSwap)(q)),submitText:we,disabled:B,hideCancel:t!==w.QUOTES_EXPIRED_ERROR}))}F.propTypes={swapComplete:s.default.bool,txHash:s.default.string,tokensReceived:s.default.string,errorKey:s.default.oneOf([w.QUOTES_EXPIRED_ERROR,w.SWAP_FAILED_ERROR,w.ERROR_FETCHING_QUOTES,w.QUOTES_NOT_AVAILABLE_ERROR,w.OFFLINE_FOR_MAINTENANCE,w.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:s.default.bool,txId:s.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[8529,{"./awaiting-swap":8528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./awaiting-swap"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[8530,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[8531,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[8532,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[8533,{"../../../../shared/constants/metametrics":6190,"../../../components/ui/box":7290,"../../../contexts/i18n":7415,"../../../contexts/metametrics":7420,"../../../ducks/swaps/swaps":7456,"../../../helpers/constants/routes":7465,"../../../selectors":8577,"../../../selectors/selectors":8597,"lodash/isEqual":5226,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=y(e("prop-types")),i=e("react-router-dom"),c=y(e("lodash/isEqual")),l=y(e("../../../components/ui/box")),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),f=e("../../../ducks/swaps/swaps"),m=e("../../../helpers/constants/routes"),h=e("../../../selectors"),g=e("../../../selectors/selectors");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){const t=(0,r.c)(12),{sensitiveTrackingProperties:n}=e,s=(0,a.useContext)(u.I18nContext),{trackEvent:y}=(0,a.useContext)(d.MetaMetricsContext),v=(0,o.useSelector)(g.getHDEntropyIndex),b=(0,o.useDispatch)(),w=(0,i.useNavigate)(),C=(0,o.useSelector)(h.getSwapsDefaultToken,c.default);let T,_,E;return t[0]!==C||t[1]!==b||t[2]!==v||t[3]!==w||t[4]!==n||t[5]!==y?(T=async()=>{y({event:p.MetaMetricsEventName.MakeAnotherSwap,category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:n,properties:{hd_entropy_index:v}}),w(m.DEFAULT_ROUTE),await b((0,f.navigateBackToPrepareSwap)(w)),b((0,f.setSwapsFromToken)(C))},t[0]=C,t[1]=b,t[2]=v,t[3]=w,t[4]=n,t[5]=y,t[6]=T):T=t[6],t[7]!==s?(_=s("makeAnotherSwap"),t[7]=s,t[8]=_):_=t[8],t[9]!==T||t[10]!==_?(E=a.default.createElement(l.default,{marginBottom:3,className:"create-new-swap"},a.default.createElement("button",{onClick:T},_)),t[9]=T,t[10]=_,t[11]=E):E=t[11],E}b.propTypes={sensitiveTrackingProperties:s.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[8534,{"./create-new-swap":8533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./create-new-swap"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[8535,{"../../../ducks/swaps/swaps":7456,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwapsFeatureFlags=function(){const e=(0,r.c)(3),t=(0,o.useDispatch)();let n,i;e[0]!==t?(n=()=>{(async()=>{await t((0,s.fetchSwapsLivenessAndFeatureFlags)())})()},i=[t],e[0]=t,e[1]=n,e[2]=i):(n=e[1],i=e[2]);(0,a.useEffect)(n,i)};var r=e("react-compiler-runtime"),a=e("react"),o=e("react-redux"),s=e("../../../ducks/swaps/swaps")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useSwapsFeatureFlags.ts"}],[8536,{"../../../../shared/modules/selectors/networks":6335,"../../../ducks/swaps/swaps":7456,"../../../selectors":8577,"../../../store/actions":8611,"../swaps.util":8554,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.c)(7),t=(0,o.useDispatch)(),n=(0,o.useSelector)(l.getCurrentChainId),p=(0,o.useSelector)(u.getIsSwapsChain),f=(0,o.useSelector)(u.checkNetworkAndAccountSupports1559),m=(0,o.useSelector)(u.getUseExternalServices);let h,g;e[0]!==n||e[1]!==t||e[2]!==m||e[3]!==p||e[4]!==f?(h=()=>{if(p&&m)return(0,s.fetchTokens)(n).then(e=>{t((0,c.setSwapsTokens)(e))}).catch(d),(0,s.fetchTopAssets)(n).then(e=>{t((0,i.setTopAssets)(e))}),(0,s.fetchAggregatorMetadata)(n).then(e=>{t((0,i.setAggregatorMetadata)(e))}),f||t((0,i.fetchAndSetSwapsGasPriceInfo)()),()=>{t((0,i.prepareToLeaveSwaps)())}},g=[t,n,f,p,m],e[0]=n,e[1]=t,e[2]=m,e[3]=p,e[4]=f,e[5]=h,e[6]=g):(h=e[5],g=e[6]);(0,a.useEffect)(h,g)};var r=e("react-compiler-runtime"),a=e("react"),o=e("react-redux"),s=e("../swaps.util"),i=e("../../../ducks/swaps/swaps"),c=e("../../../store/actions"),l=e("../../../../shared/modules/selectors/networks"),u=e("../../../selectors");function d(e){return console.error(e)}}}},{package:"$root$",file:"ui/pages/swaps/hooks/useUpdateSwapsState.ts"}],[8537,{"../../../shared/constants/metametrics":6190,"../../../shared/constants/swaps":6209,"../../../shared/lib/transactions-controller-utils":6301,"../../../shared/modules/selectors":6333,"../../../shared/modules/selectors/networks":6335,"../../components/component-library":6951,"../../components/ui/box":7290,"../../contexts/i18n":7415,"../../contexts/metametrics":7420,"../../ducks/swaps/swaps":7456,"../../helpers/constants/design-system":7460,"../../helpers/constants/routes":7465,"../../helpers/higher-order-components/feature-toggled-route":7475,"../../hooks/useGasFeeEstimates":7612,"../../selectors":8577,"../../store/actions":8611,"../routes/utils":8418,"./awaiting-signatures":8526,"./awaiting-swap":8529,"./hooks/useUpdateSwapsState":8536,"./loading-swaps-quotes":8539,"./notification-page/notification-page":8542,"./smart-transaction-status":8545,"@metamask/transaction-controller":3473,lodash:5239,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,D,P,A,B,N;const F=(0,r.c)(173),j=(0,a.useContext)(l.I18nContext),U=(0,s.useNavigate)(),L=(0,s.useLocation)(),q=(0,o.useDispatch)(),{trackEvent:W}=(0,a.useContext)(C.MetaMetricsContext),$=(0,o.useSelector)(u.getHDEntropyIndex),{pathname:K}=L,H=K===m.AWAITING_SWAP_ROUTE,G=K===m.AWAITING_SIGNATURES_ROUTE,Y=K===m.SWAPS_ERROR_ROUTE,V=K===m.LOADING_QUOTES_ROUTE,Z=K===m.SMART_TRANSACTION_STATUS_ROUTE,z=K===m.PREPARE_SWAP_ROUTE,[Q,X]=(0,a.useState)(!1),J=(0,o.useSelector)(p.getFetchParams,i.isEqual);let ee;F[0]!==(null==J?void 0:J.metaData)?(ee=(null==J?void 0:J.metaData)||{},F[0]=null==J?void 0:J.metaData,F[1]=ee):ee=F[1];const{destinationTokenInfo:te}=ee;let ne;F[2]!==te?(ne=te===undefined?{}:te,F[2]=te,F[3]=ne):ne=F[3];const re=ne,ae=(0,o.useSelector)(p.getBackgroundSwapRouteState),oe=(0,o.useSelector)(u.getSelectedAccount,o.shallowEqual),se=(0,o.useSelector)(p.getQuotes,i.isEqual),ie=(0,o.useSelector)(p.getLatestAddedTokenTo,i.isEqual),ce=(0,o.useSelector)(u.getCurrentNetworkTransactions,o.shallowEqual),le=(0,o.useSelector)(p.getTradeTxId),ue=(0,o.useSelector)(p.getApproveTxId),de=(0,o.useSelector)(p.getAggregatorMetadata,o.shallowEqual),pe=(0,o.useSelector)(p.getFetchingQuotes);let fe=(0,o.useSelector)(p.getSwapsErrorKey);const me=(0,o.useSelector)(p.getSwapsFeatureIsLive),he=(0,o.useSelector)(d.getCurrentChainId),ge=(0,o.useSelector)(u.getIsSwapsChain),ye=(0,o.useSelector)(p.getReviewSwapClickedTimestamp),ve=Boolean(ye),be=(0,o.useSelector)(f.getSmartTransactionsOptInStatusForMetrics),we=(0,o.useSelector)(f.getSmartTransactionsEnabled),Ce=(0,o.useSelector)(p.getCurrentSmartTransactionsEnabled),Te=(0,o.useSelector)(p.getCurrentSmartTransactionsError),_e=(0,o.useSelector)(d.getSelectedNetworkClientId);let Ee,ke;F[4]!==q||F[5]!==ge||F[6]!==U?(Ee=()=>{ge||(async()=>{await q((0,p.prepareToLeaveSwaps)()),U(m.DEFAULT_ROUTE)})()},ke=[ge,q,U],F[4]=q,F[5]=ge,F[6]=U,F[7]=Ee,F[8]=ke):(Ee=F[7],ke=F[8]);(0,a.useEffect)(Ee,ke),(0,v.useGasFeeEstimates)();const{address:Se}=oe;let Ie;F[9]!==ue||F[10]!==ce?(Ie=ue&&ce.find(e=>{const{id:t}=e;return ue===t}),F[9]=ue,F[10]=ce,F[11]=Ie):Ie=F[11];const xe=Ie;let Oe;F[12]!==le||F[13]!==ce?(Oe=le&&ce.find(e=>{const{id:t}=e;return le===t}),F[12]=le,F[13]=ce,F[14]=Oe):Oe=F[14];const Re=Oe;let Me;F[15]!==xe||F[16]!==he||F[17]!==(null==re?void 0:re.address)||F[18]!==(null==re?void 0:re.decimals)||F[19]!==(null==re?void 0:re.symbol)||F[20]!==Se||F[21]!==Re?(Me=(null==Re?void 0:Re.txReceipt)&&(0,T.getSwapsTokensReceivedFromTxMeta)(null==re?void 0:re.symbol,Re,null==re?void 0:re.address,Se,null==re?void 0:re.decimals,xe,he),F[15]=xe,F[16]=he,F[17]=null==re?void 0:re.address,F[18]=null==re?void 0:re.decimals,F[19]=null==re?void 0:re.symbol,F[20]=Se,F[21]=Re,F[22]=Me):Me=F[22];const De=Me,Pe=(null==Re?void 0:Re.status)===c.TransactionStatus.confirmed,Ae=(null==xe?void 0:xe.status)===c.TransactionStatus.failed||"0x0"===(null==xe||null===(e=xe.txReceipt)||void 0===e?void 0:e.status),Be=(null==Re?void 0:Re.status)===c.TransactionStatus.failed||"0x0"===(null==Re||null===(t=Re.txReceipt)||void 0===t?void 0:t.status),Ne=Ae||Be;Ne&&fe!==g.CONTRACT_DATA_DISABLED_ERROR&&(fe=g.SWAP_FAILED_ERROR);const Fe=(0,a.useRef)();let je,Ue,Le,qe;F[23]!==Ne||F[24]!==q||F[25]!==H||F[26]!==ie||F[27]!==_e?(je=()=>{Fe.current=()=>{!ie||H&&!Ne||q((0,y.ignoreTokens)({tokensToIgnore:ie,dontShowLoadingIndicator:!0,networkClientId:_e}))}},F[23]=Ne,F[24]=q,F[25]=H,F[26]=ie,F[27]=_e,F[28]=je):je=F[28];F[29]!==Ne||F[30]!==re||F[31]!==q||F[32]!==J||F[33]!==H||F[34]!==ie||F[35]!==_e?(Ue=[Ne,q,ie,re,J,H,_e],F[29]=Ne,F[30]=re,F[31]=q,F[32]=J,F[33]=H,F[34]=ie,F[35]=_e,F[36]=Ue):Ue=F[36];(0,a.useEffect)(je,Ue),F[37]===Symbol.for("react.memo_cache_sentinel")?(Le=()=>()=>{Fe.current()},qe=[],F[37]=Le,F[38]=qe):(Le=F[37],qe=F[38]);(0,a.useEffect)(Le,qe),(0,S.default)();const We=(0,o.useSelector)(u.isHardwareWallet),$e=(0,o.useSelector)(u.getHardwareWalletType);let Ke;if(F[39]!==Ce||F[40]!==(null==J?void 0:J.balanceError)||F[41]!==(null==J||null===(n=J.destinationTokenInfo)||void 0===n?void 0:n.symbol)||F[42]!==(null==J?void 0:J.slippage)||F[43]!==(null==J||null===(D=J.sourceTokenInfo)||void 0===D?void 0:D.symbol)||F[44]!==(null==J?void 0:J.value)||F[45]!==$e||F[46]!==We||F[47]!==$||F[48]!==K||F[49]!==we||F[50]!==be||F[51]!==W){var He,Ge;Ke=()=>{var e,t;W({event:w.MetaMetricsEventName.ExitedSwaps,category:w.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==J||null===(e=J.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==J?void 0:J.value,request_type:null==J?void 0:J.balanceError,token_to:null==J||null===(t=J.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==J?void 0:J.slippage,custom_slippage:2!==(null==J?void 0:J.slippage),current_screen:K.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:We,hardware_wallet_type:$e,stx_enabled:we,current_stx_enabled:Ce,stx_user_opt_in:be},properties:{hd_entropy_index:$}})},F[39]=Ce,F[40]=null==J?void 0:J.balanceError,F[41]=null==J||null===(He=J.destinationTokenInfo)||void 0===He?void 0:He.symbol,F[42]=null==J?void 0:J.slippage,F[43]=null==J||null===(Ge=J.sourceTokenInfo)||void 0===Ge?void 0:Ge.symbol,F[44]=null==J?void 0:J.value,F[45]=$e,F[46]=We,F[47]=$,F[48]=K,F[49]=we,F[50]=be,F[51]=W,F[52]=Ke}else Ke=F[52];const Ye=Ke,Ve=(0,a.useRef)();let Ze,ze,Qe,Xe,Je;F[53]!==Ye?(Ze=()=>{Ve.current=()=>{Ye()}},F[53]=Ye,F[54]=Ze):Ze=F[54];(0,a.useEffect)(Ze),F[55]!==q?(ze=()=>((async()=>{await q((0,p.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{Ve.current()}),Qe=[q],F[55]=q,F[56]=ze,F[57]=Qe):(ze=F[56],Qe=F[57]);(0,a.useEffect)(ze,Qe),F[58]!==Y||F[59]!==U||F[60]!==ve||F[61]!==fe?(Xe=()=>{fe&&!Y&&ve&&U(m.SWAPS_ERROR_ROUTE)},F[58]=Y,F[59]=U,F[60]=ve,F[61]=fe,F[62]=Xe):Xe=F[62];F[63]!==Y||F[64]!==U||F[65]!==ve||F[66]!==fe?(Je=[U,fe,Y,ve],F[63]=Y,F[64]=U,F[65]=ve,F[66]=fe,F[67]=Je):Je=F[67];(0,a.useEffect)(Xe,Je);const et=(0,a.useRef)();let tt,nt,rt;F[68]!==q||F[69]!==V?(tt=()=>{const e=()=>(Fe.current(),V&&q((0,p.prepareToLeaveSwaps)()),null);return V&&!et.current&&(et.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)},nt=[q,V],F[68]=q,F[69]=V,F[70]=tt,F[71]=nt):(tt=F[70],nt=F[71]);if((0,a.useEffect)(tt,nt),F[72]!==Ce||F[73]!==Te||F[74]!==(null==J?void 0:J.balanceError)||F[75]!==(null==J||null===(P=J.destinationTokenInfo)||void 0===P?void 0:P.symbol)||F[76]!==(null==J?void 0:J.slippage)||F[77]!==(null==J||null===(A=J.sourceTokenInfo)||void 0===A?void 0:A.symbol)||F[78]!==(null==J?void 0:J.value)||F[79]!==$e||F[80]!==We||F[81]!==K||F[82]!==we||F[83]!==be||F[84]!==W){var at,ot;rt=()=>{var e,t;W({event:"Error Smart Transactions",category:w.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==J||null===(e=J.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==J?void 0:J.value,request_type:null==J?void 0:J.balanceError,token_to:null==J||null===(t=J.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==J?void 0:J.slippage,custom_slippage:2!==(null==J?void 0:J.slippage),current_screen:K.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:We,hardware_wallet_type:$e,stx_enabled:we,current_stx_enabled:Ce,stx_user_opt_in:be,stx_error:Te}})},F[72]=Ce,F[73]=Te,F[74]=null==J?void 0:J.balanceError,F[75]=null==J||null===(at=J.destinationTokenInfo)||void 0===at?void 0:at.symbol,F[76]=null==J?void 0:J.slippage,F[77]=null==J||null===(ot=J.sourceTokenInfo)||void 0===ot?void 0:ot.symbol,F[78]=null==J?void 0:J.value,F[79]=$e,F[80]=We,F[81]=K,F[82]=we,F[83]=be,F[84]=W,F[85]=rt}else rt=F[85];null==J||J.balanceError,null==J||null===(B=J.destinationTokenInfo)||void 0===B||B.symbol,null==J||J.slippage,null==J||null===(N=J.sourceTokenInfo)||void 0===N||N.symbol,null==J||J.value;const st=rt;let it,ct,lt;F[86]!==Te||F[87]!==Q||F[88]!==st?(it=()=>{Te&&!Q&&(X(!0),st())},ct=[Te,st,Q],F[86]=Te,F[87]=Q,F[88]=st,F[89]=it,F[90]=ct):(it=F[89],ct=F[90]);if((0,a.useEffect)(it,ct),!ge){let e;return F[91]===Symbol.for("react.memo_cache_sentinel")?(e=a.default.createElement(a.default.Fragment,null),F[91]=e):e=F[91],e}F[92]!==q||F[93]!==U?(lt=async()=>{Fe.current(),U(m.DEFAULT_ROUTE,{state:{stayOnHomePage:!0}}),q((0,p.clearSwapsState)()),await q((0,y.resetBackgroundSwapsState)())},F[92]=q,F[93]=U,F[94]=lt):lt=F[94];const ut=lt;let dt,pt,ft,mt,ht,gt,yt,vt,bt,wt,Ct,Tt,_t,Et,kt,St,It,xt,Ot,Rt,Mt,Dt,Pt;F[95]!==ut?(dt=e=>{"Enter"===e.key&&ut()},F[95]=ut,F[96]=dt):dt=F[96];F[97]!==G||F[98]!==H||F[99]!==Z||F[100]!==ut||F[101]!==j?(pt=!H&&!G&&!Z&&a.default.createElement(_.Icon,{name:_.IconName.Arrow2Left,size:_.IconSize.Lg,color:k.IconColor.iconAlternative,onClick:ut,style:{cursor:"pointer"},title:j("cancel")}),F[97]=G,F[98]=H,F[99]=Z,F[100]=ut,F[101]=j,F[102]=pt):pt=F[102];F[103]!==dt||F[104]!==pt?(ft=a.default.createElement(E.default,{display:k.DISPLAY.FLEX,justifyContent:k.JustifyContent.center,marginLeft:4,width:k.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:dt},pt),F[103]=dt,F[104]=pt,F[105]=ft):ft=F[105];F[106]!==j?(mt=j("swap"),F[106]=j,F[107]=mt):mt=F[107];F[108]!==mt?(ht=a.default.createElement("div",{className:"swaps__title"},mt),F[108]=mt,F[109]=ht):ht=F[109];F[110]!==q?(gt=e=>{"Enter"===e.key&&q((0,p.setTransactionSettingsOpened)(!0))},F[110]=q,F[111]=gt):gt=F[111];F[112]!==q||F[113]!==z||F[114]!==j?(yt=z&&a.default.createElement(_.Icon,{name:_.IconName.Setting,size:_.IconSize.Lg,color:k.IconColor.iconAlternative,onClick:()=>{q((0,p.setTransactionSettingsOpened)(!0))},style:{cursor:"pointer"},title:j("transactionSettings")}),F[112]=q,F[113]=z,F[114]=j,F[115]=yt):yt=F[115];F[116]!==gt||F[117]!==yt?(vt=a.default.createElement(E.default,{display:k.DISPLAY.FLEX,justifyContent:k.JustifyContent.center,marginRight:4,width:k.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:gt},yt),F[116]=gt,F[117]=yt,F[118]=vt):vt=F[118];F[119]!==ft||F[120]!==ht||F[121]!==vt?(bt=a.default.createElement("div",{className:"swaps__header"},ft,ht,vt),F[119]=ft,F[120]=ht,F[121]=vt,F[122]=bt):bt=F[122];F[123]===Symbol.for("react.memo_cache_sentinel")?(wt=(0,h.toRelativeRoutePath)(m.PREPARE_SWAP_ROUTE),F[123]=wt):wt=F[123];F[124]===Symbol.for("react.memo_cache_sentinel")?(Ct=a.default.createElement(s.Navigate,{to:`${m.CROSS_CHAIN_SWAP_ROUTE}${m.PREPARE_SWAP_ROUTE}`,replace:!0}),F[124]=Ct):Ct=F[124];F[125]!==me?(Tt=a.default.createElement(s.Route,{path:wt,element:a.default.createElement(b.default,{redirectRoute:m.SWAPS_MAINTENANCE_ROUTE,flag:me,element:Ct})}),F[125]=me,F[126]=Tt):Tt=F[126];F[127]===Symbol.for("react.memo_cache_sentinel")?(_t=(0,h.toRelativeRoutePath)(m.SWAPS_ERROR_ROUTE),F[127]=_t):_t=F[127];F[128]!==fe||F[129]!==(null==Re?void 0:Re.hash)||F[130]!==(null==Re?void 0:Re.id)||F[131]!==(null==Re?void 0:Re.submittedTime)?(Et=a.default.createElement(s.Route,{path:_t,element:fe?a.default.createElement(O.default,{swapComplete:!1,errorKey:fe,txHash:null==Re?void 0:Re.hash,txId:null==Re?void 0:Re.id,submittedTime:null==Re?void 0:Re.submittedTime}):a.default.createElement(s.Navigate,{to:m.PREPARE_SWAP_ROUTE,replace:!0})}),F[128]=fe,F[129]=null==Re?void 0:Re.hash,F[130]=null==Re?void 0:Re.id,F[131]=null==Re?void 0:Re.submittedTime,F[132]=Et):Et=F[132];F[133]===Symbol.for("react.memo_cache_sentinel")?(kt=(0,h.toRelativeRoutePath)(m.SWAPS_NOTIFICATION_ROUTE),F[133]=kt):kt=F[133];F[134]!==fe?(St=a.default.createElement(s.Route,{path:kt,element:fe?a.default.createElement(M.default,{notificationKey:fe}):a.default.createElement(s.Navigate,{to:m.PREPARE_SWAP_ROUTE,replace:!0})}),F[134]=fe,F[135]=St):St=F[135];F[136]===Symbol.for("react.memo_cache_sentinel")?(It=(0,h.toRelativeRoutePath)(m.LOADING_QUOTES_ROUTE),F[136]=It):It=F[136];F[137]!==de||F[138]!==q||F[139]!==pe||F[140]!==U||F[141]!==se||F[142]!==fe?(xt=de?a.default.createElement(R.default,{loadingComplete:!pe&&Boolean(Object.values(se).length),onDone:async()=>{await q((0,y.setBackgroundSwapRouteState)("")),fe===g.ERROR_FETCHING_QUOTES||fe===g.QUOTES_NOT_AVAILABLE_ERROR?(q((0,y.setSwapsErrorKey)(g.QUOTES_NOT_AVAILABLE_ERROR)),U(m.SWAPS_ERROR_ROUTE)):U(m.PREPARE_SWAP_ROUTE)},aggregatorMetadata:de}):a.default.createElement(s.Navigate,{to:m.PREPARE_SWAP_ROUTE,replace:!0}),F[137]=de,F[138]=q,F[139]=pe,F[140]=U,F[141]=se,F[142]=fe,F[143]=xt):xt=F[143];F[144]!==me||F[145]!==xt?(Ot=a.default.createElement(s.Route,{path:It,element:a.default.createElement(b.default,{redirectRoute:m.SWAPS_MAINTENANCE_ROUTE,flag:me,element:xt})}),F[144]=me,F[145]=xt,F[146]=Ot):Ot=F[146];F[147]===Symbol.for("react.memo_cache_sentinel")?(Rt=(0,h.toRelativeRoutePath)(m.SWAPS_MAINTENANCE_ROUTE),F[147]=Rt):Rt=F[147];F[148]!==me?(Mt=a.default.createElement(s.Route,{path:Rt,element:!1===me?a.default.createElement(O.default,{errorKey:g.OFFLINE_FOR_MAINTENANCE}):a.default.createElement(s.Navigate,{to:m.PREPARE_SWAP_ROUTE,replace:!0})}),F[148]=me,F[149]=Mt):Mt=F[149];F[150]===Symbol.for("react.memo_cache_sentinel")?(Dt=a.default.createElement(s.Route,{path:(0,h.toRelativeRoutePath)(m.AWAITING_SIGNATURES_ROUTE),element:a.default.createElement(I.default,null)}),F[150]=Dt):Dt=F[150];F[151]===Symbol.for("react.memo_cache_sentinel")?(Pt=(0,h.toRelativeRoutePath)(m.SMART_TRANSACTION_STATUS_ROUTE),F[151]=Pt):Pt=F[151];const At=null==Re?void 0:Re.id;let Bt,Nt,Ft,jt,Ut;F[152]!==At?(Bt=a.default.createElement(s.Route,{path:Pt,element:a.default.createElement(x.default,{txId:At})}),F[152]=At,F[153]=Bt):Bt=F[153];F[154]===Symbol.for("react.memo_cache_sentinel")?(Nt=(0,h.toRelativeRoutePath)(m.AWAITING_SWAP_ROUTE),F[154]=Nt):Nt=F[154];F[155]!==ue||F[156]!==ae||F[157]!==De||F[158]!==Pe||F[159]!==Re||F[160]!==le?(Ft=a.default.createElement(s.Route,{path:Nt,element:"awaiting"===ae||Re?a.default.createElement(O.default,{swapComplete:Pe,txHash:null==Re?void 0:Re.hash,tokensReceived:De,txId:null==Re?void 0:Re.id,submittingSwap:"awaiting"===ae&&!(ue||le)}):a.default.createElement(s.Navigate,{to:m.DEFAULT_ROUTE,replace:!0})}),F[155]=ue,F[156]=ae,F[157]=De,F[158]=Pe,F[159]=Re,F[160]=le,F[161]=Ft):Ft=F[161];F[162]!==Tt||F[163]!==Et||F[164]!==St||F[165]!==Ot||F[166]!==Mt||F[167]!==Bt||F[168]!==Ft?(jt=a.default.createElement("div",{className:"swaps__content"},a.default.createElement(s.Routes,null,Tt,Et,St,Ot,Mt,Dt,Bt,Ft)),F[162]=Tt,F[163]=Et,F[164]=St,F[165]=Ot,F[166]=Mt,F[167]=Bt,F[168]=Ft,F[169]=jt):jt=F[169];F[170]!==bt||F[171]!==jt?(Ut=a.default.createElement("div",{className:"swaps"},a.default.createElement("div",{className:"swaps__container"},bt,jt)),F[170]=bt,F[171]=jt,F[172]=Ut):Ut=F[172];return Ut};var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=e("lodash"),c=e("@metamask/transaction-controller"),l=e("../../contexts/i18n"),u=e("../../selectors"),d=e("../../../shared/modules/selectors/networks"),p=e("../../ducks/swaps/swaps"),f=e("../../../shared/modules/selectors"),m=e("../../helpers/constants/routes"),h=e("../routes/utils"),g=e("../../../shared/constants/swaps"),y=e("../../store/actions"),v=e("../../hooks/useGasFeeEstimates"),b=D(e("../../helpers/higher-order-components/feature-toggled-route")),w=e("../../../shared/constants/metametrics"),C=e("../../contexts/metametrics"),T=e("../../../shared/lib/transactions-controller-utils"),_=e("../../components/component-library"),E=D(e("../../components/ui/box")),k=e("../../helpers/constants/design-system"),S=D(e("./hooks/useUpdateSwapsState")),I=D(e("./awaiting-signatures")),x=D(e("./smart-transaction-status")),O=D(e("./awaiting-swap")),R=D(e("./loading-swaps-quotes")),M=D(e("./notification-page/notification-page"));function D(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/index.js"}],[8538,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(26);let t,n,r,s,i,c,l,u,d,p,f,m,h,g,y,v,b,w,C,T,_,E,k,S,I,x;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),n=o.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),r=o.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),s=o.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),i=o.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),c=o.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),l=o.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),u=o.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),d=o.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),p=o.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=c,e[6]=l,e[7]=u,e[8]=d,e[9]=p):(t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],c=e[5],l=e[6],u=e[7],d=e[8],p=e[9]);e[10]===Symbol.for("react.memo_cache_sentinel")?(f=o.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[10]=f):f=e[10];e[11]===Symbol.for("react.memo_cache_sentinel")?(m=o.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[11]=m):m=e[11];e[12]===Symbol.for("react.memo_cache_sentinel")?(h=o.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[12]=h):h=e[12];e[13]===Symbol.for("react.memo_cache_sentinel")?(g=o.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[13]=g):g=e[13];e[14]===Symbol.for("react.memo_cache_sentinel")?(y=o.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[14]=y):y=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(v=o.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[15]=v):v=e[15];e[16]===Symbol.for("react.memo_cache_sentinel")?(b=o.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[16]=b):b=e[16];e[17]===Symbol.for("react.memo_cache_sentinel")?(w=o.default.createElement("div",{className:"loading-swaps-quotes__background-1","data-testid":"loading-swaps-quotes-background-1"},o.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,n,r,s,i,c,l,u,d,p,o.default.createElement("defs",null,f,m,h,g,y,v,b,o.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),e[17]=w):w=e[17];e[18]===Symbol.for("react.memo_cache_sentinel")?(C=o.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),T=o.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),_=o.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),E=o.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),k=o.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),S=o.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),e[18]=C,e[19]=T,e[20]=_,e[21]=E,e[22]=k,e[23]=S):(C=e[18],T=e[19],_=e[20],E=e[21],k=e[22],S=e[23]);e[24]===Symbol.for("react.memo_cache_sentinel")?(I=o.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#FFE466"}),o.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),e[24]=I):I=e[24];e[25]===Symbol.for("react.memo_cache_sentinel")?(x=o.default.createElement(o.default.Fragment,null,w,o.default.createElement("div",{className:"loading-swaps-quotes__background-2","data-testid":"loading-swaps-quotes-background-2"},o.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C,T,_,E,k,S,o.default.createElement("defs",null,I,o.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:"#75C3FC"}),o.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),o.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"})))))),e[25]=x):x=e[25];return x};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/background-animation.js"}],[8539,{"./loading-swaps-quotes":8540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./loading-swaps-quotes"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/index.js"}],[8540,{"../../../../shared/constants/metametrics":6190,"../../../../shared/modules/selectors":6333,"../../../components/component-library":6951,"../../../components/ui/mascot":7351,"../../../contexts/i18n":7415,"../../../contexts/metametrics":7420,"../../../ducks/swaps/swaps":7456,"../../../helpers/constants/design-system":7460,"../../../helpers/utils/build-types":7484,"../../../selectors/selectors":8597,"../swaps-footer":8551,"./background-animation":8538,events:4770,lodash:5239,"lodash/isEqual":5226,"prop-types":5495,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var r=_(e("events")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=_(e("prop-types")),i=e("lodash"),c=e("react-router-dom"),l=_(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),p=e("../../../../shared/modules/selectors"),f=e("../../../contexts/i18n"),m=e("../../../contexts/metametrics"),h=_(e("../../../components/ui/mascot")),g=e("../../../../shared/constants/metametrics"),y=_(e("../swaps-footer")),v=e("../../../components/component-library"),b=e("../../../helpers/constants/design-system"),w=e("../../../helpers/utils/build-types"),C=_(e("./background-animation"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function E({aggregatorMetadata:e,loadingComplete:t,onDone:n}){var s,T;const _=(0,a.useContext)(f.I18nContext),{trackEvent:E}=(0,a.useContext)(m.MetaMetricsContext),k=(0,o.useDispatch)(),S=(0,o.useSelector)(d.getHDEntropyIndex),I=(0,c.useNavigate)(),x=(0,a.useRef)(new r.default),O=(0,o.useSelector)(u.getFetchParams,l.default),R=(0,o.useSelector)(u.getQuotesFetchStartTime),M=(0,o.useSelector)(d.isHardwareWallet),D=(0,o.useSelector)(d.getHardwareWalletType),P=(0,o.useSelector)(p.getSmartTransactionsOptInStatusForMetrics),A=(0,o.useSelector)(p.getSmartTransactionsEnabled),B=(0,o.useSelector)(u.getCurrentSmartTransactionsEnabled),N={event:"Quotes Request Cancelled",category:g.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==O||null===(s=O.sourceTokenInfo)||void 0===s?void 0:s.symbol,token_from_amount:null==O?void 0:O.value,request_type:null==O?void 0:O.balanceError,token_to:null==O||null===(T=O.destinationTokenInfo)||void 0===T?void 0:T.symbol,slippage:null==O?void 0:O.slippage,custom_slippage:2!==(null==O?void 0:O.slippage),response_time:Date.now()-R,is_hardware_wallet:M,hardware_wallet_type:D,stx_enabled:A,current_stx_enabled:B,stx_user_opt_in:P},properties:{hd_entropy_index:S}},[F]=(0,a.useState)(()=>(0,i.shuffle)(Object.keys(e))),j=F.length,U=(0,a.useRef)(),L=U.current,[q,W]=(0,a.useState)(0),[$,K]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const r=setTimeout(()=>{q<j?W(q+1):q===j&&t&&n()},e);return function(){clearTimeout(r)}},[q,t,n,j]),(0,a.useEffect)(()=>{if(L){const{top:e,left:t,width:n,height:r}=L.getBoundingClientRect();K({x:t+n/2,y:e+r/2})}},[L]),a.default.createElement("div",{className:"loading-swaps-quotes"},a.default.createElement("div",{className:"loading-swaps-quotes__content"},a.default.createElement(a.default.Fragment,null,a.default.createElement(v.Text,{variant:b.TextVariant.bodyXs,"data-testid":"loading-swaps-quotes-quote-counter",color:b.TextColor.textAlternative,marginTop:1,display:b.Display.Flex,justifyContent:b.JustifyContent.center,width:b.BlockSize.Full,marginBottom:1},a.default.createElement("span",null,_("swapFetchingQuoteNofN",[Math.min(q+1,j),j]))),a.default.createElement(v.Text,{variant:b.TextVariant.headingSm,"data-testid":"loading-swaps-quotes-quote-name-check",color:b.TextColor.textDefault,display:b.Display.Flex,justifyContent:b.JustifyContent.center,width:b.BlockSize.Full,textTransform:b.TextTransform.Capitalize},a.default.createElement("span",null,_("swapFetchingQuotes"))),a.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},a.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/j*q+"%"}}))),a.default.createElement("div",{className:"loading-swaps-quotes__animation"},a.default.createElement(C.default,null),a.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:U},(0,w.isFlask)()||(0,w.isBeta)()?a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"}):a.default.createElement(h.default,{animationEventEmitter:x.current,width:"90",height:"90",lookAtTarget:$})))),a.default.createElement(y.default,{submitText:_("back"),onSubmit:async()=>{E(N),await k((0,u.navigateBackToPrepareSwap)(I))},hideCancel:!0}))}E.propTypes={loadingComplete:s.default.bool.isRequired,onDone:s.default.func.isRequired,aggregatorMetadata:s.default.objectOf(s.default.shape({title:s.default.string,color:s.default.string,icon:s.default.string}))}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}],[8541,{"../../../components/ui/mascot":7351,"../../../helpers/utils/build-types":7484,events:4770,"prop-types":5495,react:5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=l(e("events")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=l(e("prop-types")),s=l(e("../../../components/ui/mascot")),i=e("../../../helpers/utils/build-types");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u({height:e,width:t}){const n=(0,a.useRef)(new r.default);return a.default.createElement("div",{className:"mascot-background-animation__animation"},a.default.createElement("div",{className:"mascot-background-animation__background-1","data-testid":"mascot-background-animation-background-1"},a.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),a.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),a.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),a.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),a.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),a.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),a.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),a.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),a.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),a.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),a.default.createElement("defs",null,a.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),a.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),a.default.createElement("div",{className:"mascot-background-animation__background-2","data-testid":"mascot-background-animation-background-2"},a.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),a.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),a.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),a.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),a.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),a.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),a.default.createElement("defs",null,a.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#FFE466"}),a.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),a.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{stopColor:"#75C3FC"}),a.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),a.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))),a.default.createElement("div",{className:"mascot-background-animation__mascot-container","data-testid":"mascot-background-animation-mascot-container"},(0,i.isFlask)()||(0,i.isBeta)()?a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:t??"42",height:e??"42"}):a.default.createElement(s.default,{animationEventEmitter:n.current,width:t??"42",height:e??"42",followMouse:!1})))}u.propTypes={height:o.default.string,width:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/mascot-background-animation/mascot-background-animation.js"}],[8542,{"../../../../shared/constants/swaps":6209,"../../../components/component-library":6951,"../../../components/ui/box":7290,"../../../contexts/i18n":7415,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../store/actions":8611,"../swaps-footer":8551,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=g(e("prop-types")),c=e("../../../contexts/i18n"),l=e("../../../store/actions"),u=g(e("../../../components/ui/box")),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/routes"),m=g(e("../swaps-footer")),h=e("../../../../shared/constants/swaps");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e){const t=(0,r.c)(23),{notificationKey:n}=e,i=(0,a.useContext)(c.I18nContext),g=(0,s.useNavigate)(),y=(0,o.useDispatch)();let v,b,w,C,T,_,E,k="",S="",I="";if(n===h.QUOTES_EXPIRED_ERROR){let e,n,r;t[0]!==i?(e=i("swapAreYouStillThere"),t[0]=i,t[1]=e):e=t[1],k=e,t[2]!==i?(n=i("swapAreYouStillThereDescription"),t[2]=i,t[3]=n):n=t[3],S=n,t[4]!==i?(r=i("swapShowLatestQuotes"),t[4]=i,t[5]=r):r=t[5],I=r}return t[6]===Symbol.for("react.memo_cache_sentinel")?(v=a.default.createElement(u.default,{marginTop:8,marginBottom:4},a.default.createElement(p.Icon,{name:p.IconName.Warning,color:d.IconColor.iconMuted,className:"notification-page__warning-icon"})),t[6]=v):v=t[6],t[7]!==k?(b=a.default.createElement(p.Text,{variant:d.TextVariant.bodyLgMedium,as:"h2"},k),t[7]=k,t[8]=b):b=t[8],t[9]!==S?(w=a.default.createElement(p.Text,{variant:d.TextVariant.bodyMd,as:"h6"},S),t[9]=S,t[10]=w):w=t[10],t[11]!==b||t[12]!==w?(C=a.default.createElement(u.default,{alignItems:d.AlignItems.center,display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.COLUMN,marginTop:10,marginLeft:4,marginRight:4,textAlign:d.TEXT_ALIGN.CENTER,className:"notification-page__content"},v,b,w),t[11]=b,t[12]=w,t[13]=C):C=t[13],t[14]!==y||t[15]!==g?(T=async()=>{await y((0,l.setSwapsErrorKey)("")),g(f.PREPARE_SWAP_ROUTE)},t[14]=y,t[15]=g,t[16]=T):T=t[16],t[17]!==I||t[18]!==T?(_=a.default.createElement(m.default,{onSubmit:T,submitText:I,hideCancel:!0,showTermsOfService:!0}),t[17]=I,t[18]=T,t[19]=_):_=t[19],t[20]!==C||t[21]!==_?(E=a.default.createElement("div",{className:"notification-page"},C,_),t[20]=C,t[21]=_,t[22]=E):E=t[22],E}v.propTypes={notificationKey:i.default.oneOf([h.QUOTES_EXPIRED_ERROR])}}}},{package:"$root$",file:"ui/pages/swaps/notification-page/notification-page.js"}],[8543,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M14.4946 6.14779C14.4863 5.93594 14.3991 5.69108 14.2539 5.53666L9.51334 0.49958C9.1921 0.21091 8.57613 0.0917437 8.21709 0.425509C7.86344 0.754237 7.87396 1.39178 8.22627 1.72181L11.5595 5.25889L1.1618 5.25889C0.670919 5.25889 0.272949 5.65687 0.272949 6.14779C0.272949 6.6387 0.670919 7.03668 1.1618 7.03668L11.5595 7.03668L8.22627 10.5738C7.92297 10.8776 7.86691 11.5376 8.21709 11.8701C8.56718 12.2025 9.20529 12.0963 9.51334 11.796L14.2539 6.75891C14.4161 6.58653 14.4952 6.38428 14.4946 6.14779Z",fill:"var(--color-text-muted)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/arrow-icon.js"}],[8544,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M34.5805 6.55143C36.1394 8.11033 37.3994 9.91222 38.3237 11.8681C38.7066 12.6782 39.0318 13.5148 39.2968 14.3714L39.3242 14.4606C39.4816 14.9785 39.6171 15.5037 39.73 16.0347C40.6511 20.3654 40.0335 24.9029 37.9511 28.8509C35.6001 33.308 31.5749 36.6487 26.7609 38.138C24.3773 38.8754 21.8717 39.1361 19.3873 38.9052C16.9029 38.6743 14.4883 37.9563 12.2813 36.7922C10.2608 35.7264 8.52045 34.3588 7.08333 32.7636C5.61245 31.1448 4.43054 29.2824 3.59178 27.2574C3.32329 26.6092 2.89685 25.2767 2.89685 25.2767H6.89583C7.68667 27.4068 8.96033 29.362 10.6288 30.9609L10.6318 30.96C11.5096 31.8005 12.501 32.5516 13.595 33.1786C15.8742 34.483 18.4736 35.1864 21.1455 35.1864C25.1768 35.1864 29.0429 33.585 31.8935 30.7345C34.744 27.8839 36.3455 24.0177 36.3455 19.9865C36.3455 18.7267 36.1891 17.483 35.8871 16.2814C35.8206 16.017 35.7471 15.7546 35.6666 15.4945C34.4752 11.6432 31.8027 8.42306 28.237 6.54231C24.6713 4.66156 20.5045 4.27429 16.6533 5.46571C12.8837 6.63189 9.71868 9.21706 7.82253 12.6699L12.8961 15.307L3.28331 18.3447L0.245605 8.73191L4.45005 10.9171C6.81537 6.56278 10.7905 3.30177 15.5303 1.83546C17.3658 1.26761 19.2587 0.986653 21.1455 0.986694C26.1846 0.986694 31.0173 2.98824 34.5805 6.55143Z",fill:"var(--color-primary-default)"}),o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1252 22.1036L14.7107 18.689L12.0926 21.3257L18.1252 27.3584L30.2322 15.2515L27.614 12.6148L18.1252 22.1036Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/canceled-icon.js"}],[8545,{"./smart-transaction-status":8547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./smart-transaction-status"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/index.js"}],[8546,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M34.6806 6.55143C36.2395 8.11033 37.4995 9.91222 38.4238 11.8681C38.8067 12.6782 39.1319 13.5148 39.3969 14.3714L39.4243 14.4606C39.5817 14.9785 39.7172 15.5037 39.8301 16.0347C40.7512 20.3654 40.1336 24.9029 38.0512 28.8509C35.7002 33.308 31.675 36.6487 26.861 38.138C24.4773 38.8754 21.9718 39.1361 19.4874 38.9052C17.003 38.6743 14.5884 37.9563 12.3814 36.7922C10.3609 35.7264 8.62055 34.3588 7.18343 32.7636C5.71254 31.1448 4.53064 29.2824 3.69188 27.2574C3.42339 26.6092 2.99695 25.2767 2.99695 25.2767H6.99592C7.78677 27.4068 9.06042 29.362 10.7289 30.9609L10.7319 30.96C11.6097 31.8005 12.6011 32.5516 13.6951 33.1786C15.9743 34.483 18.5737 35.1864 21.2456 35.1864C25.2769 35.1864 29.143 33.585 31.9936 30.7345C34.8441 27.8839 36.4456 24.0177 36.4456 19.9865C36.4456 18.7267 36.2892 17.483 35.9872 16.2814C35.9207 16.017 35.8471 15.7546 35.7667 15.4945C34.5753 11.6432 31.9028 8.42306 28.3371 6.54231C24.7714 4.66156 20.6046 4.27429 16.7534 5.46571C12.9838 6.63189 9.81878 9.21706 7.92263 12.6699L12.9962 15.307L3.3834 18.3447L0.345703 8.73191L4.55015 10.9171C6.91547 6.56278 10.8906 3.30177 15.6304 1.83546C17.4659 1.26761 19.3588 0.986653 21.2456 0.986694C26.2847 0.986694 31.1174 2.98824 34.6806 6.55143Z",fill:"var(--color-error-default)"}),o.default.createElement("path",{d:"M18.5849 19.9869L15.1454 23.4264L17.9845 26.2655L21.424 22.826L24.8635 26.2655L27.7026 23.4264L24.2631 19.9869L27.7026 16.5473L24.8635 13.7082L21.424 17.1478L17.9845 13.7082L15.1454 16.5473L18.5849 19.9869Z",fill:"var(--color-error-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/reverted-icon.js"}],[8547,{"../../../../shared/constants/common":6177,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/transaction":6213,"../../../../shared/lib/transactions-controller-utils":6301,"../../../../shared/modules/selectors":6333,"../../../../shared/modules/selectors/networks":6335,"../../../components/component-library":6951,"../../../components/ui/box":7290,"../../../components/ui/url-icon":7407,"../../../contexts/i18n":7415,"../../../contexts/metametrics":7420,"../../../ducks/swaps/swaps":7456,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../selectors":8577,"../../../selectors/selectors":8597,"../../../store/actions":8611,"../create-new-swap":8534,"../swaps-footer":8551,"../swaps.util":8554,"../view-on-block-explorer":8555,"./arrow-icon":8543,"./canceled-icon":8544,"./reverted-icon":8546,"./success-icon":8548,"./timer-icon":8549,"./unknown-icon":8550,"@metamask/etherscan-link":2323,lodash:5239,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,N,F,j;const U=(0,r.c)(124),[L,q]=(0,a.useState)(!1),W=(0,a.useContext)(l.I18nContext),$=(0,s.useNavigate)(),K=(0,o.useDispatch)(),H=(0,o.useSelector)(O.getHDEntropyIndex),G=(0,o.useSelector)(u.getFetchParams,c.isEqual)||{},{destinationTokenInfo:Y,sourceTokenInfo:V}=(null==G?void 0:G.metaData)||{},Z=Y===undefined?{}:Y,z=V===undefined?{}:V,Q=(0,o.useSelector)(p.isHardwareWallet),X=(0,o.useSelector)(p.getHardwareWalletType),J=(0,o.useSelector)(u.getUsedQuote,c.isEqual),ee=(0,o.useSelector)(u.getCurrentSmartTransactions,c.isEqual),te=(0,o.useSelector)(d.getCurrentChainId),ne=(0,o.useSelector)(p.getRpcPrefsForCurrentProvider,o.shallowEqual),re=(0,o.useSelector)(u.getSwapsNetworkConfig,o.shallowEqual),ae=(0,o.useSelector)(f.getSmartTransactionsEnabled),oe=(0,o.useSelector)(u.getCurrentSmartTransactionsEnabled),se=ne.blockExplorerUrl??m.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[te]??null;let ie,ce,le=T.SmartTransactionStatus.pending,ue={};if(ee&&ee.length>0){var de,pe,fe;ue=ee[ee.length-1],ie=null===(de=ue)||void 0===de?void 0:de.uuid,le=(null===(pe=ue)||void 0===pe?void 0:pe.status)||T.SmartTransactionStatus.pending,ce=null===(fe=ue)||void 0===fe||null===(fe=fe.statusMetadata)||void 0===fe?void 0:fe.cancellationFeeWei}const[me,he]=(0,a.useState)(re.stxStatusDeadline),ge={needs_two_confirmations:!0,token_from:z.symbol??(null===(e=ue)||void 0===e?void 0:e.sourceTokenSymbol),token_from_amount:(null==G?void 0:G.value)??(null===(t=ue)||void 0===t?void 0:t.swapTokenValue),token_to:Z.symbol??(null===(n=ue)||void 0===n?void 0:n.destinationTokenSymbol),request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:null==G?void 0:G.slippage,custom_slippage:2===(null==G?void 0:G.slippage),is_hardware_wallet:Q,hardware_wallet_type:X,stx_enabled:ae,current_stx_enabled:oe,stx_user_opt_in:(0,o.useSelector)(f.getSmartTransactionsOptInStatusForMetrics)};let ye;var ve;null!=J&&J.destinationAmount&&(ye=(0,x.calcTokenAmount)(null==J?void 0:J.destinationAmount,Z.decimals??(null===(ve=ue)||void 0===ve?void 0:ve.destinationTokenDecimals)).toPrecision(8));const{trackEvent:be}=(0,a.useContext)(k.MetaMetricsContext),we=le===T.SmartTransactionStatus.pending,Ce=we||le===T.SmartTransactionStatus.success,Te=null===(N=ue)||void 0===N||null===(N=N.statusMetadata)||void 0===N?void 0:N.minedHash;let _e,Ee,ke,Se;U[0]===Symbol.for("react.memo_cache_sentinel")?(_e=[],U[0]=_e):_e=U[0];(0,a.useEffect)(()=>{be({event:"STX Status Page Loaded",category:C.MetaMetricsEventCategory.Swaps,sensitiveProperties:ge,properties:{hd_entropy_index:H}})},_e),(0,a.useEffect)(()=>{let e;if(we&&ie){const t=()=>{const t=Math.round((Date.now()-ue.time)/1e3);if(t>re.stxStatusDeadline)return he(0),void clearInterval(e);he(re.stxStatusDeadline-t)};e=setInterval(t,1e3),t()}return()=>clearInterval(e)},[K,we,ie,ue.time,re.stxStatusDeadline]),U[1]!==K?(Ee=()=>{K((0,w.setBackgroundSwapRouteState)("smartTransactionStatus")),setTimeout(()=>{K((0,w.stopPollingForQuotes)())},1e3)},ke=[K],U[1]=K,U[2]=Ee,U[3]=ke):(Ee=U[2],ke=U[3]);(0,a.useEffect)(Ee,ke),U[4]!==W?(Se=W("stxPendingPrivatelySubmittingSwap"),U[4]=W,U[5]=Se):Se=U[5];let Ie,xe,Oe,Re,Me=Se;if(we)if(L){let e;U[6]!==W?(e=W("stxTryingToCancel"),U[6]=W,U[7]=e):e=U[7],Me=e}else if(ce>0){let e;U[8]!==W?(e=W("stxPendingPubliclySubmittingSwap"),U[8]=W,U[9]=e):e=U[9],Me=e}if(le===T.SmartTransactionStatus.success){var De;let e;var Pe;if(U[10]!==W?(e=W("stxSuccess"),U[10]=W,U[11]=e):e=U[11],Me=e,Z.symbol||null!==(De=ue)&&void 0!==De&&De.destinationTokenSymbol)Ie=W("stxSuccessDescription",[Z.symbol??(null===(Pe=ue)||void 0===Pe?void 0:Pe.destinationTokenSymbol)]);let t;U[12]===Symbol.for("react.memo_cache_sentinel")?(t=a.default.createElement(R.default,null),U[12]=t):t=U[12],Oe=t}else{var Ae;if("cancelled_user_cancelled"===le||(null===(Ae=ue)||void 0===Ae||null===(Ae=Ae.statusMetadata)||void 0===Ae?void 0:Ae.minedTx)===T.SmartTransactionStatus.cancelled){let e,t,n;U[13]!==W?(e=W("stxUserCancelled"),U[13]=W,U[14]=e):e=U[14],Me=e,U[15]!==W?(t=W("stxUserCancelledDescription"),U[15]=W,U[16]=t):t=U[16],Ie=t,U[17]===Symbol.for("react.memo_cache_sentinel")?(n=a.default.createElement(D.default,null),U[17]=n):n=U[17],Oe=n}else if(le.startsWith("cancelled")||le.includes("deadline_missed")){let e,t,n,r;U[18]!==W?(e=W("stxCancelled"),U[18]=W,U[19]=e):e=U[19],Me=e,U[20]!==W?(t=W("stxCancelledDescription"),U[20]=W,U[21]=t):t=U[21],Ie=t,U[22]!==W?(n=W("stxCancelledSubDescription"),U[22]=W,U[23]=n):n=U[23],xe=n,U[24]===Symbol.for("react.memo_cache_sentinel")?(r=a.default.createElement(D.default,null),U[24]=r):r=U[24],Oe=r}else if("unknown"===le){let e,t,n;U[25]!==W?(e=W("stxUnknown"),U[25]=W,U[26]=e):e=U[26],Me=e,U[27]!==W?(t=W("stxUnknownDescription"),U[27]=W,U[28]=t):t=U[28],Ie=t,U[29]===Symbol.for("react.memo_cache_sentinel")?(n=a.default.createElement(P.default,null),U[29]=n):n=U[29],Oe=n}else if("reverted"===le){let e,t,n,r,o;U[30]!==W?(e=W("stxFailure"),U[30]=W,U[31]=e):e=U[31],Me=e,U[32]!==W?(t=W("customerSupport"),U[32]=W,U[33]=t):t=U[33],U[34]!==t?(n=a.default.createElement("a",{className:"smart-transaction-status__support-link",key:"smart-transaction-status-support-link",href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer"},t),U[34]=t,U[35]=n):n=U[35],U[36]!==W||U[37]!==n?(r=W("stxFailureDescription",[n]),U[36]=W,U[37]=n,U[38]=r):r=U[38],Ie=r,U[39]===Symbol.for("react.memo_cache_sentinel")?(o=a.default.createElement(M.default,null),U[39]=o):o=U[39],Oe=o}}Te&&ie&&(Re=(0,i.getBlockExplorerLink)({hash:Te,chainId:te},{blockExplorerUrl:se}));const Be=ue.cancellable&&!L,Ne=()=>a.default.createElement(y.default,{marginBottom:0},a.default.createElement("a",{className:"smart-transaction-status__cancel-swap-link",href:"#",onClick:e=>{null==e||e.preventDefault(),q(!0),be({event:"Cancel STX",category:C.MetaMetricsEventCategory.Swaps,sensitiveProperties:ge,properties:{hd_entropy_index:H}}),K((0,u.cancelSwapsSmartTransaction)(ie))}},W("attemptToCancelSwapForFree")));let Fe;U[40]!==G?(Fe=(null==G?void 0:G.value)&&Number(G.value).toFixed(5),U[40]=G,U[41]=Fe):Fe=U[41];const je=`${Fe} `;let Ue;U[42]!==je?(Ue=a.default.createElement(g.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySm,as:"h6"},je),U[42]=je,U[43]=Ue):Ue=U[43];const Le=z.symbol??(null===(F=ue)||void 0===F?void 0:F.sourceTokenSymbol);let qe,We,$e,Ke,He;U[44]!==Le?(qe=a.default.createElement(g.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySmBold,as:"h6",marginLeft:1,marginRight:2},Le),U[44]=Le,U[45]=qe):qe=U[45];if(U[46]!==z.iconUrl||U[47]!==z.symbol||U[48]!==ue){var Ge;We=z.iconUrl?a.default.createElement(v.default,{url:z.iconUrl,className:"smart-transactions-status-summary__icon",name:z.symbol??(null===(Ge=ue)||void 0===Ge?void 0:Ge.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,U[46]=z.iconUrl,U[47]=z.symbol,U[48]=ue,U[49]=We}else We=U[49];U[50]===Symbol.for("react.memo_cache_sentinel")?($e=a.default.createElement(y.default,{display:b.DISPLAY.BLOCK,marginLeft:2,marginRight:2},a.default.createElement(A.default,null)),U[50]=$e):$e=U[50];if(U[51]!==Z.iconUrl||U[52]!==Z.symbol||U[53]!==ue){var Ye;Ke=Z.iconUrl?a.default.createElement(v.default,{url:Z.iconUrl,className:"smart-transactions-status-summary__icon",name:Z.symbol??(null===(Ye=ue)||void 0===Ye?void 0:Ye.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,U[51]=Z.iconUrl,U[52]=Z.symbol,U[53]=ue,U[54]=Ke}else Ke=U[54];U[55]!==ye?(He=ye&&Number(ye).toFixed(5),U[55]=ye,U[56]=He):He=U[56];const Ve=`~${He} `;let Ze;U[57]!==Ve?(Ze=a.default.createElement(g.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySm,as:"h6",marginLeft:2},Ve),U[57]=Ve,U[58]=Ze):Ze=U[58];const ze=Z.symbol??(null===(j=ue)||void 0===j?void 0:j.destinationTokenSymbol);let Qe,Xe,Je,et,tt,nt,rt,at;U[59]!==ze?(Qe=a.default.createElement(g.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySmBold,as:"h6",marginLeft:1},ze),U[59]=ze,U[60]=Qe):Qe=U[60];U[61]!==qe||U[62]!==We||U[63]!==Ke||U[64]!==Ze||U[65]!==Qe||U[66]!==Ue?(Xe=a.default.createElement(y.default,{marginTop:10,marginBottom:0,display:b.DISPLAY.FLEX,justifyContent:b.JustifyContent.center,alignItems:b.AlignItems.center},Ue,qe,We,$e,Ke,Ze,Qe),U[61]=qe,U[62]=We,U[63]=Ke,U[64]=Ze,U[65]=Qe,U[66]=Ue,U[67]=Xe):Xe=U[67];U[68]===Symbol.for("react.memo_cache_sentinel")?(Je=a.default.createElement(y.default,{marginTop:3,className:"smart-transaction-status__spacer-box--top"}),U[68]=Je):Je=U[68];U[69]!==Oe?(et=Oe&&a.default.createElement(y.default,{marginTop:3,marginBottom:2},Oe),U[69]=Oe,U[70]=et):et=U[70];U[71]!==we||U[72]!==W||U[73]!==me?(tt=we&&a.default.createElement(y.default,{marginTop:7,marginBottom:1,display:b.DISPLAY.FLEX,justifyContent:b.JustifyContent.center,alignItems:b.AlignItems.center},a.default.createElement(B.default,null),a.default.createElement(g.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySm,as:"h6",marginLeft:1},`${W("stxSwapCompleteIn")} `),a.default.createElement(g.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySmBold,as:"h6",marginLeft:1,className:"smart-transaction-status__remaining-time"},(0,E.showRemainingTimeInMinAndSec)(me))),U[71]=we,U[72]=W,U[73]=me,U[74]=tt):tt=U[74];U[75]!==Me?(nt=a.default.createElement(g.Text,{"data-testid":"swap-smart-transaction-status-header",color:b.TextColor.textDefault,variant:b.TextVariant.headingSm,as:"h4",fontWeight:b.FontWeight.Bold},Me),U[75]=Me,U[76]=nt):nt=U[76];U[77]!==we||U[78]!==re.stxStatusDeadline||U[79]!==me?(rt=we&&a.default.createElement("div",{className:"smart-transaction-status__loading-bar-container"},a.default.createElement("div",{className:"smart-transaction-status__loading-bar",style:{width:100/re.stxStatusDeadline*(re.stxStatusDeadline-me)+"%"}})),U[77]=we,U[78]=re.stxStatusDeadline,U[79]=me,U[80]=rt):rt=U[80];U[81]!==Re||U[82]!==Ie?(at=Ie&&a.default.createElement(g.Text,{"data-testid":"swap-smart-transaction-status-description",variant:b.TextVariant.bodySm,as:"h6",marginTop:Re&&1,color:b.TextColor.textAlternative},Ie),U[81]=Re,U[82]=Ie,U[83]=at):at=U[83];const ot=Re&&a.default.createElement(I.default,{blockExplorerUrl:Re,sensitiveTrackingProperties:ge});let st,it,ct,lt;U[84]===Symbol.for("react.memo_cache_sentinel")?(st=a.default.createElement(y.default,{marginTop:3,className:"smart-transaction-status__spacer-box--bottom"}),U[84]=st):st=U[84];U[85]!==xe?(it=xe&&a.default.createElement(g.Text,{variant:b.TextVariant.bodySm,as:"h6",marginTop:8,color:b.TextColor.textAlternative},xe),U[85]=xe,U[86]=it):it=U[86];U[87]!==Xe||U[88]!==et||U[89]!==tt||U[90]!==nt||U[91]!==rt||U[92]!==at||U[93]!==ot||U[94]!==it?(ct=a.default.createElement(y.default,{paddingLeft:8,paddingRight:8,height:b.BLOCK_SIZES.FULL,justifyContent:b.JustifyContent.flexStart,display:b.DISPLAY.FLEX,className:"smart-transaction-status__content"},Xe,Je,et,tt,nt,rt,at,ot,st,it),U[87]=Xe,U[88]=et,U[89]=tt,U[90]=nt,U[91]=rt,U[92]=at,U[93]=ot,U[94]=it,U[95]=ct):ct=U[95];U[96]!==Ne||U[97]!==we||U[98]!==ie||U[99]!==Be?(lt=Be&&ie&&we&&a.default.createElement(Ne,null),U[96]=Ne,U[97]=we,U[98]=ie,U[99]=Be,U[100]=lt):lt=U[100];const ut=le===T.SmartTransactionStatus.success?a.default.createElement(S.default,{sensitiveTrackingProperties:ge}):null;let dt,pt,ft,mt,ht,gt;U[101]!==K||U[102]!==$||U[103]!==Ce?(dt=async()=>{Ce?(await K((0,u.prepareToLeaveSwaps)()),$(h.DEFAULT_ROUTE)):$(h.PREPARE_SWAP_ROUTE)},U[101]=K,U[102]=$,U[103]=Ce,U[104]=dt):dt=U[104];U[105]!==K||U[106]!==$?(pt=async()=>{await K((0,u.prepareToLeaveSwaps)()),$(h.DEFAULT_ROUTE)},U[105]=K,U[106]=$,U[107]=pt):pt=U[107];U[108]!==Ce||U[109]!==W?(ft=W(Ce?"close":"tryAgain"),U[108]=Ce,U[109]=W,U[110]=ft):ft=U[110];U[111]!==W?(mt=W("close"),U[111]=W,U[112]=mt):mt=U[112];U[113]!==Ce||U[114]!==dt||U[115]!==pt||U[116]!==ft||U[117]!==mt?(ht=a.default.createElement(_.default,{onSubmit:dt,onCancel:pt,submitText:ft,hideCancel:Ce,cancelText:mt,className:"smart-transaction-status__swaps-footer"}),U[113]=Ce,U[114]=dt,U[115]=pt,U[116]=ft,U[117]=mt,U[118]=ht):ht=U[118];U[119]!==ct||U[120]!==lt||U[121]!==ut||U[122]!==ht?(gt=a.default.createElement("div",{className:"smart-transaction-status"},ct,lt,ut,ht),U[119]=ct,U[120]=lt,U[121]=ut,U[122]=ht,U[123]=gt):gt=U[123];return gt};var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),c=e("lodash"),l=e("../../../contexts/i18n"),u=e("../../../ducks/swaps/swaps"),d=e("../../../../shared/modules/selectors/networks"),p=e("../../../selectors"),f=e("../../../../shared/modules/selectors"),m=e("../../../../shared/constants/common"),h=e("../../../helpers/constants/routes"),g=e("../../../components/component-library"),y=N(e("../../../components/ui/box")),v=N(e("../../../components/ui/url-icon")),b=e("../../../helpers/constants/design-system"),w=e("../../../store/actions"),C=e("../../../../shared/constants/metametrics"),T=e("../../../../shared/constants/transaction"),_=N(e("../swaps-footer")),E=e("../swaps.util"),k=e("../../../contexts/metametrics"),S=N(e("../create-new-swap")),I=N(e("../view-on-block-explorer")),x=e("../../../../shared/lib/transactions-controller-utils"),O=e("../../../selectors/selectors"),R=N(e("./success-icon")),M=N(e("./reverted-icon")),D=N(e("./canceled-icon")),P=N(e("./unknown-icon")),A=N(e("./arrow-icon")),B=N(e("./timer-icon"));function N(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/smart-transaction-status.js"}],[8548,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M34.5457 19.8983C34.5457 23.9296 32.9443 27.7958 30.0937 30.6463C27.2432 33.4969 23.377 35.0983 19.3457 35.0983C15.3144 35.0983 11.4482 33.4969 8.59768 30.6463C5.74713 27.7958 4.1457 23.9296 4.1457 19.8983C4.1457 15.867 5.74713 12.0008 8.59768 9.15029C11.4482 6.29974 15.3144 4.69832 19.3457 4.69832C20.7897 4.69832 22.1957 4.90732 23.5257 5.28732L26.5087 2.30432C24.3047 1.39232 21.8917 0.898315 19.3457 0.898315C16.8506 0.898315 14.3799 1.38977 12.0747 2.3446C9.76953 3.29944 7.67499 4.69897 5.91067 6.46329C2.34748 10.0265 0.345703 14.8592 0.345703 19.8983C0.345703 24.9374 2.34748 29.7702 5.91067 33.3333C7.67499 35.0977 9.76953 36.4972 12.0747 37.452C14.3799 38.4069 16.8506 38.8983 19.3457 38.8983C24.3848 38.8983 29.2175 36.8965 32.7807 33.3333C36.3439 29.7702 38.3457 24.9374 38.3457 19.8983H34.5457ZM11.5747 16.2503L8.8957 18.9483L17.4457 27.4983L36.4457 8.49832L33.7667 5.80032L17.4457 22.1213L11.5747 16.2503Z",fill:"var(--color-success-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/success-icon.js"}],[8549,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M7.36621 0.0810547C3.62012 0.0810547 0.584961 3.11621 0.584961 6.8623C0.584961 10.6084 3.62012 13.6436 7.36621 13.6436C11.1123 13.6436 14.1475 10.6084 14.1475 6.8623C14.1475 3.11621 11.1123 0.0810547 7.36621 0.0810547ZM7.36621 12.3311C4.33105 12.3311 1.89746 9.89746 1.89746 6.8623C1.89746 3.85449 4.33105 1.39355 7.36621 1.39355C10.374 1.39355 12.835 3.85449 12.835 6.8623C12.835 9.89746 10.374 12.3311 7.36621 12.3311ZM9.03418 9.4873C9.19824 9.59668 9.38965 9.56934 9.49902 9.40527L10.0186 8.72168C10.1279 8.55762 10.1006 8.36621 9.93652 8.25684L8.13184 6.91699V3.03418C8.13184 2.87012 7.96777 2.70605 7.80371 2.70605H6.92871C6.7373 2.70605 6.60059 2.87012 6.60059 3.03418V7.5459C6.60059 7.62793 6.62793 7.7373 6.70996 7.79199L9.03418 9.4873Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/timer-icon.js"}],[8550,{react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("circle",{cx:"19.1533",cy:"19.2715",r:"17.1",stroke:"var(--color-primary-default)",strokeWidth:"3.8"}),o.default.createElement("path",{d:"M16.712 21.5034C16.712 20.7834 16.88 20.1834 17.216 19.7034C17.568 19.2074 18.08 18.7274 18.752 18.2634C19.008 18.0874 19.264 17.9274 19.52 17.7834C19.776 17.6394 20 17.4874 20.192 17.3274C20.4 17.1514 20.56 16.9674 20.672 16.7754C20.8 16.5674 20.864 16.3194 20.864 16.0314C20.864 15.5354 20.688 15.1594 20.336 14.9034C20 14.6474 19.592 14.5194 19.112 14.5194C18.616 14.5194 18.16 14.6794 17.744 14.9994C17.344 15.3034 17.144 15.7674 17.144 16.3914H13.52C13.52 15.6394 13.664 14.9354 13.952 14.2794C14.24 13.6074 14.632 13.0314 15.128 12.5514C15.64 12.0554 16.232 11.6634 16.904 11.3754C17.592 11.0874 18.328 10.9434 19.112 10.9434C19.896 10.9434 20.616 11.0794 21.272 11.3514C21.944 11.6234 22.512 11.9834 22.976 12.4314C23.456 12.8794 23.824 13.3994 24.08 13.9914C24.352 14.5674 24.488 15.1754 24.488 15.8154C24.488 16.2314 24.456 16.6234 24.392 16.9914C24.344 17.3594 24.24 17.7114 24.08 18.0474C23.936 18.3834 23.728 18.7114 23.456 19.0314C23.184 19.3514 22.84 19.6634 22.424 19.9674C21.784 20.4474 21.272 20.8234 20.888 21.0954C20.52 21.3674 20.336 21.6474 20.336 21.9354V21.9594H16.712V21.5034ZM18.512 28.4634C18.16 28.4634 17.824 28.3994 17.504 28.2714C17.2 28.1274 16.928 27.9434 16.688 27.7194C16.464 27.4794 16.28 27.2074 16.136 26.9034C16.008 26.5834 15.944 26.2474 15.944 25.8954C15.944 25.5434 16.008 25.2154 16.136 24.9114C16.28 24.5914 16.464 24.3194 16.688 24.0954C16.928 23.8554 17.2 23.6714 17.504 23.5434C17.824 23.3994 18.16 23.3274 18.512 23.3274C18.864 23.3274 19.192 23.3994 19.496 23.5434C19.816 23.6714 20.088 23.8554 20.312 24.0954C20.552 24.3194 20.736 24.5914 20.864 24.9114C21.008 25.2154 21.08 25.5434 21.08 25.8954C21.08 26.2474 21.008 26.5834 20.864 26.9034C20.736 27.2074 20.552 27.4794 20.312 27.7194C20.088 27.9434 19.816 28.1274 19.496 28.2714C19.192 28.3994 18.864 28.4634 18.512 28.4634Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var r,a=e("react-compiler-runtime"),o=(r=e("react"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/unknown-icon.js"}],[8551,{"./swaps-footer":8552},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./swaps-footer"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/index.js"}],[8552,{"../../../components/ui/page-container/page-container-footer":7364,"../../../contexts/i18n":7415,classnames:4507,"prop-types":5495,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=l(e("prop-types")),s=l(e("classnames")),i=e("../../../contexts/i18n"),c=l(e("../../../components/ui/page-container/page-container-footer"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){const t=(0,r.c)(28),{onCancel:n,hideCancel:o,onSubmit:l,submitText:u,disabled:d,showTermsOfService:f,showTopBorder:m,className:h,cancelText:g}=e,y=h===undefined?"":h,v=(0,a.useContext)(i.I18nContext);let b,w,C,T,_,E,k,S;return t[0]!==y||t[1]!==m?(b=(0,s.default)("swaps-footer__buttons",y,{"swaps-footer__buttons--border":m}),t[0]=y,t[1]=m,t[2]=b):b=t[2],t[3]!==g||t[4]!==v?(w=g||v("back"),t[3]=g,t[4]=v,t[5]=w):w=t[5],t[6]!==y?(C=(0,s.default)("swaps-footer__custom-page-container-footer-class",y),t[6]=y,t[7]=C):C=t[7],t[8]!==o?(T=(0,s.default)("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":o}),t[8]=o,t[9]=T):T=t[9],t[10]!==d||t[11]!==o||t[12]!==n||t[13]!==l||t[14]!==u||t[15]!==w||t[16]!==C||t[17]!==T?(_=a.default.createElement(c.default,{onCancel:n,hideCancel:o,cancelText:w,onSubmit:l,submitText:u,footerClassName:C,footerButtonClassName:T,disabled:d}),t[10]=d,t[11]=o,t[12]=n,t[13]=l,t[14]=u,t[15]=w,t[16]=C,t[17]=T,t[18]=_):_=t[18],t[19]!==b||t[20]!==_?(E=a.default.createElement("div",{className:b},_),t[19]=b,t[20]=_,t[21]=E):E=t[21],t[22]!==f||t[23]!==v?(k=f&&a.default.createElement("div",{className:"swaps-footer__bottom-text",onClick:p},v("termsOfService")),t[22]=f,t[23]=v,t[24]=k):k=t[24],t[25]!==E||t[26]!==k?(S=a.default.createElement("div",{className:"swaps-footer"},E,k),t[25]=E,t[26]=k,t[27]=S):S=t[27],S}function p(){return global.platform.openTab({url:"https://metamask.io/terms.html"})}d.propTypes={onCancel:o.default.func,hideCancel:o.default.bool,onSubmit:o.default.func,submitText:o.default.string,disabled:o.default.bool,showTermsOfService:o.default.bool,showTopBorder:o.default.bool,className:o.default.string,cancelText:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/swaps-footer.js"}],[8555,{"./view-on-block-explorer":8556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./view-on-block-explorer"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/index.js"}],[8556,{"../../../../shared/constants/metametrics":6190,"../../../components/ui/box":7290,"../../../contexts/i18n":7415,"../../../contexts/metametrics":7420,"../../../helpers/utils/util":7518,"prop-types":5495,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=d(e("prop-types")),s=d(e("../../../components/ui/box")),i=e("../../../contexts/i18n"),c=e("../../../helpers/utils/util"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){const t=(0,r.c)(17),{blockExplorerUrl:n,sensitiveTrackingProperties:o}=e,d=(0,a.useContext)(i.I18nContext),{trackEvent:p}=(0,a.useContext)(l.MetaMetricsContext);let f,m,h,g,y,v,b;if(t[0]!==n||t[1]!==o||t[2]!==d||t[3]!==p){const e=(0,c.getURLHostName)(n);f=s.default,g=6,y="view-on-block-explorer",m=()=>{p({event:u.MetaMetricsEventName.ExternalLinkClicked,category:u.MetaMetricsEventCategory.Swaps,sensitiveProperties:o,properties:{link_type:u.MetaMetricsEventLinkType.TransactionBlockExplorer,location:"Swap Transaction",url_domain:e}}),global.platform.openTab({url:n})},h=d("viewOnCustomBlockExplorer",[d("blockExplorerSwapAction"),e]),t[0]=n,t[1]=o,t[2]=d,t[3]=p,t[4]=f,t[5]=m,t[6]=h,t[7]=g,t[8]=y}else f=t[4],m=t[5],h=t[6],g=t[7],y=t[8];return t[9]!==m||t[10]!==h?(v=a.default.createElement("button",{onClick:m},h),t[9]=m,t[10]=h,t[11]=v):v=t[11],t[12]!==f||t[13]!==g||t[14]!==y||t[15]!==v?(b=a.default.createElement(f,{marginTop:g,className:y},v),t[12]=f,t[13]=g,t[14]=y,t[15]=v,t[16]=b):b=t[16],b}f.propTypes={blockExplorerUrl:o.default.string.isRequired,sensitiveTrackingProperties:o.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/view-on-block-explorer.js"}],[8557,{"../../../../shared/lib/trust-signals":6305,"../../../selectors":8577,"../../confirmations/context/confirm":8094,"../../confirmations/hooks/useSignatureEventFragment":8227,"../../confirmations/hooks/useTransactionEventFragment":8232,"../../confirmations/utils":8254,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTrustSignalMetrics=function(){const e=(0,r.c)(23),{currentConfirmation:t}=(0,i.useConfirmContext)(),{updateSignatureEventFragment:n}=(0,d.useSignatureEventFragment)(),{updateTransactionEventFragment:p}=(0,u.useTransactionEventFragment)();let f;e[0]!==t?(f=function(e){if(!e)return null;if(!(0,c.isSignatureTransactionType)(e)){var t;return(null===(t=e.txParams)||void 0===t?void 0:t.to)??null}try{var n,r;const t=null==e||null===(n=e.msgParams)||void 0===n?void 0:n.data,a="string"==typeof t?JSON.parse(t):t;if(null!=a&&null!==(r=a.domain)&&void 0!==r&&r.verifyingContract)return a.domain.verifyingContract}catch(e){}return null}(t),e[0]=t,e[1]=f):f=e[1];const m=f,h=null==t?void 0:t.chainId;let g;e[2]!==m||e[3]!==h?(g=e=>{if(!m||!h)return;const t=(0,l.mapChainIdToSupportedEVMChain)(h);if(!t)return;const n=(0,l.createCacheKey)(t,m);return(0,s.getAddressSecurityAlertResponse)(e,n)},e[2]=m,e[3]=h,e[4]=g):g=e[4];const y=(0,o.useSelector)(g);let v;e:{if(!y){let t;e[5]===Symbol.for("react.memo_cache_sentinel")?(t={properties:{},anonymousProperties:{}},e[5]=t):t=e[5],v=t;break e}let t;e[6]!==y.result_type?(t={address_alert_response:y.result_type},e[6]=y.result_type,e[7]=t):t=e[7];const n=y.label||undefined;let r,a;e[8]!==n?(r={address_label:n},e[8]=n,e[9]=r):r=e[9],e[10]!==t||e[11]!==r?(a={properties:t,anonymousProperties:r},e[10]=t,e[11]=r,e[12]=a):a=e[12],v=a}const{properties:b,anonymousProperties:w}=v;let C;e[13]!==y||e[14]!==w||e[15]!==t||e[16]!==b||e[17]!==n||e[18]!==p?(C=()=>{if(!y||!t)return;const e=(null==t?void 0:t.id)??"";(0,c.isSignatureTransactionType)(t)?(n({properties:b}),w.address_label&&n({sensitiveProperties:w})):(p({properties:b},e),w.address_label&&p({sensitiveProperties:w},e))},e[13]=y,e[14]=w,e[15]=t,e[16]=b,e[17]=n,e[18]=p,e[19]=C):C=e[19];const T=C;let _,E;e[20]!==T?(_=()=>{T()},E=[T],e[20]=T,e[21]=_,e[22]=E):(_=e[21],E=e[22]);(0,a.useEffect)(_,E)};var r=e("react-compiler-runtime"),a=e("react"),o=e("react-redux"),s=e("../../../selectors"),i=e("../../confirmations/context/confirm"),c=e("../../confirmations/utils"),l=e("../../../../shared/lib/trust-signals"),u=e("../../confirmations/hooks/useTransactionEventFragment"),d=e("../../confirmations/hooks/useSignatureEventFragment")}}},{package:"$root$",file:"ui/pages/trust-signals/hooks/useTrustSignalMetrics.ts"}],[8558,{"../../components/component-library":6951,"../../helpers/constants/design-system":7460,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,r.c)(7),{startFrom:n,onCountdownEnd:i}=e,[l,u]=(0,a.useState)(n);let d,p,f,m;t[0]!==i?(d=()=>{const e=setInterval(()=>{u(t=>t<=0?(clearInterval(e),i(),0):t-1)},1e3);return()=>clearInterval(e)},p=[i],t[0]=i,t[1]=d,t[2]=p):(d=t[1],p=t[2]);(0,a.useEffect)(d,p),t[3]!==l?(f=c(l),t[3]=l,t[4]=f):f=t[4];t[5]!==f?(m=a.default.createElement(s.Text,{variant:o.TextVariant.inherit,color:o.TextColor.inherit,as:"span"},f),t[5]=f,t[6]=m):m=t[6];return m};var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../helpers/constants/design-system"),s=e("../../components/component-library");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const c=e=>{if(e<=60)return`${e} seconds.`;const t=e%60;return`${Math.floor(e/3600)}:${Math.floor(e%3600/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}.`}}}},{package:"$root$",file:"ui/pages/unlock-page/formatted-counter.tsx"}],[8559,{"./unlock-page.container":8563},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("./unlock-page.container"))&&r.__esModule?r:{default:r};n.default=a.default}}},{package:"$root$",file:"ui/pages/unlock-page/index.ts"}],[8560,{"../../components/ui/metafox-logo/horizontal-logo":7356,"../../hooks/useTheme":7646,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetamaskWordmarkLogo=void 0;var r=e("react-compiler-runtime"),a=i(e("react")),o=e("../../hooks/useTheme"),s=i(e("../../components/ui/metafox-logo/horizontal-logo"));function i(e){return e&&e.__esModule?e:{default:e}}n.MetamaskWordmarkLogo=e=>{const t=(0,r.c)(3),{isPopup:n}=e,i=(0,o.useTheme)(),c="unlock-page__mascot-container__horizontal-logo "+(n?"unlock-page__mascot-container__horizontal-logo--popup":"");let l;return t[0]!==c||t[1]!==i?(l=a.default.createElement(s.default,{theme:i,className:c}),t[0]=c,t[1]=i,t[2]=l):l=t[2],l}}}},{package:"$root$",file:"ui/pages/unlock-page/metamask-wordmark-logo.tsx"}],[8561,{"../../../shared/constants/metametrics":6190,"../../components/component-library":6951,"../../contexts/metametrics":7420,"../../helpers/constants/common":7458,"../../helpers/constants/design-system":7460,"../../helpers/constants/routes":7465,"../../hooks/useI18nContext":7615,"../../selectors":8577,"../../store/actions":8611,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,r.c)(48),{onClose:n,onRestore:g}=e,v=(0,i.useI18nContext)(),{trackEvent:b}=(0,a.useContext)(h.MetaMetricsContext),w=(0,o.useSelector)(u.getIsSocialLoginFlow),[C,T]=(0,a.useState)(!1),_=(0,s.useNavigate)(),E=(0,o.useDispatch)();let k;t[0]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{T(y)},t[0]=k):k=t[0];const S=k;let I;t[1]!==E||t[2]!==_||t[3]!==n?(I=async()=>{n(),await E((0,d.resetWallet)()),_(p.DEFAULT_ROUTE,{replace:!0})},t[1]=E,t[2]=_,t[3]=n,t[4]=I):I=t[4];const x=I;let O;t[5]!==b?(O=()=>{b({category:f.MetaMetricsEventCategory.Navigation,event:f.MetaMetricsEventName.SupportLinkClicked,properties:{url:m.SUPPORT_LINK}},{contextPropsIntoEventProperties:[f.MetaMetricsContextProp.PageTitle]})},t[5]=b,t[6]=O):O=t[6];const R=O;let M;t[7]!==R||t[8]!==g||t[9]!==v?(M=()=>a.default.createElement(c.Box,{paddingInline:4},a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:4,color:l.TextColor.textAlternative},v("forgotPasswordSocialDescription",[a.default.createElement(c.Button,{variant:c.ButtonVariant.Link,color:l.TextColor.primaryDefault,href:m.SUPPORT_LINK,type:"button",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:R},v("forgotPasswordModalContactSupportLink"))])),a.default.createElement(c.Box,{as:"ul",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4,marginBottom:6},a.default.createElement(c.Box,{display:l.Display.Flex,gap:4,as:"li"},a.default.createElement(c.Icon,{name:c.IconName.FaceId,size:c.IconSize.Md,color:l.IconColor.iconAlternative,style:{marginTop:"2px"}}),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},v("forgotPasswordSocialStep1",[a.default.createElement(c.Text,{variant:l.TextVariant.inherit,key:"reset-password-step-1-biometrics",color:l.TextColor.textAlternative},v("forgotPasswordSocialStep1Biometrics"))]))),a.default.createElement(c.Box,{display:l.Display.Flex,gap:4,as:"li"},a.default.createElement(c.Icon,{name:c.IconName.SecurityKey,size:c.IconSize.Md,color:l.IconColor.iconAlternative,style:{marginTop:"2px"}}),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},v("forgotPasswordSocialStep2",[a.default.createElement(c.Text,{variant:l.TextVariant.inherit,key:"reset-password-step-2-srp",color:l.TextColor.textAlternative},v("secretRecoveryPhrase"))])))),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:3},a.default.createElement(c.Button,{"data-testid":"reset-password-modal-button",variant:c.ButtonVariant.Primary,onClick:g,size:c.ButtonSize.Lg,block:!0},v("forgotPasswordModalButton")),a.default.createElement(c.Button,{"data-testid":"reset-password-modal-button-link",variant:c.ButtonVariant.Secondary,onClick:S,size:c.ButtonSize.Lg,block:!0},v("forgotPasswordModalButtonLink")))),t[7]=R,t[8]=g,t[9]=v,t[10]=M):M=t[10];const D=M;let P;t[11]!==R||t[12]!==g||t[13]!==v?(P=()=>a.default.createElement(c.Box,{paddingInline:4},a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:4,color:l.TextColor.textAlternative},v("forgotPasswordModalDescription1")),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:4,color:l.TextColor.textAlternative},v("forgotPasswordModalDescription2")),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:6,color:l.TextColor.textAlternative},v("forgotPasswordModalContactSupport",[a.default.createElement(c.Button,{variant:c.ButtonVariant.Link,color:l.TextColor.primaryDefault,href:m.SUPPORT_LINK,type:"button",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:R},v("forgotPasswordModalContactSupportLink"))])),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:3},a.default.createElement(c.Button,{"data-testid":"reset-password-modal-button",variant:c.ButtonVariant.Primary,onClick:g,size:c.ButtonSize.Lg,block:!0},v("forgotPasswordModalButton")),a.default.createElement(c.Button,{"data-testid":"reset-password-modal-button-link",variant:c.ButtonVariant.Secondary,onClick:S,size:c.ButtonSize.Lg,block:!0},v("forgotPasswordModalButtonLink")))),t[11]=R,t[12]=g,t[13]=v,t[14]=P):P=t[14];const A=P;let B;t[15]!==x||t[16]!==v?(B=()=>a.default.createElement(c.Box,{paddingInline:4},a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:6,color:l.TextColor.textAlternative},v("resetWalletDescriptionOne")),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:6,color:l.TextColor.textAlternative},v("resetWalletDescriptionTwo",[a.default.createElement(c.Text,{variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Bold,key:"reset-wallet-bold-text-one",color:l.TextColor.textAlternative},v("resetWalletBoldTextOne")),a.default.createElement(c.Text,{variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Bold,key:"reset-wallet-bold-text-two",color:l.TextColor.textAlternative},v("resetWalletBoldTextTwo"))])),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},a.default.createElement(c.Button,{"data-testid":"reset-password-modal-button",variant:c.ButtonVariant.Primary,onClick:x,size:c.ButtonSize.Lg,block:!0,danger:!0},v("resetWalletButton")))),t[15]=x,t[16]=v,t[17]=B):B=t[17];const N=B;let F;t[18]!==w||t[19]!==D||t[20]!==A?(F=()=>w?D():A(),t[18]=w,t[19]=D,t[20]=A,t[21]=F):F=t[21];const j=F;let U,L;t[22]===Symbol.for("react.memo_cache_sentinel")?(U=a.default.createElement(c.ModalOverlay,null),t[22]=U):U=t[22];t[23]===Symbol.for("react.memo_cache_sentinel")?(L={display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,gap:4},t[23]=L):L=t[23];const q=C?"block":"none";let W,$;t[24]!==q?(W={style:{display:q}},t[24]=q,t[25]=W):W=t[25];t[26]!==C?($=C&&a.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,color:l.IconColor.errorDefault,style:{margin:"0 auto"}}),t[26]=C,t[27]=$):$=t[27];const K=C?"resetWalletTitle":"forgotPasswordModalTitle";let H,G,Y,V,Z,z;t[28]!==v||t[29]!==K?(H=v(K),t[28]=v,t[29]=K,t[30]=H):H=t[30];t[31]!==H?(G=a.default.createElement(c.Text,{variant:l.TextVariant.headingSm,marginBottom:4,color:l.TextColor.textDefault,marginInline:"auto",textAlign:l.TextAlign.Center},H),t[31]=H,t[32]=G):G=t[32];t[33]!==n||t[34]!==W||t[35]!==$||t[36]!==G?(Y=a.default.createElement(c.ModalHeader,{onClose:n,onBack:S,childrenWrapperProps:L,backButtonProps:W},$,G),t[33]=n,t[34]=W,t[35]=$,t[36]=G,t[37]=Y):Y=t[37];t[38]!==C||t[39]!==N||t[40]!==j?(V=C?N():j(),t[38]=C,t[39]=N,t[40]=j,t[41]=V):V=t[41];t[42]!==Y||t[43]!==V?(Z=a.default.createElement(c.ModalContent,{alignItems:l.AlignItems.center},Y,V),t[42]=Y,t[43]=V,t[44]=Z):Z=t[44];t[45]!==n||t[46]!==Z?(z=a.default.createElement(c.Modal,{isOpen:!0,onClose:n,className:"reset-password-modal","data-testid":"reset-password-modal"},U,Z),t[45]=n,t[46]=Z,t[47]=z):z=t[47];return z};var r=e("react-compiler-runtime"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=e("../../hooks/useI18nContext"),c=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),u=e("../../selectors"),d=e("../../store/actions"),p=e("../../helpers/constants/routes"),f=e("../../../shared/constants/metametrics"),m=e("../../helpers/constants/common"),h=e("../../contexts/metametrics");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){return!e}}}},{package:"$root$",file:"ui/pages/unlock-page/reset-password-modal.tsx"}],[8562,{"../../../shared/constants/metametrics":6190,"../../../shared/constants/onboarding":6197,"../../../shared/lib/sentry":6292,"../../../shared/lib/trace":6299,"../../../shared/lib/ui-utils":6306,"../../components/app/connections-removed-modal":6482,"../../components/component-library":6951,"../../components/ui/mascot":7351,"../../contexts/metametrics":7420,"../../helpers/constants/design-system":7460,"../../helpers/constants/routes":7465,"../../helpers/utils/build-types":7484,"../onboarding-flow/welcome/fox-appear-animation":8370,"../onboarding-flow/welcome/login-error-modal":8371,"../onboarding-flow/welcome/types":8374,"./formatted-counter":8558,"./metamask-wordmark-logo":8560,"./reset-password-modal":8561,"./unlock-page.util":8564,"@metamask/seedless-onboarding-controller":3046,events:4770,"prop-types":5495,react:5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("events"),a=x(e("react")),o=k(e("prop-types")),s=e("@metamask/seedless-onboarding-controller"),i=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=k(e("../../components/ui/mascot")),u=e("../../helpers/constants/routes"),d=e("../../../shared/constants/metametrics"),p=e("../../helpers/utils/build-types"),f=e("../../../shared/lib/ui-utils"),m=e("../../../shared/lib/trace"),h=e("../../../shared/constants/onboarding"),g=e("../../contexts/metametrics"),y=k(e("../onboarding-flow/welcome/login-error-modal")),v=e("../onboarding-flow/welcome/types"),b=k(e("../../components/app/connections-removed-modal")),w=e("../../../shared/lib/sentry"),C=e("./unlock-page.util"),T=k(e("./reset-password-modal")),_=k(e("./formatted-counter")),E=e("./metamask-wordmark-logo");function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const O=(0,a.lazy)(()=>Promise.resolve().then(()=>x(e("../onboarding-flow/welcome/fox-appear-animation"))));class R extends a.Component{constructor(...e){super(...e),S(this,"state",{password:"",error:null,showResetPasswordModal:!1,isLocked:!1,isSubmitting:!1,unlockDelayPeriod:0,showLoginErrorModal:!1,showConnectionsRemovedModal:!1}),S(this,"failed_attempts",0),S(this,"animationEventEmitter",new r.EventEmitter),S(this,"handleSubmit",async e=>{e.preventDefault(),e.stopPropagation();const{password:t,isSubmitting:n}=this.state,{onSubmit:r,isOnboardingCompleted:a}=this.props;if(""===t||n)return;this.setState({error:null,isSubmitting:!0});const o=this.isSocialImportRehydration();if(o)this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationPasswordAttempted,properties:{account_type:"social",biometrics:!1}});else if(!a){var s;this.context.bufferedTrace({name:m.TraceName.OnboardingPasswordLoginAttempt,op:m.TraceOperation.OnboardingUserJourney,parentContext:null===(s=this.props.onboardingParentContext)||void 0===s?void 0:s.current})}try{await r(t),o&&(this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationCompleted,properties:{account_type:"social",biometrics:!1,failed_attempts:this.failed_attempts}}),this.context.bufferedEndTrace({name:m.TraceName.OnboardingExistingSocialLogin})),a||(this.context.bufferedEndTrace({name:m.TraceName.OnboardingPasswordLoginAttempt}),this.context.bufferedEndTrace({name:m.TraceName.OnboardingJourneyOverall})),this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.AppUnlocked,properties:{failed_attempts:this.failed_attempts}},{isNewVisit:!0})}catch(e){await this.handleLoginError(e,o)}finally{this.setState({isSubmitting:!1})}}),S(this,"handleLoginError",async(e,t=!1)=>{const{t:n}=this.context,{message:r,data:a}=e,{isOnboardingCompleted:o}=this.props;(null==a?void 0:a.numberOfAttempts)!==undefined&&(this.failed_attempts=a.numberOfAttempts);let i,c=r,l=0,u=!1,p=!1;switch(r){case"Incorrect password":case s.SeedlessOnboardingControllerErrorMessage.IncorrectPassword:c=n("unlockPageIncorrectPassword"),i="incorrect_password";break;case s.SeedlessOnboardingControllerErrorMessage.TooManyLoginAttempts:this.setState({isLocked:!0}),c=n("unlockPageTooManyFailedAttempts"),i="too_many_login_attempts",l=(null==a?void 0:a.remainingTime)??0;break;case s.SeedlessOnboardingControllerErrorMessage.OutdatedPassword:c=n("passwordChangedRecently"),i="outdated_password";break;case s.SeedlessOnboardingControllerErrorMessage.AuthenticationError:case s.SeedlessOnboardingControllerErrorMessage.InvalidRevokeToken:case s.SeedlessOnboardingControllerErrorMessage.InvalidRefreshToken:(0,w.captureException)(e),o&&(c=r,u=!0);break;case s.SeedlessOnboardingControllerErrorMessage.MaxKeyChainLengthExceeded:c=r,p=!0;break;default:c=r}i&&(await this.props.forceUpdateMetamaskState(),t&&this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationPasswordFailed,properties:{account_type:"social",failed_attempts:this.failed_attempts,error_type:i}}),this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.AppUnlockedFailed,properties:{reason:i,failed_attempts:this.failed_attempts}})),this.setState({error:c,unlockDelayPeriod:l,showLoginErrorModal:u,showConnectionsRemovedModal:p})}),S(this,"renderMascot",()=>(0,p.isFlask)()||(0,p.isBeta)()?a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"115",height:"115"}):a.default.createElement(l.default,{animationEventEmitter:this.animationEventEmitter,width:"170",height:"170"})),S(this,"renderHelpText",()=>{const{error:e,unlockDelayPeriod:t}=this.state;return e?a.default.createElement(i.Box,{className:"unlock-page__help-text",display:c.Display.Flex,flexDirection:c.FlexDirection.Column},e&&a.default.createElement(i.Text,{"data-testid":"unlock-page-help-text",variant:c.TextVariant.bodySm,textAlign:c.TextAlign.Left,color:c.TextColor.errorDefault},e,t>0&&a.default.createElement(_.default,{startFrom:t,onCountdownEnd:()=>this.setState({isLocked:!1,error:null,unlockDelayPeriod:0})}))):null}),S(this,"onForgotPasswordOrLoginWithDiffMethods",async()=>{const{isSocialLoginFlow:e,navigate:t,isOnboardingCompleted:n}=this.props;if(!n&&e)return this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.UseDifferentLoginMethodClicked,properties:{account_type:"social"}}),await this.props.loginWithDifferentMethod(),await this.props.forceUpdateMetamaskState(),void t(u.ONBOARDING_WELCOME_ROUTE,{replace:!0});this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.ForgotPasswordClicked,properties:{account_type:e?"social":"metamask"}}),this.setState({showResetPasswordModal:!0})}),S(this,"onRestoreWallet",async()=>{const{isSocialLoginFlow:e}=this.props;this.context.trackEvent({category:d.MetaMetricsEventCategory.Accounts,event:d.MetaMetricsEventName.ResetWallet,properties:{account_type:e?"social":"metamask"}}),this.props.onRestore()}),S(this,"onResetWallet",async()=>{this.setState({showLoginErrorModal:!1,showConnectionsRemovedModal:!1,showResetPasswordModal:!1}),await this.props.resetWallet(),await this.props.forceUpdateMetamaskState(),this.props.navigate(u.DEFAULT_ROUTE,{replace:!0})})}isSocialImportRehydration(){return this.props.firstTimeFlowType===h.FirstTimeFlowType.socialImport&&!this.props.isOnboardingCompleted}UNSAFE_componentWillMount(){const{isUnlocked:e,navigate:t,location:n}=this.props;if(e){var r;let e=u.DEFAULT_ROUTE;const a=null===(r=n.state)||void 0===r?void 0:r.from;if(null!=a&&a.pathname){const t=a.search||"";e=a.pathname+t}t(e)}}async componentDidMount(){const{isOnboardingCompleted:e,isSocialLoginFlow:t}=this.props;if(e)await this.props.checkIsSeedlessPasswordOutdated();else if(t){await this.props.getIsSeedlessOnboardingUserAuthenticated()||this.props.navigate(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}this.props.isWalletResetInProgress&&null===this.props.firstTimeFlowType&&this.props.navigate(u.DEFAULT_ROUTE,{replace:!0})}handleInputChange(e){const{target:t}=e;this.setState({password:t.value,error:null});const n=t,r=n.getBoundingClientRect(),a=(0,C.getCaretCoordinates)(n,n.selectionEnd??0);this.animationEventEmitter.emit("point",{x:r.left+a.left-n.scrollLeft,y:r.top+a.top-n.scrollTop})}render(){const{password:e,error:t,isLocked:n,showResetPasswordModal:r,showLoginErrorModal:o,showConnectionsRemovedModal:s}=this.state,{isOnboardingCompleted:l,isSocialLoginFlow:u}=this.props,{t:m}=this.context,h=m("needHelpLinkText"),g=u&&!l;return a.default.createElement(i.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.backgroundDefault,width:c.BlockSize.Full,paddingBottom:12},r&&a.default.createElement(T.default,{onClose:()=>this.setState({showResetPasswordModal:!1}),onRestore:this.onRestoreWallet}),o&&a.default.createElement(y.default,{onDone:this.onResetWallet,loginError:v.LOGIN_ERROR.RESET_WALLET}),s&&a.default.createElement(b.default,{onConfirm:this.onResetWallet}),a.default.createElement(i.Box,{as:"form",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,padding:4,width:c.BlockSize.Full,className:"unlock-page","data-testid":"unlock-page",onSubmit:this.handleSubmit},a.default.createElement(i.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full,alignItems:c.AlignItems.center},a.default.createElement(i.Box,{className:"unlock-page__mascot-container",marginBottom:(0,p.isBeta)()||(0,p.isFlask)()?6:0},g?this.renderMascot():a.default.createElement(E.MetamaskWordmarkLogo,{isPopup:this.props.isPopup??!1}),(0,p.isBeta)()?a.default.createElement(i.Text,{className:"unlock-page__mascot-container__beta",backgroundColor:c.BackgroundColor.primaryDefault,color:c.TextColor.primaryInverse,padding:1,borderRadius:c.BorderRadius.LG,textTransform:c.TextTransform.Uppercase,fontWeight:c.FontWeight.Medium},m("beta")):null),g&&a.default.createElement(i.Text,{"data-testid":"unlock-page-title",as:"h1",variant:c.TextVariant.displayMd,marginBottom:12,fontWeight:c.FontWeight.Medium,color:c.TextColor.textDefault,textAlign:c.TextAlign.Center},m("welcomeBack")),a.default.createElement(i.FormTextField,{id:"password",placeholder:this.props.isSocialLoginFlow?m("enterYourPasswordSocialLoginFlow"):m("enterYourPassword"),size:i.FormTextFieldSize.Lg,inputProps:{"data-testid":"unlock-password","aria-label":m("password")},textFieldProps:{disabled:n},onChange:e=>this.handleInputChange(e),type:i.TextFieldType.Password,value:e,error:Boolean(t),helpText:this.renderHelpText(),autoComplete:!1,autoFocus:!0,width:c.BlockSize.Full,marginBottom:4}),a.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,block:!0,type:"submit","data-testid":"unlock-submit",disabled:!e||n,marginBottom:6},this.context.t("unlock")),a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,"data-testid":"unlock-forgot-password-button",key:"import-account",type:"button",onClick:this.onForgotPasswordOrLoginWithDiffMethods,marginBottom:4,color:g?c.TextColor.textDefault:c.TextColor.primaryDefault},m(g?"useDifferentLoginMethod":"forgotPassword")),g&&a.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},m("needHelp",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,color:c.TextColor.primaryDefault,href:f.SUPPORT_LINK,type:"button",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:()=>{this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.SupportLinkClicked,properties:{url:f.SUPPORT_LINK}},{contextPropsIntoEventProperties:[d.MetaMetricsContextProp.PageTitle]})}},h)])))),!g&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(O,null)))}}S(R,"contextTypes",{trackEvent:o.default.func,bufferedTrace:o.default.func,bufferedEndTrace:o.default.func,t:o.default.func}),S(R,"propTypes",{navigate:o.default.func.isRequired,location:o.default.object.isRequired,isUnlocked:o.default.bool,isOnboardingCompleted:o.default.bool,onRestore:o.default.func,onSubmit:o.default.func,checkIsSeedlessPasswordOutdated:o.default.func,getIsSeedlessOnboardingUserAuthenticated:o.default.func,forceUpdateMetamaskState:o.default.func,isSocialLoginFlow:o.default.bool,onboardingParentContext:o.default.object,loginWithDifferentMethod:o.default.func,firstTimeFlowType:o.default.string,resetWallet:o.default.func,isPopup:o.default.bool,isWalletResetInProgress:o.default.bool});n.default=(0,g.withMetaMetrics)(R)}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.component.tsx"}],[8563,{"../../../app/scripts/lib/util":380,"../../../shared/constants/app":6175,"../../ducks/metamask/metamask":7448,"../../helpers/constants/routes":7465,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7481,"../../selectors":8577,"../../store/actions":8611,"./unlock-page.component":8562,"react-redux":5622,redux:5701},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=e("../../../app/scripts/lib/util"),s=e("../../../shared/constants/app"),i=e("../../helpers/constants/routes"),c=e("../../store/actions"),l=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=f(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),p=f(e("./unlock-page.component"));function f(e){return e&&e.__esModule?e:{default:e}}const m=(0,a.compose)(d.default,(0,r.connect)(e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t,isSocialLoginFlow:(0,l.getIsSocialLoginFlow)(e),isOnboardingCompleted:(0,u.getCompletedOnboarding)(e),firstTimeFlowType:(0,l.getFirstTimeFlowType)(e),isWalletResetInProgress:(0,u.getIsWalletResetInProgress)(e)}},e=>({tryUnlockMetamask:t=>e((0,c.tryUnlockMetamask)(t)),markPasswordForgotten:()=>e((0,c.markPasswordForgotten)()),forceUpdateMetamaskState:()=>(0,c.forceUpdateMetamaskState)(e),loginWithDifferentMethod:()=>e((0,c.resetOnboarding)()),checkIsSeedlessPasswordOutdated:()=>e((0,c.checkIsSeedlessPasswordOutdated)()),resetWallet:()=>e((0,c.resetWallet)()),getIsSeedlessOnboardingUserAuthenticated:()=>e((0,c.getIsSeedlessOnboardingUserAuthenticated)())}),(e,t,n)=>{const{markPasswordForgotten:r,tryUnlockMetamask:a,...c}=t,{navigate:l,onSubmit:u,location:d,...p}=n,f=(0,o.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP;return{...e,...c,...p,onRestore:async()=>{var e,t;(await r(),l(i.RESTORE_VAULT_ROUTE,{replace:!0}),f)&&(null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,i.RESTORE_VAULT_ROUTE))},onSubmit:u||(async e=>{var t;await a(e);let n=i.DEFAULT_ROUTE;const r=null===(t=d.state)||void 0===t?void 0:t.from;if(null!=r&&r.pathname){const e=r.search||"";n=r.pathname+e}l(n)}),navigate:l,location:d,isPopup:f}}))(p.default);n.default=m}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.container.ts"}],[8564,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaretCoordinates=function(e,t){const n=document.createElement("div");n.id="password-mirror-div",document.body.appendChild(n);const r=window.getComputedStyle(e);n.textContent=new Array(t+1).join("");const a=document.createElement("span");a.textContent="",n.appendChild(a);const o={top:a.offsetTop+parseInt(r.borderTopWidth,10),left:a.offsetLeft+parseInt(r.borderLeftWidth,10)};return document.body.removeChild(n),o}}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.util.ts"}],[8565,{reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsUsingPaymaster=function(e){var t;const n=s(e);if(!n)return!1;const r=null===(t=n.userOperation)||void 0===t?void 0:t.paymasterAndData;return Boolean(null==r?void 0:r.length)&&"0x"!==r},n.getUserOperation=s,n.getUserOperations=a,n.selectUserOperationMetadata=n.selectPaymasterData=n.selectPaymasterAddress=void 0;var r=e("reselect");function a(e){return e.metamask.userOperations||{}}const o=n.selectUserOperationMetadata=(0,r.createSelector)(a,(e,t)=>t,(e,t)=>e[t]);function s(e){var t;const n=null===(t=e.confirmTransaction)||void 0===t?void 0:t.txData;if(!n)return undefined;const{id:r,isUserOperation:o}=n;if(!o)return undefined;return a(e)[r]}const i=n.selectPaymasterData=(0,r.createSelector)(o,e=>{var t;const n=null==e||null===(t=e.userOperation)||void 0===t?void 0:t.paymasterAndData;return"0x"===n?undefined:n});n.selectPaymasterAddress=(0,r.createSelector)(i,e=>null==e?void 0:e.slice(0,42))}}},{package:"$root$",file:"ui/selectors/account-abstraction.ts"}],[8567,{"./shared":8598,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectAlerts=o,n.selectConfirmedAlertKeys=function(e,t){const{confirmed:n}=e.confirmAlerts??{},r=(null==n?void 0:n[t])||{};return Object.keys(r).filter(e=>r[e])},n.selectGeneralAlerts=n.selectFieldAlerts=void 0;var r=e("reselect"),a=e("./shared");function o(e,t){var n;return(null===(n=e.confirmAlerts)||void 0===n?void 0:n.alerts[t])??a.EMPTY_ARRAY}n.selectGeneralAlerts=(0,r.createSelector)((e,t)=>o(e,t),e=>e.filter(e=>!e.field)),n.selectFieldAlerts=(0,r.createSelector)((e,t)=>o(e,t),e=>e.filter(e=>e.field))}}},{package:"$root$",file:"ui/selectors/alerts.ts"}],[8569,{"../../shared/constants/network":6194,"../../shared/lib/asset-utils":6224,"../../shared/modules/hexstring-utils":6324,"../../shared/modules/selectors/networks":6335,"../../shared/modules/selectors/util":6339,"../components/app/assets/util/calculateTokenBalance":6430,"../components/app/assets/util/calculateTokenFiatAmount":6431,"../ducks/metamask/metamask":7448,"../helpers/utils/number-utils":7504,"../pages/asset/util":7688,"./accounts":8566,"./multichain":8586,"./multichain-accounts/account-tree":8581,"./multichain/networks":8588,"./selectors":8597,"./shared":8598,"@metamask/assets-controllers":1394,"@metamask/controller-utils":1639,"@metamask/keyring-api":2510,"@metamask/utils":3554,"bignumber.js":4362,lodash:5239,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountAssets=S,n.getAllIgnoredAssets=x,n.getAssetsBySelectedAccountGroupWithTronResources=n.getAssetsBySelectedAccountGroup=n.getAsset=void 0,n.getAssetsMetadata=I,n.getAssetsRates=O,n.getDefiPositions=function(e){var t;return null==e||null===(t=e.metamask)||void 0===t?void 0:t.allDeFiPositions},n.getHistoricalMultichainAggregatedBalance=void 0,n.getHistoricalPrices=R,n.selectBalancePercentChangeByAccountGroup=n.selectBalanceForAllWallets=n.selectBalanceChangeForAllWallets=n.selectBalanceChangeBySelectedAccountGroup=n.selectBalanceChangeByAccountGroup=n.selectBalanceByWallet=n.selectBalanceBySelectedAccountGroup=n.selectBalanceByAccountGroup=n.selectAccountSupportsEnabledNetworks=n.selectAccountGroupBalanceForEmptyState=n.getTokenByAccountAndAddressAndChainId=n.getTokenBalancesEvm=n.getMultichainNativeTokenBalance=n.getMultichainNativeAssetType=n.getMultichainAggregatedBalance=n.getMultiChainAssets=void 0;var r=e("@metamask/assets-controllers"),a=e("@metamask/keyring-api"),o=e("@metamask/controller-utils"),s=e("@metamask/utils"),i=e("bignumber.js"),c=e("lodash"),l=e("reselect"),u=e("../../shared/constants/network"),d=e("../../shared/modules/selectors/util"),p=e("../components/app/assets/util/calculateTokenBalance"),f=e("../components/app/assets/util/calculateTokenFiatAmount"),m=e("../ducks/metamask/metamask"),h=e("../pages/asset/util"),g=e("../../shared/lib/asset-utils"),y=e("../../shared/modules/hexstring-utils"),v=e("../helpers/utils/number-utils"),b=e("../../shared/modules/selectors/networks"),w=e("./accounts"),C=e("./multichain"),T=e("./shared"),_=e("./selectors"),E=e("./multichain/networks"),k=e("./multichain-accounts/account-tree");function S(e){return e.metamask.accountsAssets}function I(e){return e.metamask.assetsMetadata}function x(e){return e.metamask.allIgnoredAssets??T.EMPTY_OBJECT}function O(e){return e.metamask.conversionRates}function R(e){return e.metamask.historicalPrices}n.getTokenBalancesEvm=(0,d.createDeepEqualSelector)(_.getTokensAcrossChainsByAccountAddressSelector,_.getNativeTokenCachedBalanceByChainIdSelector,m.getTokenBalances,(e,t)=>t,_.getMarketData,_.getCurrencyRates,_.getPreferences,_.getIsTokenNetworkFilterEqualCurrentNetwork,_.getCurrentNetwork,(e,t,n,r,a,o,s,i,c)=>{const{hideZeroBalanceTokens:l}=s,d=n[r],m=u.TEST_CHAINS.includes(c.chainId),h=Object.fromEntries(Object.entries(e).filter(([e])=>m?u.TEST_CHAINS.includes(e):!u.TEST_CHAINS.includes(e))),g=[];return Object.entries(h).forEach(([e,n])=>{const r=e;n.forEach(e=>{const{isNative:n,address:s,decimals:c}=e,u=(0,p.calculateTokenBalance)({isNative:n,chainId:r,address:s,decimals:c,nativeBalances:t,selectedAccountTokenBalancesAcrossChains:d})||"0",m=(0,f.calculateTokenFiatAmount)({token:e,chainId:r,balance:u,marketData:a,currencyRates:o});if(!l||"0"!==u||e.isNative&&i){let t;t=e.isNative?"ETH"===e.symbol?"Ethereum":e.symbol:e.name||e.symbol,g.push({...e,address:e.address,assetId:e.assetId,balance:u,tokenFiatAmount:m,chainId:r,string:String(u),secondary:0,title:t})}})}),g});const M=n.getMultiChainAssets=(0,d.createDeepEqualSelector)((e,t)=>t,C.getMultichainBalances,S,I,O,_.getPreferences,(e,t,n,r,a,o)=>{const{hideZeroBalanceTokens:c}=o,l=(null==n?void 0:n[e.id])||[],u=null==t?void 0:t[e.id],d=[];return l.forEach(e=>{var t,n;const{chainId:o,assetNamespace:l}=(0,s.parseCaipAssetType)(e),p="slip44"===l,f=(null==u?void 0:u[e])||{amount:"0",unit:""},m=null==a||null===(t=a[e])||void 0===t?void 0:t.rate,h=m?new i.BigNumber(f.amount).times(m).toNumber():null,g={name:f.unit,symbol:f.unit||"",fungible:!0,units:[{name:e,symbol:f.unit||"",decimals:0}]},y=r[e]||g,v=(null===(n=y.units[0])||void 0===n?void 0:n.decimals)||0;c&&"0"===f.amount&&!p||d.push({title:y.name,address:e,symbol:y.symbol,image:y.iconUrl,decimals:v,chainId:o,isNative:p,balance:f.amount,secondary:h,string:"",tokenFiatAmount:h,isStakeable:!1})}),d}),D=(n.getTokenByAccountAndAddressAndChainId=(0,d.createDeepEqualSelector)(e=>e,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r,(e,t,n,r)=>{const a=(0,g.isEvmChainId)(r);if(!n&&!a)return null;const o=t??(a?(0,w.getSelectedInternalAccount)(e):(0,k.getInternalAccountBySelectedAccountGroupAndCaip)(e,r)),s=a?(0,_.getSelectedAccountTokensAcrossChains)(e):(0,c.groupBy)(M(e,o),"chainId");return(0,h.findAssetByAddress)(s,n,r)}),{amount:0,unit:""}),P=(n.getMultichainAggregatedBalance=(0,d.createDeepEqualSelector)((e,t)=>t,C.getMultichainBalances,S,O,(e,t,n,r)=>{const{id:a}=e??{},o=a&&(null==n?void 0:n[a])||[],s=a?null==t?void 0:t[a]:{};let c=new i.BigNumber(0);return o.forEach(e=>{var t;const n=(null==s?void 0:s[e])||D,a=(null==r||null===(t=r[e])||void 0===t?void 0:t.rate)||"0",o=new i.BigNumber(n.amount).times(a);c=c.plus(o)}),c.toNumber()}),n.getHistoricalMultichainAggregatedBalance=(0,d.createDeepEqualSelector)((e,t)=>t,C.getMultichainBalances,S,O,(e,t,n,r)=>{const a=(null==n?void 0:n[e.id])||[],o=null==t?void 0:t[e.id],s={PT1H:{balance:0,percentChange:0,amountChange:0},P1D:{balance:0,percentChange:0,amountChange:0},P7D:{balance:0,percentChange:0,amountChange:0},P14D:{balance:0,percentChange:0,amountChange:0},P30D:{balance:0,percentChange:0,amountChange:0},P200D:{balance:0,percentChange:0,amountChange:0},P1Y:{balance:0,percentChange:0,amountChange:0}};let c=new i.BigNumber(0);a.forEach(e=>{var t;const n=(null==o?void 0:o[e])||D,a=null==r?void 0:r[e];if(null!=a&&null!==(t=a.marketData)&&void 0!==t&&t.pricePercentChange&&a.rate){const{pricePercentChange:e}=a.marketData,t=new i.BigNumber(n.amount).times(a.rate||"0");c=c.plus(t),Object.entries(e).forEach(([e,n])=>{if(e in s){const r=t.div(Number((1+n/100).toFixed(8))).toNumber();s[e].balance+=r}})}});const l=c.toNumber();return Object.entries(s).forEach(([e,t])=>{if(0!==l){const e=l-t.balance,n=e/t.balance*100;t.amountChange=Number(e.toFixed(8)),t.percentChange=Number(n.toFixed(8))}}),s}),n.getMultichainNativeAssetType=(0,d.createDeepEqualSelector)(w.getSelectedInternalAccount,S,E.getSelectedMultichainNetworkConfiguration,(e,t,n)=>((null==t?void 0:t[e.id])||[]).find(e=>{const{chainId:t,assetNamespace:r}=(0,s.parseCaipAssetType)(e);return t===n.chainId&&"slip44"===r}))),A=(n.getMultichainNativeTokenBalance=(0,d.createDeepEqualSelector)((e,t)=>t,C.getMultichainBalances,P,(e,t,n)=>{if(!e)return D;const r=null==t?void 0:t[e.id];return n&&null!=r&&r[n]?r[n]:D}),e=>e.metamask??T.EMPTY_OBJECT),B=Object.freeze({wallets:{},selectedAccountGroup:""}),N=(0,l.createSelector)([e=>A(e).accountTree,e=>A(e).accountGroupsMetadata,e=>A(e).accountWalletsMetadata],(e,t,n)=>({accountTree:e??B,accountGroupsMetadata:t??T.EMPTY_OBJECT,accountWalletsMetadata:n??T.EMPTY_OBJECT})),F=(0,l.createSelector)([e=>A(e).internalAccounts],e=>({internalAccounts:e??{accounts:{},selectedAccount:""}})),j=(0,l.createSelector)([m.getTokenBalances],e=>({tokenBalances:e})),U=(0,l.createSelector)([_.getMarketData],e=>({marketData:e})),L=(0,l.createSelector)([O,R],(e,t)=>({conversionRates:e??T.EMPTY_OBJECT,historicalPrices:t??T.EMPTY_OBJECT})),q=(0,l.createSelector)([C.getMultichainBalances],e=>({balances:e})),W=(0,l.createSelector)([S,I,x],(e,t,n)=>({accountsAssets:e,assetsMetadata:t,allIgnoredAssets:n})),$=(0,l.createSelector)([e=>A(e).allTokens],e=>({allTokens:e??T.EMPTY_OBJECT,allIgnoredTokens:T.EMPTY_OBJECT,allDetectedTokens:T.EMPTY_OBJECT})),K=(0,l.createSelector)([m.getCurrentCurrency,_.getCurrencyRates],(e,t)=>({currentCurrency:e??"usd",currencyRates:t??T.EMPTY_OBJECT})),H=(0,l.createSelector)([_.getEnabledNetworks],e=>e),G=(0,l.createSelector)([e=>A(e).accountsByChainId],e=>e??T.EMPTY_OBJECT),Y=n.selectBalanceForAllWallets=(0,l.createSelector)([N,F,j,U,L,q,W,$,K,H],(e,t,n,a,o,s,i,c,l,u)=>(0,r.calculateBalanceForAllWallets)(e,t,n,a,o,s,i,c,l,u));n.selectBalanceChangeForAllWallets=e=>(0,l.createSelector)([N,F,j,U,L,q,W,$,K,H],(t,n,a,o,s,i,c,l,u,d)=>(0,r.calculateBalanceChangeForAllWallets)(t,n,a,o,s,i,c,l,u,d,e));const V=(e,t)=>(0,l.createSelector)([N,F,j,U,L,q,W,$,K,H],(n,a,o,s,i,c,l,u,d,p)=>(0,r.calculateBalanceChangeForAccountGroup)(n,a,o,s,i,c,l,u,d,p,e,t));n.selectBalanceChangeByAccountGroup=V;n.selectBalancePercentChangeByAccountGroup=(e,t)=>(0,l.createSelector)([V(e,t)],e=>e.percentChange);n.selectBalanceChangeBySelectedAccountGroup=e=>(0,l.createSelector)([N,F,j,U,L,q,W,$,K,H],(t,n,a,o,s,i,c,l,u,d)=>{var p;const f=null==t||null===(p=t.accountTree)||void 0===p?void 0:p.selectedAccountGroup;return f?(0,r.calculateBalanceChangeForAccountGroup)(t,n,a,o,s,i,c,l,u,d,f,e):null});const Z=(0,l.createSelector)([b.getNonTestNetworks],e=>{const t={};return e.forEach(e=>{const{caipChainId:n}=e,{namespace:r,reference:a}=(0,s.parseCaipChainId)(n);if(t[r]||(t[r]={}),r===s.KnownCaipNamespace.Eip155){const e=(0,o.toHex)(a);t[r][e]=!0}else t[r][n]=!0}),t});function z(e,t,n){return(0,s.isObject)(e)&&(0,s.hasProperty)(e,t)&&"string"==typeof e[t]?e[t]:n}n.selectAccountGroupBalanceForEmptyState=(0,l.createSelector)([N,F,j,q,Z,G],(e,t,n,r,a,o)=>{var i,c;const l=null==e||null===(i=e.accountTree)||void 0===i?void 0:i.selectedAccountGroup;if(!l)return!1;const u=null==e?void 0:e.accountTree;if(null==u||!u.wallets)return!1;let d=[];for(const e of Object.values(u.wallets))if(e.groups[l]){d=e.groups[l].accounts||[];break}if(0===d.length)return!1;const p=new Set(d),f=new Set;Object.entries((null===(c=t.internalAccounts)||void 0===c?void 0:c.accounts)||{}).forEach(([e,t])=>{p.has(e)&&null!=t&&t.address&&f.add(t.address.toLowerCase())});const m=new Set(Object.keys((null==a?void 0:a.eip155)||{})),h=new Set(Object.keys((null==a?void 0:a.solana)||{}).concat(Object.keys((null==a?void 0:a.bip122)||{}))),g=Object.entries(o||{}).some(([e,t])=>!!m.has(e)&&(!!(0,s.isObject)(t)&&Object.entries(t).some(([e,t])=>{if(!f.has(e.toLowerCase()))return!1;if(!(0,s.isObject)(t))return!1;const n=z(t,"balance","0x0");return!(0,y.isEmptyHexString)(n)}))),b=Object.entries((null==r?void 0:r.balances)||{}).some(([e,t])=>!!p.has(e)&&(!!(0,s.isObject)(t)&&Object.entries(t).some(([e,t])=>{const n=e.split("/")[0];if(!h.has(n))return!1;if(!(0,s.isObject)(t))return!1;const r=z(t,"amount","0");return!(0,v.isZeroAmount)(r)}))),w=Object.entries((null==n?void 0:n.tokenBalances)||{}).some(([e,t])=>!!f.has(e.toLowerCase())&&(!!(0,s.isObject)(t)&&Object.entries(t).some(([e,t])=>!!m.has(e)&&(!!(0,s.isObject)(t)&&Object.values(t).some(e=>"string"==typeof e&&!(0,y.isEmptyHexString)(e))))));return g||b||w}),n.selectBalanceBySelectedAccountGroup=(0,l.createSelector)([N,Y],(e,t)=>{var n;const r=null==e||null===(n=e.accountTree)||void 0===n?void 0:n.selectedAccountGroup;if(!r)return null;const a=r.split("/")[0],o=t.wallets[a]??null,{userCurrency:s}=t;return null!=o&&o.groups[r]?o.groups[r]:{walletId:a,groupId:r,totalBalanceInUserCurrency:0,userCurrency:s}});n.selectBalanceByAccountGroup=e=>(0,l.createSelector)([Y],t=>{const n=e.split("/")[0],r=t.wallets[n]??null,{userCurrency:a}=t;return null!=r&&r.groups[e]?r.groups[e]:{walletId:n,groupId:e,totalBalanceInUserCurrency:0,userCurrency:a}});n.selectBalanceByWallet=e=>(0,l.createSelector)([Y],t=>{const n=t.wallets[e]??null,{userCurrency:r}=t;return n?{walletId:e,totalBalanceInUserCurrency:n.totalBalanceInUserCurrency,userCurrency:r,groups:n.groups}:{walletId:e,totalBalanceInUserCurrency:0,userCurrency:r,groups:{}}});const Q=({metamask:e})=>{const t={accountTree:e.accountTree,internalAccounts:e.internalAccounts,allTokens:e.allTokens,allIgnoredTokens:e.allIgnoredTokens,tokenBalances:e.tokenBalances,marketData:e.marketData,currencyRates:e.currencyRates,currentCurrency:e.currentCurrency,networkConfigurationsByChainId:e.networkConfigurationsByChainId,accountsByChainId:e.accountsByChainId};let n={accountsAssets:{},assetsMetadata:{},allIgnoredAssets:{},balances:{},conversionRates:{}};return n={accountsAssets:e.accountsAssets,assetsMetadata:e.assetsMetadata,allIgnoredAssets:e.allIgnoredAssets,balances:e.balances,conversionRates:e.conversionRates},{...t,...n}},X=n.getAssetsBySelectedAccountGroup=(0,d.createDeepEqualSelector)(Q,e=>(0,r.selectAssetsBySelectedAccountGroup)(e));n.selectAccountSupportsEnabledNetworks=(0,l.createSelector)([w.getSelectedInternalAccount,E.getAllEnabledNetworksForAllNamespaces],(e,t)=>{if(!e||0===t.length)return!0;if((0,a.isEvmAccountType)(e.type))return t.some(e=>(0,g.isEvmChainId)(e));const n=e.scopes||[];return t.some(e=>n.includes(e))}),n.getAssetsBySelectedAccountGroupWithTronResources=(0,d.createDeepEqualSelector)(Q,e=>(0,r.selectAssetsBySelectedAccountGroup)(e,{filterTronStakedTokens:!1})),n.getAsset=(0,l.createSelector)([X,(e,t,n)=>t,(e,t,n)=>n],(e,t,n)=>{const r=e[n];return null==r?void 0:r.find(e=>e.assetId===t)})}}},{package:"$root$",file:"ui/selectors/assets.ts"}],[8572,{"../../shared/modules/selectors/networks":6335,"../../shared/modules/selectors/util":6339,"./multichain":8586,"./selectors":8597,"@metamask/keyring-api":2510},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDappActiveNetwork=void 0;var r=e("@metamask/keyring-api"),a=e("../../shared/modules/selectors/networks"),o=e("../../shared/modules/selectors/util"),s=e("./selectors"),i=e("./multichain");n.getDappActiveNetwork=(0,o.createDeepEqualSelector)(s.getOrderedConnectedAccountsForActiveTab,s.getOriginOfCurrentTab,s.getAllDomains,a.getNetworkConfigurationsByChainId,i.getMultichainNetworkConfigurationsByChainId,(e,t,n,a,o)=>{if(!e||0===e.length)return null;const s=e[0];if((0,r.isEvmAccountType)(s.type)){if(!t||!n)return null;const e=n[t];if(!e)return null;for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)){const n=a[t];if(n.rpcEndpoints.some(t=>t.networkClientId===e))return{...n,isEvm:!0}}}else{const e=s.scopes.find(e=>e.startsWith("solana:"));if(e){const t=o[e];if(t)return{...t,isEvm:!1}}}return null})}}},{package:"$root$",file:"ui/selectors/dapp.ts"}],[8574,{"../../../shared/modules/string-utils":6346,"../../components/multichain/pages/gator-permissions/helper":7257,"../../helpers/utils/util":7518,"../selectors":8597,"@metamask/gator-permissions-controller":2350,"@metamask/permission-controller":2862,"@metamask/snaps-utils":3382,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUniqueSiteOriginsFromTokenTransferPermissions=n.getTotalUniqueSitesCount=n.getTokenTransferPermissionsByOrigin=n.getPermissionMetaDataByOrigin=n.getPermissionGroupMetaDataByOrigin=n.getPermissionGroupMetaData=n.getPendingRevocations=n.getMergedConnectionsListWithGatorPermissions=n.getGatorPermissionsMap=n.getGatorPermissionCountsBySiteOrigin=n.getAggregatedGatorPermissionsCountAcrossAllChains=n.getAggregatedGatorPermissionByChainIdAndOrigin=n.getAggregatedGatorPermissionByChainId=n.GatorSortOrder=void 0;var r=e("reselect"),a=e("@metamask/gator-permissions-controller"),o=e("@metamask/snaps-utils"),s=e("@metamask/permission-controller"),i=e("../../../shared/modules/string-utils"),c=e("../../components/multichain/pages/gator-permissions/helper"),l=e("../selectors"),u=e("../../helpers/utils/util");let d=n.GatorSortOrder=function(e){return e.Ascending="asc",e.Descending="desc",e}({});const p=["native-token-stream","erc20-token-stream","native-token-periodic","erc20-token-periodic","erc20-token-revocation"],f=[...p,"other"],m=e=>e.metamask;function h(e,t=d.Ascending){return[...e].sort((e,n)=>{var r,a;const o=null===(r=e.permissionResponse.permission.data)||void 0===r?void 0:r.startTime,s=null===(a=n.permissionResponse.permission.data)||void 0===a?void 0:a.startTime;return o||s?o?s?t===d.Ascending?o-s:s-o:t===d.Ascending?1:-1:t===d.Ascending?-1:1:0})}const g=n.getGatorPermissionsMap=(0,r.createSelector)([m],e=>{const t=(0,a.deserializeGatorPermissionsMap)(e.gatorPermissionsMapSerialized);return f.forEach(e=>{t[e]===undefined&&(t[e]={})}),t});n.getAggregatedGatorPermissionsCountAcrossAllChains=(0,r.createSelector)([g,(e,t)=>t],(e,t)=>"token-transfer"===t?p.reduce((t,n)=>t+function(e,t){const n=Object.values(e[t]).flat();for(const e of n)if(!e)throw new Error(`Undefined values present in the gatorPermissionsMap for permission type: ${t}`);return n.length}(e,n),0):0);n.getPermissionGroupMetaData=(0,r.createSelector)([g,(e,t)=>t],(e,t)=>{if("token-transfer"===t){const t=p.reduce((t,n)=>{return function(e,t){const n={...e};for(const[e,r]of Object.entries(t))n[e]=(n[e]||0)+r;return n}(t,(r=e[n],Object.values(r).flat().reduce((e,t)=>{const{permissionResponse:n}=t;return e[n.chainId]=(e[n.chainId]||0)+1,e},{})));var r},{});return Object.entries(t).map(([e,t])=>({chainId:e,count:t}))}return[]});const y=(e,t)=>p.flatMap(n=>((e,t,n)=>{if(!e[n])return[];const r=(0,c.safeDecodeURIComponent)(t);return Object.values(e[n]).flat().filter(e=>{if(!e)throw new Error(`Undefined values present in the gatorPermissionsMap for permission type: ${n}`);return(0,i.isEqualCaseInsensitive)((0,c.safeDecodeURIComponent)(e.siteOrigin),r)})})(e,t,n)),v=(e,t)=>{const n=y(e,t),r=new Set(n.map(e=>e.permissionResponse.chainId));return{count:n.length,chains:Array.from(r)}},b=(n.getPermissionMetaDataByOrigin=(0,r.createSelector)([g,(e,t)=>t],(e,t)=>({tokenTransfer:v(e,t)})),n.getPermissionGroupMetaDataByOrigin=(0,r.createSelector)([g,(e,t)=>t],(e,{permissionGroupName:t,siteOrigin:n})=>{if("token-transfer"!==t)return[];const r=y(e,n),a={};return r.forEach(e=>{const{chainId:t}=e.permissionResponse;a[t]=(a[t]||0)+1}),Object.entries(a).map(([e,t])=>({chainId:e,count:t}))}),n.getTokenTransferPermissionsByOrigin=(0,r.createSelector)([g,(e,t)=>t],(e,t)=>h(y(e,t))),n.getUniqueSiteOriginsFromTokenTransferPermissions=(0,r.createSelector)([g],e=>{const t=p.flatMap(t=>{const n=e[t];return n?Object.values(n).flat():[]}).map(e=>e.siteOrigin);return[...new Set(t)]})),w=n.getGatorPermissionCountsBySiteOrigin=(0,r.createSelector)([g],e=>{const t=new Map;return Object.values(e).flatMap(e=>Object.values(e).flatMap(e=>e)).forEach(e=>{if(null!=e&&e.siteOrigin){const n=t.get(e.siteOrigin)||0;t.set(e.siteOrigin,n+1)}}),t});n.getTotalUniqueSitesCount=(0,r.createSelector)([l.getConnectedSitesListWithNetworkInfo,b],(e,t)=>{const n=Object.keys(e).filter(e=>!(0,o.isSnapId)(e));return new Set([...n,...t]).size}),n.getMergedConnectionsListWithGatorPermissions=(0,r.createSelector)([l.getConnectedSitesListWithNetworkInfo,w,e=>e],(e,t,n)=>{const r={...e};return t.forEach((e,t)=>{if(r[t])r[t]={...r[t],advancedPermissionsCount:e};else{const a=(0,l.getTargetSubjectMetadata)(n,t);r[t]={addresses:[],origin:t,name:(null==a?void 0:a.name)||(0,u.getURLHostName)(t),iconUrl:(null==a?void 0:a.iconUrl)||null,subjectType:s.SubjectType.Website,networkIconUrl:"",networkName:"",extensionId:null,advancedPermissionsCount:e}}}),r}),n.getAggregatedGatorPermissionByChainId=(0,r.createSelector)([g,(e,t)=>t],(e,{aggregatedPermissionType:t,chainId:n})=>{if("token-transfer"===t){return h(p.flatMap(t=>e[t][n]||[]))}return console.warn(`Unknown aggregated permission type: ${t}`),[]}),n.getAggregatedGatorPermissionByChainIdAndOrigin=(0,r.createSelector)([g,(e,t)=>t],(e,{aggregatedPermissionType:t,chainId:n,siteOrigin:r})=>{if("token-transfer"===t){const t=p.flatMap(t=>e[t][n]||[]),a=(0,c.safeDecodeURIComponent)(r);return h(t.filter(e=>(0,i.isEqualCaseInsensitive)((0,c.safeDecodeURIComponent)(e.siteOrigin),a)))}return console.warn(`Unknown aggregated permission type: ${t}`),[]}),n.getPendingRevocations=(0,r.createSelector)([m],e=>e.pendingRevocations)}}},{package:"$root$",file:"ui/selectors/gator-permissions/gator-permissions.ts"}],[8575,{reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectSessionData=n.selectIsSignedIn=void 0;var r=e("reselect");const a=e=>e.metamask;n.selectIsSignedIn=(0,r.createSelector)([a],e=>e.isSignedIn),n.selectSessionData=(0,r.createSelector)([a],e=>{var t;return e.srpSessionData?null===(t=Object.entries(e.srpSessionData))||void 0===t||null===(t=t[0])||void 0===t?void 0:t[1]:undefined})}}},{package:"$root$",file:"ui/selectors/identity/authentication.ts"}],[8576,{reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectIsContactSyncingEnabled=n.selectIsBackupAndSyncUpdateLoading=n.selectIsBackupAndSyncEnabled=n.selectIsAccountSyncingEnabled=void 0;var r=e("reselect");const a=e=>e.metamask;n.selectIsBackupAndSyncEnabled=(0,r.createSelector)([a],e=>e.isBackupAndSyncEnabled),n.selectIsBackupAndSyncUpdateLoading=(0,r.createSelector)([a],e=>e.isBackupAndSyncUpdateLoading),n.selectIsAccountSyncingEnabled=(0,r.createSelector)([a],e=>e.isAccountSyncingEnabled),n.selectIsContactSyncingEnabled=(0,r.createSelector)([a],e=>e.isContactSyncingEnabled)}}},{package:"$root$",file:"ui/selectors/identity/backup-and-sync.ts"}],[8578,{"../../../shared/modules/selectors/util":6339,"../remote-feature-flags":8594,"@metamask/notification-services-controller/notification-services":2781,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsCheckingAccountsPresence=n.getFeatureAnnouncementsUnreadCount=n.getFeatureAnnouncementsReadCount=void 0,n.getIsNotificationEnabledByDefaultFeatureFlag=function(e){const{assetsEnableNotificationsByDefaultV2:t}=(0,s.getRemoteFeatureFlags)(e),n=t&&"object"==typeof t&&"value"in t&&Boolean(t.value);return Boolean(n)},n.selectIsMetamaskNotificationsFeatureSeen=n.selectIsMetamaskNotificationsEnabled=n.selectIsFeatureAnnouncementsEnabled=n.isFetchingMetamaskNotifications=n.getValidNotificationAccounts=n.getSnapNotificationsUnreadCount=n.getSnapNotificationsReadCount=n.getOnChainMetamaskNotificationsUnreadCount=n.getOnChainMetamaskNotificationsReadCount=n.getMetamaskNotificationsUnreadCount=n.getMetamaskNotificationsReadList=n.getMetamaskNotifications=n.getMetamaskNotificationById=n.getIsUpdatingMetamaskNotificationsAccount=n.getIsUpdatingMetamaskNotifications=void 0;var r=e("reselect"),a=e("@metamask/notification-services-controller/notification-services"),o=e("../../../shared/modules/selectors/util"),s=e("../remote-feature-flags");const i=e=>({...a.defaultState,...e.metamask});const c=n.getMetamaskNotifications=(0,r.createSelector)([i],e=>e.metamaskNotificationsList);n.getMetamaskNotificationById=e=>(0,o.createDeepEqualSelector)([c],t=>t.find(t=>t.id===e));n.getMetamaskNotificationsReadList=(0,r.createSelector)([i],e=>e.metamaskNotificationsReadList),n.getMetamaskNotificationsUnreadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>!e.isRead).length:0),n.getFeatureAnnouncementsUnreadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>!e.isRead&&e.type===a.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT).length:0),n.getFeatureAnnouncementsReadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>e.isRead&&e.type===a.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT).length:0),n.getSnapNotificationsUnreadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>!e.isRead&&e.type===a.TRIGGER_TYPES.SNAP).length:0),n.getSnapNotificationsReadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>e.isRead&&e.type===a.TRIGGER_TYPES.SNAP).length:0),n.getOnChainMetamaskNotificationsUnreadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>!e.isRead&&e.type!==a.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&e.type!==a.TRIGGER_TYPES.SNAP).length:0),n.getOnChainMetamaskNotificationsReadCount=(0,r.createSelector)([c],e=>e?e.filter(e=>e.isRead&&e.type!==a.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&e.type!==a.TRIGGER_TYPES.SNAP).length:0),n.selectIsMetamaskNotificationsFeatureSeen=(0,r.createSelector)([i],e=>e.isMetamaskNotificationsFeatureSeen),n.selectIsMetamaskNotificationsEnabled=(0,r.createSelector)([i],e=>e.isNotificationServicesEnabled),n.selectIsFeatureAnnouncementsEnabled=(0,r.createSelector)([i],e=>e.isFeatureAnnouncementsEnabled),n.getIsUpdatingMetamaskNotifications=(0,r.createSelector)([i],e=>e.isUpdatingMetamaskNotifications),n.isFetchingMetamaskNotifications=(0,r.createSelector)([i],e=>e.isFetchingMetamaskNotifications),n.getIsUpdatingMetamaskNotificationsAccount=(0,r.createSelector)([i],e=>e.isUpdatingMetamaskNotificationsAccount),n.getIsCheckingAccountsPresence=(0,r.createSelector)([i],e=>e.isCheckingAccountsPresence),n.getValidNotificationAccounts=(0,r.createSelector)([i],e=>e.subscriptionAccountsSeen)}}},{package:"$root$",file:"ui/selectors/metamask-notifications/metamask-notifications.ts"}],[8580,{"..":8577,"../../../shared/lib/accounts/snaps":6221,"../../../shared/lib/snaps/snaps":6294,"../../../shared/modules/selectors/util":6339,"../../../shared/modules/string-utils":6346,"../assets":8569,"@metamask/keyring-api":2510,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapAccountsByKeyringId=n.getShouldShowSeedPhraseReminder=void 0;var r=e("reselect"),a=e("@metamask/keyring-api"),o=e(".."),s=e("../../../shared/modules/selectors/util"),i=e("../assets"),c=e("../../../shared/lib/accounts/snaps"),l=e("../../../shared/modules/string-utils"),u=e("../../../shared/lib/snaps/snaps");const d=(0,s.createDeepEqualSelector)((e,t)=>t,o.getMetaMaskHdKeyrings,(e,t)=>{var n;const[r]=t;return!!r&&(!!r.accounts.find(t=>(0,l.isEqualCaseInsensitive)(e.address,t))||!(!e.metadata.snap||!(0,c.isMultichainWalletSnap)(e.metadata.snap.id)||(null===(n=e.options)||void 0===n?void 0:n.entropySource)!==r.metadata.id))});n.getShouldShowSeedPhraseReminder=(0,s.createDeepEqualSelector)(e=>e,(e,t)=>t,o.getSelectedAccountTokensAcrossChains,o.getCrossChainMetaMaskCachedBalances,(e,t)=>(0,i.getMultichainAggregatedBalance)(e,t),(e,t)=>d(e,t),(e,t,n,r,o,s)=>{const{seedPhraseBackedUp:i,dismissSeedBackUpReminder:c}=e.metamask;if(!t||!s)return!1;let l=!1;l=(0,a.isEvmAccountType)(t.type)?Object.values(n).some(e=>e.some(e=>e.balance&&parseInt(e.balance,16)>0))||Object.values(r).some(e=>(null==e?void 0:e[t.address])&&parseInt(null==e?void 0:e[t.address],16)>0):o>0;return!1===i&&l&&!1===c}),n.getSnapAccountsByKeyringId=(0,r.createSelector)(o.getInternalAccounts,(e,t)=>t,(e,t)=>e.filter(e=>{var n;return e.metadata.snap&&(0,u.isSnapPreinstalled)(e.metadata.snap.id)&&(null===(n=e.options)||void 0===n?void 0:n.entropySource)===t}))}}},{package:"$root$",file:"ui/selectors/multi-srp/multi-srp.ts"}],[8581,{"../../../shared/modules/selectors/util":6339,"../../helpers/utils/network-helper":7501,"../accounts":8566,"../multichain/networks":8588,"../selectors":8597,"./utils":8584,"@metamask/account-api":1264,"@metamask/keyring-api":2510,"@metamask/utils":3554,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWalletsWithAccounts=n.getWalletIdsByType=n.getWalletIdAndNameByAccountAddress=n.getWallet=n.getSingleAccountGroups=n.getSelectedAccountGroup=n.getNormalizedGroupsMetadata=n.getNetworkAddressCount=n.getMultichainAccountsToScopesMap=n.getMultichainAccountsByWalletId=n.getMultichainAccountGroups=n.getMultichainAccountGroupById=n.getInternalAccountsFromGroupById=n.getInternalAccountListSpreadByScopesByGroupId=n.getInternalAccountBySelectedAccountGroupAndCaip=n.getInternalAccountByGroupAndCaip=n.getIconSeedAddressesByAccountGroups=n.getIconSeedAddressByAccountGroupId=n.getCaip25IdByAccountGroupAndScope=n.getAllAccountGroups=n.getAccountTree=n.getAccountListStats=n.getAccountGroupsByScopes=n.getAccountGroupsByAddress=n.getAccountGroupWithInternalAccounts=void 0;var r=e("@metamask/account-api"),a=e("@metamask/keyring-api"),o=e("reselect"),s=e("@metamask/utils"),i=e("../../../shared/modules/selectors/util"),c=e("../selectors"),l=e("../accounts"),u=e("../multichain/networks"),d=e("../../helpers/utils/network-helper"),p=e("./utils");const f=e=>e.metamask.accountTree;n.getAccountTree=f;const m=n.getWalletsWithAccounts=(0,i.createDeepEqualSelector)(c.getMetaMaskAccountsOrdered,f,c.getOrderedConnectedAccountsForActiveTab,l.getSelectedInternalAccount,c.getPinnedAccountsList,c.getHiddenAccountsList,(e,t,n,r,a,o)=>{const s=new Set(a),i=new Set(o),c=new Set(n.map(e=>e.id)),l=e.reduce((e,t)=>(e[t.id]=t,e),{}),{wallets:u}=t;return Object.values(u).reduce((e,t)=>(e[t.id]={id:t.id,type:t.type,metadata:t.metadata,groups:{}},Object.values(t.groups).forEach(n=>{const a=n.accounts.map(e=>{const t={...l[e]};return t.pinned=s.has(t.address),t.hidden=i.has(t.address),t.active=r.id===t.id&&c.has(t.id),t});e[t.id].groups[n.id]={id:n.id,type:n.type,metadata:n.metadata,accounts:a}}),e),{})}),h=(n.getNormalizedGroupsMetadata=(0,i.createDeepEqualSelector)(f,l.getInternalAccountsObject,(e,t)=>{const{wallets:n}=e,r={};for(const e of Object.values(n))for(const n of Object.values(e.groups)){var a;r[n.id]={name:(null===(a=n.metadata)||void 0===a||null===(a=a.name)||void 0===a?void 0:a.toLowerCase())??"",accounts:n.accounts.map(e=>{var n;return(null===(n=t[e])||void 0===n?void 0:n.address.toLowerCase())??""})}}return r}),n.getWalletIdAndNameByAccountAddress=(0,i.createDeepEqualSelector)(m,(e,t)=>t,(e,t)=>{for(const[n,r]of Object.entries(e))for(const e of Object.values(r.groups)){if(e.accounts.find(e=>e.address.toLowerCase()===t.toLowerCase()))return{id:n,name:r.metadata.name}}return null}),n.getMultichainAccountGroupById=(0,i.createDeepEqualSelector)(f,(e,t)=>t,(e,t)=>{if(!t)return undefined;const{wallets:n}=e,r=n[(0,p.extractWalletIdFromGroupId)(t)];return null==r?void 0:r.groups[t]}),n.getAllAccountGroups=(0,i.createDeepEqualSelector)(f,e=>{const{wallets:t}=e;return Object.values(t).flatMap(e=>Object.values(e.groups).map(t=>({...t,walletName:e.metadata.name,walletId:e.id})))})),g=n.getMultichainAccountGroups=(0,i.createDeepEqualSelector)(h,e=>e.filter(e=>e.id.startsWith(r.AccountWalletType.Entropy))),y=(n.getSingleAccountGroups=(0,i.createDeepEqualSelector)(h,e=>e.filter(e=>!e.id.startsWith(r.AccountWalletType.Entropy))),n.getAccountGroupWithInternalAccounts=(0,i.createDeepEqualSelector)(h,l.getInternalAccounts,(e,t)=>e.map(e=>({...e,accounts:e.accounts.map(e=>t.find(t=>t.id===e)).filter(e=>e!==undefined)})))),v=n.getMultichainAccountsToScopesMap=(0,i.createDeepEqualSelector)(g,l.getInternalAccounts,(e,t)=>{const n=new Map;return e.forEach(e=>{const r=new Map;Object.values(e.accounts).forEach(e=>{const n=t.find(t=>t.id===e);if(!n)return;const[a]=n.scopes;if(a){const[e,t]=a.split(":");r.set(a,`${e}:${t}:${n.address}`)}}),n.set(e.id,r)}),n}),b=(n.getCaip25IdByAccountGroupAndScope=(0,i.createDeepEqualSelector)(v,(e,t,n)=>({accountGroup:t,scope:n}),(e,{accountGroup:t,scope:n})=>{const r=e.get(t.id);return r?r.get(n):undefined}),n.getAccountGroupsByScopes=(0,i.createDeepEqualSelector)(y,(e,t)=>t,(e,t)=>{const{cleanedScopes:n,hasEvmScope:r}=t.reduce((e,t)=>{const[n]=t.split(":");return n===s.KnownCaipNamespace.Eip155?e.hasEvmScope=!0:e.cleanedScopes.push(t),e},{cleanedScopes:[],hasEvmScope:!1});if(r)return e;const a=new Map;return n.forEach(t=>{const n=e.filter(e=>e.accounts.some(e=>e.scopes.includes(t)));a.set(t,n)}),Array.from(a.values()).flat()}),(e,t)=>{for(const n of Object.values(e))if(n.groups[t])return n.groups[t];return null}),w=(e,t,n)=>{if(!e)return null;const r=(0,p.getSanitizedChainId)(t);for(const t of e.accounts){const e=n[t];if(null!=e&&e.scopes.includes(r))return e}return null},C=(n.getInternalAccountByGroupAndCaip=(0,i.createDeepEqualSelector)(f,l.getInternalAccountsObject,(e,t,n)=>({groupId:t,caipChainId:n}),(e,t,{groupId:n,caipChainId:r})=>{const{wallets:a}=e,o=b(a,n);return w(o,r,t)}),n.getSelectedAccountGroup=(0,i.createDeepEqualSelector)(f,e=>e.selectedAccountGroup)),T=(n.getInternalAccountBySelectedAccountGroupAndCaip=(0,i.createDeepEqualSelector)(f,l.getInternalAccountsObject,C,(e,t)=>t,(e,t,n,r)=>{if(!n)return null;const{wallets:a}=e,o=b(a,n);return w(o,r,t)}),n.getWallet=(0,o.createSelector)(e=>{var t;return null===(t=e.metamask)||void 0===t||null===(t=t.accountTree)||void 0===t?void 0:t.wallets},(e,t)=>t,(e,t)=>null==e?void 0:e[t]),n.getMultichainAccountsByWalletId=(0,o.createSelector)(f,(e,t)=>t,(e,t)=>{const n=e.wallets[t];return null==n?void 0:n.groups}),n.getInternalAccountsFromGroupById=(0,o.createSelector)(f,l.getInternalAccountsObject,(e,t)=>t,(e,t,n)=>{if(!n)return[];const{wallets:r}=e,a=b(r,n);return a?a.accounts.map(e=>t[e]).filter(e=>Boolean(e)):[]})),_=(n.getAccountGroupsByAddress=(0,i.createDeepEqualSelector)([y,(e,t)=>new Set(t.map(e=>e.toLowerCase()))],(e,t)=>{const n=new Set;return e.forEach(e=>{e.accounts.some(e=>t.has(e.address.toLowerCase()))&&n.add(e)}),[...n]}),n.getInternalAccountListSpreadByScopesByGroupId=(0,i.createDeepEqualSelector)([T,u.getMultichainNetworkConfigurationsByChainId],(e,t)=>{const n=t[0],r=new Set(Object.keys(n).filter(e=>e.startsWith(s.KnownCaipNamespace.Eip155)&&!(0,d.isTestNetwork)(e))),o=[];return e.forEach(e=>{(e.type===a.EthAccountType.Eoa?[...r]:e.scopes||[]).forEach(t=>{var r;(0,d.isTestNetwork)(t)||o.push({account:e,scope:t,networkName:(null===(r=n[t])||void 0===r?void 0:r.name)||"Unknown Network"})})}),o})),E=(n.getNetworkAddressCount=(0,i.createDeepEqualSelector)([_],e=>e?e.length:0),n.getIconSeedAddressByAccountGroupId=(0,i.createDeepEqualSelector)([T],e=>{if(!e||0===e.length)return"";for(const t of e)if((0,a.isEvmAccountType)(t.type))return t.address;return e[0].address}));n.getIconSeedAddressesByAccountGroups=(e,t)=>{const n={};return t.forEach(t=>{try{const r=E(e,t.id);n[t.id]=r}catch(e){n[t.id]=""}}),n};n.getWalletIdsByType=(0,o.createSelector)(e=>{var t;return null===(t=e.metamask)||void 0===t||null===(t=t.accountTree)||void 0===t?void 0:t.wallets},(e,t)=>t,(e,t)=>e?t?Object.entries(e).filter(([,e])=>e.type===t).map(([e])=>e):Object.keys(e):[]),n.getAccountListStats=(0,o.createSelector)(f,e=>{let t=0,n=0,r=0;if(null!=e&&e.wallets)for(const s of Object.values(e.wallets))for(const e of Object.values(s.groups||{})){var a,o;r+=1,null!==(a=e.metadata)&&void 0!==a&&a.pinned&&(t+=1),null!==(o=e.metadata)&&void 0!==o&&o.hidden&&(n+=1)}return{pinnedCount:t,hiddenCount:n,totalAccounts:r}})}}},{package:"$root$",file:"ui/selectors/multichain-accounts/account-tree.ts"}],[8584,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSanitizedChainId=n.extractWalletIdFromGroupId=void 0;n.getSanitizedChainId=e=>e.startsWith("eip155")?"eip155:0":e;n.extractWalletIdFromGroupId=e=>{if(!e)throw new Error("Account group ID is required");if(e.startsWith("snap:")){if(e.includes("@")&&e.includes("/")){const t=e.lastIndexOf("/");return e.substring(0,t)}if(e.includes("/")){return e.split("/").slice(0,-1).join("/")}return e}return e.split("/")[0]}}}},{package:"$root$",file:"ui/selectors/multichain-accounts/utils.ts"}],[8585,{"./multichain-accounts/account-tree":8581},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSelectedAccountGroupMultichainTransactions=function(e,t){const n=e.metamask.nonEvmTransactions,a=(0,r.getSelectedAccountGroup)(e),o=(0,r.getAccountGroupWithInternalAccounts)(e).find(e=>e.id===a),s=null==o?void 0:o.accounts.map(e=>e.id),i=[];if(s&&s.length>0)for(const e of s){const r=(null==n?void 0:n[e])??{};for(const e of t??[]){const t=null==r?void 0:r[e];null!=t&&t.transactions&&Array.isArray(t.transactions)&&i.push(...t.transactions)}}return{transactions:i}};var r=e("./multichain-accounts/account-tree")}}},{package:"$root$",file:"ui/selectors/multichain-transactions.ts"}],[8589,{"../remote-feature-flags":8594,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectAdditionalNetworksBlacklistFeatureFlag=void 0;var r=e("reselect"),a=e("../remote-feature-flags");n.selectAdditionalNetworksBlacklistFeatureFlag=(0,r.createSelector)(a.getRemoteFeatureFlags,e=>{const t=e.additionalNetworksBlacklist;return Array.isArray(t)?t:[]})}}},{package:"$root$",file:"ui/selectors/network-blacklist/network-blacklist.ts"}],[8590,{"./selectors":8597,"./shared":8598,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getNftContractsByAddressOnCurrentChain=n.getNftContractsByAddressByChain=void 0,n.getNftsByChainByAccount=s,n.selectAllNftsFlat=void 0;var r=e("reselect"),a=e("./selectors"),o=e("./shared");function s(e){return e.metamask.allNfts??o.EMPTY_OBJECT}const i=n.getNftContractsByAddressByChain=(0,r.createSelector)(function(e){return e.metamask.allNftContracts??o.EMPTY_OBJECT},e=>Object.keys(e).map(t=>Object.keys(e[t]).map(n=>e[t][n].map(e=>({...e,chainId:n})))).flat().flat().reduce((e,t)=>{const{chainId:n,...r}=t,a=e[n]??{};return e[n]=a,a[r.address.toLowerCase()]=r,e},{}));n.getNftContractsByAddressOnCurrentChain=(0,r.createSelector)(e=>(0,a.getMemoizedCurrentChainId)(e),i,(e,t)=>t[e]??{}),n.selectAllNftsFlat=(0,r.createSelector)(s,e=>Object.values(e).reduce((e,t)=>{const n=Object.values(t);return e.concat(...n)},[]))}}},{package:"$root$",file:"ui/selectors/nft.ts"}],[8592,{"../../../shared/lib/perps-feature-flags":6290,"../remote-feature-flags":8594,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsPerpsEnabled=void 0;var r=e("reselect"),a=e("../../../shared/lib/perps-feature-flags"),o=e("../remote-feature-flags");n.getIsPerpsEnabled=(0,r.createSelector)(o.getRemoteFeatureFlags,e=>(0,a.isPerpsFeatureEnabled)(e.perpsEnabledVersion))}}},{package:"$root$",file:"ui/selectors/perps/feature-flags.ts"}],[8593,{"./feature-flags":8592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getIsPerpsEnabled",{enumerable:!0,get:function(){return r.getIsPerpsEnabled}});var r=e("./feature-flags")}}},{package:"$root$",file:"ui/selectors/perps/index.ts"}],[8599,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getClaimDrafts=function(e){return e.metamask.drafts},n.getSupportedNetworksForClaim=function(e){return e.metamask.claimsConfigurations.supportedNetworks},n.getValidSubmissionWindowDays=function(e){return e.metamask.claimsConfigurations.validSubmissionWindowDays}}}},{package:"$root$",file:"ui/selectors/shield/claims.ts"}],[8600,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){var n,r;const a=null===(n=e.metamask.coverageResults)||void 0===n?void 0:n[t];return null!=a&&null!==(r=a.results)&&void 0!==r&&r.length?a.results[0]:undefined}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoverageMetrics=function(e,t){const n=r(e,t);return null==n?void 0:n.metrics},n.getCoverageStatus=function(e,t){const n=r(e,t);return{status:null==n?void 0:n.status,reasonCode:null==n?void 0:n.reasonCode}}}}},{package:"$root$",file:"ui/selectors/shield/coverage.ts"}],[8601,{"../../shared/modules/selectors/util":6339,"./transactions":8609,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectUnapprovedMessages=n.selectUnapprovedMessage=void 0;var r=e("reselect"),a=e("../../shared/modules/selectors/util"),o=e("./transactions");const s=n.selectUnapprovedMessages=(0,r.createSelector)(o.unapprovedPersonalMsgsSelector,o.unapprovedTypedMessagesSelector,(e,t)=>({...e,...t})),i=(0,r.createSelector)(s,(e,t)=>t,(e,t)=>e[t]);n.selectUnapprovedMessage=(0,a.createDeepEqualSelector)(i,e=>e)}}},{package:"$root$",file:"ui/selectors/signatures.ts"}],[8602,{"../accounts":8566,"../selectors":8597,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountNameFromState=void 0;var r=e("reselect"),a=e("../selectors"),o=e("../accounts");n.getAccountNameFromState=(0,r.createSelector)([o.getInternalAccounts,(e,t)=>t],a.getAccountName)}}},{package:"$root$",file:"ui/selectors/snaps/accounts.ts"}],[8603,{"../../../shared/modules/selectors/util":6339,"../../../shared/modules/string-utils":6346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMemoizedFullAddressBook=n.getFullAddressBook=n.getAddressBookEntryByNetwork=n.getAddressBookByNetwork=void 0;var r=e("../../../shared/modules/selectors/util"),a=e("../../../shared/modules/string-utils");const o=e=>e.metamask.addressBook;n.getFullAddressBook=o;const s=n.getMemoizedFullAddressBook=(0,r.createDeepEqualSelector)([o],e=>e),i=n.getAddressBookByNetwork=(0,r.createDeepEqualSelector)([s,(e,t)=>t],(e,t)=>e[t]?Object.values(e[t]):[]);n.getAddressBookEntryByNetwork=(0,r.createDeepEqualSelector)([(e,t,n)=>i(e,n),(e,t)=>t],(e,t)=>e.find(e=>(0,a.isEqualCaseInsensitive)(e.address,t)))}}},{package:"$root$",file:"ui/selectors/snaps/address-book.ts"}],[8604,{"../../../shared/modules/selectors/util":6339,"../../ducks/metamask/metamask":7448},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMemoizedCurrentCurrency=void 0;var r=e("../../../shared/modules/selectors/util"),a=e("../../ducks/metamask/metamask");n.getMemoizedCurrentCurrency=(0,r.createDeepEqualSelector)([a.getCurrentCurrency],e=>e)}}},{package:"$root$",file:"ui/selectors/snaps/currency.ts"}],[8605,{"./accounts":8602,"./address-book":8603,"./currency":8604},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./address-book");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))});var a=e("./accounts");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))});var o=e("./currency");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})}}},{package:"$root$",file:"ui/selectors/snaps/index.ts"}],[8608,{reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectTransactionPaymentTokenByTransactionId=n.selectTransactionPayTotalsByTransactionId=n.selectTransactionPayTokensByTransactionId=n.selectTransactionPaySourceAmountsByTransactionId=n.selectTransactionPayQuotesByTransactionId=n.selectTransactionPayIsMaxAmountByTransactionId=n.selectTransactionDataByTransactionId=n.selectIsTransactionPayLoadingByTransactionId=void 0;var r=e("reselect");const a=n.selectTransactionDataByTransactionId=(0,r.createSelector)(e=>e,(e,t)=>t,(e,t)=>{var n;return null===(n=e.metamask.transactionData)||void 0===n?void 0:n[t]});n.selectTransactionPayTotalsByTransactionId=(0,r.createSelector)(a,e=>null==e?void 0:e.totals),n.selectIsTransactionPayLoadingByTransactionId=(0,r.createSelector)(a,e=>(null==e?void 0:e.isLoading)??!1),n.selectTransactionPayQuotesByTransactionId=(0,r.createSelector)(a,e=>null==e?void 0:e.quotes),n.selectTransactionPayTokensByTransactionId=(0,r.createSelector)(a,e=>(null==e?void 0:e.tokens)??[]),n.selectTransactionPaymentTokenByTransactionId=(0,r.createSelector)(a,e=>null==e?void 0:e.paymentToken),n.selectTransactionPaySourceAmountsByTransactionId=(0,r.createSelector)(a,e=>null==e?void 0:e.sourceAmounts),n.selectTransactionPayIsMaxAmountByTransactionId=(0,r.createSelector)(a,e=>(null==e?void 0:e.isMaxAmount)??!1)}}},{package:"$root$",file:"ui/selectors/transactionPayController.ts"}],[8613,{"../background-connection":8612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.submitDirectRevocation=n.fetchAndUpdateGatorPermissions=n.checkDelegationDisabled=n.addPendingRevocation=void 0;var r=e("../background-connection");n.fetchAndUpdateGatorPermissions=async e=>await(0,r.submitRequestToBackground)("fetchAndUpdateGatorPermissions",e?[e]:[]);n.addPendingRevocation=async({txId:e,permissionContext:t})=>{await(0,r.submitRequestToBackground)("addPendingRevocation",[{txId:e,permissionContext:t}])};n.submitDirectRevocation=async({permissionContext:e})=>{await(0,r.submitRequestToBackground)("submitDirectRevocation",[{permissionContext:e}])};n.checkDelegationDisabled=async(e,t,n)=>await(0,r.submitRequestToBackground)("checkDelegationDisabled",[e,t,n])}}},{package:"$root$",file:"ui/store/controller-actions/gator-permissions-controller.ts"}],[8614,{"../actions":8611,"../background-connection":8612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.multichainAssetsRatesStartPolling=async function(e){const t=await(0,a.submitRequestToBackground)("multichainAssetsRatesStartPolling",[{accountId:e}]);return await(0,r.addPollingTokenToAppState)(t),t},n.multichainAssetsRatesStopPollingByPollingToken=async function(e){await(0,a.submitRequestToBackground)("multichainAssetsRatesStopPollingByPollingToken",[e]),await(0,r.removePollingTokenFromAppState)(e)};var r=e("../actions"),a=e("../background-connection")}}},{package:"$root$",file:"ui/store/controller-actions/multichain-asset-rates-controller.ts"}],[8615,{"../background-connection":8612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAtomicBatchSupported=async function(...e){return await(0,r.submitRequestToBackground)("isAtomicBatchSupported",e)},n.startIncomingTransactionPolling=async function(){return await(0,r.submitRequestToBackground)("startIncomingTransactionPolling")},n.stopIncomingTransactionPolling=async function(){return await(0,r.submitRequestToBackground)("stopIncomingTransactionPolling")},n.updateAtomicBatchData=async function(e){return await(0,r.submitRequestToBackground)("updateAtomicBatchData",[e])},n.updateBatchTransactions=async function(...e){return await(0,r.submitRequestToBackground)("updateBatchTransactions",e)},n.updateSelectedGasFeeToken=async function(...e){return await(0,r.submitRequestToBackground)("updateSelectedGasFeeToken",e)};var r=e("../background-connection")}}},{package:"$root$",file:"ui/store/controller-actions/transaction-controller.ts"}],[8616,{"../background-connection":8612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setIsMaxAmount=async function(e,t){return await(0,r.submitRequestToBackground)("setTransactionPayIsMaxAmount",[e,t])},n.updateTransactionPaymentToken=async function({transactionId:e,tokenAddress:t,chainId:n}){return await(0,r.submitRequestToBackground)("updateTransactionPaymentToken",[{transactionId:e,tokenAddress:t,chainId:n}])};var r=e("../background-connection")}}},{package:"$root$",file:"ui/store/controller-actions/transaction-pay-controller.ts"}],[8617,{"../ducks":7446,"@reduxjs/toolkit":3627,"react-redux":5622,"remote-redux-devtools":4469},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=[];null;return(0,a.configureStore)({reducer:o.default,middleware:e=>e({serializableCheck:!1,immutableCheck:!1}),devTools:!1,enhancers:t,preloadedState:e})},n.useAppSelector=void 0;var r=e("react-redux"),a=e("@reduxjs/toolkit"),o=(s(e("remote-redux-devtools")),s(e("../ducks")));function s(e){return e&&e.__esModule?e:{default:e}}n.useAppSelector=r.useSelector}}},{package:"$root$",file:"ui/store/store.ts"}],[894,{"@ethereumjs/util":717,"@keystonehq/bc-ur-registry":916,buffer:4474,hdkey:4997,uuid:6134},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("@keystonehq/bc-ur-registry"),o=e("uuid"),s=(r=e("hdkey"))&&"object"==typeof r&&"default"in r?r.default:r,i=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new a.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new a.RegistryType("eth-signature",402),ETH_NFT_ITEM:new a.RegistryType("eth-nft-item",403),ETH_BATCH_SIGN_REQUEST:new a.RegistryType("eth-batch-sign-request",40404),ETH_BATCH_SIGNATURE:new a.RegistryType("eth-batch-signature",40405)},{decodeToDataItem:l,RegistryTypes:u}=a.extend;var d,p;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(p=n.DataType||(n.DataType={}))[p.transaction=1]="transaction",p[p.typedData=2]="typedData",p[p.personalMessage=3]="personalMessage",p[p.typedTransaction=4]="typedTransaction";class f extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new a.DataItem(this.requestId,u.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new a.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,r,s,i,c,l,u){const d=r.replace(/[m|M]\//,"").split("/"),p=new a.CryptoKeypath(d.map(e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new a.PathComponent({index:t,hardened:n})}),t.from(s,"hex"));return new f({requestId:i?t.from(o.parse(i)):undefined,signData:e,dataType:n,derivationPath:p,chainId:c,address:l?t.from(l.replace("0x",""),"hex"):undefined,origin:u||undefined})}}f.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],r=t[d.dataType],o=a.CryptoKeypath.fromDataItem(t[d.derivationPath]),s=t[d.chainId]?t[d.chainId]:undefined,i=t[d.address]?t[d.address]:undefined,c=t[d.requestId]?t[d.requestId].getData():undefined,l=t[d.origin]?t[d.origin]:undefined;return new f({requestId:c,signData:n,dataType:r,chainId:s,derivationPath:o,address:i,origin:l})},f.fromCBOR=e=>{const t=l(e);return f.fromDataItem(t)};const{RegistryTypes:m,decodeToDataItem:h}=a.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class y extends a.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new a.DataItem(this.requestId,m.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new a.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}y.fromDataItem=e=>{const t=e.getData(),n=t[g.signature],r=t[g.requestId]?t[g.requestId].getData():undefined;return new y(n,r,t[g.origin])},y.fromCBOR=e=>{const t=h(e);return y.fromDataItem(t)};const{decodeToDataItem:v}=a.extend;var b;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(b||(b={}));class w extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[b.chainId]=this.chainId,e[b.name]=this.name,e[b.contractAddress]=this.contractAddress,e[b.contractName]=this.contractName,e[b.mediaData]=this.mediaData,new a.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,r,a){return new w({chainId:e,contractAddress:t,contractName:n,mediaData:a,name:r})}}w.fromDataItem=e=>{const t=e.getData(),n=t[b.chainId],r=t[b.name],a=t[b.mediaData],o=t[b.contractAddress],s=t[b.contractName];return new w({chainId:n,name:r,contractAddress:o,contractName:s,mediaData:a})},w.fromCBOR=e=>{const t=v(e);return w.fromDataItem(t)};const{decodeToDataItem:C}=a.extend;var T;!function(e){e[e.requests=1]="requests"}(T||(T={}));class _ extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_BATCH_SIGN_REQUEST,this.getRequests=()=>this.requests,this.toDataItem=()=>{const e={};return this.requests&&(e[T.requests]=this.requests.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),new a.DataItem(e)},this.requests=e}}_.fromDataItem=e=>{const t=e.getData()[T.requests].map(e=>f.fromDataItem(e));return new _(t)},_.fromCBOR=e=>{const t=C(e);return _.fromDataItem(t)};const{decodeToDataItem:E}=a.extend;var k;!function(e){e[e.signatures=1]="signatures"}(k||(k={}));class S extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_BATCH_SIGNATURE,this.getSignatures=()=>this.signatures,this.toDataItem=()=>{const e={};return this.signatures&&(e[k.signatures]=this.signatures.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),new a.DataItem(e)},this.signatures=e}}S.fromDataItem=e=>{const t=e.getData()[k.signatures].map(e=>y.fromDataItem(e));return new S(t)},S.fromCBOR=e=>{const t=E(e);return S.fromDataItem(t)};const I=(e,n)=>{const r=s.fromExtendedKey(e).derive(n),a="0x"+t.from(i.publicToAddress(r.publicKey,!0)).toString("hex");return i.toChecksumAddress(a)};a.patchTags(Object.values(c).filter(e=>!!e.getTag()).map(e=>e.getTag())),Object.keys(a).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}})}),n.ETHBatchSignRequest=_,n.ETHBatchSignature=S,n.ETHNFTItem=w,n.ETHSignature=y,n.EthSignRequest=f,n.findHDPathFromAddress=(e,t,n,r)=>{for(let a=0;a<n;a++){const n=I(t,`M/0/${a}`);if(e.toLowerCase()==n.toLowerCase())return`${r}/0/${a}`}return null},n.generateAddressFromXpub=I}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[895,{"@ethereumjs/util":717,"@keystonehq/bc-ur-registry":916,buffer:4474,hdkey:4997,uuid:6134},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("@keystonehq/bc-ur-registry"),o=e("uuid"),s=(r=e("hdkey"))&&"object"==typeof r&&"default"in r?r.default:r,i=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new a.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new a.RegistryType("eth-signature",402),ETH_NFT_ITEM:new a.RegistryType("eth-nft-item",403),ETH_BATCH_SIGN_REQUEST:new a.RegistryType("eth-batch-sign-request",40404),ETH_BATCH_SIGNATURE:new a.RegistryType("eth-batch-signature",40405)},{decodeToDataItem:l,RegistryTypes:u}=a.extend;var d,p;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(p=n.DataType||(n.DataType={}))[p.transaction=1]="transaction",p[p.typedData=2]="typedData",p[p.personalMessage=3]="personalMessage",p[p.typedTransaction=4]="typedTransaction";class f extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new a.DataItem(this.requestId,u.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new a.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,r,s,i,c,l,u){const d=r.replace(/[m|M]\//,"").split("/"),p=new a.CryptoKeypath(d.map(e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new a.PathComponent({index:t,hardened:n})}),t.from(s,"hex"));return new f({requestId:i?t.from(o.parse(i)):void 0,signData:e,dataType:n,derivationPath:p,chainId:c,address:l?t.from(l.replace("0x",""),"hex"):void 0,origin:u||void 0})}}f.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],r=t[d.dataType],o=a.CryptoKeypath.fromDataItem(t[d.derivationPath]),s=t[d.chainId]?t[d.chainId]:void 0,i=t[d.address]?t[d.address]:void 0,c=t[d.requestId]?t[d.requestId].getData():void 0;return new f({requestId:c,signData:n,dataType:r,chainId:s,derivationPath:o,address:i,origin:t[d.origin]?t[d.origin]:void 0})},f.fromCBOR=e=>{const t=l(e);return f.fromDataItem(t)};const{RegistryTypes:m,decodeToDataItem:h}=a.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class y extends a.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new a.DataItem(this.requestId,m.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new a.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}y.fromDataItem=e=>{const t=e.getData(),n=t[g.signature],r=t[g.requestId]?t[g.requestId].getData():void 0;return new y(n,r,t[g.origin])},y.fromCBOR=e=>{const t=h(e);return y.fromDataItem(t)};const{decodeToDataItem:v}=a.extend;var b;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(b||(b={}));class w extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[b.chainId]=this.chainId,e[b.name]=this.name,e[b.contractAddress]=this.contractAddress,e[b.contractName]=this.contractName,e[b.mediaData]=this.mediaData,new a.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,r,a){return new w({chainId:e,contractAddress:t,contractName:n,mediaData:a,name:r})}}w.fromDataItem=e=>{const t=e.getData();return new w({chainId:t[b.chainId],name:t[b.name],contractAddress:t[b.contractAddress],contractName:t[b.contractName],mediaData:t[b.mediaData]})},w.fromCBOR=e=>{const t=v(e);return w.fromDataItem(t)};const{decodeToDataItem:C}=a.extend;var T;!function(e){e[e.requests=1]="requests"}(T||(T={}));class _ extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_BATCH_SIGN_REQUEST,this.getRequests=()=>this.requests,this.toDataItem=()=>{const e={};return this.requests&&(e[T.requests]=this.requests.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),new a.DataItem(e)},this.requests=e}}_.fromDataItem=e=>{const t=e.getData()[T.requests].map(e=>f.fromDataItem(e));return new _(t)},_.fromCBOR=e=>{const t=C(e);return _.fromDataItem(t)};const{decodeToDataItem:E}=a.extend;var k;!function(e){e[e.signatures=1]="signatures"}(k||(k={}));class S extends a.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_BATCH_SIGNATURE,this.getSignatures=()=>this.signatures,this.toDataItem=()=>{const e={};return this.signatures&&(e[k.signatures]=this.signatures.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),new a.DataItem(e)},this.signatures=e}}S.fromDataItem=e=>{const t=e.getData()[k.signatures].map(e=>y.fromDataItem(e));return new S(t)},S.fromCBOR=e=>{const t=E(e);return S.fromDataItem(t)};const I=(e,n)=>{const r=s.fromExtendedKey(e).derive(n),a="0x"+t.from(i.publicToAddress(r.publicKey,!0)).toString("hex");return i.toChecksumAddress(a)};a.patchTags(Object.values(c).filter(e=>!!e.getTag()).map(e=>e.getTag())),Object.keys(a).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}})}),n.ETHBatchSignRequest=_,n.ETHBatchSignature=S,n.ETHNFTItem=w,n.ETHSignature=y,n.EthSignRequest=f,n.findHDPathFromAddress=(e,t,n,r)=>{for(let a=0;a<n;a++){const n=I(t,"M/0/"+a);if(e.toLowerCase()==n.toLowerCase())return`${r}/0/${a}`}return null},n.generateAddressFromXpub=I}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[896,{"./bc-ur-registry-eth.cjs.development.js":894,"./bc-ur-registry-eth.cjs.production.min.js":895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[897,{"./RegistryItem":908,"./RegistryType":909,"./lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bytes=void 0;const r=e("./lib"),a=e("./RegistryItem"),o=e("./RegistryType");class s extends a.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>o.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new r.DataItem(this.bytes)}}n.Bytes=s,s.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new s(t)},s.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return s.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[898,{".":916,"./RegistryItem":908,"./RegistryType":909,"./lib":919,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoAccount=void 0;const r=e("."),a=e("./lib"),o=e("./RegistryItem"),s=e("./RegistryType");var i;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(i||(i={}));class c extends o.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[i.outputDescriptors]=this.outputDescriptors.map(e=>e.toDataItem())),new a.DataItem(e)}}}n.CryptoAccount=c,c.fromDataItem=e=>{const n=e.getData(),a=t.alloc(4),o=n[i.masterFingerprint];o&&a.writeUInt32BE(o,0);const s=n[i.outputDescriptors].map(e=>r.CryptoOutput.fromDataItem(e));return new c(a,s)},c.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[899,{"./RegistryItem":908,"./RegistryType":909,"./lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoCoinInfo=n.Network=n.Type=void 0;const r=e("./lib"),a=e("./RegistryItem"),o=e("./RegistryType");var s,i,c;!function(e){e.type="1",e.network="2"}(s||(s={})),function(e){e[e.bitcoin=0]="bitcoin"}(i=n.Type||(n.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(c=n.Network||(n.Network={}));class l extends a.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||i.bitcoin,this.getNetwork=()=>this.network||c.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[s.type]=this.type),this.network&&(e[s.network]=this.network),new r.DataItem(e)}}}n.CryptoCoinInfo=l,l.fromDataItem=e=>{const t=e.getData(),n=t[s.type],r=t[s.network];return new l(n,r)},l.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[900,{"./RegistryItem":908,"./RegistryType":909,"./lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoECKey=void 0;const r=e("./lib"),a=e("./RegistryItem"),o=e("./RegistryType");var s;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(s||(s={}));class i extends a.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[s.curve]=this.curve),this.privateKey!==undefined&&(e[s.private]=this.privateKey),e[s.data]=this.data,new r.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}n.CryptoECKey=i,i.fromDataItem=e=>{const t=e.getData(),n=t[s.curve],r=t[s.private],a=t[s.data];if(!a)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new i({data:a,curve:n,privateKey:r})},i.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return i.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[901,{"./CryptoCoinInfo":899,"./CryptoKeypath":902,"./RegistryItem":908,"./RegistryType":909,"./lib":919,bs58check:4478,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoHDKey=void 0;const r=e("bs58check"),a=e("./CryptoCoinInfo"),o=e("./CryptoKeypath"),s=e("./lib"),i=e("./RegistryItem"),c=e("./RegistryType");var l;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(l||(l={}));class u extends i.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,n,a;let o,s,i=0,c=t.alloc(4).fill(0);if(this.isMaster())o=t.from("0488ADE4","hex"),s=0,i=0;else{s=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(n=this.getOrigin())||void 0===n?void 0:n.getDepth());const r=null===(a=this.getOrigin())||void 0===a?void 0:a.getComponents(),l=r[r.length-1];l&&(i=l.isHardened()?l.getIndex()+2147483648:l.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),o=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const l=t.alloc(1);l.writeUInt8(s,0);const u=t.alloc(4);u.writeUInt32BE(i,0);const d=this.getChainCode(),p=this.getKey();return(0,r.encode)(t.concat([o,l,c,u,d,p]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,n,r,a,o,s;let i="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(i+=`${null===(r=null===(n=this.getOrigin())||void 0===n?void 0:n.getSourceFingerprint())||void 0===r?void 0:r.toString("hex")}/${null===(a=this.getOrigin())||void 0===a?void 0:a.getPath()}`),i+=this.getBip32Key(),this.getChildren()&&(null===(o=this.getChildren())||void 0===o?void 0:o.getPath())&&(i+=`/${null===(s=this.getChildren())||void 0===s?void 0:s.getPath()}`),i},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[l.is_master]=!0,e[l.key_data]=this.key,e[l.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[l.is_private]=this.privateKey),e[l.key_data]=this.key,this.chainCode&&(e[l.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[l.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[l.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[l.children]=t}this.parentFingerprint&&(e[l.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[l.name]=this.name),this.note!==undefined&&(e[l.note]=this.note)}return new s.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}n.CryptoHDKey=u,u.fromDataItem=e=>{const n=e.getData(),r=!!n[l.is_master],s=n[l.is_private],i=n[l.key_data],c=n[l.chain_code],d=n[l.use_info]?a.CryptoCoinInfo.fromDataItem(n[l.use_info]):undefined,p=n[l.origin]?o.CryptoKeypath.fromDataItem(n[l.origin]):undefined,f=n[l.children]?o.CryptoKeypath.fromDataItem(n[l.children]):undefined,m=n[l.parent_fingerprint];let h=undefined;m&&(h=t.alloc(4),h.writeUInt32BE(m,0));const g=n[l.name],y=n[l.note];return new u({isMaster:r,isPrivateKey:s,key:i,chainCode:c,useInfo:d,origin:p,children:f,parentFingerprint:h,name:g,note:y})},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[902,{"./PathComponent":907,"./RegistryItem":908,"./RegistryType":909,"./lib":919,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoKeypath=void 0;const r=e("./lib"),a=e("./PathComponent"),o=e("./RegistryItem"),s=e("./RegistryType");var i;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(i||(i={}));class c extends o.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map(e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach(e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())}),e[i.components]=t,this.sourceFingerprint&&(e[i.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[i.depth]=this.depth),new r.DataItem(e)}}}n.CryptoKeypath=c,c.fromDataItem=e=>{const n=e.getData(),r=[],o=n[i.components];if(o)for(let e=0;e<o.length;e+=2){const t=o[e+1],n=o[e];"number"==typeof n?r.push(new a.PathComponent({index:n,hardened:t})):r.push(new a.PathComponent({hardened:t}))}const s=n[i.source_fingerprint];let l;s&&(l=t.alloc(4),l.writeUInt32BE(s,0));const u=n[i.depth];return new c(r,l,u)},c.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[903,{"./CryptoECKey":900,"./CryptoHDKey":901,"./MultiKey":906,"./RegistryItem":908,"./RegistryType":909,"./ScriptExpression":910,"./lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoOutput=void 0;const r=e("./CryptoECKey"),a=e("./CryptoHDKey"),o=e("./lib"),s=e("./MultiKey"),i=e("./RegistryItem"),c=e("./RegistryType"),l=e("./ScriptExpression");class u extends i.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof a.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof r.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof s.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof r.CryptoECKey||this.cryptoKey instanceof a.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach(t=>{const n=t.getTag();e.getTag()===undefined?e.setTag(n):e=new o.DataItem(e,n)}),e}}}n.CryptoOutput=u,u.fromDataItem=e=>{const t=[];let n=e;for(;;){let e=n.getTag();const r=l.ScriptExpression.fromTag(e);if(!r)break;if(t.push(r),!(n.getData()instanceof o.DataItem))break;n=n.getData(),e=n.getTag()}const i=t.length;if(i>0&&(t[i-1].getExpression()===l.ScriptExpressions.MULTISIG.getExpression()||t[i-1].getExpression()===l.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=s.MultiKey.fromDataItem(n);return new u(t,e)}if(n.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=a.CryptoHDKey.fromDataItem(n);return new u(t,e)}{const e=r.CryptoECKey.fromDataItem(n);return new u(t,e)}},u.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[904,{"./RegistryItem":908,"./RegistryType":909,"./lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoPSBT=void 0;const r=e("./lib"),a=e("./RegistryItem"),o=e("./RegistryType");class s extends a.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new r.DataItem(this.psbt)}}n.CryptoPSBT=s,s.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new s(t)},s.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return s.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[905,{"..":916,"../RegistryType":909,"../errors":911,"@ngraveio/bc-ur":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URRegistryDecoder=void 0;const r=e("@ngraveio/bc-ur"),a=e(".."),o=e("../RegistryType"),s=e("../errors");class i extends r.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case o.RegistryTypes.BYTES.getType():return a.Bytes.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_HDKEY.getType():return a.CryptoHDKey.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_KEYPATH.getType():return a.CryptoKeypath.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_COIN_INFO.getType():return a.CryptoCoinInfo.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_ECKEY.getType():return a.CryptoECKey.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_OUTPUT.getType():return a.CryptoOutput.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_PSBT.getType():return a.CryptoPSBT.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_ACCOUNT.getType():return a.CryptoAccount.fromCBOR(e.cbor);default:throw new s.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}n.URRegistryDecoder=i}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[906,{"./CryptoECKey":900,"./CryptoHDKey":901,"./RegistryItem":908,"./RegistryType":909,"./lib/DataItem":917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultiKey=void 0;const r=e("./CryptoECKey"),a=e("./CryptoHDKey"),o=e("./lib/DataItem"),s=e("./RegistryItem"),i=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class l extends s.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t});return e[c.keys]=t,new o.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(e=>e.getOutputDescriptorContent()).join(",")].join(",")}}n.MultiKey=l,l.fromDataItem=e=>{const t=e.getData(),n=t[c.threshold],o=t[c.keys],s=[];return o.forEach(e=>{e.getTag()===i.RegistryTypes.CRYPTO_HDKEY.getTag()?s.push(a.CryptoHDKey.fromDataItem(e)):e.getTag()===i.RegistryTypes.CRYPTO_ECKEY.getTag()&&s.push(r.CryptoECKey.fromDataItem(e))}),new l(n,s)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[907,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PathComponent=void 0;class r{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&0!==(this.index&r.HARDENED_BIT))throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}n.PathComponent=r,r.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[908,{"./lib":919,"@ngraveio/bc-ur":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryItem=void 0;const r=e("@ngraveio/bc-ur"),a=e("./lib");n.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,a.encodeDataItem)(this.toDataItem())},this.toUR=()=>new r.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{const a=this.toUR();return new r.UREncoder(a,e,t,n)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[909,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryTypes=n.RegistryType=void 0;class r{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}n.RegistryType=r,n.RegistryTypes={UUID:new r("uuid",37),BYTES:new r("bytes",undefined),CRYPTO_HDKEY:new r("crypto-hdkey",303),CRYPTO_KEYPATH:new r("crypto-keypath",304),CRYPTO_COIN_INFO:new r("crypto-coin-info",305),CRYPTO_ECKEY:new r("crypto-eckey",306),CRYPTO_OUTPUT:new r("crypto-output",308),CRYPTO_PSBT:new r("crypto-psbt",310),CRYPTO_ACCOUNT:new r("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new r("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new r("qr-hardware-call",1201),KEY_DERIVATION_CALL:new r("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new r("key-derivation-schema",1302)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[910,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptExpressions=n.ScriptExpression=void 0;class r{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}n.ScriptExpression=r,r.fromTag=e=>Object.values(n.ScriptExpressions).find(t=>t.getTag()===e),n.ScriptExpressions={SCRIPT_HASH:new r(400,"sh"),WITNESS_SCRIPT_HASH:new r(401,"wsh"),PUBLIC_KEY:new r(402,"pk"),PUBLIC_KEY_HASH:new r(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new r(404,"wpkh"),COMBO:new r(405,"combo"),MULTISIG:new r(406,"multi"),SORTED_MULTISIG:new r(407,"sortedmulti"),ADDRESS:new r(307,"addr"),RAW_SCRIPT:new r(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[911,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UnknownURTypeError=void 0;class r extends Error{constructor(e){super(e)}}n.UnknownURTypeError=r}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[912,{"../CryptoHDKey":901,"../RegistryItem":908,"../RegistryType":909,"../lib":919,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoMultiAccounts=void 0;const r=e("../RegistryType"),a=e("../CryptoHDKey"),o=e("../RegistryItem"),s=e("../lib");var i;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"}(i||(i={}));class c extends o.RegistryItem{constructor(e,t,n,a,o){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.deviceId=a,this.version=o,this.getRegistryType=()=>r.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[i.keys]=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),this.device&&(e[i.device]=this.device),this.deviceId&&(e[i.deviceId]=this.deviceId),this.version&&(e[i.version]=this.version),new s.DataItem(e)}}}n.CryptoMultiAccounts=c,c.fromDataItem=e=>{const n=e.getData(),r=t.alloc(4),o=n[i.masterFingerprint];o&&r.writeUInt32BE(o,0);const s=n[i.keys].map(e=>a.CryptoHDKey.fromDataItem(e)),l=n[i.device],u=n[i.deviceId],d=n[i.version];return new c(r,s,l,u,d)},c.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[913,{"../CryptoKeypath":902,"../RegistryItem":908,"../RegistryType":909,"../lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyDerivationSchema=n.DerivationAlgorithm=n.Curve=void 0;const r=e("../RegistryType"),a=e("../RegistryItem"),o=e("../lib"),s=e("../CryptoKeypath");var i,c,l;!function(e){e[e.keyPath=1]="keyPath",e[e.curve=2]="curve",e[e.algo=3]="algo",e[e.chainType=4]="chainType"}(i||(i={})),function(e){e[e.secp256k1=0]="secp256k1",e[e.ed25519=1]="ed25519"}(c=n.Curve||(n.Curve={})),function(e){e[e.slip10=0]="slip10",e[e.bip32ed25519=1]="bip32ed25519"}(l=n.DerivationAlgorithm||(n.DerivationAlgorithm={}));class u extends a.RegistryItem{constructor(e,t=c.secp256k1,n=l.slip10,a){super(),this.keypath=e,this.curve=t,this.algo=n,this.chainType=a,this.getRegistryType=()=>r.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getChainType=()=>this.chainType,this.toDataItem=()=>{const e={},t=this.getKeypath().toDataItem();return t.setTag(this.getKeypath().getRegistryType().getTag()),e[i.keyPath]=t,e[i.curve]=this.curve,e[i.algo]=this.algo,this.chainType&&(e[i.chainType]=this.chainType),new o.DataItem(e)}}}n.KeyDerivationSchema=u,u.fromDataItem=e=>{const t=e.getData(),n=s.CryptoKeypath.fromDataItem(t[i.keyPath]),r=t[i.curve],a=t[i.algo],o=t[i.chainType];return new u(n,r,a,o)},u.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js"}],[914,{"../RegistryItem":908,"../RegistryType":909,"../lib":919,"./DerivationSchema":913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyDerivation=void 0;const r=e("../RegistryType"),a=e("../RegistryItem"),o=e("../lib"),s=e("./DerivationSchema");var i;!function(e){e[e.schemas=1]="schemas"}(i||(i={}));class c extends a.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>r.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const e={};return e[i.schemas]=this.schemas.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}),new o.DataItem(e)}}}n.KeyDerivation=c,c.fromDataItem=e=>{const t=e.getData()[i.schemas].map(e=>s.KeyDerivationSchema.fromDataItem(e));return new c(t)},c.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js"}],[915,{"../RegistryItem":908,"../RegistryType":909,"../lib":919,"./KeyDerivation":914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QRHardwareCall=n.QRHardwareCallVersion=n.QRHardwareCallType=void 0;const r=e("../RegistryType"),a=e("../RegistryItem"),o=e("../lib"),s=e("./KeyDerivation");var i,c;!function(e){e[e.type=1]="type",e[e.params=2]="params",e[e.origin=3]="origin",e[e.version=4]="version"}(i||(i={})),function(e){e[e.KeyDerivation=0]="KeyDerivation"}(c=n.QRHardwareCallType||(n.QRHardwareCallType={})),function(e){e[e.V0=0]="V0",e[e.V1=1]="V1"}(n.QRHardwareCallVersion||(n.QRHardwareCallVersion={}));class l extends a.RegistryItem{constructor(e,t,n,a){super(),this.type=e,this.params=t,this.origin=n,this.version=a,this.getRegistryType=()=>r.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};e[i.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),e[i.params]=t,this.origin&&(e[i.origin]=this.origin),this.version&&(e[i.version]=this.version),new o.DataItem(e)}}}n.QRHardwareCall=l,l.fromDataItem=e=>{const t=e.getData(),n=t[i.type]||c.KeyDerivation;let r;if(n===c.KeyDerivation)r=s.KeyDerivation.fromDataItem(t[i.params]);const a=t[i.origin],o=t[i.version];return new l(n,r,a,o)},l.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js"}],[916,{"./Bytes":897,"./CryptoAccount":898,"./CryptoCoinInfo":899,"./CryptoECKey":900,"./CryptoHDKey":901,"./CryptoKeypath":902,"./CryptoOutput":903,"./CryptoPSBT":904,"./Decoder":905,"./MultiKey":906,"./PathComponent":907,"./RegistryItem":908,"./RegistryType":909,"./ScriptExpression":910,"./errors":911,"./extended/CryptoMultiAccounts":912,"./extended/DerivationSchema":913,"./extended/KeyDerivation":914,"./extended/QRHardwareCall":915,"./lib":919,"./patchCBOR":920,"./types":921,"./utils":922,"buffer/":4482,tslib:6089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.extend=n.PathComponent=n.ScriptExpressions=n.MultiKey=n.CryptoPSBT=n.CryptoOutput=n.CryptoECKey=n.CryptoCoinInfoNetwork=n.CryptoCoinInfoType=n.CryptoCoinInfo=n.CryptoKeypath=n.CryptoMultiAccounts=n.CryptoHDKey=n.CryptoAccount=n.Bytes=n.URRegistryDecoder=n.DataItem=void 0;const r=e("tslib");e("./patchCBOR");const a=e("buffer/");Object.defineProperty(n,"Buffer",{enumerable:!0,get:function(){return a.Buffer}});const o=e("./CryptoHDKey");Object.defineProperty(n,"CryptoHDKey",{enumerable:!0,get:function(){return o.CryptoHDKey}});const s=e("./CryptoKeypath");Object.defineProperty(n,"CryptoKeypath",{enumerable:!0,get:function(){return s.CryptoKeypath}});const i=e("./CryptoCoinInfo");Object.defineProperty(n,"CryptoCoinInfo",{enumerable:!0,get:function(){return i.CryptoCoinInfo}}),Object.defineProperty(n,"CryptoCoinInfoType",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(n,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return i.Network}});const c=e("./CryptoECKey");Object.defineProperty(n,"CryptoECKey",{enumerable:!0,get:function(){return c.CryptoECKey}});const l=e("./Bytes");Object.defineProperty(n,"Bytes",{enumerable:!0,get:function(){return l.Bytes}});const u=e("./CryptoOutput");Object.defineProperty(n,"CryptoOutput",{enumerable:!0,get:function(){return u.CryptoOutput}});const d=e("./CryptoPSBT");Object.defineProperty(n,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const p=e("./CryptoAccount");Object.defineProperty(n,"CryptoAccount",{enumerable:!0,get:function(){return p.CryptoAccount}});const f=e("./Decoder");Object.defineProperty(n,"URRegistryDecoder",{enumerable:!0,get:function(){return f.URRegistryDecoder}});const m=e("./MultiKey");Object.defineProperty(n,"MultiKey",{enumerable:!0,get:function(){return m.MultiKey}});const h=e("./ScriptExpression");Object.defineProperty(n,"ScriptExpressions",{enumerable:!0,get:function(){return h.ScriptExpressions}});const g=e("./PathComponent");Object.defineProperty(n,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const y=e("./RegistryItem"),v=e("./RegistryType"),b=e("./lib");var w=e("./lib");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return w.DataItem}});const C=e("./utils"),T=e("./extended/CryptoMultiAccounts");Object.defineProperty(n,"CryptoMultiAccounts",{enumerable:!0,get:function(){return T.CryptoMultiAccounts}});const _={URRegistryDecoder:f.URRegistryDecoder,Bytes:l.Bytes,CryptoAccount:p.CryptoAccount,CryptoHDKey:o.CryptoHDKey,CryptoMultiAccounts:T.CryptoMultiAccounts,CryptoKeypath:s.CryptoKeypath,CryptoCoinInfo:i.CryptoCoinInfo,CryptoCoinInfoType:i.Type,CryptoCoinInfoNetwork:i.Network,CryptoECKey:c.CryptoECKey,CryptoOutput:u.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:m.MultiKey,ScriptExpressions:h.ScriptExpressions,PathComponent:g.PathComponent},E={addReader:b.addReader,addSemanticDecode:b.addSemanticDecode,addSemanticEncode:b.addSemanticEncode,addWriter:b.addWriter,patchTags:C.patchTags},k={RegistryTypes:v.RegistryTypes,RegistryItem:y.RegistryItem,RegistryType:v.RegistryType,decodeToDataItem:b.decodeToDataItem,encodeDataItem:b.encodeDataItem,cbor:E};n.extend=k,(0,r.__exportStar)(e("./errors"),n),(0,r.__exportStar)(e("./Decoder"),n),(0,r.__exportStar)(e("./lib"),n),(0,r.__exportStar)(e("./CryptoAccount"),n),(0,r.__exportStar)(e("./CryptoPSBT"),n),(0,r.__exportStar)(e("./CryptoHDKey"),n),(0,r.__exportStar)(e("./extended/CryptoMultiAccounts"),n),(0,r.__exportStar)(e("./extended/QRHardwareCall"),n),(0,r.__exportStar)(e("./extended/KeyDerivation"),n),(0,r.__exportStar)(e("./extended/DerivationSchema"),n),(0,r.__exportStar)(e("./CryptoOutput"),n),(0,r.__exportStar)(e("./CryptoCoinInfo"),n),(0,r.__exportStar)(e("./CryptoECKey"),n),(0,r.__exportStar)(e("./MultiKey"),n),(0,r.__exportStar)(e("./CryptoKeypath"),n),(0,r.__exportStar)(e("./patchCBOR"),n),(0,r.__exportStar)(e("./PathComponent"),n),(0,r.__exportStar)(e("./RegistryItem"),n),(0,r.__exportStar)(e("./RegistryType"),n),(0,r.__exportStar)(e("./types"),n),(0,r.__exportStar)(e("./utils"),n),n.default=_}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[917,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=void 0;n.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[918,{"./DataItem":917,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){!function(e,n){"function"==typeof define&&define.amd?define([],n):void 0!==t&&t.exports?t.exports=n():e.CBOR=n()}(this,function(){const{DataItem:t}=e("./DataItem");var r=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",n=0;n<this.$hex.length;n+=2)t+="%"+this.$hex.substring(n,n+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],n=0;n<this.$hex.length;n+=2)t.push(parseInt(this.$hex.substring(n,n+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var n="",r=0;r<t.length;r++){var a=t.charCodeAt(r).toString(16);1===a.length&&(a="0"+a),n+=a}return new e(n)},e.fromUtf8String=function(t){for(var n=encodeURIComponent(t),r="",a=0;a<n.length;a++)if("%"===n.charAt(a))r+=n.substring(a+1,a+3),a+=2;else{var o=n.charCodeAt(a).toString(16);o.length<2&&(o="0"+o),r+=o}return new e(r)};var r=[],a={},o=function(e){return function(){throw new Error(e+" not implemented")}};function s(){}function i(){}function c(e,t){var n=e.value;return n<24?n:24==n?t.readByte():25==n?t.readUint16():26==n?t.readUint32():27==n?t.readUint64():31==n?null:void o("Additional info: "+n)()}function l(e,t,n){var r=e<<5;t<24?n.writeByte(r|t):t<256?(n.writeByte(24|r),n.writeByte(t)):t<65536?(n.writeByte(25|r),n.writeUint16(t)):t<4294967296?(n.writeByte(26|r),n.writeUint32(t)):(n.writeByte(27|r),n.writeUint64(t))}s.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,n=1023&e,r=32768&e;if(31===t)return 0===n?r?-Infinity:Infinity:NaN;var a=t?Math.pow(2,t-25)*(1024+n):Math.pow(2,-24)*n;return r?-a:a},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,n=8388607&e,r=2147483648&e;if(255===t)return 0===n?r?-Infinity:Infinity:NaN;var a=t?Math.pow(2,t-23-127)*(8388608+n):Math.pow(2,-149)*n;return r?-a:a},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,n=4294967296*(1048575&e)+this.readUint32(),r=2147483648&e;if(2047===t)return 0===n?r?-Infinity:Infinity:NaN;var a=t?Math.pow(2,t-52-1023)*(4503599627370496+n):Math.pow(2,-1074)*n;return r?-a:a},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},i.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:o("writeString"),canWriteBinary:function(e){return!1},writeBinary:o("writeChunk")};var u=new Error;function d(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return c(t,e);case 1:return-1-c(t,e);case 2:return e.readChunk(c(t,e));case 3:return e.readChunk(c(t,e)).toString("utf-8");case 4:case 5:var n=c(t,e),r=[];if(null!==n){5===t.type&&(n*=2);for(var o=0;o<n;o++)r[o]=d(e)}else for(var s;(s=d(e))!==u;)r.push(s);if(5===t.type){var i={};for(o=0;o<r.length;o+=2)i[r[o]]=r[o+1];return i}return r;case 6:var l=c(t,e),p=a[l];r=d(e);return p?p(r):r;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(c(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return u;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function p(e,t){for(var n=0;n<r.length;n++){var a=r[n].fn(e);if(a!==undefined)return l(6,r[n].tag,t),p(a,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)l(7,20,t);else if(!0===e)l(7,21,t);else if(null===e)l(7,22,t);else if(e===undefined)l(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?l(1,-1-e,t):l(0,e,t):(!function(e,t,n){n.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,function(e){l(3,e,t)});else if(t.canWriteBinary(e))t.writeBinary(e,function(e){l(2,e,t)});else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(h.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){l(4,e.length,t);for(n=0;n<e.length;n++)p(e[n],t)}else{var o=Object.keys(e);l(5,o.length,t);for(n=0;n<o.length;n++){const r=parseInt(o[n]);isNaN(r)?(p(o[n],t),p(e[o[n]],t)):(p(r,t),p(e[o[n]],t))}}}}var f=[],m=[],h={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?m.push(function(n){if(e===n)return t(n)}):m.push(e)},addReader:function(e,t){"string"==typeof e?f.push(function(n,r){if(e===r)return t(n,r)}):f.push(e)},encode:function(e,t){for(var n=0;n<m.length;n++){var r=(0,m[n])(t);if(r)return p(e,r),r.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var n=0;n<m.length;n++){var r=(0,m[n])(t);if(r)return e.getTag()!==undefined?(p(e,r),r.result()):(p(e.getData(),r),r.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var n=0;n<f.length;n++){var r=(0,f[n])(e,t);if(r)return d(r)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,n){for(var r=0;r<f.length;r++){var a=(0,f[r])(e,n);if(a){const e=d(a);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+n)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return r.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return a[e]=t,this}};function g(e){this.buffer=e,this.pos=0}function y(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function v(e){this.hex=e,this.pos=0}function b(e){this.$hex="",this.finalFormat=e||"hex"}return g.prototype=Object.create(s.prototype),g.prototype.peekByte=function(){return this.buffer[this.pos]},g.prototype.readByte=function(){return this.buffer[this.pos++]},g.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},g.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},g.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},g.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},g.prototype.readChunk=function(e){var t=n.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},y.prototype=Object.create(i.prototype),y.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},y.prototype.writeFloat32=function(e){var t=n.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},y.prototype.writeFloat64=function(e){var t=n.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},y.prototype.writeString=function(e,t){var r=n.from(e,"utf-8");t(r.length),this.writeBuffer(r)},y.prototype.canWriteBinary=function(e){return e instanceof n},y.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},y.prototype.writeBuffer=function(e){if(!(e instanceof n))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},y.prototype.result=function(){for(var e=n.alloc(this.byteLength),t=0,r=0;r<this.completeBuffers.length;r++){var a=this.completeBuffers[r];a.copy(e,t,0,a.length),t+=a.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof n&&(h.addReader(function(e,t){return n.isBuffer(e)?new g(e):"hex"===t||"base64"===t?new g(n.from(e,t)):void 0}),h.addWriter(function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new y(e):void 0:new y})),v.prototype=Object.create(s.prototype),v.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},v.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},v.prototype.readChunk=function(t){var r=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof n?n.from(r,"hex"):new e(r)},b.prototype=Object.create(i.prototype),b.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},b.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof n&&t instanceof n},b.prototype.writeBinary=function(t,r){if(t instanceof e)r(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof n&&t instanceof n))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");r(t.length),this.$hex+=t.toString("hex")}},b.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof n?n.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},b.prototype.writeString=function(t,n){var r=e.fromUtf8String(t);n(r.length()),this.$hex+=r.$hex},h.addReader(function(t,n){return t instanceof e||t.$hex?new v(t.$hex):"hex"===n?new v(t):void 0}),h.addWriter(function(e){if("hex"===e)return new b}),h}();return r.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),r})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[919,{"./DataItem":917,"./cbor-sync":918},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=n.addWriter=n.addReader=n.addSemanticEncode=n.addSemanticDecode=n.decodeToDataItem=n.encodeDataItem=void 0;var r=e("./cbor-sync");Object.defineProperty(n,"encodeDataItem",{enumerable:!0,get:function(){return r.encodeDataItem}}),Object.defineProperty(n,"decodeToDataItem",{enumerable:!0,get:function(){return r.decodeToDataItem}}),Object.defineProperty(n,"addSemanticDecode",{enumerable:!0,get:function(){return r.addSemanticDecode}}),Object.defineProperty(n,"addSemanticEncode",{enumerable:!0,get:function(){return r.addSemanticEncode}}),Object.defineProperty(n,"addReader",{enumerable:!0,get:function(){return r.addReader}}),Object.defineProperty(n,"addWriter",{enumerable:!0,get:function(){return r.addWriter}});var a=e("./DataItem");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return a.DataItem}})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[920,{"./RegistryType":909,"./ScriptExpression":910,"./utils":922},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./utils"),a=e("./RegistryType"),o=e("./ScriptExpression"),s=Object.values(a.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),i=Object.values(o.ScriptExpressions).map(e=>e.getTag());(0,r.patchTags)(s.concat(i))}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[921,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[922,{"./lib":919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.patchTags=void 0;const r=e("./lib"),a=[];n.patchTags=e=>{e.forEach(e=>{a.find(t=>t===e)||((0,r.addSemanticEncode)(e,t=>{if(t instanceof r.DataItem&&t.getTag()===e)return t.getData()}),(0,r.addSemanticDecode)(e,t=>new r.DataItem(t,e)),a.push(e))})}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[923,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self)["@kurkle/color"]=r()}(this,function(){function e(e){return e+.5|0}const t=(e,t,n)=>Math.max(Math.min(e,n),t);function n(n){return t(e(2.55*n),0,255)}function r(n){return t(e(255*n),0,255)}function a(n){return t(e(n/2.55)/100,0,1)}function o(n){return t(e(100*n),0,100)}const s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},i=[..."0123456789ABCDEF"],c=e=>i[15&e],l=e=>i[(240&e)>>4]+i[15&e],u=e=>(240&e)>>4==(15&e);function d(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*s[e[1]],g:255&17*s[e[2]],b:255&17*s[e[3]],a:5===n?17*s[e[4]]:255}:7!==n&&9!==n||(t={r:s[e[1]]<<4|s[e[2]],g:s[e[3]]<<4|s[e[4]],b:s[e[5]]<<4|s[e[6]],a:9===n?s[e[7]]<<4|s[e[8]]:255})),t}function p(e){var t=(e=>u(e.r)&&u(e.g)&&u(e.b)&&u(e.a))(e)?c:l;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):undefined}const f=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function m(e,t,n){const r=t*Math.min(n,1-n),a=(t,a=(t+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function h(e,t,n){const r=(r,a=(r+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function g(e,t,n){const r=m(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)r[a]*=1-t-n,r[a]+=t;return r}function y(e){const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),o=Math.min(t,n,r),s=(a+o)/2;let i,c,l;return a!==o&&(l=a-o,c=s>.5?l/(2-a-o):l/(a+o),i=function(e,t,n,r,a){return e===a?(t-n)/r+(t<n?6:0):t===a?(n-e)/r+2:(e-t)/r+4}(t,n,r,l,a),i=60*i+.5),[0|i,c||0,s]}function v(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(r)}function b(e,t,n){return v(m,e,t,n)}function w(e,t,n){return v(g,e,t,n)}function C(e,t,n){return v(h,e,t,n)}function T(e){return(e%360+360)%360}function _(e){const t=f.exec(e);let a,o=255;if(!t)return;t[5]!==a&&(o=t[6]?n(+t[5]):r(+t[5]));const s=T(+t[2]),i=+t[3]/100,c=+t[4]/100;return a="hwb"===t[1]?w(s,i,c):"hsv"===t[1]?C(s,i,c):b(s,i,c),{r:a[0],g:a[1],b:a[2],a:o}}function E(e,t){var n=y(e);n[0]=T(n[0]+t),n=b(n),e.r=n[0],e.g=n[1],e.b=n[2]}function k(e){if(!e)return;const t=y(e),n=t[0],r=o(t[1]),s=o(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${a(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const S={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},I={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let x;function O(e){x||(x=function(){const e={},t=Object.keys(I),n=Object.keys(S);let r,a,o,s,i;for(r=0;r<t.length;r++){for(s=i=t[r],a=0;a<n.length;a++)o=n[a],i=i.replace(o,S[o]);o=parseInt(I[s],16),e[i]=[o>>16&255,o>>8&255,255&o]}return e}(),x.transparent=[0,0,0,0]);const t=x[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const R=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function M(e){const r=R.exec(e);let a,o,s,i=255;if(r){if(r[7]!==a){const e=+r[7];i=r[8]?n(e):t(255*e,0,255)}return a=+r[1],o=+r[3],s=+r[5],a=255&(r[2]?n(a):t(a,0,255)),o=255&(r[4]?n(o):t(o,0,255)),s=255&(r[6]?n(s):t(s,0,255)),{r:a,g:o,b:s,a:i}}}function D(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${a(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const P=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,A=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function B(e,t,n){if(e){let r=y(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=b(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function N(e,t){return e?Object.assign(t||{},e):e}function F(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=r(e[3]))):(t=N(e,{r:0,g:0,b:0,a:1})).a=r(t.a),t}class j{constructor(e){if(e instanceof j)return e;const t=typeof e;let n;var r;"object"===t?n=F(e):"string"===t&&(n=d(e)||O(e)||("r"===(r=e).charAt(0)?M(r):_(r))),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=N(this._rgb);return e&&(e.a=a(e.a)),e}set rgb(e){this._rgb=F(e)}rgbString(){return this._valid?D(this._rgb):undefined}hexString(){return this._valid?p(this._rgb):undefined}hslString(){return this._valid?k(this._rgb):undefined}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let a;const o=t===a?.5:t,s=2*o-1,i=n.a-r.a,c=((s*i===-1?s:(s+i)/(1+s*i))+1)/2;a=1-c,n.r=255&c*n.r+a*r.r+.5,n.g=255&c*n.g+a*r.g+.5,n.b=255&c*n.b+a*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const o=A(a(e.r)),s=A(a(e.g)),i=A(a(e.b));return{r:r(P(o+n*(A(a(t.r))-o))),g:r(P(s+n*(A(a(t.g))-s))),b:r(P(i+n*(A(a(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new j(this.rgb)}alpha(e){return this._rgb.a=r(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const t=this._rgb,n=e(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=n,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return B(this._rgb,2,e),this}darken(e){return B(this._rgb,2,-e),this}saturate(e){return B(this._rgb,1,e),this}desaturate(e){return B(this._rgb,1,-e),this}rotate(e){return E(this._rgb,e),this}}function U(e){return new j(e)}var L=Object.freeze({__proto__:null,Color:j,default:U,round:e,lim:t,p2b:n,b2p:function(n){return t(e(n/2.55),0,100)},n2b:r,b2n:a,n2p:o,hexParse:d,hexString:p,rgb2hsl:y,hsl2rgb:b,hwb2rgb:w,hsv2rgb:C,hueParse:_,rotate:E,hslString:k,nameParse:O,rgbParse:M,rgbString:D});return Object.assign(U,L)})}}},{package:"chart.js>@kurkle/color",file:"node_modules/@kurkle/color/dist/color.cjs"}],[924,{react:5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{LavaDome:()=>me,toLavaDomeToken:()=>fe});const a=e("react");var o=t.n(a);const{Object:s,Array:i,Function:c,Math:l,parseInt:u,WeakMap:d,Error:p,JSON:f,navigation:m}=globalThis,{defineProperties:h,assign:g,getOwnPropertyDescriptor:y,entries:v,create:b,hasOwn:w}=s,{from:C}=i,{random:T}=l,{stringify:_}=f,E=(e,t,n)=>e&&c.prototype.call.bind(y(e,t)[n]),k=E(globalThis?.Node?.prototype,"ownerDocument","get"),S=E(globalThis?.EventTarget?.prototype,"addEventListener","value"),I=E(globalThis?.DocumentFragment?.prototype,"replaceChildren","value"),x=E(globalThis?.Element?.prototype,"attachShadow","value"),O=E(globalThis?.Document?.prototype,"createElement","value"),R=E(globalThis?.Node?.prototype,"appendChild","value"),M=E(globalThis?.Node?.prototype,"textContent","set"),D=E(globalThis?.Element?.prototype,"setAttribute","value"),P=E(globalThis?.String?.prototype,"toUpperCase","value"),A=E(globalThis?.String?.prototype,"includes","value"),B=E(globalThis?.Array?.prototype,"map","value"),N=E(globalThis?.Array?.prototype,"join","value"),F=E(globalThis?.Array?.prototype,"keys","value"),j=E(globalThis?.Array?.prototype,"at","value"),U=E(globalThis?.WeakMap?.prototype,"get","value"),L=E(globalThis?.WeakMap?.prototype,"set","value"),q=E(globalThis?.Number?.prototype,"toFixed","value"),W=E(globalThis?.NavigateEvent?.prototype,"destination","get"),$=E(globalThis?.NavigationDestination?.prototype,"url","get"),K=E(globalThis?.Event?.prototype,"preventDefault","value"),H=E(globalThis?.Event?.prototype,"stopPropagation","value"),G={isInnerInstance:Symbol("isInnerInstance"),unsafeOpenModeShadow:"unsafeOpenModeShadow"},Y="abcdefghijklmnopqrstuvwxyz",V="0123456789",Z="!@#$%^&*()?.;:\"'[]{}+=-_/",z={letters:Y,digits:V,symbols:Z,alphanumeric:Y+V,all:Y+P(Y)+V+Z},{letters:Q,alphanumeric:X,all:J}=z,ee=(e,t)=>e[u(q(T()*t))],te=e=>ee(Q,26)+N(B(C(F(i(e))),()=>ee(X,36)),"");function ne(e,t,n=""){return e=N(B(v(e),([e,t])=>`${e}: ${t} !important`),"; "),function(){const r=O(document,t());return D(r,"style",e),M(r,n),r}}const re=e=>()=>e(),ae=re(ne({"font-family":te(20),"-webkit-user-modify":"unset","-webkit-user-select":"none","user-select":"none"},()=>te(7))),oe=re(ne({top:"-10px",right:"-10px",position:"fixed","font-size":"1px"},()=>"span",J)),se=re(ne({display:"none"},()=>"iframe")),ie=new d;function ce(e,t){t=function(e={}){const{unsafeOpenModeShadow:t,isInnerInstance:n}=G,r=(e=>function(t,n,r){const a=e[t];return w(e,t)?typeof a!==n?r:a:r})(g(b(null),e)),a=b(null);return a.isInnerInstance=r(n,"boolean",!1),a.unsafeOpenModeShadow=r(t,"boolean",!1),a}(t),h(this,{text:{value:function(e){if("string"!=typeof e)throw new p(`LavaDomeCore: first argument must be a string, instead got ${_(e)}`);if(void 0===j(C(e),1))return M(a,e);R(n,r),B(C(e),e=>{const n=O(document,"span");t[G.isInnerInstance]=!0,new ce(n,t).text(e),R(a,n)}),R(a,oe())}}});const n=function(e,t){const{unsafeOpenModeShadow:n,isInnerInstance:r}=t;let a=U(ie,e);if(!a){const t={mode:"closed"};n&&(t.mode="open",r||console.warn("LavaDome:",`Initiated with "${G.unsafeOpenModeShadow}" set to true.`,"This leaves LavaDome fully vulnerable, ONLY USE FOR TESTING!")),a=x(e,t),L(ie,e,a)}return a}(e,t);I(n);const r=se();S(r,"load",()=>{if(k(r)!==document)throw I(n),new p("LavaDomeCore: The document to which LavaDome was originally introduced must be the same as the one this instance is inserted to")});const a=ae();R(n,a)}m?.addEventListener("navigate",e=>{const t=$(W(e));if(A(t,":~:"))throw K(e),H(e),new p("LavaDomeCore: in-app redirection to text-fragments links is blocked to ensure security")});const{all:le}=z,ue=new d,de=new d,pe=b(null),fe=e=>{if("string"!=typeof e)throw new Error(`LavaDomeReact: first argument must be a string, instead got ${_(e)}`);if(!w(pe,e)){const t=b(null);pe[e]=t,L(ue,t,e)}return pe[e]},me=({text:e,unsafeOpenModeShadow:t})=>{const n=e,r=(0,a.useRef)(null);return o().createElement("span",{ref:r,__source:{fileName:"/Users/weizman/Documents/lavamoat/lavadome/packages/react/src/lavadome.jsx",lineNumber:57,columnNumber:9},__self:void 0},o().createElement(he,{host:r,token:n,unsafeOpenModeShadow:t,__source:{fileName:"/Users/weizman/Documents/lavamoat/lavadome/packages/react/src/lavadome.jsx",lineNumber:58,columnNumber:13},__self:void 0}))};function he({host:e,token:t,unsafeOpenModeShadow:n}){const r=function(e){const t=U(ue,e);if(!w(pe,t))throw new Error("LavaDomeReact: first argument must be a valid LavaDome token (replace \"text={'secret'}\" with \"text={toLavaDomeToken('secret')}\")");return t}(t),s=function(e){let t=U(de,e);return t||(t=b(null),L(de,e,t)),t}(t);return(0,a.useEffect)(()=>{new ce(e.current,{unsafeOpenModeShadow:n}).text(r)},[s]),o().createElement(o().Fragment,null)}var ge=n;for(var ye in r)ge[ye]=r[ye];r.__esModule&&Object.defineProperty(ge,"__esModule",{value:!0})})()}}},{package:"@lavamoat/lavadome-react",file:"node_modules/@lavamoat/lavadome-react/build/main.js"}],[621,{"../../development/wdyr":624,"../../shared/constants/app":6175,"../../shared/constants/infura-project-id":6185,"../../shared/lib/trace":6299,"../../shared/modules/browser-runtime.utils":6312,"../../shared/modules/mv3.utils":6327,"../../ui":7664,"./lib/metaRPCClientFactory":299,"./lib/setup-initial-state-hooks":338,"./lib/stream-utils":359,"./lib/util":380,"./platforms/extension":608,"@lavamoat/lavadome-react":924,"@metamask/json-rpc-engine":2418,"@metamask/providers":2966,"extension-port-stream":4775,loglevel:5247,"react-devtools-core":4469,"webextension-polyfill":6163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){e("@lavamoat/lavadome-react"),e("./lib/setup-initial-state-hooks"),e("../../development/wdyr"),e("../../shared/constants/infura-project-id");!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(e("react-devtools-core"));var r=y(e("webextension-polyfill")),a=e("@metamask/providers"),o=e("@metamask/json-rpc-engine"),s=y(e("loglevel")),i=e("extension-port-stream"),c=e("../../ui"),l=e("../../shared/constants/app"),u=e("../../shared/modules/mv3.utils"),d=e("../../shared/modules/browser-runtime.utils"),p=e("../../shared/lib/trace"),f=y(e("./platforms/extension")),m=e("./lib/stream-utils"),h=e("./lib/util"),g=y(e("./lib/metaRPCClientFactory"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b="phishing-warning-sw-registered",w=document.getElementById("app-content");class C extends Error{constructor(){super("Timeout failed")}}(async function(){const e=performance.now(),t=(0,p.trace)({name:p.TraceName.UIStartup,startTime:performance.timeOrigin});(0,p.trace)({name:p.TraceName.LoadScripts,startTime:performance.timeOrigin,parentContext:t}),(0,p.endTrace)({name:p.TraceName.LoadScripts,timestamp:performance.timeOrigin+e}),global.platform=new f.default;const n=(0,h.getEnvironmentType)(),y=r.default.runtime.connect({name:n}),v=new c.CriticalStartupErrorHandler(y,w);v.install();const T=function(e){const t=(0,m.setupMultiplex)(e),n=t.createStream("controller"),r=t.createStream("provider");return t.ignoreStream("background-liveness"),{controller:n,provider:r}}(new i.ExtensionPortStream(y)),_=(0,g.default)(T.controller);(0,c.connectToBackground)(_,async function(e){(0,p.endTrace)({name:p.TraceName.BackgroundConnect}),v.startUiSyncReceived(),v.uninstall(),await async function(e){const t=new a.StreamProvider(e,{rpcMiddleware:[(0,o.createIdRemapMiddleware)()]});e.on("error",console.error.bind(console)),t.on("error",console.error.bind(console)),await t.initialize(),global.ethereumProvider=t}(T.provider);const i=await async function(e){if(e!==l.ENVIRONMENT_TYPE_POPUP&&e!==l.ENVIRONMENT_TYPE_SIDEPANEL)return{};const t=await r.default.tabs.query({active:!0,currentWindow:!0}).catch(e=>{(0,d.checkForLastErrorAndLog)()||s.default.error(e)}),[n]=t,{id:a,title:o,url:i}=n,{origin:c,protocol:u}=i?new URL(i):{};return c&&"null"!==c?{id:a,title:o,origin:c,protocol:u,url:i}:{}}(n);await async function(e,t,n,r,a){try{const o=await(0,c.launchMetamaskUi)({activeTab:e,container:w,backgroundConnection:t,traceContext:r,initialState:a});(0,p.endTrace)({name:p.TraceName.UIStartup});const s=o.getState(),{metamask:{completedOnboarding:i}={}}=s;i||n===l.ENVIRONMENT_TYPE_FULLSCREEN||global.platform.openExtensionInBrowser()}catch(e){await(0,c.displayCriticalErrorMessage)(w,c.CriticalErrorTranslationKey.TroubleStarting,e)}}(i,_,n,t,e),u.isManifestV3&&await async function(){if((await r.default.storage.session.get(b))[b])return;const e=(0,h.getPlatform)();let t;try{const n=new URL("https://metamask.github.io/phishing-warning/v5.1.0/");let a,o;n.hash="#extensionStartup",t=window.document.createElement("iframe"),t.setAttribute("src",n.href),t.setAttribute("sandbox","allow-scripts allow-same-origin");const s=new Promise((e,t)=>{a=e,o=t});t.addEventListener("load",a),window.document.body.appendChild(t),setTimeout(()=>o(new C),1e3),await s,e===l.PLATFORM_FIREFOX?console.error("Firefox does not support required MV3 APIs: Phishing warning page iframe and service worker will reload each page refresh"):r.default.storage.session.set({[b]:!0})}catch(e){e instanceof C?console.warn("Phishing warning page timeout; page not guaranteed to work offline."):console.error("Failed to initialize phishing warning page",e)}finally{t&&t.remove()}}()}),(0,p.trace)({name:p.TraceName.BackgroundConnect,parentContext:t})})().catch(s.default.error)}}},{package:"$root$",file:"app/scripts/ui.js"}]],[621],{});