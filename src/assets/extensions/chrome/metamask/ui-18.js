LavaPack.loadBundle([[8352,{"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/onboarding":6197,"../../../../shared/lib/trace":6299,"../../../components/component-library":6951,"../../../components/component-library/button":6930,"../../../contexts/metametrics":7420,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"../../../store/actions":8611,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(58),t=(0,r.useNavigate)(),n=(0,i.useDispatch)(),x=(0,u.useI18nContext)(),E=(0,i.useSelector)(p.getFirstTimeFlowType),T=(0,i.useSelector)(p.getSocialLoginEmail),v=(0,i.useSelector)(p.getSocialLoginType),{trackEvent:_,bufferedTrace:b,bufferedEndTrace:S,onboardingParentContext:k}=(0,o.useContext)(y.MetaMetricsContext);let C;e[0]!==n||e[1]!==t?(C=async()=>{await n((0,f.resetOnboarding)()),await(0,f.forceUpdateMetamaskState)(n),t(d.ONBOARDING_WELCOME_ROUTE,{replace:!0})},e[0]=n,e[1]=t,e[2]=C):C=e[2];const O=C;let w;e[3]!==b||e[4]!==t||e[5]!==(null==k?void 0:k.current)||e[6]!==v||e[7]!==_?(w=()=>{_({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Default}_${v}`}}),null==b||b({name:h.TraceName.OnboardingNewSocialCreateWallet,op:h.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==k?void 0:k.current}),t(d.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})},e[3]=b,e[4]=t,e[5]=null==k?void 0:k.current,e[6]=v,e[7]=_,e[8]=w):w=e[8];const I=w;let R,N,B,M,P,A,D,F;e[9]!==S||e[10]!==b||e[11]!==E||e[12]!==t||e[13]!==(null==k?void 0:k.current)||e[14]!==_?(R=()=>(E===m.FirstTimeFlowType.socialCreate?(_({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.AccountNotFoundPageViewed}),null==b||b({name:h.TraceName.OnboardingExistingSocialAccountNotFound,op:h.TraceOperation.OnboardingUserJourney,parentContext:null==k?void 0:k.current})):t(d.ONBOARDING_WELCOME_ROUTE,{replace:!0}),()=>{E===m.FirstTimeFlowType.socialCreate&&(null==S||S({name:h.TraceName.OnboardingExistingSocialAccountNotFound}))}),e[9]=S,e[10]=b,e[11]=E,e[12]=t,e[13]=null==k?void 0:k.current,e[14]=_,e[15]=R):R=e[15];e[16]!==S||e[17]!==b||e[18]!==E||e[19]!==t||e[20]!==k||e[21]!==_?(N=[E,t,k,b,S,_],e[16]=S,e[17]=b,e[18]=E,e[19]=t,e[20]=k,e[21]=_,e[22]=N):N=e[22];(0,o.useEffect)(R,N),e[23]===Symbol.for("react.memo_cache_sentinel")?(B={alignSelf:l.AlignItems.flexStart},e[23]=B):B=e[23];e[24]!==x?(M=x("accountNotFoundTitle"),e[24]=x,e[25]=M):M=e[25];e[26]!==M?(P=o.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:B,marginBottom:4},M),e[26]=M,e[27]=P):P=e[27];e[28]!==x?(A=x("accountNotFoundTitle"),e[28]=x,e[29]=A):A=e[29];e[30]===Symbol.for("react.memo_cache_sentinel")?(D={alignSelf:"center"},e[30]=D):D=e[30];e[31]!==A?(F=o.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},o.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:A,style:D})),e[31]=A,e[32]=F):F=e[32];const L=T||"-";let W,j,U,z,$,V,G,q,J;e[33]!==x||e[34]!==L?(W=x("accountNotFoundDescription",[L]),e[33]=x,e[34]=L,e[35]=W):W=e[35];e[36]!==W?(j=o.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:6},W),e[36]=W,e[37]=j):j=e[37];e[38]!==j||e[39]!==P||e[40]!==F?(U=o.default.createElement(c.Box,null,o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},P,F,j)),e[38]=j,e[39]=P,e[40]=F,e[41]=U):U=e[41];e[42]!==x?(z=x("accountNotFoundCreateOne"),e[42]=x,e[43]=z):z=e[43];e[44]!==I||e[45]!==z?($=o.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:I},z),e[44]=I,e[45]=z,e[46]=$):$=e[46];e[47]!==x?(V=x("useDifferentLoginMethod"),e[47]=x,e[48]=V):V=e[48];e[49]!==O||e[50]!==V?(G=o.default.createElement(s.Button,{"data-testid":"account-exist-login-with-different-method",variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:O},V),e[49]=O,e[50]=V,e[51]=G):G=e[51];e[52]!==$||e[53]!==G?(q=o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,gap:4},$,G),e[52]=$,e[53]=G,e[54]=q):q=e[54];e[55]!==U||e[56]!==q?(J=o.default.createElement(c.Box,{className:"account-not-found","data-testid":"account-not-found",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,gap:6,height:l.BlockSize.Full},U,q),e[55]=U,e[56]=q,e[57]=J):J=e[57];return J};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../../shared/constants/onboarding"),f=e("../../../store/actions"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace"),y=e("../../../contexts/metametrics");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[8353,{"../../../../shared/constants/app":6175,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/onboarding":6197,"../../../../shared/lib/trace":6299,"../../../../shared/modules/browser-runtime.utils":6312,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../selectors":8577,"../../../store/actions":8611,"../../create-password-form":8277,buffer:4474,loglevel:5247,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:a}){const[f,g]=(0,o.useState)(!1),v=(0,r.useNavigate)(),b=(0,i.useDispatch)(),S=(0,i.useSelector)(c.getFirstTimeFlowType),{trackEvent:k,bufferedTrace:C,bufferedEndTrace:O,onboardingParentContext:w}=(0,o.useContext)(u.MetaMetricsContext),I=(0,i.useSelector)(c.getCurrentKeyring),R=(0,i.useSelector)(c.getIsSocialLoginFlow),N=(0,i.useSelector)(c.getSocialLoginType),B=(0,i.useSelector)(x.getIsWalletResetInProgress),M=(0,i.useSelector)(c.getParticipateInMetaMetrics),P=(0,i.useSelector)(c.getIsParticipateInMetaMetricsSet),A=(0,i.useSelector)(c.getMetaMetricsId),D=t.from(A??"").toString("base64"),F=Boolean(M&&D),L=`https://start.metamask.io/?${new URLSearchParams({mmi:D,env:"production"}).toString()}`,W=(0,o.useCallback)(async()=>{await b((0,h.getIsSeedlessOnboardingUserAuthenticated)())||v(l.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[b,v]);(0,o.useEffect)(()=>{!I||f||B?S!==m.FirstTimeFlowType.import||a||v(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0}):S===m.FirstTimeFlowType.import||S===m.FirstTimeFlowType.socialImport?_||S!==m.FirstTimeFlowType.socialImport?v(P?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0}):v(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):S===m.FirstTimeFlowType.socialCreate?v(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):v(l.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0})},[I,v,S,f,a,P,B]),(0,o.useEffect)(()=>{(async()=>{R&&await W()})()},[R,W]);const j=(e,t=!1)=>{if(t&&N){return`${e}_${String(N).toLowerCase()}`}return e};(0,o.useEffect)(()=>(null==C||C({name:y.TraceName.OnboardingPasswordSetupAttempt,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==w?void 0:w.current}),()=>{null==O||O({name:y.TraceName.OnboardingPasswordSetupAttempt})}),[w,C,O]);return o.default.createElement(p.Box,{height:T.BlockSize.Full,width:T.BlockSize.Full},o.default.createElement(E.CreatePasswordForm,{isSocialLoginFlow:R,onSubmit:async(t,o)=>{if(t)try{a&&S===m.FirstTimeFlowType.import?await(async e=>{k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletImportAttempted}),await n(e,a),null==O||O({name:y.TraceName.OnboardingExistingSrpImport}),null==O||O({name:y.TraceName.OnboardingJourneyOverall}),k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1}}),k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:j(d.MetaMetricsEventAccountType.Imported,R)}}),v(_||R?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0})})(t):await(async(t,n)=>{k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:j(d.MetaMetricsEventAccountType.Default,R)}}),g(!0),await e(t),R&&(null==O||O({name:y.TraceName.OnboardingNewSocialCreateWallet}),null==O||O({name:y.TraceName.OnboardingJourneyOverall})),k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,account_type:j(d.MetaMetricsEventAccountType.Default,R)}}),k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:j(d.MetaMetricsEventAccountType.Default,R)}}),R?(n&&(b((0,h.setMarketingConsent)(!0)),b((0,h.setDataCollectionForMarketing)(!0))),v(l.ONBOARDING_DOWNLOAD_APP_ROUTE,{replace:!0})):v(l.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0})})(t,o)}catch(e){s.default.error("Error creating password",e),k({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletSetupFailure})}},onBack:async e=>{e.preventDefault(),S===m.FirstTimeFlowType.import?v(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0}):(await b((0,h.resetOnboarding)()),await(0,h.forceUpdateMetamaskState)(b),v(l.ONBOARDING_WELCOME_ROUTE,{replace:!0}))}}),F?o.default.createElement("iframe",{src:L,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../components/component-library"),m=e("../../../../shared/constants/onboarding"),f=e("../../../../shared/constants/app"),g=e("../../../../shared/modules/browser-runtime.utils"),h=e("../../../store/actions"),y=e("../../../../shared/lib/trace"),x=e("../../../ducks/metamask/metamask"),E=e("../../create-password-form"),T=e("../../../helpers/constants/design-system");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const _=(0,g.getBrowserName)()===f.PLATFORM_FIREFOX}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.tsx"}],[8354,{"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/onboarding":6197,"../../../components/component-library":6951,"../../../components/component-library/button":6930,"../../../components/component-library/lottie-animation":6957,"../../../contexts/metametrics":7420,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../hooks/useSidePanelEnabled":7641,"../../../selectors":8577,"../../../store/actions":8611,"./wallet-ready-animation":8355,react:5657,"react-redux":5622,"react-router-dom":5632,"webextension-polyfill":6163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,r.useDispatch)(),n=(0,u.useI18nContext)(),{search:v}=(0,o.useLocation)(),_=(0,r.useSelector)(h.getIsPrimarySeedPhraseBackedUp),b=(0,r.useSelector)(p.getExternalServicesOnboardingToggleState),{trackEvent:S}=(0,a.useContext)(m.MetaMetricsContext),k=(0,r.useSelector)(p.getFirstTimeFlowType),C=(0,E.useSidePanelEnabled)(),O=(0,r.useSelector)(p.getPreferences),w=(null==O?void 0:O.useSidePanelAsDefault)??!1,I=(0,r.useSelector)(h.getCompletedOnboarding),R=(0,r.useSelector)(p.getParticipateInMetaMetrics),N=new URLSearchParams(v),B=N.get("isFromReminder"),M=N.get("isFromSettingsSecurity"),P=_&&B,[A,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=i.default,t=e=>{D(!1)};var n;C&&(null!=e&&null!==(n=e.sidePanel)&&void 0!==n&&null!==(n=n.onClosed)&&void 0!==n&&n.addListener?e.sidePanel.onClosed.addListener(t):(console.warn("`sidePanel.onClosed` event is not available"),D(!1)));return()=>{var n;null!=e&&null!==(n=e.sidePanel)&&void 0!==n&&null!==(n=n.onClosed)&&void 0!==n&&n.removeListener&&e.sidePanel.onClosed.removeListener(t)}},[C]);const F=(0,a.useMemo)(()=>n(B?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp"),[B,n]),L=(0,a.useMemo)(()=>a.default.createElement(x.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0}),[]),W=(0,a.useMemo)(()=>a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,justifyContent:l.JustifyContent.flexStart,className:"creation-successful__settings-actions",gap:4},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:l.BorderRadius.LG,width:l.BlockSize.Full,onClick:()=>e(`${d.ONBOARDING_PRIVACY_SETTINGS_ROUTE}?isFromReminder=true`)},a.default.createElement(c.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},a.default.createElement(c.Icon,{name:c.IconName.Setting,size:c.IconSize.Md,marginInlineEnd:3}),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},n("manageDefaultSettings"))),a.default.createElement(c.Icon,{name:c.IconName.ArrowRight,color:l.IconColor.iconAlternative,size:c.IconSize.Sm}))),[e,n]),j=(0,a.useCallback)(async()=>{if(B)e(M?d.SECURITY_ROUTE:d.DEFAULT_ROUTE);else{if(!I){const e=k===g.FirstTimeFlowType.create||k===g.FirstTimeFlowType.socialCreate;S({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingCompleted,properties:{wallet_setup_type:k,new_wallet:e,is_basic_functionality_enabled:b}})}if(await t((0,y.toggleExternalServices)(b)),I||S({category:f.MetaMetricsEventCategory.Onboarding,event:R?f.MetaMetricsEventName.MetricsOptIn:f.MetaMetricsEventName.MetricsOptOut,properties:{}},{isOptIn:!R}),C){if(w)return await t((0,y.setCompletedOnboarding)()),void e(d.DEFAULT_ROUTE);try{var n;const e=i.default;if(null!=e&&null!==(n=e.sidePanel)&&void 0!==n&&n.open){const n=await i.default.tabs.query({active:!0,currentWindow:!0});if(n&&n.length>0)return await e.sidePanel.open({windowId:n[0].windowId}),await t((0,y.setUseSidePanelAsDefault)(!0)),await t((0,y.setCompletedOnboardingWithSidepanel)()),void D(!0)}}catch(e){console.error("Error opening side panel:",e)}}await t((0,y.setCompletedOnboarding)()),e(d.DEFAULT_ROUTE)}},[I,B,t,b,e,S,k,M,C,w,R]);return a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},P&&a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},a.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:{alignSelf:l.AlignItems.flexStart},marginBottom:4},n("yourWalletIsReadyFromReminder")),a.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},a.default.createElement(c.Box,{display:l.Display.Flex,style:{width:"144px",height:"144px"}},L)),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},F),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},n("walletReadyLearn",[a.default.createElement(c.ButtonLink,{key:"walletReadyLearn",size:c.ButtonLinkSize.Inherit,textProps:{variant:l.TextVariant.bodyMd,alignItems:l.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},n("learnHow"))]))),W),!P&&a.default.createElement(T.default,null),!P&&a.default.createElement(c.Text,{className:"title"},n("yourWalletIsReady")),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},a.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:j,disabled:C&&A},n(C?"openWallet":"done"))),!P&&a.default.createElement(c.Box,null,a.default.createElement(s.Button,{variant:s.ButtonVariant.Link,onClick:()=>e(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE),textAlign:l.TextAlign.Center,width:l.BlockSize.Full,"data-testid":"manage-default-settings"},n("manageDefaultSettings"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=v(e("webextension-polyfill")),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/constants/onboarding"),h=e("../../../ducks/metamask/metamask"),y=e("../../../store/actions"),x=e("../../../components/component-library/lottie-animation"),E=e("../../../hooks/useSidePanelEnabled"),T=v(e("./wallet-ready-animation"));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.tsx"}],[8355,{"../../../../shared/constants/preferences":6199,"../../../contexts/rive-wasm":7421,"../../../hooks/useTheme":7646,"@metamask/design-system-react":1999,"@rive-app/react-canvas":3633,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(20),t=(0,s.useTheme)(),n=(0,c.useRiveWasmContext)(),{isWasmReady:u,error:m}=n,{buffer:f,error:g,loading:h}=(0,c.useRiveWasmFile)("./images/riv_animations/wallet_ready.riv");let y,x,E;e[0]!==g||e[1]!==m?(y=()=>{m&&console.error("[Rive] Failed to load WASM:",m),g&&console.error("[Rive] Failed to load buffer:",g)},x=[m,g],e[0]=g,e[1]=m,e[2]=y,e[3]=x):(y=e[2],x=e[3]);(0,o.useEffect)(y,x),e[4]!==f?(E={buffer:f},e[4]=f,e[5]=E):E=e[5];const{riveFile:T,status:v}=(0,r.useRiveFile)(E),_=T??undefined,b=T?"OnboardingLoader":undefined;let S,k;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),e[6]=S):S=e[6];e[7]!==_||e[8]!==b?(k={riveFile:_,stateMachines:b,autoplay:!1,layout:S},e[7]=_,e[8]=b,e[9]=k):k=e[9];const{rive:C,RiveComponent:O}=(0,r.useRive)(k);let w,I,R;e[10]!==f||e[11]!==h||e[12]!==u||e[13]!==C||e[14]!==t?(w=()=>{if(C&&u&&!h&&f){console.log("rive is loaded",C);const e=C.stateMachineInputs("OnboardingLoader");if(e){const n=e.find(p);n&&t===l.ThemeType.dark?n.value=!0:n&&(n.value=!1);const a=e.find(d);a&&a.fire(),C.play()}}},I=[C,t,u,h,f],e[10]=f,e[11]=h,e[12]=u,e[13]=C,e[14]=t,e[15]=w,e[16]=I):(w=e[15],I=e[16]);if((0,o.useEffect)(w,I),!u||h||!f||"loading"===v||"failed"===v){let t;return e[17]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Box,{className:"riv-animation__wallet-ready-container"}),e[17]=t):t=e[17],t}e[18]!==O?(R=o.default.createElement(i.Box,{className:"riv-animation__wallet-ready-container"},o.default.createElement(O,{className:"riv-animation__canvas"})),e[18]=O,e[19]=R):R=e[19];return R};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),i=e("@metamask/design-system-react"),s=e("../../../hooks/useTheme"),l=e("../../../../shared/constants/preferences"),c=e("../../../contexts/rive-wasm");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return"Only_End"===e.name}function p(e){return"Dark mode"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/wallet-ready-animation.tsx"}],[8356,{"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(26),t=(0,s.useI18nContext)(),n=(0,r.useNavigate)(),p=(0,i.useSelector)(d.getCurrentKeyring);let m;e[0]!==n?(m=async()=>{n(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0})},e[0]=n,e[1]=m):m=e[1];const f=m;let g,h,y,x,E,T,v,_,b,S,k;e[2]!==p||e[3]!==n?(g=()=>{p||n(c.ONBOARDING_WELCOME_ROUTE,{replace:!0})},h=[p,n],e[2]=p,e[3]=n,e[4]=g,e[5]=h):(g=e[4],h=e[5]);(0,o.useEffect)(g,h),e[6]!==t?(y=t("downloadAppTitle"),e[6]=t,e[7]=y):y=e[7];e[8]!==y?(x=o.default.createElement(u.Text,{variant:l.TextVariant.headingLg,marginBottom:4},y),e[8]=y,e[9]=x):x=e[9];e[10]===Symbol.for("react.memo_cache_sentinel")?(E=o.default.createElement(u.Box,{display:l.Display.Flex,alignItems:l.AlignItems.flexStart,justifyContent:l.JustifyContent.center,marginBottom:4},o.default.createElement("img",{src:"/images/onboarding-download-app.png",alt:"Download the app"})),e[10]=E):E=e[10];e[11]!==t?(T=t("downloadAppDescription"),e[11]=t,e[12]=T):T=e[12];e[13]!==T?(v=o.default.createElement(u.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},T),e[13]=T,e[14]=v):v=e[14];e[15]!==x||e[16]!==v?(_=o.default.createElement(u.Box,null,x,E,v),e[15]=x,e[16]=v,e[17]=_):_=e[17];e[18]!==t?(b=t("continue"),e[18]=t,e[19]=b):b=e[19];e[20]!==f||e[21]!==b?(S=o.default.createElement(u.Box,null,o.default.createElement(u.Button,{variant:u.ButtonVariant.Primary,size:u.ButtonSize.Lg,block:!0,"data-testid":"download-app-continue",onClick:f},b)),e[20]=f,e[21]=b,e[22]=S):S=e[22];e[23]!==S||e[24]!==_?(k=o.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"onboarding-download-app","data-testid":"onboarding-download-app"},_,S),e[23]=S,e[24]=_,e[25]=k):k=e[25];return k};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../components/component-library"),d=e("../../../selectors");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/download-app/download-app.tsx"}],[8357,{"../../../../shared/constants/metametrics":6190,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"../../../selectors/selectors":8597,"../../../store/actions":8611,"../../srp-input-form":8524,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(46),{submitSecretRecoveryPhrase:n}=e,a=(0,s.useDispatch)(),[E,v]=(0,r.useState)(""),[_,b]=(0,r.useState)(""),S=(0,i.useNavigate)(),k=(0,s.useSelector)(f.getHDEntropyIndex),C=(0,u.useI18nContext)(),O=(0,s.useSelector)(d.getCurrentKeyring),w=(0,s.useSelector)(x.getIsWalletResetInProgress);let I,R;t[0]!==O||t[1]!==w||t[2]!==S?(I=()=>{O&&!w&&S(c.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})},R=[O,S,w],t[0]=O,t[1]=w,t[2]=S,t[3]=I,t[4]=R):(I=t[3],R=t[4]);(0,r.useEffect)(I,R);const{trackEvent:N}=(0,r.useContext)(p.MetaMetricsContext);let B;t[5]!==a||t[6]!==S?(B=async e=>{e.preventDefault(),await a((0,h.resetOnboarding)()),await(0,h.forceUpdateMetamaskState)(a),S(c.ONBOARDING_WELCOME_ROUTE,{replace:!0})},t[5]=a,t[6]=S,t[7]=B):B=t[7];const M=B;let P;t[8]!==k||t[9]!==S||t[10]!==E||t[11]!==n||t[12]!==C||t[13]!==N?(P=()=>{let e="";T(E)&&(e=C("invalidSeedPhraseNotFound")),b(e),e||(null==n||n(E),N({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:k}}),S(c.ONBOARDING_CREATE_PASSWORD_ROUTE))},t[8]=k,t[9]=S,t[10]=E,t[11]=n,t[12]=C,t[13]=N,t[14]=P):P=t[14];const A=P;let D,F,L,W,j,U,z,$,V,G,q,J,K;t[15]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{b("")},t[15]=D):D=t[15];t[16]!==E?(F=[E],t[16]=E,t[17]=F):F=t[17];(0,r.useEffect)(D,F),t[18]!==C?(L=C("back"),t[18]=C,t[19]=L):L=t[19];t[20]!==M||t[21]!==L?(W=r.default.createElement(g.Box,{marginBottom:4},r.default.createElement(g.ButtonIcon,{iconName:g.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:g.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:M,ariaLabel:L})),t[20]=M,t[21]=L,t[22]=W):W=t[22];t[23]!==C?(j=C("importAWallet"),t[23]=C,t[24]=j):j=t[24];t[25]!==j?(U=r.default.createElement(g.Box,{textAlign:l.TextAlign.Left,marginBottom:2},r.default.createElement(g.Text,{variant:l.TextVariant.headingLg},j)),t[25]=j,t[26]=U):U=t[26];t[27]===Symbol.for("react.memo_cache_sentinel")?(z=()=>b(""),t[27]=z):z=t[27];t[28]!==_?($=r.default.createElement(y.default,{error:_,setSecretRecoveryPhrase:v,onClearCallback:z}),t[28]=_,t[29]=$):$=t[29];t[30]!==U||t[31]!==$||t[32]!==W?(V=r.default.createElement(g.Box,null,W,U,$),t[30]=U,t[31]=$,t[32]=W,t[33]=V):V=t[33];t[34]!==E||t[35]!==_?(G=!E.trim()||Boolean(_),t[34]=E,t[35]=_,t[36]=G):G=t[36];t[37]!==C?(q=C("continue"),t[37]=C,t[38]=q):q=t[38];t[39]!==A||t[40]!==G||t[41]!==q?(J=r.default.createElement(g.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},r.default.createElement(g.Button,{width:l.BlockSize.Full,size:g.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:A,disabled:G,className:"import-srp__continue-button"},q)),t[39]=A,t[40]=G,t[41]=q,t[42]=J):J=t[42];t[43]!==V||t[44]!==J?(K=r.default.createElement(g.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},V,J),t[43]=V,t[44]=J,t[45]=K):K=t[45];return K};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom"),s=e("react-redux"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../selectors/selectors"),g=e("../../../components/component-library"),h=e("../../../store/actions"),y=(a=e("../../srp-input-form"))&&a.__esModule?a:{default:a},x=e("../../../ducks/metamask/metamask");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const T=e=>e!==e.toLowerCase()}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.tsx"}],[8358,{"./onboarding-flow":8362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./onboarding-flow"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/onboarding-flow/index.ts"}],[8359,{"../../../../shared/constants/app":6175,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/onboarding":6197,"../../../../shared/modules/browser-runtime.utils":6312,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"../../../store/actions":8611,loglevel:5247,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,c.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,i.useNavigate)(),a=(0,r.useSelector)(d.getFirstTimeFlowType),m=(0,r.useSelector)(d.getIsParticipateInMetaMetricsSet),x=(0,r.useSelector)(d.getParticipateInMetaMetrics),T=(0,r.useSelector)(d.getDataCollectionForMarketing),[v,_]=(0,o.useState)(!0),[b,S]=(0,o.useState)(!1),k=(0,o.useRef)(null),C=(0,o.useRef)(null);(0,o.useEffect)(()=>{m&&_(x),T&&S(T)},[m,x,T]);const O=(0,r.useSelector)(d.getCurrentKeyring),{trackEvent:w}=(0,o.useContext)(g.MetaMetricsContext);let I=(0,r.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);E&&a!==y.FirstTimeFlowType.restore&&(I=O&&a===y.FirstTimeFlowType.socialCreate?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_WELCOME_ROUTE);return o.default.createElement(h.Box,{className:"onboarding-metametrics","data-testid":"onboarding-metametrics",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(h.Text,{variant:l.TextVariant.headingLg,textAlign:l.TextAlign.Left,fontWeight:l.FontWeight.Bold},e("onboardingMetametricsTitle")),o.default.createElement(h.Box,{width:l.BlockSize.Full,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"onboarding-metametrics__user-control"},o.default.createElement("img",{src:"images/user-control.png",alt:"User control",height:175,width:200})),o.default.createElement(h.Text,{variant:l.TextVariant.bodySmMedium,color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left},e("onboardingMetametricsDescription")),o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2,padding:3,borderRadius:l.BorderRadius.LG,backgroundColor:l.BackgroundColor.backgroundMuted,className:"onboarding-metametrics__checkbox",role:"button",tabIndex:0,onClick:()=>{var e;null===(e=k.current)||void 0===e||e.click()},onKeyDown:e=>{var t;" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),null===(t=k.current)||void 0===t||t.click())}},o.default.createElement(h.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-checkbox",isChecked:v,onChange:()=>{_(e=>!e),v&&S(!1)},inputRef:k,onClick:e=>e.stopPropagation(),inputProps:{onClick:e=>e.stopPropagation()},label:o.default.createElement(h.Text,{variant:l.TextVariant.bodyMdMedium},e("onboardingMetametricCheckboxTitleOne")),alignItems:l.AlignItems.center}),o.default.createElement(h.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left},e("onboardingMetametricCheckboxDescriptionOneUpdated"))),o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2,padding:3,borderRadius:l.BorderRadius.LG,backgroundColor:l.BackgroundColor.backgroundMuted,className:""+(v?"onboarding-metametrics__checkbox":"onboarding-metametrics__checkbox-disabled"),role:v?"button":undefined,tabIndex:v?0:undefined,onClick:v?()=>{var e;null===(e=C.current)||void 0===e||e.click()}:undefined,onKeyDown:e=>{var t;" "!==e.key&&"Enter"!==e.key||!v||(e.preventDefault(),null===(t=C.current)||void 0===t||t.click())}},o.default.createElement(h.Checkbox,{id:"metametrics-datacollection-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:v&&b,isDisabled:!v,onChange:()=>{S(e=>!e)},inputRef:C,onClick:e=>e.stopPropagation(),inputProps:{onClick:e=>e.stopPropagation()},label:o.default.createElement(h.Text,{variant:l.TextVariant.bodyMdMedium},e("onboardingMetametricCheckboxTitleTwo")),alignItems:l.AlignItems.center}),o.default.createElement(h.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left},e("onboardingMetametricCheckboxDescriptionTwo"))),o.default.createElement(h.Box,{width:l.BlockSize.Full},o.default.createElement(h.Button,{"data-testid":"metametrics-i-agree",size:h.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault();try{try{await t((0,u.setPna25Acknowledged)(!0,!0))}catch(e){s.default.error("Error setting pna25Acknowledged:",e)}v?(t((0,u.setDataCollectionForMarketing)(b)),t((0,u.setParticipateInMetaMetrics)(!0)),await w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(b),location:"onboarding_metametrics"}})):(t((0,u.setParticipateInMetaMetrics)(!1)),t((0,u.setDataCollectionForMarketing)(!1)))}catch(e){s.default.error("onConfirm::error",e)}finally{n(I,{replace:!0})}}},e("onboardingMetametricsContinue"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/app"),f=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),h=e("../../../components/component-library"),y=e("../../../../shared/constants/onboarding");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const E=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===m.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.tsx"}],[8360,{"../../../../app/_locales/index.json":2,"../../../../app/scripts/lib/util":380,"../../../../shared/constants/app":6175,"../../../components/component-library":6951,"../../../components/ui/dropdown":7315,"../../../components/ui/metafox-logo":7357,"../../../ducks/locale/locale":7447,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../store/actions":8611,classnames:4507,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(17),{isWelcomePage:n,location:x}=e,E=n!==undefined&&n,v=(0,r.useDispatch)(),{pathname:_,search:b}=x,S=(0,l.useI18nContext)(),k=(0,r.useSelector)(u.getCurrentLocale);let C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=p.default.map(T),t[0]=C):C=t[0];const O=C;let w,I;if(t[1]!==b){const e=new URLSearchParams(b);w=e.get("isFromReminder"),I=e.get("isFromSettingsSecurity"),t[1]=b,t[2]=w,t[3]=I}else w=t[2],I=t[3];const R=I,N=w||R;let B;t[4]===Symbol.for("react.memo_cache_sentinel")?(B=(0,h.getEnvironmentType)(),t[4]=B):B=t[4];const M=B!==y.ENVIRONMENT_TYPE_SIDEPANEL;let P,A,D;t[5]!==E?(P=(0,i.default)("onboarding-app-header",{"onboarding-app-header--welcome":E}),t[5]=E,t[6]=P):P=t[6];t[7]!==k||t[8]!==v||t[9]!==N||t[10]!==E||t[11]!==_||t[12]!==S?(A=M?o.default.createElement(m.Box,{display:f.Display.Flex,width:f.BlockSize.Full,justifyContent:_===g.ONBOARDING_WELCOME_ROUTE?f.JustifyContent.flexEnd:f.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},_!==g.ONBOARDING_WELCOME_ROUTE&&o.default.createElement(s.default,{unsetIconHeight:!0,isOnboarding:!0}),_!==g.ONBOARDING_COMPLETION_ROUTE||N?o.default.createElement(c.default,{"data-testid":"select-locale",className:(0,i.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--login":E}),options:O,selectedOption:k,onChange:async e=>v((0,d.updateCurrentLocale)(e))}):o.default.createElement(m.Box,{paddingTop:12,className:"onboarding-app-header__banner-tip-container"},o.default.createElement(m.BannerTip,{borderColor:f.BorderColor.borderMuted,backgroundColor:f.BackgroundColor.backgroundMuted,title:S("pinMetaMask"),gap:4,titleProps:{color:f.TextColor.textDefault,variant:f.TextVariant.bodyMdMedium,paddingRight:2},className:"onboarding-app-header__banner-tip",padding:3,alignItems:f.AlignItems.center},o.default.createElement(m.Text,{variant:f.TextVariant.bodySm,alignItems:f.AlignItems.center,color:f.TextColor.textAlternative,paddingRight:2},S("pinMetaMaskDescription",[o.default.createElement(m.Icon,{name:m.IconName.Extension,key:"extension",color:f.IconColor.iconDefault,size:m.IconSize.Md,className:"onboarding-app-header__banner-tip-icon"}),o.default.createElement(m.Icon,{name:m.IconName.Keep,key:"keep",color:f.IconColor.iconDefault,size:m.IconSize.Md,className:"onboarding-app-header__banner-tip-icon"})]))))):o.default.createElement(o.default.Fragment,null),t[7]=k,t[8]=v,t[9]=N,t[10]=E,t[11]=_,t[12]=S,t[13]=A):A=t[13];t[14]!==P||t[15]!==A?(D=o.default.createElement(m.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,backgroundColor:f.BackgroundColor.backgroundDefault,width:f.BlockSize.Full,padding:4,className:P},A),t[14]=P,t[15]=A,t[16]=D):D=t[16];return D};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=x(e("classnames")),s=x(e("../../../components/ui/metafox-logo")),l=e("../../../hooks/useI18nContext"),c=x(e("../../../components/ui/dropdown")),u=e("../../../ducks/locale/locale"),d=e("../../../store/actions"),p=x(e("../../../../app/_locales/index.json")),m=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system"),g=e("../../../helpers/constants/routes"),h=e("../../../../app/scripts/lib/util"),y=e("../../../../shared/constants/app");function x(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function T(e){return{name:e.name,value:e.code}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.tsx"}],[8361,{"../../../../shared/constants/app":6175,"../../../../shared/constants/onboarding":6197,"../../../../shared/modules/browser-runtime.utils":6312,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/routes":7465,"../../../selectors":8577,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.c)(7),t=(0,i.useSelector)(c.getCompletedOnboarding),n=(0,i.useSelector)(c.getIsInitialized),a=(0,i.useSelector)(c.getIsWalletResetInProgress),f=(0,i.useSelector)(p.getIsSocialLoginUserAuthenticated),g=(0,i.useSelector)(c.getSeedPhraseBackedUp),h=(0,i.useSelector)(p.getFirstTimeFlowType),y=(0,i.useSelector)(p.getIsSocialLoginFlow),x=(0,i.useSelector)(c.getIsUnlocked),E=(0,i.useSelector)(p.getIsParticipateInMetaMetricsSet);if(t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Navigate,{to:l.DEFAULT_ROUTE,replace:!0}),e[0]=t):t=e[0],t}if(null!==g||x&&y){const t=E?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS;let n;return e[1]!==t?(n=r.default.createElement(s.Navigate,{to:t,replace:!0}),e[1]=t,e[2]=n):n=e[2],n}if(x){let t;return e[3]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Navigate,{to:l.LOCK_ROUTE,replace:!0}),e[3]=t):t=e[3],t}if((!n||a)&&!f){let t,n;return e[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,d.getBrowserName)()===u.PLATFORM_FIREFOX?r.default.createElement(s.Navigate,{to:l.ONBOARDING_METAMETRICS,replace:!0}):r.default.createElement(s.Navigate,{to:l.ONBOARDING_WELCOME_ROUTE,replace:!0}),e[4]=n):n=e[4],t=n,t}if((!n||a)&&f&&h===m.FirstTimeFlowType.socialCreate){let t;return e[5]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Navigate,{to:l.ONBOARDING_CREATE_PASSWORD_ROUTE,replace:!0}),e[5]=t):t=e[5],t}let T;e[6]===Symbol.for("react.memo_cache_sentinel")?(T=r.default.createElement(s.Navigate,{to:l.ONBOARDING_UNLOCK_ROUTE,replace:!0}),e[6]=T):T=e[6];return T};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("react-router-dom"),l=e("../../../helpers/constants/routes"),c=e("../../../ducks/metamask/metamask"),u=e("../../../../shared/constants/app"),d=e("../../../../shared/modules/browser-runtime.utils"),p=e("../../../selectors"),m=e("../../../../shared/constants/onboarding")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.tsx"}],[8362,{"../../../app/scripts/lib/util":380,"../../../shared/constants/app":6175,"../../../shared/constants/onboarding":6197,"../../../shared/constants/preferences":6199,"../../../shared/lib/trace":6299,"../../../shared/modules/environment":6319,"../../components/app/toast-master/utils":6844,"../../components/component-library":6951,"../../components/ui/loading-screen":7345,"../../contexts/metametrics":7420,"../../ducks/metamask/metamask":7448,"../../helpers/constants/design-system":7460,"../../helpers/constants/routes":7465,"../../hooks/useTheme":7646,"../../selectors":8577,"../../store/actions":8611,"../routes/utils":8418,"../unlock-page":8559,"./account-exist/account-exist":8351,"./account-not-found/account-not-found":8352,"./create-password/create-password":8353,"./creation-successful/creation-successful":8354,"./download-app/download-app":8356,"./import-srp/import-srp":8357,"./metametrics/metametrics":8359,"./onboarding-app-header/onboarding-app-header":8360,"./onboarding-flow-switch/onboarding-flow-switch":8361,"./privacy-settings/privacy-settings":8363,"./recovery-phrase/confirm-recovery-phrase":8365,"./recovery-phrase/reveal-recovery-phrase":8368,"./recovery-phrase/review-recovery-phrase":8369,"./welcome/welcome":8376,classnames:4507,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,a.useState)(""),[n,c]=(0,a.useState)(!1),W=(0,r.useDispatch)(),j=(0,o.useLocation)(),{pathname:z,search:$}=j,V=(0,o.useNavigate)(),G=(0,b.useTheme)(),q=(0,r.useSelector)(u.getCompletedOnboarding),J=(0,r.useSelector)(u.getOpenedWithSidepanel),K=(0,r.useSelector)(p.getFirstTimeFlowTypeRouteAfterUnlock),H=new URLSearchParams($).get("isFromReminder"),X=new URLSearchParams($).get("isFromSettingsSecurity"),{bufferedTrace:Y,onboardingParentContext:Q}=(0,a.useContext)(m.MetaMetricsContext),Z=(0,r.useSelector)(u.getIsUnlocked),ee=(0,r.useSelector)(p.getFirstTimeFlowType),te=(0,T.getIsSeedlessOnboardingFeatureEnabled)(),ne=(0,r.useSelector)(u.getIsPrimarySeedPhraseBackedUp),ae=(0,y.getEnvironmentType)(),oe=ae===x.ENVIRONMENT_TYPE_POPUP,re=ae===x.ENVIRONMENT_TYPE_SIDEPANEL,ie=(0,a.useMemo)(()=>z===l.ONBOARDING_WELCOME_ROUTE,[z]);(0,a.useEffect)(()=>{(0,f.submitRequestToBackgroundAndCatch)("setOnboardingDate")},[]),(0,a.useEffect)(()=>{!q||H||J||V(l.DEFAULT_ROUTE,{replace:!0})},[V,q,H,J]),(0,a.useEffect)(()=>{const t=[l.ONBOARDING_REVIEW_SRP_ROUTE,l.ONBOARDING_CONFIRM_SRP_ROUTE].some(e=>null==z?void 0:z.startsWith(e));!Z||q||e||t&&V(l.ONBOARDING_UNLOCK_ROUTE,{replace:!0}),ne&&t&&q&&V(X?l.SECURITY_ROUTE:l.DEFAULT_ROUTE,{replace:!0})},[Z,q,e,z,V,ne,X]),(0,a.useEffect)(()=>{null==Y||Y({name:v.TraceName.OnboardingJourneyOverall,op:v.TraceOperation.OnboardingUserJourney}),Q&&(Q.current={_name:v.TraceName.OnboardingJourneyOverall})},[Q,Y]);let se=z===l.ONBOARDING_WELCOME_ROUTE||z===l.ONBOARDING_UNLOCK_ROUTE;const le=(0,a.useMemo)(()=>ie?G===S.ThemeType.light?"var(--welcome-bg-light)":"var(--color-accent02-dark)":"var(--color-background-default)",[ie,G]);return a.default.createElement(g.Box,{backgroundColor:h.BackgroundColor.backgroundDefault,width:h.BlockSize.Full,height:h.BlockSize.Full,display:h.Display.Flex,flexDirection:h.FlexDirection.Column,alignItems:z===l.ONBOARDING_WELCOME_ROUTE?h.AlignItems.flexStart:h.AlignItems.center,justifyContent:h.JustifyContent.flexStart,className:"onboarding-flow",style:{backgroundColor:le}},!oe&&!re&&a.default.createElement(P.default,{isWelcomePage:ie,location:j}),a.default.createElement(g.Box,{className:(0,i.default)("onboarding-flow__container",{"onboarding-flow__container--full":se,"onboarding-flow__container--popup":oe,"onboarding-flow__container--sidepanel":re}),width:h.BlockSize.Full,borderRadius:h.BorderRadius.LG,marginTop:z===l.ONBOARDING_WELCOME_ROUTE||oe||re?0:3,marginInline:"auto",style:{backgroundColor:[l.ONBOARDING_WELCOME_ROUTE,l.ONBOARDING_UNLOCK_ROUTE].includes(z)||oe?"transparent":"var(--color-background-muted)"}},a.default.createElement(o.Routes,null,a.default.createElement(o.Route,{path:U(l.ONBOARDING_ACCOUNT_EXIST),element:a.default.createElement(A.default,null)}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_ACCOUNT_NOT_FOUND),element:a.default.createElement(D.default,null)}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_CREATE_PASSWORD_ROUTE),element:a.default.createElement(C.default,{createNewAccount:async e=>{try{let n;c(!0),te&&ee===E.FirstTimeFlowType.socialCreate?n=await W((0,d.createNewVaultAndSyncWithSocial)(e)):ee===E.FirstTimeFlowType.create&&(n=await W((0,d.createNewVaultAndGetSeedPhrase)(e))),n&&t(n)}finally{c(!1)}},importWithRecoveryPhrase:async(e,t)=>await W((0,d.createNewVaultAndRestore)(e,t)),secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_REVEAL_SRP_ROUTE),element:a.default.createElement(F.default,{setSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_REVIEW_SRP_ROUTE),element:a.default.createElement(O.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_CONFIRM_SRP_ROUTE),element:a.default.createElement(w.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE),element:a.default.createElement(B.default,{submitSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_UNLOCK_ROUTE),element:a.default.createElement(s.default,{onSubmit:async e=>{try{let n;if(c(!0),n=te&&ee===E.FirstTimeFlowType.socialImport?await W((0,d.restoreSocialBackupAndGetSeedPhrase)(e)):await W((0,d.unlockAndGetSeedPhrase)(e)),n&&t(n),ee===E.FirstTimeFlowType.socialImport)return void await W((0,d.setCompletedOnboarding)());V(K,{replace:!0})}finally{c(!1)}}})}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_PRIVACY_SETTINGS_ROUTE),element:a.default.createElement(I.default,null)}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_COMPLETION_ROUTE),element:a.default.createElement(R.default,null)}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_WELCOME_ROUTE),element:a.default.createElement(N.default,null)}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_METAMETRICS),element:a.default.createElement(M.default,null)}),a.default.createElement(o.Route,{path:U(l.ONBOARDING_DOWNLOAD_APP_ROUTE),element:a.default.createElement(L.default,null)}),a.default.createElement(o.Route,{path:"*",element:a.default.createElement(k.default,null)}))),n&&a.default.createElement(_.default,null))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=W(e("classnames")),s=W(e("../unlock-page")),l=e("../../helpers/constants/routes"),c=e("../routes/utils"),u=e("../../ducks/metamask/metamask"),d=e("../../store/actions"),p=e("../../selectors"),m=e("../../contexts/metametrics"),f=e("../../components/app/toast-master/utils"),g=e("../../components/component-library"),h=e("../../helpers/constants/design-system"),y=e("../../../app/scripts/lib/util"),x=e("../../../shared/constants/app"),E=e("../../../shared/constants/onboarding"),T=e("../../../shared/modules/environment"),v=e("../../../shared/lib/trace"),_=W(e("../../components/ui/loading-screen")),b=e("../../hooks/useTheme"),S=e("../../../shared/constants/preferences"),k=W(e("./onboarding-flow-switch/onboarding-flow-switch")),C=W(e("./create-password/create-password")),O=W(e("./recovery-phrase/review-recovery-phrase")),w=W(e("./recovery-phrase/confirm-recovery-phrase")),I=W(e("./privacy-settings/privacy-settings")),R=W(e("./creation-successful/creation-successful")),N=W(e("./welcome/welcome")),B=W(e("./import-srp/import-srp")),M=W(e("./metametrics/metametrics")),P=W(e("./onboarding-app-header/onboarding-app-header")),A=W(e("./account-exist/account-exist")),D=W(e("./account-not-found/account-not-found")),F=W(e("./recovery-phrase/reveal-recovery-phrase")),L=W(e("./download-app/download-app"));function W(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}const U=e=>(0,c.toRelativeRoutePath)(e,l.ONBOARDING_ROUTE)}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.tsx"}],[8363,{"../../../../app/scripts/lib/util":380,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/network":6194,"../../../../shared/lib/ui-utils":6306,"../../../../shared/modules/selectors/networks":6335,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6503,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../ducks/app/app":7432,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../helpers/constants/zendesk-url":7472,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"../../../selectors/identity/backup-and-sync":8576,"../../../store/actions":8611,"../../settings/security-tab/delete-metametrics-data-button":8459,"../../settings/security-tab/metametrics-toggle/metametrics-toggle":8462,"./setting":8364,classnames:4507,loglevel:5247,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,h.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useNavigate)(),[O,w]=(0,a.useState)(!1),[R,N]=(0,a.useState)(null),[B,M]=(0,a.useState)(!0),P=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:A,useTokenDetection:D,useCurrencyRateCheck:F,useMultiAccountBalanceChecker:L,ipfsGateway:W,useAddressBarEnsResolution:j,useTransactionSimulations:U}=P,z=(0,o.useSelector)(y.getUseExternalNameSources),$=(0,o.useSelector)(y.getIsSocialLoginFlow),V=(0,o.useSelector)(y.getDataCollectionForMarketing),[G,q]=(0,a.useState)(A),[J,K]=(0,a.useState)(D),[H,X]=(0,a.useState)(F),[Y,Q]=(0,a.useState)(L),[Z,ee]=(0,a.useState)(U),[te,ne]=(0,a.useState)(W),[ae,oe]=(0,a.useState)(null),[re,ie]=(0,a.useState)(j),[se,le]=(0,a.useState)(z),{trackEvent:ce}=(0,a.useContext)(m.MetaMetricsContext),ue=(0,o.useSelector)(x.getNetworkConfigurationsByChainId),de=(0,o.useSelector)(y.getExternalServicesOnboardingToggleState),pe=(0,o.useSelector)(_.selectIsBackupAndSyncEnabled),{search:me}=(0,r.useLocation)(),fe=new URLSearchParams(me).get("isFromReminder"),ge=e=>{N(e),w(!0),setTimeout(()=>{M(!1)},I)},he=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e($?"securityDefaultSettingsSocialLogin":"security"),subtitle:e($?"securitySocialLoginDefaultSettingsDescription":"securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,i.default)("container",{"show-detail":O,"show-list":!O})},a.default.createElement("div",{className:"list-view"},a.default.createElement(p.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:f.Display.Flex,flexDirection:f.FlexDirection.Column,justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowLeft,ariaLabel:"Back",size:p.ButtonIconSize.Lg,"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,E.setUse4ByteResolution)(G)),t((0,E.setUseTokenDetection)(J)),t((0,E.setUseMultiAccountBalanceChecker)(Y)),t((0,E.setUseCurrencyRateCheck)(H)),t((0,E.setUseAddressBarEnsResolution)(re)),(0,E.setUseTransactionSimulations)(Z),(0,E.setUseExternalNameSources)(se),te&&!ae){const{host:e}=new URL((0,l.addUrlProtocolPrefix)(te));t((0,E.setIpfsGateway)(e))}ce({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:pe,is_basic_functionality_enabled:de,turnon_token_detection:J}}),n(fe?`${g.ONBOARDING_COMPLETION_ROUTE}?isFromReminder=true`:g.ONBOARDING_COMPLETION_ROUTE,{replace:!0})}}),a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,width:f.BlockSize.Full},a.default.createElement(p.Text,{variant:f.TextVariant.headingMd,as:"h3"},e("defaultSettingsTitle"))),a.default.createElement(p.Box,{className:"privacy-settings__empty-space"})),a.default.createElement(p.Text,{variant:f.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(p.Box,null,a.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},he.map(e=>a.default.createElement(p.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>ge(e)},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.flexStart,justifyContent:f.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(p.Text,{variant:f.TextVariant.bodyLgMedium},e.title),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowRight,ariaLabel:"Next",size:p.ButtonIconSize.Lg,color:f.IconColor.iconDefault,onClick:()=>ge(e)})),a.default.createElement(p.Text,{className:"description",variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,i.default)("detail-view",{hidden:!O&&B})},a.default.createElement(p.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:f.Display.Flex,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.ButtonIcon,{"data-testid":"category-back-button",iconName:p.IconName.ArrowLeft,ariaLabel:"Back",size:p.ButtonIconSize.Lg,onClick:()=>{w(!1),setTimeout(()=>{M(!0)},I)}}),a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,width:f.BlockSize.Full},a.default.createElement(p.Text,{variant:f.TextVariant.headingLg,as:"h2"},null==R?void 0:R.title)),a.default.createElement(p.Box,{className:"privacy-settings__empty-space"})),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==R?void 0:R.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(C.Setting,{dataTestId:"basic-functionality-toggle",value:de,setValue:e=>{e?(t((0,T.onboardingToggleBasicFunctionalityOn)()),ce({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,T.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(b.BackupAndSyncToggle,null),a.default.createElement(C.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,enableMarginBottom:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:d.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(p.Box,{paddingTop:4},a.default.createElement(p.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:5},Object.values(ue).filter(({chainId:e})=>!v.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(p.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,E.setEditedNetwork)({chainId:e.chainId})),t((0,E.toggleNetworkMenu)())},display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.AvatarNetwork,{src:v.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(p.Box,{textAlign:f.TextAlign.Left,marginLeft:3},a.default.createElement(p.Text,{variant:f.TextVariant.bodySmMedium},e.name),a.default.createElement(p.Text,{variant:f.TextVariant.bodyXs,color:f.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowRight,size:p.ButtonIconSize.Md,ariaLabel:"Next"}))}),a.default.createElement(p.ButtonLink,{onClick:()=>{t((0,E.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.Icon,{name:p.IconName.Add,marginRight:3}),a.default.createElement(p.Text,{color:f.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==R?void 0:R.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(C.Setting,{value:J,setValue:K,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(C.Setting,{value:Z,setValue:ee,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:u.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(C.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(p.Box,{paddingTop:2},a.default.createElement(p.TextField,{value:te,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{ne(t);try{const{host:e}=new URL((0,l.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;oe(null)}catch(t){oe(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),te?a.default.createElement(p.Text,{variant:f.TextVariant.bodySm,color:ae?f.TextColor.errorDefault:f.TextColor.successDefault},ae||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(C.Setting,{value:H,setValue:X,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:u.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:u.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:u.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(C.Setting,{value:re,setValue:ie,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Text,{variant:f.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(p.Text,{variant:f.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(p.Text,{variant:f.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(p.Text,{variant:f.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(C.Setting,{value:Y,setValue:Q,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==R?void 0:R.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(C.Setting,{value:G,setValue:q,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(C.Setting,{value:se,setValue:le,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")}),$&&a.default.createElement(a.default.Fragment,null,a.default.createElement(k.default,{dataCollectionForMarketing:V,setDataCollectionForMarketing:async e=>{try{t((0,E.setMarketingConsent)(e))}catch(e){s.default.error("Error setting marketing consent in default settings",e)}t((0,E.setDataCollectionForMarketing)(e))},fromDefaultSettings:!0}),a.default.createElement(S.default,{defaultPrivacySettings:!0}))):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=O(e("classnames")),s=O(e("loglevel")),l=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/lib/ui-utils"),d=O(e("../../../helpers/constants/zendesk-url")),p=e("../../../components/component-library"),m=e("../../../contexts/metametrics"),f=e("../../../helpers/constants/design-system"),g=e("../../../helpers/constants/routes"),h=e("../../../hooks/useI18nContext"),y=e("../../../selectors"),x=e("../../../../shared/modules/selectors/networks"),E=e("../../../store/actions"),T=e("../../../ducks/app/app"),v=e("../../../../shared/constants/network"),_=e("../../../selectors/identity/backup-and-sync"),b=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),S=O(e("../../settings/security-tab/delete-metametrics-data-button")),k=O(e("../../settings/security-tab/metametrics-toggle/metametrics-toggle")),C=e("./setting");function O(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const I=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.tsx"}],[8364,{"../../../components/component-library":6951,"../../../components/ui/toggle-button":7396,"../../../helpers/constants/design-system":7460,"../../../hooks/useI18nContext":7615,"@metamask/design-system-react":1999,"prop-types":5495,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=e("react-compiler-runtime"),o=d(e("react")),r=d(e("prop-types")),i=e("@metamask/design-system-react"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=d(e("../../../components/ui/toggle-button")),u=e("../../../hooks/useI18nContext");function d(e){return e&&e.__esModule?e:{default:e}}const p=e=>{const t=(0,a.c)(18),{value:n,setValue:r,title:d,description:p,showToggle:m,dataTestId:f,disabled:g,enableMarginBottom:h}=e,y=m===undefined||m,x=g!==undefined&&g,E=h===undefined||h,T=(0,u.useI18nContext)(),v=E?3:0;let _,b,S,k,C;return t[0]!==d?(_=o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium,color:i.TextColor.TextDefault},d),t[0]=d,t[1]=_):_=t[1],t[2]!==x||t[3]!==r||t[4]!==y||t[5]!==T||t[6]!==n?(b=y?o.default.createElement(i.Box,null,o.default.createElement(c.default,{value:n,onToggle:e=>null==r?void 0:r(!e),offLabel:T("off"),onLabel:T("on"),disabled:x})):null,t[2]=x,t[3]=r,t[4]=y,t[5]=T,t[6]=n,t[7]=b):b=t[7],t[8]!==_||t[9]!==b?(S=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center,marginBottom:4,className:"w-full",gap:4},_,b),t[8]=_,t[9]=b,t[10]=S):S=t[10],t[11]!==p?(k=o.default.createElement(l.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,as:"div",className:"w-full"},p),t[11]=p,t[12]=k):k=t[12],t[13]!==f||t[14]!==v||t[15]!==S||t[16]!==k?(C=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,justifyContent:i.BoxJustifyContent.Center,alignItems:i.BoxAlignItems.Start,marginTop:3,marginBottom:v,"data-testid":f},S,k),t[13]=f,t[14]=v,t[15]=S,t[16]=k,t[17]=C):C=t[17],C};n.Setting=p,p.propTypes={value:r.default.bool,setValue:r.default.func,title:r.default.string,description:r.default.oneOfType([r.default.object,r.default.string]),showToggle:r.default.bool,dataTestId:r.default.string,disabled:r.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.tsx"}],[8365,{"../../../../shared/constants/app":6175,"../../../../shared/constants/metametrics":6190,"../../../../shared/lib/trace":6299,"../../../../shared/modules/browser-runtime.utils":6312,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors/selectors":8597,"../../../store/actions":8611,"./confirm-srp-modal":8366,"./recovery-phrase-chips":8367,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=_(e("prop-types")),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../selectors/selectors"),g=e("../../../helpers/constants/routes"),h=e("../../../../shared/constants/app"),y=e("../../../../shared/lib/trace"),x=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../ducks/metamask/metamask"),T=_(e("./confirm-srp-modal")),v=_(e("./recovery-phrase-chips"));function _(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const S=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function k(e){const t=(0,a.c)(69),{secretRecoveryPhrase:n}=e,s=n===undefined?"":n,_=(0,i.useDispatch)(),b=(0,r.useNavigate)(),{search:k}=(0,r.useLocation)(),O=(0,u.useI18nContext)(),{trackEvent:w,bufferedEndTrace:I}=(0,o.useContext)(p.MetaMetricsContext),R=(0,i.useSelector)(f.getHDEntropyIndex),N=(0,i.useSelector)(E.getSeedPhraseBackedUp);let B;t[0]!==s?(B=s?s.split(" "):[],t[0]=s,t[1]=B):B=t[1];const M=B;let P,A,D;if(t[2]!==k){const e=new URLSearchParams(k);P=e.get("isFromReminder"),A=e.get("isFromSettingsSecurity");const n=new URLSearchParams;P&&n.set("isFromReminder",P),A&&n.set("isFromSettingsSecurity",A),D=n.toString(),t[2]=k,t[3]=P,t[4]=A,t[5]=D}else P=t[3],A=t[4],D=t[5];const F=D,[L,W]=(0,o.useState)(!1),[j,U]=(0,o.useState)(!1);let z;t[6]!==M?(z=S(M),t[6]=M,t[7]=z):z=t[7];const[$,V]=(0,o.useState)(z),[G,q]=(0,o.useState)("");let J,K,H;t[8]!==N||t[9]!==P||t[10]!==b||t[11]!==F||t[12]!==s?(J=()=>{if(s){if(N){const e=(0,x.getBrowserName)()===h.PLATFORM_FIREFOX;b(e||P?g.ONBOARDING_COMPLETION_ROUTE:g.ONBOARDING_METAMETRICS,{replace:!0})}}else b(`${g.ONBOARDING_REVEAL_SRP_ROUTE}${F?`?${F}`:""}`,{replace:!0})},K=[b,s,F,N,P],t[8]=N,t[9]=P,t[10]=b,t[11]=F,t[12]=s,t[13]=J,t[14]=K):(J=t[13],K=t[14]),(0,o.useEffect)(J,K),t[15]!==M?(H=()=>{const e=S(M);V(e)},t[15]=M,t[16]=H):H=t[16];const X=H;let Y;t[17]!==M?(Y=e=>{if(e.some(C))q("");else{const t=[...M];e.forEach(e=>{t[e.index]=e.word}),q(t.join(" "))}},t[17]=M,t[18]=Y):Y=t[18];const Q=Y;let Z;t[19]!==G||t[20]!==s?(Z=()=>{U(G===s),W(!0)},t[19]=G,t[20]=s,t[21]=Z):Z=t[21];const ee=Z;let te;t[22]!==I||t[23]!==_||t[24]!==R||t[25]!==P||t[26]!==b||t[27]!==F||t[28]!==w?(te=()=>{_((0,d.setSeedPhraseBackedUp)(!0)),w({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:R}}),null==I||I({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==I||I({name:y.TraceName.OnboardingJourneyOverall});const e=(0,x.getBrowserName)()===h.PLATFORM_FIREFOX||P?g.ONBOARDING_COMPLETION_ROUTE:g.ONBOARDING_METAMETRICS;b(`${e}${F?`?${F}`:""}`,{replace:!0})},t[22]=I,t[23]=_,t[24]=R,t[25]=P,t[26]=b,t[27]=F,t[28]=w,t[29]=te):te=t[29];const ne=te;let ae;t[30]!==b?(ae=()=>{b(g.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[30]=b,t[31]=ae):ae=t[31];const oe=ae;let re,ie,se,le,ce,ue,de,pe;t[32]!==ne||t[33]!==j||t[34]!==X||t[35]!==L?(re=L&&o.default.createElement(T.default,{isError:!j,onContinue:ne,onClose:()=>{X(),W(!1)}}),t[32]=ne,t[33]=j,t[34]=X,t[35]=L,t[36]=re):re=t[36],t[37]!==P||t[38]!==A||t[39]!==b||t[40]!==oe||t[41]!==O?(ie=P&&A?o.default.createElement(l.Box,{className:"recovery-phrase__header",display:c.Display.Grid,alignItems:c.AlignItems.center,gap:1,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-back-button",onClick:()=>b(g.PREVIOUS_ROUTE),ariaLabel:O("back")}),o.default.createElement(l.Text,{variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},O("confirmRecoveryPhraseTitleSettings")),o.default.createElement(l.ButtonIcon,{iconName:l.IconName.Close,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-close-button",onClick:oe,ariaLabel:O("close")})):o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>b(g.PREVIOUS_ROUTE),ariaLabel:O("back")})),o.default.createElement(l.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.Text,{variant:c.TextVariant.headingLg,as:"h2"},O("confirmRecoveryPhraseTitle")))),t[37]=P,t[38]=A,t[39]=b,t[40]=oe,t[41]=O,t[42]=ie):ie=t[42],t[43]!==O?(se=O("confirmRecoveryPhraseDetails"),t[43]=O,t[44]=se):se=t[44],t[45]!==se?(le=o.default.createElement(l.Box,null,o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},se)),t[45]=se,t[46]=le):le=t[46],t[47]!==Q||t[48]!==$||t[49]!==M?(ce=M.length>0&&o.default.createElement(v.default,{secretRecoveryPhrase:M,quizWords:$,confirmPhase:!0,setInputValue:Q}),t[47]=Q,t[48]=$,t[49]=M,t[50]=ce):ce=t[50],t[51]!==re||t[52]!==ie||t[53]!==le||t[54]!==ce?(ue=o.default.createElement(l.Box,null,re,ie,le,ce),t[51]=re,t[52]=ie,t[53]=le,t[54]=ce,t[55]=ue):ue=t[55],t[56]!==ee?(de=()=>ee(),t[56]=ee,t[57]=de):de=t[57],t[58]!==G?(pe=G.trim(),t[58]=G,t[59]=pe):pe=t[59];const me=""===pe;let fe,ge,he;return t[60]!==O?(fe=O("continue"),t[60]=O,t[61]=fe):fe=t[61],t[62]!==de||t[63]!==me||t[64]!==fe?(ge=o.default.createElement(l.Box,{width:c.BlockSize.Full},o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,width:c.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:l.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:de,disabled:me},fe)),t[62]=de,t[63]=me,t[64]=fe,t[65]=ge):ge=t[65],t[66]!==ue||t[67]!==ge?(he=o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},ue,ge),t[66]=ue,t[67]=ge,t[68]=he):he=t[68],he}function C(e){return!e.word}k.propTypes={secretRecoveryPhrase:s.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.tsx"}],[8366,{"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../hooks/useI18nContext":7615,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(33),{onContinue:n,onClose:a,isError:u}=e,d=(0,s.useI18nContext)();let p;t[0]!==u||t[1]!==a||t[2]!==n?(p=()=>{u?a():n()},t[0]=u,t[1]=a,t[2]=n,t[3]=p):p=t[3];const m=p;let f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=r.default.createElement(l.ModalOverlay,null),t[4]=f):f=t[4];const g=u?l.IconName.CircleX:l.IconName.Confirmation,h=u?i.IconColor.errorDefault:i.IconColor.successDefault;let y,x,E,T,v,_,b,S,k,C;t[5]!==g||t[6]!==h?(y=r.default.createElement(l.Icon,{name:g,size:l.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:h}),t[5]=g,t[6]=h,t[7]=y):y=t[7];t[8]!==u||t[9]!==d?(x=d(u?"confirmSrpErrorTitle":"confirmSrpSuccessTitle"),t[8]=u,t[9]=d,t[10]=x):x=t[10];t[11]!==x?(E=r.default.createElement(l.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:2,as:"h2"},x),t[11]=x,t[12]=E):E=t[12];t[13]!==y||t[14]!==E?(T=r.default.createElement(l.ModalHeader,null,r.default.createElement(l.Box,{textAlign:i.TextAlign.Center},y,E)),t[13]=y,t[14]=E,t[15]=T):T=t[15];t[16]!==u||t[17]!==d?(v=d(u?"confirmSrpErrorDescription":"confirmSrpSuccessDescription"),t[16]=u,t[17]=d,t[18]=v):v=t[18];t[19]!==v?(_=r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd},v),t[19]=v,t[20]=_):_=t[20];t[21]!==u||t[22]!==d?(b=d(u?"tryAgain":"gotIt"),t[21]=u,t[22]=d,t[23]=b):b=t[23];t[24]!==m||t[25]!==b?(S=r.default.createElement(l.Box,{marginTop:6},r.default.createElement(l.Button,{"data-testid":"confirm-srp-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:m,block:!0},b)),t[24]=m,t[25]=b,t[26]=S):S=t[26];t[27]!==_||t[28]!==S?(k=r.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},_,S),t[27]=_,t[28]=S,t[29]=k):k=t[29];t[30]!==k||t[31]!==T?(C=r.default.createElement(l.Modal,{isOpen:!0,onClose:c,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},f,r.default.createElement(l.ModalContent,{alignItems:i.AlignItems.center},T,k)),t[30]=k,t[31]=T,t[32]=C):C=t[32];return C};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library");function c(){return null}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[8367,{"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../hooks/useI18nContext":7615,classnames:4507,"prop-types":5495,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m,n.fakeSeedPhraseWords=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("classnames")),i=u(e("prop-types")),s=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function m(e){const t=(0,a.c)(61),{secretRecoveryPhrase:n,phraseRevealed:i,revealPhrase:u,confirmPhase:d,quizWords:p,setInputValue:m}=e,y=i===undefined||i;let T;t[0]!==p?(T=p===undefined?[]:p,t[0]=p,t[1]=T):T=t[1];const v=T,_=(0,l.useI18nContext)();let b;t[2]!==v?(b=v.map(E),t[2]=v,t[3]=b):b=t[3];const S=b;let k;t[4]!==S?(k=S.map(x),t[4]=S,t[5]=k):k=t[5];const[C,O]=(0,o.useState)(k),w=h,[I,R]=(0,o.useState)(w(C));let N;t[6]!==I||t[7]!==C?(N=(e,t)=>{const n=[...C],a=n.findIndex(e=>e.index===I);n[a]={index:I,word:e,actualIndexInSrp:t},O(n),R(w(n))},t[6]=I,t[7]=C,t[8]=N):N=t[8];const B=N;let M;t[9]!==C?(M=e=>{const t=[...C],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},O(t),R(t[n].index)},t[9]=C,t[10]=M):M=t[10];const P=M;let A,D,F,L,W;t[11]!==C||t[12]!==m?(A=()=>{null==m||m(C)},D=[C,m],t[11]=C,t[12]=m,t[13]=A,t[14]=D):(A=t[13],D=t[14]),(0,o.useEffect)(A,D),t[15]!==v?(F=()=>{if(v.length){const e=v.map(g);O(e),R(w(e))}},L=[v],t[15]=v,t[16]=F,t[17]=L):(F=t[16],L=t[17]),(0,o.useEffect)(F,L),t[18]!==y||t[19]!==n?(W=y?n:n.map(f),t[18]=y,t[19]=n,t[20]=W):W=t[20];const j=W;let U,z;t[21]!==n?(U=n.join(":"),t[21]=n,t[22]=U):U=t[22],t[23]!==v?(z=JSON.stringify(v),t[23]=v,t[24]=z):z=t[24];const $=!y;let V,G,q,J,K,H,X;if(t[25]!==$?(V=(0,r.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":$}),t[25]=$,t[26]=V):V=t[26],t[27]!==d||t[28]!==I||t[29]!==S||t[30]!==j||t[31]!==C||t[32]!==P){let e;t[34]!==d||t[35]!==I||t[36]!==S||t[37]!==C||t[38]!==P?(e=(e,t)=>{var n;const a=S.includes(t),r=a?(null===(n=C.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,i=t===I;return a||!d?o.default.createElement(s.Box,{key:t,as:a?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:a?c.BackgroundColor.backgroundDefault:c.BackgroundColor.backgroundMuted,borderColor:i?c.BorderColor.primaryDefault:c.BorderColor.borderMuted,borderWidth:i?2:1,borderRadius:c.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{a&&(""===r?R(t):P(r))}},o.default.createElement(s.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),o.default.createElement(s.Text,{variant:c.TextVariant.inherit},a?r:e)):o.default.createElement(s.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:r,inputProps:{textVariant:c.TextVariant.inherit},startAccessory:o.default.createElement(s.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:s.TextFieldType.Password,disabled:!0,readOnly:!0,backgroundColor:c.BackgroundColor.backgroundMuted})},t[34]=d,t[35]=I,t[36]=S,t[37]=C,t[38]=P,t[39]=e):e=t[39],G=j.map(e),t[27]=d,t[28]=I,t[29]=S,t[30]=j,t[31]=C,t[32]=P,t[33]=G}else G=t[33];return t[40]!==U||t[41]!==z||t[42]!==V||t[43]!==G?(q=o.default.createElement(s.Box,{key:"recovery-phrase-chips",display:c.Display.Grid,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,"data-testid":"recovery-phrase-chips","data-recovery-phrase":U,"data-quiz-words":z,className:V},G),t[40]=U,t[41]=z,t[42]=V,t[43]=G,t[44]=q):q=t[44],t[45]!==y||t[46]!==u||t[47]!==_?(J=!y&&o.default.createElement(s.Box,{key:"recovery-phrase__secret-blocker-container",width:c.BlockSize.Full,height:c.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderRadius:c.BorderRadius.SM,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),o.default.createElement(s.Box,{as:"button",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.transparent,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==u||u()},"data-testid":"recovery-phrase-reveal"},o.default.createElement(s.Icon,{name:s.IconName.EyeSlash,color:c.IconColor.iconDefault,size:s.IconSize.Md}),o.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault,fontWeight:c.FontWeight.Medium},_("tapToReveal")),o.default.createElement(s.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},_("tapToRevealNote")))),t[45]=y,t[46]=u,t[47]=_,t[48]=J):J=t[48],t[49]!==q||t[50]!==J?(K=o.default.createElement(s.Box,{borderRadius:c.BorderRadius.LG,display:c.Display.Grid,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},q,J),t[49]=q,t[50]=J,t[51]=K):K=t[51],t[52]!==B||t[53]!==C||t[54]!==v||t[55]!==P||t[56]!==n?(H=3===v.length&&o.default.createElement(s.Box,{display:c.Display.Flex,gap:2,width:c.BlockSize.Full},v.map(e=>{const t=e.index;return C.some(e=>e.actualIndexInSrp===t)?o.default.createElement(s.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${t}`,key:e.index,color:c.TextColor.textAlternative,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{P(e.word)},backgroundColor:c.BackgroundColor.backgroundMuted},n[t]):o.default.createElement(s.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${t}`,key:e.index,variant:s.ButtonVariant.Secondary,borderRadius:c.BorderRadius.LG,block:!0,borderColor:c.BorderColor.primaryDefault,color:c.TextColor.primaryDefault,onClick:()=>{B(e.word,t)}},n[t])})),t[52]=B,t[53]=C,t[54]=v,t[55]=P,t[56]=n,t[57]=H):H=t[57],t[58]!==K||t[59]!==H?(X=o.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},K,H),t[58]=K,t[59]=H,t[60]=X):X=t[60],X}function f(e,t){return p[t%p.length]}function g(e){return{index:e.index,word:"",actualIndexInSrp:-1}}function h(e){const t=e.reduce(y,[]);return t.length?Math.min(...t):-1}function y(e,t){return""===t.word&&e.push(t.index),e}function x(e){return{index:e,word:"",actualIndexInSrp:-1}}function E(e){return e.index}m.propTypes={secretRecoveryPhrase:i.default.array,phraseRevealed:i.default.bool,revealPhrase:i.default.func,confirmPhase:i.default.bool,quizWords:i.default.array,setInputValue:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.tsx"}],[8368,{"../../../../shared/constants/app":6175,"../../../../shared/modules/browser-runtime.utils":6312,"../../../components/component-library":6951,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../store/actions":8611,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,i.useI18nContext)(),{search:f}=(0,o.useLocation)(),g=new URLSearchParams(f),h=g.get("isFromReminder"),y=g.get("isFromSettingsSecurity"),x=(0,r.useSelector)(d.getSeedPhraseBackedUp),E=new URLSearchParams;h&&E.set("isFromReminder",h);y&&E.set("isFromSettingsSecurity",y);const T=E.toString(),[v,_]=(0,a.useState)(""),[b,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(x){const e=(0,p.getBrowserName)()===m.PLATFORM_FIREFOX;t(e?u.ONBOARDING_COMPLETION_ROUTE:u.ONBOARDING_METAMETRICS,{replace:!0})}},[t,x]);const k=(0,a.useCallback)(async n=>{try{const a=await(0,c.getSeedPhrase)(n);e(a),t(`${u.ONBOARDING_REVIEW_SRP_ROUTE}${T?`?${T}`:""}`,{replace:!0})}catch(e){S(!0)}},[e,t,T]),C=(0,a.useCallback)(()=>{t(y?u.REVEAL_SRP_LIST_ROUTE:u.DEFAULT_ROUTE,{replace:!0})},[t,y]);return a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,height:l.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(s.Box,{width:l.BlockSize.Full},a.default.createElement(s.Box,{className:"recovery-phrase__header",display:l.Display.Grid,alignItems:l.AlignItems.center,gap:3,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:C,ariaLabel:n("back")}),a.default.createElement(s.Text,{variant:l.TextVariant.headingSm,textAlign:l.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(s.ButtonIcon,{iconName:s.IconName.Close,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:C,ariaLabel:n("close")})),a.default.createElement(s.Box,{width:l.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),k(v)}},a.default.createElement(s.FormTextField,{size:s.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{_(e.target.value),S(!1)},value:v,error:b,helpText:b?n("unlockPageIncorrectPassword"):null,type:s.TextFieldType.Password,labelProps:{fontWeight:l.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(s.Box,{width:l.BlockSize.Full},a.default.createElement(s.Button,{width:l.BlockSize.Full,variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>k(v)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../store/actions"),u=e("../../../helpers/constants/routes"),d=e("../../../ducks/metamask/metamask"),p=e("../../../../shared/modules/browser-runtime.utils"),m=e("../../../../shared/constants/app");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[8369,{"../../../../shared/constants/app":6175,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/onboarding":6197,"../../../../shared/lib/trace":6299,"../../../../shared/modules/browser-runtime.utils":6312,"../../../components/app/srp-details-modal":6827,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"../../../store/actions":8611,"./recovery-phrase-chips":8367,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=b(e("prop-types")),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),p=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics"),f=e("../../../selectors"),g=b(e("../../../components/app/srp-details-modal")),h=e("../../../store/actions"),y=e("../../../../shared/lib/trace"),x=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../../shared/constants/app"),T=e("../../../../shared/constants/onboarding"),v=e("../../../ducks/metamask/metamask"),_=b(e("./recovery-phrase-chips"));function b(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function k(e){const t=(0,a.c)(77),{secretRecoveryPhrase:n}=e,s=(0,r.useNavigate)(),b=(0,l.useI18nContext)(),{search:S}=(0,r.useLocation)(),k=(0,i.useDispatch)(),C=(0,i.useSelector)(f.getFirstTimeFlowType),O=(0,i.useSelector)(v.getSeedPhraseBackedUp),{trackEvent:w,bufferedEndTrace:I}=(0,o.useContext)(m.MetaMetricsContext),R=(0,i.useSelector)(f.getHDEntropyIndex),[N,B]=(0,o.useState)(!1),[M,P]=(0,o.useState)(!1);let A,D,F;if(t[0]!==S){const e=new URLSearchParams(S);A=e.get("isFromReminder"),D=e.get("isFromSettingsSecurity");const n=new URLSearchParams;A&&n.set("isFromReminder",A),D&&n.set("isFromSettingsSecurity",D),F=n.toString(),t[0]=S,t[1]=A,t[2]=D,t[3]=F}else A=t[1],D=t[2],F=t[3];const L=F;let W,j,U;t[4]!==O||t[5]!==s||t[6]!==L||t[7]!==n?(W=()=>{if(n){if(O){const e=(0,x.getBrowserName)()===E.PLATFORM_FIREFOX;s(e?c.ONBOARDING_COMPLETION_ROUTE:c.ONBOARDING_METAMETRICS,{replace:!0})}}else s({pathname:c.ONBOARDING_REVEAL_SRP_ROUTE,search:L?`?${L}`:""},{replace:!0})},j=[s,n,L,O],t[4]=O,t[5]=s,t[6]=L,t[7]=n,t[8]=W,t[9]=j):(W=t[8],j=t[9]),(0,o.useEffect)(W,j),t[10]!==R||t[11]!==s||t[12]!==L||t[13]!==w?(U=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:R}}),s({pathname:c.ONBOARDING_CONFIRM_SRP_ROUTE,search:L?`?${L}`:""})},t[10]=R,t[11]=s,t[12]=L,t[13]=w,t[14]=U):U=t[14];const z=U;let $;t[15]!==w?($=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),P(!0)},t[15]=w,t[16]=$):$=t[16];const V=$;let G;t[17]!==I||t[18]!==k||t[19]!==C||t[20]!==R||t[21]!==s||t[22]!==w?(G=async()=>{await k((0,h.setSeedPhraseBackedUp)(!1)),w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:R}}),null==I||I({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==I||I({name:y.TraceName.OnboardingJourneyOverall}),(0,x.getBrowserName)()===E.PLATFORM_FIREFOX||C===T.FirstTimeFlowType.restore?s(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):s(c.ONBOARDING_METAMETRICS,{replace:!0})},t[17]=I,t[18]=k,t[19]=C,t[20]=R,t[21]=s,t[22]=w,t[23]=G):G=t[23];const q=G;let J;t[24]!==s||t[25]!==L?(J=()=>{s(`${c.ONBOARDING_REVEAL_SRP_ROUTE}${L?`?${L}`:""}`,{replace:!0})},t[24]=s,t[25]=L,t[26]=J):J=t[26];const K=J;let H;t[27]!==s?(H=()=>{s(c.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[27]=s,t[28]=H):H=t[28];const X=H;let Y,Q,Z,ee,te,ne,ae,oe,re,ie;t[29]!==M?(Y=M&&o.default.createElement(g.default,{onClose:()=>P(!1)}),t[29]=M,t[30]=Y):Y=t[30],t[31]!==K||t[32]!==A||t[33]!==D||t[34]!==X||t[35]!==b?(Q=A&&D?o.default.createElement(u.Box,{className:"recovery-phrase__header",display:d.Display.Grid,alignItems:d.AlignItems.center,gap:3,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowLeft,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-back-button",onClick:K,ariaLabel:b("back")}),o.default.createElement(u.Text,{variant:d.TextVariant.headingSm,textAlign:d.TextAlign.Center},b("seedPhraseReviewTitleSettings")),o.default.createElement(u.ButtonIcon,{iconName:u.IconName.Close,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-close-button",onClick:X,ariaLabel:b("close")})):o.default.createElement(u.Box,{justifyContent:d.JustifyContent.flexStart,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.Text,{variant:d.TextVariant.headingLg,as:"h2"},b("seedPhraseReviewTitle"))),t[31]=K,t[32]=A,t[33]=D,t[34]=X,t[35]=b,t[36]=Q):Q=t[36],t[37]!==b?(Z=b("secretRecoveryPhrase"),t[37]=b,t[38]=Z):Z=t[38],t[39]!==V||t[40]!==Z?(ee=o.default.createElement(u.ButtonLink,{key:"seedPhraseReviewDetails",size:u.ButtonLinkSize.Inherit,onClick:V},Z),t[39]=V,t[40]=Z,t[41]=ee):ee=t[41],t[42]!==b||t[43]!==ee?(te=b("seedPhraseReviewDetails",[ee]),t[42]=b,t[43]=ee,t[44]=te):te=t[44],t[45]!==te?(ne=o.default.createElement(u.Box,null,o.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},te)),t[45]=te,t[46]=ne):ne=t[46],t[47]!==n?(ae=n.split(" "),t[47]=n,t[48]=ae):ae=t[48],t[49]!==R||t[50]!==w?(oe=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:R}}),B(!0)},t[49]=R,t[50]=w,t[51]=oe):oe=t[51],t[52]!==N||t[53]!==ae||t[54]!==oe?(re=o.default.createElement(_.default,{secretRecoveryPhrase:ae,phraseRevealed:N,revealPhrase:oe}),t[52]=N,t[53]=ae,t[54]=oe,t[55]=re):re=t[55],t[56]!==Q||t[57]!==ne||t[58]!==re||t[59]!==Y?(ie=o.default.createElement(u.Box,null,Y,Q,ne,re),t[56]=Q,t[57]=ne,t[58]=re,t[59]=Y,t[60]=ie):ie=t[60];const se=!N;let le,ce,ue,de,pe;return t[61]!==b?(le=b("continue"),t[61]=b,t[62]=le):le=t[62],t[63]!==z||t[64]!==se||t[65]!==le?(ce=o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Primary,size:u.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:se,onClick:z},le),t[63]=z,t[64]=se,t[65]=le,t[66]=ce):ce=t[66],t[67]!==q||t[68]!==A||t[69]!==b?(ue=!A&&o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Link,size:u.ButtonSize.Lg,onClick:q,type:"button","data-testid":"recovery-phrase-remind-later"},b("secureWalletRemindLaterButton")),t[67]=q,t[68]=A,t[69]=b,t[70]=ue):ue=t[70],t[71]!==ce||t[72]!==ue?(de=o.default.createElement(u.Box,{width:d.BlockSize.Full,display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:2},ce,ue),t[71]=ce,t[72]=ue,t[73]=de):de=t[73],t[74]!==ie||t[75]!==de?(pe=o.default.createElement(u.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,alignItems:d.AlignItems.center,height:d.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},ie,de),t[74]=ie,t[75]=de,t[76]=pe):pe=t[76],pe}k.propTypes={secretRecoveryPhrase:s.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.tsx"}],[8370,{"../../../contexts/rive-wasm":7421,"@metamask/design-system-react":1999,"@rive-app/react-canvas":3633,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(31),{isLoader:n,skipTransition:l}=e,p=n!==undefined&&n,m=l!==undefined&&l,f=(0,s.useRiveWasmContext)(),{isWasmReady:g,error:h}=f,{buffer:y,error:x,loading:E}=(0,s.useRiveWasmFile)("./images/riv_animations/fox_appear.riv");let T,v,_;t[0]!==x||t[1]!==h?(T=()=>{h&&console.error("[Rive - FoxAppearAnimation] Failed to load WASM:",h),x&&console.error("[Rive - FoxAppearAnimation] Failed to load buffer:",x)},v=[h,x],t[0]=x,t[1]=h,t[2]=T,t[3]=v):(T=t[2],v=t[3]);(0,o.useEffect)(T,v),t[4]!==y?(_={buffer:y},t[4]=y,t[5]=_):_=t[5];const{riveFile:b,status:S}=(0,r.useRiveFile)(_),k=b??undefined,C=b?"FoxRaiseUp":undefined;let O,w;t[6]===Symbol.for("react.memo_cache_sentinel")?(O=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[6]=O):O=t[6];t[7]!==k||t[8]!==C?(w={riveFile:k,stateMachines:C,autoplay:!1,layout:O},t[7]=k,t[8]=C,t[9]=w):w=t[9];const{rive:I,RiveComponent:R}=(0,r.useRive)(w);let N,B;t[10]!==y||t[11]!==E||t[12]!==p||t[13]!==g||t[14]!==I||t[15]!==m?(N=()=>{if(I&&g&&!E&&y){const e=I.stateMachineInputs("FoxRaiseUp");if(e){if(m){const t=e.find(d);t&&t.fire()}else{const t=e.find(u);t&&t.fire()}if(p){const t=e.find(c);t&&t.fire()}I.play()}}},B=[I,p,g,m,E,y],t[10]=y,t[11]=E,t[12]=p,t[13]=g,t[14]=I,t[15]=m,t[16]=N,t[17]=B):(N=t[16],B=t[17]);if((0,o.useEffect)(N,B),!g||E||!y||"loading"===S||"failed"===S){const e=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let n,a;return t[18]!==p?(n=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[18]=p,t[19]=n):n=t[19],t[20]!==e||t[21]!==n?(a=o.default.createElement(i.Box,{className:e},n),t[20]=e,t[21]=n,t[22]=a):a=t[22],a}const M=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let P,A,D;t[23]!==R?(P=o.default.createElement(R,{className:"riv-animation__canvas"}),t[23]=R,t[24]=P):P=t[24];t[25]!==p?(A=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[25]=p,t[26]=A):A=t[26];t[27]!==M||t[28]!==P||t[29]!==A?(D=o.default.createElement(i.Box,{className:M},P,A),t[27]=M,t[28]=P,t[29]=A,t[30]=D):D=t[30];return D};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),i=e("@metamask/design-system-react"),s=e("../../../contexts/rive-wasm");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return"Loader2"===e.name}function u(e){return"Start"===e.name}function d(e){return"Wiggle"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/fox-appear-animation.tsx"}],[8371,{"../../../../shared/constants/metametrics":6190,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../helpers/constants/common":7458,"../../../helpers/constants/design-system":7460,"../../../hooks/useI18nContext":7615,"../../../selectors":8577,"./types":8374,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(38),{onDone:n,loginError:f}=e,g=(0,s.useI18nContext)(),{trackEvent:h}=(0,o.useContext)(d.MetaMetricsContext),y=(0,r.useSelector)(p.getSocialLoginType);let x;t[0]!==f||t[1]!==g?(x=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectTitle"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredTitle"):g("loginErrorGenericTitle"),t[0]=f,t[1]=g,t[2]=x):x=t[2];const E=x;let T;t[3]!==f||t[4]!==y||t[5]!==g||t[6]!==h?(T=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectDescription"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredDescription"):f===m.LOGIN_ERROR.RESET_WALLET&&y?g("loginErrorResetWalletDescription",[y]):g("loginErrorGenericDescription",[o.default.createElement(l.ButtonLink,{key:"loginErrorGenericDescription",size:l.ButtonLinkSize.Inherit,externalLink:!0,href:u.SUPPORT_LINK,onClick:()=>{h({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SupportLinkClicked,properties:{url:u.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[c.MetaMetricsContextProp.PageTitle]})}},g("loginErrorGenericSupport"))]),t[3]=f,t[4]=y,t[5]=g,t[6]=h,t[7]=T):T=t[7];const v=T;let _;t[8]!==f||t[9]!==g?(_=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectButton"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredButton"):g("loginErrorGenericButton"),t[8]=f,t[9]=g,t[10]=_):_=t[10];const b=_;let S,k,C,O,w,I,R,N,B,M,P,A;t[11]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(l.ModalOverlay,null),t[11]=S):S=t[11];t[12]===Symbol.for("react.memo_cache_sentinel")?(k=o.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,color:i.IconColor.warningDefault}),t[12]=k):k=t[12];t[13]!==E?(C=E(),t[13]=E,t[14]=C):C=t[14];t[15]!==C?(O=o.default.createElement(l.Box,{textAlign:i.TextAlign.Center},k,o.default.createElement(l.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:4},C)),t[15]=C,t[16]=O):O=t[16];t[17]!==n||t[18]!==O?(w=o.default.createElement(l.ModalHeader,{onClose:n},O),t[17]=n,t[18]=O,t[19]=w):w=t[19];t[20]!==v?(I=v(),t[20]=v,t[21]=I):I=t[21];t[22]!==I?(R=o.default.createElement(l.Text,{variant:i.TextVariant.bodyMd},I),t[22]=I,t[23]=R):R=t[23];t[24]!==b?(N=b(),t[24]=b,t[25]=N):N=t[25];t[26]!==n||t[27]!==N?(B=o.default.createElement(l.Box,{marginTop:6},o.default.createElement(l.Button,{"data-testid":"login-error-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:n,block:!0},N)),t[26]=n,t[27]=N,t[28]=B):B=t[28];t[29]!==R||t[30]!==B?(M=o.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},R,B),t[29]=R,t[30]=B,t[31]=M):M=t[31];t[32]!==M||t[33]!==w?(P=o.default.createElement(l.ModalContent,{alignItems:i.AlignItems.center},w,M),t[32]=M,t[33]=w,t[34]=P):P=t[34];t[35]!==n||t[36]!==P?(A=o.default.createElement(l.Modal,{isOpen:!0,onClose:n,"data-testid":"login-error-modal"},S,P),t[35]=n,t[36]=P,t[37]=A):A=t[37];return A};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library"),c=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/common"),d=e("../../../contexts/metametrics"),p=e("../../../selectors"),m=e("./types");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[8372,{"../../../../shared/constants/preferences":6199,"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../hooks/useI18nContext":7615,"../../../hooks/useTheme":7646,"./types":8374,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function(e){const t=(0,a.c)(61),{loginOption:n,handleLogin:d}=e,p=(0,s.useI18nContext)(),f=(0,c.useTheme)(),g=f===l.ThemeType.light?"var(--welcome-bg-light)":"var(--color-accent02-dark)",h=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button";let y,x,E,T,v;t[0]!==p?(y=p("onboardingOptionIcon",["Google"]),t[0]=p,t[1]=y):y=t[1];t[2]!==y?(x=o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:y}),t[2]=y,t[3]=x):x=t[3];t[4]!==n||t[5]!==p?(E=n===u.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Google"]):p("onboardingContinueWith",["Google"]),t[4]=n,t[5]=p,t[6]=E):E=t[6];t[7]!==d?(T=()=>d(u.LOGIN_TYPE.GOOGLE),t[7]=d,t[8]=T):T=t[8];t[9]!==h||t[10]!==x||t[11]!==E||t[12]!==T?(v=o.default.createElement(m,{"data-testid":h,icon:x,label:E,marginBottom:4,onClick:T}),t[9]=h,t[10]=x,t[11]=E,t[12]=T,t[13]=v):v=t[13];const _=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button";let b,S,k,C,O,w,I;t[14]===Symbol.for("react.memo_cache_sentinel")?(b=o.default.createElement(r.Icon,{name:r.IconName.Apple,color:i.IconColor.infoInverse,size:r.IconSize.Lg}),t[14]=b):b=t[14];t[15]!==n||t[16]!==p?(S=n===u.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Apple"]):p("onboardingContinueWith",["Apple"]),t[15]=n,t[16]=p,t[17]=S):S=t[17];t[18]!==d?(k=()=>d(u.LOGIN_TYPE.APPLE),t[18]=d,t[19]=k):k=t[19];t[20]!==k||t[21]!==_||t[22]!==S?(C=o.default.createElement(m,{"data-testid":_,icon:b,label:S,marginBottom:2,onClick:k}),t[20]=k,t[21]=_,t[22]=S,t[23]=C):C=t[23];t[24]!==g?(O={position:"relative",zIndex:1,backgroundColor:g},t[24]=g,t[25]=O):O=t[25];t[26]!==p?(w=p("or"),t[26]=p,t[27]=w):w=t[27];t[28]!==O||t[29]!==w?(I=o.default.createElement(r.Box,{alignItems:i.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(r.Text,{width:i.BlockSize.Max,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium,color:i.TextColor.textAlternative,paddingInline:2,marginInline:"auto",textTransform:i.TextTransform.Lowercase,as:"div",style:O},w)),t[28]=O,t[29]=w,t[30]=I):I=t[30];const R=f===l.ThemeType.dark?l.ThemeType.light:l.ThemeType.dark,N=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button";let B,M,P,A,D,F,L,W,j,U;t[31]!==d?(B=()=>d(u.LOGIN_TYPE.SRP),t[31]=d,t[32]=B):B=t[32];t[33]!==n||t[34]!==p?(M=n===u.LOGIN_OPTION.EXISTING?p("onboardingSrpImport"):p("onboardingSrpCreate"),t[33]=n,t[34]=p,t[35]=M):M=t[35];t[36]!==R||t[37]!==N||t[38]!==B||t[39]!==M?(P=o.default.createElement(r.Button,{"data-theme":R,"data-testid":N,variant:r.ButtonVariant.Primary,width:i.BlockSize.Full,size:r.ButtonSize.Lg,onClick:B},M),t[36]=R,t[37]=N,t[38]=B,t[39]=M,t[40]=P):P=t[40];t[41]!==p?(A=p("onboardingLoginFooterTermsOfUse"),t[41]=p,t[42]=A):A=t[42];t[43]!==A?(D=o.default.createElement(r.Text,{as:"a",href:"https://consensys.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.primaryDefault,key:"onboardingLoginFooterTermsOfUse"},A),t[43]=A,t[44]=D):D=t[44];t[45]!==p?(F=p("onboardingLoginFooterPrivacyNotice"),t[45]=p,t[46]=F):F=t[46];t[47]!==F?(L=o.default.createElement(r.Text,{as:"a",variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,href:"https://consensys.io/privacy-notice",target:"_blank",rel:"noopener noreferrer",color:i.TextColor.primaryDefault,key:"onboardingLoginFooterPrivacyNotice"},F),t[47]=F,t[48]=L):L=t[48];t[49]!==p||t[50]!==D||t[51]!==L?(W=p("onboardingLoginFooter",[D,L]),t[49]=p,t[50]=D,t[51]=L,t[52]=W):W=t[52];t[53]!==W?(j=o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,textAlign:i.TextAlign.Center,paddingTop:8,color:i.TextColor.textDefault,width:i.BlockSize.Full,margin:"auto"},W),t[53]=W,t[54]=j):j=t[54];t[55]!==C||t[56]!==I||t[57]!==P||t[58]!==j||t[59]!==v?(U=o.default.createElement(r.Box,null,v,C,I,P,j),t[55]=C,t[56]=I,t[57]=P,t[58]=j,t[59]=v,t[60]=U):U=t[60];return U};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../../shared/constants/preferences"),c=e("../../../hooks/useTheme"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}const m=n.SocialButton=o.default.forwardRef((e,t)=>{const n=(0,a.c)(13);let s,l,c,u,d,m;return n[0]!==e?(({icon:s,label:l,...c}=e),n[0]=e,n[1]=s,n[2]=l,n[3]=c):(s=n[1],l=n[2],c=n[3]),n[4]!==l?(u=o.default.createElement(r.Box,null,l),n[4]=l,n[5]=u):u=n[5],n[6]!==s||n[7]!==u?(d=o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,gap:2},s,u),n[6]=s,n[7]=u,n[8]=d):d=n[8],n[9]!==c||n[10]!==t||n[11]!==d?(m=o.default.createElement(r.Button,p({ref:t,className:"options-modal__plain-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,block:!0},c),d),n[9]=c,n[10]=t,n[11]=d,n[12]=m):m=n[12],m})}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[8373,{"../../../../shared/constants/preferences":6199,"../../../contexts/rive-wasm":7421,"../../../hooks/useTheme":7646,"@metamask/design-system-react":1999,"@rive-app/react-canvas":3633,classnames:4507,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(51),{setIsAnimationComplete:n,isAnimationComplete:a,skipTransition:p}=e,f=a!==undefined&&a,x=p!==undefined&&p,E=(0,c.useTheme)(),T=(0,d.useRiveWasmContext)(),{isWasmReady:v,error:_,setIsAnimationCompleted:b}=T,{buffer:S,error:k,loading:C}=(0,d.useRiveWasmFile)("./images/riv_animations/metamask_wordmark.riv"),O=(0,r.useRef)(null),w=(0,r.useRef)(E);let I;t[0]===Symbol.for("react.memo_cache_sentinel")?(I={},t[0]=I):I=t[0];const R=(0,r.useRef)(I);let N,B,M;t[1]!==k||t[2]!==n||t[3]!==_?(N=()=>{_&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load WASM:",_),n(!0)),k&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load buffer:",k),n(!0))},B=[_,k,n],t[1]=k,t[2]=n,t[3]=_,t[4]=N,t[5]=B):(N=t[4],B=t[5]);(0,r.useEffect)(N,B),t[6]!==S?(M={buffer:S},t[6]=S,t[7]=M):M=t[7];const{riveFile:P,status:A}=(0,i.useRiveFile)(M),D=P??undefined,F=P?"WordmarkBuildUp":undefined;let L,W,j;t[8]===Symbol.for("react.memo_cache_sentinel")?(L=new i.Layout({fit:i.Fit.Contain,alignment:i.Alignment.Center}),t[8]=L):L=t[8];t[9]!==f||t[10]!==n?(W=e=>{e.data&&Array.isArray(e.data)&&(O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{f||n(!0)},1e3))},t[9]=f,t[10]=n,t[11]=W):W=t[11];t[12]!==W||t[13]!==D||t[14]!==F?(j={riveFile:D,stateMachines:F,autoplay:!1,layout:L,onStateChange:W},t[12]=W,t[13]=D,t[14]=F,t[15]=j):j=t[15];const{rive:U,RiveComponent:z}=(0,i.useRive)(j),[$,V]=(0,r.useState)(!1);let G;t[16]!==U?(G=()=>{if(!U)return!1;const e=U.stateMachineInputs(m);return!!e&&(R.current={dark:e.find(y),still:e.find(h),start:e.find(g)},!0)},t[16]=U,t[17]=G):G=t[17];const q=G;let J,K,H,X;t[18]!==S||t[19]!==C||t[20]!==q||t[21]!==$||t[22]!==v||t[23]!==U||t[24]!==b||t[25]!==x||t[26]!==E?(J=()=>{if(U&&v&&!C&&S&&!$&&q()){const{dark:e,still:t,start:n}=R.current;e&&(e.value=E===u.ThemeType.dark),w.current=E,x?null==t||t.fire():null==n||n.fire(),U.play(),V(!0)}return()=>{O.current&&(clearTimeout(O.current),b("MetamaskWordMarkAnimation",!0))}},K=[U,v,x,C,S,$,E,q,b],t[18]=S,t[19]=C,t[20]=q,t[21]=$,t[22]=v,t[23]=U,t[24]=b,t[25]=x,t[26]=E,t[27]=J,t[28]=K):(J=t[27],K=t[28]);(0,r.useEffect)(J,K),t[29]!==$||t[30]!==U||t[31]!==E?(H=()=>{if(!U||!$||w.current===E)return;const{dark:e,still:t}=R.current;e&&(e.value=E===u.ThemeType.dark,null==t||t.fire()),w.current=E},X=[U,E,$],t[29]=$,t[30]=U,t[31]=E,t[32]=H,t[33]=X):(H=t[32],X=t[33]);(0,r.useEffect)(H,X);const Y=!v||C||!S||"loading"===A,Q="failed"===A;let Z,ee;t[34]!==Q||t[35]!==f||t[36]!==n?(Z=()=>{Q&&!f&&n(!0)},ee=[Q,f,n],t[34]=Q,t[35]=f,t[36]=n,t[37]=Z,t[38]=ee):(Z=t[37],ee=t[38]);if((0,r.useEffect)(Z,ee),Y||Q){let e,n;return t[39]!==Q?(e=(0,l.default)("riv-animation__wordmark-container",{"riv-animation__wordmark-container--complete":Q}),t[39]=Q,t[40]=e):e=t[40],t[41]!==e?(n=r.default.createElement(s.Box,{className:e}),t[41]=e,t[42]=n):n=t[42],n}const te=f&&!x;let ne,ae,oe;t[43]!==x||t[44]!==te?(ne=(0,l.default)("riv-animation__wordmark-container",{"riv-animation__wordmark-container--complete":te,"riv-animation__wordmark-container--skip-transition":x}),t[43]=x,t[44]=te,t[45]=ne):ne=t[45];t[46]!==z?(ae=r.default.createElement(z,{className:"riv-animation__canvas"}),t[46]=z,t[47]=ae):ae=t[47];t[48]!==ne||t[49]!==ae?(oe=r.default.createElement(s.Box,{className:ne},ae),t[48]=ne,t[49]=ae,t[50]=oe):oe=t[50];return oe};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@rive-app/react-canvas"),s=e("@metamask/design-system-react"),l=(a=e("classnames"))&&a.__esModule?a:{default:a},c=e("../../../hooks/useTheme"),u=e("../../../../shared/constants/preferences"),d=e("../../../contexts/rive-wasm");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m="WordmarkBuildUp",f={DARK:"Dark",STILL:"Still",START:"Start"};function g(e){return e.name===f.START}function h(e){return e.name===f.STILL}function y(e){return e.name===f.DARK}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/metamask-wordmark-animation.tsx"}],[8374,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired",RESET_WALLET:"reset_wallet"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[8375,{"../../../../shared/constants/preferences":6199,"../../../../shared/modules/environment":6319,"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../hooks/useTheme":7646,"../../../store/actions":8611,"./login-options":8372,"./types":8374,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(30),{onLogin:n,isAnimationComplete:a,skipTransition:x}=e,E=x!==undefined&&x,T=(0,u.useI18nContext)(),[v,_]=(0,r.useState)(!1),[b,S]=(0,r.useState)(null),[k,C]=(0,r.useState)(!1);let O;t[0]===Symbol.for("react.memo_cache_sentinel")?(O=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),t[0]=O):O=t[0];const w=O,I=(0,i.useDispatch)(),R=(0,r.useRef)(null),N=(0,f.useTheme)(),B=(0,s.useNavigate)(),[M]=(0,s.useSearchParams)();let P;t[1]!==M?(P=M.get("login"),t[1]=M,t[2]=P):P=t[2];const A=P;let D,F,L,W,j;t[3]===Symbol.for("react.memo_cache_sentinel")?(D=()=>()=>{R.current&&clearTimeout(R.current)},F=[],t[3]=D,t[4]=F):(D=t[3],F=t[4]);(0,r.useEffect)(D,F),t[5]!==A?(L=()=>{A?(_(!0),S(A)):(_(!1),S(null))},W=[A],t[5]=A,t[6]=L,t[7]=W):(L=t[6],W=t[7]);(0,r.useEffect)(L,W),t[8]!==I||t[9]!==b||t[10]!==n?(j=async e=>{b&&(_(!1),await I((0,m.setTermsOfUseLastAgreed)((new Date).getTime())),await n(e,b))},t[8]=I,t[9]=b,t[10]=n,t[11]=j):j=t[11];const U=j;let z;t[12]!==B||t[13]!==n?(z=async(e,t)=>{w?(C(!0),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{_(!0),S(e),C(!1),R.current=null,B(`${g.ONBOARDING_WELCOME_ROUTE}?login=${e}`)},100)):(_(!0),S(e),t&&await n(t,e))},t[12]=B,t[13]=n,t[14]=z):z=t[14];const $=z,V=a?1:0,G=a?"translateY(0) scale(1)":"translateY(80px) scale(0.8)",q=E?"none":"opacity 0.6s ease-out, transform 0.6s ease-out";let J,K,H;t[15]!==V||t[16]!==G||t[17]!==q?(J={opacity:V,transform:G,transition:q},t[15]=V,t[16]=G,t[17]=q,t[18]=J):J=t[18];t[19]!==$||t[20]!==U||t[21]!==k||t[22]!==b||t[23]!==v||t[24]!==T||t[25]!==N?(K=w&&v&&b?r.default.createElement(l.Box,{className:"welcome-login__options welcome-login__options--fade-in"},r.default.createElement(h.default,{loginOption:b,handleLogin:U})):r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full,gap:4,className:""+(k?"welcome-login__cta--fade-out":"")},r.default.createElement(l.Button,{"data-testid":"onboarding-create-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.NEW,y.LOGIN_TYPE.SRP)},T("onboardingCreateWallet")),r.default.createElement(l.Button,{"data-theme":N===p.ThemeType.dark?p.ThemeType.light:p.ThemeType.dark,"data-testid":"onboarding-import-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.EXISTING,y.LOGIN_TYPE.SRP)},T(w?"onboardingImportWallet":"onboardingSrpImport"))),t[19]=$,t[20]=U,t[21]=k,t[22]=b,t[23]=v,t[24]=T,t[25]=N,t[26]=K):K=t[26];t[27]!==J||t[28]!==K?(H=r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Box,{"data-testid":"get-started",style:J,className:"welcome-login"},K)),t[27]=J,t[28]=K,t[29]=H):H=t[29];return H};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("react-router-dom"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),m=e("../../../store/actions"),f=e("../../../hooks/useTheme"),g=e("../../../helpers/constants/routes"),h=(a=e("./login-options"))&&a.__esModule?a:{default:a},y=e("./types");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[8376,{"../../../../shared/constants/app":6175,"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/onboarding":6197,"../../../../shared/lib/trace":6299,"../../../../shared/modules/browser-runtime.utils":6312,"../../../../shared/modules/environment":6319,"../../../../shared/modules/error":6320,"../../../components/component-library":6951,"../../../contexts/metametrics":7420,"../../../contexts/rive-wasm":7421,"../../../ducks/metamask/metamask":7448,"../../../helpers/constants/design-system":7460,"../../../helpers/constants/routes":7465,"../../../selectors":8577,"../../../store/actions":8611,"./fox-appear-animation":8370,"./login-error-modal":8371,"./metamask-wordmark-animation":8373,"./types":8374,"./welcome-login":8375,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,o.useSelector)(l.getCurrentKeyring),S=(0,m.getIsSeedlessOnboardingFeatureEnabled)(),k=(0,o.useSelector)(l.getFirstTimeFlowType),C=(0,o.useSelector)(T.getIsWalletResetInProgress),I=(0,o.useSelector)(l.getIsSocialLoginFlow),R=(0,o.useSelector)(l.getIsParticipateInMetaMetricsSet),[N,B]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),[A,D]=(0,a.useState)(null),{animationCompleted:F}=(0,E.useRiveWasmContext)(),L=Boolean(null==F?void 0:F.MetamaskWordMarkAnimation),[W,j]=(0,a.useState)(L),U=(0,f.getBrowserName)()===g.PLATFORM_FIREFOX,z=(0,a.useCallback)(async()=>{if(!I)return!0;return await e((0,d.getIsSeedlessOnboardingUserAuthenticated)())},[e,I]);(0,a.useEffect)(()=>{let e=!0;return!n||N||C?I&&(async()=>{const n=await z();e&&n&&(k===c.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0}):t(s.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))})():k===c.FirstTimeFlowType.import||k===c.FirstTimeFlowType.restore?t(R?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,{replace:!0}):k===c.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):t(s.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0}),()=>{e=!1}},[n,t,k,N,R,z,U,C,I]);const{trackEvent:$,bufferedTrace:V,bufferedEndTrace:G,onboardingParentContext:q}=(0,a.useContext)(u.MetaMetricsContext),J=(0,a.useCallback)(async()=>{P(!0),B(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.create)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:p.MetaMetricsEventAccountType.Default}}),null==V||V({name:y.TraceName.OnboardingNewSrpCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE)},[e,t,$,q,V]),K=(0,a.useCallback)(async()=>{P(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.import)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:p.MetaMetricsEventAccountType.Imported}}),null==V||V({name:y.TraceName.OnboardingExistingSrpImport,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),t(s.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[e,t,$,q,V]),H=(0,a.useCallback)(async t=>{if(S){null==V||V({name:y.TraceName.OnboardingSocialLoginAttempt,op:y.TraceOperation.OnboardingUserJourney,tags:{provider:t},parentContext:null==q?void 0:q.current});const n=await e((0,d.startOAuthLogin)(t,V,G,$));return null==G||G({name:y.TraceName.OnboardingSocialLoginAttempt}),n}return!0},[e,S,q,V,G,$]),X=(0,a.useCallback)(e=>{const t=e instanceof Error?e.message:"Unknown error";(0,h.isUserCancelledLoginError)(e)?D(null):(null==G||G({name:y.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}}),t!==h.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR?t!==h.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR&&t!==h.OAuthErrorMessages.NO_AUTH_CODE_FOUND_ERROR?D(_.LOGIN_ERROR.GENERIC):D(_.LOGIN_ERROR.UNABLE_TO_CONNECT):D(_.LOGIN_ERROR.SESSION_EXPIRED))},[G]),Y=(0,a.useCallback)(async n=>{P(!0),B(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}});try{const a=await H(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}}),a?(null==V||V({name:y.TraceName.OnboardingNewSocialCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})):(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(s.ONBOARDING_ACCOUNT_EXIST,{replace:!0}))}catch(e){X(e)}finally{P(!1)}},[e,H,$,t,q,X,V]),Q=(0,a.useCallback)(async n=>{P(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}});try{const a=await H(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}}),a?(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(s.ONBOARDING_ACCOUNT_NOT_FOUND)):(null==V||V({name:y.TraceName.OnboardingExistingSocialLogin,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(s.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))}catch(e){X(e)}finally{P(!1)}},[H,$,t,q,X,V,e]),Z=(0,a.useCallback)(e=>{(0,h.isUserCancelledLoginError)(e)?D(null):D(_.LOGIN_ERROR.GENERIC)},[]),ee=(0,a.useCallback)(async(t,n)=>{try{if(U||e((0,d.setParticipateInMetaMetrics)(null)),t===_.LOGIN_TYPE.SRP)return void(n===_.LOGIN_OPTION.NEW?await J():n===_.LOGIN_OPTION.EXISTING&&await K());if(!S)return;U||e((0,d.setParticipateInMetaMetrics)(!0)),n===_.LOGIN_OPTION.NEW?await Y(t):n===_.LOGIN_OPTION.EXISTING&&await Q(t),U||e((0,d.setPna25Acknowledged)(!0,!0))}catch(e){Z(e)}},[S,e,J,K,Y,U,Q,Z]);return a.default.createElement(i.Box,{display:x.Display.Flex,flexDirection:x.FlexDirection.Column,justifyContent:x.JustifyContent.center,alignItems:x.AlignItems.center,height:x.BlockSize.Full,width:x.BlockSize.Full,className:"welcome-container"},!M&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(O,{setIsAnimationComplete:j,isAnimationComplete:W,skipTransition:L})),!M&&a.default.createElement(a.default.Fragment,null,a.default.createElement(v.default,{onLogin:ee,isAnimationComplete:W,skipTransition:L}),W&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(w,{skipTransition:L})),null!==A&&a.default.createElement(b.default,{onDone:()=>D(null),loginError:A})),M&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(w,{isLoader:!0})))};var a=C(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/routes"),l=e("../../../selectors"),c=e("../../../../shared/constants/onboarding"),u=e("../../../contexts/metametrics"),d=e("../../../store/actions"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/environment"),f=e("../../../../shared/modules/browser-runtime.utils"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/modules/error"),y=e("../../../../shared/lib/trace"),x=e("../../../helpers/constants/design-system"),E=e("../../../contexts/rive-wasm"),T=e("../../../ducks/metamask/metamask"),v=S(e("./welcome-login")),_=e("./types"),b=S(e("./login-error-modal"));function S(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const O=(0,a.lazy)(()=>Promise.resolve().then(()=>C(e("./metamask-wordmark-animation")))),w=(0,a.lazy)(()=>Promise.resolve().then(()=>C(e("./fox-appear-animation"))))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.tsx"}],[8377,{"../../../helpers/utils/util":7518,"@metamask/chain-agnostic-permission":1610,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),r=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:r}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],i=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),i.add(n))});const s=e.filter(e=>!i.has(e));if(s.length>0){const e=(0,r.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),r=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[8378,{"./permissions-connect":8379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[8379,{"../../../app/scripts/lib/multichain/address":302,"../../../shared/constants/time":6211,"../../../shared/lib/multichain/scope-utils":6287,"../../components/app/permission-page-container":6606,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":6706,"../../components/component-library":6951,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper":7050,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page":7051,"../../helpers/constants/routes":7465,"../../helpers/utils/util":7518,"../../hooks/useAccountGroupsForPermissions":7590,"../../hooks/useI18nContext":7615,"../../selectors":8577,"../../selectors/multichain-accounts/account-tree":8581,"../../store/actions":8611,"../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page":8310,"../routes/utils":8418,"./connect-page/utils":8377,"./redirect":8380,"./snaps/snap-install":8382,"./snaps/snap-result":8384,"./snaps/snap-update":8386,"./snaps/snaps-connect":8388,"@metamask/chain-agnostic-permission":1610,"@metamask/keyring-api":2510,"@metamask/permission-controller":2862,"@metamask/rpc-errors":3026,"@metamask/snaps-rpc-methods":3209,"@metamask/snaps-utils":3382,"@metamask/utils":3554,react:5657,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/snaps-rpc-methods"),u=e("@metamask/keyring-api"),d=e("@metamask/chain-agnostic-permission"),p=e("@metamask/utils"),m=e("../routes/utils"),f=e("../../../app/scripts/lib/multichain/address"),g=e("../../../shared/constants/time"),h=e("../../helpers/constants/routes"),y=e("../../selectors"),x=e("../../helpers/utils/util"),E=e("../../store/actions"),T=e("../../selectors/multichain-accounts/account-tree"),v=D(e("../../components/app/permission-page-container")),_=e("../../components/component-library"),b=D(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),S=e("../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page"),k=e("../../hooks/useAccountGroupsForPermissions"),C=e("../../../shared/lib/multichain/scope-utils"),O=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper"),w=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page"),I=e("../../hooks/useI18nContext"),R=D(e("./redirect")),N=D(e("./snaps/snaps-connect")),B=D(e("./snaps/snap-install")),M=D(e("./snaps/snap-update")),P=D(e("./snaps/snap-result")),A=e("./connect-page/utils");function D(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}const L=1200*g.MILLISECOND;function W(e){const t=(0,A.getCaip25CaveatValueFromPermissions)(e);return(0,d.getPermittedEthChainIds)(t)}function j(e){return function(e,t=!0){const n=(0,A.getCaip25CaveatValueFromPermissions)(e);return(0,d.getAllScopesFromCaip25CaveatValue)(n).filter(e=>{try{const{namespace:n}=(0,p.parseCaipChainId)(e);return n!==p.KnownCaipNamespace.Wallet&&!(!t&&n===p.KnownCaipNamespace.Eip155)}catch{return!1}})}(e,!1)}n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,r.useLocation)(),g=(0,r.useParams)(),D=(0,I.useI18nContext)(),F=g.id,{pathname:U}=n;let z=(0,o.useSelector)(y.getPermissionsRequests);z=[...z,...(0,o.useSelector)(y.getSnapInstallOrUpdateRequests)];const{address:$}=(0,o.useSelector)(y.getSelectedInternalAccount),V=z.find(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.id)===F}),{metadata:G={},diff:q={}}=V||{},{origin:J}=G||{},K=Boolean(null==q?void 0:q.permissionDiffMap),H=null==V?void 0:V.permissions,X=Boolean((null==H?void 0:H[d.Caip25EndowmentPermissionName])&&!K),Y=(0,o.useSelector)(e=>(0,y.getTargetSubjectMetadata)(e,J)),Q=(0,a.useMemo)(()=>Y??{name:(0,x.getURLHostName)(J)||J,origin:J,iconUrl:null,extensionId:null,subjectType:s.SubjectType.Unknown},[Y,J]);let Z=(0,o.useSelector)(e=>(0,y.getRequestType)(e,F));V&&1===Object.keys(H||{}).length&&null!=H&&H[c.WALLET_SNAP_PERMISSION_KEY]&&(Z="wallet_connectSnaps");const ee=(0,o.useSelector)(e=>(0,y.getRequestState)(e,F))||{},te=(0,o.useSelector)(y.getAccountsWithLabels).filter(e=>(0,u.isEvmAccountType)(e.type)),ne=(0,o.useSelector)(T.getAccountGroupWithInternalAccounts),ae=(0,o.useSelector)(y.getLastConnectedInfo),oe=(0,a.useMemo)(()=>ae||{},[ae]),re=`${h.CONNECT_ROUTE}/${F}`,ie=`${re}${h.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,se=`${re}${h.CONNECT_SNAPS_CONNECT_ROUTE}`,le=`${re}${h.CONNECT_SNAP_INSTALL_ROUTE}`,ce=`${re}${h.CONNECT_SNAP_UPDATE_ROUTE}`,ue=`${re}${h.CONNECT_SNAP_RESULT_ROUTE}`,de=U===le||U===ce||U===ue,pe=(0,o.useSelector)(y.getSnapsInstallPrivacyWarningShown),[me,fe]=(0,a.useState)(!1),[ge,he]=(0,a.useState)(()=>function(e,t){const n=(0,A.getCaip25CaveatValueFromPermissions)(t),a=(0,d.getCaipAccountIdsFromCaip25CaveatValue)(n);if(a.length>0){const e=a.map(e=>{try{return(0,f.normalizeSafeAddress)((0,p.parseCaipAccountId)(e).address)}catch{return null}}).filter(e=>null!==e);if(e.length>0)return new Set(e)}const o=(0,d.getEthAccounts)(n);return o.length>0?new Set(o.map(e=>e.toLowerCase()).filter(f.isEthAddress)):new Set((0,f.isEthAddress)(e)?[e]:[])}($,H)),[ye,xe]=(0,a.useState)(null),[Ee]=(0,a.useState)(J),[Te,ve]=(0,a.useState)(Q||{}),[_e]=(0,a.useState)(pe),[be,Se]=(0,a.useState)(null),[ke,Ce]=(0,a.useState)(null),Oe=(0,a.useRef)(null),we=(0,a.useRef)(null),Ie=(0,a.useRef)(null),Re=(0,a.useCallback)(e=>{let n=!0;n=!(H&&Object.keys(H).includes("wallet_snap")),fe(n),xe(e),n&&(e?setTimeout(()=>t(h.DEFAULT_ROUTE),L):t(h.DEFAULT_ROUTE))},[H,t]);(0,a.useEffect)(()=>{if(e((0,E.getRequestAccountTabIds)()),V){if(n.pathname===re&&!X)switch(Z){case"wallet_installSnap":t(le,{replace:!0});break;case"wallet_updateSnap":t(ce,{replace:!0});break;case"wallet_installSnapResult":t(ue,{replace:!0});break;case"wallet_connectSnaps":t(se,{replace:!0});break;default:t(ie,{replace:!0})}}else t(h.DEFAULT_ROUTE,{replace:!0})},[]),(0,a.useEffect)(()=>{var e;null!=Q&&Q.origin&&(null===(e=we.current)||void 0===e?void 0:e.origin)!==(null==Q?void 0:Q.origin)&&ve(Q),we.current=Q},[Q]),(0,a.useEffect)(()=>{if(!V&&Oe.current&&!me){var e;const t=oe[Ee],n=null===(e=Ie.current)||void 0===e?void 0:e[Ee],a=(null==t?void 0:t.lastApproved)||0,o=(null==n?void 0:n.lastApproved)||0;Re(a>o)}Oe.current=V,Ie.current=oe},[V,oe,me,Ee,Re]);const Ne=(0,a.useCallback)(e=>{he(e),setTimeout(()=>{switch(Z){case"wallet_installSnap":t(le);break;case"wallet_updateSnap":t(ce);break;case"wallet_installSnapResult":t(ue);break;case"wallet_connectSnaps":t(se,{replace:!0});break;default:t(ie)}},0)},[Z,le,ce,ue,se,ie,t]),Be=(0,a.useCallback)(async t=>{t&&(await e((0,E.rejectPermissionsRequest)(t)),Re(!1))},[e,Re]),Me=(0,a.useCallback)(t=>{e((0,E.approvePermissionsRequest)(t)),Re(!0)},[e,Re]),Pe=(0,a.useCallback)(t=>{e((0,E.setSnapsInstallPrivacyWarningShownStatus)(t))},[e]),Ae=(0,a.useCallback)((t,n)=>e((0,E.resolvePendingApproval)(t,n)),[e]),De=(0,a.useCallback)((t,n)=>e((0,E.rejectPendingApproval)(t,n)),[e]),Fe=(0,a.useCallback)(()=>{const e=(0,A.getCaip25CaveatValueFromPermissions)(H),t=(0,d.getAllScopesFromCaip25CaveatValue)(e).filter(e=>{try{const{namespace:t}=(0,p.parseCaipChainId)(e);return t!==p.KnownCaipNamespace.Wallet}catch{return!1}}),n=(0,d.getAllNamespacesFromCaip25CaveatValue)(e).filter(e=>e!==p.KnownCaipNamespace.Wallet),o=[...t];if(n.includes(p.KnownCaipNamespace.Eip155)){const e=`${p.KnownCaipNamespace.Eip155}:0`;o.includes(e)||o.push(e)}return a.default.createElement(O.MultichainEditAccountsPageWrapper,{title:D("connectWithMetaMask"),permissions:H,onSubmit:e=>{const n=ne.filter(t=>e.includes(t.id)&&(0,k.supportsChainIds)(t,o)),a=(0,C.getCaip25AccountIdsFromAccountGroupAndScope)(n,o);Se(a),Ce(t);const r=a.map(e=>(0,p.parseCaipAccountId)(e).address);Ne(new Set(r))},onClose:()=>Be(F||""),snapsPermissionsRequestType:w.SnapsPermissionsRequestType.Initial})},[H,ne,D,Ne,Be,F]),Le=(0,a.useCallback)(()=>{const e={rejectPermissionsRequest:e=>Be(e),activeTabOrigin:Ee,request:V||{},permissionsRequestId:F||"",approveConnection:Me,targetSubjectMetadata:Te};return a.default.createElement(S.MultichainAccountsConnectPage,e)},[Be,Ee,V,F,Me,Te]),We=(0,a.useCallback)(e=>a.default.createElement(_.Box,{style:{boxShadow:Te.subjectType===s.SubjectType.Snap?"var(--shadow-size-lg) var(--color-shadow-default)":undefined}},Te.subjectType===s.SubjectType.Snap&&a.default.createElement(b.default,{snapId:Te.origin,boxShadow:"none",onCancel:()=>{Be(e)}})),[Te,Be]),je=(0,l.isSnapId)(null==G?void 0:G.origin);return a.default.createElement("div",{className:"permissions-connect"},!de&&F&&We(F),me&&ye?a.default.createElement(R.default,{subjectMetadata:Te}):a.default.createElement(r.Routes,null,a.default.createElement(r.Route,{path:"/",element:je?Fe():Le()}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_CONFIRM_PERMISSIONS_ROUTE),element:a.default.createElement(v.default,{request:V||{},approvePermissionsRequest:t=>{e((0,E.approvePermissionsRequest)(t)),Re(!0)},rejectPermissionsRequest:e=>Be(e),selectedAccounts:te.filter(e=>ge.has(e.address)),requestedChainIds:W(H),selectedCaipAccountIds:be,selectedCaipChainIds:ke??j(H),targetSubjectMetadata:Te,navigate:t,connectPath:re,snapsInstallPrivacyWarningShown:_e,setSnapsInstallPrivacyWarningShownStatus:Pe})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAPS_CONNECT_ROUTE),element:a.default.createElement(N.default,{request:V||{},approveConnection:Me,rejectConnection:e=>Be(e),targetSubjectMetadata:Te,snapsInstallPrivacyWarningShown:_e,setSnapsInstallPrivacyWarningShownStatus:Pe})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_INSTALL_ROUTE),element:a.default.createElement(B.default,{request:V||{},requestState:ee||{},approveSnapInstall:e=>{Ae(e,{...V,permissions:ee.permissions,approvedAccounts:[...ge]}),xe(!0)},rejectSnapInstall:e=>{De(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),xe(!0)},targetSubjectMetadata:Te})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_UPDATE_ROUTE),element:a.default.createElement(M.default,{request:V||{},requestState:ee||{},approveSnapUpdate:e=>{Ae(e,{...V,permissions:ee.permissions,approvedAccounts:[...ge]}),xe(!0)},rejectSnapUpdate:e=>{De(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),xe(!1)},targetSubjectMetadata:Te})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_RESULT_ROUTE),element:a.default.createElement(P.default,{request:V||{},requestState:ee||{},approveSnapResult:e=>{Ae(e,undefined),xe(!0)},targetSubjectMetadata:Te})})))}}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.tsx"}],[8380,{"./permissions-redirect.component":8381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[8381,{"../../../components/app/permissions-connect-footer":6612,"../../../components/component-library":6951,"../../../contexts/i18n":7415,"../../../helpers/constants/design-system":7460,"prop-types":5495,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),i=e("../../../helpers/constants/design-system"),s=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=u(e("../../../components/app/permissions-connect-footer"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){const t=(0,a.c)(28),{subjectMetadata:n}=e,r=(0,o.useContext)(s.I18nContext),[u,d]=(0,o.useState)(n);let p,m,f,g,h,y,x,E,T,v,_,b,S,k,C;return t[0]!==n?(p=()=>{n&&n.origin&&d(n)},m=[n],t[0]=n,t[1]=p,t[2]=m):(p=t[1],m=t[2]),(0,o.useEffect)(p,m),t[3]!==r?(f=r("connecting"),t[3]=r,t[4]=f):f=t[4],t[5]!==f?(g=o.default.createElement(l.Box,{display:i.Display.Flex,marginBottom:4},o.default.createElement(l.Text,{variant:i.TextVariant.headingMd},f)),t[5]=f,t[6]=g):g=t[6],t[7]!==u.iconUrl||t[8]!==u.name?(h=o.default.createElement(l.AvatarToken,{src:u.iconUrl,name:u.name,size:l.AvatarTokenSize.Lg}),t[7]=u.iconUrl,t[8]=u.name,t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=o.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,paddingLeft:4,paddingRight:4},o.default.createElement(l.Icon,{name:l.IconName.Confirmation,size:l.IconSize.Xl,color:i.IconColor.infoDefault})),x=o.default.createElement(l.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:l.AvatarTokenSize.Lg,name:"metamask-fox"}),t[10]=y,t[11]=x):(y=t[10],x=t[11]),t[12]!==h?(E=o.default.createElement(l.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.infoMuted,borderRadius:i.BorderRadius.pill,padding:2},h,y,x),t[12]=h,t[13]=E):E=t[13],t[14]!==g||t[15]!==E?(T=o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,height:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.XS,border:`1px solid ${i.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},g,E),t[14]=g,t[15]=E,t[16]=T):T=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(v=o.default.createElement(c.default,null),t[17]=v):v=t[17],t[18]!==r?(_=r("back"),t[18]=r,t[19]=_):_=t[19],t[20]!==_?(b=o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,width:i.BlockSize.Full,marginRight:2,disabled:!0},_),t[20]=_,t[21]=b):b=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,width:i.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0}),t[22]=S):S=t[22],t[23]!==b?(k=o.default.createElement(l.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,padding:4},o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},v,o.default.createElement(l.Box,{display:i.Display.Flex,paddingTop:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},b,S))),t[23]=b,t[24]=k):k=t[24],t[25]!==k||t[26]!==T?(C=o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.spaceBetween},T,k),t[25]=k,t[26]=T,t[27]=C):C=t[27],C}p.propTypes={subjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,subjectType:r.default.string,name:r.default.string.isRequired,origin:r.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[8382,{"./snap-install":8383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[8383,{"../../../../components/app/permission-connect-header":6604,"../../../../components/app/snaps/install-error/install-error":6697,"../../../../components/app/snaps/snap-authorship-header":6705,"../../../../components/app/snaps/snap-install-warning":6718,"../../../../components/app/snaps/snap-permissions-list":6730,"../../../../components/component-library":6951,"../../../../components/ui/page-container":7363,"../../../../components/ui/pulse-loader/pulse-loader":7372,"../../../../helpers/constants/design-system":7460,"../../../../helpers/utils/util":7518,"../../../../hooks/useI18nContext":7615,"../../../../hooks/useOriginMetadata":7632,"../../../../hooks/useScrollRequired":7636,"../../../../selectors":8577,"../util":8390,"@metamask/snaps-utils":3382,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=e("react-compiler-runtime"),o=S(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("@metamask/snaps-utils"),l=e("../../../../components/ui/page-container"),c=e("../../../../hooks/useI18nContext"),u=S(e("../../../../components/app/snaps/snap-install-warning")),d=e("../../../../helpers/constants/design-system"),p=e("../util"),m=S(e("../../../../components/ui/pulse-loader/pulse-loader")),f=S(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=S(e("../../../../components/app/snaps/snap-permissions-list")),y=e("../../../../hooks/useScrollRequired"),x=S(e("../../../../components/app/snaps/install-error/install-error")),E=e("../../../../hooks/useOriginMetadata"),T=e("../../../../selectors"),v=e("../../../../helpers/utils/util"),_=S(e("../../../../components/app/permission-connect-header"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function k(e){var t,n,o,b,S;const k=(0,a.c)(85),{request:C,requestState:O,approveSnapInstall:w,rejectSnapInstall:I,targetSubjectMetadata:R}=e,N=(0,c.useI18nContext)(),B=(0,E.useOriginMetadata)(null==C||null===(t=C.metadata)||void 0===t?void 0:t.dappOrigin)||{},{origin:M,iconUrl:P}=B,[A,D]=(0,r.useState)(!1),F=(0,i.useSelector)(T.getSnapsMetadata),[L,W]=(0,r.useState)(!1);let j;k[0]!==O?(j=[O],k[0]=O,k[1]=j):j=k[1];const{isScrollable:U,hasScrolledToBottom:z,scrollToBottom:$,ref:V,onScroll:G}=(0,y.useScrollRequired)(j);let q;var J;k[2]!==I||k[3]!==(null==C||null===(n=C.metadata)||void 0===n?void 0:n.id)?(q=()=>{var e;return I(null==C||null===(e=C.metadata)||void 0===e?void 0:e.id)},k[2]=I,k[3]=null==C||null===(J=C.metadata)||void 0===J?void 0:J.id,k[4]=q):q=k[4];const K=q;let H;var X;k[5]!==w||k[6]!==(null==C||null===(o=C.metadata)||void 0===o?void 0:o.id)?(H=()=>{var e;return w(null==C||null===(e=C.metadata)||void 0===e?void 0:e.id)},k[5]=w,k[6]=null==C||null===(X=C.metadata)||void 0===X?void 0:X.id,k[7]=H):H=k[7];const Y=H;let Q;k[8]!==R.origin?(Q=e=>(0,T.getSnapMetadata)(e,R.origin),k[8]=R.origin,k[9]=Q):Q=k[9];const{name:Z}=(0,i.useSelector)(Q),ee=!O.loading&&O.error,te=O.loading,ne=null==C||null===(b=C.metadata)||void 0===b?void 0:b.dappOrigin;let ae;k[10]!==ne?(ae=(0,s.isSnapId)(ne),k[10]=ne,k[11]=ae):ae=k[11];const oe=ae;let re;k[12]!==O.permissions||k[13]!==Z||k[14]!==F||k[15]!==N?(re=(0,p.getSnapInstallWarnings)((null==O?void 0:O.permissions)??{},N,Z,(0,v.getSnapName)(F)),k[12]=O.permissions,k[13]=Z,k[14]=F,k[15]=N,k[16]=re):re=k[16];const ie=re,se=ie.length>0;let le;k[17]!==ee||k[18]!==K||k[19]!==Y||k[20]!==se?(le=()=>{!ee&&se?D(!0):ee?K():Y()},k[17]=ee,k[18]=K,k[19]=Y,k[20]=se,k[21]=le):le=k[21];const ce=le;let ue;k[22]!==ee||k[23]!==te?(ue=()=>ee?"ok":te?"connect":"confirm",k[22]=ee,k[23]=te,k[24]=ue):ue=k[24];const de=ue;let pe;k[25]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{W(!0)},k[25]=pe):pe=k[25];const me=pe;let fe;var ge,he;k[26]!==ee||k[27]!==P||k[28]!==te||k[29]!==oe||k[30]!==K||k[31]!==M||k[32]!==(null==C||null===(S=C.metadata)||void 0===S?void 0:S.dappOrigin)||k[33]!==R.origin?(fe=!te&&!ee||oe?r.default.createElement(f.default,{snapId:te&&oe?null==C||null===(ge=C.metadata)||void 0===ge?void 0:ge.dappOrigin:R.origin,onCancel:K}):r.default.createElement(_.default,{origin:M,iconUrl:P}),k[26]=ee,k[27]=P,k[28]=te,k[29]=oe,k[30]=K,k[31]=M,k[32]=null==C||null===(he=C.metadata)||void 0===he?void 0:he.dappOrigin,k[33]=R.origin,k[34]=fe):fe=k[34];const ye=te||ee?undefined:V,xe=!te&&!ee&&"1";let Ee,Te,ve,_e,be;k[35]!==xe?(Ee={overflowY:"auto",flex:xe},k[35]=xe,k[36]=Ee):Ee=k[36],k[37]!==te?(Te=te&&r.default.createElement(g.Box,{display:d.Display.Flex,className:"snap-install__content__loader-container",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center},r.default.createElement(m.default,null)),k[37]=te,k[38]=Te):Te=k[38],k[39]!==ee||k[40]!==O.error||k[41]!==Z||k[42]!==N?(ve=ee&&r.default.createElement(x.default,{iconName:g.IconName.Warning,title:N("connectionFailed"),description:N("connectionFailedDescription",[r.default.createElement(g.Text,{as:"span",key:"1",fontWeight:d.FontWeight.Medium},Z)]),error:O.error}),k[39]=ee,k[40]=O.error,k[41]=Z,k[42]=N,k[43]=ve):ve=k[43],k[44]!==ee||k[45]!==z||k[46]!==te||k[47]!==U||k[48]!==O.connections||k[49]!==O.permissions||k[50]!==$||k[51]!==L||k[52]!==Z||k[53]!==N||k[54]!==R.origin?(_e=!ee&&!te&&r.default.createElement(r.default.Fragment,null,r.default.createElement(g.Text,{variant:d.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},N("installRequest")),r.default.createElement(g.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:d.TextAlign.Center},N("snapInstallRequest",[r.default.createElement(g.Text,{as:"span",key:"2",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},Z)])),r.default.createElement(g.Box,{display:d.Display.Flex,backgroundColor:d.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:d.BorderRadius.XL},r.default.createElement(h.default,{snapId:R.origin,snapName:Z,permissions:O.permissions||{},connections:O.connections||{},onShowAllPermissions:me})),r.default.createElement(g.Box,{className:"snap-install__scroll-button-area"},!U||z||L?null:r.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:d.BackgroundColor.infoDefault,color:d.IconColor.primaryInverse,onClick:$,style:{cursor:"pointer"}}))),k[44]=ee,k[45]=z,k[46]=te,k[47]=U,k[48]=O.connections,k[49]=O.permissions,k[50]=$,k[51]=L,k[52]=Z,k[53]=N,k[54]=R.origin,k[55]=_e):_e=k[55],k[56]!==G||k[57]!==ye||k[58]!==Ee||k[59]!==Te||k[60]!==ve||k[61]!==_e?(be=r.default.createElement(g.Box,{ref:ye,onScroll:G,className:"snap-install__content",style:Ee,paddingLeft:4,paddingRight:4},Te,ve,_e),k[56]=G,k[57]=ye,k[58]=Ee,k[59]=Te,k[60]=ve,k[61]=_e,k[62]=be):be=k[62];const Se=te||!ee&&U&&!z;let ke,Ce,Oe,we,Ie;return k[63]!==N?(ke=N("cancel"),k[63]=N,k[64]=ke):ke=k[64],k[65]!==de||k[66]!==N?(Ce=N(de()),k[65]=de,k[66]=N,k[67]=Ce):Ce=k[67],k[68]!==ce||k[69]!==ee||k[70]!==K||k[71]!==Se||k[72]!==ke||k[73]!==Ce?(Oe=r.default.createElement(g.Box,{className:"snap-install__footer",display:d.Display.Flex,alignItems:d.AlignItems.center,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},r.default.createElement(l.PageContainerFooter,{cancelButtonType:"default",hideCancel:ee,disabled:Se,onCancel:K,cancelText:ke,onSubmit:ce,submitText:Ce})),k[68]=ce,k[69]=ee,k[70]=K,k[71]=Se,k[72]=ke,k[73]=Ce,k[74]=Oe):Oe=k[74],k[75]!==A||k[76]!==Y||k[77]!==Z||k[78]!==ie?(we=A&&r.default.createElement(u.default,{onCancel:()=>D(!1),onSubmit:Y,warnings:ie,snapName:Z}),k[75]=A,k[76]=Y,k[77]=Z,k[78]=ie,k[79]=we):we=k[79],k[80]!==fe||k[81]!==be||k[82]!==Oe||k[83]!==we?(Ie=r.default.createElement(g.Box,{className:"snap-install",display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,borderStyle:d.BorderStyle.none,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},fe,be,Oe,we),k[80]=fe,k[81]=be,k[82]=Oe,k[83]=we,k[84]=Ie):Ie=k[84],Ie}k.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapInstall:o.default.func.isRequired,rejectSnapInstall:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[8384,{"./snap-result":8385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[8385,{"../../../../components/app/snaps/install-error/install-error":6697,"../../../../components/app/snaps/snap-authorship-header":6705,"../../../../components/component-library":6951,"../../../../components/ui/box/box":7289,"../../../../components/ui/page-container":7363,"../../../../components/ui/pulse-loader/pulse-loader":7372,"../../../../helpers/constants/design-system":7460,"../../../../hooks/useI18nContext":7615,"../../../../selectors":8577,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=e("react-compiler-runtime"),o=y(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../../components/ui/box/box")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/component-library"),p=y(e("../../../../components/ui/pulse-loader/pulse-loader")),m=y(e("../../../../components/app/snaps/install-error/install-error")),f=y(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function x(e){var t;const n=(0,a.c)(40),{request:o,requestState:h,approveSnapResult:y,targetSubjectMetadata:x}=e,E=(0,l.useI18nContext)();let T;var v;n[0]!==y||n[1]!==(null==o||null===(t=o.metadata)||void 0===t?void 0:t.id)?(T=()=>{var e;return y(null==o||null===(e=o.metadata)||void 0===e?void 0:e.id)},n[0]=y,n[1]=null==o||null===(v=o.metadata)||void 0===v?void 0:v.id,n[2]=T):T=n[2];const _=T,b=!h.loading&&h.error,S=h.loading;let k;n[3]!==x.origin?(k=e=>(0,g.getSnapMetadata)(e,x.origin),n[3]=x.origin,n[4]=k):k=n[4];const{name:C}=(0,i.useSelector)(k);let O;n[5]!==E?(O=function(e,t){let n;e:switch(e){case"wallet_installSnap":n=E("snapInstallSuccess");break e;case"wallet_updateSnap":n=E("snapUpdateSuccess");break e;default:n=E("snapResultSuccess")}return r.default.createElement(c.default,{flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(d.AvatarIcon,{className:"snap-result__header__icon",iconName:d.IconName.Confirmation,size:d.AvatarIconSize.Xl,color:u.IconColor.successDefault,backgroundColor:u.BackgroundColor.successMuted}),r.default.createElement(d.Text,{fontWeight:u.FontWeight.Bold,textAlign:u.TextAlign.Center,variant:u.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),r.default.createElement(d.Text,{textAlign:u.TextAlign.Center},E("snapResultSuccessDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)])))},n[5]=E,n[6]=O):O=n[6];const w=O;let I;n[7]!==h.error||n[8]!==E?(I=function(e,t){let n,a;e:switch(e){case"wallet_installSnap":n=E("snapInstallationErrorTitle"),a=E("snapInstallationErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;case"wallet_updateSnap":n=E("snapUpdateErrorTitle"),a=E("snapUpdateErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;default:n=E("snapResultError")}return r.default.createElement(m.default,{error:h.error,title:n,description:a,iconName:d.IconName.Warning})},n[7]=h.error,n[8]=E,n[9]=I):I=n[9];const R=I;let N,B,M,P,A,D,F,L;return n[10]!==_||n[11]!==x.origin?(N=r.default.createElement(f.default,{snapId:x.origin,onCancel:_}),n[10]=_,n[11]=x.origin,n[12]=N):N=n[12],n[13]!==S?(B=S&&r.default.createElement(c.default,{className:"snap-result__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full},r.default.createElement(p.default,null)),n[13]=S,n[14]=B):B=n[14],n[15]!==w||n[16]!==b||n[17]!==S||n[18]!==h.type||n[19]!==C?(M=!S&&!b&&w(h.type,C),n[15]=w,n[16]=b,n[17]=S,n[18]=h.type,n[19]=C,n[20]=M):M=n[20],n[21]!==R||n[22]!==b||n[23]!==h.type||n[24]!==C?(P=b&&R(h.type,C),n[21]=R,n[22]=b,n[23]=h.type,n[24]=C,n[25]=P):P=n[25],n[26]!==B||n[27]!==M||n[28]!==P?(A=r.default.createElement(c.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative,height:u.BlockSize.Full,justifyContent:u.JustifyContent.center},B,M,P),n[26]=B,n[27]=M,n[28]=P,n[29]=A):A=n[29],n[30]!==E?(D=E("ok").toUpperCase(),n[30]=E,n[31]=D):D=n[31],n[32]!==S||n[33]!==_||n[34]!==D?(F=r.default.createElement(c.default,{className:"snap-result__footer",alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(s.PageContainerFooter,{hideCancel:!0,disabled:S,onSubmit:_,submitText:D})),n[32]=S,n[33]=_,n[34]=D,n[35]=F):F=n[35],n[36]!==F||n[37]!==N||n[38]!==A?(L=r.default.createElement(c.default,{className:"page-container snap-result",justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},N,A,F),n[36]=F,n[37]=N,n[38]=A,n[39]=L):L=n[39],L}x.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapResult:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[8386,{"./snap-update":8387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[8387,{"../../../../components/app/snaps/install-error/install-error":6697,"../../../../components/app/snaps/snap-authorship-header":6705,"../../../../components/app/snaps/snap-install-warning":6718,"../../../../components/app/snaps/update-snap-permission-list":6825,"../../../../components/component-library":6951,"../../../../components/ui/page-container":7363,"../../../../components/ui/pulse-loader/pulse-loader":7372,"../../../../helpers/constants/design-system":7460,"../../../../helpers/utils/util":7518,"../../../../hooks/useI18nContext":7615,"../../../../hooks/useScrollRequired":7636,"../../../../selectors":8577,"../util":8390,"prop-types":5495,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=e("react-compiler-runtime"),o=v(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=v(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=v(e("../../../../components/app/snaps/update-snap-permission-list")),p=e("../util"),m=v(e("../../../../components/ui/pulse-loader/pulse-loader")),f=v(e("../../../../components/app/snaps/install-error/install-error")),g=v(e("../../../../components/app/snaps/snap-authorship-header")),h=e("../../../../components/component-library"),y=e("../../../../hooks/useScrollRequired"),x=e("../../../../selectors"),E=e("../../../../helpers/utils/util");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function _(e){var t,n;const o=(0,a.c)(101),{request:T,requestState:v,approveSnapUpdate:_,rejectSnapUpdate:b,targetSubjectMetadata:S}=e,k=(0,l.useI18nContext)(),[C,O]=(0,r.useState)(!1),[w,I]=(0,r.useState)(!1);let R;o[0]!==v?(R=[v],o[0]=v,o[1]=R):R=o[1];const{isScrollable:N,hasScrolledToBottom:B,scrollToBottom:M,ref:P,onScroll:A}=(0,y.useScrollRequired)(R),D=(0,i.useSelector)(x.getSnapsMetadata);let F;var L;o[2]!==b||o[3]!==(null==T||null===(t=T.metadata)||void 0===t?void 0:t.id)?(F=()=>{var e;return b(null==T||null===(e=T.metadata)||void 0===e?void 0:e.id)},o[2]=b,o[3]=null==T||null===(L=T.metadata)||void 0===L?void 0:L.id,o[4]=F):F=o[4];const W=F;let j;var U;o[5]!==_||o[6]!==(null==T||null===(n=T.metadata)||void 0===n?void 0:n.id)?(j=()=>{var e;return _(null==T||null===(e=T.metadata)||void 0===e?void 0:e.id)},o[5]=_,o[6]=null==T||null===(U=T.metadata)||void 0===U?void 0:U.id,o[7]=j):j=o[7];const z=j;let $;o[8]!==S.origin?($=e=>(0,x.getSnapMetadata)(e,S.origin),o[8]=S.origin,o[9]=$):$=o[9];const{name:V}=(0,i.useSelector)($);let G;o[10]!==v.approvedPermissions?(G=v.approvedPermissions??{},o[10]=v.approvedPermissions,o[11]=G):G=o[11];const q=G;let J;o[12]!==v.unusedPermissions?(J=v.unusedPermissions??{},o[12]=v.unusedPermissions,o[13]=J):J=o[13];const K=J;let H,X,Y,Q,Z,ee,te,ne;if(o[14]!==v||o[15]!==V||o[16]!==D||o[17]!==k){let e,t,n;Z=v.newPermissions??{},o[26]!==v.approvedConnections?(e=v.approvedConnections??{},o[26]=v.approvedConnections,o[27]=e):e=o[27],H=e,o[28]!==v.unusedConnections?(t=v.unusedConnections??{},o[28]=v.unusedConnections,o[29]=t):t=o[29],te=t,o[30]!==v.newConnections?(n=v.newConnections??{},o[30]=v.newConnections,o[31]=n):n=o[31],Q=n,({newVersion:ee}=v),Y=v.loading,X=!Y&&v.error,ne=(0,p.getSnapInstallWarnings)(Z,k,V,(0,E.getSnapName)(D)),o[14]=v,o[15]=V,o[16]=D,o[17]=k,o[18]=H,o[19]=X,o[20]=Y,o[21]=Q,o[22]=Z,o[23]=ee,o[24]=te,o[25]=ne}else H=o[18],X=o[19],Y=o[20],Q=o[21],Z=o[22],ee=o[23],te=o[24],ne=o[25];const ae=ne,oe=ae.length>0;let re;o[32]!==X||o[33]!==W||o[34]!==z||o[35]!==oe?(re=()=>{!X&&oe?O(!0):X?W():z()},o[32]=X,o[33]=W,o[34]=z,o[35]=oe,o[36]=re):re=o[36];const ie=re;let se;o[37]===Symbol.for("react.memo_cache_sentinel")?(se=()=>{I(!0)},o[37]=se):se=o[37];const le=se;let ce;o[38]!==W||o[39]!==S.origin?(ce=r.default.createElement(g.default,{snapId:S.origin,onCancel:W}),o[38]=W,o[39]=S.origin,o[40]=ce):ce=o[40];const ue=!Y&&"1";let de,pe,me,fe,ge,he;o[41]!==ue?(de={overflowY:"auto",flex:ue},o[41]=ue,o[42]=de):de=o[42],o[43]!==X||o[44]!==Y||o[45]!==k?(pe=!Y&&!X&&r.default.createElement(h.Text,{paddingTop:4,paddingBottom:2,variant:u.TextVariant.headingMd,textAlign:"center"},k("updateRequest")),o[43]=X,o[44]=Y,o[45]=k,o[46]=pe):pe=o[46],o[47]!==Y?(me=Y&&r.default.createElement(h.Box,{className:"snap-update__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},r.default.createElement(m.default,null)),o[47]=Y,o[48]=me):me=o[48],o[49]!==X||o[50]!==v.error||o[51]!==V||o[52]!==k?(fe=X&&r.default.createElement(f.default,{iconName:h.IconName.Warning,error:v.error,title:k("snapUpdateErrorTitle"),description:k("snapUpdateErrorDescription",[r.default.createElement(h.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},V)])}),o[49]=X,o[50]=v.error,o[51]=V,o[52]=k,o[53]=fe):fe=o[53],o[54]!==H||o[55]!==q||o[56]!==X||o[57]!==B||o[58]!==Y||o[59]!==N||o[60]!==Q||o[61]!==Z||o[62]!==ee||o[63]!==te||o[64]!==K||o[65]!==M||o[66]!==w||o[67]!==V||o[68]!==k||o[69]!==S?(ge=!X&&!Y&&r.default.createElement(r.default.Fragment,null,r.default.createElement(h.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},k("snapUpdateRequest",[r.default.createElement(h.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},V),r.default.createElement(h.Text,{as:"span",key:"3",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},ee)])),r.default.createElement(h.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},r.default.createElement(d.default,{approvedPermissions:q,revokedPermissions:K,newPermissions:Z,approvedConnections:H,revokedConnections:te,newConnections:Q,targetSubjectMetadata:S,showAllPermissions:le})),r.default.createElement(h.Box,{className:"snap-update__scroll-button-area"},!N||B||w?null:r.default.createElement(h.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:h.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:M,style:{cursor:"pointer"}}))),o[54]=H,o[55]=q,o[56]=X,o[57]=B,o[58]=Y,o[59]=N,o[60]=Q,o[61]=Z,o[62]=ee,o[63]=te,o[64]=K,o[65]=M,o[66]=w,o[67]=V,o[68]=k,o[69]=S,o[70]=ge):ge=o[70],o[71]!==A||o[72]!==P||o[73]!==de||o[74]!==pe||o[75]!==me||o[76]!==fe||o[77]!==ge?(he=r.default.createElement(h.Box,{ref:P,onScroll:A,className:"snap-update__content",style:de,paddingLeft:4,paddingRight:4},pe,me,fe,ge),o[71]=A,o[72]=P,o[73]=de,o[74]=pe,o[75]=me,o[76]=fe,o[77]=ge,o[78]=he):he=o[78];const ye=Y||!X&&N&&!B;let xe;o[79]!==k?(xe=k("cancel"),o[79]=k,o[80]=xe):xe=o[80];const Ee=X?"ok":"confirm";let Te,ve,_e,be;return o[81]!==k||o[82]!==Ee?(Te=k(Ee),o[81]=k,o[82]=Ee,o[83]=Te):Te=o[83],o[84]!==ie||o[85]!==X||o[86]!==W||o[87]!==ye||o[88]!==xe||o[89]!==Te?(ve=r.default.createElement(h.Box,{className:"snap-update__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:X,disabled:ye,onCancel:W,cancelText:xe,onSubmit:ie,submitText:Te})),o[84]=ie,o[85]=X,o[86]=W,o[87]=ye,o[88]=xe,o[89]=Te,o[90]=ve):ve=o[90],o[91]!==C||o[92]!==z||o[93]!==V||o[94]!==ae?(_e=C&&r.default.createElement(c.default,{onCancel:()=>O(!1),onSubmit:z,snapName:V,warnings:ae}),o[91]=C,o[92]=z,o[93]=V,o[94]=ae,o[95]=_e):_e=o[95],o[96]!==ce||o[97]!==he||o[98]!==ve||o[99]!==_e?(be=r.default.createElement(h.Box,{className:"snap-update",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},ce,he,ve,_e),o[96]=ce,o[97]=he,o[98]=ve,o[99]=_e,o[100]=be):be=o[100],be}_.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapUpdate:o.default.func.isRequired,rejectSnapUpdate:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[8388,{"./snaps-connect":8389},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[8389,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":6709,"../../../../components/app/snaps/snap-icon":6716,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":6733,"../../../../components/component-library":6951,"../../../../components/ui/page-container":7363,"../../../../components/ui/pulse-loader/pulse-loader":7372,"../../../../helpers/constants/design-system":7460,"../../../../helpers/utils/util":7518,"../../../../hooks/useI18nContext":7615,"../../../../hooks/useOriginMetadata":7632,"../../../../selectors":8577,"@metamask/snaps-utils":3382,"prop-types":5495,react:5657,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=x(e("prop-types")),i=e("@metamask/snaps-utils"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=x(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=x(e("../../../../components/ui/pulse-loader/pulse-loader")),f=x(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function x(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function T({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:x,setSnapsInstallPrivacyWarningShownStatus:E}){const T=(0,s.useI18nContext)(),{origin:v}=r,[_,b]=(0,a.useState)(!1),S=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),k=(0,o.useSelector)(g.getPreinstalledSnaps),C=(0,p.getDedupedSnaps)(e,S),O=C[0],{name:w}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,O)),I=Object.keys(k).includes(O),[R,N]=(0,a.useState)(!I&&!x),B=(0,a.useCallback)(()=>{var t;n(null==e||null===(t=e.metadata)||void 0===t?void 0:t.id)},[e,n]),M=(0,a.useCallback)(()=>{try{b(!0),t(e)}finally{b(!1)}},[e,t]),P=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(v)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,i.isSnapId)(v)?v:`npm:${v}`));return(0,i.isSnapId)(v)&&(t=n),_?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(m.default,null)):(null==C?void 0:C.length)>1?a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},T("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},T("multipleSnapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==C?void 0:C.length)])),a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},C.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==C?void 0:C.length)?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:C[0],avatarSize:l.IconSize.Xl})),a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},T("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},T("snapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},w)]))):null};return a.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},R&&a.default.createElement(f.default,{onAccepted:()=>{N(!1),E(!0)},onCanceled:B}),a.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(P,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:_,onCancel:B,cancelText:T("cancel"),onSubmit:M,submitText:T("connect")}))}T.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[8390,{"../../../helpers/utils/permission":7505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[r,i])=>{const s=(0,a.getPermissionDescription)({t:t,permissionName:r,permissionValue:i,subjectName:n,getSubjectName:o});return e.concat(s.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[8391,{"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Dropdown=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const s=e=>{const t=(0,a.c)(42),{options:n,selectedId:i,onChange:s,testId:c}=e,[u,d]=(0,o.useState)(!1),[p,m]=(0,o.useState)(-1),f=(0,o.useRef)(null),g=(0,o.useRef)(null);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[0]=h):h=t[0];const y=(0,o.useRef)(h);let x;if(t[1]!==n||t[2]!==i){let e;t[4]!==i?(e=e=>e.id===i,t[4]=i,t[5]=e):e=t[5],x=n.find(e),t[1]=n,t[2]=i,t[3]=x}else x=t[3];const E=x;let T;t[6]!==i?(T=e=>e.id===i,t[6]=i,t[7]=T):T=t[7];const v=n.findIndex(T);let _,b,S,k,C;t[8]!==u?(_=()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&(d(!1),m(-1))};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},b=[u],t[8]=u,t[9]=_,t[10]=b):(_=t[9],b=t[10]),(0,o.useEffect)(_,b),t[11]!==u||t[12]!==v?(S=()=>{var e;u&&v>=0&&(m(v),null===(e=y.current[v])||void 0===e||e.focus())},k=[u,v],t[11]=u,t[12]=v,t[13]=S,t[14]=k):(S=t[13],k=t[14]),(0,o.useEffect)(S,k),t[15]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{d(l)},t[15]=C):C=t[15];const O=C;let w;t[16]!==s?(w=e=>{var t;s(e.id),d(!1),m(-1),null===(t=g.current)||void 0===t||t.focus()},t[16]=s,t[17]=w):w=t[17];const I=w;let R;t[18]===Symbol.for("react.memo_cache_sentinel")?(R=e=>{e:switch(e.key){case"Enter":case" ":case"ArrowDown":case"ArrowUp":e.preventDefault(),d(!0)}},t[18]=R):R=t[18];const N=R;let B;t[19]!==I||t[20]!==n?(B=(e,t)=>{e:switch(e.key){case"Enter":case" ":e.preventDefault(),I(n[t]);break e;case"ArrowDown":var a;if(e.preventDefault(),t<n.length-1)m(t+1),null===(a=y.current[t+1])||void 0===a||a.focus();break e;case"ArrowUp":var o;if(e.preventDefault(),t>0)m(t-1),null===(o=y.current[t-1])||void 0===o||o.focus();break e;case"Escape":var r;e.preventDefault(),d(!1),m(-1),null===(r=g.current)||void 0===r||r.focus();break e;case"Tab":d(!1),m(-1)}},t[19]=I,t[20]=n,t[21]=B):B=t[21];const M=B,P=`${c}-button`,A=(null==E?void 0:E.label)??"";let D;t[22]!==A?(D=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextDefault},A),t[22]=A,t[23]=D):D=t[23];const F=u?r.IconName.ArrowUp:r.IconName.ArrowDown;let L,W,j;var U;(t[24]!==F?(L=o.default.createElement(r.Icon,{name:F,size:r.IconSize.Xs,color:r.IconColor.IconDefault,className:"ml-auto"}),t[24]=F,t[25]=L):L=t[25],t[26]!==u||t[27]!==P||t[28]!==D||t[29]!==L?(W=o.default.createElement(r.ButtonBase,{ref:g,size:r.ButtonBaseSize.Sm,className:"flex items-center justify-start gap-1 rounded-lg bg-background-muted px-3 py-2 hover:bg-hover active:opacity-70",onClick:O,onKeyDown:N,"aria-haspopup":"listbox","aria-expanded":u,"data-testid":P},D,L),t[26]=u,t[27]=P,t[28]=D,t[29]=L,t[30]=W):W=t[30],t[31]!==p||t[32]!==M||t[33]!==I||t[34]!==u||t[35]!==n||t[36]!==i||t[37]!==c)?(j=u&&o.default.createElement(r.Box,{className:"absolute left-0 top-full z-10 mt-1 min-w-[120px] overflow-hidden rounded-lg border border-border-muted bg-background-default shadow-lg",flexDirection:r.BoxFlexDirection.Column,role:"listbox","aria-activedescendant":p>=0?`${c}-option-${null===(U=n[p])||void 0===U?void 0:U.id}`:undefined,"data-testid":`${c}-menu`},n.map((e,t)=>o.default.createElement(r.ButtonBase,{key:e.id,ref:e=>{y.current[t]=e},onClick:()=>I(e),onKeyDown:e=>M(e,t),className:"w-full justify-between text-left rounded-none px-3 py-2 bg-transparent min-w-0 h-auto hover:bg-hover active:bg-pressed",role:"option","aria-selected":e.id===i,id:`${c}-option-${e.id}`,"data-testid":`${c}-option-${e.id}`},o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:e.id===i?r.TextColor.TextDefault:r.TextColor.TextAlternative},e.label),e.id===i&&o.default.createElement(r.Icon,{name:r.IconName.Check,size:r.IconSize.Sm,color:r.IconColor.IconDefault})))),t[31]=p,t[32]=M,t[33]=I,t[34]=u,t[35]=n,t[36]=i,t[37]=c,t[38]=j):j=t[38];let z;return t[39]!==W||t[40]!==j?(z=o.default.createElement(r.Box,{ref:f,className:"relative"},W,j),t[39]=W,t[40]=j,t[41]=z):z=t[41],z};n.Dropdown=s;n.default=s;function l(e){return!e}}}},{package:"$root$",file:"ui/pages/perps/market-list/components/dropdown/dropdown.tsx"}],[8392,{"./dropdown":8391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Dropdown",{enumerable:!0,get:function(){return a.Dropdown}});var a=e("./dropdown")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/dropdown/index.ts"}],[8393,{"../../../../../hooks/useI18nContext":7615,"../dropdown":8392,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FilterSelect=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useI18nContext"),i=e("../dropdown");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=e=>{const t=(0,a.c)(20),{value:n,onChange:s}=e,l=(0,r.useI18nContext)();let c,u,d,p,m,f,g;t[0]!==l?(c=l("perpsFilterAll"),t[0]=l,t[1]=c):c=t[1],t[2]!==c?(u={id:"all",label:c},t[2]=c,t[3]=u):u=t[3],t[4]!==l?(d=l("perpsFilterCrypto"),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(p={id:"crypto",label:d},t[6]=d,t[7]=p):p=t[7],t[8]!==l?(m=l("perpsFilterStocks"),t[8]=l,t[9]=m):m=t[9],t[10]!==m?(f={id:"stocks",label:m},t[10]=m,t[11]=f):f=t[11],t[12]!==u||t[13]!==p||t[14]!==f?(g=[u,p,f],t[12]=u,t[13]=p,t[14]=f,t[15]=g):g=t[15];const h=g;let y;return t[16]!==s||t[17]!==h||t[18]!==n?(y=o.default.createElement(i.Dropdown,{options:h,selectedId:n,onChange:s,testId:"filter-select"}),t[16]=s,t[17]=h,t[18]=n,t[19]=y):y=t[19],y};n.FilterSelect=l;n.default=l}}},{package:"$root$",file:"ui/pages/perps/market-list/components/filter-select/filter-select.tsx"}],[8394,{"./filter-select":8393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FilterSelect",{enumerable:!0,get:function(){return a.FilterSelect}});var a=e("./filter-select")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/filter-select/index.ts"}],[8395,{"./market-row-skeleton":8396},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MarketRowSkeleton",{enumerable:!0,get:function(){return a.MarketRowSkeleton}});var a=e("./market-row-skeleton")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row-skeleton/index.ts"}],[8396,{"../../../../../components/component-library/skeleton":6997,"../../../../../helpers/constants/design-system":7460,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MarketRowSkeleton=void 0;var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/design-system-react"),s=e("../../../../../components/component-library/skeleton"),l=e("../../../../../helpers/constants/design-system");const c=()=>{const e=(0,o.c)(3);let t,n,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Skeleton,{className:"h-10 w-10 shrink-0",borderRadius:l.BorderRadius.pill}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n=r.default.createElement(i.Box,{className:"min-w-0 flex-1",flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Start,gap:1},r.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:2},r.default.createElement(s.Skeleton,{className:"h-4 w-12"}),r.default.createElement(s.Skeleton,{className:"h-3 w-8"})),r.default.createElement(s.Skeleton,{className:"h-3 w-16"})),e[1]=n):n=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(a=r.default.createElement(i.Box,{className:"px-4 py-3",backgroundColor:i.BoxBackgroundColor.BackgroundMuted,flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:3,"data-testid":"market-row-skeleton"},t,n,r.default.createElement(i.Box,{className:"shrink-0",flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.End,gap:1},r.default.createElement(s.Skeleton,{className:"h-4 w-20"}),r.default.createElement(s.Skeleton,{className:"h-3 w-12"}))),e[2]=a):a=e[2],a};n.MarketRowSkeleton=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row-skeleton/market-row-skeleton.tsx"}],[8397,{"./market-row":8398},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MarketRow",{enumerable:!0,get:function(){return a.MarketRow}});var a=e("./market-row")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row/index.ts"}],[8398,{"../../../../../components/app/perps/perps-token-logo":6653,"../../../../../components/app/perps/utils":6661,"../../../../../hooks/useFormatters":7611,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MarketRow=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react"),i=e("../../../../../components/app/perps/perps-token-logo"),s=e("../../../../../components/app/perps/utils"),l=e("../../../../../hooks/useFormatters");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=e=>{const t=(0,a.c)(42),{market:n,onPress:c,displayMetric:u}=e,d=u===undefined?"volume":u,{formatNumber:p}=(0,l.useFormatters)();let m;t[0]!==n.symbol?(m=(0,s.getDisplaySymbol)(n.symbol),t[0]=n.symbol,t[1]=m):m=t[1];const f=m;let g;t[2]!==d||t[3]!==p||t[4]!==n?(g=((e,t,n)=>{switch(t){case"volume":default:return`${e.volume} Vol`;case"priceChange":return e.change24hPercent;case"fundingRate":return e.fundingRate===undefined?"N/A":`${n(100*e.fundingRate,{minimumFractionDigits:4,maximumFractionDigits:4})}% FR`;case"openInterest":return e.openInterest?`${e.openInterest} OI`:"N/A"}})(n,d,p),t[2]=d,t[3]=p,t[4]=n,t[5]=g):g=t[5];const h=g;let y;e:{const e=n.change24hPercent;if(!e||"--"===e||"N/A"===e){y=r.TextColor.TextAlternative;break e}let a;t[6]!==e?(a=(0,s.getChangeColor)(e),t[6]=e,t[7]=a):a=t[7],y=a}const x=y;let E;t[8]!==n||t[9]!==c?(E=()=>{c&&c(n)},t[8]=n,t[9]=c,t[10]=E):E=t[10];const T=E;let v;if(t[11]!==n.symbol){let e;t[13]===Symbol.for("react.memo_cache_sentinel")?(e=/:/gu,t[13]=e):e=t[13],v=n.symbol.replace(e,"-"),t[11]=n.symbol,t[12]=v}else v=t[12];const _=`market-row-${v}`;let b,S,k,C,O,w,I,R,N,B;return t[14]!==n.symbol?(b=o.default.createElement(i.PerpsTokenLogo,{symbol:n.symbol,size:r.AvatarTokenSize.Md,className:"shrink-0"}),t[14]=n.symbol,t[15]=b):b=t[15],t[16]!==f?(S=o.default.createElement(r.Text,{fontWeight:r.FontWeight.Medium},f),t[16]=f,t[17]=S):S=t[17],t[18]!==n.maxLeverage?(k=o.default.createElement("span",{className:"shrink-0 rounded-md bg-background-muted px-1.5"},o.default.createElement(r.Text,{variant:r.TextVariant.BodyXs,color:r.TextColor.TextAlternative},n.maxLeverage)),t[18]=n.maxLeverage,t[19]=k):k=t[19],t[20]!==k||t[21]!==S?(C=o.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center,gap:2},S,k),t[20]=k,t[21]=S,t[22]=C):C=t[22],t[23]!==h?(O=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextAlternative},h),t[23]=h,t[24]=O):O=t[24],t[25]!==C||t[26]!==O?(w=o.default.createElement(r.Box,{className:"min-w-0 flex-1",flexDirection:r.BoxFlexDirection.Column,alignItems:r.BoxAlignItems.Start,gap:1},C,O),t[25]=C,t[26]=O,t[27]=w):w=t[27],t[28]!==n.price?(I=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium},n.price),t[28]=n.price,t[29]=I):I=t[29],t[30]!==x||t[31]!==n.change24hPercent?(R=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:x},n.change24hPercent),t[30]=x,t[31]=n.change24hPercent,t[32]=R):R=t[32],t[33]!==I||t[34]!==R?(N=o.default.createElement(r.Box,{className:"shrink-0",flexDirection:r.BoxFlexDirection.Column,alignItems:r.BoxAlignItems.End,gap:1},I,R),t[33]=I,t[34]=R,t[35]=N):N=t[35],t[36]!==T||t[37]!==w||t[38]!==N||t[39]!==_||t[40]!==b?(B=o.default.createElement(r.Box,{className:"cursor-pointer bg-default px-4 py-3 hover:bg-hover active:bg-pressed",flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center,gap:3,"data-testid":_,onClick:T},b,w,N),t[36]=T,t[37]=w,t[38]=N,t[39]=_,t[40]=b,t[41]=B):B=t[41],B};n.MarketRow=u;n.default=u}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row/market-row.tsx"}],[8399,{"./search-input":8400},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SearchInput",{enumerable:!0,get:function(){return a.SearchInput}});var a=e("./search-input")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/search-input/index.ts"}],[8400,{"../../../../../components/component-library":6951,"../../../../../helpers/constants/design-system":7460,"../../../../../hooks/useI18nContext":7615,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SearchInput=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../../hooks/useI18nContext");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,a.c)(15),{value:n,onChange:l,onClear:c,autoFocus:u}=e,d=u!==undefined&&u,p=(0,s.useI18nContext)();let m;t[0]!==c?(m=e=>{"Escape"===e.key&&c()},t[0]=c,t[1]=m):m=t[1];const f=m;let g,h,y,x;return t[2]!==p?(g=p("perpsSearchMarkets"),t[2]=p,t[3]=g):g=t[3],t[4]!==l?(h=e=>l(e.target.value),t[4]=l,t[5]=h):h=t[5],t[6]!==f?(y={"data-testid":"search-input",onKeyDown:f},t[6]=f,t[7]=y):y=t[7],t[8]!==d||t[9]!==c||t[10]!==g||t[11]!==h||t[12]!==y||t[13]!==n?(x=o.default.createElement(r.TextFieldSearch,{size:r.TextFieldSearchSize.Md,placeholder:g,autoFocus:d,value:n,onChange:h,clearButtonOnClick:c,borderRadius:i.BorderRadius.MD,"data-testid":"search-input-container",inputProps:y}),t[8]=d,t[9]=c,t[10]=g,t[11]=h,t[12]=y,t[13]=n,t[14]=x):x=t[14],x};n.SearchInput=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/search-input/search-input.tsx"}],[8401,{"./sort-dropdown":8402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SORT_OPTIONS",{enumerable:!0,get:function(){return a.SORT_OPTIONS}}),Object.defineProperty(n,"SortDropdown",{enumerable:!0,get:function(){return a.SortDropdown}});var a=e("./sort-dropdown")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/sort-dropdown/index.ts"}],[8402,{"../../../../../hooks/useI18nContext":7615,"../dropdown":8392,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SortDropdown=n.SORT_OPTIONS=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useI18nContext"),i=e("../dropdown");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=n.SORT_OPTIONS=[{id:"volume",labelKey:"perpsSortVolume",field:"volume",direction:"desc"},{id:"priceChangeHigh",labelKey:"perpsSortPriceChangeHighToLow",field:"priceChange",direction:"desc"},{id:"priceChangeLow",labelKey:"perpsSortPriceChangeLowToHigh",field:"priceChange",direction:"asc"},{id:"openInterest",labelKey:"perpsSortOpenInterest",field:"openInterest",direction:"desc"},{id:"fundingRate",labelKey:"perpsSortFundingRate",field:"fundingRate",direction:"desc"}],c=e=>{const t=(0,a.c)(8),{selectedOptionId:n,onOptionChange:s}=e,c=(0,r.useI18nContext)();let u;t[0]!==c?(u=l.map(e=>({id:e.id,label:c(e.labelKey)})),t[0]=c,t[1]=u):u=t[1];const d=u;let p;t[2]!==s?(p=e=>{const t=l.find(t=>t.id===e);t&&s(t.id,t.field,t.direction)},t[2]=s,t[3]=p):p=t[3];const m=p;let f;return t[4]!==m||t[5]!==d||t[6]!==n?(f=o.default.createElement(i.Dropdown,{options:d,selectedId:n,onChange:m,testId:"sort-dropdown"}),t[4]=m,t[5]=d,t[6]=n,t[7]=f):f=t[7],f};n.SortDropdown=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/sort-dropdown/sort-dropdown.tsx"}],[8403,{"./stock-sub-filter":8404},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"StockSubFilterSelect",{enumerable:!0,get:function(){return a.StockSubFilterSelect}});var a=e("./stock-sub-filter")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/stock-sub-filter/index.ts"}],[8404,{"../../../../../hooks/useI18nContext":7615,"../dropdown":8392,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.StockSubFilterSelect=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useI18nContext"),i=e("../dropdown");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=e=>{const t=(0,a.c)(20),{value:n,onChange:s}=e,l=(0,r.useI18nContext)();let c,u,d,p,m,f,g;t[0]!==l?(c=l("perpsFilterAll"),t[0]=l,t[1]=c):c=t[1],t[2]!==c?(u={id:"all",label:c},t[2]=c,t[3]=u):u=t[3],t[4]!==l?(d=l("perpsFilterStocksOnly"),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(p={id:"stocks",label:d},t[6]=d,t[7]=p):p=t[7],t[8]!==l?(m=l("perpsFilterCommodities"),t[8]=l,t[9]=m):m=t[9],t[10]!==m?(f={id:"commodities",label:m},t[10]=m,t[11]=f):f=t[11],t[12]!==u||t[13]!==p||t[14]!==f?(g=[u,p,f],t[12]=u,t[13]=p,t[14]=f,t[15]=g):g=t[15];const h=g;let y;return t[16]!==s||t[17]!==h||t[18]!==n?(y=o.default.createElement(i.Dropdown,{options:h,selectedId:n,onChange:s,testId:"stock-sub-filter"}),t[16]=s,t[17]=h,t[18]=n,t[19]=y):y=t[19],y};n.StockSubFilterSelect=l;n.default=l}}},{package:"$root$",file:"ui/pages/perps/market-list/components/stock-sub-filter/stock-sub-filter.tsx"}],[8405,{"../../../components/app/perps/mocks":6619,"../../../components/app/perps/utils":6661,"../../../helpers/constants/routes":7465,"../../../hooks/useI18nContext":7615,"../../../selectors/perps/feature-flags":8592,"../utils/sortMarkets":8409,"./components/filter-select":8394,"./components/market-row":8397,"./components/market-row-skeleton":8395,"./components/search-input":8399,"./components/sort-dropdown":8401,"./components/stock-sub-filter":8403,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MarketListView=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/design-system-react"),l=e("../../../hooks/useI18nContext"),c=e("../../../components/app/perps/mocks"),u=e("../../../components/app/perps/utils"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors/perps/feature-flags"),m=e("../utils/sortMarkets"),f=e("./components/market-row"),g=e("./components/market-row-skeleton"),h=e("./components/sort-dropdown"),y=e("./components/search-input"),x=e("./components/filter-select"),E=e("./components/stock-sub-filter");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const v=[...c.mockCryptoMarkets,...c.mockHip3Markets],_={all:new Set(["equity","commodity"]),stocks:new Set(["equity"]),commodities:new Set(["commodity"])},b=()=>{const e=(0,a.c)(58),t=(0,l.useI18nContext)(),n=(0,i.useNavigate)(),c=(0,r.useSelector)(p.getIsPerpsEnabled),[g,T]=(0,o.useState)(!0),[b,k]=(0,o.useState)(""),[C,O]=(0,o.useState)("volume"),[w,I]=(0,o.useState)("all"),[R,N]=(0,o.useState)("all");let B;e[0]!==C?(B=h.SORT_OPTIONS.find(e=>e.id===C),e[0]=C,e[1]=B):B=e[1];const M=B;let P,A,D;e[2]===Symbol.for("react.memo_cache_sentinel")?(P=()=>{const e=setTimeout(()=>{T(!1)},500);return()=>clearTimeout(e)},A=[],e[2]=P,e[3]=A):(P=e[2],A=e[3]),(0,o.useEffect)(P,A),e[4]!==M||e[5]!==b||e[6]!==w||e[7]!==R?(D=b.trim()?(0,u.filterMarketsByQuery)(v,b):((e,t,n)=>{switch(t){case"all":default:return e;case"crypto":return e.filter(e=>!e.marketType||"crypto"===e.marketType);case"stocks":{const t=_[n];return e.filter(e=>{return("equity"===(n=e.marketType)||"commodity"===n)&&t.has(e.marketType);var n})}}})(v,w,R),M&&(D=(0,m.sortMarkets)({markets:D,sortBy:M.field,direction:M.direction})),e[4]=M,e[5]=b,e[6]=w,e[7]=R,e[8]=D):D=e[8];const F=D;let L;e[9]!==n?(L=()=>{n(-1)},e[9]=n,e[10]=L):L=e[10];const W=L;let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=e=>{k(e)},e[11]=j):j=e[11];const U=j;let z;e[12]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{k("")},e[12]=z):z=e[12];const $=z;let V;e[13]===Symbol.for("react.memo_cache_sentinel")?(V=(e,t,n)=>{O(e)},e[13]=V):V=e[13];const G=V;let q;e[14]===Symbol.for("react.memo_cache_sentinel")?(q=e=>{I(e),N("all")},e[14]=q):q=e[14];const J=q;let K;e[15]!==n?(K=e=>{n(`${d.PERPS_MARKET_DETAIL_ROUTE}/${encodeURIComponent(e.symbol)}`)},e[15]=n,e[16]=K):K=e[16];const H=K;if(!c){let t;return e[17]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Navigate,{to:d.DEFAULT_ROUTE,replace:!0}),e[17]=t):t=e[17],t}let X,Y,Q,Z,ee,te,ne,ae,oe,re,ie,se,le;return e[18]!==t?(X=t("back"),e[18]=t,e[19]=X):X=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(Y=o.default.createElement(s.Icon,{name:s.IconName.ArrowLeft,size:s.IconSize.Md,color:s.IconColor.IconDefault}),e[20]=Y):Y=e[20],e[21]!==W||e[22]!==X?(Q=o.default.createElement(s.ButtonBase,{onClick:W,className:"rounded-full p-1 bg-transparent min-w-0 h-auto hover:bg-hover active:bg-pressed","data-testid":"back-button","aria-label":X},Y),e[21]=W,e[22]=X,e[23]=Q):Q=e[23],e[24]!==t?(Z=t("perpsMarkets"),e[24]=t,e[25]=Z):Z=e[25],e[26]!==Z?(ee=o.default.createElement(s.Text,{fontWeight:s.FontWeight.Medium},Z),e[26]=Z,e[27]=ee):ee=e[27],e[28]!==Q||e[29]!==ee?(te=o.default.createElement(s.Box,{className:"border-b border-border-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:3},Q,ee),e[28]=Q,e[29]=ee,e[30]=te):te=e[30],e[31]!==b?(ne=o.default.createElement(s.Box,{className:"border-b border-border-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center},o.default.createElement(y.SearchInput,{value:b,onChange:U,onClear:$,autoFocus:!0})),e[31]=b,e[32]=ne):ne=e[32],e[33]!==b||e[34]!==w||e[35]!==C||e[36]!==R?(ae=!b.trim()&&o.default.createElement(s.Box,{className:"border-b border-border-muted px-4 py-3 flex-wrap",flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,justifyContent:s.BoxJustifyContent.Start,gap:3,"data-testid":"market-list-filter-sort-row"},o.default.createElement(x.FilterSelect,{value:w,onChange:J}),o.default.createElement(h.SortDropdown,{selectedOptionId:C,onOptionChange:G}),"stocks"===w&&o.default.createElement(E.StockSubFilterSelect,{value:R,onChange:N})),e[33]=b,e[34]=w,e[35]=C,e[36]=R,e[37]=ae):ae=e[37],e[38]!==g?(oe=g&&Array.from({length:8}).map(S),e[38]=g,e[39]=oe):oe=e[39],e[40]!==(null==M?void 0:M.field)||e[41]!==F||e[42]!==H||e[43]!==g?(re=!g&&F.length>0&&F.map(e=>o.default.createElement(f.MarketRow,{key:e.symbol,market:e,displayMetric:(null==M?void 0:M.field)||"volume",onPress:H})),e[40]=null==M?void 0:M.field,e[41]=F,e[42]=H,e[43]=g,e[44]=re):re=e[44],e[45]!==F||e[46]!==g||e[47]!==t?(ie=!g&&0===F.length&&o.default.createElement(s.Box,{className:"px-4 py-8",flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.Center,justifyContent:s.BoxJustifyContent.Center,gap:2},o.default.createElement(s.Icon,{name:s.IconName.Search,size:s.IconSize.Lg,color:s.IconColor.IconMuted}),o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,color:s.TextColor.TextAlternative},t("perpsNoMarketsFound"))),e[45]=F,e[46]=g,e[47]=t,e[48]=ie):ie=e[48],e[49]!==oe||e[50]!==re||e[51]!==ie?(se=o.default.createElement(s.Box,{className:"flex-1 overflow-y-auto",flexDirection:s.BoxFlexDirection.Column},oe,re,ie),e[49]=oe,e[50]=re,e[51]=ie,e[52]=se):se=e[52],e[53]!==te||e[54]!==ne||e[55]!==ae||e[56]!==se?(le=o.default.createElement(s.Box,{className:"flex h-full flex-col bg-background-default",flexDirection:s.BoxFlexDirection.Column,"data-testid":"market-list-view"},te,ne,ae,se),e[53]=te,e[54]=ne,e[55]=ae,e[56]=se,e[57]=le):le=e[57],le};n.MarketListView=b;n.default=b;function S(e,t){return o.default.createElement(g.MarketRowSkeleton,{key:`skeleton-${t}`})}}}},{package:"$root$",file:"ui/pages/perps/market-list/index.tsx"}],[8406,{"../../components/app/perps/mocks":6619,"../../components/app/perps/transaction-card":6659,"../../components/app/perps/utils":6661,"../../components/component-library":6951,"../../components/multichain/pages/page":7266,"../../helpers/constants/routes":7465,"../../hooks/useI18nContext":7615,"../../selectors/perps/feature-flags":8592,"./market-list/components/dropdown":8392,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/design-system-react"),l=e("../../components/component-library"),c=e("../../components/multichain/pages/page"),u=e("../../selectors/perps/feature-flags"),d=e("../../hooks/useI18nContext"),p=e("../../helpers/constants/routes"),m=e("../../components/app/perps/mocks"),f=e("../../components/app/perps/transaction-card"),g=e("../../components/app/perps/utils"),h=e("./market-list/components/dropdown");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.c)(53),t=(0,d.useI18nContext)(),n=(0,i.useNavigate)(),f=(0,r.useSelector)(u.getIsPerpsEnabled),[y,x]=(0,o.useState)("trade");let T,v,_,b,S,k,C,O,w;e[0]!==t?(T=t("perpsTrades"),e[0]=t,e[1]=T):T=e[1],e[2]!==T?(v={id:"trade",label:T},e[2]=T,e[3]=v):v=e[3],e[4]!==t?(_=t("perpsOrders"),e[4]=t,e[5]=_):_=e[5],e[6]!==_?(b={id:"order",label:_},e[6]=_,e[7]=b):b=e[7],e[8]!==t?(S=t("perpsFunding"),e[8]=t,e[9]=S):S=e[9],e[10]!==S?(k={id:"funding",label:S},e[10]=S,e[11]=k):k=e[11],e[12]!==t?(C=t("perpsDeposits"),e[12]=t,e[13]=C):C=e[13],e[14]!==C?(O={id:"deposit",label:C},e[14]=C,e[15]=O):O=e[15],e[16]!==v||e[17]!==b||e[18]!==k||e[19]!==O?(w=[v,b,k,O],e[16]=v,e[17]=b,e[18]=k,e[19]=O,e[20]=w):w=e[20];const I=w;let R;e[21]!==y?(R=(0,g.filterTransactionsByType)(m.mockTransactions,y),e[21]=y,e[22]=R):R=e[22];const N=R,B=t;let M;e[23]!==N||e[24]!==B?(M=(0,g.groupTransactionsByDate)(N,B),e[23]=N,e[24]=B,e[25]=M):M=e[25];const P=M;let A;e[26]!==n?(A=()=>{n(p.DEFAULT_ROUTE)},e[26]=n,e[27]=A):A=e[27];const D=A;if(!f){let t;return e[28]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Navigate,{to:p.DEFAULT_ROUTE,replace:!0}),e[28]=t):t=e[28],t}let F,L,W,j,U,z,$,V,G;return e[29]!==t?(F=t("back"),e[29]=t,e[30]=F):F=e[30],e[31]!==D||e[32]!==F?(L=o.default.createElement(l.ButtonIcon,{"data-testid":"perps-activity-back-button",iconName:l.IconName.ArrowLeft,ariaLabel:F,size:l.ButtonIconSize.Md,onClick:D}),e[31]=D,e[32]=F,e[33]=L):L=e[33],e[34]!==t?(W=t("perpsActivity"),e[34]=t,e[35]=W):W=e[35],e[36]!==L||e[37]!==W?(j=o.default.createElement(c.Header,{startAccessory:L},W),e[36]=L,e[37]=W,e[38]=j):j=e[38],e[39]!==y||e[40]!==I?(U=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(h.Dropdown,{options:I,selectedId:y,onChange:x,testId:"perps-activity-filter"})),e[39]=y,e[40]=I,e[41]=U):U=e[41],e[42]!==P||e[43]!==t?(z=0===P.length?o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingTop:8,paddingBottom:8,alignItems:s.BoxAlignItems.Center,justifyContent:s.BoxJustifyContent.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,color:s.TextColor.TextAlternative},t("perpsNoTransactions"))):P.map(E),e[42]=P,e[43]=t,e[44]=z):z=e[44],e[45]!==z?($=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column},z),e[45]=z,e[46]=$):$=e[46],e[47]!==U||e[48]!==$?(V=o.default.createElement(c.Content,{padding:0},U,$),e[47]=U,e[48]=$,e[49]=V):V=e[49],e[50]!==j||e[51]!==V?(G=o.default.createElement(c.Page,{"data-testid":"perps-activity-page"},j,V),e[50]=j,e[51]=V,e[52]=G):G=e[52],G};function x(e){return o.default.createElement(f.TransactionCard,{key:e.id,transaction:e})}function E(e){return o.default.createElement(s.Box,{key:e.date,flexDirection:s.BoxFlexDirection.Column,"data-testid":`perps-activity-group-${e.date}`},o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.TextAlternative},e.date)),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column},e.transactions.map(x)))}}}},{package:"$root$",file:"ui/pages/perps/perps-activity-page.tsx"}],[8407,{"../../components/app/perps/mocks":6619,"../../components/app/perps/perps-market-balance-actions":6644,"../../components/app/perps/perps-token-logo":6653,"../../components/app/perps/utils":6661,"../../helpers/constants/routes":7465,"../../hooks/useFormatters":7611,"../../hooks/useI18nContext":7615,"../../selectors/perps/feature-flags":8592,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/design-system-react"),l=e("../../selectors/perps/feature-flags"),c=e("../../hooks/useI18nContext"),u=e("../../hooks/useFormatters"),d=e("../../helpers/constants/routes"),p=e("../../components/app/perps/mocks"),m=e("../../components/app/perps/perps-token-logo"),f=e("../../components/app/perps/perps-market-balance-actions"),g=e("../../components/app/perps/utils");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y="flex items-center gap-3 px-4 py-3 bg-background-muted cursor-pointer hover:bg-hover active:bg-pressed",x="rounded-none first:rounded-t-xl last:rounded-b-xl only:rounded-xl";n.default=()=>{const e=(0,a.c)(151),t=(0,c.useI18nContext)(),{formatCurrencyWithMinThreshold:n}=(0,u.useFormatters)(),h=(0,i.useNavigate)(),R=(0,r.useSelector)(l.getIsPerpsEnabled);let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=p.mockPositions.filter(E).slice(0,3),e[0]=N):N=e[0];const B=N;let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M=p.mockOrders.filter(T).slice(0,5),e[1]=M):M=e[1];const P=M;let A;e[2]===Symbol.for("react.memo_cache_sentinel")?(A=p.mockCryptoMarkets.slice(0,5),e[2]=A):A=e[2];const D=A;let F;e[3]===Symbol.for("react.memo_cache_sentinel")?(F=p.mockHip3Markets.slice(0,5),e[3]=F):F=e[3];const L=F;let W;e[4]!==h?(W=()=>{h(d.DEFAULT_ROUTE)},e[4]=h,e[5]=W):W=e[5];const j=W;let U;e[6]!==h?(U=()=>{h(d.PERPS_MARKET_LIST_ROUTE)},e[6]=h,e[7]=U):U=e[7];const z=U;let $;e[8]!==h?($=e=>{h(`${d.PERPS_MARKET_DETAIL_ROUTE}/${encodeURIComponent(e)}`)},e[8]=h,e[9]=$):$=e[9];const V=$;let G;e[10]!==h?(G=e=>{h(`${d.PERPS_MARKET_DETAIL_ROUTE}/${encodeURIComponent(e)}`)},e[10]=h,e[11]=G):G=e[11];const q=G;if(!R){let t;return e[12]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Navigate,{to:d.DEFAULT_ROUTE,replace:!0}),e[12]=t):t=e[12],t}let J,K,H,X,Y,Q,Z,ee,te,ne,ae,oe,re,ie,se,le,ce,ue,de,pe,me,fe,ge,he,ye,xe,Ee,Te,ve,_e,be,Se,ke,Ce,Oe,we,Ie,Re,Ne,Be,Me,Pe,Ae,De,Fe,Le,We,je,Ue,ze,$e,Ve,Ge,qe,Je,Ke,He,Xe,Ye,Qe,Ze,et,tt,nt,at,ot,rt,it;return e[13]!==t?(J=t("back"),e[13]=t,e[14]=J):J=e[14],e[15]!==j||e[16]!==J?(K=o.default.createElement(s.ButtonIcon,{"data-testid":"perps-home-back-button",color:s.IconColor.IconAlternative,size:s.ButtonIconSize.Md,ariaLabel:J,iconName:s.IconName.ArrowLeft,onClick:j}),e[15]=j,e[16]=J,e[17]=K):K=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(H={flex:1},e[18]=H):H=e[18],e[19]!==t?(X=t("perps"),e[19]=t,e[20]=X):X=e[20],e[21]!==X?(Y=o.default.createElement(s.Text,{variant:s.TextVariant.HeadingLg,fontWeight:s.FontWeight.Bold,style:H},X),e[21]=X,e[22]=Y):Y=e[22],e[23]!==t?(Q=t("search"),e[23]=t,e[24]=Q):Q=e[24],e[25]!==z||e[26]!==Q?(Z=o.default.createElement(s.ButtonIcon,{"data-testid":"perps-home-search-button",color:s.IconColor.IconAlternative,size:s.ButtonIconSize.Md,ariaLabel:Q,iconName:s.IconName.Search,onClick:z}),e[25]=z,e[26]=Q,e[27]=Z):Z=e[27],e[28]!==Y||e[29]!==Z||e[30]!==K?(ee=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,gap:2},K,Y,Z),e[28]=Y,e[29]=Z,e[30]=K,e[31]=ee):ee=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(te=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(f.PerpsMarketBalanceActions,{onAddFunds:v,onWithdraw:_,onLearnMore:b})),e[32]=te):te=e[32],e[33]!==V||e[34]!==t?(ne=B.length>0&&o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,justifyContent:s.BoxJustifyContent.Between,paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsYourPositions")),o.default.createElement(s.ButtonIcon,{color:s.IconColor.IconAlternative,size:s.ButtonIconSize.Sm,ariaLabel:t("perpsPositions"),iconName:s.IconName.MoreHorizontal,onClick:S})),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,style:{gap:"1px"}},B.map(e=>{const n=(0,g.getDisplayName)(e.coin),a=parseFloat(e.size)>=0,r=parseFloat(e.unrealizedPnl)>=0;return o.default.createElement(s.Box,{key:e.coin,className:`${y} ${x}`,role:"button",tabIndex:0,onClick:()=>V(e.coin),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||V(e.coin)}},o.default.createElement(m.PerpsTokenLogo,{symbol:e.coin,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},n," |"," ",t(a?"perpsLong":"perpsShort")),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},Math.abs(parseFloat(e.size))," ",n)),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:r?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},r?"+":"","$",e.unrealizedPnl))}))),e[33]=V,e[34]=t,e[35]=ne):ne=e[35],e[36]!==n||e[37]!==t?(ae=P.length>0&&o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,justifyContent:s.BoxJustifyContent.Between,paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsYourOrders")),o.default.createElement(s.ButtonIcon,{color:s.IconColor.IconAlternative,size:s.ButtonIconSize.Sm,ariaLabel:t("perpsOrders"),iconName:s.IconName.MoreHorizontal,onClick:k})),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,style:{gap:"1px"}},P.map(e=>{const a=(0,g.getDisplayName)(e.symbol),r="limit"===e.orderType?t("perpsLimit"):t("perpsMarket"),i="buy"===e.side?t("perpsBuy"):t("perpsSell"),l="limit"===e.orderType?n(parseFloat(e.size)*parseFloat(e.price),"USD"):"-";return o.default.createElement(s.Box,{key:e.orderId,className:`${y} ${x}`,role:"button",tabIndex:0},o.default.createElement(m.PerpsTokenLogo,{symbol:e.symbol,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},a," | ",r," ",i),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},e.size," ",a)),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},l))}))),e[36]=n,e[37]=t,e[38]=ae):ae=e[38],e[39]!==z?(oe=e=>{"Enter"!==e.key&&" "!==e.key||z()},e[39]=z,e[40]=oe):oe=e[40],e[41]!==t?(re=t("perpsExploreCrypto"),e[41]=t,e[42]=re):re=e[42],e[43]!==re?(ie=o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},re),e[43]=re,e[44]=ie):ie=e[44],e[45]===Symbol.for("react.memo_cache_sentinel")?(se=o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:s.IconColor.IconAlternative}),e[45]=se):se=e[45],e[46]!==z||e[47]!==oe||e[48]!==ie?(le=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:1,paddingBottom:2,className:"cursor-pointer",role:"button",tabIndex:0,onClick:z,onKeyDown:oe},ie,se),e[46]=z,e[47]=oe,e[48]=ie,e[49]=le):le=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?(ce={gap:"1px"},e[50]=ce):ce=e[50],e[51]!==q?(ue=D.map(e=>{const t=e.change24hPercent.startsWith("+");return o.default.createElement(s.Box,{key:e.symbol,className:`${y} ${x}`,role:"button",tabIndex:0,onClick:()=>q(e.symbol),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||q(e.symbol)}},o.default.createElement(m.PerpsTokenLogo,{symbol:e.symbol,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},e.name),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},(0,g.getDisplayName)(e.symbol),"-USD")),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.End},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},e.price),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:t?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},e.change24hPercent)))}),e[51]=q,e[52]=ue):ue=e[52],e[53]!==ue?(de=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,style:ce},ue),e[53]=ue,e[54]=de):de=e[54],e[55]!==le||e[56]!==de?(pe=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},le,de),e[55]=le,e[56]=de,e[57]=pe):pe=e[57],e[58]!==z?(me=e=>{"Enter"!==e.key&&" "!==e.key||z()},e[58]=z,e[59]=me):me=e[59],e[60]!==t?(fe=t("perpsExploreStocksAndCommodities"),e[60]=t,e[61]=fe):fe=e[61],e[62]!==fe?(ge=o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},fe),e[62]=fe,e[63]=ge):ge=e[63],e[64]===Symbol.for("react.memo_cache_sentinel")?(he=o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:s.IconColor.IconAlternative}),e[64]=he):he=e[64],e[65]!==z||e[66]!==me||e[67]!==ge?(ye=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:1,paddingBottom:2,className:"cursor-pointer",role:"button",tabIndex:0,onClick:z,onKeyDown:me},ge,he),e[65]=z,e[66]=me,e[67]=ge,e[68]=ye):ye=e[68],e[69]===Symbol.for("react.memo_cache_sentinel")?(xe={gap:"1px"},e[69]=xe):xe=e[69],e[70]!==q?(Ee=L.map(e=>{const t=e.change24hPercent.startsWith("+");return o.default.createElement(s.Box,{key:e.symbol,className:`${y} ${x}`,role:"button",tabIndex:0,onClick:()=>q(e.symbol),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||q(e.symbol)}},o.default.createElement(m.PerpsTokenLogo,{symbol:e.symbol,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},e.name),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},(0,g.getDisplayName)(e.symbol),"-USD")),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.End},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},e.price),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:t?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},e.change24hPercent)))}),e[70]=q,e[71]=Ee):Ee=e[71],e[72]!==Ee?(Te=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,style:xe},Ee),e[72]=Ee,e[73]=Te):Te=e[73],e[74]!==ye||e[75]!==Te?(ve=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},ye,Te),e[74]=ye,e[75]=Te,e[76]=ve):ve=e[76],e[77]!==t?(_e=t("perpsActivity"),e[77]=t,e[78]=_e):_e=e[78],e[79]!==_e?(be=o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},_e),e[79]=_e,e[80]=be):be=e[80],e[81]===Symbol.for("react.memo_cache_sentinel")?(Se=o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:s.IconColor.IconAlternative}),e[81]=Se):Se=e[81],e[82]!==be?(ke=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:1,paddingBottom:2},be,Se),e[82]=be,e[83]=ke):ke=e[83],e[84]===Symbol.for("react.memo_cache_sentinel")?(Ce={gap:"1px"},e[84]=Ce):Ce=e[84],e[85]===Symbol.for("react.memo_cache_sentinel")?(Oe=o.default.createElement(m.PerpsTokenLogo,{symbol:"ETH",size:s.AvatarTokenSize.Md}),e[85]=Oe):Oe=e[85],e[86]!==t?(we=t("perpsOpenedLong"),e[86]=t,e[87]=we):we=e[87],e[88]!==we?(Ie=o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},we),e[88]=we,e[89]=Ie):Ie=e[89],e[90]===Symbol.for("react.memo_cache_sentinel")?(Re=o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},"2.5 ETH"),e[90]=Re):Re=e[90],e[91]!==Ie?(Ne=o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},Ie,Re),e[91]=Ie,e[92]=Ne):Ne=e[92],e[93]===Symbol.for("react.memo_cache_sentinel")?(Be=o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.SuccessDefault},"+$125.00"),e[93]=Be):Be=e[93],e[94]!==Ne?(Me=o.default.createElement(s.Box,{className:`${y} rounded-t-xl`,role:"button",tabIndex:0},Oe,Ne,Be),e[94]=Ne,e[95]=Me):Me=e[95],e[96]===Symbol.for("react.memo_cache_sentinel")?(Pe=o.default.createElement(m.PerpsTokenLogo,{symbol:"BTC",size:s.AvatarTokenSize.Md}),e[96]=Pe):Pe=e[96],e[97]!==t?(Ae=t("perpsClosedShort"),e[97]=t,e[98]=Ae):Ae=e[98],e[99]!==Ae?(De=o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},Ae),e[99]=Ae,e[100]=De):De=e[100],e[101]===Symbol.for("react.memo_cache_sentinel")?(Fe=o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},"0.5 BTC"),e[101]=Fe):Fe=e[101],e[102]!==De?(Le=o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},De,Fe),e[102]=De,e[103]=Le):Le=e[103],e[104]===Symbol.for("react.memo_cache_sentinel")?(We=o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.ErrorDefault},"-$32.50"),e[104]=We):We=e[104],e[105]!==Le?(je=o.default.createElement(s.Box,{className:y,role:"button",tabIndex:0},Pe,Le,We),e[105]=Le,e[106]=je):je=e[106],e[107]===Symbol.for("react.memo_cache_sentinel")?(Ue=o.default.createElement(m.PerpsTokenLogo,{symbol:"SOL",size:s.AvatarTokenSize.Md}),e[107]=Ue):Ue=e[107],e[108]!==t?(ze=t("perpsIncreasedPosition"),e[108]=t,e[109]=ze):ze=e[109],e[110]!==ze?($e=o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},ze),e[110]=ze,e[111]=$e):$e=e[111],e[112]===Symbol.for("react.memo_cache_sentinel")?(Ve=o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},"50 SOL"),e[112]=Ve):Ve=e[112],e[113]!==$e?(Ge=o.default.createElement(s.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},$e,Ve),e[113]=$e,e[114]=Ge):Ge=e[114],e[115]===Symbol.for("react.memo_cache_sentinel")?(qe=o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.SuccessDefault},"+$45.20"),e[115]=qe):qe=e[115],e[116]!==Ge?(Je=o.default.createElement(s.Box,{className:`${y} rounded-b-xl`,role:"button",tabIndex:0},Ue,Ge,qe),e[116]=Ge,e[117]=Je):Je=e[117],e[118]!==Me||e[119]!==je||e[120]!==Je?(Ke=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,style:Ce},Me,je,Je),e[118]=Me,e[119]=je,e[120]=Je,e[121]=Ke):Ke=e[121],e[122]!==ke||e[123]!==Ke?(He=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},ke,Ke),e[122]=ke,e[123]=Ke,e[124]=He):He=e[124],e[125]===Symbol.for("react.memo_cache_sentinel")?(Xe={gap:"1px"},e[125]=Xe):Xe=e[125],e[126]!==t?(Ye=t("perpsContactSupport"),e[126]=t,e[127]=Ye):Ye=e[127],e[128]!==Ye?(Qe=o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium},Ye),e[128]=Ye,e[129]=Qe):Qe=e[129],e[130]===Symbol.for("react.memo_cache_sentinel")?(Ze=o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:s.IconColor.IconAlternative}),e[130]=Ze):Ze=e[130],e[131]!==Qe?(et=o.default.createElement(s.Box,{className:`${y} rounded-t-xl`,role:"button",tabIndex:0,onClick:C,onKeyDown:O,justifyContent:s.BoxJustifyContent.Between},Qe,Ze),e[131]=Qe,e[132]=et):et=e[132],e[133]!==t?(tt=t("perpsLearnBasics"),e[133]=t,e[134]=tt):tt=e[134],e[135]!==tt?(nt=o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium},tt),e[135]=tt,e[136]=nt):nt=e[136],e[137]===Symbol.for("react.memo_cache_sentinel")?(at=o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:s.IconColor.IconAlternative}),e[137]=at):at=e[137],e[138]!==nt?(ot=o.default.createElement(s.Box,{className:`${y} rounded-b-xl`,role:"button",tabIndex:0,onClick:w,onKeyDown:I,justifyContent:s.BoxJustifyContent.Between},nt,at),e[138]=nt,e[139]=ot):ot=e[139],e[140]!==et||e[141]!==ot?(rt=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,style:Xe},et,ot)),e[140]=et,e[141]=ot,e[142]=rt):rt=e[142],e[143]!==ee||e[144]!==ne||e[145]!==ae||e[146]!==pe||e[147]!==ve||e[148]!==He||e[149]!==rt?(it=o.default.createElement(s.Box,{className:"main-container asset__container","data-testid":"perps-home-page"},ee,te,ne,ae,pe,ve,He,rt),e[143]=ee,e[144]=ne,e[145]=ae,e[146]=pe,e[147]=ve,e[148]=He,e[149]=rt,e[150]=it):it=e[150],it};function E(e){return!e.coin.includes(":")}function T(e){return"open"===e.status}function v(){}function _(){}function b(){}function S(){}function k(){}function C(){}function O(e){"Enter"===e.key||e.key}function w(){}function I(e){"Enter"===e.key||e.key}}}},{package:"$root$",file:"ui/pages/perps/perps-home-page.tsx"}],[8408,{"../../components/app/perps/constants/chartConfig":6617,"../../components/app/perps/mocks":6619,"../../components/app/perps/order-card":6620,"../../components/app/perps/order-entry":6634,"../../components/app/perps/perps-candle-period-selector":6637,"../../components/app/perps/perps-candlestick-chart":6639,"../../components/app/perps/perps-token-logo":6653,"../../components/app/perps/utils":6661,"../../helpers/constants/routes":7465,"../../hooks/useFormatters":7611,"../../hooks/useI18nContext":7615,"../../selectors/perps/feature-flags":8592,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/design-system-react"),l=e("../../selectors/perps/feature-flags"),c=e("../../hooks/useI18nContext"),u=e("../../helpers/constants/routes"),d=e("../../components/app/perps/mocks"),p=e("../../components/app/perps/order-card"),m=e("../../components/app/perps/perps-token-logo"),f=e("../../components/app/perps/perps-candlestick-chart"),g=e("../../components/app/perps/perps-candle-period-selector"),h=e("../../components/app/perps/constants/chartConfig"),y=e("../../components/app/perps/utils"),x=e("../../hooks/useFormatters"),E=e("../../components/app/perps/order-entry");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.c)(138),t=(0,c.useI18nContext)(),n=(0,i.useNavigate)(),{symbol:T}=(0,i.useParams)(),O=(0,r.useSelector)(l.getIsPerpsEnabled),{formatCurrencyWithMinThreshold:w,formatTokenQuantity:I,formatNumber:R}=(0,x.useFormatters)();let N;e:{if(!T){N=undefined;break e}let t;e[0]!==T?(t=(0,y.safeDecodeURIComponent)(T),e[0]=T,e[1]=t):t=e[1],N=t}const B=N;let M;e:{if(!B){M=undefined;break e}let t;e[2]!==B?(t=(0,y.findMarketBySymbol)(B),e[2]=B,e[3]=t):t=e[3],M=t}const P=M;let A;e:{if(!B){A=undefined;break e}let t;e[4]!==B?(t=d.mockPositions.find(e=>e.coin.toLowerCase()===B.toLowerCase()),e[4]=B,e[5]=t):t=e[5],A=t}const D=A;let F;e:{if(!B){let t;e[6]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[6]=t):t=e[6],F=t;break e}let t;e[7]!==B?(t=d.mockOrders.filter(e=>e.symbol.toLowerCase()===B.toLowerCase()&&"open"===e.status),e[7]=B,e[8]=t):t=e[8],F=t}const L=F,[W,j]=(0,o.useState)(h.CandlePeriod.FiveMinutes),U=(0,o.useRef)(null),[z,$]=(0,o.useState)("detail"),[V,G]=(0,o.useState)("long"),[q,J]=(0,o.useState)("market"),[K,H]=(0,o.useState)(!1),[X,Y]=(0,o.useState)(null),[Q,Z]=(0,o.useState)("new"),ee=parseFloat(d.mockAccountState.availableBalance);let te;e:{if(!P){te=0;break e}let t;if(e[9]!==P.price){let n;e[11]===Symbol.for("react.memo_cache_sentinel")?(n=/[$,]/gu,e[11]=n):n=e[11],t=P.price.replace(n,""),e[9]=P.price,e[10]=t}else t=e[10];te=parseFloat(t)}const ne=te;let ae;e:{if(!P){ae=50;break e}let t;e[12]!==P.maxLeverage?(t=P.maxLeverage.replace("x",""),e[12]=P.maxLeverage,e[13]=t):t=e[13],ae=parseInt(t,10)}const oe=ae;let re;e[14]===Symbol.for("react.memo_cache_sentinel")?(re=e=>{j(e),U.current&&U.current.applyZoom(h.ZOOM_CONFIG.DEFAULT_CANDLES,!0)},e[14]=re):re=e[14];const ie=re;let se;e[15]!==z||e[16]!==n?(se=()=>{if("order"===z)return $("detail"),void Z("new");n(-1)},e[15]=z,e[16]=n,e[17]=se):se=e[17];const le=se;let ce;e[18]===Symbol.for("react.memo_cache_sentinel")?(ce=e=>{G(e),Z("new"),$("order")},e[18]=ce):ce=e[18];const ue=ce;let de;e[19]!==D?(de=()=>{if(!D)return;const e=parseFloat(D.size)>=0;G(e?"long":"short"),Z("modify"),$("order")},e[19]=D,e[20]=de):de=e[20];const pe=de;let me;e[21]!==D?(me=()=>{if(!D)return;const e=parseFloat(D.size)>=0;G(e?"long":"short"),Z("close"),$("order")},e[21]=D,e[22]=me):me=e[22];const fe=me;let ge;e[23]===Symbol.for("react.memo_cache_sentinel")?(ge=e=>{Y(e)},e[23]=ge):ge=e[23];const he=ge;let ye;e[24]!==X?(ye=()=>{X&&(console.log("Order submitted:",X),$("detail"))},e[24]=X,e[25]=ye):ye=e[25];const xe=ye,Ee=v;if(!O){let t;return e[26]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Navigate,{to:u.DEFAULT_ROUTE,replace:!0}),e[26]=t):t=e[26],t}if(!T||!B){let t;return e[27]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Navigate,{to:u.DEFAULT_ROUTE,replace:!0}),e[27]=t):t=e[27],t}if(!P){let n,a,r,i,l,c,u,d,p;return e[28]!==t?(n=t("back"),e[28]=t,e[29]=n):n=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(a=o.default.createElement(s.Icon,{name:s.IconName.ArrowLeft,size:s.IconSize.Sm,color:s.IconColor.IconAlternative}),e[30]=a):a=e[30],e[31]!==le||e[32]!==n?(r=o.default.createElement(s.Box,{paddingLeft:2,paddingBottom:4,paddingTop:4},o.default.createElement(s.Box,{"data-testid":"perps-market-detail-back-button",onClick:le,"aria-label":n,className:"p-2 cursor-pointer"},a)),e[31]=le,e[32]=n,e[33]=r):r=e[33],e[34]!==t?(i=t("perpsMarketNotFound"),e[34]=t,e[35]=i):i=e[35],e[36]!==i?(l=o.default.createElement(s.Text,{variant:s.TextVariant.HeadingMd,color:s.TextColor.TextDefault},i),e[36]=i,e[37]=l):l=e[37],e[38]!==T||e[39]!==t?(c=t("perpsMarketNotFoundDescription",[(0,y.getDisplayName)((0,y.safeDecodeURIComponent)(T)??T)]),e[38]=T,e[39]=t,e[40]=c):c=e[40],e[41]!==c?(u=o.default.createElement(s.Box,{paddingTop:2},o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,color:s.TextColor.TextAlternative},c)),e[41]=c,e[42]=u):u=e[42],e[43]!==l||e[44]!==u?(d=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.Center,justifyContent:s.BoxJustifyContent.Center,padding:4},l,u),e[43]=l,e[44]=u,e[45]=d):d=e[45],e[46]!==r||e[47]!==d?(p=o.default.createElement(s.Box,{className:"main-container asset__container"},r,d),e[46]=r,e[47]=d,e[48]=p):p=e[48],p}let Te,ve,_e;if(e[49]!==P.symbol||e[50]!==V||e[51]!==Q||e[52]!==t){Te=(0,y.getDisplayName)(P.symbol),ve="long"===V;_e=(()=>{switch(Q){case"modify":return t("perpsModifyPosition");case"close":return t(ve?"perpsConfirmCloseLong":"perpsConfirmCloseShort");default:return t(ve?"perpsOpenLong":"perpsOpenShort",[Te])}})(),e[49]=P.symbol,e[50]=V,e[51]=Q,e[52]=t,e[53]=Te,e[54]=ve,e[55]=_e}else Te=e[53],ve=e[54],_e=e[55];const be=_e;let Se;e[56]!==Te||e[57]!==ve||e[58]!==Q||e[59]!==t?(Se=()=>{const e=t(ve?"perpsLong":"perpsShort");switch(Q){case"modify":return`${t("perpsModify")} ${e} ${Te}`;case"close":return`${t("perpsClose")} ${e} ${Te}`;default:return`${e} ${Te}`}},e[56]=Te,e[57]=ve,e[58]=Q,e[59]=t,e[60]=Se):Se=e[60];const ke=Se;let Ce,Oe,we,Ie,Re,Ne,Be,Me,Pe,Ae,De,Fe,Le,We,je,Ue,ze;return e[61]!==t?(Ce=t("back"),e[61]=t,e[62]=Ce):Ce=e[62],e[63]===Symbol.for("react.memo_cache_sentinel")?(Oe=o.default.createElement(s.Icon,{name:s.IconName.ArrowLeft,size:s.IconSize.Md,color:s.IconColor.IconAlternative}),e[63]=Oe):Oe=e[63],e[64]!==le||e[65]!==Ce?(we=o.default.createElement(s.Box,{"data-testid":"perps-market-detail-back-button",onClick:le,"aria-label":Ce,className:"p-2 -ml-2 cursor-pointer"},Oe),e[64]=le,e[65]=Ce,e[66]=we):we=e[66],e[67]!==P.symbol?(Ie=o.default.createElement(m.PerpsTokenLogo,{symbol:P.symbol,size:s.AvatarTokenSize.Md}),e[67]=P.symbol,e[68]=Ie):Ie=e[68],e[69]!==z||e[70]!==Te||e[71]!==ke||e[72]!==P.change24h||e[73]!==P.change24hPercent||e[74]!==P.price?(Re="order"===z?o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column},o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium,color:s.TextColor.TextDefault},ke()),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Baseline,gap:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative,"data-testid":"perps-order-price"},P.price),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:(0,y.getChangeColor)(P.change24hPercent),"data-testid":"perps-order-change"},P.change24hPercent))):o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},Te,"-USD"),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Baseline,gap:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,"data-testid":"perps-market-detail-price"},P.price),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:(0,y.getChangeColor)(P.change24hPercent),"data-testid":"perps-market-detail-change"},P.change24h," (",P.change24hPercent,")"))),e[69]=z,e[70]=Te,e[71]=ke,e[72]=P.change24h,e[73]=P.change24hPercent,e[74]=P.price,e[75]=Re):Re=e[75],e[76]===Symbol.for("react.memo_cache_sentinel")?(Ne=o.default.createElement(s.Box,{className:"flex-1"}),e[76]=Ne):Ne=e[76],e[77]!==z||e[78]!==K||e[79]!==q||e[80]!==t?(Be="order"===z?o.default.createElement(s.Box,{className:"relative"},o.default.createElement(s.Box,{"data-testid":"perps-order-type-dropdown",onClick:()=>H(!K),className:(0,s.twMerge)("flex items-center gap-1 px-3 py-2 rounded-lg cursor-pointer","bg-muted hover:bg-muted-hover")},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},t("market"===q?"perpsMarket":"perpsLimit")),o.default.createElement(s.Icon,{name:s.IconName.ArrowDown,size:s.IconSize.Xs,color:s.IconColor.IconAlternative})),K&&o.default.createElement(s.Box,{className:"absolute right-0 top-full mt-1 bg-default border border-muted rounded-lg shadow-lg z-10 min-w-[100px]","data-testid":"perps-order-type-dropdown-menu"},o.default.createElement(s.Box,{onClick:()=>{J("market"),H(!1)},className:(0,s.twMerge)("px-3 py-2 cursor-pointer rounded-t-lg","market"===q?"bg-primary-muted":"hover:bg-muted-hover"),"data-testid":"perps-order-type-market"},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:"market"===q?s.TextColor.PrimaryDefault:s.TextColor.TextDefault},t("perpsMarket"))),o.default.createElement(s.Box,{onClick:()=>{J("limit"),H(!1)},className:(0,s.twMerge)("px-3 py-2 cursor-pointer rounded-b-lg","limit"===q?"bg-primary-muted":"hover:bg-muted-hover"),"data-testid":"perps-order-type-limit"},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:"limit"===q?s.TextColor.PrimaryDefault:s.TextColor.TextDefault},t("perpsLimit"))))):o.default.createElement(s.Box,{"data-testid":"perps-market-detail-favorite-button","aria-label":t("perpsAddToFavorites"),className:"p-2 cursor-pointer",onClick:_},o.default.createElement(s.Icon,{name:s.IconName.Star,size:s.IconSize.Md,color:s.IconColor.IconAlternative})),e[77]=z,e[78]=K,e[79]=q,e[80]=t,e[81]=Be):Be=e[81],e[82]!==we||e[83]!==Ie||e[84]!==Re||e[85]!==Be?(Me=o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,gap:2},we,Ie,Re,Ne,Be),e[82]=we,e[83]=Ie,e[84]=Re,e[85]=Be,e[86]=Me):Me=e[86],e[87]!==W?(Pe=o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,"data-testid":"perps-market-detail-chart"},o.default.createElement(f.PerpsCandlestickChart,{ref:U,height:250,selectedPeriod:W})),Ae=o.default.createElement(g.PerpsCandlePeriodSelector,{selectedPeriod:W,onPeriodChange:ie}),e[87]=W,e[88]=Pe,e[89]=Ae):(Pe=e[88],Ae=e[89]),e[90]!==ne||e[91]!==z||e[92]!==B||e[93]!==oe||e[94]!==V||e[95]!==Q||e[96]!==q||e[97]!==D?(De="order"===z&&o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,className:"flex-1"},o.default.createElement(E.OrderEntry,{asset:B,currentPrice:ne,maxLeverage:oe,availableBalance:ee,initialDirection:V,showSubmitButton:!1,onFormStateChange:he,mode:Q,orderType:q,existingPosition:D?{size:D.size,leverage:D.leverage.value,entryPrice:D.entryPrice,takeProfitPrice:D.takeProfitPrice,stopLossPrice:D.stopLossPrice}:undefined})),e[90]=ne,e[91]=z,e[92]=B,e[93]=oe,e[94]=V,e[95]=Q,e[96]=q,e[97]=D,e[98]=De):De=e[98],e[99]!==z||e[100]!==Te||e[101]!==w||e[102]!==R||e[103]!==I||e[104]!==P.fundingRate||e[105]!==P.openInterest||e[106]!==P.symbol||e[107]!==P.volume||e[108]!==L||e[109]!==D||e[110]!==t?(Fe="detail"===z&&o.default.createElement(o.default.Fragment,null,D&&o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(s.Box,{paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsPosition"))),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,gap:2,paddingTop:2},o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,gap:2},o.default.createElement(s.Box,{className:"flex-1 rounded-xl bg-muted px-4 py-3"},o.default.createElement(s.Box,{paddingBottom:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsPnl"))),o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium,color:parseFloat(D.unrealizedPnl)>=0?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},parseFloat(D.unrealizedPnl)>=0?"+":"-",w(Math.abs(parseFloat(D.unrealizedPnl)),"USD"))),o.default.createElement(s.Box,{className:"flex-1 rounded-xl bg-muted px-4 py-3"},o.default.createElement(s.Box,{paddingBottom:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsReturn"))),o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium,color:parseFloat(D.returnOnEquity)>=0?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},parseFloat(D.returnOnEquity)>=0?"+":"",D.returnOnEquity,"%"))),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,gap:2},o.default.createElement(s.Box,{className:"flex-1 cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:s.BoxFlexDirection.Column,onClick:b},o.default.createElement(s.Box,{paddingBottom:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsSize"))),o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium},I(Math.abs(parseFloat(D.size)),(0,y.getDisplayName)(D.coin)))),o.default.createElement(s.Box,{className:"flex-1 cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:s.BoxFlexDirection.Column,onClick:S},o.default.createElement(s.Box,{paddingBottom:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsMargin"))),o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium},"$",D.marginUsed))),o.default.createElement(s.Box,{className:"cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:s.BoxFlexDirection.Column,onClick:k},o.default.createElement(s.Box,{paddingBottom:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsAutoClose"))),o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium},"TP"," ",D.takeProfitPrice?`$${D.takeProfitPrice}`:"-",", SL"," ",D.stopLossPrice?`$${D.stopLossPrice}`:"-"))),o.default.createElement(s.Box,{paddingTop:4,paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsDetails"))),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column},o.default.createElement(s.Box,{className:"rounded-t-xl bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsDirection")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:parseFloat(D.size)>=0?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},parseFloat(D.size)>=0?t("perpsLong"):t("perpsShort"))),o.default.createElement(s.Box,{className:"bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsEntryPrice")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},"$",D.entryPrice)),o.default.createElement(s.Box,{className:"bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsLiquidationPrice")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},D.liquidationPrice?`$${D.liquidationPrice}`:"-")),o.default.createElement(s.Box,{className:"rounded-b-xl bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsFundingPayments")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},"$",D.cumulativeFunding.sinceOpen)))),L.length>0&&o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(s.Box,{paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsOrders"))),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,className:"overflow-hidden rounded-xl"},L.map(e=>o.default.createElement(p.OrderCard,{key:e.orderId,order:e,variant:"muted",onClick:Ee})))),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Box,{paddingTop:4,paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsStats"))),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,className:"overflow-hidden rounded-xl"},o.default.createElement(s.Box,{className:"bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perps24hVolume")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},P.volume)),P.openInterest&&o.default.createElement(s.Box,{className:"bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsOpenInterest")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},P.openInterest)),P.fundingRate!==undefined&&o.default.createElement(s.Box,{className:"bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},t("perpsFundingRate")),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:P.fundingRate>=0?s.TextColor.SuccessDefault:s.TextColor.ErrorDefault},P.fundingRate>=0?"+":"",R(100*P.fundingRate,{minimumFractionDigits:4,maximumFractionDigits:4}),"%")))),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Box,{paddingTop:4,paddingBottom:2},o.default.createElement(s.Text,{variant:s.TextVariant.HeadingSm,fontWeight:s.FontWeight.Medium},t("perpsRecentActivity"))),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,className:"overflow-hidden rounded-xl"},o.default.createElement(s.Box,{className:"w-full bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:3},o.default.createElement(m.PerpsTokenLogo,{symbol:P.symbol,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.Start,className:"min-w-0 flex-1",gap:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},t("perpsOpenedLong")),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},"2.50000 ",Te)),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.SuccessDefault},"+$125.00")),o.default.createElement(s.Box,{className:"w-full bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:3},o.default.createElement(m.PerpsTokenLogo,{symbol:P.symbol,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.Start,className:"min-w-0 flex-1",gap:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},t("perpsIncreasedPosition")),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},"0.50000 ",Te)),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.SuccessDefault},"+$45.20")),o.default.createElement(s.Box,{className:"w-full bg-muted px-4 py-3",flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:3},o.default.createElement(m.PerpsTokenLogo,{symbol:P.symbol,size:s.AvatarTokenSize.Md}),o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.Start,className:"min-w-0 flex-1",gap:1},o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium},t("perpsClosedShort")),o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},"1.25000 ",Te)),o.default.createElement(s.Text,{variant:s.TextVariant.BodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.ErrorDefault},"-$32.50"))),o.default.createElement(s.Box,{className:"mt-4 w-full cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:s.BoxFlexDirection.Row,justifyContent:s.BoxJustifyContent.Between,alignItems:s.BoxAlignItems.Center,onClick:C},o.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium},t("perpsLearnBasics")),o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:s.IconColor.IconAlternative})),o.default.createElement(s.Box,{paddingTop:4,paddingBottom:4},o.default.createElement(s.Text,{variant:s.TextVariant.BodyXs,color:s.TextColor.TextAlternative},t("perpsDisclaimer"))))),e[99]=z,e[100]=Te,e[101]=w,e[102]=R,e[103]=I,e[104]=P.fundingRate,e[105]=P.openInterest,e[106]=P.symbol,e[107]=P.volume,e[108]=L,e[109]=D,e[110]=t,e[111]=Fe):Fe=e[111],e[112]!==z||e[113]!==xe||e[114]!==ve||e[115]!==be?(Le="order"===z&&o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:xe,className:(0,s.twMerge)("w-full",ve?"bg-success-default hover:bg-success-hover active:bg-success-pressed":"bg-error-default hover:bg-error-hover active:bg-error-pressed"),"data-testid":"submit-order-button"},be),e[112]=z,e[113]=xe,e[114]=ve,e[115]=be,e[116]=Le):Le=e[116],e[117]!==z||e[118]!==fe||e[119]!==pe||e[120]!==D||e[121]!==t?(We="order"!==z&&D&&o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,gap:3,"data-testid":"perps-position-cta-buttons"},o.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,onClick:pe,className:"flex-1","data-testid":"perps-modify-cta-button"},t("perpsModify")),o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:fe,className:(0,s.twMerge)("flex-1",parseFloat(D.size)>=0?"bg-success-default hover:bg-success-hover active:bg-success-pressed":"bg-error-default hover:bg-error-hover active:bg-error-pressed"),"data-testid":"perps-close-cta-button"},parseFloat(D.size)>=0?t("perpsCloseLong"):t("perpsCloseShort"))),e[117]=z,e[118]=fe,e[119]=pe,e[120]=D,e[121]=t,e[122]=We):We=e[122],e[123]!==z||e[124]!==D||e[125]!==t?(je="order"!==z&&!D&&o.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,gap:3,"data-testid":"perps-trade-cta-buttons"},o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>ue("long"),className:(0,s.twMerge)("flex-1","bg-success-default hover:bg-success-hover active:bg-success-pressed"),"data-testid":"perps-long-cta-button"},t("perpsLong")),o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>ue("short"),className:(0,s.twMerge)("flex-1","bg-error-default hover:bg-error-hover active:bg-error-pressed"),"data-testid":"perps-short-cta-button"},t("perpsShort"))),e[123]=z,e[124]=D,e[125]=t,e[126]=je):je=e[126],e[127]!==Le||e[128]!==We||e[129]!==je?(Ue=o.default.createElement(s.Box,{className:"sticky bottom-0 left-0 right-0 bg-default border-t border-muted",paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:4},Le,We,je),e[127]=Le,e[128]=We,e[129]=je,e[130]=Ue):Ue=e[130],e[131]!==Me||e[132]!==Pe||e[133]!==Ae||e[134]!==De||e[135]!==Fe||e[136]!==Ue?(ze=o.default.createElement(s.Box,{className:"main-container asset__container","data-testid":"perps-market-detail-page"},Me,Pe,Ae,De,Fe,Ue),e[131]=Me,e[132]=Pe,e[133]=Ae,e[134]=De,e[135]=Fe,e[136]=Ue,e[137]=ze):ze=e[137],ze};function v(){}function _(){}function b(){}function S(){}function k(){}function C(){}}}},{package:"$root$",file:"ui/pages/perps/perps-market-detail-page.tsx"}],[8409,{"../../../components/app/perps/constants":6616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sortMarkets=n.parseVolume=void 0;var a=e("../../../components/app/perps/constants");const o={K:1e3,M:1e6,B:1e9,T:1e12},r=/\$?([\d.,]+)([KMBT])?/u,i=e=>{if(!e)return-1;if(e===a.PERPS_CONSTANTS.FALLBACK_PRICE_DISPLAY)return-1;if("$<1"===e)return.5;const t=r.exec(e);if(t){const[,e,n]=t,a=Number.parseFloat((e=>{let t="";for(const n of e)","!==n&&(t+=n);return t})(e));return Number.isNaN(a)?-1:n?a*o[n]:a}return-1};n.parseVolume=i;n.sortMarkets=({markets:e,sortBy:t,direction:n=a.MARKET_SORTING_CONFIG.DEFAULT_DIRECTION})=>{const o=[...e];return o.sort((e,o)=>{let r=0;switch(t){case a.MARKET_SORTING_CONFIG.SORT_FIELDS.VOLUME:r=i(e.volume)-i(o.volume);break;case a.MARKET_SORTING_CONFIG.SORT_FIELDS.PRICE_CHANGE:{var s,l;const t=parseFloat((null===(s=e.change24hPercent)||void 0===s?void 0:s.replace(/[%+]/gu,""))||"0"),n=parseFloat((null===(l=o.change24hPercent)||void 0===l?void 0:l.replace(/[%+]/gu,""))||"0");r=(Number.isNaN(t)?0:t)-(Number.isNaN(n)?0:n);break}case a.MARKET_SORTING_CONFIG.SORT_FIELDS.FUNDING_RATE:r=(e.fundingRate??0)-(o.fundingRate??0);break;case a.MARKET_SORTING_CONFIG.SORT_FIELDS.OPEN_INTEREST:r=i(e.openInterest)-i(o.openInterest);break}return n===a.MARKET_SORTING_CONFIG.DEFAULT_DIRECTION?-1*r:r}),o}}}},{package:"$root$",file:"ui/pages/perps/utils/sortMarkets.ts"}],[8410,{"./remove-snap-account":8411,"./snap-account-card":8412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},i=e("./snap-account-card");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[8411,{"../../components/app/snaps/snap-authorship-header":6705,"../../components/component-library":6951,"../../helpers/constants/design-system":7460,"../../hooks/useI18nContext":7615,"./snap-account-card":8412,react:5657,"react-compiler-runtime":5571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=u(e("react")),r=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),s=e("../../hooks/useI18nContext"),l=u(e("../../components/app/snaps/snap-authorship-header")),c=e("./snap-account-card");function u(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,a.c)(22),{snapId:n,publicAddress:u,onCancel:d}=e,p=(0,s.useI18nContext)();let m,f,g,h,y,x,E,T,v,_;return t[0]!==d||t[1]!==n?(m=o.default.createElement(l.default,{snapId:n,onCancel:d}),t[0]=d,t[1]=n,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(f={flexGrow:1},t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=o.default.createElement(r.Box,{paddingBottom:2},o.default.createElement(r.AvatarIcon,{iconName:r.IconName.UserCircleRemove,color:i.IconColor.errorDefault,backgroundColor:i.BackgroundColor.errorMuted,size:r.AvatarIconSize.Xl})),t[4]=g):g=t[4],t[5]!==p?(h=p("removeSnapAccountTitle"),t[5]=p,t[6]=h):h=t[6],t[7]!==h?(y=o.default.createElement(r.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.headingLg,paddingBottom:2},h),t[7]=h,t[8]=y):y=t[8],t[9]!==u?(x=o.default.createElement(c.SnapAccountCard,{address:u,remove:!0}),t[9]=u,t[10]=x):x=t[10],t[11]!==p?(E=p("removeSnapAccountDescription"),t[11]=p,t[12]=E):E=t[12],t[13]!==E?(T=o.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center,overflowWrap:i.OverflowWrap.Anywhere},E),t[13]=E,t[14]=T):T=t[14],t[15]!==y||t[16]!==x||t[17]!==T?(v=o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,padding:4,width:i.BlockSize.Full,style:f},o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},g,y,x,T))),t[15]=y,t[16]=x,t[17]=T,t[18]=v):v=t[18],t[19]!==m||t[20]!==v?(_=o.default.createElement(r.Box,{className:"remove-snap-account-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},m,v),t[19]=m,t[20]=v,t[21]=_):_=t[21],_}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[8412,{"../../../app/scripts/lib/multichain/address":302,"../../../shared/constants/keyring":6186,"../../components/app/preferred-avatar":6662,"../../components/component-library":6951,"../../components/component-library/skeleton":6997,"../../components/multichain/account-network-indicator":7074,"../../ducks/metamask/metamask":7448,"../../helpers/constants/design-system":7460,"../../helpers/utils/accounts":7483,"../../helpers/utils/util":7518,"../../hooks/useFormatters":7611,"../../selectors":8577,"../../selectors/assets":8569,"../../selectors/multichain-accounts/account-tree":8581,"../confirmations/selectors/accounts":8238,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../helpers/constants/design-system"),s=e("../../components/component-library"),l=e("../../components/component-library/skeleton"),c=e("../../components/app/preferred-avatar"),u=e("../../helpers/utils/util"),d=e("../confirmations/selectors/accounts"),p=e("../../selectors/multichain-accounts/account-tree"),m=e("../../selectors/assets"),f=e("../../selectors"),g=e("../../../shared/constants/keyring"),h=e("../../components/multichain/account-network-indicator"),y=e("../../helpers/utils/accounts"),x=e("../../hooks/useFormatters"),E=e("../../ducks/metamask/metamask"),T=e("../../../app/scripts/lib/multichain/address");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.SnapAccountCard=e=>{var t;const n=(0,a.c)(56),{address:v,remove:_}=e,b=(0,r.useSelector)(f.getMetaMaskAccountsOrdered);let S;if(n[0]!==b||n[1]!==v){let e;n[3]!==v?(e=e=>(0,T.normalizeSafeAddress)(e.address)===(0,T.normalizeSafeAddress)(v),n[3]=v,n[4]=e):e=n[4],S=b.find(e),n[0]=b,n[1]=v,n[2]=S}else S=n[2];const k=S;let C;n[5]!==v?(C=e=>(0,d.selectAccountGroupNameByInternalAccount)(e,v),n[5]=v,n[6]=C):C=n[6];const O=(0,r.useSelector)(C);let w;n[7]!==v?(w=e=>(0,p.getAccountGroupsByAddress)(e,[v]),n[7]=v,n[8]=w):w=n[8];const I=null===(t=(0,r.useSelector)(w)[0])||void 0===t?void 0:t.id;let R;n[9]!==I?(R=e=>I?(0,m.selectBalanceByAccountGroup)(I)(e):null,n[9]=I,n[10]=R):R=n[10];const N=(0,r.useSelector)(R),B=(0,r.useSelector)(f.getSnapsMetadata),M=(0,r.useSelector)(f.getMetaMaskKeyrings);let P;var A;n[11]!==k||n[12]!==M||n[13]!==B?(P=(0,y.getAccountLabels)(k.metadata.keyring.type,k,M,k.metadata.keyring.type===g.KeyringType.snap?(0,u.getSnapName)(B)(null===(A=k.metadata)||void 0===A||null===(A=A.snap)||void 0===A?void 0:A.id):null),n[11]=k,n[12]=M,n[13]=B,n[14]=P):P=n[14];const D=P,{privacyMode:F}=(0,r.useSelector)(f.getPreferences),L=(0,r.useSelector)(E.getCurrentCurrency),{formatCurrency:W}=(0,x.useFormatters)(),j=null==N?void 0:N.totalBalanceInUserCurrency,U=(null==N?void 0:N.userCurrency)??L,z=j===undefined||U===undefined;let $;n[15]!==U||n[16]!==W||n[17]!==z||n[18]!==j?($=z?null:W(j,U),n[15]=U,n[16]=W,n[17]=z,n[18]=j,n[19]=$):$=n[19];const V=$,G=_?"snap-account-card-remove":"snap-account-card";let q,J,K,H,X,Y,Q,Z,ee,te,ne,ae,oe,re;return n[20]===Symbol.for("react.memo_cache_sentinel")?(q={boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},n[20]=q):q=n[20],n[21]!==v?(J=o.default.createElement(c.PreferredAvatar,{address:v}),n[21]=v,n[22]=J):J=n[22],n[23]!==O?(K=o.default.createElement(s.Box,{className:"multichain-account-list-item__account-name",marginInlineEnd:2,display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2},o.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium,className:"multichain-account-list-item__account-name__button",ellipsis:!0},O)),n[23]=O,n[24]=K):K=n[24],n[25]!==V||n[26]!==F?(H=o.default.createElement(s.SensitiveText,{className:"multichain-account-list-item__asset",variant:i.TextVariant.bodyMdMedium,isHidden:F,"data-testid":"account-balance",textAlign:i.TextAlign.End,ellipsis:!0},V),n[25]=V,n[26]=F,n[27]=H):H=n[27],n[28]!==z||n[29]!==H?(X=o.default.createElement(l.Skeleton,{isLoading:z},H),n[28]=z,n[29]=H,n[30]=X):X=n[30],n[31]!==K||n[32]!==X?(Y=o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},o.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},K,X)),n[31]=K,n[32]=X,n[33]=Y):Y=n[33],n[34]!==v?(Q=(0,u.shortenAddress)((0,T.normalizeSafeAddress)(v)),n[34]=v,n[35]=Q):Q=n[35],n[36]!==Q?(Z=o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center},o.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative,"data-testid":"account-list-address"},Q)),n[36]=Q,n[37]=Z):Z=n[37],n[38]!==k.scopes?(ee=o.default.createElement(s.Box,{className:"network-indicator"},o.default.createElement(h.AccountNetworkIndicator,{scopes:k.scopes})),n[38]=k.scopes,n[39]=ee):ee=n[39],n[40]!==Z||n[41]!==ee?(te=o.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},Z,ee),n[40]=Z,n[41]=ee,n[42]=te):te=n[42],n[43]!==k.id||n[44]!==D?(ne=D.length>0?o.default.createElement(s.Box,{flexDirection:i.FlexDirection.Row},D.map(e=>{const{label:t,icon:n}=e;return o.default.createElement(s.Tag,{"data-testid":`account-list-item-tag-${k.id}-${t}`,key:t,label:t,labelProps:{variant:i.TextVariant.bodyXs,color:i.TextColor.textAlternative},startIconName:n??undefined})})):null,n[43]=k.id,n[44]=D,n[45]=ne):ne=n[45],n[46]!==Y||n[47]!==te||n[48]!==ne?(ae=o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,className:"multichain-account-list-item__content"},Y,te,ne),n[46]=Y,n[47]=te,n[48]=ne,n[49]=ae):ae=n[49],n[50]!==ae||n[51]!==J?(oe=o.default.createElement(s.Box,{display:i.Display.Flex,padding:4,className:"items-center"},o.default.createElement(s.Box,{className:"flex w-full gap-2 items-center"},J,ae)),n[50]=ae,n[51]=J,n[52]=oe):oe=n[52],n[53]!==oe||n[54]!==G?(re=o.default.createElement(s.Box,{className:G,borderRadius:i.BorderRadius.LG,marginTop:4,marginBottom:4,width:i.BlockSize.Full,style:q},oe),n[53]=oe,n[54]=G,n[55]=re):re=n[55],re}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[8413,{"../../components/ui/loading-indicator":7343,"../../ducks/rewards":7452,"../../ducks/rewards/selectors":7453,"../../helpers/constants/routes":7465,"@metamask/design-system-react":1999,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("@metamask/design-system-react"),l=e("react-router-dom"),c=(a=e("../../components/ui/loading-indicator"))&&a.__esModule?a:{default:a},u=e("../../ducks/rewards/selectors"),d=e("../../helpers/constants/routes"),p=e("../../ducks/rewards");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.c)(8),t=(0,i.useSelector)(u.selectRewardsEnabled),n=(0,l.useLocation)(),a=(0,l.useNavigate)(),m=(0,i.useSelector)(u.selectRewardsOnboardingEnabled),f=(0,i.useDispatch)();let g,h,y;return e[0]!==f||e[1]!==n||e[2]!==a||e[3]!==t||e[4]!==m?(g=()=>{if(t&&m){const e=new URLSearchParams(n.search).get("referral");e&&e.length>0?f((0,p.setOnboardingReferralCode)(e)):f((0,p.setOnboardingReferralCode)(null)),f((0,p.setOnboardingModalOpen)(!0))}a(d.DEFAULT_ROUTE,{replace:!0})},h=[a,f,t,m,n],e[0]=f,e[1]=n,e[2]=a,e[3]=t,e[4]=m,e[5]=g,e[6]=h):(g=e[5],h=e[6]),(0,r.useEffect)(g,h),e[7]===Symbol.for("react.memo_cache_sentinel")?(y=r.default.createElement(s.Box,{className:"flex justify-center items-center flex-1"},r.default.createElement(c.default,{alt:"Loading",title:"Loading",isLoading:!0,style:{width:32,height:32,left:5}})),e[7]=y):y=e[7],y}}}},{package:"$root$",file:"ui/pages/rewards/index.tsx"}],[8414,{"../../../app/scripts/lib/util":380,"../../../shared/constants/app":6175,"../../ducks/swaps/swaps":7456,"../../helpers/constants/routes":7465,"../../hooks/useModalState":7620,"../../selectors":8577,"../confirmations/hooks/useConfirmationNavigation":8202,react:5657,"react-compiler-runtime":5571,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmationHandler=void 0;var a=e("react-compiler-runtime"),o=e("react"),r=e("react-router-dom"),i=e("react-redux"),s=e("../../helpers/constants/routes"),l=e("../confirmations/hooks/useConfirmationNavigation"),c=e("../../../app/scripts/lib/util"),u=e("../../../shared/constants/app"),d=e("../../selectors"),p=e("../../ducks/swaps/swaps"),m=e("../../hooks/useModalState");const f=[s.AWAITING_SWAP_ROUTE,s.PREPARE_SWAP_ROUTE,s.CROSS_CHAIN_SWAP_ROUTE,s.UNLOCK_ROUTE,s.CONNECT_ROUTE,s.CONFIRMATION_V_NEXT_ROUTE,s.CONFIRM_TRANSACTION_ROUTE,s.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,s.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,s.SHIELD_PLAN_ROUTE,s.TRANSACTION_SHIELD_ROUTE],g=["wallet_installSnapResult",u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect];function h(e){return g.includes(e.type)}n.ConfirmationHandler=()=>{var e;const t=(0,a.c)(18),n=(0,r.useNavigate)(),g=(0,r.useLocation)(),{pathname:y}=g,{closeModals:x}=(0,m.useModalState)();let E;t[0]===Symbol.for("react.memo_cache_sentinel")?(E=(0,c.getEnvironmentType)(),t[0]=E):E=t[0];const T=E,v=T===u.ENVIRONMENT_TYPE_FULLSCREEN,_=T===u.ENVIRONMENT_TYPE_NOTIFICATION,b=T===u.ENVIRONMENT_TYPE_POPUP,S=(0,i.useSelector)(p.selectShowAwaitingSwapScreen),k=(0,i.useSelector)(p.selectHasSwapsQuotes),C=(0,i.useSelector)(d.selectHasBridgeQuotes),O=(0,i.useSelector)(p.getFetchParams),w=(0,i.useSelector)(d.selectPendingApprovalsForNavigation),I=(0,i.useSelector)(d.selectHasApprovalFlows),R=Boolean(null===(e=g.state)||void 0===e?void 0:e.stayOnHomePage),N=!_&&!R;let B;t[1]!==N||t[2]!==x||t[3]!==I||t[4]!==C||t[5]!==n||t[6]!==w||t[7]!==S?(B=()=>{if(N&&S)x(),n(s.AWAITING_SWAP_ROUTE);else if(N&&C&&b)x(),n(s.CROSS_CHAIN_SWAP_ROUTE+s.PREPARE_SWAP_ROUTE);else if(w.length||I){var e;const t=(0,l.getConfirmationRoute)(null==w||null===(e=w[0])||void 0===e?void 0:e.id,w,I,"");t&&(x(),n(t,{replace:!0}))}},t[1]=N,t[2]=x,t[3]=I,t[4]=C,t[5]=n,t[6]=w,t[7]=S,t[8]=B):B=t[8];const M=B;let P;t[9]!==y?(P=f.some(e=>y.startsWith(e)),t[9]=y,t[10]=P):P=t[10];const A=P;let D;t[11]!==w?(D=w.some(h),t[11]=w,t[12]=D):D=t[12];const F=v&&!D&&!(S||k||O||C);let L,W;return t[13]!==M||t[14]!==A||t[15]!==F?(L=()=>{A||F||M()},W=[M,A,F],t[13]=M,t[14]=A,t[15]=F,t[16]=L,t[17]=W):(L=t[16],W=t[17]),(0,o.useEffect)(L,W),null}}}},{package:"$root$",file:"ui/pages/routes/confirmation-handler.tsx"}],[8415,{"./routes.component":8417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[8416,{"../../components/multichain/network-list-menu":7186,"../../hooks/useModalState":7620,"../../store/actions":8611,"../../store/store":8617,react:5657,"react-compiler-runtime":5571,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Modals=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../store/store"),s=e("../../store/actions"),l=e("../../components/multichain/network-list-menu"),c=e("../../hooks/useModalState");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){const{appState:t}=e;return t.isNetworkMenuOpen}n.Modals=()=>{const e=(0,a.c)(8),t=(0,r.useDispatch)(),{closeModals:n}=(0,c.useModalState)(),u=(0,i.useAppSelector)(d);let p;e[0]!==n||e[1]!==t?(p=()=>{n(),t((0,s.setEditedNetwork)())},e[0]=n,e[1]=t,e[2]=p):p=e[2];const m=p,f=u?"network":undefined;let g,h;return e[3]!==m||e[4]!==f?(g="network"===f&&o.default.createElement(l.NetworkListMenu,{onClose:m}),e[3]=m,e[4]=f,e[5]=g):g=e[5],e[6]!==g?(h=o.default.createElement(o.default.Fragment,null,g),e[6]=g,e[7]=h):h=e[7],h}}}},{package:"$root$",file:"ui/pages/routes/modals.tsx"}],[8417,{"../../../app/scripts/lib/util":380,"../../../shared/constants/app":6175,"../../../shared/constants/preferences":6199,"../../../shared/lib/confirmation.utils":6227,"../../../shared/modules/selectors/networks":6335,"../../components/app/alerts":6371,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":6405,"../../components/app/assets/nfts/nft-details/nft-full-image.tsx":6410,"../../components/app/basic-configuration-modal":6443,"../../components/app/modals":6548,"../../components/app/modals/keyring-snap-removal-modal":6549,"../../components/app/modals/multichain-accounts/intro-modal":6552,"../../components/app/qr-hardware-popover":6666,"../../components/app/toast-master/toast-master":6843,"../../components/multichain":7167,"../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page":7052,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":7187,"../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx":7256,"../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx":7258,"../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx":7259,"../../components/multichain/pages/permissions-page/permissions-page.js":7269,"../../components/ui/alert":7288,"../../components/ui/loading-screen":7345,"../../ducks/history/history":7445,"../../ducks/metamask/metamask":7448,"../../helpers/constants/routes":7465,"../../helpers/utils/mm-lazy":7498,"../../hooks/useI18nContext":7615,"../../hooks/useMultichainAccountsIntroModal":7622,"../../hooks/useTheme":7646,"../../layouts/legacy-layout":7665,"../../layouts/root-layout":7666,"../../layouts/route-with-layout":7667,"../../selectors":8577,"../../store/actions":8611,"../../store/store":8617,"../asset/index.js":7686,"../bridge/index.tsx":7699,"../bridge/transaction-details/transaction-details":7732,"../confirm-add-suggested-nft/index.js":7741,"../confirm-add-suggested-token/index.js":7743,"../confirm-decrypt-message/index.js":7745,"../confirm-encryption-public-key/index.js":7748,"../confirmations/components/confirm/smart-account-update":7941,"../confirmations/confirm/confirm.tsx":8060,"../confirmations/confirmation/index.js":8071,"../confirmations/send/index.ts":8247,"../create-account/create-account.component.js":8275,"../deep-link/deep-link.tsx":8280,"../defi/index.ts":8283,"../home/index.js":8288,"../keychains/restore-vault.js":8290,"../keychains/reveal-seed.js":8291,"../lock/index.ts":8292,"../multi-srp/import-srp/index.ts":8296,"../multichain-accounts/account-list":8299,"../multichain-accounts/add-wallet-page":8302,"../multichain-accounts/multichain-account-address-list-page":8303,"../multichain-accounts/multichain-account-details-page/index.ts":8306,"../multichain-accounts/multichain-account-private-key-list-page":8308,"../multichain-accounts/smart-account-page/index.ts":8311,"../multichain-accounts/wallet-details-page":8313,"../nonevm-balance-check/index.tsx":8315,"../notification-details/index.js":8316,"../notifications-settings/index.js":8322,"../notifications/index.js":8328,"../onboarding-flow/index.ts":8358,"../permissions-connect/index.js":8378,"../perps/market-list/index.tsx":8405,"../perps/perps-activity-page.tsx":8406,"../perps/perps-home-page.tsx":8407,"../perps/perps-market-detail-page.tsx":8408,"../rewards":8413,"../settings/deprecated-network-modal/DeprecatedNetworkModal":8438,"../settings/index.js":8448,"../shield-plan/index.ts":8504,"../snaps/snap-view/index.js":8519,"../snaps/snaps-list/index.js":8522,"../swaps/index.js":8537,"../unlock-page/index.ts":8559,"./confirmation-handler":8414,"./modals":8416,"./utils":8418,classnames:4507,react:5657,"react-idle-timer":5593,"react-redux":5622,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,r.useDispatch)(),n=(0,i.useLocation)(),M=(0,i.useNavigationType)(),Y=(0,l.useAppSelector)(e=>e.appState.alertOpen),Q=(0,l.useAppSelector)(e=>e.appState.alertMessage),Z=(0,l.useAppSelector)(e=>e.appState.isLoading),je=(0,l.useAppSelector)(e=>e.appState.loadingMessage),{autoLockTimeLimit:Ue=b.DEFAULT_AUTO_LOCK_TIME_LIMIT}=(0,l.useAppSelector)(h.getPreferences),ze=(0,l.useAppSelector)(T.getCompletedOnboarding),$e=(0,l.useAppSelector)(h.getNetworkToAutomaticallySwitchTo),Ve=(0,l.useAppSelector)(h.oldestPendingConfirmationSelector),Ge=(0,l.useAppSelector)(h.getPendingApprovals),qe=(0,l.useAppSelector)(h.getUnapprovedTransactions),Je=(0,l.useAppSelector)(e=>e.metamask.textDirection),Ke=(0,l.useAppSelector)(T.getIsUnlocked),He=(0,l.useAppSelector)(e=>e.metamask.currentCurrency),Xe=(0,l.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os}),Ye=(0,l.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.browser}),Qe=(0,l.useAppSelector)(h.getNetworkIdentifier),{type:Ze}=(0,l.useAppSelector)(g.getProviderConfig),et=(0,y.useTheme)(),tt=(0,l.useAppSelector)(h.getShowExtensionInFullSizeView),nt=(0,l.useAppSelector)(e=>e.appState.importTokensModalOpen),at=(0,l.useAppSelector)(e=>e.appState.showBasicFunctionalityModal),ot=(0,l.useAppSelector)(e=>e.appState.deprecatedNetworkModalOpen),rt=(0,l.useAppSelector)(e=>e.appState.importNftsModal.open),it=(0,l.useAppSelector)(e=>e.appState.showIpfsModalOpen),st=(0,l.useAppSelector)(h.getNumberOfAllUnapprovedTransactionsAndMessages),lt=(0,l.useAppSelector)(e=>e.metamask.currentExtensionPopupId),ct=(0,l.useAppSelector)(e=>e.appState.showKeyringRemovalSnapModal),ut=(0,l.useAppSelector)(h.getUnapprovedConfirmations),{showMultichainIntroModal:dt,setShowMultichainIntroModal:pt}=(0,j.useMultichainAccountsIntroModal)(Ke,n),mt=(0,o.useRef)({isUnlocked:Ke,totalUnapprovedConfirmationCount:st});(0,o.useEffect)(()=>{const e=mt.current;$e&&0===st&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&Ke)&&t((0,x.automaticallySwitchNetwork)($e)),mt.current={isUnlocked:Ke,totalUnapprovedConfirmationCount:st}},[$e,Ke,st,t]),(0,o.useEffect)(()=>{lt!==undefined&&"metamask"in global&&"object"==typeof global.metamask&&global.metamask&&"id"in global.metamask&&global.metamask.id!==undefined&&lt!==global.metamask.id&&window.close()},[lt]),(0,o.useEffect)(()=>{const e=(0,k.getEnvironmentType)();var t,n;!tt||e!==S.ENVIRONMENT_TYPE_POPUP&&e!==S.ENVIRONMENT_TYPE_SIDEPANEL||(null===(t=global.platform)||void 0===t||null===(n=t.openExtensionInBrowser)||void 0===n||n.call(t))},[tt]),(0,o.useEffect)(()=>{"PUSH"===M&&t((0,E.pageChanged)(n.pathname))},[n.pathname,M,t]),(0,o.useEffect)(()=>{(0,K.setTheme)(et)},[et]),(0,o.useEffect)(()=>{He||t((0,x.setCurrentCurrency)("usd"))},[He,t]);const ft=(0,o.useMemo)(()=>[(0,J.createRouteWithLayout)({path:`${f.ONBOARDING_ROUTE}/*`,component:ee,layout:q.LegacyLayout}),(0,J.createRouteWithLayout)({path:f.LOCK_ROUTE,component:te,layout:q.LegacyLayout}),(0,J.createRouteWithLayout)({path:f.UNLOCK_ROUTE,component:ne,layout:q.LegacyLayout,initialized:!0}),(0,J.createRouteWithLayout)({path:f.DEEP_LINK_ROUTE,component:Ne,layout:q.LegacyLayout}),(0,J.createRouteWithLayout)({path:f.RESTORE_VAULT_ROUTE,component:ae,layout:q.LegacyLayout}),(0,J.createRouteWithLayout)({path:f.SMART_ACCOUNT_UPDATE,component:D.SmartAccountUpdate,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.REVEAL_SEED_ROUTE}/:keyringId?`,component:re,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.IMPORT_SRP_ROUTE,component:oe,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.SETTINGS_ROUTE}/*`,component:ie,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.NOTIFICATIONS_SETTINGS_ROUTE,component:se,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.NOTIFICATIONS_ROUTE}/:uuid`,component:le,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.NOTIFICATIONS_ROUTE,component:ce,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.SNAPS_ROUTE,component:ue,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.SNAPS_VIEW_ROUTE}/*`,component:de,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.SEND_ROUTE}/:page?`,component:ge,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.DECRYPT_MESSAGE_REQUEST_PATH}`,component:me,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?${f.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`,component:pe,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CONFIRM_TRANSACTION_ROUTE}/:id?/*`,component:fe,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.SWAPS_ROUTE}/*`,component:he,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,component:P.default,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CROSS_CHAIN_SWAP_ROUTE}/*`,component:ye,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:Ee,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:Te,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CONFIRMATION_V_NEXT_ROUTE}/:id?`,component:ve,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.NEW_ACCOUNT_ROUTE}/*`,component:_e,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.CONNECT_ROUTE}/:id/*`,component:xe,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.ASSET_ROUTE}/image/:asset/:id`,component:be,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.ASSET_ROUTE}/:chainId/:asset/:id`,component:Se,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.ASSET_ROUTE}/:chainId/:asset/`,component:Se,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.ASSET_ROUTE}/:chainId`,component:Se,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.DEFI_ROUTE}/:chainId/:protocolId`,component:ke,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.PERMISSIONS,component:Ce,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.GATOR_PERMISSIONS,component:Oe,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.TOKEN_TRANSFER_ROUTE}/:origin`,component:we,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.TOKEN_TRANSFER_ROUTE,component:we,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName/:origin`,component:Ie,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName`,component:Ie,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.REVIEW_PERMISSIONS}/:origin`,component:V.MultichainReviewPermissions,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.ACCOUNT_LIST_PAGE_ROUTE,component:U.AccountList,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/:accountGroupId`,component:F.MultichainAccountAddressListPage,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.MULTICHAIN_ACCOUNT_PRIVATE_KEY_LIST_PAGE_ROUTE}/:accountGroupId`,component:L.MultichainAccountPrivateKeyListPage,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.ADD_WALLET_PAGE_ROUTE,component:z.AddWalletPage,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/:id`,component:Be,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.MULTICHAIN_SMART_ACCOUNT_PAGE_ROUTE}/:address`,component:Me,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE}/:id`,component:$.WalletDetailsPage,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.NONEVM_BALANCE_CHECK_ROUTE,component:Pe,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.SHIELD_PLAN_ROUTE,component:Ae,layout:q.LegacyLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.REWARDS_ROUTE,component:_.default,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.PERPS_HOME_ROUTE,component:De,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:`${f.PERPS_MARKET_DETAIL_ROUTE}/:symbol`,component:Fe,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.PERPS_ACTIVITY_ROUTE,component:We,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.PERPS_MARKET_LIST_ROUTE,component:Le,layout:G.RootLayout,authenticated:!0}),(0,J.createRouteWithLayout)({path:f.DEFAULT_ROUTE,component:Re,layout:G.RootLayout,authenticated:!0})],[]),gt=(0,i.useRoutes)(ft),ht=(0,v.useI18nContext)(),yt=je?(0,K.getConnectingLabel)(je,{providerType:Ze,providerId:Qe},{t:ht}):null,xt=n.pathname.split("/confirm-transaction/")[1]??(null==Ve?void 0:Ve.id),Et=Ge.find(e=>e.id===xt),Tt=(0,A.isCorrectSignatureApprovalType)(null==Et?void 0:Et.type),vt=(0,A.isCorrectDeveloperTransactionType)(null===(e=qe[xt])||void 0===e?void 0:e.type),_t=n.pathname===f.DEEP_LINK_ROUTE,bt=Z&&ze&&!ut.some(e=>e.type===S.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!Tt&&!vt&&!_t,St=(0,k.getEnvironmentType)()===S.ENVIRONMENT_TYPE_SIDEPANEL;return o.default.createElement("div",{className:(0,a.default)("app",{[`os-${Xe}`]:Boolean(Xe),[`browser-${Ye}`]:Boolean(Ye),"group app--sidepanel":St}),dir:Je},o.default.createElement(H.ConfirmationHandler,null),o.default.createElement(C.default,null),o.default.createElement(u.Modal,null),o.default.createElement(d.default,{visible:Y,msg:Q}),o.default.createElement(N.default,null),rt?o.default.createElement(p.ImportNftsModal,{onClose:()=>t((0,x.hideImportNftsModal)())}):null,it?o.default.createElement(O.ToggleIpfsModal,{onClose:()=>t((0,x.hideIpfsModal)())}):null,at?o.default.createElement(w.BasicConfigurationModal,null):null,nt?o.default.createElement(p.ImportTokensModal,{onClose:()=>t((0,x.hideImportTokensModal)())}):null,ot?o.default.createElement(R.DeprecatedNetworkModal,{onClose:()=>t((0,x.hideDeprecatedNetworkModal)())}):null,ct&&o.default.createElement(I.default,{isOpen:ct,onClose:()=>t((0,x.hideKeyringRemovalResultModal)())}),dt?o.default.createElement(W.default,{onClose:()=>pt(!1)}):null,bt?o.default.createElement(c.default,{loadingMessage:yt}):null,(()=>{const e=o.default.createElement(o.Suspense,{fallback:null},gt);return Ue>0?o.default.createElement(s.default,{onAction:()=>t((0,x.setLastActiveTime)()),throttle:1e3},e):e})(),Ke?o.default.createElement(m.default,null):null,o.default.createElement(B.ToastMaster,null),o.default.createElement(X.Modals,null))};var a=Y(e("classnames")),o=Z(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=Y(e("react-idle-timer")),l=e("../../store/store"),c=Y(e("../../components/ui/loading-screen")),u=e("../../components/app/modals"),d=Y(e("../../components/ui/alert")),p=e("../../components/multichain"),m=Y(e("../../components/app/alerts")),f=e("../../helpers/constants/routes"),g=e("../../../shared/modules/selectors/networks"),h=e("../../selectors"),y=e("../../hooks/useTheme"),x=e("../../store/actions"),E=e("../../ducks/history/history"),T=e("../../ducks/metamask/metamask"),v=e("../../hooks/useI18nContext"),_=Y(e("../rewards")),b=e("../../../shared/constants/preferences"),S=e("../../../shared/constants/app"),k=e("../../../app/scripts/lib/util"),C=Y(e("../../components/app/qr-hardware-popover")),O=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),w=e("../../components/app/basic-configuration-modal"),I=Y(e("../../components/app/modals/keyring-snap-removal-modal")),R=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),N=Y(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),B=e("../../components/app/toast-master/toast-master"),M=e("../../helpers/utils/mm-lazy"),P=Y(e("../bridge/transaction-details/transaction-details")),A=e("../../../shared/lib/confirmation.utils"),D=e("../confirmations/components/confirm/smart-account-update"),F=e("../multichain-accounts/multichain-account-address-list-page"),L=e("../multichain-accounts/multichain-account-private-key-list-page"),W=Y(e("../../components/app/modals/multichain-accounts/intro-modal")),j=e("../../hooks/useMultichainAccountsIntroModal"),U=e("../multichain-accounts/account-list"),z=e("../multichain-accounts/add-wallet-page"),$=e("../multichain-accounts/wallet-details-page"),V=e("../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page"),G=e("../../layouts/root-layout"),q=e("../../layouts/legacy-layout"),J=e("../../layouts/route-with-layout"),K=e("./utils"),H=e("./confirmation-handler"),X=e("./modals");function Y(e){return e&&e.__esModule?e:{default:e}}function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function Z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const ee=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../onboarding-flow/index.ts")))),te=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../lock/index.ts")))),ne=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../unlock-page/index.ts")))),ae=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../keychains/restore-vault.js")))),oe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../multi-srp/import-srp/index.ts")))),re=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../keychains/reveal-seed.js")))),ie=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../settings/index.js")))),se=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../notifications-settings/index.js")))),le=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../notification-details/index.js")))),ce=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../notifications/index.js")))),ue=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../snaps/snaps-list/index.js")))),de=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../snaps/snap-view/index.js")))),pe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirm-encryption-public-key/index.js")))),me=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirm-decrypt-message/index.js")))),fe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirmations/confirm/confirm.tsx")))),ge=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirmations/send/index.ts")))),he=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../swaps/index.js")))),ye=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../bridge/index.tsx")))),xe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../permissions-connect/index.js")))),Ee=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirm-add-suggested-token/index.js")))),Te=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirm-add-suggested-nft/index.js")))),ve=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../confirmations/confirmation/index.js")))),_e=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../create-account/create-account.component.js")))),be=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../../components/app/assets/nfts/nft-details/nft-full-image.tsx")))),Se=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../asset/index.js")))),ke=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../defi/index.ts")))),Ce=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../../components/multichain/pages/permissions-page/permissions-page.js")))),Oe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx")))),we=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx")))),Ie=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx")))),Re=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../home/index.js")))),Ne=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../deep-link/deep-link.tsx")))),Be=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../multichain-accounts/multichain-account-details-page/index.ts")))),Me=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../multichain-accounts/smart-account-page/index.ts")))),Pe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../nonevm-balance-check/index.tsx")))),Ae=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../shield-plan/index.ts")))),De=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../perps/perps-home-page.tsx")))),Fe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../perps/perps-market-detail-page.tsx")))),Le=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../perps/market-list/index.tsx")))),We=(0,M.mmLazy)(()=>Promise.resolve().then(()=>Z(e("../perps/perps-activity-page.tsx"))))}}},{package:"$root$",file:"ui/pages/routes/routes.component.tsx"}],[8418,{"../../../app/scripts/lib/util":380,"../../../shared/constants/app":6175,"../../../shared/constants/network":6194,"../../../shared/constants/preferences":6199,"../../helpers/constants/routes":7465,"react-router-dom":5632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractIdFromPathname=function(e,t){if(!e||!t||!e.includes(t))return null;const n=e.split(t)[1];if(!n)return null;return n.split(/[/?#]/u)[0]||null},n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:r}=n;switch(a){case i.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case i.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case i.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case i.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case i.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case i.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[o])}},n.getRelativeLocationForNestedRoutes=function(e,t){const n=t.endsWith("/")?t.slice(0,-1):t,a=e.pathname.startsWith(n)?e.pathname.slice(n.length)||"/":e.pathname;return{...e,pathname:a}},n.getThemeFromRawTheme=u,n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)({path:`${l.NOTIFICATIONS_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.DEEP_LINK_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ONBOARDING_ROUTE,end:!1},t.pathname)))return!0;const n=(0,o.getEnvironmentType)();if(n===r.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)({path:l.PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_PERMISSIONS,end:!1},t.pathname)))return!0;if(n===r.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},t.pathname))}(e))return!0;const i=Boolean((0,a.matchPath)({path:l.CONNECT_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SEND_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.SNAPS_VIEW_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:`${l.CROSS_CHAIN_SWAP_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ASSET_ROUTE,end:!1},t.pathname)))return!0;const s=Boolean((0,a.matchPath)({path:l.CONFIRMATION_V_NEXT_ROUTE,end:!1},t.pathname)),u=Boolean((0,a.matchPath)({path:l.IMPORT_SRP_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SHIELD_PLAN_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.GATOR_PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.TOKEN_TRANSFER_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_GATOR_PERMISSIONS_ROUTE,end:!1},t.pathname)))return!0;return i||s||c(t.pathname)||u},n.isConfirmTransactionRoute=c,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",u(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.DEFAULT_ROUTE,end:!0},t.pathname))},n.toRelativeRoutePath=function(e,t=""){return e.replace(t,"").replace(/^\//u,"")||"/"};var a=e("react-router-dom"),o=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),i=e("../../../shared/constants/network"),s=e("../../../shared/constants/preferences"),l=e("../../helpers/constants/routes");function c(e){return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},e))}function u(e){var t;return e===s.ThemeType.os?null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?s.ThemeType.dark:s.ThemeType.light:e}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[8419,{"../../../../shared/constants/metametrics":6190,"../../../../shared/constants/preferences":6199,"../../../../shared/constants/smartTransactions":6204,"../../../components/component-library":6951,"../../../components/ui/text-field":7392,"../../../components/ui/toggle-button":7396,"../../../helpers/constants/design-system":7460,"../../../helpers/utils/export-utils":7489,"../../../helpers/utils/settings-search":7508,"prop-types":5495,react:5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/metametrics"),i=e("../../../../shared/constants/preferences"),s=e("../../../../shared/constants/smartTransactions"),l=e("../../../components/component-library"),c=g(e("../../../components/ui/text-field")),u=g(e("../../../components/ui/toggle-button")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/export-utils"),m=e("../../../helpers/utils/settings-search");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),h(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),h(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,p.exportAsFile)(e,t,p.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(l.Box,{className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,p.exportAsFile)(`${e("stateLogFileName")}.json`,a,p.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{danger:!0,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:r.MetaMetricsEventCategory.Settings,event:r.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:s.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:s.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnets",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e),this.context.trackEvent({event:r.MetaMetricsEventName.SettingsUpdated,category:r.MetaMetricsEventCategory.Settings,properties:{settings_group:"advanced",settings_type:"open_full_screen",old_value:e,new_value:!e,open_full_screen:!e,location:"Advanced Settings"}})},offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"auto-lockout-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:i.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(l.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{"data-testid":"export-data-button",variant:l.ButtonVariant.Secondary,large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=y,h(y,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),h(y,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[8420,{"../../../../shared/constants/preferences":6199,"../../../../shared/modules/selectors":6333,"../../../ducks/app/app":7432,"../../../selectors":8577,"../../../store/actions":8611,"./advanced-tab.component":8419,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),r=e("../../../../shared/constants/preferences"),i=e("../../../selectors"),s=e("../../../store/actions"),l=e("../../../../shared/modules/selectors"),c=e("../../../ducks/app/app"),u=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const d=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:s}=n,{showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,autoLockTimeLimit:p=r.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,i.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,l.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:s,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=d;const p=e=>({backupUserData:()=>(0,s.backupUserData)(),setHexDataFeatureFlag:t=>e((0,s.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,c.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,c.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,s.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,s.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,s.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,s.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,s.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,s.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,s.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,s.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,s.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,s.setSmartAccountOptIn)(t))});n.mapDispatchToProps=p;n.default=(0,o.connect)(d,p)(u.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[8421,{"./advanced-tab.container":8420},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[8422,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":6502,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6503,"../../../components/component-library":6951,"../../../helpers/constants/design-system":7460,"../../../helpers/utils/settings-search":7508,"prop-types":5495,react:5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../helpers/utils/settings-search"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,i.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(l.Box,{borderColor:s.BorderColor.borderMuted,width:s.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(c.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[8423,{"./backup-and-sync-tab.component":8422,"react-redux":5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(e=>({}),e=>({}))(r.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[8424,{"./backup-and-sync-tab.container":8423},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}]],[],{});