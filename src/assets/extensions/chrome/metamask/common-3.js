LavaPack.loadBundle([[2187,{"./DataItem":2186,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){!function(e,r){"function"==typeof define&&define.amd?define([],r):void 0!==t&&t.exports?t.exports=r():e.CBOR=r()}(this,function(){const{DataItem:t}=e("./DataItem");var n=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",r=0;r<this.$hex.length;r+=2)t+="%"+this.$hex.substring(r,r+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],r=0;r<this.$hex.length;r+=2)t.push(parseInt(this.$hex.substring(r,r+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var r="",n=0;n<t.length;n++){var i=t.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),r+=i}return new e(r)},e.fromUtf8String=function(t){for(var r=encodeURIComponent(t),n="",i=0;i<r.length;i++)if("%"===r.charAt(i))n+=r.substring(i+1,i+3),i+=2;else{var s=r.charCodeAt(i).toString(16);s.length<2&&(s="0"+s),n+=s}return new e(n)};var n=[],i={},s=function(e){return function(){throw new Error(e+" not implemented")}};function o(){}function a(){}function c(e,t){var r=e.value;return r<24?r:24==r?t.readByte():25==r?t.readUint16():26==r?t.readUint32():27==r?t.readUint64():31==r?null:void s("Additional info: "+r)()}function u(e,t,r){var n=e<<5;t<24?r.writeByte(n|t):t<256?(r.writeByte(24|n),r.writeByte(t)):t<65536?(r.writeByte(25|n),r.writeUint16(t)):t<4294967296?(r.writeByte(26|n),r.writeUint32(t)):(r.writeByte(27|n),r.writeUint64(t))}o.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,r=1023&e,n=32768&e;if(31===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-25)*(1024+r):Math.pow(2,-24)*r;return n?-i:i},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,r=8388607&e,n=2147483648&e;if(255===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-23-127)*(8388608+r):Math.pow(2,-149)*r;return n?-i:i},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,r=4294967296*(1048575&e)+this.readUint32(),n=2147483648&e;if(2047===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-52-1023)*(4503599627370496+r):Math.pow(2,-1074)*r;return n?-i:i},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},a.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:s("writeString"),canWriteBinary:function(e){return!1},writeBinary:s("writeChunk")};var l=new Error;function d(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return c(t,e);case 1:return-1-c(t,e);case 2:return e.readChunk(c(t,e));case 3:return e.readChunk(c(t,e)).toString("utf-8");case 4:case 5:var r=c(t,e),n=[];if(null!==r){5===t.type&&(r*=2);for(var s=0;s<r;s++)n[s]=d(e)}else for(var o;(o=d(e))!==l;)n.push(o);if(5===t.type){var a={};for(s=0;s<n.length;s+=2)a[n[s]]=n[s+1];return a}return n;case 6:var u=c(t,e),f=i[u];n=d(e);return f?f(n):n;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(c(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return l;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function f(e,t){for(var r=0;r<n.length;r++){var i=n[r].fn(e);if(i!==undefined)return u(6,n[r].tag,t),f(i,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)u(7,20,t);else if(!0===e)u(7,21,t);else if(null===e)u(7,22,t);else if(e===undefined)u(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?u(1,-1-e,t):u(0,e,t):(!function(e,t,r){r.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,function(e){u(3,e,t)});else if(t.canWriteBinary(e))t.writeBinary(e,function(e){u(2,e,t)});else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(m.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){u(4,e.length,t);for(r=0;r<e.length;r++)f(e[r],t)}else{var s=Object.keys(e);u(5,s.length,t);for(r=0;r<s.length;r++){const n=parseInt(s[r]);isNaN(n)?(f(s[r],t),f(e[s[r]],t)):(f(n,t),f(e[s[r]],t))}}}}var h=[],p=[],m={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?p.push(function(r){if(e===r)return t(r)}):p.push(e)},addReader:function(e,t){"string"==typeof e?h.push(function(r,n){if(e===n)return t(r,n)}):h.push(e)},encode:function(e,t){for(var r=0;r<p.length;r++){var n=(0,p[r])(t);if(n)return f(e,n),n.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var r=0;r<p.length;r++){var n=(0,p[r])(t);if(n)return e.getTag()!==undefined?(f(e,n),n.result()):(f(e.getData(),n),n.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var r=0;r<h.length;r++){var n=(0,h[r])(e,t);if(n)return d(n)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,r){for(var n=0;n<h.length;n++){var i=(0,h[n])(e,r);if(i){const e=d(i);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+r)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return n.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return i[e]=t,this}};function g(e){this.buffer=e,this.pos=0}function y(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function b(e){this.hex=e,this.pos=0}function w(e){this.$hex="",this.finalFormat=e||"hex"}return g.prototype=Object.create(o.prototype),g.prototype.peekByte=function(){return this.buffer[this.pos]},g.prototype.readByte=function(){return this.buffer[this.pos++]},g.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},g.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},g.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},g.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},g.prototype.readChunk=function(e){var t=r.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},y.prototype=Object.create(a.prototype),y.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},y.prototype.writeFloat32=function(e){var t=r.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},y.prototype.writeFloat64=function(e){var t=r.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},y.prototype.writeString=function(e,t){var n=r.from(e,"utf-8");t(n.length),this.writeBuffer(n)},y.prototype.canWriteBinary=function(e){return e instanceof r},y.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},y.prototype.writeBuffer=function(e){if(!(e instanceof r))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},y.prototype.result=function(){for(var e=r.alloc(this.byteLength),t=0,n=0;n<this.completeBuffers.length;n++){var i=this.completeBuffers[n];i.copy(e,t,0,i.length),t+=i.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof r&&(m.addReader(function(e,t){return r.isBuffer(e)?new g(e):"hex"===t||"base64"===t?new g(r.from(e,t)):void 0}),m.addWriter(function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new y(e):void 0:new y})),b.prototype=Object.create(o.prototype),b.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},b.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},b.prototype.readChunk=function(t){var n=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof r?r.from(n,"hex"):new e(n)},w.prototype=Object.create(a.prototype),w.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},w.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof r&&t instanceof r},w.prototype.writeBinary=function(t,n){if(t instanceof e)n(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof r&&t instanceof r))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");n(t.length),this.$hex+=t.toString("hex")}},w.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof r?r.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},w.prototype.writeString=function(t,r){var n=e.fromUtf8String(t);r(n.length()),this.$hex+=n.$hex},m.addReader(function(t,r){return t instanceof e||t.$hex?new b(t.$hex):"hex"===r?new b(t):void 0}),m.addWriter(function(e){if("hex"===e)return new w}),m}();return n.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),n})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[2188,{"./DataItem":2186,"./cbor-sync":2187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=r.addWriter=r.addReader=r.addSemanticEncode=r.addSemanticDecode=r.decodeToDataItem=r.encodeDataItem=void 0;var n=e("./cbor-sync");Object.defineProperty(r,"encodeDataItem",{enumerable:!0,get:function(){return n.encodeDataItem}}),Object.defineProperty(r,"decodeToDataItem",{enumerable:!0,get:function(){return n.decodeToDataItem}}),Object.defineProperty(r,"addSemanticDecode",{enumerable:!0,get:function(){return n.addSemanticDecode}}),Object.defineProperty(r,"addSemanticEncode",{enumerable:!0,get:function(){return n.addSemanticEncode}}),Object.defineProperty(r,"addReader",{enumerable:!0,get:function(){return n.addReader}}),Object.defineProperty(r,"addWriter",{enumerable:!0,get:function(){return n.addWriter}});var i=e("./DataItem");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return i.DataItem}})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[2189,{"./RegistryType":2178,"./ScriptExpression":2179,"./utils":2191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./utils"),i=e("./RegistryType"),s=e("./ScriptExpression"),o=Object.values(i.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),a=Object.values(s.ScriptExpressions).map(e=>e.getTag());(0,n.patchTags)(o.concat(a))}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[2190,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[2191,{"./lib":2188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.patchTags=void 0;const n=e("./lib"),i=[];r.patchTags=e=>{e.forEach(e=>{i.find(t=>t===e)||((0,n.addSemanticEncode)(e,t=>{if(t instanceof n.DataItem&&t.getTag()===e)return t.getData()}),(0,n.addSemanticDecode)(e,t=>new n.DataItem(t,e)),i.push(e))})}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[2192,{"./abstract/weierstrass.js":2197,"@noble/hashes/hmac":2203,"@noble/hashes/utils":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getHash=o,r.createCurve=function(e,t){const r=t=>(0,s.weierstrass)({...e,...o(t)});return Object.freeze({...r(t),create:r})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),s=e("./abstract/weierstrass.js");function o(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/_shortw_utils.js"}],[2193,{"./modular.js":2195,"./utils.js":2196},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:a,windowSize:c}=n(t);let u=e.ZERO,l=e.BASE;const d=BigInt(2**t-1),f=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let n=Number(s&d);s>>=h,n>c&&(n-=f,s+=o);const a=t,p=t+Math.abs(n)-1,m=e%2!=0,g=n<0;0===n?l=l.add(r(m,i[a])):u=u.add(r(g,i[p]))}return{p:u,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),s=BigInt(0),o=BigInt(1)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/curve.js"}],[2194,{"./modular.js":2195,"./utils.js":2196},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expand_message_xmd=u,r.expand_message_xof=l,r.hash_to_field=d,r.isogenyMap=function(e,t){const r=t.map(e=>Array.from(e).reverse());return(t,n)=>{const[i,s,o,a]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n)));return t=e.div(i,s),n=e.mul(n,e.div(o,a)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=d(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=d(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const e of r)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}};const n=e("./modular.js"),i=e("./utils.js"),s=i.bytesToNumberBE;function o(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,n){(0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:u}=n,l=Math.ceil(r/s);if(l>255)throw new Error("Invalid xmd length");const d=(0,i.concatBytes)(t,o(t.length,1)),f=o(0,u),h=o(r,2),p=new Array(l),m=n((0,i.concatBytes)(f,e,h,o(0,1),d));p[0]=n((0,i.concatBytes)(m,o(1,1),d));for(let e=1;e<=l;e++){const t=[a(m,p[e-1]),o(e+1,1),d];p[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,r)}function l(e,t,r,n,s){if((0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255){const e=Math.ceil(2*n/8);t=s.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function d(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:a,m:d,hash:f,expand:h,DST:p}=r;(0,i.abytes)(e),c(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,g=o.toString(2).length,y=Math.ceil((g+a)/8),b=t*d*y;let w;if("xmd"===h)w=u(e,m,b,f);else if("xof"===h)w=l(e,m,b,a,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');w=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let r=0;r<d;r++){const i=y*(r+e*d),a=w.subarray(i,i+y);t[r]=(0,n.mod)(s(a),o)}v[e]=t}return v}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2195,{"./utils.js":2196},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeLE=void 0,r.mod=d,r.pow=f,r.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},r.invert=h,r.tonelliShanks=p,r.FpSqrt=m,r.validateField=function(e){const t=g.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=y,r.FpInvertBatch=b,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-s)/o;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=w,r.Field=function(e,t,r=!1,o={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=m(e),l=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,n.bitMask)(a),ZERO:i,ONE:s,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>y(l,e,t),div:(t,r)=>d(t*h(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:o.sqrt||(e=>u(l,e)),invertBatch:e=>b(l,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(l)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,o=w(t).nByteLength+8;if(o<24||i<o||i>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${i}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s},r.getFieldBytesLength=v,r.getMinHashLength=k,r.mapHashToField=function(e,t,r=!1){const i=e.length,o=v(t),a=k(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(c,o):(0,n.numberToBytesBE)(c,o)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=i?r:t+r}function f(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function h(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,o=i,a=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=o-c*e,s=a-u*e;n=r,r=t,o=c,a=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return d(o,t)}function p(e){const t=(e-s)/o;let r,n,a;for(r=e-s,n=0;r%o===i;r/=o,n++);for(a=o;a<e&&f(a,t,e)!==e-s;a++);if(1===n){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+s)/o;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=n,c=e.pow(e.mul(e.ONE,a),r),l=e.pow(i,u),d=e.pow(i,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,s<<BigInt(o-t-1));c=e.sqr(r),l=e.mul(l,r),d=e.mul(d,c),o=t}return l}}function m(e){if(e%c===a){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%l===u){const t=(e-u)/l;return function(e,r){const n=e.mul(r,o),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,o),i),c=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}r.isNegativeLE=(e,t)=>(d(e,t)&s)===s;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;for(;r>i;)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n}function b(e,t){const r=new Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function w(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function k(e){const t=v(e);return t+Math.ceil(t/2)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/modular.js"}],[2196,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitMask=void 0,r.isBytes=o,r.abytes=a,r.bytesToHex=u,r.numberToHexUnpadded=l,r.hexToNumber=d,r.hexToBytes=p,r.bytesToNumberBE=function(e){return d(u(e))},r.bytesToNumberLE=function(e){return a(e),d(u(Uint8Array.from(e).reverse()))},r.numberToBytesBE=m,r.numberToBytesLE=function(e,t){return m(e,t).reverse()},r.numberToVarBytesBE=function(e){return p(l(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!o(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},r.concatBytes=g,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&i},r.bitSet=function(e,t,r){return e|(r?i:n)<<BigInt(t)},r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=y(e),i=y(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=y())=>{i=a(b([0]),e),n=a(),0!==e.length&&(i=a(b([1]),e),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return g(...r)};return(e,t)=>{o(),c(e);let r=undefined;for(;!(r=t(u()));)c();return o(),r}},r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=w[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&s===undefined||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),s=BigInt(2);function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function l(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h(e){return e>=f._0&&e<=f._9?e-f._0:e>=f._A&&e<=f._F?e-(f._A-10):e>=f._a&&e<=f._f?e-(f._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}r.bitMask=e=>(s<<BigInt(e-1))-i;const y=e=>new Uint8Array(e),b=e=>Uint8Array.from(e);const w={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/utils.js"}],[2197,{"./curve.js":2193,"./modular.js":2195,"./utils.js":2196},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DER=void 0,r.weierstrassPoints=p,r.weierstrass=function(e){const t=function(e){const t=(0,n.validateBasic)(e);return s.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=t,d=a.BYTES+1,f=2*a.BYTES+1;function h(e){return i.mod(e,c)}function m(e){return i.invert(e,c)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:w}=p({...t,toBytes(e,t,r){const n=t.toAffine(),i=a.toBytes(n.x),o=s.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===f&&4===r){return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${f} uncompressed bytes`)}{const e=s.bytesToNumberBE(n);if(!(u<(i=e)&&i<a.ORDER))throw new Error("Point is not on curve");const t=b(e);let o;try{o=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((o&l)===l)&&(o=a.neg(o)),{x:e,y:o}}var i}}),v=e=>s.bytesToHex(s.numberToBytesBE(e,t.nByteLength));function k(e){return e>c>>l}const E=(e,t,r)=>s.bytesToNumberBE(e.slice(t,r));class _{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*r),new _(E(e,0,r),E(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,o.ensureBytes)("DER",e));return new _(t,n)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:i}=this,s=P((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?r+t.n:r;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",l=g.fromHex(u+v(c)),d=m(c),f=h(-s*d),p=h(n*d),y=g.BASE.multiplyAndAddUnsafe(l,f,p);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return s.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return s.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const j={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=i.getMinHashLength(t.n);return i.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=s.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===d||n===f:r?n===2*d||n===2*f:e instanceof g}const T=t.bits2int||function(e){const r=s.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},P=t.bits2int_modN||function(e){return h(T(e))},B=s.bitMask(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<B))throw new Error(`bigint expected < 2^${t.nBitLength}`);return s.numberToBytesBE(e,t.nByteLength)}function A(e,r,n=I){if(["recovered","canonical"].some(e=>e in n))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:d,prehash:f,extraEntropy:p}=n;null==d&&(d=!0),e=(0,o.ensureBytes)("msgHash",e),f&&(e=(0,o.ensureBytes)("prehashed msgHash",i(e)));const b=P(e),v=y(r),E=[x(v),x(b)];if(null!=p&&!1!==p){const e=!0===p?c(a.BYTES):p;E.push((0,o.ensureBytes)("extraEntropy",e))}const j=s.concatBytes(...E),S=b;return{seed:j,k2sig:function(e){const t=T(e);if(!w(t))return;const r=m(t),n=g.BASE.multiply(t).toAffine(),i=h(n.x);if(i===u)return;const s=h(r*h(S+i*v));if(s===u)return;let o=(n.x===i?0:2)|Number(n.y&l),a=s;return d&&k(s)&&(a=function(e){return k(e)?h(-e):e}(s),o^=1),new _(i,a,o)}}}const I={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,r,n=I){const{seed:i,k2sig:o}=A(e,r,n),a=t;return s.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,i,a=O){const c=e;if(n=(0,o.ensureBytes)("msgHash",n),i=(0,o.ensureBytes)("publicKey",i),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=a;let d,f=undefined;try{if("string"==typeof c||s.isBytes(c))try{f=_.fromDER(c)}catch(e){if(!(e instanceof r.DER.Err))throw e;f=_.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;f=new _(e,t)}}d=g.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=t.hash(n));const{r:p,s:y}=f,b=P(n),w=m(y),v=h(b*w),k=h(p*w),E=g.BASE.multiplyAndAddUnsafe(d,v,k)?.toAffine();if(!E)return!1;return h(E.x)===p},ProjectivePoint:g,Signature:_,utils:j}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,u,l,d;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),u=e.sqr(a),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,o),u=e.mul(u,a),c=e.mul(u,t.B),s=e.add(s,c),l=e.mul(i,o);const{isValid:f,value:h}=r(s,u);d=e.mul(i,n),d=e.mul(d,h),l=e.cmov(l,o,f),d=e.cmov(d,h,f);const p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,a),{x:l,y:d}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./curve.js"),i=e("./modular.js"),s=e("./utils.js"),o=e("./utils.js");const{bytesToNumberBE:a,hexToBytes:c}=s;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?c(e):e;s.abytes(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:a}=r.DER._parseInt(n.subarray(2)),{d:u,l:l}=r.DER._parseInt(a);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}};const u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(3),h=BigInt(4);function p(e){const t=function(e){const t=(0,n.validateBasic)(e);s.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:o}=t;if(r){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const i=t.toAffine();return s.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!h(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:a,n:c}=t;if(r&&"bigint"!=typeof e){if(s.isBytes(e)&&(e=s.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let u;try{u="bigint"==typeof e?e:s.bytesToNumberBE((0,o.ensureBytes)("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=i.mod(u,c)),p(u),u}const g=new Map;function y(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?b.ZERO:new b(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(c((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=d(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){y(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),u=r.eql(r.mul(n,a),r.mul(o,i));return c&&u}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,f),{px:s,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(s,s),h=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),l=r.mul(s,a),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(h,u),u=r.add(h,u),u=r.mul(c,u),c=r.mul(m,c),l=r.mul(i,l),p=r.mul(e,p),m=r.sub(d,p),m=r.mul(e,m),m=r.add(m,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,m),u=r.add(u,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,m),c=r.sub(c,d),l=r.mul(p,h),l=r.add(l,l),l=r.add(l,l),new b(c,u,l)}add(e){y(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,d=r.ZERO;const h=t.a,p=r.mul(t.b,f);let m=r.mul(n,o),g=r.mul(i,a),w=r.mul(s,c),v=r.add(n,i),k=r.add(o,a);v=r.mul(v,k),k=r.add(m,g),v=r.sub(v,k),k=r.add(n,s);let E=r.add(o,c);return k=r.mul(k,E),E=r.add(m,w),k=r.sub(k,E),E=r.add(i,s),u=r.add(a,c),E=r.mul(E,u),u=r.add(g,w),E=r.sub(E,u),d=r.mul(h,k),u=r.mul(p,w),d=r.add(u,d),u=r.sub(g,d),d=r.add(g,d),l=r.mul(u,d),g=r.add(m,m),g=r.add(g,m),w=r.mul(h,w),k=r.mul(p,k),g=r.add(g,w),w=r.sub(m,w),w=r.mul(h,w),k=r.add(k,w),m=r.mul(g,k),l=r.add(l,m),m=r.mul(E,k),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,g),d=r.mul(E,d),d=r.add(d,m),new b(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return v.wNAFCached(this,g,e,e=>{const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)})}multiplyUnsafe(e){const n=b.ZERO;if(e===u)return n;if(p(e),e===l)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:c}=i.splitScalar(e),d=n,f=n,h=this;for(;o>u||c>u;)o&l&&(d=d.add(h)),c&l&&(f=f.add(h)),h=h.double(),o>>=l,c>>=l;return s&&(d=d.negate()),a&&(f=f.negate()),f=new b(r.mul(f.px,i.beta),f.py,f.pz),d.add(f)}multiply(e){p(e);let n,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:u,f:l}=this.wNAF(t),{p:d,f:f}=this.wNAF(c);u=v.constTimeNegate(e,u),d=v.constTimeNegate(a,d),d=new b(r.mul(d.px,o.beta),d.py,d.pz),n=u.add(d),i=l.add(f)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return b.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==u&&t!==l&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?undefined:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===l)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===l?this:r?r(b,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(b,this,e)}toHex(e=!0){return s.bytesToHex(this.toRawBytes(e))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,v=(0,n.wNAF)(b,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:h}}function m(e,t){const r=e.ORDER;let n=u;for(let e=r-l;e%d===u;e/=d)n+=l;const i=n,s=d<<i-l-l,o=s*d,a=(r-l)/o,c=(a-l)/d,p=o-l,m=s,g=e.pow(t,a),y=e.pow(t,(a+l)/d);let b=(t,r)=>{let n=g,s=e.pow(r,p),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let u=e.mul(o,s);a=e.pow(u,m);let f=e.eql(a,e.ONE);s=e.mul(o,y),a=e.mul(u,n),o=e.cmov(s,o,f),u=e.cmov(a,u,f);for(let t=i;t>l;t--){let r=t-d;r=d<<r-l;let i=e.pow(u,r);const a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(u,n),o=e.cmov(s,o,a),u=e.cmov(i,u,a)}return{isValid:f,value:o}};if(e.ORDER%h===f){const r=(e.ORDER-f)/h,n=e.sqrt(e.neg(t));b=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const c=e.mul(a,n),u=e.mul(e.sqr(a),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return b}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/weierstrass.js"}],[2198,{"./_shortw_utils.js":2192,"./abstract/hash-to-curve.js":2194,"./abstract/modular.js":2195,"./abstract/utils.js":2196,"./abstract/weierstrass.js":2197,"@noble/hashes/sha256":2204,"@noble/hashes/utils":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),s=e("./_shortw_utils.js"),o=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/utils.js"),u=e("./abstract/weierstrass.js"),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),h=BigInt(2),p=(e,t)=>(e+t/h)/t;function m(e){const t=l,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,p=(0,a.pow2)(f,r,t)*f%t,m=(0,a.pow2)(p,r,t)*f%t,y=(0,a.pow2)(m,h,t)*d%t,b=(0,a.pow2)(y,i,t)*y%t,w=(0,a.pow2)(b,s,t)*b%t,v=(0,a.pow2)(w,c,t)*w%t,k=(0,a.pow2)(v,u,t)*v%t,E=(0,a.pow2)(k,c,t)*w%t,_=(0,a.pow2)(E,r,t)*f%t,j=(0,a.pow2)(_,o,t)*b%t,S=(0,a.pow2)(j,n,t)*d%t,T=(0,a.pow2)(S,h,t);if(!g.eql(g.sqr(T),e))throw new Error("Cannot find square root");return T}const g=(0,a.Field)(l,undefined,undefined,{sqrt:m});r.secp256k1=(0,s.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),c=p(s*e,t),u=p(-n*e,t);let l=(0,a.mod)(e-c*r-u*i,t),h=(0,a.mod)(-c*n-u*s,t);const m=l>o,g=h>o;if(m&&(l=t-l),g&&(h=t-h),l>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:l,k2neg:g,k2:h}}}},n.sha256);const y=BigInt(0),b=e=>"bigint"==typeof e&&y<e&&e<l,w={};function v(e,...t){let r=w[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));r=(0,c.concatBytes)(t,t),w[e]=r}return(0,n.sha256)((0,c.concatBytes)(r,...t))}const k=e=>e.toRawBytes(!0).slice(1),E=e=>(0,c.numberToBytesBE)(e,32),_=e=>(0,a.mod)(e,l),j=e=>(0,a.mod)(e,d),S=r.secp256k1.ProjectivePoint;function T(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=S.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:j(-t),bytes:k(n)}}function P(e){if(!b(e))throw new Error("bad x: need 0 < x < p");const t=_(e*e);let r=m(_(t*e+BigInt(7)));r%h!==y&&(r=_(-r));const n=new S(e,r,f);return n.assertValidity(),n}function B(...e){return j((0,c.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function x(e){return T(e).bytes}function A(e,t,r=(0,i.randomBytes)(32)){const n=(0,c.ensureBytes)("message",e),{bytes:s,scalar:o}=T(t),a=(0,c.ensureBytes)("auxRand",r,32),u=E(o^(0,c.bytesToNumberBE)(v("BIP0340/aux",a))),l=v("BIP0340/nonce",u,s,n),d=j((0,c.bytesToNumberBE)(l));if(d===y)throw new Error("sign failed: k is zero");const{bytes:f,scalar:h}=T(d),p=B(f,s,n),m=new Uint8Array(64);if(m.set(f,0),m.set(E(j(h+p*o)),32),!I(m,n,s))throw new Error("sign: Invalid signature produced");return m}function I(e,t,r){const n=(0,c.ensureBytes)("signature",e,64),i=(0,c.ensureBytes)("message",t),s=(0,c.ensureBytes)("publicKey",r,32);try{const e=P((0,c.bytesToNumberBE)(s)),t=(0,c.bytesToNumberBE)(n.subarray(0,32));if(!b(t))return!1;const r=(0,c.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(l=r)&&y<l&&l<d))return!1;const f=B(E(t),k(e),i),h=(o=e,a=r,u=j(-f),S.BASE.multiplyAndAddUnsafe(o,a,u));return!(!h||!h.hasEvenY()||h.toAffine().x!==t)}catch(e){return!1}var o,a,u,l}r.schnorr={getPublicKey:x,sign:A,verify:I,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:k,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:v,mod:a.mod}};const O=(()=>(0,o.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))(),C=(()=>(0,u.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),M=(()=>(0,o.createHasher)(r.secp256k1.ProjectivePoint,e=>{const{x:t,y:r}=C(g.create(e[0]));return O(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=M.hashToCurve,r.encodeToCurve=M.encodeToCurve}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/secp256k1.js"}],[2199,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=i,r.isBytes=s,r.bytes=o,r.hash=a,r.exists=c,r.output=u;const l={number:n,bool:i,bytes:o,hash:a,exists:c,output:u};r.default=l}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/_assert.js"}],[2200,{"./_assert.js":2199,"./utils.js":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HashMD=r.Maj=r.Chi=void 0;const n=e("./_assert.js"),i=e("./utils.js");r.Chi=(e,t,r)=>e&t^~e&r;r.Maj=(e,t,r)=>e&t^e&r^t&r;class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a===s){const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}r.HashMD=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/_md.js"}],[2201,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const c=(e,t,r)=>e>>>r;r.shrSH=c;const u=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=u;const l=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=l;const d=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=d;const f=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=f;const h=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=h;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const g=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=g;const y=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=y;const b=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=b;const w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=w,r.add=v;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=k;const E=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=E;const _=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=_;const j=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=j;const S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=S;const T=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;r.add5H=T;const P={fromBig:s,split:o,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:y,rotlBH:b,rotlBL:w,add:v,add3L:k,add3H:E,add4L:_,add4H:j,add5H:T,add5L:S};r.default=P}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/_u64.js"}],[2202,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/crypto.js"}],[2203,{"./_assert.js":2199,"./utils.js":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),i=e("./utils.js");class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=s;r.hmac=(e,t,r)=>new s(e,t).update(r).digest(),r.hmac.create=(e,t)=>new s(e,t)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/hmac.js"}],[2204,{"./_md.js":2200,"./utils.js":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_md.js"),i=e("./utils.js"),s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[e]=s+a[e-7]+n+a[e-16]|0}let{A:r,B:o,C:c,D:u,E:l,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+(0,n.Chi)(l,d,f)+s[e]+a[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,o,c)|0;h=f,f=d,d=l,l=u+t|0,u=c,c=o,o=r,r=t+p|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,o,c,u,l,d,f,h)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,i.wrapConstructor)(()=>new c),r.sha224=(0,i.wrapConstructor)(()=>new u)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/sha256.js"}],[2205,{"./_assert.js":2199,"./_u64.js":2201,"./utils.js":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),o=[],a=[],c=[],u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>f)*p)%h,t&d&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[m,g]=(0,i.split)(c,!0),y=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=y(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=y(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){s.isLE||(0,s.byteSwap32)(this.state32),w(this.state32,this.rounds),s.isLE||(0,s.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const k=(e,t,r)=>(0,s.wrapConstructor)(()=>new v(t,e,r));r.sha3_224=k(6,144,28),r.sha3_256=k(6,136,32),r.sha3_384=k(6,104,48),r.sha3_512=k(6,72,64),r.keccak_224=k(1,144,28),r.keccak_256=k(1,136,32),r.keccak_384=k(1,104,48),r.keccak_512=k(1,72,64);const E=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,n.dkLen===undefined?r:n.dkLen,!0));r.shake128=E(31,168,16),r.shake256=E(31,136,32)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/sha3.js"}],[2206,{"./_assert.js":2199,"@noble/hashes/crypto":2202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),i=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));r.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o=48,a=57,c=65,u=70,l=97,d=102;function f(e){return e>=o&&e<=a?e-o:e>=c&&e<=u?e-(c-10):e>=l&&e<=d?e-(l-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=f(e.charCodeAt(i)),s=f(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function h(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=h(e)),(0,i.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=h,r.toBytes=p,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const m={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==m.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/utils.js"}],[2207,{"./utils.js":2209,"@noble/hashes/sha3":2205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils.js");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography",file:"node_modules/@metamask/eth-qr-keyring/node_modules/ethereum-cryptography/keccak.js"}],[2208,{"@noble/curves/secp256k1":2198},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=void 0;var n=e("@noble/curves/secp256k1");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return n.secp256k1}})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography",file:"node_modules/@metamask/eth-qr-keyring/node_modules/ethereum-cryptography/secp256k1.js"}],[2209,{"@noble/hashes/_assert":2199,"@noble/hashes/utils":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))};const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography",file:"node_modules/@metamask/eth-qr-keyring/node_modules/ethereum-cryptography/utils.js"}],[2210,{"./nil.js":2213,"./parse.js":2214,"./stringify.js":2218,"./v1.js":2219,"./v3.js":2220,"./v4.js":2222,"./v5.js":2223,"./validate.js":2224,"./version.js":2225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=f(e("./v1.js")),i=f(e("./v3.js")),s=f(e("./v4.js")),o=f(e("./v5.js")),a=f(e("./nil.js")),c=f(e("./version.js")),u=f(e("./validate.js")),l=f(e("./stringify.js")),d=f(e("./parse.js"));function f(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/index.js"}],[2211,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=r,f=s,h=l,p=d;r=o(r,s,l,d,e[t],7,-680876936),d=o(d,r,s,l,e[t+1],12,-389564586),l=o(l,d,r,s,e[t+2],17,606105819),s=o(s,l,d,r,e[t+3],22,-1044525330),r=o(r,s,l,d,e[t+4],7,-176418897),d=o(d,r,s,l,e[t+5],12,1200080426),l=o(l,d,r,s,e[t+6],17,-1473231341),s=o(s,l,d,r,e[t+7],22,-45705983),r=o(r,s,l,d,e[t+8],7,1770035416),d=o(d,r,s,l,e[t+9],12,-1958414417),l=o(l,d,r,s,e[t+10],17,-42063),s=o(s,l,d,r,e[t+11],22,-1990404162),r=o(r,s,l,d,e[t+12],7,1804603682),d=o(d,r,s,l,e[t+13],12,-40341101),l=o(l,d,r,s,e[t+14],17,-1502002290),s=o(s,l,d,r,e[t+15],22,1236535329),r=a(r,s,l,d,e[t+1],5,-165796510),d=a(d,r,s,l,e[t+6],9,-1069501632),l=a(l,d,r,s,e[t+11],14,643717713),s=a(s,l,d,r,e[t],20,-373897302),r=a(r,s,l,d,e[t+5],5,-701558691),d=a(d,r,s,l,e[t+10],9,38016083),l=a(l,d,r,s,e[t+15],14,-660478335),s=a(s,l,d,r,e[t+4],20,-405537848),r=a(r,s,l,d,e[t+9],5,568446438),d=a(d,r,s,l,e[t+14],9,-1019803690),l=a(l,d,r,s,e[t+3],14,-187363961),s=a(s,l,d,r,e[t+8],20,1163531501),r=a(r,s,l,d,e[t+13],5,-1444681467),d=a(d,r,s,l,e[t+2],9,-51403784),l=a(l,d,r,s,e[t+7],14,1735328473),s=a(s,l,d,r,e[t+12],20,-1926607734),r=c(r,s,l,d,e[t+5],4,-378558),d=c(d,r,s,l,e[t+8],11,-2022574463),l=c(l,d,r,s,e[t+11],16,1839030562),s=c(s,l,d,r,e[t+14],23,-35309556),r=c(r,s,l,d,e[t+1],4,-1530992060),d=c(d,r,s,l,e[t+4],11,1272893353),l=c(l,d,r,s,e[t+7],16,-155497632),s=c(s,l,d,r,e[t+10],23,-1094730640),r=c(r,s,l,d,e[t+13],4,681279174),d=c(d,r,s,l,e[t],11,-358537222),l=c(l,d,r,s,e[t+3],16,-722521979),s=c(s,l,d,r,e[t+6],23,76029189),r=c(r,s,l,d,e[t+9],4,-640364487),d=c(d,r,s,l,e[t+12],11,-421815835),l=c(l,d,r,s,e[t+15],16,530742520),s=c(s,l,d,r,e[t+2],23,-995338651),r=u(r,s,l,d,e[t],6,-198630844),d=u(d,r,s,l,e[t+7],10,1126891415),l=u(l,d,r,s,e[t+14],15,-1416354905),s=u(s,l,d,r,e[t+5],21,-57434055),r=u(r,s,l,d,e[t+12],6,1700485571),d=u(d,r,s,l,e[t+3],10,-1894986606),l=u(l,d,r,s,e[t+10],15,-1051523),s=u(s,l,d,r,e[t+1],21,-2054922799),r=u(r,s,l,d,e[t+8],6,1873313359),d=u(d,r,s,l,e[t+15],10,-30611744),l=u(l,d,r,s,e[t+6],15,-1560198380),s=u(s,l,d,r,e[t+13],21,1309151649),r=u(r,s,l,d,e[t+4],6,-145523070),d=u(d,r,s,l,e[t+11],10,-1120210379),l=u(l,d,r,s,e[t+2],15,718787259),s=u(s,l,d,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,f),l=i(l,h),d=i(d,p)}return[r,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/md5-browser.js"}],[2212,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/native-browser.js"}],[2213,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/nil.js"}],[2214,{"./validate.js":2224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/parse.js"}],[2215,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/regex.js"}],[2216,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/rng-browser.js"}],[2217,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],d=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+d+t[r]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/sha1-browser.js"}],[2218,{"./validate.js":2224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/stringify.js"}],[2219,{"./rng.js":2216,"./stringify.js":2218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var l=function(e,t,r){let n=t&&r||0;const l=t||new Array(16);let d=(e=e||{}).node||o,f=e.clockseq!==undefined?e.clockseq:a;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),p=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(p-u)/1e4;if(m<0&&e.clockseq===undefined&&(f=f+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=p,a=f,h+=122192928e5;const g=(1e4*(268435455&h)+p)%4294967296;l[n++]=g>>>24&255,l[n++]=g>>>16&255,l[n++]=g>>>8&255,l[n++]=255&g;const y=h/4294967296*1e4&268435455;l[n++]=y>>>8&255,l[n++]=255&y,l[n++]=y>>>24&15|16,l[n++]=y>>>16&255,l[n++]=f>>>8|128,l[n++]=255&f;for(let e=0;e<6;++e)l[n+e]=d[e];return t||(0,s.unsafeStringify)(l)};r.default=l}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v1.js"}],[2220,{"./md5.js":2211,"./v35.js":2221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v3.js"}],[2221,{"./parse.js":2214,"./stringify.js":2218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v35.js"}],[2222,{"./native.js":2212,"./rng.js":2216,"./stringify.js":2218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v4.js"}],[2223,{"./sha1.js":2217,"./v35.js":2221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v5.js"}],[2224,{"./regex.js":2215},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/validate.js"}],[2225,{"./validate.js":2224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/version.js"}],[2226,{"json-rpc-random-id":5054,xtend:6169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("json-rpc-random-id")(),i=e("xtend");function s(e){this.currentProvider=e}function o(e){return function(...t){const r=t.pop();this.sendAsync({method:e,params:t},r)}}function a(e,t){return function(...r){const n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}t.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=o("eth_protocolVersion"),s.prototype.syncing=o("eth_syncing"),s.prototype.coinbase=o("eth_coinbase"),s.prototype.mining=o("eth_mining"),s.prototype.hashrate=o("eth_hashrate"),s.prototype.gasPrice=o("eth_gasPrice"),s.prototype.accounts=o("eth_accounts"),s.prototype.blockNumber=o("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),s.prototype.sign=o("eth_sign"),s.prototype.sendTransaction=o("eth_sendTransaction"),s.prototype.sendRawTransaction=o("eth_sendRawTransaction"),s.prototype.estimateGas=o("eth_estimateGas"),s.prototype.getBlockByHash=o("eth_getBlockByHash"),s.prototype.getBlockByNumber=o("eth_getBlockByNumber"),s.prototype.getTransactionByHash=o("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=o("eth_getCompilers"),s.prototype.compileLLL=o("eth_compileLLL"),s.prototype.compileSolidity=o("eth_compileSolidity"),s.prototype.compileSerpent=o("eth_compileSerpent"),s.prototype.newFilter=o("eth_newFilter"),s.prototype.newBlockFilter=o("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=o("eth_uninstallFilter"),s.prototype.getFilterChanges=o("eth_getFilterChanges"),s.prototype.getFilterLogs=o("eth_getFilterLogs"),s.prototype.getLogs=o("eth_getLogs"),s.prototype.getWork=o("eth_getWork"),s.prototype.submitWork=o("eth_submitWork"),s.prototype.submitHashrate=o("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,i({id:n(),jsonrpc:"2.0",params:[]},r)),function(e,r){let n=e;return!e&&r.error&&(n=new Error(`EthQuery - RPC Error - ${r.error.message}`)),n?t(n):t(null,r.result)})}}}},{package:"@metamask/controller-utils>@metamask/eth-query",file:"node_modules/@metamask/eth-query/index.js"}],[2227,{"./utils":2232,"@scure/base":2264,buffer:4474,tweetnacl:6090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),c=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:r}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),c=o.base64.decode(e.ciphertext),u=o.base64.decode(e.ephemPublicKey),l=a.box.open(c,s,u,i);try{if(!l)throw new Error;const e=o.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[2228,{"./encryption":2227,"./personal-sign":2229,"./sign-eip7702-authorization":2230,"./sign-typed-data":2231,"./utils":2232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r),i(e("./sign-eip7702-authorization"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/index.js"}],[2229,{"./utils":2232,"@ethereumjs/util":2241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[2230,{"./utils":2232,"@ethereumjs/rlp":2233,"@ethereumjs/util":2241,"@metamask/utils":3554,buffer:4474,"ethereum-cryptography/keccak":2265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashEIP7702Authorization=r.recoverEIP7702Authorization=r.signEIP7702Authorization=void 0;const n=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),o=e("ethereum-cryptography/keccak"),a=e("./utils");function c(e){u(e);const r=(0,n.encode)(e),i=t.concat([t.from("05","hex"),r]);return t.from((0,o.keccak256)(i))}function u(e){if((0,a.isNullish)(e))throw new Error("Missing authorization parameter");const[t,r,n]=e;if((0,a.isNullish)(t))throw new Error("Missing chainId parameter");if((0,a.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,a.isNullish)(n))throw new Error("Missing nonce parameter")}r.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(u(t),(0,a.isNullish)(e))throw new Error("Missing privateKey parameter");const r=c(t),{r:n,s:s,v:o}=(0,i.ecsign)(r,e),l=(0,i.toBuffer)(o);return(0,a.concatSig)(l,n,s)},r.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(u(t),(0,a.isNullish)(e))throw new Error("Missing signature parameter");const r=c(t),n=(0,a.recoverPublicKey)(r,e),o=(0,i.publicToAddress)(n);return(0,s.bytesToHex)(o)},r.hashEIP7702Authorization=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[2231,{"./utils":2232,"@ethereumjs/util":2241,"@metamask/abi-utils":1236,"@metamask/abi-utils/dist/parsers":1245,"@metamask/abi-utils/dist/utils":1253,"@metamask/utils":3554,"ethereum-cryptography/keccak":2265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),c=e("ethereum-cryptography/keccak"),u=e("./utils");var l;function d(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function f(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function p(e,t,r,s,u){if(d(u,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",u===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,c.keccak256)(m(r,s,e,u)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=f(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.endsWith("]")){if(u===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map(r=>p(e,t,o,r,u));return["bytes32",(0,n.arrToBufArr)((0,c.keccak256)((0,i.encode)(a.map(([e])=>e),a.map(([,e])=>e))))]}return[r,s]}function m(e,t,r,s){d(s,[l.V3,l.V4]);const o=["bytes32"],a=[w(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=p(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,t,r,i){d(i,[l.V3,l.V4]);const s=m(e,t,r,i),o=(0,c.keccak256)(s);return(0,n.arrToBufArr)(o)}function w(e,t){const r=(0,a.stringToBytes)(g(e,t));return(0,n.arrToBufArr)((0,c.keccak256)(r))}function v(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function k(e,t){d(t,[l.V3,l.V4]);const r=v(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function E(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map(e=>E(r,e))}if("address"===e){if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function _(e,t){return t.map(t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=f(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t})}function j(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map(({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map(e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:_(n,r)}}return{name:e,type:t,value:E(t,r)}}),l=r.map(e=>"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value)),d=r.map(e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type}),f=e.map(e=>{if(!e.name)throw t;return`${e.type} ${e.name}`});return(0,n.arrToBufArr)((0,c.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,i.encodePacked)(["string[]"],[f],!0)),(0,c.keccak256)((0,i.encodePacked)(d,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:m,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:w,sanitizeData:v,eip712Hash:function(e,t){d(t,[l.V3,l.V4]);const r=v(e),i=[(0,a.hexToBytes)("1901")];return i.push(k(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,c.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:k},r.typedSignatureHash=function(e){const t=j(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(d(i),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?j(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,u.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(d(i),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?j(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,u.recoverPublicKey)(s,t),c=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(c)}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[2232,{"@ethereumjs/util":2241,"@metamask/utils":3554,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),c=(0,n.bufferToInt)(e),u=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),d=(0,i.remove0x)((0,i.numberToHex)(c));return(0,i.add0x)(u.concat(l,d))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/utils.js"}],[2233,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(Array.isArray(e)){const t=[];let r=0;for(let i=0;i<e.length;i++){const s=n(e[i]);t.push(s),r+=s.length}return h(o(r,192),...t)}const t=y(e);return 1===t.length&&t[0]<128?t:h(o(t.length,128),t)}function i(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return d(l(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const r=m(e),n=m(t+55+r.length/2);return Uint8Array.from(f(n+r))}function a(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const r=c(y(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function c(e){let t,r,n,o,a;const u=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,n=128===l?Uint8Array.from([]):i(e,1,t),2===t&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}if(l<=191){if(r=l-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(i(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=i(e,r,t+r),{data:n,remainder:e.slice(t+r)}}if(l<=247){for(t=l-191,o=i(e,1,t);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(t)}}{if(r=l-246,t=s(i(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const n=r+t;if(n>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=i(e,r,n);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(n)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.RLP=r.utils=r.decode=r.encode=void 0,r.encode=n,r.decode=a;const u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t}function d(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function f(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r;t[r]=d(e.slice(n,n+2))}return t}function h(...e){if(1===e.length)return e[0];const t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function p(e){return(new TextEncoder).encode(e)}function m(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function g(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function y(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return g(e)?f((t="string"!=typeof(r=e)?r:g(r)?r.slice(2):r).length%2?`0${t}`:t):p(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?f(m(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}r.utils={bytesToHex:l,concatBytes:h,hexToBytes:f,utf8ToBytes:p},r.RLP={encode:n,decode:a}}}},{package:"@metamask/eth-sig-util>@ethereumjs/rlp",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/rlp/dist/index.js"}],[2234,{"./bytes":2237,"./constants":2238,"./helpers":2240,"./internal":2242,"@ethereumjs/rlp":2233,buffer:4474,"ethereum-cryptography/keccak":2265,"ethereum-cryptography/secp256k1":2266,"ethereum-cryptography/utils":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),c=e("./constants"),u=e("./helpers"),l=e("./internal"),d=BigInt(0);class f{constructor(e=d,t=d,r=c.KECCAK256_RLP,n=c.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new f(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new f((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<d)throw new Error("nonce must be greater than zero");if(this.balance<d)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===d&&this.nonce===d&&this.codeHash.equals(c.KECCAK256_NULL)}}r.Account=f;r.isValidAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,u.assertIsHexString)(e);const n=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const c=t.from(s+n,"utf8"),d=(0,o.bytesToHex)((0,i.keccak256)(c));let f="0x";for(let e=0;e<n.length;e++)parseInt(d[e],16)>=8?f+=n[e].toUpperCase():f+=n[e];return f};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,u.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,u.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,u.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,u.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,u.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?c.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const p=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(c.KECCAK256_RLP)?p:n,(0,a.arrToBufArr)(i).equals(c.KECCAK256_NULL)?p:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[2235,{"./account":2234,"./bytes":2237,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[2236,{events:4770},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((t,n)=>{i.call(e,r,e=>{e?n(e):t()})})}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[2237,{"./helpers":2240,"./internal":2242,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function c(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=c;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return c(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map(t=>e(t)):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(c(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[2238,{buffer:4474,"ethereum-cryptography/secp256k1":2266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[2239,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[2240,{"../../../../../../is-buffer/index.js":5024,"./internal":2242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[2241,{"./account":2234,"./address":2235,"./asyncEventEmitter":2236,"./bytes":2237,"./constants":2238,"./encoding":2239,"./internal":2242,"./lock":2243,"./provider":2244,"./signature":2245,"./types":2246,"./units":2247,"./withdrawal":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[2242,{buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"](t=>e.indexOf(t)>=0)},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[2243,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[2244,{"micro-ftch":5314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[2245,{"./bytes":2237,"./constants":2238,"./helpers":2240,buffer:4474,"ethereum-cryptography/keccak":2265,"ethereum-cryptography/secp256k1":2266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function u(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),d=c(r,a);if(!u(d))throw new Error("Invalid signature v value");const f=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(d)).recoverPublicKey(e);return t.from(f.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!u(c(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[2246,{"./bytes":2237,"./internal":2242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[2247,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[2248,{"./address":2235,"./bytes":2237,"./types":2246,buffer:4474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,c=(0,s.toType)(t,s.TypeOutput.BigInt),u=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),d=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(c,u,l,d)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,c=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),u=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[c,u,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[2249,{"./abstract/weierstrass.js":2254,"@noble/hashes/hmac":2260,"@noble/hashes/utils":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getHash=o,r.createCurve=function(e,t){const r=t=>(0,s.weierstrass)({...e,...o(t)});return Object.freeze({...r(t),create:r})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),s=e("./abstract/weierstrass.js");function o(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/_shortw_utils.js"}],[2250,{"./modular.js":2252,"./utils.js":2253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:a,windowSize:c}=n(t);let u=e.ZERO,l=e.BASE;const d=BigInt(2**t-1),f=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let n=Number(s&d);s>>=h,n>c&&(n-=f,s+=o);const a=t,p=t+Math.abs(n)-1,m=e%2!=0,g=n<0;0===n?l=l.add(r(m,i[a])):u=u.add(r(g,i[p]))}return{p:u,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),s=BigInt(0),o=BigInt(1)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/curve.js"}],[2251,{"./modular.js":2252,"./utils.js":2253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expand_message_xmd=u,r.expand_message_xof=l,r.hash_to_field=d,r.isogenyMap=function(e,t){const r=t.map(e=>Array.from(e).reverse());return(t,n)=>{const[i,s,o,a]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n)));return t=e.div(i,s),n=e.mul(n,e.div(o,a)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=d(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=d(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const e of r)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}};const n=e("./modular.js"),i=e("./utils.js"),s=i.bytesToNumberBE;function o(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,n){(0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:u}=n,l=Math.ceil(r/s);if(l>255)throw new Error("Invalid xmd length");const d=(0,i.concatBytes)(t,o(t.length,1)),f=o(0,u),h=o(r,2),p=new Array(l),m=n((0,i.concatBytes)(f,e,h,o(0,1),d));p[0]=n((0,i.concatBytes)(m,o(1,1),d));for(let e=1;e<=l;e++){const t=[a(m,p[e-1]),o(e+1,1),d];p[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,r)}function l(e,t,r,n,s){if((0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255){const e=Math.ceil(2*n/8);t=s.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function d(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:a,m:d,hash:f,expand:h,DST:p}=r;(0,i.abytes)(e),c(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,g=o.toString(2).length,y=Math.ceil((g+a)/8),b=t*d*y;let w;if("xmd"===h)w=u(e,m,b,f);else if("xof"===h)w=l(e,m,b,a,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');w=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let r=0;r<d;r++){const i=y*(r+e*d),a=w.subarray(i,i+y);t[r]=(0,n.mod)(s(a),o)}v[e]=t}return v}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2252,{"./utils.js":2253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeLE=void 0,r.mod=d,r.pow=f,r.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},r.invert=h,r.tonelliShanks=p,r.FpSqrt=m,r.validateField=function(e){const t=g.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=y,r.FpInvertBatch=b,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-s)/o;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=w,r.Field=function(e,t,r=!1,o={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=m(e),l=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,n.bitMask)(a),ZERO:i,ONE:s,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>y(l,e,t),div:(t,r)=>d(t*h(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:o.sqrt||(e=>u(l,e)),invertBatch:e=>b(l,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(l)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,o=w(t).nByteLength+8;if(o<24||i<o||i>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${i}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s},r.getFieldBytesLength=v,r.getMinHashLength=k,r.mapHashToField=function(e,t,r=!1){const i=e.length,o=v(t),a=k(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(c,o):(0,n.numberToBytesBE)(c,o)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=i?r:t+r}function f(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function h(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,o=i,a=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=o-c*e,s=a-u*e;n=r,r=t,o=c,a=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return d(o,t)}function p(e){const t=(e-s)/o;let r,n,a;for(r=e-s,n=0;r%o===i;r/=o,n++);for(a=o;a<e&&f(a,t,e)!==e-s;a++);if(1===n){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+s)/o;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=n,c=e.pow(e.mul(e.ONE,a),r),l=e.pow(i,u),d=e.pow(i,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,s<<BigInt(o-t-1));c=e.sqr(r),l=e.mul(l,r),d=e.mul(d,c),o=t}return l}}function m(e){if(e%c===a){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%l===u){const t=(e-u)/l;return function(e,r){const n=e.mul(r,o),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,o),i),c=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}r.isNegativeLE=(e,t)=>(d(e,t)&s)===s;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;for(;r>i;)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n}function b(e,t){const r=new Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function w(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function k(e){const t=v(e);return t+Math.ceil(t/2)}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/modular.js"}],[2253,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitMask=void 0,r.isBytes=o,r.abytes=a,r.bytesToHex=u,r.numberToHexUnpadded=l,r.hexToNumber=d,r.hexToBytes=p,r.bytesToNumberBE=function(e){return d(u(e))},r.bytesToNumberLE=function(e){return a(e),d(u(Uint8Array.from(e).reverse()))},r.numberToBytesBE=m,r.numberToBytesLE=function(e,t){return m(e,t).reverse()},r.numberToVarBytesBE=function(e){return p(l(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!o(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},r.concatBytes=g,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&i},r.bitSet=function(e,t,r){return e|(r?i:n)<<BigInt(t)},r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=y(e),i=y(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=y())=>{i=a(b([0]),e),n=a(),0!==e.length&&(i=a(b([1]),e),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return g(...r)};return(e,t)=>{o(),c(e);let r=undefined;for(;!(r=t(u()));)c();return o(),r}},r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=w[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&s===undefined||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),s=BigInt(2);function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function l(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h(e){return e>=f._0&&e<=f._9?e-f._0:e>=f._A&&e<=f._F?e-(f._A-10):e>=f._a&&e<=f._f?e-(f._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}r.bitMask=e=>(s<<BigInt(e-1))-i;const y=e=>new Uint8Array(e),b=e=>Uint8Array.from(e);const w={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/utils.js"}],[2254,{"./curve.js":2250,"./modular.js":2252,"./utils.js":2253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DER=void 0,r.weierstrassPoints=p,r.weierstrass=function(e){const t=function(e){const t=(0,n.validateBasic)(e);return s.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=t,d=a.BYTES+1,f=2*a.BYTES+1;function h(e){return i.mod(e,c)}function m(e){return i.invert(e,c)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:w}=p({...t,toBytes(e,t,r){const n=t.toAffine(),i=a.toBytes(n.x),o=s.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===f&&4===r){return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${f} uncompressed bytes`)}{const e=s.bytesToNumberBE(n);if(!(u<(i=e)&&i<a.ORDER))throw new Error("Point is not on curve");const t=b(e);let o;try{o=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((o&l)===l)&&(o=a.neg(o)),{x:e,y:o}}var i}}),v=e=>s.bytesToHex(s.numberToBytesBE(e,t.nByteLength));function k(e){return e>c>>l}const E=(e,t,r)=>s.bytesToNumberBE(e.slice(t,r));class _{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*r),new _(E(e,0,r),E(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,o.ensureBytes)("DER",e));return new _(t,n)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:i}=this,s=P((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?r+t.n:r;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",l=g.fromHex(u+v(c)),d=m(c),f=h(-s*d),p=h(n*d),y=g.BASE.multiplyAndAddUnsafe(l,f,p);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return s.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return s.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const j={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=i.getMinHashLength(t.n);return i.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=s.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===d||n===f:r?n===2*d||n===2*f:e instanceof g}const T=t.bits2int||function(e){const r=s.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},P=t.bits2int_modN||function(e){return h(T(e))},B=s.bitMask(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<B))throw new Error(`bigint expected < 2^${t.nBitLength}`);return s.numberToBytesBE(e,t.nByteLength)}function A(e,r,n=I){if(["recovered","canonical"].some(e=>e in n))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:d,prehash:f,extraEntropy:p}=n;null==d&&(d=!0),e=(0,o.ensureBytes)("msgHash",e),f&&(e=(0,o.ensureBytes)("prehashed msgHash",i(e)));const b=P(e),v=y(r),E=[x(v),x(b)];if(null!=p&&!1!==p){const e=!0===p?c(a.BYTES):p;E.push((0,o.ensureBytes)("extraEntropy",e))}const j=s.concatBytes(...E),S=b;return{seed:j,k2sig:function(e){const t=T(e);if(!w(t))return;const r=m(t),n=g.BASE.multiply(t).toAffine(),i=h(n.x);if(i===u)return;const s=h(r*h(S+i*v));if(s===u)return;let o=(n.x===i?0:2)|Number(n.y&l),a=s;return d&&k(s)&&(a=function(e){return k(e)?h(-e):e}(s),o^=1),new _(i,a,o)}}}const I={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,r,n=I){const{seed:i,k2sig:o}=A(e,r,n),a=t;return s.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,i,a=O){const c=e;if(n=(0,o.ensureBytes)("msgHash",n),i=(0,o.ensureBytes)("publicKey",i),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=a;let d,f=undefined;try{if("string"==typeof c||s.isBytes(c))try{f=_.fromDER(c)}catch(e){if(!(e instanceof r.DER.Err))throw e;f=_.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;f=new _(e,t)}}d=g.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=t.hash(n));const{r:p,s:y}=f,b=P(n),w=m(y),v=h(b*w),k=h(p*w),E=g.BASE.multiplyAndAddUnsafe(d,v,k)?.toAffine();if(!E)return!1;return h(E.x)===p},ProjectivePoint:g,Signature:_,utils:j}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,u,l,d;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),u=e.sqr(a),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,o),u=e.mul(u,a),c=e.mul(u,t.B),s=e.add(s,c),l=e.mul(i,o);const{isValid:f,value:h}=r(s,u);d=e.mul(i,n),d=e.mul(d,h),l=e.cmov(l,o,f),d=e.cmov(d,h,f);const p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,a),{x:l,y:d}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./curve.js"),i=e("./modular.js"),s=e("./utils.js"),o=e("./utils.js");const{bytesToNumberBE:a,hexToBytes:c}=s;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?c(e):e;s.abytes(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:a}=r.DER._parseInt(n.subarray(2)),{d:u,l:l}=r.DER._parseInt(a);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}};const u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(3),h=BigInt(4);function p(e){const t=function(e){const t=(0,n.validateBasic)(e);s.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:o}=t;if(r){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const i=t.toAffine();return s.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!h(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:a,n:c}=t;if(r&&"bigint"!=typeof e){if(s.isBytes(e)&&(e=s.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let u;try{u="bigint"==typeof e?e:s.bytesToNumberBE((0,o.ensureBytes)("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=i.mod(u,c)),p(u),u}const g=new Map;function y(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?b.ZERO:new b(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(c((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=d(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){y(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),u=r.eql(r.mul(n,a),r.mul(o,i));return c&&u}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,f),{px:s,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(s,s),h=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),l=r.mul(s,a),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(h,u),u=r.add(h,u),u=r.mul(c,u),c=r.mul(m,c),l=r.mul(i,l),p=r.mul(e,p),m=r.sub(d,p),m=r.mul(e,m),m=r.add(m,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,m),u=r.add(u,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,m),c=r.sub(c,d),l=r.mul(p,h),l=r.add(l,l),l=r.add(l,l),new b(c,u,l)}add(e){y(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,d=r.ZERO;const h=t.a,p=r.mul(t.b,f);let m=r.mul(n,o),g=r.mul(i,a),w=r.mul(s,c),v=r.add(n,i),k=r.add(o,a);v=r.mul(v,k),k=r.add(m,g),v=r.sub(v,k),k=r.add(n,s);let E=r.add(o,c);return k=r.mul(k,E),E=r.add(m,w),k=r.sub(k,E),E=r.add(i,s),u=r.add(a,c),E=r.mul(E,u),u=r.add(g,w),E=r.sub(E,u),d=r.mul(h,k),u=r.mul(p,w),d=r.add(u,d),u=r.sub(g,d),d=r.add(g,d),l=r.mul(u,d),g=r.add(m,m),g=r.add(g,m),w=r.mul(h,w),k=r.mul(p,k),g=r.add(g,w),w=r.sub(m,w),w=r.mul(h,w),k=r.add(k,w),m=r.mul(g,k),l=r.add(l,m),m=r.mul(E,k),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,g),d=r.mul(E,d),d=r.add(d,m),new b(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return v.wNAFCached(this,g,e,e=>{const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)})}multiplyUnsafe(e){const n=b.ZERO;if(e===u)return n;if(p(e),e===l)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:c}=i.splitScalar(e),d=n,f=n,h=this;for(;o>u||c>u;)o&l&&(d=d.add(h)),c&l&&(f=f.add(h)),h=h.double(),o>>=l,c>>=l;return s&&(d=d.negate()),a&&(f=f.negate()),f=new b(r.mul(f.px,i.beta),f.py,f.pz),d.add(f)}multiply(e){p(e);let n,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:u,f:l}=this.wNAF(t),{p:d,f:f}=this.wNAF(c);u=v.constTimeNegate(e,u),d=v.constTimeNegate(a,d),d=new b(r.mul(d.px,o.beta),d.py,d.pz),n=u.add(d),i=l.add(f)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return b.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==u&&t!==l&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?undefined:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===l)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===l?this:r?r(b,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(b,this,e)}toHex(e=!0){return s.bytesToHex(this.toRawBytes(e))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,v=(0,n.wNAF)(b,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:h}}function m(e,t){const r=e.ORDER;let n=u;for(let e=r-l;e%d===u;e/=d)n+=l;const i=n,s=d<<i-l-l,o=s*d,a=(r-l)/o,c=(a-l)/d,p=o-l,m=s,g=e.pow(t,a),y=e.pow(t,(a+l)/d);let b=(t,r)=>{let n=g,s=e.pow(r,p),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let u=e.mul(o,s);a=e.pow(u,m);let f=e.eql(a,e.ONE);s=e.mul(o,y),a=e.mul(u,n),o=e.cmov(s,o,f),u=e.cmov(a,u,f);for(let t=i;t>l;t--){let r=t-d;r=d<<r-l;let i=e.pow(u,r);const a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(u,n),o=e.cmov(s,o,a),u=e.cmov(i,u,a)}return{isValid:f,value:o}};if(e.ORDER%h===f){const r=(e.ORDER-f)/h,n=e.sqrt(e.neg(t));b=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const c=e.mul(a,n),u=e.mul(e.sqr(a),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return b}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/weierstrass.js"}],[2255,{"./_shortw_utils.js":2249,"./abstract/hash-to-curve.js":2251,"./abstract/modular.js":2252,"./abstract/utils.js":2253,"./abstract/weierstrass.js":2254,"@noble/hashes/sha256":2261,"@noble/hashes/utils":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),s=e("./_shortw_utils.js"),o=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/utils.js"),u=e("./abstract/weierstrass.js"),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),h=BigInt(2),p=(e,t)=>(e+t/h)/t;function m(e){const t=l,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,p=(0,a.pow2)(f,r,t)*f%t,m=(0,a.pow2)(p,r,t)*f%t,y=(0,a.pow2)(m,h,t)*d%t,b=(0,a.pow2)(y,i,t)*y%t,w=(0,a.pow2)(b,s,t)*b%t,v=(0,a.pow2)(w,c,t)*w%t,k=(0,a.pow2)(v,u,t)*v%t,E=(0,a.pow2)(k,c,t)*w%t,_=(0,a.pow2)(E,r,t)*f%t,j=(0,a.pow2)(_,o,t)*b%t,S=(0,a.pow2)(j,n,t)*d%t,T=(0,a.pow2)(S,h,t);if(!g.eql(g.sqr(T),e))throw new Error("Cannot find square root");return T}const g=(0,a.Field)(l,undefined,undefined,{sqrt:m});r.secp256k1=(0,s.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),c=p(s*e,t),u=p(-n*e,t);let l=(0,a.mod)(e-c*r-u*i,t),h=(0,a.mod)(-c*n-u*s,t);const m=l>o,g=h>o;if(m&&(l=t-l),g&&(h=t-h),l>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:l,k2neg:g,k2:h}}}},n.sha256);const y=BigInt(0),b=e=>"bigint"==typeof e&&y<e&&e<l,w={};function v(e,...t){let r=w[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));r=(0,c.concatBytes)(t,t),w[e]=r}return(0,n.sha256)((0,c.concatBytes)(r,...t))}const k=e=>e.toRawBytes(!0).slice(1),E=e=>(0,c.numberToBytesBE)(e,32),_=e=>(0,a.mod)(e,l),j=e=>(0,a.mod)(e,d),S=r.secp256k1.ProjectivePoint;function T(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=S.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:j(-t),bytes:k(n)}}function P(e){if(!b(e))throw new Error("bad x: need 0 < x < p");const t=_(e*e);let r=m(_(t*e+BigInt(7)));r%h!==y&&(r=_(-r));const n=new S(e,r,f);return n.assertValidity(),n}function B(...e){return j((0,c.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function x(e){return T(e).bytes}function A(e,t,r=(0,i.randomBytes)(32)){const n=(0,c.ensureBytes)("message",e),{bytes:s,scalar:o}=T(t),a=(0,c.ensureBytes)("auxRand",r,32),u=E(o^(0,c.bytesToNumberBE)(v("BIP0340/aux",a))),l=v("BIP0340/nonce",u,s,n),d=j((0,c.bytesToNumberBE)(l));if(d===y)throw new Error("sign failed: k is zero");const{bytes:f,scalar:h}=T(d),p=B(f,s,n),m=new Uint8Array(64);if(m.set(f,0),m.set(E(j(h+p*o)),32),!I(m,n,s))throw new Error("sign: Invalid signature produced");return m}function I(e,t,r){const n=(0,c.ensureBytes)("signature",e,64),i=(0,c.ensureBytes)("message",t),s=(0,c.ensureBytes)("publicKey",r,32);try{const e=P((0,c.bytesToNumberBE)(s)),t=(0,c.bytesToNumberBE)(n.subarray(0,32));if(!b(t))return!1;const r=(0,c.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(l=r)&&y<l&&l<d))return!1;const f=B(E(t),k(e),i),h=(o=e,a=r,u=j(-f),S.BASE.multiplyAndAddUnsafe(o,a,u));return!(!h||!h.hasEvenY()||h.toAffine().x!==t)}catch(e){return!1}var o,a,u,l}r.schnorr={getPublicKey:x,sign:A,verify:I,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:k,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:v,mod:a.mod}};const O=(()=>(0,o.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))(),C=(()=>(0,u.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),M=(()=>(0,o.createHasher)(r.secp256k1.ProjectivePoint,e=>{const{x:t,y:r}=C(g.create(e[0]));return O(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=M.hashToCurve,r.encodeToCurve=M.encodeToCurve}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/secp256k1.js"}],[2256,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=i,r.isBytes=s,r.bytes=o,r.hash=a,r.exists=c,r.output=u;const l={number:n,bool:i,bytes:o,hash:a,exists:c,output:u};r.default=l}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/_assert.js"}],[2257,{"./_assert.js":2256,"./utils.js":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HashMD=r.Maj=r.Chi=void 0;const n=e("./_assert.js"),i=e("./utils.js");r.Chi=(e,t,r)=>e&t^~e&r;r.Maj=(e,t,r)=>e&t^e&r^t&r;class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a===s){const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}r.HashMD=s}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/_md.js"}],[2258,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const c=(e,t,r)=>e>>>r;r.shrSH=c;const u=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=u;const l=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=l;const d=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=d;const f=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=f;const h=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=h;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const g=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=g;const y=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=y;const b=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=b;const w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=w,r.add=v;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=k;const E=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=E;const _=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=_;const j=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=j;const S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=S;const T=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;r.add5H=T;const P={fromBig:s,split:o,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:y,rotlBH:b,rotlBL:w,add:v,add3L:k,add3H:E,add4L:_,add4H:j,add5H:T,add5L:S};r.default=P}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/_u64.js"}],[2259,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/crypto.js"}],[2260,{"./_assert.js":2256,"./utils.js":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),i=e("./utils.js");class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=s;r.hmac=(e,t,r)=>new s(e,t).update(r).digest(),r.hmac.create=(e,t)=>new s(e,t)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/hmac.js"}],[2261,{"./_md.js":2257,"./utils.js":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_md.js"),i=e("./utils.js"),s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[e]=s+a[e-7]+n+a[e-16]|0}let{A:r,B:o,C:c,D:u,E:l,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+(0,n.Chi)(l,d,f)+s[e]+a[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,o,c)|0;h=f,f=d,d=l,l=u+t|0,u=c,c=o,o=r,r=t+p|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,o,c,u,l,d,f,h)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,i.wrapConstructor)(()=>new c),r.sha224=(0,i.wrapConstructor)(()=>new u)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/sha256.js"}],[2262,{"./_assert.js":2256,"./_u64.js":2258,"./utils.js":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),o=[],a=[],c=[],u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>f)*p)%h,t&d&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[m,g]=(0,i.split)(c,!0),y=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=y(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=y(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){s.isLE||(0,s.byteSwap32)(this.state32),w(this.state32,this.rounds),s.isLE||(0,s.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const k=(e,t,r)=>(0,s.wrapConstructor)(()=>new v(t,e,r));r.sha3_224=k(6,144,28),r.sha3_256=k(6,136,32),r.sha3_384=k(6,104,48),r.sha3_512=k(6,72,64),r.keccak_224=k(1,144,28),r.keccak_256=k(1,136,32),r.keccak_384=k(1,104,48),r.keccak_512=k(1,72,64);const E=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,n.dkLen===undefined?r:n.dkLen,!0));r.shake128=E(31,168,16),r.shake256=E(31,136,32)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/sha3.js"}],[2263,{"./_assert.js":2256,"@noble/hashes/crypto":2259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),i=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));r.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o=48,a=57,c=65,u=70,l=97,d=102;function f(e){return e>=o&&e<=a?e-o:e>=c&&e<=u?e-(c-10):e>=l&&e<=d?e-(l-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=f(e.charCodeAt(i)),s=f(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function h(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=h(e)),(0,i.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=h,r.toBytes=p,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const m={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==m.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/utils.js"}],[2264,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function a(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function u(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],o=Array.from(e);for(o.forEach(e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});;){let e=0,n=!0;for(let s=i;s<o.length;s++){const a=o[s],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!==t*e)throw new Error("convertRadix: carry overflow");e=c%r;const u=Math.floor(c/r);if(o[s]=u,!Number.isSafeInteger(u)||u*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(u?n=!1:i=s)}if(s.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=r.stringToBytes=r.str=r.bytesToString=r.hex=r.utf8=r.bech32m=r.bech32=r.base58check=r.createBase58check=r.base58xmr=r.base58xrp=r.base58flickr=r.base58=r.base64urlnopad=r.base64url=r.base64nopad=r.base64=r.base32crockford=r.base32hexnopad=r.base32hex=r.base32nopad=r.base32=r.base16=r.utils=void 0,r.assertNumber=n;const d=(e,t)=>t?d(t,e%t):e,f=(e,t)=>e+(t-d(e,t));function h(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(f(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${f(t,r)}`);let s=0,o=0;const a=2**r-1,c=[];for(const i of e){if(n(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(s=s<<t|i,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)c.push((s>>o-r&a)>>>0);s&=2**o-1}if(s=s<<r-o&a,!i&&o>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&c.push(s>>>0),c}function p(e){return n(e),{encode:t=>{if(!i(t))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(t,e,256))}}}function m(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,e)>32||f(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!i(r))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(r,e,8,t))}}}function g(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!i(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),s=new Uint8Array(r.length+e);return s.set(r),s.set(n,r.length),s},decode(r){if(!i(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),s=t(n).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(s[t]!==o[t])throw new Error("Invalid checksum");return n}}}r.utils={alphabet:o,chain:s,checksum:y,convertRadix:l,convertRadix2:h,radix:p,radix2:m,join:a,padding:c},r.base16=s(m(4),o("0123456789ABCDEF"),a("")),r.base32=s(m(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),a("")),r.base32nopad=s(m(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a("")),r.base32hex=s(m(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),a("")),r.base32hexnopad=s(m(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a("")),r.base32crockford=s(m(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),u(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),r.base64=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),a("")),r.base64nopad=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a("")),r.base64url=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),a("")),r.base64urlnopad=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(""));const b=e=>s(p(58),o(e),a(""));r.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),r.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),r.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];r.base58xmr={encode(e){let t="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);t+=r.base58.encode(i).padStart(w[i.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),s=w.indexOf(i.length),o=r.base58.decode(i);for(let e=0;e<o.length-s;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(t)}};r.createBase58check=e=>s(y(4,t=>e(e(t))),r.base58),r.base58check=r.createBase58check;const v=s(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),k=[996825010,642813549,513874426,1027748829,705979059];function E(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<k.length;e++)1==(t>>e&1)&&(r^=k[e]);return r}function _(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=E(i)^r>>5}i=E(i);for(let t=0;t<n;t++)i=E(i)^31&e.charCodeAt(t);for(let e of t)i=E(i)^e;for(let e=0;e<6;e++)i=E(i);return i^=r,v.encode(h([i%2**30],30,5,!1))}function j(e){const t="bech32"===e?1:734539939,r=m(5),n=r.decode,i=r.encode,s=g(n);function o(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=e.toLowerCase(),o=_(s,r,t);return`${s}1${v.encode(r)}${o}`}function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=n.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=v.decode(o).slice(0,-6),c=_(s,a,t);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:a}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:g(a),fromWords:n,fromWordsUnsafe:s,toWords:i}}r.bech32=j("bech32"),r.bech32m=j("bech32m"),r.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},r.hex=s(m(4),o("0123456789abcdef"),a(""),u(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const S={utf8:r.utf8,hex:r.hex,base16:r.base16,base32:r.base32,base64:r.base64,base64url:r.base64url,base58:r.base58,base58xmr:r.base58xmr},T="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";r.bytesToString=(e,t)=>{if("string"!=typeof e||!S.hasOwnProperty(e))throw new TypeError(T);if(!i(t))throw new TypeError("bytesToString() expects Uint8Array");return S[e].encode(t)},r.str=r.bytesToString;r.stringToBytes=(e,t)=>{if(!S.hasOwnProperty(e))throw new TypeError(T);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return S[e].decode(t)},r.bytes=r.stringToBytes}}},{package:"@metamask/eth-sig-util>@scure/base",file:"node_modules/@metamask/eth-sig-util/node_modules/@scure/base/lib/index.js"}],[2265,{"./utils.js":2267,"@noble/hashes/sha3":2262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils.js");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/eth-sig-util/node_modules/ethereum-cryptography/keccak.js"}],[2266,{"@noble/curves/secp256k1":2255},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=void 0;var n=e("@noble/curves/secp256k1");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return n.secp256k1}})}}},{package:"@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/eth-sig-util/node_modules/ethereum-cryptography/secp256k1.js"}],[2267,{"@noble/hashes/_assert":2256,"@noble/hashes/utils":2263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))};const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/eth-sig-util/node_modules/ethereum-cryptography/utils.js"}],[2268,{"./simple-keyring.cjs":2269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("./simple-keyring.cjs");Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/index.cjs"}],[2269,{"@ethereumjs/util":717,"@metamask/eth-sig-util":2228,"@metamask/utils":3554,buffer:4474,"ethereum-cryptography/keccak":2275,randombytes:5566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const l=e("@ethereumjs/util"),d=e("@metamask/eth-sig-util"),f=e("@metamask/utils"),h=e("ethereum-cryptography/keccak"),p=u(e("randombytes")),m="Simple Key Pair";class g{constructor(e=[]){n.add(this),i.set(this,void 0),this.type=m,a(this,i,[],"f"),this.deserialize(e).catch(e=>{throw new Error(`Problem deserializing SimpleKeyring ${e.message}`)})}async serialize(){return c(this,i,"f").map(e=>e.privateKey.toString("hex"))}async deserialize(e){a(this,i,e.map(e=>{const r=(0,l.stripHexPrefix)(e),n=t.from(r,"hex");return{privateKey:n,publicKey:t.from((0,l.privateToPublic)(n))}}),"f")}async addAccounts(e=1){const r=[];for(let n=0;n<e;n++){const e=y(),n=t.from((0,l.privateToPublic)(e));r.push({privateKey:e,publicKey:n})}a(this,i,c(this,i,"f").concat(r),"f");return r.map(({publicKey:e})=>(0,f.add0x)((0,f.bytesToHex)((0,l.publicToAddress)(e))))}async getAccounts(){return c(this,i,"f").map(({publicKey:e})=>(0,f.add0x)((0,f.bytesToHex)((0,l.publicToAddress)(e))))}async signTransaction(e,t,r={}){const i=c(this,n,"m",s).call(this,e,r);return t.sign(i)??t}async signEip7702Authorization(e,t,r={}){const i=c(this,n,"m",s).call(this,e,r);return(0,d.signEIP7702Authorization)({privateKey:i,authorization:t})}async signMessage(e,r,i={withAppKeyOrigin:"",validateMessage:!0}){const o=(0,l.stripHexPrefix)(r);if(i.validateMessage&&(0===o.length||!o.match(/^[a-fA-F0-9]*$/u)))throw new Error("Cannot sign invalid message");const a=c(this,n,"m",s).call(this,e,i),u=(0,l.ecsign)(t.from(o,"hex"),a);return(0,d.concatSig)(t.from((0,f.bigIntToBytes)(u.v)),t.from(u.r),t.from(u.s))}async signPersonalMessage(e,t,r={withAppKeyOrigin:""}){const i=c(this,n,"m",s).call(this,e,r);return(0,d.personalSign)({privateKey:i,data:t})}async decryptMessage(e,t){const r=c(this,n,"m",o).call(this,e).privateKey.toString("hex");return(0,d.decrypt)({privateKey:r,encryptedData:t})}async signTypedData(e,t,r){let{version:i}=r??{version:d.SignTypedDataVersion.V1};i&&function(e){return e in d.SignTypedDataVersion}(i)||(i=d.SignTypedDataVersion.V1);const o=c(this,n,"m",s).call(this,e,r);return(0,d.signTypedData)({privateKey:o,data:t,version:i})}async getEncryptionPublicKey(e,t){const r=c(this,n,"m",s).call(this,e,t);return(0,d.getEncryptionPublicKey)(r.toString("hex"))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=c(this,n,"m",o).call(this,e,{withAppKeyOrigin:t});return(0,f.add0x)((0,f.bytesToHex)((0,l.publicToAddress)(r.publicKey)))}async exportAccount(e,t={withAppKeyOrigin:""}){return c(this,n,"m",o).call(this,e,t).privateKey.toString("hex")}removeAccount(e){if(!c(this,i,"f").map(({publicKey:e})=>(0,f.bytesToHex)((0,l.publicToAddress)(e)).toLowerCase()).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);a(this,i,c(this,i,"f").filter(({publicKey:t})=>(0,f.bytesToHex)((0,l.publicToAddress)(t)).toLowerCase()!==e.toLowerCase()),"f")}}function y(){const e=(0,p.default)(32);if(!(0,l.isValidPrivate)(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");return e}i=new WeakMap,n=new WeakSet,s=function(e,t={withAppKeyOrigin:""}){if(!e)throw new Error("Must specify address.");return c(this,n,"m",o).call(this,e,t).privateKey},o=function(e,r={}){const n=(0,d.normalize)(e);let s=c(this,i,"f").find(({publicKey:e})=>(0,f.bytesToHex)((0,l.publicToAddress)(e))===n);if(!s)throw new Error("Simple Keyring - Unable to find matching address.");if(r.withAppKeyOrigin){const{privateKey:e}=s,n=t.from(r.withAppKeyOrigin,"utf8"),i=t.concat([e,n]),o=(0,h.keccak256)(i),a=(0,l.privateToPublic)(o);s={privateKey:t.from(o),publicKey:t.from(a)}}return s},g.type=m,r.default=g}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/simple-keyring.cjs"}],[2270,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=i,r.isBytes=s,r.bytes=o,r.hash=a,r.exists=c,r.output=u;const l={number:n,bool:i,bytes:o,hash:a,exists:c,output:u};r.default=l}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/_assert.js"}],[2271,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const c=(e,t,r)=>e>>>r;r.shrSH=c;const u=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=u;const l=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=l;const d=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=d;const f=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=f;const h=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=h;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const g=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=g;const y=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=y;const b=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=b;const w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=w,r.add=v;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=k;const E=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=E;const _=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=_;const j=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=j;const S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=S;const T=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;r.add5H=T;const P={fromBig:s,split:o,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:y,rotlBH:b,rotlBL:w,add:v,add3L:k,add3H:E,add4L:_,add4H:j,add5H:T,add5L:S};r.default=P}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/_u64.js"}],[2272,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/crypto.js"}],[2273,{"./_assert.js":2270,"./_u64.js":2271,"./utils.js":2274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),o=[],a=[],c=[],u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>f)*p)%h,t&d&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[m,g]=(0,i.split)(c,!0),y=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=y(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=y(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){s.isLE||(0,s.byteSwap32)(this.state32),w(this.state32,this.rounds),s.isLE||(0,s.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const k=(e,t,r)=>(0,s.wrapConstructor)(()=>new v(t,e,r));r.sha3_224=k(6,144,28),r.sha3_256=k(6,136,32),r.sha3_384=k(6,104,48),r.sha3_512=k(6,72,64),r.keccak_224=k(1,144,28),r.keccak_256=k(1,136,32),r.keccak_384=k(1,104,48),r.keccak_512=k(1,72,64);const E=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,n.dkLen===undefined?r:n.dkLen,!0));r.shake128=E(31,168,16),r.shake256=E(31,136,32)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/sha3.js"}],[2274,{"./_assert.js":2270,"@noble/hashes/crypto":2272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),i=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));r.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o=48,a=57,c=65,u=70,l=97,d=102;function f(e){return e>=o&&e<=a?e-o:e>=c&&e<=u?e-(c-10):e>=l&&e<=d?e-(l-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=f(e.charCodeAt(i)),s=f(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function h(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=h(e)),(0,i.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=h,r.toBytes=p,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const m={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==m.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/utils.js"}],[2275,{"./utils.js":2276,"@noble/hashes/sha3":2273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils.js");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/keccak.js"}],[2276,{"@noble/hashes/_assert":2270,"@noble/hashes/utils":2274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))};const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/utils.js"}],[2277,{"./util.cjs":2290},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaseInsensitiveMap=void 0;const n=e("./util.cjs");class i extends Map{static fromObject(e){return new i(Object.entries(e))}toObject(){return Object.fromEntries(this.entries())}get(e){return super.get(e.toLowerCase())}getOrThrow(e,t="Key"){return this.get(e)??(0,n.throwError)(`${t} '${e}' not found`)}has(e){return super.has(e.toLowerCase())}set(e,t){return super.set(e.toLowerCase(),t)}delete(e){return super.delete(e.toLowerCase())}}r.CaseInsensitiveMap=i}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/CaseInsensitiveMap.cjs"}],[2278,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DeferredPromise=void 0;r.DeferredPromise=class{constructor(){if(this.resolve=undefined,this.reject=undefined,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),!this.resolve||!this.reject)throw new Error("Promise constructor failed")}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/DeferredPromise.cjs"}],[2279,{"./CaseInsensitiveMap.cjs":2277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapIdMap=r.InvalidSnapIdError=void 0;const o=e("./CaseInsensitiveMap.cjs");class a extends Error{constructor(e,t){super(`Snap "${e}" is not allowed to set "${t}"`),this.name="InvalidSnapIdError",this.snapId=e,this.key=t}}r.InvalidSnapIdError=a;class c{constructor(e){n.set(this,void 0),i(this,n,new o.CaseInsensitiveMap(e),"f")}toObject(){return s(this,n,"f").toObject()}static fromObject(e){return new c(Object.entries(e))}get(e,t){const r=s(this,n,"f").get(t);return r?.snapId===e?r:undefined}getSnapId(e){return s(this,n,"f").get(e)?.snapId}pop(e,t){const r=this.get(e,t);return this.delete(e,t),r}has(e,t){return this.get(e,t)!==undefined}hasSnapId(e){return[...s(this,n,"f").values()].some(t=>t.snapId===e)}delete(e,t){return this.has(e,t)&&s(this,n,"f").delete(t)}set(e,t){if(s(this,n,"f").has(e)&&!this.has(t.snapId,e))throw new a(t.snapId,e);return s(this,n,"f").set(e,t),this}values(){return s(this,n,"f").values()}get size(){return s(this,n,"f").size}}r.SnapIdMap=c,n=new WeakMap}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapIdMap.cjs"}],[2280,{"./DeferredPromise.cjs":2278,"./SnapIdMap.cjs":2279,"./SnapKeyringMessenger.cjs":2281,"./account.cjs":2282,"./events.cjs":2283,"./logger.cjs":2285,"./migrations/index.cjs":2286,"./options.cjs":2288,"./types.cjs":2289,"./util.cjs":2290,"./versions.cjs":2291,"@ethereumjs/tx":696,"@metamask/eth-sig-util":2228,"@metamask/keyring-api":2510,"@metamask/keyring-internal-api":2540,"@metamask/keyring-internal-snap-client":2544,"@metamask/keyring-snap-sdk":2565,"@metamask/keyring-utils":2573,"@metamask/superstruct":3415,"@metamask/utils":3554,uuid:2292},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,f,h,p,m,g,y,b,w,v,k,E,_,j,S,T,P,B,x,A,I,O,C,M,R,L,N,D,H,U,K,F=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},q=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapKeyring=r.SNAP_KEYRING_TYPE=void 0;const $=e("@ethereumjs/tx"),V=e("@metamask/eth-sig-util"),z=e("@metamask/keyring-api"),G=e("@metamask/keyring-internal-api"),W=e("@metamask/keyring-internal-snap-client"),J=e("@metamask/keyring-snap-sdk"),X=e("@metamask/keyring-utils"),Y=e("@metamask/superstruct"),Z=e("@metamask/utils"),Q=e("uuid"),ee=e("./account.cjs"),te=e("./DeferredPromise.cjs"),re=e("./events.cjs"),ne=e("./logger.cjs"),ie=e("./migrations/index.cjs"),se=e("./options.cjs"),oe=e("./SnapIdMap.cjs"),ae=e("./SnapKeyringMessenger.cjs"),ce=e("./types.cjs"),ue=e("./util.cjs"),le=e("./versions.cjs");function de(e){return(0,z.isEvmAccountType)(e.type)?e.address.toLowerCase():e.address}r.SNAP_KEYRING_TYPE="Snap Keyring";class fe{constructor({messenger:e,callbacks:t,isAnyAccountTypeAllowed:r=!1}){n.add(this),this.name=ae.SNAP_KEYRING_NAME,this.state=null,i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),this.type=fe.type,F(this,i,e,"f"),F(this,s,new W.KeyringInternalSnapClient({messenger:e}),"f"),F(this,c,new oe.SnapIdMap,"f"),F(this,o,new oe.SnapIdMap,"f"),F(this,u,new oe.SnapIdMap,"f"),F(this,l,t,"f"),F(this,d,r,"f"),F(this,a,new Map,"f")}async handleKeyringSnapMessage(e,t){switch((0,Y.assert)(t,ce.SnapMessageStruct),t.method){case`${z.KeyringEvent.AccountCreated}`:return q(this,n,"m",p).call(this,e,t);case`${z.KeyringEvent.AccountUpdated}`:return q(this,n,"m",m).call(this,e,t);case`${z.KeyringEvent.AccountDeleted}`:return q(this,n,"m",g).call(this,e,t);case`${z.KeyringEvent.RequestApproved}`:return q(this,n,"m",b).call(this,e,t);case`${z.KeyringEvent.RequestRejected}`:return q(this,n,"m",w).call(this,e,t);case`${z.KeyringEvent.AccountBalancesUpdated}`:return q(this,n,"m",k).call(this,e,t);case`${z.KeyringEvent.AccountAssetListUpdated}`:return q(this,n,"m",E).call(this,e,t);case`${z.KeyringEvent.AccountTransactionsUpdated}`:return q(this,n,"m",_).call(this,e,t);case`${J.SnapManageAccountsMethod.GetSelectedAccounts}`:return q(this,n,"m",y).call(this,e,t);default:throw new Error(`Method not supported: ${t.method}`)}}async serialize(){return{accounts:q(this,o,"f").toObject()}}async deserialize(e){if(e===undefined)return;const t={};for(const[r,n]of Object.entries(e.accounts))(0,ie.isAccountV1)(n.account)?(console.info(`SnapKeyring - Found a KeyringAccountV1, migrating to V2: ${n.account.id}`),t[r]={...n,account:(0,ie.migrateAccountV1)(n.account)}):t[r]=n;F(this,o,oe.SnapIdMap.fromObject(t),"f")}async getAccounts(){return(0,ue.unique)([...q(this,o,"f").values()].map(({account:e})=>de(e)))}async getAccountsBySnapId(e){return(0,ue.unique)([...q(this,o,"f").values()].filter(({snapId:t})=>t===e).map(({account:e})=>de(e)))}async createAccount(e,t,r){const n=new W.KeyringInternalSnapClient({messenger:q(this,i,"f"),snapId:e}),s="metamask";if((0,Z.hasProperty)(t,s))throw new Error(`The '${s}' property is reserved for internal use`);if(!r)return await n.createAccount(t);const o=(0,Q.v4)();return q(this,u,"f").set(o,{snapId:e,options:r}),await n.createAccount({...t,metamask:{correlationId:o}})}hasSnapId(e){return q(this,o,"f").hasSnapId(e)}async resolveAccountAddress(e,t,r){if(!this.hasSnapId(e))throw new Error(`Unable to resolve account address: unknown Snap ID: ${e}`);return await q(this,s,"f").withSnapId(e).resolveAccountAddress(t,r)}async submitRequest({origin:e,account:t,method:r,params:i,scope:s}){const{account:o,snapId:a}=q(this,n,"m",j).call(this,t);return await q(this,n,"m",P).call(this,{origin:e,snapId:a,account:o,method:r,params:i,scope:s,noPending:!0})}async signTransaction(e,t,r={}){const i=t.common.chainId(),s=(0,ue.toJson)({...t.toJSON(),from:e,type:`0x${t.type.toString(16)}`,chainId:(0,Z.bigIntToHex)(i)}),o=await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:z.EthMethod.SignTransaction,params:[s],scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,`${i}`)}),a=(0,Y.mask)(o,(0,Y.object)({r:(0,Y.string)(),s:(0,Y.string)(),v:(0,Y.string)()}));return $.TransactionFactory.fromTxData({...s,r:a.r,s:a.s,v:a.v})}async signTypedData(e,t,r={version:V.SignTypedDataVersion.V1}){const i={[V.SignTypedDataVersion.V1]:z.EthMethod.SignTypedDataV1,[V.SignTypedDataVersion.V3]:z.EthMethod.SignTypedDataV3,[V.SignTypedDataVersion.V4]:z.EthMethod.SignTypedDataV4}[r.version]||z.EthMethod.SignTypedDataV1,s=t.domain?.chainId;return(0,X.strictMask)(await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:i,params:(0,ue.toJson)([e,t]),...s===undefined?{}:{scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,`${s}`)}}),z.EthBytesStruct)}async signMessage(e,t){return(0,X.strictMask)(await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:z.EthMethod.Sign,params:(0,ue.toJson)([e,t])}),z.EthBytesStruct)}async signPersonalMessage(e,t){return(0,X.strictMask)(await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:z.EthMethod.PersonalSign,params:(0,ue.toJson)([t,e])}),z.EthBytesStruct)}async prepareUserOperation(e,t,r){return(0,X.strictMask)(await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:z.EthMethod.PrepareUserOperation,params:(0,ue.toJson)(t),noPending:!0,scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,r.chainId)}),z.EthBaseUserOperationStruct)}async patchUserOperation(e,t,r){return(0,X.strictMask)(await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:z.EthMethod.PatchUserOperation,params:(0,ue.toJson)([t]),noPending:!0,scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,r.chainId)}),z.EthUserOperationPatchStruct)}async signUserOperation(e,t,r){return(0,X.strictMask)(await q(this,n,"m",S).call(this,{origin:"metamask",address:e,method:z.EthMethod.SignUserOperation,params:(0,ue.toJson)([t]),scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,r.chainId)}),z.EthBytesStruct)}exportAccount(e){throw new Error("Exporting accounts from snaps is not supported.")}async removeAccount(e){const{account:t,snapId:r}=q(this,n,"m",L).call(this,e);await q(this,n,"m",R).call(this,r,t)}async setSelectedAccounts(e){q(this,n,"m",N).call(this,e);const t=[...q(this,a,"f").entries()];await Promise.all(t.map(async([e,t])=>{try{await q(this,s,"f").withSnapId(e).setSelectedAccounts(t)}catch(t){console.error(`Failed to set selected accounts for ${e} snap: '${t.message}'`)}}))}getAccountByAddress(e){const t=[...q(this,o,"f").values()].find(({account:{address:t}})=>(0,ue.equalsIgnoreCase)(t,e));return t?q(this,n,"m",K).call(this,t.account,t.snapId):undefined}listAccounts(){return[...q(this,o,"f").values()].map(({account:e,snapId:t})=>q(this,n,"m",K).call(this,e,t))}}r.SnapKeyring=fe,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,n=new WeakSet,f=function(e){return(0,le.getKeyringVersionFromPlatform)(t=>q(this,i,"f").call("SnapController:isMinimumPlatformVersion",e,t))},h=function(e,t){if(t){const r=q(this,u,"f").pop(e,t);if(r)return r.options;console.warn(`SnapKeyring - Received unmapped correlation ID: "${t}"`)}return undefined},p=async function(e,t){(0,Y.assert)(t,re.AccountCreatedEventStruct);const{metamask:r,account:i,accountNameSuggestion:s,displayAccountNameSuggestion:a,displayConfirmation:c}=t.params,u=(0,ee.transformAccount)(i),f=de(u);if(!q(this,d,"f")&&u.type===z.AnyAccountType.Account)throw new Error(`Cannot create generic account '${u.id}'`);const p=q(this,o,"f").get(e,u.id);if(p&&de(p.account)===f)return null;if(await q(this,l,"f").addressExists(f))throw new Error(`Account address '${f}' already exists`);if(q(this,o,"f").has(e,u.id))throw new Error(`Account '${u.id}' already exists`);const m=new te.DeferredPromise;return await q(this,l,"f").addAccount(f,e,async t=>{t&&(q(this,o,"f").set(u.id,{account:u,snapId:e}),q(this,l,"f").saveState().then(()=>{m.resolve(u.id)}).catch(async t=>{await q(this,n,"m",R).call(this,e,u),m.reject(t)}))},m.promise,s,(0,se.getInternalOptionsOf)([q(this,n,"m",h).call(this,e,r?.correlationId)??{},{displayConfirmation:c,displayAccountNameSuggestion:a}])),null},m=async function(e,t){(0,Y.assert)(t,re.AccountUpdatedEventStruct);const{account:r}=t.params,{account:n}=q(this,o,"f").get(e,r.id)??(0,ue.throwError)(`Account '${r.id}' not found`),i=(0,ee.transformAccount)(r),s=i.type===z.AnyAccountType.Account||n.type===z.AnyAccountType.Account;if(!q(this,d,"f")&&s)throw new Error(`Cannot update generic account '${i.id}'`);if(!(0,ue.equalsIgnoreCase)(n.address,i.address))throw new Error(`Cannot change address of account '${i.id}'`);return q(this,o,"f").set(i.id,{account:i,snapId:e}),await q(this,l,"f").saveState(),null},g=async function(e,t){(0,Y.assert)(t,re.AccountDeletedEventStruct);const{id:r}=t.params,n=q(this,o,"f").get(e,r);if(n===undefined)return null;const{account:i}=n;return await q(this,l,"f").removeAccount(de(i),e,async e=>{e&&await q(this,l,"f").saveState()}),null},y=async function(e,t){return(0,Y.assert)(t,J.GetSelectedAccountsRequestStruct),q(this,a,"f").get(e)??[]},b=async function(e,t){(0,Y.assert)(t,re.RequestApprovedEventStruct);const{id:r,result:n}=t.params,{promise:i}=q(this,c,"f").get(e,r)??(0,ue.throwError)(`Request '${r}' not found`);return q(this,c,"f").delete(e,r),i.resolve(n),null},w=async function(e,t){(0,Y.assert)(t,re.RequestRejectedEventStruct);const{id:r}=t.params,{promise:n}=q(this,c,"f").get(e,r)??(0,ue.throwError)(`Request '${r}' not found`);return q(this,c,"f").delete(e,r),n.reject(new Error("Request rejected by user or snap.")),null},v=async function(e,t,r){return q(this,i,"f").publish(t,...r(r=>Object.entries(r).reduce((r,[n,i])=>(q(this,o,"f").has(e,n)?r[n]=i:console.warn(`SnapKeyring - ${t} - Found an unknown account ID "${n}" for Snap ID "${e}". Skipping.`),r),{}))),null},k=async function(e,t){(0,Y.assert)(t,z.AccountBalancesUpdatedEventStruct);const r=t.params;return q(this,n,"m",v).call(this,e,"SnapKeyring:accountBalancesUpdated",e=>(r.balances=e(r.balances),[r]))},E=async function(e,t){(0,Y.assert)(t,z.AccountAssetListUpdatedEventStruct);const r=t.params;return q(this,n,"m",v).call(this,e,"SnapKeyring:accountAssetListUpdated",e=>(r.assets=e(r.assets),[r]))},_=async function(e,t){(0,Y.assert)(t,z.AccountTransactionsUpdatedEventStruct);const r=t.params;return q(this,n,"m",v).call(this,e,"SnapKeyring:accountTransactionsUpdated",e=>(r.transactions=e(r.transactions),[r]))},j=function(e){const t=[...q(this,o,"f").values()].find(t=>t.account.id===e);if(!t)throw new Error(`Unable to get account: unknown account ID: '${e}'`);return t},S=async function({origin:e,address:t,method:r,params:i,scope:s="",noPending:o=!1}){const{account:a,snapId:c}=q(this,n,"m",L).call(this,t);return await q(this,n,"m",P).call(this,{origin:e,snapId:c,account:a,method:r,params:i,scope:s,noPending:o})},T=async function({snapId:e,version:t,request:r}){const n=q(this,s,"f").withSnapId(e);return t===G.KeyringVersion.V1?await n.submitRequestV1((0,G.toKeyringRequestV1)(r)):await n.submitRequest(r)},P=async function({origin:e,snapId:t,account:r,method:i,params:s,scope:o,noPending:a}){if(!q(this,n,"m",B).call(this,r,i))throw new Error(`Method '${i}' not supported for account ${r.address}`);if(!e?.trim())throw new Error("An `origin` is required");const c=(0,Q.v4)(),u=q(this,n,"m",x).call(this,c,t);try{const l=q(this,n,"m",f).call(this,t),d={id:c,origin:e,scope:o,account:r.id,request:{method:i,...s!==undefined&&{params:s}}};(0,ne.projectLogger)("Submit Snap request: ",d);const h=await q(this,n,"m",T).call(this,{version:l,snapId:t,request:d});if(a&&h.pending)throw new Error(`Request '${c}' to Snap '${t}' is pending and noPending is true.`);return h.pending?((h.redirect?.message||h.redirect?.url)&&await q(this,n,"m",O).call(this,h.redirect,t),u.promise):q(this,n,"m",I).call(this,h,c,t)}catch(e){throw(0,ne.projectLogger)("Snap Request failed: ",{requestId:c}),q(this,n,"m",A).call(this,c,t),e}},B=function(e,t){return e.methods.includes(t)},x=function(e,t){const r=new te.DeferredPromise;return q(this,c,"f").set(e,{promise:r,snapId:t}),r},A=function(e,t){q(this,c,"f").delete(t,e)},I=function(e,t,r){return q(this,c,"f").delete(r,t),e.result},O=async function(e,t){const{message:r="",url:i=""}=e,s=q(this,n,"m",C).call(this,i);s&&q(this,n,"m",M).call(this,s,t),await q(this,l,"f").redirectUser(t,s,r)},C=function(e){return e?(0,ue.sanitizeUrl)(e):e},M=function(e,t){const{origin:r}=new URL(e),i=q(this,n,"m",D).call(this,t);if(!i)throw new Error(`Snap '${t}' not found.`);if(!q(this,n,"m",U).call(this,i).includes(r))throw new Error(`Redirect URL domain '${r}' is not an allowed origin by snap '${t}'`)},R=async function(e,t){q(this,o,"f").delete(e,t.id);try{await q(this,s,"f").withSnapId(e).deleteAccount(t.id)}catch(r){console.error(`Account '${t.address}' may not have been removed from snap '${e}':`,r)}},L=function(e){return[...q(this,o,"f").values()].find(({account:t})=>(0,ue.equalsIgnoreCase)(t.address,e))??(0,ue.throwError)(`Account '${e}' not found`)},N=function(e){const t=q(this,a,"f");t.clear();for(const r of e){const e=q(this,o,"f").getSnapId(r);if(!e)continue;const n=t.get(e)??[];n.push(r),t.set(e,n)}},D=function(e){return q(this,i,"f").call("SnapController:get",e)},H=function(e){const t=q(this,n,"m",D).call(this,e);return t?{id:e,name:t.manifest.proposedName,enabled:t.enabled}:undefined},U=function(e){return e.manifest.initialPermissions["endowment:keyring"]?.allowedOrigins??[]},K=function(e,t){const r=q(this,n,"m",H).call(this,t);return{...e,address:de(e),metadata:{name:"",importTime:0,keyring:{type:this.type},...r!==undefined&&{snap:r}}}},fe.type=r.SNAP_KEYRING_TYPE}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyring.cjs"}],[2281,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SNAP_KEYRING_NAME=void 0,r.SNAP_KEYRING_NAME="SnapKeyring"}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyringMessenger.cjs"}],[2282,{"./migrations/index.cjs":2286,"@metamask/keyring-api":2510,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountV1Struct=void 0,r.assertKeyringAccount=o,r.transformAccount=function(e){return o((0,s.isAccountV1)(e)?(0,s.transformAccountV1)(e):e)};const n=e("@metamask/keyring-api"),i=e("@metamask/superstruct"),s=e("./migrations/index.cjs");function o(e){switch(e.type){case n.BtcAccountType.P2pkh:return(0,i.assert)(e,n.BtcP2pkhAccountStruct),e;case n.BtcAccountType.P2sh:return(0,i.assert)(e,n.BtcP2shAccountStruct),e;case n.BtcAccountType.P2wpkh:return(0,i.assert)(e,n.BtcP2wpkhAccountStruct),e;case n.BtcAccountType.P2tr:return(0,i.assert)(e,n.BtcP2trAccountStruct),e;case n.SolAccountType.DataAccount:return(0,i.assert)(e,n.SolDataAccountStruct),e;case n.EthAccountType.Erc4337:return(0,i.assert)(e,n.EthErc4337AccountStruct),e;case n.EthAccountType.Eoa:return(0,i.assert)(e,n.EthEoaAccountStruct),e;case n.TrxAccountType.Eoa:return(0,i.assert)(e,n.TrxEoaAccountStruct),e;case n.AnyAccountType.Account:return(0,i.assert)(e,n.KeyringAccountStruct),e;default:throw new Error(`Unknown account type: '${e.type}'`)}}r.KeyringAccountV1Struct=(0,i.omit)(n.KeyringAccountStruct,["scopes"])}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/account.cjs"}],[2283,{"./account.cjs":2282,"@metamask/keyring-api":2510,"@metamask/keyring-utils":2573,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RequestRejectedEventStruct=r.RequestApprovedEventStruct=r.AccountDeletedEventStruct=r.AccountUpdatedEventStruct=r.AccountCreatedEventStruct=void 0;const n=e("@metamask/keyring-api");Object.defineProperty(r,"AccountDeletedEventStruct",{enumerable:!0,get:function(){return n.AccountDeletedEventStruct}}),Object.defineProperty(r,"RequestApprovedEventStruct",{enumerable:!0,get:function(){return n.RequestApprovedEventStruct}}),Object.defineProperty(r,"RequestRejectedEventStruct",{enumerable:!0,get:function(){return n.RequestRejectedEventStruct}});const i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),o=e("./account.cjs");r.AccountCreatedEventStruct=(0,i.object)({...n.AccountCreatedEventStruct.schema,params:(0,i.object)({...n.AccountCreatedEventStruct.schema.params.schema,account:(0,s.union)([o.KeyringAccountV1Struct,n.KeyringAccountStruct])})}),r.AccountUpdatedEventStruct=(0,i.object)({...n.AccountUpdatedEventStruct.schema,params:(0,i.object)({...n.AccountUpdatedEventStruct.schema.params.schema,account:(0,s.union)([o.KeyringAccountV1Struct,n.KeyringAccountStruct])})})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/events.cjs"}],[2284,{"./SnapKeyring.cjs":2280,"./options.cjs":2288,"./types.cjs":2289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./options.cjs"),r),i(e("./types.cjs"),r),i(e("./SnapKeyring.cjs"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/index.cjs"}],[2285,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-snap-keyring")}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/logger.cjs"}],[2286,{"./v1.cjs":2287},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./v1.cjs"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/index.cjs"}],[2287,{"../account.cjs":2282,"@metamask/keyring-api":2510,"@metamask/keyring-utils":2573,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isAccountV1=a,r.getScopesForAccountV1=c,r.transformAccountV1=function(e){const{type:t}=e;if(t===n.EthAccountType.Eoa)return{...e,scopes:c(e)};return(0,o.assertKeyringAccount)(e)},r.migrateAccountV1=function(e){if(!a(e))return e;return{...e,scopes:c(e)}};const n=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),o=e("../account.cjs");function a(e){return(0,s.is)(e,o.KeyringAccountV1Struct)}function c(e){switch(e.type){case n.EthAccountType.Eoa:return[n.EthScope.Eoa];case n.EthAccountType.Erc4337:return[n.EthScope.Testnet];case n.BtcAccountType.P2pkh:case n.BtcAccountType.P2sh:case n.BtcAccountType.P2wpkh:case n.BtcAccountType.P2tr:return[(0,i.isBtcMainnetAddress)(e.address)?n.BtcScope.Mainnet:n.BtcScope.Testnet];case n.SolAccountType.DataAccount:return[n.SolScope.Mainnet,n.SolScope.Testnet,n.SolScope.Devnet];case n.TrxAccountType.Eoa:return[n.TrxScope.Mainnet,n.TrxScope.Nile,n.TrxScope.Shasta];default:return[n.EthScope.Eoa]}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/v1.cjs"}],[2288,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(){return{displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0}}Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultInternalOptions=n,r.getInternalOptionsOf=function(e){const t={},r={displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0},n=Object.keys(r);for(const i of n){t[i]=undefined;for(const n of[...e,r])n[i]!==undefined&&t[i]===undefined&&(t[i]=n[i])}return t}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/options.cjs"}],[2289,{"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SnapMessageStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.SnapMessageStruct=(0,n.object)({method:(0,n.string)(),params:(0,n.optional)((0,n.union)([(0,n.array)(i.JsonStruct),(0,n.record)((0,n.string)(),i.JsonStruct)]))})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/types.cjs"}],[2290,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unique=function(e){return[...new Set(e)]},r.toJson=function(e){return JSON.parse(JSON.stringify(e))},r.ensureDefined=function(e){if(e===undefined)throw new Error("Argument is undefined")},r.throwError=function(e){throw new Error(e)},r.equalsIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},r.sanitizeUrl=function(e){return new URL(e).toString()}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/util.cjs"}],[2291,{"@metamask/keyring-internal-api":2540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PLATFORM_VERSION_TO_KEYRING_VERSION=void 0,r.getKeyringVersionFromPlatform=function(e){for(const[t,n]of r.PLATFORM_VERSION_TO_KEYRING_VERSION)if(e(t))return n;return n.KeyringVersion.V1};const n=e("@metamask/keyring-internal-api");r.PLATFORM_VERSION_TO_KEYRING_VERSION=[["7.0.0",n.KeyringVersion.V2]]}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/versions.cjs"}],[2292,{"./nil.js":2295,"./parse.js":2296,"./stringify.js":2300,"./v1.js":2301,"./v3.js":2302,"./v4.js":2304,"./v5.js":2305,"./validate.js":2306,"./version.js":2307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=f(e("./v1.js")),i=f(e("./v3.js")),s=f(e("./v4.js")),o=f(e("./v5.js")),a=f(e("./nil.js")),c=f(e("./version.js")),u=f(e("./validate.js")),l=f(e("./stringify.js")),d=f(e("./parse.js"));function f(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/index.js"}],[2293,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=r,f=s,h=l,p=d;r=o(r,s,l,d,e[t],7,-680876936),d=o(d,r,s,l,e[t+1],12,-389564586),l=o(l,d,r,s,e[t+2],17,606105819),s=o(s,l,d,r,e[t+3],22,-1044525330),r=o(r,s,l,d,e[t+4],7,-176418897),d=o(d,r,s,l,e[t+5],12,1200080426),l=o(l,d,r,s,e[t+6],17,-1473231341),s=o(s,l,d,r,e[t+7],22,-45705983),r=o(r,s,l,d,e[t+8],7,1770035416),d=o(d,r,s,l,e[t+9],12,-1958414417),l=o(l,d,r,s,e[t+10],17,-42063),s=o(s,l,d,r,e[t+11],22,-1990404162),r=o(r,s,l,d,e[t+12],7,1804603682),d=o(d,r,s,l,e[t+13],12,-40341101),l=o(l,d,r,s,e[t+14],17,-1502002290),s=o(s,l,d,r,e[t+15],22,1236535329),r=a(r,s,l,d,e[t+1],5,-165796510),d=a(d,r,s,l,e[t+6],9,-1069501632),l=a(l,d,r,s,e[t+11],14,643717713),s=a(s,l,d,r,e[t],20,-373897302),r=a(r,s,l,d,e[t+5],5,-701558691),d=a(d,r,s,l,e[t+10],9,38016083),l=a(l,d,r,s,e[t+15],14,-660478335),s=a(s,l,d,r,e[t+4],20,-405537848),r=a(r,s,l,d,e[t+9],5,568446438),d=a(d,r,s,l,e[t+14],9,-1019803690),l=a(l,d,r,s,e[t+3],14,-187363961),s=a(s,l,d,r,e[t+8],20,1163531501),r=a(r,s,l,d,e[t+13],5,-1444681467),d=a(d,r,s,l,e[t+2],9,-51403784),l=a(l,d,r,s,e[t+7],14,1735328473),s=a(s,l,d,r,e[t+12],20,-1926607734),r=c(r,s,l,d,e[t+5],4,-378558),d=c(d,r,s,l,e[t+8],11,-2022574463),l=c(l,d,r,s,e[t+11],16,1839030562),s=c(s,l,d,r,e[t+14],23,-35309556),r=c(r,s,l,d,e[t+1],4,-1530992060),d=c(d,r,s,l,e[t+4],11,1272893353),l=c(l,d,r,s,e[t+7],16,-155497632),s=c(s,l,d,r,e[t+10],23,-1094730640),r=c(r,s,l,d,e[t+13],4,681279174),d=c(d,r,s,l,e[t],11,-358537222),l=c(l,d,r,s,e[t+3],16,-722521979),s=c(s,l,d,r,e[t+6],23,76029189),r=c(r,s,l,d,e[t+9],4,-640364487),d=c(d,r,s,l,e[t+12],11,-421815835),l=c(l,d,r,s,e[t+15],16,530742520),s=c(s,l,d,r,e[t+2],23,-995338651),r=u(r,s,l,d,e[t],6,-198630844),d=u(d,r,s,l,e[t+7],10,1126891415),l=u(l,d,r,s,e[t+14],15,-1416354905),s=u(s,l,d,r,e[t+5],21,-57434055),r=u(r,s,l,d,e[t+12],6,1700485571),d=u(d,r,s,l,e[t+3],10,-1894986606),l=u(l,d,r,s,e[t+10],15,-1051523),s=u(s,l,d,r,e[t+1],21,-2054922799),r=u(r,s,l,d,e[t+8],6,1873313359),d=u(d,r,s,l,e[t+15],10,-30611744),l=u(l,d,r,s,e[t+6],15,-1560198380),s=u(s,l,d,r,e[t+13],21,1309151649),r=u(r,s,l,d,e[t+4],6,-145523070),d=u(d,r,s,l,e[t+11],10,-1120210379),l=u(l,d,r,s,e[t+2],15,718787259),s=u(s,l,d,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,f),l=i(l,h),d=i(d,p)}return[r,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/md5-browser.js"}],[2294,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/native-browser.js"}],[2295,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/nil.js"}],[2296,{"./validate.js":2306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/parse.js"}],[2297,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/regex.js"}],[2298,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/rng-browser.js"}],[2299,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],d=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+d+t[r]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/sha1-browser.js"}],[2300,{"./validate.js":2306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/stringify.js"}],[2301,{"./rng.js":2298,"./stringify.js":2300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var l=function(e,t,r){let n=t&&r||0;const l=t||new Array(16);let d=(e=e||{}).node||o,f=e.clockseq!==undefined?e.clockseq:a;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),p=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(p-u)/1e4;if(m<0&&e.clockseq===undefined&&(f=f+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=p,a=f,h+=122192928e5;const g=(1e4*(268435455&h)+p)%4294967296;l[n++]=g>>>24&255,l[n++]=g>>>16&255,l[n++]=g>>>8&255,l[n++]=255&g;const y=h/4294967296*1e4&268435455;l[n++]=y>>>8&255,l[n++]=255&y,l[n++]=y>>>24&15|16,l[n++]=y>>>16&255,l[n++]=f>>>8|128,l[n++]=255&f;for(let e=0;e<6;++e)l[n+e]=d[e];return t||(0,s.unsafeStringify)(l)};r.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v1.js"}],[2302,{"./md5.js":2293,"./v35.js":2303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v3.js"}],[2303,{"./parse.js":2296,"./stringify.js":2300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v35.js"}],[2304,{"./native.js":2294,"./rng.js":2298,"./stringify.js":2300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v4.js"}],[2305,{"./sha1.js":2299,"./v35.js":2303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v5.js"}],[2306,{"./regex.js":2297},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/validate.js"}],[2307,{"./validate.js":2306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/version.js"}],[2320,{"./helpers":2322,"./prefix-for-chain":2324,"./prefix-for-network":2325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountLink=r.createCustomAccountLink=r.createAccountLinkForChain=r.createAccountLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function c(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function u(e,t){return i.addPathToUrl(t,"address",e)}r.createAccountLink=a,r.createAccountLinkForChain=c,r.createCustomAccountLink=u,r.getAccountLink=function(e,t,r={},n=""){return r.blockExplorerUrl?u(e,r.blockExplorerUrl):n?a(e,n):c(e,t)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/account-link.js"}],[2321,{"./helpers":2322,"./prefix-for-chain":2324,"./prefix-for-network":2325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getBlockExplorerLink=r.createExplorerLinkForChain=r.createExplorerLink=r.createCustomExplorerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){return i.addPathToUrl(t,"tx",e)}function c(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}function u(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}r.createCustomExplorerLink=a,r.createExplorerLink=c,r.createExplorerLinkForChain=u,r.getBlockExplorerLink=function(e,t={}){return t.blockExplorerUrl?a(e.hash,t.blockExplorerUrl):e.chainId?u(e.hash,e.chainId):c(e.hash,e.metamaskNetworkId)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/explorer-link.js"}],[2322,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addPathToUrl=void 0,r.addPathToUrl=(e,t,r)=>{const{username:n,password:i,protocol:s,host:o,pathname:a,search:c,hash:u}=new URL(e),l=a.endsWith("/")?`${a}${t}/${r}`:`${a}/${t}/${r}`;return new URL(`${s}//${n?`${n}:${i}`:""}${o}${l}${c}${u}`).toString()}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/helpers.js"}],[2323,{"./account-link":2320,"./explorer-link":2321,"./token-tracker-link":2326},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("./account-link"),i=e("./explorer-link"),s=e("./token-tracker-link");t.exports={createExplorerLink:i.createExplorerLink,createCustomExplorerLink:i.createCustomExplorerLink,createExplorerLinkForChain:i.createExplorerLinkForChain,createAccountLink:n.createAccountLink,createCustomAccountLink:n.createCustomAccountLink,createAccountLinkForChain:n.createAccountLinkForChain,createTokenTrackerLink:s.createTokenTrackerLink,createCustomTokenTrackerLink:s.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:s.createTokenTrackerLinkForChain,getBlockExplorerLink:i.getBlockExplorerLink,getAccountLink:n.getAccountLink,getTokenTrackerLink:s.getTokenTrackerLink}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/index.js"}],[2324,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(e){case"0x1":t="";break;case"0x5":t="goerli.";break;case"0xaa36a7":t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js"}],[2325,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(parseInt(e)){case 1:t="";break;case 5:t="goerli.";break;case 11155111:t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"}],[2326,{"./helpers":2322,"./prefix-for-chain":2324,"./prefix-for-network":2325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenTrackerLink=r.createTokenTrackerLinkForChain=r.createCustomTokenTrackerLink=r.createTokenTrackerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t,r){const n=o.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}function c(e,t){return i.addPathToUrl(t,"token",e)}function u(e,t,r){const n=s.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}r.createTokenTrackerLink=a,r.createCustomTokenTrackerLink=c,r.createTokenTrackerLinkForChain=u,r.getTokenTrackerLink=function(e,t,r,n,i={}){return i.blockExplorerUrl?c(e,i.blockExplorerUrl):r?a(e,r,n):u(e,t,n)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/token-tracker-link.js"}],[2327,{"./has-tx-object":2328,"@babel/runtime/helpers/asyncToGenerator":629,"@babel/runtime/helpers/interopRequireDefault":637,"@babel/runtime/regenerator":655,"@metamask/ethjs-filter":2330,"@metamask/ethjs-util":2335,"ethjs-abi":4767,"js-sha3":5052,"promise-to-callback":5491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/regenerator")),s=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("ethjs-abi"),a=e("@metamask/ethjs-filter"),c=e("@metamask/ethjs-util").getKeys,u=e("js-sha3").keccak_256,l=e("promise-to-callback"),d=e("./has-tx-object");t.exports=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=this;function r(e){return function(){var t,r=[].slice.call(arguments);"function"==typeof r[r.length-1]&&(t=r.pop());var i=function(e){return n.apply(this,arguments)}({methodObject:e,methodArgs:r});return t?l(i)(t):i}}function n(){return(n=(0,s.default)(i.default.mark(function e(r){var n,s,a,c,u,l,f;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.methodObject,s=r.methodArgs,a="call",c={},d(s)&&(c=s.pop()),(u=Object.assign({},t.defaultTxObject,c,{to:t.address})).data=o.encodeMethod(n,s),!1===n.constant&&(a="sendTransaction"),e.next=9,t.query[a](u);case 9:if(l=e.sent,"call"!==a){e.next=20;break}return e.prev=11,f=o.decodeMethod(n,l),e.abrupt("return",f);case 16:throw e.prev=16,e.t0=e.catch(11),new Error("[ethjs-contract] while formatting incoming raw call data "+JSON.stringify(l)+" "+e.t0);case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}},e,null,[[11,16]])}))).apply(this,arguments)}t.abi=e.contractABI||[],t.query=e.query,t.address=e.address||"0x",t.bytecode=e.contractBytecode||"0x",t.defaultTxObject=e.contractDefaultTxObject||{},t.filters=new a(t.query),(f=t.abi,f.filter(function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0})).forEach(function(e){"function"===e.type?t[e.name]=r(e):"event"===e.type&&(t[e.name]=function(e){return function(){var r=[].slice.call(arguments),n=c(e.inputs,"type",!1),i=["0x"+u(e.name+"("+n.join(",")+")")],s=Object.assign({},r[0])||{},a=Object.assign({},r[0]||{},{to:t.address,topics:i}),l=Object.assign({},s,{decoder:function(t){return o.decodeEvent(e,t,i)},defaultFilterObject:a});return new t.filters.Filter(l)}}(e))});var f}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/contract.js"}],[2328,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===Object.keys(t).length)return!0;var r=Object.keys(t);if(n.some(function(e){return r.includes(e)}))return!0;return!1}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/has-tx-object.js"}],[2329,{"./contract":2327,"./has-tx-object":2328,"@metamask/ethjs-filter":2330,"@metamask/ethjs-util":2335,"ethjs-abi":4767,"js-sha3":5052},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("ethjs-abi"),i=(e("js-sha3").keccak_256,e("@metamask/ethjs-filter"),e("@metamask/ethjs-util").getKeys),s=e("./contract"),o=e("./has-tx-object");t.exports=function(e){return function(t,r,a){if(!Array.isArray(t))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof t);if(void 0!==r&&"string"!=typeof r)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof r);if(void 0!==a&&"object"!=typeof a)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof t);var c={at:function(n){return new s({address:n,query:e,contractBytecode:r,contractDefaultTxObject:a,contractABI:t})},new:function(){var s={},c=null,u=[].slice.call(arguments);"function"==typeof u[u.length-1]&&(c=u.pop()),o(u)&&(s=u.pop());var l=function(e){return e.filter(function(e){return"constructor"===e.type})[0]}(t),d=Object.assign({},a,s);if(r&&(d.data=r),l){var f=n.encodeParams(i(l.inputs,"type"),u).substring(2);d.data=""+d.data+f}return c?e.sendTransaction(d,c):e.sendTransaction(d)}};return c}}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/index.js"}],[2330,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){function r(e){var r=this;r.filterId=null,r.options=Object.assign({delay:300,decoder:function(e){return e},defaultFilterObject:{}},e||{}),r.watchers={},r.interval=setInterval(function(){null!==r.filterId&&Object.keys(r.watchers).length>0&&t.getFilterChanges(r.filterId,function(e,t){var n=[],i=null;if(!e)try{t.forEach(function(e,i){n[i]=t[i],"object"==typeof t[i]&&(n[i].data=r.options.decoder(n[i].data))})}catch(e){i=new Error("[ethjs-filter] while decoding filter change event data from RPC '"+JSON.stringify(n)+"': "+e)}Object.keys(r.watchers).forEach(function(s){var o=r.watchers[s];!0!==o.stop?i?o.callback(i,null):e?o.callback(e,null):Array.isArray(n)&&t.length>0&&o.callback(e,n):delete r.watchers[s]})})},r.options.delay)}return r.prototype.at=function(e){this.filterId=e},r.prototype.watch=function(e){var t=e||function(){},r=this,n=Math.random().toString(36).substring(7);return r.watchers[n]={callback:t,stop:!1,stopWatching:function(){r.watchers[n].stop=!0}},r.watchers[n]},r.prototype.uninstall=function(e){var r=this,n=e||null;r.watchers=Object.assign({}),clearInterval(r.interval);var i=new Promise(function(e,n){t.uninstallFilter(r.filterId,function(t,r){t?n(t):e(r)})});return n&&i.then(function(e){return n(null,e)}).catch(function(e){return n(e,null)}),n?null:i},r.prototype.new=function(){var r=null,n=this,i=[],s=[].slice.call(arguments);"function"==typeof s[s.length-1]&&(r=s.pop()),"Filter"===e&&i.push(Object.assign(n.options.defaultFilterObject,s[s.length-1]||{}));var o=new Promise(function(r,s){i.push(function(e,t){e?s(e):(n.filterId=t,r(t))}),t["new"+e].apply(t,i)});return r&&o.then(function(e){return r(null,e)}).catch(function(e){return r(e,null)}),r?null:o},r}t.exports=function e(t){var r=this;if(!(r instanceof e))throw new Error("the EthFilter object must be instantiated with `new` flag.. (e.g. `const filters = new EthFilter(query);`)");if("object"!=typeof t)throw new Error("the EthFilter object must be instantiated with an EthQuery instance (e.g. `const filters = new EthFilter(new EthQuery(provider));`). See github.com/ethjs/ethjs-query for more details..");r.Filter=n("Filter",t),r.BlockFilter=n("BlockFilter",t),r.PendingTransactionFilter=n("PendingTransactionFilter",t)}}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-filter",file:"node_modules/@metamask/ethjs-filter/lib/index.js"}],[2331,{"@metamask/ethjs-util":2335,"@metamask/number-to-bn":2817,"ethjs-schema":4769,"strip-hex-prefix":6067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/number-to-bn"),i=e("ethjs-schema"),s=e("@metamask/ethjs-util"),o=s.arrayContainsArray,a=s.getBinarySize,c=s.padToEven,u=e("strip-hex-prefix");function l(e,t,r){if(-1===["string","number","object"].indexOf(typeof e)||null===e)return e;var i=n(e),s=r&&i.toString(16).length%2?"0":"";if(n(e).isNeg())throw new Error("[ethjs-format] while formatting quantity '"+i.toString(10)+"', invalid negative number. Number must be positive or zero.");return t?"0x"+s+i.toString(16):i}function d(e,t){var r=e;return-1===i.tags.indexOf(e)&&(r=l(e,t)),r}function f(e,t){var r=e,n=0;if("string"==typeof e&&(r="0x"+c(u(e)),n=a(r)),"0x00"===r&&(r="0x0"),"number"==typeof t&&null!==e&&"0x"!==r&&"0x0"!==r&&(!/^[0-9A-Fa-f]+$/.test(u(r))||n!==2+2*t))throw new Error("[ethjs-format] hex string '"+r+"' must be an alphanumeric "+(2+2*t)+" utf8 byte hex (chars: a-fA-F) string, is "+n+" bytes");return r}function h(e,t,r){var n=Object.assign({},t),s=null;if("string"==typeof e&&(s="Boolean|EthSyncing"===e?Object.assign({},i.objects.EthSyncing):"DATA|Transaction"===e?Object.assign({},i.objects.Transaction):Object.assign({},i.objects[e])),!o(Object.keys(t),s.__required))throw new Error("[ethjs-format] object "+JSON.stringify(t)+" must contain properties: "+s.__required.join(", "));return Object.keys(s).forEach(function(e){"__required"!==e&&void 0!==t[e]&&(n[e]=m(s[e],t[e],r))}),n}function p(e,t,r,n){var i=t.slice(),s=e;if("Array|DATA"===e&&(s=["D"]),"FilterChange"===e&&"string"==typeof t[0]&&(s=["D32"]),!0===r&&"number"==typeof n&&t.length<n)throw new Error("array "+JSON.stringify(t)+" must contain at least "+n+" params, but only contains "+t.length+".");return s=s.slice(),t.forEach(function(e,t){var n=0;s.length>1&&(n=t),i[t]=m(s[n],e,r)}),i}function m(e,t,r,n){var i=t;return"Q"===e?i=l(t,r):"QP"===e?i=l(t,r,!0):"Q|T"===e?i=d(t,r):"D"===e?i=f(t):"D20"===e?i=f(t,20):"D32"===e?i=f(t,32):"object"==typeof t&&null!==t&&!1===Array.isArray(t)?i=h(e,t,r):Array.isArray(t)&&(i=p(e,t,r,n)),i}t.exports={schema:i,formatQuantity:l,formatQuantityOrTag:d,formatObject:h,formatArray:p,format:m,formatInputs:function(e,t){return m(i.methods[e][0],t,!0,i.methods[e][2])},formatOutputs:function(e,t){return m(i.methods[e][1],t,!1)}}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-format",file:"node_modules/@metamask/ethjs-format/lib/index.js"}],[2332,{"@metamask/ethjs-format":2331,"@metamask/ethjs-rpc":2333,"promise-to-callback":5491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/ethjs-format"),i=e("@metamask/ethjs-rpc"),s=e("promise-to-callback");function o(e,t){var r=this,n=t||{};if(!(this instanceof o))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof e)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new Eth(provider);')");r.options=Object.assign({debug:n.debug||!1,logger:n.logger||console,jsonSpace:n.jsonSpace||0}),r.rpc=new i(e),r.setProvider=r.rpc.setProvider}function a(e,t){return function(){var r=null,i=null,o=this,a=[].slice.call(arguments),c=e.replace("eth_","");a.length>0&&"function"==typeof a[a.length-1]&&(r=a.pop());var u=function(){var r=this;return new Promise(function(s,u){if(a.length<t[2])u(new Error("[ethjs-query] method '"+c+"' requires at least "+t[2]+" input (format type "+t[0][0]+"), "+a.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else if(a.length>t[0].length)u(new Error("[ethjs-query] method '"+c+"' requires at most "+t[0].length+" params, "+a.length+" provided '"+JSON.stringify(a,null,o.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else{t[3]&&a.length<t[3]&&a.push("latest"),r.log("attempting method formatting for '"+c+"' with inputs "+JSON.stringify(a,null,r.options.jsonSpace));try{i=n.formatInputs(e,a),r.log("method formatting success for '"+c+"' with formatted result: "+JSON.stringify(i,null,r.options.jsonSpace))}catch(e){return void u(new Error("[ethjs-query] while formatting inputs '"+JSON.stringify(a,null,r.options.jsonSpace)+"' for method '"+c+"' error: "+e))}r.rpc.sendAsync({method:e,params:i}).then(function(t){r.log("attempting method formatting for '"+c+"' with raw outputs: "+JSON.stringify(t,null,r.options.jsonSpace));var i=n.formatOutputs(e,t);r.log("method formatting success for '"+c+"' formatted result: "+JSON.stringify(i,null,r.options.jsonSpace)),s(i)}).catch(function(e){u(e)})}})}.call(this);return r?s(u)(r):u}}t.exports=o,o.prototype.log=function(e){this.options.debug&&this.options.logger.log("[ethjs-query log] "+e)},Object.keys(n.schema.methods).forEach(function(e){Object.defineProperty(o.prototype,e.replace("eth_",""),{enumerable:!0,value:a(e,n.schema.methods[e])})})}}},{package:"eth-method-registry>@metamask/ethjs-query",file:"node_modules/@metamask/ethjs-query/lib/index.js"}],[2333,{"promise-to-callback":5491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("promise-to-callback");function i(e,t){var r=this,n=t||{};if(!(this instanceof i))throw new Error('[ethjs-rpc] the EthRPC object requires the "new" flag in order to function normally (i.e. `const eth = new EthRPC(provider);`).');r.options=Object.assign({jsonSpace:n.jsonSpace||0,max:n.max||9999999999999}),r.idCounter=Math.floor(Math.random()*r.options.max),r.setProvider=function(e){if("object"!=typeof e)throw new Error("[ethjs-rpc] the EthRPC object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new EthRPC(provider);')");r.currentProvider=e},r.setProvider(e)}t.exports=i,i.prototype.sendAsync=function(e,t){var r=this;r.idCounter=r.idCounter%r.options.max;var i,s,o=(i=e,s=r.idCounter++,Object.assign({},{id:s,jsonrpc:"2.0",params:[]},i)),a=new Promise(function(e,t){r.currentProvider.sendAsync(o,function(n,i){var s=i||{};if(n||s.error){var a="[ethjs-rpc] "+(s.error?"rpc":"")+" error with payload "+JSON.stringify(o,null,r.options.jsonSpace)+" "+(n?String(n):JSON.stringify(s.error,null,r.options.jsonSpace)),c=new Error(a);return c.value=n||s.error,void t(c)}e(s.result)})});return t?n(a)(t):a}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-rpc",file:"node_modules/@metamask/ethjs-rpc/lib/index.js"}],[2334,{"@metamask/number-to-bn":2817,"bn.js":4413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("bn.js"),i=e("@metamask/number-to-bn"),s=new n(0),o=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(e){var t=e?e.toLowerCase():"ether",r=a[t];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function u(e){if("string"==typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"==typeof e)return String(e);if("object"==typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}t.exports={unitMap:a,numberToString:u,getValueOfUnit:c,fromWei:function(e,t,r){var n=i(e),u=n.lt(s),l=c(t),d=a[t].length-1||1,f=r||{};u&&(n=n.mul(o));for(var h=n.mod(l).toString(10);h.length<d;)h="0"+h;f.pad||(h=h.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var p=n.div(l).toString(10);f.commify&&(p=p.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=p+("0"==h?"":"."+h);return u&&(m="-"+m),m},toWei:function(e,t){var r=u(e),i=c(t),s=a[t].length-1||1,l="-"===r.substring(0,1);if(l&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var d=r.split(".");if(d.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var f=d[0],h=d[1];if(f||(f="0"),h||(h="0"),h.length>s)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;h.length<s;)h+="0";f=new n(f),h=new n(h);var p=f.mul(i).add(h);return l&&(p=p.mul(o)),new n(p.toString(10),10)}}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit",file:"node_modules/@metamask/ethjs-unit/lib/index.js"}],[2335,{buffer:4474,"is-hex-prefixed":5029,"strip-hex-prefix":6067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function s(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function o(e){return"0x"+e.toString(16)}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(e){var t=o(e);return r.from(s(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:s,intToHex:o,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+s(r.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return r.from(s(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi");n.push(s)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-util",file:"node_modules/@metamask/ethjs-util/lib/index.js"}],[2344,{"./constants.cjs":2345,"./decodePermission/index.cjs":2347,"./errors.cjs":2349,"./logger.cjs":2351,"./types.cjs":2352,"./utils.cjs":2353,"@metamask/base-controller":1520,"@metamask/delegation-deployments":2354,"@metamask/snaps-utils":2383,"@metamask/transaction-controller":3473},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,f,h,p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultGatorPermissionsControllerState=void 0;const m=e("@metamask/base-controller"),g=e("@metamask/delegation-deployments"),y=e("@metamask/snaps-utils"),b=e("@metamask/transaction-controller"),w=e("./constants.cjs"),v=e("./decodePermission/index.cjs"),k=e("./errors.cjs"),E=e("./logger.cjs"),_=e("./types.cjs"),j=e("./utils.cjs"),S="GatorPermissionsController",T=g.DELEGATOR_CONTRACTS[w.DELEGATION_FRAMEWORK_VERSION],P={isGatorPermissionsEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},gatorPermissionsMapSerialized:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},isFetchingGatorPermissions:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},gatorPermissionsProviderSnapId:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},pendingRevocations:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0}};function B(){return{isGatorPermissionsEnabled:!1,gatorPermissionsMapSerialized:(0,j.serializeGatorPermissionsMap)({"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}}),isFetchingGatorPermissions:!1,gatorPermissionsProviderSnapId:"npm:@metamask/gator-permissions-snap",pendingRevocations:[]}}r.getDefaultGatorPermissionsControllerState=B;class x extends m.BaseController{constructor({messenger:e,state:t}){super({name:S,metadata:P,messenger:e,state:{...B(),...t,isFetchingGatorPermissions:!1}}),n.add(this),p(this,n,"m",u).call(this)}get gatorPermissionsMap(){return(0,j.deserializeGatorPermissionsMap)(this.state.gatorPermissionsMapSerialized)}get permissionsProviderSnapId(){return this.state.gatorPermissionsProviderSnapId}async enableGatorPermissions(){p(this,n,"m",s).call(this,!0)}async disableGatorPermissions(){this.update(e=>{e.isGatorPermissionsEnabled=!1,e.gatorPermissionsMapSerialized=(0,j.serializeGatorPermissionsMap)({"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}})})}get pendingRevocations(){return this.state.pendingRevocations}async fetchAndUpdateGatorPermissions(e){try{p(this,n,"m",i).call(this,!0),p(this,n,"m",l).call(this);const t=await p(this,n,"m",d).call(this,{snapId:this.state.gatorPermissionsProviderSnapId,params:e}),r=p(this,n,"m",h).call(this,t);return this.update(e=>{e.gatorPermissionsMapSerialized=(0,j.serializeGatorPermissionsMap)(r)}),r}catch(e){throw(0,E.controllerLog)("Failed to fetch gator permissions",e),new k.GatorPermissionsFetchError({message:"Failed to fetch gator permissions",cause:e})}finally{p(this,n,"m",i).call(this,!1)}}decodePermissionFromPermissionContextForOrigin({origin:e,chainId:t,delegation:{caveats:r,delegator:n,delegate:i,authority:s},metadata:{justification:o,origin:a}}){if(e!==this.permissionsProviderSnapId)throw new k.OriginNotAllowedError({origin:e});const c=T[t];if(!c)throw new Error(`Contracts not found for chainId: ${t}`);try{const e=r.map(e=>e.enforcer),u=(0,v.identifyPermissionByEnforcers)({enforcers:e,contracts:c}),{expiry:l,data:d}=(0,v.getPermissionDataAndExpiry)({contracts:c,caveats:r,permissionType:u});return(0,v.reconstructDecodedPermission)({chainId:t,permissionType:u,delegator:n,delegate:i,authority:s,expiry:l,data:d,justification:o,specifiedOrigin:a})}catch(e){throw new k.PermissionDecodingError({cause:e})}}async submitRevocation(e){(0,E.controllerLog)("submitRevocation method called",{permissionContext:e.permissionContext}),p(this,n,"m",l).call(this);const t={snapId:this.state.gatorPermissionsProviderSnapId,origin:"metamask",handler:y.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:_.GatorPermissionsSnapRpcMethod.PermissionProviderSubmitRevocation,params:e}};try{const r=await this.messenger.call("SnapController:handleRequest",t);await this.fetchAndUpdateGatorPermissions({isRevoked:!1}),(0,E.controllerLog)("Successfully submitted revocation",{permissionContext:e.permissionContext,result:r})}catch(t){if(t instanceof k.GatorPermissionsFetchError)throw(0,E.controllerLog)("Revocation submitted successfully but failed to refresh permissions list",{error:t,permissionContext:e.permissionContext}),new k.GatorPermissionsFetchError({message:"Failed to refresh permissions list after successful revocation",cause:t});throw(0,E.controllerLog)("Failed to submit revocation",{error:t,permissionContext:e.permissionContext}),new k.GatorPermissionsProviderError({method:_.GatorPermissionsSnapRpcMethod.PermissionProviderSubmitRevocation,cause:t})}finally{p(this,n,"m",c).call(this,e.permissionContext)}}async addPendingRevocation(e){const{txId:t,permissionContext:r}=e;(0,E.controllerLog)("addPendingRevocation method called",{txId:t,permissionContext:r}),p(this,n,"m",l).call(this);const i={approved:undefined,rejected:undefined,confirmed:undefined,failed:undefined,dropped:undefined,timeoutId:undefined},s=e=>{this.fetchAndUpdateGatorPermissions({isRevoked:!1}).catch(n=>{(0,E.controllerLog)(`Failed to refresh permissions after ${e}`,{txId:t,permissionContext:r,error:n})})},c=()=>{i.approved&&(this.messenger.unsubscribe("TransactionController:transactionApproved",i.approved),i.approved=undefined),i.rejected&&(this.messenger.unsubscribe("TransactionController:transactionRejected",i.rejected),i.rejected=undefined)},u=(e,t=!0)=>{c(),i.confirmed&&this.messenger.unsubscribe("TransactionController:transactionConfirmed",i.confirmed),i.failed&&this.messenger.unsubscribe("TransactionController:transactionFailed",i.failed),i.dropped&&this.messenger.unsubscribe("TransactionController:transactionDropped",i.dropped),i.timeoutId!==undefined&&clearTimeout(i.timeoutId),t&&p(this,n,"m",a).call(this,e)};i.approved=e=>{e.transactionMeta.id===t&&((0,E.controllerLog)("Transaction approved by user, adding to pending revocations",{txId:t,permissionContext:r}),p(this,n,"m",o).call(this,t,r),c())},i.rejected=e=>{e.transactionMeta.id===t&&((0,E.controllerLog)("Transaction rejected by user, cleaning up listeners",{txId:t,permissionContext:r}),u(e.transactionMeta.id,!1))},i.confirmed=e=>{if(e.id===t){if((0,E.controllerLog)("Transaction confirmed, submitting revocation",{txId:t,permissionContext:r,txHash:e.hash}),e.status!==b.TransactionStatus.confirmed)return(0,E.controllerLog)("Transaction not confirmed, skipping revocation",{txId:t,permissionContext:r,status:e.status}),u(e.id),void s("transaction not confirmed");const n=e.hash;n===undefined&&(0,E.controllerLog)("Failed to resolve transaction hash after revocation transaction confirmed",{txId:t,permissionContext:r,error:new Error("Confirmed transaction is missing transaction hash")}),this.submitRevocation({permissionContext:r,txHash:n}).catch(e=>{(0,E.controllerLog)("Failed to submit revocation after transaction confirmed",{txId:t,permissionContext:r,error:e})}).finally(()=>s("transaction confirmed")),u(e.id)}},i.failed=e=>{e.transactionMeta.id===t&&((0,E.controllerLog)("Transaction failed, cleaning up revocation listener",{txId:t,permissionContext:r,error:e.error}),u(e.transactionMeta.id),s("transaction failed"))},i.dropped=e=>{e.transactionMeta.id===t&&((0,E.controllerLog)("Transaction dropped, cleaning up revocation listener",{txId:t,permissionContext:r}),u(e.transactionMeta.id),s("transaction dropped"))},this.messenger.subscribe("TransactionController:transactionApproved",i.approved),this.messenger.subscribe("TransactionController:transactionRejected",i.rejected),this.messenger.subscribe("TransactionController:transactionConfirmed",i.confirmed),this.messenger.subscribe("TransactionController:transactionFailed",i.failed),this.messenger.subscribe("TransactionController:transactionDropped",i.dropped),i.timeoutId=setTimeout(()=>{(0,E.controllerLog)("Pending revocation timed out, cleaning up listeners",{txId:t,permissionContext:r}),u(t)},72e5)}async submitDirectRevocation(e){p(this,n,"m",l).call(this);const t=`no-tx-${e.permissionContext}`;p(this,n,"m",o).call(this,t,e.permissionContext),await this.submitRevocation(e)}isPendingRevocation(e){return this.state.pendingRevocations.some(t=>t.permissionContext.toLowerCase()===e.toLowerCase())}}n=new WeakSet,i=function(e){this.update(t=>{t.isFetchingGatorPermissions=e})},s=function(e){this.update(t=>{t.isGatorPermissionsEnabled=e})},o=function(e,t){this.update(r=>{r.pendingRevocations=[...r.pendingRevocations,{txId:e,permissionContext:t}]})},a=function(e){this.update(t=>{t.pendingRevocations=t.pendingRevocations.filter(t=>t.txId!==e)})},c=function(e){this.update(t=>{t.pendingRevocations=t.pendingRevocations.filter(t=>t.permissionContext.toLowerCase()!==e.toLowerCase())})},u=function(){this.messenger.registerActionHandler(`${S}:fetchAndUpdateGatorPermissions`,this.fetchAndUpdateGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${S}:enableGatorPermissions`,this.enableGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${S}:disableGatorPermissions`,this.disableGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${S}:decodePermissionFromPermissionContextForOrigin`,this.decodePermissionFromPermissionContextForOrigin.bind(this));const e=`${S}:submitRevocation`;this.messenger.registerActionHandler(e,this.submitRevocation.bind(this)),this.messenger.registerActionHandler(`${S}:addPendingRevocation`,this.addPendingRevocation.bind(this)),this.messenger.registerActionHandler(`${S}:submitDirectRevocation`,this.submitDirectRevocation.bind(this)),this.messenger.registerActionHandler(`${S}:isPendingRevocation`,this.isPendingRevocation.bind(this))},l=function(){if(!this.state.isGatorPermissionsEnabled)throw new k.GatorPermissionsNotEnabledError},d=async function({snapId:e,params:t}){try{return await this.messenger.call("SnapController:handleRequest",{snapId:e,origin:"metamask",handler:y.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:_.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,...t!==undefined&&{params:t}}})}catch(e){throw(0,E.controllerLog)("Failed to handle snap request to gator permissions provider",e),new k.GatorPermissionsProviderError({method:_.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,cause:e})}},f=function(e){const{permissionResponse:t}=e,{dependencies:r,to:n,...i}=t;return{...e,permissionResponse:{...i}}},h=function(e){const t={"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}};if(!e)return t;for(const r of e){const{permissionResponse:{permission:{type:e},chainId:i}}=r,s=Object.prototype.hasOwnProperty.call(t,e)?e:"other";t[s][i]=[...t[s][i]||[],p(this,n,"m",f).call(this,r)]}return t},r.default=x}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/GatorPermissionsController.cjs"}],[2345,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DELEGATION_FRAMEWORK_VERSION=void 0,r.DELEGATION_FRAMEWORK_VERSION="1.3.0"}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/constants.cjs"}],[2346,{"./utils.cjs":2348,"@metamask/delegation-core":1652,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructDecodedPermission=r.getPermissionDataAndExpiry=r.identifyPermissionByEnforcers=void 0;const n=e("@metamask/delegation-core"),i=e("@metamask/utils"),s=e("./utils.cjs");r.identifyPermissionByEnforcers=({enforcers:e,contracts:t})=>{const r=new Map;for(const t of e.map(i.getChecksumAddress))r.set(t,(r.get(t)??0)+1);const n=new Set(r.keys()),o=(0,s.createPermissionRulesForChainId)(t);let a=null;for(const{optionalEnforcers:e,requiredEnforcers:t,permissionType:i}of o){const s=new Set([...e,...t.keys()]);let o=!1;for(const e of n)if(!s.has(e)){o=!0;break}let c=!0;for(const[e,n]of t.entries())if((r.get(e)??0)!==n){c=!1;break}if(c&&!o){if(a)throw new Error("Multiple permission types match");a=i}}if(!a)throw new Error("Unable to identify permission type");return a};r.getPermissionDataAndExpiry=({contracts:e,caveats:t,permissionType:r})=>{const n=t.map(e=>({...e,enforcer:(0,i.getChecksumAddress)(e.enforcer)})),{erc20StreamingEnforcer:o,erc20PeriodicEnforcer:a,nativeTokenStreamingEnforcer:c,nativeTokenPeriodicEnforcer:u,timestampEnforcer:l,allowedCalldataEnforcer:d,valueLteEnforcer:f}=(0,s.getChecksumEnforcersByChainId)(e),h=(0,s.getTermsByEnforcer)({caveats:n,enforcer:l,throwIfNotFound:!1});let p,m=null;switch(h&&(m=(e=>{if(66!==e.length)throw new Error(`Invalid TimestampEnforcer terms length: expected 66 characters (0x + 64 hex), got ${e.length}`);const[t,r]=(0,s.splitHex)(e,[16,16]);if(0!==(0,i.hexToNumber)(t))throw new Error("Invalid expiry: timestampAfterThreshold must be 0");const n=(0,i.hexToNumber)(r);if(0===n)throw new Error("Invalid expiry: timestampBeforeThreshold must be greater than 0");return n})(h)),r){case"erc20-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:o}),[t,r,a,c,u]=(0,s.splitHex)(e,[20,32,32,32,32]);p={tokenAddress:t,initialAmount:r,maxAmount:a,amountPerSecond:c,startTime:(0,i.hexToNumber)(u)};break}case"erc20-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:a}),[t,r,o,c]=(0,s.splitHex)(e,[20,32,32,32]);p={tokenAddress:t,periodAmount:r,periodDuration:(0,i.hexToNumber)(o),startTime:(0,i.hexToNumber)(c)};break}case"native-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:c}),[t,r,o,a]=(0,s.splitHex)(e,[32,32,32,32]);p={initialAmount:t,maxAmount:r,amountPerSecond:o,startTime:(0,i.hexToNumber)(a)};break}case"native-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:u}),[t,r,o]=(0,s.splitHex)(e,[32,32,32]);p={periodAmount:t,periodDuration:(0,i.hexToNumber)(r),startTime:(0,i.hexToNumber)(o)};break}case"erc20-token-revocation":{const e="0x0000000000000000000000000000000000000000000000000000000000000000",t="0x0000000000000000000000000000000000000000000000000000000000000000095ea7b3",r="0x00000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000",i=n.filter(e=>e.enforcer===d).map(e=>e.terms.toLowerCase()),o=i.includes(t),a=i.includes(r);if(!o||!a)throw new Error("Invalid erc20-token-revocation terms: expected approve selector and zero amount constraints");if((0,s.getTermsByEnforcer)({caveats:n,enforcer:f})!==e)throw new Error("Invalid ValueLteEnforcer terms: maxValue must be 0");p={};break}default:throw new Error("Invalid permission type")}return{expiry:m,data:p}};r.reconstructDecodedPermission=({chainId:e,permissionType:t,delegator:r,delegate:s,authority:o,expiry:a,data:c,justification:u,specifiedOrigin:l})=>{if(o!==n.ROOT_AUTHORITY)throw new Error("Invalid authority");return{chainId:(0,i.numberToHex)(e),from:r,to:s,permission:{type:t,data:c,justification:u},expiry:a,origin:l}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/decodePermission.cjs"}],[2347,{"./decodePermission.cjs":2346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructDecodedPermission=r.getPermissionDataAndExpiry=r.identifyPermissionByEnforcers=void 0;var n=e("./decodePermission.cjs");Object.defineProperty(r,"identifyPermissionByEnforcers",{enumerable:!0,get:function(){return n.identifyPermissionByEnforcers}}),Object.defineProperty(r,"getPermissionDataAndExpiry",{enumerable:!0,get:function(){return n.getPermissionDataAndExpiry}}),Object.defineProperty(r,"reconstructDecodedPermission",{enumerable:!0,get:function(){return n.reconstructDecodedPermission}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/index.cjs"}],[2348,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitHex=r.getTermsByEnforcer=r.isSubset=r.createPermissionRulesForChainId=r.getChecksumEnforcersByChainId=void 0;const n=e("@metamask/utils"),i="ERC20PeriodTransferEnforcer",s="ERC20StreamingEnforcer",o="ExactCalldataEnforcer",a="NativeTokenPeriodTransferEnforcer",c="NativeTokenStreamingEnforcer",u="TimestampEnforcer",l="ValueLteEnforcer",d="NonceEnforcer",f="AllowedCalldataEnforcer";r.getChecksumEnforcersByChainId=e=>{const t=t=>{const r=e[t];if(!r)throw new Error(`Contract not found: ${t}`);return(0,n.getChecksumAddress)(r)};return{erc20StreamingEnforcer:t(s),erc20PeriodicEnforcer:t(i),nativeTokenStreamingEnforcer:t(c),nativeTokenPeriodicEnforcer:t(a),exactCalldataEnforcer:t(o),valueLteEnforcer:t(l),timestampEnforcer:t(u),nonceEnforcer:t(d),allowedCalldataEnforcer:t(f)}};r.createPermissionRulesForChainId=e=>{const{erc20StreamingEnforcer:t,erc20PeriodicEnforcer:n,nativeTokenStreamingEnforcer:i,nativeTokenPeriodicEnforcer:s,exactCalldataEnforcer:o,valueLteEnforcer:a,timestampEnforcer:c,nonceEnforcer:u,allowedCalldataEnforcer:l}=(0,r.getChecksumEnforcersByChainId)(e),d=new Set([c]);return[{requiredEnforcers:new Map([[i,1],[o,1],[u,1]]),optionalEnforcers:d,permissionType:"native-token-stream"},{requiredEnforcers:new Map([[s,1],[o,1],[u,1]]),optionalEnforcers:d,permissionType:"native-token-periodic"},{requiredEnforcers:new Map([[t,1],[a,1],[u,1]]),optionalEnforcers:d,permissionType:"erc20-token-stream"},{requiredEnforcers:new Map([[n,1],[a,1],[u,1]]),optionalEnforcers:d,permissionType:"erc20-token-periodic"},{requiredEnforcers:new Map([[l,2],[a,1],[u,1]]),optionalEnforcers:d,permissionType:"erc20-token-revocation"}]};r.isSubset=(e,t)=>{for(const r of e)if(!t.has(r))return!1;return!0},r.getTermsByEnforcer=function({caveats:e,enforcer:t,throwIfNotFound:r}){const n=e.filter(e=>e.enforcer===t);if(0===n.length){if(r??1)throw new Error("Invalid caveats");return null}if(n.length>1)throw new Error("Invalid caveats");return n[0].terms},r.splitHex=function(e,t){let r=2;const n=[];for(const i of t){const t=2*i,s=e.slice(r,r+t);r+=t,n.push(`0x${s}`)}return n}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/utils.cjs"}],[2349,{"./types.cjs":2352},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PermissionDecodingError=r.OriginNotAllowedError=r.GatorPermissionsProviderError=r.GatorPermissionsNotEnabledError=r.GatorPermissionsMapSerializationError=r.GatorPermissionsFetchError=r.GatorPermissionsControllerError=void 0;const n=e("./types.cjs");class i extends Error{constructor({cause:e,message:t,code:r}){super(t),this.cause=e,this.code=r}}r.GatorPermissionsControllerError=i;r.GatorPermissionsFetchError=class extends i{constructor({cause:e,message:t}){super({cause:e,message:t,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsFetchError})}};r.GatorPermissionsMapSerializationError=class extends i{constructor({cause:e,message:t,data:r}){super({cause:e,message:t,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsMapSerializationError}),this.data=r}};r.GatorPermissionsNotEnabledError=class extends i{constructor(){super({cause:new Error("Gator permissions are not enabled"),message:"Gator permissions are not enabled",code:n.GatorPermissionsControllerErrorCode.GatorPermissionsNotEnabled})}};r.GatorPermissionsProviderError=class extends i{constructor({cause:e,method:t}){super({cause:e,message:`Failed to handle snap request to gator permissions provider for method ${t}`,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsProviderError})}};r.OriginNotAllowedError=class extends i{constructor({origin:e}){const t=`Origin ${e} not allowed`;super({cause:new Error(t),message:t,code:n.GatorPermissionsControllerErrorCode.OriginNotAllowedError})}};r.PermissionDecodingError=class extends i{constructor({cause:e}){super({cause:e,message:"Failed to decode permission",code:n.GatorPermissionsControllerErrorCode.PermissionDecodingError})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/errors.cjs"}],[2350,{"./GatorPermissionsController.cjs":2344,"./constants.cjs":2345,"./utils.cjs":2353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.DELEGATION_FRAMEWORK_VERSION=r.deserializeGatorPermissionsMap=r.serializeGatorPermissionsMap=r.GatorPermissionsController=void 0;var i=e("./GatorPermissionsController.cjs");Object.defineProperty(r,"GatorPermissionsController",{enumerable:!0,get:function(){return n(i).default}});var s=e("./utils.cjs");Object.defineProperty(r,"serializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.serializeGatorPermissionsMap}}),Object.defineProperty(r,"deserializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.deserializeGatorPermissionsMap}});var o=e("./constants.cjs");Object.defineProperty(r,"DELEGATION_FRAMEWORK_VERSION",{enumerable:!0,get:function(){return o.DELEGATION_FRAMEWORK_VERSION}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/index.cjs"}],[2351,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.utilsLog=r.controllerLog=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("gator-permissions-controller"),r.controllerLog=(0,n.createModuleLogger)(r.projectLogger,"GatorPermissionsController"),r.utilsLog=(0,n.createModuleLogger)(r.projectLogger,"utils")}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/logger.cjs"}],[2352,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.GatorPermissionsSnapRpcMethod=r.GatorPermissionsControllerErrorCode=void 0,function(e){e.GatorPermissionsFetchError="gator-permissions-fetch-error",e.GatorPermissionsNotEnabled="gator-permissions-not-enabled",e.GatorPermissionsProviderError="gator-permissions-provider-error",e.GatorPermissionsMapSerializationError="gator-permissions-map-serialization-error",e.PermissionDecodingError="permission-decoding-error",e.OriginNotAllowedError="origin-not-allowed-error"}(n||(r.GatorPermissionsControllerErrorCode=n={})),function(e){e.PermissionProviderGetGrantedPermissions="permissionsProvider_getGrantedPermissions",e.PermissionProviderSubmitRevocation="permissionsProvider_submitRevocation"}(i||(r.GatorPermissionsSnapRpcMethod=i={}))}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/types.cjs"}],[2353,{"./errors.cjs":2349,"./logger.cjs":2351},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeGatorPermissionsMap=r.serializeGatorPermissionsMap=void 0;const n=e("./errors.cjs"),i=e("./logger.cjs");r.serializeGatorPermissionsMap=function(e){try{return JSON.stringify(e)}catch(t){throw(0,i.utilsLog)("Failed to serialize gator permissions map",t),new n.GatorPermissionsMapSerializationError({cause:t,message:"Failed to serialize gator permissions map",data:e})}},r.deserializeGatorPermissionsMap=function(e){try{return JSON.parse(e)}catch(t){throw(0,i.utilsLog)("Failed to deserialize gator permissions map",t),new n.GatorPermissionsMapSerializationError({cause:t,message:"Failed to deserialize gator permissions map",data:e})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/utils.cjs"}],[2354,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},i={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},s={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},o={mainnet:1,optimism:10,bsc:56,gnosis:100,polygon:137,base:8453,arbitrum:42161,linea:59144,berachain:80094,unichain:130,arbitrumNova:42170,bscTestnet:97,megaEthTestnet:6342,chiado:10200,lineaSepolia:59141,berachainBepolia:80069,baseSepolia:84532,arbitrumSepolia:421614,sepolia:11155111,optimismSepolia:11155420,unichainSepolia:1301,polygonAmoy:80002,monadTestnet:10143,lineaGoerli:59140},a={"1.0.0":{[o.optimism]:s,[o.polygon]:s,[o.base]:s,[o.arbitrum]:s,[o.linea]:s,[o.sepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[o.lineaSepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[o.arbitrum]:i,[o.base]:i,[o.linea]:i,[o.optimism]:i,[o.polygon]:i,[o.sepolia]:i,[o.lineaSepolia]:i,[o.baseSepolia]:{...i,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[o.mainnet]:n,[o.polygon]:n,[o.bsc]:n,[o.optimism]:n,[o.arbitrum]:n,[o.linea]:n,[o.base]:n,[o.gnosis]:n,[o.berachain]:n,[o.unichain]:n,[o.arbitrumNova]:n,[o.sepolia]:n,[o.lineaSepolia]:n,[o.baseSepolia]:n,[o.megaEthTestnet]:n,[o.chiado]:n,[o.bscTestnet]:n,[o.optimismSepolia]:n,[o.arbitrumSepolia]:n,[o.berachainBepolia]:n,[o.unichainSepolia]:n,[o.polygonAmoy]:n,[o.monadTestnet]:n}};r.CHAIN_ID=o,r.DELEGATOR_CONTRACTS=a}}},{package:"@metamask/gator-permissions-controller>@metamask/delegation-deployments",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/delegation-deployments/dist/index.js"}],[2355,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.snapOwnsAccount=r.createChainIdList=r.createAccountList=void 0;const n=e("@metamask/utils");r.createAccountList=function(e,t){return t.map(t=>`${t}:${e}`)},r.createChainIdList=function(e,t){return t&&0!==t.length?e.reduce((e,r)=>{if("eip155:0"===r){const r=t.filter(e=>{const{namespace:t}=(0,n.parseCaipChainId)(e);return t===n.KnownCaipNamespace.Eip155});e.push(...r)}else t.includes(r)&&e.push(r);return e},[]):e},r.snapOwnsAccount=function(e,t){var r;return(null===(r=t.metadata.snap)||void 0===r?void 0:r.id)===e}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/account.cjs"}],[2356,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEqual=void 0,r.isEqual=function(e,t){return e.length===t.length&&e.every((e,r)=>e===t[r])}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/array.cjs"}],[2357,{"./base64.cjs":2358,"./constants.cjs":2362,"@metamask/snaps-sdk":3265,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateAuxiliaryFiles=r.encodeAuxiliaryFile=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/utils"),s=e("./base64.cjs"),o=e("./constants.cjs");r.encodeAuxiliaryFile=async function(e,t){if(t===n.AuxiliaryFileEncoding.Base64)return e;const r=await(0,s.decodeBase64)(e);return t===n.AuxiliaryFileEncoding.Utf8?(0,i.bytesToString)(r):(0,i.bytesToHex)(r)},r.validateAuxiliaryFiles=function(e){for(const t of e)(0,i.assert)(t.size<o.MAX_FILE_SIZE,"Static files required by the Snap must be smaller than 64 MB.")}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/auxiliary-files.cjs"}],[2358,{"./bytes.cjs":2359,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeBase64=r.encodeBase64=void 0;const n=e("@metamask/utils"),i=e("./bytes.cjs");r.encodeBase64=async function(e){const t=(0,i.getBytes)(e),r="undefined"!=typeof navigator&&"ReactNative"===navigator.product;return"FileReader"in globalThis&&!r?await new Promise((e,r)=>{const n=Object.assign(new FileReader,{onload:()=>e(n.result.replace("data:application/octet-stream;base64,","")),onerror:()=>r(n.error)});n.readAsDataURL(new File([t],"",{type:"application/octet-stream"}))}):(0,n.bytesToBase64)(t)},r.decodeBase64=async function(e){const t=await fetch(`data:application/octet-stream;base64,${e}`);return new Uint8Array(await t.arrayBuffer())}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/base64.cjs"}],[2359,{"./virtual-file/VirtualFile.cjs":2402,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBytes=void 0;const n=e("@metamask/utils"),i=e("./virtual-file/VirtualFile.cjs");r.getBytes=function(e){const t=e instanceof i.VirtualFile?e.value:e;return"string"==typeof t?(0,n.stringToBytes)(t):t}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/bytes.cjs"}],[2360,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.SnapCaveatType=void 0,function(e){e.PermittedDerivationPaths="permittedDerivationPaths",e.PermittedCoinTypes="permittedCoinTypes",e.SnapCronjob="snapCronjob",e.TransactionOrigin="transactionOrigin",e.SignatureOrigin="signatureOrigin",e.RpcOrigin="rpcOrigin",e.KeyringOrigin="keyringOrigin",e.SnapIds="snapIds",e.ChainIds="chainIds",e.LookupMatchers="lookupMatchers",e.MaxRequestTime="maxRequestTime",e.ProtocolSnapScopes="protocolSnapScopes"}(n||(r.SnapCaveatType=n={}))}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/caveats.cjs"}],[2361,{"./bytes.cjs":2359,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.checksumFiles=r.checksum=void 0;const n=e("@metamask/utils"),i=e("./bytes.cjs");async function s(e){return await(0,n.sha256)((0,i.getBytes)(e))}r.checksum=s,r.checksumFiles=async function(e){const t=await Promise.all([...e].sort((e,t)=>((0,n.assert)(e.path!==t.path,"Tried to sort files with non-unique paths."),e.path<t.path?-1:1)).map(async e=>s(e)));return s((0,n.concatBytes)(t))}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/checksum.cjs"}],[2362,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_FILE_SIZE=void 0,r.MAX_FILE_SIZE=64e6}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/constants.cjs"}],[2363,{"./time.cjs":2396,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,"@metamask/utils":3554,"cron-parser":4579},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCronjobSpecificationArray=r.CronjobSpecificationArrayStruct=r.isCronjobSpecification=r.CronjobSpecificationStruct=r.CronExpressionStruct=r.CronjobRpcRequestStruct=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("cron-parser"),a=e("./time.cjs");r.CronjobRpcRequestStruct=(0,i.object)({jsonrpc:(0,i.optional)(s.JsonRpcVersionStruct),id:(0,i.optional)(s.JsonRpcIdStruct),method:(0,i.string)(),params:(0,i.optional)(s.JsonRpcParamsStruct)}),r.CronExpressionStruct=(0,i.refine)((0,i.string)(),"cronjob expression",e=>{try{return(0,o.parseExpression)(e),!0}catch{return`Expected a cronjob expression, but received: "${e}"`}});const c=(0,i.object)({expression:r.CronExpressionStruct,request:r.CronjobRpcRequestStruct}),u=(0,i.object)({duration:a.ISO8601DurationStruct,request:r.CronjobRpcRequestStruct});r.CronjobSpecificationStruct=(0,n.selectiveUnion)(e=>(0,s.isObject)(e)&&(0,s.hasProperty)(e,"duration")?u:c),r.isCronjobSpecification=function(e){try{return(0,i.create)(e,r.CronjobSpecificationStruct),!0}catch{return!1}},r.CronjobSpecificationArrayStruct=(0,i.array)(r.CronjobSpecificationStruct),r.isCronjobSpecificationArray=function(e){try{return(0,i.create)(e,r.CronjobSpecificationArrayStruct),!0}catch{return!1}}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/cronjob.cjs"}],[2364,{"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.currency=void 0;const n=e("@metamask/superstruct");r.currency=function(e){const t=e.toLowerCase();return(0,n.coerce)((0,n.literal)(t),(0,n.literal)(e.toUpperCase()),e=>(0,n.create)(e.toLowerCase(),(0,n.literal)(t)))}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/currency.cjs"}],[2365,{rfdc:5710},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.deepClone=void 0;const i=n(e("rfdc"));r.deepClone=(0,i.default)({proto:!1,circles:!1})}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/deep-clone.cjs"}],[2366,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_ENDOWMENTS=void 0,r.DEFAULT_ENDOWMENTS=Object.freeze(["atob","btoa","BigInt","console","crypto","Date","Math","setTimeout","clearTimeout","SubtleCrypto","TextDecoder","TextEncoder","URL","URLSearchParams","setInterval","clearInterval","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","isSecureContext","Intl","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","DataView","ArrayBuffer","AbortController","AbortSignal"])}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/default-endowments.cjs"}],[2367,{"./array.cjs":2356,"@metamask/slip44":3066},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getSlip44ProtocolName=r.getSnapDerivationPathName=r.SNAPS_DERIVATION_PATHS=void 0;const i=n(e("@metamask/slip44")),s=e("./array.cjs");function o(e){var t;return"1"===String(e)?"Test Networks":(null===(t=i.default[e])||void 0===t?void 0:t.name)??null}r.SNAPS_DERIVATION_PATHS=[{path:["m","44'","0'"],curve:"ed25519",name:"Test BIP-32 Path (ed25519)"},{path:["m","44'","1'"],curve:"secp256k1",name:"Testnet"},{path:["m","44'","0'"],curve:"secp256k1",name:"Bitcoin Legacy"},{path:["m","49'","0'"],curve:"secp256k1",name:"Bitcoin Nested SegWit"},{path:["m","49'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Nested SegWit"},{path:["m","84'","0'"],curve:"secp256k1",name:"Bitcoin Native SegWit"},{path:["m","84'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Native SegWit"},{path:["m","86'","0'"],curve:"secp256k1",name:"Bitcoin Taproot"},{path:["m","86'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Taproot"},{path:["m","44'","501'"],curve:"ed25519",name:"Solana"},{path:["m","44'","501'","0'","0'"],curve:"ed25519",name:"Solana"},{path:["m","44'","2'"],curve:"secp256k1",name:"Litecoin"},{path:["m","44'","3'"],curve:"secp256k1",name:"Dogecoin"},{path:["m","44'","60'"],curve:"secp256k1",name:"Ethereum"},{path:["m","44'","118'"],curve:"secp256k1",name:"Atom"},{path:["m","44'","145'"],curve:"secp256k1",name:"Bitcoin Cash"},{path:["m","44'","637'"],curve:"ed25519",name:"Aptos"},{path:["m","44'","714'"],curve:"secp256k1",name:"Binance (BNB)"},{path:["m","44'","784'"],curve:"ed25519",name:"Sui"},{path:["m","44'","931'"],curve:"secp256k1",name:"THORChain (RUNE)"},{path:["m","44'","330'"],curve:"secp256k1",name:"Terra (LUNA)"},{path:["m","44'","459'"],curve:"secp256k1",name:"Kava"},{path:["m","44'","529'"],curve:"secp256k1",name:"Secret Network"},{path:["m","44'","397'","0'"],curve:"ed25519",name:"NEAR Protocol"},{path:["m","44'","1'","0'"],curve:"ed25519",name:"Testnet"},{path:["m","44'","472'"],curve:"ed25519",name:"Arweave"},{path:["m","44'","12586'"],curve:"secp256k1",name:"Mina"},{path:["m","44'","242'"],curve:"ed25519",name:"Nimiq"},{path:["m","44'","1729'","0'","0'"],curve:"ed25519",name:"Tezos"},{path:["m","1789'","0'"],curve:"ed25519",name:"Vega"},{path:["m","1852'","1815'"],curve:"ed25519Bip32",name:"Cardano"},{path:["m","44'","508'","0'","0'","0'"],curve:"ed25519",name:"MultiversX"},{path:["m","44'","709'"],curve:"secp256k1",name:"Avail"},{path:["m","44'","626'"],curve:"ed25519",name:"Kadena"},{path:["m","44'","632'"],curve:"ed25519",name:"Massa"},{path:["m","44'","4218'"],curve:"ed25519",name:"IOTA"}],r.getSnapDerivationPathName=function(e,t){const n=r.SNAPS_DERIVATION_PATHS.find(r=>r.curve===t&&(0,s.isEqual)(r.path,e));if(n)return n.name;if("secp256k1"===t&&"m"===e[0]&&"44'"===e[1]&&e[2].endsWith("'")){return o(e[2].slice(0,-1))??null}return null},r.getSlip44ProtocolName=o}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/derivation-paths.cjs"}],[2368,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.STATE_ENCRYPTION_MAGIC_VALUE=r.SIP_6_MAGIC_VALUE=void 0,r.SIP_6_MAGIC_VALUE="1399742832'",r.STATE_ENCRYPTION_MAGIC_VALUE="572232532'"}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/entropy.cjs"}],[2369,{"@metamask/rpc-errors":3026,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function i(e,t){return e.get(o(e,t))}function s(e,t,r){return e.set(o(e,t),r),r}function o(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Object.defineProperty(r,"__esModule",{value:!0}),r.TrackableErrorStruct=r.unwrapError=r.isWrappedSnapError=r.isSerializedSnapError=r.isSnapError=r.WrappedSnapError=r.SNAP_ERROR_WRAPPER_MESSAGE=r.SNAP_ERROR_WRAPPER_CODE=void 0;const a=e("@metamask/rpc-errors"),c=e("@metamask/snaps-sdk"),u=e("@metamask/superstruct"),l=e("@metamask/utils");r.SNAP_ERROR_WRAPPER_CODE=-31001,r.SNAP_ERROR_WRAPPER_MESSAGE="Wrapped Snap Error";var d=new WeakMap,f=new WeakMap,h=new WeakMap;class p extends Error{constructor(e){const t=(0,c.getErrorMessage)(e);super(t),n(this,d,void 0),n(this,f,void 0),n(this,h,void 0),s(d,this,e),s(f,this,t),s(h,this,(0,c.getErrorStack)(e)??undefined)}get name(){return"WrappedSnapError"}get message(){return i(f,this)}get stack(){return i(h,this)}toJSON(){const e=m(i(d,this))?i(d,this).serialize():(0,a.serializeCause)(i(d,this));return{code:r.SNAP_ERROR_WRAPPER_CODE,message:r.SNAP_ERROR_WRAPPER_MESSAGE,data:{cause:e}}}serialize(){return this.toJSON()}}function m(e){if((0,l.isObject)(e)&&"serialize"in e&&"function"==typeof e.serialize){const t=e.serialize();return(0,l.isJsonRpcError)(t)&&g(t)}return!1}function g(e){return e.code===c.SNAP_ERROR_CODE&&e.message===c.SNAP_ERROR_MESSAGE}function y(e){return(0,l.isJsonRpcError)(e)&&e.code===r.SNAP_ERROR_WRAPPER_CODE&&e.message===r.SNAP_ERROR_WRAPPER_MESSAGE}function b(e,t,r,n){const i=new a.JsonRpcError(e,t,n);return i.stack=r??undefined,i}r.WrappedSnapError=p,r.isSnapError=m,r.isSerializedSnapError=g,r.isWrappedSnapError=y,r.unwrapError=function(e){if(y(e)){if((0,l.isJsonRpcError)(e.data.cause)){if(g(e.data.cause)){const{code:t,message:r,stack:n,data:i}=e.data.cause.data.cause;return[b(t,r,n,i),!0]}if((0,l.isObject)(e.data.cause.data)&&(0,l.isObject)(e.data.cause.data.cause)&&e.data.cause.message===e.data.cause.data.cause.message){const t=e.data.cause.data.cause,{code:r,message:n}=e.data.cause;return[b(r,n,(0,c.getErrorStack)(t)),!1]}const{code:t,message:r,stack:n,data:i}=e.data.cause;return[b(t,r,n,i),!1]}return[b(a.errorCodes.rpc.internal,(0,c.getErrorMessage)(e.data.cause),(0,c.getErrorStack)(e.data.cause)),!1]}if((0,l.isJsonRpcError)(e)){const{code:t,message:r,stack:n,data:i}=e;return[b(t,r,n,i),!1]}return[b(a.errorCodes.rpc.internal,(0,c.getErrorMessage)(e),(0,c.getErrorStack)(e)),!1]},r.TrackableErrorStruct=(0,u.object)({name:(0,u.string)(),message:(0,u.string)(),stack:(0,u.nullable)((0,u.string)()),cause:(0,u.nullable)((0,u.lazy)(()=>r.TrackableErrorStruct))})}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/errors.cjs"}],[237,{"../../../../shared/modules/selectors/networks":6335,"@metamask/chain-agnostic-permission":1610,"@metamask/permission-controller":2862,"@metamask/snaps-utils":3382,"@metamask/utils":3554,nanoid:5438},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermissionBackgroundApiMethods=function({permissionController:e,approvalController:t,accountsController:r,networkController:u,multichainNetworkController:l}){const d=t=>{let r;try{r=e.getCaveat(t,s.Caip25EndowmentPermissionName,s.Caip25CaveatType)}catch(e){if(!(e instanceof i.PermissionDoesNotExistError))throw e}return r},f=(t,n)=>{const i=d(t);if(!i)throw new Error(`Cannot set account permissions "${n.join(", ")}" for origin "${t}": no permission currently exists for this origin.`);if(0===n.length)return void e.revokePermission(t,s.Caip25EndowmentPermissionName);let o=[...(0,s.getAllScopesFromCaip25CaveatValue)(i.value)];const f=Object.keys((0,c.getNetworkConfigurationsByCaipChainId)({networkConfigurationsByChainId:u.state.networkConfigurationsByChainId,multichainNetworkConfigurationsByChainId:l.state.multichainNetworkConfigurationsByChainId,internalAccounts:r.state.internalAccounts}));n.forEach(e=>{const{chain:{namespace:t}}=(0,a.parseCaipAccountId)(e);if(!o.some(e=>{try{const{namespace:r}=(0,a.parseCaipChainId)(e);return t===r}catch(e){return!1}})){const e=f.filter(e=>{try{const{namespace:r}=(0,a.parseCaipChainId)(e);return t===r}catch(e){return!1}});o=[...o,...e]}});const h=(0,s.setChainIdsInCaip25CaveatValue)(i.value,o),p=(0,s.setNonSCACaipAccountIdsInCaip25CaveatValue)(h,n);e.updateCaveat(t,s.Caip25EndowmentPermissionName,s.Caip25CaveatType,p)},h=(t,r)=>{const n=d(t);if(!n)throw new Error(`Cannot set permission for chainIds "${r.join(", ")}": No permissions exist for origin "${t}".`);if(0!==r.length||(0,o.isSnapId)(t)){const i=(0,s.setChainIdsInCaip25CaveatValue)(n.value,r),o=(0,s.getCaipAccountIdsFromCaip25CaveatValue)(n.value),a=(0,s.setNonSCACaipAccountIdsInCaip25CaveatValue)(i,o);e.updateCaveat(t,s.Caip25EndowmentPermissionName,s.Caip25CaveatType,a)}else e.revokePermission(t,s.Caip25EndowmentPermissionName)},p=(e,t)=>{const n=d(e);if(!n)throw new Error(`Cannot add account permissions for origin "${e}": no permission currently exists for this origin.`);const i=t.map(e=>r.getAccountByAddress(e)).map(e=>`${e.scopes[0]}:${e.address}`),o=(0,s.getCaipAccountIdsFromCaip25CaveatValue)(n.value),a=Array.from(new Set([...o,...i]));f(e,a)},m=(e,t)=>{const r=d(e);if(!r)throw new Error(`Cannot add chain permissions for origin "${e}": no permission currently exists for this origin.`);const n=(0,s.getAllScopesFromCaip25CaveatValue)(r.value),i=Array.from(new Set([...n,...t]));h(e,i)};return{addPermittedAccount:(e,t)=>p(e,[t]),addPermittedAccounts:(e,t)=>p(e,t),removePermittedAccount:(e,t)=>{const n=d(e);if(!n)throw new Error(`Cannot remove account "${t}": No permissions exist for origin "${e}".`);const i=(0,s.getCaipAccountIdsFromCaip25CaveatValue)(n.value),o=r.getAccountByAddress(t),a=i.filter(e=>!(0,s.isInternalAccountInPermittedAccountIds)(o,[e]));i.length!==a.length&&f(e,a)},setPermittedAccounts:f,addPermittedChain:(e,t)=>m(e,[t]),addPermittedChains:(e,t)=>m(e,t),removePermittedChain:(e,t)=>{const r=d(e);if(!r)throw new Error(`Cannot remove permission for chainId "${t}": No permissions exist for origin "${e}".`);const n=(0,s.getAllScopesFromCaip25CaveatValue)(r.value),i=n.filter(e=>e!==t);n.length!==i.length&&h(e,i)},setPermittedChains:h,requestAccountsAndChainPermissionsWithId:r=>{const o=(0,n.nanoid)();return(async(r,n)=>{const{permissions:o}=await t.addAndShowApprovalRequest({id:n,origin:r,requestData:{metadata:{id:n,origin:r},permissions:{[s.Caip25EndowmentPermissionName]:{caveats:[{type:s.Caip25CaveatType,value:{requiredScopes:{},optionalScopes:{},isMultichainOrigin:!1}}]}}},type:i.MethodNames.RequestPermissions});e.grantPermissions({subject:{origin:r},approvedPermissions:o})})(r,o),o}}};var n=e("nanoid"),i=e("@metamask/permission-controller"),s=e("@metamask/chain-agnostic-permission"),o=e("@metamask/snaps-utils"),a=e("@metamask/utils"),c=e("../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[2370,{"../time.cjs":2396,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnAssetHistoricalPriceResponseStruct=r.AssetHistoricalPriceStruct=r.HistoricalPriceStruct=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),s=e("../time.cjs");r.HistoricalPriceStruct=(0,n.nonEmptyRecord)((0,i.union)([(0,i.literal)("all"),s.ISO8601DurationStruct]),(0,i.array)((0,i.tuple)([(0,i.number)(),(0,i.string)()]))),r.AssetHistoricalPriceStruct=(0,i.nullable)((0,i.object)({intervals:r.HistoricalPriceStruct,updateTime:(0,i.number)(),expirationTime:(0,i.optional)((0,i.number)())})),r.OnAssetHistoricalPriceResponseStruct=(0,i.object)({historicalPrice:r.AssetHistoricalPriceStruct})}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/asset-historical-price.cjs"}],[2371,{"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnAssetsConversionResponseStruct=r.AssetConversionStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.AssetConversionStruct=(0,n.object)({rate:(0,n.string)(),conversionTime:(0,n.number)(),expirationTime:(0,n.optional)((0,n.number)())}),r.OnAssetsConversionResponseStruct=(0,n.object)({conversionRates:(0,n.record)(i.CaipAssetTypeStruct,(0,n.record)(i.CaipAssetTypeStruct,(0,n.nullable)(r.AssetConversionStruct)))})}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/assets-conversion.cjs"}],[2372,{"../time.cjs":2396,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnAssetsMarketDataResponseStruct=r.AssetMarketDataStruct=r.NonFungibleAssetMarketDataStruct=r.AssetValueStruct=r.FungibleAssetMarketDataStruct=r.PricePercentChangeStruct=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../time.cjs");r.PricePercentChangeStruct=(0,n.nonEmptyRecord)((0,i.union)([(0,i.literal)("all"),o.ISO8601DurationStruct]),(0,i.number)()),r.FungibleAssetMarketDataStruct=(0,i.object)({fungible:(0,i.literal)(!0),marketCap:(0,i.optional)((0,i.string)()),totalVolume:(0,i.optional)((0,i.string)()),circulatingSupply:(0,i.optional)((0,i.string)()),allTimeHigh:(0,i.optional)((0,i.string)()),allTimeLow:(0,i.optional)((0,i.string)()),pricePercentChange:(0,i.optional)(r.PricePercentChangeStruct)}),r.AssetValueStruct=(0,i.object)({asset:s.CaipAssetTypeOrIdStruct,amount:(0,i.string)()}),r.NonFungibleAssetMarketDataStruct=(0,i.object)({fungible:(0,i.literal)(!1),lastSale:(0,i.optional)(r.AssetValueStruct),topBid:(0,i.optional)(r.AssetValueStruct),floorPrice:(0,i.optional)(r.AssetValueStruct),rarity:(0,i.optional)((0,i.object)({ranking:(0,i.optional)((0,i.object)({source:(0,i.string)(),rank:(0,i.number)()})),metadata:(0,i.optional)((0,i.record)((0,i.string)(),(0,i.number)()))}))}),r.AssetMarketDataStruct=(0,n.selectiveUnion)(e=>(0,s.isObject)(e)&&e.fungible?r.FungibleAssetMarketDataStruct:r.NonFungibleAssetMarketDataStruct),r.OnAssetsMarketDataResponseStruct=(0,i.object)({marketData:(0,i.record)(s.CaipAssetTypeOrIdStruct,(0,i.record)(s.CaipAssetTypeStruct,(0,i.nullable)(r.AssetMarketDataStruct)))})}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/assets-market-data.cjs"}],[2373,{"./types.cjs":2380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SNAP_EXPORT_NAMES=r.SNAP_EXPORTS=void 0;const n=e("./types.cjs");r.SNAP_EXPORTS={[n.HandlerType.OnRpcRequest]:{type:n.HandlerType.OnRpcRequest,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnTransaction]:{type:n.HandlerType.OnTransaction,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnCronjob]:{type:n.HandlerType.OnCronjob,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnNameLookup]:{type:n.HandlerType.OnNameLookup,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnInstall]:{type:n.HandlerType.OnInstall,required:!1,validator:e=>"function"==typeof e},[n.HandlerType.OnUpdate]:{type:n.HandlerType.OnUpdate,required:!1,validator:e=>"function"==typeof e},[n.HandlerType.OnStart]:{type:n.HandlerType.OnStart,required:!1,validator:e=>"function"==typeof e},[n.HandlerType.OnActive]:{type:n.HandlerType.OnActive,required:!1,validator:e=>"function"==typeof e},[n.HandlerType.OnInactive]:{type:n.HandlerType.OnInactive,required:!1,validator:e=>"function"==typeof e},[n.HandlerType.OnKeyringRequest]:{type:n.HandlerType.OnKeyringRequest,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnHomePage]:{type:n.HandlerType.OnHomePage,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnSettingsPage]:{type:n.HandlerType.OnSettingsPage,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnSignature]:{type:n.HandlerType.OnSignature,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnUserInput]:{type:n.HandlerType.OnUserInput,required:!1,validator:e=>"function"==typeof e},[n.HandlerType.OnAssetHistoricalPrice]:{type:n.HandlerType.OnAssetHistoricalPrice,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnAssetsLookup]:{type:n.HandlerType.OnAssetsLookup,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnAssetsConversion]:{type:n.HandlerType.OnAssetsConversion,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnAssetsMarketData]:{type:n.HandlerType.OnAssetsMarketData,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnProtocolRequest]:{type:n.HandlerType.OnProtocolRequest,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnClientRequest]:{type:n.HandlerType.OnClientRequest,required:!0,validator:e=>"function"==typeof e},[n.HandlerType.OnWebSocketEvent]:{type:n.HandlerType.OnWebSocketEvent,required:!0,validator:e=>"function"==typeof e}},r.SNAP_EXPORT_NAMES=Object.values(n.HandlerType)}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/exports.cjs"}],[2374,{"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnHomePageResponseStruct=r.OnHomePageResponseWithIdStruct=r.OnHomePageResponseWithContentStruct=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct");r.OnHomePageResponseWithContentStruct=(0,i.object)({content:n.ComponentOrElementStruct}),r.OnHomePageResponseWithIdStruct=(0,i.object)({id:(0,i.string)()}),r.OnHomePageResponseStruct=(0,i.union)([r.OnHomePageResponseWithContentStruct,r.OnHomePageResponseWithIdStruct])}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/home-page.cjs"}],[2375,{"./asset-historical-price.cjs":2370,"./assets-conversion.cjs":2371,"./assets-market-data.cjs":2372,"./exports.cjs":2373,"./home-page.cjs":2374,"./name-lookup.cjs":2376,"./settings-page.cjs":2377,"./signature.cjs":2378,"./transaction.cjs":2379,"./types.cjs":2380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]},i=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./asset-historical-price.cjs"),r),i(e("./assets-conversion.cjs"),r),i(e("./assets-market-data.cjs"),r),i(e("./exports.cjs"),r),i(e("./home-page.cjs"),r),i(e("./name-lookup.cjs"),r),i(e("./settings-page.cjs"),r),i(e("./signature.cjs"),r),i(e("./transaction.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/index.cjs"}],[2376,{"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnNameLookupResponseStruct=r.DomainResolutionResponseStruct=r.AddressResolutionResponseStruct=r.DomainResolutionStruct=r.AddressResolutionStruct=void 0;const n=e("@metamask/superstruct");r.AddressResolutionStruct=(0,n.object)({protocol:(0,n.string)(),resolvedDomain:(0,n.string)()}),r.DomainResolutionStruct=(0,n.object)({protocol:(0,n.string)(),resolvedAddress:(0,n.string)(),domainName:(0,n.string)()}),r.AddressResolutionResponseStruct=(0,n.object)({resolvedDomains:(0,n.size)((0,n.array)(r.AddressResolutionStruct),1,Infinity)}),r.DomainResolutionResponseStruct=(0,n.object)({resolvedAddresses:(0,n.size)((0,n.array)(r.DomainResolutionStruct),1,Infinity)}),r.OnNameLookupResponseStruct=(0,n.nullable)((0,n.union)([r.AddressResolutionResponseStruct,r.DomainResolutionResponseStruct]))}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/name-lookup.cjs"}],[2377,{"./home-page.cjs":2374},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnSettingsPageResponseStruct=void 0;const n=e("./home-page.cjs");r.OnSettingsPageResponseStruct=n.OnHomePageResponseStruct}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/settings-page.cjs"}],[2378,{"./transaction.cjs":2379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnSignatureResponseStruct=void 0;const n=e("./transaction.cjs");r.OnSignatureResponseStruct=n.OnTransactionResponseStruct}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/signature.cjs"}],[2379,{"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OnTransactionResponseStruct=r.OnTransactionResponseWithContentStruct=r.OnTransactionResponseWithIdStruct=r.OnTransactionSeverityResponseStruct=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct");r.OnTransactionSeverityResponseStruct=(0,i.object)({severity:(0,i.optional)((0,i.literal)(n.SeverityLevel.Critical))}),r.OnTransactionResponseWithIdStruct=(0,i.assign)(r.OnTransactionSeverityResponseStruct,(0,i.object)({id:(0,i.string)()})),r.OnTransactionResponseWithContentStruct=(0,i.assign)(r.OnTransactionSeverityResponseStruct,(0,i.object)({content:n.ComponentOrElementStruct})),r.OnTransactionResponseStruct=(0,i.nullable)((0,i.union)([r.OnTransactionResponseWithContentStruct,r.OnTransactionResponseWithIdStruct]))}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/transaction.cjs"}],[238,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRemovedAuthorizations=r.getChangedAuthorizations=r.diffMap=void 0;r.diffMap=(e,t)=>{if(t===undefined)return e;const r=new Map;if(e===t)return r;const n=new Set([...e.keys()]);for(const i of t.keys()){const s=e.get(i)??[];s!==t.get(i)&&r.set(i,s),n.delete(i)}for(const t of n.keys())r.set(t,e.get(t));return r};r.getChangedAuthorizations=(e,t)=>{if(t===undefined)return e;const r=new Map;if(e===t)return r;const n=new Set([...e.keys()]);for(const i of t.keys()){const s=e.get(i)??{requiredScopes:{},optionalScopes:{}};t.get(i)!==s&&r.set(i,{requiredScopes:s.requiredScopes,optionalScopes:s.optionalScopes}),n.delete(i)}for(const t of n.keys())r.set(t,e.get(t));return r};r.getRemovedAuthorizations=(e,t)=>{const r=new Map;if(t===undefined||e===t)return r;for(const[n,i]of t.entries()){const t=e.get(n);if(!t){r.set(n,i);continue}const s={};Object.entries(i.requiredScopes).forEach(([e,r])=>{t.requiredScopes[e]||(s[e]=r)});const o={};Object.entries(i.optionalScopes).forEach(([e,r])=>{t.optionalScopes[e]||(o[e]=r)}),(Object.keys(s).length>0||Object.keys(o).length>0)&&r.set(n,{requiredScopes:s,optionalScopes:o})}return r}}}},{package:"$root$",file:"app/scripts/controllers/permissions/differs.ts"}],[2380,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.HandlerType=void 0,function(e){e.OnRpcRequest="onRpcRequest",e.OnSignature="onSignature",e.OnTransaction="onTransaction",e.OnCronjob="onCronjob",e.OnInstall="onInstall",e.OnUpdate="onUpdate",e.OnStart="onStart",e.OnActive="onActive",e.OnInactive="onInactive",e.OnNameLookup="onNameLookup",e.OnKeyringRequest="onKeyringRequest",e.OnHomePage="onHomePage",e.OnSettingsPage="onSettingsPage",e.OnUserInput="onUserInput",e.OnAssetsLookup="onAssetsLookup",e.OnAssetsConversion="onAssetsConversion",e.OnAssetHistoricalPrice="onAssetHistoricalPrice",e.OnAssetsMarketData="onAssetsMarketData",e.OnProtocolRequest="onProtocolRequest",e.OnClientRequest="onClientRequest",e.OnWebSocketEvent="onWebSocketEvent"}(n||(r.HandlerType=n={}))}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/handlers/types.cjs"}],[2381,{"./svg.cjs":2395,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSvgDimensions=r.assertIsSnapIcon=r.SVG_MAX_BYTE_SIZE_TEXT=r.SVG_MAX_BYTE_SIZE=void 0;const n=e("@metamask/utils"),i=e("./svg.cjs");r.SVG_MAX_BYTE_SIZE=1e5,r.SVG_MAX_BYTE_SIZE_TEXT=`${Math.floor(r.SVG_MAX_BYTE_SIZE/1e3)}kb`,r.assertIsSnapIcon=function(e){(0,n.assert)(e.path.endsWith(".svg"),'Expected snap icon to end in ".svg".');const t="string"==typeof e.value?(0,n.stringToBytes)(e.value).byteLength:e.value.byteLength;(0,n.assert)(t<=r.SVG_MAX_BYTE_SIZE,`The specified SVG icon exceeds the maximum size of ${r.SVG_MAX_BYTE_SIZE_TEXT}.`),(0,n.assert)((0,i.isSvg)(e.toString()),"Snap icon must be a valid SVG.")},r.getSvgDimensions=function(e){try{const t=(0,i.parseSvg)(e),r=t["@_height"],s=t["@_width"];if(r&&s)return{height:r,width:s};const o=t["@_viewBox"];if(o){const[e,t,r,i]=o.split(" ");if(r&&i){const e=parseInt(r,10),t=parseInt(i,10);return(0,n.assert)(Number.isInteger(e)&&e>0),(0,n.assert)(Number.isInteger(t)&&t>0),{width:e,height:t}}}}catch{throw new Error("Snap icon must be a valid SVG.")}return null}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/icon.cjs"}],[2382,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWindow=void 0,r.createWindow=async function({uri:e,id:t,sandbox:r=!0,testId:n="snaps-iframe"}){return await new Promise((i,s)=>{const o=document.createElement("iframe");o.setAttribute("id",t),o.setAttribute("data-testid",n),r&&o.setAttribute("sandbox","allow-scripts"),o.setAttribute("src",e),document.body.appendChild(o),o.addEventListener("load",()=>{o.contentWindow?i(o.contentWindow):s(new Error(`iframe.contentWindow not present on load for job "${t}".`))},{once:!0})})}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/iframe.cjs"}],[2383,{"./account.cjs":2355,"./array.cjs":2356,"./auxiliary-files.cjs":2357,"./base64.cjs":2358,"./bytes.cjs":2359,"./caveats.cjs":2360,"./checksum.cjs":2361,"./constants.cjs":2362,"./cronjob.cjs":2363,"./currency.cjs":2364,"./deep-clone.cjs":2365,"./default-endowments.cjs":2366,"./derivation-paths.cjs":2367,"./entropy.cjs":2368,"./errors.cjs":2369,"./handlers/index.cjs":2375,"./iframe.cjs":2382,"./json-rpc.cjs":2384,"./json.cjs":2385,"./localization.cjs":2386,"./logging.cjs":2387,"./manifest/index.cjs":2388,"./path.cjs":2390,"./platform-version.cjs":2391,"./snaps.cjs":2392,"./strings.cjs":2393,"./structs.cjs":2394,"./time.cjs":2396,"./types.cjs":2397,"./ui.cjs":2398,"./url.cjs":2399,"./validation.cjs":2400,"./versions.cjs":2401,"./virtual-file/index.cjs":2403},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]},i=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./account.cjs"),r),i(e("./array.cjs"),r),i(e("./auxiliary-files.cjs"),r),i(e("./base64.cjs"),r),i(e("./bytes.cjs"),r),i(e("./caveats.cjs"),r),i(e("./checksum.cjs"),r),i(e("./constants.cjs"),r),i(e("./cronjob.cjs"),r),i(e("./currency.cjs"),r),i(e("./deep-clone.cjs"),r),i(e("./default-endowments.cjs"),r),i(e("./derivation-paths.cjs"),r),i(e("./entropy.cjs"),r),i(e("./errors.cjs"),r),i(e("./handlers/index.cjs"),r),i(e("./iframe.cjs"),r),i(e("./json.cjs"),r),i(e("./json-rpc.cjs"),r),i(e("./localization.cjs"),r),i(e("./logging.cjs"),r),i(e("./manifest/index.cjs"),r),i(e("./path.cjs"),r),i(e("./platform-version.cjs"),r),i(e("./snaps.cjs"),r),i(e("./strings.cjs"),r),i(e("./structs.cjs"),r),i(e("./time.cjs"),r),i(e("./types.cjs"),r),i(e("./ui.cjs"),r),i(e("./url.cjs"),r),i(e("./validation.cjs"),r),i(e("./versions.cjs"),r),i(e("./virtual-file/index.cjs"),r)}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/index.cjs"}],[2384,{"@metamask/permission-controller":2862,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsJsonRpcSuccess=r.isOriginAllowed=r.assertIsKeyringOrigins=r.KeyringOriginsStruct=r.assertIsRpcOrigins=r.RpcOriginsStruct=void 0;const n=e("@metamask/permission-controller"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=(0,i.array)((0,i.refine)((0,i.string)(),"Allowed origin",e=>!(e.split("*").length-1>2)||'No more than two wildcards ("*") are allowed in an origin specifier.'));function a(e,t){if("*"===e||e===t)return!0;const r=function(e){const t=e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*");return RegExp(`^${t}$`,"u")}(e);return r.test(t)}r.RpcOriginsStruct=(0,i.refine)((0,i.object)({dapps:(0,i.optional)((0,i.boolean)()),snaps:(0,i.optional)((0,i.boolean)()),allowedOrigins:(0,i.optional)(o)}),"RPC origins",e=>!!Boolean(!0===e.snaps||!0===e.dapps||e.allowedOrigins&&e.allowedOrigins.length>0)||"Must specify at least one JSON-RPC origin."),r.assertIsRpcOrigins=function(e,t){(0,s.assertStruct)(e,r.RpcOriginsStruct,"Invalid JSON-RPC origins",t)},r.KeyringOriginsStruct=(0,i.object)({allowedOrigins:(0,i.optional)(o)}),r.assertIsKeyringOrigins=function(e,t){(0,s.assertStruct)(e,r.KeyringOriginsStruct,"Invalid keyring origins",t)},r.isOriginAllowed=function(e,t,r){var i;return"metamask"===r||(!(null===(i=e.allowedOrigins)||void 0===i||!i.some(e=>a(e,r)))||(!(t!==n.SubjectType.Website||!e.dapps)||Boolean(t===n.SubjectType.Snap&&e.snaps)))},r.assertIsJsonRpcSuccess=function(e){if(!(0,s.isJsonRpcSuccess)(e)){if((0,s.isJsonRpcFailure)(e))throw new Error(`JSON-RPC request failed: ${e.error.message}`);throw new Error("Invalid JSON-RPC response.")}}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/json-rpc.cjs"}],[2385,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonSizeUnsafe=r.parseJson=void 0;const n=e("@metamask/utils");r.parseJson=function(e){return(0,n.getSafeJson)(JSON.parse(e))},r.getJsonSizeUnsafe=function(e,t=!1){const r=JSON.stringify(e);return t?(new TextEncoder).encode(r).byteLength:r.length}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/json.cjs"}],[2386,{"./json.cjs":2385,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSnapManifestLocalizations=r.getLocalizedSnapManifest=r.translate=r.TRANSLATION_REGEX=r.getLocalizationFile=r.getValidatedLocalizationFiles=r.LocalizationFileStruct=r.LOCALIZABLE_FIELDS=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),s=e("./json.cjs");function o(e,t){const r=t.find(t=>t.locale===e);return r||t.find(e=>"en"===e.locale)}function a(e,t){const n=e.matchAll(r.TRANSLATION_REGEX);return Array.from(n).reduce((r,[n,i])=>{if(!t)throw new Error(`Failed to translate "${e}": No localization file found.`);const s=t.messages[i.trim()];if(!s)throw new Error(`Failed to translate "${e}": No translation found for "${i.trim()}" in "${t.locale}" file.`);return r.replace(n,s.message)},e)}function c(e,t,n){const i=o(t,n);return r.LOCALIZABLE_FIELDS.reduce((e,t)=>{const r=a(e[t],i);return{...e,[t]:r}},e)}r.LOCALIZABLE_FIELDS=["description","proposedName"],r.LocalizationFileStruct=(0,i.object)({locale:(0,i.string)(),messages:(0,i.record)((0,i.string)(),(0,i.object)({message:(0,i.string)(),description:(0,i.optional)((0,i.string)())}))}),r.getValidatedLocalizationFiles=function(e){for(const t of e)try{t.result=(0,i.create)((0,s.parseJson)(t.toString()),r.LocalizationFileStruct)}catch(e){if(e instanceof i.StructError)throw new Error(`Failed to validate localization file "${t.path}": ${e.message}.`);if(e instanceof SyntaxError)throw new Error(`Failed to parse localization file "${t.path}" as JSON.`);throw e}return e},r.getLocalizationFile=o,r.TRANSLATION_REGEX=/\{\{\s?([a-zA-Z0-9-_\s]+)\s?\}\}/gu,r.translate=a,r.getLocalizedSnapManifest=c,r.validateSnapManifestLocalizations=function(e,t){try{t.filter(e=>"en"!==e.locale).forEach(r=>{c(e,r.locale,t)}),c(e,"en",t)}catch(e){throw new Error(`Failed to localize Snap manifest: ${(0,n.getErrorMessage)(e)}`)}}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/localization.cjs"}],[2387,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.logWarning=r.logError=r.logInfo=r.snapsLogger=void 0;const n=e("@metamask/utils");r.snapsLogger=(0,n.createProjectLogger)("snaps"),r.logInfo=function(e,...t){console.log(e,...t)},r.logError=function(e,...t){console.error(e,...t)},r.logWarning=function(e,...t){console.warn(e,...t)}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/logging.cjs"}],[2388,{"./validation.cjs":2389},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]},i=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./validation.cjs"),r)}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/manifest/index.cjs"}],[2389,{"../array.cjs":2356,"../cronjob.cjs":2363,"../entropy.cjs":2368,"../json-rpc.cjs":2384,"../snaps.cjs":2392,"../structs.cjs":2394,"../types.cjs":2397,"@metamask/key-tree":2466,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSnapManifest=r.assertIsSnapManifest=r.isSnapManifest=r.SnapManifestStruct=r.InitialConnectionsStruct=r.SnapAuxilaryFilesStruct=r.SnapAuxiliaryFilesStruct=r.PermissionsStruct=r.EmptyObjectStruct=r.HandlerCaveatsStruct=r.ProtocolScopesStruct=r.MaxRequestTimeStruct=r.MAXIMUM_REQUEST_TIMEOUT=r.MINIMUM_REQUEST_TIMEOUT=r.LookupMatchersStruct=r.ChainIdsStruct=r.SnapIdsStruct=r.SemVerRangeStruct=r.SnapGetBip32EntropyPermissionsStruct=r.Bip32EntropyStruct=r.CurveStruct=r.bip32entropy=r.Bip32PathStruct=r.FORBIDDEN_COIN_TYPES=void 0;const n=e("@metamask/key-tree"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../array.cjs"),a=e("../cronjob.cjs"),c=e("../entropy.cjs"),u=e("../json-rpc.cjs"),l=e("../snaps.cjs"),d=e("../structs.cjs"),f=e("../types.cjs"),h=[c.SIP_6_MAGIC_VALUE,c.STATE_ENCRYPTION_MAGIC_VALUE];r.FORBIDDEN_COIN_TYPES=[60];const p=r.FORBIDDEN_COIN_TYPES.map(e=>["m","44'",`${e}'`]);r.Bip32PathStruct=(0,i.refine)((0,i.array)((0,i.string)()),"BIP-32 path",e=>0===e.length?"Path must be a non-empty BIP-32 derivation path array":"m"!==e[0]?'Path must start with "m".':e.length<3?"Paths must have a length of at least three.":e.slice(1).some(e=>!(0,n.isValidBIP32PathSegment)(e))?"Path must be a valid BIP-32 derivation path array.":h.includes(e[1])?`The purpose "${e[1]}" is not allowed for entropy derivation.`:!p.some(t=>(0,o.isEqual)(e.slice(0,t.length),t))||`The path "${e.join("/")}" is not allowed for entropy derivation.`);r.bip32entropy=e=>(0,i.refine)(e,"BIP-32 entropy",e=>"ed25519"!==e.curve||!e.path.slice(1).some(e=>!e.endsWith("'"))||"Ed25519 does not support unhardened paths."),r.CurveStruct=(0,i.enums)(["ed25519","secp256k1","ed25519Bip32"]),r.Bip32EntropyStruct=(0,r.bip32entropy)((0,i.type)({path:r.Bip32PathStruct,curve:r.CurveStruct})),r.SnapGetBip32EntropyPermissionsStruct=(0,i.size)((0,i.array)(r.Bip32EntropyStruct),1,Infinity),r.SemVerRangeStruct=(0,i.refine)((0,i.string)(),"SemVer range",e=>!!(0,s.isValidSemVerRange)(e)||"Expected a valid SemVer range."),r.SnapIdsStruct=(0,i.refine)((0,i.record)(l.SnapIdStruct,(0,i.object)({version:(0,i.optional)(r.SemVerRangeStruct)})),"SnapIds",e=>0!==Object.keys(e).length),r.ChainIdsStruct=(0,i.size)((0,i.array)(s.CaipChainIdStruct),1,Infinity),r.LookupMatchersStruct=(0,i.union)([(0,i.object)({tlds:(0,i.size)((0,i.array)((0,i.string)()),1,Infinity)}),(0,i.object)({schemes:(0,i.size)((0,i.array)((0,i.string)()),1,Infinity)}),(0,i.object)({tlds:(0,i.size)((0,i.array)((0,i.string)()),1,Infinity),schemes:(0,i.size)((0,i.array)((0,i.string)()),1,Infinity)})]),r.MINIMUM_REQUEST_TIMEOUT=(0,s.inMilliseconds)(5,s.Duration.Second),r.MAXIMUM_REQUEST_TIMEOUT=(0,s.inMilliseconds)(3,s.Duration.Minute),r.MaxRequestTimeStruct=(0,i.size)((0,i.integer)(),r.MINIMUM_REQUEST_TIMEOUT,r.MAXIMUM_REQUEST_TIMEOUT),r.ProtocolScopesStruct=(0,i.record)(s.CaipChainIdStruct,(0,i.object)({methods:(0,i.array)((0,i.string)())})),r.HandlerCaveatsStruct=(0,i.object)({maxRequestTime:(0,i.optional)(r.MaxRequestTimeStruct)}),r.EmptyObjectStruct=(0,i.object)({}),r.PermissionsStruct=(0,i.type)({"endowment:assets":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,(0,i.object)({scopes:r.ChainIdsStruct}))),"endowment:cronjob":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,(0,i.object)({jobs:(0,i.optional)(a.CronjobSpecificationArrayStruct)}))),"endowment:ethereum-provider":(0,i.optional)(r.EmptyObjectStruct),"endowment:keyring":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,u.KeyringOriginsStruct)),"endowment:protocol":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,(0,i.object)({scopes:r.ProtocolScopesStruct}))),"endowment:lifecycle-hooks":(0,i.optional)(r.HandlerCaveatsStruct),"endowment:name-lookup":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,(0,i.object)({chains:(0,i.optional)(r.ChainIdsStruct),matchers:(0,i.optional)(r.LookupMatchersStruct)}))),"endowment:network-access":(0,i.optional)(r.EmptyObjectStruct),"endowment:page-home":(0,i.optional)(r.HandlerCaveatsStruct),"endowment:rpc":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,u.RpcOriginsStruct)),"endowment:signature-insight":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,(0,i.object)({allowSignatureOrigin:(0,i.optional)((0,i.boolean)())}))),"endowment:transaction-insight":(0,i.optional)((0,d.mergeStructs)(r.HandlerCaveatsStruct,(0,i.object)({allowTransactionOrigin:(0,i.optional)((0,i.boolean)())}))),"endowment:webassembly":(0,i.optional)(r.EmptyObjectStruct),snap_dialog:(0,i.optional)(r.EmptyObjectStruct),snap_manageState:(0,i.optional)(r.EmptyObjectStruct),snap_manageAccounts:(0,i.optional)(r.EmptyObjectStruct),snap_notify:(0,i.optional)(r.EmptyObjectStruct),snap_getBip32Entropy:(0,i.optional)(r.SnapGetBip32EntropyPermissionsStruct),snap_getBip32PublicKey:(0,i.optional)(r.SnapGetBip32EntropyPermissionsStruct),snap_getBip44Entropy:(0,i.optional)((0,i.size)((0,i.array)((0,i.object)({coinType:(0,i.size)((0,i.integer)(),0,2**32-1)})),1,Infinity)),snap_getEntropy:(0,i.optional)(r.EmptyObjectStruct),snap_getLocale:(0,i.optional)(r.EmptyObjectStruct),wallet_snap:(0,i.optional)(r.SnapIdsStruct)}),r.SnapAuxiliaryFilesStruct=(0,i.array)((0,i.string)()),r.SnapAuxilaryFilesStruct=r.SnapAuxiliaryFilesStruct,r.InitialConnectionsStruct=(0,i.record)((0,i.intersection)([(0,i.string)(),(0,f.uri)()]),(0,i.object)({})),r.SnapManifestStruct=(0,i.object)({version:s.VersionStruct,description:(0,i.size)((0,i.string)(),1,280),proposedName:(0,i.size)((0,i.string)(),1,214),repository:(0,i.optional)((0,i.type)({type:(0,i.size)((0,i.string)(),1,Infinity),url:(0,i.size)((0,i.string)(),1,Infinity)})),source:(0,i.object)({shasum:s.ChecksumStruct,location:(0,i.object)({npm:(0,i.object)({filePath:(0,i.size)((0,i.string)(),1,Infinity),iconPath:(0,i.optional)((0,i.size)((0,i.string)(),1,Infinity)),packageName:f.NameStruct,registry:(0,i.union)([(0,i.literal)("https://registry.npmjs.org"),(0,i.literal)("https://registry.npmjs.org/")])})}),files:(0,i.optional)(r.SnapAuxiliaryFilesStruct),locales:(0,i.optional)(r.SnapAuxiliaryFilesStruct)}),initialConnections:(0,i.optional)(r.InitialConnectionsStruct),initialPermissions:r.PermissionsStruct,manifestVersion:(0,i.literal)("0.1"),platformVersion:(0,i.optional)(s.VersionStruct),$schema:(0,i.optional)((0,i.string)())}),r.isSnapManifest=function(e){return(0,i.is)(e,r.SnapManifestStruct)},r.assertIsSnapManifest=function(e){(0,s.assertStruct)(e,r.SnapManifestStruct,`"${f.NpmSnapFileNames.Manifest}" is invalid`)},r.createSnapManifest=function(e){return(0,i.create)(e,r.SnapManifestStruct)}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/manifest/validation.cjs"}],[239,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NOTIFICATION_NAMES=void 0;r.NOTIFICATION_NAMES=function(e){return e.accountsChanged="metamask_accountsChanged",e.chainChanged="metamask_chainChanged",e}({})}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.ts"}],[2390,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeRelative=void 0;const n=e("@metamask/utils");r.normalizeRelative=function(e){return(0,n.assert)(!e.startsWith("/")),(0,n.assert)(-1===e.search(/:|\/\//u),`Path "${e}" potentially an URI instead of local relative`),e.startsWith("./")?e.slice(2):e}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/path.cjs"}],[2391,{"@metamask/snaps-sdk/package.json":3353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getPlatformVersion=void 0;const i=n(e("@metamask/snaps-sdk/package.json"));r.getPlatformVersion=function(){return i.default.version}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/platform-version.cjs"}],[2392,{"./caveats.cjs":2360,"./checksum.cjs":2361,"./types.cjs":2397,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,"@metamask/utils":3554,"@scure/base":3634,"fast-json-stable-stringify":4789,"validate-npm-package-name":6150},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.verifyRequestedSnapPermissions=r.isSnapPermitted=r.assertIsValidSnapId=r.isSnapId=r.stripSnapPrefix=r.getSnapPrefix=r.SnapIdStruct=r.SnapIdPrefixStruct=r.HttpSnapIdStruct=r.NpmSnapIdStruct=r.LocalSnapIdStruct=r.BaseSnapIdStruct=r.LOCALHOST_HOSTNAMES=r.validateSnapShasum=r.getSnapChecksum=r.SnapStatusEvents=r.SnapStatus=r.PROPOSED_NAME_REGEX=void 0;const i=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),o=e("@metamask/utils"),a=e("@scure/base"),c=n(e("fast-json-stable-stringify")),u=n(e("validate-npm-package-name")),l=e("./caveats.cjs"),d=e("./checksum.cjs"),f=e("./types.cjs");var h,p;function m(e){const t=e.clone();return delete t.result.source.shasum,t.value=(0,c.default)(t.result),t}async function g(e){const{manifest:t,sourceCode:r,svgIcon:n,auxiliaryFiles:i,localizationFiles:s}=e,o=[m(t),r,n,...i,...s].filter(e=>e!==undefined);return a.base64.encode(await(0,d.checksumFiles)(o))}r.PROPOSED_NAME_REGEX=/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u,function(e){e.Installing="installing",e.Updating="updating",e.Running="running",e.Stopped="stopped",e.Crashed="crashed"}(h||(r.SnapStatus=h={})),function(e){e.Start="START",e.Stop="STOP",e.Crash="CRASH",e.Update="UPDATE"}(p||(r.SnapStatusEvents=p={})),r.getSnapChecksum=g,r.validateSnapShasum=async function(e,t="Invalid Snap manifest: manifest shasum does not match computed shasum."){if(e.manifest.result.source.shasum!==await g(e))throw new Error(t)},r.LOCALHOST_HOSTNAMES=["localhost","127.0.0.1","[::1]"],r.BaseSnapIdStruct=(0,o.definePattern)("Base Snap Id",/^[\x21-\x7E]*$/u);const y=(0,f.uri)({protocol:(0,s.enums)(["http:","https:"]),hostname:(0,s.enums)(r.LOCALHOST_HOSTNAMES),hash:(0,s.empty)((0,s.string)()),search:(0,s.empty)((0,s.string)())});function b(e){const t=Object.values(f.SnapIdPrefixes).find(t=>e.startsWith(t));if(t!==undefined)return t;throw new Error(`Invalid or no prefix found for "${e}"`)}r.LocalSnapIdStruct=(0,s.refine)(r.BaseSnapIdStruct,"local Snap Id",e=>{if(!e.startsWith(f.SnapIdPrefixes.local))return`Expected local snap ID, got "${e}".`;const[t]=(0,s.validate)(e.slice(f.SnapIdPrefixes.local.length),y);return t??!0}),r.NpmSnapIdStruct=(0,s.intersection)([r.BaseSnapIdStruct,(0,f.uri)({protocol:(0,s.literal)(f.SnapIdPrefixes.npm),pathname:(0,s.refine)((0,s.string)(),"package name",function*(e){const t=e.startsWith("/")?e.slice(1):e,{errors:r,validForNewPackages:n,warnings:i}=(0,u.default)(t);return n||(r===undefined?((0,o.assert)(i!==undefined),yield*i):yield*r),!0}),search:(0,s.empty)((0,s.string)()),hash:(0,s.empty)((0,s.string)())})]),r.HttpSnapIdStruct=(0,s.intersection)([r.BaseSnapIdStruct,(0,f.uri)({protocol:(0,s.enums)(["http:","https:"]),search:(0,s.empty)((0,s.string)()),hash:(0,s.empty)((0,s.string)())})]),r.SnapIdPrefixStruct=(0,s.refine)((0,s.string)(),"Snap ID prefix",e=>{if(Object.values(f.SnapIdPrefixes).some(t=>e.startsWith(t)))return!0;return`Invalid or no prefix found. Expected Snap ID to start with one of: ${Object.values(f.SnapIdPrefixes).map(e=>`"${e}"`).join(", ")}, but received: "${e}"`}),r.SnapIdStruct=(0,i.selectiveUnion)(e=>"string"==typeof e&&e.startsWith(f.SnapIdPrefixes.npm)?r.NpmSnapIdStruct:"string"==typeof e&&e.startsWith(f.SnapIdPrefixes.local)?r.LocalSnapIdStruct:r.SnapIdPrefixStruct),r.getSnapPrefix=b,r.stripSnapPrefix=function(e){return e.replace(b(e),"")},r.isSnapId=function(e){return(0,s.is)(e,r.SnapIdStruct)},r.assertIsValidSnapId=function(e){(0,o.assertStruct)(e,r.SnapIdStruct,"Invalid snap ID")},r.isSnapPermitted=function(e,t){var r,n;return Boolean(null===(r=((null==e||null===(n=e.wallet_snap)||void 0===n||null===(n=n.caveats)||void 0===n?void 0:n.find(e=>e.type===l.SnapCaveatType.SnapIds))??{}).value)||void 0===r?void 0:r[t])},r.verifyRequestedSnapPermissions=function(e){(0,o.assert)((0,o.isObject)(e),"Requested permissions must be an object.");const{wallet_snap:t}=e;(0,o.assert)((0,o.isObject)(t),"wallet_snap is missing from the requested permissions.");const{caveats:r}=t;(0,o.assert)(Array.isArray(r)&&1===r.length,"wallet_snap must have a caveat property with a single-item array value.");const[n]=r;(0,o.assert)((0,o.isObject)(n)&&n.type===l.SnapCaveatType.SnapIds&&(0,o.isObject)(n.value),`The requested permissions do not have a valid ${l.SnapCaveatType.SnapIds} caveat.`)}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/snaps.cjs"}],[2393,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indent=void 0,r.indent=function(e,t=2){return e.replace(/^/gmu," ".repeat(t))}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/strings.cjs"}],[2394,{"./strings.cjs":2393,"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,"@metamask/utils":3554,chalk:4496},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeStructs=r.createUnion=r.validateUnion=r.getStructErrorMessage=r.getStructFailureMessage=r.getStructErrorPrefix=r.getUnionStructNames=r.getStructFromPath=r.createFromStruct=r.getError=r.arrayToGenerator=r.SnapsStructError=r.named=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("chalk"),a=e("./strings.cjs");function c(e,t,r){return r?t(e):e}r.named=function(e,t){return new i.Struct({...t,type:e})};class u extends i.StructError{constructor(e,t,r,n,i,s=!0){super(n,i),this.name="SnapsStructError",this.message=`${t}.\n\n${g(e,[...i()],s)}${r?`\n\n${r}`:""}`}}function*l(e){for(const t of e)yield t}function d({struct:e,prefix:t,suffix:r="",error:n,colorize:i}){return new u(e,t,r,n,()=>l(n.failures()),i)}function f(e,t){return t.reduce((t,r)=>(0,s.isObject)(e.schema)&&e.schema[r]?e.schema[r]:t,e)}function h(e,t=!0){return Array.isArray(e.schema)?e.schema.map(({type:e})=>c(e,o.green,t)):null}function p(e,t=!0){return"never"===e.type||0===e.path.length?"":`At path: ${c(e.path.join("."),o.bold,t)}  `}function m(e,t,r=!0){const n=c(JSON.stringify(t.value),o.red,r),i=p(t,r);if("union"===t.type){const s=h(f(e,t.path),r);return s?`${i}Expected the value to be one of: ${s.join(", ")}, but received: ${n}.`:`${i}${t.message}.`}if("literal"===t.type){return`${i}${t.message.replace(/the literal `(.+)`,/u,`the value to be \`${c("$1",o.green,r)}\`,`).replace(/, but received: (.+)/u,`, but received: ${c("$1",o.red,r)}`)}.`}if("never"===t.type)return`Unknown key: ${c(t.path.join("."),o.bold,r)}, received: ${n}.`;if("size"===t.refinement){return`${i}${t.message.replace(/length between `(\d+)` and `(\d+)`/u,`length between ${c("$1",o.green,r)} and ${c("$2",o.green,r)},`).replace(/length of `(\d+)`/u,`length of ${c("$1",o.red,r)}`).replace(/a array/u,"an array")}.`}return t.refinement!==undefined?`${i}${t.message}.`:`${i}Expected a value of type ${c(t.type,o.green,r)}, but received: ${n}.`}function g(e,t,r=!0){return t.map(t=>(0,a.indent)(` ${m(e,t,r)}`)).join("\n")}function y(e,t,r,o=!1){(0,s.assert)(t.schema,"Expected a struct with a schema. Make sure to use `union` from `@metamask/snaps-sdk`."),(0,s.assert)(t.schema.length>0,"Expected a non-empty array of structs.");const a=t.schema.map(e=>e.schema[r]),c=(0,i.type)({[r]:(0,n.union)(a)}),[u]=(0,i.validate)(e,c,{coerce:o});if(u)throw new Error(m(c,u.failures()[0],!1));const l=e,d=t.schema.filter(e=>(0,i.is)(l[r],e.schema[r]));(0,s.assert)(d.length>0,"Expected a struct to match the value.");const f=d.map(e=>(0,i.validate)(l,e,{coerce:o})),h=f.find(([e])=>!e);if(h)return h[1];(0,s.assert)(f[0][0],"Expected at least one error.");const p=f.reduce((e,[t])=>((0,s.assert)(t,"Expected an error."),t.failures().length<e.failures().length?t:e),f[0][0]);throw new Error(m(t,p.failures()[0],!1))}r.SnapsStructError=u,r.arrayToGenerator=l,r.getError=d,r.createFromStruct=function(e,t,r,n=""){try{return(0,i.create)(e,t)}catch(e){if(e instanceof i.StructError)throw d({struct:t,prefix:r,suffix:n,error:e});throw e}},r.getStructFromPath=f,r.getUnionStructNames=h,r.getStructErrorPrefix=p,r.getStructFailureMessage=m,r.getStructErrorMessage=g,r.validateUnion=y,r.createUnion=function(e,t,r){return y(e,t,r,!0)},r.mergeStructs=function(...e){const t=i.assign(...e);return new i.Struct({...t,*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/structs.cjs"}],[2395,{"@metamask/utils":3554,"fast-xml-parser":4791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isSvg=r.parseSvg=void 0;const n=e("@metamask/utils"),i=e("fast-xml-parser");function s(e){try{const t=e.trim();(0,n.assert)(t.length>0);const r=new i.XMLParser({ignoreAttributes:!1,parseAttributeValue:!0}).parse(t,!0);return(0,n.assert)((0,n.hasProperty)(r,"svg")),(0,n.isObject)(r.svg)?r.svg:{}}catch{throw new Error("Snap icon must be a valid SVG.")}}r.parseSvg=s,r.isSvg=function(e){try{return s(e),!0}catch{return!1}}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/svg.cjs"}],[2396,{"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,luxon:5250},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ISO8601DateStruct=r.toCensoredISO8601String=r.ISO8601DurationStruct=void 0;const n=e("@metamask/superstruct"),i=e("luxon");r.ISO8601DurationStruct=(0,n.refine)((0,n.string)(),"ISO 8601 duration",e=>!!i.Duration.fromISO(e).isValid||"Not a valid ISO 8601 duration"),r.toCensoredISO8601String=function(e){return i.DateTime.fromISO(e,{setZone:!0}).startOf("second").toISO({suppressMilliseconds:!0})};var s=e("@metamask/snaps-sdk");Object.defineProperty(r,"ISO8601DateStruct",{enumerable:!0,get:function(){return s.ISO8601DateStruct}})}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/time.cjs"}],[2397,{"@metamask/snaps-sdk":3265,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WALLET_SNAP_PERMISSION_KEY=r.isValidUrl=r.uri=r.SNAP_STREAM_NAMES=r.SnapIdPrefixes=r.NpmSnapPackageJsonStruct=r.NameStruct=r.NpmSnapFileNames=void 0;const n=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),s=e("@metamask/utils");var o,a,c;!function(e){e.PackageJson="package.json",e.Manifest="snap.manifest.json"}(o||(r.NpmSnapFileNames=o={})),r.NameStruct=(0,i.size)((0,s.definePattern)("Snap Name",/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/u),1,214),r.NpmSnapPackageJsonStruct=(0,i.type)({version:s.VersionStruct,name:r.NameStruct,main:(0,i.optional)((0,i.size)((0,i.string)(),1,Infinity)),repository:(0,i.optional)((0,i.type)({type:(0,i.size)((0,i.string)(),1,Infinity),url:(0,i.size)((0,i.string)(),1,Infinity)}))}),function(e){e.npm="npm:",e.local="local:"}(a||(r.SnapIdPrefixes=a={})),function(e){e.JSON_RPC="jsonRpc",e.COMMAND="command"}(c||(r.SNAP_STREAM_NAMES=c={}));var u=e("@metamask/snaps-sdk");Object.defineProperty(r,"uri",{enumerable:!0,get:function(){return u.uri}}),r.isValidUrl=function(e,t={}){return(0,i.is)(e,(0,n.uri)(t))},r.WALLET_SNAP_PERMISSION_KEY="wallet_snap"}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/types.cjs"}],[2398,{"./types.cjs":2397,"./url.cjs":2399,"@metamask/snaps-sdk":3265,"@metamask/snaps-sdk/jsx":3352,"@metamask/snaps-sdk/jsx-runtime":3351,"@metamask/utils":3554,marked:5251},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.serialiseJsx=r.walkJsx=r.getJsxChildren=r.hasChildren=r.getTotalTextLength=r.validateJsxElements=r.validateAssetSelector=r.validateTextLinks=r.validateLink=r.getJsxElementFromComponent=r.getTextChildren=void 0;const n=e("@metamask/snaps-sdk/jsx-runtime"),i=e("@metamask/snaps-sdk"),s=e("@metamask/snaps-sdk/jsx"),o=e("@metamask/utils"),a=e("marked"),c=e("./types.cjs"),u=e("./url.cjs"),l=["https:","mailto:","metamask:"];function d(e){switch(e){case"primary":return"primary";case"secondary":return"destructive";default:return undefined}}function f(e){return 1===e.length?e[0]:e}function h(e){return e.tokens&&e.tokens.length>0?f(e.tokens.flatMap(m)):e.href}function p(e){return f(e.flatMap(m))}function m(e){switch(e.type){case"link":return(0,n.jsx)(s.Link,{href:e.href,children:h(e)});case"text":return e.text;case"strong":return(0,n.jsx)(s.Bold,{children:p(e.tokens)});case"em":return(0,n.jsx)(s.Italic,{children:p(e.tokens)});default:return null}}function g(e){const t=(0,a.lexer)(e,{gfm:!1}),r=[];return(0,a.walkTokens)(t,e=>{if("paragraph"===e.type){r.length>0&&r.push("\n\n");const{tokens:t}=e;r.push(...t.flatMap(m))}}),r.filter(e=>null!==e)}function y(e,t,r){try{const n=new URL(e);if((0,o.assert)(l.includes(n.protocol),`Protocol must be one of: ${l.join(", ")}.`),"metamask:"===n.protocol){const t=(0,u.parseMetaMaskUrl)(e);t.snapId&&(0,o.assert)(r(t.snapId),"The Snap being navigated to is not installed.")}else if("mailto:"===n.protocol){const e=n.pathname.split(",");for(const r of e){const e=r.split("@")[1];(0,o.assert)(!e.includes(":"));const n=`https://${e}`;(0,o.assert)(!t(n),"The specified URL is not allowed.")}return}(0,o.assert)(!t(n.href),"The specified URL is not allowed.")}catch(e){throw new Error(`Invalid URL: ${"ERR_ASSERTION"===(null==e?void 0:e.code)?e.message:"Unable to parse URL."}`)}}function b(e,t){const r=t(e);(0,o.assert)(r,`Could not find account for address: ${e}`)}function w(e){const{type:t}=e;switch(t){case i.NodeType.Panel:return e.children.reduce((e,t)=>e+w(t),0);case i.NodeType.Row:return w(e.value);case i.NodeType.Text:return e.value.length;default:return 0}}function v(e){return(0,o.hasProperty)(e.props,"children")}function k(e){return Boolean(e)&&!0!==e}function E(e){if(v(e)){if(Array.isArray(e.props.children))return e.props.children.filter(k).flat(Infinity);if(e.props.children)return[e.props.children]}return[]}function _(e,t,r=0){if(Array.isArray(e)){for(const n of e){const e=_(n,t,r);if(e!==undefined)return e}return undefined}const n=t(e,r);if(n!==undefined)return n;if((0,o.hasProperty)(e,"props")&&(0,o.isPlainObject)(e.props)&&(0,o.hasProperty)(e.props,"children")){const n=E(e);for(const e of n)if((0,o.isPlainObject)(e)){const n=_(e,t,r+1);if(n!==undefined)return n}}return undefined}function j(e){return Object.entries(e).filter(([e])=>"children"!==e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{return` ${e}=${r=t,"string"==typeof r?`"${r}"`:`{${JSON.stringify(r)}}`}`;var r}).join("")}r.getTextChildren=g,r.getJsxElementFromComponent=function(e){return function(e){const t=w(e);(0,o.assert)(t<=5e4,"The text in a Snap UI may not be larger than 50 kB.")}(e),function e(t){switch(t.type){case i.NodeType.Address:return(0,n.jsx)(s.Address,{address:t.value});case i.NodeType.Button:return(0,n.jsx)(s.Button,{name:t.name,variant:d(t.variant),type:t.buttonType,children:t.value});case i.NodeType.Copyable:return(0,n.jsx)(s.Copyable,{value:t.value,sensitive:t.sensitive});case i.NodeType.Divider:return(0,n.jsx)(s.Divider,{});case i.NodeType.Form:return(0,n.jsx)(s.Form,{name:t.name,children:f(t.children.map(e))});case i.NodeType.Heading:return(0,n.jsx)(s.Heading,{children:t.value});case i.NodeType.Image:return(0,n.jsx)(s.Image,{src:t.value});case i.NodeType.Input:return(0,n.jsx)(s.Field,{label:t.label,error:t.error,children:(0,n.jsx)(s.Input,{name:t.name,type:t.inputType,value:t.value,placeholder:t.placeholder})});case i.NodeType.Panel:return(0,n.jsx)(s.Box,{children:f(t.children.map(e))});case i.NodeType.Row:return(0,n.jsx)(s.Row,{label:t.label,variant:t.variant,children:e(t.value)});case i.NodeType.Spinner:return(0,n.jsx)(s.Spinner,{});case i.NodeType.Text:return(0,n.jsx)(s.Text,{children:f(g(t.value))});default:return(0,o.assertExhaustive)(t)}}(e)},r.validateLink=y,r.validateTextLinks=function(e,t,r){const n=function(e){const t=(0,a.lexer)(e,{gfm:!1}),r=[];return(0,a.walkTokens)(t,e=>{"link"===e.type&&r.push(e)}),r}(e);for(const e of n)y(e.href,t,r)},r.validateAssetSelector=b,r.validateJsxElements=function(e,{isOnPhishingList:t,getSnap:r,getAccountByAddress:n,hasPermission:i}){_(e,e=>{switch(e.type){case"Link":y(e.props.href,t,r);break;case"AssetSelector":b(e.props.addresses[0],n);break;case"Image":{const{src:t}=e.props,r=(0,c.isValidUrl)(t);(0,o.assert)(!r||r&&i("endowment:network-access"),"Using external images is only permitted with the `endowment:network-access` permission.");break}}})},r.getTotalTextLength=w,r.hasChildren=v,r.getJsxChildren=E,r.walkJsx=_,r.serialiseJsx=function e(t,r=0){if(Array.isArray(t))return t.map(t=>e(t,r)).join("");const n="  ".repeat(r);if("string"==typeof t)return`${n}${t}\n`;if(!t)return"";const{type:i,props:s}=t,a=r>0?"\n":"";if((0,o.hasProperty)(s,"children")){const t=e(s.children,r+1);return`${n}<${i}${j(s)}>\n${t}${n}</${i}>${a}`}return`${n}<${i}${j(s)} />${a}`}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/ui.cjs"}],[2399,{"./snaps.cjs":2392,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseMetaMaskUrl=r.SNAP_PATHS=r.CLIENT_PATHS=void 0;const n=e("@metamask/utils"),i=e("./snaps.cjs");r.CLIENT_PATHS=["/"],r.SNAP_PATHS=["/home"],r.parseMetaMaskUrl=function(e){const t=new URL(e),{protocol:s}=t;if("metamask:"!==s)throw new Error(`Unable to parse URL. Expected the protocol to be "metamask:", but received "${s}".`);const[o,...a]=t.href.replace("metamask://","").split("/"),c=`/${a.join("/")}`;switch(o){case"client":return(0,n.assert)(r.CLIENT_PATHS.includes(c),`Unable to navigate to "${c}". The provided path is not allowed.`),{authority:o,path:c};case"snap":return function(e){const t="Invalid MetaMask url:",s=(0,i.stripSnapPrefix)(e.slice(1)),o=e.slice(1).startsWith("npm:")?"npm:":"local:",a=s.startsWith("@"),c=s.split("/"),u=`/${c[c.length-1]}`;let l;if("local:"===o){const[e,,...i]=c.slice(0,-1);l=`${e}//${i.join("/")}`,(0,n.assert)(r.SNAP_PATHS.includes(u),`${t} invalid snap path.`)}else l=a?`${c[0]}/${c[1]}`:c[0],(0,n.assert)(a?3===c.length&&r.SNAP_PATHS.includes(u):2===c.length&&r.SNAP_PATHS.includes(u),`${t} invalid snap path.`);const d=`${o}${l}`;return(0,i.assertIsValidSnapId)(d),{authority:"snap",snapId:d,path:u}}(c);default:throw new Error(`Expected "metamask:" URL to start with "client" or "snap", but received "${o}".`)}}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/url.cjs"}],[240,{"./background-api":237,"./differs":238,"./enums":239,"./selectors":241,"./specifications":243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./background-api");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))});var i=e("./differs");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))});var s=e("./enums");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))});var o=e("./specifications");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var a=e("./selectors");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[2400,{"./icon.cjs":2381,"./localization.cjs":2386,"./manifest/validation.cjs":2389,"./snaps.cjs":2392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateFetchedSnap=void 0;const n=e("./icon.cjs"),i=e("./localization.cjs"),s=e("./manifest/validation.cjs"),o=e("./snaps.cjs");r.validateFetchedSnap=async function(e){(0,s.assertIsSnapManifest)(e.manifest.result),await(0,o.validateSnapShasum)(e),(0,i.validateSnapManifestLocalizations)(e.manifest.result,e.localizationFiles.map(e=>e.result)),e.svgIcon&&(0,n.assertIsSnapIcon)(e.svgIcon)}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/validation.cjs"}],[2401,{"@metamask/superstruct":3415,"@metamask/utils":3554,semver:5987},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveVersionRange=r.getTargetVersion=r.DEFAULT_REQUESTED_SNAP_VERSION=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("semver");r.DEFAULT_REQUESTED_SNAP_VERSION="*",r.getTargetVersion=function(e,t){const r=(0,s.maxSatisfying)(e,t);return r||(0,s.maxSatisfying)(e,t,{includePrerelease:!0})},r.resolveVersionRange=function(e){return e===undefined||"latest"===e?[undefined,r.DEFAULT_REQUESTED_SNAP_VERSION]:(0,n.validate)(e,i.VersionRangeStruct)}}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/versions.cjs"}],[2402,{"../deep-clone.cjs":2365,"@metamask/utils":3554,"@scure/base":3634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0}),r.VirtualFile=void 0;const i=e("@metamask/utils"),s=e("@scure/base"),o=e("../deep-clone.cjs");class a{constructor(e){var t,r,i,s;let o;n(this,"value",void 0),n(this,"result",void 0),n(this,"data",void 0),n(this,"path",void 0),o="string"==typeof e||e instanceof Uint8Array?{value:e}:e,this.value=(null===(t=o)||void 0===t?void 0:t.value)??"",this.result=(null===(r=o)||void 0===r?void 0:r.result)??undefined,this.data=(null===(i=o)||void 0===i?void 0:i.data)??{},this.path=(null===(s=o)||void 0===s?void 0:s.path)??"/"}get size(){return"string"==typeof this.value?this.value.length:this.value.byteLength}toString(e){if("string"==typeof this.value)return(0,i.assert)(e===undefined,"Tried to encode string."),this.value;if(this.value instanceof Uint8Array&&"hex"===e)return(0,i.bytesToHex)(this.value);if(this.value instanceof Uint8Array&&"base64"===e)return s.base64.encode(this.value);return new TextDecoder(e).decode(this.value)}clone(){const e=new a;return"string"==typeof this.value?e.value=this.value:e.value=this.value.slice(0),e.result=(0,o.deepClone)(this.result),e.data=(0,o.deepClone)(this.data),e.path=this.path,e}}r.VirtualFile=a}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/virtual-file/VirtualFile.cjs"}],[2403,{"./VirtualFile.cjs":2402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]},i=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./VirtualFile.cjs"),r)}}},{package:"@metamask/gator-permissions-controller>@metamask/snaps-utils",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/snaps-utils/dist/virtual-file/index.cjs"}],[2404,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"]}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/colors.js"}],[2405,{"./colors":2404,"./paper":2411,color:2410,"mersenne-twister":5313},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=e("mersenne-twister"),s=e("./paper"),o=e("color"),a=e("./colors"),c="http://www.w3.org/2000/svg";function u(e,t,r,i,s){var o=t/2,a=document.createElementNS(c,"rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",t),a.setAttributeNS(null,"height",t);var u=n.random(),d=2*Math.PI*u,f=t/i*n.random()+r*t/i,h=Math.cos(d)*f,p=Math.sin(d)*f,m="translate("+h.toFixed(14)+" "+p.toFixed(14)+")"+" "+("rotate("+(360*u+180*n.random()).toFixed(1)+" "+o.toFixed(14)+" "+o.toFixed(14)+")");a.setAttributeNS(null,"transform",m);var g=l(e);a.setAttributeNS(null,"fill",g),s.appendChild(a)}function l(e){n.random();var t=Math.floor(e.length*n.random());return e.splice(t,1)[0]}t.exports=function(e,t){n=new i(t);var r=function(e,t){var r=30*t.random()-d/2;return e.map(function(e){var t=o(e);return t.rotate(r),t.hexString()})}(a.slice(),n),f=s(e,l(r)).container,h=document.createElementNS(c,"svg");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",e),h.setAttributeNS(null,"height",e),f.appendChild(h);for(var p=0;p<3;p++)u(r,e,p,3,h);return f};var d=30}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/index.js"}],[2406,{"color-name":2409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("color-name"),i={};for(var s in n)n.hasOwnProperty(s)&&(i[n[s]]=s);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=o[a].channels,u=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:c}),Object.defineProperty(o[a],"labels",{value:u})}function l(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}o.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(n,i,s),a=Math.max(n,i,s),c=a-o;return a===o?t=0:n===a?t=(i-s)/c:i===a?t=2+(s-n)/c:s===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(o+a)/2,[t,100*(a===o?0:r<=.5?c/(a+o):c/(2-a-o)),100*r]},o.rgb.hsv=function(e){var t,r,n,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),l=u-Math.min(o,a,c),d=function(e){return(u-e)/6/l+.5};return 0===l?i=s=0:(s=l/u,t=d(o),r=d(a),n=d(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*u]},o.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},o.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,s=Infinity;for(var o in n)if(n.hasOwnProperty(o)){var a=l(e,n[o]);a<s&&(s=a,r=o)}return r},o.keyword.rgb=function(e){return n[e]},o.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.hsl.rgb=function(e){var t,r,n,i,s,o=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[s=255*c,s,s];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,s=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*s;return i},o.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=s<=1?s:2-s,[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}},o.hsv.hsl=function(e){var t,r,n,i=e[0],s=e[1]/100,o=e[2]/100,a=Math.max(o,.01);return n=(2-s)*o,r=s*a,[i,100*(r=(r/=(t=(2-s)*a)<=1?t:2-t)||0),100*(n/=2)]},o.hwb.rgb=function(e){var t,r,n,i,s,o,a,c=e[0]/360,u=e[1]/100,l=e[2]/100,d=u+l;switch(d>1&&(u/=d,l/=d),n=6*c-(t=Math.floor(6*c)),1&t&&(n=1-n),i=u+n*((r=1-l)-u),t){default:case 6:case 0:s=r,o=i,a=u;break;case 1:s=i,o=r,a=u;break;case 2:s=u,o=r,a=i;break;case 3:s=u,o=i,a=r;break;case 4:s=i,o=u,a=r;break;case 5:s=r,o=u,a=i}return[255*s,255*o,255*a]},o.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(e){var t,r,n,i=e[0]/100,s=e[1]/100,o=e[2]/100;return r=-.9689*i+1.8758*s+.0415*o,n=.0557*i+-.204*s+1.057*o,t=(t=3.2406*i+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var s=Math.pow(r,3),o=Math.pow(t,3),a=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},o.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},o.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.max(Math.max(r,n),i),o=Math.min(Math.min(r,n),i),a=s-o;return t=a<=0?0:s===r?(n-i)/a%6:s===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},o.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,s=[0,0,0],o=t%1*6,a=o%1,c=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return i=(1-r)*n,[255*(r*s[0]+i),255*(r*s[1]+i),255*(r*s[2]+i)]},o.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},o.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},o.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},o.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/conversions.js"}],[2407,{"./conversions":2406,"./route":2408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./conversions"),i=e("./route"),s={};Object.keys(n).forEach(function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:n[e].channels}),Object.defineProperty(s[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach(function(r){var n=t[r];s[e][r]=function(e){var t=function(t){if(t===undefined||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),s[e][r].raw=function(e){var t=function(t){return t===undefined||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),t.exports=s}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/index.js"}],[2408,{"./conversions":2406},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./conversions");function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),s=Object.keys(n[i]),o=s.length,a=0;a<o;a++){var c=s[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}function s(e,t){return function(r){return t(e(r))}}function o(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],o=t[e].parent;t[o].parent;)r.unshift(t[o].parent),i=s(n[t[o].parent][o],i),o=t[o].parent;return i.conversion=r,i}t.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),s=n.length,a=0;a<s;a++){var c=n[a];null!==t[c].parent&&(r[c]=o(c,t))}return r}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/route.js"}],[2409,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}}},{package:"@metamask/jazzicon>color>color-convert>color-name",file:"node_modules/@metamask/jazzicon/node_modules/color-name/index.js"}],[241,{"@metamask/chain-agnostic-permission":1610,reselect:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermittedChainsByOrigin=r.getPermittedAccountsForScopesByOrigin=r.getPermittedAccountsByOrigin=r.getOriginsWithSessionProperty=r.getAuthorizedScopesByOrigin=void 0;var n=e("@metamask/chain-agnostic-permission"),i=e("reselect");const s=e=>e.subjects;r.getPermittedAccountsByOrigin=(0,i.createSelector)(s,e=>{const t=new Map;return Object.values(e).forEach(e=>{var r;const i=((null===(r=e.permissions)||void 0===r||null===(r=r[n.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find(({type:e})=>e===n.Caip25CaveatType);if(i){const r=(0,n.getEthAccounts)(i.value);t.set(e.origin,r)}}),t}),r.getPermittedAccountsForScopesByOrigin=(0,i.createSelector)(s,(e,t)=>t,(e,t)=>{const r=new Map;return Object.values(e).forEach(e=>{var i;const s=((null===(i=e.permissions)||void 0===i||null===(i=i[n.Caip25EndowmentPermissionName])||void 0===i?void 0:i.caveats)||[]).find(({type:e})=>e===n.Caip25CaveatType);if(s){const i=(0,n.getPermittedAccountsForScopes)(s.value,t);i.length>0&&r.set(e.origin,i)}}),r}),r.getOriginsWithSessionProperty=(0,i.createSelector)(s,(e,t)=>t,(e,t)=>{const r={};return Object.values(e).forEach(e=>{var i,s;const o=((null===(i=e.permissions)||void 0===i||null===(i=i[n.Caip25EndowmentPermissionName])||void 0===i?void 0:i.caveats)||[]).find(({type:e})=>e===n.Caip25CaveatType),a=null==o||null===(s=o.value)||void 0===s||null===(s=s.sessionProperties)||void 0===s?void 0:s[t];a!==undefined&&(r[e.origin]=a)}),r}),r.getAuthorizedScopesByOrigin=(0,i.createSelector)(s,e=>Object.values(e).reduce((e,t)=>{var r;const i=((null===(r=t.permissions)||void 0===r||null===(r=r[n.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find(({type:e})=>e===n.Caip25CaveatType);return i&&e.set(t.origin,i.value),e},new Map)),r.getPermittedChainsByOrigin=(0,i.createSelector)(s,e=>Object.values(e).reduce((e,t)=>{var r;const i=((null===(r=t.permissions)||void 0===r||null===(r=r[n.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find(({type:e})=>e===n.Caip25CaveatType);if(i){const r=(0,n.getPermittedEthChainIds)(i.value);e.set(t.origin,r)}return e},new Map))}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[2410,{clone:4508,"color-convert":2407,"color-string":4539},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("clone"),i=e("color-convert"),s=e("color-string"),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);var t;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=s.getRgba(e))this.setValues("rgb",t);else if(t=s.getHsla(e))this.setValues("hsl",t);else{if(!(t=s.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if((t=e).r!==undefined||t.red!==undefined)this.setValues("rgb",t);else if(t.l!==undefined||t.lightness!==undefined)this.setValues("hsl",t);else if(t.v!==undefined||t.value!==undefined)this.setValues("hsv",t);else if(t.w!==undefined||t.whiteness!==undefined)this.setValues("hwb",t);else{if(t.c===undefined&&t.cyan===undefined)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},rgbaArrayNormalized:function(){for(var e=this.values.rgb,t=[],r=0;r<3;r++)t[r]=e[r]/255;return t.push(this.values.alpha),t},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(e){return e===undefined?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return s.hexString(this.values.rgb)},rgbString:function(){return s.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return s.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return s.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return s.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return s.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return s.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return s.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t=(t+e)%360)<0?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){var r=this,n=e,i=t===undefined?.5:t,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,c=1-a;return this.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue()).alpha(r.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e=new o;return e.values=n(this.values),e}},o.prototype.getValues=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=this.values[e][r];return 1!==this.values.alpha&&(t.a=this.values.alpha),t},o.prototype.setValues=function(e,t){var r,n,s={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"===e)a=t;else if(t.length)this.values[e]=t.slice(0,e.length),a=t[e.length];else if(t[e.charAt(0)]!==undefined){for(r=0;r<e.length;r++)this.values[e][r]=t[e.charAt(r)];a=t.a}else if(t[s[e][0]]!==undefined){var c=s[e];for(r=0;r<e.length;r++)this.values[e][r]=t[c[r]];a=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,a===undefined?this.values.alpha:a)),"alpha"===e)return!1;for(r=0;r<e.length;r++)n=Math.max(0,Math.min(o[e][r],this.values[e][r])),this.values[e][r]=Math.round(n);for(var u in s)for(u!==e&&(this.values[u]=i[e][u](this.values[e])),r=0;r<u.length;r++)n=Math.max(0,Math.min(o[u][r],this.values[u][r])),this.values[u][r]=Math.round(n);return!0},o.prototype.setSpace=function(e,t){var r=t[0];return r===undefined?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r),this)},o.prototype.setChannel=function(e,t,r){return r===undefined?this.values[e][t]:(r===this.values[e][t]||(this.values[e][t]=r,this.setValues(e,this.values[e])),this)},t.exports=o}}},{package:"@metamask/jazzicon>color",file:"node_modules/@metamask/jazzicon/node_modules/color/index.js"}],[2411,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=document.createElement("div");return r.style.borderRadius="50px",r.style.overflow="hidden",r.style.padding="0px",r.style.margin="0px",r.style.width=e+"px",r.style.height=e+"px",r.style.display="inline-block",r.style.background=t,{container:r}}}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/paper.js"}],[2412,{"./v2/utils.cjs":2427,"@metamask/rpc-errors":3026,"@metamask/safe-event-emitter":3028,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,f,h,p,m,g=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},y=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngine=void 0;const w=e("@metamask/rpc-errors"),v=b(e("@metamask/safe-event-emitter")),k=e("@metamask/utils"),E=e("./v2/utils.cjs");class _ extends v.default{constructor({notificationHandler:e}={}){super(),n.add(this),s.set(this,!1),o.set(this,void 0),a.set(this,void 0),g(this,o,[],"f"),g(this,a,e,"f")}destroy(){y(this,o,"f").forEach(e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}),g(this,o,[],"f"),g(this,s,!0,"f")}push(e){y(this,n,"m",c).call(this),y(this,o,"f").push(e)}handle(e,t){if(y(this,n,"m",c).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?y(this,n,"m",u).call(this,e,t):y(this,n,"m",u).call(this,e):t?y(this,n,"m",l).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return y(this,n,"m",c).call(this),async(e,t,r,n)=>{try{const[s,a,c]=await y(i,i,"m",f).call(i,e,t,y(this,o,"f"));return a?(await y(i,i,"m",p).call(i,c),n(s)):r(async e=>{try{await y(i,i,"m",p).call(i,c)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _promiseHandle(e){return new Promise((t,r)=>{y(this,n,"m",l).call(this,e,(e,n)=>{e&&n===undefined?r(e):t(n)}).catch(r)})}}r.JsonRpcEngine=_,i=_,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=function(){if(y(this,s,"f"))throw new Error("This engine is destroyed and can no longer be used.")},u=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new w.JsonRpcError(w.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const r=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(e=>e!==undefined);return t?t(null,r):r}catch(e){if(t)return t(e);throw e}},l=async function(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new w.JsonRpcError(w.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:null,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new w.JsonRpcError(w.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return y(this,a,"f")&&!(0,k.isJsonRpcRequest)(e)?t(null):t(r,{id:e.id??null,jsonrpc:"2.0",error:r})}if(y(this,a,"f")&&(0,k.isJsonRpcNotification)(e)&&!(0,k.isJsonRpcRequest)(e)){try{await y(this,a,"f").call(this,e)}catch(r){return t(r)}return t(null)}let r=null;const n={...e},s={id:n.id,jsonrpc:n.jsonrpc};try{await y(i,i,"m",d).call(i,n,s,y(this,o,"f"))}catch(e){r=e}return r&&(delete s.result,s.error??(s.error=(0,w.serializeError)(r))),t(r,s)},d=async function(e,t,r){const[n,s,o]=await y(i,i,"m",f).call(i,e,t,r);if(y(i,i,"m",m).call(i,e,t,s),await y(i,i,"m",p).call(i,o),n)throw n},f=async function(e,t,r){const n=[];let s=null,o=!1;for(const a of r)if([s,o]=await y(i,i,"m",h).call(i,e,t,a,n),o)break;return[s,o,n.reverse()]},h=async function(e,t,r,n){return new Promise(i=>{const s=e=>{const r=e??t.error;r&&(t.error=(0,w.serializeError)(r)),i([r,!0])},o=r=>{t.error?s(t.error):(r&&("function"!=typeof r&&s(new w.JsonRpcError(w.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${(0,E.stringify)(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,o,s)}catch(e){s(e)}})},p=async function(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})},m=function(e,t,r){if(!(0,k.hasProperty)(t,"result")&&!(0,k.hasProperty)(t,"error"))throw new w.JsonRpcError(w.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${(0,E.stringify)(e)}`,{request:e});if(!r)throw new w.JsonRpcError(w.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${(0,E.stringify)(e)}`,{request:e})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/JsonRpcEngine.cjs"}],[2413,{"./mergeMiddleware.cjs":2419,"./v2/compatibility-utils.cjs":2424,"@metamask/rpc-errors":3026,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asV2Middleware=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("./mergeMiddleware.cjs"),o=e("./v2/compatibility-utils.cjs");r.asV2Middleware=function(e,...t){const r="function"==typeof e?(0,s.mergeMiddleware)([e,...t]):e.asMiddleware();return async({request:e,context:t,next:s})=>{const a=(0,o.deepClone)(e);(0,o.propagateToRequest)(a,t);const c=await new Promise(e=>{const t={jsonrpc:"2.0",id:a.id},i=r=>{r!==undefined&&(t.error=(0,n.serializeError)(r)),e(t)};r(a,t,e=>e(i),i)});if((0,o.propagateToContext)(a,t),(0,i.hasProperty)(c,"error")&&c.error)throw(0,o.deserializeError)(c.error);return(0,i.hasProperty)(c,"result")?c.result:s((0,o.fromLegacyRequest)(a))}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/asV2Middleware.cjs"}],[2414,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=void 0,r.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let s;const o=new Promise(e=>{s=e});let a=null,c=!1;const u=async()=>(c=!0,n(e=>{a=e,s()}),o);try{await e(t,r,u),c?(await o,a(null)):i(null)}catch(e){a?a(e):i(e)}}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createAsyncMiddleware.cjs"}],[2415,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const s=e[t.method];return s===undefined?n():"function"==typeof s?s(t,r,n,i):(r.result=s,i())}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createScaffoldMiddleware.cjs"}],[2416,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getUniqueId=void 0;const n=4294967295;let i=Math.floor(Math.random()*n);r.getUniqueId=function(){return i=(i+1)%n,i}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/getUniqueId.cjs"}],[2417,{"./getUniqueId.cjs":2416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIdRemapMiddleware=void 0;const n=e("./getUniqueId.cjs");r.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const s=e.id,o=(0,n.getUniqueId)();e.id=o,t.id=o,r(r=>{e.id=s,t.id=s,r()})}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/idRemapMiddleware.cjs"}],[2418,{"./JsonRpcEngine.cjs":2412,"./asV2Middleware.cjs":2413,"./createAsyncMiddleware.cjs":2414,"./createScaffoldMiddleware.cjs":2415,"./getUniqueId.cjs":2416,"./idRemapMiddleware.cjs":2417,"./mergeMiddleware.cjs":2419},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=r.JsonRpcEngine=r.createIdRemapMiddleware=r.getUniqueId=r.createScaffoldMiddleware=r.createAsyncMiddleware=r.asV2Middleware=void 0;var n=e("./asV2Middleware.cjs");Object.defineProperty(r,"asV2Middleware",{enumerable:!0,get:function(){return n.asV2Middleware}});var i=e("./createAsyncMiddleware.cjs");Object.defineProperty(r,"createAsyncMiddleware",{enumerable:!0,get:function(){return i.createAsyncMiddleware}});var s=e("./createScaffoldMiddleware.cjs");Object.defineProperty(r,"createScaffoldMiddleware",{enumerable:!0,get:function(){return s.createScaffoldMiddleware}});var o=e("./getUniqueId.cjs");Object.defineProperty(r,"getUniqueId",{enumerable:!0,get:function(){return o.getUniqueId}});var a=e("./idRemapMiddleware.cjs");Object.defineProperty(r,"createIdRemapMiddleware",{enumerable:!0,get:function(){return a.createIdRemapMiddleware}});var c=e("./JsonRpcEngine.cjs");Object.defineProperty(r,"JsonRpcEngine",{enumerable:!0,get:function(){return c.JsonRpcEngine}});var u=e("./mergeMiddleware.cjs");Object.defineProperty(r,"mergeMiddleware",{enumerable:!0,get:function(){return u.mergeMiddleware}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/index.cjs"}],[2419,{"./JsonRpcEngine.cjs":2412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=void 0;const n=e("./JsonRpcEngine.cjs");r.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/mergeMiddleware.cjs"}],[2420,{"./MiddlewareContext.cjs":2422,"./utils.cjs":2427,"@metamask/utils":3554,"deep-freeze-strict":4626},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,f=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},h=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineV2=void 0;const m=e("@metamask/utils"),g=p(e("deep-freeze-strict")),y=e("./MiddlewareContext.cjs"),b=e("./utils.cjs");Symbol("Invalid engine");class w{constructor({middleware:e}){n.add(this),i.set(this,void 0),s.set(this,!1),f(this,i,[...e],"f")}static create({middleware:e}){if(0===e.length)throw new b.JsonRpcEngineError("Middleware array cannot be empty");return new w({middleware:e})}async handle(e,{context:t}={}){const r=(0,b.isRequest)(e),{result:i}=await h(this,n,"m",o).call(this,e,t);if(r&&i===undefined)throw new b.JsonRpcEngineError(`Nothing ended request: ${(0,b.stringify)(e)}`);return i}asMiddleware(){return h(this,n,"m",d).call(this),async({request:e,context:t,next:r})=>{const{result:i,request:s}=await h(this,n,"m",o).call(this,e,t);return i===undefined?await r(s):i}}async destroy(){if(h(this,s,"f"))return;f(this,s,!0,"f");const e=Promise.all(h(this,i,"f").map(async e=>"destroy"in e&&"function"==typeof e.destroy?e.destroy():undefined));f(this,i,[],"f"),await e}}r.JsonRpcEngineV2=w,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=async function(e,t=new y.MiddlewareContext){h(this,n,"m",d).call(this),(0,g.default)(e);const r={request:e,result:undefined},i=h(this,n,"m",c).call(this),s=i.next().value,o=y.MiddlewareContext.isInstance(t)?t:new y.MiddlewareContext(t),l=h(this,n,"m",a).call(this,i,r,o),f=await s({request:e,context:o,next:l()});return h(this,n,"m",u).call(this,f,r),r},a=function(e,t,r){const i=()=>{let s=!1;return async(o=t.request)=>{if(s)throw new b.JsonRpcEngineError(`Middleware attempted to call next() multiple times for request: ${(0,b.stringify)(o)}`);s=!0,o!==t.request&&(h(this,n,"m",l).call(this,t.request,o),t.request=(0,g.default)(o));const{value:a,done:c}=e.next();if(c)return undefined;const d=await a({request:o,context:r,next:i()});return h(this,n,"m",u).call(this,d,t),t.result}};return i},c=function(){return h(this,i,"f")[Symbol.iterator]()},u=function(e,t){if((0,b.isNotification)(t.request)&&e!==undefined)throw new b.JsonRpcEngineError(`Result returned for notification: ${(0,b.stringify)(t.request)}`);e!==undefined&&e!==t.result&&("object"==typeof e&&null!==e&&(0,g.default)(e),t.result=e)},l=function(e,t){if(t.jsonrpc!==e.jsonrpc)throw new b.JsonRpcEngineError(`Middleware attempted to modify readonly property "jsonrpc" for request: ${(0,b.stringify)(e)}`);if((0,m.hasProperty)(t,"id")!==(0,m.hasProperty)(e,"id")||t.id!==e.id)throw new b.JsonRpcEngineError(`Middleware attempted to modify readonly property "id" for request: ${(0,b.stringify)(e)}`)},d=function(){if(h(this,s,"f"))throw new b.JsonRpcEngineError("Engine is destroyed")}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/JsonRpcEngineV2.cjs"}],[2421,{"../getUniqueId.cjs":2416,"./JsonRpcEngineV2.cjs":2420,"@metamask/rpc-errors":3026,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcServer=void 0;const u=e("@metamask/rpc-errors"),l=e("@metamask/utils"),d=e("./JsonRpcEngineV2.cjs"),f=e("../getUniqueId.cjs"),h="2.0";class p{constructor(e){i.set(this,void 0),s.set(this,void 0),a(this,s,e.onError,"f"),(0,l.hasProperty)(e,"engine")?a(this,i,e.engine,"f"):a(this,i,d.JsonRpcEngineV2.create({middleware:e.middleware}),"f")}async handle(e,t){const[r,a]=function(e){if((0,l.isObject)(e)&&(0,l.hasProperty)(e,"id"))return[e.id,!0];return[undefined,!1]}(e);try{const s=c(n,n,"m",o).call(n,e,a),u=await c(this,i,"f").handle(s,t);if(u!==undefined)return{jsonrpc:h,id:r,result:u}}catch(e){if(c(this,s,"f")?.call(this,e),a)return{jsonrpc:h,id:r,error:(0,u.serializeError)(e,{shouldIncludeStack:!1,shouldPreserveMessage:!0})}}return undefined}}r.JsonRpcServer=p,n=p,i=new WeakMap,s=new WeakMap,o=function(e,t){if(!function(e){return(0,l.isObject)(e)&&(0,l.hasProperty)(e,"method")&&"string"==typeof e.method&&function(e){if((0,l.hasProperty)(e,"params"))return Array.isArray(e.params)||(0,l.isObject)(e.params);return!0}(e)}(e))throw u.rpcErrors.invalidRequest({data:{request:e}});const r={jsonrpc:h,method:e.method};return(0,l.hasProperty)(e,"params")&&(r.params=e.params),t&&(r.id=(0,f.getUniqueId)()),r}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/JsonRpcServer.cjs"}],[2422,{"./utils.cjs":2427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.MiddlewareContext=void 0;const i=e("./utils.cjs"),s=Symbol.for("json-rpc-engine#MiddlewareContext");class o extends Map{static isInstance(e){return(0,i.isInstance)(e,s)}constructor(e){var t,r;super(e&&(r=e,Symbol.iterator in r)?e:(t=e??{},Reflect.ownKeys(t).map(e=>[e,t[e]]))),this[n]=!0,Object.freeze(this)}get(e){return super.get(e)}assertGet(e){if(!super.has(e))throw new Error(`Context key "${String(e)}" not found`);return super.get(e)}set(e,t){if(super.has(e))throw new Error(`MiddlewareContext key "${String(e)}" already exists`);return super.set(e,t),this}}r.MiddlewareContext=o,n=s}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/MiddlewareContext.cjs"}],[2423,{"../index.cjs":2418,"./JsonRpcEngineV2.cjs":2420,"./compatibility-utils.cjs":2424},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asLegacyMiddleware=void 0;const n=e("./compatibility-utils.cjs"),i=e("./JsonRpcEngineV2.cjs"),s=e("../index.cjs");r.asLegacyMiddleware=function(e,...t){const r="function"==typeof e?i.JsonRpcEngineV2.create({middleware:[e,...t]}).asMiddleware():e.asMiddleware();return(0,s.createAsyncMiddleware)(async(e,t,i)=>{const s=(0,n.fromLegacyRequest)(e),o=(0,n.makeContext)(e);let a;const c=await r({request:s,context:o,next:e=>(a=e,Promise.resolve(undefined))});return a!==undefined&&a!==s&&Object.assign(e,(0,n.deepClone)(a)),(0,n.propagateToRequest)(e,o),c!==undefined?(t.result=(0,n.deepClone)(c),undefined):i()})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/asLegacyMiddleware.cjs"}],[2424,{"./MiddlewareContext.cjs":2422,"./utils.cjs":2427,"@metamask/rpc-errors":3026,"@metamask/utils":3554,klona:5090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeError=r.propagateToRequest=r.propagateToContext=r.makeContext=r.fromLegacyRequest=r.requestProps=r.deepClone=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("klona"),o=e("./MiddlewareContext.cjs"),a=e("./utils.cjs");function c(e,t){Object.keys(e).filter(e=>"string"==typeof e&&!r.requestProps.includes(e)&&!t.has(e)).forEach(r=>{t.set(r,e[r])})}r.deepClone=e=>(0,s.klona)(e),r.requestProps=["jsonrpc","method","params","id"],r.fromLegacyRequest=function(e){const t={jsonrpc:"2.0",method:e.method};return t.id=e.id,(0,i.hasProperty)(e,"params")&&e.params!==undefined&&(t.params=(0,r.deepClone)(e.params)),t},r.makeContext=function(e){const t=new o.MiddlewareContext;return c(e,t),t},r.propagateToContext=c,r.propagateToRequest=function(e,t){Array.from(t.keys()).filter(e=>"string"==typeof e&&!r.requestProps.includes(e)).forEach(r=>{e[r]=t.get(r)})},r.deserializeError=function(e){if("function"==typeof Error.isError&&Error.isError(e))return e;if(e instanceof Error)return e;if("string"==typeof e)return new Error(e);if(!(0,i.isObject)(e))return new Error(`Unknown error: ${(0,a.stringify)(e)}`);const t="number"==typeof e.code&&Number.isInteger(e.code)?e.code:undefined;let r="Unknown error";"string"==typeof e.message?r=e.message:"number"==typeof t&&(r=(0,n.getMessageFromCode)(t,r));const{stack:s,cause:o,data:c}=e,u=t===undefined?new Error(r,{cause:o}):new n.JsonRpcError(t,r,function(e,t){return(0,i.isObject)(e)?{...e,cause:t}:(0,i.isValidJson)(e)?e:{cause:t}}(c,o));return"string"==typeof s&&(u.stack=s),u}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/compatibility-utils.cjs"}],[2425,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return({request:t,context:r,next:n})=>{const i=e[t.method];return i===undefined?n():"function"==typeof i?i({request:t,context:r,next:n}):i}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/createScaffoldMiddleware.cjs"}],[2426,{"../getUniqueId.cjs":2416,"./JsonRpcEngineV2.cjs":2420,"./JsonRpcServer.cjs":2421,"./MiddlewareContext.cjs":2422,"./asLegacyMiddleware.cjs":2423,"./createScaffoldMiddleware.cjs":2425,"./utils.cjs":2427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineError=r.isRequest=r.isNotification=r.MiddlewareContext=r.JsonRpcServer=r.JsonRpcEngineV2=r.createScaffoldMiddleware=r.getUniqueId=r.asLegacyMiddleware=void 0;var n=e("./asLegacyMiddleware.cjs");Object.defineProperty(r,"asLegacyMiddleware",{enumerable:!0,get:function(){return n.asLegacyMiddleware}});var i=e("../getUniqueId.cjs");Object.defineProperty(r,"getUniqueId",{enumerable:!0,get:function(){return i.getUniqueId}});var s=e("./createScaffoldMiddleware.cjs");Object.defineProperty(r,"createScaffoldMiddleware",{enumerable:!0,get:function(){return s.createScaffoldMiddleware}});var o=e("./JsonRpcEngineV2.cjs");Object.defineProperty(r,"JsonRpcEngineV2",{enumerable:!0,get:function(){return o.JsonRpcEngineV2}});var a=e("./JsonRpcServer.cjs");Object.defineProperty(r,"JsonRpcServer",{enumerable:!0,get:function(){return a.JsonRpcServer}});var c=e("./MiddlewareContext.cjs");Object.defineProperty(r,"MiddlewareContext",{enumerable:!0,get:function(){return c.MiddlewareContext}});var u=e("./utils.cjs");Object.defineProperty(r,"isNotification",{enumerable:!0,get:function(){return u.isNotification}}),Object.defineProperty(r,"isRequest",{enumerable:!0,get:function(){return u.isRequest}}),Object.defineProperty(r,"JsonRpcEngineError",{enumerable:!0,get:function(){return u.JsonRpcEngineError}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/index.cjs"}],[2427,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineError=r.isInstance=r.stringify=r.isNotification=r.isRequest=void 0;const i=e("@metamask/utils");r.isRequest=e=>(0,i.hasProperty)(e,"id");r.isNotification=e=>!(0,r.isRequest)(e),r.stringify=function(e){return JSON.stringify(e,null,2)};r.isInstance=(e,t)=>(0,i.isObject)(e)&&t in e&&!0===e[t];const s=Symbol.for("json-rpc-engine#JsonRpcEngineError");class o extends Error{constructor(e){super(e),this[n]=!0,this.name="JsonRpcEngineError"}static isInstance(e){return(0,r.isInstance)(e,s)}}r.JsonRpcEngineError=o,n=s}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/utils.cjs"}],[2428,{"./dist/v2/index.cjs":2426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./dist/v2/index.cjs")}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/v2.js"}],[2429,{"readable-stream":2446},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("readable-stream");r.default=function(e){if(!e?.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:()=>undefined,write:function(e,n,i){t.handle(e,(e,t)=>{r.push(t)}),i()}});return t.on&&t.on("notification",e=>{r.push(e)}),r}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createEngineStream.cjs"}],[243,{"../../../../shared/constants/permissions":6198,"@metamask/chain-agnostic-permission":1610,"@metamask/snaps-rpc-methods":3209},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unrestrictedMethods=r.unrestrictedEthSigningMethods=r.getPermissionSpecifications=r.getCaveatSpecifications=r.PermissionNames=r.CaveatFactories=void 0;var n=e("@metamask/snaps-rpc-methods"),i=e("@metamask/chain-agnostic-permission"),s=e("../../../../shared/constants/permissions");r.PermissionNames=Object.freeze({...s.RestrictedMethods,...s.EndowmentTypes}),r.CaveatFactories=Object.freeze({[i.Caip25CaveatType]:i.createCaip25Caveat});r.getCaveatSpecifications=({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:r,getNonEvmAccountAddresses:s})=>({[i.Caip25CaveatType]:(0,i.caip25CaveatBuilder)({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:r,getNonEvmAccountAddresses:s}),...n.caveatSpecifications,...n.endowmentCaveatSpecifications});r.getPermissionSpecifications=()=>({[i.caip25EndowmentBuilder.targetName]:i.caip25EndowmentBuilder.specificationBuilder({})});r.unrestrictedEthSigningMethods=Object.freeze(["eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"]),r.unrestrictedMethods=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_requestAccounts","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_subscribe","eth_syncing","eth_uninstallFilter","eth_unsubscribe","metamask_getProviderState","metamask_logWeb3ShimUsage","metamask_sendDomainMetadata","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_requestExecutionPermissions","wallet_getSupportedExecutionPermissions","wallet_getGrantedExecutionPermissions","wallet_addEthereumChain","wallet_getCallsStatus","wallet_getCapabilities","wallet_getPermissions","wallet_requestPermissions","wallet_revokePermissions","wallet_registerOnboarding","wallet_sendCalls","wallet_switchEthereumChain","wallet_watchAsset","wallet_upgradeAccount","wallet_getAccountUpgradeStatus","web3_clientVersion","web3_sha3","wallet_getAllSnaps","wallet_getSnaps","wallet_requestSnaps","wallet_invokeSnap","wallet_invokeKeyring","snap_getClientStatus","snap_getCurrencyRate","snap_clearState","snap_getFile","snap_getState","snap_listEntropySources","snap_createInterface","snap_updateInterface","snap_getInterfaceState","snap_getInterfaceContext","snap_resolveInterface","snap_setState","snap_scheduleBackgroundEvent","snap_cancelBackgroundEvent","snap_getBackgroundEvents","snap_experimentalProviderRequest","snap_trackError","snap_trackEvent","snap_openWebSocket","snap_sendWebSocketMessage","snap_closeWebSocket","snap_getWebSockets","snap_startTrace","snap_endTrace"])}}},{package:"$root$",file:"app/scripts/controllers/permissions/specifications.js"}],[2430,{"@metamask/safe-event-emitter":3028,"@metamask/utils":3554,"readable-stream":2446},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("@metamask/safe-event-emitter")),s=e("@metamask/utils"),o=e("readable-stream");r.default=function(e={}){const t={},r=new o.Duplex({objectMode:!0,read:()=>undefined,write:function(r,i,o){let c=null;try{!(0,s.hasProperty)(r,"id")?function(r){e?.retryOnMessage&&r.method===e.retryOnMessage&&Object.values(t).forEach(({req:e,retryCount:r=0})=>{if(!e.id)return;if(r>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);const n=t[e.id];n&&(n.retryCount=r+1),a(e)});n.emit("notification",r)}(r):function(e){const{id:r}=e;if(null===r)return;const n=t[r];if(!n)return void console.warn(`StreamMiddleware - Unknown response id "${r}"`);delete t[r],Object.assign(n.res,e),setTimeout(n.end)}(r)}catch(e){c=e}o(c)}}),n=new i.default;return{events:n,middleware:(e,r,n,i)=>{t[e.id]={req:e,res:r,next:n,end:i},a(e)},stream:r};function a(e){r.push(e)}}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createStreamMiddleware.cjs"}],[2431,{"./createEngineStream.cjs":2429,"./createStreamMiddleware.cjs":2430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createStreamMiddleware=r.createEngineStream=void 0;const i=n(e("./createEngineStream.cjs"));r.createEngineStream=i.default;const s=n(e("./createStreamMiddleware.cjs"));r.createStreamMiddleware=s.default}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/index.cjs"}],[2432,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/errors-browser.js"}],[2433,{"./_stream_readable":2435,"./_stream_writable":2437,_process:5490,inherits:5016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[2434,{"./_stream_transform":2436,inherits:5016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[2435,{"../errors":2432,"./_stream_duplex":2433,"./internal/streams/async_iterator":2438,"./internal/streams/buffer_list":2439,"./internal/streams/destroy":2440,"./internal/streams/from":2442,"./internal/streams/state":2444,"./internal/streams/stream":2445,_process:5490,buffer:4474,events:4770,inherits:5016,"string_decoder/":6066,util:4426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=j,j.ReadableState=_;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,f,h=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(j,s);var k=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function _(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function j(t){if(n=n||e("./_stream_duplex"),!(this instanceof j))return new j(t);var r=this instanceof n;this._readableState=new _(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,r,n,i){c("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),s)k(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)u.endEmitted?k(e,new v):T(e,u,t,!0);else if(u.ended)k(e,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):I(e,u)):T(e,u,t,!1)}else n||(u.reading=!1,I(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),I(e,t)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=p.destroy,j.prototype._undestroy=p.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},j.prototype.unshift=function(e){return S(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function B(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){c("readable nexttick read 0"),e.read(0)}function R(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(H,t,e))}function H(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}j.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):x(this),null;if(0===(e=B(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=B(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},j.prototype._read=function(e){k(this,new w("_read()"))},j.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,c("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:g;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",f),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}s.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",l);var d=!1;function f(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==U(s.pipes,e))&&!d&&(c("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function h(t){c("onerror",t),g(),e.removeListener("error",h),0===i(e,"error")&&k(e,t)}function p(){e.removeListener("finish",m),g()}function m(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),s.flowing||(c("pipe resume"),n.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},j.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?x(this):i.reading||r.nextTick(M,this))),n},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(C,this),n},j.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(C,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(R,e,t))}(this,e)),e.paused=!1,this},j.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=N,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(j,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2436,{"../errors":2432,"./_stream_duplex":2433,inherits:5016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[2437,{"../errors":2432,"./_stream_duplex":2433,"./internal/streams/destroy":2440,"./internal/streams/state":2444,"./internal/streams/stream":2445,_process:5490,buffer:4474,inherits:5016,"util-deprecate":6130},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=j,j.WritableState=_;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,k=l.errorOrDestroy;function E(){}function _(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,k(e,i)):(s(i),e._writableState.errorEmitted=!0,k(e,i),A(e,t))}(e,n,i,t,s);else{var o=B(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),i?r.nextTick(T,e,n,o,s):T(e,n,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function j(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(j,this))return new j(t);this._writableState=new _(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function T(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var n=B(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(j,o),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===j&&(e&&e._writableState instanceof _)}})):u=function(e){return e instanceof this},j.prototype.pipe=function(){k(this,new g)},j.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,u=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=E),s.ending?function(e,t){var n=new w;k(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new h("chunk",["string","Buffer"],n)),!s||(k(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,i,s);return u}(this,s,u,e,t,n)),o},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},j.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(e,t,r){r(new p("_write()"))},j.prototype._writev=null,j.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),j.prototype.destroy=l.destroy,j.prototype._undestroy=l.undestroy,j.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[2438,{"./end-of-stream":2441,_process:5490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[o]=null,e[a]=null,t(h(r,!1)))}}function m(e){r.nextTick(p,e)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(undefined,!0));if(this[f].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[c]?n(e[c]):t(h(undefined,!0))})});var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[u]?r(h(undefined,!0)):t[d](r,n)},n)}}(i,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(h(s,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){e?r(e):t(h(undefined,!0))})})}),n),g);t.exports=function(e){var t,r=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[o]=null,r[a]=null,e(h(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[l]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(h(undefined,!0))),r[u]=!0}),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2439,{buffer:4474,util:4426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=e("buffer").Buffer,u=e("util").inspect,l=u&&u.custom||"inspect";function d(e,t,r){c.prototype.copy.call(e,t,r)}t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),r=this.head,n=0;r;)d(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2440,{_process:5490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):s?(e.nextTick(n,o),s(t)):e.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2441,{"../../../errors":2432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,o||s.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,d=!0,a||s.call(t)},h=function(e){s.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[2442,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2443,{"../../../errors":2432,"./end-of-stream":2441},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var l,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new s("streams");var f=r.map(function(t,i){var s=i<r.length-1;return function(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},function(e){if(e)return s(e);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,function(e){l||(l=e),e&&f.forEach(c),s||(f.forEach(c),d(l))})});return r.reduce(u)}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[2444,{"../../../errors":2432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[2445,{events:4770},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2446,{"./lib/_stream_duplex.js":2433,"./lib/_stream_passthrough.js":2434,"./lib/_stream_readable.js":2435,"./lib/_stream_transform.js":2436,"./lib/_stream_writable.js":2437,"./lib/internal/streams/end-of-stream.js":2441,"./lib/internal/streams/pipeline.js":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/readable-browser.js"}],[2447,{"./BIP44Node.cjs":2448,"./SLIP10Node.cjs":2449,"./constants.cjs":2450,"./utils.cjs":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP44CoinTypeNode=r.BIP_44_COIN_TYPE_DEPTH=void 0;const o=e("./BIP44Node.cjs"),a=e("./constants.cjs"),c=e("./SLIP10Node.cjs"),u=e("./utils.cjs");r.BIP_44_COIN_TYPE_DEPTH=2;class l{static async fromJSON(e,t,r){f(t),d(e.depth);const n=await o.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,network:e.network,parentFingerprint:e.parentFingerprint,chainCode:(0,u.hexStringToBytes)(e.chainCode),privateKey:(0,u.nullableHexStringToBytes)(e.privateKey),publicKey:(0,u.hexStringToBytes)(e.publicKey)},r);return new l(n,t)}static async fromDerivationPath(e,t,r){d(e.length-1);const n=await o.BIP44Node.fromDerivationPath({derivationPath:e,network:t},r),i=(0,u.getBIP44CoinType)(e);return new l(n,i)}static async fromSeed({derivationPath:e,network:t},r){d(e.length-1);const n=await o.BIP44Node.fromSeed({derivationPath:e,network:t},r),i=(0,u.getBIP44CoinType)(e);return new l(n,i)}static async fromNode(e,t){if(!(e instanceof o.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return f(t),d(e.depth),Promise.resolve(new l(e,t))}constructor(e,t){n.set(this,void 0),i(this,n,e,"f"),this.coin_type=t,this.path=(0,u.getBIP44CoinTypePathString)(t),Object.freeze(this)}get depth(){return s(this,n,"f").depth}get privateKeyBytes(){return s(this,n,"f").privateKeyBytes}get publicKeyBytes(){return s(this,n,"f").publicKeyBytes}get chainCodeBytes(){return s(this,n,"f").chainCodeBytes}get privateKey(){return s(this,n,"f").privateKey}get publicKey(){return s(this,n,"f").publicKey}get compressedPublicKey(){return s(this,n,"f").compressedPublicKey}get compressedPublicKeyBytes(){return s(this,n,"f").compressedPublicKeyBytes}get chainCode(){return s(this,n,"f").chainCode}get address(){return s(this,n,"f").address}get masterFingerprint(){return s(this,n,"f").masterFingerprint}get parentFingerprint(){return s(this,n,"f").parentFingerprint}get fingerprint(){return s(this,n,"f").fingerprint}get index(){return s(this,n,"f").index}get network(){return s(this,n,"f").network}get curve(){return s(this,n,"f").curve}get extendedKey(){return s(this,n,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:r}){return await s(this,n,"f").derive((0,u.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:r}))}toJSON(){return{...s(this,n,"f").toJSON(),coin_type:this.coin_type,path:this.path}}}function d(e){if(e!==r.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${r.BIP_44_COIN_TYPE_DEPTH}. Received: "${e}"`)}function f(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function h(e,t){if(e instanceof l)return d(e.depth),e;if("string"==typeof e){const r=await o.BIP44Node.fromExtendedKey(e,t),n=await l.fromNode(r,r.index-a.BIP_32_HARDENED_OFFSET);return d(n.depth),n}return l.fromJSON(e,e.coin_type,t)}r.BIP44CoinTypeNode=l,n=new WeakMap,r.deriveBIP44AddressKey=async function(e,{account:t=0,change:r=0,address_index:n},i){const s=(0,u.getBIP44CoinTypeToAddressPathTuple)({account:t,change:r,address_index:n}),a=await h(e,i),l=await(0,c.deriveChildNode)({path:s,node:a},i);return new o.BIP44Node(l)},r.getBIP44AddressKeyDeriver=async function(e,t,r){const{account:n=0,change:i=0}=t??{},s=await h(e,r),a=(0,u.getHardenedBIP32NodeToken)(n),l=(0,u.getBIP32NodeToken)(i),d=async(e,t=!1)=>{const n=await(0,c.deriveChildNode)({path:[a,l,t?(0,u.getHardenedBIP32NodeToken)(e):(0,u.getUnhardenedBIP32NodeToken)(e)],node:s},r);return new o.BIP44Node(n)};return d.coin_type=s.coin_type,d.path=(0,u.getBIP44ChangePathString)(s.path,{account:n,change:i}),Object.freeze(d),d}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.cjs"}],[2448,{"./SLIP10Node.cjs":2449,"./constants.cjs":2450,"./extended-keys.cjs":2464,"./utils.cjs":2467,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.validateBIP44Depth=r.BIP44Node=void 0;const o=e("@metamask/utils"),a=e("./constants.cjs"),c=e("./extended-keys.cjs"),u=e("./SLIP10Node.cjs"),l=e("./utils.cjs");class d{static async fromJSON(e,t){return d.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const r=(0,c.decodeExtendedKey)(e),{type:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:u}=r;if("private"===n){const{privateKey:e}=r;return d.fromExtendedKey({depth:s,parentFingerprint:o,index:a,network:u,privateKey:e,chainCode:i},t)}const{publicKey:l}=r;return d.fromExtendedKey({depth:s,parentFingerprint:o,index:a,network:u,publicKey:l,chainCode:i},t)}const{privateKey:r,publicKey:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:l}=e;f(s);const h=await u.SLIP10Node.fromExtendedKey({privateKey:r,publicKey:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:l,curve:"secp256k1"},t);return new d(h)}static async fromDerivationPath({derivationPath:e,network:t},r){f(e.length-1),h(e,a.MIN_BIP_44_DEPTH);const n=await u.SLIP10Node.fromDerivationPath({derivationPath:e,network:t,curve:"secp256k1"},r);return new d(n)}static async fromSeed({derivationPath:e,network:t},r){f(e.length-1),h(e,a.MIN_BIP_44_DEPTH);const n=await u.SLIP10Node.fromSeed({derivationPath:e,network:t,curve:"secp256k1"},r);return new d(n)}get depth(){return i(this,n,"f").depth}get privateKeyBytes(){return i(this,n,"f").privateKeyBytes}get publicKeyBytes(){return i(this,n,"f").publicKeyBytes}get chainCodeBytes(){return i(this,n,"f").chainCodeBytes}get privateKey(){return i(this,n,"f").privateKey}get publicKey(){return i(this,n,"f").publicKey}get compressedPublicKey(){return i(this,n,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,n,"f").compressedPublicKeyBytes}get chainCode(){return i(this,n,"f").chainCode}get address(){return i(this,n,"f").address}get masterFingerprint(){return i(this,n,"f").masterFingerprint}get parentFingerprint(){return i(this,n,"f").parentFingerprint}get fingerprint(){return i(this,n,"f").fingerprint}get index(){return i(this,n,"f").index}get network(){return i(this,n,"f").network}get extendedKey(){return i(this,n,"f").extendedKey}get curve(){return i(this,n,"f").curve}constructor(e){n.set(this,void 0),s(this,n,e,"f"),Object.freeze(this)}neuter(){const e=i(this,n,"f").neuter();return new d(e)}async derive(e){if(this.depth===a.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");f(this.depth+e.length),h(e,this.depth+1);const t=await i(this,n,"f").derive(e);return new d(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function f(e){if((0,u.validateBIP32Depth)(e),e<a.MIN_BIP_44_DEPTH||e>a.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function h(e,t){e.forEach((e,r)=>{const n=t+r;if(n!==a.MIN_BIP_44_DEPTH)switch((0,o.assert)("string"==typeof e),n){case 1:if(e!==a.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${a.BIP44PurposeNodeToken}".`);break;case 2:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case a.MAX_BIP_44_DEPTH:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||a.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')})}r.BIP44Node=d,n=new WeakMap,r.validateBIP44Depth=f}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44Node.cjs"}],[2449,{"./constants.cjs":2450,"./curves/index.cjs":2455,"./derivation.cjs":2457,"./derivers/bip32.cjs":2458,"./derivers/bip39.cjs":2459,"./extended-keys.cjs":2464,"./guard.cjs":2465,"./utils.cjs":2467,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildNode=r.validateRootIndex=r.validateMasterParentFingerprint=r.validateParentFingerprint=r.validateBIP32Depth=r.SLIP10Node=void 0;const u=e("@metamask/utils"),l=e("./constants.cjs"),d=e("./curves/index.cjs"),f=e("./derivation.cjs"),h=e("./derivers/bip32.cjs"),p=e("./derivers/bip39.cjs"),m=e("./extended-keys.cjs"),g=e("./guard.cjs"),y=e("./utils.cjs");class b{static async fromJSON(e,t){return n.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const r=(0,m.decodeExtendedKey)(e),{chainCode:i,depth:s,parentFingerprint:o,index:a}=r;if("private"===r.type){const{privateKey:e}=r;return n.fromExtendedKey({depth:s,parentFingerprint:o,index:a,privateKey:e,chainCode:i,curve:"secp256k1"},t)}const{publicKey:c}=r;return n.fromExtendedKey({depth:s,parentFingerprint:o,index:a,publicKey:c,chainCode:i,curve:"secp256k1"},t)}const{depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:f,privateKey:h,publicKey:p,chainCode:b,curve:_,guard:j}=e,S=(0,y.getBytes)(b,l.BYTES_KEY_LENGTH);(0,y.validateCurve)(_),w(r),(0,y.validateBIP32Index)(c),E(c,r),(0,y.validateNetwork)(f),v(o,r),k(s,o,r);const T=(0,d.getCurveByName)(_);if(h){const e=(0,y.getBytesUnsafe)(h,T.privateKeyLength);(0,u.assert)(T.isValidPrivateKey(e),`Invalid private key: Value is not a valid ${_} private key.`);const l=j===g.PUBLIC_KEY_GUARD&&p?(0,y.getBytes)(p,T.publicKeyLength):undefined;return new n({depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:f,chainCode:S,privateKey:e,publicKey:l,curve:_},t,a(this,n,"f",i))}if(p){const e=(0,y.getBytes)(p,T.publicKeyLength);return new n({depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:f,chainCode:S,publicKey:e,curve:_},t,a(this,n,"f",i))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,network:t,curve:r},n){if((0,y.validateCurve)(r),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");const i=await(0,p.getDerivationPathWithSeed)({path:e,curve:r},n);return await(0,f.deriveKeyFromPath)({path:i,depth:e.length-1,network:t,curve:r},n)}static async fromSeed({derivationPath:e,network:t,curve:r},n){if((0,y.validateCurve)(r),"ed25519Bip32"===r)throw new Error('Invalid curve: The curve "ed25519Bip32" is not supported by the `fromSeed` function.');if(!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,f.deriveKeyFromPath)({path:e,depth:e.length-1,network:t,curve:r},n)}constructor({depth:e,masterFingerprint:t,parentFingerprint:r,index:l,network:d="mainnet",chainCode:f,privateKey:h,publicKey:p,curve:m},g={},y){s.set(this,void 0),o.set(this,void 0),(0,u.assert)(y===a(n,n,"f",i),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, `SLIP10Node.fromDerivationPath`, or `SLIP10Node.fromSeed`."),(0,u.assert)(h!==undefined||p!==undefined,"SLIP10Node requires either a private key or a public key to be set."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=r,this.index=l,this.network=d,this.chainCodeBytes=f,this.privateKeyBytes=h,this.curve=m,c(this,s,p,"f"),c(this,o,g,"f"),Object.freeze(this)}get chainCode(){return(0,u.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,u.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,u.bytesToHex)(this.publicKeyBytes)}get publicKeyBytes(){return a(this,s,"f")!==undefined||((0,u.assert)(this.privateKeyBytes,"Either a private key or public key is required."),c(this,s,(0,d.getCurveByName)(this.curve).getPublicKey(this.privateKeyBytes),"f")),a(this,s,"f")}get compressedPublicKeyBytes(){return(0,d.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,u.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,u.bytesToHex)((0,h.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,y.getFingerprint)(this.compressedPublicKeyBytes,(0,d.getCurveByName)(this.curve).compressedPublicKeyLength)}get extendedKey(){(0,u.assert)("secp256k1"===this.curve,"Unable to get extended key for this node: Only secp256k1 is supported.");const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,m.encodeExtendedKey)({...e,type:"private",privateKey:this.privateKeyBytes}):(0,m.encodeExtendedKey)({...e,type:"public",publicKey:this.publicKeyBytes})}neuter(){return new n({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve,network:this.network},a(this,o,"f"),a(n,n,"f",i))}async derive(e){return await _({path:e,node:this},a(this,o,"f"))}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function w(e){if(!(0,y.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function v(e,t){if(!(0,y.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function k(e,t,r){if(e&&r>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function E(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function _({path:e,node:t},r){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return w(n),await(0,f.deriveKeyFromPath)({path:e,node:t,depth:n},r)}r.SLIP10Node=b,n=b,s=new WeakMap,o=new WeakMap,i={value:Symbol("SLIP10Node.constructor")},r.validateBIP32Depth=w,r.validateParentFingerprint=v,r.validateMasterParentFingerprint=k,r.validateRootIndex=E,r.deriveChildNode=_}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/SLIP10Node.cjs"}],[2450,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BIP_32_HARDENED_OFFSET=r.BIP_39_PATH_REGEX=r.CIP_3_PATH_REGEX=r.SLIP_10_PATH_REGEX=r.BIP_32_PATH_REGEX=r.UNPREFIXED_BIP_32_PATH_REGEX=r.UNPREFIXED_PATH_REGEX=r.BIP44PurposeNodeToken=r.MAX_BIP_32_INDEX=r.MAX_UNHARDENED_BIP_32_INDEX=r.MAX_BIP_44_DEPTH=r.MIN_BIP_44_DEPTH=r.BYTES_KEY_LENGTH=void 0,r.BYTES_KEY_LENGTH=32,r.MIN_BIP_44_DEPTH=0,r.MAX_BIP_44_DEPTH=5,r.MAX_UNHARDENED_BIP_32_INDEX=2147483647,r.MAX_BIP_32_INDEX=4294967295,r.BIP44PurposeNodeToken="bip32:44'",r.UNPREFIXED_PATH_REGEX=/^\d+$/u,r.UNPREFIXED_BIP_32_PATH_REGEX=/^(?<index>\d+)'?$/u,r.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,r.SLIP_10_PATH_REGEX=/^slip10:\d+'?$/u,r.CIP_3_PATH_REGEX=/^cip3:\d+'?$/u,r.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,r.BIP_32_HARDENED_OFFSET=2147483648}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/constants.cjs"}],[2451,{"./utils.cjs":2467,"@noble/hashes/hmac":3602,"@noble/hashes/pbkdf2":3604,"@noble/hashes/ripemd160":3605,"@noble/hashes/sha256":3608,"@noble/hashes/sha3":3609,"@noble/hashes/sha512":3610},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=r.ripemd160=r.pbkdf2Sha512=r.keccak256=r.hmacSha512=void 0;const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/pbkdf2"),s=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),a=e("@noble/hashes/sha3"),c=e("@noble/hashes/sha512"),u=e("./utils.cjs");r.hmacSha512=async function(e,t,r={}){if(r.hmacSha512)return await r.hmacSha512(e,t);if((0,u.isWebCryptoSupported)()){const r=await crypto.subtle.importKey("raw",e,{name:"HMAC",hash:"SHA-512"},!1,["sign"]),n=await crypto.subtle.sign("HMAC",r,t);return new Uint8Array(n)}return(0,n.hmac)(c.sha512,e,t)},r.keccak256=function(e){return(0,a.keccak_256)(e)},r.pbkdf2Sha512=async function(e,t,r,n,s={}){if(s.pbkdf2Sha512)return await s.pbkdf2Sha512(e,t,r,n);if((0,u.isWebCryptoSupported)()){const i=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]),s=await crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:"SHA-512"}},i,8*n);return new Uint8Array(s)}return await(0,i.pbkdf2Async)(c.sha512,e,t,{c:r,dkLen:n})},r.ripemd160=function(e){return(0,s.ripemd160)(e)},r.sha256=function(e){return(0,o.sha256)(e)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cryptography.cjs"}],[2452,{"./ed25519.cjs":2453,"./ed25519Bip32.cjs":2454,"./secp256k1.cjs":2456,"@noble/curves/abstract/modular":3590},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.mod=r.getCurveByName=r.curves=void 0;const o=s(e("./ed25519.cjs")),a=s(e("./ed25519Bip32.cjs")),c=s(e("./secp256k1.cjs"));r.curves={secp256k1:c,ed25519:o,ed25519Bip32:a},r.getCurveByName=function(e){return r.curves[e]};var u=e("@noble/curves/abstract/modular");Object.defineProperty(r,"mod",{enumerable:!0,get:function(){return u.mod}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/curve.cjs"}],[2453,{"@metamask/utils":3554,"@noble/curves/ed25519":3594},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.publicKeyLength=r.deriveUnhardenedKeys=r.isValidPrivateKey=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/ed25519");r.curve=i.ed25519.CURVE,r.name="ed25519",r.secret=(0,n.stringToBytes)("ed25519 seed");r.isValidPrivateKey=e=>!0,r.deriveUnhardenedKeys=!1,r.publicKeyLength=33;r.getPublicKey=(()=>{let e=!1;return(t,r)=>{e||(i.ed25519.ExtendedPoint.BASE._setWindowSize(4),e=!0);const s=i.ed25519.getPublicKey(t);return(0,n.concatBytes)([new Uint8Array([0]),s])}})();r.publicAdd=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")};r.compressPublicKey=e=>e;r.decompressPublicKey=e=>e,r.privateKeyLength=32,r.masterNodeGenerationSpec="slip10",r.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519.cjs"}],[2454,{"@metamask/utils":3554,"@noble/curves/abstract/modular":3590,"@noble/curves/ed25519":3594},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.multiplyWithBase=r.bytesToNumberLE=r.publicKeyLength=r.deriveUnhardenedKeys=r.isValidPrivateKey=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/abstract/modular"),s=e("@noble/curves/ed25519");function o(e,t){const r=e[t];return(0,n.assert)(r!==undefined,"Private key is too short."),r}r.curve=s.ed25519.CURVE,r.name="ed25519Bip32",r.secret=(0,n.stringToBytes)("");r.isValidPrivateKey=e=>!(7&o(e,0))&&(!(128&o(e,31))&&!(64&~o(e,31))),r.deriveUnhardenedKeys=!0,r.publicKeyLength=32;r.bytesToNumberLE=e=>(0,n.hexToBigInt)((0,n.bytesToHex)(Uint8Array.from(e).reverse()));r.multiplyWithBase=e=>{const t=(0,i.mod)((0,r.bytesToNumberLE)(e),r.curve.n);return s.ed25519.ExtendedPoint.BASE.multiply(t).toRawBytes()};r.getPublicKey=(e,t)=>(0,r.multiplyWithBase)(e.slice(0,32));r.publicAdd=(e,t)=>s.ed25519.ExtendedPoint.fromHex((0,n.remove0x)((0,n.bytesToHex)(e))).add(s.ed25519.ExtendedPoint.fromHex((0,n.remove0x)((0,n.bytesToHex)(t)))).toRawBytes();r.compressPublicKey=e=>e;r.decompressPublicKey=e=>e,r.privateKeyLength=64,r.masterNodeGenerationSpec="cip3",r.compressedPublicKeyLength=32}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519Bip32.cjs"}],[2455,{"./curve.cjs":2452,"./ed25519.cjs":2453,"./ed25519Bip32.cjs":2454,"./secp256k1.cjs":2456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ed25519Bip32=r.ed25519=r.secp256k1=void 0,s(e("./curve.cjs"),r),r.secp256k1=o(e("./secp256k1.cjs")),r.ed25519=o(e("./ed25519.cjs")),r.ed25519Bip32=o(e("./ed25519Bip32.cjs"))}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/index.cjs"}],[2456,{"../utils.cjs":2467,"@metamask/utils":3554,"@noble/curves/secp256k1":3595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.isValidPrivateKey=r.publicKeyLength=r.deriveUnhardenedKeys=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/secp256k1"),s=e("../utils.cjs");r.curve=i.secp256k1.CURVE,r.name="secp256k1",r.secret=(0,n.stringToBytes)("Bitcoin seed"),r.deriveUnhardenedKeys=!0,r.publicKeyLength=65;r.isValidPrivateKey=e=>i.secp256k1.utils.isValidPrivateKey(e);r.getPublicKey=(()=>{let e=!1;return(t,r=!1)=>(e||(i.secp256k1.ProjectivePoint.BASE._setWindowSize(4),e=!0),i.secp256k1.getPublicKey(t,r))})();r.publicAdd=(e,t)=>{(0,n.assert)((0,s.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const r=i.secp256k1.ProjectivePoint.fromHex(e).add(i.secp256k1.ProjectivePoint.fromPrivateKey(t));return r.assertValidity(),r.toRawBytes(!1)};r.compressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!0);r.decompressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1),r.privateKeyLength=32,r.masterNodeGenerationSpec="slip10",r.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/secp256k1.cjs"}],[2457,{"./BIP44CoinTypeNode.cjs":2447,"./BIP44Node.cjs":2448,"./SLIP10Node.cjs":2449,"./constants.cjs":2450,"./curves/index.cjs":2455,"./derivers/index.cjs":2461,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validatePathSegment=r.deriveKeyFromPath=void 0;const n=e("@metamask/utils"),i=e("./BIP44CoinTypeNode.cjs"),s=e("./BIP44Node.cjs"),o=e("./constants.cjs"),a=e("./curves/index.cjs"),c=e("./derivers/index.cjs"),u=e("./SLIP10Node.cjs");function l(e,t,r){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let i=!1;if(e.forEach((e,t)=>{if(0===t){if(i=e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||i||o.BIP_32_PATH_REGEX.test(e)||o.SLIP_10_PATH_REGEX.test(e)||o.CIP_3_PATH_REGEX.test(e)))throw d()}else if(e instanceof Uint8Array||!o.BIP_32_PATH_REGEX.test(e)&&!o.SLIP_10_PATH_REGEX.test(e)&&!o.CIP_3_PATH_REGEX.test(e))throw d()}),r===o.MIN_BIP_44_DEPTH&&(!i||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${o.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!i)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&i)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const s=i?e.slice(1):e;if(s.length>0){const e=s[0]?.split(":")[0];(0,n.assert)(e),(0,n.assert)(s.every(t=>t.startsWith(`${e}:`)),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function d(){return new Error("Invalid HD path segment: The path segment is malformed.")}r.deriveKeyFromPath=async function(e,t){const{path:r,depth:o=r.length}=e,f="node"in e?e.node:undefined,h="network"in e?e.network:f?.network,p="curve"in e?e.curve:f?.curve;if(f&&!(f instanceof u.SLIP10Node)&&!(f instanceof s.BIP44Node)&&!(f instanceof i.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!p)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return l(r,Boolean(f?.privateKey)||Boolean(f?.publicKey),o),await r.reduce(async(e,r,i)=>{const s=await e;if("string"==typeof r){const[e,i]=r.split(":");(0,n.assert)(e),(0,n.assert)(i),(0,n.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const o=c.derivers[e];return await o.deriveChildKey({path:i,node:s,curve:(0,a.getCurveByName)(p),network:h},t)}return(0,n.assert)(0===i,d()),await c.derivers.bip39.deriveChildKey({path:r,node:s,curve:(0,a.getCurveByName)(p),network:h},t)},Promise.resolve(f))},r.validatePathSegment=l}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivation.cjs"}],[2458,{"../constants.cjs":2450,"../cryptography.cjs":2451,"../curves/index.cjs":2455,"../utils.cjs":2467,"./shared.cjs":2462,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=r.publicKeyToEthAddress=r.privateKeyToEthAddress=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../cryptography.cjs"),a=e("../curves/index.cjs"),c=e("../utils.cjs");function u(e){return(0,n.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,a.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,o.keccak256)(e.slice(1)).slice(-20)}async function l(e,t,r){const{childIndex:n,privateKey:s,publicKey:o,isHardened:a,chainCode:u,curve:l}=t;if((0,c.validateBIP32Index)(n+1),s){const e=await(0,i.deriveSecretExtension)({privateKey:s,publicKey:l.compressPublicKey(o),childIndex:n+1,isHardened:a,curve:l}),c=await(0,i.generateEntropy)({chainCode:u,extension:e},r);return{...t,childIndex:n+1,entropy:c}}const d=(0,i.derivePublicExtension)({parentPublicKey:o,childIndex:n+1}),f=await(0,i.generateEntropy)({chainCode:u,extension:d});return{...t,childIndex:n+1,entropy:f}}r.privateKeyToEthAddress=function(e){return(0,n.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,s.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array."),u(a.secp256k1.getPublicKey(e,!1))},r.publicKeyToEthAddress=u,r.deriveChildKey=async function(e,t){return(0,n.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,i.deriveChildKey)(e,l,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip32.cjs"}],[2459,{"../SLIP10Node.cjs":2449,"../constants.cjs":2450,"../cryptography.cjs":2451,"../curves/index.cjs":2455,"../guard.cjs":2465,"../utils.cjs":2467,"@metamask/scure-bip39":3029,"@metamask/scure-bip39/dist/wordlists/english.js":3030,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.entropyToCip3MasterNode=r.createBip39KeyFromSeed=r.deriveChildKey=r.getDerivationPathWithSeed=r.multipathToBip39Mnemonic=r.bip39MnemonicToMultipath=r.mnemonicToSeed=void 0;const n=e("@metamask/scure-bip39"),i=e("@metamask/scure-bip39/dist/wordlists/english.js"),s=e("@metamask/utils"),o=e("../constants.cjs"),a=e("../cryptography.cjs"),c=e("../curves/index.cjs"),u=e("../guard.cjs"),l=e("../SLIP10Node.cjs"),d=e("../utils.cjs"),f=[12,15,18,21,24];function h(e){const t=e.split(" ");(0,s.assert)(f.includes(t.length),"Invalid mnemonic phrase: The mnemonic phrase must consist of 12, 15, 18, 21, or 24 words."),(0,s.assert)(t.every(e=>i.wordlist.includes(e)),"Invalid mnemonic phrase: The mnemonic phrase contains an unknown word.")}async function p(e,t="",r){const n=`mnemonic${t}`.normalize("NFKD");return await(0,a.pbkdf2Sha512)(function(e,t){if("string"==typeof e)return h(e),(0,s.stringToBytes)(e.normalize("NFKD"));const r=Array.from(new Uint16Array(e.buffer)).map(e=>t[e]).join(" ");return h(r),(0,s.stringToBytes)(r)}(e,i.wordlist),(0,s.stringToBytes)(n),2048,64,r)}function m(e){return e instanceof Uint8Array?e:((0,s.assert)(e.startsWith("bip39:"),'Invalid HD path segment: The BIP-39 path must start with "bip39:".'),e.slice(6))}async function g(e,t,r,n){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const i=await(0,a.hmacSha512)(t.secret,e,n),c=i.slice(0,o.BYTES_KEY_LENGTH),f=i.slice(o.BYTES_KEY_LENGTH);(0,s.assert)(t.isValidPrivateKey(c),"Invalid private key: The private key must greater than 0 and less than the curve order.");const h=t.getPublicKey(c,!1),p=(0,d.getFingerprint)(t.compressPublicKey(h),t.compressedPublicKeyLength);return l.SLIP10Node.fromExtendedKey({privateKey:c,publicKey:h,chainCode:f,masterFingerprint:p,network:r,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},n)}async function y(e,t,r,n){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid entropy: The entropy must be between 16 and 64 bytes long.");const i=await(0,a.pbkdf2Sha512)(t.secret,e,4096,96,n);i[0]&=248,i[31]&=31,i[31]|=64;const o=i.slice(0,t.privateKeyLength),c=i.slice(t.privateKeyLength);(0,s.assert)(t.isValidPrivateKey(o),"Invalid private key.");const f=t.getPublicKey(o,!1),h=(0,d.getFingerprint)(t.compressPublicKey(f),t.compressedPublicKeyLength);return l.SLIP10Node.fromExtendedKey({privateKey:o,publicKey:f,chainCode:c,masterFingerprint:h,network:r,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},n)}r.mnemonicToSeed=p,r.bip39MnemonicToMultipath=function(e){return`bip39:${e.toLowerCase().trim()}`},r.multipathToBip39Mnemonic=m,r.getDerivationPathWithSeed=async function({path:e,curve:t},r){const[o,...a]=e,u=m(o),l=(0,c.getCurveByName)(t);switch(l.masterNodeGenerationSpec){case"slip10":return[await p(u,"",r),...a];case"cip3":return[(0,n.mnemonicToEntropy)(u,i.wordlist),...a];default:return(0,s.assertExhaustive)(l)}},r.deriveChildKey=async function({path:e,curve:t,network:r},n){switch((0,s.assert)(e instanceof Uint8Array,"Invalid path: The path must be a Uint8Array."),t.masterNodeGenerationSpec){case"slip10":return g(e,t,r,n);case"cip3":return y(e,t,r,n);default:throw new Error("Unsupported master node generation spec.")}},r.createBip39KeyFromSeed=g,r.entropyToCip3MasterNode=y}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip39.cjs"}],[2460,{"../SLIP10Node.cjs":2449,"../constants.cjs":2450,"../curves/index.cjs":2455,"../utils.cjs":2467,"./shared.cjs":2462,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=r.derivePublicKey=r.deriveChainCode=r.derivePrivateKey=r.getKeyExtension=r.add=r.mod2Pow256=r.trunc28Mul8=r.padEnd32Bytes=r.bigIntToBytes=r.bytesToBigInt=r.toReversed=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../curves/index.cjs"),a=e("../SLIP10Node.cjs"),c=e("../utils.cjs");r.toReversed=e=>e.slice().reverse();r.bytesToBigInt=e=>{const t=(0,r.toReversed)(e),i=(0,n.bytesToHex)(t);return BigInt(i)};r.bigIntToBytes=e=>{const t=e.toString(16);return(0,r.toReversed)((0,n.hexToBytes)(t))};r.padEnd32Bytes=e=>(0,n.concatBytes)([e,new Uint8Array(Math.max(32-e.length,0)).fill(0)]);r.trunc28Mul8=e=>{const t=(0,r.bytesToBigInt)(e.slice(0,28))*BigInt(8);return(0,r.padEnd32Bytes)((0,r.bigIntToBytes)(t))};r.mod2Pow256=e=>(0,r.padEnd32Bytes)((0,r.bigIntToBytes)((0,o.mod)((0,r.bytesToBigInt)(e),BigInt(2)**BigInt(256))));r.add=(e,t)=>{const n=(0,r.bytesToBigInt)(e)+(0,r.bytesToBigInt)(t);return(0,r.padEnd32Bytes)((0,r.bigIntToBytes)(n)).slice(0,32)};r.getKeyExtension=(e,t,r)=>(0,n.concatBytes)([new Uint8Array([e]),t,(0,c.numberToUint32)(r,!0)]);const u=2,l=0;r.derivePrivateKey=async({parentNode:e,childIndex:t,isHardened:o},a)=>{const c=o?(0,r.getKeyExtension)(l,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,r.getKeyExtension)(u,e.publicKeyBytes,t),d=await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:c},a),f=d.subarray(0,32),h=d.subarray(32),p=e.privateKeyBytes.subarray(0,32),m=e.privateKeyBytes.subarray(32),g=(0,r.add)((0,r.trunc28Mul8)(f),p),y=(0,r.add)(h,m);return(0,n.concatBytes)([g,y])};const d=3,f=1;r.deriveChainCode=async({parentNode:e,childIndex:t,isHardened:n},o)=>{const a=n?(0,r.getKeyExtension)(f,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,r.getKeyExtension)(d,e.publicKeyBytes,t);return(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:a},o)).subarray(32)};const h=2;r.derivePublicKey=async({parentNode:e,childIndex:t,curve:n},s)=>{const o=(0,r.getKeyExtension)(h,e.publicKeyBytes,t),a=(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:o},s)).slice(0,32),c=n.getPublicKey((0,r.trunc28Mul8)(a));return n.publicAdd(e.publicKeyBytes,c)},r.deriveChildKey=async function(e,t){const{curve:o,node:c,path:u}=e;(0,i.validateNode)(c);const{childIndex:l,isHardened:d}=(0,i.getValidatedPath)(u,c,o);if("ed25519Bip32"!==o.name||!c)throw new Error("Unsupported curve: Only ed25519Bip32 is supported by CIP3.");const f=l+(d?s.BIP_32_HARDENED_OFFSET:0),{privateKeyBytes:h,chainCodeBytes:p,publicKeyBytes:m,masterFingerprint:g,depth:y,fingerprint:b}=c;if(h){const e={privateKeyBytes:h,chainCodeBytes:p,publicKeyBytes:m},i=await(0,r.derivePrivateKey)({parentNode:e,childIndex:l,isHardened:d},t),s=await(0,r.deriveChainCode)({parentNode:e,childIndex:l,isHardened:d},t);return a.SLIP10Node.fromExtendedKey({privateKey:(0,n.bytesToHex)(i),chainCode:(0,n.bytesToHex)(s),masterFingerprint:g,depth:y+1,parentFingerprint:b,index:f,curve:o.name},t)}(0,n.assert)(!d,"Invalid parameters: Cannot derive hardened child keys without a private key.");const w={chainCodeBytes:p,publicKeyBytes:m},v=await(0,r.derivePublicKey)({parentNode:w,childIndex:l,isHardened:!1,curve:o},t),k=await(0,r.deriveChainCode)({parentNode:w,childIndex:l,isHardened:!1},t);return a.SLIP10Node.fromExtendedKey({publicKey:(0,n.bytesToHex)(v),chainCode:(0,n.bytesToHex)(k),masterFingerprint:g,depth:y+1,parentFingerprint:b,index:f,curve:o.name},t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/cip3.cjs"}],[2461,{"./bip32.cjs":2458,"./bip39.cjs":2459,"./cip3.cjs":2460,"./slip10.cjs":2463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.mnemonicToSeed=r.createBip39KeyFromSeed=r.derivers=void 0;const o=s(e("./bip32.cjs")),a=s(e("./bip39.cjs")),c=s(e("./cip3.cjs")),u=s(e("./slip10.cjs"));r.derivers={bip32:o,bip39:a,slip10:u,cip3:c};var l=e("./bip39.cjs");Object.defineProperty(r,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return l.createBip39KeyFromSeed}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/index.cjs"}],[2462,{"../SLIP10Node.cjs":2449,"../constants.cjs":2450,"../cryptography.cjs":2451,"../curves/index.cjs":2455,"../guard.cjs":2465,"../utils.cjs":2467,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getValidatedPath=r.validateNode=r.generateEntropy=r.privateAdd=r.derivePublicChildKey=r.derivePublicExtension=r.deriveSecretExtension=r.deriveChildKey=void 0;const n=e("@metamask/utils"),i=e("../constants.cjs"),s=e("../cryptography.cjs"),o=e("../curves/index.cjs"),a=e("../guard.cjs"),c=e("../SLIP10Node.cjs"),u=e("../utils.cjs");async function l(e,t,r){const{privateKey:n,publicKey:s,entropy:o,childIndex:u,isHardened:d,depth:f,parentFingerprint:m,masterFingerprint:g,curve:y,network:b}=e;try{return n?await async function({entropy:e,privateKey:t,depth:r,masterFingerprint:n,parentFingerprint:s,childIndex:o,isHardened:u,curve:l,network:d},f){const h=o+(u?i.BIP_32_HARDENED_OFFSET:0),{privateKey:m,chainCode:g}=function({privateKey:e,entropy:t,curve:r}){const n=t.slice(0,32),i=t.slice(32);if("ed25519"===r.name)return{privateKey:n,chainCode:i};const s=p(e,n,r);return{privateKey:s,chainCode:i}}({privateKey:t,entropy:e,curve:l});return await c.SLIP10Node.fromExtendedKey({privateKey:m,chainCode:g,depth:r+1,masterFingerprint:n,parentFingerprint:s,index:h,curve:l.name,network:d,guard:a.PUBLIC_KEY_GUARD},f)}({entropy:o,privateKey:n,depth:f,masterFingerprint:g,parentFingerprint:m,childIndex:u,isHardened:d,curve:y,network:b},r):await h({entropy:o,publicKey:s,depth:f,masterFingerprint:g,parentFingerprint:m,childIndex:u,curve:y,network:b},r)}catch(n){return await l(await t(n,e,r),t,r)}}async function d({privateKey:e,publicKey:t,childIndex:r,isHardened:s,curve:o}){return s?(0,n.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(r+i.BIP_32_HARDENED_OFFSET)]):((0,u.validateBytes)(t,o.compressedPublicKeyLength),f({parentPublicKey:t,childIndex:r}))}function f({parentPublicKey:e,childIndex:t}){return(0,n.concatBytes)([e,(0,u.numberToUint32)(t)])}async function h({entropy:e,publicKey:t,depth:r,masterFingerprint:n,parentFingerprint:i,childIndex:s,curve:o,network:a},u){const{publicKey:l,chainCode:d}=function({publicKey:e,entropy:t,curve:r}){const n=t.slice(0,32),i=t.slice(32);return{publicKey:r.publicAdd(e,n),chainCode:i}}({publicKey:t,entropy:e,curve:o});return await c.SLIP10Node.fromExtendedKey({publicKey:l,chainCode:d,depth:r+1,masterFingerprint:n,parentFingerprint:i,index:s,curve:o.name,network:a},u)}function p(e,t,r){(0,n.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const i=(0,n.bytesToBigInt)(e),s=(0,n.bytesToBigInt)(t);if(s>=r.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const a=(0,o.mod)(i+s,r.curve.n),c=(0,n.hexToBytes)(a.toString(16).padStart(64,"0"));if(!r.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}async function m({chainCode:e,extension:t},r){return await(0,s.hmacSha512)(e,t,r)}function g(e){(0,n.assert)(e,"Invalid parameters: Must specify a node to derive from.")}function y(e,t,r){!function(e,t,r){(0,n.assert)("string"==typeof e,"Invalid path: Must be a string.");const i=e.endsWith("'");(0,n.assert)(!i||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,n.assert)(i||r.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${r.name}.`)}(e,t,r);const s=e.split("'")[0];(0,n.assert)(s);const o=parseInt(s,10);if(!i.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(o)||o<0||o>=i.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${i.BIP_32_HARDENED_OFFSET}.`);return{childIndex:o,isHardened:e.includes("'")}}r.deriveChildKey=async function({path:e,node:t,curve:r,network:n},i,s){g(t);const{childIndex:o,isHardened:a}=y(e,t,r),c={chainCode:t.chainCodeBytes,childIndex:o,isHardened:a,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:r,network:n};if(t.privateKeyBytes){const e=await d({privateKey:t.privateKeyBytes,get publicKey(){return t.compressedPublicKeyBytes},childIndex:o,isHardened:a,curve:r}),n=await m({chainCode:t.chainCodeBytes,extension:e},s);return await l({privateKey:t.privateKeyBytes,get publicKey(){return t.publicKeyBytes},entropy:n,...c},i,s)}const u=f({parentPublicKey:t.compressedPublicKeyBytes,childIndex:o}),h=await m({chainCode:t.chainCodeBytes,extension:u},s);return await l({publicKey:t.compressedPublicKeyBytes,entropy:h,...c},i,s)},r.deriveSecretExtension=d,r.derivePublicExtension=f,r.derivePublicChildKey=h,r.privateAdd=p,r.generateEntropy=m,r.validateNode=g,r.getValidatedPath=y}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/shared.cjs"}],[2463,{"../constants.cjs":2450,"../utils.cjs":2467,"./shared.cjs":2462,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../utils.cjs");async function a(e,t,r){const{curve:a,isHardened:c,childIndex:u,entropy:l,chainCode:d}=t;if("ed25519"===a.name)throw e;const f=c?u+s.BIP_32_HARDENED_OFFSET:u,h=await(0,i.generateEntropy)({chainCode:d,extension:(0,n.concatBytes)([1,l.slice(32,64),(0,o.numberToUint32)(f)])},r);return{...t,entropy:h}}r.deriveChildKey=async function(e,t){return await(0,i.deriveChildKey)(e,a,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/slip10.cjs"}],[2464,{"./BIP44Node.cjs":2448,"./curves/secp256k1.cjs":2456,"./utils.cjs":2467,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeExtendedKey=r.decodeExtendedKey=void 0;const n=e("@metamask/utils"),i=e("./BIP44Node.cjs"),s=e("./curves/secp256k1.cjs"),o=e("./utils.cjs"),a=76067358,c=76066276,u=70617039,l=70615956;r.decodeExtendedKey=e=>{const t=(0,o.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const r=(0,n.createDataView)(t),d=r.getUint32(0,!1),{network:f,type:h}=function(e){switch(e){case a:return{type:"public",network:"mainnet"};case u:return{type:"public",network:"testnet"};case c:return{type:"private",network:"mainnet"};case l:return{type:"private",network:"testnet"};default:throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")}}(d),p=r.getUint8(4);(0,i.validateBIP44Depth)(p);const m=r.getUint32(5,!1),g=r.getUint32(9,!1),y=t.slice(13,45);if(!(0,o.isValidBytesKey)(y,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const b=t.slice(45,78);if(!(0,o.isValidBytesKey)(b,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const w=(0,n.createDataView)(b);if("public"===h){if(2!==w.getUint8(0)&&3!==w.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{type:h,depth:p,parentFingerprint:m,index:g,network:f,chainCode:y,publicKey:(0,s.decompressPublicKey)(b)}}if(0!==w.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{type:h,depth:p,parentFingerprint:m,index:g,network:f,chainCode:y,privateKey:b.slice(1)}};r.encodeExtendedKey=e=>{const{type:t,depth:r,parentFingerprint:i,index:d,network:f,chainCode:h}=e,p=new Uint8Array(78),m=(0,n.createDataView)(p),g=function(e,t){switch(e){case"mainnet":return"public"===t?a:c;case"testnet":return"public"===t?u:l;default:return(0,n.assertExhaustive)(e)}}(f,t);if(m.setUint32(0,g,!1),m.setUint8(4,r),m.setUint32(5,i,!1),m.setUint32(9,d,!1),p.set(h,13),"public"===t){const{publicKey:t}=e,r=(0,s.compressPublicKey)(t);p.set(r,45)}if("private"===t){const{privateKey:t}=e;p.set(t,46)}return(0,o.encodeBase58check)(p)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/extended-keys.cjs"}],[2465,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PUBLIC_KEY_GUARD=void 0,r.PUBLIC_KEY_GUARD=Symbol("Public key guard. Do not export this from the module.")}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/guard.cjs"}],[2466,{"./BIP44CoinTypeNode.cjs":2447,"./BIP44Node.cjs":2448,"./SLIP10Node.cjs":2449,"./constants.cjs":2450,"./curves/index.cjs":2455,"./derivers/index.cjs":2461,"./utils.cjs":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.mnemonicToSeed=r.createBip39KeyFromSeed=r.mnemonicPhraseToBytes=r.isValidBIP32PathSegment=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP_44_COIN_TYPE_DEPTH=r.BIP44CoinTypeNode=r.ed25519Bip32=r.ed25519=r.secp256k1=r.SLIP10Node=r.BIP44Node=void 0;var s=e("./BIP44Node.cjs");Object.defineProperty(r,"BIP44Node",{enumerable:!0,get:function(){return s.BIP44Node}});var o=e("./SLIP10Node.cjs");Object.defineProperty(r,"SLIP10Node",{enumerable:!0,get:function(){return o.SLIP10Node}});var a=e("./curves/index.cjs");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return a.secp256k1}}),Object.defineProperty(r,"ed25519",{enumerable:!0,get:function(){return a.ed25519}}),Object.defineProperty(r,"ed25519Bip32",{enumerable:!0,get:function(){return a.ed25519Bip32}});var c=e("./BIP44CoinTypeNode.cjs");Object.defineProperty(r,"BIP44CoinTypeNode",{enumerable:!0,get:function(){return c.BIP44CoinTypeNode}}),Object.defineProperty(r,"BIP_44_COIN_TYPE_DEPTH",{enumerable:!0,get:function(){return c.BIP_44_COIN_TYPE_DEPTH}}),Object.defineProperty(r,"deriveBIP44AddressKey",{enumerable:!0,get:function(){return c.deriveBIP44AddressKey}}),Object.defineProperty(r,"getBIP44AddressKeyDeriver",{enumerable:!0,get:function(){return c.getBIP44AddressKeyDeriver}}),i(e("./constants.cjs"),r);var u=e("./utils.cjs");Object.defineProperty(r,"getBIP44CoinTypeToAddressPathTuple",{enumerable:!0,get:function(){return u.getBIP44CoinTypeToAddressPathTuple}}),Object.defineProperty(r,"isValidBIP32PathSegment",{enumerable:!0,get:function(){return u.isValidBIP32PathSegment}}),Object.defineProperty(r,"mnemonicPhraseToBytes",{enumerable:!0,get:function(){return u.mnemonicPhraseToBytes}});var l=e("./derivers/index.cjs");Object.defineProperty(r,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return l.createBip39KeyFromSeed}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/index.cjs"}],[2467,{"./BIP44CoinTypeNode.cjs":2447,"./constants.cjs":2450,"./cryptography.cjs":2451,"./curves/index.cjs":2455,"@metamask/scure-bip39/dist/wordlists/english.js":3030,"@metamask/utils":3554,"@scure/base":3634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44CoinType=r.validateNetwork=r.isWebCryptoSupported=r.numberToUint32=r.validateCurve=r.mnemonicPhraseToBytes=r.getFingerprint=r.encodeBase58check=r.decodeBase58check=r.validateBytes=r.getBytesUnsafe=r.getBytes=r.isValidInteger=r.isValidBytesKey=r.nullableHexStringToBytes=r.hexStringToBytes=r.isHardened=r.isValidBIP32PathSegment=r.isValidBIP32Index=r.validateBIP32Index=r.getBIP32NodeToken=r.getUnhardenedBIP32NodeToken=r.getHardenedBIP32NodeToken=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44ChangePathString=r.getBIP44CoinTypePathString=void 0;const n=e("@metamask/scure-bip39/dist/wordlists/english.js"),i=e("@metamask/utils"),s=e("@scure/base"),o=e("./BIP44CoinTypeNode.cjs"),a=e("./constants.cjs"),c=e("./cryptography.cjs"),u=e("./curves/index.cjs");function l(e){return h(e),`${d(e)}'`}function d(e){return h(e),`bip32:${e}`}function f(e){if("number"==typeof e)return d(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?l(e.index):d(e.index)}function h(e){if(!p(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function p(e){return y(e)&&e<=a.MAX_BIP_32_INDEX}function m(e){return e instanceof Uint8Array?e:(0,i.hexToBytes)(e)}function g(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function y(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function b(e,t){if(!g(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}r.getBIP44CoinTypePathString=function(e){return`m / ${a.BIP44PurposeNodeToken} / ${l(e)}`},r.getBIP44ChangePathString=function(e,t){return`${e} / ${l(t.account??0)} / ${f(t.change??0)}`},r.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:r}){return[l(e),f(t),f(r)]},r.getHardenedBIP32NodeToken=l,r.getUnhardenedBIP32NodeToken=d,r.getBIP32NodeToken=f,r.validateBIP32Index=h,r.isValidBIP32Index=p,r.isValidBIP32PathSegment=function(e){if("string"!=typeof e)return!1;const t=e.match(a.UNPREFIXED_BIP_32_PATH_REGEX);if(void 0===t?.groups?.index)return!1;const r=parseInt(t.groups.index,10);return y(r)&&r<=a.MAX_UNHARDENED_BIP_32_INDEX},r.isHardened=function(e){return e.endsWith("'")},r.hexStringToBytes=m,r.nullableHexStringToBytes=function(e){return e!==undefined?m(e):undefined},r.isValidBytesKey=g,r.isValidInteger=y,r.getBytes=function(e,t){if(e instanceof Uint8Array)return b(e,t),e;if("string"==typeof e){const r=(0,i.hexToBytes)(e);return b(r,t),r}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},r.getBytesUnsafe=function e(t,r){if(t instanceof Uint8Array)return(0,i.assert)(t.length===r,`Invalid value: Must be a ${r}-byte byte array.`),t;if("string"==typeof t)return e((0,i.hexToBytes)(t),r);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},r.validateBytes=b;r.decodeBase58check=e=>{const t=(0,s.base58check)(c.sha256);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}};r.encodeBase58check=e=>(0,s.base58check)(c.sha256).encode(e);r.getFingerprint=(e,t)=>{if(!g(e,t))throw new Error(`Invalid public key: The key must be a ${t}-byte, non-zero byte array.`);const r=(0,c.ripemd160)((0,c.sha256)(e));return(0,i.createDataView)(r).getUint32(0,!1)},r.mnemonicPhraseToBytes=function(e){const t=e.split(" ").map(e=>{const t=n.wordlist.indexOf(e);return(0,i.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t});return new Uint8Array(new Uint16Array(t).buffer)},r.validateCurve=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)},r.numberToUint32=function(e,t=!1){const r=new Uint8Array(4);return(0,i.createDataView)(r).setUint32(0,e,t),r},r.isWebCryptoSupported=function(){return Boolean(globalThis.crypto?.subtle)},r.validateNetwork=function(e){if(e!==undefined){if("string"!=typeof e)throw new Error("Invalid network: Must be a string if specified.");if(!["mainnet","testnet"].includes(e))throw new Error('Invalid network: Must be either "mainnet" or "testnet" if specified.')}},r.getBIP44CoinType=function(e){const t=e[o.BIP_44_COIN_TYPE_DEPTH].split(":")[1]?.replace("'","");(0,i.assert)(t,"Invalid derivation path: Coin type is not specified.");const r=Number.parseInt(t,10);return(0,i.assert)(y(r),"Invalid derivation path: Coin type is not a valid integer."),r}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/utils.cjs"}],[2468,{"@metamask/keyring-utils":2573,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountOptionsStruct=r.KeyringAccountEntropyOptionsStruct=r.KeyringAccountEntropyCustomOptionsStruct=r.KeyringAccountEntropyPrivateKeyOptionsStruct=r.KeyringAccountEntropyMnemonicOptionsStruct=r.KeyringAccountEntropyTypeOption=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");var o;!function(e){e.Mnemonic="mnemonic",e.PrivateKey="private-key",e.Custom="custom"}(o||(r.KeyringAccountEntropyTypeOption=o={})),r.KeyringAccountEntropyMnemonicOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.Mnemonic}`),id:(0,i.string)(),derivationPath:(0,i.string)(),groupIndex:(0,i.number)()}),r.KeyringAccountEntropyPrivateKeyOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.PrivateKey}`)}),r.KeyringAccountEntropyCustomOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.Custom}`)}),r.KeyringAccountEntropyOptionsStruct=(0,n.selectiveUnion)(e=>{if(!(0,s.isPlainObject)(e))return r.KeyringAccountEntropyMnemonicOptionsStruct;switch(e.type){case o.PrivateKey:return r.KeyringAccountEntropyPrivateKeyOptionsStruct;case o.Custom:return r.KeyringAccountEntropyCustomOptionsStruct;case o.Mnemonic:default:return r.KeyringAccountEntropyMnemonicOptionsStruct}}),r.KeyringAccountOptionsStruct=(0,i.intersection)([(0,i.record)((0,i.string)(),s.JsonStruct),(0,n.type)({entropy:(0,n.exactOptional)(r.KeyringAccountEntropyOptionsStruct),exportable:(0,n.exactOptional)((0,i.boolean)())})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account-options.cjs"}],[2469,{"./account-options.cjs":2468,"./caip.cjs":2473,"@metamask/keyring-utils":2573,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountStruct=r.KeyringAccountTypeStruct=r.AnyAccountType=r.TrxAccountType=r.SolAccountType=r.BtcAccountType=r.EthAccountType=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./account-options.cjs"),o=e("./caip.cjs");var a,c,u,l,d;!function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(a||(r.EthAccountType=a={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(c||(r.BtcAccountType=c={})),function(e){e.DataAccount="solana:data-account"}(u||(r.SolAccountType=u={})),function(e){e.Eoa="tron:eoa"}(l||(r.TrxAccountType=l={})),function(e){e.Account="any:account"}(d||(r.AnyAccountType=d={})),r.KeyringAccountTypeStruct=(0,i.enums)([`${a.Eoa}`,`${a.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${l.Eoa}`,`${d.Account}`]),r.KeyringAccountStruct=(0,n.object)({id:n.AccountIdStruct,type:(0,i.enums)([`${a.Eoa}`,`${a.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${l.Eoa}`,`${d.Account}`]),address:(0,i.string)(),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),options:s.KeyringAccountOptionsStruct,methods:(0,i.array)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account.cjs"}],[2470,{"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResolvedAccountAddressStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.ResolvedAccountAddressStruct=(0,n.object)({address:i.CaipAccountIdStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/address.cjs"}],[2471,{"@metamask/keyring-utils":2573,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AssetStruct=r.NonFungibleAssetStruct=r.FungibleAssetStruct=r.FungibleAssetAmountStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.FungibleAssetAmountStruct=(0,n.object)({unit:(0,i.string)(),amount:n.StringNumberStruct}),r.FungibleAssetStruct=(0,n.object)({fungible:(0,i.literal)(!0),type:s.CaipAssetTypeStruct,...r.FungibleAssetAmountStruct.schema}),r.NonFungibleAssetStruct=(0,n.object)({fungible:(0,i.literal)(!1),id:s.CaipAssetIdStruct}),r.AssetStruct=(0,n.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&!e.fungible?r.NonFungibleAssetStruct:r.FungibleAssetStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/asset.cjs"}],[2472,{"@metamask/keyring-utils":2573,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BalanceStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");r.BalanceStruct=(0,n.object)({amount:n.StringNumberStruct,unit:(0,i.string)()})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/balance.cjs"}],[2473,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaipChainIdStruct=r.CaipAssetTypeOrIdStruct=r.CaipAssetTypeStruct=r.CaipAssetIdStruct=r.CaipAccountIdStruct=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"CaipAccountIdStruct",{enumerable:!0,get:function(){return n.CaipAccountIdStruct}}),Object.defineProperty(r,"CaipAssetIdStruct",{enumerable:!0,get:function(){return n.CaipAssetIdStruct}}),Object.defineProperty(r,"CaipAssetTypeStruct",{enumerable:!0,get:function(){return n.CaipAssetTypeStruct}}),Object.defineProperty(r,"CaipAssetTypeOrIdStruct",{enumerable:!0,get:function(){return n.CaipAssetTypeOrIdStruct}}),Object.defineProperty(r,"CaipChainIdStruct",{enumerable:!0,get:function(){return n.CaipChainIdStruct}})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/caip.cjs"}],[2474,{"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DerivationPathStruct=void 0;const n=e("@metamask/utils");r.DerivationPathStruct=(0,n.definePattern)("DerivationPath",/^m(?:\/\d+'?)+$/u)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/derivation.cjs"}],[2475,{"./caip.cjs":2473,"./derivation.cjs":2474,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscoveredAccountStruct=r.DiscoveredBip44AccountStruct=r.DiscoveredAccountType=void 0;const n=e("@metamask/superstruct"),i=e("./caip.cjs"),s=e("./derivation.cjs");var o;!function(e){e.Bip44="bip44"}(o||(r.DiscoveredAccountType=o={})),r.DiscoveredBip44AccountStruct=(0,n.object)({type:(0,n.literal)(`${o.Bip44}`),scopes:(0,n.array)(i.CaipChainIdStruct),derivationPath:s.DerivationPathStruct}),r.DiscoveredAccountStruct=r.DiscoveredBip44AccountStruct}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/discovery.cjs"}],[2476,{"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountDataStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.KeyringAccountDataStruct=(0,n.record)((0,n.string)(),i.JsonStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/export.cjs"}],[2477,{"./account-options.cjs":2468,"./account.cjs":2469,"./address.cjs":2470,"./asset.cjs":2471,"./balance.cjs":2472,"./caip.cjs":2473,"./discovery.cjs":2475,"./export.cjs":2476,"./options.cjs":2478,"./pagination.cjs":2479,"./request.cjs":2480,"./response.cjs":2481,"./transaction.cjs":2482,"./v2/index.cjs":2489},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./account.cjs"),r),i(e("./account-options.cjs"),r),i(e("./address.cjs"),r),i(e("./asset.cjs"),r),i(e("./balance.cjs"),r),i(e("./caip.cjs"),r),i(e("./discovery.cjs"),r),i(e("./export.cjs"),r),i(e("./request.cjs"),r),i(e("./response.cjs"),r),i(e("./transaction.cjs"),r),i(e("./pagination.cjs"),r),i(e("./options.cjs"),r),i(e("./v2/index.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/index.cjs"}],[2478,{"@metamask/keyring-utils":2573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MetaMaskOptionsStruct=void 0;const n=e("@metamask/keyring-utils");r.MetaMaskOptionsStruct=(0,n.object)({metamask:(0,n.exactOptional)((0,n.object)({correlationId:n.UuidStruct}))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/options.cjs"}],[2479,{"@metamask/keyring-utils":2573,"@metamask/superstruct":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PaginationStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");r.PaginationStruct=(0,n.object)({limit:(0,i.number)(),next:(0,n.exactOptional)((0,i.nullable)((0,i.string)()))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/pagination.cjs"}],[2480,{"@metamask/keyring-utils":2573,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringRequestStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.KeyringRequestStruct=(0,n.object)({id:n.UuidStruct,scope:(0,i.string)(),account:n.UuidStruct,origin:(0,i.string)(),request:(0,n.object)({method:(0,i.string)(),params:(0,n.exactOptional)((0,i.union)([(0,i.array)(s.JsonStruct),(0,i.record)((0,i.string)(),s.JsonStruct)]))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/request.cjs"}],[2481,{"@metamask/keyring-utils":2573,"@metamask/superstruct":3415,"@metamask/utils":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringResponseStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.KeyringResponseStruct=(0,i.union)([(0,n.object)({pending:(0,i.literal)(!0),redirect:(0,n.exactOptional)((0,n.object)({message:(0,n.exactOptional)((0,i.string)()),url:(0,n.exactOptional)((0,i.string)())}))}),(0,n.object)({pending:(0,i.literal)(!1),result:s.JsonStruct})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/response.cjs"}]],[],{});