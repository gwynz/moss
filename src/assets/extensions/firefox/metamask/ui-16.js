LavaPack.loadBundle([[7757,{"../../../../../shared/constants/network":5896,"../../../../../shared/modules/rpc.utils":6030,"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../settings/networks-tab/networks-form/use-safe-chains":8084,"../../context/confirm":7730,"@metamask/controller-utils":1488,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAddEthereumChainAlerts=function(){var e;const[t,n]=(0,s.useState)([]),m=(0,c.useI18nContext)(),{safeChains:p}=(0,l.useSafeChains)(),{currentConfirmation:f}=(0,o.useConfirmContext)(),h=f,g=null==h||null===(e=h.requestData)||void 0===e?void 0:e.chainId,v=(0,s.useMemo)(()=>p&&g?p.find(e=>Number(e.chainId)===parseInt(g,16)):null,[p,g]);return(0,s.useEffect)(()=>{if(!h)return void n([]);(async()=>{var e,t,s,o,c,l,p,f;const g=[],{requestData:T}=h;if(!v)return void n(g);const y=r.NETWORKS_BYPASSING_VALIDATION[T.chainId.toLowerCase()]||{},_=v.name||T.chainName,k=m("allowAddRpc");g.push({key:"allowAddRpc",message:m("allowAddRpcDescription",[_]),severity:a.Severity.Info,field:d.RowAlertKey.RpcUrl,reason:k,inlineAlertText:"",showArrow:!1}),(null===(e=v.name)||void 0===e?void 0:e.toLowerCase())!==T.chainName.toLowerCase()&&(null==y||null===(t=y.name)||void 0===t?void 0:t.toLowerCase())!==T.chainName.toLowerCase()&&g.push({key:"mismatchedNetworkName",message:m("mismatchedNetworkName"),severity:a.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1}),(null===(s=v.nativeCurrency)||void 0===s||null===(s=s.symbol)||void 0===s?void 0:s.toLowerCase())!==(null===(o=T.ticker)||void 0===o?void 0:o.toLowerCase())&&(null==y||null===(c=y.symbol)||void 0===c?void 0:c.toLowerCase())!==(null===(l=T.ticker)||void 0===l?void 0:l.toLowerCase())&&g.push({key:"mismatchedNetworkSymbol",message:m("mismatchedNetworkSymbol"),severity:a.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1});const{origin:S}=new URL(T.rpcUrl);null!==(p=v.rpc)&&void 0!==p&&p.map(e=>new URL(e).origin).includes(S)||null!=y&&null!==(f=y.rpcUrl)&&void 0!==f&&f.includes(S)||g.push({key:"mismatchedRpcUrl",message:m("mismatchedRpcUrl"),severity:a.Severity.Warning,field:d.RowAlertKey.RpcUrl,inlineAlertText:"",showArrow:!1}),i.DEPRECATED_NETWORKS.includes(T.chainId)&&g.push({key:"deprecatedNetwork",message:m("deprecatedNetwork"),severity:a.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1});try{const e=await(0,u.jsonRpcRequest)(T.rpcUrl,"eth_chainId");T.chainId!==e&&g.push({key:"mismatchedRpcChainId",message:m("mismatchedRpcChainId"),severity:a.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1})}catch(e){console.error(`Request for method 'eth_chainId' on ${T.rpcUrl} failed`,e),g.push({key:"errorWhileConnectingToRPC",message:m("errorWhileConnectingToRPC"),severity:a.Severity.Warning,field:d.RowAlertKey.RpcUrl,inlineAlertText:"",showArrow:!1})}n(g)})()},[g,v,h,m]),t};var s=e("react"),r=e("@metamask/controller-utils"),a=e("../../../../helpers/constants/design-system"),o=e("../../context/confirm"),i=e("../../../../../shared/constants/network"),c=e("../../../../hooks/useI18nContext"),l=e("../../../settings/networks-tab/networks-form/use-safe-chains"),u=e("../../../../../shared/modules/rpc.utils"),d=e("../../../../components/app/confirm/info/row/constants")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useAddEthereumChainAlerts.ts"}],[7758,{"../../../../../app/scripts/lib/ppom/security-alerts-api":304,"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useTrustSignals":7346,"../../context/confirm":7730,"@metamask/name-controller":2414,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAddressTrustSignalAlerts=function(){const{currentConfirmation:e}=(0,i.useConfirmContext)(),t=(0,l.useI18nContext)(),n=(0,s.useMemo)(()=>{var t,n;if(!e)return null;if(null!=e&&null!==(t=e.txParams)&&void 0!==t&&t.to)return e.txParams.to;if(null!=e&&null!==(n=e.msgParams)&&void 0!==n&&n.data)try{var s,r;const t=null==e||null===(s=e.msgParams)||void 0===s?void 0:s.data,n="string"==typeof t?JSON.parse(t):t;if(null!=n&&null!==(r=n.domain)&&void 0!==r&&r.verifyingContract)return n.domain.verifyingContract}catch(e){}return null},[e]),{state:d}=(0,c.useTrustSignal)(n||"",r.NameType.ETHEREUM_ADDRESS,null==e?void 0:e.chainId);return(0,s.useMemo)(()=>{if(!n||!(0,u.isSecurityAlertsAPIEnabled)())return[];const e=[];return d===c.TrustSignalDisplayState.Malicious?e.push({actions:[],field:o.RowAlertKey.InteractingWith,isBlocking:!1,key:"trustSignalMalicious",message:t("alertMessageAddressTrustSignalMalicious"),reason:t("nameModalTitleMalicious"),severity:a.Severity.Danger}):d===c.TrustSignalDisplayState.Warning&&e.push({actions:[],field:o.RowAlertKey.InteractingWith,isBlocking:!1,key:"trustSignalWarning",message:t("alertMessageAddressTrustSignal"),reason:t("nameModalTitleWarning"),severity:a.Severity.Warning}),e},[n,d,t])};var s=e("react"),r=e("@metamask/name-controller"),a=e("../../../../helpers/constants/design-system"),o=e("../../../../components/app/confirm/info/row/constants"),i=e("../../context/confirm"),c=e("../../../../hooks/useTrustSignals"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../../app/scripts/lib/ppom/security-alerts-api")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useAddressTrustSignalAlerts.ts"}],[7759,{"../../../../../shared/constants/network":5896,"../../../../../shared/constants/security-provider":5904,"../../../../../shared/lib/confirmation.utils":5928,"../../../../helpers/constants/zendesk-url":7161,"../../../../hooks/useI18nContext":7301,"../../context/confirm":7730,"../../utils":7883,"../useCurrentSignatureSecurityAlertResponse":7835,"./utils":7767,"@blockaid/ppom_release/package.json":641,react:5358,"react-compiler-runtime":5272,"react-redux":5323,zlib:4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ALERT_RESULT_TYPES=void 0;var s=e("react-compiler-runtime"),r=h(e("@blockaid/ppom_release/package.json")),a=(e("react"),e("react-redux")),o=e("../../../../../shared/constants/network"),i=e("../../../../../shared/constants/security-provider"),c=h(e("../../../../helpers/constants/zendesk-url")),l=e("../../../../hooks/useI18nContext"),u=e("../../utils"),d=e("../../../../../shared/lib/confirmation.utils"),m=e("../../context/confirm"),p=h(e("../useCurrentSignatureSecurityAlertResponse")),f=e("./utils");function h(e){return e&&e.__esModule?e:{default:e}}const g=e("zlib"),v=n.ALERT_RESULT_TYPES=[i.BlockaidResultType.Malicious,i.BlockaidResultType.Warning,i.BlockaidResultType.Errored];n.default=()=>{var e;const t=(0,s.c)(16),n=(0,l.useI18nContext)(),{currentConfirmation:h}=(0,m.useConfirmContext)(),T=null==h||null===(e=h.securityAlertResponse)||void 0===e?void 0:e.securityAlertId,y=null==h?void 0:h.type,_=(0,p.default)();let k;t[0]!==T?(k=e=>{var t;return null===(t=e.metamask.transactions.find(e=>{var t;return(null===(t=e.securityAlertResponse)||void 0===t?void 0:t.securityAlertId)===T}))||void 0===t?void 0:t.securityAlertResponse},t[0]=T,t[1]=k):k=t[1];const S=(0,a.useSelector)(k),A=_||S,w=(0,d.isCorrectDeveloperTransactionType)(y)||u.SIGNATURE_TRANSACTION_TYPES.includes(y),E=v.includes(null==A?void 0:A.result_type);let x,C;if(t[2]!==h||t[3]!==A){if(A&&h){const{block:e,features:t,reason:n,result_type:s}=A,{chainId:a,msgParams:c,origin:l,type:u,txParams:d}=h,m=s===i.BlockaidResultType.Errored,p={blockNumber:e,blockaidVersion:r.default.version,chain:o.NETWORK_TO_NAME_MAP[a],classification:m?"error":n,domain:l??(null==c?void 0:c.origin)??l,jsonRpcMethod:u,jsonRpcParams:JSON.stringify(d??c),resultType:m?i.BlockaidResultType.Errored:s,reproduce:JSON.stringify(t)};x=JSON.stringify(p)}t[2]=h,t[3]=A,t[4]=x}else x=t[4];e:{if(!w||!E||!A){let e;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[5]=e):e=t[5],C=e;break e}let e,s,r=c.default.SUPPORT_URL;if(x){let e;var b;if(t[6]!==x)e=(null==g||null===(b=g.gzipSync)||void 0===b?void 0:b.call(g,x))??x,t[6]=x,t[7]=e;else e=t[7];const n=e;let s;t[8]!==n?(s=n.toString("base64"),t[8]=n,t[9]=s):s=t[9],r=`${i.FALSE_POSITIVE_REPORT_BASE_URL}?data=${encodeURIComponent(s)}&utm_source=${i.SECURITY_PROVIDER_UTM_SOURCE}`}t[10]!==r||t[11]!==A||t[12]!==n?(e=(0,f.normalizeProviderAlert)(A,n,r),t[10]=r,t[11]=A,t[12]=n,t[13]=e):e=t[13],t[14]!==e?(s=[e],t[14]=e,t[15]=s):s=t[15],C=s}return C}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useBlockaidAlerts.ts"}],[7760,{"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../context/confirm":7730,"../../utils":7883,"../../utils/confirm":7881,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../components/app/confirm/info/row/constants")),a=e("../../../../helpers/constants/design-system"),o=e("../../../../hooks/useI18nContext"),i=e("../../utils/confirm"),c=e("../../utils"),l=e("../../context/confirm");n.default=()=>{const e=(0,s.c)(20),t=(0,o.useI18nContext)(),{currentConfirmation:n}=(0,l.useConfirmContext)();let u;var d;e[0]!==n?(u=(0,c.isSignatureTransactionType)(n)?null==n||null===(d=n.msgParams)||void 0===d?void 0:d.origin:null==n?void 0:n.origin,e[0]=n,e[1]=u):u=e[1];const m=u;let p;e:{if(m===undefined||"metamask"===m||(0,i.isValidASCIIURL)(m)){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[2]=t):t=e[2],p=t;break e}let n,s,o,c,l,u;e[3]!==t?(n=t("addressMismatch"),e[3]=t,e[4]=n):n=e[4],e[5]!==t?(s=t("alertMessageAddressMismatchWarning"),e[5]=t,e[6]=s):s=e[6],e[7]!==m||e[8]!==t?(o=t("addressMismatchOriginal",[m]),e[7]=m,e[8]=t,e[9]=o):o=e[9],e[10]!==m||e[11]!==t?(c=t("addressMismatchPunycode",[m?(0,i.toPunycodeURL)(m):""]),e[10]=m,e[11]=t,e[12]=c):c=e[12],e[13]!==o||e[14]!==c?(l=[o,c],e[13]=o,e[14]=c,e[15]=l):l=e[15],e[16]!==n||e[17]!==s||e[18]!==l?(u=[{key:"originSpecialCharacterWarning",reason:n,field:r.RowAlertKey.RequestFrom,severity:a.Severity.Warning,message:s,alertDetails:l}],e[16]=n,e[17]=s,e[18]=l,e[19]=u):u=e[19],p=u}return p}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useConfirmationOriginAlerts.ts"}],[7761,{"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../selectors":8207,"../../../../store/actions":8241,"../../context/confirm":7730,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkAndOriginSwitchingAlerts=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("../../../../components/app/confirm/info/row/constants"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../store/actions"),l=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext"),d=e("../../context/confirm");n.useNetworkAndOriginSwitchingAlerts=()=>{var e;const t=(0,s.c)(34),n=(0,u.useI18nContext)(),{currentConfirmation:m}=(0,d.useConfirmContext)();let p;t[0]!==m?(p=m??{},t[0]=m,t[1]=p):p=t[1];const{chainId:f,id:h}=p,g=f===undefined?"":f,v=(null==m?void 0:m.origin)??(null==m||null===(e=m.msgParams)||void 0===e?void 0:e.origin)??"";let T;t[2]!==g?(T=e=>(0,l.selectNetworkConfigurationByChainId)(e,g),t[2]=g,t[3]=T):T=t[3];const y=(0,a.useSelector)(T),[_,k]=(0,r.useState)();let S,A,w;if(t[4]!==h||t[5]!==g||t[6]!==v?(S=()=>{let e=!0;return(async()=>{const t=await(0,c.getLastInteractedConfirmationInfo)();if(!e)return;k(t);(!t||(null==t?void 0:t.id)!==h)&&(0,c.setLastInteractedConfirmationInfo)({id:h,chainId:g,origin:v,timestamp:(new Date).getTime()})})(),()=>{e=!1}},A=[h,g,v,k],t[4]=h,t[5]=g,t[6]=v,t[7]=S,t[8]=A):(S=t[7],A=t[8]),(0,r.useEffect)(S,A),null==y||y.name,t[9]!==h||t[10]!==_||t[11]!==g||t[12]!==(null==y?void 0:y.name)||t[13]!==v||t[14]!==n){e:{if(!h||!_){let e;t[16]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[16]=e):e=t[16],w=e;break e}const e=[];if(!((new Date).getTime()-_.timestamp<=6e4)){let e;t[17]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[17]=e):e=t[17],w=e;break e}const{chainId:s,origin:r}=_;if(s!==g){let s;t[18]!==n?(s=n("networkChanged"),t[18]=n,t[19]=s):s=t[19];const r=(null==y?void 0:y.name)??"";let a,c;t[20]!==n||t[21]!==r?(a=n("networkChangedMessage",[r]),t[20]=n,t[21]=r,t[22]=a):a=t[22],t[23]!==s||t[24]!==a?(c={key:"networkSwitchInfo",reason:s,field:o.RowAlertKey.Network,severity:i.Severity.Info,message:a},t[23]=s,t[24]=a,t[25]=c):c=t[25],e.push(c)}if(r!==v){let s;t[26]!==n?(s=n("originChanged"),t[26]=n,t[27]=s):s=t[27];const r=v??"";let a,c;t[28]!==n||t[29]!==r?(a=n("originChangedMessage",[r]),t[28]=n,t[29]=r,t[30]=a):a=t[30],t[31]!==s||t[32]!==a?(c={key:"originSwitchInfo",reason:s,field:o.RowAlertKey.RequestFrom,severity:i.Severity.Info,message:a},t[31]=s,t[32]=a,t[33]=c):c=t[33],e.push(c)}w=e}t[9]=h,t[10]=_,t[11]=g,t[12]=null==y?void 0:y.name,t[13]=v,t[14]=n,t[15]=w}else w=t[15];return w}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useNetworkAndOriginSwitchingAlerts.ts"}],[7762,{"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useOriginTrustSignals":7320,"../../../../hooks/useTrustSignals":7346,"../../context/confirm":7730,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginTrustSignalAlerts=function(){var e;const t=(0,s.c)(18),n=(0,o.useI18nContext)(),{currentConfirmation:u}=(0,i.useConfirmContext)(),d=(null==u?void 0:u.origin)??(null==u||null===(e=u.msgParams)||void 0===e?void 0:e.origin)??"",{state:m}=(0,l.useOriginTrustSignals)(d);let p;e:{if(!d){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],p=e;break e}let e;if(t[1]!==n||t[2]!==m){if(e=[],m===c.TrustSignalDisplayState.Malicious){let s,o,i;t[4]!==n?(s=n("alertReasonOriginTrustSignalMalicious"),t[4]=n,t[5]=s):s=t[5],t[6]!==n?(o=n("alertMessageOriginTrustSignalMalicious"),t[6]=n,t[7]=o):o=t[7],t[8]!==s||t[9]!==o?(i={key:"originTrustSignalMalicious",reason:s,field:r.RowAlertKey.RequestFrom,severity:a.Severity.Danger,message:o},t[8]=s,t[9]=o,t[10]=i):i=t[10],e.push(i)}else if(m===c.TrustSignalDisplayState.Warning){let s,o,i;t[11]!==n?(s=n("alertReasonOriginTrustSignalWarning"),t[11]=n,t[12]=s):s=t[12],t[13]!==n?(o=n("alertMessageOriginTrustSignalWarning"),t[13]=n,t[14]=o):o=t[14],t[15]!==s||t[16]!==o?(i={key:"originTrustSignalWarning",reason:s,field:r.RowAlertKey.RequestFrom,severity:a.Severity.Warning,message:o},t[15]=s,t[16]=o,t[17]=i):i=t[17],e.push(i)}t[1]=n,t[2]=m,t[3]=e}else e=t[3];p=e}return p};var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../components/app/confirm/info/row/constants")),a=e("../../../../helpers/constants/design-system"),o=e("../../../../hooks/useI18nContext"),i=e("../../context/confirm"),c=e("../../../../hooks/useTrustSignals"),l=e("../../../../hooks/useOriginTrustSignals")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useOriginTrustSignalAlerts.ts"}],[7763,{"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../selectors/multichain-accounts/account-tree":8211,"../../context/confirm":7730,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSelectedAccountAlerts=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../../../selectors/multichain-accounts/account-tree"),o=e("../../../../components/app/confirm/info/row/constants"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),l=e("../../context/confirm");n.useSelectedAccountAlerts=()=>{var e,t,n;const u=(0,s.c)(8),d=(0,c.useI18nContext)(),{currentConfirmation:m}=(0,l.useConfirmContext)(),p=(0,r.useSelector)(a.getSelectedAccountGroup),f=null===(e=(0,r.useSelector)(a.getAccountGroupWithInternalAccounts).find(e=>e.id===p))||void 0===e?void 0:e.accounts,h=(null==m||null===(t=m.msgParams)||void 0===t?void 0:t.from)??(null==m||null===(n=m.txParams)||void 0===n?void 0:n.from),g=null==f?void 0:f.find(e=>e.address.toLowerCase()===(null==h?void 0:h.toLowerCase()));let v;e:{if(!h||g){let e;u[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],u[0]=e):e=u[0],v=e;break e}let e,t,n;u[1]!==d?(e=d("selectedAccountMismatch"),u[1]=d,u[2]=e):e=u[2],u[3]!==d?(t=d("alertSelectedAccountWarning"),u[3]=d,u[4]=t):t=u[4],u[5]!==e||u[6]!==t?(n=[{key:"selectedAccountWarning",reason:e,field:o.RowAlertKey.SigningInWith,severity:i.Severity.Info,message:t}],u[5]=e,u[6]=t,u[7]=n):n=u[7],v=n}return v}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useSelectedAccountAlerts.ts"}],[7764,{"../../../../components/app/confirm/info/row/constants":6153,"../../../../components/component-library":6633,"../../../../helpers/constants/design-system":7149,"../../../../helpers/constants/routes":7154,"../../../../hooks/useI18nContext":7301,"../../../../selectors/shield/coverage":8230,"../../context/confirm":7730,"../../utils":7883,"../transactions/useEnableShieldCoverageChecks":7813,"../useSignatureEventFragment":7856,"../useTransactionEventFragment":7861,"./transactions/ShieldCoverageAlertMessage":7742,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShieldCoverageAlert=function(){const e=(0,s.c)(62),t=(0,l.useI18nContext)(),{currentConfirmation:n}=(0,d.useConfirmContext)(),{updateSignatureEventFragment:S}=(0,g.useSignatureEventFragment)(),{updateTransactionEventFragment:A}=(0,v.useTransactionEventFragment)();let w;e[0]!==n?(w=n??{},e[0]=n,e[1]=w):w=e[1];const{id:E}=w;let x;e[2]!==E?(x=e=>(0,u.getCoverageStatus)(e,E),e[2]=E,e[3]=x):x=e[3];const{reasonCode:C,status:b}=(0,a.useSelector)(x);let P;e[4]!==E?(P=e=>(0,u.getCoverageMetrics)(e,E),e[4]=E,e[5]=P):P=e[5];const I=(0,a.useSelector)(P),{isEnabled:N,isPaused:R}=(0,m.useEnableShieldCoverageChecks)(),M="covered"===b;let F;e[6]!==M||e[7]!==R||e[8]!==C?(F=M?"shieldCoverageAlertCovered":_(C),R&&(F="shieldCoverageAlertMessagePaused"),e[6]=M,e[7]=R,e[8]=C,e[9]=F):F=e[9];const O=N&&Boolean(b)||R,D=(0,o.useNavigate)();let G;e[10]!==D?(G=()=>{D(f.TRANSACTION_SHIELD_ROUTE)},e[10]=D,e[11]=G):G=e[11];const B=G;let L;e[12]!==n||e[13]!==E||e[14]!==N||e[15]!==R||e[16]!==(null==I?void 0:I.latency)||e[17]!==F||e[18]!==b||e[19]!==S||e[20]!==A?(L=()=>{if(N||R){const e={shield_result:k(b),shield_reason:F,shield_result_response_latency_ms:(null==I?void 0:I.latency)??y};(0,h.isSignatureTransactionType)(n)?S({properties:e}):A({properties:e},E)}},e[12]=n,e[13]=E,e[14]=N,e[15]=R,e[16]=null==I?void 0:I.latency,e[17]=F,e[18]=b,e[19]=S,e[20]=A,e[21]=L):L=e[21];const $=null==I?void 0:I.latency;let j,U;e[22]!==n||e[23]!==E||e[24]!==N||e[25]!==R||e[26]!==F||e[27]!==b||e[28]!==$||e[29]!==S||e[30]!==A?(j=[n,E,N,R,$,F,b,S,A],e[22]=n,e[23]=E,e[24]=N,e[25]=R,e[26]=F,e[27]=b,e[28]=$,e[29]=S,e[30]=A,e[31]=j):j=e[31];(0,r.useEffect)(L,j);e:{if(!O){let t;e[32]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[32]=t):t=e[32],U=t;break e}let s,r=c.Severity.Disabled;e[33]!==R||e[34]!==t?(s=t(R?"shieldPaused":"shieldNotCovered"),e[33]=R,e[34]=t,e[35]=s):s=e[35];let a,o=s;e[36]!==n?(a=(0,h.isSignatureTransactionType)(n),e[36]=n,e[37]=a):a=e[37];const l=a;let u;e[38]!==R||e[39]!==t?(u=t(R?"shieldCoverageAlertMessageTitlePaused":"shieldCoverageAlertMessageTitle"),e[38]=R,e[39]=t,e[40]=u):u=e[40];let d,m=u;if(l&&!R){let n;e[41]!==t?(n=t("shieldCoverageAlertMessageTitleSignatureRequest"),e[41]=t,e[42]=n):n=e[42],m=n}let f=c.IconColor.inherit;if(!R)t:switch(b){case"covered":{let n,s;r=c.Severity.Success,e[43]!==t?(n=t("shieldCovered"),e[43]=t,e[44]=n):n=e[44],o=n,f=c.IconColor.successDefault,e[45]!==l||e[46]!==t?(s=t(l?"shieldCoverageAlertMessageTitleSignatureRequestCovered":"shieldCoverageAlertMessageTitleCovered"),e[45]=l,e[46]=t,e[47]=s):s=e[47],m=s;break t}case"malicious":r=c.Severity.Danger,d=c.BackgroundColor.errorMuted,f=c.IconColor.errorDefault}const g=m,v=r;let y,_;e[48]!==F?(y=(0,T.ShieldCoverageAlertMessage)({modalBodyStr:F}),e[48]=F,e[49]=y):y=e[49],e[50]!==R||e[51]!==t?(_=R?t("shieldCoverageAlertMessagePausedAcknowledgeButton"):undefined,e[50]=R,e[51]=t,e[52]=_):_=e[52];const k=R?B:undefined;let S;e[53]!==f||e[54]!==o||e[55]!==d||e[56]!==m||e[57]!==r||e[58]!==y||e[59]!==_||e[60]!==k?(S=[{key:"shieldCoverageAlert",reason:g,field:i.RowAlertKey.ShieldFooterCoverageIndicator,severity:v,content:y,isBlocking:!1,inlineAlertText:o,inlineAlertTextPill:!0,inlineAlertTextBackgroundColor:d,alertDetailsBackgroundColor:c.BackgroundColor.backgroundDefault,inlineAlertIconRight:!0,iconName:p.IconName.Security,iconColor:f,showArrow:!1,isOpenModalOnClick:!0,hideFromAlertNavigation:!0,acknowledgeBypass:!0,customAcknowledgeButtonText:_,customAcknowledgeButtonOnClick:k}],e[53]=f,e[54]=o,e[55]=d,e[56]=m,e[57]=r,e[58]=y,e[59]=_,e[60]=k,e[61]=S):S=e[61],U=S}return U};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("react-router-dom"),i=e("../../../../components/app/confirm/info/row/constants"),c=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors/shield/coverage"),d=e("../../context/confirm"),m=e("../transactions/useEnableShieldCoverageChecks"),p=e("../../../../components/component-library"),f=e("../../../../helpers/constants/routes"),h=e("../../utils"),g=e("../useSignatureEventFragment"),v=e("../useTransactionEventFragment"),T=e("./transactions/ShieldCoverageAlertMessage");const y="N/A",_=e=>{let t;switch(e){case"E001":case"E002":case"E003":case"E004":case"E005":case"E006":case"E101":case"E102":case"E103":case"E301":case"E302":case"E500":case"E501":case"E600":case"E601":t="shieldCoverageAlertMessagePotentialRisks";break;case"E007":case"E802":case"E803":default:t="shieldCoverageAlertMessageUnknown";break;case"E008":t="shieldCoverageAlertMessageChainNotSupported";break;case"E104":case"E200":case"E300":case"E400":case"E401":case"E402":t="shieldCoverageAlertMessageTxTypeNotSupported";break;case"E700":case"E701":case"E702":case"E703":t="shieldCoverageAlertMessageSignatureNotSupported";break;case"E800":t="shieldCoverageAlertHighRiskTransaction";break;case"E801":t="shieldCoverageAlertMessageTokenTrustSignalWarning"}return t},k=e=>{switch(e){case"covered":return"covered";case"malicious":return"not_covered_malicious";case"unknown":return"not_covered";default:return"loading"}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useShieldCoverageAlert.ts"}],[7765,{"../../../../../shared/constants/signatures":5905,"../../../../../shared/modules/transaction.utils":6047,"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useTrustSignals":7346,"../../context/confirm":7730,"../../utils":7883,"@metamask/name-controller":2414,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSpenderAlerts=function(){const e=(0,s.c)(25),t=(0,a.useI18nContext)(),{currentConfirmation:n}=(0,o.useConfirmContext)();let p;e:{var f;if(!n){p=null;break e}const t=null===(f=n.txParams)||void 0===f?void 0:f.data;if(t){const n=t;let s;e[0]!==n?(s=(0,c.parseApprovalTransactionData)(n),e[0]=n,e[1]=s):s=e[1];const r=s;if(null!=r&&r.spender){p=r.spender;break e}}else if((0,i.isSignatureTransactionType)(n)&&"eth_signTypedData"===n.type){var h;const t=null===(h=n.msgParams)||void 0===h?void 0:h.data;if(t){let n,s;if(e[2]!==t){s=(0,c.parseTypedDataMessage)(t);const{primaryType:r}=s;n=l.PRIMARY_TYPES_PERMIT.includes(r),e[2]=t,e[3]=n,e[4]=s}else n=e[3],s=e[4];if(n){var g;p=(null===(g=s.message)||void 0===g?void 0:g.spender)||null;break e}}}p=null}const v=p,{state:T}=(0,m.useTrustSignal)(v||"",r.NameType.ETHEREUM_ADDRESS,null==n?void 0:n.chainId);let y;e:{if(!v){let t;e[5]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[5]=t):t=e[5],y=t;break e}let n;if(e[6]!==t||e[7]!==T){if(n=[],T===m.TrustSignalDisplayState.Malicious){let s,r,a,o;e[9]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[9]=s):s=e[9],e[10]!==t?(r=t("alertMessageAddressTrustSignalMalicious"),e[10]=t,e[11]=r):r=e[11],e[12]!==t?(a=t("nameModalTitleMalicious"),e[12]=t,e[13]=a):a=e[13],e[14]!==r||e[15]!==a?(o={actions:s,field:u.RowAlertKey.Spender,isBlocking:!1,key:"spenderTrustSignalMalicious",message:r,reason:a,severity:d.Severity.Danger},e[14]=r,e[15]=a,e[16]=o):o=e[16],n.push(o)}else if(T===m.TrustSignalDisplayState.Warning){let s,r,a,o;e[17]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[17]=s):s=e[17],e[18]!==t?(r=t("alertMessageAddressTrustSignal"),e[18]=t,e[19]=r):r=e[19],e[20]!==t?(a=t("nameModalTitleWarning"),e[20]=t,e[21]=a):a=e[21],e[22]!==r||e[23]!==a?(o={actions:s,field:u.RowAlertKey.Spender,isBlocking:!1,key:"spenderTrustSignalWarning",message:r,reason:a,severity:d.Severity.Warning},e[22]=r,e[23]=a,e[24]=o):o=e[24],n.push(o)}e[6]=t,e[7]=T,e[8]=n}else n=e[8];y=n}return y};var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/name-controller")),a=e("../../../../hooks/useI18nContext"),o=e("../../context/confirm"),i=e("../../utils"),c=e("../../../../../shared/modules/transaction.utils"),l=e("../../../../../shared/constants/signatures"),u=e("../../../../components/app/confirm/info/row/constants"),d=e("../../../../helpers/constants/design-system"),m=e("../../../../hooks/useTrustSignals")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useSpenderAlerts.ts"}],[7766,{"../../../../components/app/confirm/info/row/constants":6153,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useTokenTrustSignals":7343,"../../../../hooks/useTrustSignals":7346,"../../context/confirm":7730,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTrustSignalAlerts=function(){var e;const t=(0,s.c)(16),n=(0,l.useI18nContext)(),{currentConfirmation:r}=(0,i.useConfirmContext)(),c=r,v=null==c?void 0:c.chainId,T=null==c||null===(e=c.simulationData)||void 0===e?void 0:e.tokenBalanceChanges;let y;e:{if(null==T||!T.length){y=undefined;break e}let e;t[0]!==T?(e=T.filter(g).map(h),t[0]=T,t[1]=e):e=t[1];const n=e;y=n.length?n:undefined}const _=y,k=(0,u.useTokenTrustSignalsForAddresses)(v,_);let S;e:{if(null==_||!_.length){S=d;break e}const e=null==k?void 0:k.some(f),s=null==k?void 0:k.some(p);if(e){let e,s,r;t[2]!==n?(e=n("alertMessageTokenTrustSignalMalicious"),t[2]=n,t[3]=e):e=t[3],t[4]!==n?(s=n("alertReasonTokenTrustSignalMalicious"),t[4]=n,t[5]=s):s=t[5],t[6]!==e||t[7]!==s?(r=[{actions:m,field:o.RowAlertKey.IncomingTokens,isBlocking:!1,key:"tokenTrustSignalMalicious",message:e,reason:s,severity:a.Severity.Danger}],t[6]=e,t[7]=s,t[8]=r):r=t[8],S=r;break e}if(s){let e,s,r;t[9]!==n?(e=n("alertMessageTokenTrustSignalWarning"),t[9]=n,t[10]=e):e=t[10],t[11]!==n?(s=n("alertReasonTokenTrustSignalWarning"),t[11]=n,t[12]=s):s=t[12],t[13]!==e||t[14]!==s?(r=[{actions:m,field:o.RowAlertKey.IncomingTokens,isBlocking:!1,key:"tokenTrustSignalWarning",message:e,reason:s,severity:a.Severity.Warning}],t[13]=e,t[14]=s,t[15]=r):r=t[15],S=r;break e}S=d}return S};var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/transaction-controller")),a=e("../../../../helpers/constants/design-system"),o=e("../../../../components/app/confirm/info/row/constants"),i=e("../../context/confirm"),c=e("../../../../hooks/useTrustSignals"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../hooks/useTokenTrustSignals");const d=[],m=[];function p(e){return e.state===c.TrustSignalDisplayState.Warning}function f(e){return e.state===c.TrustSignalDisplayState.Malicious}function h(e){return e.address.toLowerCase()}function g(e){return!e.isDecrease&&e.standard===r.SimulationTokenStandard.erc20&&e.address}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useTokenTrustSignalAlerts.ts"}],[7767,{"../../../../../shared/constants/security-provider":5904,"../../../../helpers/constants/design-system":7149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REASON_TO_TITLE_TKEY=n.REASON_TO_DESCRIPTION_TKEY=void 0,n.getProviderAlertSeverity=i,n.normalizeProviderAlert=function(e,t,n){return{key:e.securityAlertId||"",reason:t(o[e.reason]||"blockaidTitleDeceptive"),severity:i(e.result_type),alertDetails:e.features,message:t(a[e.reason]||a.other),provider:s.SecurityProvider.Blockaid,reportUrl:n}};var s=e("../../../../../shared/constants/security-provider"),r=e("../../../../helpers/constants/design-system");const a=n.REASON_TO_DESCRIPTION_TKEY=Object.freeze({[s.BlockaidReason.approvalFarming]:"blockaidDescriptionApproveFarming",[s.BlockaidReason.permitFarming]:"blockaidDescriptionApproveFarming",[s.BlockaidReason.setApprovalForAll]:"blockaidDescriptionApproveFarming",[s.BlockaidReason.blurFarming]:"blockaidDescriptionBlurFarming",[s.BlockaidReason.errored]:"blockaidDescriptionErrored",[s.BlockaidReason.seaportFarming]:"blockaidDescriptionSeaportFarming",[s.BlockaidReason.maliciousDomain]:"blockaidDescriptionMaliciousDomain",[s.BlockaidReason.rawSignatureFarming]:"blockaidDescriptionMightLoseAssets",[s.BlockaidReason.tradeOrderFarming]:"blockaidDescriptionMightLoseAssets",[s.BlockaidReason.rawNativeTokenTransfer]:"blockaidDescriptionTransferFarming",[s.BlockaidReason.transferFarming]:"blockaidDescriptionTransferFarming",[s.BlockaidReason.transferFromFarming]:"blockaidDescriptionTransferFarming",[s.BlockaidReason.other]:"blockaidDescriptionMightLoseAssets"}),o=n.REASON_TO_TITLE_TKEY=Object.freeze({[s.BlockaidReason.errored]:"blockaidTitleMayNotBeSafe",[s.BlockaidReason.rawSignatureFarming]:"blockaidTitleSuspicious"});function i(e){switch(e){case s.BlockaidResultType.Malicious:return r.Severity.Danger;case s.BlockaidResultType.Warning:return r.Severity.Warning;default:return r.Severity.Info}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/utils.ts"}],[7768,{"../../../../../shared/modules/conversion.utils":6015,"../../../../hooks/useI18nContext":7301,"../../components/confirm/info/hooks/useFeeCalculations":7488,"../../constants/gas":7725,"../../context/confirm":7730,"../transactions/useTransactionNativeTicker":7818,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAdvancedGasFeeOption=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/transaction-controller")),a=e("../../components/confirm/info/hooks/useFeeCalculations"),o=e("../../constants/gas"),i=e("../../context/confirm"),c=e("../../../../hooks/useI18nContext"),l=e("../transactions/useTransactionNativeTicker"),u=e("../../../../../shared/modules/conversion.utils");const d="0x0";n.useAdvancedGasFeeOption=e=>{const t=(0,s.c)(38),{setActiveModal:n}=e,m=(0,c.useI18nContext)(),p=(0,l.useTransactionNativeTicker)(),{currentConfirmation:f}=(0,i.useConfirmContext)(),{gasFeeEstimates:h,userFeeLevel:g,txParams:v}=f,{type:T,gas:y,maxFeePerGas:_,maxPriorityFeePerGas:k,gasPrice:S}=v,{calculateGasEstimate:A}=(0,a.useFeeCalculations)(f);let w;t[0]!==n||t[1]!==T?(w=()=>{const e=T===r.TransactionEnvelopeType.legacy?o.GasModalType.AdvancedGasPriceModal:o.GasModalType.AdvancedEIP1559Modal;n(e)},t[0]=n,t[1]=T,t[2]=w):w=t[2];const E=w,x=g===r.UserFeeLevel.CUSTOM,C=g===r.UserFeeLevel.DAPP_SUGGESTED,b=Object.values(r.GasFeeEstimateLevel).some(e=>g===e),P="medium"===g&&(null==h?void 0:h.type)===r.GasFeeEstimateType.GasPrice,I=!C&&!b&&!P||x;let N,R,M;if(t[3]!==A||t[4]!==I||t[5]!==_||t[6]!==k||t[7]!==T||t[8]!==f.gasLimitNoBuffer||t[9]!==y||t[10]!==S){if(N=o.EMPTY_VALUE_STRING,R=o.EMPTY_VALUE_STRING,I){const e=_||d;let n=d,s=f.gasLimitNoBuffer||d,a=!0;const i=k||d;let c;T===r.TransactionEnvelopeType.legacy&&(n=S||d,s=y||d,a=!1),t[13]!==A||t[14]!==e||t[15]!==s||t[16]!==n||t[17]!==i||t[18]!==a?(c=A({feePerGas:e,priorityFeePerGas:i,gas:s,shouldUseEIP1559FeeLogic:a,gasPrice:n}),t[13]=A,t[14]=e,t[15]=s,t[16]=n,t[17]=i,t[18]=a,t[19]=c):c=t[19];const{currentCurrencyFee:l,preciseNativeCurrencyFee:u}=c;N=u||o.EMPTY_VALUE_STRING,R=l||o.EMPTY_VALUE_STRING}t[3]=A,t[4]=I,t[5]=_,t[6]=k,t[7]=T,t[8]=f.gasLimitNoBuffer,t[9]=y,t[10]=S,t[11]=N,t[12]=R}else N=t[11],R=t[12];t[20]!==m?(M=m("advanced"),t[20]=m,t[21]=M):M=t[21];const F=N===o.EMPTY_VALUE_STRING?o.EMPTY_VALUE_STRING:`${N} ${p}`,O=R,D=_||d;let G;t[22]!==D?(G=(0,u.hexWEIToDecGWEI)(D),t[22]=D,t[23]=G):G=t[23];const B=k||d;let L;t[24]!==B?(L=(0,u.hexWEIToDecGWEI)(B),t[24]=B,t[25]=L):L=t[25];const $=parseInt(f.gasLimitNoBuffer||y||d,16),j=f;let U,W;t[26]!==$||t[27]!==j||t[28]!==G||t[29]!==L?(U={priorityLevel:"custom",maxFeePerGas:G,maxPriorityFeePerGas:L,gasLimit:$,transaction:j},t[26]=$,t[27]=j,t[28]=G,t[29]=L,t[30]=U):U=t[30],t[31]!==I||t[32]!==E||t[33]!==U||t[34]!==M||t[35]!==F||t[36]!==R?(W=[{estimatedTime:"",isSelected:I,key:"advanced",name:M,onSelect:E,value:F,valueInFiat:O,tooltipProps:U}],t[31]=I,t[32]=E,t[33]=U,t[34]=M,t[35]=F,t[36]=R,t[37]=W):W=t[37];return W}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useAdvancedGasFeeOption.ts"}],[7769,{"../../../../../shared/modules/conversion.utils":6015,"../../../../hooks/useI18nContext":7301,"../../../../store/actions":8241,"../../components/confirm/info/hooks/useFeeCalculations":7488,"../../constants/gas":7725,"../../context/confirm":7730,"../transactions/useTransactionNativeTicker":7818,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSuggestedGasFeeOption=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/transaction-controller")),a=e("react-redux"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../store/actions"),c=e("../../constants/gas"),l=e("../../context/confirm"),u=e("../../components/confirm/info/hooks/useFeeCalculations"),d=e("../transactions/useTransactionNativeTicker"),m=e("../../../../../shared/modules/conversion.utils");const p="0x0";n.useDappSuggestedGasFeeOption=e=>{const t=(0,s.c)(42),{handleCloseModals:n}=e,f=(0,o.useI18nContext)(),{currentConfirmation:h}=(0,l.useConfirmContext)(),g=(0,d.useTransactionNativeTicker)(),{calculateGasEstimate:v}=(0,u.useFeeCalculations)(h),T=(0,a.useDispatch)(),{dappSuggestedGasFees:y,id:_,origin:k,userFeeLevel:S}=h;let A;t[0]!==y||t[1]!==T||t[2]!==n||t[3]!==_?(A=async()=>{await T((0,i.updateTransactionGasFees)(_,{userFeeLevel:r.UserFeeLevel.DAPP_SUGGESTED,...y||{}})),n()},t[0]=y,t[1]=T,t[2]=n,t[3]=_,t[4]=A):A=t[4];const w=A,E="metamask"!==k&&y,x=S===r.UserFeeLevel.DAPP_SUGGESTED;let C;if(t[5]!==v||t[6]!==(null==y?void 0:y.gas)||t[7]!==(null==y?void 0:y.gasPrice)||t[8]!==(null==y?void 0:y.maxFeePerGas)||t[9]!==(null==y?void 0:y.maxPriorityFeePerGas)||t[10]!==x||t[11]!==g||t[12]!==w||t[13]!==E||t[14]!==f||t[15]!==h){if(C=[],E){let e,n=p,s=p,r=h.gasLimitNoBuffer||p,a=!0,o=p;null!=y&&y.maxFeePerGas&&null!=y&&y.maxPriorityFeePerGas?(n=null==y?void 0:y.maxFeePerGas,o=null==y?void 0:y.maxPriorityFeePerGas):null!=y&&y.gasPrice&&(s=null==y?void 0:y.gasPrice,r=(null==y?void 0:y.gas)||p,a=!1),t[17]!==v||t[18]!==n||t[19]!==r||t[20]!==s||t[21]!==o||t[22]!==a?(e=v({feePerGas:n,priorityFeePerGas:o,gas:r,shouldUseEIP1559FeeLogic:a,gasPrice:s}),t[17]=v,t[18]=n,t[19]=r,t[20]=s,t[21]=o,t[22]=a,t[23]=e):e=t[23];const{currentCurrencyFee:i,preciseNativeCurrencyFee:l}=e;let u;t[24]!==f?(u=f("dappSuggested"),t[24]=f,t[25]=u):u=t[25];const d=l?`${l} ${g}`:c.EMPTY_VALUE_STRING,T=i||c.EMPTY_VALUE_STRING;let _,k;t[26]!==n?(_=(0,m.hexWEIToDecGWEI)(n),t[26]=n,t[27]=_):_=t[27],t[28]!==o?(k=(0,m.hexWEIToDecGWEI)(o),t[28]=o,t[29]=k):k=t[29];const S=parseInt(r,16),A=h;let E,b;t[30]!==_||t[31]!==k||t[32]!==S||t[33]!==A?(E={priorityLevel:"dappSuggested",maxFeePerGas:_,maxPriorityFeePerGas:k,gasLimit:S,transaction:A},t[30]=_,t[31]=k,t[32]=S,t[33]=A,t[34]=E):E=t[34],t[35]!==x||t[36]!==w||t[37]!==E||t[38]!==u||t[39]!==d||t[40]!==T?(b={estimatedTime:undefined,isSelected:x,key:"site_suggested",name:u,onSelect:w,value:d,valueInFiat:T,tooltipProps:E},t[35]=x,t[36]=w,t[37]=E,t[38]=u,t[39]=d,t[40]=T,t[41]=b):b=t[41],C.push(b)}t[5]=v,t[6]=null==y?void 0:y.gas,t[7]=null==y?void 0:y.gasPrice,t[8]=null==y?void 0:y.maxFeePerGas,t[9]=null==y?void 0:y.maxPriorityFeePerGas,t[10]=x,t[11]=g,t[12]=w,t[13]=E,t[14]=f,t[15]=h,t[16]=C}else C=t[16];return C}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useDappSuggestedGasFeeOption.ts"}],[7770,{"../../../../../shared/modules/conversion.utils":6015,"../../../../hooks/useGasFeeEstimates":7298,"../../../../hooks/useI18nContext":7301,"../../../../store/actions":8241,"../../components/confirm/info/hooks/useFeeCalculations":7488,"../../constants/gas":7725,"../../context/confirm":7730,"../../utils/time":7889,"../transactions/useTransactionNativeTicker":7818,"@metamask/transaction-controller":3085,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimateLevelOptions=void 0;var s=e("react"),r=e("@metamask/transaction-controller"),a=e("react-redux"),o=e("../../../../hooks/useI18nContext"),i=e("../../context/confirm"),c=e("../../../../hooks/useGasFeeEstimates"),l=e("../../components/confirm/info/hooks/useFeeCalculations"),u=e("../../../../store/actions"),d=e("../../constants/gas"),m=e("../../utils/time"),p=e("../transactions/useTransactionNativeTicker"),f=e("../../../../../shared/modules/conversion.utils");const h="0x0";n.useGasFeeEstimateLevelOptions=({handleCloseModals:e})=>{const t=(0,o.useI18nContext)(),n=(0,a.useDispatch)(),{currentConfirmation:g}=(0,i.useConfirmContext)(),v=(0,p.useTransactionNativeTicker)(),{calculateGasEstimate:T}=(0,l.useFeeCalculations)(g),{gasFeeEstimates:y}=(0,c.useGasFeeEstimates)(g.networkClientId),{gasFeeEstimates:_,id:k,userFeeLevel:S}=g,A=_,w=(0,s.useMemo)(()=>((null==A?void 0:A.type)===r.GasFeeEstimateType.FeeMarket||(null==A?void 0:A.type)===r.GasFeeEstimateType.Legacy)&&y,[A,y]),E=(0,s.useCallback)(async t=>{await n((0,u.updateTransactionGasFees)(k,{userFeeLevel:t})),e()},[k,e,n]),x=[];return w&&Object.values(r.GasFeeEstimateLevel).forEach(e=>{var n,s;if(e===r.GasFeeEstimateLevel.High&&(null==A?void 0:A.type)===r.GasFeeEstimateType.FeeMarket){const e=A[r.GasFeeEstimateLevel.Medium],t=A[r.GasFeeEstimateLevel.High];if((null==e?void 0:e.maxFeePerGas)===(null==t?void 0:t.maxFeePerGas)&&(null==e?void 0:e.maxPriorityFeePerGas)===(null==t?void 0:t.maxPriorityFeePerGas))return}const a=(0,m.toHumanEstimatedTimeRange)(y[e].minWaitTimeEstimate,y[e].maxWaitTimeEstimate);let o=h,i=h;const c=g.gasLimitNoBuffer||h;let l=!0,u=h;switch(null==A?void 0:A.type){case r.GasFeeEstimateType.FeeMarket:o=null==A||null===(n=A[e])||void 0===n?void 0:n.maxFeePerGas,u=null==A||null===(s=A[e])||void 0===s?void 0:s.maxPriorityFeePerGas;break;case r.GasFeeEstimateType.Legacy:i=null==A?void 0:A[e],l=!1;break;default:i=null==A?void 0:A.gasPrice,l=!1}const{currentCurrencyFee:p,preciseNativeCurrencyFee:_}=T({feePerGas:o,priorityFeePerGas:u,gasPrice:i,gas:c,shouldUseEIP1559FeeLogic:l});x.push({estimatedTime:a,isSelected:S===e,key:e,name:t(e),onSelect:()=>E(e),value:_?`${_} ${v}`:d.EMPTY_VALUE_STRING,valueInFiat:p||d.EMPTY_VALUE_STRING,tooltipProps:{priorityLevel:e,maxFeePerGas:(0,f.hexWEIToDecGWEI)(o),maxPriorityFeePerGas:(0,f.hexWEIToDecGWEI)(u),gasLimit:parseInt(c,16),transaction:g}})}),x}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useGasFeeEstimateLevelOptions.ts"}],[7771,{"./useAdvancedGasFeeOption":7768,"./useDappSuggestedGasFeeOption":7769,"./useGasFeeEstimateLevelOptions":7770,"./useGasPriceEstimateOption":7772,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasOptions=void 0;var s=e("react-compiler-runtime"),r=e("./useAdvancedGasFeeOption"),a=e("./useGasFeeEstimateLevelOptions"),o=e("./useGasPriceEstimateOption"),i=e("./useDappSuggestedGasFeeOption");n.useGasOptions=e=>{const t=(0,s.c)(13),{handleCloseModals:n,setActiveModal:c}=e;let l;t[0]!==c?(l={setActiveModal:c},t[0]=c,t[1]=l):l=t[1];const u=(0,r.useAdvancedGasFeeOption)(l);let d;t[2]!==n?(d={handleCloseModals:n},t[2]=n,t[3]=d):d=t[3];const m=(0,a.useGasFeeEstimateLevelOptions)(d);let p;t[4]!==n?(p={handleCloseModals:n},t[4]=n,t[5]=p):p=t[5];const f=(0,o.useGasPriceEstimateOption)(p);let h;t[6]!==n?(h={handleCloseModals:n},t[6]=n,t[7]=h):h=t[7];const g=(0,i.useDappSuggestedGasFeeOption)(h);let v;if(t[8]!==u||t[9]!==g||t[10]!==m||t[11]!==f){v={options:[...m,...f,...g,...u]},t[8]=u,t[9]=g,t[10]=m,t[11]=f,t[12]=v}else v=t[12];return v}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useGasOptions.ts"}],[7772,{"../../../../../shared/modules/conversion.utils":6015,"../../../../hooks/useGasFeeEstimates":7298,"../../../../hooks/useI18nContext":7301,"../../../../store/actions":8241,"../../components/confirm/info/hooks/useFeeCalculations":7488,"../../constants/gas":7725,"../../context/confirm":7730,"../transactions/useTransactionNativeTicker":7818,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasPriceEstimateOption=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/transaction-controller")),a=e("react-redux"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../store/actions"),c=e("../../context/confirm"),l=e("../../../../hooks/useGasFeeEstimates"),u=e("../../components/confirm/info/hooks/useFeeCalculations"),d=e("../../constants/gas"),m=e("../transactions/useTransactionNativeTicker"),p=e("../../../../../shared/modules/conversion.utils");const f="0x0";n.useGasPriceEstimateOption=e=>{const t=(0,s.c)(18),{handleCloseModals:n}=e,h=(0,a.useDispatch)(),g=(0,o.useI18nContext)(),{currentConfirmation:v}=(0,c.useConfirmContext)(),{calculateGasEstimate:T}=(0,u.useFeeCalculations)(v),y=(0,m.useTransactionNativeTicker)(),{gasFeeEstimates:_,id:k,networkClientId:S,userFeeLevel:A,txParams:w}=v,{type:E}=w,{gasFeeEstimates:x}=(0,l.useGasFeeEstimates)(S),C=_,b="medium"===A&&(null==C?void 0:C.type)===r.GasFeeEstimateType.GasPrice,P=(null==C?void 0:C.type)===r.GasFeeEstimateType.GasPrice&&x;let I;t[0]!==h||t[1]!==n||t[2]!==k||t[3]!==E||t[4]!==(null==C?void 0:C.gasPrice)?(I=async()=>{let e;e=E===r.TransactionEnvelopeType.legacy?{gasPrice:null==C?void 0:C.gasPrice}:{maxFeePerGas:null==C?void 0:C.gasPrice,maxPriorityFeePerGas:null==C?void 0:C.gasPrice},await h((0,i.updateTransactionGasFees)(k,{userFeeLevel:"medium",...e})),n()},t[0]=h,t[1]=n,t[2]=k,t[3]=E,t[4]=null==C?void 0:C.gasPrice,t[5]=I):I=t[5];const N=I;let R,M;t[6]!==T||t[7]!==b||t[8]!==y||t[9]!==N||t[10]!==P||t[11]!==g||t[12]!==E||t[13]!==(null==C?void 0:C.gasPrice)||t[14]!==v?(R=()=>{if(!P)return[];let e=f,t=f;const n=v.gasLimitNoBuffer||f;let s=!1,a=f;E===r.TransactionEnvelopeType.legacy?t=null==C?void 0:C.gasPrice:(e=null==C?void 0:C.gasPrice,a=null==C?void 0:C.gasPrice,s=!0);const{currentCurrencyFee:o,preciseNativeCurrencyFee:i}=T({feePerGas:e,priorityFeePerGas:a,gas:n,shouldUseEIP1559FeeLogic:s,gasPrice:t});return[{estimatedTime:undefined,isSelected:b,key:"gasPrice",name:g("networkSuggested"),onSelect:()=>N(),value:i?`${i} ${y}`:d.EMPTY_VALUE_STRING,valueInFiat:o||d.EMPTY_VALUE_STRING,tooltipProps:{priorityLevel:"medium",maxFeePerGas:(0,p.hexWEIToDecGWEI)(e),maxPriorityFeePerGas:(0,p.hexWEIToDecGWEI)(a),gasLimit:parseInt(n,16),transaction:v}}]},t[6]=T,t[7]=b,t[8]=y,t[9]=N,t[10]=P,t[11]=g,t[12]=E,t[13]=null==C?void 0:C.gasPrice,t[14]=v,t[15]=R):R=t[15],null==C||C.gasPrice,t[16]!==R?(M=R(),t[16]=R,t[17]=M):M=t[17];return M}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useGasPriceEstimateOption.ts"}],[7773,{"../../../../../shared/modules/selectors":6032,"../../../../hooks/useAsync":7281,"../../../../store/actions":8241,"../../context/confirm":7730,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGaslessSupportedSmartTransactions=function(){const e=(0,s.c)(11),{currentConfirmation:t}=(0,c.useConfirmContext)();let n;e[0]!==t?(n=t??{},e[0]=t,e[1]=n):n=e[1];const{chainId:l}=n;let u;e[2]!==l?(u=e=>(0,a.getIsSmartTransaction)(e,l),e[2]=l,e[3]=u):u=e[3];const d=(0,r.useSelector)(u);let m,p;e[4]!==l?(m=async()=>!!l&&(0,i.isSendBundleSupported)(l),p=[l],e[4]=l,e[5]=m,e[6]=p):(m=e[5],p=e[6]);const{value:f,pending:h}=(0,o.useAsyncResult)(m,p),g=Boolean(d),v=Boolean(d&&f);let T;e[7]!==h||e[8]!==g||e[9]!==v?(T={isSmartTransaction:g,isSupported:v,pending:h},e[7]=h,e[8]=g,e[9]=v,e[10]=T):T=e[10];return T};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../../../shared/modules/selectors"),o=e("../../../../hooks/useAsync"),i=e("../../../../store/actions"),c=e("../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useGaslessSupportedSmartTransactions.ts"}],[7774,{"../../../../selectors":8207,"../../context/confirm":7730,"../useHasInsufficientBalance":7846,"./useIsGaslessSupported":7775,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsGaslessLoading=function(){const e=(0,s.c)(4),{currentConfirmation:t}=(0,a.useConfirmContext)();let n;e[0]!==t?(n=t??{},e[0]=t,e[1]=n):n=e[1];const{gasFeeTokens:l}=n,{isSupported:u,pending:d}=(0,c.useIsGaslessSupported)(),m=(0,r.useSelector)(o.getUseTransactionSimulations),{hasInsufficientBalance:p}=(0,i.useHasInsufficientBalance)(),f=!d&&u,h=m&&f&&p&&!l;let g;e[2]!==h?(g={isGaslessLoading:h},e[2]=h,e[3]=g):g=e[3];return g};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../context/confirm"),o=e("../../../../selectors"),i=e("../useHasInsufficientBalance"),c=e("./useIsGaslessSupported")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useIsGaslessLoading.ts"}],[7775,{"../../../../hooks/useAsync":7281,"../../../../store/actions":8241,"../../context/confirm":7730,"./useGaslessSupportedSmartTransactions":7773,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsGaslessSupported=function(){var e;const t=(0,s.c)(10),{currentConfirmation:n}=(0,a.useConfirmContext)();let c;t[0]!==n?(c=n??{},t[0]=n,t[1]=c):c=t[1];const{chainId:l}=c,{isSmartTransaction:u,isSupported:d,pending:m}=(0,i.useGaslessSupportedSmartTransactions)(),p=!m&&!d;let f,h;t[2]!==l||t[3]!==p?(f=async()=>{if(p)return(0,o.isRelaySupported)(l)},h=[l,p],t[2]=l,t[3]=p,t[4]=f,t[5]=h):(f=t[4],h=t[5]);const{value:g,pending:v}=(0,r.useAsyncResult)(f,h),T=Boolean(g&&(null==n||null===(e=n.txParams)||void 0===e?void 0:e.to)!==undefined),y=Boolean(d||T),_=m||p&&v;let k;t[6]!==_||t[7]!==u||t[8]!==y?(k={isSupported:y,isSmartTransaction:u,pending:_},t[6]=_,t[7]=u,t[8]=y,t[9]=k):k=t[9];return k};var s=e("react-compiler-runtime"),r=e("../../../../hooks/useAsync"),a=e("../../context/confirm"),o=e("../../../../store/actions"),i=e("./useGaslessSupportedSmartTransactions")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useIsGaslessSupported.ts"}],[7776,{"../../../../selectors":8207,"./useTransactionPayAvailableTokens":7777,"./useTransactionPayData":7778,"./useTransactionPayToken":7780,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutomaticTransactionPayToken=function(e){const t=(0,s.c)(21);let n;t[0]!==e?(n=e===undefined?{}:e,t[0]=e,t[1]=n):n=t[1];const{disable:m,preferredToken:p}=n,f=m!==undefined&&m,h=(0,r.useRef)(!1),{setPayToken:g}=(0,i.useTransactionPayToken)(),v=(0,c.useTransactionPayRequiredTokens)(),T=(0,l.useTransactionPayAvailableTokens)();let y;t[2]!==T?(y=T.filter(d),t[2]=T,t[3]=y):y=t[3];const _=y,k=(0,a.useSelector)(o.getHardwareWalletType),S=Boolean(k);let A;t[4]!==v?(A=v.find(u),t[4]=v,t[5]=A):A=t[5];const w=A;let E,x;t[6]!==f||t[7]!==S||t[8]!==p||t[9]!==g||t[10]!==w||t[11]!==_?(E=()=>{if(f||h.current)return;const e=function({isHardwareWallet:e,preferredToken:t,targetToken:n,tokens:s}){const r=n?{address:n.address,chainId:n.chainId}:undefined;if(e)return r;if(t){if(s.some(e=>{var n,s;return(null===(n=e.address)||void 0===n?void 0:n.toLowerCase())===t.address.toLowerCase()&&(null===(s=String(e.chainId))||void 0===s?void 0:s.toLowerCase())===t.chainId.toLowerCase()}))return t}if(null!=s&&s.length)return{address:s[0].address,chainId:s[0].chainId};return r}({isHardwareWallet:S,targetToken:w,tokens:_,preferredToken:p});e&&(g({address:e.address,chainId:e.chainId}),h.current=!0)},t[6]=f,t[7]=S,t[8]=p,t[9]=g,t[10]=w,t[11]=_,t[12]=E):E=t[12];t[13]!==f||t[14]!==S||t[15]!==p||t[16]!==v||t[17]!==g||t[18]!==w||t[19]!==_?(x=[f,S,p,v,g,w,_],t[13]=f,t[14]=S,t[15]=p,t[16]=v,t[17]=g,t[18]=w,t[19]=_,t[20]=x):x=t[20];(0,r.useEffect)(E,x)};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("../../../../selectors"),i=e("./useTransactionPayToken"),c=e("./useTransactionPayData"),l=e("./useTransactionPayAvailableTokens");function u(e){return!e.allowUnderMinimum}function d(e){return!e.disabled}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/pay/useAutomaticTransactionPayToken.ts"}],[7777,{"../../utils/transaction-pay":7891,"../send/useSendTokens":7802,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionPayAvailableTokens=function(){const e=(0,s.c)(2),t=(0,a.useSendTokens)();let n;e[0]!==t?(n=(0,r.getAvailableTokens)({tokens:t}),e[0]=t,e[1]=n):n=e[1];return n};var s=e("react-compiler-runtime"),r=(e("react"),e("../../utils/transaction-pay")),a=e("../send/useSendTokens")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/pay/useTransactionPayAvailableTokens.ts"}],[7778,{"../../../../selectors/transactionPayController":8238,"../../context/confirm":7730,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsTransactionPayLoading=function(){return i(a.selectIsTransactionPayLoadingByTransactionId)},n.useTransactionPayIsMaxAmount=function(){return i(a.selectTransactionPayIsMaxAmountByTransactionId)},n.useTransactionPayQuotes=function(){return i(a.selectTransactionPayQuotesByTransactionId)},n.useTransactionPayRequiredTokens=function(){return i(a.selectTransactionPayTokensByTransactionId)},n.useTransactionPaySourceAmounts=function(){return i(a.selectTransactionPaySourceAmountsByTransactionId)},n.useTransactionPayTotals=function(){return i(a.selectTransactionPayTotalsByTransactionId)};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../../selectors/transactionPayController"),o=e("../../context/confirm");function i(e){const t=(0,s.c)(3),{currentConfirmation:n}=(0,o.useConfirmContext)(),a=(null==n?void 0:n.id)??"";let i;return t[0]!==e||t[1]!==a?(i=t=>e(t,a),t[0]=e,t[1]=a,t[2]=i):i=t[2],(0,r.useSelector)(i)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/pay/useTransactionPayData.ts"}],[7779,{"../../../../store/actions":8241,"../../context/confirm":7730,"../../utils/transaction-pay":7891,"./useTransactionPayAvailableTokens":7777,"./useTransactionPayData":7778,"./useTransactionPayToken":7780,"@metamask/assets-controllers":1324,"@metamask/transaction-controller":3085,"@metamask/transaction-pay-controller":3118,"bignumber.js":4064,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionPayMetrics=function(){var e;const{currentConfirmation:t}=(0,c.useConfirmContext)(),{payToken:n}=(0,d.useTransactionPayToken)(),f=(0,m.useTransactionPayRequiredTokens)(),h=(0,s.useRef)(),g=(0,m.useTransactionPayQuotes)(),v=(0,m.useTransactionPayTotals)(),T=(0,p.useTransactionPayAvailableTokens)(),y=(0,s.useMemo)(()=>T.filter(e=>!e.disabled),[T]),_=(null==t?void 0:t.id)??"",{chainId:k,type:S}=t??{},A=f.find(e=>!e.skipIfBalance),w=Number((null==A?void 0:A.amountHuman)??"0");!h.current&&n&&(h.current=n);const E=(0,o.getNativeTokenAddress)(k),x=null==g?void 0:g.find(e=>{var t;return(null===(t=e.request)||void 0===t?void 0:t.targetTokenAddress)!==E}),C=null==g||null===(e=g[0])||void 0===e?void 0:e.strategy,b=(0,s.useMemo)(()=>{const e={};var s,o;n&&(e.mm_pay=!0,e.mm_pay_token_selected=n.symbol,e.mm_pay_chain_selected=n.chainId,e.mm_pay_transaction_step_total=((null==g?void 0:g.length)??0)+1,e.mm_pay_transaction_step=e.mm_pay_transaction_step_total,e.mm_pay_token_presented=(null===(s=h.current)||void 0===s?void 0:s.symbol)??null,e.mm_pay_chain_presented=(null===(o=h.current)||void 0===o?void 0:o.chainId)??null,e.mm_pay_payment_token_list_size=y.length);return n&&S===r.TransactionType.perpsDeposit&&(e.mm_pay_use_case="perps_deposit",e.simulation_sending_assets_total_value=w),n&&(0,l.hasTransactionType)(t,[r.TransactionType.predictDeposit])&&(e.mm_pay_use_case="predict_deposit",e.simulation_sending_assets_total_value=w),x&&(e.mm_pay_dust_usd=x.dust.usd),C===a.TransactionPayStrategy.Bridge&&(e.mm_pay_strategy="mm_swaps_bridge"),C===a.TransactionPayStrategy.Relay&&(e.mm_pay_strategy="relay"),v&&(e.mm_pay_network_fee_usd=new i.BigNumber(v.fees.sourceNetwork.estimate.usd).plus(v.fees.targetNetwork.usd).toString(10),e.mm_pay_provider_fee_usd=v.fees.provider.usd),e},[y.length,x,n,null==g?void 0:g.length,w,C,v,t,S]);(0,s.useEffect)(()=>{_&&Object.keys(b).length>0&&(0,u.updateEventFragment)(_,{properties:b})},[_,b])};var s=e("react"),r=e("@metamask/transaction-controller"),a=e("@metamask/transaction-pay-controller"),o=e("@metamask/assets-controllers"),i=e("bignumber.js"),c=e("../../context/confirm"),l=e("../../utils/transaction-pay"),u=e("../../../../store/actions"),d=e("./useTransactionPayToken"),m=e("./useTransactionPayData"),p=e("./useTransactionPayAvailableTokens")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/pay/useTransactionPayMetrics.ts"}],[7780,{"../../../../selectors/transactionPayController":8238,"../../../../store/controller-actions/transaction-pay-controller":8246,"../../context/confirm":7730,"@metamask/assets-controllers":1324,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionPayToken=function(){const e=(0,s.c)(10),{currentConfirmation:t}=(0,o.useConfirmContext)(),n=(null==t?void 0:t.id)??"";let l;e[0]!==n?(l=e=>(0,i.selectTransactionPaymentTokenByTransactionId)(e,n),e[0]=n,e[1]=l):l=e[1];const u=(0,r.useSelector)(l);let d;e[2]!==u?(d=u&&(null==u?void 0:u.address)===(0,a.getNativeTokenAddress)(null==u?void 0:u.chainId),e[2]=u,e[3]=d):d=e[3];const m=d;let p;e[4]!==n?(p=e=>{try{(0,c.updateTransactionPaymentToken)({transactionId:n,tokenAddress:e.address,chainId:e.chainId})}catch(e){const t=e;console.error("Error updating payment token",t)}},e[4]=n,e[5]=p):p=e[5];const f=p;let h;e[6]!==m||e[7]!==u||e[8]!==f?(h={isNative:m,payToken:u,setPayToken:f},e[6]=m,e[7]=u,e[8]=f,e[9]=h):h=e[9];return h};var s=e("react-compiler-runtime"),r=e("react-redux"),a=(e("react"),e("@metamask/assets-controllers")),o=e("../../context/confirm"),i=e("../../../../selectors/transactionPayController"),c=e("../../../../store/controller-actions/transaction-pay-controller")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/pay/useTransactionPayToken.ts"}],[7781,{"../../../../../../shared/constants/metametrics":5892,"../../../../../contexts/metametrics":7110,"../../../context/send":7734,"../../../context/send-metrics":7733,"../useSendType":7803,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAmountSelectionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("../../../../../../shared/constants/metametrics"),o=e("../../../../../contexts/metametrics"),i=e("../../../context/send"),c=e("../../../context/send-metrics"),l=e("../useSendType");n.useAmountSelectionMetrics=()=>{const e=(0,s.c)(24),t=(0,r.useContext)(o.MetaMetricsContext),{chainId:n}=(0,i.useSendContext)(),{isEvmSendType:u}=(0,l.useSendType)(),{accountType:d,amountInputMethod:m,amountInputType:p,setAmountInputMethod:f,setAmountInputType:h}=(0,c.useSendMetricsContext)();let g;e[0]!==f?(g=()=>{f(c.AmountInputMethod.Manual)},e[0]=f,e[1]=g):g=e[1];const v=g;let T;e[2]!==f?(T=()=>{f(c.AmountInputMethod.Pasted)},e[2]=f,e[3]=T):T=e[3];const y=T;let _;e[4]!==f?(_=()=>{f(c.AmountInputMethod.PressedMax)},e[4]=f,e[5]=_):_=e[5];const k=_;let S;e[6]!==h?(S=()=>{h(c.AmountInputType.Fiat)},e[6]=h,e[7]=S):S=e[7];const A=S;let w;e[8]!==h?(w=()=>{h(c.AmountInputType.Token)},e[8]=h,e[9]=w):w=e[9];const E=w;let x;e[10]!==d||e[11]!==m||e[12]!==p||e[13]!==n||e[14]!==u||e[15]!==t?(x=()=>{t({event:a.MetaMetricsEventName.SendAmountSelected,category:a.MetaMetricsEventCategory.Send,properties:{account_type:d,input_method:m,input_type:p,chain_id:u?n:undefined,chain_id_caip:u?undefined:n}},{excludeMetaMetricsId:!1})},e[10]=d,e[11]=m,e[12]=p,e[13]=n,e[14]=u,e[15]=t,e[16]=x):x=e[16];const C=x;let b;return e[17]!==C||e[18]!==v||e[19]!==y||e[20]!==k||e[21]!==A||e[22]!==E?(b={captureAmountSelected:C,setAmountInputMethodManual:v,setAmountInputMethodPasted:y,setAmountInputMethodPressedMax:k,setAmountInputTypeFiat:A,setAmountInputTypeToken:E},e[17]=C,e[18]=v,e[19]=y,e[20]=k,e[21]=A,e[22]=E,e[23]=b):b=e[23],b}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/metrics/useAmountSelectionMetrics.ts"}],[7782,{"../../../../../../shared/constants/metametrics":5892,"../../../../../contexts/metametrics":7110,"../../../context/send-metrics":7733,"../useSendAssets":7798,"ethers/lib/utils":4468,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetSelectionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("ethers/lib/utils"),o=e("../../../../../../shared/constants/metametrics"),i=e("../../../../../contexts/metametrics"),c=e("../../../context/send-metrics"),l=e("../useSendAssets");const u="nft",d="native",m="token";function p(e){return e!==c.AssetFilterMethod.None}n.useAssetSelectionMetrics=()=>{const e=(0,s.c)(18),t=(0,r.useContext)(i.MetaMetricsContext),{tokens:n,nfts:f}=(0,l.useSendAssets)(),{accountType:h,assetFilterMethod:g,assetListSize:v,setAssetFilterMethod:T,setAssetListSize:y}=(0,c.useSendMetricsContext)();let _;e[0]!==g||e[1]!==T?(_=e=>{const t=new Set([...g,e]),n=Array.from(t).filter(p);T(n)},e[0]=g,e[1]=T,e[2]=_):_=e[2];const k=_;let S;e[3]!==g||e[4]!==T?(S=e=>{const t=g.filter(t=>t!==e);0===t.length&&t.push(c.AssetFilterMethod.None),T(t)},e[3]=g,e[4]=T,e[5]=S):S=e[5];const A=S;let w;e[6]!==h||e[7]!==g||e[8]!==v||e[9]!==f||e[10]!==n||e[11]!==t?(w=e=>{let s=m;null!=e&&e.tokenId?s=u:"isNative"in e&&null!=e&&e.isNative&&(s=d);const r=(null==e?void 0:e.address)||(null==e?void 0:e.assetId),i=(0,a.isAddress)(r),c=[...n,...f].findIndex(t=>e.tokenId?t.address===e.address&&t.chainId===e.chainId&&t.tokenId===e.tokenId:e.isNative?t.isNative===e.isNative&&t.chainId===e.chainId:t.address===e.address&&t.chainId===e.chainId)+1;t({event:o.MetaMetricsEventName.SendAssetSelected,category:o.MetaMetricsEventCategory.Send,properties:{account_type:h,asset_type:s,asset_list_position:c,asset_list_size:v,chain_id:null==e?void 0:e.chainId,chain_id_caip:i?`eip155:${parseInt(null==e?void 0:e.chainId,16)}`:null==e?void 0:e.chainId,filter_method:g}},{excludeMetaMetricsId:!1})},e[6]=h,e[7]=g,e[8]=v,e[9]=f,e[10]=n,e[11]=t,e[12]=w):w=e[12];const E=w;let x;return e[13]!==k||e[14]!==E||e[15]!==A||e[16]!==y?(x={addAssetFilterMethod:k,captureAssetSelected:E,removeAssetFilterMethod:A,setAssetListSize:y},e[13]=k,e[14]=E,e[15]=A,e[16]=y,e[17]=x):x=e[17],x}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/metrics/useAssetSelectionMetrics.ts"}],[7783,{"../../../../../../shared/constants/metametrics":5892,"../../../../../contexts/metametrics":7110,"../../../context/send":7734,"../../../context/send-metrics":7733,"../useSendType":7803,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRecipientSelectionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("../../../../../../shared/constants/metametrics"),o=e("../../../../../contexts/metametrics"),i=e("../../../context/send-metrics"),c=e("../../../context/send"),l=e("../useSendType");n.useRecipientSelectionMetrics=()=>{const e=(0,s.c)(20),t=(0,r.useContext)(o.MetaMetricsContext),{chainId:n}=(0,c.useSendContext)(),{isEvmSendType:u}=(0,l.useSendType)(),{accountType:d,recipientInputMethod:m,setRecipientInputMethod:p}=(0,i.useSendMetricsContext)();let f;e[0]!==p?(f=()=>{p(i.RecipientInputMethod.Manual)},e[0]=p,e[1]=f):f=e[1];const h=f;let g;e[2]!==p?(g=()=>{p(i.RecipientInputMethod.Pasted)},e[2]=p,e[3]=g):g=e[3];const v=g;let T;e[4]!==p?(T=()=>{p(i.RecipientInputMethod.SelectAccount)},e[4]=p,e[5]=T):T=e[5];const y=T;let _;e[6]!==p?(_=()=>{p(i.RecipientInputMethod.SelectContact)},e[6]=p,e[7]=_):_=e[7];const k=_;let S;e[8]!==d||e[9]!==n||e[10]!==u||e[11]!==m||e[12]!==t?(S=async()=>{t({event:a.MetaMetricsEventName.SendRecipientSelected,category:a.MetaMetricsEventCategory.Send,properties:{account_type:d,input_method:m,chain_id:n,chain_id_caip:u?`eip155:${parseInt(n,16)}`:n}},{excludeMetaMetricsId:!1})},e[8]=d,e[9]=n,e[10]=u,e[11]=m,e[12]=t,e[13]=S):S=e[13];const A=S;let w;return e[14]!==A||e[15]!==h||e[16]!==v||e[17]!==y||e[18]!==k?(w={captureRecipientSelected:A,setRecipientInputMethodManual:h,setRecipientInputMethodPasted:v,setRecipientInputMethodSelectAccount:y,setRecipientInputMethodSelectContact:k},e[14]=A,e[15]=h,e[16]=v,e[17]=y,e[18]=k,e[19]=w):w=e[19],w}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/metrics/useRecipientSelectionMetrics.ts"}],[7784,{"../../../../selectors/multichain-accounts/account-tree":8211,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountAddressSeedIconMap=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../../../selectors/multichain-accounts/account-tree");n.useAccountAddressSeedIconMap=()=>{const e=(0,s.c)(4),t=(0,r.useSelector)(a.getAccountGroupWithInternalAccounts);let n;e[0]!==t?(n=new Map,t.forEach(e=>{const{accounts:t}=e;if(0===t.length)return;const s=t[0].address;t.forEach(e=>{n.set(e.address.toLowerCase(),s)})}),e[0]=t,e[1]=n):n=e[1];const o=n;let i;return e[2]!==o?(i={accountAddressSeedIconMap:o},e[2]=o,e[3]=i):i=e[3],i}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useAccountAddressSeedIconMap.ts"}],[7785,{"../../../../selectors/multichain-accounts/account-tree":8211,"../../context/send":7734,"../../utils/account":7880,"./useAccountAddressSeedIconMap":7784,"./useSendType":7803,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountRecipients=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../../../selectors/multichain-accounts/account-tree"),o=e("../../utils/account"),i=e("../../context/send"),c=e("./useSendType"),l=e("./useAccountAddressSeedIconMap");n.useAccountRecipients=()=>{const e=(0,s.c)(8),{isEvmSendType:t,isSolanaSendType:n,isBitcoinSendType:u,isTronSendType:d}=(0,c.useSendType)(),{from:m}=(0,i.useSendContext)(),{accountAddressSeedIconMap:p}=(0,l.useAccountAddressSeedIconMap)(),f=(0,r.useSelector)(a.getWalletsWithAccounts);let h;return e[0]!==p||e[1]!==m||e[2]!==u||e[3]!==t||e[4]!==n||e[5]!==d||e[6]!==f?(h=[],Object.values(f).forEach(e=>{var s;const r=null===(s=e.metadata)||void 0===s?void 0:s.name;Object.values(e.groups).forEach(e=>{var s;const a=null===(s=e.metadata)||void 0===s?void 0:s.name;e.accounts.forEach(e=>{if(e.address===m)return;(t&&(0,o.isEVMAccountForSend)(e)||n&&(0,o.isSolanaAccountForSend)(e)||u&&(0,o.isBitcoinAccountForSend)(e)||d&&(0,o.isTronAccountForSend)(e))&&h.push({seedIcon:p.get(e.address.toLowerCase()),accountGroupName:a,accountType:e.type,address:e.address,walletName:r})})})}),e[0]=p,e[1]=m,e[2]=u,e[3]=t,e[4]=n,e[5]=d,e[6]=f,e[7]=h):h=e[7],h}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useAccountRecipients.ts"}],[7786,{"../../../../hooks/useI18nContext":7301,"../../context/send":7734,"../../types/send":7879,"../../utils/send":7887,"./useBalance":7787,"./useSendType":7803,"./useSnapAmountOnInput":7804,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapSnapErrorCodeIntoTranslation=f,n.useAmountValidation=void 0,n.validateERC1155Balance=d,n.validatePositiveNumericString=p,n.validateTokenBalance=m;var s=e("react"),r=e("../../../../hooks/useI18nContext"),a=e("../../utils/send"),o=e("../../context/send"),i=e("../../types/send"),c=e("./useSendType"),l=e("./useSnapAmountOnInput"),u=e("./useBalance");function d(e,t,n){if((null==e?void 0:e.standard)!==i.AssetStandard.ERC1155)return undefined;if(null!=e&&e.balance&&t){if(parseInt(t,10)>parseInt(e.balance.toString(),10))return n("insufficientFundsSend")}return undefined}function m(e,t,n,s){const r=(0,a.fromTokenMinUnitsNumeric)(e,10,n);return t.lessThan(r)?s("insufficientFundsSend"):undefined}function p(e,t){return(0,a.isValidPositiveNumericString)(e)?undefined:t("invalidValue")}function f(e,t){switch(e){case"InsufficientBalance":return t("insufficientFundsSend");case"InsufficientBalanceToCoverFee":return t("insufficientBalanceToCoverFees");default:return t("invalidValue")}}n.useAmountValidation=()=>{const e=(0,r.useI18nContext)(),{isNonEvmSendType:t}=(0,c.useSendType)(),{asset:n,value:i}=(0,o.useSendContext)(),{validateAmountWithSnap:h}=(0,l.useSnapAmountOnInput)(),{rawBalanceNumeric:g}=(0,u.useBalance)(),[v,T]=(0,s.useState)(undefined),y=(0,s.useCallback)(e=>(T(e),e),[]),_=(0,s.useCallback)(async()=>{if(!t)return undefined;if(g.isZero())return e("insufficientFundsSend");try{var n;const t=await h((0,a.addLeadingZeroIfNeeded)(i)||"0");return(null===(n=t.errors)||void 0===n?void 0:n.length)>0?f(t.errors[0].code,e):undefined}catch(t){return e("invalidValue")}},[e,i,h,t,g]),k=(0,s.useCallback)(async()=>{if(!i)return y(undefined);const t=[()=>p(i,e),()=>d(n,i,e),()=>m(i,g,null==n?void 0:n.decimals,e),_];for(const e of t){const t=await Promise.resolve(e());if(t)return y(t)}return y(undefined)},[n,g,e,i,_,y]),S=(0,s.useCallback)(async()=>{const e=await _();return y(e)},[_,y]);return(0,s.useEffect)(()=>{k()},[k]),{amountError:v,validateNonEvmAmountAsync:S}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useAmountValidation.ts"}],[7787,{"../../../../../shared/modules/Numeric":6008,"../../context/send":7734,"../../utils/send":7887,"@metamask/controller-utils":1488,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBalance=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/controller-utils"),a=(e("react"),e("../../../../../shared/modules/Numeric")),o=e("../../utils/send"),i=e("../../context/send");n.useBalance=()=>{const e=(0,s.c)(11),{asset:t}=(0,i.useSendContext)();let n;e:{if((null==t?void 0:t.standard)===r.ERC1155){const s=(null==t?void 0:t.balance)??"0";let r,o;e[0]!==s?(r=new a.Numeric(s,10),e[0]=s,e[1]=r):r=e[1],e[2]!==s||e[3]!==r?(o={balance:s,decimals:0,rawBalanceNumeric:r},e[2]=s,e[3]=r,e[4]=o):o=e[4],n=o;break e}let s;e[5]!==t?(s=(e=>{if(!e)return{balance:"0",decimals:0,rawBalanceNumeric:new a.Numeric("0",10)};const t=(null==e?void 0:e.rawBalance)??"0x0";return{balance:(0,o.formatToFixedDecimals)((0,o.toTokenMinimalUnit)(t,e.decimals),e.decimals),decimals:e.decimals,rawBalanceNumeric:new a.Numeric(t,16).toBase(10)}})(t),e[5]=t,e[6]=s):s=e[6],n=s}const{balance:c,decimals:l,rawBalanceNumeric:u}=n;let d;return e[7]!==c||e[8]!==l||e[9]!==u?(d={balance:c,decimals:l,rawBalanceNumeric:u},e[7]=c,e[8]=l,e[9]=u,e[10]=d):d=e[10],d}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useBalance.ts"}],[7788,{"../../../../selectors":8207,"../../context/send":7734,"./useAccountAddressSeedIconMap":7784,"./useSendType":7803,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useContactRecipients=void 0;var s=e("react"),r=e("react-redux"),a=e("../../../../selectors"),o=e("../../context/send"),i=e("./useSendType"),c=e("./useAccountAddressSeedIconMap");n.useContactRecipients=()=>{const{isEvmSendType:e}=(0,i.useSendType)(),t=(0,r.useSelector)(a.getCompleteAddressBook),{accountAddressSeedIconMap:n}=(0,c.useAccountAddressSeedIconMap)(),{chainId:l}=(0,o.useSendContext)();return(0,s.useMemo)(()=>{var s;return e?(null==t||null===(s=t.filter(e=>e.chainId===l))||void 0===s?void 0:s.map(e=>({address:e.address,contactName:e.name,isContact:!0,seedIcon:n.get(e.address.toLowerCase())})))??[]:[]},[t,l,e])}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useContactRecipients.ts"}],[7789,{"../../../../helpers/utils/common.util":7174,"../../../../hooks/useMultichainSelector":7311,"../../../../selectors":8207,"../../../../selectors/multichain":8216,"../../context/send":7734,"../../utils/send":7887,"@metamask/controller-utils":1488,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrencyConversions=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/controller-utils"),a=(e("react"),e("react-redux")),o=e("../../../../selectors"),i=e("../../../../helpers/utils/common.util"),c=e("../../../../selectors/multichain"),l=e("../../../../hooks/useMultichainSelector"),u=e("../../utils/send"),d=e("../../context/send");const m=({amount:e,conversionRate:t})=>e?(0,u.convertedCurrency)(e,t,2)??"0":"0";n.useCurrencyConversions=()=>{const e=(0,s.c)(20),{asset:t,fromAccount:n}=(0,d.useSendContext)(),p=(0,l.useMultichainSelector)(c.getMultichainCurrentCurrency,n),f=(0,a.useSelector)(o.getCrossChainTokenExchangeRates);let h;e:{if(!t){h=1;break e}let n;var g;if(e[0]!==t||e[1]!==f)n=(null===(g=Object.values(f).find(e=>e[t.address]!==undefined))||void 0===g?void 0:g[t.address])??1,e[0]=t,e[1]=f,e[2]=n;else n=e[2];h=n}const v=h;let T;{var y;const e=(null==t?void 0:t.address)??(null==t?void 0:t.assetId);t&&e&&t.standard!==r.ERC1155&&t.standard!==r.ERC721?T=((null==t||null===(y=t.fiat)||void 0===y?void 0:y.conversionRate)??0)*v:T=0}const _=T;let k;e[3]!==_?(k=e=>m({amount:e,conversionRate:_}),e[3]=_,e[4]=k):k=e[4];const S=k;let A;e[5]!==_||e[6]!==p?(A=e=>(({amount:e,conversionRate:t,currentCurrency:n})=>{if(!e)return`${(0,i.getCurrencySymbol)(n)}0.00`;const s=e?(0,u.formatToFixedDecimals)(m({amount:e,conversionRate:t}),2,!1):"0.00";return`${(0,i.getCurrencySymbol)(n)}${s}`})({amount:e,conversionRate:_,currentCurrency:p}),e[5]=_,e[6]=p,e[7]=A):A=e[7];const w=A;let E;e[8]!==t||e[9]!==_?(E=e=>(({asset:e,amount:t,conversionRate:n})=>t?(0,u.convertedCurrency)(t,0===n?0:1/n,null==e?void 0:e.decimals)??"0":"0")({asset:t,amount:e,conversionRate:_}),e[8]=t,e[9]=_,e[10]=E):E=e[10];const x=E,C=0!==_&&(null==t?void 0:t.standard)!==r.ERC1155&&(null==t?void 0:t.standard)!==r.ERC721;let b,P;return e[11]!==p?(b=(0,i.getCurrencySymbol)(p),e[11]=p,e[12]=b):b=e[12],e[13]!==p||e[14]!==w||e[15]!==S||e[16]!==x||e[17]!==C||e[18]!==b?(P={conversionSupportedForAsset:C,fiatCurrencySymbol:b,fiatCurrencyName:p,getFiatValue:S,getFiatDisplayValue:w,getNativeValue:x},e[13]=p,e[14]=w,e[15]=S,e[16]=x,e[17]=C,e[18]=b,e[19]=P):P=e[19],P}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useCurrencyConversions.ts"}],[7790,{"../../../../store/actions":8241,"../../types/send":7879,"bn.js":4115,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useERC1155BalanceChecker=void 0;var s,r=e("react-compiler-runtime"),a=(e("react"),(s=e("bn.js"))&&s.__esModule?s:{default:s}),o=e("../../../../store/actions"),i=e("../../types/send");const c=e=>{let t;return t="string"==typeof e?parseInt(e,16).toString():e&&"object"==typeof e&&"words"in e?new a.default(e.words,"le").toString(10):"0",parseInt(t,10)};async function l(e){if(e.standard!==i.AssetStandard.ERC1155)return null;try{const t=await(0,o.findNetworkClientIdByChainId)(e.chainId),n=await(0,o.getERC1155BalanceOf)(e.accountAddress,e.address,e.tokenId,t);return{nft:e,balance:c(n)}}catch(e){const t=e;return console.error("Error fetching ERC1155 balance:",t),null}}n.useERC1155BalanceChecker=()=>{const e=(0,r.c)(1),t=l;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n={fetchBalanceForNft:t},e[0]=n):n=e[0],n}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useERC1155BalanceChecker.ts"}],[7791,{"../../../../../shared/modules/Numeric":6008,"../../../../ducks/metamask/metamask":7137,"../../../../hooks/useAsync":7281,"../../context/send":7734,"../../utils/send":7887,"./useBalance":7787,"./useSendType":7803,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxAmount=n.getEstimatedTotalGas=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),a=(e("react"),e("react-redux")),o=e("../../../../../shared/modules/Numeric"),i=e("../../../../ducks/metamask/metamask"),c=e("../../../../hooks/useAsync"),l=e("../../utils/send"),u=e("../../context/send"),d=e("./useBalance"),m=e("./useSendType");const p=(e,t)=>{if(!t)return new o.Numeric("0",10);const{medium:{suggestedMaxFeePerGas:n}={suggestedMaxFeePerGas:0}}=t,s=new o.Numeric(21e3*n,10),r=new o.Numeric(1e9,10);return s.times(r).add(new o.Numeric(e,16))};n.getEstimatedTotalGas=p;n.useMaxAmount=()=>{const e=(0,s.c)(22),{asset:t,chainId:n,from:f,value:h}=(0,u.useSendContext)(),{isEvmSendType:g,isEvmNativeSendType:v}=(0,m.useSendType)(),{rawBalanceNumeric:T}=(0,d.useBalance)();let y;e[0]!==n||e[1]!==g?(y=e=>{if(n&&g)return(0,i.getGasFeeEstimatesByChainId)(e,n)},e[0]=n,e[1]=g,e[2]=y):y=e[2];const _=(0,a.useSelector)(y);let k,S;e[3]!==t||e[4]!==n||e[5]!==f||e[6]!==v||e[7]!==h?(k=async()=>v&&(null==t?void 0:t.chainId)!==r.CHAIN_IDS.MAINNET&&f?await(0,l.getLayer1GasFees)({asset:t,chainId:n,from:f,value:h??"0"}):"0x0",e[3]=t,e[4]=n,e[5]=f,e[6]=v,e[7]=h,e[8]=k):k=e[8],e[9]!==t||e[10]!==n||e[11]!==f||e[12]!==h?(S=[t,n,f,h],e[9]=t,e[10]=n,e[11]=f,e[12]=h,e[13]=S):S=e[13];const{value:A}=(0,c.useAsyncResult)(k,S);let w;e[14]!==t||e[15]!==_||e[16]!==v||e[17]!==A||e[18]!==T?(w=()=>(({asset:e,layer1GasFees:t,gasFeeEstimates:n,isEvmNativeSendType:s,rawBalanceNumeric:r})=>{if(!e)return"0";let a=new o.Numeric("0",10);s&&(a=p(t,n));const i=r.minus(a);return i.isZero()||i.isNegative()?"0":(0,l.toTokenMinimalUnit)(i.toString(),e.decimals,10)})({asset:t,gasFeeEstimates:_,isEvmNativeSendType:v,layer1GasFees:A??"0x0",rawBalanceNumeric:T}),e[14]=t,e[15]=_,e[16]=v,e[17]=A,e[18]=T,e[19]=w):w=e[19];const E=w;let x;return e[20]!==E?(x={getMaxAmount:E},e[20]=E,e[21]=x):x=e[21],x}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useMaxAmount.ts"}],[7792,{"../../../../ducks/domains":7131,"../../../../helpers/utils/util":7207,"../../../../hooks/snaps/useSnapNameResolution":7268,"../../utils/sendValidations":7888,"./useSendType":7803,"@metamask/bridge-controller":1408,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNameValidation=void 0;var s=e("@metamask/bridge-controller"),r=e("react-redux"),a=e("react"),o=e("../../../../helpers/utils/util"),i=e("../../../../hooks/snaps/useSnapNameResolution"),c=e("../../utils/sendValidations"),l=e("../../../../ducks/domains"),u=e("./useSendType");n.useNameValidation=()=>{const{fetchResolutions:e}=(0,i.useSnapNameResolution)(),t=(0,r.useDispatch)(),{isEvmSendType:n}=(0,u.useSendType)();return{validateName:(0,a.useCallback)(async(r,a)=>{if((0,o.isValidDomainName)(a)){var i,u;const o=await e((0,s.formatChainIdToCaip)(r),a);if(0===o.length)return{error:"nameResolutionFailedError"};const d=null===(i=o[0])||void 0===i?void 0:i.resolvedAddress,m=null===(u=o[0])||void 0===u?void 0:u.protocol;return n&&t((0,l.lookupDomainName)(a,r)),{resolvedLookup:d,protocol:m,...(0,c.findConfusablesInRecipient)(a)}}return{error:"nameResolutionFailedError"}},[t,e])}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useNameValidation.ts"}],[7793,{"../../../../helpers/constants/routes":7154,"../../constants/send":7728,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNavigateSendPage=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-router-dom")),a=e("../../../../helpers/constants/routes"),o=e("../../constants/send");n.useNavigateSendPage=()=>{const e=(0,s.c)(8),t=(0,r.useNavigate)(),[n]=(0,r.useSearchParams)();let i;e[0]!==t||e[1]!==n?(i=()=>{t(`${a.SEND_ROUTE}/${o.SendPages.AMOUNTRECIPIENT}?${n.toString()}`)},e[0]=t,e[1]=n,e[2]=i):i=e[2];const c=i;let l;e[3]!==t?(l=()=>{t(a.PREVIOUS_ROUTE)},e[3]=t,e[4]=l):l=e[4];const u=l;let d;return e[5]!==c||e[6]!==u?(d={goToAmountRecipientPage:c,goToPreviousPage:u},e[5]=c,e[6]=u,e[7]=d):d=e[7],d}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useNavigateSendPage.ts"}],[7794,{"../../../../../shared/lib/multichain/accounts":5984,"../../../../../shared/modules/hexstring-utils":6023,"../../../../helpers/utils/util":7207,"../../../../hooks/useI18nContext":7301,"../../context/send":7734,"../../utils/sendValidations":7888,"./useNameValidation":7792,"./useSendType":7803,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRecipientValidation=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("../../../../../shared/lib/multichain/accounts"),o=e("../../../../../shared/modules/hexstring-utils"),i=e("../../../../helpers/utils/util"),c=e("../../../../hooks/useI18nContext"),l=e("../../utils/sendValidations"),u=e("../../context/send"),d=e("./useSendType"),m=e("./useNameValidation");n.useRecipientValidation=()=>{const e=(0,s.c)(28),t=(0,c.useI18nContext)(),{asset:n,chainId:p,to:f}=(0,u.useSendContext)(),{isBitcoinSendType:h,isEvmSendType:g,isSolanaSendType:v,isTronSendType:T}=(0,d.useSendType)(),{validateName:y}=(0,m.useNameValidation)();let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={},e[0]=_):_=e[0];const[k,S]=(0,r.useState)(_),A=(0,r.useRef)(),w=(0,r.useRef)(!1);let E,x,C;e[1]===Symbol.for("react.memo_cache_sentinel")?(E=()=>()=>{w.current=!0},x=[],e[1]=E,e[2]=x):(E=e[1],x=e[2]),(0,r.useEffect)(E,x),e[3]!==(null==n?void 0:n.address)||e[4]!==p||e[5]!==h||e[6]!==g||e[7]!==v||e[8]!==T||e[9]!==y?(C=async e=>e&&p?g&&(0,o.isValidHexAddress)(e)?await(0,l.validateEvmHexAddress)(e,p,null==n?void 0:n.address):v&&(0,a.isSolanaAddress)(e)?(0,l.validateSolanaAddress)(e):h&&(0,a.isBtcMainnetAddress)(e)?(0,l.validateBtcAddress)(e):T&&(0,a.isTronAddress)(e)?(0,l.validateTronAddress)(e):(0,i.isValidDomainName)(e)?await y(p,e):{error:"invalidAddress"}:{},e[3]=null==n?void 0:n.address,e[4]=p,e[5]=h,e[6]=g,e[7]=v,e[8]=T,e[9]=y,e[10]=C):C=e[10];const b=C;let P,I;e[11]!==f||e[12]!==b?(P=()=>{A.current!==f&&(async()=>{A.current=f;const e=await b(f);w.current||A.current!==f||S({...e,toAddressValidated:f})})()},I=[S,f,b],e[11]=f,e[12]=b,e[13]=P,e[14]=I):(P=e[13],I=e[14]),(0,r.useEffect)(P,I);const N=null==k?void 0:k.confusableCharacters;let R;e[15]!==(null==k?void 0:k.error)||e[16]!==t?(R=null!=k&&k.error?t(null==k?void 0:k.error):undefined,e[15]=null==k?void 0:k.error,e[16]=t,e[17]=R):R=e[17];const M=null==k?void 0:k.resolvedLookup;let F;e[18]!==(null==k?void 0:k.warning)||e[19]!==t?(F=null!=k&&k.warning?t(null==k?void 0:k.warning):undefined,e[18]=null==k?void 0:k.warning,e[19]=t,e[20]=F):F=e[20];const O=null==k?void 0:k.protocol,D=null==k?void 0:k.toAddressValidated;let G;return e[21]!==O||e[22]!==D||e[23]!==N||e[24]!==R||e[25]!==M||e[26]!==F?(G={recipientConfusableCharacters:N,recipientError:R,recipientResolvedLookup:M,recipientWarning:F,resolutionProtocol:O,toAddressValidated:D},e[21]=O,e[22]=D,e[23]=N,e[24]=R,e[25]=M,e[26]=F,e[27]=G):G=e[27],G}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useRecipientValidation.ts"}],[7795,{"./useAccountRecipients":7785,"./useContactRecipients":7788,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRecipients=void 0;var s=e("react-compiler-runtime"),r=e("./useContactRecipients"),a=e("./useAccountRecipients");n.useRecipients=()=>{const e=(0,s.c)(3),t=(0,a.useAccountRecipients)(),n=(0,r.useContactRecipients)();let o;return e[0]!==t||e[1]!==n?(o=[...t],n.forEach(e=>{o.some(t=>t.address.toLowerCase()===e.address.toLowerCase())||o.push(e)}),e[0]=t,e[1]=n,e[2]=o):o=e[2],o}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useRecipients.ts"}],[7796,{"../../../../helpers/constants/routes":7154,"../../constants/send":7728,"../../context/send":7734,"../../utils/multichain-snaps":7884,"../../utils/send":7887,"./useSendType":7803,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendActions=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom"),o=e("../../../../helpers/constants/routes"),i=e("../../constants/send"),c=e("../../utils/multichain-snaps"),l=e("../../utils/send"),u=e("../../context/send"),d=e("./useSendType");n.useSendActions=()=>{const e=(0,r.useDispatch)(),t=(0,a.useNavigate)(),{asset:n,chainId:m,from:p,fromAccount:f,hexData:h,maxValueMode:g,toResolved:v,value:T}=(0,u.useSendContext)(),{isEvmSendType:y}=(0,d.useSendType)(),_=(0,s.useCallback)(async()=>{if(!n)return;const s=v;if(y){e(await(0,l.submitEvmTransaction)({asset:n,chainId:m,from:p,hexData:h,to:s,value:T}));const r=g?`${o.CONFIRM_TRANSACTION_ROUTE}?maxValueMode=${g}`:o.CONFIRM_TRANSACTION_ROUTE;t(r)}else{t(`${o.SEND_ROUTE}/${i.SendPages.LOADER}`);try{await(0,c.sendMultichainTransactionForReview)(f,{fromAccountId:null==f?void 0:f.id,toAddress:s,assetId:n.assetId,amount:(0,l.addLeadingZeroIfNeeded)(T||"0")}),t(`${o.DEFAULT_ROUTE}?tab=activity`)}catch(e){}}},[n,m,e,p,f,h,t,y,g,v,T]),k=(0,s.useCallback)(()=>{t(o.PREVIOUS_ROUTE)},[t]);return{handleSubmit:_,handleCancel:(0,s.useCallback)(()=>{t(o.DEFAULT_ROUTE)},[t]),handleBack:k}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendActions.ts"}],[7797,{react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendAssetFilter=void 0;var s=e("react-compiler-runtime");e("react");function r(e,t){var n,s,r;if(!t.trim())return!0;const a=t.toLowerCase().trim();return!(null===(n=e.name)||void 0===n||!n.toLowerCase().includes(a))||(!(null===(s=e.symbol)||void 0===s||!s.toLowerCase().includes(a))||!(null===(r=e.collection)||void 0===r||null===(r=r.name)||void 0===r||!r.toLowerCase().includes(a)))}n.useSendAssetFilter=e=>{const t=(0,s.c)(23),{tokens:n,nfts:a,selectedChainId:o,searchQuery:i}=e,c=i===undefined?"":i;let l,u=n,d=a;if(null!==o){let e,s;if(t[0]!==o||t[1]!==n){let s;t[3]!==o?(s=e=>e.chainId===o,t[3]=o,t[4]=s):s=t[4],e=n.filter(s),t[0]=o,t[1]=n,t[2]=e}else e=t[2];if(u=e,t[5]!==a||t[6]!==o){let e;t[8]!==o?(e=e=>e.chainId===o,t[8]=o,t[9]=e):e=t[9],s=a.filter(e),t[5]=a,t[6]=o,t[7]=s}else s=t[7];d=s}if(t[10]!==u||t[11]!==c){let e;t[13]!==c?(e=e=>r(e,c),t[13]=c,t[14]=e):e=t[14],l=u.filter(e),t[10]=u,t[11]=c,t[12]=l}else l=t[12];const m=l;let p;if(t[15]!==d||t[16]!==c){let e;t[18]!==c?(e=e=>r(e,c),t[18]=c,t[19]=e):e=t[19],p=d.filter(e),t[15]=d,t[16]=c,t[17]=p}else p=t[17];const f=p;let h;return t[20]!==f||t[21]!==m?(h={filteredTokens:m,filteredNfts:f},t[20]=f,t[21]=m,t[22]=h):h=t[22],h}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendAssetFilter.ts"}],[7798,{"../../../../../shared/lib/asset-utils":5925,"../../../../selectors":8207,"../../../../selectors/multichain/networks":8218,"./useSendNfts":7799,"./useSendTokens":7802,"@metamask/multichain-network-controller":2406,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendAssets=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("@metamask/multichain-network-controller"),o=e("../../../../selectors"),i=e("../../../../selectors/multichain/networks"),c=e("../../../../../shared/lib/asset-utils"),l=e("./useSendTokens"),u=e("./useSendNfts");function d(e){return(0,c.isEvmChainId)(e.chainId)}function m(e){return(0,c.isEvmChainId)(e.chainId)}n.useSendAssets=e=>{const t=(0,s.c)(21);let n;t[0]!==e?(n=e===undefined?{}:e,t[0]=e,t[1]=n):n=t[1];const p=n,{includeNoBalance:f}=p,h=f!==undefined&&f;let g;t[2]!==h?(g={includeNoBalance:h},t[2]=h,t[3]=g):g=t[3];const v=(0,l.useSendTokens)(g),T=(0,u.useSendNfts)(),y=(0,r.useSelector)(o.getUseExternalServices),_=(0,r.useSelector)(i.getAllMultichainNetworkConfigurations);let k;t[4]!==_?(k=e=>{if(!e)return!1;const t=Object.keys(_);if(t.includes(e))return!0;if((0,c.isEvmChainId)(e)){const n=(0,a.toEvmCaipChainId)(e);return t.includes(n)}return!1},t[4]=_,t[5]=k):k=t[5];const S=k;let A;if(t[6]!==S||t[7]!==T||t[8]!==v||t[9]!==y){e:{let e;t[11]!==S?(e=e=>{const t=String(e.chainId??"");return S(t)},t[11]=S,t[12]=e):e=t[12];const n=v.filter(e);let s;t[13]!==S?(s=e=>{if(e.chainId===undefined)return!1;const t=String(e.chainId);return S(t)},t[13]=S,t[14]=s):s=t[14];const r=T.filter(s);if(!y){const e=n.filter(d),s=r.filter(m);let a;t[15]!==s||t[16]!==e?(a={tokens:e,nfts:s},t[15]=s,t[16]=e,t[17]=a):a=t[17],A=a;break e}let a;t[18]!==r||t[19]!==n?(a={tokens:n,nfts:r},t[18]=r,t[19]=n,t[20]=a):a=t[20],A=a}t[6]=S,t[7]=T,t[8]=v,t[9]=y,t[10]=A}else A=t[10];return A}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendAssets.ts"}],[7799,{"../../../../selectors/multichain-accounts/account-tree":8211,"../../../../selectors/nft":8220,"../../types/send":7879,"../useChainNetworkNameAndImage":7825,"./useERC1155BalanceChecker":7790,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendNfts=void 0;var s=e("react"),r=e("react-redux"),a=e("../../../../selectors/nft"),o=e("../../../../selectors/multichain-accounts/account-tree"),i=e("../../types/send"),c=e("../useChainNetworkNameAndImage"),l=e("./useERC1155BalanceChecker");n.useSendNfts=()=>{const e=(0,c.useChainNetworkNameAndImageMap)(),t=(0,r.useSelector)(a.getNftsByChainByAccount),[n,u]=(0,s.useState)([]),{fetchBalanceForNft:d}=(0,l.useERC1155BalanceChecker)(),m=(0,r.useSelector)(o.getSelectedAccountGroup),p=(0,r.useSelector)(o.getAccountGroupWithInternalAccounts),f=(0,s.useMemo)(()=>{var n;const s=null==p||null===(n=p.find(e=>e.id===m))||void 0===n?void 0:n.accounts,r=function(e,t,n){const s=[];return Object.keys(e).forEach(r=>{const a=null==t?void 0:t.find(e=>e.address===r);a&&Object.keys(e[r]).forEach(t=>{e[r][t].forEach(e=>{const r=n.get(t);s.push({...e,accountId:a.id,accountAddress:a.address,chainId:t,networkImage:null==r?void 0:r.networkImage,networkName:null==r?void 0:r.networkName})})})}),s}(t,s,e);return r},[null==p?void 0:p.length,e,t,m]),h=(0,s.useCallback)(async e=>{const t=e.filter(e=>e.standard===i.AssetStandard.ERC1155);if(0===t.length)return e;const n=t.map(d),s=await Promise.allSettled(n),r=[...e];return s.forEach(e=>{if("fulfilled"===e.status&&e.value){const{nft:t,balance:n}=e.value,s=r.findIndex(e=>e.address===t.address&&e.tokenId===t.tokenId&&e.chainId===t.chainId&&e.accountId===t.accountId);-1!==s&&(r[s]={...r[s],balance:n})}}),r},[d]);return(0,s.useEffect)(()=>{let e=!1;return(async()=>{const t=(await h(f)).filter(e=>!0===e.isCurrentlyOwned);e||u(t)})(),()=>{e=!0}},[f,h]),n}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendNfts.ts"}],[7800,{"../../../../helpers/constants/routes":7154,"../../constants/send":7728,"../../context/send":7734,"./useSendAssets":7798,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendQueryParams=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-router-dom"),o=e("../../../../helpers/constants/routes"),i=e("../../constants/send"),c=e("../../context/send"),l=e("./useSendAssets");n.useSendQueryParams=()=>{const e=(0,s.c)(79),{asset:t,currentPage:n,hexData:u,maxValueMode:d,to:m,updateValue:p,updateCurrentPage:f,updateAsset:h,updateHexData:g,updateTo:v,value:T}=(0,c.useSendContext)(),y=(0,a.useNavigate)(),{pathname:_}=(0,a.useLocation)(),[k]=(0,a.useSearchParams)(),{tokens:S,nfts:A}=(0,l.useSendAssets)();let w;e[0]!==A||e[1]!==S?(w=[...S,...A],e[0]=A,e[1]=S,e[2]=w):w=e[2];const E=w;let x;{let t;e[3]!==_?(t=_.split("/").filter(Boolean),e[3]=_,e[4]=t):t=e[4];const n=t[1];Object.values(i.SendPages).includes(n)?x=n:x=undefined}const C=x;let b;e[5]!==k?(b=k.get("asset"),e[5]=k,e[6]=b):b=e[6];const P=b;let I;e[7]!==k?(I=k.get("amount"),e[7]=k,e[8]=I):I=e[8];const N=I;let R;e[9]!==k?(R=k.get("chainId"),e[9]=k,e[10]=R):R=e[10];const M=R;let F;e[11]!==k?(F=k.get("tokenId"),e[11]=k,e[12]=F):F=e[12];const O=F;let D;e[13]!==k?(D=k.get("hexData"),e[13]=k,e[14]=D):D=e[14];const G=D;let B;e[15]!==k?(B=k.get("recipient"),e[15]=k,e[16]=B):B=e[16];const L=B;let $;e[17]!==k?($=k.get("maxValueMode"),e[17]=k,e[18]=$):$=e[18];const j=$;let U,W,H,V,q,z,K,Q,Y,Z,J,X;e[19]!==n||e[20]!==C||e[21]!==f?(W=()=>{n!==C&&f(C??i.SendPages.ASSET)},U=[n,C,f],e[19]=n,e[20]=C,e[21]=f,e[22]=U,e[23]=W):(U=e[22],W=e[23]),(0,r.useEffect)(W,U),e[24]!==t||e[25]!==u||e[26]!==d||e[27]!==y||e[28]!==N||e[29]!==P||e[30]!==M||e[31]!==G||e[32]!==j||e[33]!==L||e[34]!==O||e[35]!==k||e[36]!==C||e[37]!==m||e[38]!==T?(H=()=>{if(!C)return;const e=new URLSearchParams(k);T!==undefined&&N!==T&&e.set("amount",T),(null==t?void 0:t.address)!==undefined&&P!==t.address&&e.set("asset",t.assetId??t.address),(null==t?void 0:t.chainId)!==undefined&&M!==t.chainId&&e.set("chainId",t.chainId.toString()),(null==t?void 0:t.tokenId)!==undefined&&O!==t.tokenId&&e.set("tokenId",t.tokenId),d!==undefined&&j!==`${d}`&&e.set("maxValueMode",d.toString()),u!==undefined&&G!==u&&e.set("hexData",u.toString()),m!==undefined&&L!==m&&e.set("recipient",m),y(`${o.SEND_ROUTE}/${C}?${e.toString()}`,{replace:!0})},e[24]=t,e[25]=u,e[26]=d,e[27]=y,e[28]=N,e[29]=P,e[30]=M,e[31]=G,e[32]=j,e[33]=L,e[34]=O,e[35]=k,e[36]=C,e[37]=m,e[38]=T,e[39]=H):H=e[39],e[40]!==t||e[41]!==u||e[42]!==d||e[43]!==y||e[44]!==N||e[45]!==P||e[46]!==M||e[47]!==j||e[48]!==L||e[49]!==O||e[50]!==k||e[51]!==C||e[52]!==m||e[53]!==T?(V=[t,y,u,d,N,P,M,O,j,L,k,C,m,T],e[40]=t,e[41]=u,e[42]=d,e[43]=y,e[44]=N,e[45]=P,e[46]=M,e[47]=j,e[48]=L,e[49]=O,e[50]=k,e[51]=C,e[52]=m,e[53]=T,e[54]=V):V=e[54],(0,r.useEffect)(H,V),e[55]!==L||e[56]!==m||e[57]!==v?(q=()=>{m===undefined&&L&&v(L)},z=[m,L,v],e[55]=L,e[56]=m,e[57]=v,e[58]=q,e[59]=z):(q=e[58],z=e[59]),(0,r.useEffect)(q,z),e[60]!==u||e[61]!==G||e[62]!==g?(K=()=>{u===undefined&&G&&g(G)},Q=[u,G,g],e[60]=u,e[61]=G,e[62]=g,e[63]=K,e[64]=Q):(K=e[63],Q=e[64]),(0,r.useEffect)(K,Q),e[65]!==N||e[66]!==j||e[67]!==p||e[68]!==T?(Y=()=>{T===undefined&&N&&p(N,"true"===j)},Z=[N,j,p,T],e[65]=N,e[66]=j,e[67]=p,e[68]=T,e[69]=Y,e[70]=Z):(Y=e[69],Z=e[70]),(0,r.useEffect)(Y,Z),e[71]!==E||e[72]!==t||e[73]!==P||e[74]!==M||e[75]!==O||e[76]!==h?(J=()=>{if(t||!M)return;const e=E.find(e=>{const{assetId:t,address:n,chainId:s,isNative:r,tokenId:a}=e;return!(M!==String(s))&&(O?O===a&&(P&&(null==n?void 0:n.toLowerCase())===P.toLowerCase()||!P&&r):P&&(null==t?void 0:t.toLowerCase())===P.toLowerCase()||!P&&r)});e&&h(e)},X=[t,E,P,M,O,h],e[71]=E,e[72]=t,e[73]=P,e[74]=M,e[75]=O,e[76]=h,e[77]=J,e[78]=X):(J=e[77],X=e[78]),(0,r.useEffect)(J,X)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendQueryParams.ts"}],[7801,{react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendRecipientFilter=void 0;var s=e("react-compiler-runtime");e("react");function r(e,t){var n,s,r,a;if(!t.trim())return!0;const o=t.toLowerCase().trim();return!(null===(n=e.contactName)||void 0===n||!n.toLowerCase().includes(o))||(!(null===(s=e.accountGroupName)||void 0===s||!s.toLowerCase().includes(o))||(!(null===(r=e.walletName)||void 0===r||!r.toLowerCase().includes(o))||!(null===(a=e.address)||void 0===a||!a.toLowerCase().includes(o))))}n.useSendRecipientFilter=e=>{const t=(0,s.c)(13),{contactRecipients:n,accountRecipients:a,searchQuery:o}=e,i=o===undefined?"":o,c=n,l=a;let u;if(t[0]!==c||t[1]!==i){let e;t[3]!==i?(e=e=>r(e,i),t[3]=i,t[4]=e):e=t[4],u=c.filter(e),t[0]=c,t[1]=i,t[2]=u}else u=t[2];const d=u;let m;if(t[5]!==l||t[6]!==i){let e;t[8]!==i?(e=e=>r(e,i),t[8]=i,t[9]=e):e=t[9],m=l.filter(e),t[5]=l,t[6]=i,t[7]=m}else m=t[7];const p=m;let f;return t[10]!==p||t[11]!==d?(f={filteredContactRecipients:d,filteredAccountRecipients:p},t[10]=p,t[11]=d,t[12]=f):f=t[12],f}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendRecipientFilter.ts"}],[7802,{"../../../../../shared/constants/network":5896,"../../../../selectors/assets":8199,"../../types/send":7879,"../useChainNetworkNameAndImage":7825,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendTokens=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=(e("react"),e("../../../../../shared/constants/network")),o=e("../../../../selectors/assets"),i=e("../../types/send"),c=e("../useChainNetworkNameAndImage");function l(e){const t="0x0"!==e.rawBalance;return e.isNative||t}function u(e,t){var n,s;return((null===(n=t.fiat)||void 0===n?void 0:n.balance)??0)-((null===(s=e.fiat)||void 0===s?void 0:s.balance)??0)}n.useSendTokens=e=>{const t=(0,s.c)(11),n=e===undefined?{}:e,{includeNoBalance:d}=n,m=d!==undefined&&d,p=(0,c.useChainNetworkNameAndImageMap)(),f=(0,r.useSelector)(o.getAssetsBySelectedAccountGroup);let h;t[0]!==f?(h=Object.values(f).flat(),t[0]=f,t[1]=h):h=t[1];const g=h;let v;e:{if(m){v=g;break e}let e;t[2]!==g?(e=g.filter(l),t[2]=g,t[3]=e):e=t[3],v=e}const T=v;let y;if(t[4]!==T||t[5]!==p){let e;t[7]!==p?(e=e=>{const t=p.get(e.chainId);let n;return n=e.isNative?a.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??a.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]:e.image,{...e,image:n,networkImage:null==t?void 0:t.networkImage,networkName:null==t?void 0:t.networkName,shortenedBalance:e.balance,standard:e.isNative?i.AssetStandard.Native:i.AssetStandard.ERC20}},t[7]=p,t[8]=e):e=t[8],y=T.map(e),t[4]=T,t[5]=p,t[6]=y}else y=t[6];const _=y;let k;return t[9]!==_?(k=_.sort(u),t[9]=_,t[10]=k):k=t[10],k}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendTokens.ts"}],[7803,{"../../context/send":7734,"../../utils/network":7885,"@metamask/bridge-controller":1408,"ethers/lib/utils":4468,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendType=void 0;var s=e("react-compiler-runtime"),r=e("ethers/lib/utils"),a=e("@metamask/bridge-controller"),o=(e("react"),e("../../context/send")),i=e("../../utils/network");n.useSendType=()=>{const e=(0,s.c)(17),{asset:t,chainId:n}=(0,o.useSendContext)(),c=(null==t?void 0:t.address)||(null==t?void 0:t.assetId);let l;null==t||t.chainId,e[0]!==c||e[1]!==(null==t?void 0:t.chainId)?(l=c&&null!=t&&t.chainId?(0,r.isAddress)(c)&&!(0,a.isSolanaChainId)(null==t?void 0:t.chainId):undefined,e[0]=c,e[1]=null==t?void 0:t.chainId,e[2]=l):l=e[2];const u=l;let d;e[3]!==n?(d=n?(0,a.isSolanaChainId)(n):undefined,e[3]=n,e[4]=d):d=e[4];const m=d;let p;e[5]!==n?(p=n?(0,a.isBitcoinChainId)(n):undefined,e[5]=n,e[6]=p):p=e[6];const f=p;let h;e[7]!==n?(h=n?(0,i.isTronChainId)(n):undefined,e[7]=n,e[8]=h):h=e[8];const g=h,v=t?!0===(null==t?void 0:t.isNative):undefined,T=u&&v,y=m||f||g,_=m&&v||f&&v||g&&v;let k;return e[9]!==f||e[10]!==u||e[11]!==m||e[12]!==g||e[13]!==T||e[14]!==y||e[15]!==_?(k={isBitcoinSendType:f,isEvmSendType:u,isEvmNativeSendType:T,isNonEvmSendType:y,isNonEvmNativeSendType:_,isSolanaSendType:m,isTronSendType:g},e[9]=f,e[10]=u,e[11]=m,e[12]=g,e[13]=T,e[14]=y,e[15]=_,e[16]=k):k=e[16],k}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendType.ts"}],[7804,{"../../context/send":7734,"../../utils/multichain-snaps":7884,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapAmountOnInput=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../context/send")),a=e("../../utils/multichain-snaps");n.useSnapAmountOnInput=()=>{const e=(0,s.c)(5),{asset:t,fromAccount:n,value:o}=(0,r.useSendContext)();let i;e[0]!==(null==t?void 0:t.assetId)||e[1]!==n?(i=async e=>await(0,a.validateAmountMultichain)(n,{value:e,accountId:n.id,assetId:null==t?void 0:t.assetId}),e[0]=null==t?void 0:t.assetId,e[1]=n,e[2]=i):i=e[2];const c=i;let l;return e[3]!==c?(l={validateAmountWithSnap:c},e[3]=c,e[4]=l):l=e[4],l}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSnapAmountOnInput.ts"}],[7805,{"../../../../../shared/modules/hexstring-utils":6023,"../../../../../shared/modules/selectors/networks":6034,"../../../../ducks/metamask/metamask":7137,"../../../../selectors":8207,"../useDeepMemo":7837,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenFiatRate=function(e,t,n){const r=(0,s.c)(4);let a;r[0]!==t||r[1]!==n||r[2]!==e?(a=[{address:e,chainId:t,currency:n}],r[0]=t,r[1]=n,r[2]=e,r[3]=a):a=r[3];return u(a)[0]},n.useTokenFiatRates=u;var s=e("react-compiler-runtime"),r=e("react-redux"),a=(e("react"),e("../../../../selectors")),o=e("../../../../../shared/modules/selectors/networks"),i=e("../../../../../shared/modules/hexstring-utils"),c=e("../../../../ducks/metamask/metamask"),l=e("../useDeepMemo");function u(e){const t=(0,s.c)(17),n=(0,r.useSelector)(c.getCurrentCurrency),u=(0,r.useSelector)(a.getMarketData),d=(0,r.useSelector)(a.getCurrencyRates),m=(0,r.useSelector)(o.getNetworkConfigurationsByChainId);let p,f;t[0]!==e?(p=()=>e,f=[e],t[0]=e,t[1]=p,t[2]=f):(p=t[1],f=t[2]);const h=(0,l.useDeepMemo)(p,f);let g;if(t[3]!==d||t[4]!==u||t[5]!==m||t[6]!==h||t[7]!==n){let e;t[9]!==d||t[10]!==u||t[11]!==m||t[12]!==n?(e=e=>{const{address:t,chainId:s,currency:r}=e,a="usd"===(r??n).toLowerCase(),o=((null==u?void 0:u[s])??{})[(0,i.toChecksumHexAddress)(t)],c=m[s],l=null==d?void 0:d[null==c?void 0:c.nativeCurrency],p=a?null==l?void 0:l.usdConversionRate:null==l?void 0:l.conversionRate;if(p&&c)return((null==o?void 0:o.price)??1)*p},t[9]=d,t[10]=u,t[11]=m,t[12]=n,t[13]=e):e=t[13],g=h.map(e),t[3]=d,t[4]=u,t[5]=m,t[6]=h,t[7]=n,t[8]=g}else g=t[8];const v=g;let T,y;return t[14]!==v?(T=()=>v,y=[v],t[14]=v,t[15]=T,t[16]=y):(T=t[15],y=t[16]),(0,l.useDeepMemo)(T,y)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/tokens/useTokenFiatRates.ts"}],[7806,{"../../../../../store/actions":8241,"../../../context/confirm":7730,"../../../context/dapp-swap":7731,"./useDappSwapComparisonMetrics":7810,"@metamask/controller-utils":1488,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapActions=function(){const e=(0,s.c)(10),{currentConfirmation:t}=(0,i.useConfirmContext)(),{isQuotedSwapDisplayedInInfo:n,selectedQuote:u}=(0,c.useDappSwapContext)(),{captureSwapSubmit:d}=(0,l.useDappSwapComparisonMetrics)();let m;e[0]!==d||e[1]!==n||e[2]!==(null==u?void 0:u.approval)||e[3]!==(null==u?void 0:u.trade)?(m=e=>{if(d(),!n)return;const{value:t,gasLimit:s,data:o,to:i}=null==u?void 0:u.trade;if(e.txParams={...e.txParams,value:t,to:i,gas:(0,a.toHex)(s??0),data:o},null!=u&&u.approval){const{data:t,to:n,gasLimit:s,value:o}=null==u?void 0:u.approval;e.batchTransactions=[{data:t,to:n,gas:(0,a.toHex)(s??0),value:o,type:r.TransactionType.swapApproval,isAfter:!1,maxFeePerGas:e.txParams.maxFeePerGas,maxPriorityFeePerGas:e.txParams.maxPriorityFeePerGas}]}e.batchTransactionsOptions={},e.nestedTransactions=undefined},e[0]=d,e[1]=n,e[2]=null==u?void 0:u.approval,e[3]=null==u?void 0:u.trade,e[4]=m):m=e[4];const p=m;let f;e[5]!==(null==t?void 0:t.requestId)?(f=()=>{const e=null==t?void 0:t.requestId;e&&(0,o.deleteDappSwapComparisonData)(e)},e[5]=null==t?void 0:t.requestId,e[6]=f):f=e[6];null==t||t.requestId;const h=f;let g;e[7]!==h||e[8]!==p?(g={updateSwapWithQuoteDetailsIfRequired:p,onDappSwapCompleted:h},e[7]=h,e[8]=p,e[9]=g):g=e[9];return g};var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),a=e("@metamask/controller-utils"),o=(e("react"),e("../../../../../store/actions")),i=e("../../../context/confirm"),c=e("../../../context/dapp-swap"),l=e("./useDappSwapComparisonMetrics")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapActions.ts"}],[7807,{"../../../../../selectors/remote-feature-flags":8224,"../../../context/confirm":7730,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapCheck=function(){const e=(0,s.c)(13),{currentConfirmation:t}=(0,i.useConfirmContext)(),{dappSwapMetrics:n}=(0,a.useSelector)(o.getRemoteFeatureFlags);let c;e[0]!==n?(c=n===undefined?{}:n,e[0]=n,e[1]=c):c=e[1];const{enabled:l,origins:u}=c;let d;e[2]!==u?(d=u===undefined?[]:u,e[2]=u,e[3]=d):d=e[3];const m=d;let p;e[4]!==t?(p=t??{txParams:{data:""}},e[4]=t,e[5]=p):p=e[5];const{origin:f,type:h}=p;let g;e[6]!==l||e[7]!==f||e[8]!==m||e[9]!==h?(g=l&&f!==undefined&&m.includes(f)&&(h===r.TransactionType.contractInteraction||h===r.TransactionType.batch),e[6]=l,e[7]=f,e[8]=m,e[9]=h,e[10]=g):g=e[10];const v=g;let T;e[11]!==v?(T={isSwapToBeCompared:v},e[11]=v,e[12]=T):T=e[12];return T};var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),a=(e("react"),e("react-redux")),o=e("../../../../../selectors/remote-feature-flags"),i=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapCheck.ts"}],[7808,{"../../../../../../shared/lib/sentry":5992,"../../../../../../shared/modules/dapp-swap-comparison/dapp-swap-comparison-utils":6017,"../../../../../selectors/remote-feature-flags":8224,"../../../context/confirm":7730,"../../../selectors/confirm":7868,"../../../utils/token":7890,"./useDappSwapComparisonLatencyMetrics":7809,"./useDappSwapComparisonMetrics":7810,"./useDappSwapUSDValues":7812,"bignumber.js":4064,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonInfo=function(){var e;const{dappSwapUi:t,dappSwapQa:n}=(0,a.useSelector)(c.getRemoteFeatureFlags),{currentConfirmation:g}=(0,d.useConfirmContext)(),{quotes:v,latency:T,commands:y,error:_,swapInfo:k}=(0,a.useSelector)(e=>(0,u.selectDappSwapComparisonData)(e,(null==g?void 0:g.requestId)??""))??{quotes:undefined},{updateSwapComparisonLatency:S}=(0,m.useDappSwapComparisonLatencyMetrics)(),{captureDappSwapComparisonFailed:A,captureDappSwapComparisonLoading:w,captureDappSwapComparisonMetricsProperties:E}=(0,p.useDappSwapComparisonMetrics)(),{gasUsed:x,gasLimitNoBuffer:C,simulationData:b,txParams:P}=g??{txParams:{}},{gas:I}=P??{};(0,r.useEffect)(()=>{k&&w(y??"")},[w,y,k]),(0,r.useEffect)(()=>{_&&A(_,y)},[A,_,y]);const{fiatRates:N,getGasUSDValue:R,getTokenUSDValue:M,getDestinationTokenUSDValue:F,tokenDetails:O,tokenInfoPending:D}=(0,f.useDappSwapUSDValues)({tokenAddresses:k?[k.srcTokenAddress,k.destTokenAddress]:[],destTokenAddress:null==k?void 0:k.destTokenAddress}),{bestQuote:G,selectedQuote:B}=(0,r.useMemo)(()=>{try{if((null==k?void 0:k.destTokenAmountMin)===undefined||null==v||!v.length||D)return{bestQuote:undefined,selectedQuote:undefined};const{bestQuote:e,bestFilteredQuote:t}=(0,i.getBestQuote)(v,null==k?void 0:k.destTokenAmountMin,F,R);return{bestQuote:e,selectedQuote:t||(null!=n&&n.enabled?e:undefined)}}catch(e){return(0,o.captureException)(e),A(`Error calculating best quote: ${e.message}`,y),{bestQuote:undefined,selectedQuote:undefined}}},[y,A,null==n?void 0:n.enabled,R,F,v,null==k?void 0:k.destTokenAmountMin,D]);(0,r.useEffect)(()=>{try{var e,t;if(!(G&&b&&(null==k?void 0:k.destTokenAmountMin)!==undefined&&k&&O))return;const n=S(),{destTokenAddress:r,srcTokenAddress:a,srcTokenAmount:o}=k,{quote:{destTokenAmount:c,minDestTokenAmount:u}}=G,d=R(h(G)),m=R(new s.BigNumber(x??C??I??"0x0",16)),p=(0,i.getBalanceChangeFromSimulationData)(r,b);E({properties:{swap_dapp_comparison:"completed",swap_dapp_commands:y??"",swap_dapp_from_token_simulated_value_usd:M(o,a),swap_dapp_to_token_simulated_value_usd:F(p),swap_dapp_minimum_received_value_usd:F(null==k?void 0:k.destTokenAmountMin),swap_dapp_network_fee_usd:m,swap_mm_from_token_simulated_value_usd:M(o,a),swap_mm_to_token_simulated_value_usd:F(c),swap_mm_minimum_received_value_usd:F(u),swap_mm_slippage:G.quote.slippage,swap_mm_quote_provider:G.quote.aggregator,swap_mm_network_fee_usd:d,swap_comparison_total_latency_ms:n,swap_mm_quote_response_latency_ms:(null==T?void 0:T.toString())??"N_A"},sensitiveProperties:{swap_from_token_contract:a,swap_from_token_symbol:(null===(e=(0,l.getTokenValueFromRecord)(O,a))||void 0===e?void 0:e.symbol)??"N/A",swap_to_token_contract:r,swap_to_token_symbol:(null===(t=(0,l.getTokenValueFromRecord)(O,r))||void 0===t?void 0:t.symbol)??"N/A"}})}catch(e){(0,o.captureException)(e),A(`Error calculating metrics values: ${e.message}`,y)}},[G,A,E,y,I,F,R,C,M,x,v,T,b,k,O,D,S]);const{selectedQuoteValueDifference:L=0,tokenAmountDifference:$=0}=(0,r.useMemo)(()=>{try{if(!(B&&k&&b&&O&&null!=t&&t.enabled))return{};const{destTokenAddress:e}=k,{quote:{destTokenAmount:n}}=B,r=new s.BigNumber(R(h(B))),a=new s.BigNumber(F(n)),o=a.minus(r),c=new s.BigNumber(R(new s.BigNumber(x??C??I??"0x0",16))),l=new s.BigNumber(F((0,i.getBalanceChangeFromSimulationData)(e,b))),u=l.minus(c),d=o.minus(u).toNumber();return{selectedQuoteValueDifference:d,tokenAmountDifference:a.minus(l).toNumber()}}catch(e){return(0,o.captureException)(e),{selectedQuoteValueDifference:0,tokenAmountDifference:0}}},[I,C,x,F,R,B,b,k,O,t.enabled]);return{dappSwapUi:t,fiatRates:N,minDestTokenAmountInUSD:F((null==B||null===(e=B.quote)||void 0===e?void 0:e.minDestTokenAmount)??"0",2),selectedQuote:B,selectedQuoteValueDifference:L,sourceTokenAmount:null==k?void 0:k.srcTokenAmount,tokenAmountDifference:$,tokenDetails:O}};var s=e("bignumber.js"),r=e("react"),a=e("react-redux"),o=e("../../../../../../shared/lib/sentry"),i=e("../../../../../../shared/modules/dapp-swap-comparison/dapp-swap-comparison-utils"),c=e("../../../../../selectors/remote-feature-flags"),l=e("../../../utils/token"),u=e("../../../selectors/confirm"),d=e("../../../context/confirm"),m=e("./useDappSwapComparisonLatencyMetrics"),p=e("./useDappSwapComparisonMetrics"),f=e("./useDappSwapUSDValues");const h=e=>{const{approval:t,trade:n}=e,r=(null==t?void 0:t.effectiveGas)??(null==t?void 0:t.gasLimit)??0,a=(null==n?void 0:n.effectiveGas)??(null==n?void 0:n.gasLimit)??0;return new s.BigNumber(r+a)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonInfo.ts"}],[7809,{react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonLatencyMetrics=function(){const e=(0,s.useRef)((new Date).getTime()),t=(0,s.useRef)(),n=(0,s.useCallback)(()=>(t.current!==undefined||(t.current=(new Date).getTime()-(e.current??0)),t.current.toString()),[]);return{swapComparisonLatency:(t.current??r).toString(),updateSwapComparisonLatency:n}};var s=e("react");const r="N/A"}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonLatencyMetrics.ts"}],[7810,{"../../../context/confirm":7730,"../../../context/dapp-swap":7731,"../../useTransactionEventFragment":7861,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonMetrics=function(){const e=(0,s.c)(21),{currentConfirmation:t}=(0,a.useConfirmContext)(),{isQuotedSwapDisplayedInInfo:n,isQuotedSwapPresent:c}=(0,o.useDappSwapContext)(),{updateTransactionEventFragment:l}=(0,i.useTransactionEventFragment)();let u;e[0]!==t?(u=t??{},e[0]=t,e[1]=u):u=e[1];const{id:d}=u,m=(0,r.useRef)("loading");let p;e[2]!==d||e[3]!==l?(p=e=>{m.current=e.properties.swap_dapp_comparison,l(e,d)},e[2]=d,e[3]=l,e[4]=p):p=e[4];const f=p;let h;e[5]!==f?(h=e=>{f({properties:e})},e[5]=f,e[6]=h):h=e[6];const g=h;let v;e[7]!==f||e[8]!==n||e[9]!==c?(v=()=>{c&&f({properties:{swap_final_selected:n?"metamask":"dapp"}})},e[7]=f,e[8]=n,e[9]=c,e[10]=v):v=e[10];const T=v;let y;e[11]!==f?(y=e=>{f({properties:{swap_dapp_comparison:m.current??"loading",swap_dapp_commands:e}})},e[11]=f,e[12]=y):y=e[12];const _=y;let k;e[13]!==f?(k=(e,t)=>{f({properties:{swap_dapp_comparison:e??"failed",swap_dapp_commands:t??""}})},e[13]=f,e[14]=k):k=e[14];const S=k;let A;e[15]!==g||e[16]!==S||e[17]!==_||e[18]!==f||e[19]!==T?(A={captureDappSwapComparisonDisplayProperties:g,captureDappSwapComparisonFailed:S,captureDappSwapComparisonLoading:_,captureDappSwapComparisonMetricsProperties:f,captureSwapSubmit:T},e[15]=g,e[16]=S,e[17]=_,e[18]=f,e[19]=T,e[20]=A):A=e[20];return A};var s=e("react-compiler-runtime"),r=e("react"),a=e("../../../context/confirm"),o=e("../../../context/dapp-swap"),i=e("../../useTransactionEventFragment")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonMetrics.ts"}],[7811,{"../../../../../hooks/bridge/useRewards":7221,"../../../../../hooks/useI18nContext":7301,"../../../context/confirm":7730,"../../../context/dapp-swap":7731,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonRewardText=void 0;var s=e("react-compiler-runtime"),r=e("../../../../../hooks/bridge/useRewards"),a=e("../../../../../hooks/useI18nContext"),o=e("../../../context/confirm"),i=e("../../../context/dapp-swap");n.useDappSwapComparisonRewardText=()=>{var e;const t=(0,s.c)(10),{currentConfirmation:n}=(0,o.useConfirmContext)(),{selectedQuote:c}=(0,i.useDappSwapContext)(),l=(0,a.useI18nContext)(),u=(null==c?void 0:c.quote)??null,d=(null==n||null===(e=n.txParams)||void 0===e?void 0:e.from)??"",m=(null==n?void 0:n.chainId)??"";let p;t[0]!==u||t[1]!==d||t[2]!==m?(p={quote:u,fromAddress:d,chainId:m},t[0]=u,t[1]=d,t[2]=m,t[3]=p):p=t[3];const{shouldShowRewardsRow:f,isLoading:h,estimatedPoints:g,hasError:v,accountOptedIn:T}=(0,r.useRewardsWithQuote)(p);if(!f||v||h||!T)return null;if(g){let e,n;return t[4]!==g||t[5]!==l?(e=l("dappSwapRewardText",[g.toString()]),t[4]=g,t[5]=l,t[6]=e):e=t[6],t[7]!==g||t[8]!==e?(n={text:e,estimatedPoints:g},t[7]=g,t[8]=e,t[9]=n):n=t[9],n}return null}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonRewardText.ts"}],[7812,{"../../../../../helpers/utils/token-insights":7202,"../../../../../helpers/utils/util":7207,"../../../../../hooks/useAsync":7281,"../../../context/confirm":7730,"../../../utils/token":7890,"@metamask/assets-controllers":1324,"@metamask/bridge-controller":1408,"@metamask/transaction-controller":3085,"bignumber.js":4064,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapUSDValues=function({tokenAddresses:e=[],destTokenAddress:t}){const{currentConfirmation:n}=(0,m.useConfirmContext)(),{chainId:f,txParams:h}=n??{txParams:{}},{maxFeePerGas:g}=h??{},{value:v,pending:T}=(0,l.useAsyncResult)(async()=>{const t=e.filter(e=>!(0,u.isNativeAddress)(e)),n=await(0,c.fetchTokenExchangeRates)("usd",t,f);if(f===o.CHAIN_IDS.POLYGON){n[(0,a.getNativeAssetForChainId)(f).address]=n[p]}return n},[f,null==e?void 0:e.length]),{value:y,pending:_}=(0,l.useAsyncResult)(async()=>{let t=await(0,d.fetchAllTokenDetails)(e,f);return e.forEach(e=>{(0,u.isNativeAddress)(e)&&(t={...t,[e]:(0,a.getNativeAssetForChainId)(f)})}),t},[f,null==e?void 0:e.length]),k=(0,i.useCallback)((e,t,n)=>{var r;if(!y||!v)return"0";const a=new s.BigNumber(Math.pow(10,parseInt((null===(r=(0,d.getTokenValueFromRecord)(y,t))||void 0===r?void 0:r.decimals)??"18",10))),o=new s.BigNumber((0,d.getTokenValueFromRecord)(v,t)??0),i=new s.BigNumber(e??0).dividedBy(a).times(o);return n?i.toFixed(n):i.toString(10)},[v,y]),S=(0,i.useCallback)((e,n)=>t?k(e,t,n):"0",[k,t]);return{getGasUSDValue:(0,i.useCallback)(e=>{if(!g)return"0";const t=new s.BigNumber(g,16).times(e).toString(10),n=(0,r.getNativeTokenAddress)(f);return k(t,n)},[f,k,g]),getTokenUSDValue:k,getDestinationTokenUSDValue:S,tokenDetails:y,fiatRates:v,tokenInfoPending:T||_}};var s=e("bignumber.js"),r=e("@metamask/assets-controllers"),a=e("@metamask/bridge-controller"),o=e("@metamask/transaction-controller"),i=e("react"),c=e("../../../../../helpers/utils/util"),l=e("../../../../../hooks/useAsync"),u=e("../../../../../helpers/utils/token-insights"),d=e("../../../utils/token"),m=e("../../../context/confirm");const p="0x0000000000000000000000000000000000001010"}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapUSDValues.ts"}],[7813,{"../../../../../shared/lib/confirmation.utils":5928,"../../../../../shared/lib/shield":5993,"../../../../hooks/subscription/useSubscription":7274,"../../../../selectors":8207,"../../context/confirm":7730,"../../utils":7883,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEnableShieldCoverageChecks=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("@metamask/transaction-controller"),o=e("../../../../hooks/subscription/useSubscription"),i=e("../../../../../shared/lib/shield"),c=e("../../../../selectors"),l=e("../../context/confirm"),u=e("../../utils"),d=e("../../../../../shared/lib/confirmation.utils");n.useEnableShieldCoverageChecks=()=>{const e=(0,s.c)(12),{subscriptions:t}=(0,o.useUserSubscriptions)(),n=(0,r.useSelector)(c.getUseExternalServices),{currentConfirmation:m}=(0,l.useConfirmContext)();let p;e[0]!==m?(p=(0,u.isSignatureTransactionType)(m),e[0]=m,e[1]=p):p=e[1];const f=p,h=null==m?void 0:m.type;let g;e[2]!==h?(g=(0,d.isCorrectDeveloperTransactionType)(h),e[2]=h,e[3]=g):g=e[3];const v=g,T=(null==m?void 0:m.type)===a.TransactionType.shieldSubscriptionApprove;let y;e[4]!==t?(y=(0,i.getIsShieldSubscriptionActive)(t),e[4]=t,e[5]=y):y=e[5];const _=y;let k;e[6]!==t?(k=(0,i.getIsShieldSubscriptionPaused)(t),e[6]=t,e[7]=k):k=e[7];const S=k,A=n&&_,w=(A||S)&&(f||v)&&!T;let E;return e[8]!==A||e[9]!==S||e[10]!==w?(E={isEnabled:A,isPaused:S,isShowCoverageIndicator:w},e[8]=A,e[9]=S,e[10]=w,e[11]=E):E=e[11],E}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useEnableShieldCoverageChecks.ts"}],[7814,{"../../context/confirm":7730,"@metamask/controller-utils":1488},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsEnforcedSimulationsSupported=function(){var e;const{currentConfirmation:t}=(0,r.useConfirmContext)(),{delegationAddress:n,origin:a,simulationData:o}=t;!a||s.ORIGIN_METAMASK,Boolean(n),Boolean(null==o?void 0:o.nativeBalanceChange)||Boolean(null==o||null===(e=o.tokenBalanceChanges)||void 0===e?void 0:e.length);return!1};var s=e("@metamask/controller-utils"),r=e("../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useIsEnforcedSimulationsSupported.ts"}],[7815,{"../../../../helpers/constants/routes":7154,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShieldConfirm=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),a=(e("react"),e("react-router-dom")),o=e("../../../../helpers/constants/routes");n.useShieldConfirm=()=>{const e=(0,s.c)(7),t=(0,a.useNavigate)();let n;e[0]!==t?(n=e=>{e.type===r.TransactionType.shieldSubscriptionApprove&&t(`${o.TRANSACTION_SHIELD_ROUTE}?waitForSubscriptionCreation=true`)},e[0]=t,e[1]=n):n=e[1];const i=n;let c;e[2]!==t?(c=e=>{e.type===r.TransactionType.shieldSubscriptionApprove&&t(o.PREVIOUS_ROUTE)},e[2]=t,e[3]=c):c=e[3];const l=c;let u;return e[4]!==i||e[5]!==l?(u={handleShieldSubscriptionApprovalTransactionAfterConfirm:i,handleShieldSubscriptionApprovalTransactionAfterConfirmErr:l},e[4]=i,e[5]=l,e[6]=u):u=e[6],u}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useShieldConfirm.ts"}],[7816,{"../../../../selectors":8207,"../../../../store/actions":8241,"../../components/confirm/info/hooks/useGasFeeToken":7490,"../../context/confirm":7730,"../gas/useGaslessSupportedSmartTransactions":7773,"../gas/useIsGaslessSupported":7775,"./dapp-swap-comparison/useDappSwapActions":7806,"./useShieldConfirm":7815,"@metamask/transaction-controller":3085,lodash:4940,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionConfirm=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(i.getCustomNonceValue),n=(0,l.useSelectedGasFeeToken)(),{currentConfirmation:h}=(0,c.useConfirmContext)(),{isSupported:g}=(0,m.useGaslessSupportedSmartTransactions)(),{isSupported:v}=(0,d.useIsGaslessSupported)(),{onDappSwapCompleted:T,updateSwapWithQuoteDetailsIfRequired:y}=(0,f.useDappSwapActions)(),_=(0,a.useMemo)(()=>(0,r.cloneDeep)(h),[h]),k=(0,a.useCallback)(()=>{n&&(_.batchTransactions=[{...n.transferTransaction,type:s.TransactionType.gasPayment}],_.txParams.gas=n.gas,_.txParams.maxFeePerGas=n.maxFeePerGas,_.isGasFeeSponsored=v&&h.isGasFeeSponsored,_.txParams.maxPriorityFeePerGas=n.maxPriorityFeePerGas)},[v,_,n,null==h?void 0:h.isGasFeeSponsored]),S=(0,a.useCallback)(()=>{_.isExternalSign=!0,_.isGasFeeSponsored=v&&h.isGasFeeSponsored},[v,_,null==h?void 0:h.isGasFeeSponsored]),{handleShieldSubscriptionApprovalTransactionAfterConfirm:A,handleShieldSubscriptionApprovalTransactionAfterConfirmErr:w}=(0,p.useShieldConfirm)();return{onTransactionConfirm:(0,a.useCallback)(async()=>{_.customNonceValue=t,y(_),g?k():n&&S(),A(_);try{await e((0,u.updateAndApproveTx)(_,!0,""))}catch(e){throw w(_),e}T()},[_,t,g,e,k,S,n,A,w,T,y])}};var s=e("@metamask/transaction-controller"),r=e("lodash"),a=e("react"),o=e("react-redux"),i=e("../../../../selectors"),c=e("../../context/confirm"),l=e("../../components/confirm/info/hooks/useGasFeeToken"),u=e("../../../../store/actions"),d=e("../gas/useIsGaslessSupported"),m=e("../gas/useGaslessSupportedSmartTransactions"),p=e("./useShieldConfirm"),f=e("./dapp-swap-comparison/useDappSwapActions")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useTransactionConfirm.ts"}],[7817,{"../../../../store/controller-actions/transaction-pay-controller":8246,"../../context/confirm":7730,"../../utils/transaction-pay":7891,"../pay/useTransactionPayData":7778,"../pay/useTransactionPayToken":7780,"../tokens/useTokenFiatRates":7805,"./useUpdateTokenAmount":7819,"bignumber.js":4064,lodash:4940,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_LENGTH=void 0,n.useTransactionCustomAmount=function({currency:e}={}){const[t,n]=(0,r.useState)("0"),[g,v]=(0,r.useState)(!1),[T,y]=(0,r.useState)(!1),[_,k]=(0,r.useState)("0"),S=(0,d.useTransactionPayRequiredTokens)(),{currentConfirmation:A}=(0,l.useConfirmContext)(),{chainId:w,id:E}=A??{},x=(0,d.useTransactionPayIsMaxAmount)(),C=(0,m.getTokenAddress)(A),b=(0,c.useTokenFiatRate)(C,w,e)??1,P=function(){const e=(0,s.c)(2),{payToken:t}=(0,u.useTransactionPayToken)();let n;e[0]!==(null==t?void 0:t.balanceUsd)?(n=new o.BigNumber((null==t?void 0:t.balanceUsd)??0).toNumber(),e[0]=null==t?void 0:t.balanceUsd,e[1]=n):n=e[1];return n}(),{updateTokenAmount:I}=(0,p.useUpdateTokenAmount)(),N=(0,r.useRef)(null),R=(0,r.useMemo)(()=>{var e;null===(e=N.current)||void 0===e||e.cancel();const t=(0,a.debounce)(e=>{k(e),I(e)},h);return N.current=t,t},[I]),M=(0,r.useMemo)(()=>null==S?void 0:S.find(e=>!e.skipIfBalance),[S]),F=(0,r.useMemo)(()=>{const e=null==M?void 0:M.amountUsd;return x&&e&&"0"!==e?new o.BigNumber(e).round(2,o.BigNumber.ROUND_HALF_UP).toString(10):t},[t,x,null==M?void 0:M.amountUsd]),O=(0,r.useMemo)(()=>new o.BigNumber(F||"0").dividedBy(String(b)).toString(10),[F,b]);(0,r.useEffect)(()=>{R(O)},[O,R]),(0,r.useEffect)(()=>()=>{var e;null===(e=N.current)||void 0===e||e.cancel()},[]),(0,r.useEffect)(()=>{"0"!==_&&v(!0),y(Boolean(null==_?void 0:_.length)&&"0"!==_)},[_]);const D=(0,r.useCallback)(e=>{E&&(0,i.setIsMaxAmount)(E,e)},[E]),G=(0,r.useCallback)(e=>{let t=e.replace(/^0+/u,"")||"0";(t.startsWith(".")||t.startsWith(","))&&(t=`0${t}`),t.length>=f||(x&&D(!1),n(t))},[x,D]),B=(0,r.useCallback)(e=>{if(!P)return;const t=new o.BigNumber(e).dividedBy(100).times(String(P)).round(2,o.BigNumber.ROUND_DOWN).toString(10);100===e?D(!0):x&&D(!1),n(t);const s=new o.BigNumber(t||"0").dividedBy(String(b)).toString(10);k(s),I(s)},[P,x,D,b,I]);return{amountFiat:F,amountHuman:O,amountHumanDebounced:_,hasInput:T,isInputChanged:g,updatePendingAmount:G,updatePendingAmountPercentage:B}};var s=e("react-compiler-runtime"),r=e("react"),a=e("lodash"),o=e("bignumber.js"),i=e("../../../../store/controller-actions/transaction-pay-controller"),c=e("../tokens/useTokenFiatRates"),l=e("../../context/confirm"),u=e("../pay/useTransactionPayToken"),d=e("../pay/useTransactionPayData"),m=e("../../utils/transaction-pay"),p=e("./useUpdateTokenAmount");const f=n.MAX_LENGTH=28,h=500}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useTransactionCustomAmount.ts"}],[7818,{"../../../../../shared/modules/selectors/networks":6034,"../../context/confirm":7730,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionNativeTicker=void 0;var s=e("react-redux"),r=e("../../context/confirm"),a=e("../../../../../shared/modules/selectors/networks");n.useTransactionNativeTicker=()=>{var e;const{currentConfirmation:t}=(0,r.useConfirmContext)(),{chainId:n}=t,o=null===(e=(0,s.useSelector)(a.getNetworkConfigurationsByChainId))||void 0===e?void 0:e[n];return null==o?void 0:o.nativeCurrency}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useTransactionNativeTicker.ts"}],[7819,{"../../../../../shared/modules/transaction.utils":6047,"../../../../store/actions":8241,"../../../../store/controller-actions/transaction-controller":8245,"../../context/confirm":7730,"../../utils/transaction-pay":7891,"../pay/useTransactionPayData":7778,"@ethersproject/abi":748,"bignumber.js":4064,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUpdateTokenAmount=function(){const e=(0,s.c)(22),t=(0,a.useDispatch)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),T=(null==n?void 0:n.id)??"",[y,_]=(0,r.useState)();let k;e[0]!==n?(k=(0,u.getTokenTransferData)(n)??{data:undefined,to:undefined,index:undefined},e[0]=n,e[1]=k):k=e[1];const{data:S,to:A,index:w}=k,E=(0,p.useTransactionPayRequiredTokens)();let x;e[2]!==E?(x=null==E?void 0:E.find(v),e[2]=E,e[3]=x):x=e[3];const C=x,b=(null==C?void 0:C.decimals)??18;let P;if(e[4]!==S){e:{var I;if(!S){P="0";break e}const e=(0,l.parseStandardTokenTransactionData)(S),t=null==e||null===(I=e.args)||void 0===I?void 0:I._value;t?P=new o.BigNumber(t.toString()).toString(10):P="0"}e[4]=S,e[5]=P}else P=e[5];const N=P,R=Boolean(y)&&N===y;let M,F,O;e[6]!==R?(M=()=>{R||_(undefined)},e[6]=R,e[7]=M):M=e[7];e[8]!==R||e[9]!==T?(F=[R,T],e[8]=R,e[9]=T,e[10]=F):F=e[10];(0,r.useEffect)(M,F),e[11]!==N||e[12]!==S||e[13]!==b||e[14]!==t||e[15]!==w||e[16]!==A||e[17]!==T?(O=e=>{var n;if(!S||!A)return;const s=function(e,t){const n=new o.BigNumber(10).pow(t);return new o.BigNumber(String(e)).times(n)}(e,b).round(0,o.BigNumber.ROUND_UP);if(s.eq(N))return;const r=(0,l.parseStandardTokenTransactionData)(S),a=null==r||null===(n=r.args)||void 0===n?void 0:n._to,c=function(){h||(h=new i.Interface(f));return h}().encodeFunctionData("transfer",[a,`0x${s.toString(16)}`]);_(N),w===undefined?t((0,d.updateEditableParams)(T,{data:c,updateType:!1})):(0,m.updateAtomicBatchData)({transactionId:T,transactionIndex:w,transactionData:c}).catch(g)},e[11]=N,e[12]=S,e[13]=b,e[14]=t,e[15]=w,e[16]=A,e[17]=T,e[18]=O):O=e[18];const D=O;let G;e[19]!==R||e[20]!==D?(G={isUpdating:R,updateTokenAmount:D},e[19]=R,e[20]=D,e[21]=G):G=e[21];return G};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("bignumber.js"),i=e("@ethersproject/abi"),c=e("../../context/confirm"),l=e("../../../../../shared/modules/transaction.utils"),u=e("../../utils/transaction-pay"),d=e("../../../../store/actions"),m=e("../../../../store/controller-actions/transaction-controller"),p=e("../pay/useTransactionPayData");const f=["function transfer(address to, uint256 amount)"];let h=null;function g(e){console.error("Failed to update token amount in nested transaction",e)}function v(e){return!e.skipIfBalance}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useUpdateTokenAmount.ts"}],[7820,{"../../../store/actions":8241,"../context/confirm":7730,"@metamask/controller-utils":1488,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAddEthereumChainType=function(e){return(null==e?void 0:e.type)===a.ApprovalType.AddEthereumChain},n.useAddEthereumChain=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("@metamask/controller-utils"),o=e("../context/confirm"),i=e("../../../store/actions");n.useAddEthereumChain=()=>{const e=(0,s.c)(8),t=(0,r.useDispatch)(),{currentConfirmation:n}=(0,o.useConfirmContext)();let a;e[0]!==n?(a=n??{},e[0]=n,e[1]=a):a=e[1];const{id:c,origin:l,requestData:u}=a;let d;e[2]!==t||e[3]!==c||e[4]!==u?(d=async()=>{await t((0,i.resolvePendingApproval)(c,u))},e[2]=t,e[3]=c,e[4]=u,e[5]=d):d=e[5];const m=d;let p;return e[6]!==m?(p={onSubmit:m},e[6]=m,e[7]=p):p=e[7],p}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useAddEthereumChain.ts"}],[7821,{"../../../../shared/modules/string-utils":6045,"../../../ducks/metamask/metamask":7137,"../../../helpers/utils/token-util":7203,"../../../hooks/usePrevious":7322,"../../../hooks/useTokenTracker":7342,"../../../selectors":8207,"../../../store/actions":8241,lodash:4940,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetDetails=function(e,t,n,f){const h=(0,s.c)(40),g=(0,a.useRef)(!1),v=(0,o.useDispatch)();let T;h[0]!==f?(T=e=>(0,p.selectNftsByChainId)(e,f),h[0]=f,h[1]=T):T=h[1];const y=(0,o.useSelector)(T);let _;h[2]!==f?(_=e=>(0,i.getTokensByChainId)(e,f),h[2]=f,h[3]=_):_=h[3];const k=(0,o.useSelector)(_,r.isEqual);let S;if(h[4]!==e||h[5]!==k){let t;h[7]!==e?(t=t=>(0,u.isEqualCaseInsensitive)(t.address,e),h[7]=e,h[8]=t):t=h[8],S=k.find(t),h[4]=e,h[5]=k,h[6]=S}else S=h[6];const A=S,[w,E]=(0,a.useState)(null);let x;h[9]!==A?(x={tokens:A?[A]:[]},h[9]=A,h[10]=x):x=h[10];const{tokensWithBalances:C}=(0,m.useTokenTracker)(x),b=(0,d.usePrevious)(e),P=(0,d.usePrevious)(t),I=(0,d.usePrevious)(n),N=(0,d.usePrevious)(C);let R,M,F,O,D;h[11]===Symbol.for("react.memo_cache_sentinel")?(R=()=>(g.current=!0,()=>{g.current=!1}),M=[],h[11]=R,h[12]=M):(R=h[11],M=h[12]);(0,a.useEffect)(R,M),h[13]!==f||h[14]!==v||h[15]!==y||h[16]!==b||h[17]!==N||h[18]!==I||h[19]!==P||h[20]!==e||h[21]!==C||h[22]!==n||h[23]!==t?(F=()=>{if(!e&&!t&&!n)return;(e!==b||t!==P||n!==I||N&&N!==C)&&async function(){v((0,l.showLoadingIndication)());try{const s=await(0,c.getAssetDetails)(e,t,n,y,f);g.current&&E(s)}catch(e){const t=e;console.warn("Unable to set asset details",{error:t,transactionData:n})}v((0,l.hideLoadingIndication)())}()},O=[f,v,b,I,P,e,t,n,y,C,N],h[13]=f,h[14]=v,h[15]=y,h[16]=b,h[17]=N,h[18]=I,h[19]=P,h[20]=e,h[21]=C,h[22]=n,h[23]=t,h[24]=F,h[25]=O):(F=h[24],O=h[25]);if((0,a.useEffect)(F,O),!e&&!t&&!n){let e;return h[26]===Symbol.for("react.memo_cache_sentinel")?(e={},h[26]=e):e=h[26],e}if(w){const{standard:t,symbol:n,image:s,name:r,balance:a,tokenId:o,toAddress:i,tokenAmount:c,decimals:l,tokenURI:u}=w,d=n??"";let m;return h[27]!==a||h[28]!==l||h[29]!==s||h[30]!==r||h[31]!==t||h[32]!==d||h[33]!==i||h[34]!==e||h[35]!==c||h[36]!==o||h[37]!==u?(m={toAddress:i,tokenId:o,decimals:l,tokenAmount:c,assetAddress:e,assetStandard:t,tokenSymbol:d,tokenImage:s,userBalance:a,assetName:r,tokenURI:u},h[27]=a,h[28]=l,h[29]=s,h[30]=r,h[31]=t,h[32]=d,h[33]=i,h[34]=e,h[35]=c,h[36]=o,h[37]=u,h[38]=m):m=h[38],m}h[39]===Symbol.for("react.memo_cache_sentinel")?(D={},h[39]=D):D=h[39];return D};var s=e("react-compiler-runtime"),r=e("lodash"),a=e("react"),o=e("react-redux"),i=e("../../../ducks/metamask/metamask"),c=e("../../../helpers/utils/token-util"),l=e("../../../store/actions"),u=e("../../../../shared/modules/string-utils"),d=e("../../../hooks/usePrevious"),m=e("../../../hooks/useTokenTracker"),p=e("../../../selectors")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useAssetDetails.js"}],[7822,{"../../../../shared/constants/transaction":5915,"../../../hooks/useAsync":7281,"../../../store/actions":8241,"../../../store/controller-actions/transaction-controller":8245,"../context/confirm":7730,"./gas/useIsGaslessSupported":7775,"./useHasInsufficientBalance":7846,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutomaticGasFeeTokenSelect=function(){var e,t;const n=(0,s.c)(15),p=(0,a.useDispatch)(),{isSmartTransaction:f}=(0,d.useIsGaslessSupported)(),[h,g]=(0,r.useState)(!0),{currentConfirmation:v}=(0,u.useConfirmContext)(),{hasInsufficientBalance:T}=(0,m.useHasInsufficientBalance)(),{gasFeeTokens:y,id:_,selectedGasFeeToken:k}=v;let S,A;if(n[0]!==(null==y||null===(e=y[0])||void 0===e?void 0:e.tokenAddress)||n[1]!==(null==y||null===(t=y[1])||void 0===t?void 0:t.tokenAddress)||n[2]!==f){var w,E,x,C;if(S=null==y||null===(w=y[0])||void 0===w?void 0:w.tokenAddress,!f&&S===o.NATIVE_TOKEN_ADDRESS)S=null==y||null===(C=y[1])||void 0===C?void 0:C.tokenAddress;n[0]=null==y||null===(E=y[0])||void 0===E?void 0:E.tokenAddress,n[1]=null==y||null===(x=y[1])||void 0===x?void 0:x.tokenAddress,n[2]=f,n[3]=S}else S=n[3];n[4]!==p||n[5]!==S||n[6]!==_?(A=async()=>{await(0,l.updateSelectedGasFeeToken)(_,S),await(0,c.forceUpdateMetamaskState)(p)},n[4]=p,n[5]=S,n[6]=_,n[7]=A):A=n[7];const b=A,P=T&&!k&&Boolean(S);let I,N;n[8]!==h||n[9]!==y||n[10]!==b||n[11]!==P||n[12]!==_?(I=async()=>{y&&_&&h&&P&&(await b(),g(!1))},N=[P,b,h,y,_],n[8]=h,n[9]=y,n[10]=b,n[11]=P,n[12]=_,n[13]=I,n[14]=N):(I=n[13],N=n[14]);(0,i.useAsyncResult)(I,N)};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("../../../../shared/constants/transaction"),i=e("../../../hooks/useAsync"),c=e("../../../store/actions"),l=e("../../../store/controller-actions/transaction-controller"),u=e("../context/confirm"),d=e("./gas/useIsGaslessSupported"),m=e("./useHasInsufficientBalance")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useAutomaticGasFeeTokenSelect.ts"}],[7823,{"../../../../shared/constants/network":5896,"../../../hooks/useAccountTotalFiatBalance":7278,"../../../selectors":8207,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBalance=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../selectors"),o=e("../../../../shared/constants/network"),i=e("../../../hooks/useAccountTotalFiatBalance");n.useBalance=e=>{const t=(0,s.c)(5),n=(0,r.useSelector)(a.getShouldHideZeroBalanceTokens);let c;t[0]!==e?(c=t=>(0,a.getInternalAccountByAddress)(t,e),t[0]=e,t[1]=c):c=t[1];const l=(0,r.useSelector)(c),{totalWeiBalance:u}=(0,i.useAccountTotalFiatBalance)(l,n),d=(0,r.useSelector)(a.getCurrentNetwork),m=(0,r.useSelector)(a.getShowFiatInTestnets),p=o.TEST_NETWORKS.includes(null==d?void 0:d.nickname)&&!m;let f=u;const h=(0,r.useSelector)(a.getSelectedAccountCachedBalance);if(!e){let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e={},t[2]=e):e=t[2],e}let g;return p&&(f=h),t[3]!==f?(g={balance:f},t[3]=f,t[4]=g):g=t[4],g}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useBalance.js"}],[7824,{"../../../../shared/constants/transaction":5915,"../../../selectors":8207,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBatchAuthorizationRequests=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../selectors"),o=e("../../../../shared/constants/transaction");n.useBatchAuthorizationRequests=(e,t)=>{const n=(0,s.c)(9),i=(0,r.useSelector)(a.getTransactions);let c;if(n[0]!==t||n[1]!==e||n[2]!==i){let s;n[4]!==t||n[5]!==e?(s=n=>{var s;return n.chainId===t&&o.IN_PROGRESS_TRANSACTION_STATUSES.includes(n.status)&&((null===(s=n.txParams.authorizationList)||void 0===s?void 0:s.length)??0)>0&&n.txParams.from===e},n[4]=t,n[5]=e,n[6]=s):s=n[6],c=i.filter(s),n[0]=t,n[1]=e,n[2]=i,n[3]=c}else c=n[3];const l=c.length>0;let u;return n[7]!==l?(u={hasPendingRequests:l},n[7]=l,n[8]=u):u=n[8],u}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useBatchAuthorizationRequests.ts"}],[7825,{"../../../../shared/modules/selectors/networks":6034,"../../../selectors/multichain":8216,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useChainNetworkNameAndImageMap=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=(e("react"),e("../../../selectors/multichain")),o=e("../../../../shared/modules/selectors/networks");n.useChainNetworkNameAndImageMap=()=>{const e=(0,s.c)(2),t=(0,r.useSelector)(o.getAllNetworkConfigurationsByCaipChainId);let n;e[0]!==t?(n=new Map,Object.values(t).forEach(e=>{const t=e.chainId,s=(0,a.getImageForChainId)(t),r=null==e?void 0:e.name;n.set(t,{networkName:r??"",networkImage:s??""})}),e[0]=t,e[1]=n):n=e[1];return n}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useChainNetworkNameAndImage.ts"}],[7826,{"../../../ducks/confirm-transaction/confirm-transaction.duck":7130,"../../../store/actions":8241,"../context/confirm":7730,"./useConfirmSendNavigation":7827,"@metamask/rpc-errors":2692,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConfirmActions=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/rpc-errors"),a=(e("react"),e("react-redux")),o=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),i=e("../../../store/actions"),c=e("../context/confirm"),l=e("./useConfirmSendNavigation");n.useConfirmActions=()=>{const e=(0,s.c)(15),t=(0,a.useDispatch)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),{navigateBackIfSend:u}=(0,l.useConfirmSendNavigation)();let d;e[0]!==n?(d=n||{},e[0]=n,e[1]=d):d=e[1];const{id:m}=d;let p;e[2]!==m||e[3]!==t?(p=async e=>{const{location:n}=e===undefined?{}:e;if(!m)return;const s=r.providerErrors.userRejectedRequest();s.data={location:n};const a=(0,r.serializeError)(s);await t((0,i.rejectPendingApproval)(m,a))},e[2]=m,e[3]=t,e[4]=p):p=e[4];const f=p;let h;e[5]!==t?(h=()=>{t((0,i.updateCustomNonce)("")),t((0,i.setNextNonce)("")),t((0,o.clearConfirmTransaction)())},e[5]=t,e[6]=h):h=e[6];const g=h;let v;e[7]!==n||e[8]!==u||e[9]!==f||e[10]!==g?(v=async e=>{const{location:t,navigateBackForSend:s}=e,r=s!==undefined&&s;n&&(r&&u(),await f({location:t}),g())},e[7]=n,e[8]=u,e[9]=f,e[10]=g,e[11]=v):v=e[11];const T=v;let y;return e[12]!==T||e[13]!==g?(y={onCancel:T,resetTransactionState:g},e[12]=T,e[13]=g,e[14]=y):y=e[14],y}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmActions.ts"}],[7827,{"../../../helpers/constants/routes":7154,"../context/confirm":7730,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConfirmSendNavigation=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),a=(e("react"),e("react-router-dom")),o=e("../context/confirm"),i=e("../../../helpers/constants/routes");const c=[r.TransactionType.simpleSend,r.TransactionType.tokenMethodTransfer,r.TransactionType.tokenMethodTransferFrom,r.TransactionType.tokenMethodSafeTransferFrom];n.useConfirmSendNavigation=()=>{const e=(0,s.c)(5),t=(0,a.useNavigate)(),{currentConfirmation:n}=(0,o.useConfirmContext)();let r;e[0]!==n||e[1]!==t?(r=()=>{const{origin:e,type:s}=n;"metamask"===e&&s&&c.includes(s)&&t(i.PREVIOUS_ROUTE)},e[0]=n,e[1]=t,e[2]=r):r=e[2];const l=r;let u;return e[3]!==l?(u={navigateBackIfSend:l},e[3]=l,e[4]=u):u=e[4],u}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmSendNavigation.ts"}],[7828,{"../../../components/app/confirm/info/row/constants":6153,"../../../hooks/ramps/useRamps/useRamps":7253,"../constants/gas":7725,"../context/confirm":7730,"../context/gas-fee-modal":7732,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-compiler-runtime"),a=(e("react"),e("@metamask/transaction-controller")),o=e("../../../components/app/confirm/info/row/constants"),i=(s=e("../../../hooks/ramps/useRamps/useRamps"))&&s.__esModule?s:{default:s},c=e("../context/gas-fee-modal"),l=e("../context/confirm"),u=e("../constants/gas");n.default=()=>{var e;const t=(0,r.c)(4),{openBuyCryptoInPdapp:n}=(0,i.default)(),{openGasFeeModal:s}=(0,c.useGasFeeModalContext)(),{currentConfirmation:d}=(0,l.useConfirmContext)();let m;var p;t[0]!==(null==d||null===(e=d.txParams)||void 0===e?void 0:e.type)||t[1]!==n||t[2]!==s?(m=e=>{e:switch(e){case o.AlertActionKey.Buy:n();break e;case o.AlertActionKey.ShowAdvancedGasFeeModal:{var t;const e=(null==d||null===(t=d.txParams)||void 0===t?void 0:t.type)===a.TransactionEnvelopeType.legacy?u.GasModalType.AdvancedGasPriceModal:u.GasModalType.AdvancedEIP1559Modal;s(e);break e}case o.AlertActionKey.ShowGasFeeModal:s(u.GasModalType.EstimatesModal);break e;default:console.error("Unknown alert action key:",e)}},t[0]=null==d||null===(p=d.txParams)||void 0===p?void 0:p.type,t[1]=n,t[2]=s,t[3]=m):m=t[3];return m}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationAlertActions.ts"}],[7829,{"../../../hooks/useAlerts":7279,"../context/confirm":7730,"../utils":7883,"./alerts/constants":7736,"./useSignatureEventFragment":7856,"./useTransactionEventFragment":7861,react:5358,"react-compiler-runtime":5272,uuid:5835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ALERTS_NAME_METRICS=void 0,n.useConfirmationAlertMetrics=function(){const e=(0,r.c)(21),{currentConfirmation:t}=(0,l.useConfirmContext)(),n=(null==t?void 0:t.id)??"",{alerts:s,isAlertConfirmed:o}=(0,i.default)(n);let u;e[0]!==s||e[1]!==o?(u=s.length>0?{alert_triggered_count:s.length,alert_triggered:h(s),alert_resolved_count:s.filter(e=>o(e.key)).length,alert_resolved:h(s.filter(e=>o(e.key)))}:undefined,e[0]=s,e[1]=o,e[2]=u):u=e[2];const p=u,{updateSignatureEventFragment:v}=(0,d.useSignatureEventFragment)(),{updateTransactionEventFragment:T}=(0,m.useTransactionEventFragment)();let y,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[3]=y):y=e[3];e[4]===Symbol.for("react.memo_cache_sentinel")?(_={alert_visualized:y,alert_visualized_count:0,alert_key_clicked:[],alert_action_clicked:[]},e[4]=_):_=e[4];const[k,S]=(0,a.useState)(_);let A;e[5]!==p||e[6]!==k?(A=p?{...p,...k}:undefined,e[5]=p,e[6]=k,e[7]=A):A=e[7];const w=A;let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E=e=>{S(t=>{const n={...t},s=g(e);return n.alert_visualized=f(t.alert_visualized,s),n.alert_visualized_count=n.alert_visualized.length,n})},e[8]=E):E=e[8];const x=E;let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=e=>{S(t=>{const n={...t},s=g(e);return n.alert_key_clicked=f(t.alert_key_clicked,s),n})},e[9]=C):C=e[9];const b=C;let P;e[10]===Symbol.for("react.memo_cache_sentinel")?(P=e=>{S(t=>{const n={...t},s=g(e);return n.alert_action_clicked=f(t.alert_action_clicked,s),n})},e[10]=P):P=e[10];const I=P;let N;e[11]!==t||e[12]!==n||e[13]!==w||e[14]!==v||e[15]!==T?(N=()=>{w&&((0,c.isSignatureTransactionType)(t)?v({properties:w}):T({properties:w},n))},e[11]=t,e[12]=n,e[13]=w,e[14]=v,e[15]=T,e[16]=N):N=e[16];const R=N;let M,F,O;e[17]!==R?(M=()=>{R()},F=[R],e[17]=R,e[18]=M,e[19]=F):(M=e[18],F=e[19]);(0,a.useEffect)(M,F),e[20]===Symbol.for("react.memo_cache_sentinel")?(O={trackAlertRender:x,trackInlineAlertClicked:b,trackAlertActionClicked:I},e[20]=O):O=e[20];return O};var s,r=e("react-compiler-runtime"),a=e("react"),o=e("uuid"),i=(s=e("../../../hooks/useAlerts"))&&s.__esModule?s:{default:s},c=e("../utils"),l=e("../context/confirm"),u=e("./alerts/constants"),d=e("./useSignatureEventFragment"),m=e("./useTransactionEventFragment");const p=n.ALERTS_NAME_METRICS={[u.AlertsName.GasEstimateFailed]:"gas_estimate_failed",[u.AlertsName.GasFeeLow]:"gas_fee_low",[u.AlertsName.GasTooLow]:"gas_too_low",[u.AlertsName.InsufficientBalance]:"insufficient_balance",[u.AlertsName.NetworkBusy]:"network_busy",[u.AlertsName.NoGasPrice]:"no_gas_price",[u.AlertsName.PendingTransaction]:"pending_transaction",[u.AlertsName.SigningOrSubmitting]:"signing_or_submitting",[u.AlertsName.Blockaid]:"blockaid"};function f(e,t){return[...new Set([...e,t])]}function h(e){return e.map(e=>g(e.key))}function g(e){return(0,o.validate)(e)?p[u.AlertsName.Blockaid]:p[e]??e}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationAlertMetrics.ts"}],[7830,{"./alerts/signatures/useAccountMismatchAlerts":7737,"./alerts/signatures/useDomainMismatchAlerts":7738,"./alerts/transactions/useAccountTypeUpgrade":7743,"./alerts/transactions/useBurnAddressAlert":7744,"./alerts/transactions/useFirstTimeInteractionAlert":7746,"./alerts/transactions/useGasEstimateFailedAlerts":7747,"./alerts/transactions/useGasFeeLowAlerts":7748,"./alerts/transactions/useGasTooLowAlerts":7749,"./alerts/transactions/useInsufficientBalanceAlerts":7750,"./alerts/transactions/useMultipleApprovalsAlerts":7751,"./alerts/transactions/useNoGasPriceAlerts":7752,"./alerts/transactions/useNonContractAddressAlerts":7753,"./alerts/transactions/usePendingTransactionAlerts":7754,"./alerts/transactions/useResimulationAlert":7755,"./alerts/transactions/useSigningOrSubmittingAlerts":7756,"./alerts/useAddEthereumChainAlerts":7757,"./alerts/useAddressTrustSignalAlerts":7758,"./alerts/useBlockaidAlerts":7759,"./alerts/useConfirmationOriginAlerts":7760,"./alerts/useNetworkAndOriginSwitchingAlerts":7761,"./alerts/useOriginTrustSignalAlerts":7762,"./alerts/useSelectedAccountAlerts":7763,"./alerts/useShieldCoverageAlert":7764,"./alerts/useSpenderAlerts":7765,"./alerts/useTokenTrustSignalAlerts":7766,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.c)(11),t=(0,T.default)(),n=(0,y.default)(),P=function(){const e=(0,s.c)(3),t=(0,r.default)(),n=(0,a.default)();let o;e[0]!==t||e[1]!==n?(o=[...t,...n],e[0]=t,e[1]=n,e[2]=o):o=e[2];return o}(),I=function(){const e=(0,s.c)(16),t=(0,o.useAccountTypeUpgrade)(),n=(0,b.useBurnAddressAlert)(),r=(0,i.useFirstTimeInteractionAlert)(),a=(0,c.useGasEstimateFailedAlerts)(),T=(0,l.useGasFeeLowAlerts)(),y=(0,u.useGasTooLowAlerts)(),_=(0,d.useInsufficientBalanceAlerts)(),k=(0,m.useMultipleApprovalsAlerts)(),S=(0,p.useNoGasPriceAlerts)(),A=(0,f.useNonContractAddressAlerts)(),w=(0,h.usePendingTransactionAlerts)(),C=(0,g.useResimulationAlert)(),P=(0,x.useShieldCoverageAlert)(),I=(0,v.useSigningOrSubmittingAlerts)(),N=(0,E.useTokenTrustSignalAlerts)();let R;e[0]!==t||e[1]!==n||e[2]!==r||e[3]!==a||e[4]!==T||e[5]!==y||e[6]!==_||e[7]!==k||e[8]!==S||e[9]!==A||e[10]!==w||e[11]!==C||e[12]!==P||e[13]!==I||e[14]!==N?(R=[...t,...n,...r,...a,...T,...y,..._,...k,...S,...A,...w,...C,...P,...I,...N],e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=T,e[5]=y,e[6]=_,e[7]=k,e[8]=S,e[9]=A,e[10]=w,e[11]=C,e[12]=P,e[13]=I,e[14]=N,e[15]=R):R=e[15];return R}(),N=(0,k.useSelectedAccountAlerts)(),R=(0,_.useNetworkAndOriginSwitchingAlerts)(),M=(0,S.useAddressTrustSignalAlerts)(),F=(0,A.useOriginTrustSignalAlerts)(),O=(0,w.useSpenderAlerts)(),D=(0,C.useAddEthereumChainAlerts)();let G;e[0]!==D||e[1]!==M||e[2]!==t||e[3]!==n||e[4]!==R||e[5]!==F||e[6]!==N||e[7]!==P||e[8]!==O||e[9]!==I?(G=[...t,...n,...P,...I,...N,...R,...M,...F,...O,...D],e[0]=D,e[1]=M,e[2]=t,e[3]=n,e[4]=R,e[5]=F,e[6]=N,e[7]=P,e[8]=O,e[9]=I,e[10]=G):G=e[10];return G};var s=e("react-compiler-runtime"),r=(e("react"),P(e("./alerts/signatures/useAccountMismatchAlerts"))),a=P(e("./alerts/signatures/useDomainMismatchAlerts")),o=e("./alerts/transactions/useAccountTypeUpgrade"),i=e("./alerts/transactions/useFirstTimeInteractionAlert"),c=e("./alerts/transactions/useGasEstimateFailedAlerts"),l=e("./alerts/transactions/useGasFeeLowAlerts"),u=e("./alerts/transactions/useGasTooLowAlerts"),d=e("./alerts/transactions/useInsufficientBalanceAlerts"),m=e("./alerts/transactions/useMultipleApprovalsAlerts"),p=e("./alerts/transactions/useNoGasPriceAlerts"),f=e("./alerts/transactions/useNonContractAddressAlerts"),h=e("./alerts/transactions/usePendingTransactionAlerts"),g=e("./alerts/transactions/useResimulationAlert"),v=e("./alerts/transactions/useSigningOrSubmittingAlerts"),T=P(e("./alerts/useBlockaidAlerts")),y=P(e("./alerts/useConfirmationOriginAlerts")),_=e("./alerts/useNetworkAndOriginSwitchingAlerts"),k=e("./alerts/useSelectedAccountAlerts"),S=e("./alerts/useAddressTrustSignalAlerts"),A=e("./alerts/useOriginTrustSignalAlerts"),w=e("./alerts/useSpenderAlerts"),E=e("./alerts/useTokenTrustSignalAlerts"),x=e("./alerts/useShieldCoverageAlert"),C=e("./alerts/useAddEthereumChainAlerts"),b=e("./alerts/transactions/useBurnAddressAlert");function P(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationAlerts.ts"}],[7831,{"../../../helpers/constants/routes":7154,"../../../selectors":8207,"../confirmation/templates":7714,"../utils":7883,"@metamask/controller-utils":1488,lodash:4940,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConfirmationRoute=p,n.useConfirmationNavigation=function(){const e=(0,s.c)(21),t=(0,r.useSelector)(d.selectPendingApprovalsForNavigation),n=(0,r.useSelector)(d.getApprovalFlows,i.isEqual),o=(0,a.useNavigate)(),{search:c}=(0,a.useLocation)(),l=t.length;let u;e[0]!==t?(u=e=>e?t.findIndex(t=>{const{id:n}=t;return n===e}):0,e[0]=t,e[1]=u):u=e[1];const m=u;let f;e[2]!==(null==n?void 0:n.length)||e[3]!==t||e[4]!==o||e[5]!==c?(f=e=>{const s=p(e,t,Boolean(null==n?void 0:n.length),c);s&&o(s,{replace:!0})},e[2]=null==n?void 0:n.length,e[3]=t,e[4]=o,e[5]=c,e[6]=f):f=e[6];null==n||n.length;const h=f;let g;e[7]!==t||e[8]!==h?(g=e=>{const n=t[e];h(null==n?void 0:n.id)},e[7]=t,e[8]=h,e[9]=g):g=e[9];const v=g;let T;e[10]!==t||e[11]!==m||e[12]!==v?(T=e=>{const n=t.filter(t=>t.id!==e);if(n.length>=1){const e=m(n[0].id);v(e)}},e[10]=t,e[11]=m,e[12]=v,e[13]=T):T=e[13];const y=T;let _;e[14]!==t||e[15]!==l||e[16]!==m||e[17]!==y||e[18]!==h||e[19]!==v?(_={confirmations:t,count:l,getIndex:m,navigateToId:h,navigateToIndex:v,navigateNext:y},e[14]=t,e[15]=l,e[16]=m,e[17]=y,e[18]=h,e[19]=v,e[20]=_):_=e[20];return _};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("react-router-dom"),o=e("@metamask/controller-utils"),i=e("lodash"),c=e("../confirmation/templates"),l=e("../../../helpers/constants/routes"),u=e("../utils"),d=e("../../../selectors");const m=[o.ApprovalType.WalletRequestPermissions,"wallet_installSnap","wallet_updateSnap","wallet_installSnapResult"];function p(e,t,n,s=""){var r;const a=(null==t?void 0:t.length)<=0||!e;if(n&&a)return l.CONFIRMATION_V_NEXT_ROUTE;if(a)return"";const i=t.find(t=>t.id===e);if(!i)return"";const d=i.type;if(c.TEMPLATED_CONFIRMATION_APPROVAL_TYPES.includes(d))return`${l.CONFIRMATION_V_NEXT_ROUTE}/${e}`;if((0,u.isSignatureTransactionType)(i))return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`;if(d===o.ApprovalType.Transaction){let t=`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`;return s.length&&(t=`${t}${s}`),t}if(d===o.ApprovalType.AddEthereumChain)return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`;if(d===o.ApprovalType.EthDecrypt)return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.DECRYPT_MESSAGE_REQUEST_PATH}`;if(d===o.ApprovalType.EthGetEncryptionPublicKey)return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`;if(m.includes(d))return`${l.CONNECT_ROUTE}/${e}`;const p=null==i||null===(r=i.requestData)||void 0===r||null===(r=r.asset)||void 0===r?void 0:r.tokenId;return d!==o.ApprovalType.WatchAsset||p?d===o.ApprovalType.WatchAsset&&p?l.CONFIRM_ADD_SUGGESTED_NFT_ROUTE:"":l.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationNavigation.ts"}],[7832,{"../../../../shared/constants/network":5896,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,"../context/confirm":7730,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../../shared/constants/network"),o=e("../../../hooks/useI18nContext"),i=e("../context/confirm"),c=e("../../../selectors");n.default=function(){const e=(0,s.c)(9),t=(0,o.useI18nContext)(),{currentConfirmation:n}=(0,i.useConfirmContext)(),l=null==n?void 0:n.chainId;let u;e[0]!==l?(u=e=>(0,c.selectNetworkConfigurationByChainId)(e,l),e[0]=l,e[1]=u):u=e[1];const d=(0,r.useSelector)(u);let m,p="",f="";if(n){let n;e[2]!==l||e[3]!==(null==d?void 0:d.name)||e[4]!==t?(n=(null==d?void 0:d.name)??a.NETWORK_TO_NAME_MAP[l]??t("privateNetwork"),e[2]=l,e[3]=null==d?void 0:d.name,e[4]=t,e[5]=n):n=e[5],p=n,f=a.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[l]}return e[6]!==p||e[7]!==f?(m={networkImageUrl:f,networkDisplayName:p},e[6]=p,e[7]=f,e[8]=m):m=e[8],m}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationNetworkInfo.ts"}],[7833,{"../../../selectors":8207,"../../../selectors/multichain-accounts/account-tree":8211,"../components/confirm/utils":7595,"../context/confirm":7730,"../selectors/accounts":7867,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../selectors"),o=e("../components/confirm/utils"),i=e("../context/confirm"),c=e("../selectors/accounts"),l=e("../../../selectors/multichain-accounts/account-tree");n.default=function(){const e=(0,s.c)(16),{currentConfirmation:t}=(0,i.useConfirmContext)(),n=(0,r.useSelector)(a.getIsMultichainAccountsState2Enabled);let u;e[0]!==t?(u=(0,o.getConfirmationSender)(t),e[0]=t,e[1]=u):u=e[1];const{from:d}=u,m=d??"";let p;e[2]!==m?(p=e=>(0,c.selectAccountGroupNameByInternalAccount)(e,m),e[2]=m,e[3]=p):p=e[3];const f=(0,r.useSelector)(p);let h;e[4]!==m?(h=e=>(0,c.selectInternalAccountNameByAddress)(e,m),e[4]=m,e[5]=h):h=e[5];const g=(0,r.useSelector)(h);let v;e[6]!==m?(v=e=>(0,l.getWalletIdAndNameByAccountAddress)(e,m),e[6]=m,e[7]=v):v=e[7];const T=(0,r.useSelector)(v),y=(0,r.useSelector)(l.getWalletsWithAccounts),_=n?f:g;let k;e[8]!==y?(k=Object.keys(y),e[8]=y,e[9]=k):k=e[9];const S=k.length>1,A=_??"",w=(null==T?void 0:T.name)??"";let E;return e[10]!==S||e[11]!==n||e[12]!==m||e[13]!==A||e[14]!==w?(E={hasMoreThanOneWallet:S,isBIP44:n,senderAddress:m,senderName:A,walletName:w},e[10]=S,e[11]=n,e[12]=m,e[13]=A,e[14]=w,e[15]=E):E=e[15],E}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationRecipientInfo.ts"}],[7834,{"../../../../shared/lib/confirmation.utils":5928,"../../../selectors":8207,"../../../selectors/signatures":8231,"@metamask/controller-utils":1488,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/controller-utils"),a=(e("react"),e("react-redux")),o=e("react-router-dom"),i=e("../../../selectors"),c=e("../../../selectors/signatures"),l=e("../../../../shared/lib/confirmation.utils");n.default=e=>{const t=(0,s.c)(11),{id:n}=(0,o.useParams)(),u=(0,a.useSelector)(i.oldestPendingConfirmationSelector),d=e??n??(null==u?void 0:u.id);let m;t[0]!==d?(m=e=>(0,i.selectPendingApproval)(e,d),t[0]=d,t[1]=m):m=t[1];const p=(0,a.useSelector)(m);let f;t[2]!==d?(f=e=>(0,i.getUnapprovedTransaction)(e,d),t[2]=d,t[3]=f):f=t[3];const h=(0,a.useSelector)(f);let g;t[4]!==d?(g=e=>(0,c.selectUnapprovedMessage)(e,d),t[4]=d,t[5]=g):g=t[5];const v=(0,a.useSelector)(g),T=(0,l.shouldUseRedesignForSignatures)({approvalType:null==p?void 0:p.type}),y=(0,l.shouldUseRedesignForTransactions)({transactionMetadataType:null==h?void 0:h.type}),_=T||y;let k;e:{if((null==p?void 0:p.type)===r.ApprovalType.AddEthereumChain){let e;t[6]!==p?(e={currentConfirmation:p},t[6]=p,t[7]=e):e=t[7],k=e;break e}if(!_){let e;t[8]===Symbol.for("react.memo_cache_sentinel")?(e={currentConfirmation:undefined},t[8]=e):e=t[8],k=e;break e}const e=h??v??undefined;let n;t[9]!==e?(n={currentConfirmation:e},t[9]=e,t[10]=n):n=t[10],k=n}return k}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useCurrentConfirmation.ts"}],[7835,{"../context/confirm":7730,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../context/confirm");n.default=()=>{var e;const t=(0,s.c)(2),{currentConfirmation:n}=(0,a.useConfirmContext)(),o=null==n||null===(e=n.securityAlertResponse)||void 0===e?void 0:e.securityAlertId;let i;t[0]!==o?(i=e=>{var t;if(o!==undefined)return null===(t=e.metamask.signatureSecurityAlertResponses)||void 0===t?void 0:t[o]},t[0]=o,t[1]=i):i=t[1];return(0,r.useSelector)(i)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useCurrentSignatureSecurityAlertResponse.ts"}],[7836,{"../components/simulation-details/useLoadingTime":7684,"../context/confirm":7730,"./useSignatureEventFragment":7856,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDecodedSignatureMetrics=function(e){var t,n;const u=(0,s.c)(18),{updateSignatureEventFragment:d}=(0,i.useSignatureEventFragment)(),{currentConfirmation:m}=(0,a.useConfirmContext)(),{loadingTime:p,setLoadingComplete:f}=(0,o.useLoadingTime)(),{decodingLoading:h,decodingData:g}=m;!1===h&&f();let v,T;u[0]!==(null==g?void 0:g.stateChanges)?(v=(null==g?void 0:g.stateChanges)??[],u[0]=null==g?void 0:g.stateChanges,u[1]=v):v=u[1];u[2]!==v?(T=v.map(l),u[2]=v,u[3]=T):T=u[3];const y=T,_=(null==g||null===(t=g.error)||void 0===t?void 0:t.type)??(y.length?c.Change:c.NoChange);let k,S;if(u[4]!==y||u[5]!==(null==g||null===(n=g.error)||void 0===n?void 0:n.message)||u[6]!==h||u[7]!==_||u[8]!==p||u[9]!==e||u[10]!==d){var A;k=()=>{var t;e&&d(h?{properties:{decoding_response:c.InProgress}}:{properties:{decoding_change_types:y,decoding_description:(null==g||null===(t=g.error)||void 0===t?void 0:t.message)??null,decoding_latency:p??null,decoding_response:_}})},u[4]=y,u[5]=null==g||null===(A=g.error)||void 0===A?void 0:A.message,u[6]=h,u[7]=_,u[8]=p,u[9]=e,u[10]=d,u[11]=k}else k=u[11];u[12]!==y||u[13]!==h||u[14]!==_||u[15]!==p||u[16]!==d?(S=[_,h,y,p,d],u[12]=y,u[13]=h,u[14]=_,u[15]=p,u[16]=d,u[17]=S):S=u[17];(0,r.useEffect)(k,S)};var s=e("react-compiler-runtime"),r=e("react"),a=e("../context/confirm"),o=e("../components/simulation-details/useLoadingTime"),i=e("./useSignatureEventFragment"),c=function(e){return e.Change="CHANGE",e.NoChange="NO_CHANGE",e.InProgress="decoding_in_progress",e}(c||{});function l(e){return e.changeType}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useDecodedSignatureMetrics.ts"}],[7837,{lodash:4940,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDeepMemo=function(e,t){const n=(0,r.useRef)(undefined),a=(0,r.useRef)();(0,s.isEqual)(n.current,t)||(n.current=t,a.current=e());return a.current};var s=e("lodash"),r=e("react")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useDeepMemo.ts"}],[7838,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDraftTransactionWithTxParams=void 0;n.useDraftTransactionWithTxParams=()=>({})}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js"}],[7839,{"../../../../shared/lib/eip7702-utils":5969,"../../../selectors":8207,"../../../store/actions":8241,"./useConfirmationNavigation":7831,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EIP_7702_REVOKE_ADDRESS",{enumerable:!0,get:function(){return o.EIP_7702_REVOKE_ADDRESS}}),n.useEIP7702Account=function(e){const t=(0,s.c)(25);let n;t[0]!==e?(n=e===undefined?{chainId:"0x"}:e,t[0]=e,t[1]=n):n=t[1];const{chainId:u,onRedirect:d}=n,m=(0,a.useDispatch)(),[p,f]=(0,r.useState)(),{confirmations:h,navigateToId:g}=(0,l.useConfirmationNavigation)(),v=(0,a.useSelector)(e=>(0,c.selectDefaultRpcEndpointByChainId)(e,u))??{defaultRpcEndpoint:{}},{networkClientId:T}=v;let y;if(t[2]!==h||t[3]!==p){let e;t[5]!==p?(e=e=>e.id===p,t[5]=p,t[6]=e):e=t[6],y=h.some(e),t[2]=h,t[3]=p,t[4]=y}else y=t[4];const _=y;let k;t[7]!==m||t[8]!==T?(k=async e=>{const t=await(0,o.createEIP7702DowngradeTransaction)({address:e,networkClientId:T},async(e,t)=>await m((0,i.addTransactionAndRouteToConfirmationPage)(e,t)));f(t.transactionId)},t[7]=m,t[8]=T,t[9]=k):k=t[9];const S=k;let A;t[10]!==m||t[11]!==T?(A=async(e,t)=>{const n=await(0,o.createEIP7702UpgradeTransaction)({address:e,upgradeContractAddress:t,networkClientId:T},async(e,t)=>await m((0,i.addTransactionAndRouteToConfirmationPage)(e,t)));f(n.transactionId)},t[10]=m,t[11]=T,t[12]=A):A=t[12];const w=A;let E;t[13]!==T?(E=async e=>(0,o.isAccountUpgraded)(e,T,i.getCode),t[13]=T,t[14]=E):E=t[14];const x=E;let C,b,P;t[15]!==_||t[16]!==g||t[17]!==d||t[18]!==p?(C=()=>{_&&(g(p),null==d||d())},b=[_,g,p,d],t[15]=_,t[16]=g,t[17]=d,t[18]=p,t[19]=C,t[20]=b):(C=t[19],b=t[20]);(0,r.useEffect)(C,b),t[21]!==S||t[22]!==x||t[23]!==w?(P={isUpgraded:x,downgradeAccount:S,upgradeAccount:w},t[21]=S,t[22]=x,t[23]=w,t[24]=P):P=t[24];return P};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("../../../../shared/lib/eip7702-utils"),i=e("../../../store/actions"),c=e("../../../selectors"),l=e("./useConfirmationNavigation")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useEIP7702Account.ts"}],[7840,{"../../../../shared/constants/keyring":5888,"../../../../shared/constants/network":5896,"../../../../shared/modules/network.utils":6027,"../../../hooks/useAsync":7281,"../../../selectors":8207,"../../../store/controller-actions/transaction-controller":8245,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEIP7702Networks=void 0;var s=e("react"),r=e("react-redux"),a=e("../../../../shared/constants/keyring"),o=e("../../../../shared/constants/network"),i=e("../../../../shared/modules/network.utils"),c=e("../../../selectors"),l=e("../../../hooks/useAsync"),u=e("../../../store/controller-actions/transaction-controller");n.useEIP7702Networks=e=>{var t;const n=(0,r.useSelector)(t=>(0,c.getInternalAccountByAddress)(t,e)),d=null==n||null===(t=n.metadata)||void 0===t||null===(t=t.keyring)||void 0===t?void 0:t.type,m=d&&a.KEYRING_TYPES_SUPPORTING_7702.includes(d),[p]=(0,r.useSelector)(c.getMultichainNetworkConfigurationsByChainId),[f={},h={}]=(0,s.useMemo)(()=>m?Object.entries(p).reduce(([e,t],[n,s])=>{try{const r=s.isEvm?(0,i.convertCaipToHexChainId)(n):n;(o.TEST_CHAINS.includes(r)?t:e)[r]=s}catch(e){}return[e,t]},[{},{}]):[{},{}],[m,p]),g=(0,s.useMemo)(()=>({...f,...h}),[f,h]),{pending:v,value:T}=(0,l.useAsyncResult)(async()=>{if(!m)return[];const t=Object.keys(g);return await(0,u.isAtomicBatchSupported)({address:e,chainIds:t})},[e,m,g]),y=(0,s.useMemo)(()=>{if(!T||!m)return[];const e=[];return Object.values(g).forEach(t=>{try{const n=(0,i.convertCaipToHexChainId)(t.chainId),s=T.find(({chainId:e})=>e===n);s&&e.push({...s,...t,chainIdHex:n})}catch(e){}}),e.sort((e,t)=>parseInt(e.chainIdHex,16)-parseInt(t.chainIdHex,16)),e},[m,g,T]);return{network7702List:y,networkSupporting7702Present:(null==y?void 0:y.length)>0,pending:v&&m}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useEIP7702Networks.ts"}],[7841,{"../../../../shared/constants/gas":5885,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/gas.utils":6022,"../../../helpers/constants/common":7147,"../../../helpers/utils/transactions.util":7204,"../../../hooks/useCurrencyDisplay":7287,"../../../hooks/useUserPreferencedCurrency":7347,"../../../selectors":8207,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasEstimates=function(e){const t=(0,s.c)(19),{editGasMode:n,gasEstimateType:p,gasFeeEstimates:f,gasLimit:h,gasPrice:g,maxFeePerGas:v,maxPriorityFeePerGas:T,minimumGasLimit:y,transaction:_}=e,k=(0,r.useSelector)(e=>(0,c.checkNetworkAndAccountSupports1559)(e,null==_?void 0:_.networkClientId))&&!(0,l.isLegacyTransaction)(null==_?void 0:_.txParams),{currency:S,numberOfDecimals:A}=(0,d.useUserPreferencedCurrency)(i.PRIMARY);let w,E;if(t[0]!==n||t[1]!==p||t[2]!==(null==f?void 0:f.estimatedBaseFee)||t[3]!==h||t[4]!==g||t[5]!==v||t[6]!==T||t[7]!==y||t[8]!==k||t[9]!==(null==_?void 0:_.gasLimitNoBuffer)){let e={gasLimit:(0,m.decimalToHex)(h),gasLimitNoBuffer:null==_?void 0:_.gasLimitNoBuffer};e=k?{...e,maxFeePerGas:(0,m.decGWEIToHexWEI)(v||g||"0"),maxPriorityFeePerGas:(0,m.decGWEIToHexWEI)(T||v||g||"0"),baseFeePerGas:(0,m.decGWEIToHexWEI)((null==f?void 0:f.estimatedBaseFee)??"0")}:{...e,gasPrice:p===a.GasEstimateTypes.none?"0x0":(0,m.decGWEIToHexWEI)(g)},w=(0,o.getMaximumGasTotalInHexWei)(e),n===a.EditGasModes.swaps&&(e={...e,gasLimit:y}),E=(0,o.getMinimumGasTotalInHexWei)(e),t[0]=n,t[1]=p,t[2]=null==f?void 0:f.estimatedBaseFee,t[3]=h,t[4]=g,t[5]=v,t[6]=T,t[7]=y,t[8]=k,t[9]=null==_?void 0:_.gasLimitNoBuffer,t[10]=w,t[11]=E}else w=t[10],E=t[11];const x=E;let C;t[12]!==S||t[13]!==A?(C={numberOfDecimals:A,currency:S},t[12]=S,t[13]=A,t[14]=C):C=t[14];const[b]=(0,u.useCurrencyDisplay)(x,C,null==_?void 0:_.chainId);let P;t[15]!==b||t[16]!==w||t[17]!==x?(P={estimatedMinimumNative:b,maximumCostInHexWei:w,minimumCostInHexWei:x},t[15]=b,t[16]=w,t[17]=x,t[18]=P):P=t[18];return P};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../../shared/constants/gas"),o=e("../../../../shared/modules/gas.utils"),i=e("../../../helpers/constants/common"),c=e("../../../selectors"),l=e("../../../helpers/utils/transactions.util"),u=e("../../../hooks/useCurrencyDisplay"),d=e("../../../hooks/useUserPreferencedCurrency"),m=e("../../../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasEstimates.js"}],[7842,{"../../../../shared/constants/gas":5885,"../../../../shared/modules/Numeric":6008,"../../../helpers/constants/gas":7151,"../../../helpers/constants/transactions":7160,"../../../helpers/utils/transactions.util":7204,"../../../helpers/utils/util":7207,"../../../selectors":8207,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeErrors=function(e){var t;const n=(0,s.c)(51),{gasEstimateType:l,gasFeeEstimates:u,isGasEstimatesLoading:d,gasLimit:_,gasPrice:k,maxPriorityFeePerGas:S,maxFeePerGas:A,minimumCostInHexWei:w,minimumGasLimit:E,transaction:x}=e,C=(0,r.useSelector)(i.checkNetworkAndAccountSupports1559)&&!(0,c.isLegacyTransaction)(null==x?void 0:x.txParams),b=l===o.GasEstimateTypes.feeMarket;let P;n[0]!==_||n[1]!==E?(P=p(_,E),n[0]=_,n[1]=E,n[2]=P):P=n[2];const I=P;let N,R,M,F,O;if(n[3]!==u||n[4]!==k||n[5]!==b||n[6]!==d||n[7]!==A||n[8]!==S||n[9]!==C||n[10]!==x){let e,t;M=f(S,C),R=h(A,M,S,C),n[16]!==k||n[17]!==b||n[18]!==C||n[19]!==x?(e=g(b,k,C,x),n[16]=k,n[17]=b,n[18]=C,n[19]=x,n[20]=e):e=n[20],N=e,n[21]!==u||n[22]!==b||n[23]!==d||n[24]!==S||n[25]!==C?(t=v(u,b,d,S,C),n[21]=u,n[22]=b,n[23]=d,n[24]=S,n[25]=C,n[26]=t):t=n[26],F=t,O=T(u,d,b,R,M,A,C),n[3]=u,n[4]=k,n[5]=b,n[6]=d,n[7]=A,n[8]=S,n[9]=C,n[10]=x,n[11]=N,n[12]=R,n[13]=M,n[14]=F,n[15]=O}else N=n[11],R=n[12],M=n[13],F=n[14],O=n[15];const D=O;let G;n[27]!==I||n[28]!==N||n[29]!==R||n[30]!==M?(G={},I&&(G.gasLimit=I),M&&(G.maxPriorityFee=M),R&&(G.maxFee=R),N&&(G.gasPrice=N),n[27]=I,n[28]=N,n[29]=R,n[30]=M,n[31]=G):G=n[31];const B=G;let L;n[32]!==D||n[33]!==F?(L={},F&&(L.maxPriorityFee=F),D&&(L.maxFee=D),n[32]=D,n[33]=F,n[34]=L):L=n[34];const $=L;let j;n[35]!==B?(j=Object.keys(B),n[35]=B,n[36]=j):j=n[36];const U=Boolean(j.length);let W;n[37]!==B||n[38]!==$?(W={...$,...B},n[37]=B,n[38]=$,n[39]=W):W=n[39];const H=W;let V;if(n[40]!==(null==x||null===(t=x.txParams)||void 0===t?void 0:t.from)){var q;V=e=>{var t;return(0,i.getTargetAccount)(e,null==x||null===(t=x.txParams)||void 0===t?void 0:t.from)},n[40]=null==x||null===(q=x.txParams)||void 0===q?void 0:q.from,n[41]=V}else V=n[41];const z=(0,r.useSelector)(V,r.shallowEqual);let K;n[42]!==z||n[43]!==w||n[44]!==x?(K=z!==undefined&&(null==x?void 0:x.type)!==a.TransactionType.incoming&&(null==x?void 0:x.status)in m.PENDING_STATUS_HASH&&y(w,x,z.balance),n[42]=z,n[43]=w,n[44]=x,n[45]=K):K=n[45];const Q=K,Y=Boolean(null==x?void 0:x.simulationFails);let Z;n[46]!==Q||n[47]!==H||n[48]!==U||n[49]!==Y?(Z={gasErrors:H,hasGasErrors:U,balanceError:Q,hasSimulationError:Y},n[46]=Q,n[47]=H,n[48]=U,n[49]=Y,n[50]=Z):Z=n[50];return Z};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("@metamask/transaction-controller"),o=e("../../../../shared/constants/gas"),i=e("../../../selectors"),c=e("../../../helpers/utils/transactions.util"),l=e("../../../helpers/utils/util"),u=e("../../../helpers/constants/gas"),d=e("../../../../shared/modules/Numeric"),m=e("../../../helpers/constants/transactions");const p=(e,t)=>new d.Numeric(e,10).lessThan(new d.Numeric(t||o.GAS_LIMITS.SIMPLE,16))?u.GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS:undefined,f=(e,t)=>t&&(0,l.bnLessThan)(e,0)?u.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_BELOW_MINIMUM:undefined,h=(e,t,n,s)=>t||!s?undefined:(0,l.bnGreaterThan)(n,e)?u.GAS_FORM_ERRORS.MAX_FEE_IMBALANCE:undefined,g=(e,t,n,s)=>{var r;return n&&e?undefined:(!n||null!=s&&null!==(r=s.txParams)&&void 0!==r&&r.gasPrice)&&(0,l.bnLessThan)(t||0,0)?u.GAS_FORM_ERRORS.GAS_PRICE_TOO_LOW:undefined},v=(e,t,n,s,r)=>{var a;return r&&t&&!n?(0,l.bnLessThan)(s,null==e||null===(a=e.low)||void 0===a?void 0:a.suggestedMaxPriorityFeePerGas)?u.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW:null!=e&&e.high&&(0,l.bnGreaterThan)(s,1.5*e.high.suggestedMaxPriorityFeePerGas)?u.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_HIGH_WARNING:undefined:undefined},T=(e,t,n,s,r,a,o)=>{var i;return r||s||!n||!o||t?undefined:(0,l.bnLessThan)(a,null==e||null===(i=e.low)||void 0===i?void 0:i.suggestedMaxFeePerGas)?u.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW:null!=e&&e.high&&(0,l.bnGreaterThan)(a,1.5*e.high.suggestedMaxFeePerGas)?u.GAS_FORM_ERRORS.MAX_FEE_HIGH_WARNING:undefined},y=(e,t,n)=>{var s;if(e===undefined||n===undefined)return!1;const r=new d.Numeric(e,16).add(new d.Numeric((null==t||null===(s=t.txParams)||void 0===s?void 0:s.value)||"0x0",16)),a=new d.Numeric(n,16);return r.greaterThan(a)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasFeeErrors.js"}],[7843,{"../../../../shared/constants/common":5879,"../../../../shared/constants/gas":5885,"../../../../shared/modules/Numeric":6008,"../../../../shared/modules/conversion.utils":6015,"../../../helpers/constants/gas":7151,"../../../helpers/utils/gas":7180,"../../../helpers/utils/transactions.util":7204,"../../../hooks/useGasFeeEstimates":7298,"../../../selectors":8207,"./useGasEstimates":7841,"./useGasFeeErrors":7842,"./useGasPriceInput":7844,"./useMaxFeePerGasInput":7851,"./useMaxPriorityFeePerGasInput":7852,"./useTransactionFunctions":7863,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeInputs=function(e,t,n,S){var A,w,E,x,C,b,P;const I=(0,s.c)(122),N=e===undefined?o.GasRecommendations.medium:e,R=n===undefined?"0x5208":n,M=S===undefined?o.EditGasModes.modifyInPlace:S,F=null==t?void 0:t.txParams,O=null==t?void 0:t.id,D=null==t?void 0:t.userFeeLevel,G=null==t?void 0:t.originalGasEstimate,B=null==t?void 0:t.userEditedGasLimit;let L;I[0]!==(null==t?void 0:t.previousGas)||I[1]!==F||I[2]!==O||I[3]!==D||I[4]!==G||I[5]!==B?(L={txParams:F,id:O,userFeeLevel:D,originalGasEstimate:G,userEditedGasLimit:B},null!=t&&t.previousGas&&(L.previousGas=null==t?void 0:t.previousGas),I[0]=null==t?void 0:t.previousGas,I[1]=F,I[2]=O,I[3]=D,I[4]=G,I[5]=B,I[6]=L):L=I[6];const[$,j]=(0,r.useState)(L);let U;I[7]!==t||I[8]!==M||I[9]!==$?(U=(0,d.editGasModeIsSpeedUpOrCancel)(M)?$:t,I[7]=t,I[8]=M,I[9]=$,I[10]=U):U=I[10];const W=U;let H;I[11]!==(null==W?void 0:W.chainId)?(H=e=>(0,c.selectNetworkConfigurationByChainId)(e,null==W?void 0:W.chainId),I[11]=null==W?void 0:W.chainId,I[12]=H):H=I[12];const V=(0,a.useSelector)(H),q=null==V||null===(A=V.rpcEndpoints)||void 0===A||null===(A=A[null==V?void 0:V.defaultRpcEndpointIndex])||void 0===A?void 0:A.networkClientId,z=(0,a.useSelector)(c.checkNetworkAndAccountSupports1559)&&!(0,l.isLegacyTransaction)(null==W?void 0:W.txParams),{gasEstimateType:K,gasFeeEstimates:Q,isGasEstimatesLoading:Y,isNetworkBusy:Z}=(0,u.useGasFeeEstimates)(q),J=(0,a.useSelector)(c.getAdvancedInlineGasShown);let X;I[13]!==N||I[14]!==W||I[15]!==J?(X=()=>{var e,t;return J&&null!=W&&null!==(e=W.txParams)&&void 0!==e&&e.maxPriorityFeePerGas&&null!=W&&null!==(t=W.txParams)&&void 0!==t&&t.maxFeePerGas?null:W?(null==W?void 0:W.userFeeLevel)||null:N},I[13]=N,I[14]=W,I[15]=J,I[16]=X):X=I[16];const[ee,te]=(0,r.useState)(X);let ne;I[17]!==ee?(ne=()=>ee||o.PriorityLevels.custom,I[17]=ee,I[18]=ne):ne=I[18];const[se,re]=(0,r.useState)(ne);let ae;if(I[19]!==(null==W||null===(w=W.txParams)||void 0===w?void 0:w.gas)||I[20]!==(null==W||null===(E=W.txParams)||void 0===E?void 0:E.gasLimit)){var oe,ie;ae=()=>{var e,t;return Number((0,m.hexToDecimal)((null==W||null===(e=W.txParams)||void 0===e?void 0:e.gasLimit)??(null==W||null===(t=W.txParams)||void 0===t?void 0:t.gas)??"0x0"))},I[19]=null==W||null===(oe=W.txParams)||void 0===oe?void 0:oe.gas,I[20]=null==W||null===(ie=W.txParams)||void 0===ie?void 0:ie.gasLimit,I[21]=ae}else ae=I[21];const[ce,le]=(0,r.useState)(ae),ue=null==W?void 0:W.originalGasEstimate;let de;I[22]!==ue?(de=(0,m.hexToDecimal)(ue),I[22]=ue,I[23]=de):de=I[23];const me=Number(de);let pe,fe,he;if(I[24]!==z||I[25]!==(null==W||null===(x=W.txParams)||void 0===x?void 0:x.gas)||I[26]!==(null==W||null===(C=W.txParams)||void 0===C?void 0:C.gasLimit)||I[27]!==(null==W||null===(b=W.txParams)||void 0===b?void 0:b.maxFeePerGas)||I[28]!==(null==W?void 0:W.userFeeLevel)){var ge,ve,Te;pe=()=>{if(z){var e,t,n,s;null!=W&&W.userFeeLevel&&te(null==W?void 0:W.userFeeLevel);const r=new p.Numeric((null==W||null===(e=W.txParams)||void 0===e?void 0:e.gas)??"0x0",16).times(new p.Numeric((null==W||null===(t=W.txParams)||void 0===t?void 0:t.maxFeePerGas)??"0x0",16)).toPrefixedHexString(),a=new p.Numeric(r,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toBase(10).toString();Number(a)>Number(k)?re(o.PriorityLevels.dappSuggestedHigh):null!=W&&W.userFeeLevel&&re(null==W?void 0:W.userFeeLevel),le(Number((0,m.hexToDecimal)((null==W||null===(n=W.txParams)||void 0===n?void 0:n.gasLimit)??(null==W||null===(s=W.txParams)||void 0===s?void 0:s.gas)??"0x0")))}},I[24]=z,I[25]=null==W||null===(ge=W.txParams)||void 0===ge?void 0:ge.gas,I[26]=null==W||null===(ve=W.txParams)||void 0===ve?void 0:ve.gasLimit,I[27]=null==W||null===(Te=W.txParams)||void 0===Te?void 0:Te.maxFeePerGas,I[28]=null==W?void 0:W.userFeeLevel,I[29]=pe}else pe=I[29];I[30]!==z||I[31]!==W?(fe=[re,le,te,z,W],I[30]=z,I[31]=W,I[32]=fe):fe=I[32];(0,r.useEffect)(pe,fe),I[33]!==ee||I[34]!==K||I[35]!==Q||I[36]!==W?(he={estimateToUse:ee,gasEstimateType:K,gasFeeEstimates:Q,transaction:W},I[33]=ee,I[34]=K,I[35]=Q,I[36]=W,I[37]=he):he=I[37];const{gasPrice:ye,setGasPrice:_e,setGasPriceHasBeenManuallySet:ke}=(0,g.useGasPriceInput)(he);let Se;I[38]!==ee||I[39]!==K||I[40]!==Q||I[41]!==W?(Se={estimateToUse:ee,gasEstimateType:K,gasFeeEstimates:Q,transaction:W},I[38]=ee,I[39]=K,I[40]=Q,I[41]=W,I[42]=Se):Se=I[42];const{maxFeePerGas:Ae,setMaxFeePerGas:we}=(0,v.useMaxFeePerGasInput)(Se);let Ee;I[43]!==ee||I[44]!==K||I[45]!==Q||I[46]!==W?(Ee={estimateToUse:ee,gasEstimateType:K,gasFeeEstimates:Q,transaction:W},I[43]=ee,I[44]=K,I[45]=Q,I[46]=W,I[47]=Ee):Ee=I[47];const{maxPriorityFeePerGas:xe,setMaxPriorityFeePerGas:Ce}=(0,T.useMaxPriorityFeePerGasInput)(Ee);let be;I[48]!==M||I[49]!==K||I[50]!==Q||I[51]!==ce||I[52]!==ye||I[53]!==Ae||I[54]!==xe||I[55]!==R||I[56]!==W?(be={editGasMode:M,gasEstimateType:K,gasFeeEstimates:Q,gasLimit:ce,gasPrice:ye,maxFeePerGas:Ae,maxPriorityFeePerGas:xe,minimumGasLimit:R,transaction:W},I[48]=M,I[49]=K,I[50]=Q,I[51]=ce,I[52]=ye,I[53]=Ae,I[54]=xe,I[55]=R,I[56]=W,I[57]=be):be=I[57];const{estimatedMinimumNative:Pe,maximumCostInHexWei:Ie,minimumCostInHexWei:Ne}=(0,y.useGasEstimates)(be);let Re;I[58]!==K||I[59]!==Q||I[60]!==ce||I[61]!==ye||I[62]!==Y||I[63]!==Ae||I[64]!==xe||I[65]!==Ne||I[66]!==R||I[67]!==W?(Re={gasEstimateType:K,gasFeeEstimates:Q,isGasEstimatesLoading:Y,gasLimit:ce,gasPrice:ye,maxPriorityFeePerGas:xe,maxFeePerGas:Ae,minimumCostInHexWei:Ne,minimumGasLimit:R,transaction:W},I[58]=K,I[59]=Q,I[60]=ce,I[61]=ye,I[62]=Y,I[63]=Ae,I[64]=xe,I[65]=Ne,I[66]=R,I[67]=W,I[68]=Re):Re=I[68];const{balanceError:Me,gasErrors:Fe,hasGasErrors:Oe,hasSimulationError:De}=(0,h.useGasFeeErrors)(Re);let Ge;if(I[69]!==Fe.gasLimit||I[70]!==R||I[71]!==(null==W||null===(P=W.txParams)||void 0===P?void 0:P.gas)){var Be;Ge=()=>{if(Fe.gasLimit===i.GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS){var e;const t=(0,m.hexToDecimal)(null==W||null===(e=W.txParams)||void 0===e?void 0:e.gas),n=(0,m.hexToDecimal)(R);le(t>n?t:n)}},I[69]=Fe.gasLimit,I[70]=R,I[71]=null==W||null===(Be=W.txParams)||void 0===Be?void 0:Be.gas,I[72]=Ge}else Ge=I[72];const Le=Ge;let $e;I[73]!==N||I[74]!==M||I[75]!==Q||I[76]!==ce||I[77]!==xe||I[78]!==R||I[79]!==W?($e={defaultEstimateToUse:N,editGasMode:M,gasFeeEstimates:Q,gasLimit:ce,maxPriorityFeePerGas:xe,minimumGasLimit:R,transaction:W,setRetryTxMeta:j},I[73]=N,I[74]=M,I[75]=Q,I[76]=ce,I[77]=xe,I[78]=R,I[79]=W,I[80]=$e):$e=I[80];const{cancelTransaction:je,speedUpTransaction:Ue,updateTransaction:We,updateTransactionToTenPercentIncreasedGasFee:He,updateTransactionUsingDAPPSuggestedValues:Ve,updateTransactionUsingEstimate:qe}=(0,_.useTransactionFunctions)($e);let ze;I[81]!==ce||I[82]!==ye||I[83]!==Le||I[84]!==Ae||I[85]!==xe||I[86]!==_e||I[87]!==ke||I[88]!==we||I[89]!==Ce?(ze=()=>{te(o.CUSTOM_GAS_ESTIMATE),Le(),_e(ye),le(ce),we(Ae),Ce(xe),ke(!0),re("custom")},I[81]=ce,I[82]=ye,I[83]=Le,I[84]=Ae,I[85]=xe,I[86]=_e,I[87]=ke,I[88]=we,I[89]=Ce,I[90]=ze):ze=I[90];const Ke=ze;let Qe,Ye;I[91]!==R?(Qe=(0,m.hexToDecimal)(R),I[91]=R,I[92]=Qe):Qe=I[92];I[93]!==Me||I[94]!==je||I[95]!==M||I[96]!==ee||I[97]!==se||I[98]!==Pe||I[99]!==Fe||I[100]!==Q||I[101]!==ce||I[102]!==ye||I[103]!==Oe||I[104]!==De||I[105]!==Z||I[106]!==Ae||I[107]!==xe||I[108]!==Ie||I[109]!==Ne||I[110]!==Ke||I[111]!==me||I[112]!==_e||I[113]!==Ue||I[114]!==z||I[115]!==Qe||I[116]!==W||I[117]!==We||I[118]!==He||I[119]!==Ve||I[120]!==qe?(Ye={transaction:W,maxFeePerGas:Ae,maxPriorityFeePerGas:xe,gasPrice:ye,setGasPrice:_e,gasLimit:ce,setGasLimit:le,properGasLimit:me,editGasMode:M,estimateToUse:ee,estimatedMinimumNative:Pe,maximumCostInHexWei:Ie,minimumCostInHexWei:Ne,estimateUsed:se,gasFeeEstimates:Q,isNetworkBusy:Z,onManualChange:Ke,balanceError:Me,gasErrors:Fe,hasGasErrors:Oe,hasSimulationError:De,minimumGasLimitDec:Qe,supportsEIP1559:z,cancelTransaction:je,speedUpTransaction:Ue,updateTransaction:We,updateTransactionToTenPercentIncreasedGasFee:He,updateTransactionUsingDAPPSuggestedValues:Ve,updateTransactionUsingEstimate:qe},I[93]=Me,I[94]=je,I[95]=M,I[96]=ee,I[97]=se,I[98]=Pe,I[99]=Fe,I[100]=Q,I[101]=ce,I[102]=ye,I[103]=Oe,I[104]=De,I[105]=Z,I[106]=Ae,I[107]=xe,I[108]=Ie,I[109]=Ne,I[110]=Ke,I[111]=me,I[112]=_e,I[113]=Ue,I[114]=z,I[115]=Qe,I[116]=W,I[117]=We,I[118]=He,I[119]=Ve,I[120]=qe,I[121]=Ye):Ye=I[121];return Ye};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/gas"),c=e("../../../selectors"),l=e("../../../helpers/utils/transactions.util"),u=e("../../../hooks/useGasFeeEstimates"),d=e("../../../helpers/utils/gas"),m=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/modules/Numeric"),f=e("../../../../shared/constants/common"),h=e("./useGasFeeErrors"),g=e("./useGasPriceInput"),v=e("./useMaxFeePerGasInput"),T=e("./useMaxPriorityFeePerGasInput"),y=e("./useGasEstimates"),_=e("./useTransactionFunctions");const k="1"}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasFeeInputs.js"}],[7844,{"../../../../shared/constants/gas":5885,"../../../../shared/modules/conversion.utils":6015,"../../../helpers/utils/transactions.util":7204,"./utils":7866,lodash:4940,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasPriceInput=function(e){const t=(0,s.c)(15),{estimateToUse:n,gasEstimateType:u,gasFeeEstimates:d,transaction:m}=e,[p,f]=(0,r.useState)((null==m?void 0:m.userFeeLevel)===o.CUSTOM_GAS_ESTIMATE);let h;t[0]!==m?(h=()=>{const{gasPrice:e}=(null==m?void 0:m.txParams)||{};return e&&(0,l.feeParamsAreCustom)(m)?Number((0,c.hexWEIToDecGWEI)(e)):null},t[0]=m,t[1]=h):h=t[1];const[g,v]=(0,r.useState)(h),[T]=(0,r.useState)(d);let y;t[2]!==d||t[3]!==T?(y=(0,a.isEqual)(T,d),t[2]=d,t[3]=T,t[4]=y):y=t[4];const _=y;let k;t[5]!==n||t[6]!==u||t[7]!==d||t[8]!==g||t[9]!==_||t[10]!==p||t[11]!==(null==m?void 0:m.txParams)?(k=null!==g&&(p||_||(0,i.isLegacyTransaction)(null==m?void 0:m.txParams))?g:function(e,t,n){if(t===o.GasEstimateTypes.legacy)return(null==e?void 0:e[n])??"0";if(t===o.GasEstimateTypes.ethGasPrice)return(null==e?void 0:e.gasPrice)??"0";return"0"}(d,u,n),t[5]=n,t[6]=u,t[7]=d,t[8]=g,t[9]=_,t[10]=p,t[11]=null==m?void 0:m.txParams,t[12]=k):k=t[12];const S=k;let A;t[13]!==S?(A={gasPrice:S,setGasPrice:v,setGasPriceHasBeenManuallySet:f},t[13]=S,t[14]=A):A=t[14];return A};var s=e("react-compiler-runtime"),r=e("react"),a=e("lodash"),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("./utils")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasPriceInput.js"}],[7845,{"../../../../shared/constants/transaction":5915,"../../../hooks/useAsync":7281,"../utils/token":7890,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetTokenStandardAndDetails=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../shared/constants/transaction")),a=e("../../../hooks/useAsync"),o=e("../utils/token");n.useGetTokenStandardAndDetails=(e,t)=>{const n=(0,s.c)(10);let i,c;n[0]!==t||n[1]!==e?(i=async()=>e?t?await(0,o.memoizedGetTokenStandardAndDetailsByChain)(e,t):await(0,o.memoizedGetTokenStandardAndDetails)(e):Promise.resolve(null),c=[e,t],n[0]=t,n[1]=e,n[2]=i,n[3]=c):(i=n[2],c=n[3]);const{value:l}=(0,a.useAsyncResult)(i,c);let u;e:{if(!l){let e;n[4]===Symbol.for("react.memo_cache_sentinel")?(e={decimalsNumber:undefined},n[4]=e):e=n[4],u=e;break e}const{decimals:e,standard:t}=l;if(t===r.TokenStandard.ERC20){let t;n[5]!==e?(t=(0,o.parseTokenDetailDecimals)(e)??o.ERC20_DEFAULT_DECIMALS,n[5]=e,n[6]=t):t=n[6];const s=t;let r;n[7]!==l||n[8]!==s?(r={...l,decimalsNumber:s},n[7]=l,n[8]=s,n[9]=r):r=n[9],u=r;break e}u=l}return u}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGetTokenStandardAndDetails.ts"}],[7846,{"../../../../shared/modules/conversion.utils":6015,"../../../selectors":8207,"../context/confirm":7730,"../send-utils/send.utils":7875,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHasInsufficientBalance=function(){var e,t;const n=(0,s.c)(3),{currentConfirmation:d}=(0,i.useConfirmContext)(),{id:m,chainId:p,txParams:f}=d??{},{value:h,from:g}=f===undefined?{}:f,v=h===undefined?l:h,T=g===undefined?"":g,y=(null==d||null===(e=d.nestedTransactions)||void 0===e?void 0:e.map(u))??[],_=(0,r.useSelector)(e=>(0,o.getNativeTokenCachedBalanceByChainIdSelector)(e,T??"")),k=(null==_?void 0:_[p])??l,S=(0,a.sumHexes)(v,...y),{hexMaximumTransactionFee:A}=(0,r.useSelector)(e=>(0,o.selectTransactionFeeById)(e,m)),[w,E]=(0,r.useSelector)(o.getMultichainNetworkConfigurationsByChainId),x=null===(t=w[p]??E[p])||void 0===t?void 0:t.nativeCurrency,C=!(0,c.isBalanceSufficient)({amount:S,gasTotal:A,balance:k});let b;n[0]!==C||n[1]!==x?(b={hasInsufficientBalance:C,nativeCurrency:x},n[0]=C,n[1]=x,n[2]=b):b=n[2];return b};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../../shared/modules/conversion.utils"),o=e("../../../selectors"),i=e("../context/confirm"),c=e("../send-utils/send.utils");const l="0x0";function u(e){return e.value??l}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useHasInsufficientBalance.ts"}],[7847,{"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/transaction.utils":6047,"../../../helpers/utils/gas":7180,"../../../hooks/useGasFeeEstimates":7298,"bignumber.js":4064,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIncrementedGasFees=function(e){var t,n,s,a;const o=(0,r.c)(17),{gasFeeEstimates:c}=(0,l.useGasFeeEstimates)(e.networkClientId);let d;o[0]!==c?(d=c===undefined?{}:c,o[0]=c,o[1]=d):d=o[1];const m=d,p=null===(t=e.txParams)||void 0===t?void 0:t.gas,f=null===(n=e.txParams)||void 0===n?void 0:n.gas;let h;if(o[2]!==(null==m||null===(s=m.medium)||void 0===s?void 0:s.suggestedMaxFeePerGas)||o[3]!==(null==m||null===(a=m.medium)||void 0===a?void 0:a.suggestedMaxPriorityFeePerGas)||o[4]!==p||o[5]!==f||o[6]!==e){var g,v,T,y;h={gasLimit:p,gas:f};const t=(null==m||null===(g=m.medium)||void 0===g?void 0:g.suggestedMaxFeePerGas)??"0",n=(null==m||null===(v=m.medium)||void 0===v?void 0:v.suggestedMaxPriorityFeePerGas)??"0";if((0,i.isEIP1559Transaction)(e)){var _,k;const s=null===(_=e.txParams)||void 0===_?void 0:_.maxFeePerGas,r=null===(k=e.txParams)||void 0===k?void 0:k.maxPriorityFeePerGas;let a,i;o[8]!==t||o[9]!==s?(a=s===undefined||s.startsWith("-")?"0x0":u(s,t),o[8]=t,o[9]=s,o[10]=a):a=o[10],h.maxFeePerGas=a,o[11]!==n||o[12]!==r?(i=r===undefined||r.startsWith("-")?"0x0":u(r,n),o[11]=n,o[12]=r,o[13]=i):i=o[13],h.maxPriorityFeePerGas=i}else{var S;const n=null===(S=e.txParams)||void 0===S?void 0:S.gasPrice;let s;o[14]!==t||o[15]!==n?(s=n===undefined||n.startsWith("-")?"0x0":u(n,t),o[14]=t,o[15]=n,o[16]=s):s=o[16],h.gasPrice=s}o[2]=null==m||null===(T=m.medium)||void 0===T?void 0:T.suggestedMaxFeePerGas,o[3]=null==m||null===(y=m.medium)||void 0===y?void 0:y.suggestedMaxPriorityFeePerGas,o[4]=p,o[5]=f,o[6]=e,o[7]=h}else h=o[7];return h};var s,r=e("react-compiler-runtime"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},o=(e("react"),e("../../../../shared/modules/conversion.utils")),i=e("../../../../shared/modules/transaction.utils"),c=e("../../../helpers/utils/gas"),l=e("../../../hooks/useGasFeeEstimates");function u(e,t){const n=(0,c.addTenPercentAndRound)(e),s=(0,o.decGWEIToHexWEI)(t);return new a.default(n,16).greaterThan(new a.default(s,16))?n:s}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useIncrementedGasFees.js"}],[7848,{"../../../selectors":8207,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsBIP44=void 0;var s=e("react-redux"),r=e("../../../selectors");n.useIsBIP44=()=>(0,s.useSelector)(r.getIsMultichainAccountsState2Enabled)}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useIsBIP44.ts"}],[7849,{"./alerts/transactions/useInsufficientBalanceAlerts":7750,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsInsufficientBalance=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={ignoreGasFeeToken:!0},e[0]=t):t=e[0];return Boolean((0,r.useInsufficientBalanceAlerts)(t).length)};var s=e("react-compiler-runtime"),r=e("./alerts/transactions/useInsufficientBalanceAlerts")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useIsInsufficientBalance.ts"}],[7850,{"../../../../shared/constants/hardware-wallets":5886,"../../../ducks/app/app":7122,"../../../ducks/metamask/metamask":7137,"../../../store/actions":8241,"../context/confirm":7730,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("../../../../shared/constants/hardware-wallets"),o=e("../../../ducks/app/app"),i=e("../../../ducks/metamask/metamask"),c=e("../../../store/actions"),l=e("../context/confirm");n.default=()=>{var e,t;const n=(0,r.useDispatch)(),{currentConfirmation:u}=(0,l.useConfirmContext)(),d=(0,r.useSelector)(i.getLedgerTransportType),m=(0,r.useSelector)(o.getLedgerTransportStatus),p=(0,r.useSelector)(o.getLedgerWebHidConnectedStatus),f=(null==u||null===(e=u.msgParams)||void 0===e?void 0:e.from)??(null==u||null===(t=u.txParams)||void 0===t?void 0:t.from),h=(0,r.useSelector)(e=>f&&(0,i.isAddressLedger)(e,f));return(0,s.useEffect)(()=>{if(!h)return;(async()=>{if(d===a.LedgerTransportTypes.webhid&&p===a.WebHIDConnectedStatuses.connected&&m===a.HardwareTransportStates.none)try{const e=await(0,c.attemptLedgerTransportCreation)();n((0,o.setLedgerTransportStatus)(e?a.HardwareTransportStates.verified:a.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,o.setLedgerTransportStatus)(a.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,o.setLedgerTransportStatus)(a.HardwareTransportStates.verified)):n((0,o.setLedgerTransportStatus)(a.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(d===a.LedgerTransportTypes.webhid&&p!==a.WebHIDConnectedStatuses.connected){var e;const t=await(null===(e=window.navigator)||void 0===e||null===(e=e.hid)||void 0===e?void 0:e.getDevices()),s=null==t?void 0:t.some(e=>e.vendorId===Number(a.LEDGER_USB_VENDOR_ID));n((0,o.setLedgerWebHidConnectedStatus)(s?a.WebHIDConnectedStatuses.connected:a.WebHIDConnectedStatuses.notConnected))}})()},[n,d,h,p,m]),(0,s.useEffect)(()=>h?()=>{n((0,o.setLedgerTransportStatus)(a.HardwareTransportStates.none))}:undefined,[n]),{isLedgerWallet:h}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useLedgerConnection.ts"}],[7851,{"../../../../shared/modules/conversion.utils":6015,"../../../helpers/utils/transactions.util":7204,"../../../selectors":8207,"./utils":7866,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxFeePerGasInput=function(e){const t=(0,s.c)(19),{estimateToUse:n,gasEstimateType:c,gasFeeEstimates:d,transaction:m}=e,p=(0,a.useSelector)(o.checkNetworkAndAccountSupports1559)&&!(0,i.isLegacyTransaction)(null==m?void 0:m.txParams);let f;t[0]!==d||t[1]!==p||t[2]!==m?(f=p?u(m,d):0,t[0]=d,t[1]=p,t[2]=m,t[3]=f):f=t[3];const h=f;let g;t[4]!==h||t[5]!==m?(g=()=>h&&(0,l.feeParamsAreCustom)(m)?h:null,t[4]=h,t[5]=m,t[6]=g):g=t[6];const[v,T]=(0,r.useState)(g);let y,_,k;t[7]!==h||t[8]!==p?(y=()=>{p&&h&&T(h)},_=[h,T,p],t[7]=h,t[8]=p,t[9]=y,t[10]=_):(y=t[9],_=t[10]);(0,r.useEffect)(y,_),t[11]!==n||t[12]!==c||t[13]!==d||t[14]!==h||t[15]!==v?(k=v??(0,l.getGasFeeEstimate)("suggestedMaxFeePerGas",d,c,n,h||0),t[11]=n,t[12]=c,t[13]=d,t[14]=h,t[15]=v,t[16]=k):k=t[16];const S=k;let A;t[17]!==S?(A={maxFeePerGas:S,setMaxFeePerGas:T},t[17]=S,t[18]=A):A=t[18];return A};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("../../../selectors"),i=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("./utils");const u=(e,t)=>{if(null!=t&&t[null==e?void 0:e.userFeeLevel])return t[e.userFeeLevel].suggestedMaxFeePerGas;const{maxFeePerGas:n,gasPrice:s}=(null==e?void 0:e.txParams)||{};return Number((0,c.hexWEIToDecGWEI)(n||s))}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useMaxFeePerGasInput.js"}],[7852,{"../../../../shared/modules/conversion.utils":6015,"../../../helpers/utils/transactions.util":7204,"../../../selectors":8207,"./utils":7866,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxPriorityFeePerGasInput=function(e){const t=(0,s.c)(19),{estimateToUse:n,gasEstimateType:c,gasFeeEstimates:m,transaction:p}=e,f=(0,r.useSelector)(o.checkNetworkAndAccountSupports1559)&&!(0,i.isLegacyTransaction)(null==p?void 0:p.txParams);let h;t[0]!==m||t[1]!==f||t[2]!==p?(h=f?d(p,m):null,t[0]=m,t[1]=f,t[2]=p,t[3]=h):h=t[3];const g=h;let v;t[4]!==g||t[5]!==p?(v=()=>!u(g)&&(0,l.feeParamsAreCustom)(p)?g:null,t[4]=g,t[5]=p,t[6]=v):v=t[6];const[T,y]=(0,a.useState)(v);let _,k,S;t[7]!==g||t[8]!==f?(_=()=>{f&&!u(g)&&y(g)},k=[g,y,f],t[7]=g,t[8]=f,t[9]=_,t[10]=k):(_=t[9],k=t[10]);(0,a.useEffect)(_,k),t[11]!==n||t[12]!==c||t[13]!==m||t[14]!==g||t[15]!==T?(S=T??(0,l.getGasFeeEstimate)("suggestedMaxPriorityFeePerGas",m,c,n,g||0),t[11]=n,t[12]=c,t[13]=m,t[14]=g,t[15]=T,t[16]=S):S=t[16];const A=S;let w;t[17]!==A?(w={maxPriorityFeePerGas:A,setMaxPriorityFeePerGas:y},t[17]=A,t[18]=w):w=t[18];return w};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("react"),o=e("../../../selectors"),i=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("./utils");const u=e=>null===e||e===undefined,d=(e,t)=>{if(null!=t&&t[null==e?void 0:e.userFeeLevel])return t[e.userFeeLevel].suggestedMaxPriorityFeePerGas;const{maxPriorityFeePerGas:n,maxFeePerGas:s,gasPrice:r}=(null==e?void 0:e.txParams)||{},a=n||s||r;return a?Number((0,c.hexWEIToDecGWEI)(a)):null}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useMaxPriorityFeePerGasInput.js"}],[7853,{"../../../hooks/useGetAssetImageUrl":7299,"../../../selectors":8207,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftImageUrl=function(e){const t=(0,r.useSelector)(a.getIpfsGateway),n=(0,o.default)(e,t),s=e&&!e.startsWith("ipfs:");return s?e:n};var s,r=e("react-redux"),a=e("../../../selectors"),o=(s=e("../../../hooks/useGetAssetImageUrl"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useNftImageUrl.ts"}],[7854,{"../../../selectors":8207,"../../../store/actions":8241,"./useCurrentConfirmation":7834,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginThrottling=function(){var e;const t=(0,r.c)(9),n=(0,a.useDispatch)(),s=(0,a.useSelector)(i.selectThrottledOrigins),{currentConfirmation:u}=(0,c.default)(),d=(null==u?void 0:u.origin)||(null==u||null===(e=u.messageParams)||void 0===e?void 0:e.origin),m=s[d];let p;t[0]!==m?(p=l(m),t[0]=m,t[1]=p):p=t[1];const f=p;let h;t[2]!==n||t[3]!==d?(h=()=>{n((0,o.updateThrottledOriginState)(d,{rejections:0,lastRejection:0}))},t[2]=n,t[3]=d,t[4]=h):h=t[4];const g=h;let v;t[5]!==d||t[6]!==g||t[7]!==f?(v={origin:d,resetOrigin:g,shouldThrottleOrigin:f},t[5]=d,t[6]=g,t[7]=f,t[8]=v):v=t[8];return v};var s,r=e("react-compiler-runtime"),a=(e("react"),e("react-redux")),o=e("../../../store/actions"),i=e("../../../selectors"),c=(s=e("./useCurrentConfirmation"))&&s.__esModule?s:{default:s};const l=e=>{if(!e)return!1;const t=Date.now(),{rejections:n,lastRejection:s}=e;return n+1>=3&&t-s<=3e4}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useOriginThrottling.ts"}],[7855,{"../../../ducks/confirm-alerts/confirm-alerts":7129,"../context/confirm":7730,"./useConfirmationAlerts":7830,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-compiler-runtime"),a=e("react"),o=e("react-redux"),i=e("../../../ducks/confirm-alerts/confirm-alerts"),c=e("../context/confirm"),l=(s=e("./useConfirmationAlerts"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.c)(12),t=(0,o.useDispatch)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),s=(0,l.default)(),u=null==n?void 0:n.id;let d,m,p,f;e[0]!==s||e[1]!==t||e[2]!==u?(d=()=>{t((0,i.updateAlerts)(u,s))},e[0]=s,e[1]=t,e[2]=u,e[3]=d):d=e[3],e[4]!==s||e[5]!==u?(m=[s,u],e[4]=s,e[5]=u,e[6]=m):m=e[6],(0,a.useEffect)(d,m),e[7]!==t||e[8]!==u?(p=()=>()=>{t((0,i.clearAlerts)(u))},e[7]=t,e[8]=u,e[9]=p):p=e[9],e[10]!==u?(f=[u],e[10]=u,e[11]=f):f=e[11],(0,a.useEffect)(p,f)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSetConfirmationAlerts.ts"}],[7856,{"../../../helpers/utils/metrics":7186,"../../../store/actions":8241,"../context/confirm":7730,"../utils":7883,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignatureEventFragment=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../helpers/utils/metrics")),a=e("../../../store/actions"),o=e("../context/confirm"),i=e("../utils");n.useSignatureEventFragment=()=>{const e=(0,s.c)(8),{currentConfirmation:t}=(0,o.useConfirmContext)();let n;var c;e[0]!==t?(n=(0,i.isSignatureTransactionType)(t)&&(null==t||null===(c=t.msgParams)||void 0===c?void 0:c.requestId),e[0]=t,e[1]=n):n=e[1];const l=n;let u;e[2]!==l?(u=l?(0,r.generateSignatureUniqueId)(l):null,e[2]=l,e[3]=u):u=e[3];const d=u;let m;e[4]!==d?(m=async e=>{d&&(0,a.updateEventFragment)(d,e)},e[4]=d,e[5]=m):m=e[5];const p=m;let f;return e[6]!==p?(f={updateSignatureEventFragment:p},e[6]=p,e[7]=f):f=e[7],f}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSignatureEventFragment.ts"}],[7857,{"../../../../shared/constants/transaction":5915,"../../../store/actions":8241,"../context/confirm":7730,"@metamask/rpc-errors":2692,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartAccountActions=function(){const e=(0,s.c)(11),t=(0,a.useDispatch)(),{currentConfirmation:n}=(0,i.useConfirmContext)();let l;e[0]!==n?(l=n??{},e[0]=n,e[1]=l):l=e[1];const{id:u,chainId:d,txParams:m}=l;let p;e[2]!==m?(p=m??{},e[2]=m,e[3]=p):p=e[3];const{from:f}=p;let h;e[4]!==d||e[5]!==u||e[6]!==t||e[7]!==f?(h=async()=>{if(!d||!f)return;const e=new r.JsonRpcError(c.EIP5792ErrorCode.RejectedUpgrade,"User rejected account upgrade"),n=(0,r.serializeError)(e);t((0,o.rejectPendingApproval)(u,n))},e[4]=d,e[5]=u,e[6]=t,e[7]=f,e[8]=h):h=e[8];const g=h;let v;e[9]!==g?(v={handleRejectUpgrade:g},e[9]=g,e[10]=v):v=e[10];return v};var s=e("react-compiler-runtime"),r=e("@metamask/rpc-errors"),a=(e("react"),e("react-redux")),o=e("../../../store/actions"),i=e("../context/confirm"),c=e("../../../../shared/constants/transaction")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSmartAccountActions.ts"}],[7858,{"../../../../shared/constants/smartTransactions":5906,"../../../../shared/modules/selectors":6032,"../../../store/actions":8241,"../../swaps/swaps.util":8184,"../context/confirm":7730,loglevel:4948,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartTransactionFeatureFlags=function(){const e=(0,r.c)(22),t=(0,a.useDispatch)(),{currentConfirmation:n}=(0,m.useConfirmContext)();let s;e[0]!==n?(s=n??{},e[0]=n,e[1]=s):s=e[1];const{id:i,txParams:f,chainId:h}=s,g=Boolean(f),v=(0,a.useSelector)(l.getSmartTransactionsPreferenceEnabled);let T;e[2]!==h?(T=h&&(0,c.getAllowedSmartTransactionsChainIds)().includes(h),e[2]=h,e[3]=T):T=e[3];const y=T;let _;e[4]!==h?(_=e=>h?(0,l.getSmartTransactionsFeatureFlagsForChain)(e,h):undefined,e[4]=h,e[5]=_):_=e[5];const k=(0,a.useSelector)(_);let S,A;e[6]!==y||e[7]!==t||e[8]!==(null==k?void 0:k.batchStatusPollingInterval)||e[9]!==g||e[10]!==v||e[11]!==h||e[12]!==i?(S=()=>{g&&i&&v&&y&&Promise.all([(0,u.fetchSwapsFeatureFlags)(),(0,d.fetchSmartTransactionsLiveness)({chainId:h})()]).then(e=>{const[n]=e;t((0,d.setSwapsFeatureFlags)(n)),t((0,d.setSmartTransactionsRefreshInterval)((null==k?void 0:k.batchStatusPollingInterval)??1e3))}).catch(p)},e[6]=y,e[7]=t,e[8]=null==k?void 0:k.batchStatusPollingInterval,e[9]=g,e[10]=v,e[11]=h,e[12]=i,e[13]=S):S=e[13];e[14]!==y||e[15]!==t||e[16]!==k||e[17]!==g||e[18]!==v||e[19]!==h||e[20]!==i?(A=[g,i,v,y,h,k,t],e[14]=y,e[15]=t,e[16]=k,e[17]=g,e[18]=v,e[19]=h,e[20]=i,e[21]=A):A=e[21];(0,o.useEffect)(S,A)};var s,r=e("react-compiler-runtime"),a=e("react-redux"),o=e("react"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("../../../../shared/constants/smartTransactions"),l=e("../../../../shared/modules/selectors"),u=e("../../swaps/swaps.util"),d=e("../../../store/actions"),m=e("../context/confirm");function p(e){i.default.debug("Error updating smart transaction feature flags",e)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSmartTransactionFeatureFlags.ts"}],[7859,{"../../../helpers/constants/routes":7154,"./useConfirmationNavigation":7831,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-router-dom"),o=e("../../../helpers/constants/routes"),i=e("./useConfirmationNavigation");n.default=e=>{const t=(0,s.c)(6),{navigateToId:n}=(0,i.useConfirmationNavigation)(),{id:c}=(0,a.useParams)(),l=(0,a.useLocation)();let u,d;t[0]!==e||t[1]!==l.pathname||t[2]!==n||t[3]!==c?(u=()=>{(l.pathname.startsWith(o.CONFIRM_TRANSACTION_ROUTE)||l.pathname.startsWith(o.CONFIRMATION_V_NEXT_ROUTE))&&!c&&e&&n(e.id)},d=[c,e,n,l.pathname],t[0]=e,t[1]=l.pathname,t[2]=n,t[3]=c,t[4]=u,t[5]=d):(u=t[4],d=t[5]),(0,r.useEffect)(u,d)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSyncConfirmPath.ts"}],[7860,{"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/transaction":5915,"../../../contexts/metametrics":7110,"../utils/token":7890,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("../../../../shared/constants/metametrics"),o=e("../../../../shared/constants/transaction"),i=e("../../../contexts/metametrics"),c=e("../utils/token");n.default=(e,t,n,l)=>{const u=(0,s.c)(7),d=l===undefined?a.MetaMetricsEventLocation.SignatureConfirmation:l,m=(0,r.useContext)(i.MetaMetricsContext),p=(0,r.useRef)(!1);let f,h;u[0]!==e||u[1]!==d||u[2]!==t||u[3]!==n||u[4]!==m?(f=()=>{if(e===undefined||n===undefined||p.current)return;const{decimals:s,standard:r}=n||{};if(r!==o.TokenStandard.ERC20)return;(0,c.parseTokenDetailDecimals)(s)===undefined&&(m({event:a.MetaMetricsEventName.SimulationIncompleteAssetDisplayed,category:a.MetaMetricsEventCategory.Confirmations,properties:{token_decimals_available:"not_available",asset_address:t,asset_type:o.TokenStandard.ERC20,chain_id:e,location:d}}),p.current=!0)},h=[n,e,d,t,m],u[0]=e,u[1]=d,u[2]=t,u[3]=n,u[4]=m,u[5]=f,u[6]=h):(f=u[5],h=u[6]),(0,r.useEffect)(f,h)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTrackERC20WithoutDecimalInformation.ts"}],[7861,{"../../../contexts/gasFee":7104,"../../../selectors":8207,"../../../store/actions":8241,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionEventFragment=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../../contexts/gasFee"),o=e("../../../store/actions"),i=e("../../../selectors");n.useTransactionEventFragment=()=>{const e=(0,s.c)(7),{transaction:t}=(0,a.useGasFeeContext)();let n;e[0]!==(null==t?void 0:t.id)?(n=e=>(0,i.selectMatchingFragment)(e,{fragmentOptions:{},existingId:`transaction-added-${null==t?void 0:t.id}`}),e[0]=null==t?void 0:t.id,e[1]=n):n=e[1];const c=(0,r.useSelector)(n),l=Boolean(c),u=null==t?void 0:t.id;let d;e[2]!==l||e[3]!==u?(d=async(e,t)=>{const n=t||u;n&&(l||await(0,o.createTransactionEventFragment)(n),(0,o.updateEventFragment)(`transaction-added-${n}`,e),(0,o.updateEventFragment)(`transaction-submitted-${n}`,e))},e[2]=l,e[3]=u,e[4]=d):d=e[4];const m=d;let p;return e[5]!==m?(p={updateTransactionEventFragment:m},e[5]=m,e[6]=p):p=e[6],p}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTransactionEventFragment.js"}],[7862,{"../../../../app/scripts/lib/util":368,"../../../../shared/constants/app":5876,"../../../hooks/useWindowFocus":7348,"../../../store/actions":8241,"../context/confirm":7730,"@metamask/transaction-controller":3085,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionFocusEffect=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),o=e("@metamask/transaction-controller"),i=e("../../../../shared/constants/app"),c=e("../../../../app/scripts/lib/util"),l=e("../../../store/actions"),u=e("../../../hooks/useWindowFocus"),d=e("../context/confirm");const m=new Set([o.TransactionType.batch,o.TransactionType.contractInteraction,o.TransactionType.deployContract,o.TransactionType.simpleSend,o.TransactionType.smart,o.TransactionType.tokenMethodTransfer,o.TransactionType.tokenMethodTransferFrom,o.TransactionType.tokenMethodSafeTransferFrom]);n.useTransactionFocusEffect=()=>{const e=(0,s.c)(12),{currentConfirmation:t}=(0,d.useConfirmContext)();let n;e[0]!==t?(n=t??{},e[0]=t,e[1]=n):n=e[1];const{id:o,type:p}=n,f=(0,u.useWindowFocus)(),h=(0,a.useDispatch)(),[g,v]=(0,r.useState)(null);let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T=(0,c.getEnvironmentType)(),e[2]=T):T=e[2];const y=T===i.ENVIRONMENT_TYPE_SIDEPANEL;let _;e[3]!==h?(_=async(e,t)=>{await h((0,l.setTransactionActive)(e,t))},e[3]=h,e[4]=_):_=e[4];const k=_;let S,A;e[5]!==g||e[6]!==o||e[7]!==f||e[8]!==k||e[9]!==p?(S=()=>{if(!m.has(p))return void(g&&(k(g,!1),v(null)));const e=f||y;e&&g!==o?(g&&k(g,!1),v(o),k(o,!0)):!e&&g&&(k(g,!1),v(null))},A=[g,o,y,f,k,p],e[5]=g,e[6]=o,e[7]=f,e[8]=k,e[9]=p,e[10]=S,e[11]=A):(S=e[10],A=e[11]),(0,r.useEffect)(S,A)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTransactionFocusEffect.ts"}],[7863,{"../../../../shared/constants/gas":5885,"../../../../shared/modules/conversion.utils":6015,"../../../helpers/utils/gas":7180,"../../../store/actions":8241,"bignumber.js":4064,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionFunctions=void 0;var s,r=e("react"),a=e("react-redux"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("../../../../shared/constants/gas"),c=e("../../../helpers/utils/gas"),l=e("../../../store/actions"),u=e("../../../../shared/modules/conversion.utils");n.useTransactionFunctions=({defaultEstimateToUse:e,editGasMode:t,estimatedBaseFee:n,gasFeeEstimates:s,gasLimit:d,maxPriorityFeePerGas:m,transaction:p,setRetryTxMeta:f})=>{const h=(0,a.useDispatch)(),g=(0,r.useCallback)(()=>{if(t!==i.EditGasModes.cancel&&t!==i.EditGasModes.speedUp||p.previousGas)return{};const{maxFeePerGas:e,maxPriorityFeePerGas:n,gasLimit:s}=(null==p?void 0:p.txParams)??{};return{previousGas:{maxFeePerGas:e,maxPriorityFeePerGas:n,gasLimit:s}}},[t,null==p?void 0:p.previousGas,null==p?void 0:p.txParams]),v=(0,r.useCallback)(async({estimateUsed:n,gasLimit:s,maxFeePerGas:r,maxPriorityFeePerGas:a,estimateSuggested:o})=>{const v={gas:(0,u.decimalToHex)(s||d),gasLimit:(0,u.decimalToHex)(s||d),estimateSuggested:o||e,estimateUsed:n};r&&(v.maxFeePerGas=r),a&&(v.maxPriorityFeePerGas=a||(0,u.decGWEIToHexWEI)(m));const T=g(),y={...p,userFeeLevel:n||i.PriorityLevels.custom,txParams:{...p.txParams,...v},...T};t===i.EditGasModes.swaps?(h((0,l.updateSwapsUserFeeLevel)(n||i.PriorityLevels.custom)),h((0,l.updateCustomSwapsEIP1559GasParams)(v))):(0,c.editGasModeIsSpeedUpOrCancel)(t)?f(y):(v.userEditedGasLimit=y.userEditedGasLimit,v.userFeeLevel=y.userFeeLevel,T&&T.previousGas&&await h((0,l.updatePreviousGasParams)(y.id,T.previousGas)),await h((0,l.updateTransactionGasFees)(y.id,v)))},[e,h,t,d,g,m,p,f]),T=(0,r.useCallback)(()=>{h((0,l.createCancelTransaction)(p.id,p.txParams,{estimatedBaseFee:n}))},[h,n,p]),y=(0,r.useCallback)(()=>{h((0,l.createSpeedUpTransaction)(p.id,p.txParams,{estimatedBaseFee:n}))},[h,n,p]),_=(0,r.useCallback)((t=!1)=>{const{gas:n,maxFeePerGas:r,maxPriorityFeePerGas:a}=p.previousGas||p.txParams,l=new o.default(a,16).isZero()?(0,u.decGWEIToHexWEI)(s[e].suggestedMaxPriorityFeePerGas):a,d="0x0"===a?i.CUSTOM_GAS_ESTIMATE:i.PriorityLevels.tenPercentIncreased;s&&v({estimateSuggested:t?e:i.PriorityLevels.tenPercentIncreased,estimateUsed:d,gasLimit:n,maxFeePerGas:(0,c.addTenPercentAndRound)(r),maxPriorityFeePerGas:(0,c.addTenPercentAndRound)(l)})},[e,s,p,v]),k=(0,r.useCallback)(e=>{if(null==s||!s[e])return;const{suggestedMaxFeePerGas:t,suggestedMaxPriorityFeePerGas:n}=s[e];v({estimateUsed:e,maxFeePerGas:(0,u.decGWEIToHexWEI)(t),maxPriorityFeePerGas:(0,u.decGWEIToHexWEI)(n)})},[s,v]),S=(0,r.useCallback)(()=>{const{maxFeePerGas:e,maxPriorityFeePerGas:t}=(null==p?void 0:p.dappSuggestedGasFees)??{};v({estimateUsed:i.PriorityLevels.dAppSuggested,maxFeePerGas:e,maxPriorityFeePerGas:t})},[p,v]);return{cancelTransaction:T,speedUpTransaction:y,updateTransaction:v,updateTransactionToTenPercentIncreasedGasFee:_,updateTransactionUsingDAPPSuggestedValues:S,updateTransactionUsingEstimate:k}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTransactionFunctions.js"}],[7864,{"../../../../shared/constants/app":5876,"../../../../shared/constants/transaction":5915,"../../../../shared/modules/transaction.utils":6047,"../constants":7726,"../utils":7883,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTypedSignSignatureInfo=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../utils")),a=e("../../../../shared/modules/transaction.utils"),o=e("../../../../shared/constants/transaction"),i=e("../../../../shared/constants/app"),c=e("../constants");n.useTypedSignSignatureInfo=e=>{const t=(0,s.c)(3);let n;n=e&&(0,r.isSignatureTransactionType)(e)&&(null==e?void 0:e.type)===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?(0,r.isPermitSignatureRequest)(e)?c.TypedSignSignaturePrimaryTypes.PERMIT:(0,r.isOrderSignatureRequest)(e)?c.TypedSignSignaturePrimaryTypes.ORDER:undefined:undefined;const l=n;let u;e:{var d;if(l!==c.TypedSignSignaturePrimaryTypes.PERMIT){u=undefined;break e}const{message:t}=(0,a.parseTypedDataMessage)(null==e||null===(d=e.msgParams)||void 0===d?void 0:d.data),{tokenId:n}=t;n===undefined?u=undefined:u=o.TokenStandard.ERC721}const m=u,p=l;let f;return t[0]!==p||t[1]!==m?(f={primaryType:p,tokenStandard:m},t[0]=p,t[1]=m,t[2]=f):f=t[2],f}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTypedSignSignatureInfo.ts"}],[7865,{"../../../../shared/constants/app":5876,"../../../../shared/modules/transaction.utils":6047,"../context/confirm":7730,"../selectors/preferences":7870,"../utils":7883,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTypesSignSimulationEnabledInfo=function(){var e;const t=(0,s.c)(5),{currentConfirmation:n}=(0,l.useConfirmContext)(),o=(0,r.useSelector)(c.selectUseTransactionSimulations),u=null==n||null===(e=n.msgParams)||void 0===e?void 0:e.signatureMethod,m=u===a.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V4||u===a.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V3;let p;t[0]!==n?(p=(0,i.isPermitSignatureRequest)(n),t[0]=n,t[1]=p):p=t[1];const f=p;let h;t[2]!==n||t[3]!==m?(h=m&&d(n),t[2]=n,t[3]=m,t[4]=h):h=t[4];const g=h;if(!n)return;return o&&m&&(f||g)};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../../shared/constants/app"),o=e("../../../../shared/modules/transaction.utils"),i=e("../utils"),c=e("../selectors/preferences"),l=e("../context/confirm");const u=[{domainName:"Seaport",primaryTypeList:["BulkOrder"],versionList:["1.4","1.5","1.6"]},{domainName:"Seaport",primaryTypeList:["OrderComponents"]}],d=e=>{var t;const n=null===(t=e.msgParams)||void 0===t?void 0:t.data;if(!n)return!1;const{domain:{name:s,version:r},primaryType:a}=(0,o.parseTypedDataMessage)(n);return u.some(({domainName:e,primaryTypeList:t,versionList:n})=>s===e&&t.includes(a)&&(!n||n.includes(r)))}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTypesSignSimulationEnabledInfo.ts"}],[7866,{"../../../../shared/constants/gas":5885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.feeParamsAreCustom=void 0,n.getGasFeeEstimate=function(e,t,n,r,a="0"){var o;return n===s.GasEstimateTypes.feeMarket?(null==t||null===(o=t[r])||void 0===o?void 0:o[e])??String(a):String(a)};var s=e("../../../../shared/constants/gas");n.feeParamsAreCustom=e=>!(null!=e&&e.userFeeLevel)||(null==e?void 0:e.userFeeLevel)===s.CUSTOM_GAS_ESTIMATE}}},{package:"$root$",file:"ui/pages/confirmations/hooks/utils.js"}],[7867,{"../../../../shared/modules/selectors/util":6038,"../../../helpers/utils/util":7207,"../../../selectors":8207,"../../../selectors/multichain-accounts/account-tree":8211},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectInternalAccountNameByAddress=n.selectAccountGroupNameByInternalAccount=void 0;var s=e("../../../../shared/modules/selectors/util"),r=e("../../../helpers/utils/util"),a=e("../../../selectors/multichain-accounts/account-tree"),o=e("../../../selectors");n.selectAccountGroupNameByInternalAccount=(0,s.createDeepEqualSelector)([(e,t)=>t?{groups:(0,a.getAccountGroupsByAddress)(e,[t]),address:null==t?void 0:t.toLowerCase()}:{groups:[],address:null}],({groups:e,address:t})=>{var n;if(!t||!e.length)return null;const s=e.find(e=>e.accounts.some(e=>{var n;return(null===(n=e.address)||void 0===n?void 0:n.toLowerCase())===t}));return(null==s||null===(n=s.metadata)||void 0===n?void 0:n.name)??null}),n.selectInternalAccountNameByAddress=(0,s.createDeepEqualSelector)([(e,t)=>({accounts:(0,o.accountsWithSendEtherInfoSelector)(e),address:t})],({accounts:e,address:t})=>{var n;if(!t||null==e||!e.length)return null;const s=(0,r.getAccountByAddress)(e,t);return(null==s||null===(n=s.metadata)||void 0===n?void 0:n.name)??null})}}},{package:"$root$",file:"ui/pages/confirmations/selectors/accounts.ts"}],[7869,{"./confirm":7868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./confirm");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/pages/confirmations/selectors/index.ts"}],[7871,{"../../../../../../app/scripts/lib/util":368,"../../../../../../shared/modules/hexstring-utils":6023,"../../../../../components/app/preferred-avatar":6341,"../../../../../components/component-library":6633,"../../../../../helpers/constants/design-system":7149,"../../../../../helpers/utils/util":7207,"@metamask/utils":3207,classnames:4209,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=p(e("prop-types")),a=p(e("classnames")),o=e("@metamask/utils"),i=e("../../../../../../app/scripts/lib/util"),c=e("../../../../../helpers/utils/util"),l=e("../../../../../../shared/modules/hexstring-utils"),u=e("../../../../../components/component-library"),d=e("../../../../../components/app/preferred-avatar"),m=e("../../../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends s.Component{constructor(...e){super(...e),h(this,"onPaste",e=>{var t;if(null!==(t=e.clipboardData.items)&&void 0!==t&&t.length){const t=e.clipboardData.items[0];null==t||t.getAsString(e=>{const t=e.trim();!(0,l.isBurnAddress)(t)&&(0,l.isValidHexAddress)(t,{mixedCaseUseChecksum:!0})&&this.props.onPaste((0,i.addHexPrefix)(t))})}}),h(this,"onChange",({target:{value:e}})=>{const{onValidAddressTyped:t,internalSearch:n,onChange:s,lookupDomainName:r,resetDomainResolution:a}=this.props,c=e.trim();if(n)return s(c),null;if((0,o.isHexString)(c))if(a(),t&&!(0,l.isBurnAddress)(c)&&(0,l.isValidHexAddress)(c,{mixedCaseUseChecksum:!0})){const e=(0,i.addHexPrefix)(c);s(e),t(e)}else s(c);else s(c),r(c);return null})}componentDidMount(){this.props.initializeDomainSlice()}render(){const{t:e}=this.context,{className:t,selectedAddress:n,selectedName:r,userInput:o}=this.props,i=Boolean(n),p=r&&n?(0,c.shortenAddress)((0,l.toChecksumHexAddress)(n)):undefined;return s.default.createElement("div",{className:(0,a.default)("ens-input",t)},s.default.createElement("div",{className:(0,a.default)("ens-input__wrapper",{"ens-input__wrapper__status-icon--error":!1,"ens-input__wrapper__status-icon--valid":!1,"ens-input__wrapper--valid":i})},i?s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"ens-input__wrapper__input ens-input__wrapper__input--selected","data-testid":"ens-input-selected"},s.default.createElement(d.PreferredAvatar,{address:n}),s.default.createElement("div",{className:"ens-input__selected-input__title"},r||n,p?s.default.createElement(u.Text,{color:m.TextColor.textAlternative,variant:m.TextVariant.bodySm,ellipsis:!0},p):null)),s.default.createElement(u.ButtonIcon,{iconName:u.IconName.Close,ariaLabel:e("close"),onClick:this.props.onReset,className:"ens-input__wrapper__action-icon-button",size:u.IconSize.Sm})):s.default.createElement(s.default.Fragment,null,s.default.createElement("input",{className:"ens-input__wrapper__input",type:"text",dir:"auto",placeholder:e("recipientAddressPlaceholderNew"),onChange:this.onChange,onPaste:this.onPaste,spellCheck:"false",value:n||o,autoFocus:!0,"data-testid":"ens-input"}),s.default.createElement(u.ButtonIcon,{className:"ens-input__wrapper__action-icon-button",onClick:()=>{(null==o?void 0:o.length)>0?this.props.onReset():this.props.scanQrCode()},iconName:o?u.IconName.Close:u.IconName.Scan,ariaLabel:e(o?"close":"scanQrCode"),color:o?m.IconColor.iconDefault:m.IconColor.primaryDefault,"data-testid":"ens-qr-scan-button"}))))}}n.default=g,h(g,"contextTypes",{t:r.default.func,metricsEvent:r.default.func}),h(g,"propTypes",{className:r.default.string,selectedAddress:r.default.string,selectedName:r.default.string,scanQrCode:r.default.func,onPaste:r.default.func,onValidAddressTyped:r.default.func,internalSearch:r.default.bool,userInput:r.default.string,onChange:r.default.func.isRequired,onReset:r.default.func.isRequired,lookupDomainName:r.default.func.isRequired,initializeDomainSlice:r.default.func.isRequired,resetDomainResolution:r.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/confirmations/send-utils/send-content/add-recipient/domain-input.component.js"}],[7872,{"../../../../../ducks/domains":7131,"../../../../../selectors":8207,"./domain-input.component":7871,lodash:4940,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("lodash"),a=e("react-redux"),o=e("../../../../../ducks/domains"),i=e("../../../../../selectors"),c=(s=e("./domain-input.component"))&&s.__esModule?s:{default:s};n.default=(0,a.connect)(function(e){return{useBlockie:(0,i.getUseBlockie)(e)}},function(e){return{lookupDomainName:(0,r.debounce)(t=>e((0,o.lookupDomainName)(t)),150),initializeDomainSlice:()=>e((0,o.initializeDomainSlice)()),resetDomainResolution:(0,r.debounce)(()=>e((0,o.resetDomainResolution)()),300)}})(c.default)}}},{package:"$root$",file:"ui/pages/confirmations/send-utils/send-content/add-recipient/domain-input.container.js"}],[7873,{"./domain-input.container":7872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./domain-input.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/send-utils/send-content/add-recipient/domain-input.js"}],[7874,{"../../../../shared/modules/Numeric":6008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_TRANSFER_FUNCTION_SIGNATURE=n.TOKEN_APPROVAL_FUNCTION_SIGNATURE=n.SWAPS_QUOTES_ERROR=n.SWAPS_NO_QUOTES=n.REQUIRED_ERROR=n.RECIPIENT_TYPES=n.NO_RESOLUTION_FOR_DOMAIN=n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE=n.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE=n.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR=n.MIN_GAS_LIMIT_DEC=n.MAX_GAS_LIMIT_DEC=n.KNOWN_RECIPIENT_ADDRESS_WARNING=n.INVALID_RECIPIENT_ADDRESS_ERROR=n.INVALID_HEX_DATA_ERROR=n.INSUFFICIENT_TOKENS_ERROR=n.INSUFFICIENT_FUNDS_ERROR=n.HIGH_FEE_WARNING_MULTIPLIER=n.FLOAT_TOKENS_ERROR=n.ENS_UNKNOWN_ERROR=n.CONTRACT_ADDRESS_ERROR=n.CONFUSING_ENS_ERROR=void 0;var s=e("../../../../shared/modules/Numeric");n.MIN_GAS_LIMIT_DEC=new s.Numeric("21000",10),n.MAX_GAS_LIMIT_DEC="30000000",n.HIGH_FEE_WARNING_MULTIPLIER=1.5,n.TOKEN_TRANSFER_FUNCTION_SIGNATURE="0xa9059cbb",n.TOKEN_APPROVAL_FUNCTION_SIGNATURE="0x095ea7b3",n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE="0x23b872dd",n.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE="0xf242432a",n.INSUFFICIENT_FUNDS_ERROR="insufficientFunds",n.INSUFFICIENT_TOKENS_ERROR="insufficientTokens",n.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR="negativeOrZeroAmountToken",n.FLOAT_TOKENS_ERROR="floatAmountToken",n.INVALID_RECIPIENT_ADDRESS_ERROR="invalidAddressRecipient",n.REQUIRED_ERROR="required",n.KNOWN_RECIPIENT_ADDRESS_WARNING="knownAddressRecipient",n.CONTRACT_ADDRESS_ERROR="contractAddressError",n.CONFUSING_ENS_ERROR="confusingEnsDomain",n.ENS_UNKNOWN_ERROR="ensUnknownError",n.NO_RESOLUTION_FOR_DOMAIN="noDomainResolution",n.SWAPS_NO_QUOTES="swapQuotesNotAvailableErrorTitle",n.SWAPS_QUOTES_ERROR="swapFetchingQuotesErrorTitle",n.INVALID_HEX_DATA_ERROR="invalidHexDataError",n.RECIPIENT_TYPES={SMART_CONTRACT:"SMART_CONTRACT",NON_CONTRACT:"NON_CONTRACT"}}}},{package:"$root$",file:"ui/pages/confirmations/send-utils/send.constants.js"}],[7875,{"../../../../app/scripts/lib/util":368,"../../../../shared/constants/transaction":5915,"../../../../shared/modules/Numeric":6008,"../../../../shared/modules/hexstring-utils":6023,"./send.constants":7874,"@metamask/abi-utils":1215,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addGasBuffer=function(e,t,n=1.5){const s=new i.Numeric(e,16),r=new i.Numeric(t,16).times(new i.Numeric(.9,10)).round(0),a=s.times(new i.Numeric(n,10)).round(0);if(s.greaterThanOrEqualTo(r))return e;if(a.lessThan(r))return a.toString();return r.toString()},n.ellipsify=function(e,t=6,n=4){if(!e)return"";return`${e.slice(0,t)}...${e.slice(-n)}`},n.generateERC1155TransferData=m,n.generateERC20ApprovalData=function({spenderAddress:e=c.BURN_ADDRESS,amount:t="0x0"}){if(!e)return undefined;return l.TOKEN_APPROVAL_FUNCTION_SIGNATURE+Array.prototype.map.call((0,s.encode)(["address","uint256"],[(0,a.addHexPrefix)(e),(0,a.addHexPrefix)(t)]),e=>`00${e.toString(16)}`.slice(-2)).join("")},n.generateERC20TransferData=u,n.generateERC721TransferData=d,n.getAssetTransferData=function({sendToken:e,fromAddress:t,toAddress:n,amount:s}){switch(e.standard){case o.TokenStandard.ERC721:return d({toAddress:n,fromAddress:t,tokenId:e.tokenId});case o.TokenStandard.ERC1155:return m({toAddress:n,fromAddress:t,tokenId:e.tokenId});case o.TokenStandard.ERC20:default:return u({toAddress:n,amount:s,sendToken:e})}},n.isBalanceSufficient=function({amount:e="0x0",balance:t="0x0",conversionRate:n=1,gasTotal:s="0x0",primaryCurrency:a=undefined}){let o=new i.Numeric(e,16).add(new i.Numeric(s,16)),c=new i.Numeric(t,(0,r.isHexString)(t)?16:10);null!=a&&(o=o.applyConversionRate(n),c=c.applyConversionRate(n));return c.greaterThanOrEqualTo(o)},n.isERC1155BalanceSufficient=function({amount:e="0",tokenBalance:t}){const n=new i.Numeric(e,16);return new i.Numeric(t,10).greaterThanOrEqualTo(n)},n.isTokenBalanceSufficient=function({amount:e="0x0",tokenBalance:t,decimals:n}){const s=new i.Numeric(e,16).shiftedBy(n);return new i.Numeric(t,16).greaterThanOrEqualTo(s)};var s=e("@metamask/abi-utils"),r=e("@metamask/utils"),a=e("../../../../app/scripts/lib/util"),o=e("../../../../shared/constants/transaction"),i=e("../../../../shared/modules/Numeric"),c=e("../../../../shared/modules/hexstring-utils"),l=e("./send.constants");function u({toAddress:e="0x0",amount:t="0x0",sendToken:n}){return n?l.TOKEN_TRANSFER_FUNCTION_SIGNATURE+Array.prototype.map.call((0,s.encode)(["address","uint256"],[(0,a.addHexPrefix)(e),(0,a.addHexPrefix)(t)]),e=>`00${e.toString(16)}`.slice(-2)).join(""):undefined}function d({toAddress:e="0x0",fromAddress:t="0x0",tokenId:n}){return n?l.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call((0,s.encode)(["address","address","uint256"],[(0,a.addHexPrefix)(t),(0,a.addHexPrefix)(e),BigInt(n)]),e=>`00${e.toString(16)}`.slice(-2)).join(""):undefined}function m({toAddress:e="0x0",fromAddress:t="0x0",tokenId:n,amount:r="1",data:o="0"}){return n?l.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call((0,s.encode)(["address","address","uint256","uint256","bytes"],[(0,a.addHexPrefix)(t),(0,a.addHexPrefix)(e),BigInt(n),(0,a.addHexPrefix)(r),(0,a.addHexPrefix)(o)]),e=>`00${e.toString(16)}`.slice(-2)).join(""):undefined}}}},{package:"$root$",file:"ui/pages/confirmations/send-utils/send.utils.js"}],[7876,{"./send":7878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Send",{enumerable:!0,get:function(){return s.Send}});var s=e("./send")}}},{package:"$root$",file:"ui/pages/confirmations/send/index.ts"}],[7877,{"../../../components/component-library":6633,"../../../contexts/scroll-container":7112,"../../../helpers/constants/design-system":7149,"../components/send/amount-recipient":7648,"../components/send/asset":7655,"../components/send/header":7657,"../components/send/loader":7660,"../constants/send":7728,"../context/send":7734,"../hooks/send/useSendQueryParams":7800,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendInner=void 0;var s,r=e("react-compiler-runtime"),a=(s=e("react"))&&s.__esModule?s:{default:s},o=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library"),c=e("../../../contexts/scroll-container"),l=e("../components/send/amount-recipient"),u=e("../components/send/header"),d=e("../components/send/asset"),m=e("../components/send/loader"),p=e("../constants/send"),f=e("../context/send"),h=e("../hooks/send/useSendQueryParams");const g=e=>{const t=(0,r.c)(4),{children:n}=e;let s,l,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s={flex:"1 0 auto",minHeight:0},t[0]=s):s=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=a.default.createElement(i.Box,{className:"redesigned__send__sticky-header"},a.default.createElement(u.Header,null)),t[1]=l):l=t[1],t[2]!==n?(d=a.default.createElement(i.Box,{alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.backgroundDefault,className:"redesigned__send__container",display:o.Display.Flex,flexDirection:o.FlexDirection.Column,height:o.BlockSize.Full,justifyContent:o.JustifyContent.center,style:s,width:o.BlockSize.Full},a.default.createElement(i.Box,{backgroundColor:o.BackgroundColor.backgroundSection,className:"redesigned__send__wrapper",display:o.Display.Flex,height:o.BlockSize.Full,justifyContent:o.JustifyContent.center,width:o.BlockSize.Full,borderRadius:o.BorderRadius.LG},a.default.createElement(i.Box,{className:"redesigned__send__content",display:o.Display.Flex,flexDirection:o.FlexDirection.Column,height:o.BlockSize.Full,width:o.BlockSize.Full},l,a.default.createElement(c.ScrollContainer,{className:"redesigned__send__content-wrapper"},n)))),t[2]=n,t[3]=d):d=t[3],d};n.SendInner=()=>{const e=(0,r.c)(3);(0,h.useSendQueryParams)();const{currentPage:t}=(0,f.useSendContext)();if(t===p.SendPages.LOADER){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=a.default.createElement(m.Loader,null),e[0]=t):t=e[0],t}if(t===p.SendPages.ASSET){let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=a.default.createElement(g,null,a.default.createElement(d.Asset,null)),e[1]=t):t=e[1],t}if(t===p.SendPages.AMOUNTRECIPIENT){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=a.default.createElement(g,null,a.default.createElement(l.AmountRecipient,null)),e[2]=t):t=e[2],t}return null}}}},{package:"$root$",file:"ui/pages/confirmations/send/send-inner.tsx"}],[7878,{"../context/send":7734,"../context/send-metrics":7733,"./send-inner":7877,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Send=void 0;var s,r=e("react-compiler-runtime"),a=(s=e("react"))&&s.__esModule?s:{default:s},o=e("../context/send"),i=e("../context/send-metrics"),c=e("./send-inner");n.Send=()=>{const e=(0,r.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=a.default.createElement(o.SendContextProvider,null,a.default.createElement(i.SendMetricsContextProvider,null,a.default.createElement(c.SendInner,null))),e[0]=t):t=e[0],t}}}},{package:"$root$",file:"ui/pages/confirmations/send/send.tsx"}],[7879,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NFT_STANDARDS=n.AssetStandard=void 0;let s=n.AssetStandard=function(e){return e.Native="native",e.ERC20="ERC20",e.ERC721="ERC721",e.ERC1155="ERC1155",e}({});n.NFT_STANDARDS=[s.ERC721,s.ERC1155]}}},{package:"$root$",file:"ui/pages/confirmations/types/send.ts"}],[7880,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isTronAccountForSend=n.isSolanaAccountForSend=n.isEVMAccountForSend=n.isBitcoinAccountForSend=void 0;n.isEVMAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("eip155:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("eip155:"))))};n.isSolanaAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("solana:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("solana:"))))};n.isBitcoinAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("bip122:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("bip122:"))))};n.isTronAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("tron:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("tron:"))))}}}},{package:"$root$",file:"ui/pages/confirmations/utils/account.ts"}],[7881,{"../../../../shared/constants/signatures":5905,"../../../../shared/modules/transaction.utils":6047,"../../../helpers/utils/util":7207,"../constants":7726,"@metamask/transaction-controller":3085},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toPunycodeURL=n.stripProtocol=n.parseSanitizeTypedDataMessage=n.isValidASCIIURL=n.isSignatureTransactionType=n.isSIWESignatureRequest=n.isPermitSignatureRequest=n.isOrderSignatureRequest=n.SIGNATURE_TRANSACTION_TYPES=void 0;var s=e("@metamask/transaction-controller"),r=e("../../../../shared/constants/signatures"),a=e("../../../../shared/modules/transaction.utils"),o=e("../../../helpers/utils/util"),i=e("../constants");const c=n.SIGNATURE_TRANSACTION_TYPES=[s.TransactionType.personalSign,s.TransactionType.signTypedData],l=e=>e&&c.includes(e.type);n.isSignatureTransactionType=l;n.parseSanitizeTypedDataMessage=e=>{const{message:t,primaryType:n,types:s}=(0,a.parseTypedDataMessage)(e);return{sanitizedMessage:(0,o.sanitizeMessage)(t,n,s),primaryType:n}};n.isSIWESignatureRequest=e=>{var t;return Boolean(null==e||null===(t=e.msgParams)||void 0===t||null===(t=t.siwe)||void 0===t?void 0:t.isSIWEMessage)};n.isOrderSignatureRequest=e=>{var t,n;if(!e||!l(e)||"eth_signTypedData"!==e.type||(null===(t=e.msgParams)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.toUpperCase())===i.TYPED_SIGNATURE_VERSIONS.V1)return!1;const{primaryType:s}=(0,a.parseTypedDataMessage)(null===(n=e.msgParams)||void 0===n?void 0:n.data);return r.PRIMARY_TYPES_ORDER.includes(s)};n.isPermitSignatureRequest=e=>{var t,n;if(!e||!l(e)||"eth_signTypedData"!==e.type||(null===(t=e.msgParams)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.toUpperCase())===i.TYPED_SIGNATURE_VERSIONS.V1)return!1;const{primaryType:s}=(0,a.parseTypedDataMessage)(null===(n=e.msgParams)||void 0===n?void 0:n.data);return r.PRIMARY_TYPES_PERMIT.includes(s)};n.isValidASCIIURL=e=>{try{return!(!e||0===e.length)&&e.includes(new URL(e).host)}catch(t){return console.error(`Failed to detect if URL hostname contains non-ASCII characters: ${e}. Error: ${t}`),!1}};n.toPunycodeURL=e=>{try{const t=new URL(e);return"/"===t.pathname&&!e.endsWith("/")?t.href.slice(0,-1):t.href}catch(e){return console.error(`Failed to convert URL to Punycode: ${e}`),undefined}};n.stripProtocol=e=>e.replace(/^\w+:\/\//u,"")}}},{package:"$root$",file:"ui/pages/confirmations/utils/confirm.ts"}],[7882,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function s(e){return e.replace(",",".")}Object.defineProperty(n,"__esModule",{value:!0}),n.validatePriorityFee=n.validateMaxBaseFee=n.validateGasPrice=n.validateGas=void 0;n.validateGas=(e,t)=>{const n=t("gasLimit");return r(e,n,t)||a(e,t)||function(e,t){const n=s(e);if(/^\d+$/u.test(n))return!1;return t("onlyIntegersAllowed")}(e,t)||o(e,n,t)||function(e,t){const n=s(e);if(parseFloat(n)>=21e3)return!1;return t("gasLimitTooLow")}(e,t)||undefined};n.validatePriorityFee=(e,t,n)=>{const i=n("priorityFee");return r(e,i,n)||a(e,n)||o(e,i,n)||function(e,t,n){const r=s(e),a=s(t);if(parseFloat(r)<=parseFloat(a))return!1;return n("priorityFeeTooHigh")}(e,t,n)||undefined};n.validateMaxBaseFee=(e,t,n)=>{const i=n("maxBaseFee");return r(e,i,n)||a(e,n)||o(e,i,n)||function(e,t,n){const r=s(e),a=s(t);if(parseFloat(r)>=parseFloat(a))return!1;return n("maxBaseFeeMustBeGreaterThanPriorityFee")}(e,t,n)||undefined};function r(e,t,n){return!e&&n("fieldRequired",[t])}function a(e,t){const n=s(e);return!/^(\d+\.?\d*|\d*\.\d+)$/u.test(n)&&t("onlyNumbersAllowed")}function o(e,t,n){const r=s(e);return!(parseFloat(r)>0)&&(0===parseFloat(r)?n("noZeroValue",[t]):n("negativeValuesNotAllowed"))}n.validateGasPrice=(e,t)=>{const n=t("gasPrice");return r(e,n,t)||a(e,t)||o(e,n,t)||undefined}}}},{package:"$root$",file:"ui/pages/confirmations/utils/gasValidations.ts"}],[7883,{"./confirm":7881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./confirm");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/pages/confirmations/utils/index.ts"}],[7884,{"../../../store/actions":8241,"@metamask/snaps-utils":2994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sendMultichainTransactionForReview=async function(e,t){var n;return await(0,r.handleSnapRequest)({snapId:null===(n=e.metadata)||void 0===n||null===(n=n.snap)||void 0===n?void 0:n.id,origin:"metamask",handler:s.HandlerType.OnClientRequest,request:{method:"confirmSend",params:t}})},n.validateAmountMultichain=async function(e,t){var n;return await(0,r.handleSnapRequest)({snapId:null===(n=e.metadata)||void 0===n||null===(n=n.snap)||void 0===n?void 0:n.id,origin:"metamask",handler:s.HandlerType.OnClientRequest,request:{method:"onAmountInput",params:t}})};var s=e("@metamask/snaps-utils"),r=e("../../../store/actions")}}},{package:"$root$",file:"ui/pages/confirmations/utils/multichain-snaps.ts"}],[7885,{"../../../../shared/constants/multichain/networks":5895,"../../../../shared/constants/network":5896,"@metamask/keyring-api":2300,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImageForChainId=function(e){return{...a.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP,...o.MULTICHAIN_TOKEN_IMAGE_MAP}[e]},n.isTronChainId=void 0;var s=e("@metamask/utils"),r=e("@metamask/keyring-api"),a=e("../../../../shared/constants/network"),o=e("../../../../shared/constants/multichain/networks");n.isTronChainId=e=>(0,s.isCaipChainId)(e)&&[`${r.TrxScope.Mainnet}`,`${r.TrxScope.Nile}`,`${r.TrxScope.Shasta}`].includes(e)}}},{package:"$root$",file:"ui/pages/confirmations/utils/network.ts"}],[7886,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.limitToMaximumDecimalPlaces=function(e,t=5){if(isNaN(e)||isNaN(t))return e.toString();const n=Math.pow(10,t);return(Math.round(e*n)/n).toString()}}}},{package:"$root$",file:"ui/pages/confirmations/utils/number.ts"}],[7887,{"../../../../shared/modules/Numeric":6008,"../../../helpers/constants/routes":7154,"../../../store/actions":8241,"../send-utils/send.utils":7875,"@metamask/controller-utils":1488,"@metamask/transaction-controller":3085,"ethereumjs-util":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addLeadingZeroIfNeeded=void 0,n.convertedCurrency=function(e,t,n){if(!v(e))return undefined;return u(d(new o.Numeric(e,10).applyConversionRate(t).toString(),n)??"")},n.formatToFixedDecimals=function(e,t=5,n=!0){if(!e||!v(e))return"0";const s=new o.Numeric(e,10);if(s.isZero())return"0";let r=parseInt(null==t?void 0:t.toString(),10);r=r<5?r:5;const a=1/Math.pow(10,r);if(s.lessThan(new o.Numeric(a,10)))return`< ${a}`;const i=s.toString().split("."),c=i[0];let l=i[1]??"";l=l.length>r?l.slice(0,r):l.padEnd(r,"0");if(!l)return c;return n?u(`${c}.${l}`):`${c}.${l}`},n.getLayer1GasFees=n.getFractionLength=n.fromTokenMinimalUnitsNumeric=n.fromTokenMinimalUnits=n.fromTokenMinUnitsNumeric=void 0,n.isValidPositiveNumericString=v,n.trimTrailingZeros=n.toTokenMinimalUnitNumeric=n.toTokenMinimalUnit=n.submitEvmTransaction=n.removeAdditionalDecimalPlaces=n.prepareEVMTransaction=n.navigateToSendRoute=void 0;var s=e("@metamask/controller-utils"),r=e("@metamask/transaction-controller"),a=e("ethereumjs-util"),o=e("../../../../shared/modules/Numeric"),i=e("../../../store/actions"),c=e("../send-utils/send.utils"),l=e("../../../helpers/constants/routes");const u=e=>e.replace(/(\.\d*?[1-9])0+$/gu,"$1").replace(/\.0*$/u,"");n.trimTrailingZeros=u;const d=(e,t)=>{if(!e)return undefined;const n=parseInt((null==t?void 0:t.toString())??"0",10),s=e.replace(/^-/u,"").split("."),r=s[0];let a=s[1]??"";return a.length>n&&(a=a.slice(0,n)),a?`${r}.${a}`:r};n.removeAdditionalDecimalPlaces=d;const m=(e,t,n)=>{const s=parseInt((null==n?void 0:n.toString())??"0",10),r=Math.pow(10,Number(s));return new o.Numeric(e,t).times(r,10)};n.fromTokenMinUnitsNumeric=m;const p=(e,t)=>m(e,10,t);n.fromTokenMinimalUnitsNumeric=p;const f=(e,t)=>(0,a.addHexPrefix)(p(e,t).toBase(16).toString());n.fromTokenMinimalUnits=f;const h=(e,t=0,n)=>{const s=parseInt((null==t?void 0:t.toString())??"0",10),r=Math.pow(10,Number(s));return new o.Numeric(e,n??16).divide(r,10)};n.toTokenMinimalUnitNumeric=h;n.toTokenMinimalUnit=(e,t=0,n)=>d(h(e,t,n).toBase(10).toString(),t);const g=(e,t,n="0x")=>{const{from:r,to:a,value:o}=t,i={from:r},l=e.tokenId?o:f(o??"0",e.decimals);return e.isNative?(i.data=n,i.to=a,i.value=l,i):e.standard===s.ERC1155?(i.data=(0,c.generateERC1155TransferData)({fromAddress:r,toAddress:a,tokenId:e.tokenId,amount:l}),i.to=e.address,i.value="0x0",i):e.standard===s.ERC721?(i.data=(0,c.generateERC721TransferData)({fromAddress:r,toAddress:a,tokenId:e.tokenId}),i.to=e.address,i.value="0x0",i):(i.data=(0,c.generateERC20TransferData)({toAddress:a,amount:l,sendToken:e}),i.to=e.address,i.value="0x0",i)};n.prepareEVMTransaction=g;n.submitEvmTransaction=async({asset:e,chainId:t,from:n,hexData:a,to:o,value:c})=>{const l=g(e,{from:n,to:o,value:c},a),u=await(0,i.findNetworkClientIdByChainId)(t);let d;return e.isNative?d=r.TransactionType.simpleSend:e.standard===s.ERC20?d=r.TransactionType.tokenMethodTransfer:e.standard===s.ERC721?d=r.TransactionType.tokenMethodTransferFrom:e.standard===s.ERC1155&&(d=r.TransactionType.tokenMethodSafeTransferFrom),(0,i.addTransactionAndRouteToConfirmationPage)(l,{networkClientId:u,type:d})};function v(e){if(!/^(\d+(\.\d+)?|\.\d+)$/u.test(e))return!1;try{return new o.Numeric(e,10).greaterThanOrEqualTo(new o.Numeric("0",10))}catch(e){return!1}}n.getLayer1GasFees=async({asset:e,chainId:t,from:n,value:s})=>await(0,i.getLayer1GasFeeValue)({chainId:t,transactionParams:{value:f(s,e.decimals),from:n}});n.navigateToSendRoute=(e,t)=>{if(t){const n=new URLSearchParams,{address:s,chainId:r,tokenId:a}=t;s&&n.append("asset",s),r&&n.append("chainId",r),a&&n.append("tokenId",a),e(`${l.SEND_ROUTE}/amount-recipient?${n.toString()}`)}else e(`${l.SEND_ROUTE}/asset`)};n.getFractionLength=e=>(e.replace(/^-/u,"").split(".")[1]??"").length;n.addLeadingZeroIfNeeded=e=>{if(!e)return e;const t=e.replace(/^-/u,"").split("."),n=t[0],s=t[1]??"";return n.length?e:`0.${s}`}}}},{package:"$root$",file:"ui/pages/confirmations/utils/send.ts"}],[7888,{"../../../../shared/lib/multichain/accounts":5984,"../../../store/actions":8241,"../constants/token":7729,"unicode-confusables":5798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTronAddress=n.validateSolanaAddress=n.validateEvmHexAddress=n.validateBtcAddress=n.findConfusablesInRecipient=void 0;var s=e("unicode-confusables"),r=e("../../../../shared/lib/multichain/accounts"),a=e("../../../store/actions"),o=e("../constants/token");n.findConfusablesInRecipient=e=>{const t=(0,s.confusables)(e),n=new Set,r=t.filter(({point:e})=>!n.has(e)&&(n.add(e),!0)).filter(({similarTo:e})=>e!==undefined);if(r.length){return r.some(({similarTo:e})=>""===e)?{error:"invalidAddress",warning:"confusableZeroWidthUnicode"}:{confusableCharacters:r}}return{}};n.validateEvmHexAddress=async(e,t,n)=>{if(o.LOWER_CASED_BURN_ADDRESSES.includes(e.toLowerCase()))return{error:"invalidAddress"};if((null==e?void 0:e.toLowerCase())===(null==n?void 0:n.toLowerCase()))return{error:"contractAddressError"};if(t){const n=await(0,a.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t);if(null!=n&&n.standard)return{error:"tokenContractError"}}return{}};const i=["1nc1nerator11111111111111111111111111111111","So11111111111111111111111111111111111111112"];n.validateSolanaAddress=e=>i.includes(e)?{error:"invalidAddress"}:(0,r.isSolanaAddress)(e)?{}:{error:"invalidAddress"};n.validateBtcAddress=e=>(0,r.isBtcMainnetAddress)(e)?{}:{error:"invalidAddress"};n.validateTronAddress=e=>(0,r.isTronAddress)(e)?{}:{error:"invalidAddress"}}}},{package:"$root$",file:"ui/pages/confirmations/utils/sendValidations.ts"}],[7889,{"humanize-duration":4708},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toHumanEstimatedTimeRange=void 0;var s,r=(s=e("humanize-duration"))&&s.__esModule?s:{default:s};const a=r.default.humanizer({language:"shortEn",languages:{shortEn:{m:()=>"min",s:()=>"sec"}}}),o=r.default.humanizer({language:"shortEn",languages:{shortEn:{m:()=>"",s:()=>""}}});n.toHumanEstimatedTimeRange=(e,t)=>{if(!e||!t)return undefined;const n=e/1e3,s=t/1e3>=60,r={units:s?["m"]:["s"],round:!1,spacer:" ",decimal:".",maxDecimalPoints:1};return`${o(s&&n>=59&&n<60?6e4:e,r)}- ${a(t,r)}`}}}},{package:"$root$",file:"ui/pages/confirmations/utils/time.ts"}],[7890,{"../../../store/actions":8241,"bignumber.js":4064,lodash:4940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchErc20Decimals=n.fetchAllTokenDetails=n.fetchAllErc20Decimals=n.calculateTokenAmount=n.ERC20_DEFAULT_DECIMALS=void 0,n.getTokenValueFromRecord=function(e,t){const n=Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase());return n?e[n]:undefined},n.parseTokenDetailDecimals=n.memoizedGetTokenStandardAndDetailsByChain=n.memoizedGetTokenStandardAndDetails=void 0;var s=e("bignumber.js"),r=e("lodash"),a=e("../../../store/actions");const o=n.ERC20_DEFAULT_DECIMALS=18,i=e=>{if(!e)return undefined;for(const t of[10,16]){const n=parseInt(e,t);if(isFinite(n))return n}return undefined};n.parseTokenDetailDecimals=i;n.memoizedGetTokenStandardAndDetails=(0,r.memoize)(async(e,t,n)=>{try{return e?await(0,a.getTokenStandardAndDetails)(e,t,n):{}}catch{return{}}}),n.memoizedGetTokenStandardAndDetailsByChain=(0,r.memoize)(async(e,t)=>{try{return e?await(0,a.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t):{}}catch{return{}}},(e,t)=>`${e}-${t}`);const c=async(e,t)=>{try{const n=await(0,a.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t),{decimals:s}=n;return i(s)??o}catch{return o}};n.fetchErc20Decimals=c;n.fetchAllErc20Decimals=async(e,t)=>{const n=[...new Set(e.map(e=>e.toLowerCase()))],s=await Promise.all(n.map(e=>c(e,t)));return Object.fromEntries(s.map((e,t)=>[n[t],e]))};n.fetchAllTokenDetails=async(e,t)=>{const n=[...new Set(e.map(e=>e.toLowerCase()))],s=await Promise.all(n.map(e=>(0,a.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t)));return Object.fromEntries(s.map((e,t)=>[n[t],e]))};n.calculateTokenAmount=(e,t,n=10,r=1)=>{const a=new s.BigNumber(10).pow(t??0);return new s.BigNumber(String(e),n).div(a).times(new s.BigNumber(r,10))}}}},{package:"$root$",file:"ui/pages/confirmations/utils/token.ts"}],[7891,{"../types/send":7879,"@metamask/assets-controllers":1324,"bignumber.js":4064},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAvailableTokens=function({payToken:e,requiredTokens:t,tokens:n}){return n.filter(n=>{var s,o;if(n.standard!==a.AssetStandard.ERC20||null===(s=n.accountType)||void 0===s||!s.includes("eip155"))return!1;if((null==e?void 0:e.address.toLowerCase())===(null===(o=n.address)||void 0===o?void 0:o.toLowerCase())&&(null==e?void 0:e.chainId)===n.chainId)return!0;return!!(t??[]).some(e=>{var t;return e.address.toLowerCase()===(null===(t=n.address)||void 0===t?void 0:t.toLowerCase())&&e.chainId===n.chainId&&!e.skipIfBalance})||new r.BigNumber(n.balance??0).gt(0)}).map(t=>{var a;const o=t.chainId??"0x0",i=n.find(e=>e.chainId===o&&e.address===(0,s.getNativeTokenAddress)(o)),c=!i||new r.BigNumber(i.balance??0).isZero(),l=(null==e?void 0:e.address.toLowerCase())===(null===(a=t.address)||void 0===a?void 0:a.toLowerCase())&&(null==e?void 0:e.chainId)===t.chainId;return{...t,disabled:c,isSelected:l}})},n.getTokenAddress=function(e){var t;const n=e&&i(e);if(n)return n.to;return null==e||null===(t=e.txParams)||void 0===t?void 0:t.to},n.getTokenTransferData=i,n.hasTransactionType=function(e,t){return t.includes(null==e?void 0:e.type)};var s=e("@metamask/assets-controllers"),r=e("bignumber.js"),a=e("../types/send");const o="0xa9059cbb";function i(e){const{nestedTransactions:t,txParams:n}=e??{},{data:s}=n??{},r=null==n?void 0:n.to;if(null!=s&&s.startsWith(o)&&r)return{data:s,to:r,index:undefined};const a=null==t?void 0:t.findIndex(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.startsWith(o)}),i=a===undefined?undefined:null==t?void 0:t[a];return null!=i&&i.data&&i.to?{data:i.data,to:i.to,index:a}:undefined}}}},{package:"$root$",file:"ui/pages/confirmations/utils/transaction-pay.ts"}],[7892,{"../../components/app/connected-accounts-list":6172,"../../components/app/connected-accounts-permissions":6174,"../../components/app/connected-sites-list/connected-snaps":6178,"../../components/component-library":6633,"../../components/ui/popover":7061,"../../helpers/constants/design-system":7149,"../../helpers/utils/util":7207,"../../hooks/useI18nContext":7301,"../../selectors":8207,"@metamask/snaps-utils":2994,"prop-types":5196,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var s=g(e("prop-types")),r=g(e("react")),a=e("react-redux"),o=e("@metamask/snaps-utils"),i=g(e("../../components/ui/popover")),c=g(e("../../components/app/connected-accounts-list")),l=g(e("../../components/app/connected-accounts-permissions")),u=e("../../helpers/utils/util"),d=e("../../hooks/useI18nContext"),m=g(e("../../components/app/connected-sites-list/connected-snaps")),p=e("../../helpers/constants/design-system"),f=e("../../components/component-library"),h=e("../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function v({accountToConnect:e=null,activeTabOrigin:t,isActiveTabExtension:n,connectAccount:s,connectedAccounts:g,navigate:v,mostRecentOverviewPage:T,permissions:y=undefined,selectedAddress:_,removePermittedAccount:k,setSelectedAccount:S,subjectMetadata:A,originOfActiveTab:w,permissionSubjects:E}){var x,C,b;const P=(0,d.useI18nContext)(),I=(0,a.useSelector)(h.getInternalAccounts),N=A[w],R=(null===(x=E[w])||void 0===x?void 0:x.origin)===(null==N?void 0:N.origin)&&(null===(C=E[w])||void 0===C?void 0:C.permissions[o.WALLET_SNAP_PERMISSION_KEY]),M=R&&Object.keys(null===(b=E[w])||void 0===b||null===(b=b.permissions)||void 0===b||null===(b=b.wallet_snap)||void 0===b||null===(b=b.caveats[0])||void 0===b?void 0:b.value),F=R&&(null==M?void 0:M.map(e=>A[e])),O=g.length>0?P("connectedAccountsDescriptionPlural",[g.length]):P("connectedAccountsDescriptionSingular");let D;return D=g.length&&!R?O:R&&!g.length?P("connectedSnapAndNoAccountDescription"):g&&R?null:P("connectedAccountsEmptyDescription"),r.default.createElement(i.default,{title:n?P("currentExtension"):(0,u.getURLHost)(t),headerProps:{paddingLeft:4,paddingRight:4},subtitle:D,onClose:()=>v(T),footerClassName:"connected-accounts__footer",ConnectedAccountsPermissions:{},footer:g.length>0&&r.default.createElement(l.default,{permissions:y})},r.default.createElement(f.Box,null,g.length>0?r.default.createElement(f.Box,{marginLeft:4},r.default.createElement(f.Text,{variant:p.TextVariant.bodyMdMedium,color:p.TextColor.textAlternative},P("accountsConnected"),"(",g.length,")")):null,r.default.createElement(c.default,{accountToConnect:e,connectAccount:s,connectedAccounts:g,selectedAddress:_,removePermittedAccount:k,setSelectedAddress:e=>{const{id:t}=I.find(t=>t.address===e);S(t)},shouldRenderListOptions:!0})),R&&F.length>0&&r.default.createElement(r.default.Fragment,null,r.default.createElement(f.Box,{marginLeft:4},r.default.createElement(f.Text,{variant:p.TextVariant.bodyMdMedium,color:p.TextColor.textAlternative},P("snapsConnected"),"(",M.length,")")),r.default.createElement(m.default,{connectedSubjects:F})))}v.propTypes={accountToConnect:s.default.object,activeTabOrigin:s.default.string.isRequired,connectAccount:s.default.func.isRequired,connectedAccounts:s.default.array.isRequired,mostRecentOverviewPage:s.default.string.isRequired,permissions:s.default.array,isActiveTabExtension:s.default.bool.isRequired,selectedAddress:s.default.string.isRequired,removePermittedAccount:s.default.func.isRequired,setSelectedAccount:s.default.func.isRequired,navigate:s.default.func.isRequired,subjectMetadata:s.default.arrayOf(s.default.object).isRequired,originOfActiveTab:s.default.string,permissionSubjects:s.default.object}}}},{package:"$root$",file:"ui/pages/connected-accounts/connected-accounts.component.js"}],[7893,{"../../ducks/history/history":7134,"../../helpers/utils/util":7207,"../../selectors":8207,"../../store/actions":8241,"./connected-accounts.component":7892,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../../selectors"),o=e("../../helpers/utils/util"),i=e("../../store/actions"),c=e("../../ducks/history/history"),l=(s=e("./connected-accounts.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{var t;const n=(0,a.getAccountToConnectToActiveTab)(e),s=(0,a.getOrderedConnectedAccountsForActiveTab)(e),r=(0,a.getInternalAccounts)(e),i=new Map(r.map(e=>[e.address,e])),l=s.map(e=>{var t;return{...e,name:null===(t=i.get(e.address))||void 0===t?void 0:t.metadata.name}}),u=n&&{...n,name:null===(t=r.find(e=>e.address===(null==n?void 0:n.address)))||void 0===t?void 0:t.metadata.name},d=(0,a.getPermissionsForActiveTab)(e),{address:m}=(0,a.getSelectedInternalAccount)(e),p=(0,a.getSubjectMetadata)(e),f=(0,a.getOriginOfCurrentTab)(e),h=(0,a.getPermissionSubjects)(e);return{accountToConnect:u,isActiveTabExtension:(0,o.isExtensionUrl)(f),activeTabOrigin:f,connectedAccounts:l,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permissions:d,selectedAddress:m,subjectMetadata:p,originOfActiveTab:f,permissionSubjects:h}},e=>({addPermittedAccount:(t,n)=>e((0,i.addPermittedAccount)(t,n)),removePermittedAccount:(t,n)=>e((0,i.removePermittedAccount)(t,n)),setSelectedAccount:t=>e((0,i.setSelectedInternalAccount)(t))}),(e,t,n)=>{const{activeTabOrigin:s}=e;return{...n,...e,...t,connectAccount:e=>t.addPermittedAccount(s,e),removePermittedAccount:e=>t.removePermittedAccount(s,e)}})(l.default)}}},{package:"$root$",file:"ui/pages/connected-accounts/connected-accounts.container.js"}],[7894,{"./connected-accounts.container":7893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./connected-accounts.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/connected-accounts/index.js"}],[7895,{"../../components/app/connected-sites-list":6179,"../../components/component-library":6633,"../../components/ui/popover/popover.component":7062,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=l(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=l(e("../../components/app/connected-sites-list")),o=l(e("../../components/ui/popover/popover.component")),i=e("../../components/component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{constructor(...e){super(...e),u(this,"state",{sitePendingDisconnect:null}),u(this,"setPendingDisconnect",e=>{this.setState({sitePendingDisconnect:{subjectKey:e}})}),u(this,"clearPendingDisconnect",()=>{this.setState({sitePendingDisconnect:null})}),u(this,"disconnectAccount",()=>{const{disconnectAccount:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()}),u(this,"disconnectAllAccounts",()=>{const{disconnectAllAccounts:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()})}componentDidMount(){const{getOpenMetamaskTabsIds:e}=this.props;e()}renderConnectedSitesList(){return r.default.createElement(a.default,{connectedSubjects:this.props.connectedSubjects,onDisconnect:this.setPendingDisconnect})}renderConnectedSitesPopover(){const{accountLabel:e,closePopover:t,connectedSubjects:n,tabToConnect:s,requestAccountsPermission:a}=this.props,{t:i}=this.context;return r.default.createElement(o.default,{className:"connected-sites",title:i("connectedSites"),subtitle:n.length?i("connectedSitesDescription",[e]):i("connectedSitesEmptyDescription",[e]),onClose:t,footer:s?r.default.createElement("a",{className:"connected-sites__text-button",onClick:a},i("connectManually")):null,footerClassName:"connected-sites__add-site-manually"},this.renderConnectedSitesList())}renderDisconnectPopover(){const{closePopover:e,permittedAccountsByOrigin:t}=this.props,{t:n}=this.context,{sitePendingDisconnect:{subjectKey:s}}=this.state,a=t[s].length;return r.default.createElement(o.default,{className:"connected-sites",title:n("disconnectPrompt",[s]),subtitle:n("disconnectAllAccountsConfirmationDescription"),onClose:e,footer:r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"connected-sites__footer-row"},r.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,onClick:this.clearPendingDisconnect,block:!0},n("cancel")),r.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,onClick:this.disconnectAccount,block:!0},n("disconnect"))),a>1?r.default.createElement("div",{className:"connected-sites__footer-row"},r.default.createElement("a",{className:"connected-sites__text-button",onClick:this.disconnectAllAccounts},n("disconnectAllAccounts"))):null),footerClassName:"connected-sites__confirmation"})}render(){const{sitePendingDisconnect:e}=this.state;return e?this.renderDisconnectPopover():this.renderConnectedSitesPopover()}}n.default=d,u(d,"contextTypes",{t:s.default.func}),u(d,"defaultProps",{tabToConnect:null}),u(d,"propTypes",{accountLabel:s.default.string.isRequired,closePopover:s.default.func.isRequired,connectedSubjects:s.default.arrayOf(s.default.object).isRequired,disconnectAllAccounts:s.default.func.isRequired,disconnectAccount:s.default.func.isRequired,getOpenMetamaskTabsIds:s.default.func.isRequired,permittedAccountsByOrigin:s.default.objectOf(s.default.arrayOf(s.default.string)).isRequired,tabToConnect:s.default.object,requestAccountsPermission:s.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/connected-sites/connected-sites.component.js"}],[7896,{"../../ducks/history/history":7134,"../../helpers/constants/routes":7154,"../../selectors":8207,"../../store/actions":8241,"./connected-sites.component":7895,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../../store/actions"),o=e("../../selectors"),i=e("../../helpers/constants/routes"),c=e("../../ducks/history/history"),l=(s=e("./connected-sites.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{var t;const{openMetaMaskTabs:n}=e.appState,{id:s}=e.activeTab,r=(0,o.getConnectedSubjectsForSelectedAddress)(e),a=(0,o.getOriginOfCurrentTab)(e),i=(0,o.getPermittedAccountsByOrigin)(e),{address:l}=(0,o.getSelectedInternalAccount)(e),u=!(null!==(t=i[a])&&void 0!==t&&t.length);let d;return a&&u&&!n[s]&&(d={origin:a}),{accountLabel:(0,o.getSelectedInternalAccount)(e).metadata.name,connectedSubjects:r,subjects:(0,o.getPermissionSubjects)(e),mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permittedAccountsByOrigin:i,selectedAddress:l,tabToConnect:d}},e=>({getOpenMetamaskTabsIds:()=>e((0,a.getOpenMetamaskTabsIds)()),disconnectAccount:(t,n)=>{e((0,a.removePermittedAccount)(t,n))},disconnectAllAccounts:(t,n)=>{const s=Object.values(n.permissions).map(({parentCapability:e})=>e);e((0,a.removePermissionsFor)({[t]:s}))},requestAccountsAndChainPermissionsWithId:t=>e((0,a.requestAccountsAndChainPermissionsWithId)(t))}),(e,t,n)=>{const{connectedSubjects:s,subjects:r,mostRecentOverviewPage:a,selectedAddress:o,tabToConnect:c}=e,{disconnectAccount:l,disconnectAllAccounts:u,requestAccountsAndChainPermissionsWithId:d}=t,{navigate:m}=n,p=()=>m(a);return{...n,...e,...t,closePopover:p,disconnectAccount:e=>{l(e,o),1===s.length&&p()},disconnectAllAccounts:e=>{u(e,r[e]),1===s.length&&p()},requestAccountsPermission:async()=>{const e=await d(c.origin);m(`${i.CONNECT_ROUTE}/${e}`)}}})(l.default)}}},{package:"$root$",file:"ui/pages/connected-sites/connected-sites.container.js"}],[7897,{"./connected-sites.container":7896},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./connected-sites.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/connected-sites/index.js"}],[7898,{"../../../../shared/constants/defi-referrals":5881,"../../../hooks/useI18nContext":7301,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HyperliquidReferralConsent=void 0;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=e("@metamask/design-system-react"),o=e("../../../hooks/useI18nContext"),i=e("../../../../shared/constants/defi-referrals");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=i.DEFI_REFERRAL_PARTNERS[i.DefiReferralPartner.Hyperliquid].learnMoreUrl,u=e=>{const t=(0,s.c)(3),{text:n}=e;let a,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={color:"var(--color-primary-default)",cursor:"pointer"},t[0]=a):a=t[0],t[1]!==n?(o=r.default.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",style:a},n),t[1]=n,t[2]=o):o=t[2],o},d=()=>{const e=(0,s.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("img",{src:"./images/hyperliquid-referral.png",alt:"Hyperliquid referral",width:"full"}),e[0]=t):t=e[0],t};n.HyperliquidReferralConsent=e=>{const t=(0,s.c)(41),{onActionComplete:n,selectedAddress:i}=e,c=(0,o.useI18nContext)(),[l,m]=(0,r.useState)(!0);let p;t[0]!==l||t[1]!==n||t[2]!==i?(p=()=>{n({approved:l,selectedAddress:i})},t[0]=l,t[1]=n,t[2]=i,t[3]=p):p=t[3];const f=p;let h;t[4]!==l?(h=()=>{m(!l)},t[4]=l,t[5]=h):h=t[5];const g=h;let v,T,y,_,k,S,A,w,E,x,C,b,P,I,N;return t[6]!==c?(v=c("hyperliquidReferralTitle"),t[6]=c,t[7]=v):v=t[7],t[8]!==v?(T=r.default.createElement(a.Text,{textAlign:a.TextAlign.Center,variant:a.TextVariant.HeadingMd,fontWeight:a.FontWeight.Bold},v),t[8]=v,t[9]=T):T=t[9],t[10]!==c?(y=c("hyperliquidReferralSubtitle"),t[10]=c,t[11]=y):y=t[11],t[12]!==c?(_=c("learnMoreUpperCase"),t[12]=c,t[13]=_):_=t[13],t[14]!==_?(k=r.default.createElement(u,{text:_}),t[14]=_,t[15]=k):k=t[15],t[16]!==y||t[17]!==k?(S=r.default.createElement(a.Text,{variant:a.TextVariant.BodyMd,color:a.TextColor.TextAlternative},y," ",k),t[16]=y,t[17]=k,t[18]=S):S=t[18],t[19]!==T||t[20]!==S?(A=r.default.createElement(a.Box,{flexDirection:a.BoxFlexDirection.Column,alignItems:a.BoxAlignItems.Center,gap:4,className:"mb-6"},T,S),t[19]=T,t[20]=S,t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(w=r.default.createElement(a.Box,{paddingBottom:6,paddingHorizontal:4},r.default.createElement(d,null)),t[22]=w):w=t[22],t[23]!==c?(E=c("hyperliquidReferralCheckboxLabel"),t[23]=c,t[24]=E):E=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(x={variant:a.TextVariant.BodySm,color:a.TextColor.TextAlternative},t[25]=x):x=t[25],t[26]!==g||t[27]!==l||t[28]!==E?(C=r.default.createElement(a.Box,{backgroundColor:a.BoxBackgroundColor.BackgroundSection,padding:3,className:"rounded-lg"},r.default.createElement(a.Checkbox,{id:"hyperliquid-referral-consent-checkbox",isSelected:l,onChange:g,label:E,labelProps:x,className:"items-start cursor-pointer"})),t[26]=g,t[27]=l,t[28]=E,t[29]=C):C=t[29],t[30]!==c?(b=c("confirm"),t[30]=c,t[31]=b):b=t[31],t[32]!==f||t[33]!==b?(P=r.default.createElement(a.Button,{onClick:f},b),t[32]=f,t[33]=b,t[34]=P):P=t[34],t[35]!==C||t[36]!==P?(I=r.default.createElement(a.Box,{flexDirection:a.BoxFlexDirection.Column,justifyContent:a.BoxJustifyContent.Between,alignItems:a.BoxAlignItems.Center,className:"h-full"},w,r.default.createElement(a.Box,{flexDirection:a.BoxFlexDirection.Column,gap:4},C,P)),t[35]=C,t[36]=P,t[37]=I):I=t[37],t[38]!==I||t[39]!==A?(N=r.default.createElement(a.Box,{flexDirection:a.BoxFlexDirection.Column,className:"h-full"},A,I),t[38]=I,t[39]=A,t[40]=N):N=t[40],N}}}},{package:"$root$",file:"ui/pages/core/hyperliquid-referral-consent/hyperliquid-referral-consent.tsx"}],[7899,{"./hyperliquid-referral-consent":7898},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"HyperliquidReferralConsent",{enumerable:!0,get:function(){return s.HyperliquidReferralConsent}});var s=e("./hyperliquid-referral-consent")}}},{package:"$root$",file:"ui/pages/core/hyperliquid-referral-consent/index.ts"}],[7900,{"../../../../shared/constants/hardware-wallets":5886,"../../../../shared/constants/metametrics":5892,"../../../components/component-library":6633,"../../../components/ui/check-box":6990,"../../../components/ui/dropdown":7007,"../../../helpers/utils/util":7207,"./utils":7903,"@metamask/etherscan-link":2170,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=f(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=e("@metamask/etherscan-link"),o=e("../../../components/component-library"),i=f(e("../../../components/ui/check-box")),c=f(e("../../../components/ui/dropdown")),l=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/hardware-wallets"),d=e("../../../../shared/constants/metametrics"),m=e("./utils");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(...e){super(...e),h(this,"state",{pathValue:null}),h(this,"goToNextPage",()=>{5===this.props.accounts.length?this.props.getPage(this.props.device,1,this.props.selectedPath,!1):this.props.onAccountRestriction()}),h(this,"goToPreviousPage",()=>{this.props.getPage(this.props.device,-1,this.props.selectedPath,!1)})}componentDidMount(){const{device:e}=this.props,{trackEvent:t}=this.context;t({event:d.MetaMetricsEventName.ConnectHardwareWalletAccountSelectorViewed,properties:{device_type:(0,m.capitalizeStr)(e)}})}setPath(e){this.setState({pathValue:e})}isFirstPage(){var e;return 0===(null===(e=this.props.accounts[0])||void 0===e?void 0:e.index)}renderHdPathSelector(){const{device:e,selectedPath:t,hdPaths:n,onPathChange:s}=this.props,{pathValue:a}=this.state;return r.default.createElement("div",null,r.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectHdPath")),r.default.createElement("p",{className:"hw-connect__msg"},this.context.t("selectPathHelp")),r.default.createElement("div",{className:"hw-connect__hdPath"},r.default.createElement(c.default,{className:"hw-connect__hdPath__select",options:n[e],selectedOption:a||t,onChange:e=>{this.setPath(e),s(e)}})))}renderHeader(){const{device:e}=this.props,t=[u.HardwareDeviceNames.ledger,u.HardwareDeviceNames.lattice,u.HardwareDeviceNames.trezor,u.HardwareDeviceNames.oneKey].includes(e);return r.default.createElement("div",{className:"hw-connect"},r.default.createElement("h3",{className:"hw-connect__unlock-title"},this.context.t("selectAnAccount")),t?this.renderHdPathSelector():null,r.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectAnAccount")))}renderAccounts(){const{accounts:e,connectedAccounts:t,rpcPrefs:n,chainId:s}=this.props;return r.default.createElement("div",{className:"hw-account-list"},e.map((e,o)=>{const c=t.includes(e.address.toLowerCase()),u=e.index,m=this.props.selectedAccounts.includes(e.index)||c,p=(0,a.getAccountLink)(e.address,s,n),f=(0,l.getURLHostName)(p);return r.default.createElement("div",{className:"hw-account-list__item",key:e.address,"data-testid":"hw-account-list__item",title:c?this.context.t("selectAnAccountAlreadyConnected"):""},r.default.createElement("div",{className:"hw-account-list__item__checkbox"},r.default.createElement(i.default,{id:`address-${o}`,checked:m,disabled:c,onClick:()=>{this.props.onAccountChange(u)}}),r.default.createElement("label",{className:"hw-account-list__item__label",htmlFor:`address-${o}`},r.default.createElement("span",{className:"hw-account-list__item__index"},e.index+1),`${e.address.slice(0,4)}...${e.address.slice(-4)}`,r.default.createElement("span",{className:"hw-account-list__item__balance"},`${e.balance}`))),r.default.createElement("a",{className:"hw-account-list__item__link",onClick:()=>{this.context.trackEvent({category:d.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{actions:"Hardware Connect",link_type:"Account Tracker",block_explorer_domain:f}}),global.platform.openTab({url:p})},target:"_blank",rel:"noopener noreferrer",title:this.context.t("genericExplorerView",[f])},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-default)"}})))}))}renderPagination(){return r.default.createElement("div",{className:"hw-list-pagination"},r.default.createElement("button",{className:"hw-list-pagination__button",disabled:this.isFirstPage(),onClick:this.goToPreviousPage,"data-testid":"hw-list-pagination__prev-button"},`< ${this.context.t("prev")}`),r.default.createElement("button",{className:"hw-list-pagination__button",onClick:this.goToNextPage},`${this.context.t("next")} >`))}renderButtons(){const e=0===this.props.selectedAccounts.length;return e&&({}.disabled=!0),r.default.createElement("div",{className:"new-external-account-form__buttons"},r.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,block:!0,onClick:this.props.onCancel.bind(this)},this.context.t("cancel")),r.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,block:!0,className:"new-external-account-form__button unlock",disabled:e,onClick:this.props.onUnlockAccounts.bind(this,this.props.device,this.props.selectedPath)},this.context.t("unlock")))}renderForgetDevice(){return r.default.createElement("div",{className:"hw-forget-device-container"},r.default.createElement("a",{onClick:this.props.onForgetDevice.bind(this,this.props.device,this.props.selectedPath)},this.context.t("forgetDevice")))}render(){return r.default.createElement("div",{className:"new-external-account-form account-list"},this.renderHeader(),this.renderAccounts(),this.renderPagination(),this.renderButtons(),this.renderForgetDevice())}}g.propTypes={onPathChange:s.default.func.isRequired,selectedPath:s.default.string.isRequired,device:s.default.string.isRequired,accounts:s.default.array.isRequired,connectedAccounts:s.default.array.isRequired,onAccountChange:s.default.func.isRequired,onForgetDevice:s.default.func.isRequired,getPage:s.default.func.isRequired,chainId:s.default.string,rpcPrefs:s.default.object,selectedAccounts:s.default.array.isRequired,onUnlockAccounts:s.default.func,onCancel:s.default.func,onAccountRestriction:s.default.func,hdPaths:s.default.object.isRequired},g.contextTypes={t:s.default.func,trackEvent:s.default.func};n.default=g}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/account-list.js"}],[7901,{"../../../../shared/constants/hardware-wallets":5886,"../../../../shared/constants/keyring":5888,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/time":5913,"../../../../shared/modules/selectors/networks":6034,"../../../components/component-library":6633,"../../../ducks/history/history":7134,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/zendesk-url":7161,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../../helpers/utils/util":7207,"../../../selectors":8207,"../../../selectors/selectors":8227,"../../../store/actions":8241,"./account-list":7900,"./select-hardware":7902,"./utils":7903,"prop-types":5196,react:5358,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.TREZOR_HD_PATHS=n.LEDGER_HD_PATHS=n.LATTICE_HD_PATHS=void 0;var s=x(e("react")),r=w(e("prop-types")),a=e("react-redux"),o=e("redux"),i=x(e("../../../store/actions")),c=e("../../../../shared/modules/selectors/networks"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),d=e("../../../ducks/history/history"),m=e("../../../../shared/constants/time"),p=e("../../../../shared/constants/hardware-wallets"),f=e("../../../components/component-library"),h=w(e("../../../helpers/constants/zendesk-url")),g=e("../../../helpers/constants/design-system"),v=e("../../../selectors/selectors"),T=w(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),y=e("../../../../shared/constants/keyring"),_=e("../../../../shared/constants/metametrics"),k=w(e("./account-list")),S=w(e("./select-hardware")),A=e("./utils");function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=n.LEDGER_HD_PATHS=[{name:"Ledger Live",value:p.LEDGER_LIVE_PATH},{name:"Legacy (MEW / MyCrypto)",value:p.MEW_PATH},{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:p.BIP44_PATH}],P=n.LATTICE_HD_PATHS=[{name:`Standard (${p.LATTICE_STANDARD_BIP44_PATH})`,value:p.LATTICE_STANDARD_BIP44_PATH},{name:`Ledger Live (${p.LATTICE_LEDGER_LIVE_PATH})`,value:p.LATTICE_LEDGER_LIVE_PATH},{name:`Ledger Legacy (${p.LATTICE_MEW_PATH})`,value:p.LATTICE_MEW_PATH}],I=n.TREZOR_HD_PATHS=[{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:p.BIP44_PATH},{name:"Legacy (Ledger / MEW / MyCrypto)",value:p.MEW_PATH},{name:"Trezor Testnets",value:p.TREZOR_TESTNET_PATH}],N={ledger:b,lattice:P,trezor:I,oneKey:I},R=(e,t)=>{const n=p.LEDGER_ERRORS_CODES[e];return n!==undefined?t(n):e};class M extends s.Component{constructor(...e){super(...e),C(this,"state",{error:null,selectedAccounts:[],accounts:[],browserSupported:!0,unlocked:!1,device:null,isFirefox:!1}),C(this,"connectToHardwareWallet",e=>{if(this.setState({device:e}),this.state.accounts.length)return;const t=this.getHardwareWalletKeyrings().length;this.context.trackEvent({event:_.MetaMetricsEventName.ConnectHardwareWalletClicked,properties:{device_type:(0,A.capitalizeStr)(e),connected_device_count:t}}),this.getPage(e,0,this.props.defaultHdPaths[e],!0)}),C(this,"onPathChange",e=>{this.props.setHardwareWalletDefaultHdPath({device:this.state.device,path:e}),this.setState({selectedAccounts:[]}),this.getPage(this.state.device,0,e)}),C(this,"onAccountChange",e=>{let{selectedAccounts:t}=this.state;t.includes(e)?t=t.filter(t=>e!==t):t.push(e),this.setState({selectedAccounts:t,error:null})}),C(this,"onAccountRestriction",()=>{this.setState({error:this.context.t("ledgerAccountRestriction")})}),C(this,"getPage",(e,t,n,s)=>{this.props.connectHardware(e,t,n,s,this.context.t).then(t=>{if(t.length){0!==this.state.accounts.length||this.state.unlocked||this.showTemporaryAlert();const n=t.map(e=>{var t;const n=e.address.toLowerCase(),s=(null===(t=this.props.accounts[n])||void 0===t?void 0:t.balance)||null;return e.balance=s?(0,u.formatBalance)(s,6):"...",e});this.setState({accounts:n,unlocked:!0,device:e,error:null})}}).catch(e=>{const t="string"==typeof e?e:e.message,n=Object.keys(p.LEDGER_ERRORS_CODES).find(e=>t.includes(e));"Window blocked"===t?this.setState({browserSupported:!1,error:null}):t.includes(p.U2F_ERROR)?this.setState({error:p.U2F_ERROR}):"LEDGER_LOCKED"===t||"LEDGER_WRONG_APP"===t?this.setState({error:this.context.t("ledgerLocked")}):t.includes("timeout")?this.setState({error:this.context.t("ledgerTimeout")}):n?this.setState({error:`${t} - ${R(n)}`}):t.toLowerCase().includes("KeystoneError#pubkey_account.no_expected_account".toLowerCase())?this.setState({error:this.context.t("QRHardwarePubkeyAccountOutOfRange")}):"Window closed"!==t&&"Popup closed"!==t&&!1===t.toLowerCase().includes("KeystoneError#sync_cancel".toLowerCase())&&this.setState({error:t})})}),C(this,"onForgetDevice",(e,t)=>{const{trackEvent:n}=this.context,{forgetDevice:s}=this.props;s(e).then(t=>{n({event:_.MetaMetricsEventName.HardwareWalletForgotten,properties:{device_type:(0,A.capitalizeStr)(e)}}),this.setState({error:null,selectedAccounts:[],accounts:[],unlocked:!1})}).catch(s=>{n({event:_.MetaMetricsEventName.HardwareWalletConnectionFailed,properties:{hd_path:t,device_type:(0,A.capitalizeStr)(e),error:s.message}}),this.setState({error:s.message})})}),C(this,"onUnlockAccounts",async(e,t)=>{const{navigate:n,mostRecentOverviewPage:s,unlockHardwareWalletAccounts:r,hdEntropyIndex:a}=this.props,{selectedAccounts:o}=this.state,{trackEvent:i}=this.context;0===o.length&&this.setState({error:this.context.t("accountSelectionRequired")});const c=p.MEW_PATH===t?this.context.t("hardwareWalletLegacyDescription"):"";return r(o,e,t||null,c).then(r=>{this.context.trackEvent({category:_.MetaMetricsEventCategory.Accounts,event:_.MetaMetricsEventName.AccountAdded,properties:{account_type:_.MetaMetricsEventAccountType.Hardware,account_hardware_type:e,is_suggested_name:!0}});const a=this.getHardwareWalletKeyrings(),o=a.length,c=a.some(t=>t.type===p.DEVICE_KEYRING_MAP[e]);i({event:_.MetaMetricsEventName.HardwareWalletAccountConnected,properties:{device_type:(0,A.capitalizeStr)(e),hd_path:t,connected_device_count:c?o:o+1}}),n(s)}).catch(n=>{this.context.trackEvent({category:_.MetaMetricsEventCategory.Accounts,event:_.MetaMetricsEventName.AccountAddFailed,properties:{account_type:_.MetaMetricsEventAccountType.Hardware,account_hardware_type:e,error:n.message,hd_entropy_index:a}}),i({event:_.MetaMetricsEventName.HardwareWalletConnectionFailed,properties:{hd_path:t,device_type:(0,A.capitalizeStr)(e),error:n.message}}),this.setState({error:n.message})})}),C(this,"onCancel",()=>{const{navigate:e,mostRecentOverviewPage:t}=this.props;e(t)})}UNSAFE_componentWillReceiveProps(e){const{accounts:t}=e,n=this.state.accounts.map(e=>{var n;const s=e.address.toLowerCase(),r=(null===(n=t[s])||void 0===n?void 0:n.balance)||null;return e.balance=r?(0,u.formatBalance)(r,6):"...",e});this.setState({accounts:n})}componentDidMount(){this.checkIfUnlocked();const e=window.navigator.userAgent;/Firefox/u.test(e)&&this.setState({isFirefox:!0})}getHardwareWalletKeyrings(){const{keyrings:e}=this.props;return e.filter(e=>[y.KeyringType.ledger,y.KeyringType.trezor,y.KeyringType.lattice,y.KeyringType.qr,y.KeyringType.oneKey].includes(e.type)&&e.accounts.length>0)}async checkIfUnlocked(){for(const e of[p.HardwareDeviceNames.trezor,p.HardwareDeviceNames.oneKey,p.HardwareDeviceNames.ledger,p.HardwareDeviceNames.lattice]){const t=this.props.defaultHdPaths[e];await this.props.checkHardwareStatus(e,t)&&this.state.device&&(this.setState({unlocked:!0}),this.getPage(e,0,t))}}showTemporaryAlert(){this.props.showAlert(this.context.t("hardwareWalletConnected")),setTimeout(e=>{this.props.hideAlert()},5*m.SECOND)}renderError(){return this.state.error===p.U2F_ERROR?"ledger"===this.state.device&&this.state.isFirefox?s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Text,{color:g.TextColor.warningDefault,margin:[5,5,2]},this.context.t("troubleConnectingToLedgerU2FOnFirefox",[s.default.createElement(f.Button,{variant:f.BUTTON_VARIANT.LINK,href:h.default.HARDWARE_CONNECTION,size:f.BUTTON_SIZES.INHERIT,key:"u2f-error-1",as:"a",block:!1,target:"_blank",rel:"noopener noreferrer"},this.context.t("troubleConnectingToLedgerU2FOnFirefox2"))])),s.default.createElement(f.Text,{color:g.TextColor.warningDefault,margin:[5,5,2]},this.context.t("troubleConnectingToLedgerU2FOnFirefoxLedgerSolution",[s.default.createElement(f.Button,{variant:f.BUTTON_VARIANT.LINK,href:h.default.LEDGER_FIREFOX_U2F_GUIDE,size:f.BUTTON_SIZES.INHERIT,key:"u2f-error-1",as:"a",target:"_blank",rel:"noopener noreferrer"},this.context.t("troubleConnectingToLedgerU2FOnFirefoxLedgerSolution2"))]))):s.default.createElement(f.Text,{color:g.TextColor.warningDefault,margin:[5,5,2]},this.context.t("troubleConnectingToWallet",[this.state.device,s.default.createElement(f.Button,{variant:f.BUTTON_VARIANT.LINK,href:h.default.HARDWARE_CONNECTION,key:"u2f-error-1"},this.context.t("walletConnectionGuide"))])):this.state.error?s.default.createElement("span",{className:"hw-connect__error"},this.state.error):null}renderContent(){return this.state.accounts.length?s.default.createElement(k.default,{onPathChange:this.onPathChange,selectedPath:this.props.defaultHdPaths[this.state.device],device:this.state.device,accounts:this.state.accounts,connectedAccounts:this.props.connectedAccounts,selectedAccounts:this.state.selectedAccounts,onAccountChange:this.onAccountChange,chainId:this.props.chainId,rpcPrefs:this.props.rpcPrefs,getPage:this.getPage,onUnlockAccounts:this.onUnlockAccounts,onForgetDevice:this.onForgetDevice,onCancel:this.onCancel,onAccountRestriction:this.onAccountRestriction,hdPaths:N}):s.default.createElement(S.default,{connectToHardwareWallet:this.connectToHardwareWallet,browserSupported:this.state.browserSupported,ledgerTransportType:this.props.ledgerTransportType,onCancel:this.onCancel})}render(){return s.default.createElement(s.default.Fragment,null,this.renderError(),this.renderContent())}}C(M,"contextTypes",{t:r.default.func}),M.propTypes={connectHardware:r.default.func,checkHardwareStatus:r.default.func,forgetDevice:r.default.func,showAlert:r.default.func,hideAlert:r.default.func,unlockHardwareWalletAccounts:r.default.func,setHardwareWalletDefaultHdPath:r.default.func,navigate:r.default.func,chainId:r.default.string,rpcPrefs:r.default.object,accounts:r.default.object,connectedAccounts:r.default.array.isRequired,defaultHdPaths:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,ledgerTransportType:r.default.oneOf(Object.values(p.LedgerTransportTypes)),hdEntropyIndex:r.default.number,keyrings:r.default.array.isRequired};M.contextTypes={t:r.default.func,trackEvent:r.default.func};n.default=(0,o.compose)(T.default,(0,a.connect)(e=>({chainId:(0,c.getCurrentChainId)(e),rpcPrefs:(0,l.getRpcPrefsForCurrentProvider)(e),accounts:(0,l.getMetaMaskAccounts)(e),connectedAccounts:(0,l.getMetaMaskAccountsConnected)(e),defaultHdPaths:e.appState.defaultHdPaths,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),ledgerTransportType:e.metamask.ledgerTransportType,hdEntropyIndex:(0,v.getHDEntropyIndex)(e),keyrings:e.metamask.keyrings}),e=>({setHardwareWalletDefaultHdPath:({device:t,path:n})=>e(i.setHardwareWalletDefaultHdPath({device:t,path:n})),connectHardware:(t,n,s,r,a)=>e(i.connectHardware(t,n,s,r,a)),checkHardwareStatus:(t,n)=>e(i.checkHardwareStatus(t,n)),forgetDevice:t=>e(i.forgetDevice(t)),unlockHardwareWalletAccounts:(t,n,s,r)=>e(i.unlockHardwareWalletAccounts(t,n,s,r)),showAlert:t=>e(i.showAlert(t)),hideAlert:()=>e(i.hideAlert())})))(M)}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/index.js"}],[7902,{"../../../../shared/constants/app":5876,"../../../../shared/constants/hardware-wallets":5886,"../../../../shared/constants/metametrics":5892,"../../../../shared/modules/browser-runtime.utils":6012,"../../../components/component-library":6633,"../../../components/ui/logo/logo-lattice":7039,"../../../components/ui/logo/logo-ledger":7040,"../../../components/ui/logo/logo-qr-based":7041,"../../../components/ui/logo/logo-trezor":7042,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/zendesk-url":7161,"../../../helpers/utils/window":7209,"./utils":7903,classnames:4209,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=_(e("classnames")),r=_(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("../../../components/component-library"),i=_(e("../../../components/ui/logo/logo-ledger")),c=_(e("../../../components/ui/logo/logo-qr-based")),l=_(e("../../../components/ui/logo/logo-trezor")),u=_(e("../../../components/ui/logo/logo-lattice")),d=e("../../../../shared/constants/hardware-wallets"),m=_(e("../../../helpers/constants/zendesk-url")),p=e("../../../../shared/constants/metametrics"),f=e("../../../helpers/utils/window"),h=e("../../../../shared/modules/browser-runtime.utils"),g=e("../../../helpers/constants/design-system"),v=e("../../../../shared/constants/app"),T=e("./utils");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k.apply(null,arguments)}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=window.navigator.usb,w=(0,h.getBrowserName)()===v.PLATFORM_FIREFOX;class E extends a.Component{constructor(...e){super(...e),S(this,"state",{selectedDevice:null,trezorRequestDevicePending:!1}),S(this,"trackMarketingEvent",(e,t)=>{const{trackEvent:n}=this.context;n({event:p.MetaMetricsEventName.HardwareWalletMarketingButtonClicked,properties:{button_type:e,device_type:(0,T.capitalizeStr)(t)}})}),S(this,"connect",async()=>{const{selectedDevice:e}=this.state;if(e){if(e===d.HardwareDeviceNames.trezor&&A){this.setState({trezorRequestDevicePending:!0});try{await window.navigator.usb.requestDevice({filters:[{vendorId:21324,productId:1},{vendorId:4617,productId:21440},{vendorId:4617,productId:21441}]})}catch(e){if(!e.message.match("No device selected"))throw e}finally{this.setState({trezorRequestDevicePending:!1})}}this.props.connectToHardwareWallet(e)}return null})}renderConnectToTrezorButton(){return a.default.createElement("button",{"data-testid":"connect-trezor-btn",className:(0,s.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.HardwareDeviceNames.trezor}),onClick:e=>this.setState({selectedDevice:d.HardwareDeviceNames.trezor})},a.default.createElement(l.default,{className:"hw-connect__btn__img",ariaLabel:"Trezor"}))}renderConnectToLatticeButton(){return a.default.createElement("button",{"data-testid":"connect-lattice-btn",className:(0,s.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.HardwareDeviceNames.lattice}),onClick:e=>this.setState({selectedDevice:d.HardwareDeviceNames.lattice})},a.default.createElement(u.default,{className:"hw-connect__btn__img",ariaLabel:"Lattice"}))}renderConnectToLedgerButton(){return a.default.createElement("button",{"data-testid":"connect-ledger-btn",className:(0,s.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.HardwareDeviceNames.ledger}),onClick:e=>this.setState({selectedDevice:d.HardwareDeviceNames.ledger})},a.default.createElement(i.default,{className:"hw-connect__btn__img",ariaLabel:"Ledger"}))}renderConnectToQRButton(){return a.default.createElement("button",{"data-testid":"connect-qr-btn",className:(0,s.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.HardwareDeviceNames.qr}),onClick:e=>this.setState({selectedDevice:d.HardwareDeviceNames.qr})},a.default.createElement(c.default,{className:"hw-connect__btn__img",ariaLabel:"QRCode"}))}renderButtons(){return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"hw-connect__btn-wrapper"},this.renderConnectToLedgerButton(),this.renderConnectToTrezorButton()),a.default.createElement("div",{className:"hw-connect__btn-wrapper",style:{margin:"10px 0 0 0"}},this.renderConnectToLatticeButton(),this.renderConnectToQRButton()))}renderContinueButton(){return a.default.createElement(o.Button,{variant:o.BUTTON_VARIANT.PRIMARY,size:o.BUTTON_SIZES.LG,className:"hw-connect__connect-btn",onClick:this.connect,disabled:!this.state.selectedDevice||this.state.trezorRequestDevicePending||this.state.selectedDevice===d.HardwareDeviceNames.ledger&&w},this.context.t("continue"))}renderFooter(){return a.default.createElement(o.Text,{color:g.TextColor.textAlternative,variant:g.TextVariant.bodySm,textAlign:g.TextAlign.Center,as:"h6",marginTop:4,className:"new-external-account-form footer"},this.context.t("hardwareWalletsInfo"))}renderUnsupportedBrowser(){return a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,className:"new-external-account-form unsupported-browser"},a.default.createElement(o.Box,{className:"hw-connect",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.center},a.default.createElement(o.Text,{className:"hw-connect__title",variant:g.TextVariant.headingMd,as:"h3",fontWeight:g.FontWeight.Bold,marginTop:6,marginBottom:3},this.context.t("browserNotSupported")),a.default.createElement(o.Text,{className:"hw-connect__msg",variant:g.TextVariant.bodyMd,as:"h5",marginTop:3,marginBottom:5},this.context.t("chromeRequiredForHardwareWallets"))),a.default.createElement(o.Button,{variant:o.BUTTON_VARIANT.PRIMARY,size:o.BUTTON_SIZES.LG,onClick:()=>global.platform.openTab({url:"https://google.com/chrome"})},this.context.t("downloadGoogleChrome")))}renderHeader(){return a.default.createElement(o.Box,{className:"hw-connect__header",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.center},this.state.selectedDevice===d.HardwareDeviceNames.ledger&&!w&&a.default.createElement(o.Box,null,a.default.createElement(o.BannerAlert,{marginTop:6,title:this.context.t("ledgerMultipleDevicesUnsupportedInfoTitle")},this.context.t("ledgerMultipleDevicesUnsupportedInfoDescription"))),this.state.selectedDevice===d.HardwareDeviceNames.ledger&&w&&a.default.createElement(o.Box,null,a.default.createElement(o.BannerAlert,{marginTop:6,severity:"warning",title:this.context.t("ledgerFirefoxNotSupportedTitle")},this.context.t("ledgerFirefoxNotSupportedDescription1"),a.default.createElement("a",{className:"hw-connect__href-link",href:"https://support.metamask.io/more-web3/wallets/how-to-connect-a-trezor-or-ledger-hardware-wallet/",target:"_blank",rel:"noreferrer"},this.context.t("ledgerFirefoxNotSupportedLink")),this.context.t("ledgerFirefoxNotSupportedDescription2"),a.default.createElement("br",null),this.context.t("ledgerFirefoxNotSupportedDescription3"))),a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,className:"hw-connect__header__title-wrapper",marginTop:6},a.default.createElement(o.Text,{variant:g.TextVariant.headingMd,as:"h3",fontWeight:g.FontWeight.Bold,marginLeft:"auto"},this.context.t("hardwareWallets")),a.default.createElement(o.ButtonIcon,{iconName:o.IconName.Close,ariaLabel:this.context.t("close"),onClick:this.props.onCancel,size:o.ButtonIconSize.Sm,marginLeft:"auto","data-testid":"hardware-connect-close-btn"})),a.default.createElement(o.Text,{className:"hw-connect__header__msg",variant:g.TextVariant.bodyMd,as:"h5",marginTop:5,marginBottom:3},this.context.t("hardwareWalletsMsg")))}renderTutorialSteps(){switch(this.state.selectedDevice){case d.HardwareDeviceNames.ledger:return this.renderLedgerTutorialSteps();case d.HardwareDeviceNames.trezor:return this.renderTrezorTutorialSteps();case d.HardwareDeviceNames.lattice:return this.renderLatticeTutorialSteps();case d.HardwareDeviceNames.qr:return this.renderQRHardwareWalletSteps();default:return""}}renderLedgerTutorialSteps(){const e=[];return this.props.ledgerTransportType===d.LedgerTransportTypes.live&&e.push({renderButtons:!1,title:this.context.t("step1LedgerWallet"),message:this.context.t("step1LedgerWalletMsg",[a.default.createElement("a",{className:"hw-connect__msg-link",href:"https://www.ledger.com/ledger-live",rel:"noopener noreferrer",target:"_blank",key:"ledger-live-app-link"},this.context.t("ledgerLiveApp"))])}),e.push({renderButtons:!0,asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step2LedgerWallet"),message:this.context.t("step2LedgerWalletMsg",[a.default.createElement("a",{className:"hw-connect__msg-link",href:m.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"ledger-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}),a.default.createElement("div",{className:"hw-tutorial"},e.map((e,t)=>a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.center,className:"hw-connect",key:t},a.default.createElement("h3",{className:"hw-connect__title"},e.title),e.renderButtons?a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.center,marginBottom:2},a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.HardwareDeviceNames.ledger),(0,f.openWindow)(d.HardwareAffiliateLinks.Ledger)}},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.HardwareDeviceNames.ledger),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.Ledger)}},this.context.t("tutorial"))):null,a.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&a.default.createElement("img",k({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""})))))}renderLatticeTutorialSteps(){const e=[{asset:"connect-lattice",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1LatticeWallet"),message:this.context.t("step1LatticeWalletMsg",[a.default.createElement("a",{className:"hw-connect__msg-link",href:m.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"lattice-setup-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return a.default.createElement("div",{className:"hw-tutorial"},e.map((e,t)=>a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.center,className:"hw-connect",key:t},a.default.createElement("h3",{className:"hw-connect__title"},e.title),a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.center,marginBottom:2},a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.HardwareDeviceNames.lattice),(0,f.openWindow)(d.HardwareAffiliateLinks.GridPlus)}},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.HardwareDeviceNames.lattice),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.GridPlus)}},this.context.t("tutorial"))),a.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&a.default.createElement("img",k({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""})))))}renderTrezorTutorialSteps(){const e=[{asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1TrezorWallet"),message:this.context.t("step1TrezorWalletMsg",[a.default.createElement("a",{className:"hw-connect__msg-link",href:m.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"trezor-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return a.default.createElement("div",{className:"hw-tutorial"},e.map((e,t)=>a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.center,className:"hw-connect",key:t},a.default.createElement("h3",{className:"hw-connect__title"},e.title),a.default.createElement(o.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.center,marginBottom:2},a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.HardwareDeviceNames.trezor),(0,f.openWindow)(d.HardwareAffiliateLinks.Trezor)}},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.HardwareDeviceNames.trezor),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.Trezor)}},this.context.t("tutorial"))),a.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&a.default.createElement("img",k({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""})))))}renderQRHardwareWalletSteps(){const e=[];return e.push({title:this.context.t("QRHardwareWalletSteps1Title"),message:this.context.t("QRHardwareWalletSteps1Description")},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("keystone")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.LearnMore,d.QrHardwareDeviceNames.Keystone),(0,f.openWindow)(d.HardwareAffiliateLinks.Keystone)}},this.context.t("learnMoreKeystone")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.QrHardwareDeviceNames.Keystone),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.Keystone)}},this.context.t("tutorial")))},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("airgapVault")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.QrHardwareDeviceNames.AirGap),(0,f.openWindow)(d.HardwareAffiliateLinks.AirGap)}},this.context.t("downloadNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.QrHardwareDeviceNames.AirGap),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.AirGap)}},this.context.t("tutorial")))},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("coolWallet")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.QrHardwareDeviceNames.CoolWallet),(0,f.openWindow)(d.HardwareAffiliateLinks.CoolWallet)}},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.QrHardwareDeviceNames.CoolWallet),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.CoolWallet)}},this.context.t("tutorial")))},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("dcent")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.QrHardwareDeviceNames.DCent),(0,f.openWindow)(d.HardwareAffiliateLinks.DCent)}},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.QrHardwareDeviceNames.DCent),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.DCent)}},this.context.t("tutorial")))},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("imToken")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.QrHardwareDeviceNames.ImToken),(0,f.openWindow)(d.HardwareAffiliateLinks.ImToken)}},this.context.t("downloadNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.QrHardwareDeviceNames.ImToken),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.ImToken)}},this.context.t("tutorial")))},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("onekey")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.HardwareDeviceNames.oneKey),(0,f.openWindow)(d.HardwareAffiliateLinks.OneKey)}},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.HardwareDeviceNames.oneKey),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.OneKey)}},this.context.t("tutorial")))},{message:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("QRHardwareWalletSteps2Description")),a.default.createElement(o.Button,{className:"hw-connect__external-btn-first",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.BuyNow,d.QrHardwareDeviceNames.Ngrave),(0,f.openWindow)(d.HardwareAffiliateLinks.Ngrave)},"data-testid":"ngrave-brand-buy-now-btn"},this.context.t("buyNow")),a.default.createElement(o.Button,{className:"hw-connect__external-btn",variant:o.BUTTON_VARIANT.SECONDARY,onClick:()=>{this.trackMarketingEvent(d.MarketingActionNames.Tutorial,d.QrHardwareDeviceNames.Ngrave),(0,f.openWindow)(d.HardwareAffiliateTutorialLinks.Ngrave)},"data-testid":"ngrave-brand-learn-more-btn"},this.context.t("learnMoreUpperCase")))}),a.default.createElement("div",{className:"hw-tutorial"},e.map((e,t)=>a.default.createElement("div",{className:"hw-connect",key:t},e.title&&a.default.createElement("h3",{className:"hw-connect__title"},e.title),a.default.createElement("div",{className:"hw-connect__msg"},e.message),e.asset&&a.default.createElement("img",k({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""})))))}renderConnectScreen(){return a.default.createElement(o.Box,{className:"new-external-account-form",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center},this.renderHeader(),this.renderButtons(),this.state.selectedDevice?this.renderTutorialSteps():null,this.renderContinueButton(),this.renderFooter())}render(){return this.props.browserSupported?this.renderConnectScreen():this.renderUnsupportedBrowser()}}n.default=E,S(E,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),S(E,"propTypes",{onCancel:r.default.func.isRequired,connectToHardwareWallet:r.default.func.isRequired,browserSupported:r.default.bool.isRequired,ledgerTransportType:r.default.oneOf(Object.values(d.LedgerTransportTypes))})}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/select-hardware.js"}],[7903,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.capitalizeStr=void 0;n.capitalizeStr=e=>0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/utils.ts"}],[7904,{"./connect-hardware":7901,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(o.Box,{className:"new-account-wrapper h-full"},r.default.createElement(a.Routes,null,r.default.createElement(a.Route,{path:"connect",element:r.default.createElement(i.default,null)}))),e[0]=t):t=e[0];return t};var s=e("react-compiler-runtime"),r=c(e("react")),a=e("react-router-dom"),o=e("@metamask/design-system-react"),i=c(e("./connect-hardware"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/create-account/create-account.component.js"}],[7905,{"../../../shared/constants/metametrics":5892,"../../components/app/password-form/password-form":6297,"../../components/component-library":6633,"../../contexts/metametrics":7110,"../../helpers/constants/design-system":7149,"../../helpers/constants/zendesk-url":7161,"../../hooks/useI18nContext":7301,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=e("../../helpers/constants/design-system"),o=e("../../components/component-library"),i=m(e("../../components/app/password-form/password-form")),c=e("../../hooks/useI18nContext"),l=e("../../contexts/metametrics"),u=e("../../../shared/constants/metametrics"),d=m(e("../../helpers/constants/zendesk-url"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=e=>{const t=(0,s.c)(65),{isSocialLoginFlow:n,onSubmit:m,onBack:p,loading:f}=e,h=f!==undefined&&f,g=(0,c.useI18nContext)(),[v,T]=(0,r.useState)(""),[y,_]=(0,r.useState)(!1),k=(0,r.useContext)(l.MetaMetricsContext);let S;t[0]!==m||t[1]!==v||t[2]!==y?(S=async e=>{e.preventDefault(),await m(v,y)},t[0]=m,t[1]=v,t[2]=y,t[3]=S):S=t[3];const A=S;let w;t[4]!==k?(w=e=>{e.stopPropagation(),k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"create_password",url:d.default.PASSWORD_ARTICLE}})},t[4]=k,t[5]=w):w=t[5];const E=w;let x,C,b;t[6]!==g?(x=g("learnMoreUpperCaseWithDot"),t[6]=g,t[7]=x):x=t[7],t[8]!==x?(C=r.default.createElement("span",{className:"create-password__link-text"},x),t[8]=x,t[9]=C):C=t[9],t[10]!==E||t[11]!==C?(b=r.default.createElement("a",{onClick:E,key:"create-password__link-text",href:d.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},C),t[10]=E,t[11]=C,t[12]=b):b=t[12];const P=b;let I;t[13]!==n||t[14]!==g?(I=g(n?"createPasswordMarketing":"passwordTermsWarning"),t[13]=n,t[14]=g,t[15]=I):I=t[15];const N=I,R=h?a.IconColor.iconMuted:a.IconColor.iconDefault;let M,F,O,D,G,B,L,$,j,U,W,H,V,q;t[16]!==g?(M=g("back"),t[16]=g,t[17]=M):M=t[17],t[18]!==h||t[19]!==p||t[20]!==R||t[21]!==M?(F=r.default.createElement(o.Box,{justifyContent:a.JustifyContent.flexStart,marginBottom:4,width:a.BlockSize.Full},r.default.createElement(o.ButtonIcon,{iconName:o.IconName.ArrowLeft,color:R,size:o.ButtonIconSize.Md,"data-testid":"create-password-back-button",type:"button",onClick:p,ariaLabel:M,disabled:h})),t[18]=h,t[19]=p,t[20]=R,t[21]=M,t[22]=F):F=t[22],t[23]!==g?(O=g("createPassword"),t[23]=g,t[24]=O):O=t[24],t[25]!==O?(D=r.default.createElement(o.Text,{variant:a.TextVariant.headingLg,as:"h2"},O),t[25]=O,t[26]=D):D=t[26],t[27]!==n||t[28]!==g?(G=n?r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.textAlternative,as:"h2"},g("createPasswordDetailsSocial"),r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.warningDefault,as:"span"},g("createPasswordDetailsSocialReset"))):r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.textAlternative,as:"h2"},g("createPasswordDetails")),t[27]=n,t[28]=g,t[29]=G):G=t[29],t[30]!==D||t[31]!==G?(B=r.default.createElement(o.Box,{justifyContent:a.JustifyContent.flexStart,marginBottom:4,width:a.BlockSize.Full},D,G),t[30]=D,t[31]=G,t[32]=B):B=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(L=e=>T(e),t[33]=L):L=t[33],t[34]!==h?($=r.default.createElement(i.default,{onChange:L,disabled:h}),t[34]=h,t[35]=$):$=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(j={"data-testid":"create-password-terms"},t[36]=j):j=t[36],t[37]!==y?(U=()=>{_(!y)},t[37]=y,t[38]=U):U=t[38],t[39]!==P||t[40]!==n?(W=!n&&r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),P),t[39]=P,t[40]=n,t[41]=W):W=t[41],t[42]!==N||t[43]!==W?(H=r.default.createElement(o.Text,{variant:a.TextVariant.bodySm,color:a.TextColor.textDefault},N,W),t[42]=N,t[43]=W,t[44]=H):H=t[44],t[45]!==h||t[46]!==U||t[47]!==H||t[48]!==y?(V=r.default.createElement(o.Box,{className:"create-password__terms-container",alignItems:a.AlignItems.center,justifyContent:a.JustifyContent.spaceBetween,marginTop:6,backgroundColor:a.BackgroundColor.backgroundMuted,padding:3,borderRadius:a.BorderRadius.LG},r.default.createElement(o.Checkbox,{inputProps:j,alignItems:a.AlignItems.flexStart,isChecked:y,isDisabled:h,onChange:U,label:H})),t[45]=h,t[46]=U,t[47]=H,t[48]=y,t[49]=V):V=t[49],t[50]!==F||t[51]!==B||t[52]!==$||t[53]!==V?(q=r.default.createElement(o.Box,null,F,B,$,V),t[50]=F,t[51]=B,t[52]=$,t[53]=V,t[54]=q):q=t[54];const z=!v||!n&&!y||h;let K,Q,Y;return t[55]!==g?(K=g("createPasswordCreate"),t[55]=g,t[56]=K):K=t[56],t[57]!==h||t[58]!==z||t[59]!==K?(Q=r.default.createElement(o.Box,null,r.default.createElement(o.Button,{"data-testid":"create-password-submit",variant:o.ButtonVariant.Primary,width:a.BlockSize.Full,size:o.ButtonSize.Lg,className:"create-password__form--submit-button",disabled:z,loading:h},K)),t[57]=h,t[58]=z,t[59]=K,t[60]=Q):Q=t[60],t[61]!==A||t[62]!==q||t[63]!==Q?(Y=r.default.createElement(o.Box,{display:a.Display.Flex,flexDirection:a.FlexDirection.Column,justifyContent:a.JustifyContent.spaceBetween,height:a.BlockSize.Full,width:a.BlockSize.Full,gap:4,as:"form",className:"create-password","data-testid":"create-password",onSubmit:A},q,Q),t[61]=A,t[62]=q,t[63]=Q,t[64]=Y):Y=t[64],Y}}}},{package:"$root$",file:"ui/pages/create-password-form/create-password-form.tsx"}],[7906,{"./create-password-form":7905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreatePasswordForm",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./create-password-form"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/create-password-form/index.ts"}],[7907,{"../../components/app/snaps/snap-authorship-header":6384,"../../components/component-library":6633,"../../helpers/constants/design-system":7149,"../../hooks/useI18nContext":7301,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=l(e("react")),a=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),i=l(e("../../components/app/snaps/snap-authorship-header")),c=e("../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,s.c)(22),{snapId:n,snapName:l,onCancel:u}=e,d=(0,c.useI18nContext)();let m,p,f,h,g,v,T,y,_,k;return t[0]!==u||t[1]!==n?(m=r.default.createElement(i.default,{snapId:n,onCancel:u}),t[0]=u,t[1]=n,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p={flexGrow:1},t[3]=p):p=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(f=r.default.createElement(a.Box,{paddingBottom:6},r.default.createElement(a.AvatarIcon,{iconName:a.IconName.UserCircleAdd,size:a.AvatarIconSize.Xl})),t[4]=f):f=t[4],t[5]!==d?(h=d("createSnapAccountTitle"),t[5]=d,t[6]=h):h=t[6],t[7]!==h?(g=r.default.createElement(a.Text,{"data-testid":"create-snap-account-content-title",textAlign:o.TextAlign.Center,variant:o.TextVariant.headingLg,paddingBottom:2},h),t[7]=h,t[8]=g):g=t[8],t[9]!==l?(v=r.default.createElement(a.Text,{color:o.TextColor.inherit,variant:o.TextVariant.inherit,fontWeight:o.FontWeight.Medium,key:"1"},l),t[9]=l,t[10]=v):v=t[10],t[11]!==d||t[12]!==v?(T=d("createSnapAccountDescription",[v]),t[11]=d,t[12]=v,t[13]=T):T=t[13],t[14]!==T?(y=r.default.createElement(a.Text,{variant:o.TextVariant.bodyMd,textAlign:o.TextAlign.Center,overflowWrap:o.OverflowWrap.Anywhere,"data-testid":"create-snap-account-content-description"},T),t[14]=T,t[15]=y):y=t[15],t[16]!==g||t[17]!==y?(_=r.default.createElement(a.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,padding:4,style:p},r.default.createElement(a.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},f,g,y)),t[16]=g,t[17]=y,t[18]=_):_=t[18],t[19]!==m||t[20]!==_?(k=r.default.createElement(a.Box,{className:"create-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,display:o.Display.Flex,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,marginBottom:0},m,_),t[19]=m,t[20]=_,t[21]=k):k=t[21],k}}}},{package:"$root$",file:"ui/pages/create-snap-account/create-snap-account.tsx"}],[7908,{"./create-snap-account":7907},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateSnapAccount",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./create-snap-account"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/create-snap-account/index.ts"}]],[],{});