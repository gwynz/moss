LavaPack.loadBundle([[1952,{"../utils/validation.cjs":1961,"@metamask/rpc-errors":2692,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletRevokeExecutionPermissionHandler=r.RevokeExecutionPermissionRequestParamsStruct=r.RevokeExecutionPermissionResultStruct=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/validation.cjs");r.RevokeExecutionPermissionResultStruct=(0,i.object)({}),r.RevokeExecutionPermissionRequestParamsStruct=(0,i.object)({permissionContext:s.StrictHexStruct}),r.createWalletRevokeExecutionPermissionHandler=function({processRevokeExecutionPermission:e}){return async({request:t,context:i})=>{if(!e)throw n.rpcErrors.methodNotSupported("wallet_revokeExecutionPermission - no middleware configured");const{params:s}=t;return(0,o.validateParams)(s,r.RevokeExecutionPermissionRequestParamsStruct),await e(s,t,i)}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-revoke-execution-permission.cjs"}],[1953,{"@metamask/json-rpc-engine":2216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerAsMiddlewareV2=r.providerAsMiddleware=void 0;const n=e("@metamask/json-rpc-engine");r.providerAsMiddleware=function(e){return(0,n.createAsyncMiddleware)(async(t,r)=>{r.result=await e.request(t)})},r.providerAsMiddlewareV2=function(e){return async({request:t})=>e.request(t)}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/providerAsMiddleware.cjs"}],[1954,{"./logging-utils.cjs":1948,"./utils/cache.cjs":1955,"./utils/error.cjs":1957,"./utils/timeout.cjs":1960,klona:4791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRetryOnEmptyMiddleware=void 0;const n=e("klona"),i=e("./logging-utils.cjs"),s=e("./utils/cache.cjs"),o=e("./utils/error.cjs"),a=e("./utils/timeout.cjs"),c=(0,i.createModuleLogger)(i.projectLogger,"retry-on-empty"),u=[null,"<nil>"];r.createRetryOnEmptyMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return async({request:r,next:i})=>{const d=(0,s.blockTagParamIndex)(r.method);if(d===undefined)return i();let l=Array.isArray(r.params)&&r.params[d]?r.params[d]:undefined;if(l??(l="latest"),["latest","pending"].includes(l))return i();const h=Number.parseInt(l.slice(2),16);if(Number.isNaN(h))return i();const f=await t.getLatestBlock(),p=Number.parseInt(f.slice(2),16);if(h>p)return c("Requested block number %o is higher than latest block number %o, falling through to original request",h,p),i();c("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",h,p);const m=(0,n.klona)(r),y=await async function(e,t){for(let r=0;r<e;r++)try{return await t()}catch(e){if((0,o.isExecutionRevertedError)(e))throw e;c("(call %i) Request failed, waiting 1s to retry again...",r+1),await(0,a.timeout)(1e3)}throw c("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}(10,async()=>{c("Performing request %o",m);const t=await e.request(m);c("Result is %o",t);if(u.includes(t))throw new Error(`RetryOnEmptyMiddleware - empty result "${JSON.stringify(t)}" for request "${JSON.stringify(m)}"`);return t});return c("Copying result %o",y),y}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/retryOnEmpty.cjs"}],[1955,{"safe-stable-stringify":5656},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cacheTypeForMethod=r.blockTagParamIndex=r.blockTagForRequest=r.canCache=r.cacheIdentifierForRequest=r.CacheStrategy=void 0;const n=(0,e("safe-stable-stringify").configure)({bigint:!1,circularValue:Error});var i;function s(e){return a(e)!==i.Never}function o(e){switch(e){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return undefined}}function a(e){switch(e){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return i.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return i.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return i.Block;default:return i.Never}}!function(e){e.Block="block",e.Fork="fork",e.Never="never",e.Permanent="perma"}(i||(r.CacheStrategy=i={})),r.cacheIdentifierForRequest=function(e,t){const r=t?function(e){if(!e.params)return[];const t=o(e.method);if(t===undefined||!Array.isArray(e.params)||t>=e.params.length)return e.params;if("eth_getBlockByNumber"===e.method)return e.params.slice(1);return e.params.slice(0,t)}(e):e.params??[];return s(e.method)?`${e.method}:${n(r)}`:null},r.canCache=s,r.blockTagForRequest=function(e){if(!e.params)return undefined;const t=o(e.method);return t===undefined||!Array.isArray(e.params)||t>=e.params.length?undefined:e.params[t]},r.blockTagParamIndex=o,r.cacheTypeForMethod=a}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/cache.cjs"}],[1956,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stripArrayTypeIfPresent=void 0;r.stripArrayTypeIfPresent=e=>e?.match(/\S\[\d*\]$/u)?e.replace(/\[\d*\]$/gu,"").trim():e}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/common.cjs"}],[1957,{"@metamask/rpc-errors":2692,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isExecutionRevertedError=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils");r.isExecutionRevertedError=function(e){return(0,i.isJsonRpcError)(e)&&e.code===n.errorCodes.rpc.invalidInput&&"execution reverted"===e.message}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/error.cjs"}],[1958,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return"string"!=typeof e?e:JSON.parse(e)}function i(e){return e.startsWith("0X")?`0x${e.slice(2)}`:e}Object.defineProperty(r,"__esModule",{value:!0}),r.parseTypedMessage=r.normalizeTypedMessage=void 0,r.normalizeTypedMessage=function(e){let t;try{t=n(e)}catch{return e}const{verifyingContract:r}=t.domain??{};return r?JSON.stringify({...t,domain:{...t.domain,verifyingContract:i(r)}}):e},r.parseTypedMessage=n}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/normalize.cjs"}],[1959,{"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NoParamsStruct=r.EmptyArrayStruct=void 0;const n=e("@metamask/superstruct");r.EmptyArrayStruct=(0,n.define)("EmptyArray",e=>!(!Array.isArray(e)||0!==e.length)||"Expected an empty array"),r.NoParamsStruct=(0,n.optional)((0,n.union)([(0,n.object)({}),r.EmptyArrayStruct]))}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/structs.cjs"}],[1960,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=void 0,r.timeout=async function(e){return new Promise(t=>setTimeout(t,e))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/timeout.cjs"}],[1961,{"@metamask/rpc-errors":2692,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resemblesAddress=r.validateParams=r.validateAndNormalizeKeyholder=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct");function s(e){return 42===e.length}r.validateAndNormalizeKeyholder=async function(e,t,{getAccounts:r}){if("string"==typeof e&&e.length>0&&s(e)){const i=(await r(t.assertGet("origin"))).map(e=>e.toLowerCase()),s=e.toLowerCase();if(i.includes(s))return s;throw n.providerErrors.unauthorized()}throw n.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})},r.validateParams=function(e,t){const[r]=(0,i.validate)(e,t);if(r)throw n.rpcErrors.invalidParams(function(e,t){return`${t}\n\n${e.failures().map(e=>`${e.path.join(" > ")}${e.path.length?" - ":""}${e.message}`).join("\n")}`}(r,"Invalid params"))},r.resemblesAddress=s}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/validation.cjs"}],[1962,{"./methods/wallet-get-granted-execution-permissions.cjs":1949,"./methods/wallet-get-supported-execution-permissions.cjs":1950,"./methods/wallet-request-execution-permissions.cjs":1951,"./methods/wallet-revoke-execution-permission.cjs":1952,"./utils/common.cjs":1956,"./utils/normalize.cjs":1958,"./utils/validation.cjs":1961,"@metamask/eth-sig-util":2075,"@metamask/json-rpc-engine/v2":2226,"@metamask/rpc-errors":2692,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletMiddleware=void 0;const o=s(e("@metamask/eth-sig-util")),a=e("@metamask/json-rpc-engine/v2"),c=e("@metamask/rpc-errors"),u=e("@metamask/utils"),d=e("./methods/wallet-get-granted-execution-permissions.cjs"),l=e("./methods/wallet-get-supported-execution-permissions.cjs"),h=e("./methods/wallet-request-execution-permissions.cjs"),f=e("./methods/wallet-revoke-execution-permission.cjs"),p=e("./utils/common.cjs"),m=e("./utils/normalize.cjs"),y=e("./utils/validation.cjs");function g(e){const{primaryType:t,types:r}=(0,m.parseTypedMessage)(e);if(!r)throw c.rpcErrors.invalidInput();if(!r[(0,p.stripArrayTypeIfPresent)(t)])throw c.rpcErrors.invalidInput()}function b(e){const{domain:{verifyingContract:t}={}}=(0,m.parseTypedMessage)(e);if(t&&"cosmos"!==t&&!(0,u.isValidHexAddress)(t))throw c.rpcErrors.invalidInput()}r.createWalletMiddleware=function({getAccounts:e,processDecryptMessage:t,processEncryptionPublicKey:r,processPersonalMessage:n,processTransaction:i,processSignTransaction:s,processTypedMessage:u,processTypedMessageV3:p,processTypedMessageV4:w,processRequestExecutionPermissions:v,processRevokeExecutionPermission:k,processGetGrantedExecutionPermissions:_,processGetSupportedExecutionPermissions:E}){if(!e)throw new Error("opts.getAccounts is required");return(0,a.createScaffoldMiddleware)({eth_accounts:async function({context:t}){return await e(t.assertGet("origin"))},eth_coinbase:async function({context:t}){return(await e(t.assertGet("origin")))[0]||null},eth_sendTransaction:async function({request:e,context:t}){if(!i)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const r=e.params[0],n={...r,from:await T(r?.from||"",t)};return await i(n,e,t)},eth_signTransaction:async function({request:e,context:t}){if(!s)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const r=e.params[0],n={...r,from:await T(r?.from||"",t)};return await s(n,e,t)},eth_signTypedData:async function({request:e,context:t}){if(!u)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,n=r[0],i=await T(r[1],t),s={...r[2]||{},from:i,data:n,signatureMethod:"eth_signTypedData",version:"V1"};return await u(s,e,t,"V1")},eth_signTypedData_v3:async function({request:e,context:t}){if(!p)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,n=await T(r[0],t),i=(0,m.normalizeTypedMessage)(r[1]);g(i),b(i);const s={data:i,from:n,version:"V3",signatureMethod:"eth_signTypedData_v3"};return await p(s,e,t,"V3")},eth_signTypedData_v4:async function({request:e,context:t}){if(!w)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,n=await T(r[0],t),i=(0,m.normalizeTypedMessage)(r[1]);g(i),b(i);const s={data:i,from:n,version:"V4",signatureMethod:"eth_signTypedData_v4"};return await w(s,e,t,"V4")},personal_sign:async function({request:e,context:t}){if(!n)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,i=r[0],s=r[1],o=r[2]||{};let a,u;(0,y.resemblesAddress)(i)&&!(0,y.resemblesAddress)(s)?(a=i,u=s):(u=i,a=s);a=await T(a,t);const d={...o,from:a,data:u,signatureMethod:"personal_sign"};return await n(d,e,t)},eth_getEncryptionPublicKey:async function({request:e,context:t}){if(!r)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params,i=await T(n[0],t);return await r(i,{id:e.id,origin:t.assertGet("origin"),securityAlertResponse:t.get("securityAlertResponse")})},eth_decrypt:async function({request:e,context:r}){if(!t)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params,i=n[0],s=await T(n[1],r),o={...n[2]||{},from:s,data:i};return await t(o,{id:e.id,origin:r.assertGet("origin"),securityAlertResponse:r.get("securityAlertResponse")})},personal_ecRecover:async function({request:e}){if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const t=e.params,r=t[0],n=t[1];return o.recoverPersonalSignature({data:r,signature:n})},wallet_requestExecutionPermissions:(0,h.createWalletRequestExecutionPermissionsHandler)({processRequestExecutionPermissions:v}),wallet_revokeExecutionPermission:(0,f.createWalletRevokeExecutionPermissionHandler)({processRevokeExecutionPermission:k}),wallet_getGrantedExecutionPermissions:(0,d.createWalletGetGrantedExecutionPermissionsHandler)({processGetGrantedExecutionPermissions:_}),wallet_getSupportedExecutionPermissions:(0,l.createWalletGetSupportedExecutionPermissionsHandler)({processGetSupportedExecutionPermissions:E})});async function T(t,r){return(0,y.validateAndNormalizeKeyholder)(t,r,{getAccounts:e})}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/wallet.cjs"}],[1963,{"./internal-provider.cjs":1964,"./provider-from-middleware.cjs":1965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.SafeEventEmitterProvider=r.InternalProvider=void 0;const s=e("./internal-provider.cjs");Object.defineProperty(r,"InternalProvider",{enumerable:!0,get:function(){return s.InternalProvider}}),i(e("./provider-from-middleware.cjs"),r);const o=s.InternalProvider;r.SafeEventEmitterProvider=o}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/index.cjs"}],[1964,{"@metamask/json-rpc-engine":2216,"@metamask/json-rpc-engine/v2":2226,nanoid:5139},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.convertEip1193RequestToJsonRpcRequest=r.InternalProvider=void 0;const c=e("@metamask/json-rpc-engine"),u=e("@metamask/json-rpc-engine/v2"),d=e("nanoid");function l(e){const{id:t=(0,d.nanoid)(),jsonrpc:r="2.0",method:n,params:i}=e;return i?{id:t,jsonrpc:r,method:n,params:i}:{id:t,jsonrpc:r,method:n}}r.InternalProvider=class{constructor({engine:e}){n.set(this,void 0),this.sendAsync=(e,t)=>{const r=l(e);a(this,s,"f").call(this,r,t)},this.send=(e,t)=>{if("function"!=typeof t)throw new Error('Must provide callback to "send" method.');const r=l(e);a(this,s,"f").call(this,r,t)},i.set(this,async(e,t)=>{const{id:r,jsonrpc:i}=e;return{id:r,jsonrpc:i,result:await a(this,n,"f").handle(e,t)}}),s.set(this,(e,t)=>{a(this,i,"f").call(this,e).then(e=>t(null,e)).catch(e=>{t(e)})}),o(this,n,"push"in e?u.JsonRpcEngineV2.create({middleware:[(0,c.asV2Middleware)(e)]}):e,"f")}async request(e,t){const r=l(e);return(await a(this,i,"f").call(this,r,t)).result}},n=new WeakMap,i=new WeakMap,s=new WeakMap,r.convertEip1193RequestToJsonRpcRequest=l}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/internal-provider.cjs"}],[1965,{"./internal-provider.cjs":1964,"@metamask/json-rpc-engine":2216,"@metamask/json-rpc-engine/v2":2226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerFromMiddlewareV2=r.providerFromMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("@metamask/json-rpc-engine/v2"),s=e("./internal-provider.cjs");function o(e){return new s.InternalProvider({engine:i.JsonRpcEngineV2.create({middleware:[e]})})}r.providerFromMiddleware=function(e){return o((0,n.asV2Middleware)(e))},r.providerFromMiddlewareV2=o}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/provider-from-middleware.cjs"}],[1974,{"./qr-keyring.cjs":1978,"@ethereumjs/rlp":668,"@ethereumjs/tx":681,"@ethereumjs/util":702,"@keystonehq/bc-ur-registry-eth":1981,"@metamask/utils":3207,buffer:4176,hdkey:4699,uuid:2057},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},d=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Device=r.DeviceMode=r.SUPPORTED_UR_TYPE=void 0;const h=e("@ethereumjs/rlp"),f=e("@ethereumjs/tx"),p=e("@ethereumjs/util"),m=e("@keystonehq/bc-ur-registry-eth"),y=e("@metamask/utils"),g=l(e("hdkey")),b=e("uuid"),w=e("./qr-keyring.cjs");var v;r.SUPPORTED_UR_TYPE={CRYPTO_HDKEY:"crypto-hdkey",CRYPTO_ACCOUNT:"crypto-account",ETH_SIGNATURE:"eth-signature"},function(e){e.HD="hd",e.ACCOUNT="account"}(v||(r.DeviceMode=v={}));function k(e){return e instanceof m.CryptoAccount?e.getMasterFingerprint()?.toString("hex"):e.getOrigin()?.getSourceFingerprint()?.toString("hex")}r.Device=class{constructor({requestScan:e,source:t}){n.add(this),i.set(this,void 0),s.set(this,void 0),u(this,i,e,"f"),u(this,s,"string"==typeof t||"cbor"in t?d(this,n,"m",o).call(this,t):t,"f")}addressFromIndex(e){if(d(this,s,"f").keyringMode===v.ACCOUNT){const t=Object.keys(d(this,s,"f").paths)[e];if(!t)throw new Error(`Address not found for index ${e}`);return(0,y.add0x)(t)}const r=`m/${d(this,s,"f").childrenPath.replace("*",e.toString())}`,n=g.default.fromExtendedKey(d(this,s,"f").xpub).derive(r),i=t.from((0,p.publicToAddress)(n.publicKey,!0)).toString("hex"),o=(0,y.getChecksumAddress)((0,y.add0x)(i));return d(this,s,"f").indexes[o]=e,o}pathFromAddress(e){const t=(0,y.getChecksumAddress)((0,y.add0x)(e));if(d(this,s,"f").keyringMode===v.ACCOUNT){const e=d(this,s,"f").paths[t];if(e===undefined)throw new Error(`Unknown address ${t}`);return e}let r=d(this,s,"f").indexes[t];if(r===undefined){for(let e=0;e<1e3;e++){if(this.addressFromIndex(e)===t){r=e;break}}if(r===undefined)throw new Error(`Unknown address ${t}`)}return`${d(this,s,"f").hdPath}/${d(this,s,"f").childrenPath.replace("*",r.toString()).replace(/\*/gu,"0")}`}getAddressesPage(e,t=5){const r=e*t,n=r+t,i=[];for(let e=r;e<n;e++){const t=this.addressFromIndex(e);i.push({address:t,index:e})}return i}getDeviceDetails(){return d(this,s,"f")}async signTransaction(e,r){const i=r.type===f.TransactionType.Legacy?m.DataType.transaction:m.DataType.typedTransaction,o=r.getMessageToSign(),c=t.from(Array.isArray(o)?h.RLP.encode(o):o),u=(0,b.v4)(),l=m.EthSignRequest.constructETHRequest(c,i,this.pathFromAddress(e),d(this,s,"f").xfp,u,Number(r.common.chainId())).toUR(),{r:p,s:y,v:g}=await d(this,n,"m",a).call(this,{requestId:u,payload:{type:l.type,cbor:l.cbor.toString("hex")},requestTitle:"Scan with your hardware wallet",requestDescription:'After your device has signed this message, click on "Scan" to receive the signature'});return f.TransactionFactory.fromTxData({...r.toJSON(),r:p,s:y,v:g},{common:r.common})}async signTypedData(e,r){const i=(0,b.v4)(),o=m.EthSignRequest.constructETHRequest(t.from(JSON.stringify(r),"utf8"),m.DataType.typedData,this.pathFromAddress(e),d(this,s,"f").xfp,i,undefined,e).toUR(),{r:c,s:u,v:l}=await d(this,n,"m",a).call(this,{requestId:i,payload:{type:o.type,cbor:o.cbor.toString("hex")}});return(0,y.add0x)(t.concat([Uint8Array.from(c),Uint8Array.from(u),Uint8Array.from(l)]).toString("hex"))}async signPersonalMessage(e,r){const i=(0,b.v4)(),o=m.EthSignRequest.constructETHRequest(t.from((0,y.remove0x)(r),"hex"),m.DataType.personalMessage,this.pathFromAddress(e),d(this,s,"f").xfp,i,undefined,e).toUR(),{r:c,s:u,v:l}=await d(this,n,"m",a).call(this,{requestId:i,payload:{type:o.type,cbor:o.cbor.toString("hex")}});return(0,y.add0x)(t.concat([Uint8Array.from(c),Uint8Array.from(u),Uint8Array.from(l)]).toString("hex"))}},i=new WeakMap,s=new WeakMap,n=new WeakSet,o=function(e){const r=d(this,n,"m",c).call(this,e),i=k(r);if(r instanceof m.CryptoAccount){const{name:e,xfp:n,paths:i,keyringAccount:s}=function(e){const r=e.getOutputDescriptors();if(!r||0===r.length)throw new Error("No output descriptors found in CryptoAccount");let n="",i="";return{paths:r.reduce((e,r)=>{const s=r.getHDKey();if(s){const r=`M/${s.getOrigin().getPath()}`;e[(0,y.getChecksumAddress)((0,y.add0x)(t.from((0,p.publicToAddress)(s.getKey(),!0)).toString("hex")))]=r,n=s.getName(),i=s.getNote()}return e},{}),name:n,keyringAccount:i,xfp:k(e)}}(r);return{keyringMode:v.ACCOUNT,keyringAccount:s,name:e,xfp:n,paths:i,indexes:{}}}const{getBip32Key:s,getOrigin:o,getChildren:a,getName:u,getNote:l}=r;return{keyringMode:v.HD,keyringAccount:l(),name:u(),xfp:i,hdPath:`m/${o().getPath()}`,childrenPath:a()?.getPath()||"0/*",xpub:s(),indexes:{}}},a=async function(e){const r=await d(this,i,"f").call(this,{type:w.QrScanRequestType.SIGN,request:e}),n=m.ETHSignature.fromCBOR(t.from(r.cbor,"hex")),s=n.getSignature(),o=n.getRequestId();if(!o)throw new Error("Signature request ID is missing.");if(e.requestId!==(0,b.stringify)(o))throw new Error(`Signature request ID mismatch. Expected: ${e.requestId}, received: ${o.toString("hex")}`);return{r:s.subarray(0,32),s:s.subarray(32,64),v:s.subarray(64)}},c=function(e){const n="string"==typeof e?m.URRegistryDecoder.decode(e):{type:e.type,cbor:t.from(e.cbor,"hex")},{type:i,cbor:s}=n;switch(i){case r.SUPPORTED_UR_TYPE.CRYPTO_HDKEY:return m.CryptoHDKey.fromCBOR(s);case r.SUPPORTED_UR_TYPE.CRYPTO_ACCOUNT:return m.CryptoAccount.fromCBOR(s);default:throw new Error("Unsupported UR type")}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring",file:"node_modules/@metamask/eth-qr-keyring/dist/device.cjs"}],[1975,{"./qr-keyring-deferred-promise-bridge.cjs":1976,"./qr-keyring-scanner-bridge.cjs":1977,"./qr-keyring.cjs":1978},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.QrScanRequestType=r.QR_KEYRING_TYPE=r.QrKeyring=r.QrKeyringDeferredPromiseBridge=r.QrKeyringScannerBridge=void 0;var n=e("./qr-keyring-scanner-bridge.cjs");Object.defineProperty(r,"QrKeyringScannerBridge",{enumerable:!0,get:function(){return n.QrKeyringScannerBridge}});var i=e("./qr-keyring-deferred-promise-bridge.cjs");Object.defineProperty(r,"QrKeyringDeferredPromiseBridge",{enumerable:!0,get:function(){return i.QrKeyringDeferredPromiseBridge}});var s=e("./qr-keyring.cjs");Object.defineProperty(r,"QrKeyring",{enumerable:!0,get:function(){return s.QrKeyring}}),Object.defineProperty(r,"QR_KEYRING_TYPE",{enumerable:!0,get:function(){return s.QR_KEYRING_TYPE}}),Object.defineProperty(r,"QrScanRequestType",{enumerable:!0,get:function(){return s.QrScanRequestType}})}}},{package:"@metamask/eth-qr-keyring",file:"node_modules/@metamask/eth-qr-keyring/dist/index.cjs"}],[1976,{"@metamask/utils":3207,"async-mutex":3998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.QrKeyringDeferredPromiseBridge=void 0;const d=e("@metamask/utils"),l=e("async-mutex");r.QrKeyringDeferredPromiseBridge=class{constructor({onScanRequested:e,onScanResolved:t,onScanRejected:r}={}){n.set(this,new l.Mutex),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c(this,i,e,"f"),c(this,s,t,"f"),c(this,o,r,"f")}async requestScan(e){return u(this,n,"f").runExclusive(async()=>{const t=(0,d.createDeferredPromise)();return c(this,a,t,"f"),u(this,i,"f")?.call(this,e),t.promise})}resolvePendingScan(e){if(!u(this,a,"f"))throw new Error("No pending scan to resolve.");u(this,a,"f").resolve(e),c(this,a,null,"f"),u(this,s,"f")?.call(this,e)}rejectPendingScan(e){if(!u(this,a,"f"))throw new Error("No pending scan to reject.");u(this,a,"f").reject(e),c(this,a,null,"f"),u(this,o,"f")?.call(this,e)}},n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap}}},{package:"@metamask/eth-qr-keyring",file:"node_modules/@metamask/eth-qr-keyring/dist/qr-keyring-deferred-promise-bridge.cjs"}],[1977,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.QrKeyringScannerBridge=void 0;r.QrKeyringScannerBridge=class{constructor({requestScan:e}){n.set(this,void 0),i(this,n,e,"f")}async requestScan(e){return s(this,n,"f").call(this,e)}},n=new WeakMap}}},{package:"@metamask/eth-qr-keyring",file:"node_modules/@metamask/eth-qr-keyring/dist/qr-keyring-scanner-bridge.cjs"}],[1978,{"./device.cjs":1974,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},d=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.QrKeyring=r.getDefaultSerializedQrKeyringState=r.QrScanRequestType=r.QR_KEYRING_TYPE=void 0;const l=e("@metamask/utils"),h=e("./device.cjs");var f;r.QR_KEYRING_TYPE="QR Hardware Wallet Device",function(e){e.PAIR="pair",e.SIGN="sign"}(f||(r.QrScanRequestType=f={}));function p(e){return(0,l.getChecksumAddress)((0,l.add0x)(e))}r.getDefaultSerializedQrKeyringState=()=>({initialized:!1,accounts:[]});class m{constructor(e){n.add(this),this.type=r.QR_KEYRING_TYPE,i.set(this,void 0),s.set(this,[]),o.set(this,void 0),a.set(this,0),this.bridge=e.bridge,e?.ur&&this.pairDevice(e.ur)}async serialize(){const e=u(this,i,"f")?u(this,i,"f").getDeviceDetails():undefined;return e&&[h.DeviceMode.HD,h.DeviceMode.ACCOUNT].includes(e.keyringMode)?{...e,initialized:!0,accounts:u(this,s,"f").slice()}:(0,r.getDefaultSerializedQrKeyringState)()}async deserialize(e){if(!e.initialized)return d(this,s,[],"f"),void d(this,i,undefined,"f");d(this,i,new h.Device({requestScan:this.bridge.requestScan.bind(this.bridge),source:e}),"f"),d(this,s,(e.accounts??[]).map(p),"f")}async addAccounts(e){if(!u(this,i,"f"))throw new Error("No device paired.");const t=[];for(let r=0;r<e;r++){const e=u(this,o,"f")??u(this,s,"f").length+r,n=u(this,i,"f").addressFromIndex(e);this.setAccountToUnlock(e+1),u(this,s,"f").includes(n)||(u(this,s,"f").push(n),t.push(n))}return t}async getAccounts(){return u(this,s,"f").slice()}removeAccount(e){const t=p(e);d(this,s,u(this,s,"f").filter(e=>e!==t),"f")}pairDevice(e){d(this,i,new h.Device({requestScan:this.bridge.requestScan.bind(this.bridge),source:e}),"f")}setAccountToUnlock(e){d(this,o,e,"f")}getName(){if(!u(this,i,"f"))return r.QR_KEYRING_TYPE;return u(this,i,"f").getDeviceDetails().name}async getFirstPage(){return d(this,a,0,"f"),this.getCurrentPage()}async getNextPage(){return d(this,a,u(this,a,"f")+1,"f"),this.getCurrentPage()}async getPreviousPage(){return u(this,a,"f")>0?d(this,a,u(this,a,"f")-1,"f"):d(this,a,0,"f"),this.getCurrentPage()}async getCurrentPage(){return u(this,i,"f")||await u(this,n,"m",c).call(this),(0,l.assert)(u(this,i,"f"),"A device is expected to be paired before fetching accounts."),u(this,i,"f").getAddressesPage(u(this,a,"f"))}async forgetDevice(){d(this,i,undefined,"f"),d(this,s,[],"f"),d(this,o,undefined,"f"),d(this,a,0,"f")}async signTransaction(e,t){if(!u(this,i,"f"))throw new Error("No device paired.");return u(this,i,"f").signTransaction(e,t)}async signTypedData(e,t){if(!u(this,i,"f"))throw new Error("No device paired.");return u(this,i,"f").signTypedData(e,t)}async signPersonalMessage(e,t){if(!u(this,i,"f"))throw new Error("No device paired.");return u(this,i,"f").signPersonalMessage(e,t)}}r.QrKeyring=m,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=async function(){this.pairDevice(await this.bridge.requestScan({type:f.PAIR}))},m.type=r.QR_KEYRING_TYPE}}},{package:"@metamask/eth-qr-keyring",file:"node_modules/@metamask/eth-qr-keyring/dist/qr-keyring.cjs"}],[1979,{"@ethereumjs/util":1990,"@keystonehq/bc-ur-registry":2032,buffer:4176,hdkey:4699,uuid:1998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),o=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,a=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new i.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new i.RegistryType("eth-signature",402),ETH_NFT_ITEM:new i.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:d}=i.extend;var l,h;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(l||(l={})),(h=r.DataType||(r.DataType={}))[h.transaction=1]="transaction",h[h.typedData=2]="typedData",h[h.personalMessage=3]="personalMessage",h[h.typedTransaction=4]="typedTransaction";class f extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[l.requestId]=new i.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[l.address]=this.address),this.chainId&&(e[l.chainId]=Number(this.chainId)),this.origin&&(e[l.origin]=this.origin),e[l.signData]=this.signData,e[l.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[l.derivationPath]=t,new i.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,r,n,o,a,c,u,d){const l=n.replace(/[m|M]\//,"").split("/"),h=new i.CryptoKeypath(l.map(e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new i.PathComponent({index:t,hardened:r})}),t.from(o,"hex"));return new f({requestId:a?t.from(s.parse(a)):undefined,signData:e,dataType:r,derivationPath:h,chainId:c,address:u?t.from(u.replace("0x",""),"hex"):undefined,origin:d||undefined})}}f.fromDataItem=e=>{const t=e.getData(),r=t[l.signData],n=t[l.dataType],s=i.CryptoKeypath.fromDataItem(t[l.derivationPath]),o=t[l.chainId]?t[l.chainId]:undefined,a=t[l.address]?t[l.address]:undefined,c=t[l.requestId]?t[l.requestId].getData():undefined,u=t[l.origin]?t[l.origin]:undefined;return new f({requestId:c,signData:r,dataType:n,chainId:o,derivationPath:s,address:a,origin:u})},f.fromCBOR=e=>{const t=u(e);return f.fromDataItem(t)};const{RegistryTypes:p,decodeToDataItem:m}=i.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(y||(y={}));class g extends i.RegistryItem{constructor(e,t,r){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new i.DataItem(this.requestId,p.UUID.getTag())),this.origin&&(e[y.origin]=this.origin),e[y.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t,this.origin=r}}g.fromDataItem=e=>{const t=e.getData(),r=t[y.signature],n=t[y.requestId]?t[y.requestId].getData():undefined;return new g(r,n,t[y.origin])},g.fromCBOR=e=>{const t=m(e);return g.fromDataItem(t)};const{decodeToDataItem:b}=i.extend;var w;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(w||(w={}));class v extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[w.chainId]=this.chainId,e[w.name]=this.name,e[w.contractAddress]=this.contractAddress,e[w.contractName]=this.contractName,e[w.mediaData]=this.mediaData,new i.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,r,n,i){return new v({chainId:e,contractAddress:t,contractName:r,mediaData:i,name:n})}}v.fromDataItem=e=>{const t=e.getData(),r=t[w.chainId],n=t[w.name],i=t[w.mediaData],s=t[w.contractAddress],o=t[w.contractName];return new v({chainId:r,name:n,contractAddress:s,contractName:o,mediaData:i})},v.fromCBOR=e=>{const t=b(e);return v.fromDataItem(t)};const k=(e,t)=>{const r=o.fromExtendedKey(e).derive(t),n="0x"+a.publicToAddress(r.publicKey,!0).toString("hex");return a.toChecksumAddress(n)};i.patchTags(Object.values(c).filter(e=>!!e.getTag()).map(e=>e.getTag())),Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})}),r.ETHNFTItem=v,r.ETHSignature=g,r.EthSignRequest=f,r.findHDPathFromAddress=(e,t,r,n)=>{for(let i=0;i<r;i++){const r=k(t,`M/0/${i}`);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${i}`}return null},r.generateAddressFromXpub=k}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[1980,{"@ethereumjs/util":1990,"@keystonehq/bc-ur-registry":2032,buffer:4176,hdkey:4699,uuid:1998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),o=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,a=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new i.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new i.RegistryType("eth-signature",402),ETH_NFT_ITEM:new i.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:d}=i.extend;var l,h;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(l||(l={})),(h=r.DataType||(r.DataType={}))[h.transaction=1]="transaction",h[h.typedData=2]="typedData",h[h.personalMessage=3]="personalMessage",h[h.typedTransaction=4]="typedTransaction";class f extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[l.requestId]=new i.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[l.address]=this.address),this.chainId&&(e[l.chainId]=Number(this.chainId)),this.origin&&(e[l.origin]=this.origin),e[l.signData]=this.signData,e[l.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[l.derivationPath]=t,new i.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,r,n,o,a,c,u,d){const l=n.replace(/[m|M]\//,"").split("/"),h=new i.CryptoKeypath(l.map(e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new i.PathComponent({index:t,hardened:r})}),t.from(o,"hex"));return new f({requestId:a?t.from(s.parse(a)):void 0,signData:e,dataType:r,derivationPath:h,chainId:c,address:u?t.from(u.replace("0x",""),"hex"):void 0,origin:d||void 0})}}f.fromDataItem=e=>{const t=e.getData(),r=t[l.signData],n=t[l.dataType],s=i.CryptoKeypath.fromDataItem(t[l.derivationPath]),o=t[l.chainId]?t[l.chainId]:void 0,a=t[l.address]?t[l.address]:void 0,c=t[l.requestId]?t[l.requestId].getData():void 0;return new f({requestId:c,signData:r,dataType:n,chainId:o,derivationPath:s,address:a,origin:t[l.origin]?t[l.origin]:void 0})},f.fromCBOR=e=>{const t=u(e);return f.fromDataItem(t)};const{RegistryTypes:p,decodeToDataItem:m}=i.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(y||(y={}));class g extends i.RegistryItem{constructor(e,t,r){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new i.DataItem(this.requestId,p.UUID.getTag())),this.origin&&(e[y.origin]=this.origin),e[y.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t,this.origin=r}}g.fromDataItem=e=>{const t=e.getData(),r=t[y.signature],n=t[y.requestId]?t[y.requestId].getData():void 0;return new g(r,n,t[y.origin])},g.fromCBOR=e=>{const t=m(e);return g.fromDataItem(t)};const{decodeToDataItem:b}=i.extend;var w;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(w||(w={}));class v extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[w.chainId]=this.chainId,e[w.name]=this.name,e[w.contractAddress]=this.contractAddress,e[w.contractName]=this.contractName,e[w.mediaData]=this.mediaData,new i.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,r,n,i){return new v({chainId:e,contractAddress:t,contractName:r,mediaData:i,name:n})}}v.fromDataItem=e=>{const t=e.getData();return new v({chainId:t[w.chainId],name:t[w.name],contractAddress:t[w.contractAddress],contractName:t[w.contractName],mediaData:t[w.mediaData]})},v.fromCBOR=e=>{const t=b(e);return v.fromDataItem(t)};const k=(e,t)=>{const r=o.fromExtendedKey(e).derive(t),n="0x"+a.publicToAddress(r.publicKey,!0).toString("hex");return a.toChecksumAddress(n)};i.patchTags(Object.values(c).filter(e=>!!e.getTag()).map(e=>e.getTag())),Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})}),r.ETHNFTItem=v,r.ETHSignature=g,r.EthSignRequest=f,r.findHDPathFromAddress=(e,t,r,n)=>{for(let i=0;i<r;i++){const r=k(t,"M/0/"+i);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${i}`}return null},r.generateAddressFromXpub=k}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[1981,{"./bc-ur-registry-eth.cjs.development.js":1979,"./bc-ur-registry-eth.cjs.production.min.js":1980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[1982,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(Array.isArray(e)){const t=[];let r=0;for(let i=0;i<e.length;i++){const s=n(e[i]);t.push(s),r+=s.length}return f(o(r,192),...t)}const t=g(e);return 1===t.length&&t[0]<128?t:f(o(t.length,128),t)}function i(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return l(d(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const r=m(e),n=m(t+55+r.length/2);return Uint8Array.from(h(n+r))}function a(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const r=c(g(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function c(e){let t,r,n,o,a;const u=[],d=e[0];if(d<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(d<=183){if(t=d-127,n=128===d?Uint8Array.from([]):i(e,1,t),2===t&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}if(d<=191){if(r=d-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(i(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=i(e,r,t+r),{data:n,remainder:e.slice(t+r)}}if(d<=247){for(t=d-191,o=i(e,1,t);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(t)}}{if(r=d-246,t=s(i(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const n=r+t;if(n>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=i(e,r,n);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(n)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.RLP=r.utils=r.decode=r.encode=void 0,r.encode=n,r.decode=a;const u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d(e){let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t}function l(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function h(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r;t[r]=l(e.slice(n,n+2))}return t}function f(...e){if(1===e.length)return e[0];const t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function p(e){return(new TextEncoder).encode(e)}function m(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function y(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return y(e)?h((t="string"!=typeof(r=e)?r:y(r)?r.slice(2):r).length%2?`0${t}`:t):p(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?h(m(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}r.utils={bytesToHex:d,concatBytes:f,hexToBytes:h,utf8ToBytes:p},r.RLP={encode:n,decode:a}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>@ethereumjs/rlp",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/rlp/dist/index.js"}],[1983,{"./bytes":1986,"./constants":1987,"./helpers":1989,"./internal":1991,"@ethereumjs/rlp":1982,buffer:4176,"ethereum-cryptography/keccak":2054,"ethereum-cryptography/secp256k1":2055,"ethereum-cryptography/utils":2056},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),c=e("./constants"),u=e("./helpers"),d=e("./internal"),l=BigInt(0);class h{constructor(e=l,t=l,r=c.KECCAK256_RLP,n=c.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new h(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new h((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<l)throw new Error("nonce must be greater than zero");if(this.balance<l)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===l&&this.nonce===l&&this.codeHash.equals(c.KECCAK256_NULL)}}r.Account=h;r.isValidAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,u.assertIsHexString)(e);const n=(0,d.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const c=t.from(s+n,"utf8"),l=(0,o.bytesToHex)((0,i.keccak256)(c));let h="0x";for(let e=0;e<n.length;e++)parseInt(l[e],16)>=8?h+=n[e].toUpperCase():h+=n[e];return h};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,u.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,u.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,u.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,u.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,u.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function f(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?c.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=f;const p=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(c.KECCAK256_RLP)?p:n,(0,a.arrToBufArr)(i).equals(c.KECCAK256_NULL)?p:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?f(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/account.js"}],[1984,{"./account":1983,"./bytes":1986,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/address.js"}],[1985,{events:4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((t,n)=>{i.call(e,r,e=>{e?n(e):t()})})}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1986,{"./helpers":1989,"./internal":1991,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function c(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=c;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return c(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map(t=>e(t)):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(c(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/bytes.js"}],[1987,{buffer:4176,"ethereum-cryptography/secp256k1":2055},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/constants.js"}],[1988,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/encoding.js"}],[1989,{"../../../../../../../../../is-buffer/index.js":4725,"./internal":1991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/helpers.js"}],[1990,{"./account":1983,"./address":1984,"./asyncEventEmitter":1985,"./bytes":1986,"./constants":1987,"./encoding":1988,"./internal":1991,"./lock":1992,"./provider":1993,"./signature":1994,"./types":1995,"./units":1996,"./withdrawal":1997},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/index.js"}],[1991,{buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"](t=>e.indexOf(t)>=0)},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/internal.js"}],[1992,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/lock.js"}],[1993,{"micro-ftch":5015},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/provider.js"}],[1994,{"./bytes":1986,"./constants":1987,"./helpers":1989,buffer:4176,"ethereum-cryptography/keccak":2054,"ethereum-cryptography/secp256k1":2055},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function u(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const d=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),l=c(r,a);if(!u(l))throw new Error("Invalid signature v value");const h=i.secp256k1.Signature.fromCompact(d).addRecoveryBit(Number(l)).recoverPublicKey(e);return t.from(h.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!u(c(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),d=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||d===BigInt(0)||d>=o.SECP256K1_ORDER)&&!(n&&d>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/signature.js"}],[1995,{"./bytes":1986,"./internal":1991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/types.js"}],[1996,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/units.js"}],[1997,{"./address":1984,"./bytes":1986,"./types":1995,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,c=(0,s.toType)(t,s.TypeOutput.BigInt),u=(0,s.toType)(r,s.TypeOutput.BigInt),d=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),l=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(c,u,d,l)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,c=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),u=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let d;d=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[c,u,d,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1998,{"./nil.js":2e3,"./parse.js":2001,"./stringify.js":2005,"./v1.js":2006,"./v3.js":2007,"./v4.js":2009,"./v5.js":2010,"./validate.js":2011,"./version.js":2012},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return l.default}});var n=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),o=h(e("./v5.js")),a=h(e("./nil.js")),c=h(e("./version.js")),u=h(e("./validate.js")),d=h(e("./stringify.js")),l=h(e("./parse.js"));function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/index.js"}],[1999,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const n=r,h=s,f=d,p=l;r=o(r,s,d,l,e[t],7,-680876936),l=o(l,r,s,d,e[t+1],12,-389564586),d=o(d,l,r,s,e[t+2],17,606105819),s=o(s,d,l,r,e[t+3],22,-1044525330),r=o(r,s,d,l,e[t+4],7,-176418897),l=o(l,r,s,d,e[t+5],12,1200080426),d=o(d,l,r,s,e[t+6],17,-1473231341),s=o(s,d,l,r,e[t+7],22,-45705983),r=o(r,s,d,l,e[t+8],7,1770035416),l=o(l,r,s,d,e[t+9],12,-1958414417),d=o(d,l,r,s,e[t+10],17,-42063),s=o(s,d,l,r,e[t+11],22,-1990404162),r=o(r,s,d,l,e[t+12],7,1804603682),l=o(l,r,s,d,e[t+13],12,-40341101),d=o(d,l,r,s,e[t+14],17,-1502002290),s=o(s,d,l,r,e[t+15],22,1236535329),r=a(r,s,d,l,e[t+1],5,-165796510),l=a(l,r,s,d,e[t+6],9,-1069501632),d=a(d,l,r,s,e[t+11],14,643717713),s=a(s,d,l,r,e[t],20,-373897302),r=a(r,s,d,l,e[t+5],5,-701558691),l=a(l,r,s,d,e[t+10],9,38016083),d=a(d,l,r,s,e[t+15],14,-660478335),s=a(s,d,l,r,e[t+4],20,-405537848),r=a(r,s,d,l,e[t+9],5,568446438),l=a(l,r,s,d,e[t+14],9,-1019803690),d=a(d,l,r,s,e[t+3],14,-187363961),s=a(s,d,l,r,e[t+8],20,1163531501),r=a(r,s,d,l,e[t+13],5,-1444681467),l=a(l,r,s,d,e[t+2],9,-51403784),d=a(d,l,r,s,e[t+7],14,1735328473),s=a(s,d,l,r,e[t+12],20,-1926607734),r=c(r,s,d,l,e[t+5],4,-378558),l=c(l,r,s,d,e[t+8],11,-2022574463),d=c(d,l,r,s,e[t+11],16,1839030562),s=c(s,d,l,r,e[t+14],23,-35309556),r=c(r,s,d,l,e[t+1],4,-1530992060),l=c(l,r,s,d,e[t+4],11,1272893353),d=c(d,l,r,s,e[t+7],16,-155497632),s=c(s,d,l,r,e[t+10],23,-1094730640),r=c(r,s,d,l,e[t+13],4,681279174),l=c(l,r,s,d,e[t],11,-358537222),d=c(d,l,r,s,e[t+3],16,-722521979),s=c(s,d,l,r,e[t+6],23,76029189),r=c(r,s,d,l,e[t+9],4,-640364487),l=c(l,r,s,d,e[t+12],11,-421815835),d=c(d,l,r,s,e[t+15],16,530742520),s=c(s,d,l,r,e[t+2],23,-995338651),r=u(r,s,d,l,e[t],6,-198630844),l=u(l,r,s,d,e[t+7],10,1126891415),d=u(d,l,r,s,e[t+14],15,-1416354905),s=u(s,d,l,r,e[t+5],21,-57434055),r=u(r,s,d,l,e[t+12],6,1700485571),l=u(l,r,s,d,e[t+3],10,-1894986606),d=u(d,l,r,s,e[t+10],15,-1051523),s=u(s,d,l,r,e[t+1],21,-2054922799),r=u(r,s,d,l,e[t+8],6,1873313359),l=u(l,r,s,d,e[t+15],10,-30611744),d=u(d,l,r,s,e[t+6],15,-1560198380),s=u(s,d,l,r,e[t+13],21,1309151649),r=u(r,s,d,l,e[t+4],6,-145523070),l=u(l,r,s,d,e[t+11],10,-1120210379),d=u(d,l,r,s,e[t+2],15,718787259),s=u(s,d,l,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,h),d=i(d,f),l=i(l,p)}return[r,s,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=d}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/md5-browser.js"}],[2,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=[{code:"am",name:""},{code:"ar",name:""},{code:"bg",name:""},{code:"bn",name:""},{code:"ca",name:"Catal"},{code:"cs",name:"etina"},{code:"da",name:"Dansk"},{code:"de",name:"Deutsch"},{code:"el",name:""},{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"es_419",name:"Espaol (Latin America)"},{code:"et",name:"Estonian"},{code:"fa",name:""},{code:"fi",name:"Suomi"},{code:"fil",name:"Filipino"},{code:"fr",name:"Franais"},{code:"ga",name:"Gaeilge"},{code:"gu",name:""},{code:"he",name:""},{code:"hi",name:" "},{code:"hn",name:""},{code:"hr",name:"Hrvatski"},{code:"ht",name:"Kreyl ayisyen"},{code:"hu",name:"Magyar"},{code:"id",name:"Bahasa Indonesia"},{code:"it",name:"Italiano"},{code:"ja",name:""},{code:"kn",name:""},{code:"ko",name:""},{code:"lt",name:"Lietuvikai"},{code:"lv",name:"Latvian"},{code:"ml",name:""},{code:"mr",name:""},{code:"ms",name:"Malay"},{code:"nl",name:"Nederlands"},{code:"no",name:"Norwegian"},{code:"pl",name:"Polskie"},{code:"pt",name:"Portugus"},{code:"pt_BR",name:"Portugus (Brazillian)"},{code:"pt_PT",name:"Portugus (European)"},{code:"ro",name:"Limba romn"},{code:"ru",name:""},{code:"sk",name:"Slovenina"},{code:"sl",name:"Slovenina"},{code:"sr",name:""},{code:"sv",name:"Svenska"},{code:"sw",name:"Swahili"},{code:"ta",name:""},{code:"te",name:""},{code:"th",name:""},{code:"tl",name:"Filipino"},{code:"tr",name:"Trke"},{code:"uk",name:" "},{code:"vi",name:"Ting Vit"},{code:"zh_CN",name:"()"},{code:"zh_TW",name:"()"}]}}},{package:"$root$",file:"app/_locales/index.json"}],[2e3,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/nil.js"}],[2001,{"./validate.js":2011},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/parse.js"}],[2002,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/regex.js"}],[2003,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/rng-browser.js"}],[2004,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],d=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,d)+l+t[r]+s[e]>>>0;l=d,d=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/sha1-browser.js"}],[2005,{"./validate.js":2011},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).substr(1));var o=function(e,t=0){const r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/stringify.js"}],[2006,{"./rng.js":2003,"./stringify.js":2005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./rng.js")),i=s(e("./stringify.js"));function s(e){return e&&e.__esModule?e:{default:e}}let o,a,c=0,u=0;var d=function(e,t,r){let s=t&&r||0;const d=t||new Array(16);let l=(e=e||{}).node||o,h=e.clockseq!==undefined?e.clockseq:a;if(null==l||null==h){const t=e.random||(e.rng||n.default)();null==l&&(l=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=a=16383&(t[6]<<8|t[7]))}let f=e.msecs!==undefined?e.msecs:Date.now(),p=e.nsecs!==undefined?e.nsecs:u+1;const m=f-c+(p-u)/1e4;if(m<0&&e.clockseq===undefined&&(h=h+1&16383),(m<0||f>c)&&e.nsecs===undefined&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=p,a=h,f+=122192928e5;const y=(1e4*(268435455&f)+p)%4294967296;d[s++]=y>>>24&255,d[s++]=y>>>16&255,d[s++]=y>>>8&255,d[s++]=255&y;const g=f/4294967296*1e4&268435455;d[s++]=g>>>8&255,d[s++]=255&g,d[s++]=g>>>24&15|16,d[s++]=g>>>16&255,d[s++]=h>>>8|128,d[s++]=255&h;for(let e=0;e<6;++e)d[s+e]=l[e];return t||(0,i.default)(d)};r.default=d}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v1.js"}],[2007,{"./md5.js":1999,"./v35.js":2008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v3.js"}],[2008,{"./parse.js":2001,"./stringify.js":2005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){function s(e,s,o,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof s&&(s=(0,i.default)(s)),16!==s.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(s),c.set(e,s.length),c=r(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=c[e];return o}return(0,n.default)(c)}try{s.name=e}catch(e){}return s.DNS=o,s.URL=a,s},r.URL=r.DNS=void 0;var n=s(e("./stringify.js")),i=s(e("./parse.js"));function s(e){return e&&e.__esModule?e:{default:e}}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v35.js"}],[2009,{"./rng.js":2003,"./stringify.js":2005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./rng.js")),i=s(e("./stringify.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,r){const s=(e=e||{}).random||(e.rng||n.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,i.default)(s)};r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v4.js"}],[2010,{"./sha1.js":2004,"./v35.js":2008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v5.js"}],[2011,{"./regex.js":2002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/validate.js"}],[2012,{"./validate.js":2011},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/version.js"}],[2013,{"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Bytes=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");class o extends i.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>s.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new n.DataItem(this.bytes)}}r.Bytes=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[2014,{".":2032,"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoAccount=void 0;const n=e("."),i=e("./lib"),s=e("./RegistryItem"),o=e("./RegistryType");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(a||(a={}));class c extends s.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[a.outputDescriptors]=this.outputDescriptors.map(e=>e.toDataItem())),new i.DataItem(e)}}}r.CryptoAccount=c,c.fromDataItem=e=>{const r=e.getData(),i=t.alloc(4),s=r[a.masterFingerprint];s&&i.writeUInt32BE(s,0);const o=r[a.outputDescriptors].map(e=>n.CryptoOutput.fromDataItem(e));return new c(i,o)},c.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[2015,{"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoCoinInfo=r.Network=r.Type=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");var o,a,c;!function(e){e.type="1",e.network="2"}(o||(o={})),function(e){e[e.bitcoin=0]="bitcoin"}(a=r.Type||(r.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(c=r.Network||(r.Network={}));class u extends i.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||a.bitcoin,this.getNetwork=()=>this.network||c.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[o.type]=this.type),this.network&&(e[o.network]=this.network),new n.DataItem(e)}}}r.CryptoCoinInfo=u,u.fromDataItem=e=>{const t=e.getData(),r=t[o.type],n=t[o.network];return new u(r,n)},u.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[2016,{"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoECKey=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");var o;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(o||(o={}));class a extends i.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[o.curve]=this.curve),this.privateKey!==undefined&&(e[o.private]=this.privateKey),e[o.data]=this.data,new n.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}r.CryptoECKey=a,a.fromDataItem=e=>{const t=e.getData(),r=t[o.curve],n=t[o.private],i=t[o.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new a({data:i,curve:r,privateKey:n})},a.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[2017,{"./CryptoCoinInfo":2015,"./CryptoKeypath":2018,"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035,bs58check:4180,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoHDKey=void 0;const n=e("bs58check"),i=e("./CryptoCoinInfo"),s=e("./CryptoKeypath"),o=e("./lib"),a=e("./RegistryItem"),c=e("./RegistryType");var u;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(u||(u={}));class d extends a.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,r,i;let s,o,a=0,c=t.alloc(4).fill(0);if(this.isMaster())s=t.from("0488ADE4","hex"),o=0,a=0;else{o=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(r=this.getOrigin())||void 0===r?void 0:r.getDepth());const n=null===(i=this.getOrigin())||void 0===i?void 0:i.getComponents(),u=n[n.length-1];u&&(a=u.isHardened()?u.getIndex()+2147483648:u.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),s=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const u=t.alloc(1);u.writeUInt8(o,0);const d=t.alloc(4);d.writeUInt32BE(a,0);const l=this.getChainCode(),h=this.getKey();return(0,n.encode)(t.concat([s,u,c,d,l,h]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,r,n,i,s,o;let a="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(a+=`${null===(n=null===(r=this.getOrigin())||void 0===r?void 0:r.getSourceFingerprint())||void 0===n?void 0:n.toString("hex")}/${null===(i=this.getOrigin())||void 0===i?void 0:i.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&(null===(s=this.getChildren())||void 0===s?void 0:s.getPath())&&(a+=`/${null===(o=this.getChildren())||void 0===o?void 0:o.getPath()}`),a},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[u.is_master]=!0,e[u.key_data]=this.key,e[u.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[u.is_private]=this.privateKey),e[u.key_data]=this.key,this.chainCode&&(e[u.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[u.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[u.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[u.children]=t}this.parentFingerprint&&(e[u.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[u.name]=this.name),this.note!==undefined&&(e[u.note]=this.note)}return new o.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}r.CryptoHDKey=d,d.fromDataItem=e=>{const r=e.getData(),n=!!r[u.is_master],o=r[u.is_private],a=r[u.key_data],c=r[u.chain_code],l=r[u.use_info]?i.CryptoCoinInfo.fromDataItem(r[u.use_info]):undefined,h=r[u.origin]?s.CryptoKeypath.fromDataItem(r[u.origin]):undefined,f=r[u.children]?s.CryptoKeypath.fromDataItem(r[u.children]):undefined,p=r[u.parent_fingerprint];let m=undefined;p&&(m=t.alloc(4),m.writeUInt32BE(p,0));const y=r[u.name],g=r[u.note];return new d({isMaster:n,isPrivateKey:o,key:a,chainCode:c,useInfo:l,origin:h,children:f,parentFingerprint:m,name:y,note:g})},d.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return d.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[2018,{"./PathComponent":2023,"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoKeypath=void 0;const n=e("./lib"),i=e("./PathComponent"),s=e("./RegistryItem"),o=e("./RegistryType");var a;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(a||(a={}));class c extends s.RegistryItem{constructor(e=[],t,r){super(),this.components=e,this.sourceFingerprint=t,this.depth=r,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map(e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach(e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())}),e[a.components]=t,this.sourceFingerprint&&(e[a.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[a.depth]=this.depth),new n.DataItem(e)}}}r.CryptoKeypath=c,c.fromDataItem=e=>{const r=e.getData(),n=[],s=r[a.components];if(s)for(let e=0;e<s.length;e+=2){const t=s[e+1],r=s[e];"number"==typeof r?n.push(new i.PathComponent({index:r,hardened:t})):n.push(new i.PathComponent({hardened:t}))}const o=r[a.source_fingerprint];let u;o&&(u=t.alloc(4),u.writeUInt32BE(o,0));const d=r[a.depth];return new c(n,u,d)},c.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[2019,{"./CryptoECKey":2016,"./CryptoHDKey":2017,"./MultiKey":2022,"./RegistryItem":2024,"./RegistryType":2025,"./ScriptExpression":2026,"./lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoOutput=void 0;const n=e("./CryptoECKey"),i=e("./CryptoHDKey"),s=e("./lib"),o=e("./MultiKey"),a=e("./RegistryItem"),c=e("./RegistryType"),u=e("./ScriptExpression");class d extends a.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof i.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof n.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof o.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof n.CryptoECKey||this.cryptoKey instanceof i.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach(t=>{const r=t.getTag();e.getTag()===undefined?e.setTag(r):e=new s.DataItem(e,r)}),e}}}r.CryptoOutput=d,d.fromDataItem=e=>{const t=[];let r=e;for(;;){let e=r.getTag();const n=u.ScriptExpression.fromTag(e);if(!n)break;if(t.push(n),!(r.getData()instanceof s.DataItem))break;r=r.getData(),e=r.getTag()}const a=t.length;if(a>0&&(t[a-1].getExpression()===u.ScriptExpressions.MULTISIG.getExpression()||t[a-1].getExpression()===u.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=o.MultiKey.fromDataItem(r);return new d(t,e)}if(r.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=i.CryptoHDKey.fromDataItem(r);return new d(t,e)}{const e=n.CryptoECKey.fromDataItem(r);return new d(t,e)}},d.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return d.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[2020,{"./RegistryItem":2024,"./RegistryType":2025,"./lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoPSBT=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");class o extends i.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new n.DataItem(this.psbt)}}r.CryptoPSBT=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[2021,{"..":2032,"../RegistryType":2025,"../errors":2027,"@ngraveio/bc-ur":3227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URRegistryDecoder=void 0;const n=e("@ngraveio/bc-ur"),i=e(".."),s=e("../RegistryType"),o=e("../errors");class a extends n.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case s.RegistryTypes.BYTES.getType():return i.Bytes.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_HDKEY.getType():return i.CryptoHDKey.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_KEYPATH.getType():return i.CryptoKeypath.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_COIN_INFO.getType():return i.CryptoCoinInfo.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_ECKEY.getType():return i.CryptoECKey.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_OUTPUT.getType():return i.CryptoOutput.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_PSBT.getType():return i.CryptoPSBT.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_ACCOUNT.getType():return i.CryptoAccount.fromCBOR(e.cbor);default:throw new o.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}r.URRegistryDecoder=a}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[2022,{"./CryptoECKey":2016,"./CryptoHDKey":2017,"./RegistryItem":2024,"./RegistryType":2025,"./lib/DataItem":2033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MultiKey=void 0;const n=e("./CryptoECKey"),i=e("./CryptoHDKey"),s=e("./lib/DataItem"),o=e("./RegistryItem"),a=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class u extends o.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t});return e[c.keys]=t,new s.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(e=>e.getOutputDescriptorContent()).join(",")].join(",")}}r.MultiKey=u,u.fromDataItem=e=>{const t=e.getData(),r=t[c.threshold],s=t[c.keys],o=[];return s.forEach(e=>{e.getTag()===a.RegistryTypes.CRYPTO_HDKEY.getTag()?o.push(i.CryptoHDKey.fromDataItem(e)):e.getTag()===a.RegistryTypes.CRYPTO_ECKEY.getTag()&&o.push(n.CryptoECKey.fromDataItem(e))}),new u(r,o)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[2023,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PathComponent=void 0;class n{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&0!==(this.index&n.HARDENED_BIT))throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}r.PathComponent=n,n.HARDENED_BIT=2147483648}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[2024,{"./lib":2035,"@ngraveio/bc-ur":3227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryItem=void 0;const n=e("@ngraveio/bc-ur"),i=e("./lib");r.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,i.encodeDataItem)(this.toDataItem())},this.toUR=()=>new n.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,r)=>{const i=this.toUR();return new n.UREncoder(i,e,t,r)}}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[2025,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryTypes=r.RegistryType=void 0;class n{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}r.RegistryType=n,r.RegistryTypes={UUID:new n("uuid",37),BYTES:new n("bytes",undefined),CRYPTO_HDKEY:new n("crypto-hdkey",303),CRYPTO_KEYPATH:new n("crypto-keypath",304),CRYPTO_COIN_INFO:new n("crypto-coin-info",305),CRYPTO_ECKEY:new n("crypto-eckey",306),CRYPTO_OUTPUT:new n("crypto-output",308),CRYPTO_PSBT:new n("crypto-psbt",310),CRYPTO_ACCOUNT:new n("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new n("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new n("qr-hardware-call",1201),KEY_DERIVATION_CALL:new n("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new n("key-derivation-schema",1302)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[2026,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ScriptExpressions=r.ScriptExpression=void 0;class n{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}r.ScriptExpression=n,n.fromTag=e=>Object.values(r.ScriptExpressions).find(t=>t.getTag()===e),r.ScriptExpressions={SCRIPT_HASH:new n(400,"sh"),WITNESS_SCRIPT_HASH:new n(401,"wsh"),PUBLIC_KEY:new n(402,"pk"),PUBLIC_KEY_HASH:new n(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new n(404,"wpkh"),COMBO:new n(405,"combo"),MULTISIG:new n(406,"multi"),SORTED_MULTISIG:new n(407,"sortedmulti"),ADDRESS:new n(307,"addr"),RAW_SCRIPT:new n(408,"raw")}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[2027,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnknownURTypeError=void 0;class n extends Error{constructor(e){super(e)}}r.UnknownURTypeError=n}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[2028,{"../CryptoHDKey":2017,"../RegistryItem":2024,"../RegistryType":2025,"../lib":2035,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoMultiAccounts=void 0;const n=e("../RegistryType"),i=e("../CryptoHDKey"),s=e("../RegistryItem"),o=e("../lib");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"}(a||(a={}));class c extends s.RegistryItem{constructor(e,t,r,i,s){super(),this.masterFingerprint=e,this.keys=t,this.device=r,this.deviceId=i,this.version=s,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[a.keys]=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),this.device&&(e[a.device]=this.device),this.deviceId&&(e[a.deviceId]=this.deviceId),this.version&&(e[a.version]=this.version),new o.DataItem(e)}}}r.CryptoMultiAccounts=c,c.fromDataItem=e=>{const r=e.getData(),n=t.alloc(4),s=r[a.masterFingerprint];s&&n.writeUInt32BE(s,0);const o=r[a.keys].map(e=>i.CryptoHDKey.fromDataItem(e)),u=r[a.device],d=r[a.deviceId],l=r[a.version];return new c(n,o,u,d,l)},c.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[2029,{"../CryptoKeypath":2018,"../RegistryItem":2024,"../RegistryType":2025,"../lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyDerivationSchema=r.DerivationAlgorithm=r.Curve=void 0;const n=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),o=e("../CryptoKeypath");var a,c,u;!function(e){e[e.keyPath=1]="keyPath",e[e.curve=2]="curve",e[e.algo=3]="algo"}(a||(a={})),function(e){e[e.secp256k1=0]="secp256k1",e[e.ed25519=1]="ed25519"}(c=r.Curve||(r.Curve={})),function(e){e[e.slip10=0]="slip10",e[e.bip32ed25519=1]="bip32ed25519"}(u=r.DerivationAlgorithm||(r.DerivationAlgorithm={}));class d extends i.RegistryItem{constructor(e,t=c.secp256k1,r=u.slip10){super(),this.keypath=e,this.curve=t,this.algo=r,this.getRegistryType=()=>n.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const e={},t=this.getKeypath().toDataItem();return t.setTag(this.getKeypath().getRegistryType().getTag()),e[a.keyPath]=t,e[a.curve]=this.curve,e[a.algo]=this.algo,new s.DataItem(e)}}}r.KeyDerivationSchema=d,d.fromDataItem=e=>{const t=e.getData(),r=o.CryptoKeypath.fromDataItem(t[a.keyPath]),n=t[a.curve],i=t[a.algo];return new d(r,n,i)},d.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return d.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js"}],[2030,{"../RegistryItem":2024,"../RegistryType":2025,"../lib":2035,"./DerivationSchema":2029},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyDerivation=void 0;const n=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),o=e("./DerivationSchema");var a;!function(e){e[e.schemas=1]="schemas"}(a||(a={}));class c extends i.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>n.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const e={};return e[a.schemas]=this.schemas.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}),new s.DataItem(e)}}}r.KeyDerivation=c,c.fromDataItem=e=>{const t=e.getData()[a.schemas].map(e=>o.KeyDerivationSchema.fromDataItem(e));return new c(t)},c.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js"}],[2031,{"../RegistryItem":2024,"../RegistryType":2025,"../lib":2035,"./KeyDerivation":2030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.QRHardwareCall=r.QRHardwareCallType=void 0;const n=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),o=e("./KeyDerivation");var a,c;!function(e){e[e.type=1]="type",e[e.params=2]="params",e[e.origin=3]="origin"}(a||(a={})),function(e){e[e.KeyDerivation=0]="KeyDerivation"}(c=r.QRHardwareCallType||(r.QRHardwareCallType={}));class u extends i.RegistryItem{constructor(e,t,r){super(),this.type=e,this.params=t,this.origin=r,this.getRegistryType=()=>n.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};e[a.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),e[a.params]=t,this.origin&&(e[a.origin]=this.origin),new s.DataItem(e)}}}r.QRHardwareCall=u,u.fromDataItem=e=>{const t=e.getData(),r=t[a.type]||c.KeyDerivation;let n;if(r===c.KeyDerivation)n=o.KeyDerivation.fromDataItem(t[a.params]);const i=t[a.origin];return new u(r,n,i)},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js"}],[2032,{"./Bytes":2013,"./CryptoAccount":2014,"./CryptoCoinInfo":2015,"./CryptoECKey":2016,"./CryptoHDKey":2017,"./CryptoKeypath":2018,"./CryptoOutput":2019,"./CryptoPSBT":2020,"./Decoder":2021,"./MultiKey":2022,"./PathComponent":2023,"./RegistryItem":2024,"./RegistryType":2025,"./ScriptExpression":2026,"./errors":2027,"./extended/CryptoMultiAccounts":2028,"./extended/DerivationSchema":2029,"./extended/KeyDerivation":2030,"./extended/QRHardwareCall":2031,"./lib":2035,"./patchCBOR":2036,"./types":2037,"./utils":2038,"buffer/":4184,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Buffer=r.extend=r.PathComponent=r.ScriptExpressions=r.MultiKey=r.CryptoPSBT=r.CryptoOutput=r.CryptoECKey=r.CryptoCoinInfoNetwork=r.CryptoCoinInfoType=r.CryptoCoinInfo=r.CryptoKeypath=r.CryptoMultiAccounts=r.CryptoHDKey=r.CryptoAccount=r.Bytes=r.URRegistryDecoder=r.DataItem=void 0;const n=e("tslib");e("./patchCBOR");const i=e("buffer/");Object.defineProperty(r,"Buffer",{enumerable:!0,get:function(){return i.Buffer}});const s=e("./CryptoHDKey");Object.defineProperty(r,"CryptoHDKey",{enumerable:!0,get:function(){return s.CryptoHDKey}});const o=e("./CryptoKeypath");Object.defineProperty(r,"CryptoKeypath",{enumerable:!0,get:function(){return o.CryptoKeypath}});const a=e("./CryptoCoinInfo");Object.defineProperty(r,"CryptoCoinInfo",{enumerable:!0,get:function(){return a.CryptoCoinInfo}}),Object.defineProperty(r,"CryptoCoinInfoType",{enumerable:!0,get:function(){return a.Type}}),Object.defineProperty(r,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return a.Network}});const c=e("./CryptoECKey");Object.defineProperty(r,"CryptoECKey",{enumerable:!0,get:function(){return c.CryptoECKey}});const u=e("./Bytes");Object.defineProperty(r,"Bytes",{enumerable:!0,get:function(){return u.Bytes}});const d=e("./CryptoOutput");Object.defineProperty(r,"CryptoOutput",{enumerable:!0,get:function(){return d.CryptoOutput}});const l=e("./CryptoPSBT");Object.defineProperty(r,"CryptoPSBT",{enumerable:!0,get:function(){return l.CryptoPSBT}});const h=e("./CryptoAccount");Object.defineProperty(r,"CryptoAccount",{enumerable:!0,get:function(){return h.CryptoAccount}});const f=e("./Decoder");Object.defineProperty(r,"URRegistryDecoder",{enumerable:!0,get:function(){return f.URRegistryDecoder}});const p=e("./MultiKey");Object.defineProperty(r,"MultiKey",{enumerable:!0,get:function(){return p.MultiKey}});const m=e("./ScriptExpression");Object.defineProperty(r,"ScriptExpressions",{enumerable:!0,get:function(){return m.ScriptExpressions}});const y=e("./PathComponent");Object.defineProperty(r,"PathComponent",{enumerable:!0,get:function(){return y.PathComponent}});const g=e("./RegistryItem"),b=e("./RegistryType"),w=e("./lib");var v=e("./lib");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return v.DataItem}});const k=e("./utils"),_=e("./extended/CryptoMultiAccounts");Object.defineProperty(r,"CryptoMultiAccounts",{enumerable:!0,get:function(){return _.CryptoMultiAccounts}});const E={URRegistryDecoder:f.URRegistryDecoder,Bytes:u.Bytes,CryptoAccount:h.CryptoAccount,CryptoHDKey:s.CryptoHDKey,CryptoMultiAccounts:_.CryptoMultiAccounts,CryptoKeypath:o.CryptoKeypath,CryptoCoinInfo:a.CryptoCoinInfo,CryptoCoinInfoType:a.Type,CryptoCoinInfoNetwork:a.Network,CryptoECKey:c.CryptoECKey,CryptoOutput:d.CryptoOutput,CryptoPSBT:l.CryptoPSBT,MultiKey:p.MultiKey,ScriptExpressions:m.ScriptExpressions,PathComponent:y.PathComponent},T={addReader:w.addReader,addSemanticDecode:w.addSemanticDecode,addSemanticEncode:w.addSemanticEncode,addWriter:w.addWriter,patchTags:k.patchTags},j={RegistryTypes:b.RegistryTypes,RegistryItem:g.RegistryItem,RegistryType:b.RegistryType,decodeToDataItem:w.decodeToDataItem,encodeDataItem:w.encodeDataItem,cbor:T};r.extend=j,(0,n.__exportStar)(e("./errors"),r),(0,n.__exportStar)(e("./Decoder"),r),(0,n.__exportStar)(e("./lib"),r),(0,n.__exportStar)(e("./CryptoAccount"),r),(0,n.__exportStar)(e("./CryptoPSBT"),r),(0,n.__exportStar)(e("./CryptoHDKey"),r),(0,n.__exportStar)(e("./extended/CryptoMultiAccounts"),r),(0,n.__exportStar)(e("./extended/QRHardwareCall"),r),(0,n.__exportStar)(e("./extended/KeyDerivation"),r),(0,n.__exportStar)(e("./extended/DerivationSchema"),r),(0,n.__exportStar)(e("./CryptoOutput"),r),(0,n.__exportStar)(e("./CryptoCoinInfo"),r),(0,n.__exportStar)(e("./CryptoECKey"),r),(0,n.__exportStar)(e("./MultiKey"),r),(0,n.__exportStar)(e("./CryptoKeypath"),r),(0,n.__exportStar)(e("./patchCBOR"),r),(0,n.__exportStar)(e("./PathComponent"),r),(0,n.__exportStar)(e("./RegistryItem"),r),(0,n.__exportStar)(e("./RegistryType"),r),(0,n.__exportStar)(e("./types"),r),(0,n.__exportStar)(e("./utils"),r),r.default=E}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[2033,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=void 0;r.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[2034,{"./DataItem":2033,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){!function(e,r){"function"==typeof define&&define.amd?define([],r):void 0!==t&&t.exports?t.exports=r():e.CBOR=r()}(this,function(){const{DataItem:t}=e("./DataItem");var n=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",r=0;r<this.$hex.length;r+=2)t+="%"+this.$hex.substring(r,r+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],r=0;r<this.$hex.length;r+=2)t.push(parseInt(this.$hex.substring(r,r+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var r="",n=0;n<t.length;n++){var i=t.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),r+=i}return new e(r)},e.fromUtf8String=function(t){for(var r=encodeURIComponent(t),n="",i=0;i<r.length;i++)if("%"===r.charAt(i))n+=r.substring(i+1,i+3),i+=2;else{var s=r.charCodeAt(i).toString(16);s.length<2&&(s="0"+s),n+=s}return new e(n)};var n=[],i={},s=function(e){return function(){throw new Error(e+" not implemented")}};function o(){}function a(){}function c(e,t){var r=e.value;return r<24?r:24==r?t.readByte():25==r?t.readUint16():26==r?t.readUint32():27==r?t.readUint64():31==r?null:void s("Additional info: "+r)()}function u(e,t,r){var n=e<<5;t<24?r.writeByte(n|t):t<256?(r.writeByte(24|n),r.writeByte(t)):t<65536?(r.writeByte(25|n),r.writeUint16(t)):t<4294967296?(r.writeByte(26|n),r.writeUint32(t)):(r.writeByte(27|n),r.writeUint64(t))}o.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,r=1023&e,n=32768&e;if(31===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-25)*(1024+r):Math.pow(2,-24)*r;return n?-i:i},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,r=8388607&e,n=2147483648&e;if(255===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-23-127)*(8388608+r):Math.pow(2,-149)*r;return n?-i:i},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,r=4294967296*(1048575&e)+this.readUint32(),n=2147483648&e;if(2047===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-52-1023)*(4503599627370496+r):Math.pow(2,-1074)*r;return n?-i:i},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},a.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:s("writeString"),canWriteBinary:function(e){return!1},writeBinary:s("writeChunk")};var d=new Error;function l(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return c(t,e);case 1:return-1-c(t,e);case 2:return e.readChunk(c(t,e));case 3:return e.readChunk(c(t,e)).toString("utf-8");case 4:case 5:var r=c(t,e),n=[];if(null!==r){5===t.type&&(r*=2);for(var s=0;s<r;s++)n[s]=l(e)}else for(var o;(o=l(e))!==d;)n.push(o);if(5===t.type){var a={};for(s=0;s<n.length;s+=2)a[n[s]]=n[s+1];return a}return n;case 6:var u=c(t,e),h=i[u];n=l(e);return h?h(n):n;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(c(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return d;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function h(e,t){for(var r=0;r<n.length;r++){var i=n[r].fn(e);if(i!==undefined)return u(6,n[r].tag,t),h(i,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)u(7,20,t);else if(!0===e)u(7,21,t);else if(null===e)u(7,22,t);else if(e===undefined)u(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?u(1,-1-e,t):u(0,e,t):(!function(e,t,r){r.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,function(e){u(3,e,t)});else if(t.canWriteBinary(e))t.writeBinary(e,function(e){u(2,e,t)});else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(m.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){u(4,e.length,t);for(r=0;r<e.length;r++)h(e[r],t)}else{var s=Object.keys(e);u(5,s.length,t);for(r=0;r<s.length;r++){const n=parseInt(s[r]);isNaN(n)?(h(s[r],t),h(e[s[r]],t)):(h(n,t),h(e[s[r]],t))}}}}var f=[],p=[],m={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?p.push(function(r){if(e===r)return t(r)}):p.push(e)},addReader:function(e,t){"string"==typeof e?f.push(function(r,n){if(e===n)return t(r,n)}):f.push(e)},encode:function(e,t){for(var r=0;r<p.length;r++){var n=(0,p[r])(t);if(n)return h(e,n),n.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var r=0;r<p.length;r++){var n=(0,p[r])(t);if(n)return e.getTag()!==undefined?(h(e,n),n.result()):(h(e.getData(),n),n.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var r=0;r<f.length;r++){var n=(0,f[r])(e,t);if(n)return l(n)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,r){for(var n=0;n<f.length;n++){var i=(0,f[n])(e,r);if(i){const e=l(i);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+r)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return n.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return i[e]=t,this}};function y(e){this.buffer=e,this.pos=0}function g(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function b(e){this.hex=e,this.pos=0}function w(e){this.$hex="",this.finalFormat=e||"hex"}return y.prototype=Object.create(o.prototype),y.prototype.peekByte=function(){return this.buffer[this.pos]},y.prototype.readByte=function(){return this.buffer[this.pos++]},y.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},y.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},y.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},y.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},y.prototype.readChunk=function(e){var t=r.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},g.prototype=Object.create(a.prototype),g.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},g.prototype.writeFloat32=function(e){var t=r.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},g.prototype.writeFloat64=function(e){var t=r.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},g.prototype.writeString=function(e,t){var n=r.from(e,"utf-8");t(n.length),this.writeBuffer(n)},g.prototype.canWriteBinary=function(e){return e instanceof r},g.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},g.prototype.writeBuffer=function(e){if(!(e instanceof r))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},g.prototype.result=function(){for(var e=r.alloc(this.byteLength),t=0,n=0;n<this.completeBuffers.length;n++){var i=this.completeBuffers[n];i.copy(e,t,0,i.length),t+=i.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof r&&(m.addReader(function(e,t){return r.isBuffer(e)?new y(e):"hex"===t||"base64"===t?new y(r.from(e,t)):void 0}),m.addWriter(function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new g(e):void 0:new g})),b.prototype=Object.create(o.prototype),b.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},b.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},b.prototype.readChunk=function(t){var n=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof r?r.from(n,"hex"):new e(n)},w.prototype=Object.create(a.prototype),w.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},w.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof r&&t instanceof r},w.prototype.writeBinary=function(t,n){if(t instanceof e)n(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof r&&t instanceof r))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");n(t.length),this.$hex+=t.toString("hex")}},w.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof r?r.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},w.prototype.writeString=function(t,r){var n=e.fromUtf8String(t);r(n.length()),this.$hex+=n.$hex},m.addReader(function(t,r){return t instanceof e||t.$hex?new b(t.$hex):"hex"===r?new b(t):void 0}),m.addWriter(function(e){if("hex"===e)return new w}),m}();return n.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),n})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[2035,{"./DataItem":2033,"./cbor-sync":2034},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=r.addWriter=r.addReader=r.addSemanticEncode=r.addSemanticDecode=r.decodeToDataItem=r.encodeDataItem=void 0;var n=e("./cbor-sync");Object.defineProperty(r,"encodeDataItem",{enumerable:!0,get:function(){return n.encodeDataItem}}),Object.defineProperty(r,"decodeToDataItem",{enumerable:!0,get:function(){return n.decodeToDataItem}}),Object.defineProperty(r,"addSemanticDecode",{enumerable:!0,get:function(){return n.addSemanticDecode}}),Object.defineProperty(r,"addSemanticEncode",{enumerable:!0,get:function(){return n.addSemanticEncode}}),Object.defineProperty(r,"addReader",{enumerable:!0,get:function(){return n.addReader}}),Object.defineProperty(r,"addWriter",{enumerable:!0,get:function(){return n.addWriter}});var i=e("./DataItem");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return i.DataItem}})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[2036,{"./RegistryType":2025,"./ScriptExpression":2026,"./utils":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./utils"),i=e("./RegistryType"),s=e("./ScriptExpression"),o=Object.values(i.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),a=Object.values(s.ScriptExpressions).map(e=>e.getTag());(0,n.patchTags)(o.concat(a))}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[2037,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[2038,{"./lib":2035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.patchTags=void 0;const n=e("./lib"),i=[];r.patchTags=e=>{e.forEach(e=>{i.find(t=>t===e)||((0,n.addSemanticEncode)(e,t=>{if(t instanceof n.DataItem&&t.getTag()===e)return t.getData()}),(0,n.addSemanticDecode)(e,t=>new n.DataItem(t,e)),i.push(e))})}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[2039,{"./abstract/weierstrass.js":2044,"@noble/hashes/hmac":2050,"@noble/hashes/utils":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getHash=o,r.createCurve=function(e,t){const r=t=>(0,s.weierstrass)({...e,...o(t)});return Object.freeze({...r(t),create:r})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),s=e("./abstract/weierstrass.js");function o(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/_shortw_utils.js"}],[2040,{"./modular.js":2042,"./utils.js":2043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:a,windowSize:c}=n(t);let u=e.ZERO,d=e.BASE;const l=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let n=Number(s&l);s>>=f,n>c&&(n-=h,s+=o);const a=t,p=t+Math.abs(n)-1,m=e%2!=0,y=n<0;0===n?d=d.add(r(m,i[a])):u=u.add(r(y,i[p]))}return{p:u,f:d}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),s=BigInt(0),o=BigInt(1)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/curve.js"}],[2041,{"./modular.js":2042,"./utils.js":2043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expand_message_xmd=u,r.expand_message_xof=d,r.hash_to_field=l,r.isogenyMap=function(e,t){const r=t.map(e=>Array.from(e).reverse());return(t,n)=>{const[i,s,o,a]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n)));return t=e.div(i,s),n=e.mul(n,e.div(o,a)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=l(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=l(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const e of r)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}};const n=e("./modular.js"),i=e("./utils.js"),s=i.bytesToNumberBE;function o(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,n){(0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:u}=n,d=Math.ceil(r/s);if(d>255)throw new Error("Invalid xmd length");const l=(0,i.concatBytes)(t,o(t.length,1)),h=o(0,u),f=o(r,2),p=new Array(d),m=n((0,i.concatBytes)(h,e,f,o(0,1),l));p[0]=n((0,i.concatBytes)(m,o(1,1),l));for(let e=1;e<=d;e++){const t=[a(m,p[e-1]),o(e+1,1),l];p[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,r)}function d(e,t,r,n,s){if((0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255){const e=Math.ceil(2*n/8);t=s.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function l(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:a,m:l,hash:h,expand:f,DST:p}=r;(0,i.abytes)(e),c(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,y=o.toString(2).length,g=Math.ceil((y+a)/8),b=t*l*g;let w;if("xmd"===f)w=u(e,m,b,h);else if("xof"===f)w=d(e,m,b,a,h);else{if("_internal_pass"!==f)throw new Error('expand must be "xmd" or "xof"');w=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(l);for(let r=0;r<l;r++){const i=g*(r+e*l),a=w.subarray(i,i+g);t[r]=(0,n.mod)(s(a),o)}v[e]=t}return v}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2042,{"./utils.js":2043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeLE=void 0,r.mod=l,r.pow=h,r.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},r.invert=f,r.tonelliShanks=p,r.FpSqrt=m,r.validateField=function(e){const t=y.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=g,r.FpInvertBatch=b,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-s)/o;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=w,r.Field=function(e,t,r=!1,o={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=m(e),d=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,n.bitMask)(a),ZERO:i,ONE:s,create:t=>l(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>l(-t,e),eql:(e,t)=>e===t,sqr:t=>l(t*t,e),add:(t,r)=>l(t+r,e),sub:(t,r)=>l(t-r,e),mul:(t,r)=>l(t*r,e),pow:(e,t)=>g(d,e,t),div:(t,r)=>l(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:o.sqrt||(e=>u(d,e)),invertBatch:e=>b(d,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(d)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,o=w(t).nByteLength+8;if(o<24||i<o||i>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${i}`);return l(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s},r.getFieldBytesLength=v,r.getMinHashLength=k,r.mapHashToField=function(e,t,r=!1){const i=e.length,o=v(t),a=k(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=l(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(c,o):(0,n.numberToBytesBE)(c,o)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),d=BigInt(8);BigInt(9),BigInt(16);function l(e,t){const r=e%t;return r>=i?r:t+r}function h(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function f(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=l(e,t),n=t,o=i,a=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=o-c*e,s=a-u*e;n=r,r=t,o=c,a=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return l(o,t)}function p(e){const t=(e-s)/o;let r,n,a;for(r=e-s,n=0;r%o===i;r/=o,n++);for(a=o;a<e&&h(a,t,e)!==e-s;a++);if(1===n){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+s)/o;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=n,c=e.pow(e.mul(e.ONE,a),r),d=e.pow(i,u),l=e.pow(i,r);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,s<<BigInt(o-t-1));c=e.sqr(r),d=e.mul(d,r),l=e.mul(l,c),o=t}return d}}function m(e){if(e%c===a){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%d===u){const t=(e-u)/d;return function(e,r){const n=e.mul(r,o),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,o),i),c=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}r.isNegativeLE=(e,t)=>(l(e,t)&s)===s;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;for(;r>i;)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n}function b(e,t){const r=new Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function w(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function k(e){const t=v(e);return t+Math.ceil(t/2)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/modular.js"}],[2043,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitMask=void 0,r.isBytes=o,r.abytes=a,r.bytesToHex=u,r.numberToHexUnpadded=d,r.hexToNumber=l,r.hexToBytes=p,r.bytesToNumberBE=function(e){return l(u(e))},r.bytesToNumberLE=function(e){return a(e),l(u(Uint8Array.from(e).reverse()))},r.numberToBytesBE=m,r.numberToBytesLE=function(e,t){return m(e,t).reverse()},r.numberToVarBytesBE=function(e){return p(d(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!o(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},r.concatBytes=y,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&i},r.bitSet=function(e,t,r){return e|(r?i:n)<<BigInt(t)},r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=g(e),i=g(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=g())=>{i=a(b([0]),e),n=a(),0!==e.length&&(i=a(b([1]),e),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return y(...r)};return(e,t)=>{o(),c(e);let r=undefined;for(;!(r=t(u()));)c();return o(),r}},r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=w[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&s===undefined||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),s=BigInt(2);function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function d(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function l(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function f(e){return e>=h._0&&e<=h._9?e-h._0:e>=h._A&&e<=h._F?e-(h._A-10):e>=h._a&&e<=h._f?e-(h._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=f(e.charCodeAt(i)),s=f(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function y(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}r.bitMask=e=>(s<<BigInt(e-1))-i;const g=e=>new Uint8Array(e),b=e=>Uint8Array.from(e);const w={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/utils.js"}],[2044,{"./curve.js":2040,"./modular.js":2042,"./utils.js":2043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DER=void 0,r.weierstrassPoints=p,r.weierstrass=function(e){const t=function(e){const t=(0,n.validateBasic)(e);return s.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=t,l=a.BYTES+1,h=2*a.BYTES+1;function f(e){return i.mod(e,c)}function m(e){return i.invert(e,c)}const{ProjectivePoint:y,normPrivateKeyToScalar:g,weierstrassEquation:b,isWithinCurveOrder:w}=p({...t,toBytes(e,t,r){const n=t.toAffine(),i=a.toBytes(n.x),o=s.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==l||2!==r&&3!==r){if(t===h&&4===r){return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${l} compressed bytes or ${h} uncompressed bytes`)}{const e=s.bytesToNumberBE(n);if(!(u<(i=e)&&i<a.ORDER))throw new Error("Point is not on curve");const t=b(e);let o;try{o=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((o&d)===d)&&(o=a.neg(o)),{x:e,y:o}}var i}}),v=e=>s.bytesToHex(s.numberToBytesBE(e,t.nByteLength));function k(e){return e>c>>d}const _=(e,t,r)=>s.bytesToNumberBE(e.slice(t,r));class E{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*r),new E(_(e,0,r),_(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,o.ensureBytes)("DER",e));return new E(t,n)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:i}=this,s=P((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?r+t.n:r;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",d=y.fromHex(u+v(c)),l=m(c),h=f(-s*l),p=f(n*l),g=y.BASE.multiplyAndAddUnsafe(d,h,p);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return s.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return s.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const T={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=i.getMinHashLength(t.n);return i.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function j(e){const t=s.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===l||n===h:r?n===2*l||n===2*h:e instanceof y}const S=t.bits2int||function(e){const r=s.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},P=t.bits2int_modN||function(e){return f(S(e))},x=s.bitMask(t.nBitLength);function B(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<x))throw new Error(`bigint expected < 2^${t.nBitLength}`);return s.numberToBytesBE(e,t.nByteLength)}function A(e,r,n=I){if(["recovered","canonical"].some(e=>e in n))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:l,prehash:h,extraEntropy:p}=n;null==l&&(l=!0),e=(0,o.ensureBytes)("msgHash",e),h&&(e=(0,o.ensureBytes)("prehashed msgHash",i(e)));const b=P(e),v=g(r),_=[B(v),B(b)];if(null!=p&&!1!==p){const e=!0===p?c(a.BYTES):p;_.push((0,o.ensureBytes)("extraEntropy",e))}const T=s.concatBytes(..._),j=b;return{seed:T,k2sig:function(e){const t=S(e);if(!w(t))return;const r=m(t),n=y.BASE.multiply(t).toAffine(),i=f(n.x);if(i===u)return;const s=f(r*f(j+i*v));if(s===u)return;let o=(n.x===i?0:2)|Number(n.y&d),a=s;return l&&k(s)&&(a=function(e){return k(e)?f(-e):e}(s),o^=1),new E(i,a,o)}}}const I={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(j(e))throw new Error("first arg must be private key");if(!j(t))throw new Error("second arg must be public key");return y.fromHex(t).multiply(g(e)).toRawBytes(r)},sign:function(e,r,n=I){const{seed:i,k2sig:o}=A(e,r,n),a=t;return s.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,i,a=C){const c=e;if(n=(0,o.ensureBytes)("msgHash",n),i=(0,o.ensureBytes)("publicKey",i),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=a;let l,h=undefined;try{if("string"==typeof c||s.isBytes(c))try{h=E.fromDER(c)}catch(e){if(!(e instanceof r.DER.Err))throw e;h=E.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new E(e,t)}}l=y.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,b=P(n),w=m(g),v=f(b*w),k=f(p*w),_=y.BASE.multiplyAndAddUnsafe(l,v,k)?.toAffine();if(!_)return!1;return f(_.x)===p},ProjectivePoint:y,Signature:E,utils:T}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,u,d,l;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),u=e.sqr(a),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,o),u=e.mul(u,a),c=e.mul(u,t.B),s=e.add(s,c),d=e.mul(i,o);const{isValid:h,value:f}=r(s,u);l=e.mul(i,n),l=e.mul(l,f),d=e.cmov(d,o,h),l=e.cmov(l,f,h);const p=e.isOdd(n)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),d=e.div(d,a),{x:d,y:l}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./curve.js"),i=e("./modular.js"),s=e("./utils.js"),o=e("./utils.js");const{bytesToNumberBE:a,hexToBytes:c}=s;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?c(e):e;s.abytes(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:a}=r.DER._parseInt(n.subarray(2)),{d:u,l:d}=r.DER._parseInt(a);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}};const u=BigInt(0),d=BigInt(1),l=BigInt(2),h=BigInt(3),f=BigInt(4);function p(e){const t=function(e){const t=(0,n.validateBasic)(e);s.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:o}=t;if(r){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const i=t.toAffine();return s.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function l(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:a,n:c}=t;if(r&&"bigint"!=typeof e){if(s.isBytes(e)&&(e=s.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let u;try{u="bigint"==typeof e?e:s.bytesToNumberBE((0,o.ensureBytes)("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=i.mod(u,c)),p(u),u}const y=new Map;function g(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?b.ZERO:new b(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(c((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,y.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=l(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),u=r.eql(r.mul(n,a),r.mul(o,i));return c&&u}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,h),{px:s,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,d=r.ZERO,l=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),d=r.mul(s,a),d=r.add(d,d),c=r.mul(e,d),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(m,c),d=r.mul(i,d),p=r.mul(e,p),m=r.sub(l,p),m=r.mul(e,m),m=r.add(m,d),d=r.add(l,l),l=r.add(d,l),l=r.add(l,p),l=r.mul(l,m),u=r.add(u,l),p=r.mul(o,a),p=r.add(p,p),l=r.mul(p,m),c=r.sub(c,l),d=r.mul(p,f),d=r.add(d,d),d=r.add(d,d),new b(c,u,d)}add(e){g(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let u=r.ZERO,d=r.ZERO,l=r.ZERO;const f=t.a,p=r.mul(t.b,h);let m=r.mul(n,o),y=r.mul(i,a),w=r.mul(s,c),v=r.add(n,i),k=r.add(o,a);v=r.mul(v,k),k=r.add(m,y),v=r.sub(v,k),k=r.add(n,s);let _=r.add(o,c);return k=r.mul(k,_),_=r.add(m,w),k=r.sub(k,_),_=r.add(i,s),u=r.add(a,c),_=r.mul(_,u),u=r.add(y,w),_=r.sub(_,u),l=r.mul(f,k),u=r.mul(p,w),l=r.add(u,l),u=r.sub(y,l),l=r.add(y,l),d=r.mul(u,l),y=r.add(m,m),y=r.add(y,m),w=r.mul(f,w),k=r.mul(p,k),y=r.add(y,w),w=r.sub(m,w),w=r.mul(f,w),k=r.add(k,w),m=r.mul(y,k),d=r.add(d,m),m=r.mul(_,k),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,y),l=r.mul(_,l),l=r.add(l,m),new b(u,d,l)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return v.wNAFCached(this,y,e,e=>{const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)})}multiplyUnsafe(e){const n=b.ZERO;if(e===u)return n;if(p(e),e===d)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:c}=i.splitScalar(e),l=n,h=n,f=this;for(;o>u||c>u;)o&d&&(l=l.add(f)),c&d&&(h=h.add(f)),f=f.double(),o>>=d,c>>=d;return s&&(l=l.negate()),a&&(h=h.negate()),h=new b(r.mul(h.px,i.beta),h.py,h.pz),l.add(h)}multiply(e){p(e);let n,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:u,f:d}=this.wNAF(t),{p:l,f:h}=this.wNAF(c);u=v.constTimeNegate(e,u),l=v.constTimeNegate(a,l),l=new b(r.mul(l.px,o.beta),l.py,l.pz),n=u.add(l),i=d.add(h)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return b.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==u&&t!==d&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?undefined:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===d)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===d?this:r?r(b,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(b,this,e)}toHex(e=!0){return s.bytesToHex(this.toRawBytes(e))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,v=(0,n.wNAF)(b,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:m,weierstrassEquation:l,isWithinCurveOrder:f}}function m(e,t){const r=e.ORDER;let n=u;for(let e=r-d;e%l===u;e/=l)n+=d;const i=n,s=l<<i-d-d,o=s*l,a=(r-d)/o,c=(a-d)/l,p=o-d,m=s,y=e.pow(t,a),g=e.pow(t,(a+d)/l);let b=(t,r)=>{let n=y,s=e.pow(r,p),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let u=e.mul(o,s);a=e.pow(u,m);let h=e.eql(a,e.ONE);s=e.mul(o,g),a=e.mul(u,n),o=e.cmov(s,o,h),u=e.cmov(a,u,h);for(let t=i;t>d;t--){let r=t-l;r=l<<r-d;let i=e.pow(u,r);const a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(u,n),o=e.cmov(s,o,a),u=e.cmov(i,u,a)}return{isValid:h,value:o}};if(e.ORDER%f===h){const r=(e.ORDER-h)/f,n=e.sqrt(e.neg(t));b=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const c=e.mul(a,n),u=e.mul(e.sqr(a),i),d=e.eql(u,t);return{isValid:d,value:e.cmov(c,a,d)}}}return b}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/abstract/weierstrass.js"}],[2045,{"./_shortw_utils.js":2039,"./abstract/hash-to-curve.js":2041,"./abstract/modular.js":2042,"./abstract/utils.js":2043,"./abstract/weierstrass.js":2044,"@noble/hashes/sha256":2051,"@noble/hashes/utils":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),s=e("./_shortw_utils.js"),o=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/utils.js"),u=e("./abstract/weierstrass.js"),d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),f=BigInt(2),p=(e,t)=>(e+t/f)/t;function m(e){const t=d,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),l=e*e*e%t,h=l*l*e%t,p=(0,a.pow2)(h,r,t)*h%t,m=(0,a.pow2)(p,r,t)*h%t,g=(0,a.pow2)(m,f,t)*l%t,b=(0,a.pow2)(g,i,t)*g%t,w=(0,a.pow2)(b,s,t)*b%t,v=(0,a.pow2)(w,c,t)*w%t,k=(0,a.pow2)(v,u,t)*v%t,_=(0,a.pow2)(k,c,t)*w%t,E=(0,a.pow2)(_,r,t)*h%t,T=(0,a.pow2)(E,o,t)*b%t,j=(0,a.pow2)(T,n,t)*l%t,S=(0,a.pow2)(j,f,t);if(!y.eql(y.sqr(S),e))throw new Error("Cannot find square root");return S}const y=(0,a.Field)(d,undefined,undefined,{sqrt:m});r.secp256k1=(0,s.createCurve)({a:BigInt(0),b:BigInt(7),Fp:y,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=l,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),c=p(s*e,t),u=p(-n*e,t);let d=(0,a.mod)(e-c*r-u*i,t),f=(0,a.mod)(-c*n-u*s,t);const m=d>o,y=f>o;if(m&&(d=t-d),y&&(f=t-f),d>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:d,k2neg:y,k2:f}}}},n.sha256);const g=BigInt(0),b=e=>"bigint"==typeof e&&g<e&&e<d,w={};function v(e,...t){let r=w[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));r=(0,c.concatBytes)(t,t),w[e]=r}return(0,n.sha256)((0,c.concatBytes)(r,...t))}const k=e=>e.toRawBytes(!0).slice(1),_=e=>(0,c.numberToBytesBE)(e,32),E=e=>(0,a.mod)(e,d),T=e=>(0,a.mod)(e,l),j=r.secp256k1.ProjectivePoint;function S(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=j.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:T(-t),bytes:k(n)}}function P(e){if(!b(e))throw new Error("bad x: need 0 < x < p");const t=E(e*e);let r=m(E(t*e+BigInt(7)));r%f!==g&&(r=E(-r));const n=new j(e,r,h);return n.assertValidity(),n}function x(...e){return T((0,c.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function B(e){return S(e).bytes}function A(e,t,r=(0,i.randomBytes)(32)){const n=(0,c.ensureBytes)("message",e),{bytes:s,scalar:o}=S(t),a=(0,c.ensureBytes)("auxRand",r,32),u=_(o^(0,c.bytesToNumberBE)(v("BIP0340/aux",a))),d=v("BIP0340/nonce",u,s,n),l=T((0,c.bytesToNumberBE)(d));if(l===g)throw new Error("sign failed: k is zero");const{bytes:h,scalar:f}=S(l),p=x(h,s,n),m=new Uint8Array(64);if(m.set(h,0),m.set(_(T(f+p*o)),32),!I(m,n,s))throw new Error("sign: Invalid signature produced");return m}function I(e,t,r){const n=(0,c.ensureBytes)("signature",e,64),i=(0,c.ensureBytes)("message",t),s=(0,c.ensureBytes)("publicKey",r,32);try{const e=P((0,c.bytesToNumberBE)(s)),t=(0,c.bytesToNumberBE)(n.subarray(0,32));if(!b(t))return!1;const r=(0,c.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(d=r)&&g<d&&d<l))return!1;const h=x(_(t),k(e),i),f=(o=e,a=r,u=T(-h),j.BASE.multiplyAndAddUnsafe(o,a,u));return!(!f||!f.hasEvenY()||f.toAffine().x!==t)}catch(e){return!1}var o,a,u,d}r.schnorr={getPublicKey:B,sign:A,verify:I,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:k,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:v,mod:a.mod}};const C=(()=>(0,o.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))(),O=(()=>(0,u.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}))(),R=(()=>(0,o.createHasher)(r.secp256k1.ProjectivePoint,e=>{const{x:t,y:r}=O(y.create(e[0]));return C(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=R.hashToCurve,r.encodeToCurve=R.encodeToCurve}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/curves/secp256k1.js"}],[2046,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=i,r.isBytes=s,r.bytes=o,r.hash=a,r.exists=c,r.output=u;const d={number:n,bool:i,bytes:o,hash:a,exists:c,output:u};r.default=d}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/_assert.js"}],[2047,{"./_assert.js":2046,"./utils.js":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HashMD=r.Maj=r.Chi=void 0;const n=e("./_assert.js"),i=e("./utils.js");r.Chi=(e,t,r)=>e&t^~e&r;r.Maj=(e,t,r)=>e&t^e&r^t&r;class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a===s){const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)c.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}r.HashMD=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/_md.js"}],[2048,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const c=(e,t,r)=>e>>>r;r.shrSH=c;const u=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=u;const d=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=d;const l=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=l;const h=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=h;const f=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=f;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const y=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=g;const b=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=b;const w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=w,r.add=v;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=k;const _=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=_;const E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=E;const T=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=T;const j=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=j;const S=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;r.add5H=S;const P={fromBig:s,split:o,toBig:a,shrSH:c,shrSL:u,rotrSH:d,rotrSL:l,rotrBH:h,rotrBL:f,rotr32H:p,rotr32L:m,rotlSH:y,rotlSL:g,rotlBH:b,rotlBL:w,add:v,add3L:k,add3H:_,add4L:E,add4H:T,add5H:S,add5L:j};r.default=P}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/_u64.js"}],[2049,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/crypto.js"}],[2050,{"./_assert.js":2046,"./utils.js":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),i=e("./utils.js");class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=s;r.hmac=(e,t,r)=>new s(e,t).update(r).digest(),r.hmac.create=(e,t)=>new s(e,t)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/hmac.js"}],[2051,{"./_md.js":2047,"./utils.js":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_md.js"),i=e("./utils.js"),s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[e]=s+a[e-7]+n+a[e-16]|0}let{A:r,B:o,C:c,D:u,E:d,F:l,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,i.rotr)(d,6)^(0,i.rotr)(d,11)^(0,i.rotr)(d,25))+(0,n.Chi)(d,l,h)+s[e]+a[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,o,c)|0;f=h,h=l,l=d,d=u+t|0,u=c,c=o,o=r,r=t+p|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,d=d+this.E|0,l=l+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,o,c,u,d,l,h,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,i.wrapConstructor)(()=>new c),r.sha224=(0,i.wrapConstructor)(()=>new u)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/sha256.js"}],[2052,{"./_assert.js":2046,"./_u64.js":2048,"./utils.js":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),o=[],a=[],c=[],u=BigInt(0),d=BigInt(1),l=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=d,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<d^(t>>h)*p)%f,t&l&&(i^=d<<(d<<BigInt(e))-d);c.push(i)}const[m,y]=(0,i.split)(c,!0),g=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=g(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=g(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=y[n]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){s.isLE||(0,s.byteSwap32)(this.state32),w(this.state32,this.rounds),s.isLE||(0,s.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const k=(e,t,r)=>(0,s.wrapConstructor)(()=>new v(t,e,r));r.sha3_224=k(6,144,28),r.sha3_256=k(6,136,32),r.sha3_384=k(6,104,48),r.sha3_512=k(6,72,64),r.keccak_224=k(1,144,28),r.keccak_256=k(1,136,32),r.keccak_384=k(1,104,48),r.keccak_512=k(1,72,64);const _=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,n.dkLen===undefined?r:n.dkLen,!0));r.shake128=_(31,168,16),r.shake256=_(31,136,32)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/sha3.js"}],[2053,{"./_assert.js":2046,"@noble/hashes/crypto":2049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),i=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));r.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o=48,a=57,c=65,u=70,d=97,l=102;function h(e){return e>=o&&e<=a?e-o:e>=c&&e<=u?e-(c-10):e>=d&&e<=l?e-(d-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function f(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),(0,i.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=f,r.toBytes=p,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const m={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==m.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@noble/hashes/utils.js"}],[2054,{"./utils.js":2056,"@noble/hashes/sha3":2052},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils.js");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography",file:"node_modules/@metamask/eth-qr-keyring/node_modules/ethereum-cryptography/keccak.js"}],[2055,{"@noble/curves/secp256k1":2045},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=void 0;var n=e("@noble/curves/secp256k1");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return n.secp256k1}})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography",file:"node_modules/@metamask/eth-qr-keyring/node_modules/ethereum-cryptography/secp256k1.js"}],[2056,{"@noble/hashes/_assert":2046,"@noble/hashes/utils":2053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))};const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util>ethereum-cryptography",file:"node_modules/@metamask/eth-qr-keyring/node_modules/ethereum-cryptography/utils.js"}],[2057,{"./nil.js":2060,"./parse.js":2061,"./stringify.js":2065,"./v1.js":2066,"./v3.js":2067,"./v4.js":2069,"./v5.js":2070,"./validate.js":2071,"./version.js":2072},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),o=h(e("./v5.js")),a=h(e("./nil.js")),c=h(e("./version.js")),u=h(e("./validate.js")),d=h(e("./stringify.js")),l=h(e("./parse.js"));function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/index.js"}],[2058,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const n=r,h=s,f=d,p=l;r=o(r,s,d,l,e[t],7,-680876936),l=o(l,r,s,d,e[t+1],12,-389564586),d=o(d,l,r,s,e[t+2],17,606105819),s=o(s,d,l,r,e[t+3],22,-1044525330),r=o(r,s,d,l,e[t+4],7,-176418897),l=o(l,r,s,d,e[t+5],12,1200080426),d=o(d,l,r,s,e[t+6],17,-1473231341),s=o(s,d,l,r,e[t+7],22,-45705983),r=o(r,s,d,l,e[t+8],7,1770035416),l=o(l,r,s,d,e[t+9],12,-1958414417),d=o(d,l,r,s,e[t+10],17,-42063),s=o(s,d,l,r,e[t+11],22,-1990404162),r=o(r,s,d,l,e[t+12],7,1804603682),l=o(l,r,s,d,e[t+13],12,-40341101),d=o(d,l,r,s,e[t+14],17,-1502002290),s=o(s,d,l,r,e[t+15],22,1236535329),r=a(r,s,d,l,e[t+1],5,-165796510),l=a(l,r,s,d,e[t+6],9,-1069501632),d=a(d,l,r,s,e[t+11],14,643717713),s=a(s,d,l,r,e[t],20,-373897302),r=a(r,s,d,l,e[t+5],5,-701558691),l=a(l,r,s,d,e[t+10],9,38016083),d=a(d,l,r,s,e[t+15],14,-660478335),s=a(s,d,l,r,e[t+4],20,-405537848),r=a(r,s,d,l,e[t+9],5,568446438),l=a(l,r,s,d,e[t+14],9,-1019803690),d=a(d,l,r,s,e[t+3],14,-187363961),s=a(s,d,l,r,e[t+8],20,1163531501),r=a(r,s,d,l,e[t+13],5,-1444681467),l=a(l,r,s,d,e[t+2],9,-51403784),d=a(d,l,r,s,e[t+7],14,1735328473),s=a(s,d,l,r,e[t+12],20,-1926607734),r=c(r,s,d,l,e[t+5],4,-378558),l=c(l,r,s,d,e[t+8],11,-2022574463),d=c(d,l,r,s,e[t+11],16,1839030562),s=c(s,d,l,r,e[t+14],23,-35309556),r=c(r,s,d,l,e[t+1],4,-1530992060),l=c(l,r,s,d,e[t+4],11,1272893353),d=c(d,l,r,s,e[t+7],16,-155497632),s=c(s,d,l,r,e[t+10],23,-1094730640),r=c(r,s,d,l,e[t+13],4,681279174),l=c(l,r,s,d,e[t],11,-358537222),d=c(d,l,r,s,e[t+3],16,-722521979),s=c(s,d,l,r,e[t+6],23,76029189),r=c(r,s,d,l,e[t+9],4,-640364487),l=c(l,r,s,d,e[t+12],11,-421815835),d=c(d,l,r,s,e[t+15],16,530742520),s=c(s,d,l,r,e[t+2],23,-995338651),r=u(r,s,d,l,e[t],6,-198630844),l=u(l,r,s,d,e[t+7],10,1126891415),d=u(d,l,r,s,e[t+14],15,-1416354905),s=u(s,d,l,r,e[t+5],21,-57434055),r=u(r,s,d,l,e[t+12],6,1700485571),l=u(l,r,s,d,e[t+3],10,-1894986606),d=u(d,l,r,s,e[t+10],15,-1051523),s=u(s,d,l,r,e[t+1],21,-2054922799),r=u(r,s,d,l,e[t+8],6,1873313359),l=u(l,r,s,d,e[t+15],10,-30611744),d=u(d,l,r,s,e[t+6],15,-1560198380),s=u(s,d,l,r,e[t+13],21,1309151649),r=u(r,s,d,l,e[t+4],6,-145523070),l=u(l,r,s,d,e[t+11],10,-1120210379),d=u(d,l,r,s,e[t+2],15,718787259),s=u(s,d,l,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,h),d=i(d,f),l=i(l,p)}return[r,s,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=d}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/md5-browser.js"}],[2059,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/native-browser.js"}],[2060,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/nil.js"}],[2061,{"./validate.js":2071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/parse.js"}],[2062,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/regex.js"}],[2063,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/rng-browser.js"}],[2064,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],d=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,d)+l+t[r]+s[e]>>>0;l=d,d=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/sha1-browser.js"}],[2065,{"./validate.js":2071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/stringify.js"}],[2066,{"./rng.js":2063,"./stringify.js":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var d=function(e,t,r){let n=t&&r||0;const d=t||new Array(16);let l=(e=e||{}).node||o,h=e.clockseq!==undefined?e.clockseq:a;if(null==l||null==h){const t=e.random||(e.rng||i.default)();null==l&&(l=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=a=16383&(t[6]<<8|t[7]))}let f=e.msecs!==undefined?e.msecs:Date.now(),p=e.nsecs!==undefined?e.nsecs:u+1;const m=f-c+(p-u)/1e4;if(m<0&&e.clockseq===undefined&&(h=h+1&16383),(m<0||f>c)&&e.nsecs===undefined&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=p,a=h,f+=122192928e5;const y=(1e4*(268435455&f)+p)%4294967296;d[n++]=y>>>24&255,d[n++]=y>>>16&255,d[n++]=y>>>8&255,d[n++]=255&y;const g=f/4294967296*1e4&268435455;d[n++]=g>>>8&255,d[n++]=255&g,d[n++]=g>>>24&15|16,d[n++]=g>>>16&255,d[n++]=h>>>8|128,d[n++]=255&h;for(let e=0;e<6;++e)d[n+e]=l[e];return t||(0,s.unsafeStringify)(d)};r.default=d}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v1.js"}],[2067,{"./md5.js":2058,"./v35.js":2068},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v3.js"}],[2068,{"./parse.js":2061,"./stringify.js":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v35.js"}],[2069,{"./native.js":2059,"./rng.js":2063,"./stringify.js":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v4.js"}],[2070,{"./sha1.js":2064,"./v35.js":2068},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v5.js"}],[2071,{"./regex.js":2062},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/validate.js"}],[2072,{"./validate.js":2071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/version.js"}],[2073,{"json-rpc-random-id":4755,xtend:5870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("json-rpc-random-id")(),i=e("xtend");function s(e){this.currentProvider=e}function o(e){return function(...t){const r=t.pop();this.sendAsync({method:e,params:t},r)}}function a(e,t){return function(...r){const n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}t.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=o("eth_protocolVersion"),s.prototype.syncing=o("eth_syncing"),s.prototype.coinbase=o("eth_coinbase"),s.prototype.mining=o("eth_mining"),s.prototype.hashrate=o("eth_hashrate"),s.prototype.gasPrice=o("eth_gasPrice"),s.prototype.accounts=o("eth_accounts"),s.prototype.blockNumber=o("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),s.prototype.sign=o("eth_sign"),s.prototype.sendTransaction=o("eth_sendTransaction"),s.prototype.sendRawTransaction=o("eth_sendRawTransaction"),s.prototype.estimateGas=o("eth_estimateGas"),s.prototype.getBlockByHash=o("eth_getBlockByHash"),s.prototype.getBlockByNumber=o("eth_getBlockByNumber"),s.prototype.getTransactionByHash=o("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=o("eth_getCompilers"),s.prototype.compileLLL=o("eth_compileLLL"),s.prototype.compileSolidity=o("eth_compileSolidity"),s.prototype.compileSerpent=o("eth_compileSerpent"),s.prototype.newFilter=o("eth_newFilter"),s.prototype.newBlockFilter=o("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=o("eth_uninstallFilter"),s.prototype.getFilterChanges=o("eth_getFilterChanges"),s.prototype.getFilterLogs=o("eth_getFilterLogs"),s.prototype.getLogs=o("eth_getLogs"),s.prototype.getWork=o("eth_getWork"),s.prototype.submitWork=o("eth_submitWork"),s.prototype.submitHashrate=o("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,i({id:n(),jsonrpc:"2.0",params:[]},r)),function(e,r){let n=e;return!e&&r.error&&(n=new Error(`EthQuery - RPC Error - ${r.error.message}`)),n?t(n):t(null,r.result)})}}}},{package:"@metamask/controller-utils>@metamask/eth-query",file:"node_modules/@metamask/eth-query/index.js"}],[2074,{"./utils":2079,"@scure/base":2111,buffer:4176,tweetnacl:5791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),c=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(c)}}throw new Error("Encryption type/version not supported")}function d({encryptedData:e,privateKey:r}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),c=o.base64.decode(e.ciphertext),u=o.base64.decode(e.ephemPublicKey),d=a.box.open(c,s,u,i);try{if(!d)throw new Error;const e=o.utf8.encode(d);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=d,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(d({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[2075,{"./encryption":2074,"./personal-sign":2076,"./sign-eip7702-authorization":2077,"./sign-typed-data":2078,"./utils":2079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r),i(e("./sign-eip7702-authorization"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/index.js"}],[2076,{"./utils":2079,"@ethereumjs/util":2088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[2077,{"./utils":2079,"@ethereumjs/rlp":2080,"@ethereumjs/util":2088,"@metamask/utils":3207,buffer:4176,"ethereum-cryptography/keccak":2112},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashEIP7702Authorization=r.recoverEIP7702Authorization=r.signEIP7702Authorization=void 0;const n=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),o=e("ethereum-cryptography/keccak"),a=e("./utils");function c(e){u(e);const r=(0,n.encode)(e),i=t.concat([t.from("05","hex"),r]);return t.from((0,o.keccak256)(i))}function u(e){if((0,a.isNullish)(e))throw new Error("Missing authorization parameter");const[t,r,n]=e;if((0,a.isNullish)(t))throw new Error("Missing chainId parameter");if((0,a.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,a.isNullish)(n))throw new Error("Missing nonce parameter")}r.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(u(t),(0,a.isNullish)(e))throw new Error("Missing privateKey parameter");const r=c(t),{r:n,s:s,v:o}=(0,i.ecsign)(r,e),d=(0,i.toBuffer)(o);return(0,a.concatSig)(d,n,s)},r.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(u(t),(0,a.isNullish)(e))throw new Error("Missing signature parameter");const r=c(t),n=(0,a.recoverPublicKey)(r,e),o=(0,i.publicToAddress)(n);return(0,s.bytesToHex)(o)},r.hashEIP7702Authorization=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[2078,{"./utils":2079,"@ethereumjs/util":2088,"@metamask/abi-utils":1215,"@metamask/abi-utils/dist/parsers":1224,"@metamask/abi-utils/dist/utils":1232,"@metamask/utils":3207,"ethereum-cryptography/keccak":2112},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),c=e("ethereum-cryptography/keccak"),u=e("./utils");var d;function l(e,t){if(!Object.keys(d).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function h(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function f(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function p(e,t,r,s,u){if(l(u,[d.V3,d.V4]),e[r]!==undefined)return["bytes32",u===d.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,c.keccak256)(m(r,s,e,u)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",f(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=h(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.endsWith("]")){if(u===d.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map(r=>p(e,t,o,r,u));return["bytes32",(0,n.arrToBufArr)((0,c.keccak256)((0,i.encode)(a.map(([e])=>e),a.map(([,e])=>e))))]}return[r,s]}function m(e,t,r,s){l(s,[d.V3,d.V4]);const o=["bytes32"],a=[w(e,r)];for(const n of r[e]){if(s===d.V3&&t[n.name]===undefined)continue;const[e,i]=p(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function y(e,t){let r="";const n=g(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`}return r}function g(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])g(n.type,t,r);return r}function b(e,t,r,i){l(i,[d.V3,d.V4]);const s=m(e,t,r,i),o=(0,c.keccak256)(s);return(0,n.arrToBufArr)(o)}function w(e,t){const r=(0,a.stringToBytes)(y(e,t));return(0,n.arrToBufArr)((0,c.keccak256)(r))}function v(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function k(e,t){l(t,[d.V3,d.V4]);const r=v(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function _(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map(e=>_(r,e))}if("address"===e){if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function E(e,t){return t.map(t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=h(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t})}function T(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map(({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map(e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:E(n,r)}}return{name:e,type:t,value:_(t,r)}}),d=r.map(e=>"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value)),l=r.map(e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type}),h=e.map(e=>{if(!e.name)throw t;return`${e.type} ${e.name}`});return(0,n.arrToBufArr)((0,c.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,i.encodePacked)(["string[]"],[h],!0)),(0,c.keccak256)((0,i.encodePacked)(l,d,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(d=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:m,encodeType:y,findTypeDependencies:g,hashStruct:b,hashType:w,sanitizeData:v,eip712Hash:function(e,t){l(t,[d.V3,d.V4]);const r=v(e),i=[(0,a.hexToBytes)("1901")];return i.push(k(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,c.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:k},r.typedSignatureHash=function(e){const t=T(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(l(i),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const s=i===d.V1?T(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,u.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(l(i),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing signature parameter");const s=i===d.V1?T(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,u.recoverPublicKey)(s,t),c=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(c)}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[2079,{"@ethereumjs/util":2088,"@metamask/utils":3207,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),c=(0,n.bufferToInt)(e),u=s((0,n.toUnsigned)(o).toString("hex"),64),d=s((0,n.toUnsigned)(a).toString("hex"),64),l=(0,i.remove0x)((0,i.numberToHex)(c));return(0,i.add0x)(u.concat(d,l))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/utils.js"}],[2080,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(Array.isArray(e)){const t=[];let r=0;for(let i=0;i<e.length;i++){const s=n(e[i]);t.push(s),r+=s.length}return f(o(r,192),...t)}const t=g(e);return 1===t.length&&t[0]<128?t:f(o(t.length,128),t)}function i(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return l(d(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const r=m(e),n=m(t+55+r.length/2);return Uint8Array.from(h(n+r))}function a(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const r=c(g(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function c(e){let t,r,n,o,a;const u=[],d=e[0];if(d<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(d<=183){if(t=d-127,n=128===d?Uint8Array.from([]):i(e,1,t),2===t&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}if(d<=191){if(r=d-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(i(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=i(e,r,t+r),{data:n,remainder:e.slice(t+r)}}if(d<=247){for(t=d-191,o=i(e,1,t);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(t)}}{if(r=d-246,t=s(i(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const n=r+t;if(n>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=i(e,r,n);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(n)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.RLP=r.utils=r.decode=r.encode=void 0,r.encode=n,r.decode=a;const u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d(e){let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t}function l(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function h(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r;t[r]=l(e.slice(n,n+2))}return t}function f(...e){if(1===e.length)return e[0];const t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function p(e){return(new TextEncoder).encode(e)}function m(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function y(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return y(e)?h((t="string"!=typeof(r=e)?r:y(r)?r.slice(2):r).length%2?`0${t}`:t):p(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?h(m(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}r.utils={bytesToHex:d,concatBytes:f,hexToBytes:h,utf8ToBytes:p},r.RLP={encode:n,decode:a}}}},{package:"@metamask/eth-sig-util>@ethereumjs/rlp",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/rlp/dist/index.js"}],[2081,{"./bytes":2084,"./constants":2085,"./helpers":2087,"./internal":2089,"@ethereumjs/rlp":2080,buffer:4176,"ethereum-cryptography/keccak":2112,"ethereum-cryptography/secp256k1":2113,"ethereum-cryptography/utils":2114},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),c=e("./constants"),u=e("./helpers"),d=e("./internal"),l=BigInt(0);class h{constructor(e=l,t=l,r=c.KECCAK256_RLP,n=c.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new h(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new h((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<l)throw new Error("nonce must be greater than zero");if(this.balance<l)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===l&&this.nonce===l&&this.codeHash.equals(c.KECCAK256_NULL)}}r.Account=h;r.isValidAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,u.assertIsHexString)(e);const n=(0,d.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const c=t.from(s+n,"utf8"),l=(0,o.bytesToHex)((0,i.keccak256)(c));let h="0x";for(let e=0;e<n.length;e++)parseInt(l[e],16)>=8?h+=n[e].toUpperCase():h+=n[e];return h};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,u.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,u.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,u.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,u.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,u.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function f(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?c.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=f;const p=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(c.KECCAK256_RLP)?p:n,(0,a.arrToBufArr)(i).equals(c.KECCAK256_NULL)?p:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?f(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[2082,{"./account":2081,"./bytes":2084,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[2083,{events:4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((t,n)=>{i.call(e,r,e=>{e?n(e):t()})})}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[2084,{"./helpers":2087,"./internal":2089,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function c(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=c;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return c(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map(t=>e(t)):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(c(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[2085,{buffer:4176,"ethereum-cryptography/secp256k1":2113},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[2086,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[2087,{"../../../../../../is-buffer/index.js":4725,"./internal":2089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[2088,{"./account":2081,"./address":2082,"./asyncEventEmitter":2083,"./bytes":2084,"./constants":2085,"./encoding":2086,"./internal":2089,"./lock":2090,"./provider":2091,"./signature":2092,"./types":2093,"./units":2094,"./withdrawal":2095},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[2089,{buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"](t=>e.indexOf(t)>=0)},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[2090,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[2091,{"micro-ftch":5015},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[2092,{"./bytes":2084,"./constants":2085,"./helpers":2087,buffer:4176,"ethereum-cryptography/keccak":2112,"ethereum-cryptography/secp256k1":2113},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function u(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const d=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),l=c(r,a);if(!u(l))throw new Error("Invalid signature v value");const h=i.secp256k1.Signature.fromCompact(d).addRecoveryBit(Number(l)).recoverPublicKey(e);return t.from(h.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!u(c(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),d=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||d===BigInt(0)||d>=o.SECP256K1_ORDER)&&!(n&&d>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[2093,{"./bytes":2084,"./internal":2089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[2094,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[2095,{"./address":2082,"./bytes":2084,"./types":2093,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,c=(0,s.toType)(t,s.TypeOutput.BigInt),u=(0,s.toType)(r,s.TypeOutput.BigInt),d=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),l=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(c,u,d,l)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,c=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),u=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let d;d=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[c,u,d,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[2096,{"./abstract/weierstrass.js":2101,"@noble/hashes/hmac":2107,"@noble/hashes/utils":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getHash=o,r.createCurve=function(e,t){const r=t=>(0,s.weierstrass)({...e,...o(t)});return Object.freeze({...r(t),create:r})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),s=e("./abstract/weierstrass.js");function o(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/_shortw_utils.js"}],[2097,{"./modular.js":2099,"./utils.js":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:a,windowSize:c}=n(t);let u=e.ZERO,d=e.BASE;const l=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let n=Number(s&l);s>>=f,n>c&&(n-=h,s+=o);const a=t,p=t+Math.abs(n)-1,m=e%2!=0,y=n<0;0===n?d=d.add(r(m,i[a])):u=u.add(r(y,i[p]))}return{p:u,f:d}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),s=BigInt(0),o=BigInt(1)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/curve.js"}],[2098,{"./modular.js":2099,"./utils.js":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expand_message_xmd=u,r.expand_message_xof=d,r.hash_to_field=l,r.isogenyMap=function(e,t){const r=t.map(e=>Array.from(e).reverse());return(t,n)=>{const[i,s,o,a]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n)));return t=e.div(i,s),n=e.mul(n,e.div(o,a)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=l(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=l(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const e of r)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}};const n=e("./modular.js"),i=e("./utils.js"),s=i.bytesToNumberBE;function o(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,n){(0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:u}=n,d=Math.ceil(r/s);if(d>255)throw new Error("Invalid xmd length");const l=(0,i.concatBytes)(t,o(t.length,1)),h=o(0,u),f=o(r,2),p=new Array(d),m=n((0,i.concatBytes)(h,e,f,o(0,1),l));p[0]=n((0,i.concatBytes)(m,o(1,1),l));for(let e=1;e<=d;e++){const t=[a(m,p[e-1]),o(e+1,1),l];p[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,r)}function d(e,t,r,n,s){if((0,i.abytes)(e),(0,i.abytes)(t),c(r),t.length>255){const e=Math.ceil(2*n/8);t=s.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function l(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:a,m:l,hash:h,expand:f,DST:p}=r;(0,i.abytes)(e),c(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,y=o.toString(2).length,g=Math.ceil((y+a)/8),b=t*l*g;let w;if("xmd"===f)w=u(e,m,b,h);else if("xof"===f)w=d(e,m,b,a,h);else{if("_internal_pass"!==f)throw new Error('expand must be "xmd" or "xof"');w=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(l);for(let r=0;r<l;r++){const i=g*(r+e*l),a=w.subarray(i,i+g);t[r]=(0,n.mod)(s(a),o)}v[e]=t}return v}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2099,{"./utils.js":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeLE=void 0,r.mod=l,r.pow=h,r.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},r.invert=f,r.tonelliShanks=p,r.FpSqrt=m,r.validateField=function(e){const t=y.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=g,r.FpInvertBatch=b,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-s)/o;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=w,r.Field=function(e,t,r=!1,o={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=m(e),d=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,n.bitMask)(a),ZERO:i,ONE:s,create:t=>l(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>l(-t,e),eql:(e,t)=>e===t,sqr:t=>l(t*t,e),add:(t,r)=>l(t+r,e),sub:(t,r)=>l(t-r,e),mul:(t,r)=>l(t*r,e),pow:(e,t)=>g(d,e,t),div:(t,r)=>l(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:o.sqrt||(e=>u(d,e)),invertBatch:e=>b(d,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(d)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,o=w(t).nByteLength+8;if(o<24||i<o||i>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${i}`);return l(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s},r.getFieldBytesLength=v,r.getMinHashLength=k,r.mapHashToField=function(e,t,r=!1){const i=e.length,o=v(t),a=k(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=l(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(c,o):(0,n.numberToBytesBE)(c,o)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),d=BigInt(8);BigInt(9),BigInt(16);function l(e,t){const r=e%t;return r>=i?r:t+r}function h(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function f(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=l(e,t),n=t,o=i,a=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=o-c*e,s=a-u*e;n=r,r=t,o=c,a=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return l(o,t)}function p(e){const t=(e-s)/o;let r,n,a;for(r=e-s,n=0;r%o===i;r/=o,n++);for(a=o;a<e&&h(a,t,e)!==e-s;a++);if(1===n){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+s)/o;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=n,c=e.pow(e.mul(e.ONE,a),r),d=e.pow(i,u),l=e.pow(i,r);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,s<<BigInt(o-t-1));c=e.sqr(r),d=e.mul(d,r),l=e.mul(l,c),o=t}return d}}function m(e){if(e%c===a){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%d===u){const t=(e-u)/d;return function(e,r){const n=e.mul(r,o),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,o),i),c=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}r.isNegativeLE=(e,t)=>(l(e,t)&s)===s;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;for(;r>i;)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n}function b(e,t){const r=new Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function w(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function k(e){const t=v(e);return t+Math.ceil(t/2)}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/modular.js"}],[2100,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitMask=void 0,r.isBytes=o,r.abytes=a,r.bytesToHex=u,r.numberToHexUnpadded=d,r.hexToNumber=l,r.hexToBytes=p,r.bytesToNumberBE=function(e){return l(u(e))},r.bytesToNumberLE=function(e){return a(e),l(u(Uint8Array.from(e).reverse()))},r.numberToBytesBE=m,r.numberToBytesLE=function(e,t){return m(e,t).reverse()},r.numberToVarBytesBE=function(e){return p(d(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!o(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},r.concatBytes=y,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&i},r.bitSet=function(e,t,r){return e|(r?i:n)<<BigInt(t)},r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=g(e),i=g(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=g())=>{i=a(b([0]),e),n=a(),0!==e.length&&(i=a(b([1]),e),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return y(...r)};return(e,t)=>{o(),c(e);let r=undefined;for(;!(r=t(u()));)c();return o(),r}},r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=w[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&s===undefined||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),s=BigInt(2);function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function d(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function l(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function f(e){return e>=h._0&&e<=h._9?e-h._0:e>=h._A&&e<=h._F?e-(h._A-10):e>=h._a&&e<=h._f?e-(h._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=f(e.charCodeAt(i)),s=f(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function y(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}r.bitMask=e=>(s<<BigInt(e-1))-i;const g=e=>new Uint8Array(e),b=e=>Uint8Array.from(e);const w={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/utils.js"}],[2101,{"./curve.js":2097,"./modular.js":2099,"./utils.js":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DER=void 0,r.weierstrassPoints=p,r.weierstrass=function(e){const t=function(e){const t=(0,n.validateBasic)(e);return s.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=t,l=a.BYTES+1,h=2*a.BYTES+1;function f(e){return i.mod(e,c)}function m(e){return i.invert(e,c)}const{ProjectivePoint:y,normPrivateKeyToScalar:g,weierstrassEquation:b,isWithinCurveOrder:w}=p({...t,toBytes(e,t,r){const n=t.toAffine(),i=a.toBytes(n.x),o=s.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==l||2!==r&&3!==r){if(t===h&&4===r){return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${l} compressed bytes or ${h} uncompressed bytes`)}{const e=s.bytesToNumberBE(n);if(!(u<(i=e)&&i<a.ORDER))throw new Error("Point is not on curve");const t=b(e);let o;try{o=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((o&d)===d)&&(o=a.neg(o)),{x:e,y:o}}var i}}),v=e=>s.bytesToHex(s.numberToBytesBE(e,t.nByteLength));function k(e){return e>c>>d}const _=(e,t,r)=>s.bytesToNumberBE(e.slice(t,r));class E{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*r),new E(_(e,0,r),_(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,o.ensureBytes)("DER",e));return new E(t,n)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:i}=this,s=P((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?r+t.n:r;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",d=y.fromHex(u+v(c)),l=m(c),h=f(-s*l),p=f(n*l),g=y.BASE.multiplyAndAddUnsafe(d,h,p);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return s.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return s.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const T={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=i.getMinHashLength(t.n);return i.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function j(e){const t=s.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===l||n===h:r?n===2*l||n===2*h:e instanceof y}const S=t.bits2int||function(e){const r=s.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},P=t.bits2int_modN||function(e){return f(S(e))},x=s.bitMask(t.nBitLength);function B(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<x))throw new Error(`bigint expected < 2^${t.nBitLength}`);return s.numberToBytesBE(e,t.nByteLength)}function A(e,r,n=I){if(["recovered","canonical"].some(e=>e in n))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:l,prehash:h,extraEntropy:p}=n;null==l&&(l=!0),e=(0,o.ensureBytes)("msgHash",e),h&&(e=(0,o.ensureBytes)("prehashed msgHash",i(e)));const b=P(e),v=g(r),_=[B(v),B(b)];if(null!=p&&!1!==p){const e=!0===p?c(a.BYTES):p;_.push((0,o.ensureBytes)("extraEntropy",e))}const T=s.concatBytes(..._),j=b;return{seed:T,k2sig:function(e){const t=S(e);if(!w(t))return;const r=m(t),n=y.BASE.multiply(t).toAffine(),i=f(n.x);if(i===u)return;const s=f(r*f(j+i*v));if(s===u)return;let o=(n.x===i?0:2)|Number(n.y&d),a=s;return l&&k(s)&&(a=function(e){return k(e)?f(-e):e}(s),o^=1),new E(i,a,o)}}}const I={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(j(e))throw new Error("first arg must be private key");if(!j(t))throw new Error("second arg must be public key");return y.fromHex(t).multiply(g(e)).toRawBytes(r)},sign:function(e,r,n=I){const{seed:i,k2sig:o}=A(e,r,n),a=t;return s.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,i,a=C){const c=e;if(n=(0,o.ensureBytes)("msgHash",n),i=(0,o.ensureBytes)("publicKey",i),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=a;let l,h=undefined;try{if("string"==typeof c||s.isBytes(c))try{h=E.fromDER(c)}catch(e){if(!(e instanceof r.DER.Err))throw e;h=E.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new E(e,t)}}l=y.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,b=P(n),w=m(g),v=f(b*w),k=f(p*w),_=y.BASE.multiplyAndAddUnsafe(l,v,k)?.toAffine();if(!_)return!1;return f(_.x)===p},ProjectivePoint:y,Signature:E,utils:T}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,u,d,l;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),u=e.sqr(a),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,o),u=e.mul(u,a),c=e.mul(u,t.B),s=e.add(s,c),d=e.mul(i,o);const{isValid:h,value:f}=r(s,u);l=e.mul(i,n),l=e.mul(l,f),d=e.cmov(d,o,h),l=e.cmov(l,f,h);const p=e.isOdd(n)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),d=e.div(d,a),{x:d,y:l}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./curve.js"),i=e("./modular.js"),s=e("./utils.js"),o=e("./utils.js");const{bytesToNumberBE:a,hexToBytes:c}=s;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?c(e):e;s.abytes(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:a}=r.DER._parseInt(n.subarray(2)),{d:u,l:d}=r.DER._parseInt(a);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}};const u=BigInt(0),d=BigInt(1),l=BigInt(2),h=BigInt(3),f=BigInt(4);function p(e){const t=function(e){const t=(0,n.validateBasic)(e);s.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:o}=t;if(r){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const i=t.toAffine();return s.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function l(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:a,n:c}=t;if(r&&"bigint"!=typeof e){if(s.isBytes(e)&&(e=s.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let u;try{u="bigint"==typeof e?e:s.bytesToNumberBE((0,o.ensureBytes)("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=i.mod(u,c)),p(u),u}const y=new Map;function g(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?b.ZERO:new b(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(c((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,y.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=l(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),u=r.eql(r.mul(n,a),r.mul(o,i));return c&&u}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,h),{px:s,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,d=r.ZERO,l=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),d=r.mul(s,a),d=r.add(d,d),c=r.mul(e,d),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(m,c),d=r.mul(i,d),p=r.mul(e,p),m=r.sub(l,p),m=r.mul(e,m),m=r.add(m,d),d=r.add(l,l),l=r.add(d,l),l=r.add(l,p),l=r.mul(l,m),u=r.add(u,l),p=r.mul(o,a),p=r.add(p,p),l=r.mul(p,m),c=r.sub(c,l),d=r.mul(p,f),d=r.add(d,d),d=r.add(d,d),new b(c,u,d)}add(e){g(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let u=r.ZERO,d=r.ZERO,l=r.ZERO;const f=t.a,p=r.mul(t.b,h);let m=r.mul(n,o),y=r.mul(i,a),w=r.mul(s,c),v=r.add(n,i),k=r.add(o,a);v=r.mul(v,k),k=r.add(m,y),v=r.sub(v,k),k=r.add(n,s);let _=r.add(o,c);return k=r.mul(k,_),_=r.add(m,w),k=r.sub(k,_),_=r.add(i,s),u=r.add(a,c),_=r.mul(_,u),u=r.add(y,w),_=r.sub(_,u),l=r.mul(f,k),u=r.mul(p,w),l=r.add(u,l),u=r.sub(y,l),l=r.add(y,l),d=r.mul(u,l),y=r.add(m,m),y=r.add(y,m),w=r.mul(f,w),k=r.mul(p,k),y=r.add(y,w),w=r.sub(m,w),w=r.mul(f,w),k=r.add(k,w),m=r.mul(y,k),d=r.add(d,m),m=r.mul(_,k),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,y),l=r.mul(_,l),l=r.add(l,m),new b(u,d,l)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return v.wNAFCached(this,y,e,e=>{const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)})}multiplyUnsafe(e){const n=b.ZERO;if(e===u)return n;if(p(e),e===d)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:c}=i.splitScalar(e),l=n,h=n,f=this;for(;o>u||c>u;)o&d&&(l=l.add(f)),c&d&&(h=h.add(f)),f=f.double(),o>>=d,c>>=d;return s&&(l=l.negate()),a&&(h=h.negate()),h=new b(r.mul(h.px,i.beta),h.py,h.pz),l.add(h)}multiply(e){p(e);let n,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:u,f:d}=this.wNAF(t),{p:l,f:h}=this.wNAF(c);u=v.constTimeNegate(e,u),l=v.constTimeNegate(a,l),l=new b(r.mul(l.px,o.beta),l.py,l.pz),n=u.add(l),i=d.add(h)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return b.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==u&&t!==d&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?undefined:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===d)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===d?this:r?r(b,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(b,this,e)}toHex(e=!0){return s.bytesToHex(this.toRawBytes(e))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,v=(0,n.wNAF)(b,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:m,weierstrassEquation:l,isWithinCurveOrder:f}}function m(e,t){const r=e.ORDER;let n=u;for(let e=r-d;e%l===u;e/=l)n+=d;const i=n,s=l<<i-d-d,o=s*l,a=(r-d)/o,c=(a-d)/l,p=o-d,m=s,y=e.pow(t,a),g=e.pow(t,(a+d)/l);let b=(t,r)=>{let n=y,s=e.pow(r,p),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let u=e.mul(o,s);a=e.pow(u,m);let h=e.eql(a,e.ONE);s=e.mul(o,g),a=e.mul(u,n),o=e.cmov(s,o,h),u=e.cmov(a,u,h);for(let t=i;t>d;t--){let r=t-l;r=l<<r-d;let i=e.pow(u,r);const a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(u,n),o=e.cmov(s,o,a),u=e.cmov(i,u,a)}return{isValid:h,value:o}};if(e.ORDER%f===h){const r=(e.ORDER-h)/f,n=e.sqrt(e.neg(t));b=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const c=e.mul(a,n),u=e.mul(e.sqr(a),i),d=e.eql(u,t);return{isValid:d,value:e.cmov(c,a,d)}}}return b}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/abstract/weierstrass.js"}],[2102,{"./_shortw_utils.js":2096,"./abstract/hash-to-curve.js":2098,"./abstract/modular.js":2099,"./abstract/utils.js":2100,"./abstract/weierstrass.js":2101,"@noble/hashes/sha256":2108,"@noble/hashes/utils":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),s=e("./_shortw_utils.js"),o=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/utils.js"),u=e("./abstract/weierstrass.js"),d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),f=BigInt(2),p=(e,t)=>(e+t/f)/t;function m(e){const t=d,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),l=e*e*e%t,h=l*l*e%t,p=(0,a.pow2)(h,r,t)*h%t,m=(0,a.pow2)(p,r,t)*h%t,g=(0,a.pow2)(m,f,t)*l%t,b=(0,a.pow2)(g,i,t)*g%t,w=(0,a.pow2)(b,s,t)*b%t,v=(0,a.pow2)(w,c,t)*w%t,k=(0,a.pow2)(v,u,t)*v%t,_=(0,a.pow2)(k,c,t)*w%t,E=(0,a.pow2)(_,r,t)*h%t,T=(0,a.pow2)(E,o,t)*b%t,j=(0,a.pow2)(T,n,t)*l%t,S=(0,a.pow2)(j,f,t);if(!y.eql(y.sqr(S),e))throw new Error("Cannot find square root");return S}const y=(0,a.Field)(d,undefined,undefined,{sqrt:m});r.secp256k1=(0,s.createCurve)({a:BigInt(0),b:BigInt(7),Fp:y,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=l,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),c=p(s*e,t),u=p(-n*e,t);let d=(0,a.mod)(e-c*r-u*i,t),f=(0,a.mod)(-c*n-u*s,t);const m=d>o,y=f>o;if(m&&(d=t-d),y&&(f=t-f),d>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:d,k2neg:y,k2:f}}}},n.sha256);const g=BigInt(0),b=e=>"bigint"==typeof e&&g<e&&e<d,w={};function v(e,...t){let r=w[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));r=(0,c.concatBytes)(t,t),w[e]=r}return(0,n.sha256)((0,c.concatBytes)(r,...t))}const k=e=>e.toRawBytes(!0).slice(1),_=e=>(0,c.numberToBytesBE)(e,32),E=e=>(0,a.mod)(e,d),T=e=>(0,a.mod)(e,l),j=r.secp256k1.ProjectivePoint;function S(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=j.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:T(-t),bytes:k(n)}}function P(e){if(!b(e))throw new Error("bad x: need 0 < x < p");const t=E(e*e);let r=m(E(t*e+BigInt(7)));r%f!==g&&(r=E(-r));const n=new j(e,r,h);return n.assertValidity(),n}function x(...e){return T((0,c.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function B(e){return S(e).bytes}function A(e,t,r=(0,i.randomBytes)(32)){const n=(0,c.ensureBytes)("message",e),{bytes:s,scalar:o}=S(t),a=(0,c.ensureBytes)("auxRand",r,32),u=_(o^(0,c.bytesToNumberBE)(v("BIP0340/aux",a))),d=v("BIP0340/nonce",u,s,n),l=T((0,c.bytesToNumberBE)(d));if(l===g)throw new Error("sign failed: k is zero");const{bytes:h,scalar:f}=S(l),p=x(h,s,n),m=new Uint8Array(64);if(m.set(h,0),m.set(_(T(f+p*o)),32),!I(m,n,s))throw new Error("sign: Invalid signature produced");return m}function I(e,t,r){const n=(0,c.ensureBytes)("signature",e,64),i=(0,c.ensureBytes)("message",t),s=(0,c.ensureBytes)("publicKey",r,32);try{const e=P((0,c.bytesToNumberBE)(s)),t=(0,c.bytesToNumberBE)(n.subarray(0,32));if(!b(t))return!1;const r=(0,c.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(d=r)&&g<d&&d<l))return!1;const h=x(_(t),k(e),i),f=(o=e,a=r,u=T(-h),j.BASE.multiplyAndAddUnsafe(o,a,u));return!(!f||!f.hasEvenY()||f.toAffine().x!==t)}catch(e){return!1}var o,a,u,d}r.schnorr={getPublicKey:B,sign:A,verify:I,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:k,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:v,mod:a.mod}};const C=(()=>(0,o.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))(),O=(()=>(0,u.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}))(),R=(()=>(0,o.createHasher)(r.secp256k1.ProjectivePoint,e=>{const{x:t,y:r}=O(y.create(e[0]));return C(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=R.hashToCurve,r.encodeToCurve=R.encodeToCurve}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/curves",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/curves/secp256k1.js"}],[2103,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=i,r.isBytes=s,r.bytes=o,r.hash=a,r.exists=c,r.output=u;const d={number:n,bool:i,bytes:o,hash:a,exists:c,output:u};r.default=d}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/_assert.js"}],[2104,{"./_assert.js":2103,"./utils.js":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HashMD=r.Maj=r.Chi=void 0;const n=e("./_assert.js"),i=e("./utils.js");r.Chi=(e,t,r)=>e&t^~e&r;r.Maj=(e,t,r)=>e&t^e&r^t&r;class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a===s){const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)c.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}r.HashMD=s}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/_md.js"}],[2105,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const c=(e,t,r)=>e>>>r;r.shrSH=c;const u=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=u;const d=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=d;const l=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=l;const h=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=h;const f=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=f;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const y=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=g;const b=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=b;const w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=w,r.add=v;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=k;const _=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=_;const E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=E;const T=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=T;const j=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=j;const S=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;r.add5H=S;const P={fromBig:s,split:o,toBig:a,shrSH:c,shrSL:u,rotrSH:d,rotrSL:l,rotrBH:h,rotrBL:f,rotr32H:p,rotr32L:m,rotlSH:y,rotlSL:g,rotlBH:b,rotlBL:w,add:v,add3L:k,add3H:_,add4L:E,add4H:T,add5H:S,add5L:j};r.default=P}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/_u64.js"}],[2106,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/crypto.js"}],[2107,{"./_assert.js":2103,"./utils.js":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),i=e("./utils.js");class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=s;r.hmac=(e,t,r)=>new s(e,t).update(r).digest(),r.hmac.create=(e,t)=>new s(e,t)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/hmac.js"}],[2108,{"./_md.js":2104,"./utils.js":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_md.js"),i=e("./utils.js"),s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[e]=s+a[e-7]+n+a[e-16]|0}let{A:r,B:o,C:c,D:u,E:d,F:l,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,i.rotr)(d,6)^(0,i.rotr)(d,11)^(0,i.rotr)(d,25))+(0,n.Chi)(d,l,h)+s[e]+a[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,o,c)|0;f=h,h=l,l=d,d=u+t|0,u=c,c=o,o=r,r=t+p|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,d=d+this.E|0,l=l+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,o,c,u,d,l,h,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,i.wrapConstructor)(()=>new c),r.sha224=(0,i.wrapConstructor)(()=>new u)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/sha256.js"}],[2109,{"./_assert.js":2103,"./_u64.js":2105,"./utils.js":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),o=[],a=[],c=[],u=BigInt(0),d=BigInt(1),l=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=d,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<d^(t>>h)*p)%f,t&l&&(i^=d<<(d<<BigInt(e))-d);c.push(i)}const[m,y]=(0,i.split)(c,!0),g=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=g(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=g(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=y[n]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){s.isLE||(0,s.byteSwap32)(this.state32),w(this.state32,this.rounds),s.isLE||(0,s.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const k=(e,t,r)=>(0,s.wrapConstructor)(()=>new v(t,e,r));r.sha3_224=k(6,144,28),r.sha3_256=k(6,136,32),r.sha3_384=k(6,104,48),r.sha3_512=k(6,72,64),r.keccak_224=k(1,144,28),r.keccak_256=k(1,136,32),r.keccak_384=k(1,104,48),r.keccak_512=k(1,72,64);const _=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,n.dkLen===undefined?r:n.dkLen,!0));r.shake128=_(31,168,16),r.shake256=_(31,136,32)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/sha3.js"}],[2110,{"./_assert.js":2103,"@noble/hashes/crypto":2106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),i=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));r.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o=48,a=57,c=65,u=70,d=97,l=102;function h(e){return e>=o&&e<=a?e-o:e>=c&&e<=u?e-(c-10):e>=d&&e<=l?e-(d-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function f(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),(0,i.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=f,r.toBytes=p,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const m={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==m.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/eth-sig-util>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-sig-util/node_modules/@noble/hashes/utils.js"}],[2111,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function a(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function u(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function d(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],o=Array.from(e);for(o.forEach(e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});;){let e=0,n=!0;for(let s=i;s<o.length;s++){const a=o[s],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!==t*e)throw new Error("convertRadix: carry overflow");e=c%r;const u=Math.floor(c/r);if(o[s]=u,!Number.isSafeInteger(u)||u*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(u?n=!1:i=s)}if(s.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=r.stringToBytes=r.str=r.bytesToString=r.hex=r.utf8=r.bech32m=r.bech32=r.base58check=r.createBase58check=r.base58xmr=r.base58xrp=r.base58flickr=r.base58=r.base64urlnopad=r.base64url=r.base64nopad=r.base64=r.base32crockford=r.base32hexnopad=r.base32hex=r.base32nopad=r.base32=r.base16=r.utils=void 0,r.assertNumber=n;const l=(e,t)=>t?l(t,e%t):e,h=(e,t)=>e+(t-l(e,t));function f(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(h(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${h(t,r)}`);let s=0,o=0;const a=2**r-1,c=[];for(const i of e){if(n(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(s=s<<t|i,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)c.push((s>>o-r&a)>>>0);s&=2**o-1}if(s=s<<r-o&a,!i&&o>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&c.push(s>>>0),c}function p(e){return n(e),{encode:t=>{if(!i(t))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(d(t,e,256))}}}function m(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(h(8,e)>32||h(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!i(r))throw new Error("radix2.encode input should be Uint8Array");return f(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(f(r,e,8,t))}}}function y(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!i(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),s=new Uint8Array(r.length+e);return s.set(r),s.set(n,r.length),s},decode(r){if(!i(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),s=t(n).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(s[t]!==o[t])throw new Error("Invalid checksum");return n}}}r.utils={alphabet:o,chain:s,checksum:g,convertRadix:d,convertRadix2:f,radix:p,radix2:m,join:a,padding:c},r.base16=s(m(4),o("0123456789ABCDEF"),a("")),r.base32=s(m(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),a("")),r.base32nopad=s(m(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a("")),r.base32hex=s(m(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),a("")),r.base32hexnopad=s(m(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a("")),r.base32crockford=s(m(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),u(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),r.base64=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),a("")),r.base64nopad=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a("")),r.base64url=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),a("")),r.base64urlnopad=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(""));const b=e=>s(p(58),o(e),a(""));r.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),r.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),r.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];r.base58xmr={encode(e){let t="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);t+=r.base58.encode(i).padStart(w[i.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),s=w.indexOf(i.length),o=r.base58.decode(i);for(let e=0;e<o.length-s;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(t)}};r.createBase58check=e=>s(g(4,t=>e(e(t))),r.base58),r.base58check=r.createBase58check;const v=s(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),k=[996825010,642813549,513874426,1027748829,705979059];function _(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<k.length;e++)1==(t>>e&1)&&(r^=k[e]);return r}function E(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=_(i)^r>>5}i=_(i);for(let t=0;t<n;t++)i=_(i)^31&e.charCodeAt(t);for(let e of t)i=_(i)^e;for(let e=0;e<6;e++)i=_(i);return i^=r,v.encode(f([i%2**30],30,5,!1))}function T(e){const t="bech32"===e?1:734539939,r=m(5),n=r.decode,i=r.encode,s=y(n);function o(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=e.toLowerCase(),o=E(s,r,t);return`${s}1${v.encode(r)}${o}`}function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=n.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=v.decode(o).slice(0,-6),c=E(s,a,t);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:a}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:y(a),fromWords:n,fromWordsUnsafe:s,toWords:i}}r.bech32=T("bech32"),r.bech32m=T("bech32m"),r.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},r.hex=s(m(4),o("0123456789abcdef"),a(""),u(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const j={utf8:r.utf8,hex:r.hex,base16:r.base16,base32:r.base32,base64:r.base64,base64url:r.base64url,base58:r.base58,base58xmr:r.base58xmr},S="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";r.bytesToString=(e,t)=>{if("string"!=typeof e||!j.hasOwnProperty(e))throw new TypeError(S);if(!i(t))throw new TypeError("bytesToString() expects Uint8Array");return j[e].encode(t)},r.str=r.bytesToString;r.stringToBytes=(e,t)=>{if(!j.hasOwnProperty(e))throw new TypeError(S);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return j[e].decode(t)},r.bytes=r.stringToBytes}}},{package:"@metamask/eth-sig-util>@scure/base",file:"node_modules/@metamask/eth-sig-util/node_modules/@scure/base/lib/index.js"}],[2112,{"./utils.js":2114,"@noble/hashes/sha3":2109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils.js");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/eth-sig-util/node_modules/ethereum-cryptography/keccak.js"}],[2113,{"@noble/curves/secp256k1":2102},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=void 0;var n=e("@noble/curves/secp256k1");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return n.secp256k1}})}}},{package:"@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/eth-sig-util/node_modules/ethereum-cryptography/secp256k1.js"}],[2114,{"@noble/hashes/_assert":2103,"@noble/hashes/utils":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))};const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/eth-sig-util>ethereum-cryptography",file:"node_modules/@metamask/eth-sig-util/node_modules/ethereum-cryptography/utils.js"}],[2115,{"./simple-keyring.cjs":2116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("./simple-keyring.cjs");Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/index.cjs"}],[2116,{"@ethereumjs/util":702,"@metamask/eth-sig-util":2075,"@metamask/utils":3207,buffer:4176,"ethereum-cryptography/keccak":2122,randombytes:5267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const d=e("@ethereumjs/util"),l=e("@metamask/eth-sig-util"),h=e("@metamask/utils"),f=e("ethereum-cryptography/keccak"),p=u(e("randombytes")),m="Simple Key Pair";class y{constructor(e=[]){n.add(this),i.set(this,void 0),this.type=m,a(this,i,[],"f"),this.deserialize(e).catch(e=>{throw new Error(`Problem deserializing SimpleKeyring ${e.message}`)})}async serialize(){return c(this,i,"f").map(e=>e.privateKey.toString("hex"))}async deserialize(e){a(this,i,e.map(e=>{const r=(0,d.stripHexPrefix)(e),n=t.from(r,"hex");return{privateKey:n,publicKey:t.from((0,d.privateToPublic)(n))}}),"f")}async addAccounts(e=1){const r=[];for(let n=0;n<e;n++){const e=g(),n=t.from((0,d.privateToPublic)(e));r.push({privateKey:e,publicKey:n})}a(this,i,c(this,i,"f").concat(r),"f");return r.map(({publicKey:e})=>(0,h.add0x)((0,h.bytesToHex)((0,d.publicToAddress)(e))))}async getAccounts(){return c(this,i,"f").map(({publicKey:e})=>(0,h.add0x)((0,h.bytesToHex)((0,d.publicToAddress)(e))))}async signTransaction(e,t,r={}){const i=c(this,n,"m",s).call(this,e,r);return t.sign(i)??t}async signEip7702Authorization(e,t,r={}){const i=c(this,n,"m",s).call(this,e,r);return(0,l.signEIP7702Authorization)({privateKey:i,authorization:t})}async signMessage(e,r,i={withAppKeyOrigin:"",validateMessage:!0}){const o=(0,d.stripHexPrefix)(r);if(i.validateMessage&&(0===o.length||!o.match(/^[a-fA-F0-9]*$/u)))throw new Error("Cannot sign invalid message");const a=c(this,n,"m",s).call(this,e,i),u=(0,d.ecsign)(t.from(o,"hex"),a);return(0,l.concatSig)(t.from((0,h.bigIntToBytes)(u.v)),t.from(u.r),t.from(u.s))}async signPersonalMessage(e,t,r={withAppKeyOrigin:""}){const i=c(this,n,"m",s).call(this,e,r);return(0,l.personalSign)({privateKey:i,data:t})}async decryptMessage(e,t){const r=c(this,n,"m",o).call(this,e).privateKey.toString("hex");return(0,l.decrypt)({privateKey:r,encryptedData:t})}async signTypedData(e,t,r){let{version:i}=r??{version:l.SignTypedDataVersion.V1};i&&function(e){return e in l.SignTypedDataVersion}(i)||(i=l.SignTypedDataVersion.V1);const o=c(this,n,"m",s).call(this,e,r);return(0,l.signTypedData)({privateKey:o,data:t,version:i})}async getEncryptionPublicKey(e,t){const r=c(this,n,"m",s).call(this,e,t);return(0,l.getEncryptionPublicKey)(r.toString("hex"))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=c(this,n,"m",o).call(this,e,{withAppKeyOrigin:t});return(0,h.add0x)((0,h.bytesToHex)((0,d.publicToAddress)(r.publicKey)))}async exportAccount(e,t={withAppKeyOrigin:""}){return c(this,n,"m",o).call(this,e,t).privateKey.toString("hex")}removeAccount(e){if(!c(this,i,"f").map(({publicKey:e})=>(0,h.bytesToHex)((0,d.publicToAddress)(e)).toLowerCase()).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);a(this,i,c(this,i,"f").filter(({publicKey:t})=>(0,h.bytesToHex)((0,d.publicToAddress)(t)).toLowerCase()!==e.toLowerCase()),"f")}}function g(){const e=(0,p.default)(32);if(!(0,d.isValidPrivate)(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");return e}i=new WeakMap,n=new WeakSet,s=function(e,t={withAppKeyOrigin:""}){if(!e)throw new Error("Must specify address.");return c(this,n,"m",o).call(this,e,t).privateKey},o=function(e,r={}){const n=(0,l.normalize)(e);let s=c(this,i,"f").find(({publicKey:e})=>(0,h.bytesToHex)((0,d.publicToAddress)(e))===n);if(!s)throw new Error("Simple Keyring - Unable to find matching address.");if(r.withAppKeyOrigin){const{privateKey:e}=s,n=t.from(r.withAppKeyOrigin,"utf8"),i=t.concat([e,n]),o=(0,f.keccak256)(i),a=(0,d.privateToPublic)(o);s={privateKey:t.from(o),publicKey:t.from(a)}}return s},y.type=m,r.default=y}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/simple-keyring.cjs"}],[2117,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=i,r.isBytes=s,r.bytes=o,r.hash=a,r.exists=c,r.output=u;const d={number:n,bool:i,bytes:o,hash:a,exists:c,output:u};r.default=d}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/_assert.js"}],[2118,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const c=(e,t,r)=>e>>>r;r.shrSH=c;const u=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=u;const d=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=d;const l=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=l;const h=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=h;const f=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=f;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const y=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=g;const b=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=b;const w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=w,r.add=v;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=k;const _=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=_;const E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=E;const T=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=T;const j=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=j;const S=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;r.add5H=S;const P={fromBig:s,split:o,toBig:a,shrSH:c,shrSL:u,rotrSH:d,rotrSL:l,rotrBH:h,rotrBL:f,rotr32H:p,rotr32L:m,rotlSH:y,rotlSL:g,rotlBH:b,rotlBL:w,add:v,add3L:k,add3H:_,add4L:E,add4H:T,add5H:S,add5L:j};r.default=P}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/_u64.js"}],[2119,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/crypto.js"}],[2120,{"./_assert.js":2117,"./_u64.js":2118,"./utils.js":2121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),o=[],a=[],c=[],u=BigInt(0),d=BigInt(1),l=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=d,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<d^(t>>h)*p)%f,t&l&&(i^=d<<(d<<BigInt(e))-d);c.push(i)}const[m,y]=(0,i.split)(c,!0),g=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=g(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=g(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=y[n]}r.fill(0)}r.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){s.isLE||(0,s.byteSwap32)(this.state32),w(this.state32,this.rounds),s.isLE||(0,s.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=v;const k=(e,t,r)=>(0,s.wrapConstructor)(()=>new v(t,e,r));r.sha3_224=k(6,144,28),r.sha3_256=k(6,136,32),r.sha3_384=k(6,104,48),r.sha3_512=k(6,72,64),r.keccak_224=k(1,144,28),r.keccak_256=k(1,136,32),r.keccak_384=k(1,104,48),r.keccak_512=k(1,72,64);const _=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)((n={})=>new v(t,e,n.dkLen===undefined?r:n.dkLen,!0));r.shake128=_(31,168,16),r.shake256=_(31,136,32)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/sha3.js"}],[2121,{"./_assert.js":2117,"@noble/hashes/crypto":2119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),i=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));r.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o=48,a=57,c=65,u=70,d=97,l=102;function h(e){return e>=o&&e<=a?e-o:e>=c&&e<=u?e-(c-10):e>=d&&e<=l?e-(d-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(r===undefined||s===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function f(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),(0,i.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=f,r.toBytes=p,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const m={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==m.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@noble/hashes/utils.js"}],[2122,{"./utils.js":2123,"@noble/hashes/sha3":2120},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils.js");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/keccak.js"}],[2123,{"@noble/hashes/_assert":2117,"@noble/hashes/utils":2121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))};const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/utils.js"}],[2124,{"./util.cjs":2137},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaseInsensitiveMap=void 0;const n=e("./util.cjs");class i extends Map{static fromObject(e){return new i(Object.entries(e))}toObject(){return Object.fromEntries(this.entries())}get(e){return super.get(e.toLowerCase())}getOrThrow(e,t="Key"){return this.get(e)??(0,n.throwError)(`${t} '${e}' not found`)}has(e){return super.has(e.toLowerCase())}set(e,t){return super.set(e.toLowerCase(),t)}delete(e){return super.delete(e.toLowerCase())}}r.CaseInsensitiveMap=i}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/CaseInsensitiveMap.cjs"}],[2125,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DeferredPromise=void 0;r.DeferredPromise=class{constructor(){if(this.resolve=undefined,this.reject=undefined,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),!this.resolve||!this.reject)throw new Error("Promise constructor failed")}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/DeferredPromise.cjs"}],[2126,{"./CaseInsensitiveMap.cjs":2124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapIdMap=r.InvalidSnapIdError=void 0;const o=e("./CaseInsensitiveMap.cjs");class a extends Error{constructor(e,t){super(`Snap "${e}" is not allowed to set "${t}"`),this.name="InvalidSnapIdError",this.snapId=e,this.key=t}}r.InvalidSnapIdError=a;class c{constructor(e){n.set(this,void 0),i(this,n,new o.CaseInsensitiveMap(e),"f")}toObject(){return s(this,n,"f").toObject()}static fromObject(e){return new c(Object.entries(e))}get(e,t){const r=s(this,n,"f").get(t);return r?.snapId===e?r:undefined}getSnapId(e){return s(this,n,"f").get(e)?.snapId}pop(e,t){const r=this.get(e,t);return this.delete(e,t),r}has(e,t){return this.get(e,t)!==undefined}hasSnapId(e){return[...s(this,n,"f").values()].some(t=>t.snapId===e)}delete(e,t){return this.has(e,t)&&s(this,n,"f").delete(t)}set(e,t){if(s(this,n,"f").has(e)&&!this.has(t.snapId,e))throw new a(t.snapId,e);return s(this,n,"f").set(e,t),this}values(){return s(this,n,"f").values()}get size(){return s(this,n,"f").size}}r.SnapIdMap=c,n=new WeakMap}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapIdMap.cjs"}],[2127,{"./DeferredPromise.cjs":2125,"./SnapIdMap.cjs":2126,"./SnapKeyringMessenger.cjs":2128,"./account.cjs":2129,"./events.cjs":2130,"./logger.cjs":2132,"./migrations/index.cjs":2133,"./options.cjs":2135,"./types.cjs":2136,"./util.cjs":2137,"./versions.cjs":2138,"@ethereumjs/tx":681,"@metamask/eth-sig-util":2075,"@metamask/keyring-api":2300,"@metamask/keyring-internal-api":2313,"@metamask/keyring-internal-snap-client":2317,"@metamask/keyring-snap-sdk":2338,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207,uuid:2139},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,d,l,h,f,p,m,y,g,b,w,v,k,_,E,T,j,S,P,x,B,A,I,C,O,R,M,D,q,L,K,N,U,H=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},F=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapKeyring=r.SNAP_KEYRING_TYPE=void 0;const $=e("@ethereumjs/tx"),V=e("@metamask/eth-sig-util"),G=e("@metamask/keyring-api"),z=e("@metamask/keyring-internal-api"),W=e("@metamask/keyring-internal-snap-client"),Y=e("@metamask/keyring-snap-sdk"),J=e("@metamask/keyring-utils"),X=e("@metamask/superstruct"),Z=e("@metamask/utils"),Q=e("uuid"),ee=e("./account.cjs"),te=e("./DeferredPromise.cjs"),re=e("./events.cjs"),ne=e("./logger.cjs"),ie=e("./migrations/index.cjs"),se=e("./options.cjs"),oe=e("./SnapIdMap.cjs"),ae=e("./SnapKeyringMessenger.cjs"),ce=e("./types.cjs"),ue=e("./util.cjs"),de=e("./versions.cjs");function le(e){return(0,G.isEvmAccountType)(e.type)?e.address.toLowerCase():e.address}r.SNAP_KEYRING_TYPE="Snap Keyring";class he{constructor({messenger:e,callbacks:t,isAnyAccountTypeAllowed:r=!1}){n.add(this),this.name=ae.SNAP_KEYRING_NAME,this.state=null,i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d.set(this,void 0),l.set(this,void 0),this.type=he.type,H(this,i,e,"f"),H(this,s,new W.KeyringInternalSnapClient({messenger:e}),"f"),H(this,c,new oe.SnapIdMap,"f"),H(this,o,new oe.SnapIdMap,"f"),H(this,u,new oe.SnapIdMap,"f"),H(this,d,t,"f"),H(this,l,r,"f"),H(this,a,new Map,"f")}async handleKeyringSnapMessage(e,t){switch((0,X.assert)(t,ce.SnapMessageStruct),t.method){case`${G.KeyringEvent.AccountCreated}`:return F(this,n,"m",p).call(this,e,t);case`${G.KeyringEvent.AccountUpdated}`:return F(this,n,"m",m).call(this,e,t);case`${G.KeyringEvent.AccountDeleted}`:return F(this,n,"m",y).call(this,e,t);case`${G.KeyringEvent.RequestApproved}`:return F(this,n,"m",b).call(this,e,t);case`${G.KeyringEvent.RequestRejected}`:return F(this,n,"m",w).call(this,e,t);case`${G.KeyringEvent.AccountBalancesUpdated}`:return F(this,n,"m",k).call(this,e,t);case`${G.KeyringEvent.AccountAssetListUpdated}`:return F(this,n,"m",_).call(this,e,t);case`${G.KeyringEvent.AccountTransactionsUpdated}`:return F(this,n,"m",E).call(this,e,t);case`${Y.SnapManageAccountsMethod.GetSelectedAccounts}`:return F(this,n,"m",g).call(this,e,t);default:throw new Error(`Method not supported: ${t.method}`)}}async serialize(){return{accounts:F(this,o,"f").toObject()}}async deserialize(e){if(e===undefined)return;const t={};for(const[r,n]of Object.entries(e.accounts))(0,ie.isAccountV1)(n.account)?(console.info(`SnapKeyring - Found a KeyringAccountV1, migrating to V2: ${n.account.id}`),t[r]={...n,account:(0,ie.migrateAccountV1)(n.account)}):t[r]=n;H(this,o,oe.SnapIdMap.fromObject(t),"f")}async getAccounts(){return(0,ue.unique)([...F(this,o,"f").values()].map(({account:e})=>le(e)))}async getAccountsBySnapId(e){return(0,ue.unique)([...F(this,o,"f").values()].filter(({snapId:t})=>t===e).map(({account:e})=>le(e)))}async createAccount(e,t,r){const n=new W.KeyringInternalSnapClient({messenger:F(this,i,"f"),snapId:e}),s="metamask";if((0,Z.hasProperty)(t,s))throw new Error(`The '${s}' property is reserved for internal use`);if(!r)return await n.createAccount(t);const o=(0,Q.v4)();return F(this,u,"f").set(o,{snapId:e,options:r}),await n.createAccount({...t,metamask:{correlationId:o}})}hasSnapId(e){return F(this,o,"f").hasSnapId(e)}async resolveAccountAddress(e,t,r){if(!this.hasSnapId(e))throw new Error(`Unable to resolve account address: unknown Snap ID: ${e}`);return await F(this,s,"f").withSnapId(e).resolveAccountAddress(t,r)}async submitRequest({origin:e,account:t,method:r,params:i,scope:s}){const{account:o,snapId:a}=F(this,n,"m",T).call(this,t);return await F(this,n,"m",P).call(this,{origin:e,snapId:a,account:o,method:r,params:i,scope:s,noPending:!0})}async signTransaction(e,t,r={}){const i=t.common.chainId(),s=(0,ue.toJson)({...t.toJSON(),from:e,type:`0x${t.type.toString(16)}`,chainId:(0,Z.bigIntToHex)(i)}),o=await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.SignTransaction,params:[s],scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,`${i}`)}),a=(0,X.mask)(o,(0,X.object)({r:(0,X.string)(),s:(0,X.string)(),v:(0,X.string)()}));return $.TransactionFactory.fromTxData({...s,r:a.r,s:a.s,v:a.v})}async signTypedData(e,t,r={version:V.SignTypedDataVersion.V1}){const i={[V.SignTypedDataVersion.V1]:G.EthMethod.SignTypedDataV1,[V.SignTypedDataVersion.V3]:G.EthMethod.SignTypedDataV3,[V.SignTypedDataVersion.V4]:G.EthMethod.SignTypedDataV4}[r.version]||G.EthMethod.SignTypedDataV1,s=t.domain?.chainId;return(0,J.strictMask)(await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:i,params:(0,ue.toJson)([e,t]),...s===undefined?{}:{scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,`${s}`)}}),G.EthBytesStruct)}async signMessage(e,t){return(0,J.strictMask)(await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.Sign,params:(0,ue.toJson)([e,t])}),G.EthBytesStruct)}async signPersonalMessage(e,t){return(0,J.strictMask)(await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.PersonalSign,params:(0,ue.toJson)([t,e])}),G.EthBytesStruct)}async prepareUserOperation(e,t,r){return(0,J.strictMask)(await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.PrepareUserOperation,params:(0,ue.toJson)(t),noPending:!0,scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,r.chainId)}),G.EthBaseUserOperationStruct)}async patchUserOperation(e,t,r){return(0,J.strictMask)(await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.PatchUserOperation,params:(0,ue.toJson)([t]),noPending:!0,scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,r.chainId)}),G.EthUserOperationPatchStruct)}async signUserOperation(e,t,r){return(0,J.strictMask)(await F(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.SignUserOperation,params:(0,ue.toJson)([t]),scope:(0,Z.toCaipChainId)(Z.KnownCaipNamespace.Eip155,r.chainId)}),G.EthBytesStruct)}exportAccount(e){throw new Error("Exporting accounts from snaps is not supported.")}async removeAccount(e){const{account:t,snapId:r}=F(this,n,"m",D).call(this,e);await F(this,n,"m",M).call(this,r,t)}async setSelectedAccounts(e){F(this,n,"m",q).call(this,e);const t=[...F(this,a,"f").entries()];await Promise.all(t.map(async([e,t])=>{try{await F(this,s,"f").withSnapId(e).setSelectedAccounts(t)}catch(t){console.error(`Failed to set selected accounts for ${e} snap: '${t.message}'`)}}))}getAccountByAddress(e){const t=[...F(this,o,"f").values()].find(({account:{address:t}})=>(0,ue.equalsIgnoreCase)(t,e));return t?F(this,n,"m",U).call(this,t.account,t.snapId):undefined}listAccounts(){return[...F(this,o,"f").values()].map(({account:e,snapId:t})=>F(this,n,"m",U).call(this,e,t))}}r.SnapKeyring=he,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,l=new WeakMap,n=new WeakSet,h=function(e){return(0,de.getKeyringVersionFromPlatform)(t=>F(this,i,"f").call("SnapController:isMinimumPlatformVersion",e,t))},f=function(e,t){if(t){const r=F(this,u,"f").pop(e,t);if(r)return r.options;console.warn(`SnapKeyring - Received unmapped correlation ID: "${t}"`)}return undefined},p=async function(e,t){(0,X.assert)(t,re.AccountCreatedEventStruct);const{metamask:r,account:i,accountNameSuggestion:s,displayAccountNameSuggestion:a,displayConfirmation:c}=t.params,u=(0,ee.transformAccount)(i),h=le(u);if(!F(this,l,"f")&&u.type===G.AnyAccountType.Account)throw new Error(`Cannot create generic account '${u.id}'`);const p=F(this,o,"f").get(e,u.id);if(p&&le(p.account)===h)return null;if(await F(this,d,"f").addressExists(h))throw new Error(`Account address '${h}' already exists`);if(F(this,o,"f").has(e,u.id))throw new Error(`Account '${u.id}' already exists`);const m=new te.DeferredPromise;return await F(this,d,"f").addAccount(h,e,async t=>{t&&(F(this,o,"f").set(u.id,{account:u,snapId:e}),F(this,d,"f").saveState().then(()=>{m.resolve(u.id)}).catch(async t=>{await F(this,n,"m",M).call(this,e,u),m.reject(t)}))},m.promise,s,(0,se.getInternalOptionsOf)([F(this,n,"m",f).call(this,e,r?.correlationId)??{},{displayConfirmation:c,displayAccountNameSuggestion:a}])),null},m=async function(e,t){(0,X.assert)(t,re.AccountUpdatedEventStruct);const{account:r}=t.params,{account:n}=F(this,o,"f").get(e,r.id)??(0,ue.throwError)(`Account '${r.id}' not found`),i=(0,ee.transformAccount)(r),s=i.type===G.AnyAccountType.Account||n.type===G.AnyAccountType.Account;if(!F(this,l,"f")&&s)throw new Error(`Cannot update generic account '${i.id}'`);if(!(0,ue.equalsIgnoreCase)(n.address,i.address))throw new Error(`Cannot change address of account '${i.id}'`);return F(this,o,"f").set(i.id,{account:i,snapId:e}),await F(this,d,"f").saveState(),null},y=async function(e,t){(0,X.assert)(t,re.AccountDeletedEventStruct);const{id:r}=t.params,n=F(this,o,"f").get(e,r);if(n===undefined)return null;const{account:i}=n;return await F(this,d,"f").removeAccount(le(i),e,async e=>{e&&await F(this,d,"f").saveState()}),null},g=async function(e,t){return(0,X.assert)(t,Y.GetSelectedAccountsRequestStruct),F(this,a,"f").get(e)??[]},b=async function(e,t){(0,X.assert)(t,re.RequestApprovedEventStruct);const{id:r,result:n}=t.params,{promise:i}=F(this,c,"f").get(e,r)??(0,ue.throwError)(`Request '${r}' not found`);return F(this,c,"f").delete(e,r),i.resolve(n),null},w=async function(e,t){(0,X.assert)(t,re.RequestRejectedEventStruct);const{id:r}=t.params,{promise:n}=F(this,c,"f").get(e,r)??(0,ue.throwError)(`Request '${r}' not found`);return F(this,c,"f").delete(e,r),n.reject(new Error("Request rejected by user or snap.")),null},v=async function(e,t,r){return F(this,i,"f").publish(t,...r(r=>Object.entries(r).reduce((r,[n,i])=>(F(this,o,"f").has(e,n)?r[n]=i:console.warn(`SnapKeyring - ${t} - Found an unknown account ID "${n}" for Snap ID "${e}". Skipping.`),r),{}))),null},k=async function(e,t){(0,X.assert)(t,G.AccountBalancesUpdatedEventStruct);const r=t.params;return F(this,n,"m",v).call(this,e,"SnapKeyring:accountBalancesUpdated",e=>(r.balances=e(r.balances),[r]))},_=async function(e,t){(0,X.assert)(t,G.AccountAssetListUpdatedEventStruct);const r=t.params;return F(this,n,"m",v).call(this,e,"SnapKeyring:accountAssetListUpdated",e=>(r.assets=e(r.assets),[r]))},E=async function(e,t){(0,X.assert)(t,G.AccountTransactionsUpdatedEventStruct);const r=t.params;return F(this,n,"m",v).call(this,e,"SnapKeyring:accountTransactionsUpdated",e=>(r.transactions=e(r.transactions),[r]))},T=function(e){const t=[...F(this,o,"f").values()].find(t=>t.account.id===e);if(!t)throw new Error(`Unable to get account: unknown account ID: '${e}'`);return t},j=async function({origin:e,address:t,method:r,params:i,scope:s="",noPending:o=!1}){const{account:a,snapId:c}=F(this,n,"m",D).call(this,t);return await F(this,n,"m",P).call(this,{origin:e,snapId:c,account:a,method:r,params:i,scope:s,noPending:o})},S=async function({snapId:e,version:t,request:r}){const n=F(this,s,"f").withSnapId(e);return t===z.KeyringVersion.V1?await n.submitRequestV1((0,z.toKeyringRequestV1)(r)):await n.submitRequest(r)},P=async function({origin:e,snapId:t,account:r,method:i,params:s,scope:o,noPending:a}){if(!F(this,n,"m",x).call(this,r,i))throw new Error(`Method '${i}' not supported for account ${r.address}`);if(!e?.trim())throw new Error("An `origin` is required");const c=(0,Q.v4)(),u=F(this,n,"m",B).call(this,c,t);try{const d=F(this,n,"m",h).call(this,t),l={id:c,origin:e,scope:o,account:r.id,request:{method:i,...s!==undefined&&{params:s}}};(0,ne.projectLogger)("Submit Snap request: ",l);const f=await F(this,n,"m",S).call(this,{version:d,snapId:t,request:l});if(a&&f.pending)throw new Error(`Request '${c}' to Snap '${t}' is pending and noPending is true.`);return f.pending?((f.redirect?.message||f.redirect?.url)&&await F(this,n,"m",C).call(this,f.redirect,t),u.promise):F(this,n,"m",I).call(this,f,c,t)}catch(e){throw(0,ne.projectLogger)("Snap Request failed: ",{requestId:c}),F(this,n,"m",A).call(this,c,t),e}},x=function(e,t){return e.methods.includes(t)},B=function(e,t){const r=new te.DeferredPromise;return F(this,c,"f").set(e,{promise:r,snapId:t}),r},A=function(e,t){F(this,c,"f").delete(t,e)},I=function(e,t,r){return F(this,c,"f").delete(r,t),e.result},C=async function(e,t){const{message:r="",url:i=""}=e,s=F(this,n,"m",O).call(this,i);s&&F(this,n,"m",R).call(this,s,t),await F(this,d,"f").redirectUser(t,s,r)},O=function(e){return e?(0,ue.sanitizeUrl)(e):e},R=function(e,t){const{origin:r}=new URL(e),i=F(this,n,"m",L).call(this,t);if(!i)throw new Error(`Snap '${t}' not found.`);if(!F(this,n,"m",N).call(this,i).includes(r))throw new Error(`Redirect URL domain '${r}' is not an allowed origin by snap '${t}'`)},M=async function(e,t){F(this,o,"f").delete(e,t.id);try{await F(this,s,"f").withSnapId(e).deleteAccount(t.id)}catch(r){console.error(`Account '${t.address}' may not have been removed from snap '${e}':`,r)}},D=function(e){return[...F(this,o,"f").values()].find(({account:t})=>(0,ue.equalsIgnoreCase)(t.address,e))??(0,ue.throwError)(`Account '${e}' not found`)},q=function(e){const t=F(this,a,"f");t.clear();for(const r of e){const e=F(this,o,"f").getSnapId(r);if(!e)continue;const n=t.get(e)??[];n.push(r),t.set(e,n)}},L=function(e){return F(this,i,"f").call("SnapController:get",e)},K=function(e){const t=F(this,n,"m",L).call(this,e);return t?{id:e,name:t.manifest.proposedName,enabled:t.enabled}:undefined},N=function(e){return e.manifest.initialPermissions["endowment:keyring"]?.allowedOrigins??[]},U=function(e,t){const r=F(this,n,"m",K).call(this,t);return{...e,address:le(e),metadata:{name:"",importTime:0,keyring:{type:this.type},...r!==undefined&&{snap:r}}}},he.type=r.SNAP_KEYRING_TYPE}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyring.cjs"}],[2128,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SNAP_KEYRING_NAME=void 0,r.SNAP_KEYRING_NAME="SnapKeyring"}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyringMessenger.cjs"}],[2129,{"./migrations/index.cjs":2133,"@metamask/keyring-api":2300,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountV1Struct=void 0,r.assertKeyringAccount=o,r.transformAccount=function(e){return o((0,s.isAccountV1)(e)?(0,s.transformAccountV1)(e):e)};const n=e("@metamask/keyring-api"),i=e("@metamask/superstruct"),s=e("./migrations/index.cjs");function o(e){switch(e.type){case n.BtcAccountType.P2pkh:return(0,i.assert)(e,n.BtcP2pkhAccountStruct),e;case n.BtcAccountType.P2sh:return(0,i.assert)(e,n.BtcP2shAccountStruct),e;case n.BtcAccountType.P2wpkh:return(0,i.assert)(e,n.BtcP2wpkhAccountStruct),e;case n.BtcAccountType.P2tr:return(0,i.assert)(e,n.BtcP2trAccountStruct),e;case n.SolAccountType.DataAccount:return(0,i.assert)(e,n.SolDataAccountStruct),e;case n.EthAccountType.Erc4337:return(0,i.assert)(e,n.EthErc4337AccountStruct),e;case n.EthAccountType.Eoa:return(0,i.assert)(e,n.EthEoaAccountStruct),e;case n.TrxAccountType.Eoa:return(0,i.assert)(e,n.TrxEoaAccountStruct),e;case n.AnyAccountType.Account:return(0,i.assert)(e,n.KeyringAccountStruct),e;default:throw new Error(`Unknown account type: '${e.type}'`)}}r.KeyringAccountV1Struct=(0,i.omit)(n.KeyringAccountStruct,["scopes"])}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/account.cjs"}],[2130,{"./account.cjs":2129,"@metamask/keyring-api":2300,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RequestRejectedEventStruct=r.RequestApprovedEventStruct=r.AccountDeletedEventStruct=r.AccountUpdatedEventStruct=r.AccountCreatedEventStruct=void 0;const n=e("@metamask/keyring-api");Object.defineProperty(r,"AccountDeletedEventStruct",{enumerable:!0,get:function(){return n.AccountDeletedEventStruct}}),Object.defineProperty(r,"RequestApprovedEventStruct",{enumerable:!0,get:function(){return n.RequestApprovedEventStruct}}),Object.defineProperty(r,"RequestRejectedEventStruct",{enumerable:!0,get:function(){return n.RequestRejectedEventStruct}});const i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),o=e("./account.cjs");r.AccountCreatedEventStruct=(0,i.object)({...n.AccountCreatedEventStruct.schema,params:(0,i.object)({...n.AccountCreatedEventStruct.schema.params.schema,account:(0,s.union)([o.KeyringAccountV1Struct,n.KeyringAccountStruct])})}),r.AccountUpdatedEventStruct=(0,i.object)({...n.AccountUpdatedEventStruct.schema,params:(0,i.object)({...n.AccountUpdatedEventStruct.schema.params.schema,account:(0,s.union)([o.KeyringAccountV1Struct,n.KeyringAccountStruct])})})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/events.cjs"}],[2131,{"./SnapKeyring.cjs":2127,"./options.cjs":2135,"./types.cjs":2136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./options.cjs"),r),i(e("./types.cjs"),r),i(e("./SnapKeyring.cjs"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/index.cjs"}],[2132,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-snap-keyring")}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/logger.cjs"}],[2133,{"./v1.cjs":2134},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./v1.cjs"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/index.cjs"}],[2134,{"../account.cjs":2129,"@metamask/keyring-api":2300,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isAccountV1=a,r.getScopesForAccountV1=c,r.transformAccountV1=function(e){const{type:t}=e;if(t===n.EthAccountType.Eoa)return{...e,scopes:c(e)};return(0,o.assertKeyringAccount)(e)},r.migrateAccountV1=function(e){if(!a(e))return e;return{...e,scopes:c(e)}};const n=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),o=e("../account.cjs");function a(e){return(0,s.is)(e,o.KeyringAccountV1Struct)}function c(e){switch(e.type){case n.EthAccountType.Eoa:return[n.EthScope.Eoa];case n.EthAccountType.Erc4337:return[n.EthScope.Testnet];case n.BtcAccountType.P2pkh:case n.BtcAccountType.P2sh:case n.BtcAccountType.P2wpkh:case n.BtcAccountType.P2tr:return[(0,i.isBtcMainnetAddress)(e.address)?n.BtcScope.Mainnet:n.BtcScope.Testnet];case n.SolAccountType.DataAccount:return[n.SolScope.Mainnet,n.SolScope.Testnet,n.SolScope.Devnet];case n.TrxAccountType.Eoa:return[n.TrxScope.Mainnet,n.TrxScope.Nile,n.TrxScope.Shasta];default:return[n.EthScope.Eoa]}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/v1.cjs"}],[2135,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(){return{displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0}}Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultInternalOptions=n,r.getInternalOptionsOf=function(e){const t={},r={displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0},n=Object.keys(r);for(const i of n){t[i]=undefined;for(const n of[...e,r])n[i]!==undefined&&t[i]===undefined&&(t[i]=n[i])}return t}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/options.cjs"}],[2136,{"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SnapMessageStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.SnapMessageStruct=(0,n.object)({method:(0,n.string)(),params:(0,n.optional)((0,n.union)([(0,n.array)(i.JsonStruct),(0,n.record)((0,n.string)(),i.JsonStruct)]))})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/types.cjs"}],[2137,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unique=function(e){return[...new Set(e)]},r.toJson=function(e){return JSON.parse(JSON.stringify(e))},r.ensureDefined=function(e){if(e===undefined)throw new Error("Argument is undefined")},r.throwError=function(e){throw new Error(e)},r.equalsIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},r.sanitizeUrl=function(e){return new URL(e).toString()}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/util.cjs"}],[2138,{"@metamask/keyring-internal-api":2313},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PLATFORM_VERSION_TO_KEYRING_VERSION=void 0,r.getKeyringVersionFromPlatform=function(e){for(const[t,n]of r.PLATFORM_VERSION_TO_KEYRING_VERSION)if(e(t))return n;return n.KeyringVersion.V1};const n=e("@metamask/keyring-internal-api");r.PLATFORM_VERSION_TO_KEYRING_VERSION=[["7.0.0",n.KeyringVersion.V2]]}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/versions.cjs"}],[2139,{"./nil.js":2142,"./parse.js":2143,"./stringify.js":2147,"./v1.js":2148,"./v3.js":2149,"./v4.js":2151,"./v5.js":2152,"./validate.js":2153,"./version.js":2154},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),o=h(e("./v5.js")),a=h(e("./nil.js")),c=h(e("./version.js")),u=h(e("./validate.js")),d=h(e("./stringify.js")),l=h(e("./parse.js"));function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/index.js"}],[2140,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const n=r,h=s,f=d,p=l;r=o(r,s,d,l,e[t],7,-680876936),l=o(l,r,s,d,e[t+1],12,-389564586),d=o(d,l,r,s,e[t+2],17,606105819),s=o(s,d,l,r,e[t+3],22,-1044525330),r=o(r,s,d,l,e[t+4],7,-176418897),l=o(l,r,s,d,e[t+5],12,1200080426),d=o(d,l,r,s,e[t+6],17,-1473231341),s=o(s,d,l,r,e[t+7],22,-45705983),r=o(r,s,d,l,e[t+8],7,1770035416),l=o(l,r,s,d,e[t+9],12,-1958414417),d=o(d,l,r,s,e[t+10],17,-42063),s=o(s,d,l,r,e[t+11],22,-1990404162),r=o(r,s,d,l,e[t+12],7,1804603682),l=o(l,r,s,d,e[t+13],12,-40341101),d=o(d,l,r,s,e[t+14],17,-1502002290),s=o(s,d,l,r,e[t+15],22,1236535329),r=a(r,s,d,l,e[t+1],5,-165796510),l=a(l,r,s,d,e[t+6],9,-1069501632),d=a(d,l,r,s,e[t+11],14,643717713),s=a(s,d,l,r,e[t],20,-373897302),r=a(r,s,d,l,e[t+5],5,-701558691),l=a(l,r,s,d,e[t+10],9,38016083),d=a(d,l,r,s,e[t+15],14,-660478335),s=a(s,d,l,r,e[t+4],20,-405537848),r=a(r,s,d,l,e[t+9],5,568446438),l=a(l,r,s,d,e[t+14],9,-1019803690),d=a(d,l,r,s,e[t+3],14,-187363961),s=a(s,d,l,r,e[t+8],20,1163531501),r=a(r,s,d,l,e[t+13],5,-1444681467),l=a(l,r,s,d,e[t+2],9,-51403784),d=a(d,l,r,s,e[t+7],14,1735328473),s=a(s,d,l,r,e[t+12],20,-1926607734),r=c(r,s,d,l,e[t+5],4,-378558),l=c(l,r,s,d,e[t+8],11,-2022574463),d=c(d,l,r,s,e[t+11],16,1839030562),s=c(s,d,l,r,e[t+14],23,-35309556),r=c(r,s,d,l,e[t+1],4,-1530992060),l=c(l,r,s,d,e[t+4],11,1272893353),d=c(d,l,r,s,e[t+7],16,-155497632),s=c(s,d,l,r,e[t+10],23,-1094730640),r=c(r,s,d,l,e[t+13],4,681279174),l=c(l,r,s,d,e[t],11,-358537222),d=c(d,l,r,s,e[t+3],16,-722521979),s=c(s,d,l,r,e[t+6],23,76029189),r=c(r,s,d,l,e[t+9],4,-640364487),l=c(l,r,s,d,e[t+12],11,-421815835),d=c(d,l,r,s,e[t+15],16,530742520),s=c(s,d,l,r,e[t+2],23,-995338651),r=u(r,s,d,l,e[t],6,-198630844),l=u(l,r,s,d,e[t+7],10,1126891415),d=u(d,l,r,s,e[t+14],15,-1416354905),s=u(s,d,l,r,e[t+5],21,-57434055),r=u(r,s,d,l,e[t+12],6,1700485571),l=u(l,r,s,d,e[t+3],10,-1894986606),d=u(d,l,r,s,e[t+10],15,-1051523),s=u(s,d,l,r,e[t+1],21,-2054922799),r=u(r,s,d,l,e[t+8],6,1873313359),l=u(l,r,s,d,e[t+15],10,-30611744),d=u(d,l,r,s,e[t+6],15,-1560198380),s=u(s,d,l,r,e[t+13],21,1309151649),r=u(r,s,d,l,e[t+4],6,-145523070),l=u(l,r,s,d,e[t+11],10,-1120210379),d=u(d,l,r,s,e[t+2],15,718787259),s=u(s,d,l,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,h),d=i(d,f),l=i(l,p)}return[r,s,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=d}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/md5-browser.js"}],[2141,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/native-browser.js"}],[2142,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/nil.js"}],[2143,{"./validate.js":2153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/parse.js"}],[2144,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/regex.js"}],[2145,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/rng-browser.js"}],[2146,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],d=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,d)+l+t[r]+s[e]>>>0;l=d,d=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/sha1-browser.js"}],[2147,{"./validate.js":2153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/stringify.js"}],[2148,{"./rng.js":2145,"./stringify.js":2147},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var d=function(e,t,r){let n=t&&r||0;const d=t||new Array(16);let l=(e=e||{}).node||o,h=e.clockseq!==undefined?e.clockseq:a;if(null==l||null==h){const t=e.random||(e.rng||i.default)();null==l&&(l=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=a=16383&(t[6]<<8|t[7]))}let f=e.msecs!==undefined?e.msecs:Date.now(),p=e.nsecs!==undefined?e.nsecs:u+1;const m=f-c+(p-u)/1e4;if(m<0&&e.clockseq===undefined&&(h=h+1&16383),(m<0||f>c)&&e.nsecs===undefined&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=p,a=h,f+=122192928e5;const y=(1e4*(268435455&f)+p)%4294967296;d[n++]=y>>>24&255,d[n++]=y>>>16&255,d[n++]=y>>>8&255,d[n++]=255&y;const g=f/4294967296*1e4&268435455;d[n++]=g>>>8&255,d[n++]=255&g,d[n++]=g>>>24&15|16,d[n++]=g>>>16&255,d[n++]=h>>>8|128,d[n++]=255&h;for(let e=0;e<6;++e)d[n+e]=l[e];return t||(0,s.unsafeStringify)(d)};r.default=d}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v1.js"}],[2149,{"./md5.js":2140,"./v35.js":2150},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v3.js"}],[2150,{"./parse.js":2143,"./stringify.js":2147},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v35.js"}],[2151,{"./native.js":2141,"./rng.js":2145,"./stringify.js":2147},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v4.js"}],[2152,{"./sha1.js":2146,"./v35.js":2150},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v5.js"}],[2153,{"./regex.js":2144},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/validate.js"}],[2154,{"./validate.js":2153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/version.js"}],[2167,{"./helpers":2169,"./prefix-for-chain":2171,"./prefix-for-network":2172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountLink=r.createCustomAccountLink=r.createAccountLinkForChain=r.createAccountLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function c(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function u(e,t){return i.addPathToUrl(t,"address",e)}r.createAccountLink=a,r.createAccountLinkForChain=c,r.createCustomAccountLink=u,r.getAccountLink=function(e,t,r={},n=""){return r.blockExplorerUrl?u(e,r.blockExplorerUrl):n?a(e,n):c(e,t)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/account-link.js"}],[2168,{"./helpers":2169,"./prefix-for-chain":2171,"./prefix-for-network":2172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getBlockExplorerLink=r.createExplorerLinkForChain=r.createExplorerLink=r.createCustomExplorerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){return i.addPathToUrl(t,"tx",e)}function c(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}function u(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}r.createCustomExplorerLink=a,r.createExplorerLink=c,r.createExplorerLinkForChain=u,r.getBlockExplorerLink=function(e,t={}){return t.blockExplorerUrl?a(e.hash,t.blockExplorerUrl):e.chainId?u(e.hash,e.chainId):c(e.hash,e.metamaskNetworkId)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/explorer-link.js"}],[2169,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addPathToUrl=void 0,r.addPathToUrl=(e,t,r)=>{const{username:n,password:i,protocol:s,host:o,pathname:a,search:c,hash:u}=new URL(e),d=a.endsWith("/")?`${a}${t}/${r}`:`${a}/${t}/${r}`;return new URL(`${s}//${n?`${n}:${i}`:""}${o}${d}${c}${u}`).toString()}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/helpers.js"}],[2170,{"./account-link":2167,"./explorer-link":2168,"./token-tracker-link":2173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("./account-link"),i=e("./explorer-link"),s=e("./token-tracker-link");t.exports={createExplorerLink:i.createExplorerLink,createCustomExplorerLink:i.createCustomExplorerLink,createExplorerLinkForChain:i.createExplorerLinkForChain,createAccountLink:n.createAccountLink,createCustomAccountLink:n.createCustomAccountLink,createAccountLinkForChain:n.createAccountLinkForChain,createTokenTrackerLink:s.createTokenTrackerLink,createCustomTokenTrackerLink:s.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:s.createTokenTrackerLinkForChain,getBlockExplorerLink:i.getBlockExplorerLink,getAccountLink:n.getAccountLink,getTokenTrackerLink:s.getTokenTrackerLink}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/index.js"}],[2171,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(e){case"0x1":t="";break;case"0x5":t="goerli.";break;case"0xaa36a7":t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js"}],[2172,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(parseInt(e)){case 1:t="";break;case 5:t="goerli.";break;case 11155111:t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"}],[2173,{"./helpers":2169,"./prefix-for-chain":2171,"./prefix-for-network":2172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenTrackerLink=r.createTokenTrackerLinkForChain=r.createCustomTokenTrackerLink=r.createTokenTrackerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t,r){const n=o.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}function c(e,t){return i.addPathToUrl(t,"token",e)}function u(e,t,r){const n=s.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}r.createTokenTrackerLink=a,r.createCustomTokenTrackerLink=c,r.createTokenTrackerLinkForChain=u,r.getTokenTrackerLink=function(e,t,r,n,i={}){return i.blockExplorerUrl?c(e,i.blockExplorerUrl):r?a(e,r,n):u(e,t,n)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/token-tracker-link.js"}],[2174,{"./has-tx-object":2175,"@babel/runtime/helpers/asyncToGenerator":614,"@babel/runtime/helpers/interopRequireDefault":622,"@babel/runtime/regenerator":640,"@metamask/ethjs-filter":2177,"@metamask/ethjs-util":2182,"ethjs-abi":4469,"js-sha3":4753,"promise-to-callback":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/regenerator")),s=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("ethjs-abi"),a=e("@metamask/ethjs-filter"),c=e("@metamask/ethjs-util").getKeys,u=e("js-sha3").keccak_256,d=e("promise-to-callback"),l=e("./has-tx-object");t.exports=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=this;function r(e){return function(){var t,r=[].slice.call(arguments);"function"==typeof r[r.length-1]&&(t=r.pop());var i=function(e){return n.apply(this,arguments)}({methodObject:e,methodArgs:r});return t?d(i)(t):i}}function n(){return(n=(0,s.default)(i.default.mark(function e(r){var n,s,a,c,u,d,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.methodObject,s=r.methodArgs,a="call",c={},l(s)&&(c=s.pop()),(u=Object.assign({},t.defaultTxObject,c,{to:t.address})).data=o.encodeMethod(n,s),!1===n.constant&&(a="sendTransaction"),e.next=9,t.query[a](u);case 9:if(d=e.sent,"call"!==a){e.next=20;break}return e.prev=11,h=o.decodeMethod(n,d),e.abrupt("return",h);case 16:throw e.prev=16,e.t0=e.catch(11),new Error("[ethjs-contract] while formatting incoming raw call data "+JSON.stringify(d)+" "+e.t0);case 20:return e.abrupt("return",d);case 21:case"end":return e.stop()}},e,null,[[11,16]])}))).apply(this,arguments)}t.abi=e.contractABI||[],t.query=e.query,t.address=e.address||"0x",t.bytecode=e.contractBytecode||"0x",t.defaultTxObject=e.contractDefaultTxObject||{},t.filters=new a(t.query),(h=t.abi,h.filter(function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0})).forEach(function(e){"function"===e.type?t[e.name]=r(e):"event"===e.type&&(t[e.name]=function(e){return function(){var r=[].slice.call(arguments),n=c(e.inputs,"type",!1),i=["0x"+u(e.name+"("+n.join(",")+")")],s=Object.assign({},r[0])||{},a=Object.assign({},r[0]||{},{to:t.address,topics:i}),d=Object.assign({},s,{decoder:function(t){return o.decodeEvent(e,t,i)},defaultFilterObject:a});return new t.filters.Filter(d)}}(e))});var h}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/contract.js"}],[2175,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===Object.keys(t).length)return!0;var r=Object.keys(t);if(n.some(function(e){return r.includes(e)}))return!0;return!1}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/has-tx-object.js"}],[2176,{"./contract":2174,"./has-tx-object":2175,"@metamask/ethjs-filter":2177,"@metamask/ethjs-util":2182,"ethjs-abi":4469,"js-sha3":4753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("ethjs-abi"),i=(e("js-sha3").keccak_256,e("@metamask/ethjs-filter"),e("@metamask/ethjs-util").getKeys),s=e("./contract"),o=e("./has-tx-object");t.exports=function(e){return function(t,r,a){if(!Array.isArray(t))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof t);if(void 0!==r&&"string"!=typeof r)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof r);if(void 0!==a&&"object"!=typeof a)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof t);var c={at:function(n){return new s({address:n,query:e,contractBytecode:r,contractDefaultTxObject:a,contractABI:t})},new:function(){var s={},c=null,u=[].slice.call(arguments);"function"==typeof u[u.length-1]&&(c=u.pop()),o(u)&&(s=u.pop());var d=function(e){return e.filter(function(e){return"constructor"===e.type})[0]}(t),l=Object.assign({},a,s);if(r&&(l.data=r),d){var h=n.encodeParams(i(d.inputs,"type"),u).substring(2);l.data=""+l.data+h}return c?e.sendTransaction(l,c):e.sendTransaction(l)}};return c}}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/index.js"}],[2177,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){function r(e){var r=this;r.filterId=null,r.options=Object.assign({delay:300,decoder:function(e){return e},defaultFilterObject:{}},e||{}),r.watchers={},r.interval=setInterval(function(){null!==r.filterId&&Object.keys(r.watchers).length>0&&t.getFilterChanges(r.filterId,function(e,t){var n=[],i=null;if(!e)try{t.forEach(function(e,i){n[i]=t[i],"object"==typeof t[i]&&(n[i].data=r.options.decoder(n[i].data))})}catch(e){i=new Error("[ethjs-filter] while decoding filter change event data from RPC '"+JSON.stringify(n)+"': "+e)}Object.keys(r.watchers).forEach(function(s){var o=r.watchers[s];!0!==o.stop?i?o.callback(i,null):e?o.callback(e,null):Array.isArray(n)&&t.length>0&&o.callback(e,n):delete r.watchers[s]})})},r.options.delay)}return r.prototype.at=function(e){this.filterId=e},r.prototype.watch=function(e){var t=e||function(){},r=this,n=Math.random().toString(36).substring(7);return r.watchers[n]={callback:t,stop:!1,stopWatching:function(){r.watchers[n].stop=!0}},r.watchers[n]},r.prototype.uninstall=function(e){var r=this,n=e||null;r.watchers=Object.assign({}),clearInterval(r.interval);var i=new Promise(function(e,n){t.uninstallFilter(r.filterId,function(t,r){t?n(t):e(r)})});return n&&i.then(function(e){return n(null,e)}).catch(function(e){return n(e,null)}),n?null:i},r.prototype.new=function(){var r=null,n=this,i=[],s=[].slice.call(arguments);"function"==typeof s[s.length-1]&&(r=s.pop()),"Filter"===e&&i.push(Object.assign(n.options.defaultFilterObject,s[s.length-1]||{}));var o=new Promise(function(r,s){i.push(function(e,t){e?s(e):(n.filterId=t,r(t))}),t["new"+e].apply(t,i)});return r&&o.then(function(e){return r(null,e)}).catch(function(e){return r(e,null)}),r?null:o},r}t.exports=function e(t){var r=this;if(!(r instanceof e))throw new Error("the EthFilter object must be instantiated with `new` flag.. (e.g. `const filters = new EthFilter(query);`)");if("object"!=typeof t)throw new Error("the EthFilter object must be instantiated with an EthQuery instance (e.g. `const filters = new EthFilter(new EthQuery(provider));`). See github.com/ethjs/ethjs-query for more details..");r.Filter=n("Filter",t),r.BlockFilter=n("BlockFilter",t),r.PendingTransactionFilter=n("PendingTransactionFilter",t)}}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-filter",file:"node_modules/@metamask/ethjs-filter/lib/index.js"}],[2178,{"@metamask/ethjs-util":2182,"@metamask/number-to-bn":2483,"ethjs-schema":4471,"strip-hex-prefix":5768},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/number-to-bn"),i=e("ethjs-schema"),s=e("@metamask/ethjs-util"),o=s.arrayContainsArray,a=s.getBinarySize,c=s.padToEven,u=e("strip-hex-prefix");function d(e,t,r){if(-1===["string","number","object"].indexOf(typeof e)||null===e)return e;var i=n(e),s=r&&i.toString(16).length%2?"0":"";if(n(e).isNeg())throw new Error("[ethjs-format] while formatting quantity '"+i.toString(10)+"', invalid negative number. Number must be positive or zero.");return t?"0x"+s+i.toString(16):i}function l(e,t){var r=e;return-1===i.tags.indexOf(e)&&(r=d(e,t)),r}function h(e,t){var r=e,n=0;if("string"==typeof e&&(r="0x"+c(u(e)),n=a(r)),"0x00"===r&&(r="0x0"),"number"==typeof t&&null!==e&&"0x"!==r&&"0x0"!==r&&(!/^[0-9A-Fa-f]+$/.test(u(r))||n!==2+2*t))throw new Error("[ethjs-format] hex string '"+r+"' must be an alphanumeric "+(2+2*t)+" utf8 byte hex (chars: a-fA-F) string, is "+n+" bytes");return r}function f(e,t,r){var n=Object.assign({},t),s=null;if("string"==typeof e&&(s="Boolean|EthSyncing"===e?Object.assign({},i.objects.EthSyncing):"DATA|Transaction"===e?Object.assign({},i.objects.Transaction):Object.assign({},i.objects[e])),!o(Object.keys(t),s.__required))throw new Error("[ethjs-format] object "+JSON.stringify(t)+" must contain properties: "+s.__required.join(", "));return Object.keys(s).forEach(function(e){"__required"!==e&&void 0!==t[e]&&(n[e]=m(s[e],t[e],r))}),n}function p(e,t,r,n){var i=t.slice(),s=e;if("Array|DATA"===e&&(s=["D"]),"FilterChange"===e&&"string"==typeof t[0]&&(s=["D32"]),!0===r&&"number"==typeof n&&t.length<n)throw new Error("array "+JSON.stringify(t)+" must contain at least "+n+" params, but only contains "+t.length+".");return s=s.slice(),t.forEach(function(e,t){var n=0;s.length>1&&(n=t),i[t]=m(s[n],e,r)}),i}function m(e,t,r,n){var i=t;return"Q"===e?i=d(t,r):"QP"===e?i=d(t,r,!0):"Q|T"===e?i=l(t,r):"D"===e?i=h(t):"D20"===e?i=h(t,20):"D32"===e?i=h(t,32):"object"==typeof t&&null!==t&&!1===Array.isArray(t)?i=f(e,t,r):Array.isArray(t)&&(i=p(e,t,r,n)),i}t.exports={schema:i,formatQuantity:d,formatQuantityOrTag:l,formatObject:f,formatArray:p,format:m,formatInputs:function(e,t){return m(i.methods[e][0],t,!0,i.methods[e][2])},formatOutputs:function(e,t){return m(i.methods[e][1],t,!1)}}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-format",file:"node_modules/@metamask/ethjs-format/lib/index.js"}],[2179,{"@metamask/ethjs-format":2178,"@metamask/ethjs-rpc":2180,"promise-to-callback":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/ethjs-format"),i=e("@metamask/ethjs-rpc"),s=e("promise-to-callback");function o(e,t){var r=this,n=t||{};if(!(this instanceof o))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof e)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new Eth(provider);')");r.options=Object.assign({debug:n.debug||!1,logger:n.logger||console,jsonSpace:n.jsonSpace||0}),r.rpc=new i(e),r.setProvider=r.rpc.setProvider}function a(e,t){return function(){var r=null,i=null,o=this,a=[].slice.call(arguments),c=e.replace("eth_","");a.length>0&&"function"==typeof a[a.length-1]&&(r=a.pop());var u=function(){var r=this;return new Promise(function(s,u){if(a.length<t[2])u(new Error("[ethjs-query] method '"+c+"' requires at least "+t[2]+" input (format type "+t[0][0]+"), "+a.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else if(a.length>t[0].length)u(new Error("[ethjs-query] method '"+c+"' requires at most "+t[0].length+" params, "+a.length+" provided '"+JSON.stringify(a,null,o.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else{t[3]&&a.length<t[3]&&a.push("latest"),r.log("attempting method formatting for '"+c+"' with inputs "+JSON.stringify(a,null,r.options.jsonSpace));try{i=n.formatInputs(e,a),r.log("method formatting success for '"+c+"' with formatted result: "+JSON.stringify(i,null,r.options.jsonSpace))}catch(e){return void u(new Error("[ethjs-query] while formatting inputs '"+JSON.stringify(a,null,r.options.jsonSpace)+"' for method '"+c+"' error: "+e))}r.rpc.sendAsync({method:e,params:i}).then(function(t){r.log("attempting method formatting for '"+c+"' with raw outputs: "+JSON.stringify(t,null,r.options.jsonSpace));var i=n.formatOutputs(e,t);r.log("method formatting success for '"+c+"' formatted result: "+JSON.stringify(i,null,r.options.jsonSpace)),s(i)}).catch(function(e){u(e)})}})}.call(this);return r?s(u)(r):u}}t.exports=o,o.prototype.log=function(e){this.options.debug&&this.options.logger.log("[ethjs-query log] "+e)},Object.keys(n.schema.methods).forEach(function(e){Object.defineProperty(o.prototype,e.replace("eth_",""),{enumerable:!0,value:a(e,n.schema.methods[e])})})}}},{package:"eth-method-registry>@metamask/ethjs-query",file:"node_modules/@metamask/ethjs-query/lib/index.js"}],[2180,{"promise-to-callback":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("promise-to-callback");function i(e,t){var r=this,n=t||{};if(!(this instanceof i))throw new Error('[ethjs-rpc] the EthRPC object requires the "new" flag in order to function normally (i.e. `const eth = new EthRPC(provider);`).');r.options=Object.assign({jsonSpace:n.jsonSpace||0,max:n.max||9999999999999}),r.idCounter=Math.floor(Math.random()*r.options.max),r.setProvider=function(e){if("object"!=typeof e)throw new Error("[ethjs-rpc] the EthRPC object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new EthRPC(provider);')");r.currentProvider=e},r.setProvider(e)}t.exports=i,i.prototype.sendAsync=function(e,t){var r=this;r.idCounter=r.idCounter%r.options.max;var i,s,o=(i=e,s=r.idCounter++,Object.assign({},{id:s,jsonrpc:"2.0",params:[]},i)),a=new Promise(function(e,t){r.currentProvider.sendAsync(o,function(n,i){var s=i||{};if(n||s.error){var a="[ethjs-rpc] "+(s.error?"rpc":"")+" error with payload "+JSON.stringify(o,null,r.options.jsonSpace)+" "+(n?String(n):JSON.stringify(s.error,null,r.options.jsonSpace)),c=new Error(a);return c.value=n||s.error,void t(c)}e(s.result)})});return t?n(a)(t):a}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-rpc",file:"node_modules/@metamask/ethjs-rpc/lib/index.js"}],[2181,{"@metamask/number-to-bn":2483,"bn.js":4115},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("bn.js"),i=e("@metamask/number-to-bn"),s=new n(0),o=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(e){var t=e?e.toLowerCase():"ether",r=a[t];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function u(e){if("string"==typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"==typeof e)return String(e);if("object"==typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}t.exports={unitMap:a,numberToString:u,getValueOfUnit:c,fromWei:function(e,t,r){var n=i(e),u=n.lt(s),d=c(t),l=a[t].length-1||1,h=r||{};u&&(n=n.mul(o));for(var f=n.mod(d).toString(10);f.length<l;)f="0"+f;h.pad||(f=f.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var p=n.div(d).toString(10);h.commify&&(p=p.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=p+("0"==f?"":"."+f);return u&&(m="-"+m),m},toWei:function(e,t){var r=u(e),i=c(t),s=a[t].length-1||1,d="-"===r.substring(0,1);if(d&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var l=r.split(".");if(l.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var h=l[0],f=l[1];if(h||(h="0"),f||(f="0"),f.length>s)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;f.length<s;)f+="0";h=new n(h),f=new n(f);var p=h.mul(i).add(f);return d&&(p=p.mul(o)),new n(p.toString(10),10)}}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit",file:"node_modules/@metamask/ethjs-unit/lib/index.js"}],[2182,{buffer:4176,"is-hex-prefixed":4730,"strip-hex-prefix":5768},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function s(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function o(e){return"0x"+e.toString(16)}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(e){var t=o(e);return r.from(s(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:s,intToHex:o,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+s(r.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return r.from(s(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi");n.push(s)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-util",file:"node_modules/@metamask/ethjs-util/lib/index.js"}],[2191,{"./constants.cjs":2192,"./decodePermission/index.cjs":2194,"./errors.cjs":2196,"./logger.cjs":2198,"./types.cjs":2199,"./utils.cjs":2200,"@metamask/base-controller":1401,"@metamask/delegation-deployments":2201,"@metamask/snaps-utils":2994,"@metamask/transaction-controller":3085},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,d,l,h,f,p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultGatorPermissionsControllerState=void 0;const m=e("@metamask/base-controller"),y=e("@metamask/delegation-deployments"),g=e("@metamask/snaps-utils"),b=e("@metamask/transaction-controller"),w=e("./constants.cjs"),v=e("./decodePermission/index.cjs"),k=e("./errors.cjs"),_=e("./logger.cjs"),E=e("./types.cjs"),T=e("./utils.cjs"),j="GatorPermissionsController",S=y.DELEGATOR_CONTRACTS[w.DELEGATION_FRAMEWORK_VERSION],P={isGatorPermissionsEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},gatorPermissionsMapSerialized:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},isFetchingGatorPermissions:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},gatorPermissionsProviderSnapId:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},pendingRevocations:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0}};function x(){return{isGatorPermissionsEnabled:!1,gatorPermissionsMapSerialized:(0,T.serializeGatorPermissionsMap)({"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}}),isFetchingGatorPermissions:!1,gatorPermissionsProviderSnapId:"npm:@metamask/gator-permissions-snap",pendingRevocations:[]}}r.getDefaultGatorPermissionsControllerState=x;class B extends m.BaseController{constructor({messenger:e,state:t}){super({name:j,metadata:P,messenger:e,state:{...x(),...t,isFetchingGatorPermissions:!1}}),n.add(this),p(this,n,"m",u).call(this)}get gatorPermissionsMap(){return(0,T.deserializeGatorPermissionsMap)(this.state.gatorPermissionsMapSerialized)}get permissionsProviderSnapId(){return this.state.gatorPermissionsProviderSnapId}async enableGatorPermissions(){p(this,n,"m",s).call(this,!0)}async disableGatorPermissions(){this.update(e=>{e.isGatorPermissionsEnabled=!1,e.gatorPermissionsMapSerialized=(0,T.serializeGatorPermissionsMap)({"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}})})}get pendingRevocations(){return this.state.pendingRevocations}async fetchAndUpdateGatorPermissions(e){try{p(this,n,"m",i).call(this,!0),p(this,n,"m",d).call(this);const t=await p(this,n,"m",l).call(this,{snapId:this.state.gatorPermissionsProviderSnapId,params:e}),r=p(this,n,"m",f).call(this,t);return this.update(e=>{e.gatorPermissionsMapSerialized=(0,T.serializeGatorPermissionsMap)(r)}),r}catch(e){throw(0,_.controllerLog)("Failed to fetch gator permissions",e),new k.GatorPermissionsFetchError({message:"Failed to fetch gator permissions",cause:e})}finally{p(this,n,"m",i).call(this,!1)}}decodePermissionFromPermissionContextForOrigin({origin:e,chainId:t,delegation:{caveats:r,delegator:n,delegate:i,authority:s},metadata:{justification:o,origin:a}}){if(e!==this.permissionsProviderSnapId)throw new k.OriginNotAllowedError({origin:e});const c=S[t];if(!c)throw new Error(`Contracts not found for chainId: ${t}`);try{const e=r.map(e=>e.enforcer),u=(0,v.identifyPermissionByEnforcers)({enforcers:e,contracts:c}),{expiry:d,data:l}=(0,v.getPermissionDataAndExpiry)({contracts:c,caveats:r,permissionType:u});return(0,v.reconstructDecodedPermission)({chainId:t,permissionType:u,delegator:n,delegate:i,authority:s,expiry:d,data:l,justification:o,specifiedOrigin:a})}catch(e){throw new k.PermissionDecodingError({cause:e})}}async submitRevocation(e){(0,_.controllerLog)("submitRevocation method called",{permissionContext:e.permissionContext}),p(this,n,"m",d).call(this);const t={snapId:this.state.gatorPermissionsProviderSnapId,origin:"metamask",handler:g.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:E.GatorPermissionsSnapRpcMethod.PermissionProviderSubmitRevocation,params:e}};try{const r=await this.messenger.call("SnapController:handleRequest",t);await this.fetchAndUpdateGatorPermissions({isRevoked:!1}),(0,_.controllerLog)("Successfully submitted revocation",{permissionContext:e.permissionContext,result:r})}catch(t){if(t instanceof k.GatorPermissionsFetchError)throw(0,_.controllerLog)("Revocation submitted successfully but failed to refresh permissions list",{error:t,permissionContext:e.permissionContext}),new k.GatorPermissionsFetchError({message:"Failed to refresh permissions list after successful revocation",cause:t});throw(0,_.controllerLog)("Failed to submit revocation",{error:t,permissionContext:e.permissionContext}),new k.GatorPermissionsProviderError({method:E.GatorPermissionsSnapRpcMethod.PermissionProviderSubmitRevocation,cause:t})}finally{p(this,n,"m",c).call(this,e.permissionContext)}}async addPendingRevocation(e){const{txId:t,permissionContext:r}=e;(0,_.controllerLog)("addPendingRevocation method called",{txId:t,permissionContext:r}),p(this,n,"m",d).call(this);const i={approved:undefined,rejected:undefined,confirmed:undefined,failed:undefined,dropped:undefined,timeoutId:undefined},s=e=>{this.fetchAndUpdateGatorPermissions({isRevoked:!1}).catch(n=>{(0,_.controllerLog)(`Failed to refresh permissions after ${e}`,{txId:t,permissionContext:r,error:n})})},c=()=>{i.approved&&(this.messenger.unsubscribe("TransactionController:transactionApproved",i.approved),i.approved=undefined),i.rejected&&(this.messenger.unsubscribe("TransactionController:transactionRejected",i.rejected),i.rejected=undefined)},u=(e,t=!0)=>{c(),i.confirmed&&this.messenger.unsubscribe("TransactionController:transactionConfirmed",i.confirmed),i.failed&&this.messenger.unsubscribe("TransactionController:transactionFailed",i.failed),i.dropped&&this.messenger.unsubscribe("TransactionController:transactionDropped",i.dropped),i.timeoutId!==undefined&&clearTimeout(i.timeoutId),t&&p(this,n,"m",a).call(this,e)};i.approved=e=>{e.transactionMeta.id===t&&((0,_.controllerLog)("Transaction approved by user, adding to pending revocations",{txId:t,permissionContext:r}),p(this,n,"m",o).call(this,t,r),c())},i.rejected=e=>{e.transactionMeta.id===t&&((0,_.controllerLog)("Transaction rejected by user, cleaning up listeners",{txId:t,permissionContext:r}),u(e.transactionMeta.id,!1))},i.confirmed=e=>{if(e.id===t){if((0,_.controllerLog)("Transaction confirmed, submitting revocation",{txId:t,permissionContext:r,txHash:e.hash}),e.status!==b.TransactionStatus.confirmed)return(0,_.controllerLog)("Transaction not confirmed, skipping revocation",{txId:t,permissionContext:r,status:e.status}),u(e.id),void s("transaction not confirmed");const n=e.hash;n===undefined&&(0,_.controllerLog)("Failed to resolve transaction hash after revocation transaction confirmed",{txId:t,permissionContext:r,error:new Error("Confirmed transaction is missing transaction hash")}),this.submitRevocation({permissionContext:r,txHash:n}).catch(e=>{(0,_.controllerLog)("Failed to submit revocation after transaction confirmed",{txId:t,permissionContext:r,error:e})}).finally(()=>s("transaction confirmed")),u(e.id)}},i.failed=e=>{e.transactionMeta.id===t&&((0,_.controllerLog)("Transaction failed, cleaning up revocation listener",{txId:t,permissionContext:r,error:e.error}),u(e.transactionMeta.id),s("transaction failed"))},i.dropped=e=>{e.transactionMeta.id===t&&((0,_.controllerLog)("Transaction dropped, cleaning up revocation listener",{txId:t,permissionContext:r}),u(e.transactionMeta.id),s("transaction dropped"))},this.messenger.subscribe("TransactionController:transactionApproved",i.approved),this.messenger.subscribe("TransactionController:transactionRejected",i.rejected),this.messenger.subscribe("TransactionController:transactionConfirmed",i.confirmed),this.messenger.subscribe("TransactionController:transactionFailed",i.failed),this.messenger.subscribe("TransactionController:transactionDropped",i.dropped),i.timeoutId=setTimeout(()=>{(0,_.controllerLog)("Pending revocation timed out, cleaning up listeners",{txId:t,permissionContext:r}),u(t)},72e5)}async submitDirectRevocation(e){p(this,n,"m",d).call(this);const t=`no-tx-${e.permissionContext}`;p(this,n,"m",o).call(this,t,e.permissionContext),await this.submitRevocation(e)}isPendingRevocation(e){return this.state.pendingRevocations.some(t=>t.permissionContext.toLowerCase()===e.toLowerCase())}}n=new WeakSet,i=function(e){this.update(t=>{t.isFetchingGatorPermissions=e})},s=function(e){this.update(t=>{t.isGatorPermissionsEnabled=e})},o=function(e,t){this.update(r=>{r.pendingRevocations=[...r.pendingRevocations,{txId:e,permissionContext:t}]})},a=function(e){this.update(t=>{t.pendingRevocations=t.pendingRevocations.filter(t=>t.txId!==e)})},c=function(e){this.update(t=>{t.pendingRevocations=t.pendingRevocations.filter(t=>t.permissionContext.toLowerCase()!==e.toLowerCase())})},u=function(){this.messenger.registerActionHandler(`${j}:fetchAndUpdateGatorPermissions`,this.fetchAndUpdateGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${j}:enableGatorPermissions`,this.enableGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${j}:disableGatorPermissions`,this.disableGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${j}:decodePermissionFromPermissionContextForOrigin`,this.decodePermissionFromPermissionContextForOrigin.bind(this));const e=`${j}:submitRevocation`;this.messenger.registerActionHandler(e,this.submitRevocation.bind(this)),this.messenger.registerActionHandler(`${j}:addPendingRevocation`,this.addPendingRevocation.bind(this)),this.messenger.registerActionHandler(`${j}:submitDirectRevocation`,this.submitDirectRevocation.bind(this)),this.messenger.registerActionHandler(`${j}:isPendingRevocation`,this.isPendingRevocation.bind(this))},d=function(){if(!this.state.isGatorPermissionsEnabled)throw new k.GatorPermissionsNotEnabledError},l=async function({snapId:e,params:t}){try{return await this.messenger.call("SnapController:handleRequest",{snapId:e,origin:"metamask",handler:g.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:E.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,...t!==undefined&&{params:t}}})}catch(e){throw(0,_.controllerLog)("Failed to handle snap request to gator permissions provider",e),new k.GatorPermissionsProviderError({method:E.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,cause:e})}},h=function(e){const{permissionResponse:t}=e,{dependencies:r,to:n,...i}=t;return{...e,permissionResponse:{...i}}},f=function(e){const t={"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}};if(!e)return t;for(const r of e){const{permissionResponse:{permission:{type:e},chainId:i}}=r,s=Object.prototype.hasOwnProperty.call(t,e)?e:"other";t[s][i]=[...t[s][i]||[],p(this,n,"m",h).call(this,r)]}return t},r.default=B}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/GatorPermissionsController.cjs"}],[2192,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DELEGATION_FRAMEWORK_VERSION=void 0,r.DELEGATION_FRAMEWORK_VERSION="1.3.0"}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/constants.cjs"}],[2193,{"./utils.cjs":2195,"@metamask/delegation-core":1501,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructDecodedPermission=r.getPermissionDataAndExpiry=r.identifyPermissionByEnforcers=void 0;const n=e("@metamask/delegation-core"),i=e("@metamask/utils"),s=e("./utils.cjs");r.identifyPermissionByEnforcers=({enforcers:e,contracts:t})=>{const r=new Map;for(const t of e.map(i.getChecksumAddress))r.set(t,(r.get(t)??0)+1);const n=new Set(r.keys()),o=(0,s.createPermissionRulesForChainId)(t);let a=null;for(const{optionalEnforcers:e,requiredEnforcers:t,permissionType:i}of o){const s=new Set([...e,...t.keys()]);let o=!1;for(const e of n)if(!s.has(e)){o=!0;break}let c=!0;for(const[e,n]of t.entries())if((r.get(e)??0)!==n){c=!1;break}if(c&&!o){if(a)throw new Error("Multiple permission types match");a=i}}if(!a)throw new Error("Unable to identify permission type");return a};r.getPermissionDataAndExpiry=({contracts:e,caveats:t,permissionType:r})=>{const n=t.map(e=>({...e,enforcer:(0,i.getChecksumAddress)(e.enforcer)})),{erc20StreamingEnforcer:o,erc20PeriodicEnforcer:a,nativeTokenStreamingEnforcer:c,nativeTokenPeriodicEnforcer:u,timestampEnforcer:d}=(0,s.getChecksumEnforcersByChainId)(e),l=(0,s.getTermsByEnforcer)({caveats:n,enforcer:d,throwIfNotFound:!1});let h,f=null;switch(l&&(f=(e=>{if(66!==e.length)throw new Error(`Invalid TimestampEnforcer terms length: expected 66 characters (0x + 64 hex), got ${e.length}`);const[t,r]=(0,s.splitHex)(e,[16,16]);if(0!==(0,i.hexToNumber)(t))throw new Error("Invalid expiry: timestampAfterThreshold must be 0");const n=(0,i.hexToNumber)(r);if(0===n)throw new Error("Invalid expiry: timestampBeforeThreshold must be greater than 0");return n})(l)),r){case"erc20-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:o}),[t,r,a,c,u]=(0,s.splitHex)(e,[20,32,32,32,32]);h={tokenAddress:t,initialAmount:r,maxAmount:a,amountPerSecond:c,startTime:(0,i.hexToNumber)(u)};break}case"erc20-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:a}),[t,r,o,c]=(0,s.splitHex)(e,[20,32,32,32]);h={tokenAddress:t,periodAmount:r,periodDuration:(0,i.hexToNumber)(o),startTime:(0,i.hexToNumber)(c)};break}case"native-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:c}),[t,r,o,a]=(0,s.splitHex)(e,[32,32,32,32]);h={initialAmount:t,maxAmount:r,amountPerSecond:o,startTime:(0,i.hexToNumber)(a)};break}case"native-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:u}),[t,r,o]=(0,s.splitHex)(e,[32,32,32]);h={periodAmount:t,periodDuration:(0,i.hexToNumber)(r),startTime:(0,i.hexToNumber)(o)};break}case"erc20-token-revocation":h={};break;default:throw new Error("Invalid permission type")}return{expiry:f,data:h}};r.reconstructDecodedPermission=({chainId:e,permissionType:t,delegator:r,delegate:s,authority:o,expiry:a,data:c,justification:u,specifiedOrigin:d})=>{if(o!==n.ROOT_AUTHORITY)throw new Error("Invalid authority");return{chainId:(0,i.numberToHex)(e),from:r,to:s,permission:{type:t,data:c,justification:u},expiry:a,origin:d}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/decodePermission.cjs"}],[2194,{"./decodePermission.cjs":2193},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructDecodedPermission=r.getPermissionDataAndExpiry=r.identifyPermissionByEnforcers=void 0;var n=e("./decodePermission.cjs");Object.defineProperty(r,"identifyPermissionByEnforcers",{enumerable:!0,get:function(){return n.identifyPermissionByEnforcers}}),Object.defineProperty(r,"getPermissionDataAndExpiry",{enumerable:!0,get:function(){return n.getPermissionDataAndExpiry}}),Object.defineProperty(r,"reconstructDecodedPermission",{enumerable:!0,get:function(){return n.reconstructDecodedPermission}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/index.cjs"}],[2195,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitHex=r.getTermsByEnforcer=r.isSubset=r.createPermissionRulesForChainId=r.getChecksumEnforcersByChainId=void 0;const n=e("@metamask/utils"),i="ERC20PeriodTransferEnforcer",s="ERC20StreamingEnforcer",o="ExactCalldataEnforcer",a="NativeTokenPeriodTransferEnforcer",c="NativeTokenStreamingEnforcer",u="TimestampEnforcer",d="ValueLteEnforcer",l="NonceEnforcer",h="AllowedCalldataEnforcer";r.getChecksumEnforcersByChainId=e=>{const t=t=>{const r=e[t];if(!r)throw new Error(`Contract not found: ${t}`);return(0,n.getChecksumAddress)(r)};return{erc20StreamingEnforcer:t(s),erc20PeriodicEnforcer:t(i),nativeTokenStreamingEnforcer:t(c),nativeTokenPeriodicEnforcer:t(a),exactCalldataEnforcer:t(o),valueLteEnforcer:t(d),timestampEnforcer:t(u),nonceEnforcer:t(l),allowedCalldataEnforcer:t(h)}};r.createPermissionRulesForChainId=e=>{const{erc20StreamingEnforcer:t,erc20PeriodicEnforcer:n,nativeTokenStreamingEnforcer:i,nativeTokenPeriodicEnforcer:s,exactCalldataEnforcer:o,valueLteEnforcer:a,timestampEnforcer:c,nonceEnforcer:u,allowedCalldataEnforcer:d}=(0,r.getChecksumEnforcersByChainId)(e),l=new Set([c]);return[{requiredEnforcers:new Map([[i,1],[o,1],[u,1]]),optionalEnforcers:l,permissionType:"native-token-stream"},{requiredEnforcers:new Map([[s,1],[o,1],[u,1]]),optionalEnforcers:l,permissionType:"native-token-periodic"},{requiredEnforcers:new Map([[t,1],[a,1],[u,1]]),optionalEnforcers:l,permissionType:"erc20-token-stream"},{requiredEnforcers:new Map([[n,1],[a,1],[u,1]]),optionalEnforcers:l,permissionType:"erc20-token-periodic"},{requiredEnforcers:new Map([[d,2],[a,1],[u,1]]),optionalEnforcers:l,permissionType:"erc20-token-revocation"}]};r.isSubset=(e,t)=>{for(const r of e)if(!t.has(r))return!1;return!0},r.getTermsByEnforcer=function({caveats:e,enforcer:t,throwIfNotFound:r}){const n=e.filter(e=>e.enforcer===t);if(0===n.length){if(r??1)throw new Error("Invalid caveats");return null}if(n.length>1)throw new Error("Invalid caveats");return n[0].terms},r.splitHex=function(e,t){let r=2;const n=[];for(const i of t){const t=2*i,s=e.slice(r,r+t);r+=t,n.push(`0x${s}`)}return n}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/utils.cjs"}],[2196,{"./types.cjs":2199},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PermissionDecodingError=r.OriginNotAllowedError=r.GatorPermissionsProviderError=r.GatorPermissionsNotEnabledError=r.GatorPermissionsMapSerializationError=r.GatorPermissionsFetchError=r.GatorPermissionsControllerError=void 0;const n=e("./types.cjs");class i extends Error{constructor({cause:e,message:t,code:r}){super(t),this.cause=e,this.code=r}}r.GatorPermissionsControllerError=i;r.GatorPermissionsFetchError=class extends i{constructor({cause:e,message:t}){super({cause:e,message:t,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsFetchError})}};r.GatorPermissionsMapSerializationError=class extends i{constructor({cause:e,message:t,data:r}){super({cause:e,message:t,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsMapSerializationError}),this.data=r}};r.GatorPermissionsNotEnabledError=class extends i{constructor(){super({cause:new Error("Gator permissions are not enabled"),message:"Gator permissions are not enabled",code:n.GatorPermissionsControllerErrorCode.GatorPermissionsNotEnabled})}};r.GatorPermissionsProviderError=class extends i{constructor({cause:e,method:t}){super({cause:e,message:`Failed to handle snap request to gator permissions provider for method ${t}`,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsProviderError})}};r.OriginNotAllowedError=class extends i{constructor({origin:e}){const t=`Origin ${e} not allowed`;super({cause:new Error(t),message:t,code:n.GatorPermissionsControllerErrorCode.OriginNotAllowedError})}};r.PermissionDecodingError=class extends i{constructor({cause:e}){super({cause:e,message:"Failed to decode permission",code:n.GatorPermissionsControllerErrorCode.PermissionDecodingError})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/errors.cjs"}],[2197,{"./GatorPermissionsController.cjs":2191,"./constants.cjs":2192,"./utils.cjs":2200},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.DELEGATION_FRAMEWORK_VERSION=r.deserializeGatorPermissionsMap=r.serializeGatorPermissionsMap=r.GatorPermissionsController=void 0;var i=e("./GatorPermissionsController.cjs");Object.defineProperty(r,"GatorPermissionsController",{enumerable:!0,get:function(){return n(i).default}});var s=e("./utils.cjs");Object.defineProperty(r,"serializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.serializeGatorPermissionsMap}}),Object.defineProperty(r,"deserializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.deserializeGatorPermissionsMap}});var o=e("./constants.cjs");Object.defineProperty(r,"DELEGATION_FRAMEWORK_VERSION",{enumerable:!0,get:function(){return o.DELEGATION_FRAMEWORK_VERSION}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/index.cjs"}],[2198,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.utilsLog=r.controllerLog=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("gator-permissions-controller"),r.controllerLog=(0,n.createModuleLogger)(r.projectLogger,"GatorPermissionsController"),r.utilsLog=(0,n.createModuleLogger)(r.projectLogger,"utils")}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/logger.cjs"}],[2199,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.GatorPermissionsSnapRpcMethod=r.GatorPermissionsControllerErrorCode=void 0,function(e){e.GatorPermissionsFetchError="gator-permissions-fetch-error",e.GatorPermissionsNotEnabled="gator-permissions-not-enabled",e.GatorPermissionsProviderError="gator-permissions-provider-error",e.GatorPermissionsMapSerializationError="gator-permissions-map-serialization-error",e.PermissionDecodingError="permission-decoding-error",e.OriginNotAllowedError="origin-not-allowed-error"}(n||(r.GatorPermissionsControllerErrorCode=n={})),function(e){e.PermissionProviderGetGrantedPermissions="permissionsProvider_getGrantedPermissions",e.PermissionProviderSubmitRevocation="permissionsProvider_submitRevocation"}(i||(r.GatorPermissionsSnapRpcMethod=i={}))}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/types.cjs"}],[2200,{"./errors.cjs":2196,"./logger.cjs":2198},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeGatorPermissionsMap=r.serializeGatorPermissionsMap=void 0;const n=e("./errors.cjs"),i=e("./logger.cjs");r.serializeGatorPermissionsMap=function(e){try{return JSON.stringify(e)}catch(t){throw(0,i.utilsLog)("Failed to serialize gator permissions map",t),new n.GatorPermissionsMapSerializationError({cause:t,message:"Failed to serialize gator permissions map",data:e})}},r.deserializeGatorPermissionsMap=function(e){try{return JSON.parse(e)}catch(t){throw(0,i.utilsLog)("Failed to deserialize gator permissions map",t),new n.GatorPermissionsMapSerializationError({cause:t,message:"Failed to deserialize gator permissions map",data:e})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/utils.cjs"}],[2201,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},i={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},s={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},o={mainnet:1,optimism:10,bsc:56,gnosis:100,polygon:137,base:8453,arbitrum:42161,linea:59144,berachain:80094,unichain:130,arbitrumNova:42170,bscTestnet:97,megaEthTestnet:6342,chiado:10200,lineaSepolia:59141,berachainBepolia:80069,baseSepolia:84532,arbitrumSepolia:421614,sepolia:11155111,optimismSepolia:11155420,unichainSepolia:1301,polygonAmoy:80002,monadTestnet:10143,lineaGoerli:59140},a={"1.0.0":{[o.optimism]:s,[o.polygon]:s,[o.base]:s,[o.arbitrum]:s,[o.linea]:s,[o.sepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[o.lineaSepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[o.arbitrum]:i,[o.base]:i,[o.linea]:i,[o.optimism]:i,[o.polygon]:i,[o.sepolia]:i,[o.lineaSepolia]:i,[o.baseSepolia]:{...i,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[o.mainnet]:n,[o.polygon]:n,[o.bsc]:n,[o.optimism]:n,[o.arbitrum]:n,[o.linea]:n,[o.base]:n,[o.gnosis]:n,[o.berachain]:n,[o.unichain]:n,[o.arbitrumNova]:n,[o.sepolia]:n,[o.lineaSepolia]:n,[o.baseSepolia]:n,[o.megaEthTestnet]:n,[o.chiado]:n,[o.bscTestnet]:n,[o.optimismSepolia]:n,[o.arbitrumSepolia]:n,[o.berachainBepolia]:n,[o.unichainSepolia]:n,[o.polygonAmoy]:n,[o.monadTestnet]:n}};r.CHAIN_ID=o,r.DELEGATOR_CONTRACTS=a}}},{package:"@metamask/gator-permissions-controller>@metamask/delegation-deployments",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/delegation-deployments/dist/index.js"}],[2202,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"]}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/colors.js"}],[2203,{"./colors":2202,"./paper":2209,color:2208,"mersenne-twister":5014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=e("mersenne-twister"),s=e("./paper"),o=e("color"),a=e("./colors"),c="http://www.w3.org/2000/svg";function u(e,t,r,i,s){var o=t/2,a=document.createElementNS(c,"rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",t),a.setAttributeNS(null,"height",t);var u=n.random(),l=2*Math.PI*u,h=t/i*n.random()+r*t/i,f=Math.cos(l)*h,p=Math.sin(l)*h,m="translate("+f.toFixed(14)+" "+p.toFixed(14)+")"+" "+("rotate("+(360*u+180*n.random()).toFixed(1)+" "+o.toFixed(14)+" "+o.toFixed(14)+")");a.setAttributeNS(null,"transform",m);var y=d(e);a.setAttributeNS(null,"fill",y),s.appendChild(a)}function d(e){n.random();var t=Math.floor(e.length*n.random());return e.splice(t,1)[0]}t.exports=function(e,t){n=new i(t);var r=function(e,t){var r=30*t.random()-l/2;return e.map(function(e){var t=o(e);return t.rotate(r),t.hexString()})}(a.slice(),n),h=s(e,d(r)).container,f=document.createElementNS(c,"svg");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width",e),f.setAttributeNS(null,"height",e),h.appendChild(f);for(var p=0;p<3;p++)u(r,e,p,3,f);return h};var l=30}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/index.js"}],[2204,{"color-name":2207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("color-name"),i={};for(var s in n)n.hasOwnProperty(s)&&(i[n[s]]=s);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=o[a].channels,u=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:c}),Object.defineProperty(o[a],"labels",{value:u})}function d(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}o.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(n,i,s),a=Math.max(n,i,s),c=a-o;return a===o?t=0:n===a?t=(i-s)/c:i===a?t=2+(s-n)/c:s===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(o+a)/2,[t,100*(a===o?0:r<=.5?c/(a+o):c/(2-a-o)),100*r]},o.rgb.hsv=function(e){var t,r,n,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),d=u-Math.min(o,a,c),l=function(e){return(u-e)/6/d+.5};return 0===d?i=s=0:(s=d/u,t=l(o),r=l(a),n=l(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*u]},o.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},o.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,s=Infinity;for(var o in n)if(n.hasOwnProperty(o)){var a=d(e,n[o]);a<s&&(s=a,r=o)}return r},o.keyword.rgb=function(e){return n[e]},o.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.hsl.rgb=function(e){var t,r,n,i,s,o=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[s=255*c,s,s];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,s=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*s;return i},o.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=s<=1?s:2-s,[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}},o.hsv.hsl=function(e){var t,r,n,i=e[0],s=e[1]/100,o=e[2]/100,a=Math.max(o,.01);return n=(2-s)*o,r=s*a,[i,100*(r=(r/=(t=(2-s)*a)<=1?t:2-t)||0),100*(n/=2)]},o.hwb.rgb=function(e){var t,r,n,i,s,o,a,c=e[0]/360,u=e[1]/100,d=e[2]/100,l=u+d;switch(l>1&&(u/=l,d/=l),n=6*c-(t=Math.floor(6*c)),1&t&&(n=1-n),i=u+n*((r=1-d)-u),t){default:case 6:case 0:s=r,o=i,a=u;break;case 1:s=i,o=r,a=u;break;case 2:s=u,o=r,a=i;break;case 3:s=u,o=i,a=r;break;case 4:s=i,o=u,a=r;break;case 5:s=r,o=u,a=i}return[255*s,255*o,255*a]},o.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(e){var t,r,n,i=e[0]/100,s=e[1]/100,o=e[2]/100;return r=-.9689*i+1.8758*s+.0415*o,n=.0557*i+-.204*s+1.057*o,t=(t=3.2406*i+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var s=Math.pow(r,3),o=Math.pow(t,3),a=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},o.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},o.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.max(Math.max(r,n),i),o=Math.min(Math.min(r,n),i),a=s-o;return t=a<=0?0:s===r?(n-i)/a%6:s===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},o.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,s=[0,0,0],o=t%1*6,a=o%1,c=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return i=(1-r)*n,[255*(r*s[0]+i),255*(r*s[1]+i),255*(r*s[2]+i)]},o.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},o.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},o.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},o.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/conversions.js"}],[2205,{"./conversions":2204,"./route":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./conversions"),i=e("./route"),s={};Object.keys(n).forEach(function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:n[e].channels}),Object.defineProperty(s[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach(function(r){var n=t[r];s[e][r]=function(e){var t=function(t){if(t===undefined||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),s[e][r].raw=function(e){var t=function(t){return t===undefined||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),t.exports=s}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/index.js"}],[2206,{"./conversions":2204},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./conversions");function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),s=Object.keys(n[i]),o=s.length,a=0;a<o;a++){var c=s[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}function s(e,t){return function(r){return t(e(r))}}function o(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],o=t[e].parent;t[o].parent;)r.unshift(t[o].parent),i=s(n[t[o].parent][o],i),o=t[o].parent;return i.conversion=r,i}t.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),s=n.length,a=0;a<s;a++){var c=n[a];null!==t[c].parent&&(r[c]=o(c,t))}return r}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/route.js"}],[2207,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}}},{package:"@metamask/jazzicon>color>color-convert>color-name",file:"node_modules/@metamask/jazzicon/node_modules/color-name/index.js"}],[2208,{clone:4210,"color-convert":2205,"color-string":4241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("clone"),i=e("color-convert"),s=e("color-string"),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);var t;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=s.getRgba(e))this.setValues("rgb",t);else if(t=s.getHsla(e))this.setValues("hsl",t);else{if(!(t=s.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if((t=e).r!==undefined||t.red!==undefined)this.setValues("rgb",t);else if(t.l!==undefined||t.lightness!==undefined)this.setValues("hsl",t);else if(t.v!==undefined||t.value!==undefined)this.setValues("hsv",t);else if(t.w!==undefined||t.whiteness!==undefined)this.setValues("hwb",t);else{if(t.c===undefined&&t.cyan===undefined)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},rgbaArrayNormalized:function(){for(var e=this.values.rgb,t=[],r=0;r<3;r++)t[r]=e[r]/255;return t.push(this.values.alpha),t},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(e){return e===undefined?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return s.hexString(this.values.rgb)},rgbString:function(){return s.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return s.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return s.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return s.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return s.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return s.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return s.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t=(t+e)%360)<0?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){var r=this,n=e,i=t===undefined?.5:t,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,c=1-a;return this.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue()).alpha(r.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e=new o;return e.values=n(this.values),e}},o.prototype.getValues=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=this.values[e][r];return 1!==this.values.alpha&&(t.a=this.values.alpha),t},o.prototype.setValues=function(e,t){var r,n,s={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"===e)a=t;else if(t.length)this.values[e]=t.slice(0,e.length),a=t[e.length];else if(t[e.charAt(0)]!==undefined){for(r=0;r<e.length;r++)this.values[e][r]=t[e.charAt(r)];a=t.a}else if(t[s[e][0]]!==undefined){var c=s[e];for(r=0;r<e.length;r++)this.values[e][r]=t[c[r]];a=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,a===undefined?this.values.alpha:a)),"alpha"===e)return!1;for(r=0;r<e.length;r++)n=Math.max(0,Math.min(o[e][r],this.values[e][r])),this.values[e][r]=Math.round(n);for(var u in s)for(u!==e&&(this.values[u]=i[e][u](this.values[e])),r=0;r<u.length;r++)n=Math.max(0,Math.min(o[u][r],this.values[u][r])),this.values[u][r]=Math.round(n);return!0},o.prototype.setSpace=function(e,t){var r=t[0];return r===undefined?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r),this)},o.prototype.setChannel=function(e,t,r){return r===undefined?this.values[e][t]:(r===this.values[e][t]||(this.values[e][t]=r,this.setValues(e,this.values[e])),this)},t.exports=o}}},{package:"@metamask/jazzicon>color",file:"node_modules/@metamask/jazzicon/node_modules/color/index.js"}],[2209,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=document.createElement("div");return r.style.borderRadius="50px",r.style.overflow="hidden",r.style.padding="0px",r.style.margin="0px",r.style.width=e+"px",r.style.height=e+"px",r.style.display="inline-block",r.style.background=t,{container:r}}}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/paper.js"}],[2210,{"./v2/utils.cjs":2225,"@metamask/rpc-errors":2692,"@metamask/safe-event-emitter":2694,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,d,l,h,f,p,m,y=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},g=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngine=void 0;const w=e("@metamask/rpc-errors"),v=b(e("@metamask/safe-event-emitter")),k=e("@metamask/utils"),_=e("./v2/utils.cjs");class E extends v.default{constructor({notificationHandler:e}={}){super(),n.add(this),s.set(this,!1),o.set(this,void 0),a.set(this,void 0),y(this,o,[],"f"),y(this,a,e,"f")}destroy(){g(this,o,"f").forEach(e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}),y(this,o,[],"f"),y(this,s,!0,"f")}push(e){g(this,n,"m",c).call(this),g(this,o,"f").push(e)}handle(e,t){if(g(this,n,"m",c).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?g(this,n,"m",u).call(this,e,t):g(this,n,"m",u).call(this,e):t?g(this,n,"m",d).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return g(this,n,"m",c).call(this),async(e,t,r,n)=>{try{const[s,a,c]=await g(i,i,"m",h).call(i,e,t,g(this,o,"f"));return a?(await g(i,i,"m",p).call(i,c),n(s)):r(async e=>{try{await g(i,i,"m",p).call(i,c)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _promiseHandle(e){return new Promise((t,r)=>{g(this,n,"m",d).call(this,e,(e,n)=>{e&&n===undefined?r(e):t(n)}).catch(r)})}}r.JsonRpcEngine=E,i=E,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=function(){if(g(this,s,"f"))throw new Error("This engine is destroyed and can no longer be used.")},u=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new w.JsonRpcError(w.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const r=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(e=>e!==undefined);return t?t(null,r):r}catch(e){if(t)return t(e);throw e}},d=async function(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new w.JsonRpcError(w.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:null,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new w.JsonRpcError(w.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return g(this,a,"f")&&!(0,k.isJsonRpcRequest)(e)?t(null):t(r,{id:e.id??null,jsonrpc:"2.0",error:r})}if(g(this,a,"f")&&(0,k.isJsonRpcNotification)(e)&&!(0,k.isJsonRpcRequest)(e)){try{await g(this,a,"f").call(this,e)}catch(r){return t(r)}return t(null)}let r=null;const n={...e},s={id:n.id,jsonrpc:n.jsonrpc};try{await g(i,i,"m",l).call(i,n,s,g(this,o,"f"))}catch(e){r=e}return r&&(delete s.result,s.error??(s.error=(0,w.serializeError)(r))),t(r,s)},l=async function(e,t,r){const[n,s,o]=await g(i,i,"m",h).call(i,e,t,r);if(g(i,i,"m",m).call(i,e,t,s),await g(i,i,"m",p).call(i,o),n)throw n},h=async function(e,t,r){const n=[];let s=null,o=!1;for(const a of r)if([s,o]=await g(i,i,"m",f).call(i,e,t,a,n),o)break;return[s,o,n.reverse()]},f=async function(e,t,r,n){return new Promise(i=>{const s=e=>{const r=e??t.error;r&&(t.error=(0,w.serializeError)(r)),i([r,!0])},o=r=>{t.error?s(t.error):(r&&("function"!=typeof r&&s(new w.JsonRpcError(w.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${(0,_.stringify)(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,o,s)}catch(e){s(e)}})},p=async function(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})},m=function(e,t,r){if(!(0,k.hasProperty)(t,"result")&&!(0,k.hasProperty)(t,"error"))throw new w.JsonRpcError(w.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${(0,_.stringify)(e)}`,{request:e});if(!r)throw new w.JsonRpcError(w.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${(0,_.stringify)(e)}`,{request:e})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/JsonRpcEngine.cjs"}],[2211,{"./mergeMiddleware.cjs":2217,"./v2/compatibility-utils.cjs":2222,"@metamask/rpc-errors":2692,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asV2Middleware=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("./mergeMiddleware.cjs"),o=e("./v2/compatibility-utils.cjs");r.asV2Middleware=function(e,...t){const r="function"==typeof e?(0,s.mergeMiddleware)([e,...t]):e.asMiddleware();return async({request:e,context:t,next:s})=>{const a=(0,o.deepClone)(e);(0,o.propagateToRequest)(a,t);const c=await new Promise(e=>{const t={jsonrpc:"2.0",id:a.id},i=r=>{r!==undefined&&(t.error=(0,n.serializeError)(r)),e(t)};r(a,t,e=>e(i),i)});if((0,o.propagateToContext)(a,t),(0,i.hasProperty)(c,"error")&&c.error)throw(0,o.deserializeError)(c.error);return(0,i.hasProperty)(c,"result")?c.result:s((0,o.fromLegacyRequest)(a))}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/asV2Middleware.cjs"}],[2212,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=void 0,r.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let s;const o=new Promise(e=>{s=e});let a=null,c=!1;const u=async()=>(c=!0,n(e=>{a=e,s()}),o);try{await e(t,r,u),c?(await o,a(null)):i(null)}catch(e){a?a(e):i(e)}}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createAsyncMiddleware.cjs"}],[2213,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const s=e[t.method];return s===undefined?n():"function"==typeof s?s(t,r,n,i):(r.result=s,i())}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createScaffoldMiddleware.cjs"}],[2214,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getUniqueId=void 0;const n=4294967295;let i=Math.floor(Math.random()*n);r.getUniqueId=function(){return i=(i+1)%n,i}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/getUniqueId.cjs"}],[2215,{"./getUniqueId.cjs":2214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIdRemapMiddleware=void 0;const n=e("./getUniqueId.cjs");r.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const s=e.id,o=(0,n.getUniqueId)();e.id=o,t.id=o,r(r=>{e.id=s,t.id=s,r()})}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/idRemapMiddleware.cjs"}],[2216,{"./JsonRpcEngine.cjs":2210,"./asV2Middleware.cjs":2211,"./createAsyncMiddleware.cjs":2212,"./createScaffoldMiddleware.cjs":2213,"./getUniqueId.cjs":2214,"./idRemapMiddleware.cjs":2215,"./mergeMiddleware.cjs":2217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=r.JsonRpcEngine=r.createIdRemapMiddleware=r.getUniqueId=r.createScaffoldMiddleware=r.createAsyncMiddleware=r.asV2Middleware=void 0;var n=e("./asV2Middleware.cjs");Object.defineProperty(r,"asV2Middleware",{enumerable:!0,get:function(){return n.asV2Middleware}});var i=e("./createAsyncMiddleware.cjs");Object.defineProperty(r,"createAsyncMiddleware",{enumerable:!0,get:function(){return i.createAsyncMiddleware}});var s=e("./createScaffoldMiddleware.cjs");Object.defineProperty(r,"createScaffoldMiddleware",{enumerable:!0,get:function(){return s.createScaffoldMiddleware}});var o=e("./getUniqueId.cjs");Object.defineProperty(r,"getUniqueId",{enumerable:!0,get:function(){return o.getUniqueId}});var a=e("./idRemapMiddleware.cjs");Object.defineProperty(r,"createIdRemapMiddleware",{enumerable:!0,get:function(){return a.createIdRemapMiddleware}});var c=e("./JsonRpcEngine.cjs");Object.defineProperty(r,"JsonRpcEngine",{enumerable:!0,get:function(){return c.JsonRpcEngine}});var u=e("./mergeMiddleware.cjs");Object.defineProperty(r,"mergeMiddleware",{enumerable:!0,get:function(){return u.mergeMiddleware}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/index.cjs"}],[2217,{"./JsonRpcEngine.cjs":2210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=void 0;const n=e("./JsonRpcEngine.cjs");r.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/mergeMiddleware.cjs"}],[2218,{"./MiddlewareContext.cjs":2220,"./utils.cjs":2225,"@metamask/utils":3207,"deep-freeze-strict":4328},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,d,l,h=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},f=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineV2=void 0;const m=e("@metamask/utils"),y=p(e("deep-freeze-strict")),g=e("./MiddlewareContext.cjs"),b=e("./utils.cjs");Symbol("Invalid engine");class w{constructor({middleware:e}){n.add(this),i.set(this,void 0),s.set(this,!1),h(this,i,[...e],"f")}static create({middleware:e}){if(0===e.length)throw new b.JsonRpcEngineError("Middleware array cannot be empty");return new w({middleware:e})}async handle(e,{context:t}={}){const r=(0,b.isRequest)(e),{result:i}=await f(this,n,"m",o).call(this,e,t);if(r&&i===undefined)throw new b.JsonRpcEngineError(`Nothing ended request: ${(0,b.stringify)(e)}`);return i}asMiddleware(){return f(this,n,"m",l).call(this),async({request:e,context:t,next:r})=>{const{result:i,request:s}=await f(this,n,"m",o).call(this,e,t);return i===undefined?await r(s):i}}async destroy(){if(f(this,s,"f"))return;h(this,s,!0,"f");const e=Promise.all(f(this,i,"f").map(async e=>"destroy"in e&&"function"==typeof e.destroy?e.destroy():undefined));h(this,i,[],"f"),await e}}r.JsonRpcEngineV2=w,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=async function(e,t=new g.MiddlewareContext){f(this,n,"m",l).call(this),(0,y.default)(e);const r={request:e,result:undefined},i=f(this,n,"m",c).call(this),s=i.next().value,o=g.MiddlewareContext.isInstance(t)?t:new g.MiddlewareContext(t),d=f(this,n,"m",a).call(this,i,r,o),h=await s({request:e,context:o,next:d()});return f(this,n,"m",u).call(this,h,r),r},a=function(e,t,r){const i=()=>{let s=!1;return async(o=t.request)=>{if(s)throw new b.JsonRpcEngineError(`Middleware attempted to call next() multiple times for request: ${(0,b.stringify)(o)}`);s=!0,o!==t.request&&(f(this,n,"m",d).call(this,t.request,o),t.request=(0,y.default)(o));const{value:a,done:c}=e.next();if(c)return undefined;const l=await a({request:o,context:r,next:i()});return f(this,n,"m",u).call(this,l,t),t.result}};return i},c=function(){return f(this,i,"f")[Symbol.iterator]()},u=function(e,t){if((0,b.isNotification)(t.request)&&e!==undefined)throw new b.JsonRpcEngineError(`Result returned for notification: ${(0,b.stringify)(t.request)}`);e!==undefined&&e!==t.result&&("object"==typeof e&&null!==e&&(0,y.default)(e),t.result=e)},d=function(e,t){if(t.jsonrpc!==e.jsonrpc)throw new b.JsonRpcEngineError(`Middleware attempted to modify readonly property "jsonrpc" for request: ${(0,b.stringify)(e)}`);if((0,m.hasProperty)(t,"id")!==(0,m.hasProperty)(e,"id")||t.id!==e.id)throw new b.JsonRpcEngineError(`Middleware attempted to modify readonly property "id" for request: ${(0,b.stringify)(e)}`)},l=function(){if(f(this,s,"f"))throw new b.JsonRpcEngineError("Engine is destroyed")}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/JsonRpcEngineV2.cjs"}],[2219,{"../getUniqueId.cjs":2214,"./JsonRpcEngineV2.cjs":2218,"@metamask/rpc-errors":2692,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcServer=void 0;const u=e("@metamask/rpc-errors"),d=e("@metamask/utils"),l=e("./JsonRpcEngineV2.cjs"),h=e("../getUniqueId.cjs"),f="2.0";class p{constructor(e){i.set(this,void 0),s.set(this,void 0),a(this,s,e.onError,"f"),(0,d.hasProperty)(e,"engine")?a(this,i,e.engine,"f"):a(this,i,l.JsonRpcEngineV2.create({middleware:e.middleware}),"f")}async handle(e,t){const[r,a]=function(e){if((0,d.isObject)(e)&&(0,d.hasProperty)(e,"id"))return[e.id,!0];return[undefined,!1]}(e);try{const s=c(n,n,"m",o).call(n,e,a),u=await c(this,i,"f").handle(s,t);if(u!==undefined)return{jsonrpc:f,id:r,result:u}}catch(e){if(c(this,s,"f")?.call(this,e),a)return{jsonrpc:f,id:r,error:(0,u.serializeError)(e,{shouldIncludeStack:!1,shouldPreserveMessage:!0})}}return undefined}}r.JsonRpcServer=p,n=p,i=new WeakMap,s=new WeakMap,o=function(e,t){if(!function(e){return(0,d.isObject)(e)&&(0,d.hasProperty)(e,"method")&&"string"==typeof e.method&&function(e){if((0,d.hasProperty)(e,"params"))return Array.isArray(e.params)||(0,d.isObject)(e.params);return!0}(e)}(e))throw u.rpcErrors.invalidRequest({data:{request:e}});const r={jsonrpc:f,method:e.method};return(0,d.hasProperty)(e,"params")&&(r.params=e.params),t&&(r.id=(0,h.getUniqueId)()),r}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/JsonRpcServer.cjs"}],[2220,{"./utils.cjs":2225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.MiddlewareContext=void 0;const i=e("./utils.cjs"),s=Symbol.for("json-rpc-engine#MiddlewareContext");class o extends Map{static isInstance(e){return(0,i.isInstance)(e,s)}constructor(e){var t,r;super(e&&(r=e,Symbol.iterator in r)?e:(t=e??{},Reflect.ownKeys(t).map(e=>[e,t[e]]))),this[n]=!0,Object.freeze(this)}get(e){return super.get(e)}assertGet(e){if(!super.has(e))throw new Error(`Context key "${String(e)}" not found`);return super.get(e)}set(e,t){if(super.has(e))throw new Error(`MiddlewareContext key "${String(e)}" already exists`);return super.set(e,t),this}}r.MiddlewareContext=o,n=s}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/MiddlewareContext.cjs"}],[2221,{"../index.cjs":2216,"./JsonRpcEngineV2.cjs":2218,"./compatibility-utils.cjs":2222},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asLegacyMiddleware=void 0;const n=e("./compatibility-utils.cjs"),i=e("./JsonRpcEngineV2.cjs"),s=e("../index.cjs");r.asLegacyMiddleware=function(e,...t){const r="function"==typeof e?i.JsonRpcEngineV2.create({middleware:[e,...t]}).asMiddleware():e.asMiddleware();return(0,s.createAsyncMiddleware)(async(e,t,i)=>{const s=(0,n.fromLegacyRequest)(e),o=(0,n.makeContext)(e);let a;const c=await r({request:s,context:o,next:e=>(a=e,Promise.resolve(undefined))});return a!==undefined&&a!==s&&Object.assign(e,(0,n.deepClone)(a)),(0,n.propagateToRequest)(e,o),c!==undefined?(t.result=(0,n.deepClone)(c),undefined):i()})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/asLegacyMiddleware.cjs"}],[2222,{"./MiddlewareContext.cjs":2220,"./utils.cjs":2225,"@metamask/rpc-errors":2692,"@metamask/utils":3207,klona:4791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeError=r.propagateToRequest=r.propagateToContext=r.makeContext=r.fromLegacyRequest=r.requestProps=r.deepClone=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("klona"),o=e("./MiddlewareContext.cjs"),a=e("./utils.cjs");function c(e,t){Object.keys(e).filter(e=>"string"==typeof e&&!r.requestProps.includes(e)&&!t.has(e)).forEach(r=>{t.set(r,e[r])})}r.deepClone=e=>(0,s.klona)(e),r.requestProps=["jsonrpc","method","params","id"],r.fromLegacyRequest=function(e){const t={jsonrpc:"2.0",method:e.method};return t.id=e.id,(0,i.hasProperty)(e,"params")&&e.params!==undefined&&(t.params=(0,r.deepClone)(e.params)),t},r.makeContext=function(e){const t=new o.MiddlewareContext;return c(e,t),t},r.propagateToContext=c,r.propagateToRequest=function(e,t){Array.from(t.keys()).filter(e=>"string"==typeof e&&!r.requestProps.includes(e)).forEach(r=>{e[r]=t.get(r)})},r.deserializeError=function(e){if("function"==typeof Error.isError&&Error.isError(e))return e;if(e instanceof Error)return e;if("string"==typeof e)return new Error(e);if(!(0,i.isObject)(e))return new Error(`Unknown error: ${(0,a.stringify)(e)}`);const t="number"==typeof e.code&&Number.isInteger(e.code)?e.code:undefined;let r="Unknown error";"string"==typeof e.message?r=e.message:"number"==typeof t&&(r=(0,n.getMessageFromCode)(t,r));const{stack:s,cause:o,data:c}=e,u=t===undefined?new Error(r,{cause:o}):new n.JsonRpcError(t,r,function(e,t){return(0,i.isObject)(e)?{...e,cause:t}:(0,i.isValidJson)(e)?e:{cause:t}}(c,o));return"string"==typeof s&&(u.stack=s),u}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/compatibility-utils.cjs"}],[2223,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return({request:t,context:r,next:n})=>{const i=e[t.method];return i===undefined?n():"function"==typeof i?i({request:t,context:r,next:n}):i}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/createScaffoldMiddleware.cjs"}],[2224,{"../getUniqueId.cjs":2214,"./JsonRpcEngineV2.cjs":2218,"./JsonRpcServer.cjs":2219,"./MiddlewareContext.cjs":2220,"./asLegacyMiddleware.cjs":2221,"./createScaffoldMiddleware.cjs":2223,"./utils.cjs":2225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineError=r.isRequest=r.isNotification=r.MiddlewareContext=r.JsonRpcServer=r.JsonRpcEngineV2=r.createScaffoldMiddleware=r.getUniqueId=r.asLegacyMiddleware=void 0;var n=e("./asLegacyMiddleware.cjs");Object.defineProperty(r,"asLegacyMiddleware",{enumerable:!0,get:function(){return n.asLegacyMiddleware}});var i=e("../getUniqueId.cjs");Object.defineProperty(r,"getUniqueId",{enumerable:!0,get:function(){return i.getUniqueId}});var s=e("./createScaffoldMiddleware.cjs");Object.defineProperty(r,"createScaffoldMiddleware",{enumerable:!0,get:function(){return s.createScaffoldMiddleware}});var o=e("./JsonRpcEngineV2.cjs");Object.defineProperty(r,"JsonRpcEngineV2",{enumerable:!0,get:function(){return o.JsonRpcEngineV2}});var a=e("./JsonRpcServer.cjs");Object.defineProperty(r,"JsonRpcServer",{enumerable:!0,get:function(){return a.JsonRpcServer}});var c=e("./MiddlewareContext.cjs");Object.defineProperty(r,"MiddlewareContext",{enumerable:!0,get:function(){return c.MiddlewareContext}});var u=e("./utils.cjs");Object.defineProperty(r,"isNotification",{enumerable:!0,get:function(){return u.isNotification}}),Object.defineProperty(r,"isRequest",{enumerable:!0,get:function(){return u.isRequest}}),Object.defineProperty(r,"JsonRpcEngineError",{enumerable:!0,get:function(){return u.JsonRpcEngineError}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/index.cjs"}],[2225,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineError=r.isInstance=r.stringify=r.isNotification=r.isRequest=void 0;const i=e("@metamask/utils");r.isRequest=e=>(0,i.hasProperty)(e,"id");r.isNotification=e=>!(0,r.isRequest)(e),r.stringify=function(e){return JSON.stringify(e,null,2)};r.isInstance=(e,t)=>(0,i.isObject)(e)&&t in e&&!0===e[t];const s=Symbol.for("json-rpc-engine#JsonRpcEngineError");class o extends Error{constructor(e){super(e),this[n]=!0,this.name="JsonRpcEngineError"}static isInstance(e){return(0,r.isInstance)(e,s)}}r.JsonRpcEngineError=o,n=s}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/utils.cjs"}],[2226,{"./dist/v2/index.cjs":2224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./dist/v2/index.cjs")}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/v2.js"}],[2227,{"readable-stream":2244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("readable-stream");r.default=function(e){if(!e?.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:()=>undefined,write:function(e,n,i){t.handle(e,(e,t)=>{r.push(t)}),i()}});return t.on&&t.on("notification",e=>{r.push(e)}),r}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createEngineStream.cjs"}],[2228,{"@metamask/safe-event-emitter":2694,"@metamask/utils":3207,"readable-stream":2244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("@metamask/safe-event-emitter")),s=e("@metamask/utils"),o=e("readable-stream");r.default=function(e={}){const t={},r=new o.Duplex({objectMode:!0,read:()=>undefined,write:function(r,i,o){let c=null;try{!(0,s.hasProperty)(r,"id")?function(r){e?.retryOnMessage&&r.method===e.retryOnMessage&&Object.values(t).forEach(({req:e,retryCount:r=0})=>{if(!e.id)return;if(r>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);const n=t[e.id];n&&(n.retryCount=r+1),a(e)});n.emit("notification",r)}(r):function(e){const{id:r}=e;if(null===r)return;const n=t[r];if(!n)return void console.warn(`StreamMiddleware - Unknown response id "${r}"`);delete t[r],Object.assign(n.res,e),setTimeout(n.end)}(r)}catch(e){c=e}o(c)}}),n=new i.default;return{events:n,middleware:(e,r,n,i)=>{t[e.id]={req:e,res:r,next:n,end:i},a(e)},stream:r};function a(e){r.push(e)}}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createStreamMiddleware.cjs"}],[2229,{"./createEngineStream.cjs":2227,"./createStreamMiddleware.cjs":2228},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createStreamMiddleware=r.createEngineStream=void 0;const i=n(e("./createEngineStream.cjs"));r.createEngineStream=i.default;const s=n(e("./createStreamMiddleware.cjs"));r.createStreamMiddleware=s.default}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/index.cjs"}],[2230,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/errors-browser.js"}],[2231,{"./_stream_readable":2233,"./_stream_writable":2235,_process:5191,inherits:4718},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[2232,{"./_stream_transform":2234,inherits:4718},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[2233,{"../errors":2230,"./_stream_duplex":2231,"./internal/streams/async_iterator":2236,"./internal/streams/buffer_list":2237,"./internal/streams/destroy":2238,"./internal/streams/from":2240,"./internal/streams/state":2242,"./internal/streams/stream":2243,_process:5191,buffer:4176,events:4472,inherits:4718,"string_decoder/":5767,util:4128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=T,T.ReadableState=E;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var d,l,h,f=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,g=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(T,s);var k=p.errorOrDestroy,_=["error","close","destroy","pause","resume"];function E(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e("string_decoder/").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function T(t){if(n=n||e("./_stream_duplex"),!(this instanceof T))return new T(t);var r=this instanceof n;this._readableState=new E(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function j(e,t,r,n,i){c("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?B(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),s)k(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)u.endEmitted?k(e,new v):S(e,u,t,!0);else if(u.ended)k(e,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?S(e,u,t,!1):I(e,u)):S(e,u,t,!1)}else n||(u.reading=!1,I(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&B(e)),I(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),j(this,e,t,!1,r)},T.prototype.unshift=function(e){return j(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(t){d||(d=e("string_decoder/").StringDecoder);var r=new d(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function B(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function I(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function M(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function q(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(K,t,e))}function K(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):B(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?q(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){k(this,new w("_read()"))},T.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,c("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:y;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",d),e.removeListener("error",f),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",h),l=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function u(){c("onend"),e.end()}s.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var d=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",d);var l=!1;function h(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==N(s.pipes,e))&&!l&&(c("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function f(t){c("onerror",t),y(),e.removeListener("error",f),0===i(e,"error")&&k(e,t)}function p(){e.removeListener("finish",m),y()}function m(){c("onfinish"),e.removeListener("close",p),y()}function y(){c("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",n),s.flowing||(c("pipe resume"),n.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=N(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?B(this):i.reading||r.nextTick(R,this))),n},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(O,this),n},T.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(O,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(M,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return l===undefined&&(l=e("./internal/streams/async_iterator")),l(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=q,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(t,r){return h===undefined&&(h=e("./internal/streams/from")),h(T,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2234,{"../errors":2230,"./_stream_duplex":2231,inherits:4718},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=d;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new i("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[2235,{"../errors":2230,"./_stream_duplex":2231,"./internal/streams/destroy":2238,"./internal/streams/state":2242,"./internal/streams/stream":2243,_process:5191,buffer:4176,inherits:4718,"util-deprecate":5831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=T,T.WritableState=E;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,d=e("./internal/streams/destroy"),l=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,v=h.ERR_UNKNOWN_ENCODING,k=d.errorOrDestroy;function _(){}function E(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=l(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,k(e,i)):(s(i),e._writableState.errorEmitted=!0,k(e,i),A(e,t))}(e,n,i,t,s);else{var o=x(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),i?r.nextTick(S,e,n,o,s):S(e,n,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function T(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(T,this))return new T(t);this._writableState=new E(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function j(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,j(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,l=r.callback;if(j(e,t,!1,t.objectMode?1:u.length,u,d,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function B(e,t){e._final(function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var n=x(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(B,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(T,o),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===T&&(e&&e._writableState instanceof E)}})):u=function(e){return e instanceof this},T.prototype.pipe=function(){k(this,new y)},T.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,u=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=_),s.ending?function(e,t){var n=new w;k(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new f("chunk",["string","Buffer"],n)),!s||(k(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else j(e,t,!1,c,n,i,s);return u}(this,s,u,e,t,n)),o},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new p("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[2236,{"./end-of-stream":2239,_process:5191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[h].read();null!==r&&(e[d]=null,e[o]=null,e[a]=null,t(f(r,!1)))}}function m(e){r.nextTick(p,e)}var y=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(undefined,!0));if(this[h].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[c]?n(e[c]):t(f(undefined,!0))})});var n,i=this[d];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[u]?r(f(undefined,!0)):t[l](r,n)},n)}}(i,this));else{var s=this[h].read();if(null!==s)return Promise.resolve(f(s,!1));n=new Promise(this[l])}return this[d]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[h].destroy(null,function(e){e?r(e):t(f(undefined,!0))})})}),n),y);t.exports=function(e){var t,r=Object.create(g,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,l,{value:function(e,t){var n=r[h].read();n?(r[d]=null,r[o]=null,r[a]=null,e(f(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[d]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[d]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[o];null!==n&&(r[d]=null,r[o]=null,r[a]=null,n(f(undefined,!0))),r[u]=!0}),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2237,{buffer:4176,util:4128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=e("buffer").Buffer,u=e("util").inspect,d=u&&u.custom||"inspect";function l(e,t,r){c.prototype.copy.call(e,t,r)}t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),r=this.head,n=0;r;)l(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:d,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2238,{_process:5191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):s?(e.nextTick(n,o),s(t)):e.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2239,{"../../../errors":2230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||d()},u=t._writableState&&t._writableState.finished,d=function(){a=!1,u=!0,o||s.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,l=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!l?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",d),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[2240,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2241,{"../../../errors":2230,"./end-of-stream":2239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var d,l=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new s("streams");var h=r.map(function(t,i){var s=i<r.length-1;return function(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},function(e){if(e)return s(e);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,function(e){d||(d=e),e&&h.forEach(c),s||(h.forEach(c),l(d))})});return r.reduce(u)}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[2242,{"../../../errors":2230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[2243,{events:4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2244,{"./lib/_stream_duplex.js":2231,"./lib/_stream_passthrough.js":2232,"./lib/_stream_readable.js":2233,"./lib/_stream_transform.js":2234,"./lib/_stream_writable.js":2235,"./lib/internal/streams/end-of-stream.js":2239,"./lib/internal/streams/pipeline.js":2241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/readable-browser.js"}],[2245,{"./BIP44Node.cjs":2246,"./SLIP10Node.cjs":2247,"./constants.cjs":2248,"./utils.cjs":2265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP44CoinTypeNode=r.BIP_44_COIN_TYPE_DEPTH=void 0;const o=e("./BIP44Node.cjs"),a=e("./constants.cjs"),c=e("./SLIP10Node.cjs"),u=e("./utils.cjs");r.BIP_44_COIN_TYPE_DEPTH=2;class d{static async fromJSON(e,t,r){h(t),l(e.depth);const n=await o.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,network:e.network,parentFingerprint:e.parentFingerprint,chainCode:(0,u.hexStringToBytes)(e.chainCode),privateKey:(0,u.nullableHexStringToBytes)(e.privateKey),publicKey:(0,u.hexStringToBytes)(e.publicKey)},r);return new d(n,t)}static async fromDerivationPath(e,t,r){l(e.length-1);const n=await o.BIP44Node.fromDerivationPath({derivationPath:e,network:t},r),i=(0,u.getBIP44CoinType)(e);return new d(n,i)}static async fromSeed({derivationPath:e,network:t},r){l(e.length-1);const n=await o.BIP44Node.fromSeed({derivationPath:e,network:t},r),i=(0,u.getBIP44CoinType)(e);return new d(n,i)}static async fromNode(e,t){if(!(e instanceof o.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return h(t),l(e.depth),Promise.resolve(new d(e,t))}constructor(e,t){n.set(this,void 0),i(this,n,e,"f"),this.coin_type=t,this.path=(0,u.getBIP44CoinTypePathString)(t),Object.freeze(this)}get depth(){return s(this,n,"f").depth}get privateKeyBytes(){return s(this,n,"f").privateKeyBytes}get publicKeyBytes(){return s(this,n,"f").publicKeyBytes}get chainCodeBytes(){return s(this,n,"f").chainCodeBytes}get privateKey(){return s(this,n,"f").privateKey}get publicKey(){return s(this,n,"f").publicKey}get compressedPublicKey(){return s(this,n,"f").compressedPublicKey}get compressedPublicKeyBytes(){return s(this,n,"f").compressedPublicKeyBytes}get chainCode(){return s(this,n,"f").chainCode}get address(){return s(this,n,"f").address}get masterFingerprint(){return s(this,n,"f").masterFingerprint}get parentFingerprint(){return s(this,n,"f").parentFingerprint}get fingerprint(){return s(this,n,"f").fingerprint}get index(){return s(this,n,"f").index}get network(){return s(this,n,"f").network}get curve(){return s(this,n,"f").curve}get extendedKey(){return s(this,n,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:r}){return await s(this,n,"f").derive((0,u.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:r}))}toJSON(){return{...s(this,n,"f").toJSON(),coin_type:this.coin_type,path:this.path}}}function l(e){if(e!==r.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${r.BIP_44_COIN_TYPE_DEPTH}. Received: "${e}"`)}function h(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function f(e,t){if(e instanceof d)return l(e.depth),e;if("string"==typeof e){const r=await o.BIP44Node.fromExtendedKey(e,t),n=await d.fromNode(r,r.index-a.BIP_32_HARDENED_OFFSET);return l(n.depth),n}return d.fromJSON(e,e.coin_type,t)}r.BIP44CoinTypeNode=d,n=new WeakMap,r.deriveBIP44AddressKey=async function(e,{account:t=0,change:r=0,address_index:n},i){const s=(0,u.getBIP44CoinTypeToAddressPathTuple)({account:t,change:r,address_index:n}),a=await f(e,i),d=await(0,c.deriveChildNode)({path:s,node:a},i);return new o.BIP44Node(d)},r.getBIP44AddressKeyDeriver=async function(e,t,r){const{account:n=0,change:i=0}=t??{},s=await f(e,r),a=(0,u.getHardenedBIP32NodeToken)(n),d=(0,u.getBIP32NodeToken)(i),l=async(e,t=!1)=>{const n=await(0,c.deriveChildNode)({path:[a,d,t?(0,u.getHardenedBIP32NodeToken)(e):(0,u.getUnhardenedBIP32NodeToken)(e)],node:s},r);return new o.BIP44Node(n)};return l.coin_type=s.coin_type,l.path=(0,u.getBIP44ChangePathString)(s.path,{account:n,change:i}),Object.freeze(l),l}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.cjs"}],[2246,{"./SLIP10Node.cjs":2247,"./constants.cjs":2248,"./extended-keys.cjs":2262,"./utils.cjs":2265,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.validateBIP44Depth=r.BIP44Node=void 0;const o=e("@metamask/utils"),a=e("./constants.cjs"),c=e("./extended-keys.cjs"),u=e("./SLIP10Node.cjs"),d=e("./utils.cjs");class l{static async fromJSON(e,t){return l.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const r=(0,c.decodeExtendedKey)(e),{type:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:u}=r;if("private"===n){const{privateKey:e}=r;return l.fromExtendedKey({depth:s,parentFingerprint:o,index:a,network:u,privateKey:e,chainCode:i},t)}const{publicKey:d}=r;return l.fromExtendedKey({depth:s,parentFingerprint:o,index:a,network:u,publicKey:d,chainCode:i},t)}const{privateKey:r,publicKey:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:d}=e;h(s);const f=await u.SLIP10Node.fromExtendedKey({privateKey:r,publicKey:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:d,curve:"secp256k1"},t);return new l(f)}static async fromDerivationPath({derivationPath:e,network:t},r){h(e.length-1),f(e,a.MIN_BIP_44_DEPTH);const n=await u.SLIP10Node.fromDerivationPath({derivationPath:e,network:t,curve:"secp256k1"},r);return new l(n)}static async fromSeed({derivationPath:e,network:t},r){h(e.length-1),f(e,a.MIN_BIP_44_DEPTH);const n=await u.SLIP10Node.fromSeed({derivationPath:e,network:t,curve:"secp256k1"},r);return new l(n)}get depth(){return i(this,n,"f").depth}get privateKeyBytes(){return i(this,n,"f").privateKeyBytes}get publicKeyBytes(){return i(this,n,"f").publicKeyBytes}get chainCodeBytes(){return i(this,n,"f").chainCodeBytes}get privateKey(){return i(this,n,"f").privateKey}get publicKey(){return i(this,n,"f").publicKey}get compressedPublicKey(){return i(this,n,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,n,"f").compressedPublicKeyBytes}get chainCode(){return i(this,n,"f").chainCode}get address(){return i(this,n,"f").address}get masterFingerprint(){return i(this,n,"f").masterFingerprint}get parentFingerprint(){return i(this,n,"f").parentFingerprint}get fingerprint(){return i(this,n,"f").fingerprint}get index(){return i(this,n,"f").index}get network(){return i(this,n,"f").network}get extendedKey(){return i(this,n,"f").extendedKey}get curve(){return i(this,n,"f").curve}constructor(e){n.set(this,void 0),s(this,n,e,"f"),Object.freeze(this)}neuter(){const e=i(this,n,"f").neuter();return new l(e)}async derive(e){if(this.depth===a.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");h(this.depth+e.length),f(e,this.depth+1);const t=await i(this,n,"f").derive(e);return new l(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function h(e){if((0,u.validateBIP32Depth)(e),e<a.MIN_BIP_44_DEPTH||e>a.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function f(e,t){e.forEach((e,r)=>{const n=t+r;if(n!==a.MIN_BIP_44_DEPTH)switch((0,o.assert)("string"==typeof e),n){case 1:if(e!==a.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${a.BIP44PurposeNodeToken}".`);break;case 2:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,d.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,d.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case a.MAX_BIP_44_DEPTH:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||a.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')})}r.BIP44Node=l,n=new WeakMap,r.validateBIP44Depth=h}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44Node.cjs"}],[2247,{"./constants.cjs":2248,"./curves/index.cjs":2253,"./derivation.cjs":2255,"./derivers/bip32.cjs":2256,"./derivers/bip39.cjs":2257,"./extended-keys.cjs":2262,"./guard.cjs":2263,"./utils.cjs":2265,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildNode=r.validateRootIndex=r.validateMasterParentFingerprint=r.validateParentFingerprint=r.validateBIP32Depth=r.SLIP10Node=void 0;const u=e("@metamask/utils"),d=e("./constants.cjs"),l=e("./curves/index.cjs"),h=e("./derivation.cjs"),f=e("./derivers/bip32.cjs"),p=e("./derivers/bip39.cjs"),m=e("./extended-keys.cjs"),y=e("./guard.cjs"),g=e("./utils.cjs");class b{static async fromJSON(e,t){return n.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const r=(0,m.decodeExtendedKey)(e),{chainCode:i,depth:s,parentFingerprint:o,index:a}=r;if("private"===r.type){const{privateKey:e}=r;return n.fromExtendedKey({depth:s,parentFingerprint:o,index:a,privateKey:e,chainCode:i,curve:"secp256k1"},t)}const{publicKey:c}=r;return n.fromExtendedKey({depth:s,parentFingerprint:o,index:a,publicKey:c,chainCode:i,curve:"secp256k1"},t)}const{depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:h,privateKey:f,publicKey:p,chainCode:b,curve:E,guard:T}=e,j=(0,g.getBytes)(b,d.BYTES_KEY_LENGTH);(0,g.validateCurve)(E),w(r),(0,g.validateBIP32Index)(c),_(c,r),(0,g.validateNetwork)(h),v(o,r),k(s,o,r);const S=(0,l.getCurveByName)(E);if(f){const e=(0,g.getBytesUnsafe)(f,S.privateKeyLength);(0,u.assert)(S.isValidPrivateKey(e),`Invalid private key: Value is not a valid ${E} private key.`);const d=T===y.PUBLIC_KEY_GUARD&&p?(0,g.getBytes)(p,S.publicKeyLength):undefined;return new n({depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:h,chainCode:j,privateKey:e,publicKey:d,curve:E},t,a(this,n,"f",i))}if(p){const e=(0,g.getBytes)(p,S.publicKeyLength);return new n({depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:h,chainCode:j,publicKey:e,curve:E},t,a(this,n,"f",i))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,network:t,curve:r},n){if((0,g.validateCurve)(r),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");const i=await(0,p.getDerivationPathWithSeed)({path:e,curve:r},n);return await(0,h.deriveKeyFromPath)({path:i,depth:e.length-1,network:t,curve:r},n)}static async fromSeed({derivationPath:e,network:t,curve:r},n){if((0,g.validateCurve)(r),"ed25519Bip32"===r)throw new Error('Invalid curve: The curve "ed25519Bip32" is not supported by the `fromSeed` function.');if(!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,h.deriveKeyFromPath)({path:e,depth:e.length-1,network:t,curve:r},n)}constructor({depth:e,masterFingerprint:t,parentFingerprint:r,index:d,network:l="mainnet",chainCode:h,privateKey:f,publicKey:p,curve:m},y={},g){s.set(this,void 0),o.set(this,void 0),(0,u.assert)(g===a(n,n,"f",i),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, `SLIP10Node.fromDerivationPath`, or `SLIP10Node.fromSeed`."),(0,u.assert)(f!==undefined||p!==undefined,"SLIP10Node requires either a private key or a public key to be set."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=r,this.index=d,this.network=l,this.chainCodeBytes=h,this.privateKeyBytes=f,this.curve=m,c(this,s,p,"f"),c(this,o,y,"f"),Object.freeze(this)}get chainCode(){return(0,u.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,u.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,u.bytesToHex)(this.publicKeyBytes)}get publicKeyBytes(){return a(this,s,"f")!==undefined||((0,u.assert)(this.privateKeyBytes,"Either a private key or public key is required."),c(this,s,(0,l.getCurveByName)(this.curve).getPublicKey(this.privateKeyBytes),"f")),a(this,s,"f")}get compressedPublicKeyBytes(){return(0,l.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,u.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,u.bytesToHex)((0,f.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,g.getFingerprint)(this.compressedPublicKeyBytes,(0,l.getCurveByName)(this.curve).compressedPublicKeyLength)}get extendedKey(){(0,u.assert)("secp256k1"===this.curve,"Unable to get extended key for this node: Only secp256k1 is supported.");const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,m.encodeExtendedKey)({...e,type:"private",privateKey:this.privateKeyBytes}):(0,m.encodeExtendedKey)({...e,type:"public",publicKey:this.publicKeyBytes})}neuter(){return new n({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve,network:this.network},a(this,o,"f"),a(n,n,"f",i))}async derive(e){return await E({path:e,node:this},a(this,o,"f"))}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function w(e){if(!(0,g.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function v(e,t){if(!(0,g.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function k(e,t,r){if(e&&r>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function _(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function E({path:e,node:t},r){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return w(n),await(0,h.deriveKeyFromPath)({path:e,node:t,depth:n},r)}r.SLIP10Node=b,n=b,s=new WeakMap,o=new WeakMap,i={value:Symbol("SLIP10Node.constructor")},r.validateBIP32Depth=w,r.validateParentFingerprint=v,r.validateMasterParentFingerprint=k,r.validateRootIndex=_,r.deriveChildNode=E}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/SLIP10Node.cjs"}],[2248,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BIP_32_HARDENED_OFFSET=r.BIP_39_PATH_REGEX=r.CIP_3_PATH_REGEX=r.SLIP_10_PATH_REGEX=r.BIP_32_PATH_REGEX=r.UNPREFIXED_BIP_32_PATH_REGEX=r.UNPREFIXED_PATH_REGEX=r.BIP44PurposeNodeToken=r.MAX_BIP_32_INDEX=r.MAX_UNHARDENED_BIP_32_INDEX=r.MAX_BIP_44_DEPTH=r.MIN_BIP_44_DEPTH=r.BYTES_KEY_LENGTH=void 0,r.BYTES_KEY_LENGTH=32,r.MIN_BIP_44_DEPTH=0,r.MAX_BIP_44_DEPTH=5,r.MAX_UNHARDENED_BIP_32_INDEX=2147483647,r.MAX_BIP_32_INDEX=4294967295,r.BIP44PurposeNodeToken="bip32:44'",r.UNPREFIXED_PATH_REGEX=/^\d+$/u,r.UNPREFIXED_BIP_32_PATH_REGEX=/^(?<index>\d+)'?$/u,r.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,r.SLIP_10_PATH_REGEX=/^slip10:\d+'?$/u,r.CIP_3_PATH_REGEX=/^cip3:\d+'?$/u,r.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,r.BIP_32_HARDENED_OFFSET=2147483648}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/constants.cjs"}],[2249,{"./utils.cjs":2265,"@noble/hashes/hmac":3255,"@noble/hashes/pbkdf2":3257,"@noble/hashes/ripemd160":3258,"@noble/hashes/sha256":3261,"@noble/hashes/sha3":3262,"@noble/hashes/sha512":3263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=r.ripemd160=r.pbkdf2Sha512=r.keccak256=r.hmacSha512=void 0;const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/pbkdf2"),s=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),a=e("@noble/hashes/sha3"),c=e("@noble/hashes/sha512"),u=e("./utils.cjs");r.hmacSha512=async function(e,t,r={}){if(r.hmacSha512)return await r.hmacSha512(e,t);if((0,u.isWebCryptoSupported)()){const r=await crypto.subtle.importKey("raw",e,{name:"HMAC",hash:"SHA-512"},!1,["sign"]),n=await crypto.subtle.sign("HMAC",r,t);return new Uint8Array(n)}return(0,n.hmac)(c.sha512,e,t)},r.keccak256=function(e){return(0,a.keccak_256)(e)},r.pbkdf2Sha512=async function(e,t,r,n,s={}){if(s.pbkdf2Sha512)return await s.pbkdf2Sha512(e,t,r,n);if((0,u.isWebCryptoSupported)()){const i=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]),s=await crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:"SHA-512"}},i,8*n);return new Uint8Array(s)}return await(0,i.pbkdf2Async)(c.sha512,e,t,{c:r,dkLen:n})},r.ripemd160=function(e){return(0,s.ripemd160)(e)},r.sha256=function(e){return(0,o.sha256)(e)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cryptography.cjs"}],[2250,{"./ed25519.cjs":2251,"./ed25519Bip32.cjs":2252,"./secp256k1.cjs":2254,"@noble/curves/abstract/modular":3243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.mod=r.getCurveByName=r.curves=void 0;const o=s(e("./ed25519.cjs")),a=s(e("./ed25519Bip32.cjs")),c=s(e("./secp256k1.cjs"));r.curves={secp256k1:c,ed25519:o,ed25519Bip32:a},r.getCurveByName=function(e){return r.curves[e]};var u=e("@noble/curves/abstract/modular");Object.defineProperty(r,"mod",{enumerable:!0,get:function(){return u.mod}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/curve.cjs"}],[2251,{"@metamask/utils":3207,"@noble/curves/ed25519":3247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.publicKeyLength=r.deriveUnhardenedKeys=r.isValidPrivateKey=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/ed25519");r.curve=i.ed25519.CURVE,r.name="ed25519",r.secret=(0,n.stringToBytes)("ed25519 seed");r.isValidPrivateKey=e=>!0,r.deriveUnhardenedKeys=!1,r.publicKeyLength=33;r.getPublicKey=(()=>{let e=!1;return(t,r)=>{e||(i.ed25519.ExtendedPoint.BASE._setWindowSize(4),e=!0);const s=i.ed25519.getPublicKey(t);return(0,n.concatBytes)([new Uint8Array([0]),s])}})();r.publicAdd=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")};r.compressPublicKey=e=>e;r.decompressPublicKey=e=>e,r.privateKeyLength=32,r.masterNodeGenerationSpec="slip10",r.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519.cjs"}],[2252,{"@metamask/utils":3207,"@noble/curves/abstract/modular":3243,"@noble/curves/ed25519":3247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.multiplyWithBase=r.bytesToNumberLE=r.publicKeyLength=r.deriveUnhardenedKeys=r.isValidPrivateKey=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/abstract/modular"),s=e("@noble/curves/ed25519");function o(e,t){const r=e[t];return(0,n.assert)(r!==undefined,"Private key is too short."),r}r.curve=s.ed25519.CURVE,r.name="ed25519Bip32",r.secret=(0,n.stringToBytes)("");r.isValidPrivateKey=e=>!(7&o(e,0))&&(!(128&o(e,31))&&!(64&~o(e,31))),r.deriveUnhardenedKeys=!0,r.publicKeyLength=32;r.bytesToNumberLE=e=>(0,n.hexToBigInt)((0,n.bytesToHex)(Uint8Array.from(e).reverse()));r.multiplyWithBase=e=>{const t=(0,i.mod)((0,r.bytesToNumberLE)(e),r.curve.n);return s.ed25519.ExtendedPoint.BASE.multiply(t).toRawBytes()};r.getPublicKey=(e,t)=>(0,r.multiplyWithBase)(e.slice(0,32));r.publicAdd=(e,t)=>s.ed25519.ExtendedPoint.fromHex((0,n.remove0x)((0,n.bytesToHex)(e))).add(s.ed25519.ExtendedPoint.fromHex((0,n.remove0x)((0,n.bytesToHex)(t)))).toRawBytes();r.compressPublicKey=e=>e;r.decompressPublicKey=e=>e,r.privateKeyLength=64,r.masterNodeGenerationSpec="cip3",r.compressedPublicKeyLength=32}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519Bip32.cjs"}],[2253,{"./curve.cjs":2250,"./ed25519.cjs":2251,"./ed25519Bip32.cjs":2252,"./secp256k1.cjs":2254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ed25519Bip32=r.ed25519=r.secp256k1=void 0,s(e("./curve.cjs"),r),r.secp256k1=o(e("./secp256k1.cjs")),r.ed25519=o(e("./ed25519.cjs")),r.ed25519Bip32=o(e("./ed25519Bip32.cjs"))}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/index.cjs"}],[2254,{"../utils.cjs":2265,"@metamask/utils":3207,"@noble/curves/secp256k1":3248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.isValidPrivateKey=r.publicKeyLength=r.deriveUnhardenedKeys=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/secp256k1"),s=e("../utils.cjs");r.curve=i.secp256k1.CURVE,r.name="secp256k1",r.secret=(0,n.stringToBytes)("Bitcoin seed"),r.deriveUnhardenedKeys=!0,r.publicKeyLength=65;r.isValidPrivateKey=e=>i.secp256k1.utils.isValidPrivateKey(e);r.getPublicKey=(()=>{let e=!1;return(t,r=!1)=>(e||(i.secp256k1.ProjectivePoint.BASE._setWindowSize(4),e=!0),i.secp256k1.getPublicKey(t,r))})();r.publicAdd=(e,t)=>{(0,n.assert)((0,s.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const r=i.secp256k1.ProjectivePoint.fromHex(e).add(i.secp256k1.ProjectivePoint.fromPrivateKey(t));return r.assertValidity(),r.toRawBytes(!1)};r.compressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!0);r.decompressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1),r.privateKeyLength=32,r.masterNodeGenerationSpec="slip10",r.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/secp256k1.cjs"}],[2255,{"./BIP44CoinTypeNode.cjs":2245,"./BIP44Node.cjs":2246,"./SLIP10Node.cjs":2247,"./constants.cjs":2248,"./curves/index.cjs":2253,"./derivers/index.cjs":2259,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validatePathSegment=r.deriveKeyFromPath=void 0;const n=e("@metamask/utils"),i=e("./BIP44CoinTypeNode.cjs"),s=e("./BIP44Node.cjs"),o=e("./constants.cjs"),a=e("./curves/index.cjs"),c=e("./derivers/index.cjs"),u=e("./SLIP10Node.cjs");function d(e,t,r){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let i=!1;if(e.forEach((e,t)=>{if(0===t){if(i=e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||i||o.BIP_32_PATH_REGEX.test(e)||o.SLIP_10_PATH_REGEX.test(e)||o.CIP_3_PATH_REGEX.test(e)))throw l()}else if(e instanceof Uint8Array||!o.BIP_32_PATH_REGEX.test(e)&&!o.SLIP_10_PATH_REGEX.test(e)&&!o.CIP_3_PATH_REGEX.test(e))throw l()}),r===o.MIN_BIP_44_DEPTH&&(!i||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${o.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!i)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&i)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const s=i?e.slice(1):e;if(s.length>0){const e=s[0]?.split(":")[0];(0,n.assert)(e),(0,n.assert)(s.every(t=>t.startsWith(`${e}:`)),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function l(){return new Error("Invalid HD path segment: The path segment is malformed.")}r.deriveKeyFromPath=async function(e,t){const{path:r,depth:o=r.length}=e,h="node"in e?e.node:undefined,f="network"in e?e.network:h?.network,p="curve"in e?e.curve:h?.curve;if(h&&!(h instanceof u.SLIP10Node)&&!(h instanceof s.BIP44Node)&&!(h instanceof i.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!p)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return d(r,Boolean(h?.privateKey)||Boolean(h?.publicKey),o),await r.reduce(async(e,r,i)=>{const s=await e;if("string"==typeof r){const[e,i]=r.split(":");(0,n.assert)(e),(0,n.assert)(i),(0,n.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const o=c.derivers[e];return await o.deriveChildKey({path:i,node:s,curve:(0,a.getCurveByName)(p),network:f},t)}return(0,n.assert)(0===i,l()),await c.derivers.bip39.deriveChildKey({path:r,node:s,curve:(0,a.getCurveByName)(p),network:f},t)},Promise.resolve(h))},r.validatePathSegment=d}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivation.cjs"}],[2256,{"../constants.cjs":2248,"../cryptography.cjs":2249,"../curves/index.cjs":2253,"../utils.cjs":2265,"./shared.cjs":2260,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=r.publicKeyToEthAddress=r.privateKeyToEthAddress=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../cryptography.cjs"),a=e("../curves/index.cjs"),c=e("../utils.cjs");function u(e){return(0,n.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,a.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,o.keccak256)(e.slice(1)).slice(-20)}async function d(e,t,r){const{childIndex:n,privateKey:s,publicKey:o,isHardened:a,chainCode:u,curve:d}=t;if((0,c.validateBIP32Index)(n+1),s){const e=await(0,i.deriveSecretExtension)({privateKey:s,publicKey:d.compressPublicKey(o),childIndex:n+1,isHardened:a,curve:d}),c=await(0,i.generateEntropy)({chainCode:u,extension:e},r);return{...t,childIndex:n+1,entropy:c}}const l=(0,i.derivePublicExtension)({parentPublicKey:o,childIndex:n+1}),h=await(0,i.generateEntropy)({chainCode:u,extension:l});return{...t,childIndex:n+1,entropy:h}}r.privateKeyToEthAddress=function(e){return(0,n.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,s.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array."),u(a.secp256k1.getPublicKey(e,!1))},r.publicKeyToEthAddress=u,r.deriveChildKey=async function(e,t){return(0,n.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,i.deriveChildKey)(e,d,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip32.cjs"}],[2257,{"../SLIP10Node.cjs":2247,"../constants.cjs":2248,"../cryptography.cjs":2249,"../curves/index.cjs":2253,"../guard.cjs":2263,"../utils.cjs":2265,"@metamask/scure-bip39":2695,"@metamask/scure-bip39/dist/wordlists/english.js":2696,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.entropyToCip3MasterNode=r.createBip39KeyFromSeed=r.deriveChildKey=r.getDerivationPathWithSeed=r.multipathToBip39Mnemonic=r.bip39MnemonicToMultipath=r.mnemonicToSeed=void 0;const n=e("@metamask/scure-bip39"),i=e("@metamask/scure-bip39/dist/wordlists/english.js"),s=e("@metamask/utils"),o=e("../constants.cjs"),a=e("../cryptography.cjs"),c=e("../curves/index.cjs"),u=e("../guard.cjs"),d=e("../SLIP10Node.cjs"),l=e("../utils.cjs"),h=[12,15,18,21,24];function f(e){const t=e.split(" ");(0,s.assert)(h.includes(t.length),"Invalid mnemonic phrase: The mnemonic phrase must consist of 12, 15, 18, 21, or 24 words."),(0,s.assert)(t.every(e=>i.wordlist.includes(e)),"Invalid mnemonic phrase: The mnemonic phrase contains an unknown word.")}async function p(e,t="",r){const n=`mnemonic${t}`.normalize("NFKD");return await(0,a.pbkdf2Sha512)(function(e,t){if("string"==typeof e)return f(e),(0,s.stringToBytes)(e.normalize("NFKD"));const r=Array.from(new Uint16Array(e.buffer)).map(e=>t[e]).join(" ");return f(r),(0,s.stringToBytes)(r)}(e,i.wordlist),(0,s.stringToBytes)(n),2048,64,r)}function m(e){return e instanceof Uint8Array?e:((0,s.assert)(e.startsWith("bip39:"),'Invalid HD path segment: The BIP-39 path must start with "bip39:".'),e.slice(6))}async function y(e,t,r,n){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const i=await(0,a.hmacSha512)(t.secret,e,n),c=i.slice(0,o.BYTES_KEY_LENGTH),h=i.slice(o.BYTES_KEY_LENGTH);(0,s.assert)(t.isValidPrivateKey(c),"Invalid private key: The private key must greater than 0 and less than the curve order.");const f=t.getPublicKey(c,!1),p=(0,l.getFingerprint)(t.compressPublicKey(f),t.compressedPublicKeyLength);return d.SLIP10Node.fromExtendedKey({privateKey:c,publicKey:f,chainCode:h,masterFingerprint:p,network:r,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},n)}async function g(e,t,r,n){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid entropy: The entropy must be between 16 and 64 bytes long.");const i=await(0,a.pbkdf2Sha512)(t.secret,e,4096,96,n);i[0]&=248,i[31]&=31,i[31]|=64;const o=i.slice(0,t.privateKeyLength),c=i.slice(t.privateKeyLength);(0,s.assert)(t.isValidPrivateKey(o),"Invalid private key.");const h=t.getPublicKey(o,!1),f=(0,l.getFingerprint)(t.compressPublicKey(h),t.compressedPublicKeyLength);return d.SLIP10Node.fromExtendedKey({privateKey:o,publicKey:h,chainCode:c,masterFingerprint:f,network:r,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},n)}r.mnemonicToSeed=p,r.bip39MnemonicToMultipath=function(e){return`bip39:${e.toLowerCase().trim()}`},r.multipathToBip39Mnemonic=m,r.getDerivationPathWithSeed=async function({path:e,curve:t},r){const[o,...a]=e,u=m(o),d=(0,c.getCurveByName)(t);switch(d.masterNodeGenerationSpec){case"slip10":return[await p(u,"",r),...a];case"cip3":return[(0,n.mnemonicToEntropy)(u,i.wordlist),...a];default:return(0,s.assertExhaustive)(d)}},r.deriveChildKey=async function({path:e,curve:t,network:r},n){switch((0,s.assert)(e instanceof Uint8Array,"Invalid path: The path must be a Uint8Array."),t.masterNodeGenerationSpec){case"slip10":return y(e,t,r,n);case"cip3":return g(e,t,r,n);default:throw new Error("Unsupported master node generation spec.")}},r.createBip39KeyFromSeed=y,r.entropyToCip3MasterNode=g}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip39.cjs"}],[2258,{"../SLIP10Node.cjs":2247,"../constants.cjs":2248,"../curves/index.cjs":2253,"../utils.cjs":2265,"./shared.cjs":2260,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=r.derivePublicKey=r.deriveChainCode=r.derivePrivateKey=r.getKeyExtension=r.add=r.mod2Pow256=r.trunc28Mul8=r.padEnd32Bytes=r.bigIntToBytes=r.bytesToBigInt=r.toReversed=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../curves/index.cjs"),a=e("../SLIP10Node.cjs"),c=e("../utils.cjs");r.toReversed=e=>e.slice().reverse();r.bytesToBigInt=e=>{const t=(0,r.toReversed)(e),i=(0,n.bytesToHex)(t);return BigInt(i)};r.bigIntToBytes=e=>{const t=e.toString(16);return(0,r.toReversed)((0,n.hexToBytes)(t))};r.padEnd32Bytes=e=>(0,n.concatBytes)([e,new Uint8Array(Math.max(32-e.length,0)).fill(0)]);r.trunc28Mul8=e=>{const t=(0,r.bytesToBigInt)(e.slice(0,28))*BigInt(8);return(0,r.padEnd32Bytes)((0,r.bigIntToBytes)(t))};r.mod2Pow256=e=>(0,r.padEnd32Bytes)((0,r.bigIntToBytes)((0,o.mod)((0,r.bytesToBigInt)(e),BigInt(2)**BigInt(256))));r.add=(e,t)=>{const n=(0,r.bytesToBigInt)(e)+(0,r.bytesToBigInt)(t);return(0,r.padEnd32Bytes)((0,r.bigIntToBytes)(n)).slice(0,32)};r.getKeyExtension=(e,t,r)=>(0,n.concatBytes)([new Uint8Array([e]),t,(0,c.numberToUint32)(r,!0)]);const u=2,d=0;r.derivePrivateKey=async({parentNode:e,childIndex:t,isHardened:o},a)=>{const c=o?(0,r.getKeyExtension)(d,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,r.getKeyExtension)(u,e.publicKeyBytes,t),l=await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:c},a),h=l.subarray(0,32),f=l.subarray(32),p=e.privateKeyBytes.subarray(0,32),m=e.privateKeyBytes.subarray(32),y=(0,r.add)((0,r.trunc28Mul8)(h),p),g=(0,r.add)(f,m);return(0,n.concatBytes)([y,g])};const l=3,h=1;r.deriveChainCode=async({parentNode:e,childIndex:t,isHardened:n},o)=>{const a=n?(0,r.getKeyExtension)(h,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,r.getKeyExtension)(l,e.publicKeyBytes,t);return(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:a},o)).subarray(32)};const f=2;r.derivePublicKey=async({parentNode:e,childIndex:t,curve:n},s)=>{const o=(0,r.getKeyExtension)(f,e.publicKeyBytes,t),a=(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:o},s)).slice(0,32),c=n.getPublicKey((0,r.trunc28Mul8)(a));return n.publicAdd(e.publicKeyBytes,c)},r.deriveChildKey=async function(e,t){const{curve:o,node:c,path:u}=e;(0,i.validateNode)(c);const{childIndex:d,isHardened:l}=(0,i.getValidatedPath)(u,c,o);if("ed25519Bip32"!==o.name||!c)throw new Error("Unsupported curve: Only ed25519Bip32 is supported by CIP3.");const h=d+(l?s.BIP_32_HARDENED_OFFSET:0),{privateKeyBytes:f,chainCodeBytes:p,publicKeyBytes:m,masterFingerprint:y,depth:g,fingerprint:b}=c;if(f){const e={privateKeyBytes:f,chainCodeBytes:p,publicKeyBytes:m},i=await(0,r.derivePrivateKey)({parentNode:e,childIndex:d,isHardened:l},t),s=await(0,r.deriveChainCode)({parentNode:e,childIndex:d,isHardened:l},t);return a.SLIP10Node.fromExtendedKey({privateKey:(0,n.bytesToHex)(i),chainCode:(0,n.bytesToHex)(s),masterFingerprint:y,depth:g+1,parentFingerprint:b,index:h,curve:o.name},t)}(0,n.assert)(!l,"Invalid parameters: Cannot derive hardened child keys without a private key.");const w={chainCodeBytes:p,publicKeyBytes:m},v=await(0,r.derivePublicKey)({parentNode:w,childIndex:d,isHardened:!1,curve:o},t),k=await(0,r.deriveChainCode)({parentNode:w,childIndex:d,isHardened:!1},t);return a.SLIP10Node.fromExtendedKey({publicKey:(0,n.bytesToHex)(v),chainCode:(0,n.bytesToHex)(k),masterFingerprint:y,depth:g+1,parentFingerprint:b,index:h,curve:o.name},t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/cip3.cjs"}],[2259,{"./bip32.cjs":2256,"./bip39.cjs":2257,"./cip3.cjs":2258,"./slip10.cjs":2261},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.mnemonicToSeed=r.createBip39KeyFromSeed=r.derivers=void 0;const o=s(e("./bip32.cjs")),a=s(e("./bip39.cjs")),c=s(e("./cip3.cjs")),u=s(e("./slip10.cjs"));r.derivers={bip32:o,bip39:a,slip10:u,cip3:c};var d=e("./bip39.cjs");Object.defineProperty(r,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return d.createBip39KeyFromSeed}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/index.cjs"}],[2260,{"../SLIP10Node.cjs":2247,"../constants.cjs":2248,"../cryptography.cjs":2249,"../curves/index.cjs":2253,"../guard.cjs":2263,"../utils.cjs":2265,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getValidatedPath=r.validateNode=r.generateEntropy=r.privateAdd=r.derivePublicChildKey=r.derivePublicExtension=r.deriveSecretExtension=r.deriveChildKey=void 0;const n=e("@metamask/utils"),i=e("../constants.cjs"),s=e("../cryptography.cjs"),o=e("../curves/index.cjs"),a=e("../guard.cjs"),c=e("../SLIP10Node.cjs"),u=e("../utils.cjs");async function d(e,t,r){const{privateKey:n,publicKey:s,entropy:o,childIndex:u,isHardened:l,depth:h,parentFingerprint:m,masterFingerprint:y,curve:g,network:b}=e;try{return n?await async function({entropy:e,privateKey:t,depth:r,masterFingerprint:n,parentFingerprint:s,childIndex:o,isHardened:u,curve:d,network:l},h){const f=o+(u?i.BIP_32_HARDENED_OFFSET:0),{privateKey:m,chainCode:y}=function({privateKey:e,entropy:t,curve:r}){const n=t.slice(0,32),i=t.slice(32);if("ed25519"===r.name)return{privateKey:n,chainCode:i};const s=p(e,n,r);return{privateKey:s,chainCode:i}}({privateKey:t,entropy:e,curve:d});return await c.SLIP10Node.fromExtendedKey({privateKey:m,chainCode:y,depth:r+1,masterFingerprint:n,parentFingerprint:s,index:f,curve:d.name,network:l,guard:a.PUBLIC_KEY_GUARD},h)}({entropy:o,privateKey:n,depth:h,masterFingerprint:y,parentFingerprint:m,childIndex:u,isHardened:l,curve:g,network:b},r):await f({entropy:o,publicKey:s,depth:h,masterFingerprint:y,parentFingerprint:m,childIndex:u,curve:g,network:b},r)}catch(n){return await d(await t(n,e,r),t,r)}}async function l({privateKey:e,publicKey:t,childIndex:r,isHardened:s,curve:o}){return s?(0,n.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(r+i.BIP_32_HARDENED_OFFSET)]):((0,u.validateBytes)(t,o.compressedPublicKeyLength),h({parentPublicKey:t,childIndex:r}))}function h({parentPublicKey:e,childIndex:t}){return(0,n.concatBytes)([e,(0,u.numberToUint32)(t)])}async function f({entropy:e,publicKey:t,depth:r,masterFingerprint:n,parentFingerprint:i,childIndex:s,curve:o,network:a},u){const{publicKey:d,chainCode:l}=function({publicKey:e,entropy:t,curve:r}){const n=t.slice(0,32),i=t.slice(32);return{publicKey:r.publicAdd(e,n),chainCode:i}}({publicKey:t,entropy:e,curve:o});return await c.SLIP10Node.fromExtendedKey({publicKey:d,chainCode:l,depth:r+1,masterFingerprint:n,parentFingerprint:i,index:s,curve:o.name,network:a},u)}function p(e,t,r){(0,n.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const i=(0,n.bytesToBigInt)(e),s=(0,n.bytesToBigInt)(t);if(s>=r.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const a=(0,o.mod)(i+s,r.curve.n),c=(0,n.hexToBytes)(a.toString(16).padStart(64,"0"));if(!r.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}async function m({chainCode:e,extension:t},r){return await(0,s.hmacSha512)(e,t,r)}function y(e){(0,n.assert)(e,"Invalid parameters: Must specify a node to derive from.")}function g(e,t,r){!function(e,t,r){(0,n.assert)("string"==typeof e,"Invalid path: Must be a string.");const i=e.endsWith("'");(0,n.assert)(!i||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,n.assert)(i||r.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${r.name}.`)}(e,t,r);const s=e.split("'")[0];(0,n.assert)(s);const o=parseInt(s,10);if(!i.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(o)||o<0||o>=i.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${i.BIP_32_HARDENED_OFFSET}.`);return{childIndex:o,isHardened:e.includes("'")}}r.deriveChildKey=async function({path:e,node:t,curve:r,network:n},i,s){y(t);const{childIndex:o,isHardened:a}=g(e,t,r),c={chainCode:t.chainCodeBytes,childIndex:o,isHardened:a,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:r,network:n};if(t.privateKeyBytes){const e=await l({privateKey:t.privateKeyBytes,get publicKey(){return t.compressedPublicKeyBytes},childIndex:o,isHardened:a,curve:r}),n=await m({chainCode:t.chainCodeBytes,extension:e},s);return await d({privateKey:t.privateKeyBytes,get publicKey(){return t.publicKeyBytes},entropy:n,...c},i,s)}const u=h({parentPublicKey:t.compressedPublicKeyBytes,childIndex:o}),f=await m({chainCode:t.chainCodeBytes,extension:u},s);return await d({publicKey:t.compressedPublicKeyBytes,entropy:f,...c},i,s)},r.deriveSecretExtension=l,r.derivePublicExtension=h,r.derivePublicChildKey=f,r.privateAdd=p,r.generateEntropy=m,r.validateNode=y,r.getValidatedPath=g}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/shared.cjs"}],[2261,{"../constants.cjs":2248,"../utils.cjs":2265,"./shared.cjs":2260,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../utils.cjs");async function a(e,t,r){const{curve:a,isHardened:c,childIndex:u,entropy:d,chainCode:l}=t;if("ed25519"===a.name)throw e;const h=c?u+s.BIP_32_HARDENED_OFFSET:u,f=await(0,i.generateEntropy)({chainCode:l,extension:(0,n.concatBytes)([1,d.slice(32,64),(0,o.numberToUint32)(h)])},r);return{...t,entropy:f}}r.deriveChildKey=async function(e,t){return await(0,i.deriveChildKey)(e,a,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/slip10.cjs"}],[2262,{"./BIP44Node.cjs":2246,"./curves/secp256k1.cjs":2254,"./utils.cjs":2265,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeExtendedKey=r.decodeExtendedKey=void 0;const n=e("@metamask/utils"),i=e("./BIP44Node.cjs"),s=e("./curves/secp256k1.cjs"),o=e("./utils.cjs"),a=76067358,c=76066276,u=70617039,d=70615956;r.decodeExtendedKey=e=>{const t=(0,o.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const r=(0,n.createDataView)(t),l=r.getUint32(0,!1),{network:h,type:f}=function(e){switch(e){case a:return{type:"public",network:"mainnet"};case u:return{type:"public",network:"testnet"};case c:return{type:"private",network:"mainnet"};case d:return{type:"private",network:"testnet"};default:throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")}}(l),p=r.getUint8(4);(0,i.validateBIP44Depth)(p);const m=r.getUint32(5,!1),y=r.getUint32(9,!1),g=t.slice(13,45);if(!(0,o.isValidBytesKey)(g,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const b=t.slice(45,78);if(!(0,o.isValidBytesKey)(b,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const w=(0,n.createDataView)(b);if("public"===f){if(2!==w.getUint8(0)&&3!==w.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{type:f,depth:p,parentFingerprint:m,index:y,network:h,chainCode:g,publicKey:(0,s.decompressPublicKey)(b)}}if(0!==w.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{type:f,depth:p,parentFingerprint:m,index:y,network:h,chainCode:g,privateKey:b.slice(1)}};r.encodeExtendedKey=e=>{const{type:t,depth:r,parentFingerprint:i,index:l,network:h,chainCode:f}=e,p=new Uint8Array(78),m=(0,n.createDataView)(p),y=function(e,t){switch(e){case"mainnet":return"public"===t?a:c;case"testnet":return"public"===t?u:d;default:return(0,n.assertExhaustive)(e)}}(h,t);if(m.setUint32(0,y,!1),m.setUint8(4,r),m.setUint32(5,i,!1),m.setUint32(9,l,!1),p.set(f,13),"public"===t){const{publicKey:t}=e,r=(0,s.compressPublicKey)(t);p.set(r,45)}if("private"===t){const{privateKey:t}=e;p.set(t,46)}return(0,o.encodeBase58check)(p)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/extended-keys.cjs"}],[2263,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PUBLIC_KEY_GUARD=void 0,r.PUBLIC_KEY_GUARD=Symbol("Public key guard. Do not export this from the module.")}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/guard.cjs"}],[2264,{"./BIP44CoinTypeNode.cjs":2245,"./BIP44Node.cjs":2246,"./SLIP10Node.cjs":2247,"./constants.cjs":2248,"./curves/index.cjs":2253,"./derivers/index.cjs":2259,"./utils.cjs":2265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.mnemonicToSeed=r.createBip39KeyFromSeed=r.mnemonicPhraseToBytes=r.isValidBIP32PathSegment=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP_44_COIN_TYPE_DEPTH=r.BIP44CoinTypeNode=r.ed25519Bip32=r.ed25519=r.secp256k1=r.SLIP10Node=r.BIP44Node=void 0;var s=e("./BIP44Node.cjs");Object.defineProperty(r,"BIP44Node",{enumerable:!0,get:function(){return s.BIP44Node}});var o=e("./SLIP10Node.cjs");Object.defineProperty(r,"SLIP10Node",{enumerable:!0,get:function(){return o.SLIP10Node}});var a=e("./curves/index.cjs");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return a.secp256k1}}),Object.defineProperty(r,"ed25519",{enumerable:!0,get:function(){return a.ed25519}}),Object.defineProperty(r,"ed25519Bip32",{enumerable:!0,get:function(){return a.ed25519Bip32}});var c=e("./BIP44CoinTypeNode.cjs");Object.defineProperty(r,"BIP44CoinTypeNode",{enumerable:!0,get:function(){return c.BIP44CoinTypeNode}}),Object.defineProperty(r,"BIP_44_COIN_TYPE_DEPTH",{enumerable:!0,get:function(){return c.BIP_44_COIN_TYPE_DEPTH}}),Object.defineProperty(r,"deriveBIP44AddressKey",{enumerable:!0,get:function(){return c.deriveBIP44AddressKey}}),Object.defineProperty(r,"getBIP44AddressKeyDeriver",{enumerable:!0,get:function(){return c.getBIP44AddressKeyDeriver}}),i(e("./constants.cjs"),r);var u=e("./utils.cjs");Object.defineProperty(r,"getBIP44CoinTypeToAddressPathTuple",{enumerable:!0,get:function(){return u.getBIP44CoinTypeToAddressPathTuple}}),Object.defineProperty(r,"isValidBIP32PathSegment",{enumerable:!0,get:function(){return u.isValidBIP32PathSegment}}),Object.defineProperty(r,"mnemonicPhraseToBytes",{enumerable:!0,get:function(){return u.mnemonicPhraseToBytes}});var d=e("./derivers/index.cjs");Object.defineProperty(r,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return d.createBip39KeyFromSeed}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/index.cjs"}],[2265,{"./BIP44CoinTypeNode.cjs":2245,"./constants.cjs":2248,"./cryptography.cjs":2249,"./curves/index.cjs":2253,"@metamask/scure-bip39/dist/wordlists/english.js":2696,"@metamask/utils":3207,"@scure/base":3287},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44CoinType=r.validateNetwork=r.isWebCryptoSupported=r.numberToUint32=r.validateCurve=r.mnemonicPhraseToBytes=r.getFingerprint=r.encodeBase58check=r.decodeBase58check=r.validateBytes=r.getBytesUnsafe=r.getBytes=r.isValidInteger=r.isValidBytesKey=r.nullableHexStringToBytes=r.hexStringToBytes=r.isHardened=r.isValidBIP32PathSegment=r.isValidBIP32Index=r.validateBIP32Index=r.getBIP32NodeToken=r.getUnhardenedBIP32NodeToken=r.getHardenedBIP32NodeToken=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44ChangePathString=r.getBIP44CoinTypePathString=void 0;const n=e("@metamask/scure-bip39/dist/wordlists/english.js"),i=e("@metamask/utils"),s=e("@scure/base"),o=e("./BIP44CoinTypeNode.cjs"),a=e("./constants.cjs"),c=e("./cryptography.cjs"),u=e("./curves/index.cjs");function d(e){return f(e),`${l(e)}'`}function l(e){return f(e),`bip32:${e}`}function h(e){if("number"==typeof e)return l(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?d(e.index):l(e.index)}function f(e){if(!p(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function p(e){return g(e)&&e<=a.MAX_BIP_32_INDEX}function m(e){return e instanceof Uint8Array?e:(0,i.hexToBytes)(e)}function y(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function g(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function b(e,t){if(!y(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}r.getBIP44CoinTypePathString=function(e){return`m / ${a.BIP44PurposeNodeToken} / ${d(e)}`},r.getBIP44ChangePathString=function(e,t){return`${e} / ${d(t.account??0)} / ${h(t.change??0)}`},r.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:r}){return[d(e),h(t),h(r)]},r.getHardenedBIP32NodeToken=d,r.getUnhardenedBIP32NodeToken=l,r.getBIP32NodeToken=h,r.validateBIP32Index=f,r.isValidBIP32Index=p,r.isValidBIP32PathSegment=function(e){if("string"!=typeof e)return!1;const t=e.match(a.UNPREFIXED_BIP_32_PATH_REGEX);if(void 0===t?.groups?.index)return!1;const r=parseInt(t.groups.index,10);return g(r)&&r<=a.MAX_UNHARDENED_BIP_32_INDEX},r.isHardened=function(e){return e.endsWith("'")},r.hexStringToBytes=m,r.nullableHexStringToBytes=function(e){return e!==undefined?m(e):undefined},r.isValidBytesKey=y,r.isValidInteger=g,r.getBytes=function(e,t){if(e instanceof Uint8Array)return b(e,t),e;if("string"==typeof e){const r=(0,i.hexToBytes)(e);return b(r,t),r}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},r.getBytesUnsafe=function e(t,r){if(t instanceof Uint8Array)return(0,i.assert)(t.length===r,`Invalid value: Must be a ${r}-byte byte array.`),t;if("string"==typeof t)return e((0,i.hexToBytes)(t),r);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},r.validateBytes=b;r.decodeBase58check=e=>{const t=(0,s.base58check)(c.sha256);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}};r.encodeBase58check=e=>(0,s.base58check)(c.sha256).encode(e);r.getFingerprint=(e,t)=>{if(!y(e,t))throw new Error(`Invalid public key: The key must be a ${t}-byte, non-zero byte array.`);const r=(0,c.ripemd160)((0,c.sha256)(e));return(0,i.createDataView)(r).getUint32(0,!1)},r.mnemonicPhraseToBytes=function(e){const t=e.split(" ").map(e=>{const t=n.wordlist.indexOf(e);return(0,i.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t});return new Uint8Array(new Uint16Array(t).buffer)},r.validateCurve=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)},r.numberToUint32=function(e,t=!1){const r=new Uint8Array(4);return(0,i.createDataView)(r).setUint32(0,e,t),r},r.isWebCryptoSupported=function(){return Boolean(globalThis.crypto?.subtle)},r.validateNetwork=function(e){if(e!==undefined){if("string"!=typeof e)throw new Error("Invalid network: Must be a string if specified.");if(!["mainnet","testnet"].includes(e))throw new Error('Invalid network: Must be either "mainnet" or "testnet" if specified.')}},r.getBIP44CoinType=function(e){const t=e[o.BIP_44_COIN_TYPE_DEPTH].split(":")[1]?.replace("'","");(0,i.assert)(t,"Invalid derivation path: Coin type is not specified.");const r=Number.parseInt(t,10);return(0,i.assert)(g(r),"Invalid derivation path: Coin type is not a valid integer."),r}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/utils.cjs"}],[2266,{"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountOptionsStruct=r.KeyringAccountEntropyOptionsStruct=r.KeyringAccountEntropyPrivateKeyOptionsStruct=r.KeyringAccountEntropyMnemonicOptionsStruct=r.KeyringAccountEntropyTypeOption=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");var o;!function(e){e.Mnemonic="mnemonic",e.PrivateKey="private-key"}(o||(r.KeyringAccountEntropyTypeOption=o={})),r.KeyringAccountEntropyMnemonicOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.Mnemonic}`),id:(0,i.string)(),derivationPath:(0,i.string)(),groupIndex:(0,i.number)()}),r.KeyringAccountEntropyPrivateKeyOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.PrivateKey}`)}),r.KeyringAccountEntropyOptionsStruct=(0,n.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&e.type===o.PrivateKey?r.KeyringAccountEntropyPrivateKeyOptionsStruct:r.KeyringAccountEntropyMnemonicOptionsStruct),r.KeyringAccountOptionsStruct=(0,i.intersection)([(0,i.record)((0,i.string)(),s.JsonStruct),(0,n.type)({entropy:(0,n.exactOptional)(r.KeyringAccountEntropyOptionsStruct),exportable:(0,n.exactOptional)((0,i.boolean)())})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account-options.cjs"}],[2267,{"./account-options.cjs":2266,"./caip.cjs":2271,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountStruct=r.KeyringAccountTypeStruct=r.AnyAccountType=r.TrxAccountType=r.SolAccountType=r.BtcAccountType=r.EthAccountType=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./account-options.cjs"),o=e("./caip.cjs");var a,c,u,d,l;!function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(a||(r.EthAccountType=a={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(c||(r.BtcAccountType=c={})),function(e){e.DataAccount="solana:data-account"}(u||(r.SolAccountType=u={})),function(e){e.Eoa="tron:eoa"}(d||(r.TrxAccountType=d={})),function(e){e.Account="any:account"}(l||(r.AnyAccountType=l={})),r.KeyringAccountTypeStruct=(0,i.enums)([`${a.Eoa}`,`${a.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${d.Eoa}`,`${l.Account}`]),r.KeyringAccountStruct=(0,n.object)({id:n.AccountIdStruct,type:(0,i.enums)([`${a.Eoa}`,`${a.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${d.Eoa}`,`${l.Account}`]),address:(0,i.string)(),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),options:s.KeyringAccountOptionsStruct,methods:(0,i.array)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account.cjs"}],[2268,{"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResolvedAccountAddressStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.ResolvedAccountAddressStruct=(0,n.object)({address:i.CaipAccountIdStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/address.cjs"}],[2269,{"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AssetStruct=r.NonFungibleAssetStruct=r.FungibleAssetStruct=r.FungibleAssetAmountStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.FungibleAssetAmountStruct=(0,n.object)({unit:(0,i.string)(),amount:n.StringNumberStruct}),r.FungibleAssetStruct=(0,n.object)({fungible:(0,i.literal)(!0),type:s.CaipAssetTypeStruct,...r.FungibleAssetAmountStruct.schema}),r.NonFungibleAssetStruct=(0,n.object)({fungible:(0,i.literal)(!1),id:s.CaipAssetIdStruct}),r.AssetStruct=(0,n.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&!e.fungible?r.NonFungibleAssetStruct:r.FungibleAssetStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/asset.cjs"}],[2270,{"@metamask/keyring-utils":2346,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BalanceStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");r.BalanceStruct=(0,n.object)({amount:n.StringNumberStruct,unit:(0,i.string)()})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/balance.cjs"}],[2271,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaipChainIdStruct=r.CaipAssetTypeOrIdStruct=r.CaipAssetTypeStruct=r.CaipAssetIdStruct=r.CaipAccountIdStruct=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"CaipAccountIdStruct",{enumerable:!0,get:function(){return n.CaipAccountIdStruct}}),Object.defineProperty(r,"CaipAssetIdStruct",{enumerable:!0,get:function(){return n.CaipAssetIdStruct}}),Object.defineProperty(r,"CaipAssetTypeStruct",{enumerable:!0,get:function(){return n.CaipAssetTypeStruct}}),Object.defineProperty(r,"CaipAssetTypeOrIdStruct",{enumerable:!0,get:function(){return n.CaipAssetTypeOrIdStruct}}),Object.defineProperty(r,"CaipChainIdStruct",{enumerable:!0,get:function(){return n.CaipChainIdStruct}})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/caip.cjs"}],[2272,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DerivationPathStruct=void 0;const n=e("@metamask/utils");r.DerivationPathStruct=(0,n.definePattern)("DerivationPath",/^m(?:\/\d+'?)+$/u)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/derivation.cjs"}],[2273,{"./caip.cjs":2271,"./derivation.cjs":2272,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscoveredAccountStruct=r.DiscoveredBip44AccountStruct=r.DiscoveredAccountType=void 0;const n=e("@metamask/superstruct"),i=e("./caip.cjs"),s=e("./derivation.cjs");var o;!function(e){e.Bip44="bip44"}(o||(r.DiscoveredAccountType=o={})),r.DiscoveredBip44AccountStruct=(0,n.object)({type:(0,n.literal)(`${o.Bip44}`),scopes:(0,n.array)(i.CaipChainIdStruct),derivationPath:s.DerivationPathStruct}),r.DiscoveredAccountStruct=r.DiscoveredBip44AccountStruct}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/discovery.cjs"}],[2274,{"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountDataStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.KeyringAccountDataStruct=(0,n.record)((0,n.string)(),i.JsonStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/export.cjs"}],[2275,{"./account-options.cjs":2266,"./account.cjs":2267,"./address.cjs":2268,"./asset.cjs":2269,"./balance.cjs":2270,"./caip.cjs":2271,"./discovery.cjs":2273,"./export.cjs":2274,"./options.cjs":2276,"./pagination.cjs":2277,"./request.cjs":2278,"./response.cjs":2279,"./transaction.cjs":2280,"./v2/index.cjs":2286},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./account.cjs"),r),i(e("./account-options.cjs"),r),i(e("./address.cjs"),r),i(e("./asset.cjs"),r),i(e("./balance.cjs"),r),i(e("./caip.cjs"),r),i(e("./discovery.cjs"),r),i(e("./export.cjs"),r),i(e("./request.cjs"),r),i(e("./response.cjs"),r),i(e("./transaction.cjs"),r),i(e("./pagination.cjs"),r),i(e("./options.cjs"),r),i(e("./v2/index.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/index.cjs"}],[2276,{"@metamask/keyring-utils":2346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MetaMaskOptionsStruct=void 0;const n=e("@metamask/keyring-utils");r.MetaMaskOptionsStruct=(0,n.object)({metamask:(0,n.exactOptional)((0,n.object)({correlationId:n.UuidStruct}))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/options.cjs"}],[2277,{"@metamask/keyring-utils":2346,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PaginationStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");r.PaginationStruct=(0,n.object)({limit:(0,i.number)(),next:(0,n.exactOptional)((0,i.nullable)((0,i.string)()))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/pagination.cjs"}],[2278,{"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringRequestStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.KeyringRequestStruct=(0,n.object)({id:n.UuidStruct,scope:(0,i.string)(),account:n.UuidStruct,origin:(0,i.string)(),request:(0,n.object)({method:(0,i.string)(),params:(0,n.exactOptional)((0,i.union)([(0,i.array)(s.JsonStruct),(0,i.record)((0,i.string)(),s.JsonStruct)]))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/request.cjs"}],[2279,{"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringResponseStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.KeyringResponseStruct=(0,i.union)([(0,n.object)({pending:(0,i.literal)(!0),redirect:(0,n.exactOptional)((0,n.object)({message:(0,n.exactOptional)((0,i.string)()),url:(0,n.exactOptional)((0,i.string)())}))}),(0,n.object)({pending:(0,i.literal)(!1),result:s.JsonStruct})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/response.cjs"}],[2280,{"./asset.cjs":2269,"./caip.cjs":2271,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionsPageStruct=r.TransactionStruct=r.TransactionEventStruct=r.TransactionType=r.TransactionStatus=r.FeeType=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./asset.cjs"),o=e("./caip.cjs"),a=(0,n.object)({address:(0,i.string)(),asset:(0,i.nullable)(s.AssetStruct)});var c;!function(e){e.Base="base",e.Priority="priority"}(c||(r.FeeType=c={}));const u=(0,n.object)({type:(0,i.enums)([`${c.Base}`,`${c.Priority}`]),asset:s.AssetStruct});var d,l;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(d||(r.TransactionStatus=d={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap",e.BridgeSend="bridge:send",e.BridgeReceive="bridge:receive",e.StakeDeposit="stake:deposit",e.StakeWithdraw="stake:withdraw",e.Unknown="unknown"}(l||(r.TransactionType=l={})),r.TransactionEventStruct=(0,n.object)({status:(0,i.enums)([`${d.Submitted}`,`${d.Unconfirmed}`,`${d.Confirmed}`,`${d.Failed}`]),timestamp:(0,i.nullable)((0,i.number)())}),r.TransactionStruct=(0,n.object)({id:(0,i.string)(),chain:o.CaipChainIdStruct,account:n.UuidStruct,status:(0,i.enums)([`${d.Submitted}`,`${d.Unconfirmed}`,`${d.Confirmed}`,`${d.Failed}`]),timestamp:(0,i.nullable)((0,i.number)()),type:(0,i.enums)([`${l.Send}`,`${l.Receive}`,`${l.Swap}`,`${l.BridgeSend}`,`${l.BridgeReceive}`,`${l.StakeDeposit}`,`${l.StakeWithdraw}`,`${l.Unknown}`]),from:(0,i.array)(a),to:(0,i.array)(a),fees:(0,i.array)(u),events:(0,i.array)(r.TransactionEventStruct)}),r.TransactionsPageStruct=(0,n.object)({data:(0,i.array)(r.TransactionStruct),next:(0,i.nullable)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/transaction.cjs"}],[2281,{"../../derivation.cjs":2272,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CreateAccountBip44DiscoverOptionsStruct=r.CreateAccountBip44DeriveIndexOptionsStruct=r.CreateAccountBip44DerivePathOptionsStruct=void 0;const n=e("@metamask/superstruct"),i=e("../../derivation.cjs");r.CreateAccountBip44DerivePathOptionsStruct=(0,n.object)({type:(0,n.literal)("bip44:derive-path"),entropySource:(0,n.string)(),derivationPath:i.DerivationPathStruct}),r.CreateAccountBip44DeriveIndexOptionsStruct=(0,n.object)({type:(0,n.literal)("bip44:derive-index"),entropySource:(0,n.string)(),groupIndex:(0,n.number)()}),r.CreateAccountBip44DiscoverOptionsStruct=(0,n.object)({type:(0,n.literal)("bip44:discover"),entropySource:(0,n.string)(),groupIndex:(0,n.number)()})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/create-account/bip44.cjs"}],[2282,{"./bip44.cjs":2281,"./private-key.cjs":2283,"@metamask/keyring-utils":2346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.CreateAccountOptionsStruct=r.AccountCreationType=void 0;const s=e("@metamask/keyring-utils"),o=e("./bip44.cjs"),a=e("./private-key.cjs");var c;i(e("./bip44.cjs"),r),i(e("./private-key.cjs"),r),function(e){e.Bip44DerivePath="bip44:derive-path",e.Bip44DeriveIndex="bip44:derive-index",e.Bip44Discover="bip44:discover",e.PrivateKeyImport="private-key:import"}(c||(r.AccountCreationType=c={})),r.CreateAccountOptionsStruct=(0,s.selectiveUnion)(e=>{const t=e?.type;switch(t){case c.Bip44DerivePath:return o.CreateAccountBip44DerivePathOptionsStruct;case c.Bip44DeriveIndex:return o.CreateAccountBip44DeriveIndexOptionsStruct;case c.Bip44Discover:return o.CreateAccountBip44DiscoverOptionsStruct;case c.PrivateKeyImport:return a.CreateAccountPrivateKeyOptionsStruct;default:return o.CreateAccountBip44DerivePathOptionsStruct}})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/create-account/index.cjs"}],[2283,{"../../account.cjs":2267,"../private-key.cjs":2289,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CreateAccountPrivateKeyOptionsStruct=void 0;const n=e("@metamask/superstruct"),i=e("../../account.cjs"),s=e("../private-key.cjs");r.CreateAccountPrivateKeyOptionsStruct=(0,n.object)({type:(0,n.literal)("private-key:import"),privateKey:(0,n.string)(),encoding:s.PrivateKeyEncodingStruct,accountType:(0,n.exactOptional)(i.KeyringAccountTypeStruct)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/create-account/private-key.cjs"}],[2284,{"./private-key.cjs":2285},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.ExportedAccountStruct=r.ExportAccountOptionsStruct=r.AccountExportType=void 0;const s=e("./private-key.cjs");var o;i(e("./private-key.cjs"),r),function(e){e.PrivateKey="private-key"}(o||(r.AccountExportType=o={})),r.ExportAccountOptionsStruct=s.ExportAccountPrivateKeyOptionsStruct,r.ExportedAccountStruct=s.PrivateKeyExportedAccountStruct}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/export-account/index.cjs"}],[2285,{"../private-key.cjs":2289,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExportAccountPrivateKeyOptionsStruct=r.PrivateKeyExportedAccountStruct=void 0;const n=e("@metamask/superstruct"),i=e("../private-key.cjs");r.PrivateKeyExportedAccountStruct=(0,n.object)({type:(0,n.literal)("private-key"),privateKey:(0,n.string)(),encoding:i.PrivateKeyEncodingStruct}),r.ExportAccountPrivateKeyOptionsStruct=(0,n.object)({type:(0,n.literal)("private-key"),encoding:i.PrivateKeyEncodingStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/export-account/private-key.cjs"}],[2286,{"./create-account/index.cjs":2282,"./export-account/index.cjs":2284,"./keyring-capabilities.cjs":2287,"./keyring-type.cjs":2288,"./private-key.cjs":2289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./keyring-capabilities.cjs"),r),i(e("./keyring-type.cjs"),r),i(e("./create-account/index.cjs"),r),i(e("./export-account/index.cjs"),r),i(e("./private-key.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/index.cjs"}],[2287,{"../caip.cjs":2271,"./private-key.cjs":2289,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringCapabilitiesStruct=void 0;const n=e("@metamask/superstruct"),i=e("./private-key.cjs"),s=e("../caip.cjs");r.KeyringCapabilitiesStruct=(0,n.object)({scopes:(0,n.nonempty)((0,n.array)(s.CaipChainIdStruct)),bip44:(0,n.exactOptional)((0,n.object)({derivePath:(0,n.boolean)(),deriveIndex:(0,n.boolean)(),discover:(0,n.boolean)()})),privateKey:(0,n.exactOptional)((0,n.object)({importFormats:(0,n.exactOptional)((0,n.array)(i.ImportPrivateKeyFormatStruct)),exportFormats:(0,n.exactOptional)((0,n.array)(i.ExportPrivateKeyFormatStruct))}))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/keyring-capabilities.cjs"}],[2288,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringType=void 0,function(e){e.Hd="hd",e.PrivateKey="private-key",e.Qr="qr",e.Snap="snap",e.Ledger="ledger",e.Lattice="lattice",e.Trezor="trezor",e.OneKey="onekey"}(n||(r.KeyringType=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/keyring-type.cjs"}],[2289,{"../account.cjs":2267,"@metamask/superstruct":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExportPrivateKeyFormatStruct=r.ImportPrivateKeyFormatStruct=r.PrivateKeyEncodingStruct=r.PrivateKeyEncoding=void 0;const n=e("@metamask/superstruct"),i=e("../account.cjs");var s;!function(e){e.Hexadecimal="hexadecimal",e.Base58="base58"}(s||(r.PrivateKeyEncoding=s={})),r.PrivateKeyEncodingStruct=(0,n.enums)([`${s.Hexadecimal}`,`${s.Base58}`]),r.ImportPrivateKeyFormatStruct=(0,n.object)({encoding:r.PrivateKeyEncodingStruct,type:(0,n.exactOptional)(i.KeyringAccountTypeStruct)}),r.ExportPrivateKeyFormatStruct=(0,n.object)({encoding:r.PrivateKeyEncodingStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/private-key.cjs"}],[2290,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.BtcScope=void 0,function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(n||(r.BtcScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/constants.cjs"}],[2291,{"./constants.cjs":2290,"./types.cjs":2292},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/index.cjs"}],[2292,{"../api/index.cjs":2275,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"bitcoin-address-validation":4065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BtcP2trAccountStruct=r.BtcP2wpkhAccountStruct=r.BtcP2shAccountStruct=r.BtcP2pkhAccountStruct=r.BtcMethod=r.BtcP2trAddressStruct=r.BtcP2wpkhAddressStruct=r.BtcP2shAddressStruct=r.BtcP2pkhAddressStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("bitcoin-address-validation"),o=e("../api/index.cjs"),a=(e,t)=>{try{return(0,s.getAddressInfo)(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}};var c;r.BtcP2pkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2pkhAddressStruct",e=>a(e,s.AddressType.p2pkh)),r.BtcP2shAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2shAddressStruct",e=>a(e,s.AddressType.p2sh)),r.BtcP2wpkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2wpkhAddressStruct",e=>a(e,s.AddressType.p2wpkh)),r.BtcP2trAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2trAddressStruct",e=>a(e,s.AddressType.p2tr)),function(e){e.SignPsbt="signPsbt",e.ComputeFee="computeFee",e.FillPsbt="fillPsbt",e.BroadcastPsbt="broadcastPsbt",e.SendTransfer="sendTransfer",e.GetUtxo="getUtxo",e.ListUtxos="listUtxos",e.PublicDescriptor="publicDescriptor",e.SignMessage="signMessage"}(c||(r.BtcMethod=c={}));const u=(0,n.object)({...o.KeyringAccountStruct.schema,scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(c)))});r.BtcP2pkhAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2pkhAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2pkh}`)}),r.BtcP2shAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2shAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2sh}`)}),r.BtcP2wpkhAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2wpkhAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2wpkh}`)}),r.BtcP2trAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2trAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2tr}`)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/types.cjs"}],[2293,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.EthScope=void 0,function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(n||(r.EthScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/constants.cjs"}],[2294,{"./types.cjs":2295},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/erc4337/index.cjs"}],[2295,{"../types.cjs":2297,"@metamask/keyring-utils":2346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EthUserOperationPatchStruct=r.EthBaseUserOperationStruct=r.EthBaseTransactionStruct=r.EthUserOperationStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("../types.cjs");r.EthUserOperationStruct=(0,n.object)({sender:i.EthAddressStruct,nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct,maxFeePerGas:i.EthUint256Struct,maxPriorityFeePerGas:i.EthUint256Struct,paymasterAndData:i.EthBytesStruct,signature:i.EthBytesStruct}),r.EthBaseTransactionStruct=(0,n.object)({to:i.EthAddressStruct,value:i.EthUint256Struct,data:i.EthBytesStruct}),r.EthBaseUserOperationStruct=(0,n.object)({nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,gasLimits:(0,n.exactOptional)((0,n.object)({callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct})),dummyPaymasterAndData:i.EthBytesStruct,dummySignature:i.EthBytesStruct,bundlerUrl:n.UrlStruct}),r.EthUserOperationPatchStruct=(0,n.object)({paymasterAndData:i.EthBytesStruct,callGasLimit:(0,n.exactOptional)(i.EthUint256Struct),verificationGasLimit:(0,n.exactOptional)(i.EthUint256Struct),preVerificationGas:(0,n.exactOptional)(i.EthUint256Struct)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/erc4337/types.cjs"}],[2296,{"./constants.cjs":2293,"./erc4337/index.cjs":2294,"./types.cjs":2297,"./utils.cjs":2298},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./erc4337/index.cjs"),r),i(e("./types.cjs"),r),i(e("./utils.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/index.cjs"}],[2297,{"../api/index.cjs":2275,"./index.cjs":2296,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EthErc4337AccountStruct=r.EthEoaAccountStruct=r.EthMethod=r.EthUint256Struct=r.EthAddressStruct=r.EthBytesStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("./index.cjs"),a=e("../api/index.cjs");var c;r.EthBytesStruct=(0,s.definePattern)("EthBytes",/^0x[0-9a-f]*$/iu),r.EthAddressStruct=(0,s.definePattern)("EthAddress",/^0x[0-9a-f]{40}$/iu),r.EthUint256Struct=(0,s.definePattern)("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu),function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(c||(r.EthMethod=c={})),r.EthEoaAccountStruct=(0,n.object)({...a.KeyringAccountStruct.schema,address:r.EthAddressStruct,type:(0,i.literal)(`${a.EthAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)((0,i.literal)(o.EthScope.Eoa))),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTransaction}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`]))}),r.EthErc4337AccountStruct=(0,n.object)({...a.KeyringAccountStruct.schema,address:r.EthAddressStruct,type:(0,i.literal)(`${a.EthAccountType.Erc4337}`),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`,`${c.PrepareUserOperation}`,`${c.PatchUserOperation}`,`${c.SignUserOperation}`]))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/types.cjs"}],[2298,{"../api/index.cjs":2275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEvmAccountType=function(e){return e===n.EthAccountType.Eoa||e===n.EthAccountType.Erc4337};const n=e("../api/index.cjs")}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/utils.cjs"}],[2299,{"./api/index.cjs":2275,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AccountAssetListUpdatedEventStruct=r.AccountTransactionsUpdatedEventStruct=r.AccountBalancesUpdatedEventStruct=r.RequestRejectedEventStruct=r.RequestApprovedEventStruct=r.AccountDeletedEventStruct=r.AccountUpdatedEventStruct=r.AccountCreatedEventStruct=r.KeyringEvent=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("./api/index.cjs");var a;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(a||(r.KeyringEvent=a={})),r.AccountCreatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountCreated}`),params:(0,n.object)({account:o.KeyringAccountStruct,accountNameSuggestion:(0,n.exactOptional)((0,i.string)()),displayConfirmation:(0,n.exactOptional)((0,i.boolean)()),displayAccountNameSuggestion:(0,n.exactOptional)((0,i.boolean)()),...o.MetaMaskOptionsStruct.schema})}),r.AccountUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountUpdated}`),params:(0,n.object)({account:o.KeyringAccountStruct})}),r.AccountDeletedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountDeleted}`),params:(0,n.object)({id:n.UuidStruct})}),r.RequestApprovedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.RequestApproved}`),params:(0,n.object)({id:n.UuidStruct,result:s.JsonStruct})}),r.RequestRejectedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.RequestRejected}`),params:(0,n.object)({id:n.UuidStruct})}),r.AccountBalancesUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountBalancesUpdated}`),params:(0,n.object)({balances:(0,i.record)(n.AccountIdStruct,(0,i.record)(s.CaipAssetTypeStruct,o.FungibleAssetAmountStruct))})}),r.AccountTransactionsUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountTransactionsUpdated}`),params:(0,n.object)({transactions:(0,i.record)(n.AccountIdStruct,(0,i.array)(o.TransactionStruct))})}),r.AccountAssetListUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountAssetListUpdated}`),params:(0,n.object)({assets:(0,i.record)(n.AccountIdStruct,(0,n.object)({added:(0,i.array)(s.CaipAssetTypeOrIdStruct),removed:(0,i.array)(s.CaipAssetTypeOrIdStruct)}))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/events.cjs"}],[230,{"../../../../shared/modules/selectors/networks":6034,"@metamask/chain-agnostic-permission":1459,"@metamask/permission-controller":2528,"@metamask/snaps-utils":2994,"@metamask/utils":3207,nanoid:5139},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermissionBackgroundApiMethods=function({permissionController:e,approvalController:t,accountsController:r,networkController:u,multichainNetworkController:d}){const l=t=>{let r;try{r=e.getCaveat(t,s.Caip25EndowmentPermissionName,s.Caip25CaveatType)}catch(e){if(!(e instanceof i.PermissionDoesNotExistError))throw e}return r},h=(t,n)=>{const i=l(t);if(!i)throw new Error(`Cannot set account permissions "${n.join(", ")}" for origin "${t}": no permission currently exists for this origin.`);if(0===n.length)return void e.revokePermission(t,s.Caip25EndowmentPermissionName);let o=[...(0,s.getAllScopesFromCaip25CaveatValue)(i.value)];const h=Object.keys((0,c.getNetworkConfigurationsByCaipChainId)({networkConfigurationsByChainId:u.state.networkConfigurationsByChainId,multichainNetworkConfigurationsByChainId:d.state.multichainNetworkConfigurationsByChainId,internalAccounts:r.state.internalAccounts}));n.forEach(e=>{const{chain:{namespace:t}}=(0,a.parseCaipAccountId)(e);if(!o.some(e=>{try{const{namespace:r}=(0,a.parseCaipChainId)(e);return t===r}catch(e){return!1}})){const e=h.filter(e=>{try{const{namespace:r}=(0,a.parseCaipChainId)(e);return t===r}catch(e){return!1}});o=[...o,...e]}});const f=(0,s.setChainIdsInCaip25CaveatValue)(i.value,o),p=(0,s.setNonSCACaipAccountIdsInCaip25CaveatValue)(f,n);e.updateCaveat(t,s.Caip25EndowmentPermissionName,s.Caip25CaveatType,p)},f=(t,r)=>{const n=l(t);if(!n)throw new Error(`Cannot set permission for chainIds "${r.join(", ")}": No permissions exist for origin "${t}".`);if(0!==r.length||(0,o.isSnapId)(t)){const i=(0,s.setChainIdsInCaip25CaveatValue)(n.value,r),o=(0,s.getCaipAccountIdsFromCaip25CaveatValue)(n.value),a=(0,s.setNonSCACaipAccountIdsInCaip25CaveatValue)(i,o);e.updateCaveat(t,s.Caip25EndowmentPermissionName,s.Caip25CaveatType,a)}else e.revokePermission(t,s.Caip25EndowmentPermissionName)},p=(e,t)=>{const n=l(e);if(!n)throw new Error(`Cannot add account permissions for origin "${e}": no permission currently exists for this origin.`);const i=t.map(e=>r.getAccountByAddress(e)).map(e=>`${e.scopes[0]}:${e.address}`),o=(0,s.getCaipAccountIdsFromCaip25CaveatValue)(n.value),a=Array.from(new Set([...o,...i]));h(e,a)},m=(e,t)=>{const r=l(e);if(!r)throw new Error(`Cannot add chain permissions for origin "${e}": no permission currently exists for this origin.`);const n=(0,s.getAllScopesFromCaip25CaveatValue)(r.value),i=Array.from(new Set([...n,...t]));f(e,i)};return{addPermittedAccount:(e,t)=>p(e,[t]),addPermittedAccounts:(e,t)=>p(e,t),removePermittedAccount:(e,t)=>{const n=l(e);if(!n)throw new Error(`Cannot remove account "${t}": No permissions exist for origin "${e}".`);const i=(0,s.getCaipAccountIdsFromCaip25CaveatValue)(n.value),o=r.getAccountByAddress(t),a=i.filter(e=>!(0,s.isInternalAccountInPermittedAccountIds)(o,[e]));i.length!==a.length&&h(e,a)},setPermittedAccounts:h,addPermittedChain:(e,t)=>m(e,[t]),addPermittedChains:(e,t)=>m(e,t),removePermittedChain:(e,t)=>{const r=l(e);if(!r)throw new Error(`Cannot remove permission for chainId "${t}": No permissions exist for origin "${e}".`);const n=(0,s.getAllScopesFromCaip25CaveatValue)(r.value),i=n.filter(e=>e!==t);n.length!==i.length&&f(e,i)},setPermittedChains:f,requestAccountsAndChainPermissionsWithId:r=>{const o=(0,n.nanoid)();return(async(r,n)=>{const{permissions:o}=await t.addAndShowApprovalRequest({id:n,origin:r,requestData:{metadata:{id:n,origin:r},permissions:{[s.Caip25EndowmentPermissionName]:{caveats:[{type:s.Caip25CaveatType,value:{requiredScopes:{},optionalScopes:{},isMultichainOrigin:!1}}]}}},type:i.MethodNames.RequestPermissions});e.grantPermissions({subject:{origin:r},approvedPermissions:o})})(r,o),o}}};var n=e("nanoid"),i=e("@metamask/permission-controller"),s=e("@metamask/chain-agnostic-permission"),o=e("@metamask/snaps-utils"),a=e("@metamask/utils"),c=e("../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[2300,{"./api/index.cjs":2275,"./btc/index.cjs":2291,"./eth/index.cjs":2296,"./events.cjs":2299,"./rpc.cjs":2301,"./sol/index.cjs":2303,"./trx/index.cjs":2306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./api/index.cjs"),r),i(e("./btc/index.cjs"),r),i(e("./sol/index.cjs"),r),i(e("./eth/index.cjs"),r),i(e("./trx/index.cjs"),r),i(e("./rpc.cjs"),r),i(e("./events.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/index.cjs"}],[2301,{"./api/index.cjs":2275,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RejectRequestResponseStruct=r.RejectRequestRequestStruct=r.ApproveRequestResponseStruct=r.ApproveRequestRequestStruct=r.SubmitRequestResponseStruct=r.SubmitRequestRequestStruct=r.GetRequestResponseStruct=r.GetRequestRequestStruct=r.ListRequestsResponseStruct=r.ListRequestsRequestStruct=r.ExportAccountResponseStruct=r.ExportAccountRequestStruct=r.DeleteAccountResponseStruct=r.DeleteAccountRequestStruct=r.UpdateAccountResponseStruct=r.UpdateAccountRequestStruct=r.FilterAccountChainsResponseStruct=r.FilterAccountChainsStruct=r.ResolveAccountAddressResponseStruct=r.ResolveAccountAddressRequestStruct=r.GetAccountBalancesResponseStruct=r.GetAccountBalancesRequestStruct=r.ListAccountAssetsResponseStruct=r.ListAccountAssetsRequestStruct=r.ListAccountTransactionsResponseStruct=r.ListAccountTransactionsRequestStruct=r.DiscoverAccountsResponseStruct=r.DiscoverAccountsRequestStruct=r.SetSelectedAccountsResponseStruct=r.SetSelectedAccountsRequestStruct=r.CreateAccountResponseStruct=r.CreateAccountRequestStruct=r.GetAccountResponseStruct=r.GetAccountRequestStruct=r.ListAccountsResponseStruct=r.ListAccountsRequestStruct=r.KeyringRpcMethod=void 0,r.isKeyringRpcMethod=function(e){return Object.values(a).includes(e)};const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("./api/index.cjs");var a;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.DiscoverAccounts="keyring_discoverAccounts",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest",e.SetSelectedAccounts="keyring_setSelectedAccounts"}(a||(r.KeyringRpcMethod=a={}));const c={jsonrpc:(0,i.literal)("2.0"),id:(0,i.union)([(0,i.string)(),(0,i.number)(),(0,i.literal)(null)])};r.ListAccountsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listAccounts")}),r.ListAccountsResponseStruct=(0,i.array)(o.KeyringAccountStruct),r.GetAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_getAccount"),params:(0,n.object)({id:n.UuidStruct})}),r.GetAccountResponseStruct=o.KeyringAccountStruct,r.CreateAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_createAccount"),params:(0,n.object)({options:(0,i.record)((0,i.string)(),s.JsonStruct)})}),r.CreateAccountResponseStruct=o.KeyringAccountStruct,r.SetSelectedAccountsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_setSelectedAccounts"),params:(0,n.object)({accounts:(0,i.array)((0,i.string)())})}),r.SetSelectedAccountsResponseStruct=(0,i.literal)(null),r.DiscoverAccountsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_discoverAccounts"),params:(0,n.object)({scopes:(0,i.array)(o.CaipChainIdStruct),entropySource:(0,i.string)(),groupIndex:(0,i.number)()})}),r.DiscoverAccountsResponseStruct=(0,i.array)(o.DiscoveredAccountStruct),r.ListAccountTransactionsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listAccountTransactions"),params:(0,n.object)({id:n.UuidStruct,pagination:o.PaginationStruct})}),r.ListAccountTransactionsResponseStruct=o.TransactionsPageStruct,r.ListAccountAssetsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listAccountAssets"),params:(0,n.object)({id:n.UuidStruct})}),r.ListAccountAssetsResponseStruct=(0,i.array)(o.CaipAssetTypeOrIdStruct),r.GetAccountBalancesRequestStruct=(0,n.object)({...c,method:(0,i.literal)(`${a.GetAccountBalances}`),params:(0,n.object)({id:n.UuidStruct,assets:(0,i.array)(o.CaipAssetTypeStruct)})}),r.GetAccountBalancesResponseStruct=(0,i.record)(o.CaipAssetTypeStruct,o.BalanceStruct),r.ResolveAccountAddressRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_resolveAccountAddress"),params:(0,n.object)({scope:o.CaipChainIdStruct,request:n.JsonRpcRequestStruct})}),r.ResolveAccountAddressResponseStruct=(0,i.nullable)((0,n.object)({address:o.CaipAccountIdStruct})),r.FilterAccountChainsStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_filterAccountChains"),params:(0,n.object)({id:n.UuidStruct,chains:(0,i.array)((0,i.string)())})}),r.FilterAccountChainsResponseStruct=(0,i.array)((0,i.string)()),r.UpdateAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_updateAccount"),params:(0,n.object)({account:o.KeyringAccountStruct})}),r.UpdateAccountResponseStruct=(0,i.literal)(null),r.DeleteAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_deleteAccount"),params:(0,n.object)({id:n.UuidStruct})}),r.DeleteAccountResponseStruct=(0,i.literal)(null),r.ExportAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_exportAccount"),params:(0,n.object)({id:n.UuidStruct})}),r.ExportAccountResponseStruct=o.KeyringAccountDataStruct,r.ListRequestsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listRequests")}),r.ListRequestsResponseStruct=(0,i.array)(o.KeyringRequestStruct),r.GetRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_getRequest"),params:(0,n.object)({id:n.UuidStruct})}),r.GetRequestResponseStruct=o.KeyringRequestStruct,r.SubmitRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_submitRequest"),params:o.KeyringRequestStruct}),r.SubmitRequestResponseStruct=o.KeyringResponseStruct,r.ApproveRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_approveRequest"),params:(0,n.object)({id:n.UuidStruct,data:(0,i.record)((0,i.string)(),s.JsonStruct)})}),r.ApproveRequestResponseStruct=(0,i.literal)(null),r.RejectRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_rejectRequest"),params:(0,n.object)({id:n.UuidStruct})}),r.RejectRequestResponseStruct=(0,i.literal)(null)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/rpc.cjs"}],[2302,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.SolScope=void 0,function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(n||(r.SolScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/constants.cjs"}],[2303,{"./constants.cjs":2302,"./types.cjs":2304},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/index.cjs"}],[2304,{"../api/index.cjs":2275,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SolDataAccountStruct=r.SolMethod=r.SolAddressStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../api/index.cjs");var a;r.SolAddressStruct=(0,s.definePattern)("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu),function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(a||(r.SolMethod=a={})),r.SolDataAccountStruct=(0,n.object)({...o.KeyringAccountStruct.schema,address:r.SolAddressStruct,type:(0,i.literal)(`${o.SolAccountType.DataAccount}`),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(a)))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/types.cjs"}],[2305,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.TrxScope=void 0,function(e){e.Mainnet="tron:728126428",e.Nile="tron:3448148188",e.Shasta="tron:2494104990"}(n||(r.TrxScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/constants.cjs"}],[2306,{"./constants.cjs":2305,"./types.cjs":2307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/index.cjs"}],[2307,{"../api/index.cjs":2275,"@metamask/keyring-utils":2346,"@metamask/superstruct":3027,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TrxEoaAccountStruct=r.TrxMethod=r.TrxAddressStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../api/index.cjs");var a;r.TrxAddressStruct=(0,s.definePattern)("TrxAddress",/^T[1-9A-HJ-NP-Za-km-z]{33}$/iu),function(e){e.SignMessage="signMessage",e.SignTransaction="signTransaction",e.SignMessageV2="signMessageV2",e.VerifyMessageV2="verifyMessageV2"}(a||(r.TrxMethod=a={})),r.TrxEoaAccountStruct=(0,n.object)({...o.KeyringAccountStruct.schema,address:r.TrxAddressStruct,type:(0,i.literal)(`${o.TrxAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(a)))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/types.cjs"}]],[],{});