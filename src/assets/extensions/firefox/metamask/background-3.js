LavaPack.loadBundle([[316,{"../../../../../shared/constants/app":5876,"./ethereum-chain-utils":310,"@metamask/rpc-errors":2692,"@metamask/snaps-utils":2994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/rpc-errors"),i=e("@metamask/snaps-utils"),o=e("../../../../../shared/constants/app"),a=e("./ethereum-chain-utils");const s={methodNames:[o.MESSAGE_TYPE.SWITCH_ETHEREUM_CHAIN],implementation:async function(e,t,n,s,{getNetworkConfigurationByChainId:c,setActiveNetwork:u,requestUserApproval:l,getCaveat:p,getCurrentChainIdForDomain:d,requestPermittedChainsPermissionIncrementalForOrigin:y,rejectApprovalRequestsForOrigin:m,setTokenNetworkFilter:f,setEnabledNetworks:h,getEnabledNetworks:T,hasApprovalRequestsForOrigin:g}){let b;try{b=(0,a.validateSwitchEthereumChainParams)(e)}catch(e){return s(e)}const{origin:_}=e,O=d(_);if(O===b)return t.result=null,s();const w=c(b),v=null==w?void 0:w.rpcEndpoints[w.defaultRpcEndpointIndex].networkClientId;if(!v)return s(r.providerErrors.custom({code:4902,message:`Unrecognized chain ID "${b}". Try adding the chain using ${o.MESSAGE_TYPE.ADD_ETHEREUM_CHAIN} first.`}));const S=c(O),x=c(b);return(0,a.switchChain)(t,s,b,v,{origin:_,isSwitchFlow:!0,autoApprove:(0,i.isSnapId)(_),setActiveNetwork:u,getCaveat:p,requestPermittedChainsPermissionIncrementalForOrigin:y,rejectApprovalRequestsForOrigin:m,setTokenNetworkFilter:f,setEnabledNetworks:h,getEnabledNetworks:T,requestUserApproval:l,hasApprovalRequestsForOrigin:g,toNetworkConfiguration:x,fromNetworkConfiguration:S})},hookNames:{getNetworkConfigurationByChainId:!0,setActiveNetwork:!0,requestUserApproval:!0,getCaveat:!0,getCurrentChainIdForDomain:!0,requestPermittedChainsPermissionIncrementalForOrigin:!0,rejectApprovalRequestsForOrigin:!0,setTokenNetworkFilter:!0,setEnabledNetworks:!0,getEnabledNetworks:!0,hasApprovalRequestsForOrigin:!0}};n.default=s}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/handlers/switch-ethereum-chain.js"}],[317,{"../../../../../shared/constants/permissions":5900,"../../../controllers/permissions":233,"@metamask/chain-agnostic-permission":1459,"@metamask/permission-controller":2528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionsHandler=void 0;var r=e("@metamask/permission-controller"),i=e("@metamask/chain-agnostic-permission"),o=e("../../../controllers/permissions"),a=e("../../../../../shared/constants/permissions");n.getPermissionsHandler={methodNames:[r.MethodNames.GetPermissions],implementation:async function(e,t,n,r,{getPermissionsForOrigin:s,getAccounts:c}){var u;const l={...s()},p=l[i.Caip25EndowmentPermissionName],d=null==p||null===(u=p.caveats)||void 0===u||null===(u=u.find(({type:e})=>e===i.Caip25CaveatType))||void 0===u?void 0:u.value;if(delete l[i.Caip25EndowmentPermissionName],d){const e=c();e.length>0&&(l[a.RestrictedMethods.eth_accounts]={...p,parentCapability:a.RestrictedMethods.eth_accounts,caveats:[{type:a.CaveatTypes.restrictReturnedAccounts,value:e}]});const t=(0,i.getPermittedEthChainIds)(d);t.length>0&&(l[o.PermissionNames.permittedChains]={...p,parentCapability:o.PermissionNames.permittedChains,caveats:[{type:a.CaveatTypes.restrictNetworkSwitching,value:t}]})}return t.result=Object.values(l),r()},hookNames:{getPermissionsForOrigin:!0,getAccounts:!0}}}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/handlers/wallet-getPermissions.ts"}],[3179,{"./constants.cjs":3180,"./helpers/Bundler.cjs":3181,"./helpers/PendingUserOperationTracker.cjs":3182,"./helpers/SnapSmartContractAccount.cjs":3183,"./logger.cjs":3185,"./types.cjs":3186,"./utils/gas-fees.cjs":3188,"./utils/gas.cjs":3189,"./utils/transaction.cjs":3190,"./utils/validation.cjs":3191,"@metamask/base-controller":1401,"@metamask/controller-utils":1488,"@metamask/eth-query":2073,"@metamask/rpc-errors":2692,"@metamask/transaction-controller":3085,"@metamask/utils":3207,events:4472,lodash:4940,uuid:5835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,a,s,c,u,l,p,d,y,m,f,h,T,g,b,_,O,w,v,S,x,E,P=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},I=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},j=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UserOperationController=void 0;const A=e("@metamask/base-controller"),k=e("@metamask/controller-utils"),M=j(e("@metamask/eth-query")),C=e("@metamask/rpc-errors"),R=e("@metamask/transaction-controller"),N=e("@metamask/utils"),z=j(e("events")),D=e("lodash"),U=e("uuid"),B=e("./constants.cjs"),L=e("./helpers/Bundler.cjs"),F=e("./helpers/PendingUserOperationTracker.cjs"),G=e("./helpers/SnapSmartContractAccount.cjs"),$=e("./logger.cjs"),q=e("./types.cjs"),H=e("./utils/gas.cjs"),W=e("./utils/gas-fees.cjs"),K=e("./utils/transaction.cjs"),V=e("./utils/validation.cjs"),Y={userOperations:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}};class Q extends A.BaseController{constructor({entrypoint:e,getGasFeeEstimates:t,messenger:n,state:s}){super({name:"UserOperationController",metadata:Y,messenger:n,state:{userOperations:{},...s}}),r.add(this),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),this.hub=new z.default,P(this,i,e,"f"),P(this,o,t,"f"),P(this,a,new F.PendingUserOperationTracker({getUserOperations:()=>(0,D.cloneDeep)(Object.values(this.state.userOperations)),messenger:n}),"f"),I(this,r,"m",O).call(this)}async addUserOperation(e,t){return(0,V.validateAddUserOperationRequest)(e),(0,V.validateAddUserOperationOptions)(t),await I(this,r,"m",s).call(this,e,t)}async addUserOperationFromTransaction(e,t){(0,V.validateAddUserOperationOptions)(t);const{data:n,from:i,maxFeePerGas:o,maxPriorityFeePerGas:a,to:c,value:u}=e,l={data:""===n?undefined:n,from:i,maxFeePerGas:o,maxPriorityFeePerGas:a,to:c,value:u};return(0,V.validateAddUserOperationRequest)(l),await I(this,r,"m",s).call(this,l,{...t,transaction:e})}startPollingByNetworkClientId(e){return I(this,a,"f").startPolling({networkClientId:e})}}n.UserOperationController=Q,i=new WeakMap,o=new WeakMap,a=new WeakMap,r=new WeakSet,s=async function(e,t){(0,$.projectLogger)("Adding user operation",{request:e,options:t});const{networkClientId:n,origin:i,smartContractAccount:o,swaps:a,transaction:s}=t,{chainId:p,provider:d}=await I(this,r,"m",S).call(this,n),y=await I(this,r,"m",l).call(this,p,i,s,a),m=o??new G.SnapSmartContractAccount(this.messenger),f={chainId:p,metadata:y,options:{...t,smartContractAccount:m},provider:d,request:e,transaction:s},{id:T}=y;let g=!1;const b=(async()=>{try{return await I(this,r,"m",c).call(this,f)}catch(e){if(I(this,r,"m",h).call(this,y,e),g)throw e;return undefined}})(),_=async()=>(g=!0,await b);return{id:T,hash:_,transactionHash:async()=>{await _();const{transactionHash:e}=await I(this,r,"m",u).call(this,y);return e}}},c=async function(e){const{metadata:t,options:n}=e,{requireApproval:i,smartContractAccount:o}=n;let a;try{return await I(this,r,"m",p).call(this,e),await I(this,r,"m",d).call(this,t,o),this.hub.emit("user-operation-added",t),!1!==i&&(a=await I(this,r,"m",y).call(this,e)),await I(this,r,"m",m).call(this,t,o),await I(this,r,"m",f).call(this,t),a?.success(),t.hash}catch(e){throw a?.error(e),e}},u=async function(e){const{id:t,hash:n}=e;return(0,$.projectLogger)("Waiting for confirmation",t,n),new Promise((e,n)=>{this.hub.once(`${t}:confirmed`,t=>{e(t)}),this.hub.once(`${t}:failed`,(e,t)=>{n(t)})})},l=async function(e,t,n,i){const o={actualGasCost:null,actualGasUsed:null,baseFeePerGas:null,bundlerUrl:null,chainId:e,error:null,hash:null,id:(0,U.v1)(),origin:t,status:q.UserOperationStatus.Unapproved,swapsMetadata:i?{approvalTxId:i.approvalTxId??null,destinationTokenAddress:i.destinationTokenAddress??null,destinationTokenAmount:i.destinationTokenAmount??null,destinationTokenDecimals:i.destinationTokenDecimals??null,destinationTokenSymbol:i.destinationTokenSymbol??null,estimatedBaseFee:i.estimatedBaseFee??null,sourceTokenAddress:i.sourceTokenAddress??null,sourceTokenAmount:i.sourceTokenAmount??null,sourceTokenDecimals:i.sourceTokenDecimals??null,sourceTokenSymbol:i.sourceTokenSymbol??null,swapAndSendRecipient:i.swapAndSendRecipient??null,swapMetaData:i.swapMetaData??null,swapTokenValue:i.swapTokenValue??null}:null,time:Date.now(),transactionHash:null,transactionParams:n??null,transactionType:null,userFeeLevel:null,userOperation:I(this,r,"m",T).call(this,n)};return I(this,r,"m",g).call(this,o),(0,$.projectLogger)("Added user operation",o.id),o},p=async function(e){const{chainId:t,metadata:n,options:a,provider:s,request:c,transaction:u}=e,{data:l,from:p,to:d,value:y}=c,{id:m,transactionParams:f,userOperation:h}=n,{smartContractAccount:T}=a;(0,$.projectLogger)("Preparing user operation",{id:m});const b=await I(this,r,"m",v).call(this,u,s,a);n.transactionType=b??null,(0,$.projectLogger)("Determined transaction type",b),await(0,W.updateGasFees)({getGasFeeEstimates:I(this,o,"f"),metadata:n,originalRequest:c,provider:s,transaction:f??undefined});const _=await T.prepareUserOperation({chainId:t,data:l,from:p,to:d,value:y});(0,V.validatePrepareUserOperationResponse)(_);const{bundler:O,callData:w,dummyPaymasterAndData:S,dummySignature:x,initCode:E,nonce:P,sender:j}=_;h.callData=w,h.initCode=E??B.EMPTY_BYTES,h.nonce=P,h.paymasterAndData=S??B.EMPTY_BYTES,h.sender=j,h.signature=x??B.EMPTY_BYTES,n.bundlerUrl=O,await(0,H.updateGas)(n,_,I(this,i,"f")),I(this,r,"m",g).call(this,n)},d=async function(e,t){const{id:n,userOperation:i,chainId:o}=e;(0,$.projectLogger)("Requesting paymaster data",{id:n});const a=await t.updateUserOperation({userOperation:i,chainId:o});(0,V.validateUpdateUserOperationResponse)(a),i.paymasterAndData=a.paymasterAndData??B.EMPTY_BYTES,a.callGasLimit&&(i.callGasLimit=a.callGasLimit),a.preVerificationGas&&(i.preVerificationGas=a.preVerificationGas),a.verificationGasLimit&&(i.verificationGasLimit=a.verificationGasLimit),I(this,r,"m",g).call(this,e)},y=async function(e){(0,$.projectLogger)("Requesting approval");const{metadata:t}=e,{resultCallbacks:n,value:i}=await I(this,r,"m",w).call(this,t),o=i?.txMeta;return o&&await I(this,r,"m",x).call(this,e,o),t.status=q.UserOperationStatus.Approved,I(this,r,"m",g).call(this,t),n},m=async function(e,t){const{id:n,chainId:i,userOperation:o}=e;(0,$.projectLogger)("Signing user operation",n,o);const a=await t.signUserOperation({userOperation:o,chainId:i});(0,V.validateSignUserOperationResponse)(a);const{signature:s}=a;o.signature=s,(0,$.projectLogger)("Signed user operation",s),e.status=q.UserOperationStatus.Signed,I(this,r,"m",g).call(this,e)},f=async function(e){const{userOperation:t}=e;(0,$.projectLogger)("Submitting user operation",t);const n=new L.Bundler(e.bundlerUrl),o=await n.sendUserOperation(t,I(this,i,"f"));e.hash=o,e.status=q.UserOperationStatus.Submitted,I(this,r,"m",g).call(this,e)},h=function(e,t){const{id:n}=e,i=t;(0,$.projectLogger)("User operation failed",n,t),e.error={name:i.name,message:i.message,stack:i.stack,code:i.code,rpc:i.value},e.status=q.UserOperationStatus.Failed,I(this,r,"m",g).call(this,e),String(i.code)===String(C.errorCodes.provider.userRejectedRequest)&&I(this,r,"m",b).call(this,n)},T=function(e){return{callData:B.EMPTY_BYTES,callGasLimit:B.EMPTY_BYTES,initCode:B.EMPTY_BYTES,maxFeePerGas:e?.maxFeePerGas??B.EMPTY_BYTES,maxPriorityFeePerGas:e?.maxPriorityFeePerGas??B.EMPTY_BYTES,nonce:B.EMPTY_BYTES,paymasterAndData:B.EMPTY_BYTES,preVerificationGas:B.EMPTY_BYTES,sender:B.ADDRESS_ZERO,signature:B.EMPTY_BYTES,verificationGasLimit:B.EMPTY_BYTES}},g=function(e){const{id:t}=e;this.update(n=>{n.userOperations[t]=(0,D.cloneDeep)(e)}),I(this,r,"m",_).call(this,e)},b=function(e){this.update(t=>{delete t.userOperations[e]})},_=function(e){if(!e.transactionParams)return;const t=(0,K.getTransactionMetadata)(e);this.hub.emit("transaction-updated",t)},O=function(){I(this,a,"f").hub.on("user-operation-confirmed",e=>{(0,$.projectLogger)("In listener..."),this.hub.emit("user-operation-confirmed",e),this.hub.emit(`${e.id}:confirmed`,e)}),I(this,a,"f").hub.on("user-operation-failed",(e,t)=>{this.hub.emit("user-operation-failed",e,t),this.hub.emit(`${e.id}:failed`,e,t)}),I(this,a,"f").hub.on("user-operation-updated",e=>{I(this,r,"m",g).call(this,e)})},w=async function(e){const{id:t,origin:n}=e,r=k.ApprovalType.Transaction,i={txId:t};return await this.messenger.call("ApprovalController:addRequest",{id:t,origin:n,type:r,requestData:i,expectsResult:!0},!0)},v=async function(e,t,n){if(!e)return undefined;if(n.type)return n.type;const r=new M.default(t),i=(0,R.determineTransactionType)(e,r);return(await i).type},S=async function(e){const{provider:t,configuration:n}=this.messenger.call("NetworkController:getNetworkClientById",e),{chainId:r}=n;return{provider:t,chainId:r}},x=async function(e,t){(0,$.projectLogger)("Found updated transaction in approval",{updatedTransaction:t});const{metadata:n,request:i}=e,{userOperation:o}=n,a=o.paymasterAndData!==B.EMPTY_BYTES,s=(0,N.add0x)(t.txParams.maxFeePerGas),c=(0,N.add0x)(t.txParams.maxPriorityFeePerGas);let u=!1;const l=o.maxFeePerGas,p=o.maxPriorityFeePerGas,d=l!==s||p!==c,y=a&&s===B.VALUE_ZERO&&c===B.VALUE_ZERO;d&&!y&&((0,$.projectLogger)("Gas fees updated during approval",{previousMaxFeePerGas:l,previousMaxPriorityFeePerGas:p,updatedMaxFeePerGas:s,updatedMaxPriorityFeePerGas:c}),o.maxFeePerGas=s,o.maxPriorityFeePerGas=c,u=a);const m=i.data??B.EMPTY_BYTES,f=t.txParams.data??B.EMPTY_BYTES;m!==f&&((0,$.projectLogger)("Data updated during approval",{previousData:m,updatedData:f}),u=!0);const h=i.value??B.VALUE_ZERO,T=t.txParams.value??B.VALUE_ZERO;if(h!==T&&((0,$.projectLogger)("Value updated during approval",{previousValue:h,updatedValue:T}),u=!0),u){const t={...i,data:f,maxFeePerGas:s,maxPriorityFeePerGas:c,value:T};await I(this,r,"m",E).call(this,{...e,request:t})}},E=async function(e){(0,$.projectLogger)("Regenerating user operation as parameters were updated during approval");const{options:{smartContractAccount:t},metadata:n}=e;await I(this,r,"m",p).call(this,e),await I(this,r,"m",d).call(this,n,t),(0,$.projectLogger)("Regenerated user operation",n.userOperation)}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/UserOperationController.cjs"}],[318,{"../../../../../shared/constants/permissions":5900,"../../../controllers/permissions":233,"@metamask/chain-agnostic-permission":1459,"@metamask/controller-utils":1488,"@metamask/permission-controller":2528,lodash:4940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.requestPermissionsHandler=void 0;var r=e("lodash"),i=e("@metamask/controller-utils"),o=e("@metamask/permission-controller"),a=e("@metamask/chain-agnostic-permission"),s=e("../../../../../shared/constants/permissions"),c=e("../../../controllers/permissions");n.requestPermissionsHandler={methodNames:[o.MethodNames.RequestPermissions],implementation:async function(e,t,n,u,{getAccounts:l,requestPermissionsForOrigin:p,getCaip25PermissionFromLegacyPermissionsForOrigin:d}){const{params:y}=e;if(!Array.isArray(y)||!(0,i.isPlainObject)(y[0]))return u((0,o.invalidParams)({data:{request:e}}));let[m]=y;delete m[a.Caip25EndowmentPermissionName];const f=(0,r.pick)(m,[s.RestrictedMethods.eth_accounts,c.PermissionNames.permittedChains]);delete m[s.RestrictedMethods.eth_accounts],delete m[c.PermissionNames.permittedChains];const h=Object.keys(f).length>0;if(h){const e=d(f);m={...m,...e}}let T={};const[g]=await p(m);if(T={...g},h){var b;const e=T[a.Caip25EndowmentPermissionName];if(!e)throw new Error(`could not find ${a.Caip25EndowmentPermissionName} permission.`);const t=null===(b=e.caveats)||void 0===b||null===(b=b.find(({type:e})=>e===a.Caip25CaveatType))||void 0===b?void 0:b.value;if(!t)throw new Error(`could not find ${a.Caip25CaveatType} in granted ${a.Caip25EndowmentPermissionName} permission.`);delete T[a.Caip25EndowmentPermissionName];const n=l(origin);T[s.RestrictedMethods.eth_accounts]={...e,parentCapability:s.RestrictedMethods.eth_accounts,caveats:[{type:s.CaveatTypes.restrictReturnedAccounts,value:n}]};const r=(0,a.getPermittedEthChainIds)(t);r.length>0&&(T[c.PermissionNames.permittedChains]={...e,parentCapability:c.PermissionNames.permittedChains,caveats:[{type:s.CaveatTypes.restrictNetworkSwitching,value:r}]})}return t.result=Object.values(T).filter(e=>e!==undefined),u()},hookNames:{getAccounts:!0,requestPermissionsForOrigin:!0,getCaip25PermissionFromLegacyPermissionsForOrigin:!0}}}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/handlers/wallet-requestPermissions.ts"}],[3180,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.VALUE_ZERO=n.ADDRESS_ZERO=n.EMPTY_BYTES=void 0,n.EMPTY_BYTES="0x",n.ADDRESS_ZERO="0x0000000000000000000000000000000000000000",n.VALUE_ZERO="0x0"}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/constants.cjs"}],[3181,{"../logger.cjs":3185},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.Bundler=void 0;const c=e("../logger.cjs"),u=(0,c.createModuleLogger)(c.projectLogger,"bundler");n.Bundler=class{constructor(e){r.add(this),i.set(this,void 0),a(this,i,e,"f")}async estimateUserOperationGas(e,t){u("Estimating gas",{url:s(this,i,"f"),userOperation:e,entrypoint:t});const n=await s(this,r,"m",o).call(this,"eth_estimateUserOperationGas",[e,t]);return u("Estimated gas",{response:n}),n}async getUserOperationReceipt(e){return u("Getting user operation receipt",{url:s(this,i,"f"),hash:e}),await s(this,r,"m",o).call(this,"eth_getUserOperationReceipt",[e])}async sendUserOperation(e,t){u("Sending user operation",{url:s(this,i,"f"),userOperation:e,entrypoint:t});const n=await s(this,r,"m",o).call(this,"eth_sendUserOperation",[e,t]);return u("Sent user operation",n),n}},i=new WeakMap,r=new WeakSet,o=async function(e,t){const n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:t})},r=await fetch(s(this,i,"f"),n),o=await r.json();if(o.error){const e=new Error(o.error.message||o.error);throw e.code=o.error.code,e}return o.result}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/helpers/Bundler.cjs"}],[3182,{"../logger.cjs":3185,"../types.cjs":3186,"./Bundler.cjs":3181,"@metamask/controller-utils":1488,"@metamask/eth-query":2073,"@metamask/polling-controller":3195,"@metamask/utils":3207,events:4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,a,s,c,u,l,p,d,y,m=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},f=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PendingUserOperationTracker=void 0;const T=e("@metamask/controller-utils"),g=h(e("@metamask/eth-query")),b=e("@metamask/polling-controller"),_=e("@metamask/utils"),O=h(e("events")),w=e("../logger.cjs"),v=e("../types.cjs"),S=e("./Bundler.cjs"),x=(0,_.createModuleLogger)(w.projectLogger,"pending-user-operations");class E extends((0,b.BlockTrackerPollingControllerOnly)()){constructor({getUserOperations:e,messenger:t}){super(),r.add(this),i.set(this,void 0),o.set(this,void 0),this.hub=new O.default,m(this,i,e,"f"),m(this,o,t,"f")}async _executePoll({networkClientId:e}){try{const{blockTracker:t,configuration:n,provider:i}=this._getNetworkClientById(e);x("Polling",{blockNumber:t.getCurrentBlock(),chainId:n.chainId}),await f(this,r,"m",a).call(this,n.chainId,i)}catch(e){x("Failed to check user operations",e)}}_getNetworkClientById(e){return f(this,o,"f").call("NetworkController:getNetworkClientById",e)}}n.PendingUserOperationTracker=E,i=new WeakMap,o=new WeakMap,r=new WeakSet,a=async function(e,t){const n=f(this,r,"m",l).call(this).filter(t=>t.chainId===e);n.length?(x("Found pending user operations to check",{count:n.length,ids:n.map(e=>e.id)}),await Promise.all(n.map(e=>f(this,r,"m",s).call(this,e,t)))):x("No pending user operations to check")},s=async function(e,t){const{bundlerUrl:n,hash:i,id:o}=e;if(i&&n)try{const a=await f(this,r,"m",d).call(this,i,n),s=a?.success;if(a&&!s)return void f(this,r,"m",u).call(this,e,a);if(s)return void await f(this,r,"m",c).call(this,e,a,t);x("No receipt found for user operation",{id:o,hash:i})}catch(e){x("Failed to check user operation",o,e)}else x("Skipping user operation as missing hash or bundler",o)},c=async function(e,t,n){const{id:i}=e,{actualGasCost:o,actualGasUsed:a,receipt:{blockHash:s,transactionHash:c}}=t;x("User operation confirmed",i,c);const{baseFeePerGas:u}=await(0,T.query)(new g.default(n),"getBlockByHash",[s,!1]);e.actualGasCost=f(this,r,"m",y).call(this,o),e.actualGasUsed=f(this,r,"m",y).call(this,a),e.baseFeePerGas=u,e.status=v.UserOperationStatus.Confirmed,e.transactionHash=c,f(this,r,"m",p).call(this,e),this.hub.emit("user-operation-confirmed",e)},u=function(e,t){const{id:n}=e;x("User operation failed",n),e.status=v.UserOperationStatus.Failed,f(this,r,"m",p).call(this,e),this.hub.emit("user-operation-failed",e,new Error("User operation receipt has failed status"))},l=function(){return f(this,i,"f").call(this).filter(e=>e.status===v.UserOperationStatus.Submitted)},p=function(e){this.hub.emit("user-operation-updated",e)},d=async function(e,t){return new S.Bundler(t).getUserOperationReceipt(e)},y=function(e){return"number"==typeof e?(0,T.toHex)(e):e}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/helpers/PendingUserOperationTracker.cjs"}],[3183,{"../constants.cjs":3180,"../utils/chain-id.cjs":3187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapSmartContractAccount=void 0;const a=e("../constants.cjs"),s=e("../utils/chain-id.cjs");n.SnapSmartContractAccount=class{constructor(e){r.set(this,void 0),i(this,r,e,"f")}async prepareUserOperation(e){const{chainId:t,data:n,from:i,to:c,value:u}=e,l=n??a.EMPTY_BYTES,p=c??a.ADDRESS_ZERO,d=u??a.VALUE_ZERO,y=await o(this,r,"f").call("KeyringController:prepareUserOperation",i,[{data:l,to:p,value:d}],{chainId:(0,s.toEip155ChainId)(t)}),{bundlerUrl:m,callData:f,dummyPaymasterAndData:h,dummySignature:T,gasLimits:g,initCode:b,nonce:_}=y;return{bundler:m,callData:f,dummyPaymasterAndData:h,dummySignature:T,gas:g,initCode:b,nonce:_,sender:i}}async updateUserOperation(e){const{userOperation:t,chainId:n}=e,{sender:i}=t,{paymasterAndData:c,verificationGasLimit:u,preVerificationGas:l,callGasLimit:p}=await o(this,r,"f").call("KeyringController:patchUserOperation",i,t,{chainId:(0,s.toEip155ChainId)(n)});return{paymasterAndData:c===a.EMPTY_BYTES?undefined:c,verificationGasLimit:u,preVerificationGas:l,callGasLimit:p}}async signUserOperation(e){const{userOperation:t,chainId:n}=e,{sender:i}=t;return{signature:await o(this,r,"f").call("KeyringController:signUserOperation",i,t,{chainId:(0,s.toEip155ChainId)(n)})}}},r=new WeakMap}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/helpers/SnapSmartContractAccount.cjs"}],[3184,{"./UserOperationController.cjs":3179,"./types.cjs":3186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./UserOperationController.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/index.cjs"}],[3185,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("user-operation-controller")}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/logger.cjs"}],[3186,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.UserOperationStatus=void 0,function(e){e.Unapproved="unapproved",e.Approved="approved",e.Signed="signed",e.Submitted="submitted",e.Failed="failed",e.Confirmed="confirmed"}(r||(n.UserOperationStatus=r={}))}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/types.cjs"}],[3187,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toEip155ChainId=void 0,n.toEip155ChainId=function(e){const t=Number(e);return Number.isInteger(t)?t.toString():e}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/chain-id.cjs"}],[3188,{"../constants.cjs":3180,"../logger.cjs":3185,"@metamask/controller-utils":1488,"@metamask/eth-query":2073,"@metamask/gas-fee-controller":2186,"@metamask/transaction-controller":3085,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateGasFees=void 0;const i=e("@metamask/controller-utils"),o=r(e("@metamask/eth-query")),a=e("@metamask/gas-fee-controller"),s=e("@metamask/transaction-controller"),c=e("@metamask/utils"),u=e("../constants.cjs"),l=e("../logger.cjs"),p=(0,l.createModuleLogger)(l.projectLogger,"gas-fees");function d(e){return(0,i.toHex)((0,i.gweiDecToWEIBN)(e))}function y(e){return!e||e===u.EMPTY_BYTES}n.updateGasFees=async function(e){const{metadata:t,originalRequest:n,transaction:r}=e,{userOperation:u}=t;let l;const m=async()=>(l||(l=await async function(e){const{getGasFeeEstimates:t,provider:n}=e;try{const{gasFeeEstimates:e,gasEstimateType:n}=await t();if(n===a.GAS_ESTIMATE_TYPES.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:n}={}}=e;if(t&&n){const e={maxFeePerGas:d(n),maxPriorityFeePerGas:d(t)};return p("Using medium values from fee market estimate",e),e}}if(n===a.GAS_ESTIMATE_TYPES.LEGACY){const t=d(e.medium);return p("Using medium value from legacy estimate",t),{maxFeePerGas:t}}if(n===a.GAS_ESTIMATE_TYPES.ETH_GASPRICE){const t=d(e.gasPrice);return p("Using gasPrice from estimate",t),{maxFeePerGas:t}}}catch(e){p("Failed to get estimate",e)}const r=await(0,i.query)(new o.default(n),"gasPrice");if(!r)return{};const s=(0,c.add0x)(r.toString(16));return p("Using gasPrice from network as fallback",s),{maxFeePerGas:s}}(e)),l);u.maxFeePerGas=await async function(e,t,n){const{maxFeePerGas:r,maxPriorityFeePerGas:i}=e,{gasPrice:o}=n??{};if(!y(r))return p("Using maxFeePerGas from request",r),r;if(y(i)&&o)return p("Setting maxFeePerGas to transaction gasPrice",o),o;const{maxFeePerGas:a}=await t();if(!a)throw new Error("Failed to get gas fee estimate for maxFeePerGas");return p("Using maxFeePerGas from estimate",a),a}(n,m,r),u.maxPriorityFeePerGas=await async function(e,t,n,r){const{maxFeePerGas:i,maxPriorityFeePerGas:o}=e,{gasPrice:a}=r??{},{maxFeePerGas:s}=n;if(!y(o))return p("Using maxPriorityFeePerGas from request",o),o;if(y(i)&&a)return p("Setting maxPriorityFeePerGas to transaction gasPrice",a),a;const{maxPriorityFeePerGas:c}=await t();if(c)return p("Using maxPriorityFeePerGas from estimate",c),c;return p("Setting maxPriorityFeePerGas to maxFeePerGas",s),s}(n,m,u,r),t.userFeeLevel=function(e,t,n,r){const{origin:o}=e,{maxFeePerGas:a,maxPriorityFeePerGas:c}=t,{maxFeePerGas:u,maxPriorityFeePerGas:l}=n||{};if(y(a)&&y(c)&&r?.gasPrice)return o===i.ORIGIN_METAMASK?s.UserFeeLevel.CUSTOM:s.UserFeeLevel.DAPP_SUGGESTED;if(y(a)&&y(c)&&u&&l)return s.UserFeeLevel.MEDIUM;if(o===i.ORIGIN_METAMASK)return s.UserFeeLevel.CUSTOM;return s.UserFeeLevel.DAPP_SUGGESTED}(t,n,l,r)}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/gas-fees.cjs"}],[3189,{"../constants.cjs":3180,"../helpers/Bundler.cjs":3181,"../logger.cjs":3185,"@metamask/controller-utils":1488,"@metamask/utils":3207,"bn.js":4115},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateGas=void 0;const i=e("@metamask/controller-utils"),o=e("@metamask/utils"),a=r(e("bn.js")),s=e("../constants.cjs"),c=e("../helpers/Bundler.cjs"),u=e("../logger.cjs"),l=(0,u.createModuleLogger)(u.projectLogger,"gas");function p(e){const t=("string"==typeof e?(0,i.hexToBN)(e):new a.default(e)).muln(1.5);return(0,o.add0x)(t.toString(16))}n.updateGas=async function(e,t,n){const{userOperation:r}=e;if(t.gas)return r.callGasLimit=t.gas.callGasLimit,r.preVerificationGas=t.gas.preVerificationGas,r.verificationGasLimit=t.gas.verificationGasLimit,void l("Using gas values from smart contract account",{callGasLimit:r.callGasLimit,preVerificationGas:r.preVerificationGas,verificationGasLimit:r.verificationGasLimit});const i={...r,maxFeePerGas:s.VALUE_ZERO,maxPriorityFeePerGas:s.VALUE_ZERO,callGasLimit:s.VALUE_ZERO,preVerificationGas:s.VALUE_ZERO,verificationGasLimit:"0xF4240"},o=new c.Bundler(e.bundlerUrl),a=await o.estimateUserOperationGas(i,n);r.callGasLimit=p(a.callGasLimit),r.preVerificationGas=p(a.preVerificationGas),r.verificationGasLimit=p(a.verificationGasLimit??a.verificationGas),l("Using buffered gas values from bundler estimate",{callGasLimit:r.callGasLimit,preVerificationGas:r.preVerificationGas,verificationGasLimit:r.verificationGasLimit,multiplier:1.5,estimate:a})}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/gas.cjs"}],[319,{"../../../../../shared/constants/permissions":5900,"../../../controllers/permissions":233,"@metamask/chain-agnostic-permission":1459,"@metamask/permission-controller":2528,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.revokePermissionsHandler=void 0;var r=e("@metamask/permission-controller"),i=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),a=e("../../../../../shared/constants/permissions"),s=e("../../../controllers/permissions");n.revokePermissionsHandler={methodNames:[r.MethodNames.RevokePermissions],implementation:function(e,t,n,c,{revokePermissionsForOrigin:u,rejectApprovalRequestsForOrigin:l}){const{params:p}=e,d=null==p?void 0:p[0];if(!d)return c((0,r.invalidParams)({data:{request:e}}));const y=Object.keys(d).filter(e=>e!==o.Caip25EndowmentPermissionName);if(!(0,i.isNonEmptyArray)(y))return c((0,r.invalidParams)({data:{request:e}}));const m=[a.RestrictedMethods.eth_accounts,s.PermissionNames.permittedChains],f=y.filter(e=>!m.includes(e));f.length!==y.length&&f.push(o.Caip25EndowmentPermissionName);return u(f),l(),t.result=null,c()},hookNames:{revokePermissionsForOrigin:!0,rejectApprovalRequestsForOrigin:!0,updateCaveat:!0}}}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/handlers/wallet-revokePermissions.ts"}],[3190,{"../constants.cjs":3180,"../types.cjs":3186,"@metamask/transaction-controller":3085,"@metamask/utils":3207,"bn.js":4115},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionMetadata=void 0;const i=e("@metamask/transaction-controller"),o=e("@metamask/utils"),a=r(e("bn.js")),s=e("../constants.cjs"),c=e("../types.cjs");n.getTransactionMetadata=function(e){const{actualGasCost:t,actualGasUsed:n,baseFeePerGas:r,chainId:u,error:l,origin:p,transactionHash:d,id:y,swapsMetadata:m,time:f,transactionParams:h,transactionType:T,userFeeLevel:g,userOperation:b}=e;if(!h)return undefined;const _=t&&n?(0,o.add0x)(new a.default((0,o.remove0x)(t),16).div(new a.default((0,o.remove0x)(n),16)).toString(16)):undefined,O=l?{name:l.name,message:l.message,stack:l.stack,code:l.code,rpc:l.rpc}:undefined,w={[c.UserOperationStatus.Unapproved]:i.TransactionStatus.unapproved,[c.UserOperationStatus.Approved]:i.TransactionStatus.approved,[c.UserOperationStatus.Signed]:i.TransactionStatus.signed,[c.UserOperationStatus.Submitted]:i.TransactionStatus.submitted,[c.UserOperationStatus.Confirmed]:i.TransactionStatus.confirmed,[c.UserOperationStatus.Failed]:i.TransactionStatus.failed}[e.status],v=function(...e){const t=new a.default(0);for(const n of e)n&&t.iadd(new a.default((0,o.remove0x)(n),16));return(0,o.add0x)(t.toString(16))}(b.preVerificationGas,b.verificationGasLimit,b.callGasLimit),S=b.paymasterAndData!==s.EMPTY_BYTES,x=S?s.VALUE_ZERO:b.maxFeePerGas,E=S?s.VALUE_ZERO:b.maxPriorityFeePerGas,P=b.nonce===s.EMPTY_BYTES?undefined:b.nonce,I={...h,from:b.sender,gas:v,nonce:P,maxFeePerGas:x,maxPriorityFeePerGas:E};delete I.gasPrice;const j={approvalTxId:m?.approvalTxId??undefined,destinationTokenAddress:m?.destinationTokenAddress??undefined,destinationTokenAmount:m?.destinationTokenAmount??undefined,destinationTokenDecimals:m?.destinationTokenDecimals??undefined,destinationTokenSymbol:m?.destinationTokenSymbol??undefined,estimatedBaseFee:m?.estimatedBaseFee??undefined,sourceTokenAddress:m?.sourceTokenAddress??undefined,sourceTokenAmount:m?.sourceTokenAmount??undefined,sourceTokenDecimals:m?.sourceTokenDecimals??undefined,sourceTokenSymbol:m?.sourceTokenSymbol??undefined,swapAndSendRecipient:m?.swapAndSendRecipient??undefined,swapMetaData:m?.swapMetaData??undefined,swapTokenValue:m?.swapTokenValue??undefined},A=S?i.UserFeeLevel.CUSTOM:g;return{baseFeePerGas:r??undefined,chainId:u,error:O,hash:d??undefined,id:y,isUserOperation:!0,networkClientId:"user-operation",origin:p,status:w,time:f,txParams:I,txReceipt:{effectiveGasPrice:_??undefined,gasUsed:n??undefined},type:T??undefined,userFeeLevel:A,...j}}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/transaction.cjs"}],[3191,{"../constants.cjs":3180,"@metamask/superstruct":3027,"@metamask/transaction-controller":3085,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSignUserOperationResponse=n.validateUpdateUserOperationResponse=n.validatePrepareUserOperationResponse=n.validateAddUserOperationOptions=n.validateAddUserOperationRequest=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/transaction-controller"),o=e("@metamask/utils"),a=e("../constants.cjs");function s(e,t,n){try{(0,r.assert)(e,t,n)}catch(e){const t=e.failures().map(e=>e.path.length?`${e.path.join(".")} - ${e.message}`:e.message).join("\n");throw new Error(`${n}\n${t}`)}}function c(){return(0,r.define)("Hexadecimal String",e=>(0,o.isStrictHexString)(e))}function u(){return(0,r.define)("Hexadecimal String or 0x",e=>(0,o.isStrictHexString)(e)||e===a.EMPTY_BYTES)}n.validateAddUserOperationRequest=function(e){const t=c(),n=u();s(e,(0,r.object)({data:(0,r.optional)(n),from:t,maxFeePerGas:(0,r.optional)(t),maxPriorityFeePerGas:(0,r.optional)(t),to:(0,r.optional)(t),value:(0,r.optional)(t)}),"Invalid request to add user operation")},n.validateAddUserOperationOptions=function(e){s(e,(0,r.object)({networkClientId:(0,r.string)(),origin:(0,r.string)(),requireApproval:(0,r.optional)((0,r.boolean)()),smartContractAccount:(0,r.optional)((0,r.object)({prepareUserOperation:(0,r.func)(),updateUserOperation:(0,r.func)(),signUserOperation:(0,r.func)()})),swaps:(0,r.optional)((0,r.object)({approvalTxId:(0,r.optional)((0,r.string)()),destinationTokenAddress:(0,r.optional)((0,r.string)()),destinationTokenDecimals:(0,r.optional)((0,r.number)()),destinationTokenSymbol:(0,r.optional)((0,r.string)()),estimatedBaseFee:(0,r.optional)((0,r.string)()),sourceTokenSymbol:(0,r.optional)((0,r.string)()),swapMetaData:(0,r.optional)((0,r.object)()),swapTokenValue:(0,r.optional)((0,r.string)()),destinationTokenAmount:(0,r.optional)((0,r.string)()),sourceTokenAddress:(0,r.optional)((0,r.string)()),sourceTokenAmount:(0,r.optional)((0,r.string)()),sourceTokenDecimals:(0,r.optional)((0,r.number)()),swapAndSendRecipient:(0,r.optional)((0,r.string)())})),type:(0,r.optional)((0,r.enums)(Object.values(i.TransactionType)))}),"Invalid options to add user operation")},n.validatePrepareUserOperationResponse=function(e){const t=c(),n=u();s(e,(0,r.refine)((0,r.object)({bundler:(0,r.string)(),callData:t,dummyPaymasterAndData:(0,r.optional)(n),dummySignature:(0,r.optional)(n),gas:(0,r.optional)((0,r.object)({callGasLimit:t,preVerificationGas:t,verificationGasLimit:t})),initCode:(0,r.optional)(n),nonce:t,sender:t}),"ValidPrepareUserOperationResponse",({gas:e,dummySignature:t})=>!!(e||t&&t!==a.EMPTY_BYTES)||"Must specify dummySignature if not specifying gas"),"Invalid response when preparing user operation")},n.validateUpdateUserOperationResponse=function(e){s(e,(0,r.optional)((0,r.object)({paymasterAndData:(0,r.optional)(u()),callGasLimit:(0,r.optional)(u()),preVerificationGas:(0,r.optional)(u()),verificationGasLimit:(0,r.optional)(u())})),"Invalid response when updating user operation")},n.validateSignUserOperationResponse=function(e){const t=c();s(e,(0,r.object)({signature:t}),"Invalid response when signing user operation")}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/validation.cjs"}],[3192,{"fast-json-stable-stringify":4491,uuid:5835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractPollingControllerBaseMixin=n.getKey=void 0;const o=i(e("fast-json-stable-stringify")),a=e("uuid");n.getKey=e=>(0,o.default)(e),n.AbstractPollingControllerBaseMixin=function(e){var t,i;return t=new WeakMap,i=new WeakMap,class extends e{constructor(){super(...arguments),t.set(this,new Map),i.set(this,new Map)}startPolling(e){const i=(0,a.v4)(),o=(0,n.getKey)(e),s=r(this,t,"f").get(o)??new Set;return s.add(i),r(this,t,"f").set(o,s),1===s.size&&this._startPolling(e),i}stopAllPolling(){r(this,t,"f").forEach((e,t)=>{e.forEach(e=>{this.stopPollingByPollingToken(e)})})}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let n=null;for(const[i,o]of r(this,t,"f"))if(o.delete(e)){0===o.size&&(n=i);break}if(n){this._stopPollingByPollingTokenSetId(n),r(this,t,"f").delete(n);const e=r(this,i,"f").get(n);if(e){for(const t of e)t(JSON.parse(n));e.clear()}}}onPollingComplete(e,t){const o=(0,n.getKey)(e),a=r(this,i,"f").get(o)??new Set;a.add(t),r(this,i,"f").set(o,a)}}}}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/AbstractPollingController.cjs"}],[3193,{"./AbstractPollingController.cjs":3192,"@metamask/base-controller":1401},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;const i=e("@metamask/base-controller"),o=e("./AbstractPollingController.cjs");function a(e){var t;class n extends((0,o.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{})}_startPolling(e){const n=(0,o.getKey)(e);if(r(this,t,"f")[n])return;const i=this._getNetworkClientById(e.networkClientId);if(!i)throw new Error(`Unable to retrieve blockTracker for networkClientId ${e.networkClientId}`);{const o=this._executePoll.bind(this,e);i.blockTracker.addListener("latest",o),r(this,t,"f")[n]=o}}_stopPollingByPollingTokenSetId(e){const{networkClientId:n}=JSON.parse(e),i=this._getNetworkClientById(n);if(i&&r(this,t,"f")[e]){const n=r(this,t,"f")[e];n&&(i.blockTracker.removeListener("latest",n),delete r(this,t,"f")[e])}}}return t=new WeakMap,n}class s{}n.BlockTrackerPollingControllerOnly=()=>a(s);n.BlockTrackerPollingController=()=>a(i.BaseController)}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/BlockTrackerPollingController.cjs"}],[3194,{"./AbstractPollingController.cjs":3192,"@metamask/base-controller":1401},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=void 0;const o=e("@metamask/base-controller"),a=e("./AbstractPollingController.cjs");function s(e){var t,n;class o extends((0,a.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{}),n.set(this,1e3)}setIntervalLength(e){r(this,n,e,"f")}getIntervalLength(){return i(this,n,"f")}_startPolling(e){if(!i(this,n,"f"))throw new Error("intervalLength must be defined and greater than 0");const r=(0,a.getKey)(e),o=i(this,t,"f")[r];this._stopPollingByPollingTokenSetId(r);const s=i(this,t,"f")[r]=setTimeout(async()=>{try{await this._executePoll(e)}catch(e){console.error(e)}s===i(this,t,"f")[r]&&this._startPolling(e)},o?i(this,n,"f"):0)}_stopPollingByPollingTokenSetId(e){const n=i(this,t,"f")[e];n&&(clearTimeout(n),delete i(this,t,"f")[e])}}return t=new WeakMap,n=new WeakMap,o}class c{}n.StaticIntervalPollingControllerOnly=()=>s(c);n.StaticIntervalPollingController=()=>s(o.BaseController)}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/StaticIntervalPollingController.cjs"}],[3195,{"./BlockTrackerPollingController.cjs":3193,"./StaticIntervalPollingController.cjs":3194},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;var r=e("./BlockTrackerPollingController.cjs");Object.defineProperty(n,"BlockTrackerPollingControllerOnly",{enumerable:!0,get:function(){return r.BlockTrackerPollingControllerOnly}}),Object.defineProperty(n,"BlockTrackerPollingController",{enumerable:!0,get:function(){return r.BlockTrackerPollingController}});var i=e("./StaticIntervalPollingController.cjs");Object.defineProperty(n,"StaticIntervalPollingControllerOnly",{enumerable:!0,get:function(){return i.StaticIntervalPollingControllerOnly}}),Object.defineProperty(n,"StaticIntervalPollingController",{enumerable:!0,get:function(){return i.StaticIntervalPollingController}})}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/index.cjs"}],[32,{"../../controllers/decrypt-message":223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DecryptMessageControllerInit=void 0;var r,i=(r=e("../../controllers/decrypt-message"))&&r.__esModule?r:{default:r};n.DecryptMessageControllerInit=({controllerMessenger:e,initMessenger:t,getController:n,getUIState:r})=>{const o=n("DecryptMessageManager");return{persistedStateKey:null,memStateKey:null,controller:new i.default({messenger:e,manager:o,getState:r,metricsEvent:t.call.bind(t,"MetaMetricsController:trackEvent")})}}}}},{package:"$root$",file:"app/scripts/controller-init/confirmations/decrypt-message-controller-init.ts"}],[320,{"../../../../../shared/constants/app":5876,"@metamask/controller-utils":1488,"@metamask/rpc-errors":2692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/rpc-errors"),i=e("@metamask/controller-utils"),o=e("../../../../../shared/constants/app");const a={methodNames:[o.MESSAGE_TYPE.WATCH_ASSET,o.MESSAGE_TYPE.WATCH_ASSET_LEGACY],implementation:async function(e,t,n,o,{handleWatchAssetRequest:a}){try{const{params:{options:n,type:s},origin:c,networkClientId:u}=e,{tokenId:l}=n;return[i.ERC721,i.ERC1155].includes(s)&&l!==undefined&&"string"!=typeof l?o(r.rpcErrors.invalidParams({message:`Expected parameter 'tokenId' to be type 'string'. Received type '${typeof l}'`})):(await a({asset:n,type:s,origin:c??"",networkClientId:u??""}),t.result=!0,o())}catch(e){return o(e)}},hookNames:{handleWatchAssetRequest:!0}};n.default=a}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/handlers/watch-asset.ts"}],[321,{"./createMethodMiddleware":306,"./createUnsupportedMethodMiddleware":307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./createMethodMiddleware");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))});var i=e("./createUnsupportedMethodMiddleware");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))})}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/index.js"}],[322,{"../../../shared/lib/snaps/snaps":5994,"@metamask/rpc-errors":2692,"@metamask/snaps-sdk":2877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({allowedOrigins:e,errorMessage:t="Cannot process requests at this time",state:n}){return function(a,s,c,u){if(!n.isBlocked)return c();const{origin:l}=a;if(!l)return u(new i.InternalError(`No origin specified for request with method ${a.method}`));return e.includes(l)||(0,o.isSnapPreinstalled)(l)?c():u(r.rpcErrors.resourceUnavailable(t))}};var r=e("@metamask/rpc-errors"),i=e("@metamask/snaps-sdk"),o=e("../../../shared/lib/snaps/snaps")}}},{package:"$root$",file:"app/scripts/lib/rpcBlockingMiddleware.ts"}],[3220,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*c+1>>>0,u=new Uint8Array(o);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var p=0,d=o-1;(0!==l||p<i)&&-1!==d;d--,p++)l+=a*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=p,n++}if(" "!==e[n]){for(var y=o-i;y!==o&&0===u[y];)y++;for(var m=new Uint8Array(r+(o-y)),f=r;y!==o;)m[f++]=u[y++];return m}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var p=t[i],d=0,y=c-1;(0!==p||d<r)&&-1!==y;y--,d++)p+=256*l[y]>>>0,l[y]=p%a>>>0,p=p/a>>>0;if(0!==p)throw new Error("Non-zero carry");r=d,i++}for(var m=c-r;m!==c&&0===l[m];)m++;for(var f=s.repeat(n);m<c;++m)f+=e.charAt(l[m]);return f},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}}}},{package:"@ensdomains/content-hash>cids>multibase>@multiformats/base-x",file:"node_modules/@multiformats/base-x/src/index.js"}],[323,{"./operation-safener":299,loglevel:4948,"webextension-polyfill":5864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRequestSafeReload=function(e){const t=new o.OperationSafener({op:async t=>{try{if("data"===e.storageKind){if(!t)throw new Error("State must be provided for 'data' storageKind");await e.set(t)}else await e.persist()}catch(e){i.default.error("MetaMask - Persistence failed",e),null==s||s.captureException(e)}},wait:1e3});return{safePersist:async(...e)=>t.execute(...e),requestSafeReload:async()=>{await t.evacuate(),r.default.runtime.reload()},evacuate:()=>t.evacuate()}};var r=a(e("webextension-polyfill")),i=a(e("loglevel")),o=e("./operation-safener");function a(e){return e&&e.__esModule?e:{default:e}}const{sentry:s}=global}}},{package:"$root$",file:"app/scripts/lib/safe-reload.ts"}],[3250,{"./utils.js":3264},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.aoutput=n.anumber=n.aexists=n.abytes=void 0;const r=e("./utils.js");n.abytes=r.abytes,n.aexists=r.aexists,n.anumber=r.anumber,n.aoutput=r.aoutput}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_assert.js"}],[3265,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openrpcDocument=void 0,n.openrpcDocument={$schema:"https://meta.json-schema.tools/",$id:"https://meta.open-rpc.org/",title:"openrpcDocument",type:"object",required:["info","methods","openrpc"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{openrpc:{title:"openrpc",type:"string",enum:["1.3.2","1.3.1","1.3.0","1.2.6","1.2.5","1.2.4","1.2.3","1.2.2","1.2.1","1.2.0","1.1.12","1.1.11","1.1.10","1.1.9","1.1.8","1.1.7","1.1.6","1.1.5","1.1.4","1.1.3","1.1.2","1.1.1","1.1.0","1.0.0","1.0.0-rc1","1.0.0-rc0"]},info:{$ref:"#/definitions/infoObject"},externalDocs:{$ref:"#/definitions/externalDocumentationObject"},servers:{title:"servers",type:"array",additionalItems:!1,items:{$ref:"#/definitions/serverObject"}},methods:{title:"methods",type:"array",additionalItems:!1,items:{title:"methodOrReference",oneOf:[{$ref:"#/definitions/methodObject"},{$ref:"#/definitions/referenceObject"}]}},components:{title:"components",type:"object",properties:{schemas:{title:"schemaComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/JSONSchema"}}},links:{title:"linkComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/linkObject"}}},errors:{title:"errorComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/errorObject"}}},examples:{title:"exampleComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/exampleObject"}}},examplePairings:{title:"examplePairingComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/examplePairingObject"}}},contentDescriptors:{title:"contentDescriptorComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/contentDescriptorObject"}}},tags:{title:"tagComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/tagObject"}}}}},$schema:{title:"metaSchema",description:"JSON Schema URI (used by some editors)",type:"string",default:"https://meta.open-rpc.org/"}},definitions:{specificationExtension:{title:"specificationExtension"},JSONSchema:{$ref:"https://meta.json-schema.tools"},referenceObject:{title:"referenceObject",type:"object",additionalProperties:!1,required:["$ref"],properties:{$ref:{$ref:"https://meta.json-schema.tools/#/definitions/JSONSchemaObject/properties/$ref"}}},errorObject:{title:"errorObject",type:"object",description:"Defines an application level error.",additionalProperties:!1,required:["code","message"],properties:{code:{title:"errorObjectCode",description:"A Number that indicates the error type that occurred. This MUST be an integer. The error codes from and including -32768 to -32000 are reserved for pre-defined errors. These pre-defined errors SHOULD be assumed to be returned from any JSON-RPC api.",type:"integer"},message:{title:"errorObjectMessage",description:"A String providing a short description of the error. The message SHOULD be limited to a concise single sentence.",type:"string"},data:{title:"errorObjectData",description:"A Primitive or Structured value that contains additional information about the error. This may be omitted. The value of this member is defined by the Server (e.g. detailed error information, nested errors etc.)."}}},licenseObject:{title:"licenseObject",type:"object",additionalProperties:!1,properties:{name:{title:"licenseObjectName",type:"string"},url:{title:"licenseObjectUrl",type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},contactObject:{title:"contactObject",type:"object",additionalProperties:!1,properties:{name:{title:"contactObjectName",type:"string"},email:{title:"contactObjectEmail",type:"string"},url:{title:"contactObjectUrl",type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},infoObject:{title:"infoObject",type:"object",additionalProperties:!1,required:["title","version"],properties:{title:{title:"infoObjectProperties",type:"string"},description:{title:"infoObjectDescription",type:"string"},termsOfService:{title:"infoObjectTermsOfService",type:"string",format:"uri"},version:{title:"infoObjectVersion",type:"string"},contact:{$ref:"#/definitions/contactObject"},license:{$ref:"#/definitions/licenseObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},serverObject:{title:"serverObject",type:"object",required:["url"],additionalProperties:!1,properties:{url:{title:"serverObjectUrl",type:"string",format:"uri"},name:{title:"serverObjectName",type:"string"},description:{title:"serverObjectDescription",type:"string"},summary:{title:"serverObjectSummary",type:"string"},variables:{title:"serverObjectVariables",type:"object",patternProperties:{"[0-z]+":{title:"serverObjectVariable",type:"object",required:["default"],properties:{default:{title:"serverObjectVariableDefault",type:"string"},description:{title:"serverObjectVariableDescription",type:"string"},enum:{title:"serverObjectVariableEnum",type:"array",items:{title:"serverObjectVariableEnumItem",type:"string"}}}}}}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},linkObject:{title:"linkObject",type:"object",additionalProperties:!1,properties:{name:{title:"linkObjectName",type:"string",minLength:1},summary:{title:"linkObjectSummary",type:"string"},method:{title:"linkObjectMethod",type:"string"},description:{title:"linkObjectDescription",type:"string"},params:{title:"linkObjectParams"},server:{title:"linkObjectServer",$ref:"#/definitions/serverObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},externalDocumentationObject:{title:"externalDocumentationObject",type:"object",additionalProperties:!1,description:"information about external documentation",required:["url"],properties:{description:{title:"externalDocumentationObjectDescription",type:"string"},url:{title:"externalDocumentationObjectUrl",type:"string",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},methodObject:{title:"methodObject",type:"object",required:["name","params"],additionalProperties:!1,properties:{name:{title:"methodObjectName",description:"The cannonical name for the method. The name MUST be unique within the methods array.",type:"string",minLength:1},description:{title:"methodObjectDescription",description:"A verbose explanation of the method behavior. GitHub Flavored Markdown syntax MAY be used for rich text representation.",type:"string"},summary:{title:"methodObjectSummary",description:"A short summary of what the method does.",type:"string"},servers:{title:"servers",type:"array",additionalItems:!1,items:{$ref:"#/definitions/serverObject"}},tags:{title:"methodObjectTags",type:"array",items:{title:"tagOrReference",oneOf:[{$ref:"#/definitions/tagObject"},{$ref:"#/definitions/referenceObject"}]}},paramStructure:{title:"methodObjectParamStructure",type:"string",description:"Format the server expects the params. Defaults to 'either'.",enum:["by-position","by-name","either"],default:"either"},params:{title:"methodObjectParams",type:"array",items:{title:"contentDescriptorOrReference",oneOf:[{$ref:"#/definitions/contentDescriptorObject"},{$ref:"#/definitions/referenceObject"}]}},result:{title:"methodObjectResult",oneOf:[{$ref:"#/definitions/contentDescriptorObject"},{$ref:"#/definitions/referenceObject"}]},errors:{title:"methodObjectErrors",description:"Defines an application level error.",type:"array",items:{title:"errorOrReference",oneOf:[{$ref:"#/definitions/errorObject"},{$ref:"#/definitions/referenceObject"}]}},links:{title:"methodObjectLinks",type:"array",items:{title:"linkOrReference",oneOf:[{$ref:"#/definitions/linkObject"},{$ref:"#/definitions/referenceObject"}]}},examples:{title:"methodObjectExamples",type:"array",items:{title:"examplePairingOrReference",oneOf:[{$ref:"#/definitions/examplePairingObject"},{$ref:"#/definitions/referenceObject"}]}},deprecated:{title:"methodObjectDeprecated",type:"boolean",default:!1},externalDocs:{$ref:"#/definitions/externalDocumentationObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},tagObject:{title:"tagObject",type:"object",additionalProperties:!1,required:["name"],properties:{name:{title:"tagObjectName",type:"string",minLength:1},description:{title:"tagObjectDescription",type:"string"},externalDocs:{$ref:"#/definitions/externalDocumentationObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},exampleObject:{title:"exampleObject",type:"object",required:["name","value"],properties:{summary:{title:"exampleObjectSummary",type:"string"},value:{title:"exampleObjectValue"},description:{title:"exampleObjectDescription",type:"string"},name:{title:"exampleObjectName",type:"string",minLength:1}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},examplePairingObject:{title:"examplePairingObject",type:"object",required:["name","params"],properties:{name:{title:"examplePairingObjectName",type:"string",minLength:1},description:{title:"examplePairingObjectDescription",type:"string"},params:{title:"examplePairingObjectParams",type:"array",items:{title:"exampleOrReference",oneOf:[{$ref:"#/definitions/exampleObject"},{$ref:"#/definitions/referenceObject"}]}},result:{title:"examplePairingObjectResult",oneOf:[{$ref:"#/definitions/exampleObject"},{$ref:"#/definitions/referenceObject"}]}}},contentDescriptorObject:{title:"contentDescriptorObject",type:"object",additionalProperties:!1,required:["name","schema"],properties:{name:{title:"contentDescriptorObjectName",type:"string",minLength:1},description:{title:"contentDescriptorObjectDescription",type:"string"},summary:{title:"contentDescriptorObjectSummary",type:"string"},schema:{$ref:"#/definitions/JSONSchema"},required:{title:"contentDescriptorObjectRequired",type:"boolean",default:!1},deprecated:{title:"contentDescriptorObjectDeprecated",type:"boolean",default:!1}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}}}},n.default=n.openrpcDocument}}},{package:"@open-rpc/meta-schema",file:"node_modules/@open-rpc/meta-schema/index.js"}],[3266,{"@json-schema-tools/dereferencer":870,"@json-schema-tools/reference-resolver":874,"fast-safe-stringify":4492},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenRPCDocumentDereferencingError=void 0;var s=a(e("@json-schema-tools/dereferencer")),c=a(e("@json-schema-tools/reference-resolver")),u=a(e("fast-safe-stringify")),l=function(e){this.name="OpenRPCDocumentDereferencingError",this.message="The json schema provided cannot be dereferenced. Received Error: \n ".concat(e)};n.OpenRPCDocumentDereferencingError=l;var p=function(e,t,n){return i(void 0,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:if((r=e.$ref)===undefined)return[2,e];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.resolve(r,t)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),new l(["unable to eval pointer against OpenRPC Document.","error type: ".concat(i.name),"instance: ".concat(i.instance),"token: ".concat(i.token),"pointer: ".concat(r),"reference object: ".concat((0,u.default)(e))].join("\n"));case 4:return[2]}})})},d=function(e,t,n){return i(void 0,void 0,void 0,function(){var r,i,a,s,c,u;return o(this,function(o){switch(o.label){case 0:r=[],i=0,a=e,o.label=1;case 1:return i<a.length?(s=a[i],u=(c=r).push,[4,p(s,t,n)]):[3,4];case 2:u.apply(c,[o.sent()]),o.label=3;case 3:return i++,[3,1];case 4:return[2,r]}})})},y=function(e,t){return i(void 0,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:if(!0===e||!1===e)return[2,Promise.resolve(e)];t!==undefined&&(e.components={schemas:t}),n=new s.default(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.resolve()];case 2:return!0!==(r=o.sent())&&!1!==r&&(delete r.components,delete e.components),[2,r];case 3:throw i=o.sent(),new l(["Unable to parse reference inside of JSONSchema",e.title?"Schema Title: ".concat(e.title):"","error message: ".concat(i.message),"schema in question: ".concat((0,u.default)(e))].join("\n"));case 4:return[2]}})})},m=function(e){return i(void 0,void 0,void 0,function(){var t,n,r,i,a,s,c;return o(this,function(o){switch(o.label){case 0:if(e.components===undefined)return[2,Promise.resolve(e)];if(e.components.contentDescriptors===undefined)return[2,Promise.resolve(e)];t=e.components.contentDescriptors,n=Object.keys(t),r={},e.components.schemas&&(r=e.components.schemas),i=0,a=n,o.label=1;case 1:return i<a.length?(s=a[i],c=t[s],[4,y(t[s].schema,r)]):[3,4];case 2:c.schema=o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2,e]}})})},f=function(e,t,n){return i(void 0,void 0,void 0,function(){var r,i,a,s,c,u,l,m,f,h,T,g,b,_,O,w,v,S,x,E;return o(this,function(o){switch(o.label){case 0:return r=e,e.$ref===undefined?[3,2]:[4,p({$ref:e.$ref},t,n)];case 1:r=o.sent(),o.label=2;case 2:return r.tags===undefined?[3,4]:(i=r,[4,d(r.tags,t,n)]);case 3:i.tags=o.sent(),o.label=4;case 4:return r.errors===undefined?[3,6]:(a=r,[4,d(r.errors,t,n)]);case 5:a.errors=o.sent(),o.label=6;case 6:return r.links===undefined?[3,8]:(s=r,[4,d(r.links,t,n)]);case 7:s.links=o.sent(),o.label=8;case 8:return r.examples===undefined?[3,14]:(c=r,[4,d(r.examples,t,n)]);case 9:c.examples=o.sent(),u=0,l=r.examples,o.label=10;case 10:return u<l.length?(m=l[u],f=m,[4,d(m.params,t,n)]):[3,14];case 11:return f.params=o.sent(),m.result===undefined?[3,13]:(h=m,[4,p(m.result,t,n)]);case 12:h.result=o.sent(),o.label=13;case 13:return u++,[3,10];case 14:return T=r,[4,d(r.params,t,n)];case 15:return T.params=o.sent(),r.result===undefined?[3,17]:(g=r,[4,p(r.result,t,n)]);case 16:g.result=o.sent(),o.label=17;case 17:b={},t.components&&t.components.schemas&&(b=t.components.schemas),_=r.params,O=0,w=_,o.label=18;case 18:return O<w.length?(v=w[O],S=v,[4,y(v.schema,b)]):[3,21];case 19:S.schema=o.sent(),o.label=20;case 20:return O++,[3,18];case 21:return r.result===undefined?[3,23]:(x=r.result,E=x,[4,y(x.schema,b)]);case 22:E.schema=o.sent(),o.label=23;case 23:return[2,r]}})})};n.default=function(e,t){return void 0===t&&(t=c.default),i(this,void 0,void 0,function(){var n,a,s,c,u,l,p;return o(this,function(d){switch(d.label){case 0:return n=r({},e),[4,(h=n,i(void 0,void 0,void 0,function(){var e,t,n,r,i,a,s;return o(this,function(o){switch(o.label){case 0:if(h.components===undefined)return[2,Promise.resolve(h)];if(h.components.schemas===undefined)return[2,Promise.resolve(h)];e=h.components.schemas,t=Object.keys(e),n=0,r=t,o.label=1;case 1:return n<r.length?(i=r[n],a=e,s=i,[4,y(e[i],e)]):[3,4];case 2:a[s]=o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2,h]}})}))];case 1:return n=d.sent(),[4,m(n)];case 2:n=d.sent(),a=[],s=0,c=n.methods,d.label=3;case 3:return s<c.length?(u=c[s],p=(l=a).push,[4,f(u,n,t)]):[3,6];case 4:p.apply(l,[d.sent()]),d.label=5;case 5:return s++,[3,3];case 6:return n.methods=a,[2,n]}var h})})}}}},{package:"@open-rpc/schema-utils-js",file:"node_modules/@open-rpc/schema-utils-js/build/dereference-document.js"}],[3267,{"./dereference-document":3266,"./validate-open-rpc-document":3268,"@json-schema-tools/reference-resolver":874,"@json-schema-tools/reference-resolver/build/reference-resolver":875,"is-url":4743},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.makeCustomResolver=void 0;var l=u(e("./dereference-document")),p=a(e("./validate-open-rpc-document")),d=u(e("@json-schema-tools/reference-resolver")),y=e("is-url"),m=u(e("@json-schema-tools/reference-resolver/build/reference-resolver")),f={dereference:!0,validate:!0};n.makeCustomResolver=function(e){return new m.default(e)},n.default=function(e,t){return function(n,i){return void 0===n&&(n="./openrpc.json"),void 0===i&&(i=f),s(this,void 0,void 0,function(){var o,a,s,u;return c(this,function(c){switch(c.label){case 0:return a=r(r({},f),i),"string"==typeof n?[3,1]:(o=n,[3,6]);case 1:return function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(n)?(o=JSON.parse(n),[3,6]):[3,2];case 2:return y(n)?[4,e(n)]:[3,4];case 3:return o=c.sent(),[3,6];case 4:return[4,t(n)];case 5:o=c.sent(),c.label=6;case 6:if(a.validate&&(u=(0,p.default)(o))instanceof p.OpenRPCDocumentValidationError)throw u;return s=o,a.dereference?a.resolver===undefined?[3,8]:[4,(0,l.default)(o,a.resolver)]:[3,10];case 7:return s=c.sent(),[3,10];case 8:return[4,(0,l.default)(o,d.default)];case 9:s=c.sent(),c.label=10;case 10:if(a.validate&&(u=(0,p.default)(s))instanceof p.OpenRPCDocumentValidationError)throw u;return[2,s]}})})}}}}},{package:"@open-rpc/schema-utils-js",file:"node_modules/@open-rpc/schema-utils-js/build/parse-open-rpc-document.js"}],[3268,{"@json-schema-tools/meta-schema":871,"@open-rpc/meta-schema":3265,ajv:3910},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenRPCDocumentValidationError=void 0;var o=i(e("@open-rpc/meta-schema")),a=i(e("ajv")),s=i(e("@json-schema-tools/meta-schema")),c=function(e){this.name="OpenRPCDocumentDereferencingError",this.message=["Error validating OpenRPC Document against @open-rpc/meta-schema.","The errors found are as follows:",JSON.stringify(e,undefined,"  ")].join("\n")};n.OpenRPCDocumentValidationError=c,n.default=function(e){var t=new a.default;t.addSchema(s.default,"https://meta.json-schema.tools");var n=r({},o.default);delete n.definitions.JSONSchema.$id,delete n.definitions.JSONSchema.$schema,delete n.$schema,delete n.$id;try{t.validate(n,e)}catch(e){throw new Error(["schema-utils-js: Internal Error","-----",e,"-----","If you see this report it: https://github.com/open-rpc/schema-utils-js/issues"].join("\n"))}return!t.errors||new c(t.errors)}}}},{package:"@open-rpc/schema-utils-js",file:"node_modules/@open-rpc/schema-utils-js/build/validate-open-rpc-document.js"}],[3270,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[3271,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],s=0,c=0;t<n;){var u=e[t++];switch(c){case 0:a[s++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:a[s++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:a[s++]=i[r|u>>6],a[s++]=i[63&u],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";r.decode=function(e,t,n){for(var r,i=n,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if((u=o[u])===undefined)throw Error(s);switch(a){case 0:r=u,a=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:t[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error(s);return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[3272,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function i(e){if("string"!=typeof e){var t=o();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),u=0;u<a.length;)s[u]=a[u],c[u]=e[a[u++]];return s[u]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),p=0;p<l.length;)l[p]=arguments[++p];if(p=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=l[p++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),p!==l.length)throw Error("parameter count mismatch");return n.push(e),i}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=r,r.verbose=!1}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[3273,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[3274,{"@protobufjs/aspromise":3270,"@protobufjs/inquire":3276},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=o;var r=e("@protobufjs/aspromise"),i=e("@protobufjs/inquire")("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))}):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[3275,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*Infinity:0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+o;return 2047===c?u?NaN:s*Infinity:0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[3276,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[3277,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[3278,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[3279,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[328,{"../../../../shared/lib/trace":5999},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addPersonalMessage=async function({signatureParams:e,signatureController:t}){return i(e,t,"newUnsignedPersonalMessage")},n.addTypedMessage=async function({signatureParams:e,signatureController:t}){return i(e,t,"newUnsignedTypedMessage")};var r=e("../../../../shared/lib/trace");async function i(e,t,n){const[i,o,a,s]=e,{id:c,method:u,params:l}=o,p={id:c,method:u,params:l,origin:a.get("origin"),networkClientId:a.get("networkClientId"),securityAlertResponse:a.get("securityAlertResponse")},d=null==c?void 0:c.toString();(0,r.endTrace)({name:r.TraceName.Middleware,id:d});const y=await t[n](i,p,s);return(0,r.endTrace)({name:r.TraceName.Signature,id:d}),y}}}},{package:"$root$",file:"app/scripts/lib/signature/util.ts"}],[329,{"../../../../shared/constants/app":5876,"../../../../shared/constants/smartTransactions":5906,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/selectors":6032,"../../../../shared/modules/selectors/networks":6034,"../../../../shared/modules/transaction.utils":6047,"../transaction/util":362,"@metamask/smart-transactions-controller":2737,"@metamask/transaction-controller":3085,loglevel:4948},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSmartTransactionCommonParams=function(e,t){const n=function(e){return{metamask:e}}(e),r=t??(0,p.getCurrentChainId)(n),i=(0,l.getIsSmartTransaction)(n,t),o=(0,l.getSmartTransactionsFeatureFlagsForChain)(n,r),a=(0,l.isHardwareWallet)(n);return{isSmartTransaction:i,featureFlags:o,isHardwareWalletAccount:a}},n.submitSmartTransactionHook=n.submitBatchSmartTransactionHook=void 0;var r,i=e("@metamask/smart-transactions-controller"),o=e("@metamask/transaction-controller"),a=(r=e("loglevel"))&&r.__esModule?r:{default:r},s=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/smartTransactions"),u=e("../../../../shared/modules/conversion.utils"),l=e("../../../../shared/modules/selectors"),p=e("../../../../shared/modules/selectors/networks"),d=e("../../../../shared/modules/transaction.utils"),y=e("../transaction/util");function m(e,t,n){f(e,t),t.set(e,n)}function f(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){return e.get(g(e,t))}function T(e,t,n){return e.set(g(e,t),n),n}function g(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var b=new WeakMap,_=new WeakMap,O=new WeakMap,w=new WeakMap,v=new WeakMap,S=new WeakMap,x=new WeakMap,E=new WeakMap,P=new WeakMap,I=new WeakMap,j=new WeakMap,A=new WeakMap,k=new WeakMap,M=new WeakMap,C=new WeakSet;class R{constructor(e){!function(e,t){f(e,t),t.add(e)}(this,C),m(this,b,void 0),m(this,_,void 0),m(this,O,void 0),m(this,w,void 0),m(this,v,void 0),m(this,S,void 0),m(this,x,void 0),m(this,E,void 0),m(this,P,void 0),m(this,I,void 0),m(this,j,void 0),m(this,A,void 0),m(this,k,void 0),m(this,M,void 0);const{transactionMeta:t,signedTransactionInHex:n,smartTransactionsController:r,transactionController:i,isSmartTransaction:c,controllerMessenger:u,featureFlags:l,transactions:p}=e;T(_,this,""),T(b,this,!1),T(I,this,t),T(j,this,n),T(E,this,r),T(P,this,i),T(x,this,c),T(w,this,u),T(v,this,l),T(S,this,t.origin!==s.ORIGIN_METAMASK),T(O,this,t.chainId),T(k,this,t.txParams),T(A,this,p);const d=null==l?void 0:l.extensionSkipSmartTransactionStatusPage;T(M,this,!d&&Boolean(t.type!==o.TransactionType.bridge&&t.type!==o.TransactionType.shieldSubscriptionApprove||h(A,this)&&h(A,this).length>0)),a.default.info("[SmartTransaction] shouldShowStatusPage:",h(M,this))}async submit(){const e=!!h(I,this).type&&[o.TransactionType.swapAndSend,o.TransactionType.swapApproval,o.TransactionType.bridgeApproval].includes(h(I,this).type),t={transactionHash:undefined};if(!h(x,this)||e||(0,d.isLegacyTransaction)(h(I,this)))return t;let n;if(h(M,this)&&await g(C,this,D).call(this),!h(j,this)||!h(I,this).isGasFeeSponsored)try{n=await h(E,this).getFees({...h(k,this),chainId:h(O,this)},undefined,{networkClientId:h(I,this).networkClientId})}catch(e){return a.default.error("Error in smart transaction publish hook, falling back to regular transaction submission",e),g(C,this,B).call(this),t}try{var r;const e=await g(C,this,q).call(this,{getFeesResponse:n}),t=null==e?void 0:e.uuid;if(!t)throw new Error("No smart transaction UUID");await g(C,this,U).call(this,t);let i;if(i=(null===(r=h(v,this))||void 0===r?void 0:r.extensionReturnTxHashAsap)&&null!=e&&e.txHash?e.txHash:await g(C,this,$).call(this,{uuid:t}),null===i)throw new Error("Transaction does not have a transaction hash, there was a problem");return{transactionHash:i}}catch(e){throw a.default.error("Error in smart transaction publish hook",e),g(C,this,B).call(this),e}}async submitBatch(){if(!h(x,this))throw new Error("submitBatch: Smart Transaction is required for batch submissions");h(M,this)&&await g(C,this,D).call(this);try{var e,t;const n=await g(C,this,q).call(this),r=null==n?void 0:n.uuid;if(!r)throw new Error("submitBatch: No smart transaction UUID");let i;await g(C,this,U).call(this,r),i=null!=n&&n.txHashes?{results:n.txHashes.map(e=>({transactionHash:e}))}:{results:[]};if((null===(e=h(v,this))||void 0===e?void 0:e.extensionReturnTxHashAsapBatch)&&(null===(t=i)||void 0===t||null===(t=t.results)||void 0===t?void 0:t.length)>0)return i;if(null===await g(C,this,$).call(this,{uuid:r}))throw new Error("submitBatch: Transaction does not have a transaction hash, there was a problem");return i}catch(e){throw a.default.error("submitBatch: Error in smart transaction publish batch hook",e),g(C,this,B).call(this),e}}}async function N(e){try{await h(w,this).call("ApprovalController:endFlow",{id:e})}catch(e){}}async function z(e){try{await g(C,this,N).call(this,e),await h(w,this).call("ApprovalController:acceptRequest",e),K._=""}catch(e){a.default.error("Error ending existing approval flow",e)}}async function D(){K._&&await g(C,this,z).call(this,K._);const{id:e}=await h(w,this).call("ApprovalController:startFlow");T(_,this,e),K._=e}async function U(e){h(M,this)&&(g(C,this,L).call(this,{uuid:e}),g(C,this,G).call(this,{uuid:e}))}function B(){h(M,this)&&!h(b,this)&&(T(b,this,!0),g(C,this,N).call(this,h(_,this)),K._===h(_,this)&&(K._=""))}function L({uuid:e}){const t=()=>{g(C,this,B).call(this)};h(w,this).call("ApprovalController:addRequest",{id:h(_,this),origin:origin,type:s.SMART_TRANSACTION_CONFIRMATION_TYPES.showSmartTransactionStatusPage,requestState:{smartTransaction:{status:i.SmartTransactionStatuses.PENDING,creationTime:Date.now(),uuid:e,chainId:h(O,this)},isDapp:h(S,this),txId:h(I,this).id}},!0).then(t,t)}async function F({smartTransaction:e}){return await h(w,this).call("ApprovalController:updateRequestState",{id:h(_,this),requestState:{smartTransaction:e,isDapp:h(S,this),txId:h(I,this).id}})}async function G({uuid:e}){h(w,this).subscribe("SmartTransactionsController:smartTransaction",async t=>{if(t.uuid===e){const{status:e}=t;if(!e||e===i.SmartTransactionStatuses.PENDING)return;h(b,this)||await g(C,this,F).call(this,{smartTransaction:t})}})}function $({uuid:e}){return new Promise(t=>{h(w,this).subscribe("SmartTransactionsController:smartTransaction",async n=>{if(n.uuid===e){const{status:e,statusMetadata:r}=n;if(!e||e===i.SmartTransactionStatuses.PENDING)return;a.default.debug("Smart Transaction: ",n),null!=r&&r.minedHash?(a.default.debug("Smart Transaction - Received tx hash: ",null==r?void 0:r.minedHash),t(r.minedHash)):t(null)}})})}async function q({getFeesResponse:e}={}){let t=[],n=[];if(h(A,this)&&Array.isArray(h(A,this))&&h(A,this).length>0)t=h(A,this).filter(e=>null==e?void 0:e.signedTx).map(e=>{const t=(0,y.getTransactionById)(e.id??"",h(P,this)),n={tx:e.signedTx};return t&&(n.metadata={txType:t.type}),n});else if(h(j,this))t=[{tx:h(j,this),metadata:{txType:h(I,this).type}}];else if(e){var r;t=(await g(C,this,W).call(this,(null===(r=e.tradeTxFees)||void 0===r?void 0:r.fees)??[],!1)).map(e=>({tx:e,metadata:{txType:h(I,this).type}}))}return n=t.map(e=>e.tx),await h(E,this).submitSignedTransactions({signedTransactions:n,signedTransactionsWithMetadata:t,signedCanceledTransactions:[],txParams:h(k,this),transactionMeta:h(I,this),networkClientId:h(I,this).networkClientId})}function H(e,t){if(!h(k,this))throw new Error("Transaction params are required");const n={...h(k,this),maxFeePerGas:`0x${(0,u.decimalToHex)(e.maxFeePerGas)}`,maxPriorityFeePerGas:`0x${(0,u.decimalToHex)(e.maxPriorityFeePerGas)}`,gas:t?`0x${(0,u.decimalToHex)(c.CANCEL_GAS_LIMIT_DEC)}`:h(k,this).gas};return t&&(n.to=n.from,n.data="0x"),n}async function W(e,t){if(!h(k,this)||!h(O,this))throw new Error("Transaction params and chainId are required");const n=e.map(e=>g(C,this,H).call(this,e,t)).map(e=>({...e,chainId:e.chainId||h(O,this)}));return await h(P,this).approveTransactionsWithSameNonce(n,{hasNonce:!0})}var K={_:""};n.submitSmartTransactionHook=e=>new R(e).submit();n.submitBatchSmartTransactionHook=e=>new R(e).submitBatch()}}},{package:"$root$",file:"app/scripts/lib/smart-transaction/smart-transactions.ts"}],[33,{"@metamask/message-manager":2362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DecryptMessageManagerInit=void 0;var r=e("@metamask/message-manager");n.DecryptMessageManagerInit=({controllerMessenger:e})=>({persistedStateKey:null,memStateKey:null,controller:new r.DecryptMessageManager({additionalFinishStatuses:["decrypted"],messenger:e})})}}},{package:"$root$",file:"app/scripts/controller-init/confirmations/decrypt-message-manager-init.ts"}],[330,{"./snap-keyring":333,"./utils":334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getAccountsBySnapId",{enumerable:!0,get:function(){return i.getAccountsBySnapId}}),Object.defineProperty(n,"snapKeyringBuilder",{enumerable:!0,get:function(){return r.snapKeyringBuilder}});var r=e("./snap-keyring"),i=e("./utils")}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/index.ts"}],[331,{"@metamask/keyring-api":2300,"@metamask/permission-controller":2528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProtocolAllowed=l,n.keyringSnapPermissionsBuilder=function(e,t){return()=>{if("metamask"===t)return a;if(o.includes(t))return c;const n=e.getSubjectMetadata(t);return(null==n?void 0:n.subjectType)===i.SubjectType.Website&&l(t)?s:[]}};var r=e("@metamask/keyring-api"),i=e("@metamask/permission-controller");const o=["https://app.metamask.io"],a=[r.KeyringRpcMethod.ListAccounts,r.KeyringRpcMethod.GetAccount,r.KeyringRpcMethod.FilterAccountChains,r.KeyringRpcMethod.DeleteAccount,r.KeyringRpcMethod.ListRequests,r.KeyringRpcMethod.GetRequest,r.KeyringRpcMethod.SubmitRequest,r.KeyringRpcMethod.RejectRequest],s=[r.KeyringRpcMethod.ListAccounts,r.KeyringRpcMethod.GetAccount,r.KeyringRpcMethod.CreateAccount,r.KeyringRpcMethod.FilterAccountChains,r.KeyringRpcMethod.UpdateAccount,r.KeyringRpcMethod.DeleteAccount,r.KeyringRpcMethod.ExportAccount,r.KeyringRpcMethod.ListRequests,r.KeyringRpcMethod.GetRequest,r.KeyringRpcMethod.ApproveRequest,r.KeyringRpcMethod.RejectRequest],c=[r.KeyringRpcMethod.ListAccounts,r.KeyringRpcMethod.GetAccount,r.KeyringRpcMethod.GetAccountBalances,r.KeyringRpcMethod.SubmitRequest],u=["https:"];function l(e){try{const t=new URL(e);return u.includes(t.protocol)}catch(e){return!1}}}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/keyring-snaps-permissions.ts"}],[3319,{"./messageChannel/abstract":3320,"./storage":3321,"./systemInfo":3322,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib");r.__exportStar(e("./storage"),n),r.__exportStar(e("./messageChannel/abstract"),n),r.__exportStar(e("./systemInfo"),n)}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/index.js"}],[332,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapAndHardwareInfoForMetrics=async function(e,t,n,r){var i,o,a;if(!r)return{};const s=r.call("AccountsController:getSelectedAccount"),c=s.address;let u;var l;null!==(i=s.metadata.snap)&&void 0!==i&&i.id&&(u=r.call("SnapController:get",null===(l=s.metadata.snap)||void 0===l?void 0:l.id));let p={};const{isUnlocked:d}=r.call("KeyringController:getState");if(d){p={account_type:await e(c),device_model:await t(c)};const r=await n(c);r&&(p={...p,account_hardware_type:r})}return{...p,account_snap_type:null===(o=u)||void 0===o?void 0:o.id,account_snap_version:null===(a=u)||void 0===a?void 0:a.version}}}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/metrics.ts"}],[3320,{"@trezor/utils":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractMessageChannel=void 0;const r=e("@trezor/utils");class i extends r.TypedEmitter{messagePromises={};messagesQueue=[];messageID=0;isConnected=!1;handshakeMaxRetries=5;handshakeRetryInterval=2e3;handshakeFinished;lazyHandshake;legacyMode;logger;sendFn;channel;constructor({sendFn:e,channel:t,logger:n,lazyHandshake:r=!1,legacyMode:i=!1}){super(),this.channel=t,this.sendFn=e,this.lazyHandshake=r,this.legacyMode=i,this.logger=n}init(){return this.handshakeFinished||(this.handshakeFinished=(0,r.createDeferred)(),this.legacyMode&&setTimeout(()=>{this.handshakeFinished?.resolve()},500),this.lazyHandshake||this.handshakeWithPeer()),this.handshakeFinished.promise}handshakeWithPeer(){return this.logger?.log(this.channel.here,"handshake"),(0,r.scheduleAction)(async()=>{this.postMessage({type:"channel-handshake-request",data:{success:!0,payload:undefined}},{usePromise:!1,useQueue:!1}),await(this.handshakeFinished?.promise)},{attempts:this.handshakeMaxRetries,timeout:this.handshakeRetryInterval}).then(()=>{this.logger?.log(this.channel.here,"handshake confirmed"),this.messagesQueue.forEach(e=>{e.channel=this.channel,this.sendFn(e)}),this.messagesQueue=[]}).catch(()=>{this.handshakeFinished?.reject(new Error("handshake failed")),this.handshakeFinished=undefined})}onMessage(e){let t=e;this.legacyMode&&t.type===undefined&&"data"in t&&"object"==typeof t.data&&null!==t.data&&"type"in t.data&&"string"==typeof t.data.type&&(t=t.data);const{channel:n,id:r,type:i,...o}=t;if(!this.legacyMode){if(!n?.peer||n.peer!==this.channel.here)return;if(!n?.here||this.channel.peer!==n.here)return}if("channel-handshake-request"===i)return this.postMessage({type:"channel-handshake-confirm",data:{success:!0,payload:undefined}},{usePromise:!1,useQueue:!1}),void(this.lazyHandshake&&this.handshakeWithPeer());if("channel-handshake-confirm"===i)return void this.handshakeFinished?.resolve(undefined);this.messagePromises[r]&&(this.messagePromises[r].resolve({id:r,...o}),delete this.messagePromises[r]);const a=Object.keys(this.messagePromises).length;a>5&&this.logger?.warn(`too many message promises (${a}). this feels unexpected!`),this.emit("message",t)}postMessage(e,{usePromise:t=!0,useQueue:n=!0}={}){if(e.channel=this.channel,t){this.messageID++,e.id=this.messageID,this.messagePromises[e.id]=(0,r.createDeferred)();try{this.sendFn(e)}catch{n&&this.messagesQueue.push(e)}return this.messagePromises[e.id].promise}try{this.sendFn(e)}catch{n&&this.messagesQueue.push(e)}}resolveMessagePromises(e){Object.keys(this.messagePromises).forEach(t=>this.messagePromises[t].resolve({id:t,payload:e}))}clear(){this.handshakeFinished=undefined}}n.AbstractMessageChannel=i}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/messageChannel/abstract.js"}],[3321,{"@trezor/utils":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storage=void 0;const r=e("@trezor/utils"),i="storage_v2";let o={origin:{}};const a=()=>{const e=localStorage.getItem(i);return e?JSON.parse(e):{origin:{}}};class s extends r.TypedEmitter{save(e,t=!1){if(!t&&global.window)try{const t=e(a());localStorage.setItem(i,JSON.stringify(t)),this.emit("changed",t)}catch{console.warn("long term storage not available"),o=e(o)}else o=e(o)}saveForOrigin(e,t,n=!1){this.save(n=>({...n,origin:{...n.origin,[t]:e(n.origin?.[t]||{})}}),n)}load(e=!1){if(e||!global?.window?.localStorage)return o;try{return a()}catch{return console.warn("long term storage not available"),o}}loadForOrigin(e,t=!1){const n=this.load(t);return n.origin?.[e]||{}}}const c=new s;n.storage=c}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/storage.js"}],[3322,{"@trezor/env-utils":3392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSystemInfo=n.getInstallerPackage=void 0;const r=e("@trezor/env-utils");n.getInstallerPackage=()=>{const e=(0,r.getUserAgent)();switch((0,r.getOsFamily)()){case"MacOS":return"mac";case"Windows":return`win${e.match(/(Win64|WOW64)/)?"64":"32"}`;case"Linux":return`${e.match(/CentOS|Fedora|Mandriva|Mageia|Red Hat|Scientific|SUSE/)?"rpm":"deb"}${e.match(/Linux i[3456]86/)?"32":"64"}`}};n.getSystemInfo=e=>{const t=(0,r.getBrowserName)(),n=(0,r.getBrowserVersion)(),i=t?e[t.toLowerCase()]:undefined,o=!!i&&i.version>parseInt(n,10),a="mobile"===(0,r.getDeviceType)(),s=!a||"usb"in navigator,c=!(!i||o||!s);return{os:{family:(0,r.getOsFamily)(),mobile:a},browser:{supported:c,outdated:o}}}}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/systemInfo.js"}],[3323,{"@metamask/eth-sig-util":2075,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.transformTypedData=void 0;const r=e("tslib").__importStar(e("@metamask/eth-sig-util"));function i(e){switch(Object.prototype.toString.call(e)){case"[object Object]":{const t=Object.keys(e).map(t=>[t,i(e[t])]);return Object.fromEntries(t)}case"[object Array]":return e.map(e=>i(e));case"[object BigInt]":return e.toString();default:return e}}n.transformTypedData=(e,t)=>{if(!t)throw new Error("Trezor: Only version 4 of typed data signing is supported");const n=r.SignTypedDataVersion.V4,{types:o,primaryType:a,domain:s,message:c}=r.TypedDataUtils.sanitizeData(e),u=r.TypedDataUtils.hashStruct("EIP712Domain",i(s),o,n).toString("hex");let l=null;return"EIP712Domain"!==a&&(l=r.TypedDataUtils.hashStruct(a,i(c),o,n).toString("hex")),Object.assign({domain_separator_hash:u,message_hash:l},e)},n.default=n.transformTypedData}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-plugin-ethereum",file:"node_modules/@trezor/connect-plugin-ethereum/lib/index.js"}],[3324,{"@trezor/connect-common":3319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ServiceWorkerWindowChannel=void 0;const r=e("@trezor/connect-common");class i extends r.AbstractMessageChannel{port;name;allowSelfOrigin;currentId;constructor({name:e,channel:t,logger:n,lazyHandshake:r,legacyMode:i,allowSelfOrigin:o=!1,currentId:a}){super({channel:t,sendFn:e=>{if(!this.port)throw new Error("port not assigned");this.port.postMessage(e)},logger:n,lazyHandshake:r,legacyMode:i}),this.name=e,this.allowSelfOrigin=o,this.currentId=a,this.connect()}connect(){chrome.runtime.onConnect.addListener(e=>{e.name===this.name&&(this.currentId?.()&&this.currentId?.()!==e.sender?.tab?.id||(this.port=e,this.port.onMessage.addListener((e,{sender:t})=>{if(!t)return void this.logger?.error("service-worker-window","no sender");const{origin:n}=t,r=["https://connect.trezor.io","https://staging-connect.trezor.io","https://suite.corp.sldev.cz","https://dev.suite.sldev.cz","http://localhost:8088"],i=chrome?.runtime?.id;i&&r.push(`chrome-extension://${i}`);const o=chrome?.runtime?.getURL("");o&&r.push(o.slice(0,-1)),n?r.includes(n)?(n!==self.origin||this.allowSelfOrigin)&&this.onMessage(e):this.logger?.error("connect-webextension/messageChannel/extensionPort/onMessage","origin not whitelisted",n):this.logger?.error("connect-webextension/messageChannel/extensionPort/onMessage","no origin")})))}),this.isConnected=!0}disconnect(){this.isConnected&&(this.port?.disconnect(),this.clear(),this.isConnected=!1)}}n.ServiceWorkerWindowChannel=i}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/channels/serviceworker-window.js"}],[3325,{"@trezor/connect-common":3319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WindowWindowChannel=void 0;const r=e("@trezor/connect-common");class i extends r.AbstractMessageChannel{_windowHere;_listener;constructor({windowHere:e,windowPeer:t,channel:n,logger:r,origin:i,legacyMode:o}){super({channel:n,sendFn:e=>{t()?.postMessage(e,i)},logger:r,legacyMode:o}),this._listener=this.listener.bind(this),this._windowHere=e,this.connect()}listener(e){const t={...e.data,success:!0,origin:e.origin,payload:e.data.payload||{},channel:e.data.channel||{peer:this.channel.here,here:this.channel.peer}};this.onMessage(t)}connect(){this._windowHere.addEventListener("message",this._listener),this.isConnected=!0}disconnect(){this.isConnected&&(this._windowHere.removeEventListener("message",this._listener),this.isConnected=!1)}}n.WindowWindowChannel=i}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/channels/window-window.js"}],[3326,{"@trezor/connect/lib/data/connectSettings":3344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=n.getEnv=void 0;const r=e("@trezor/connect/lib/data/connectSettings");n.getEnv=()=>{if("undefined"!=typeof chrome&&void 0!==chrome.runtime?.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};n.parseConnectSettings=(e={})=>{const t={popup:!0,...e};let i;return"undefined"!=typeof window?i=window.__TREZOR_CONNECT_SRC:"undefined"!=typeof global&&(i=global.__TREZOR_CONNECT_SRC),"string"==typeof i&&(t.connectSrc=i,t.debug=!0),"string"!=typeof e.env&&(t.env=(0,n.getEnv)()),(0,r.parseConnectSettings)(t)}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/connectSettings.js"}],[3327,{"./inlineStyles":3328,"@trezor/connect/lib/constants/errors":3337,"@trezor/connect/lib/events":3354,"@trezor/connect/lib/utils/debug":3381,"@trezor/connect/lib/utils/urlUtils":3383,"@trezor/utils":3648,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.initIframeLogger=n.clearTimeout=n.postMessage=n.init=n.dispose=n.error=n.timeout=n.initPromise=n.origin=n.instance=void 0;const r=e("tslib"),i=r.__importStar(e("@trezor/connect/lib/constants/errors")),o=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/utils/debug"),s=e("@trezor/connect/lib/utils/urlUtils"),c=e("@trezor/utils"),u=r.__importDefault(e("./inlineStyles"));n.initPromise=(0,c.createDeferred)(),n.timeout=0;n.dispose=()=>{if(n.instance&&n.instance.parentNode)try{n.instance.parentNode.removeChild(n.instance)}catch{}n.instance=null,n.timeout=0};n.init=async e=>{n.initPromise=(0,c.createDeferred)();const t=document.getElementById("trezorconnect");let r;if(t?n.instance=t:(n.instance=document.createElement("iframe"),n.instance.frameBorder="0",n.instance.width="0px",n.instance.height="0px",n.instance.style.position="absolute",n.instance.style.display="none",n.instance.style.border="0px",n.instance.style.width="0px",n.instance.style.height="0px",n.instance.id="trezorconnect"),"web"===e.env){const t=e.manifest?JSON.stringify(e.manifest):"undefined",n=`version=${e.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(t)))}`;r=`${e.iframeSrc}?${n}`}else r=e.iframeSrc;if(!r.startsWith("http://")&&!r.startsWith("https://"))return;n.instance.setAttribute("src",r),navigator.usb&&n.instance.setAttribute("allow","usb"),n.origin=(0,s.getOrigin)(n.instance.src),n.timeout=window.setTimeout(()=>{n.initPromise.reject(i.TypedError("Init_IframeTimeout"))},1e4);const a=()=>{if(!n.instance)return void n.initPromise.reject(i.TypedError("Init_IframeBlocked"));try{const e=n.instance.contentWindow?.location.origin;if(!e||"null"===e)return window.clearTimeout(n.timeout),n.error=i.TypedError("Init_IframeBlocked"),(0,n.dispose)(),void n.initPromise.reject(n.error)}catch{}let t;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener(()=>{}),t=chrome.runtime.id),n.instance.contentWindow?.postMessage({type:o.IFRAME.INIT,payload:{settings:e,extension:t}},n.origin),n.instance.onload=null};n.instance.attachEvent?n.instance.attachEvent("onload",a):n.instance.onload=a,document.body&&(document.body.appendChild(n.instance),(()=>{if(!n.instance)throw i.TypedError("Init_IframeBlocked");const e=n.instance.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],r=document.createElement("style");r.setAttribute("type","text/css"),r.setAttribute("id","TrezorConnectStylesheet"),r.styleSheet?(r.styleSheet.cssText=u.default,t.appendChild(r)):(r.appendChild(document.createTextNode(u.default)),t.append(r))})());try{await n.initPromise.promise}catch(e){throw n.instance&&(n.instance.parentNode&&n.instance.parentNode.removeChild(n.instance),n.instance=null),e}finally{window.clearTimeout(n.timeout),n.timeout=0}};n.postMessage=e=>{if(!n.instance)throw i.TypedError("Init_IframeBlocked");n.instance.contentWindow?.postMessage(e,n.origin)};n.clearTimeout=()=>{window.clearTimeout(n.timeout)};n.initIframeLogger=()=>{(0,a.setLogWriter)(()=>({add:e=>{(0,n.postMessage)({type:o.IFRAME.LOG,payload:e})}}))}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/index.js"}],[3328,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/inlineStyles.js"}],[3329,{"../connectSettings":3326,"../iframe":3327,"../popup":3333,"../webusb/button":3335,"@trezor/connect/lib/constants/errors":3337,"@trezor/connect/lib/data/config":3343,"@trezor/connect/lib/events":3354,"@trezor/connect/lib/factory":3362,"@trezor/connect/lib/utils/debug":3381,"@trezor/utils/lib/createDeferredManager":3633,events:4472,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInIframe=void 0;const r=e("tslib"),i=r.__importDefault(e("events")),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),a=e("@trezor/connect/lib/data/config"),s=e("@trezor/connect/lib/events"),c=e("@trezor/connect/lib/factory"),u=e("@trezor/connect/lib/utils/debug"),l=e("@trezor/utils/lib/createDeferredManager"),p=e("../connectSettings"),d=r.__importStar(e("../iframe")),y=r.__importStar(e("../popup")),m=r.__importDefault(e("../webusb/button"));class f{eventEmitter=new i.default;_settings;_log;_popupManager;_messagePromises;boundHandleMessage=this.handleMessage.bind(this);boundDispose=this.dispose.bind(this);constructor(){this._settings=(0,p.parseConnectSettings)(),this._log=(0,u.initLog)("@trezor/connect-web"),this._messagePromises=(0,l.createDeferredManager)({initialId:1})}initPopupManager(){const e=new y.PopupManager(this._settings,{logger:this._log});return e.on(s.POPUP.CLOSED,e=>{d.postMessage({type:s.POPUP.CLOSED,payload:e?{error:e}:null})}),e}manifest(e){this._settings=(0,p.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),d.dispose(),this._settings=(0,p.parseConnectSettings)(),this._popupManager&&this._popupManager.close(),window.removeEventListener("message",this.boundHandleMessage),window.removeEventListener("unload",this.boundDispose),Promise.resolve(undefined)}cancel(e){this._popupManager&&this._popupManager.emit(s.POPUP.CLOSED,e)}handleMessage(e){if(e.origin!==d.origin)return;const t=(0,s.parseMessage)(e.data);switch(this._log.log("handleMessage",t),t.event){case s.RESPONSE_EVENT:{const{id:e=0,success:n,payload:r,device:i}=t;this._messagePromises.resolve(e,{id:e,success:n,payload:r,device:i})||this._log.warn(`Unknown message id ${e}`);break}case s.DEVICE_EVENT:case s.TRANSPORT_EVENT:case s.BLOCKCHAIN_EVENT:this.eventEmitter.emit(t.event,t),this.eventEmitter.emit(t.type,t.payload);break;case s.UI_EVENT:if(t.type===s.IFRAME.BOOTSTRAP){d.clearTimeout();break}t.type===s.IFRAME.LOADED&&d.initPromise.resolve(),t.type===s.IFRAME.ERROR&&d.initPromise.reject(t.payload.error),this.eventEmitter.emit(t.event,t),this.eventEmitter.emit(t.type,t.payload);break;default:this._log.log("Undefined message",e.data)}}async init(e){if(d.instance)throw o.TypedError("Init_AlreadyInitialized");if(this._settings=(0,p.parseConnectSettings)({...this._settings,...e}),!this._settings.manifest)throw o.TypedError("Init_ManifestMissing");if(this._settings.transports?.length||(this._settings.transports=["BridgeTransport","WebUsbTransport"]),this._settings.coreMode||(this._settings.coreMode="auto"),this._settings.lazyLoad)this._settings.lazyLoad=!1;else{if(this._popupManager||(this._popupManager=this.initPopupManager()),this._log.enabled=!!this._settings.debug,window.addEventListener("message",this.boundHandleMessage),window.addEventListener("unload",this.boundDispose),await d.init(this._settings),"auto"===this._settings.coreMode){const{promiseId:e,promise:t}=this._messagePromises.create();this._log.debug("coreMode = auto, Checking bridge availability"),d.postMessage({id:e,type:s.TRANSPORT.GET_INFO});const n=await t;if(this._log.debug("Bridge availability response",n),n.payload===undefined&&navigator.usb&&this._settings.transports?.includes("WebUsbTransport"))throw o.TypedError("Transport_Missing")}!1!==this._settings.sharedLogger&&d.initIframeLogger()}}setTransports(){throw new Error("Unsupported right now")}async call(e){if(!d.instance&&!d.timeout){if(this._settings=(0,p.parseConnectSettings)(this._settings),!this._settings.manifest)return(0,s.createErrorMessage)(o.TypedError("Init_ManifestMissing"));this._popupManager||(this._popupManager=this.initPopupManager());try{await this.init(this._settings)}catch(e){return this._popupManager&&this._popupManager.clear(),(0,s.createErrorMessage)(e)}}if(d.timeout&&await d.initPromise.promise,d.error)return(0,s.createErrorMessage)(d.error);this._settings.popup&&this._popupManager&&this._popupManager.request();try{const{promiseId:t,promise:n}=this._messagePromises.create();d.postMessage({id:t,type:s.IFRAME.CALL,payload:e});const r=await n;return r?(!r.success&&"Device_CallInProgress"!==r.payload.code&&this._popupManager&&this._popupManager.unlock(),r):(this._popupManager&&this._popupManager.unlock(),(0,s.createErrorMessage)(o.TypedError("Method_NoResponse")))}catch(e){return this._log.error("__call error",e),this._popupManager&&this._popupManager.clear(!1),(0,s.createErrorMessage)(e)}}uiResponse(e){if(!d.instance)throw o.TypedError("Init_NotInitialized");d.postMessage(e)}renderWebUSBButton(e){(0,m.default)(e,this._settings.webusbSrc)}async requestLogin(e){if("function"==typeof e.callback){const{callback:t}=e,n=async e=>{const{data:n}=e;if(n&&n.type===s.UI.LOGIN_CHALLENGE_REQUEST)try{const e=await t();d.postMessage({type:s.UI.LOGIN_CHALLENGE_RESPONSE,payload:e})}catch(e){d.postMessage({type:s.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.message})}};window.addEventListener("message",n,!1);const r=await this.call({method:"requestLogin",...e,asyncChallenge:!0,callback:null});return window.removeEventListener("message",n),r}return this.call({method:"requestLogin",...e})}disableWebUSB(){if(!d.instance)throw o.TypedError("Init_NotInitialized");d.postMessage({type:s.TRANSPORT.DISABLE_WEBUSB})}async requestWebUSBDevice(){try{await window.navigator.usb.requestDevice({filters:a.config.webusb}),d.postMessage({type:s.TRANSPORT.REQUEST_DEVICE})}catch{}}}n.CoreInIframe=f;const h=new f;n.TrezorConnect=(0,c.factory)({eventEmitter:h.eventEmitter,init:h.init.bind(h),call:h.call.bind(h),setTransports:h.setTransports.bind(h),manifest:h.manifest.bind(h),requestLogin:h.requestLogin.bind(h),uiResponse:h.uiResponse.bind(h),cancel:h.cancel.bind(h),dispose:h.dispose.bind(h)},{renderWebUSBButton:h.renderWebUSBButton.bind(h),disableWebUSB:h.disableWebUSB.bind(h),requestWebUSBDevice:h.requestWebUSBDevice.bind(h)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-iframe.js"}],[333,{"../../../../shared/constants/app":5876,"../../../../shared/constants/metametrics":5892,"../../../../shared/lib/accounts/snaps":5922,"../../../../shared/lib/snaps/snaps":5994,"../../../../shared/lib/translate":6004,"../../../../ui/components/component-library/icon":6632,"./utils/isBlockedUrl":335,"./utils/showResult":336,"@metamask/eth-snap-keyring":2131,"@metamask/snaps-utils":2994,"webextension-polyfill":5864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.showAccountCreationDialog=_,n.snapKeyringBuilder=function(e,t){const n=()=>new i.SnapKeyring({messenger:e,callbacks:new E(e,t)});return n.state=null,n.type=i.SnapKeyring.type,n};var r,i=e("@metamask/eth-snap-keyring"),o=(r=e("webextension-polyfill"))&&r.__esModule?r:{default:r},a=e("@metamask/snaps-utils"),s=e("../../../../shared/constants/metametrics"),c=e("../../../../shared/constants/app"),u=e("../../../../shared/lib/translate"),l=e("../../../../ui/components/component-library/icon"),p=e("../../../../shared/lib/snaps/snaps"),d=e("../../../../shared/lib/accounts/snaps"),y=e("./utils/isBlockedUrl"),m=e("./utils/showResult");function f(e,t,n){h(e,t),t.set(e,n)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T(e,t){return e.get(b(e,t))}function g(e,t,n){return e.set(b(e,t),n),n}function b(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}async function _(e,t){try{return Boolean(await t.call("ApprovalController:addRequest",{origin:e,type:c.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation},!0))}catch(e){throw new Error(`Error occurred while showing account creation dialog.\n${e}`)}}var O=new WeakMap,w=new WeakMap,v=new WeakMap,S=new WeakMap,x=new WeakSet;class E{constructor(e,{trackEvent:t,persistKeyringHelper:n,removeAccountHelper:r}){!function(e,t){h(e,t),t.add(e)}(this,x),f(this,O,void 0),f(this,w,void 0),f(this,v,void 0),f(this,S,void 0),g(O,this,e),g(w,this,t),g(v,this,n),g(S,this,r)}async addressExists(e){return(await T(O,this).call("KeyringController:getAccounts")).includes(e.toLowerCase())}async redirectUser(e,t,n){if(t.length>0||n.length>0){const r=await(0,y.isBlockedUrl)(t,async()=>await T(O,this).call("PhishingController:maybeUpdateState"),e=>T(O,this).call("PhishingController:testOrigin",e)),i=await T(O,this).call("ApprovalController:addRequest",{origin:e,requestData:{url:t,message:n,isBlockedUrl:r},type:c.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect},!0);Boolean(i)&&t.length>0?o.default.tabs.create({url:t}):console.log("User refused snap account redirection to:",t)}else console.log("Error occurred when redirecting snap account. url or message must be defined")}async saveState(){await T(v,this).call(this)}async addAccount(e,t,n,r,o,{displayConfirmation:s,setSelectedAccount:c}=(0,i.getDefaultInternalOptions)()){(0,a.assertIsValidSnapId)(t);const u=(0,p.isSnapPreinstalled)(t);let l=u&&(0,d.isMultichainWalletSnap)(t);const y=l||u&&!s,m=l||u&&!c,f=y;await b(x,this,I).call(this,{snapId:t,skipConfirmationDialog:y,skipApprovalFlow:f,handleUserInput:n}),b(x,this,j).call(this,{address:e,snapId:t,skipConfirmationDialog:y,skipSetSelectedAccountStep:m,skipApprovalFlow:f,onceSaved:r})}async removeAccount(e,t,n){(0,a.assertIsValidSnapId)(t);const r=(0,d.getSnapName)(t,T(O,this)),{id:i}=T(O,this).call("ApprovalController:startFlow"),o="https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-remove-an-account-from-your-metamask-wallet/",p=e=>{T(w,this).call(this,{event:e,category:s.MetaMetricsEventCategory.Accounts,properties:{account_type:s.MetaMetricsEventAccountType.Snap,snap_id:t,snap_name:r}})};let y=!1;try{if(y=Boolean(await T(O,this).call("ApprovalController:addRequest",{origin:t,type:c.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval,requestData:{publicAddress:e}},!0)),!y)throw await n(y),new Error("User denied account removal");try{await T(S,this).call(this,e),await n(y),await this.saveState(),p(s.MetaMetricsEventName.RemoveSnapAccountSuccessViewed),await(0,m.showError)(T(O,this),t,{icon:l.IconName.UserCircleRemove,title:(0,u.t)("snapAccountRemoved")},{message:(0,u.t)("snapAccountRemovedDescription"),learnMoreLink:o}),p(s.MetaMetricsEventName.RemoveSnapAccountSuccessClicked)}catch(e){const n=e.message;throw await(0,m.showError)(T(O,this),t,{icon:l.IconName.UserCircleRemove,title:(0,u.t)("snapAccountRemovalFailed")},{message:(0,u.t)("snapAccountRemovalFailedDescription",r),learnMoreLink:o,error:n}),p(s.MetaMetricsEventName.AccountRemoveFailed),new Error(`Error occurred while removing snap account: ${n}`)}}finally{y&&p(s.MetaMetricsEventName.AccountRemoved),T(O,this).call("ApprovalController:endFlow",{id:i})}}}async function P(e){const{id:t}=T(O,this).call("ApprovalController:startFlow");try{return await e(t)}finally{T(O,this).call("ApprovalController:endFlow",{id:t})}}async function I({snapId:e,skipConfirmationDialog:t,skipApprovalFlow:n,handleUserInput:r}){return n?await r(!0):await b(x,this,P).call(this,async n=>{const i=t||await _(e,T(O,this));if(await r(i),!i)throw new Error("User denied account creation")})}async function j({address:e,snapId:t,skipConfirmationDialog:n,skipSetSelectedAccountStep:r,skipApprovalFlow:i,onceSaved:o}){const a="https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-add-accounts-in-your-wallet/",c=(0,d.getSnapName)(t,T(O,this)),p=e=>{T(w,this).call(this,{event:e,category:s.MetaMetricsEventCategory.Accounts,properties:{account_type:s.MetaMetricsEventAccountType.Snap,snap_id:t,snap_name:c,...e===s.MetaMetricsEventName.AccountAdded&&{is_suggested_name:!1}}})},y=async()=>{try{const i=await o;r||T(O,this).call("AccountsController:setSelectedAccount",i),n||(p(s.MetaMetricsEventName.AddSnapAccountSuccessViewed),await(0,m.showSuccess)(T(O,this),t,{icon:l.IconName.UserCircleAdd,title:(0,u.t)("snapAccountCreated")},{message:(0,u.t)("snapAccountCreatedDescription"),address:e,learnMoreLink:a}),p(s.MetaMetricsEventName.AddSnapAccountSuccessClicked)),p(s.MetaMetricsEventName.AccountAdded)}catch(e){const n=e.message;await(0,m.showError)(T(O,this),t,{icon:l.IconName.UserCircleAdd,title:(0,u.t)("snapAccountCreationFailed")},{message:(0,u.t)("snapAccountCreationFailedDescription",c),learnMoreLink:a,error:n}),console.error("Error occurred while creating snap account:",n)}};i?await y():await b(x,this,P).call(this,y)}}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/snap-keyring.ts"}],[3330,{"../connectSettings":3326,"../popup":3333,"@trezor/connect/lib/constants/errors":3337,"@trezor/connect/lib/events":3354,"@trezor/connect/lib/factory":3362,"@trezor/connect/lib/utils/debug":3381,"@trezor/utils":3648,events:4472,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInPopup=void 0;const r=e("tslib"),i=r.__importDefault(e("events")),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),a=e("@trezor/connect/lib/events"),s=e("@trezor/connect/lib/factory"),c=e("@trezor/connect/lib/utils/debug"),u=e("@trezor/utils"),l=e("../connectSettings"),p=r.__importStar(e("../popup"));class d{eventEmitter=new i.default;_settings;logger;popupManagerLogger;_popupManager;constructor(){this._settings=(0,l.parseConnectSettings)(),this.logger=(0,c.initLog)("@trezor/connect-web"),this.popupManagerLogger=(0,c.initLog)("@trezor/connect-web/popupManager")}logWriterFactory(e){return{add:t=>{e.channel.postMessage({event:a.UI_EVENT,type:a.IFRAME.LOG,payload:t},{usePromise:!1,useQueue:!0})}}}manifest(e){this._settings=(0,l.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),this._settings=(0,l.parseConnectSettings)(),this._popupManager&&this._popupManager.close(),Promise.resolve(undefined)}cancel(e){this._popupManager&&this._popupManager.emit(a.POPUP.CLOSED,e)}init(e){const t=(0,l.parseConnectSettings)({...this._settings}),n=(0,l.parseConnectSettings)({...this._settings,...e});n.transports?.length||(n.transports=["BridgeTransport","WebUsbTransport"]),n.useCoreInPopup=!0,"undefined"!=typeof window&&window?.location?.origin&&(n.origin=window.location.origin);const r=JSON.stringify(t)===JSON.stringify(n);if(this._settings=n,this._popupManager&&r||(this._popupManager&&this._popupManager.close(),this._popupManager=new p.PopupManager(this._settings,{logger:this.popupManagerLogger}),this._popupManager.on(a.DEVICE_EVENT,e=>{this.eventEmitter.emit(a.DEVICE_EVENT,e)}),(0,c.setLogWriter)(()=>this.logWriterFactory(this._popupManager))),this.logger.enabled=!!e.debug,!this._settings.manifest)throw o.TypedError("Init_ManifestMissing");return this.logger.debug("initiated"),Promise.resolve()}setTransports(){throw new Error("Unsupported right now")}async call(e){if(this.logger.debug("call",e),!this._popupManager)return(0,a.createErrorMessage)(o.TypedError("Init_NotInitialized"));this._settings.popup&&await this._popupManager.request();const t=(0,u.createDeferred)(),n=()=>{this.logger.log("Popup closed during initialization"),t.reject(o.TypedError("Method_Interrupted"))};this._popupManager.once(a.POPUP.CLOSED,n);try{this.logger.debug("call: popup initialing"),await Promise.race([t.promise,this.callInit()]),this.logger.debug("call: popup initialized");const n=await this._popupManager.channel.postMessage({type:a.IFRAME.CALL,payload:e});if(this.logger.debug("call: response: ",n),n)return this._popupManager&&n.success&&this._popupManager.clear(),{success:n.success,payload:n.payload,device:n.device};throw o.TypedError("Method_NoResponse")}catch(e){return this.logger.error("call: error",e),this._popupManager.clear(!1),(0,a.createErrorMessage)(e)}finally{this._popupManager.removeListener(a.POPUP.CLOSED,n)}}async callInit(){if(!this._popupManager)throw o.TypedError("Init_NotInitialized");await this._popupManager.channel.init(),"webextension"===this._settings.env&&(await(this._popupManager.popupPromise?.promise),this._popupManager.channel.postMessage({type:a.POPUP.INIT,payload:{settings:this._settings,useCore:!0}})),await(this._popupManager.handshakePromise?.promise)}uiResponse(e){const{type:t,payload:n}=e;this._popupManager?.channel?.postMessage({event:a.UI_EVENT,type:t,payload:n})}renderWebUSBButton(){}requestLogin(){throw o.TypedError("Method_InvalidPackage")}disableWebUSB(){throw o.TypedError("Method_InvalidPackage")}requestWebUSBDevice(){throw o.TypedError("Method_InvalidPackage")}}n.CoreInPopup=d;const y=new d;n.TrezorConnect=(0,s.factory)({eventEmitter:y.eventEmitter,init:y.init.bind(y),call:y.call.bind(y),setTransports:y.setTransports.bind(y),manifest:y.manifest.bind(y),requestLogin:y.requestLogin.bind(y),uiResponse:y.uiResponse.bind(y),cancel:y.cancel.bind(y),dispose:y.dispose.bind(y)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-popup.js"}],[3331,{"../connectSettings":3326,"@trezor/connect/lib/constants/errors":3337,"@trezor/connect/lib/events":3354,"@trezor/connect/lib/factory":3362,"@trezor/websocket-client":3678,"@trezor/websocket-client/lib/client":3677,events:4472,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInSuiteDesktop=void 0;const r=e("tslib"),i=r.__importDefault(e("events")),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),a=e("@trezor/connect/lib/events"),s=e("@trezor/connect/lib/factory"),c=e("@trezor/websocket-client"),u=e("@trezor/websocket-client/lib/client"),l=e("../connectSettings");class p{eventEmitter=new i.default;_settings;ws;constructor(){this._settings=(0,l.parseConnectSettings)(),this.ws=new c.WebsocketClient({url:"ws://127.0.0.1:21335/connect-ws"})}manifest(e){this._settings=(0,l.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),this._settings=(0,l.parseConnectSettings)(),this.ws.dispose(),Promise.resolve(undefined)}cancel(e){this.ws.sendMessage({type:a.POPUP.CLOSED,payload:{error:e}})}async handshake(){if(!this.ws)throw o.TypedError("Desktop_ConnectionMissing","No websocket connection");try{const e=await this.ws.sendMessage({type:a.POPUP.HANDSHAKE,payload:{settings:this._settings}},{timeout:3e3});if(!e)throw o.TypedError("Desktop_ConnectionMissing","No response");return e}catch(e){throw o.TypedError("Desktop_ConnectionMissing",e.message)}}async init(e={}){const t=(0,l.parseConnectSettings)({...this._settings,...e});if(!t.manifest||!t.manifest.appName)throw o.TypedError("Init_ManifestMissing","Manifest is missing or manifest.appName is not set");t.transports?.length||(t.transports=["BridgeTransport","WebUsbTransport"]),this._settings=t;try{await this.ws.connect()}catch(e){throw e instanceof u.WebsocketError?o.TypedError("Desktop_ConnectionMissing",e.message):e}}setTransports(){throw new Error("Unsupported")}async call(e){try{this.ws.isConnected()||await this.init(),await this.handshake();const t=await this.ws.sendMessage({type:a.IFRAME.CALL,payload:e},{timeout:0});if(!t)throw o.TypedError("Desktop_ConnectionMissing","No response");return t}catch(e){return{success:!1,payload:o.serializeError(e instanceof u.WebsocketError?o.TypedError("Desktop_ConnectionMissing",e.message):e)}}}uiResponse(e){throw o.TypedError("Method_InvalidPackage")}requestLogin(){throw o.TypedError("Method_InvalidPackage")}disableWebUSB(){throw o.TypedError("Method_InvalidPackage")}requestWebUSBDevice(){throw o.TypedError("Method_InvalidPackage")}renderWebUSBButton(){}}n.CoreInSuiteDesktop=p;const d=new p;n.TrezorConnect=(0,s.factory)({eventEmitter:d.eventEmitter,init:d.init.bind(d),call:d.call.bind(d),setTransports:d.setTransports.bind(d),manifest:d.manifest.bind(d),requestLogin:d.requestLogin.bind(d),uiResponse:d.uiResponse.bind(d),cancel:d.cancel.bind(d),dispose:d.dispose.bind(d)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-suite-desktop.js"}],[3332,{"./connectSettings":3326,"./impl/core-in-iframe":3329,"./impl/core-in-popup":3330,"./impl/core-in-suite-desktop":3331,"@trezor/connect/lib/exports":3361,"@trezor/connect/lib/factory":3362,"@trezor/connect/lib/impl/dynamic":3363,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib"),i=e("@trezor/connect/lib/factory"),o=e("@trezor/connect/lib/impl/dynamic"),a=e("./connectSettings"),s=e("./impl/core-in-iframe"),c=e("./impl/core-in-popup"),u=e("./impl/core-in-suite-desktop"),l=["Init_IframeBlocked","Init_IframeTimeout","Transport_Missing"],p=new o.TrezorConnectDynamic({implementations:[{type:"iframe",impl:new s.CoreInIframe},{type:"core-in-popup",impl:new c.CoreInPopup},{type:"core-in-suite-desktop",impl:new u.CoreInSuiteDesktop}],getInitTarget:e=>"iframe"===e.coreMode?"iframe":"popup"===e.coreMode?"core-in-popup":"suite-desktop"===e.coreMode?"core-in-suite-desktop":(e.coreMode&&"auto"!==e.coreMode&&console.warn(`Invalid coreMode: ${e.coreMode}`),"iframe"),handleBeforeCall:async()=>{const e="suite-desktop"===p.lastSettings?.coreMode,t="auto"===p.lastSettings?.coreMode||p.lastSettings?.coreMode===undefined;(e||t)&&await p.switchTarget("core-in-suite-desktop")},handleErrorFallback:async e=>{const t=(0,a.getEnv)(),n=!1===p.lastSettings?.popup||"webextension"===t,r="auto"===p.lastSettings?.coreMode||p.lastSettings?.coreMode===undefined;if("core-in-suite-desktop"===p.getTargetType()&&"Desktop_ConnectionMissing"===e)return await p.switchTarget("iframe"),!0;if(!n&&r&&l.includes(e)){const t=!navigator?.usb,n=!1===p.lastSettings?.transports?.includes("WebUsbTransport");return("Transport_Missing"!==e||!t&&!n)&&(await p.switchTarget("core-in-popup"),!0)}return!1}}),d=(0,i.factory)({eventEmitter:p.eventEmitter,init:p.init.bind(p),call:p.call.bind(p),setTransports:p.setTransports.bind(p),manifest:p.manifest.bind(p),requestLogin:p.requestLogin.bind(p),uiResponse:p.uiResponse.bind(p),cancel:p.cancel.bind(p),dispose:p.dispose.bind(p)},{renderWebUSBButton:p.getTarget().renderWebUSBButton.bind(p),disableWebUSB:p.getTarget().disableWebUSB.bind(p),requestWebUSBDevice:p.getTarget().requestWebUSBDevice.bind(p)});n.default=d,r.__exportStar(e("@trezor/connect/lib/exports"),n)}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/index.js"}],[3333,{"../channels/serviceworker-window":3324,"../channels/window-window":3325,"./showPopupRequest":3334,"@trezor/connect/lib/data/version":3348,"@trezor/connect/lib/events":3354,"@trezor/connect/lib/utils/urlUtils":3383,"@trezor/utils":3648,events:4472,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PopupManager=void 0;const r=e("tslib").__importDefault(e("events")),i=e("@trezor/connect/lib/data/version"),o=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/utils/urlUtils"),s=e("@trezor/utils"),c=e("./showPopupRequest"),u=e("../channels/serviceworker-window"),l=e("../channels/window-window");class p extends r.default{popupWindow;settings;origin;locked=!1;channel;channelIframe;handshakePromise;iframeHandshakePromise;popupPromise;requestTimeout;openTimeout;closeInterval;extensionTabId=0;logger;constructor(e,{logger:t}){if(super(),this.settings=e,this.origin=(0,a.getOrigin)(e.popupSrc),this.logger=t,this.isWebExtensionWithTab()?this.channel=new u.ServiceWorkerWindowChannel({name:"trezor-connect",channel:{here:"@trezor/connect-webextension",peer:"@trezor/connect-content-script"},logger:t,currentId:()=>{if("tab"===this.popupWindow?.mode)return this.popupWindow?.tab.id},legacyMode:!this.settings.useCoreInPopup}):this.channel=new l.WindowWindowChannel({windowHere:window,windowPeer:()=>{if("window"===this.popupWindow?.mode)return this.popupWindow?.window},channel:{here:"@trezor/connect-web",peer:"@trezor/connect-popup"},logger:t,origin:this.origin,legacyMode:!this.settings.useCoreInPopup}),this.settings.useCoreInPopup||(this.iframeHandshakePromise=(0,s.createDeferred)(o.IFRAME.LOADED),this.channelIframe=new l.WindowWindowChannel({windowHere:window,windowPeer:()=>window,channel:{here:"@trezor/connect-web",peer:"@trezor/connect-iframe"},logger:t,origin:this.origin}),this.channelIframe?.on("message",this.handleMessage.bind(this))),this.settings.useCoreInPopup)return this.handshakePromise=(0,s.createDeferred)(),void this.channel.on("message",this.handleCoreMessage.bind(this));this.isWebExtensionWithTab()?this.channel.on("message",this.handleExtensionMessage.bind(this)):this.channel.on("message",this.handleMessage.bind(this)),this.channel.init()}async request(){if(this.settings.useCoreInPopup&&"tab"===this.popupWindow?.mode){await(e=this.popupWindow?.tab?.id,new Promise(t=>{if(!e)return t(!1);chrome.tabs.get(e,function(){chrome.runtime.lastError?t(!1):t(!0)})}))||this.clear()}var e;if(this.locked)return void("tab"===this.popupWindow?.mode&&this.popupWindow.tab.id?chrome.tabs.update(this.popupWindow.tab.id,{active:!0}):"window"===this.popupWindow?.mode&&this.popupWindow.window.focus());this.popupWindow&&!this.locked&&this.close();const t=this.open.bind(this);this.locked=!0;const n="webextension"===this.settings.env?1:850;this.requestTimeout=setTimeout(()=>{this.requestTimeout=undefined,t()},n)}unlock(){this.locked=!1}open(){const e=this.settings.popupSrc;this.popupPromise=(0,s.createDeferred)(o.POPUP.LOADED);const t=this.buildPopupUrl(e);this.openWrapper(t),this.closeInterval=setInterval(()=>{this.popupWindow&&("tab"===this.popupWindow.mode&&this.popupWindow.tab.id?chrome.tabs.get(this.popupWindow.tab.id,e=>{e||(this.emitClosed(),this.clear())}):"window"===this.popupWindow.mode&&this.popupWindow.window.closed&&(this.clear(),this.emitClosed()))},500),this.settings.useCoreInPopup||(this.openTimeout=setTimeout(()=>{this.clear(),(0,c.showPopupRequest)(this.open.bind(this),()=>{this.emitClosed()})},5e3))}buildPopupUrl(e){const t=new URLSearchParams;return t.set("version",i.VERSION),t.set("env",this.settings.env),"webextension"===this.settings.env&&chrome?.runtime?.id&&(t.set("extension-id",chrome.runtime.id),t.set("cs-ver",i.CONTENT_SCRIPT_VERSION.toString())),e+"?"+t.toString()}openWrapper(e){if(this.isWebExtensionWithTab())chrome.windows.getCurrent(t=>{this.logger.debug("opening popup. currentWindow: ",t),"normal"!==t.type?chrome.windows.create({url:e},e=>{chrome.tabs.query({windowId:e?.id,active:!0},e=>{this.popupWindow={mode:"tab",tab:e[0]},this.injectContentScript(e[0].id)})}):chrome.tabs.query({currentWindow:!0,active:!0},t=>{this.extensionTabId=t[0].id,chrome.tabs.create({url:e,index:t[0].index+1},e=>{this.popupWindow={mode:"tab",tab:e},this.injectContentScript(e.id)})})});else{const t=window.open(e,"modal");if(!t)return;this.popupWindow={mode:"window",window:t}}this.channel.isConnected||this.channel.connect()}injectContentScript=e=>{chrome.permissions.getAll(t=>{t.permissions?.includes("scripting")&&(0,s.scheduleAction)(()=>chrome.scripting.executeScript({target:{tabId:e},func:()=>{}}).then(()=>{this.logger.debug("content script injected")}).catch(e=>{throw this.logger.error("content script injection error",e),e}),{attempts:new Array(3).fill({timeout:100})})})};handleCoreMessage(e){if(e.type===o.POPUP.BOOTSTRAP)this.channel.init();else if(e.type===o.POPUP.LOADED)this.handleMessage(e),this.channel.postMessage({type:o.POPUP.INIT,payload:{settings:this.settings,useCore:!0}});else if(e.type===o.POPUP.CORE_LOADED)this.channel.postMessage({type:o.POPUP.HANDSHAKE,payload:{settings:this.settings}}),this.handshakePromise?.resolve();else if(e.type===o.POPUP.CLOSED)this.emitClosed();else if(e.type===o.POPUP.CONTENT_SCRIPT_LOADED){const{contentScriptVersion:t}=e.payload;t!==i.CONTENT_SCRIPT_VERSION&&console.warn(`Content script version mismatch. Expected ${i.CONTENT_SCRIPT_VERSION}, got ${t}`)}else e.event===o.DEVICE_EVENT&&this.emit(o.DEVICE_EVENT,e)}handleExtensionMessage(e){e.type===o.POPUP.ERROR||e.type===o.POPUP.LOADED||e.type===o.POPUP.BOOTSTRAP?this.handleMessage(e):e.type===o.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},e=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},e=>{})}):e.type===o.POPUP.CLOSE_WINDOW&&this.clear()}handleMessage(e){if(e.type===o.IFRAME.LOADED)this.iframeHandshakePromise?.resolve(e.payload);else if(e.type===o.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(e.type===o.POPUP.ERROR&&this.popupWindow){const t=e.payload&&"string"==typeof e.payload.error?e.payload.error:null;this.emit(o.POPUP.CLOSED,t?`Popup error: ${t}`:null),this.clear()}else e.type===o.POPUP.LOADED?(this.openTimeout&&clearTimeout(this.openTimeout),this.popupPromise&&(this.popupPromise.resolve(),this.popupPromise=undefined),this.iframeHandshakePromise?.promise.then(e=>{this.channel.postMessage({type:o.POPUP.INIT,payload:{...e,settings:this.settings}})})):e.type===o.POPUP.CANCEL_POPUP_REQUEST?(clearTimeout(this.requestTimeout),this.popupPromise&&this.close(),this.unlock()):e.type===o.UI.CLOSE_UI_WINDOW&&this.clear(!1)}clear(e=!0){this.locked=!1,this.popupPromise=undefined,this.handshakePromise=(0,s.createDeferred)(),this.channel&&this.channel.disconnect(),this.requestTimeout&&(clearTimeout(this.requestTimeout),this.requestTimeout=undefined),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=undefined),this.closeInterval&&(clearInterval(this.closeInterval),this.closeInterval=undefined),e&&this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0)}close(){if(this.popupWindow){if(this.logger.debug("closing popup"),"tab"===this.popupWindow.mode){let e=chrome.runtime.lastError;this.popupWindow.tab.id&&chrome.tabs.remove(this.popupWindow.tab.id,()=>{e=chrome.runtime.lastError,e&&this.logger.error("closed with error",e)})}else"window"===this.popupWindow.mode&&this.popupWindow.window.close();this.popupWindow=undefined,this.settings?.useCoreInPopup&&this.channel.clear()}}async postMessage(e){if(!this.popupWindow&&e.type!==o.UI.REQUEST_UI_WINDOW&&this.openTimeout)return this.clear(),void(0,c.showPopupRequest)(this.open.bind(this),()=>{this.emitClosed()});this.popupPromise&&await this.popupPromise.promise,"window"===this.popupWindow?.mode?this.popupWindow.window.postMessage(e,this.origin):"tab"===this.popupWindow?.mode&&this.channel.postMessage(e)}isWebExtensionWithTab(){return"webextension"===this.settings?.env&&"undefined"!=typeof chrome&&void 0!==chrome?.tabs}emitClosed(){this.settings?.useCoreInPopup&&this.channel.resolveMessagePromises({code:"Method_Interrupted",error:o.POPUP.CLOSED}),this.emit(o.POPUP.CLOSED)}}n.PopupManager=p}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/index.js"}],[3334,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.showPopupRequest=void 0;const r="TrezorConnectInteractionLayer",i=`\n    <div class="trezorconnect-container" id="${r}">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to "Continue" to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n`;n.showPopupRequest=(e,t)=>{if(document.getElementById(r))return;const n=document.createElement("div");n.id=r,n.className="trezorconnect-container",n.innerHTML=i,document.body&&document.body.appendChild(n);n.getElementsByClassName("trezorconnect-open")[0].onclick=()=>{e(),document.body&&document.body.removeChild(n)};n.getElementsByClassName("trezorconnect-close")[0].onclick=()=>{t(),document.body&&document.body.removeChild(n)}}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/showPopupRequest.js"}],[3335,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=(e="",t)=>{const n=e||".trezor-webusb-button",r=document.querySelectorAll(n),i=`${t}?${Date.now()}`;r.forEach(e=>{if(e.getElementsByTagName("iframe").length<1){const t=e.getBoundingClientRect(),n=document.createElement("iframe");n.frameBorder="0",n.width=`${Math.round(t.width)}px`,n.height=`${Math.round(t.height)}px`,n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.zIndex="1",n.setAttribute("allow","usb"),n.setAttribute("scrolling","no"),n.src=i,e.append(n)}})}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/webusb/button.js"}],[3336,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.NETWORK_IDS=n.PROTOCOL_MAGICS=void 0,function(e){e[e.mainnet=764824073]="mainnet",e[e.testnet_preprod=1]="testnet_preprod",e[e.testnet_preview=2]="testnet_preview",e[e.testnet_legacy=1097911063]="testnet_legacy"}(r||(n.PROTOCOL_MAGICS=r={})),function(e){e[e.mainnet=1]="mainnet",e[e.testnet=0]="testnet"}(i||(n.NETWORK_IDS=i={}))}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/cardano.js"}],[3337,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LIBUSB_ERROR_MESSAGE=n.serializeError=n.TypedError=n.TrezorError=n.ERROR_CODES=void 0,n.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Desktop_ConnectionMissing:"Unable to establish connection with Suite",Transport_Missing:"Transport is missing",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress",Device_MultipleNotSupported:"Multiple devices are not supported",Device_MissingCapability:"Device is missing capability",Device_MissingCapabilityBtcOnly:"Device is missing capability (BTC only)",Failure_ActionCancelled:"Action cancelled by user",Failure_FirmwareError:"Firmware installation failed",Failure_UnknownCode:"Unknown error",Failure_PinCancelled:"PIN cancelled",Failure_PinInvalid:"PIN invalid",Failure_PinMismatch:"PIN mismatch",Failure_WipeCodeMismatch:"Wipe code mismatch",Failure_EntropyCheck:"",Deeplink_VersionMismatch:"Not compatible with current version of the app"};class r extends Error{code;message;constructor(e,t){super(t),this.code=e,this.message=t}toString(){return`${this.name} (code: ${this.code}): ${this.message}`}}n.TrezorError=r;n.TypedError=(e,t)=>new r(e,t||n.ERROR_CODES[e]);n.serializeError=e=>e&&e.error instanceof Error?{error:e.error.message,code:e.error.code}:e instanceof r?{error:e.message,code:e.code}:e instanceof Error?{error:e.message,code:"code"in e?e.code:"Failure_UnknownCode"}:{...e},n.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/errors.js"}],[3338,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REVISION_CHECK_RETRIABLE_ERRORS=n.HASH_CHECK_RETRIABLE_ERRORS=n.HASH_CHECK_MAX_ATTEMPTS=void 0,n.HASH_CHECK_MAX_ATTEMPTS=3,n.HASH_CHECK_RETRIABLE_ERRORS=["other-error"],n.REVISION_CHECK_RETRIABLE_ERRORS=["cannot-perform-check-offline","other-error"]}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/firmware.js"}],[3339,{"./cardano":3336,"./errors":3337,"./firmware":3338,"./nem":3340,"./network":3341,"./utxo":3342,"@trezor/protobuf":3396,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PROTO=n.DEFAULT_SORTING_STRATEGY=n.FIRMWARE=n.NEM=n.CARDANO=n.NETWORK=n.ERRORS=void 0;const r=e("tslib");n.ERRORS=r.__importStar(e("./errors")),n.NETWORK=r.__importStar(e("./network")),n.CARDANO=r.__importStar(e("./cardano")),n.NEM=r.__importStar(e("./nem")),n.FIRMWARE=r.__importStar(e("./firmware"));var i=e("./utxo");Object.defineProperty(n,"DEFAULT_SORTING_STRATEGY",{enumerable:!0,get:function(){return i.DEFAULT_SORTING_STRATEGY}});var o=e("@trezor/protobuf");Object.defineProperty(n,"PROTO",{enumerable:!0,get:function(){return o.MessagesSchema}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/index.js"}],[334,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountsBySnapId=void 0;n.getAccountsBySnapId=async(e,t)=>{const n=await e();return await n.getAccountsBySnapId(t)}}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/utils.ts"}],[3340,{"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EnumTxVersion=n.TxVersion=n.EnumTxType=n.TxType=n.EnumNetworks=n.Networks=void 0;const r=e("@trezor/schema-utils");var i,o,a;!function(e){e[e.mainnet=104]="mainnet",e[e.testnet=152]="testnet",e[e.mijin=96]="mijin"}(i||(n.Networks=i={})),n.EnumNetworks=r.Type.Enum(i),function(e){e[e.TRANSFER=257]="TRANSFER",e[e.COSIGNING=258]="COSIGNING",e[e.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",e[e.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",e[e.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",e[e.MULTISIG=4100]="MULTISIG",e[e.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",e[e.MOSAIC_CREATION=16385]="MOSAIC_CREATION",e[e.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"}(o||(n.TxType=o={})),n.EnumTxType=r.Type.Enum(o),function(e){e[e.mainnet=1744830464]="mainnet",e[e.testnet=-1744830464]="testnet",e[e.mijin=1610612736]="mijin"}(a||(n.TxVersion=a={})),n.EnumTxVersion=r.Type.Enum(a)}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/nem.js"}],[3341,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MODULES=n.TYPES=void 0,n.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance",solana:"Solana"},n.MODULES=["cardano","eos","ethereum","nem","ripple","solana","stellar","tezos"]}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/network.js"}],[3342,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_SORTING_STRATEGY=void 0,n.DEFAULT_SORTING_STRATEGY="random"}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/utxo.js"}],[3343,{"@trezor/transport/lib/constants":3615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.config=void 0;const r=e("@trezor/transport/lib/constants");n.config={webusb:r.TREZOR_USB_DESCRIPTORS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)"},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager"},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask"},{origin:"webextension@metamask.io",label:"MetaMask"},{origin:"nkbihfbeogaeaoehlefnkodbefgpgknn",label:"MetaMask"},{origin:"bpcdaglidgnlggelgbjfagekoapjmccp",label:"Rainbow DEV"},{origin:"opfgelmcmbiajamepnmloijbpoleiama",label:"Rainbow"},{origin:"acmacodkjbdgmoleebolmdjonilkdbch",label:"Rabby"},{origin:"ehnpnhnhcickeknioaiodjmielfaoajd",label:"Ambire DEV"},{origin:"ehgjhhccekdedpbkifaojjaefeohnoea",label:"Ambire"},{origin:"file://",label:" "}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},mobilechrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"},mobilefirefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"},brave:{version:59,download:"https://brave.com/download/",update:"https://brave.com/download/"},edge:{version:79,download:"https://www.microsoft.com/en-us/edge",update:"https://www.microsoft.com/en-us/edge"},opera:{version:95,download:"https://www.opera.com/download",update:"https://www.opera.com/download"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:{T1B1:"0",T2T1:"2.1.0"},max:undefined,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","tsep","thol"],min:{T1B1:"1.8.0",T2T1:"2.1.0"},comment:["There were protobuf backwards incompatible changes."]},{coin:["ada","tada"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 there is initialize.derive_cardano message"]},{methods:["rippleGetAddress","rippleSignTransaction"],min:{T1B1:"0",T2T1:"2.1.0"},comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 Cardano derivation behavior has changed"]},{methods:["cardanoSignTransaction"],min:{T1B1:"0",T2T1:"2.6.0"},comment:["Before 2.6.0 not all Cardano transactions were supported"]},{methods:["cardanoGetNativeScriptHash"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 Cardano derivation behavior has changed"]},{methods:["tezosSignTransaction"],min:{T1B1:"0",T2T1:"2.1.8"},comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:{T1B1:"1.9.4",T2T1:"2.3.5"},comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:{T1B1:"1.10.0",T2T1:"2.4.0"},comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:{T1B1:"1.10.4",T2T1:"2.4.2"},comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:{T1B1:"1.10.4",T2T1:"2.4.3"},comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:{T1B1:"1.10.1",T2T1:"2.4.0"},comment:[""]},{methods:["ethereumSignTypedData"],min:{T1B1:"1.10.5",T2T1:"2.4.3"},comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:{T1B1:"1.10.6",T2T1:"2.4.4"},comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","cancelCoinjoinAuthorization","getOwnershipId","getOwnershipProof","setBusy","unlockPath"],min:{T1B1:"1.12.1",T2T1:"2.5.3"}},{methods:["showDeviceTutorial","authenticateDevice"],min:{T1B1:"0",T2T1:"0",T3T1:"2.8.0"}},{capabilities:["getFirmwareHash"],methods:["getFirmwareHash"],min:{T1B1:"1.11.1",T2T1:"2.5.1"}},{methods:["solanaGetPublicKey","solanaGetAddress","solanaSignTransaction"],min:{T1B1:"0",T2T1:"2.6.4",T2B1:"2.6.4"}},{capabilities:["chunkify"],min:{T1B1:"0",T2T1:"2.6.3",T2B1:"2.6.3"},comment:["Since firmware 2.6.3 there is a new protobuf field 'chunkify' in almost all getAddress and signTx methods"]},{methods:["changeLanguage"],min:{T1B1:"0",T2T1:"2.7.0",T2B1:"2.7.0"}},{capabilities:["entropyCheck"],min:{T1B1:"1.13.1",T2T1:"2.8.7",T2B1:"2.8.7",T3B1:"2.8.7",T3T1:"2.8.7"}}]}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/config.js"}],[3344,{"./thpSettings":3345,"./version":3348},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=n.corsValidator=n.parseLocalFirmwares=n.DEFAULT_PRIORITY=void 0;const r=e("./thpSettings"),i=e("./version");n.DEFAULT_PRIORITY=2;const o={configSrc:"./data/config.json",version:i.VERSION,debug:!1,priority:n.DEFAULT_PRIORITY,trustedHost:!0,connectSrc:i.DEFAULT_DOMAIN,iframeSrc:`${i.DEFAULT_DOMAIN}iframe.html`,popup:!1,popupSrc:`${i.DEFAULT_DOMAIN}popup.html`,webusbSrc:`${i.DEFAULT_DOMAIN}webusb.html`,transports:undefined,pendingTransportEvent:!0,env:"node",lazyLoad:!1,timestamp:(new Date).getTime(),interactionTimeout:1200,sharedLogger:!0,deeplinkUrl:`${i.DEFAULT_DOMAIN}deeplink/${i.DEEPLINK_VERSION}/`,transportReconnect:!0};n.parseLocalFirmwares=e=>{if(e&&"string"==typeof e.firmwareDir&&Array.isArray(e.firmwareList))return{firmwareDir:e.firmwareDir,firmwareList:e.firmwareList}};n.corsValidator=e=>{if("string"==typeof e)return"../"===e||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||e.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)?e:void 0};n.parseConnectSettings=(e={})=>{const t={...o};"debug"in e&&("boolean"==typeof e.debug?t.debug=e.debug:"string"==typeof e.debug&&(t.debug="true"===e.debug)),!1===e.trustedHost&&(t.trustedHost=e.trustedHost),"string"==typeof e.connectSrc?t.connectSrc=(0,n.corsValidator)(e.connectSrc):t.trustedHost&&(t.connectSrc=e.connectSrc);const a=t.connectSrc||i.DEFAULT_DOMAIN;return t.iframeSrc=`${a}iframe.html`,t.popupSrc=`${a}popup.html`,t.webusbSrc=`${a}webusb.html`,"boolean"==typeof e.transportReconnect&&(t.transportReconnect=e.transportReconnect),"object"==typeof e.localFirmwares&&(t.localFirmwares=(0,n.parseLocalFirmwares)(e.localFirmwares)),Array.isArray(e.transports)&&(t.transports=e.transports),"boolean"==typeof e.popup&&(t.popup=e.popup),"boolean"==typeof e.lazyLoad&&(t.lazyLoad=e.lazyLoad),"boolean"==typeof e.pendingTransportEvent&&(t.pendingTransportEvent=e.pendingTransportEvent),"string"==typeof e.extension&&(t.extension=e.extension),"string"==typeof e.env&&(t.env=e.env),"number"==typeof e.timestamp&&(t.timestamp=e.timestamp),"number"==typeof e.interactionTimeout&&(t.interactionTimeout=e.interactionTimeout),"object"==typeof e.manifest&&(t.manifest=(e=>{if(e&&"string"==typeof e.email&&"string"==typeof e.appUrl&&!(void 0!==e.appName&&"string"!=typeof e.appName||void 0!==e.appIcon&&"string"!=typeof e.appIcon))return{email:e.email,appUrl:e.appUrl,appName:e.appName,appIcon:e.appIcon}})(e.manifest)),"boolean"==typeof e.sharedLogger&&(t.sharedLogger=e.sharedLogger),"string"==typeof e.coreMode&&["auto","popup","iframe","suite-desktop"].includes(e.coreMode)&&(t.coreMode=e.coreMode),"boolean"==typeof e._extendWebextensionLifetime&&(t._extendWebextensionLifetime=e._extendWebextensionLifetime),"string"!=typeof e._sessionsBackgroundUrl&&null!==e._sessionsBackgroundUrl||(t._sessionsBackgroundUrl=e._sessionsBackgroundUrl),"string"==typeof e.binFilesBaseUrl&&(t.binFilesBaseUrl=e.binFilesBaseUrl),"boolean"==typeof e.enableFirmwareHashCheck&&(t.enableFirmwareHashCheck=Boolean(e.enableFirmwareHashCheck)),"string"==typeof e.npmVersion&&(t.npmVersion=e.npmVersion),t.thp=(0,r.parseThpSettings)(e),t}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/connectSettings.js"}],[3345,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseThpSettings=void 0;n.parseThpSettings=({manifest:e,thp:t})=>{const n={pairingMethods:[]};return Array.isArray(t?.pairingMethods)?n.pairingMethods=t.pairingMethods:n.pairingMethods=["CodeEntry"],"string"==typeof t?.hostName?n.hostName=t.hostName:"string"==typeof e?.appName&&(n.hostName=e?.appName),"string"==typeof t?.staticKey&&(n.staticKey=t.staticKey),Array.isArray(t?.knownCredentials)&&(n.knownCredentials=t.knownCredentials.flatMap(e=>e&&"object"==typeof e&&"string"==typeof e.credential&&"string"==typeof e.trezor_static_pubkey?e:[])),n}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/thpSettings.js"}],[3346,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.suggestBridgeInstaller=void 0;const r={version:[2,0,27],packages:[{name:"Linux 64-bit (deb)",platform:["deb64"],url:"bridge/2.0.27/trezor-bridge_2.0.27_amd64.deb"},{name:"Linux 64-bit (rpm)",platform:["rpm64"],url:"bridge/2.0.27/trezor-bridge-2.0.27-1.x86_64.rpm"},{name:"Linux 32-bit (deb)",platform:["deb32"],url:"bridge/2.0.27/trezor-bridge_2.0.27_i386.deb"},{name:"Linux 32-bit (rpm)",platform:["rpm32"],url:"bridge/2.0.27/trezor-bridge-2.0.27-1.i386.rpm"},{name:"macOS",platform:["mac"],signature:"bridge/2.0.27/trezor-bridge-2.0.27.pkg.asc",url:"bridge/2.0.27/trezor-bridge-2.0.27.pkg"},{name:"Windows",platform:["win32","win64"],signature:"bridge/2.0.27/trezor-bridge-2.0.27-win32-install.exe.asc",url:"bridge/2.0.27/trezor-bridge-2.0.27-win32-install.exe"}],changelog:""};n.suggestBridgeInstaller=e=>{const t=r;return e&&(t.packages=t.packages.map(t=>({...t,preferred:t.platform.indexOf(e)>=0}))),t}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/transportInfo.js"}],[3347,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.suggestUdevInstaller=void 0;const r={packages:[{name:"RPM package",platform:["rpm32","rpm64"],url:"/udev/trezor-udev-2-1.noarch.rpm"},{name:"DEB package",platform:["deb32","deb64"],url:"/udev/trezor-udev_2_all.deb",preferred:!0}]};n.suggestUdevInstaller=e=>e!==undefined?{packages:r.packages.map(t=>({...t,preferred:t.platform.indexOf(e)>=0}))}:r}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/udevInfo.js"}],[3348,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEEPLINK_VERSION=n.CONTENT_SCRIPT_VERSION=n.DEFAULT_DOMAIN=n.VERSION=void 0,n.VERSION="9.6.0";const r=n.VERSION.split(".").map(e=>parseInt(e,10)),i=n.VERSION.includes("beta");n.DEFAULT_DOMAIN=i?`https://connect.trezor.io/${n.VERSION}/`:`https://connect.trezor.io/${r[0]}/`,n.CONTENT_SCRIPT_VERSION=1,n.DEEPLINK_VERSION=1}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/version.js"}],[3349,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBlockchainMessage=n.BLOCKCHAIN=n.BLOCKCHAIN_EVENT=void 0,n.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT",n.BLOCKCHAIN={CONNECT:"blockchain-connect",RECONNECTING:"blockchain-reconnecting",ERROR:"blockchain-error",BLOCK:"blockchain-block",NOTIFICATION:"blockchain-notification",FIAT_RATES_UPDATE:"fiat-rates-update"};n.createBlockchainMessage=(e,t)=>({event:n.BLOCKCHAIN_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/blockchain.js"}],[335,{"../keyring-snaps-permissions":331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isBlockedUrl=void 0;var r=e("../keyring-snaps-permissions");n.isBlockedUrl=async(e,t,n)=>{try{return!(0,r.isProtocolAllowed)(e)||(await t(),n(e).result)}catch(e){return console.error("Invalid URL passed into snap-keyring:",e),!1}}}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/utils/isBlockedUrl.ts"}],[3350,{"../constants/errors":3337},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseMessage=n.RESPONSE_EVENT=void 0;const r=e("../constants/errors");n.RESPONSE_EVENT="RESPONSE_EVENT";n.createResponseMessage=(e,t,i,o)=>({event:n.RESPONSE_EVENT,type:n.RESPONSE_EVENT,id:e,success:t,payload:t?i:(0,r.serializeError)(i),device:o?{path:o?.getUniquePath(),state:o?.getState(),instance:o?.getInstance()}:undefined})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/call.js"}],[3351,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createErrorMessage=n.parseMessage=n.CORE_EVENT=void 0,n.CORE_EVENT="CORE_EVENT";n.parseMessage=e=>{const t={event:e.event,type:e.type,payload:e.payload,device:e.device};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t};n.createErrorMessage=e=>({success:!1,payload:{error:e.message,code:e.code}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/core.js"}],[3352,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeviceMessage=n.DEVICE=n.DEVICE_EVENT=void 0,n.DEVICE_EVENT="DEVICE_EVENT",n.DEVICE={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",FIRMWARE_VERSION_CHANGED:"device-firmware_version_changed",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word"};n.createDeviceMessage=(e,t)=>({event:n.DEVICE_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/device.js"}],[3353,{"./ui-request":3358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createIFrameMessage=n.IFRAME=void 0;const r=e("./ui-request");n.IFRAME={BOOTSTRAP:"iframe-bootstrap",LOADED:"iframe-loaded",INIT:"iframe-init",ERROR:"iframe-error",CALL:"iframe-call",LOG:"iframe-log"};n.createIFrameMessage=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/iframe.js"}],[3354,{"./blockchain":3349,"./call":3350,"./core":3351,"./device":3352,"./iframe":3353,"./popup":3355,"./transport":3356,"./ui-promise":3357,"./ui-request":3358,"./ui-response":3359,"./webextension":3360,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UI=void 0;const r=e("tslib"),i=e("./ui-request"),o=e("./ui-response");r.__exportStar(e("./blockchain"),n),r.__exportStar(e("./call"),n),r.__exportStar(e("./core"),n),r.__exportStar(e("./device"),n),r.__exportStar(e("./iframe"),n),r.__exportStar(e("./popup"),n),r.__exportStar(e("./transport"),n),r.__exportStar(e("./ui-promise"),n),r.__exportStar(e("./ui-request"),n),r.__exportStar(e("./ui-response"),n),r.__exportStar(e("./webextension"),n),n.UI={...i.UI_REQUEST,...o.UI_RESPONSE}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/index.js"}],[3355,{"./ui-request":3358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createPopupMessage=n.POPUP=void 0;const r=e("./ui-request");n.POPUP={BOOTSTRAP:"popup-bootstrap",LOADED:"popup-loaded",CORE_LOADED:"popup-core-loaded",INIT:"popup-init",ERROR:"popup-error",EXTENSION_USB_PERMISSIONS:"open-usb-permissions",HANDSHAKE:"popup-handshake",CLOSED:"popup-closed",CANCEL_POPUP_REQUEST:"ui-cancel-popup-request",CLOSE_WINDOW:"window.close",ANALYTICS_RESPONSE:"popup-analytics-response",CONTENT_SCRIPT_LOADED:"popup-content-script-loaded",METHOD_INFO:"popup-method-info"};n.createPopupMessage=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/popup.js"}],[3356,{"../constants/errors":3337,"../data/transportInfo":3346,"../data/udevInfo":3347,"@trezor/transport/lib/constants":3615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createTransportMessage=n.TRANSPORT_EVENT=n.TRANSPORT=void 0;const r=e("../constants/errors"),i=e("../data/transportInfo"),o=e("../data/udevInfo");var a=e("@trezor/transport/lib/constants");Object.defineProperty(n,"TRANSPORT",{enumerable:!0,get:function(){return a.TRANSPORT}}),n.TRANSPORT_EVENT="TRANSPORT_EVENT";n.createTransportMessage=(e,t)=>({event:n.TRANSPORT_EVENT,type:e,payload:"error"in t?(0,r.serializeError)(t):{...t,udev:(0,o.suggestUdevInstaller)(),bridge:(0,i.suggestBridgeInstaller)()}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/transport.js"}],[3357,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-promise.js"}],[3358,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createUiMessage=n.UI_REQUEST=n.UI_EVENT=void 0,n.UI_EVENT="UI_EVENT",n.UI_REQUEST={TRANSPORT:"ui-no_transport",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_OUTDATED:"ui-device_firmware_outdated",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",FIRMWARE_PROGRESS:"ui-firmware-progress",FIRMWARE_RECONNECT:"ui-firmware_reconnect",FIRMWARE_DOWNLOADED:"ui-firmware_downloaded",DEVICE_NEEDS_BACKUP:"ui-device_needs_backup",REQUEST_UI_WINDOW:"ui-request_window",CLOSE_UI_WINDOW:"ui-close_window",REQUEST_PERMISSION:"ui-request_permission",REQUEST_CONFIRMATION:"ui-request_confirmation",REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",INVALID_PASSPHRASE:"ui-invalid_passphrase",CONNECT:"ui-connect",LOADING:"ui-loading",SET_OPERATION:"ui-set_operation",SELECT_DEVICE:"ui-select_device",SELECT_ACCOUNT:"ui-select_account",SELECT_FEE:"ui-select_fee",UPDATE_CUSTOM_FEE:"ui-update_custom_fee",INSUFFICIENT_FUNDS:"ui-insufficient_funds",REQUEST_BUTTON:"ui-button",REQUEST_WORD:"ui-request_word",LOGIN_CHALLENGE_REQUEST:"ui-login_challenge_request",BUNDLE_PROGRESS:"ui-bundle_progress",ADDRESS_VALIDATION:"ui-address_validation",IFRAME_FAILURE:"ui-iframe_failure"};n.createUiMessage=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-request.js"}],[3359,{"./ui-request":3358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createUiResponse=n.UI_RESPONSE=void 0;const r=e("./ui-request");n.UI_RESPONSE={RECEIVE_PERMISSION:"ui-receive_permission",RECEIVE_CONFIRMATION:"ui-receive_confirmation",RECEIVE_FIRMWARE:"ui-receive_firmware",RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",RECEIVE_DEVICE:"ui-receive_device",RECEIVE_ACCOUNT:"ui-receive_account",RECEIVE_FEE:"ui-receive_fee",RECEIVE_WORD:"ui-receive_word",INVALID_PASSPHRASE_ACTION:"ui-invalid_passphrase_action",CHANGE_SETTINGS:"ui-change_settings",LOGIN_CHALLENGE_RESPONSE:"ui-login_challenge_response"};n.createUiResponse=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-response.js"}],[336,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.showSuccess=n.showError=void 0;const r=e=>({name:"SnapAuthorshipHeader",key:"snapHeader",properties:{snapId:e}});n.showError=(e,t,n,i)=>e.call("ApprovalController:showError",{header:[r(t)],title:n.title,icon:n.icon,error:{key:"snapAccountErrorMessage",name:"SnapAccountErrorMessage",properties:i}});n.showSuccess=(e,t,n,i)=>e.call("ApprovalController:showSuccess",{header:[r(t)],title:n.title,icon:n.icon,message:{key:"snapAccountSuccessMessage",name:"SnapAccountSuccessMessage",properties:i}})}}},{package:"$root$",file:"app/scripts/lib/snap-keyring/utils/showResult.ts"}],[3360,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WEBEXTENSION=void 0,n.WEBEXTENSION={USB_PERMISSIONS_BROADCAST:"usb-permissions",USB_PERMISSIONS_INIT:"usb-permissions-init",USB_PERMISSIONS_CLOSE:"usb-permissions-close",USB_PERMISSIONS_FINISHED:"usb-permissions-finished",CHANNEL_HANDSHAKE_CONFIRM:"channel-handshake-confirm"}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/webextension.js"}],[3361,{"./constants":3339,"./data/connectSettings":3344,"./events":3354,"./types":3378,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=void 0;const r=e("tslib");r.__exportStar(e("./constants"),n),r.__exportStar(e("./events"),n),r.__exportStar(e("./types"),n);var i=e("./data/connectSettings");Object.defineProperty(n,"parseConnectSettings",{enumerable:!0,get:function(){return i.parseConnectSettings}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/exports.js"}],[3362,{"./events":3354},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.factory=void 0;const r=e("./events");n.factory=({eventEmitter:e,manifest:t,init:n,call:i,setTransports:o,requestLogin:a,uiResponse:s,cancel:c,dispose:u},l={})=>({manifest:t,init:n,setTransports:o,on:(t,n)=>{e.on(t,n)},off:(t,n)=>{e.removeListener(t,n)},removeAllListeners:t=>{"string"==typeof t?e.removeAllListeners(t):e.removeAllListeners()},uiResponse:s,bleUnpair:e=>i({...e,method:"bleUnpair"}),blockchainGetAccountBalanceHistory:e=>i({...e,method:"blockchainGetAccountBalanceHistory"}),blockchainGetCurrentFiatRates:e=>i({...e,method:"blockchainGetCurrentFiatRates"}),blockchainGetFiatRatesForTimestamps:e=>i({...e,method:"blockchainGetFiatRatesForTimestamps"}),blockchainGetInfo:e=>i({...e,method:"blockchainGetInfo"}),blockchainEvmRpcCall:e=>i({...e,method:"blockchainEvmRpcCall"}),blockchainDisconnect:e=>i({...e,method:"blockchainDisconnect"}),blockchainEstimateFee:e=>i({...e,method:"blockchainEstimateFee"}),blockchainGetTransactions:e=>i({...e,method:"blockchainGetTransactions"}),blockchainSetCustomBackend:e=>i({...e,method:"blockchainSetCustomBackend"}),blockchainSubscribe:e=>i({...e,method:"blockchainSubscribe"}),blockchainSubscribeFiatRates:e=>i({...e,method:"blockchainSubscribeFiatRates"}),blockchainUnsubscribe:e=>i({...e,method:"blockchainUnsubscribe"}),blockchainUnsubscribeFiatRates:e=>i({...e,method:"blockchainUnsubscribeFiatRates"}),requestLogin:e=>a(e),cardanoGetAddress:t=>i({...t,method:"cardanoGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),cardanoGetNativeScriptHash:e=>i({...e,method:"cardanoGetNativeScriptHash"}),cardanoGetPublicKey:e=>i({...e,method:"cardanoGetPublicKey"}),cardanoSignTransaction:e=>i({...e,method:"cardanoSignTransaction"}),cardanoComposeTransaction:e=>i({...e,method:"cardanoComposeTransaction"}),cipherKeyValue:e=>i({...e,method:"cipherKeyValue"}),composeTransaction:e=>i({...e,method:"composeTransaction"}),discoverAccounts:e=>i({...e,method:"discoverAccounts"}),ethereumGetAddress:t=>i({...t,method:"ethereumGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),ethereumGetPublicKey:e=>i({...e,method:"ethereumGetPublicKey"}),ethereumSignMessage:e=>i({...e,method:"ethereumSignMessage"}),ethereumSignTransaction:e=>i({...e,method:"ethereumSignTransaction"}),ethereumSignTypedData:e=>i({...e,method:"ethereumSignTypedData"}),ethereumVerifyMessage:e=>i({...e,method:"ethereumVerifyMessage"}),getAccountDescriptor:e=>i({...e,method:"getAccountDescriptor"}),getAccountInfo:e=>i({...e,method:"getAccountInfo"}),getAddress:t=>i({...t,method:"getAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),getDeviceState:e=>i({...e,method:"getDeviceState"}),getFeatures:e=>i({...e,method:"getFeatures"}),getFirmwareHash:e=>i({...e,method:"getFirmwareHash"}),getOwnershipId:e=>i({...e,method:"getOwnershipId"}),getOwnershipProof:e=>i({...e,method:"getOwnershipProof"}),getPublicKey:e=>i({...e,method:"getPublicKey"}),nemGetAddress:t=>i({...t,method:"nemGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),nemSignTransaction:e=>i({...e,method:"nemSignTransaction"}),pushTransaction:e=>i({...e,method:"pushTransaction"}),rippleGetAddress:t=>i({...t,method:"rippleGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),rippleSignTransaction:e=>i({...e,method:"rippleSignTransaction"}),signMessage:e=>i({...e,method:"signMessage"}),signTransaction:e=>i({...e,method:"signTransaction"}),solanaComposeTransaction:e=>i({...e,method:"solanaComposeTransaction"}),solanaGetPublicKey:e=>i({...e,method:"solanaGetPublicKey"}),solanaGetAddress:e=>i({...e,method:"solanaGetAddress"}),solanaSignTransaction:e=>i({...e,method:"solanaSignTransaction"}),stellarGetAddress:t=>i({...t,method:"stellarGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),stellarSignTransaction:e=>i({...e,method:"stellarSignTransaction"}),tezosGetAddress:t=>i({...t,method:"tezosGetAddress",useEventListener:e.listenerCount(r.UI.ADDRESS_VALIDATION)>0}),tezosGetPublicKey:e=>i({...e,method:"tezosGetPublicKey"}),tezosSignTransaction:e=>i({...e,method:"tezosSignTransaction"}),unlockPath:e=>i({...e,method:"unlockPath"}),eosGetPublicKey:e=>i({...e,method:"eosGetPublicKey"}),eosSignTransaction:e=>i({...e,method:"eosSignTransaction"}),verifyMessage:e=>i({...e,method:"verifyMessage"}),resetDevice:e=>i({...e,method:"resetDevice"}),loadDevice:e=>i({...e,method:"loadDevice"}),wipeDevice:e=>i({...e,method:"wipeDevice"}),applyFlags:e=>i({...e,method:"applyFlags"}),applySettings:e=>i({...e,method:"applySettings"}),getSettings:()=>i({method:"getSettings"}),authenticateDevice:e=>i({...e,method:"authenticateDevice"}),authorizeCoinjoin:e=>i({...e,method:"authorizeCoinjoin"}),cancelCoinjoinAuthorization:e=>i({...e,method:"cancelCoinjoinAuthorization"}),showDeviceTutorial:e=>i({...e,method:"showDeviceTutorial"}),backupDevice:e=>i({...e,method:"backupDevice"}),changeLanguage:e=>i({...e,method:"changeLanguage"}),changePin:e=>i({...e,method:"changePin"}),changeWipeCode:e=>i({...e,method:"changeWipeCode"}),firmwareUpdate:e=>i({...e,method:"firmwareUpdate"}),recoveryDevice:e=>i({...e,method:"recoveryDevice"}),getCoinInfo:e=>i({...e,method:"getCoinInfo"}),setBrightness:e=>i({...e,method:"setBrightness"}),setBusy:e=>i({...e,method:"setBusy"}),setProxy:e=>i({...e,method:"setProxy"}),dispose:u,cancel:c,...l})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/factory.js"}],[3363,{"../constants":3339,"../events":3354,"../utils/proxy-event-emitter":3382,"@trezor/utils":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnectDynamic=void 0;const r=e("@trezor/utils"),i=e("../constants"),o=e("../events"),a=e("../utils/proxy-event-emitter");n.TrezorConnectDynamic=class{eventEmitter;currentTarget;implementations;getInitTarget;handleBeforeCall;handleErrorFallback;lastSettings;callPending=0;beforeCallSynchronize=(0,r.getSynchronize)();constructor({implementations:e,getInitTarget:t,handleBeforeCall:n,handleErrorFallback:r}){this.implementations=e,this.currentTarget=this.implementations[0].type,this.getInitTarget=t,this.handleBeforeCall=n,this.handleErrorFallback=r,this.eventEmitter=new a.ProxyEventEmitter(this.implementations.map(e=>e.impl.eventEmitter))}getTarget(){return this.implementations.find(e=>e.type===this.currentTarget).impl}getTargetType(){return this.currentTarget}async switchTarget(e){if(this.currentTarget===e)return;if(!this.lastSettings)throw i.ERRORS.TypedError("Init_ManifestMissing");const t=this.getTargetType(),n=this.getTarget();try{this.currentTarget=e,await this.getTarget().init(this.lastSettings),await n.dispose()}catch{this.currentTarget=t}}manifest(e){this.lastSettings={...this.lastSettings,manifest:e},this.getTarget().manifest(e)}async init(e){if(!e?.manifest)throw i.ERRORS.TypedError("Init_ManifestMissing");this.lastSettings=e,this.currentTarget=this.getInitTarget(e),this.callPending=0;try{return await this.getTarget().init(this.lastSettings)}catch(e){if(await this.handleErrorFallback(e.code))return;throw e}}setTransports({transports:e}){this.lastSettings={...this.lastSettings,transports:e},this.getTarget().setTransports({transports:e})}async call(e){try{0===this.callPending&&await this.beforeCallSynchronize(async()=>{this.callPending++,await this.handleBeforeCall()});const t=await this.getTarget().call(e);return!t.success&&await this.handleErrorFallback(t.payload.code)?await this.getTarget().call(e):t}catch(e){return(0,o.createErrorMessage)(e)}finally{this.callPending--}}requestLogin(e){return this.getTarget().requestLogin(e)}uiResponse(e){return this.getTarget().uiResponse(e)}cancel(e){return this.getTarget().cancel(e)}dispose(){return this.eventEmitter.removeAllListeners(),this.callPending=0,this.getTarget().dispose()}}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/impl/dynamic.js"}],[3364,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/account.js"}],[3365,{"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.VerifyMessage=n.SignMessage=void 0;const r=e("@trezor/schema-utils"),i=e("../../params");n.SignMessage=r.Type.Object({path:i.DerivationPath,coin:r.Type.Optional(r.Type.String()),message:r.Type.String(),hex:r.Type.Optional(r.Type.Boolean()),no_script_type:r.Type.Optional(r.Type.Boolean())}),n.VerifyMessage=r.Type.Object({address:r.Type.String(),signature:r.Type.String(),message:r.Type.String(),coin:r.Type.String(),hex:r.Type.Optional(r.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/bitcoin/index.js"}],[3366,{"../../../constants":3339,"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CardanoSignedTxData=n.CardanoAuxiliaryDataSupplement=n.CardanoSignedTxWitness=n.CardanoSignTransactionExtended=n.CardanoSignTransaction=n.CardanoAuxiliaryData=n.CardanoCVoteRegistrationParameters=n.CardanoCVoteRegistrationDelegation=n.CardanoReferenceInput=n.CardanoRequiredSigner=n.CardanoCollateralInput=n.CardanoMint=n.CardanoWithdrawal=n.CardanoCertificate=n.CardanoDRep=n.CardanoPoolParameters=n.CardanoPoolMargin=n.CardanoPoolMetadata=n.CardanoPoolRelay=n.CardanoPoolOwner=n.CardanoOutput=n.CardanoAssetGroup=n.CardanoToken=n.CardanoInput=n.CardanoGetPublicKey=n.CardanoNativeScriptHash=n.CardanoGetNativeScriptHash=n.CardanoNativeScript=n.CardanoGetAddress=n.CardanoAddressParameters=n.CardanoCertificatePointer=void 0;const r=e("@trezor/schema-utils"),i=e("../../../constants"),o=e("../../params");n.CardanoCertificatePointer=r.Type.Object({blockIndex:r.Type.Number(),txIndex:r.Type.Number(),certificateIndex:r.Type.Number()}),n.CardanoAddressParameters=r.Type.Object({addressType:i.PROTO.EnumCardanoAddressType,path:r.Type.Optional(o.DerivationPath),stakingPath:r.Type.Optional(o.DerivationPath),stakingKeyHash:r.Type.Optional(r.Type.String()),certificatePointer:r.Type.Optional(n.CardanoCertificatePointer),paymentScriptHash:r.Type.Optional(r.Type.String()),stakingScriptHash:r.Type.Optional(r.Type.String())}),n.CardanoGetAddress=r.Type.Object({addressParameters:n.CardanoAddressParameters,protocolMagic:r.Type.Number(),networkId:r.Type.Number(),address:r.Type.Optional(r.Type.String()),showOnTrezor:r.Type.Optional(r.Type.Boolean()),derivationType:r.Type.Optional(i.PROTO.EnumCardanoDerivationType),chunkify:r.Type.Optional(r.Type.Boolean())}),n.CardanoNativeScript=r.Type.Recursive(e=>r.Type.Object({type:i.PROTO.EnumCardanoNativeScriptType,scripts:r.Type.Optional(r.Type.Array(e)),keyHash:r.Type.Optional(r.Type.String()),keyPath:r.Type.Optional(o.DerivationPath),requiredSignaturesCount:r.Type.Optional(r.Type.Number()),invalidBefore:r.Type.Optional(r.Type.String()),invalidHereafter:r.Type.Optional(r.Type.String())})),n.CardanoGetNativeScriptHash=r.Type.Object({script:n.CardanoNativeScript,displayFormat:i.PROTO.EnumCardanoNativeScriptHashDisplayFormat,derivationType:r.Type.Optional(i.PROTO.EnumCardanoDerivationType)}),n.CardanoNativeScriptHash=r.Type.Object({scriptHash:r.Type.String()}),n.CardanoGetPublicKey=r.Type.Intersect([o.GetPublicKey,r.Type.Object({derivationType:r.Type.Optional(i.PROTO.EnumCardanoDerivationType)})]),n.CardanoInput=r.Type.Object({path:r.Type.Optional(o.DerivationPath),prev_hash:r.Type.String(),prev_index:r.Type.Number()}),n.CardanoToken=r.Type.Object({assetNameBytes:r.Type.String(),amount:r.Type.Optional(r.Type.String()),mintAmount:r.Type.Optional(r.Type.String())}),n.CardanoAssetGroup=r.Type.Object({policyId:r.Type.String(),tokenAmounts:r.Type.Array(n.CardanoToken)}),n.CardanoOutput=r.Type.Intersect([r.Type.Union([r.Type.Object({addressParameters:n.CardanoAddressParameters}),r.Type.Object({address:r.Type.String()})]),r.Type.Object({amount:r.Type.String(),tokenBundle:r.Type.Optional(r.Type.Array(n.CardanoAssetGroup)),datumHash:r.Type.Optional(r.Type.String()),format:r.Type.Optional(i.PROTO.EnumCardanoTxOutputSerializationFormat),inlineDatum:r.Type.Optional(r.Type.String()),referenceScript:r.Type.Optional(r.Type.String())})]),n.CardanoPoolOwner=r.Type.Object({stakingKeyPath:r.Type.Optional(o.DerivationPath),stakingKeyHash:r.Type.Optional(r.Type.String())}),n.CardanoPoolRelay=r.Type.Object({type:i.PROTO.EnumCardanoPoolRelayType,ipv4Address:r.Type.Optional(r.Type.String()),ipv6Address:r.Type.Optional(r.Type.String()),port:r.Type.Optional(r.Type.Number()),hostName:r.Type.Optional(r.Type.String())}),n.CardanoPoolMetadata=r.Type.Object({url:r.Type.String(),hash:r.Type.String()}),n.CardanoPoolMargin=r.Type.Object({numerator:r.Type.String(),denominator:r.Type.String()}),n.CardanoPoolParameters=r.Type.Object({poolId:r.Type.String(),vrfKeyHash:r.Type.String(),pledge:r.Type.String(),cost:r.Type.String(),margin:n.CardanoPoolMargin,rewardAccount:r.Type.String(),owners:r.Type.Array(n.CardanoPoolOwner,{minItems:1}),relays:r.Type.Array(n.CardanoPoolRelay),metadata:r.Type.Optional(n.CardanoPoolMetadata)}),n.CardanoDRep=r.Type.Object({type:i.PROTO.EnumCardanoDRepType,keyHash:r.Type.Optional(r.Type.String()),scriptHash:r.Type.Optional(r.Type.String())}),n.CardanoCertificate=r.Type.Object({type:i.PROTO.EnumCardanoCertificateType,path:r.Type.Optional(o.DerivationPath),pool:r.Type.Optional(r.Type.String()),poolParameters:r.Type.Optional(n.CardanoPoolParameters),scriptHash:r.Type.Optional(r.Type.String()),keyHash:r.Type.Optional(r.Type.String()),deposit:r.Type.Optional(r.Type.String()),dRep:r.Type.Optional(n.CardanoDRep)}),n.CardanoWithdrawal=r.Type.Object({path:r.Type.Optional(o.DerivationPath),amount:r.Type.String(),scriptHash:r.Type.Optional(r.Type.String()),keyHash:r.Type.Optional(r.Type.String())}),n.CardanoMint=r.Type.Array(n.CardanoAssetGroup),n.CardanoCollateralInput=r.Type.Object({path:r.Type.Optional(o.DerivationPath),prev_hash:r.Type.String(),prev_index:r.Type.Number()}),n.CardanoRequiredSigner=r.Type.Object({keyPath:r.Type.Optional(o.DerivationPath),keyHash:r.Type.Optional(r.Type.String())}),n.CardanoReferenceInput=r.Type.Object({prev_hash:r.Type.String(),prev_index:r.Type.Number()}),n.CardanoCVoteRegistrationDelegation=r.Type.Object({votePublicKey:r.Type.String(),weight:r.Type.Number()}),n.CardanoCVoteRegistrationParameters=r.Type.Object({votePublicKey:r.Type.Optional(r.Type.String()),stakingPath:o.DerivationPath,paymentAddressParameters:r.Type.Optional(n.CardanoAddressParameters),nonce:r.Type.String(),format:r.Type.Optional(i.PROTO.EnumCardanoCVoteRegistrationFormat),delegations:r.Type.Optional(r.Type.Array(n.CardanoCVoteRegistrationDelegation)),votingPurpose:r.Type.Optional(r.Type.Number()),paymentAddress:r.Type.Optional(r.Type.String())}),n.CardanoAuxiliaryData=r.Type.Object({hash:r.Type.Optional(r.Type.String()),cVoteRegistrationParameters:r.Type.Optional(n.CardanoCVoteRegistrationParameters)}),n.CardanoSignTransaction=r.Type.Object({inputs:r.Type.Array(n.CardanoInput),outputs:r.Type.Array(n.CardanoOutput),fee:r.Type.Uint(),ttl:r.Type.Optional(r.Type.Uint()),certificates:r.Type.Optional(r.Type.Array(n.CardanoCertificate)),withdrawals:r.Type.Optional(r.Type.Array(n.CardanoWithdrawal)),validityIntervalStart:r.Type.Optional(r.Type.String()),auxiliaryData:r.Type.Optional(n.CardanoAuxiliaryData),mint:r.Type.Optional(n.CardanoMint),scriptDataHash:r.Type.Optional(r.Type.String()),collateralInputs:r.Type.Optional(r.Type.Array(n.CardanoCollateralInput)),requiredSigners:r.Type.Optional(r.Type.Array(n.CardanoRequiredSigner)),collateralReturn:r.Type.Optional(n.CardanoOutput),totalCollateral:r.Type.Optional(r.Type.String()),referenceInputs:r.Type.Optional(r.Type.Array(n.CardanoReferenceInput)),additionalWitnessRequests:r.Type.Optional(r.Type.Array(o.DerivationPath)),protocolMagic:r.Type.Number(),networkId:r.Type.Number(),signingMode:i.PROTO.EnumCardanoTxSigningMode,derivationType:r.Type.Optional(i.PROTO.EnumCardanoDerivationType),includeNetworkId:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean()),tagCborSets:r.Type.Optional(r.Type.Boolean())}),n.CardanoSignTransactionExtended=r.Type.Intersect([n.CardanoSignTransaction,r.Type.Object({unsignedTx:r.Type.Object({body:r.Type.String(),hash:r.Type.String()}),testnet:r.Type.Boolean()})]),n.CardanoSignedTxWitness=r.Type.Object({type:i.PROTO.EnumCardanoTxWitnessType,pubKey:r.Type.String(),signature:r.Type.String(),chainCode:r.Type.Optional(r.Type.String())}),n.CardanoAuxiliaryDataSupplement=r.Type.Object({type:i.PROTO.EnumCardanoTxAuxiliaryDataSupplementType,auxiliaryDataHash:r.Type.String(),cVoteRegistrationSignature:r.Type.Optional(r.Type.String())}),n.CardanoSignedTxData=r.Type.Object({hash:r.Type.String(),witnesses:r.Type.Array(n.CardanoSignedTxWitness),auxiliaryDataSupplement:r.Type.Optional(n.CardanoAuxiliaryDataSupplement)})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/cardano/index.js"}],[3367,{"../../../constants":3339,"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EosSignTransaction=n.EosSDKTransaction=n.EosTxAction=n.EosTxActionCommon=n.EosAuthorization=n.EosTxHeader=n.EosPublicKey=void 0;const r=e("@trezor/schema-utils"),i=e("../../../constants"),o=e("../../params");n.EosPublicKey=r.Type.Object({wifPublicKey:r.Type.String(),rawPublicKey:r.Type.String(),path:r.Type.Array(r.Type.Number()),serializedPath:r.Type.String()}),n.EosTxHeader=r.Type.Object({expiration:r.Type.Union([r.Type.Uint(),r.Type.String()]),refBlockNum:r.Type.Number(),refBlockPrefix:r.Type.Number(),maxNetUsageWords:r.Type.Number(),maxCpuUsageMs:r.Type.Number(),delaySec:r.Type.Number()}),n.EosAuthorization=r.Type.Object({threshold:r.Type.Number(),keys:r.Type.Array(i.PROTO.EosAuthorizationKey),accounts:r.Type.Array(r.Type.Object({permission:i.PROTO.EosPermissionLevel,weight:r.Type.Number()})),waits:r.Type.Array(i.PROTO.EosAuthorizationWait)}),n.EosTxActionCommon=r.Type.Object({account:r.Type.String(),authorization:r.Type.Array(i.PROTO.EosPermissionLevel)}),n.EosTxAction=r.Type.Union([r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("transfer"),data:r.Type.Object({from:r.Type.String(),to:r.Type.String(),quantity:r.Type.String(),memo:r.Type.String()})})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("delegatebw"),data:r.Type.Object({from:r.Type.String(),receiver:r.Type.String(),stake_net_quantity:r.Type.String(),stake_cpu_quantity:r.Type.String(),transfer:r.Type.Boolean()})})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("undelegatebw"),data:r.Type.Object({from:r.Type.String(),receiver:r.Type.String(),unstake_net_quantity:r.Type.String(),unstake_cpu_quantity:r.Type.String()})})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("buyram"),data:r.Type.Object({payer:r.Type.String(),receiver:r.Type.String(),quant:r.Type.String()})})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("buyrambytes"),data:i.PROTO.EosActionBuyRamBytes})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("sellram"),data:i.PROTO.EosActionSellRam})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("voteproducer"),data:r.Type.Object({voter:r.Type.String(),proxy:r.Type.String(),producers:r.Type.Array(r.Type.String())})})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("refund"),data:i.PROTO.EosActionRefund})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("updateauth"),data:r.Type.Object({account:r.Type.String(),permission:r.Type.String(),parent:r.Type.String(),auth:n.EosAuthorization})})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("deleteauth"),data:i.PROTO.EosActionDeleteAuth})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("linkauth"),data:i.PROTO.EosActionLinkAuth})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("unlinkauth"),data:i.PROTO.EosActionUnlinkAuth})]),r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.Literal("newaccount"),data:r.Type.Object({creator:r.Type.String(),name:r.Type.String(),owner:n.EosAuthorization,active:n.EosAuthorization})})])]),n.EosSDKTransaction=r.Type.Object({chainId:r.Type.String(),header:n.EosTxHeader,actions:r.Type.Array(r.Type.Union([n.EosTxAction,r.Type.Intersect([n.EosTxActionCommon,r.Type.Object({name:r.Type.String(),data:r.Type.String()})])]))}),n.EosSignTransaction=r.Type.Object({path:o.DerivationPath,transaction:n.EosSDKTransaction,chunkify:r.Type.Optional(r.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/eos/index.js"}],[3368,{"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EthereumVerifyMessage=n.EthereumSignTypedHash=n.EthereumSignTypedData=n.EthereumSignTypedDataMessage=n.EthereumSignTypedDataTypes=n.EthereumSignedTx=n.EthereumSignTransaction=n.EthereumTransactionEIP1559=n.EthereumAccessList=n.EthereumTransaction=n.EthereumSignMessage=void 0;const r=e("@trezor/schema-utils"),i=e("../../params");n.EthereumSignMessage=r.Type.Object({path:i.DerivationPath,message:r.Type.String(),hex:r.Type.Optional(r.Type.Boolean())}),n.EthereumTransaction=r.Type.Object({to:r.Type.Union([r.Type.String(),r.Type.Null()]),value:r.Type.String(),gasPrice:r.Type.String(),gasLimit:r.Type.String(),maxFeePerGas:r.Type.Optional(r.Type.Undefined()),maxPriorityFeePerGas:r.Type.Optional(r.Type.Undefined()),nonce:r.Type.String(),data:r.Type.Optional(r.Type.String()),chainId:r.Type.Number(),txType:r.Type.Optional(r.Type.Number())}),n.EthereumAccessList=r.Type.Object({address:r.Type.String(),storageKeys:r.Type.Array(r.Type.String())}),n.EthereumTransactionEIP1559=r.Type.Object({to:r.Type.Union([r.Type.String(),r.Type.Null()]),value:r.Type.String(),gasLimit:r.Type.String(),gasPrice:r.Type.Optional(r.Type.Undefined()),nonce:r.Type.String(),data:r.Type.Optional(r.Type.String()),chainId:r.Type.Number(),maxFeePerGas:r.Type.String(),maxPriorityFeePerGas:r.Type.String(),accessList:r.Type.Optional(r.Type.Array(n.EthereumAccessList))}),n.EthereumSignTransaction=r.Type.Object({path:i.DerivationPath,transaction:r.Type.Union([n.EthereumTransaction,n.EthereumTransactionEIP1559]),chunkify:r.Type.Optional(r.Type.Boolean())}),n.EthereumSignedTx=r.Type.Object({v:r.Type.String(),r:r.Type.String(),s:r.Type.String(),serializedTx:r.Type.String()});const o=r.Type.Object({name:r.Type.String(),type:r.Type.String()});n.EthereumSignTypedDataTypes=r.Type.Object({EIP712Domain:r.Type.Array(o)},{additionalProperties:r.Type.Array(o)}),n.EthereumSignTypedDataMessage=r.Type.Object({types:n.EthereumSignTypedDataTypes,primaryType:r.Type.String(),domain:r.Type.Object({name:r.Type.Optional(r.Type.String()),version:r.Type.Optional(r.Type.String()),chainId:r.Type.Optional(r.Type.Union([r.Type.Number(),r.Type.BigInt(),r.Type.String()])),verifyingContract:r.Type.Optional(r.Type.String()),salt:r.Type.Optional(r.Type.Union([r.Type.ArrayBuffer(),r.Type.String()]))}),message:r.Type.Object({},{additionalProperties:r.Type.Any()})}),n.EthereumSignTypedData=r.Type.Object({path:i.DerivationPath,data:n.EthereumSignTypedDataMessage,metamask_v4_compat:r.Type.Boolean(),domain_separator_hash:r.Type.Optional(r.Type.Undefined()),message_hash:r.Type.Optional(r.Type.Undefined())}),n.EthereumSignTypedHash=r.Type.Object({path:i.DerivationPath,data:n.EthereumSignTypedDataMessage,metamask_v4_compat:r.Type.Boolean(),domain_separator_hash:r.Type.String(),message_hash:r.Type.Optional(r.Type.String())}),n.EthereumVerifyMessage=r.Type.Object({address:r.Type.String(),message:r.Type.String(),hex:r.Type.Optional(r.Type.Boolean()),signature:r.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ethereum/index.js"}],[3369,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/index.js"}],[337,{loglevel:4948},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tryPostMessage=function(e,t,n){const r={data:{method:t,params:n}};try{return e.postMessage(r),!0}catch(e){return i.default.error("MetaMask - Failed to message to port",e,r),!1}};var r,i=(r=e("loglevel"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"app/scripts/lib/start-up-errors/start-up-errors.ts"}],[3370,{"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RippleSignedTx=n.RippleSignTransaction=n.RippleTransaction=n.RipplePayment=void 0;const r=e("@trezor/schema-utils"),i=e("../../params");n.RipplePayment=r.Type.Object({amount:r.Type.String(),destination:r.Type.String(),destinationTag:r.Type.Optional(r.Type.Number())}),n.RippleTransaction=r.Type.Object({fee:r.Type.String(),flags:r.Type.Optional(r.Type.Number()),sequence:r.Type.Number(),maxLedgerVersion:r.Type.Optional(r.Type.Number()),payment:n.RipplePayment}),n.RippleSignTransaction=r.Type.Object({path:i.DerivationPath,transaction:n.RippleTransaction,chunkify:r.Type.Optional(r.Type.Boolean())}),n.RippleSignedTx=r.Type.Object({serializedTx:r.Type.String(),signature:r.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ripple/index.js"}],[3371,{"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SolanaComposedTransaction=n.SolanaComposeTransaction=n.SolanaProgramName=n.SolanaSignedTransaction=n.SolanaSignTransaction=n.SolanaTxAdditionalInfo=n.SolanaTxTokenAccountInfo=n.SolanaPublicKey=void 0;const r=e("@trezor/schema-utils"),i=e("../../params");n.SolanaPublicKey=r.Type.Intersect([i.PublicKey,r.Type.Object({publicKey:r.Type.String()})]),n.SolanaTxTokenAccountInfo=r.Type.Object({baseAddress:r.Type.String(),tokenProgram:r.Type.String(),tokenMint:r.Type.String(),tokenAccount:r.Type.String(),symbol:r.Type.Optional(r.Type.String())}),n.SolanaTxAdditionalInfo=r.Type.Object({tokenAccountsInfos:r.Type.Optional(r.Type.Array(n.SolanaTxTokenAccountInfo,{minItems:1}))}),n.SolanaSignTransaction=r.Type.Object({path:r.Type.Union([r.Type.String(),r.Type.Array(r.Type.Number())]),serializedTx:r.Type.String(),additionalInfo:r.Type.Optional(n.SolanaTxAdditionalInfo),serialize:r.Type.Optional(r.Type.Boolean())}),n.SolanaSignedTransaction=r.Type.Object({signature:r.Type.String(),serializedTx:r.Type.Optional(r.Type.String())}),n.SolanaProgramName=r.Type.Union([r.Type.Literal("spl-token"),r.Type.Literal("spl-token-2022")]),n.SolanaComposeTransaction=r.Type.Object({fromAddress:r.Type.String(),toAddress:r.Type.String(),amount:r.Type.String(),blockHash:r.Type.String(),lastValidBlockHeight:r.Type.Number(),priorityFees:r.Type.Optional(r.Type.Object({computeUnitPrice:r.Type.String(),computeUnitLimit:r.Type.String()})),token:r.Type.Optional(r.Type.Object({mint:r.Type.String(),program:n.SolanaProgramName,decimals:r.Type.Number(),accounts:r.Type.Array(r.Type.Object({publicKey:r.Type.String(),balance:r.Type.String()}))})),coin:r.Type.Optional(r.Type.String()),identity:r.Type.Optional(r.Type.String())}),n.SolanaComposedTransaction=r.Type.Object({serializedTx:r.Type.String(),additionalInfo:r.Type.Object({newAccountProgramName:r.Type.Optional(n.SolanaProgramName),tokenAccountInfo:r.Type.Optional(n.SolanaTxTokenAccountInfo)})})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/solana/index.js"}],[3372,{"../../../constants":3339,"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StellarOperationMessage=n.StellarSignedTx=n.StellarSignTransaction=n.StellarTransaction=n.StellarOperation=n.StellarClaimClaimableBalanceOperation=n.StellarInflationOperation=n.StellarBumpSequenceOperation=n.StellarManageDataOperation=n.StellarAccountMergeOperation=n.StellarAllowTrustOperation=n.StellarChangeTrustOperation=n.StellarSetOptionsOperation=n.StellarManageBuyOfferOperation=n.StellarManageSellOfferOperation=n.StellarPassiveSellOfferOperation=n.StellarPathPaymentStrictSendOperation=n.StellarPathPaymentStrictReceiveOperation=n.StellarPaymentOperation=n.StellarCreateAccountOperation=n.StellarAsset=void 0;const r=e("@trezor/schema-utils"),i=e("../../../constants"),o=e("../../params");n.StellarAsset=r.Type.Object({type:r.Type.Union([i.PROTO.EnumStellarAssetType,r.Type.KeyOfEnum(i.PROTO.StellarAssetType)]),code:r.Type.Optional(r.Type.String()),issuer:r.Type.Optional(r.Type.String())}),n.StellarCreateAccountOperation=r.Type.Object({type:r.Type.Literal("createAccount"),source:r.Type.Optional(r.Type.String()),destination:r.Type.String(),startingBalance:r.Type.String()}),n.StellarPaymentOperation=r.Type.Object({type:r.Type.Literal("payment"),source:r.Type.Optional(r.Type.String()),destination:r.Type.String(),asset:n.StellarAsset,amount:r.Type.String()}),n.StellarPathPaymentStrictReceiveOperation=r.Type.Object({type:r.Type.Literal("pathPaymentStrictReceive"),source:r.Type.Optional(r.Type.String()),sendAsset:n.StellarAsset,sendMax:r.Type.Uint(),destination:r.Type.String(),destAsset:n.StellarAsset,destAmount:r.Type.Uint(),path:r.Type.Optional(r.Type.Array(n.StellarAsset))}),n.StellarPathPaymentStrictSendOperation=r.Type.Object({type:r.Type.Literal("pathPaymentStrictSend"),source:r.Type.Optional(r.Type.String()),sendAsset:n.StellarAsset,sendAmount:r.Type.Uint(),destination:r.Type.String(),destAsset:n.StellarAsset,destMin:r.Type.Uint(),path:r.Type.Optional(r.Type.Array(n.StellarAsset))}),n.StellarPassiveSellOfferOperation=r.Type.Object({type:r.Type.Literal("createPassiveSellOffer"),source:r.Type.Optional(r.Type.String()),buying:n.StellarAsset,selling:n.StellarAsset,amount:r.Type.Uint(),price:r.Type.Object({n:r.Type.Number(),d:r.Type.Number()})}),n.StellarManageSellOfferOperation=r.Type.Object({type:r.Type.Literal("manageSellOffer"),source:r.Type.Optional(r.Type.String()),buying:n.StellarAsset,selling:n.StellarAsset,amount:r.Type.Uint(),offerId:r.Type.Optional(r.Type.Uint()),price:r.Type.Object({n:r.Type.Number(),d:r.Type.Number()})}),n.StellarManageBuyOfferOperation=r.Type.Object({type:r.Type.Literal("manageBuyOffer"),source:r.Type.Optional(r.Type.String()),buying:n.StellarAsset,selling:n.StellarAsset,amount:r.Type.Uint(),offerId:r.Type.Optional(r.Type.Uint()),price:r.Type.Object({n:r.Type.Number(),d:r.Type.Number()})}),n.StellarSetOptionsOperation=r.Type.Object({type:r.Type.Literal("setOptions"),source:r.Type.Optional(r.Type.String()),signer:r.Type.Optional(r.Type.Object({type:i.PROTO.EnumStellarSignerType,key:r.Type.Union([r.Type.String(),r.Type.Buffer()]),weight:r.Type.Optional(r.Type.Number())})),inflationDest:r.Type.Optional(r.Type.String()),clearFlags:r.Type.Optional(r.Type.Number()),setFlags:r.Type.Optional(r.Type.Number()),masterWeight:r.Type.Optional(r.Type.Uint()),lowThreshold:r.Type.Optional(r.Type.Uint()),medThreshold:r.Type.Optional(r.Type.Uint()),highThreshold:r.Type.Optional(r.Type.Uint()),homeDomain:r.Type.Optional(r.Type.String())}),n.StellarChangeTrustOperation=r.Type.Object({type:r.Type.Literal("changeTrust"),source:r.Type.Optional(r.Type.String()),line:n.StellarAsset,limit:r.Type.String()}),n.StellarAllowTrustOperation=r.Type.Object({type:r.Type.Literal("allowTrust"),source:r.Type.Optional(r.Type.String()),trustor:r.Type.String(),assetCode:r.Type.String(),assetType:i.PROTO.EnumStellarAssetType,authorize:r.Type.Optional(r.Type.Union([r.Type.Boolean(),r.Type.Undefined()]))}),n.StellarAccountMergeOperation=r.Type.Object({type:r.Type.Literal("accountMerge"),source:r.Type.Optional(r.Type.String()),destination:r.Type.String()}),n.StellarManageDataOperation=r.Type.Object({type:r.Type.Literal("manageData"),source:r.Type.Optional(r.Type.String()),name:r.Type.String(),value:r.Type.Optional(r.Type.Union([r.Type.String(),r.Type.Buffer()]))}),n.StellarBumpSequenceOperation=r.Type.Object({type:r.Type.Literal("bumpSequence"),source:r.Type.Optional(r.Type.String()),bumpTo:r.Type.Uint()}),n.StellarInflationOperation=r.Type.Object({type:r.Type.Literal("inflation"),source:r.Type.Optional(r.Type.String())}),n.StellarClaimClaimableBalanceOperation=r.Type.Object({type:r.Type.Literal("claimClaimableBalance"),source:r.Type.Optional(r.Type.String()),balanceId:r.Type.String()}),n.StellarOperation=r.Type.Union([n.StellarCreateAccountOperation,n.StellarPaymentOperation,n.StellarPathPaymentStrictReceiveOperation,n.StellarPathPaymentStrictSendOperation,n.StellarPassiveSellOfferOperation,n.StellarManageSellOfferOperation,n.StellarManageBuyOfferOperation,n.StellarSetOptionsOperation,n.StellarChangeTrustOperation,n.StellarAllowTrustOperation,n.StellarAccountMergeOperation,n.StellarInflationOperation,n.StellarManageDataOperation,n.StellarBumpSequenceOperation,n.StellarClaimClaimableBalanceOperation]),n.StellarTransaction=r.Type.Object({source:r.Type.String(),fee:r.Type.Number(),sequence:r.Type.Uint(),timebounds:r.Type.Optional(r.Type.Object({minTime:r.Type.Number(),maxTime:r.Type.Number()})),memo:r.Type.Optional(r.Type.Object({type:i.PROTO.EnumStellarMemoType,id:r.Type.Optional(r.Type.Uint()),text:r.Type.Optional(r.Type.String()),hash:r.Type.Optional(r.Type.Union([r.Type.String(),r.Type.Buffer()]))})),operations:r.Type.Array(n.StellarOperation)}),n.StellarSignTransaction=r.Type.Object({path:o.DerivationPath,networkPassphrase:r.Type.String(),transaction:n.StellarTransaction}),n.StellarSignedTx=r.Type.Object({publicKey:r.Type.String(),signature:r.Type.String()}),n.StellarOperationMessage=r.Type.Union([r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarCreateAccountOp")}),i.PROTO.StellarCreateAccountOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarPaymentOp")}),i.PROTO.StellarPaymentOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarPathPaymentStrictReceiveOp")}),i.PROTO.StellarPathPaymentStrictReceiveOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarPathPaymentStrictSendOp")}),i.PROTO.StellarPathPaymentStrictSendOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarManageSellOfferOp")}),i.PROTO.StellarManageSellOfferOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarManageBuyOfferOp")}),i.PROTO.StellarManageBuyOfferOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarCreatePassiveSellOfferOp")}),i.PROTO.StellarCreatePassiveSellOfferOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarSetOptionsOp")}),i.PROTO.StellarSetOptionsOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarChangeTrustOp")}),i.PROTO.StellarChangeTrustOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarAllowTrustOp")}),i.PROTO.StellarAllowTrustOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarAccountMergeOp")}),i.PROTO.StellarAccountMergeOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarManageDataOp")}),i.PROTO.StellarManageDataOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarBumpSequenceOp")}),i.PROTO.StellarBumpSequenceOp]),r.Type.Intersect([r.Type.Object({type:r.Type.Literal("StellarClaimClaimableBalanceOp")}),i.PROTO.StellarClaimClaimableBalanceOp])])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/stellar/index.js"}],[3373,{"../../params":3379,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TezosSignTransaction=n.TezosOperation=n.TezosDelegationOperation=n.TezosOriginationOperation=n.TezosTransactionOperation=n.TezosParametersManager=n.TezosManagerTransfer=n.TezosRevealOperation=void 0;const r=e("@trezor/schema-utils"),i=e("../../params");n.TezosRevealOperation=r.Type.Object({source:r.Type.String(),fee:r.Type.Number(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number(),public_key:r.Type.String()}),n.TezosManagerTransfer=r.Type.Object({destination:r.Type.String(),amount:r.Type.Number()}),n.TezosParametersManager=r.Type.Object({set_delegate:r.Type.Optional(r.Type.String()),cancel_delegate:r.Type.Optional(r.Type.Boolean()),transfer:r.Type.Optional(n.TezosManagerTransfer)}),n.TezosTransactionOperation=r.Type.Object({source:r.Type.String(),destination:r.Type.String(),amount:r.Type.Number(),counter:r.Type.Number(),fee:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number(),parameters:r.Type.Optional(r.Type.Array(r.Type.Number())),parameters_manager:r.Type.Optional(n.TezosParametersManager)}),n.TezosOriginationOperation=r.Type.Object({source:r.Type.String(),balance:r.Type.Number(),delegate:r.Type.Optional(r.Type.String()),script:i.DerivationPath,fee:r.Type.Number(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number()}),n.TezosDelegationOperation=r.Type.Object({source:r.Type.String(),delegate:r.Type.String(),fee:r.Type.Number(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number()}),n.TezosOperation=r.Type.Object({reveal:r.Type.Optional(n.TezosRevealOperation),transaction:r.Type.Optional(n.TezosTransactionOperation),origination:r.Type.Optional(n.TezosOriginationOperation),delegation:r.Type.Optional(n.TezosDelegationOperation)}),n.TezosSignTransaction=r.Type.Object({path:i.DerivationPath,branch:r.Type.String(),operation:n.TezosOperation,chunkify:r.Type.Optional(r.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/tezos/index.js"}],[3374,{"./fees":3376,"@trezor/device-utils":3388,"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CoinInfo=n.MiscNetworkInfo=n.EthereumNetworkInfoDefinitionValues=n.EthereumNetworkInfo=n.BitcoinNetworkInfo=n.BlockchainLink=n.CoinSupport=n.CoinObj=n.Network=n.Bip32=void 0;const r=e("@trezor/device-utils"),i=e("@trezor/schema-utils"),o=e("./fees");n.Bip32=i.Type.Object({public:i.Type.Number(),private:i.Type.Number()}),n.Network=i.Type.Object({messagePrefix:i.Type.String(),bech32:i.Type.String(),bip32:n.Bip32,pubKeyHash:i.Type.Number(),scriptHash:i.Type.Number(),wif:i.Type.Number(),forkId:i.Type.Optional(i.Type.Number())}),n.CoinObj=i.Type.Object({coin:i.Type.String(),identity:i.Type.Optional(i.Type.String())}),n.CoinSupport=i.Type.Composite([i.Type.Object({connect:i.Type.Boolean()}),i.Type.Record(i.Type.KeyOfEnum(r.DeviceModelInternal),i.Type.Union([i.Type.String(),i.Type.Literal(!1)]))]),n.BlockchainLink=i.Type.Object({type:i.Type.String(),url:i.Type.Array(i.Type.String())});const a=i.Type.Object({label:i.Type.String(),name:i.Type.String(),shortcut:i.Type.String(),slip44:i.Type.Number(),support:n.CoinSupport,decimals:i.Type.Number(),blockchainLink:i.Type.Optional(n.BlockchainLink),blockTime:i.Type.Number(),minFee:i.Type.Number(),maxFee:i.Type.Number(),defaultFees:i.Type.Array(o.FeeLevel)});n.BitcoinNetworkInfo=i.Type.Intersect([a,i.Type.Object({type:i.Type.Literal("bitcoin"),cashAddrPrefix:i.Type.Optional(i.Type.String()),curveName:i.Type.String(),dustLimit:i.Type.Number(),forceBip143:i.Type.Boolean(),hashGenesisBlock:i.Type.String(),maxAddressLength:i.Type.Number(),maxFeeSatoshiKb:i.Type.Number(),minAddressLength:i.Type.Number(),minFeeSatoshiKb:i.Type.Number(),segwit:i.Type.Boolean(),xPubMagic:i.Type.Number(),xPubMagicSegwitNative:i.Type.Optional(i.Type.Number()),xPubMagicSegwit:i.Type.Optional(i.Type.Number()),taproot:i.Type.Optional(i.Type.Boolean()),network:n.Network,isBitcoin:i.Type.Boolean()})]),n.EthereumNetworkInfo=i.Type.Intersect([a,i.Type.Object({type:i.Type.Literal("ethereum"),chainId:i.Type.Number(),network:i.Type.Optional(i.Type.Undefined())})]),n.EthereumNetworkInfoDefinitionValues=i.Type.Omit(n.EthereumNetworkInfo,["minFee","maxFee","defaultFees","blockTime"]),n.MiscNetworkInfo=i.Type.Intersect([a,i.Type.Object({type:i.Type.Union([i.Type.Literal("misc"),i.Type.Literal("nem")]),curve:i.Type.String(),network:i.Type.Optional(i.Type.Undefined())})]),n.CoinInfo=i.Type.Union([n.BitcoinNetworkInfo,n.EthereumNetworkInfo,n.MiscNetworkInfo])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/coinInfo.js"}],[3375,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DeviceUniquePath=void 0;n.DeviceUniquePath=e=>e}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/device.js"}],[3376,{"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SelectFeeLevel=n.FeeLevel=n.FeeInfo=void 0;const r=e("@trezor/schema-utils");n.FeeInfo=r.Type.Object({blockTime:r.Type.Number(),minFee:r.Type.Number(),maxFee:r.Type.Number(),dustLimit:r.Type.Number()}),n.FeeLevel=r.Type.Object({label:r.Type.Union([r.Type.Literal("high"),r.Type.Literal("normal"),r.Type.Literal("economy"),r.Type.Literal("low"),r.Type.Literal("custom")]),blocks:r.Type.Number(),feePerUnit:r.Type.String(),feePerTx:r.Type.Optional(r.Type.String()),feeLimit:r.Type.Optional(r.Type.String()),baseFeePerGas:r.Type.Optional(r.Type.String()),maxFeePerGas:r.Type.Optional(r.Type.String()),maxPriorityFeePerGas:r.Type.Optional(r.Type.String()),maxWaitTimeEstimate:r.Type.Optional(r.Type.Number())}),n.SelectFeeLevel=r.Type.Union([r.Type.Object({name:r.Type.String(),fee:r.Type.Literal("0"),feePerByte:r.Type.Optional(r.Type.Undefined()),blocks:r.Type.Optional(r.Type.Undefined()),disabled:r.Type.Literal(!0)}),r.Type.Object({name:r.Type.String(),fee:r.Type.String(),feePerByte:r.Type.String(),blocks:r.Type.Number(),minutes:r.Type.Number(),total:r.Type.String()})])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/fees.js"}],[3377,{"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IntermediaryVersion=void 0;const r=e("@trezor/schema-utils");n.IntermediaryVersion=r.Type.Union([r.Type.Literal(1),r.Type.Literal(2),r.Type.Literal(3)])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/firmware.js"}],[3378,{"./account":3364,"./api":3369,"./api/bitcoin":3365,"./api/cardano":3366,"./api/eos":3367,"./api/ethereum":3368,"./api/ripple":3370,"./api/solana":3371,"./api/stellar":3372,"./api/tezos":3373,"./coinInfo":3374,"./device":3375,"./fees":3376,"./firmware":3377,"./params":3379,"./settings":3380,"@trezor/device-utils":3388,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FirmwareType=void 0;const r=e("tslib");r.__exportStar(e("./api"),n),r.__exportStar(e("./account"),n),r.__exportStar(e("./coinInfo"),n),r.__exportStar(e("./device"),n),r.__exportStar(e("./fees"),n),r.__exportStar(e("./firmware"),n),r.__exportStar(e("./params"),n),r.__exportStar(e("./settings"),n),r.__exportStar(e("./api/cardano"),n),r.__exportStar(e("./api/bitcoin"),n),r.__exportStar(e("./api/eos"),n),r.__exportStar(e("./api/ripple"),n),r.__exportStar(e("./api/ethereum"),n),r.__exportStar(e("./api/solana"),n),r.__exportStar(e("./api/stellar"),n),r.__exportStar(e("./api/tezos"),n);var i=e("@trezor/device-utils");Object.defineProperty(n,"FirmwareType",{enumerable:!0,get:function(){return i.FirmwareType}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/index.js"}],[3379,{"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PublicKey=n.GetPublicKey=n.GetAddress=n.DerivationPath=n.Bundle=void 0;const r=e("@trezor/schema-utils");n.Bundle=e=>r.Type.Object({bundle:r.Type.Array(e,{minItems:1})}),n.DerivationPath=r.Type.Union([r.Type.String(),r.Type.Array(r.Type.Number())],{description:"Derivation Path (BIP32).",$id:"DerivationPath"}),n.GetAddress=r.Type.Object({path:n.DerivationPath,address:r.Type.Optional(r.Type.String()),showOnTrezor:r.Type.Optional(r.Type.Boolean({default:!0})),chunkify:r.Type.Optional(r.Type.Boolean()),useEventListener:r.Type.Optional(r.Type.Boolean())}),n.GetPublicKey=r.Type.Object({path:n.DerivationPath,showOnTrezor:r.Type.Optional(r.Type.Boolean()),suppressBackupWarning:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())}),n.PublicKey=r.Type.Object({publicKey:r.Type.String(),path:r.Type.Array(r.Type.Number()),serializedPath:r.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/params.js"}],[338,{"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/start-up-errors":5908,"../../../../shared/constants/state-corruption":5909,"../start-up-errors/start-up-errors":337,"../stores/persistence-manager":345,"./track-vault-corruption":339,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CorruptionHandler=void 0,n.hasVault=p;var r=e("@metamask/utils"),i=e("../../../../shared/constants/state-corruption"),o=e("../stores/persistence-manager"),a=e("../start-up-errors/start-up-errors"),s=e("../../../../shared/constants/start-up-errors"),c=e("../../../../shared/constants/metametrics"),u=e("./track-vault-corruption");function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){if((0,r.isObject)(e)&&(0,r.hasProperty)(e,"KeyringController")){const t=e.KeyringController;if((0,r.isObject)(t)&&(0,r.hasProperty)(t,"vault"))return Boolean(t.vault)}return!1}n.CorruptionHandler=class{constructor(){l(this,"connectedPorts",new Set)}async handleStateCorruptionError({port:e,error:t,database:n,repairCallback:l}){const{connectedPorts:d}=this,y=await async function(e,t){let n=(0,r.isObject)(e)&&(0,r.hasProperty)(e,"backup")&&null!==e.backup?e.backup:null;if(!n)try{n=await t.getBackup()??null}catch{n=null}return n}(t,n),m=function(e){if((0,r.isObject)(e)&&(0,r.hasProperty)(e,"PreferencesController")){const t=e.PreferencesController;if((0,r.isObject)(t)&&(0,r.hasProperty)(t,"currentLocale")&&"string"==typeof t.currentLocale)return t.currentLocale}return null}(y),f=Boolean(p(y)),h=function(e){return e instanceof o.PersistenceError&&e.cause instanceof Error&&e.cause.message?e.cause.message:null}(t);if(!(0,a.tryPostMessage)(e,i.METHOD_DISPLAY_STATE_CORRUPTION_ERROR,{error:{message:t.message,name:t.name,stack:t.stack,causeMessage:h},currentLocale:m,hasBackup:f}))return Promise.resolve();const T=function(e){return e instanceof o.PersistenceError?e.corruptionType:i.VaultCorruptionType.Unknown}(t);return(0,u.trackVaultCorruptionEvent)(y,c.MetaMetricsEventName.VaultCorruptionRestoreWalletScreenViewed,T),new Promise((t,n)=>{d.add(e),e.onDisconnect.addListener(function(){d.delete(e),t()}),e.onMessage.addListener(async function e(r){var o;if((null==r||null===(o=r.data)||void 0===o?void 0:o.method)===i.METHOD_REPAIR_DATABASE){d.forEach(t=>t.onMessage.removeListener(e)),(0,u.trackVaultCorruptionEvent)(y,c.MetaMetricsEventName.VaultCorruptionRestoreWalletButtonPressed,T);try{await async function(e){return await navigator.locks.request("repairDatabase",{ifAvailable:!0},async function(t){return null!==t&&(await e(),!0)})}(async function(){try{await l(y)}finally{d.forEach(e=>{(0,a.tryPostMessage)(e,s.RELOAD_WINDOW)})}}),t()}catch(e){n(e)}}})})}}}}},{package:"$root$",file:"app/scripts/lib/state-corruption/state-corruption-recovery.ts"}],[3380,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/settings.js"}],[3381,{"@trezor/utils":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLog=n.enableLogByPrefix=n.enableLog=n.setLogWriter=n.initLog=void 0;const r="#bada55",i="#20abd8",o="#f4a744",a={"@trezor/connect":`color: ${i}; background: #000;`,"@trezor/connect-web":`color: ${i}; background: #000;`,"@trezor/connect-webextension":`color: ${i}; background: #000;`,IFrame:`color: ${o}; background: #000;`,Core:`color: ${o}; background: #000;`,DeviceList:`color: ${r}; background: #000;`,Device:`color: ${r}; background: #000;`,DeviceCommands:`color: ${r}; background: #000;`,"@trezor/transport":`color: ${r}; background: #000;`,InteractionTimeout:`color: ${r}; background: #000;`,"@trezor/connect-popup":"color: #fbd948; background: #000;"},s=new(e("@trezor/utils").LogsManager)({colors:a});n.initLog=s.initLog.bind(s),n.setLogWriter=s.setLogWriter.bind(s),n.enableLog=s.enableLog.bind(s),n.enableLogByPrefix=s.enableLogByPrefix.bind(s),n.getLog=s.getLog.bind(s)}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/debug.js"}],[3382,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ProxyEventEmitter=void 0;n.ProxyEventEmitter=class{eventEmitters;constructor(e){this.eventEmitters=e}emit(e,...t){return this.eventEmitters.forEach(n=>n.emit(e,...t)),!0}on(e,t){return this.eventEmitters.forEach(n=>n.on(e,t)),this}off(e,t){return this.eventEmitters.forEach(n=>n.off(e,t)),this}once(e,t){return this.eventEmitters.forEach(n=>n.once(e,t)),this}addListener(e,t){return this.eventEmitters.forEach(n=>n.addListener(e,t)),this}prependListener(e,t){return this.eventEmitters.forEach(n=>n.prependListener(e,t)),this}prependOnceListener(e,t){return this.eventEmitters.forEach(n=>n.prependOnceListener(e,t)),this}removeAllListeners(e){return this.eventEmitters.forEach(t=>t.removeAllListeners(e)),this}removeListener(e,t){return this.eventEmitters.forEach(n=>n.removeListener(e,t)),this}setMaxListeners(e){return this.eventEmitters.forEach(t=>t.setMaxListeners(e)),this}eventNames(){return this.eventEmitters[0].eventNames()}getMaxListeners(){return this.eventEmitters[0].getMaxListeners()}listenerCount(e,t){return this.eventEmitters[0].listenerCount(e,t)}rawListeners(e){return this.eventEmitters[0].rawListeners(e)}listeners(e){return this.eventEmitters[0].listeners(e)}}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/proxy-event-emitter.js"}],[3383,{"@trezor/utils":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getOnionDomain=n.getHost=n.getOrigin=void 0;const r=e("@trezor/utils");n.getOrigin=e=>{if("string"!=typeof e)return"unknown";if(0===e.indexOf("file://"))return"file://";const[t]=e.match(/^https?:\/\/[^/]+/)??[];return t??"unknown"};n.getHost=e=>{if("string"!=typeof e)return;const[,,t]=e.match(/^(https?):\/\/([^:/]+)?/i)??[];if(t){const e=t.split(".");return"localhost"===e[e.length-1]?"localhost":e.length>2?e.slice(e.length-2,e.length).join("."):t}};n.getOnionDomain=(e,t)=>Array.isArray(e)?e.map(e=>(0,r.urlToOnion)(e,t)??e):"string"==typeof e?(0,r.urlToOnion)(e,t)??e:e}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/urlUtils.js"}],[3384,{"./modeUtils":3389},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBootloaderVersion=n.getBootloaderHash=void 0;const r=e("./modeUtils");n.getBootloaderHash=e=>e?.features?.bootloader_hash||"";n.getBootloaderVersion=e=>{if(!e?.features)return"";const{features:t}=e;return(0,r.isDeviceInBootloaderMode)(e)&&t.major_version?`${t.major_version}.${t.minor_version}.${t.patch_version}`:""}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/bootloaderUtils.js"}],[3385,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.DeviceModelInternal=void 0,function(e){e.T1B1="T1B1",e.T2T1="T2T1",e.T2B1="T2B1",e.T3B1="T3B1",e.T3T1="T3T1",e.T3W1="T3W1",e.UNKNOWN="UNKNOWN"}(r||(n.DeviceModelInternal=r={}))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/deviceModelInternal.js"}],[3386,{"./deviceModelInternal":3385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getNarrowedDeviceModelInternal=void 0;const r=e("./deviceModelInternal");n.getNarrowedDeviceModelInternal=e=>e===r.DeviceModelInternal.T2B1?r.DeviceModelInternal.T3B1:e}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/deviceModelInternalUtils.js"}],[3387,{"./modeUtils":3389,"./types":3390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isBitcoinOnlyDevice=n.hasBitcoinOnlyFirmware=n.getFirmwareVersion=n.getFirmwareVersionArray=n.getFirmwareRevision=n.getFirmwareSource=void 0;const r=e("./modeUtils"),i=e("./types");n.getFirmwareSource=e=>"bootloader"===e?.mode?"NA - bootloader":e?.authenticityChecks?.firmwareRevision?.success&&e?.authenticityChecks?.firmwareHash?.success?"official":"unknown";n.getFirmwareRevision=e=>e?.features?.revision||"";n.getFirmwareVersionArray=e=>{if(!e?.features)return null;const{features:t}=e;return(0,r.isDeviceInBootloaderMode)(e)?t.fw_major?[t.fw_major,t.fw_minor,t.fw_patch]:null:[t.major_version,t.minor_version,t.patch_version]};n.getFirmwareVersion=e=>{if(!e?.features)return"";const{features:t}=e;return(0,r.isDeviceInBootloaderMode)(e)?t.fw_major?`${t.fw_major}.${t.fw_minor}.${t.fw_patch}`:"":`${t.major_version}.${t.minor_version}.${t.patch_version}`};n.hasBitcoinOnlyFirmware=e=>e?.firmwareType===i.FirmwareType.BitcoinOnly;n.isBitcoinOnlyDevice=e=>!!e?.features?.unit_btconly&&e?.firmwareType!==i.FirmwareType.Regular}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/firmwareUtils.js"}],[3388,{"./bootloaderUtils":3384,"./deviceModelInternal":3385,"./deviceModelInternalUtils":3386,"./firmwareUtils":3387,"./modeUtils":3389,"./types":3390,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib");r.__exportStar(e("./firmwareUtils"),n),r.__exportStar(e("./bootloaderUtils"),n),r.__exportStar(e("./modeUtils"),n),r.__exportStar(e("./types"),n),r.__exportStar(e("./deviceModelInternal"),n),r.__exportStar(e("./deviceModelInternalUtils"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/index.js"}],[3389,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeviceMode=n.isDeviceInBootloaderMode=void 0;n.isDeviceInBootloaderMode=e=>!!e?.features?.bootloader_mode;n.getDeviceMode=e=>e?.features?.bootloader_mode?"bootloader":e?.features?.initialized?e?.features?.no_backup?"seedless":"normal":"initialize"}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/modeUtils.js"}],[3390,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.FirmwareType=void 0,function(e){e.BitcoinOnly="bitcoin-only",e.Regular="regular"}(r||(n.FirmwareType=r={}))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/device-utils",file:"node_modules/@trezor/device-utils/lib/types.js"}],[3391,{"./jws":3393,_process:5191,"ua-parser-js":5794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.envUtils=n.getJWSPublicKey=n.getEnvironment=n.isNative=n.isDesktop=n.isWeb=void 0;const r=e("ua-parser-js"),i=e("./jws");n.isWeb=()=>!1;n.isDesktop=()=>!1;n.isNative=()=>!1;let o;n.getEnvironment=()=>(0,n.isWeb)()?"web":"desktop";const a=()=>window.navigator.userAgent,s=()=>{if(!o){const e=a();o=new r.UAParser(e)}return o},c=()=>/Android/.test(a()),u=()=>/CrOS/.test(a()),l=()=>{const e=s().getBrowser().name?.replace(" ","");return e?.toLowerCase()||""},p=()=>window.navigator.platform,d=()=>void 0!==t?t.platform:"",y=()=>"darwin"===d()||"undefined"!=typeof window&&p().toLowerCase().startsWith("mac"),m=()=>"win32"===d()||"undefined"!=typeof window&&p().toLowerCase().startsWith("win"),f=()=>["iPhone","iPad","iPod"].includes(p()),h=()=>"linux"===d()||"undefined"!=typeof window&&(!c()&&!u()&&p().toLowerCase().startsWith("linux")),T=()=>!1;n.getJWSPublicKey=e=>["message-system","token-definitions"].includes(e)?i.publicKey.dev:i.firmwareConfigPublicKey.dev,n.envUtils={isWeb:n.isWeb,isDesktop:n.isDesktop,isNative:n.isNative,getEnvironment:n.getEnvironment,getUserAgent:a,isAndroid:c,isChromeOs:u,getOsVersion:async()=>{const{version:e}=await s().getOS().withClientHints();return e??""},getDeprecatedOsVersion:()=>s().getOS().version||"",getCpuArch:async()=>{const{architecture:e}=await s().getCPU().withClientHints();return e??""},getBrowserName:l,getBrowserVersion:()=>s().getBrowser().version||"",getCommitHash:()=>"",getDeviceType:()=>s().getDevice().type,getSuiteVersion:()=>"",isFirefox:()=>"firefox"===l(),getPlatform:p,getPlatformLanguages:()=>window.navigator.languages,getScreenWidth:()=>window.screen.width,getScreenHeight:()=>window.screen.height,getWindowWidth:()=>window.innerWidth,getWindowHeight:()=>window.innerHeight,getLocationOrigin:()=>window.location.origin,getLocationHostname:()=>window.location.hostname,getProcessPlatform:d,isMacOs:y,isWindows:m,isIOs:f,isLinux:h,isCodesignBuild:T,getOsName:()=>m()?"windows":y()?"macos":c()?"android":u()?"chromeos":h()?"linux":f()?"ios":"",getOsNameWeb:()=>s().getOS().name?.replaceAll(" ",""),getOsFamily:()=>{const e=s().getOS().name?.toLowerCase().replaceAll(" ","");return"windows"===e?"Windows":"macos"===e?"MacOS":"Linux"},getJWSPublicKey:n.getJWSPublicKey}}).call(this)}).call(this,e("_process"))}}},{package:"@trezor/connect-web>@trezor/connect-common>@trezor/env-utils",file:"node_modules/@trezor/env-utils/lib/envUtils.js"}],[3392,{"./envUtils":3391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJWSPublicKey=n.getOsFamily=n.getOsNameWeb=n.getOsName=n.isCodesignBuild=n.isLinux=n.isIOs=n.isWindows=n.isMacOs=n.getProcessPlatform=n.getLocationHostname=n.getLocationOrigin=n.getWindowHeight=n.getWindowWidth=n.getScreenHeight=n.getScreenWidth=n.getPlatformLanguages=n.getPlatform=n.isFirefox=n.getSuiteVersion=n.getCpuArch=n.getDeprecatedOsVersion=n.getOsVersion=n.getDeviceType=n.getCommitHash=n.getBrowserName=n.getBrowserVersion=n.isChromeOs=n.isAndroid=n.getUserAgent=n.getEnvironment=n.isNative=n.isDesktop=n.isWeb=void 0;const r=e("./envUtils");n.isWeb=r.envUtils.isWeb,n.isDesktop=r.envUtils.isDesktop,n.isNative=r.envUtils.isNative,n.getEnvironment=r.envUtils.getEnvironment,n.getUserAgent=r.envUtils.getUserAgent,n.isAndroid=r.envUtils.isAndroid,n.isChromeOs=r.envUtils.isChromeOs,n.getBrowserVersion=r.envUtils.getBrowserVersion,n.getBrowserName=r.envUtils.getBrowserName,n.getCommitHash=r.envUtils.getCommitHash,n.getDeviceType=r.envUtils.getDeviceType,n.getOsVersion=r.envUtils.getOsVersion,n.getDeprecatedOsVersion=r.envUtils.getDeprecatedOsVersion,n.getCpuArch=r.envUtils.getCpuArch,n.getSuiteVersion=r.envUtils.getSuiteVersion,n.isFirefox=r.envUtils.isFirefox,n.getPlatform=r.envUtils.getPlatform,n.getPlatformLanguages=r.envUtils.getPlatformLanguages,n.getScreenWidth=r.envUtils.getScreenWidth,n.getScreenHeight=r.envUtils.getScreenHeight,n.getWindowWidth=r.envUtils.getWindowWidth,n.getWindowHeight=r.envUtils.getWindowHeight,n.getLocationOrigin=r.envUtils.getLocationOrigin,n.getLocationHostname=r.envUtils.getLocationHostname,n.getProcessPlatform=r.envUtils.getProcessPlatform,n.isMacOs=r.envUtils.isMacOs,n.isWindows=r.envUtils.isWindows,n.isIOs=r.envUtils.isIOs,n.isLinux=r.envUtils.isLinux,n.isCodesignBuild=r.envUtils.isCodesignBuild,n.getOsName=r.envUtils.getOsName,n.getOsNameWeb=r.envUtils.getOsNameWeb,n.getOsFamily=r.envUtils.getOsFamily,n.getJWSPublicKey=r.envUtils.getJWSPublicKey}}},{package:"@trezor/connect-web>@trezor/connect-common>@trezor/env-utils",file:"node_modules/@trezor/env-utils/lib/index.js"}],[3393,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.firmwareConfigPublicKey=n.publicKey=void 0,n.publicKey={dev:"-----BEGIN PUBLIC KEY-----\nMFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEbSUHJlr17+NywPS/w+xMkp3dSD8eWXSuAfFKwonZPe5fL63kISipJC+eJP7Mad0WxgyJoiMsZCV6BZPK2jIFdg==\n-----END PUBLIC KEY-----",codesign:"-----BEGIN PUBLIC KEY-----\nMFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAES7MbBzU/v5BsljkTM8Mz0Jsk+Nn5n2wH\no2/+MUI3TgCVdTbEHhn3HXaY7GJ6TLyWqxn+pIDY9wUUAyUqOStTUQ==\n-----END PUBLIC KEY-----"},n.firmwareConfigPublicKey={dev:"\n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEEKjWdvv8SJm/UN2lXoEXl3ID35b/\nhsz3etxANvUgLQ4r0eEhqVUEL5l+dRMgEv4Ycvr3UEcMkSFRPoA8ktxX1A==\n-----END PUBLIC KEY-----\n",codesign:"\n-----BEGIN PUBLIC KEY-----\nTODO\n-----END PUBLIC KEY-----\n"}}}},{package:"@trezor/connect-web>@trezor/connect-common>@trezor/env-utils",file:"node_modules/@trezor/env-utils/lib/jws.js"}],[3394,{"./utils":3400,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeMessage=n.decode=void 0;const r=e("./utils"),i=(e,n)=>{if((0,r.isPrimitiveField)(e.type))return e.optional&&void 0===n?null:"bytes"===e.type?t.from(n).toString("hex"):e.long?Number.isSafeInteger(n.toNumber())?n.toNumber():n.toString():n;if("valuesById"in e.resolvedType)return e.resolvedType.valuesById[n];if(e.resolvedType.fields)return o(n,e.resolvedType.fields);throw new Error(`transport: decode: case not handled: ${e}`)};function o(e,t){if(!e)return{};const{...n}=e,r={};return Object.keys(t).forEach(e=>{const o=t[e],a=n[e];o.repeated?r[e]=a.map(e=>i(o,e)):r[e]=i(o,a)}),r}n.decode=(e,t)=>{const n=e.decode(new Uint8Array(t));return o(n,n.$type.fields)};n.decodeMessage=(e,t,i)=>{const{Message:o,messageName:a}=(0,r.createMessageFromType)(e,t);return{type:a,message:(0,n.decode)(o,i)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/decode.js"}],[3395,{"./utils":3400,buffer:4176,"protobufjs/light":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeMessage=n.encode=void 0,n.patch=a;const r=e("protobufjs/light"),i=e("./utils"),o=(e,n)=>{if("bytes"===e)return"string"!=typeof n||n?t.from(n,"hex"):n;if("number"==typeof n&&!Number.isSafeInteger(n))throw new RangeError("field value is not within safe integer range");return n};function a(e,t){const n={};return e.fields?(Object.keys(e.fields).forEach(s=>{const c=e.fields[s],u=t[s];if(void 0!==u)if((0,i.isPrimitiveField)(c.type))c.repeated?n[s]=u.map(e=>o(c.type,e)):n[s]=o(c.type,u);else if(c.repeated){const t=e.lookupTypeOrEnum(c.type);t instanceof r.Enum?n[s]=u:n[s]=u.map(e=>a(t,e))}else if("object"==typeof u&&null!==u){const t=e.lookupType(c.type);n[s]=a(t,u)}else if("number"==typeof u){const t=e.lookupEnum(c.type);n[s]=t.values[u]}else n[s]=u}),n):n}n.encode=(e,n)=>{const r=a(e,n),i=e.fromObject(r),o=e.encode(i).finish();return t.from(o)};n.encodeMessage=(e,t,r)=>{const{Message:o,messageType:a}=(0,i.createMessageFromName)(e,t);return{messageType:a,message:(0,n.encode)(o,r)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/encode.js"}],[3396,{"./decode":3394,"./encode":3395,"./load-definitions":3397,"./messages":3399,"./messages-schema":3398,"./utils":3400,long:4949,"protobufjs/light":5221,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.MessagesSchema=n.loadDefinitions=n.Messages=n.encodeMessage=n.decodeMessage=n.parseConfigure=void 0;const i=e("tslib"),o=i.__importDefault(e("long")),a=i.__importStar(e("protobufjs/light")),s=e("./decode"),c=e("./encode"),u=e("./utils");a.util.Long=o.default,a.configure(),r={parseConfigure:u.parseConfigure,decodeMessage:s.decodeMessage,encodeMessage:c.encodeMessage},n.parseConfigure=r.parseConfigure,n.decodeMessage=r.decodeMessage,n.encodeMessage=r.encodeMessage,n.Messages=i.__importStar(e("./messages"));var l=e("./load-definitions");Object.defineProperty(n,"loadDefinitions",{enumerable:!0,get:function(){return l.loadDefinitions}}),n.MessagesSchema=i.__importStar(e("./messages-schema"))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/index.js"}],[3397,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.loadDefinitions=void 0;n.loadDefinitions=async(e,t,n)=>{try{if(e.lookup(t))return}catch{}let r;try{r=e.lookupEnum("MessageType")}catch{}const i=await n(),o=e.define(t,i);let a;try{a=o.lookupEnum("MessageType")}catch{}if(r&&a)try{Object.keys(a.values).forEach(e=>{r.add(e,a.values[e])}),o.remove(a)}catch(t){throw e.remove(o),t}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/load-definitions.js"}],[3398,{"@trezor/schema-utils":3407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TxAckResponse=n.TxAckPaymentRequest=n.PaymentRequestMemo=n.CoinPurchaseMemo=n.RefundMemo=n.TextMemo=n.PrevOutput=n.PrevInput=n.PrevTx=n.TxOutput=n.TxOutputType=n.ChangeOutputScriptType=n.TxOutputBinType=n.TxInput=n.TxInputType=n.InternalInputScriptType=n.TxRequest=n.TxRequestSerializedType=n.TxRequestDetailsType=n.RequestType=n.EnumEnum_RequestType=n.Enum_RequestType=n.SignTx=n.CoinJoinRequest=n.VerifyMessage=n.MessageSignature=n.SignMessage=n.OwnershipId=n.GetOwnershipId=n.Address=n.GetAddress=n.PublicKey=n.GetPublicKey=n.MultisigRedeemScriptType=n.HDNodePathType=n.HDNodeType=n.EnumMultisigPubkeysOrder=n.MultisigPubkeysOrder=n.EnumAmountUnit=n.AmountUnit=n.EnumDecredStakingSpendType=n.DecredStakingSpendType=n.OutputScriptType=n.EnumEnum_OutputScriptType=n.Enum_OutputScriptType=n.InputScriptType=n.EnumEnum_InputScriptType=n.Enum_InputScriptType=n.EnumDeviceModelInternal=n.DeviceModelInternal=void 0,n.CardanoGetAddress=n.CardanoAddressParametersType=n.CardanoNativeScriptHash=n.CardanoGetNativeScriptHash=n.CardanoNativeScript=n.CardanoBlockchainPointerType=n.EnumCardanoTxWitnessType=n.CardanoTxWitnessType=n.EnumCardanoTxSigningMode=n.CardanoTxSigningMode=n.EnumCardanoCVoteRegistrationFormat=n.CardanoCVoteRegistrationFormat=n.EnumCardanoTxAuxiliaryDataSupplementType=n.CardanoTxAuxiliaryDataSupplementType=n.EnumCardanoPoolRelayType=n.CardanoPoolRelayType=n.EnumCardanoDRepType=n.CardanoDRepType=n.EnumCardanoCertificateType=n.CardanoCertificateType=n.EnumCardanoTxOutputSerializationFormat=n.CardanoTxOutputSerializationFormat=n.EnumCardanoNativeScriptHashDisplayFormat=n.CardanoNativeScriptHashDisplayFormat=n.EnumCardanoNativeScriptType=n.CardanoNativeScriptType=n.EnumCardanoAddressType=n.CardanoAddressType=n.EnumCardanoDerivationType=n.CardanoDerivationType=n.ProdTestT1=n.FirmwareUpload=n.FirmwareRequest=n.FirmwareErase=n.BleUnpair=n.AuthorizeCoinJoin=n.OwnershipProof=n.GetOwnershipProof=n.TxAckPrevExtraData=n.TxAckPrevExtraDataWrapper=n.TxAckPrevOutput=n.TxAckPrevOutputWrapper=n.TxAckPrevInput=n.TxAckPrevInputWrapper=n.TxAckPrevMeta=n.TxAckOutput=n.TxAckOutputWrapper=n.TxAckInput=n.TxAckInputWrapper=n.TxAck=void 0,n.Deprecated_PassphraseStateAck=n.Deprecated_PassphraseStateRequest=n.PassphraseAck=n.PassphraseRequest=n.PinMatrixAck=n.PinMatrixRequest=n.PinMatrixRequestType=n.EnumEnum_PinMatrixRequestType=n.Enum_PinMatrixRequestType=n.ButtonAck=n.ButtonRequest=n.ButtonRequestType=n.EnumEnum_ButtonRequestType=n.Enum_ButtonRequestType=n.Failure=n.FailureType=n.EnumEnum_FailureType=n.Enum_FailureType=n.Success=n.CardanoSignTxFinished=n.CardanoTxBodyHash=n.CardanoTxHostAck=n.CardanoTxWitnessResponse=n.CardanoTxWitnessRequest=n.CardanoTxAuxiliaryDataSupplement=n.CardanoTxItemAck=n.CardanoTxReferenceInput=n.CardanoTxRequiredSigner=n.CardanoTxCollateralInput=n.CardanoTxMint=n.CardanoTxAuxiliaryData=n.CardanoCVoteRegistrationParametersType=n.CardanoCVoteRegistrationDelegation=n.CardanoTxWithdrawal=n.CardanoTxCertificate=n.CardanoDRep=n.CardanoPoolParametersType=n.CardanoPoolMetadataType=n.CardanoPoolRelayParameters=n.CardanoPoolOwner=n.CardanoTxReferenceScriptChunk=n.CardanoTxInlineDatumChunk=n.CardanoToken=n.CardanoAssetGroup=n.CardanoTxOutput=n.CardanoTxInput=n.CardanoSignTxInit=n.CardanoPublicKey=n.CardanoGetPublicKey=n.CardanoAddress=void 0,n.EthereumSignTypedData=n.EthereumDefinitions=n.EosSignedTx=n.EosTxActionAck=n.EosActionUnknown=n.EosActionNewAccount=n.EosActionUnlinkAuth=n.EosActionLinkAuth=n.EosActionDeleteAuth=n.EosActionUpdateAuth=n.EosActionVoteProducer=n.EosActionSellRam=n.EosActionBuyRamBytes=n.EosActionBuyRam=n.EosActionRefund=n.EosActionUndelegate=n.EosActionDelegate=n.EosActionTransfer=n.EosActionCommon=n.EosAuthorization=n.EosAuthorizationWait=n.EosAuthorizationAccount=n.EosAuthorizationKey=n.EosPermissionLevel=n.EosAsset=n.EosTxActionRequest=n.EosSignTx=n.EosTxHeader=n.EosPublicKey=n.EosGetPublicKey=n.SolanaTokenInfo=n.EthereumTokenInfo=n.EthereumNetworkInfo=n.EnumDefinitionType=n.DefinitionType=n.DebugLinkOptigaSetSecMax=n.DebugLinkResetDebugEvents=n.EnumDebugWaitType=n.DebugWaitType=n.EnumDebugPhysicalButton=n.DebugPhysicalButton=n.EnumDebugButton=n.DebugButton=n.ECDHSessionKey=n.GetECDHSessionKey=n.SignedIdentity=n.SignIdentity=n.IdentityType=n.CipheredKeyValue=n.CipherKeyValue=void 0,n.RecoveryType=n.EnumEnum_RecoveryType=n.Enum_RecoveryType=n.EnumRecoveryDeviceInputMethod=n.RecoveryDeviceInputMethod=n.Capability=n.EnumEnum_Capability=n.Enum_Capability=n.RecoveryStatus=n.EnumEnum_RecoveryStatus=n.Enum_RecoveryStatus=n.BackupAvailability=n.EnumEnum_BackupAvailability=n.Enum_BackupAvailability=n.GetFeatures=n.Initialize=n.HomescreenFormat=n.EnumEnum_HomescreenFormat=n.Enum_HomescreenFormat=n.DisplayRotation=n.EnumEnum_DisplayRotation=n.Enum_DisplayRotation=n.SafetyCheckLevel=n.EnumEnum_SafetyCheckLevel=n.Enum_SafetyCheckLevel=n.BackupType=n.EnumEnum_BackupType=n.Enum_BackupType=n.EthereumTypedDataSignature=n.EthereumSignTypedHash=n.EthereumVerifyMessage=n.EthereumMessageSignature=n.EthereumSignMessage=n.EthereumTxAck=n.EthereumTxRequest=n.EthereumSignTxEIP1559=n.EthereumAccessList=n.EthereumSignTx=n.EthereumAddress=n.EthereumGetAddress=n.EthereumPublicKey=n.EthereumGetPublicKey=n.EthereumTypedDataValueAck=n.EthereumTypedDataValueRequest=n.EthereumTypedDataStructAck=n.EthereumStructMember=n.EthereumFieldType=n.EnumEthereumDataType=n.EthereumDataType=n.EthereumTypedDataStructRequest=void 0,n.UnlockedPathRequest=n.UnlockPath=n.Nonce=n.GetNonce=n.RebootToBootloader=n.EnumBootCommand=n.BootCommand=n.CancelAuthorization=n.PreauthorizedRequest=n.DoPreauthorized=n.NextU2FCounter=n.GetNextU2FCounter=n.SetU2FCounter=n.WordAck=n.WordRequest=n.WordRequestType=n.EnumEnum_WordRequestType=n.Enum_WordRequestType=n.EntropyCheckContinue=n.EntropyCheckReady=n.EntropyAck=n.EntropyRequest=n.BackupDevice=n.Slip39Group=n.ResetDevice=n.LoadDevice=n.WipeDevice=n.AuthenticityProof=n.AuthenticateDevice=n.FirmwareHash=n.GetFirmwareHash=n.Entropy=n.GetEntropy=n.Cancel=n.Ping=n.SdProtect=n.EnumSdProtectOperationType=n.SdProtectOperationType=n.ChangeWipeCode=n.ChangePin=n.ApplyFlags=n.TranslationDataAck=n.TranslationDataRequest=n.ChangeLanguage=n.ApplySettings=n.EndSession=n.SetBusy=n.LockDevice=n.Features=n.RecoveryDevice=void 0,n.StellarPaymentOp=n.StellarTxOpRequest=n.StellarSignTx=n.EnumStellarMemoType=n.StellarMemoType=n.StellarAddress=n.StellarGetAddress=n.StellarAsset=n.EnumStellarAssetType=n.StellarAssetType=n.SolanaTxSignature=n.SolanaSignTx=n.SolanaTxAdditionalInfo=n.SolanaTxTokenAccountInfo=n.SolanaAddress=n.SolanaGetAddress=n.SolanaPublicKey=n.SolanaGetPublicKey=n.RippleSignedTx=n.RippleSignTx=n.RipplePayment=n.RippleAddress=n.RippleGetAddress=n.NEMDecryptedMessage=n.NEMDecryptMessage=n.NEMSignedTx=n.NEMSignTx=n.NEMImportanceTransfer=n.EnumNEMImportanceTransferMode=n.NEMImportanceTransferMode=n.NEMAggregateModification=n.NEMCosignatoryModification=n.EnumNEMModificationType=n.NEMModificationType=n.NEMMosaicSupplyChange=n.EnumNEMSupplyChangeType=n.NEMSupplyChangeType=n.NEMMosaicCreation=n.NEMMosaicDefinition=n.EnumNEMMosaicLevy=n.NEMMosaicLevy=n.NEMProvisionNamespace=n.NEMTransfer=n.NEMMosaic=n.NEMTransactionCommon=n.NEMAddress=n.NEMGetAddress=n.SetBrightness=n.UnlockBootloader=n.ShowDeviceTutorial=void 0,n.MessageType=n.TezosSignedTx=n.TezosSignTx=n.TezosBallotOp=n.EnumTezosBallotType=n.TezosBallotType=n.TezosProposalOp=n.TezosDelegationOp=n.TezosOriginationOp=n.TezosTransactionOp=n.TezosParametersManager=n.TezosManagerTransfer=n.TezosRevealOp=n.TezosContractID=n.EnumTezosContractType=n.TezosContractType=n.TezosPublicKey=n.TezosGetPublicKey=n.TezosAddress=n.TezosGetAddress=n.StellarSignedTx=n.StellarClaimClaimableBalanceOp=n.StellarBumpSequenceOp=n.StellarManageDataOp=n.StellarAccountMergeOp=n.StellarAllowTrustOp=n.StellarChangeTrustOp=n.StellarSetOptionsOp=n.EnumStellarSignerType=n.StellarSignerType=n.StellarCreatePassiveSellOfferOp=n.StellarManageBuyOfferOp=n.StellarManageSellOfferOp=n.StellarPathPaymentStrictSendOp=n.StellarPathPaymentStrictReceiveOp=n.StellarCreateAccountOp=void 0;const r=e("@trezor/schema-utils");var i,o,a,s,c,u,l;!function(e){e.T1B1="T1B1",e.T2T1="T2T1",e.T2B1="T2B1",e.T3B1="T3B1",e.T3T1="T3T1",e.T3W1="T3W1",e.UNKNOWN="UNKNOWN"}(i||(n.DeviceModelInternal=i={})),n.EnumDeviceModelInternal=r.Type.Enum(i),function(e){e[e.SPENDADDRESS=0]="SPENDADDRESS",e[e.SPENDMULTISIG=1]="SPENDMULTISIG",e[e.EXTERNAL=2]="EXTERNAL",e[e.SPENDWITNESS=3]="SPENDWITNESS",e[e.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",e[e.SPENDTAPROOT=5]="SPENDTAPROOT"}(o||(n.Enum_InputScriptType=o={})),n.EnumEnum_InputScriptType=r.Type.Enum(o),n.InputScriptType=r.Type.KeyOfEnum(o,{$id:"InputScriptType"}),function(e){e[e.PAYTOADDRESS=0]="PAYTOADDRESS",e[e.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",e[e.PAYTOMULTISIG=2]="PAYTOMULTISIG",e[e.PAYTOOPRETURN=3]="PAYTOOPRETURN",e[e.PAYTOWITNESS=4]="PAYTOWITNESS",e[e.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",e[e.PAYTOTAPROOT=6]="PAYTOTAPROOT"}(a||(n.Enum_OutputScriptType=a={})),n.EnumEnum_OutputScriptType=r.Type.Enum(a),n.OutputScriptType=r.Type.KeyOfEnum(a,{$id:"OutputScriptType"}),function(e){e[e.SSGen=0]="SSGen",e[e.SSRTX=1]="SSRTX"}(s||(n.DecredStakingSpendType=s={})),n.EnumDecredStakingSpendType=r.Type.Enum(s),function(e){e[e.BITCOIN=0]="BITCOIN",e[e.MILLIBITCOIN=1]="MILLIBITCOIN",e[e.MICROBITCOIN=2]="MICROBITCOIN",e[e.SATOSHI=3]="SATOSHI"}(c||(n.AmountUnit=c={})),n.EnumAmountUnit=r.Type.Enum(c),function(e){e[e.PRESERVED=0]="PRESERVED",e[e.LEXICOGRAPHIC=1]="LEXICOGRAPHIC"}(u||(n.MultisigPubkeysOrder=u={})),n.EnumMultisigPubkeysOrder=r.Type.Enum(u),n.HDNodeType=r.Type.Object({depth:r.Type.Number(),fingerprint:r.Type.Number(),child_num:r.Type.Number(),chain_code:r.Type.String(),private_key:r.Type.Optional(r.Type.String()),public_key:r.Type.String()},{$id:"HDNodeType"}),n.HDNodePathType=r.Type.Object({node:r.Type.Union([n.HDNodeType,r.Type.String()]),address_n:r.Type.Array(r.Type.Number())},{$id:"HDNodePathType"}),n.MultisigRedeemScriptType=r.Type.Object({pubkeys:r.Type.Array(n.HDNodePathType),signatures:r.Type.Array(r.Type.String()),m:r.Type.Number(),nodes:r.Type.Optional(r.Type.Array(n.HDNodeType)),address_n:r.Type.Optional(r.Type.Array(r.Type.Number())),pubkeys_order:r.Type.Optional(n.EnumMultisigPubkeysOrder)},{$id:"MultisigRedeemScriptType"}),n.GetPublicKey=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),ecdsa_curve_name:r.Type.Optional(r.Type.String()),show_display:r.Type.Optional(r.Type.Boolean()),coin_name:r.Type.Optional(r.Type.String()),script_type:r.Type.Optional(n.InputScriptType),ignore_xpub_magic:r.Type.Optional(r.Type.Boolean())},{$id:"GetPublicKey"}),n.PublicKey=r.Type.Object({node:n.HDNodeType,xpub:r.Type.String(),root_fingerprint:r.Type.Optional(r.Type.Number()),descriptor:r.Type.Optional(r.Type.String())},{$id:"PublicKey"}),n.GetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),coin_name:r.Type.Optional(r.Type.String()),show_display:r.Type.Optional(r.Type.Boolean()),multisig:r.Type.Optional(n.MultisigRedeemScriptType),script_type:r.Type.Optional(n.InputScriptType),ignore_xpub_magic:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"GetAddress"}),n.Address=r.Type.Object({address:r.Type.String(),mac:r.Type.Optional(r.Type.String())},{$id:"Address"}),n.GetOwnershipId=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),coin_name:r.Type.Optional(r.Type.String()),multisig:r.Type.Optional(n.MultisigRedeemScriptType),script_type:r.Type.Optional(n.InputScriptType)},{$id:"GetOwnershipId"}),n.OwnershipId=r.Type.Object({ownership_id:r.Type.String()},{$id:"OwnershipId"}),n.SignMessage=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),message:r.Type.String(),coin_name:r.Type.Optional(r.Type.String()),script_type:r.Type.Optional(n.InputScriptType),no_script_type:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"SignMessage"}),n.MessageSignature=r.Type.Object({address:r.Type.String(),signature:r.Type.String()},{$id:"MessageSignature"}),n.VerifyMessage=r.Type.Object({address:r.Type.String(),signature:r.Type.String(),message:r.Type.String(),coin_name:r.Type.Optional(r.Type.String()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"VerifyMessage"}),n.CoinJoinRequest=r.Type.Object({fee_rate:r.Type.Number(),no_fee_threshold:r.Type.Number(),min_registrable_amount:r.Type.Number(),mask_public_key:r.Type.Optional(r.Type.String()),signature:r.Type.Optional(r.Type.String())},{$id:"CoinJoinRequest"}),n.SignTx=r.Type.Object({outputs_count:r.Type.Number(),inputs_count:r.Type.Number(),coin_name:r.Type.Optional(r.Type.String()),version:r.Type.Optional(r.Type.Number()),lock_time:r.Type.Optional(r.Type.Number()),expiry:r.Type.Optional(r.Type.Number()),overwintered:r.Type.Optional(r.Type.Boolean()),version_group_id:r.Type.Optional(r.Type.Number()),timestamp:r.Type.Optional(r.Type.Number()),branch_id:r.Type.Optional(r.Type.Number()),amount_unit:r.Type.Optional(n.EnumAmountUnit),decred_staking_ticket:r.Type.Optional(r.Type.Boolean()),serialize:r.Type.Optional(r.Type.Boolean()),coinjoin_request:r.Type.Optional(n.CoinJoinRequest),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"SignTx"}),function(e){e[e.TXINPUT=0]="TXINPUT",e[e.TXOUTPUT=1]="TXOUTPUT",e[e.TXMETA=2]="TXMETA",e[e.TXFINISHED=3]="TXFINISHED",e[e.TXEXTRADATA=4]="TXEXTRADATA",e[e.TXORIGINPUT=5]="TXORIGINPUT",e[e.TXORIGOUTPUT=6]="TXORIGOUTPUT",e[e.TXPAYMENTREQ=7]="TXPAYMENTREQ"}(l||(n.Enum_RequestType=l={})),n.EnumEnum_RequestType=r.Type.Enum(l),n.RequestType=r.Type.KeyOfEnum(l,{$id:"RequestType"}),n.TxRequestDetailsType=r.Type.Object({request_index:r.Type.Number(),tx_hash:r.Type.Optional(r.Type.String()),extra_data_len:r.Type.Optional(r.Type.Number()),extra_data_offset:r.Type.Optional(r.Type.Number())},{$id:"TxRequestDetailsType"}),n.TxRequestSerializedType=r.Type.Object({signature_index:r.Type.Optional(r.Type.Number()),signature:r.Type.Optional(r.Type.String()),serialized_tx:r.Type.Optional(r.Type.String())},{$id:"TxRequestSerializedType"}),n.TxRequest=r.Type.Object({request_type:n.RequestType,details:n.TxRequestDetailsType,serialized:r.Type.Optional(n.TxRequestSerializedType)},{$id:"TxRequest"}),n.InternalInputScriptType=r.Type.Exclude(n.InputScriptType,r.Type.Literal("EXTERNAL"),{$id:"InternalInputScriptType"});const p=r.Type.Object({prev_hash:r.Type.String(),prev_index:r.Type.Number(),amount:r.Type.Uint(),sequence:r.Type.Optional(r.Type.Number()),multisig:r.Type.Optional(n.MultisigRedeemScriptType),decred_tree:r.Type.Optional(r.Type.Number()),orig_hash:r.Type.Optional(r.Type.String()),orig_index:r.Type.Optional(r.Type.Number()),decred_staking_spend:r.Type.Optional(n.EnumDecredStakingSpendType),script_pubkey:r.Type.Optional(r.Type.String()),coinjoin_flags:r.Type.Optional(r.Type.Number()),script_sig:r.Type.Optional(r.Type.String()),witness:r.Type.Optional(r.Type.String()),ownership_proof:r.Type.Optional(r.Type.String()),commitment_data:r.Type.Optional(r.Type.String())},{$id:"CommonTxInputType"});var d,y,m,f,h,T,g,b,_,O,w,v,S,x,E,P,I,j,A,k,M,C,R,N,z,D,U,B,L,F,G,$,q,H,W,K,V,Y,Q,J,X;n.TxInputType=r.Type.Union([r.Type.Intersect([p,r.Type.Object({address_n:r.Type.Array(r.Type.Number()),script_type:r.Type.Optional(n.InternalInputScriptType)})]),r.Type.Intersect([p,r.Type.Object({address_n:r.Type.Optional(r.Type.Undefined()),script_type:r.Type.Literal("EXTERNAL"),script_pubkey:r.Type.String()})])],{$id:"TxInputType"}),n.TxInput=(0,r.CloneType)(n.TxInputType,{$id:"TxInput"}),n.TxOutputBinType=r.Type.Object({amount:r.Type.Uint(),script_pubkey:r.Type.String(),decred_script_version:r.Type.Optional(r.Type.Number())},{$id:"TxOutputBinType"}),n.ChangeOutputScriptType=r.Type.Exclude(n.OutputScriptType,r.Type.Literal("PAYTOOPRETURN"),{$id:"ChangeOutputScriptType"}),n.TxOutputType=r.Type.Union([r.Type.Object({address:r.Type.String(),address_n:r.Type.Optional(r.Type.Undefined()),script_type:r.Type.Literal("PAYTOADDRESS"),amount:r.Type.Uint(),multisig:r.Type.Optional(n.MultisigRedeemScriptType),orig_hash:r.Type.Optional(r.Type.String()),orig_index:r.Type.Optional(r.Type.Number()),payment_req_index:r.Type.Optional(r.Type.Number())}),r.Type.Object({address:r.Type.Optional(r.Type.Undefined()),address_n:r.Type.Array(r.Type.Number()),script_type:r.Type.Optional(n.ChangeOutputScriptType),amount:r.Type.Uint(),multisig:r.Type.Optional(n.MultisigRedeemScriptType),orig_hash:r.Type.Optional(r.Type.String()),orig_index:r.Type.Optional(r.Type.Number()),payment_req_index:r.Type.Optional(r.Type.Number())}),r.Type.Object({address:r.Type.String(),address_n:r.Type.Optional(r.Type.Undefined()),script_type:r.Type.Optional(n.ChangeOutputScriptType),amount:r.Type.Uint(),multisig:r.Type.Optional(n.MultisigRedeemScriptType),orig_hash:r.Type.Optional(r.Type.String()),orig_index:r.Type.Optional(r.Type.Number()),payment_req_index:r.Type.Optional(r.Type.Number())}),r.Type.Object({address:r.Type.Optional(r.Type.Undefined()),address_n:r.Type.Optional(r.Type.Undefined()),amount:r.Type.Union([r.Type.Literal("0"),r.Type.Literal(0)]),op_return_data:r.Type.String(),script_type:r.Type.Literal("PAYTOOPRETURN"),orig_hash:r.Type.Optional(r.Type.String()),orig_index:r.Type.Optional(r.Type.Number()),payment_req_index:r.Type.Optional(r.Type.Number())})],{$id:"TxOutputType"}),n.TxOutput=(0,r.CloneType)(n.TxOutputType,{$id:"TxOutput"}),n.PrevTx=r.Type.Object({version:r.Type.Number(),lock_time:r.Type.Number(),inputs_count:r.Type.Number(),outputs_count:r.Type.Number(),extra_data_len:r.Type.Optional(r.Type.Number()),expiry:r.Type.Optional(r.Type.Number()),version_group_id:r.Type.Optional(r.Type.Number()),timestamp:r.Type.Optional(r.Type.Number()),branch_id:r.Type.Optional(r.Type.Number())},{$id:"PrevTx"}),n.PrevInput=r.Type.Object({prev_hash:r.Type.String(),prev_index:r.Type.Number(),script_sig:r.Type.String(),sequence:r.Type.Number(),decred_tree:r.Type.Optional(r.Type.Number())},{$id:"PrevInput"}),n.PrevOutput=r.Type.Object({amount:r.Type.Uint(),script_pubkey:r.Type.String(),decred_script_version:r.Type.Optional(r.Type.Number())},{$id:"PrevOutput"}),n.TextMemo=r.Type.Object({text:r.Type.String()},{$id:"TextMemo"}),n.RefundMemo=r.Type.Object({address:r.Type.String(),mac:r.Type.String()},{$id:"RefundMemo"}),n.CoinPurchaseMemo=r.Type.Object({coin_type:r.Type.Number(),amount:r.Type.Uint(),address:r.Type.String(),mac:r.Type.String()},{$id:"CoinPurchaseMemo"}),n.PaymentRequestMemo=r.Type.Object({text_memo:r.Type.Optional(n.TextMemo),refund_memo:r.Type.Optional(n.RefundMemo),coin_purchase_memo:r.Type.Optional(n.CoinPurchaseMemo)},{$id:"PaymentRequestMemo"}),n.TxAckPaymentRequest=r.Type.Object({nonce:r.Type.Optional(r.Type.String()),recipient_name:r.Type.String(),memos:r.Type.Optional(r.Type.Array(n.PaymentRequestMemo)),amount:r.Type.Optional(r.Type.Uint()),signature:r.Type.String()},{$id:"TxAckPaymentRequest"}),n.TxAckResponse=r.Type.Union([r.Type.Object({inputs:r.Type.Array(r.Type.Union([n.TxInputType,n.PrevInput]))}),r.Type.Object({bin_outputs:r.Type.Array(n.TxOutputBinType)}),r.Type.Object({outputs:r.Type.Array(n.TxOutputType)}),r.Type.Object({extra_data:r.Type.String()}),r.Type.Object({version:r.Type.Optional(r.Type.Number()),lock_time:r.Type.Optional(r.Type.Number()),inputs_cnt:r.Type.Number(),outputs_cnt:r.Type.Number(),extra_data:r.Type.Optional(r.Type.String()),extra_data_len:r.Type.Optional(r.Type.Number()),timestamp:r.Type.Optional(r.Type.Number()),version_group_id:r.Type.Optional(r.Type.Number()),expiry:r.Type.Optional(r.Type.Number()),branch_id:r.Type.Optional(r.Type.Number())})],{$id:"TxAckResponse"}),n.TxAck=r.Type.Object({tx:n.TxAckResponse},{$id:"TxAck"}),n.TxAckInputWrapper=r.Type.Object({input:n.TxInput},{$id:"TxAckInputWrapper"}),n.TxAckInput=r.Type.Object({tx:n.TxAckInputWrapper},{$id:"TxAckInput"}),n.TxAckOutputWrapper=r.Type.Object({output:n.TxOutput},{$id:"TxAckOutputWrapper"}),n.TxAckOutput=r.Type.Object({tx:n.TxAckOutputWrapper},{$id:"TxAckOutput"}),n.TxAckPrevMeta=r.Type.Object({tx:n.PrevTx},{$id:"TxAckPrevMeta"}),n.TxAckPrevInputWrapper=r.Type.Object({input:n.PrevInput},{$id:"TxAckPrevInputWrapper"}),n.TxAckPrevInput=r.Type.Object({tx:n.TxAckPrevInputWrapper},{$id:"TxAckPrevInput"}),n.TxAckPrevOutputWrapper=r.Type.Object({output:n.PrevOutput},{$id:"TxAckPrevOutputWrapper"}),n.TxAckPrevOutput=r.Type.Object({tx:n.TxAckPrevOutputWrapper},{$id:"TxAckPrevOutput"}),n.TxAckPrevExtraDataWrapper=r.Type.Object({extra_data_chunk:r.Type.String()},{$id:"TxAckPrevExtraDataWrapper"}),n.TxAckPrevExtraData=r.Type.Object({tx:n.TxAckPrevExtraDataWrapper},{$id:"TxAckPrevExtraData"}),n.GetOwnershipProof=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),coin_name:r.Type.Optional(r.Type.String()),script_type:r.Type.Optional(n.InputScriptType),multisig:r.Type.Optional(n.MultisigRedeemScriptType),user_confirmation:r.Type.Optional(r.Type.Boolean()),ownership_ids:r.Type.Optional(r.Type.Array(r.Type.String())),commitment_data:r.Type.Optional(r.Type.String())},{$id:"GetOwnershipProof"}),n.OwnershipProof=r.Type.Object({ownership_proof:r.Type.String(),signature:r.Type.String()},{$id:"OwnershipProof"}),n.AuthorizeCoinJoin=r.Type.Object({coordinator:r.Type.String(),max_rounds:r.Type.Number(),max_coordinator_fee_rate:r.Type.Number(),max_fee_per_kvbyte:r.Type.Number(),address_n:r.Type.Array(r.Type.Number()),coin_name:r.Type.Optional(r.Type.String()),script_type:r.Type.Optional(n.InputScriptType),amount_unit:r.Type.Optional(n.EnumAmountUnit)},{$id:"AuthorizeCoinJoin"}),n.BleUnpair=r.Type.Object({all:r.Type.Optional(r.Type.Boolean())},{$id:"BleUnpair"}),n.FirmwareErase=r.Type.Object({length:r.Type.Optional(r.Type.Number())},{$id:"FirmwareErase"}),n.FirmwareRequest=r.Type.Object({offset:r.Type.Number(),length:r.Type.Number()},{$id:"FirmwareRequest"}),n.FirmwareUpload=r.Type.Object({payload:r.Type.Union([r.Type.Buffer(),r.Type.ArrayBuffer()]),hash:r.Type.Optional(r.Type.String())},{$id:"FirmwareUpload"}),n.ProdTestT1=r.Type.Object({payload:r.Type.Optional(r.Type.String())},{$id:"ProdTestT1"}),function(e){e[e.LEDGER=0]="LEDGER",e[e.ICARUS=1]="ICARUS",e[e.ICARUS_TREZOR=2]="ICARUS_TREZOR"}(d||(n.CardanoDerivationType=d={})),n.EnumCardanoDerivationType=r.Type.Enum(d),function(e){e[e.BASE=0]="BASE",e[e.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",e[e.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",e[e.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",e[e.POINTER=4]="POINTER",e[e.POINTER_SCRIPT=5]="POINTER_SCRIPT",e[e.ENTERPRISE=6]="ENTERPRISE",e[e.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",e[e.BYRON=8]="BYRON",e[e.REWARD=14]="REWARD",e[e.REWARD_SCRIPT=15]="REWARD_SCRIPT"}(y||(n.CardanoAddressType=y={})),n.EnumCardanoAddressType=r.Type.Enum(y),function(e){e[e.PUB_KEY=0]="PUB_KEY",e[e.ALL=1]="ALL",e[e.ANY=2]="ANY",e[e.N_OF_K=3]="N_OF_K",e[e.INVALID_BEFORE=4]="INVALID_BEFORE",e[e.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"}(m||(n.CardanoNativeScriptType=m={})),n.EnumCardanoNativeScriptType=r.Type.Enum(m),function(e){e[e.HIDE=0]="HIDE",e[e.BECH32=1]="BECH32",e[e.POLICY_ID=2]="POLICY_ID"}(f||(n.CardanoNativeScriptHashDisplayFormat=f={})),n.EnumCardanoNativeScriptHashDisplayFormat=r.Type.Enum(f),function(e){e[e.ARRAY_LEGACY=0]="ARRAY_LEGACY",e[e.MAP_BABBAGE=1]="MAP_BABBAGE"}(h||(n.CardanoTxOutputSerializationFormat=h={})),n.EnumCardanoTxOutputSerializationFormat=r.Type.Enum(h),function(e){e[e.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",e[e.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",e[e.STAKE_DELEGATION=2]="STAKE_DELEGATION",e[e.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION",e[e.STAKE_REGISTRATION_CONWAY=7]="STAKE_REGISTRATION_CONWAY",e[e.STAKE_DEREGISTRATION_CONWAY=8]="STAKE_DEREGISTRATION_CONWAY",e[e.VOTE_DELEGATION=9]="VOTE_DELEGATION"}(T||(n.CardanoCertificateType=T={})),n.EnumCardanoCertificateType=r.Type.Enum(T),function(e){e[e.KEY_HASH=0]="KEY_HASH",e[e.SCRIPT_HASH=1]="SCRIPT_HASH",e[e.ABSTAIN=2]="ABSTAIN",e[e.NO_CONFIDENCE=3]="NO_CONFIDENCE"}(g||(n.CardanoDRepType=g={})),n.EnumCardanoDRepType=r.Type.Enum(g),function(e){e[e.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",e[e.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",e[e.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"}(b||(n.CardanoPoolRelayType=b={})),n.EnumCardanoPoolRelayType=r.Type.Enum(b),function(e){e[e.NONE=0]="NONE",e[e.CVOTE_REGISTRATION_SIGNATURE=1]="CVOTE_REGISTRATION_SIGNATURE"}(_||(n.CardanoTxAuxiliaryDataSupplementType=_={})),n.EnumCardanoTxAuxiliaryDataSupplementType=r.Type.Enum(_),function(e){e[e.CIP15=0]="CIP15",e[e.CIP36=1]="CIP36"}(O||(n.CardanoCVoteRegistrationFormat=O={})),n.EnumCardanoCVoteRegistrationFormat=r.Type.Enum(O),function(e){e[e.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",e[e.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",e[e.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",e[e.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"}(w||(n.CardanoTxSigningMode=w={})),n.EnumCardanoTxSigningMode=r.Type.Enum(w),function(e){e[e.BYRON_WITNESS=0]="BYRON_WITNESS",e[e.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"}(v||(n.CardanoTxWitnessType=v={})),n.EnumCardanoTxWitnessType=r.Type.Enum(v),n.CardanoBlockchainPointerType=r.Type.Object({block_index:r.Type.Number(),tx_index:r.Type.Number(),certificate_index:r.Type.Number()},{$id:"CardanoBlockchainPointerType"}),n.CardanoNativeScript=r.Type.Recursive(e=>r.Type.Object({type:n.EnumCardanoNativeScriptType,scripts:r.Type.Optional(r.Type.Array(e)),key_hash:r.Type.Optional(r.Type.String()),key_path:r.Type.Optional(r.Type.Array(r.Type.Number())),required_signatures_count:r.Type.Optional(r.Type.Number()),invalid_before:r.Type.Optional(r.Type.Uint()),invalid_hereafter:r.Type.Optional(r.Type.Uint())}),{$id:"CardanoNativeScript"}),n.CardanoGetNativeScriptHash=r.Type.Object({script:n.CardanoNativeScript,display_format:n.EnumCardanoNativeScriptHashDisplayFormat,derivation_type:n.EnumCardanoDerivationType},{$id:"CardanoGetNativeScriptHash"}),n.CardanoNativeScriptHash=r.Type.Object({script_hash:r.Type.String()},{$id:"CardanoNativeScriptHash"}),n.CardanoAddressParametersType=r.Type.Object({address_type:n.EnumCardanoAddressType,address_n:r.Type.Array(r.Type.Number()),address_n_staking:r.Type.Array(r.Type.Number()),staking_key_hash:r.Type.Optional(r.Type.String()),certificate_pointer:r.Type.Optional(n.CardanoBlockchainPointerType),script_payment_hash:r.Type.Optional(r.Type.String()),script_staking_hash:r.Type.Optional(r.Type.String())},{$id:"CardanoAddressParametersType"}),n.CardanoGetAddress=r.Type.Object({show_display:r.Type.Optional(r.Type.Boolean()),protocol_magic:r.Type.Number(),network_id:r.Type.Number(),address_parameters:n.CardanoAddressParametersType,derivation_type:n.EnumCardanoDerivationType,chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"CardanoGetAddress"}),n.CardanoAddress=r.Type.Object({address:r.Type.String()},{$id:"CardanoAddress"}),n.CardanoGetPublicKey=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),derivation_type:n.EnumCardanoDerivationType},{$id:"CardanoGetPublicKey"}),n.CardanoPublicKey=r.Type.Object({xpub:r.Type.String(),node:n.HDNodeType},{$id:"CardanoPublicKey"}),n.CardanoSignTxInit=r.Type.Object({signing_mode:n.EnumCardanoTxSigningMode,protocol_magic:r.Type.Number(),network_id:r.Type.Number(),inputs_count:r.Type.Number(),outputs_count:r.Type.Number(),fee:r.Type.Uint(),ttl:r.Type.Optional(r.Type.Uint()),certificates_count:r.Type.Number(),withdrawals_count:r.Type.Number(),has_auxiliary_data:r.Type.Boolean(),validity_interval_start:r.Type.Optional(r.Type.Uint()),witness_requests_count:r.Type.Number(),minting_asset_groups_count:r.Type.Number(),derivation_type:n.EnumCardanoDerivationType,include_network_id:r.Type.Optional(r.Type.Boolean()),script_data_hash:r.Type.Optional(r.Type.String()),collateral_inputs_count:r.Type.Number(),required_signers_count:r.Type.Number(),has_collateral_return:r.Type.Optional(r.Type.Boolean()),total_collateral:r.Type.Optional(r.Type.Uint()),reference_inputs_count:r.Type.Optional(r.Type.Number()),chunkify:r.Type.Optional(r.Type.Boolean()),tag_cbor_sets:r.Type.Optional(r.Type.Boolean())},{$id:"CardanoSignTxInit"}),n.CardanoTxInput=r.Type.Object({prev_hash:r.Type.String(),prev_index:r.Type.Number()},{$id:"CardanoTxInput"}),n.CardanoTxOutput=r.Type.Object({address:r.Type.Optional(r.Type.String()),address_parameters:r.Type.Optional(n.CardanoAddressParametersType),amount:r.Type.Uint(),asset_groups_count:r.Type.Number(),datum_hash:r.Type.Optional(r.Type.String()),format:r.Type.Optional(n.EnumCardanoTxOutputSerializationFormat),inline_datum_size:r.Type.Optional(r.Type.Number()),reference_script_size:r.Type.Optional(r.Type.Number())},{$id:"CardanoTxOutput"}),n.CardanoAssetGroup=r.Type.Object({policy_id:r.Type.String(),tokens_count:r.Type.Number()},{$id:"CardanoAssetGroup"}),n.CardanoToken=r.Type.Object({asset_name_bytes:r.Type.String(),amount:r.Type.Optional(r.Type.Uint()),mint_amount:r.Type.Optional(r.Type.Uint({allowNegative:!0}))},{$id:"CardanoToken"}),n.CardanoTxInlineDatumChunk=r.Type.Object({data:r.Type.String()},{$id:"CardanoTxInlineDatumChunk"}),n.CardanoTxReferenceScriptChunk=r.Type.Object({data:r.Type.String()},{$id:"CardanoTxReferenceScriptChunk"}),n.CardanoPoolOwner=r.Type.Object({staking_key_path:r.Type.Optional(r.Type.Array(r.Type.Number())),staking_key_hash:r.Type.Optional(r.Type.String())},{$id:"CardanoPoolOwner"}),n.CardanoPoolRelayParameters=r.Type.Object({type:n.EnumCardanoPoolRelayType,ipv4_address:r.Type.Optional(r.Type.String()),ipv6_address:r.Type.Optional(r.Type.String()),host_name:r.Type.Optional(r.Type.String()),port:r.Type.Optional(r.Type.Number())},{$id:"CardanoPoolRelayParameters"}),n.CardanoPoolMetadataType=r.Type.Object({url:r.Type.String(),hash:r.Type.String()},{$id:"CardanoPoolMetadataType"}),n.CardanoPoolParametersType=r.Type.Object({pool_id:r.Type.String(),vrf_key_hash:r.Type.String(),pledge:r.Type.Uint(),cost:r.Type.Uint(),margin_numerator:r.Type.Uint(),margin_denominator:r.Type.Uint(),reward_account:r.Type.String(),metadata:r.Type.Optional(n.CardanoPoolMetadataType),owners_count:r.Type.Number(),relays_count:r.Type.Number()},{$id:"CardanoPoolParametersType"}),n.CardanoDRep=r.Type.Object({type:n.EnumCardanoDRepType,key_hash:r.Type.Optional(r.Type.String()),script_hash:r.Type.Optional(r.Type.String())},{$id:"CardanoDRep"}),n.CardanoTxCertificate=r.Type.Object({type:n.EnumCardanoCertificateType,path:r.Type.Optional(r.Type.Array(r.Type.Number())),pool:r.Type.Optional(r.Type.String()),pool_parameters:r.Type.Optional(n.CardanoPoolParametersType),script_hash:r.Type.Optional(r.Type.String()),key_hash:r.Type.Optional(r.Type.String()),deposit:r.Type.Optional(r.Type.Uint()),drep:r.Type.Optional(n.CardanoDRep)},{$id:"CardanoTxCertificate"}),n.CardanoTxWithdrawal=r.Type.Object({path:r.Type.Optional(r.Type.Array(r.Type.Number())),amount:r.Type.Uint(),script_hash:r.Type.Optional(r.Type.String()),key_hash:r.Type.Optional(r.Type.String())},{$id:"CardanoTxWithdrawal"}),n.CardanoCVoteRegistrationDelegation=r.Type.Object({vote_public_key:r.Type.String(),weight:r.Type.Uint()},{$id:"CardanoCVoteRegistrationDelegation"}),n.CardanoCVoteRegistrationParametersType=r.Type.Object({vote_public_key:r.Type.Optional(r.Type.String()),staking_path:r.Type.Array(r.Type.Number()),payment_address_parameters:r.Type.Optional(n.CardanoAddressParametersType),nonce:r.Type.Uint(),format:r.Type.Optional(n.EnumCardanoCVoteRegistrationFormat),delegations:r.Type.Optional(r.Type.Array(n.CardanoCVoteRegistrationDelegation)),voting_purpose:r.Type.Optional(r.Type.Uint()),payment_address:r.Type.Optional(r.Type.String())},{$id:"CardanoCVoteRegistrationParametersType"}),n.CardanoTxAuxiliaryData=r.Type.Object({cvote_registration_parameters:r.Type.Optional(n.CardanoCVoteRegistrationParametersType),hash:r.Type.Optional(r.Type.String())},{$id:"CardanoTxAuxiliaryData"}),n.CardanoTxMint=r.Type.Object({asset_groups_count:r.Type.Number()},{$id:"CardanoTxMint"}),n.CardanoTxCollateralInput=r.Type.Object({prev_hash:r.Type.String(),prev_index:r.Type.Number()},{$id:"CardanoTxCollateralInput"}),n.CardanoTxRequiredSigner=r.Type.Object({key_hash:r.Type.Optional(r.Type.String()),key_path:r.Type.Optional(r.Type.Array(r.Type.Number()))},{$id:"CardanoTxRequiredSigner"}),n.CardanoTxReferenceInput=r.Type.Object({prev_hash:r.Type.String(),prev_index:r.Type.Number()},{$id:"CardanoTxReferenceInput"}),n.CardanoTxItemAck=r.Type.Object({},{$id:"CardanoTxItemAck"}),n.CardanoTxAuxiliaryDataSupplement=r.Type.Object({type:n.EnumCardanoTxAuxiliaryDataSupplementType,auxiliary_data_hash:r.Type.Optional(r.Type.String()),cvote_registration_signature:r.Type.Optional(r.Type.String())},{$id:"CardanoTxAuxiliaryDataSupplement"}),n.CardanoTxWitnessRequest=r.Type.Object({path:r.Type.Array(r.Type.Number())},{$id:"CardanoTxWitnessRequest"}),n.CardanoTxWitnessResponse=r.Type.Object({type:n.EnumCardanoTxWitnessType,pub_key:r.Type.String(),signature:r.Type.String(),chain_code:r.Type.Optional(r.Type.String())},{$id:"CardanoTxWitnessResponse"}),n.CardanoTxHostAck=r.Type.Object({},{$id:"CardanoTxHostAck"}),n.CardanoTxBodyHash=r.Type.Object({tx_hash:r.Type.String()},{$id:"CardanoTxBodyHash"}),n.CardanoSignTxFinished=r.Type.Object({},{$id:"CardanoSignTxFinished"}),n.Success=r.Type.Object({message:r.Type.String()},{$id:"Success"}),function(e){e[e.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",e[e.Failure_ButtonExpected=2]="Failure_ButtonExpected",e[e.Failure_DataError=3]="Failure_DataError",e[e.Failure_ActionCancelled=4]="Failure_ActionCancelled",e[e.Failure_PinExpected=5]="Failure_PinExpected",e[e.Failure_PinCancelled=6]="Failure_PinCancelled",e[e.Failure_PinInvalid=7]="Failure_PinInvalid",e[e.Failure_InvalidSignature=8]="Failure_InvalidSignature",e[e.Failure_ProcessError=9]="Failure_ProcessError",e[e.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",e[e.Failure_NotInitialized=11]="Failure_NotInitialized",e[e.Failure_PinMismatch=12]="Failure_PinMismatch",e[e.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",e[e.Failure_InvalidSession=14]="Failure_InvalidSession",e[e.Failure_Busy=15]="Failure_Busy",e[e.Failure_FirmwareError=99]="Failure_FirmwareError"}(S||(n.Enum_FailureType=S={})),n.EnumEnum_FailureType=r.Type.Enum(S),n.FailureType=r.Type.KeyOfEnum(S,{$id:"FailureType"}),n.Failure=r.Type.Object({code:r.Type.Optional(n.FailureType),message:r.Type.Optional(r.Type.String())},{$id:"Failure"}),function(e){e[e.ButtonRequest_Other=1]="ButtonRequest_Other",e[e.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",e[e.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",e[e.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",e[e.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",e[e.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",e[e.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",e[e.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",e[e.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",e[e.ButtonRequest_Address=10]="ButtonRequest_Address",e[e.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",e[e.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",e[e.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",e[e._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",e[e.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",e[e.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",e[e.ButtonRequest_Success=17]="ButtonRequest_Success",e[e.ButtonRequest_Warning=18]="ButtonRequest_Warning",e[e.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",e[e.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry"}(x||(n.Enum_ButtonRequestType=x={})),n.EnumEnum_ButtonRequestType=r.Type.Enum(x),n.ButtonRequestType=r.Type.KeyOfEnum(x,{$id:"ButtonRequestType"}),n.ButtonRequest=r.Type.Object({code:r.Type.Optional(n.ButtonRequestType),pages:r.Type.Optional(r.Type.Number()),name:r.Type.Optional(r.Type.String())},{$id:"ButtonRequest"}),n.ButtonAck=r.Type.Object({},{$id:"ButtonAck"}),function(e){e[e.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",e[e.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",e[e.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",e[e.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",e[e.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond"}(E||(n.Enum_PinMatrixRequestType=E={})),n.EnumEnum_PinMatrixRequestType=r.Type.Enum(E),n.PinMatrixRequestType=r.Type.KeyOfEnum(E,{$id:"PinMatrixRequestType"}),n.PinMatrixRequest=r.Type.Object({type:r.Type.Optional(n.PinMatrixRequestType)},{$id:"PinMatrixRequest"}),n.PinMatrixAck=r.Type.Object({pin:r.Type.String()},{$id:"PinMatrixAck"}),n.PassphraseRequest=r.Type.Object({_on_device:r.Type.Optional(r.Type.Boolean())},{$id:"PassphraseRequest"}),n.PassphraseAck=r.Type.Object({passphrase:r.Type.Optional(r.Type.String()),_state:r.Type.Optional(r.Type.String()),on_device:r.Type.Optional(r.Type.Boolean())},{$id:"PassphraseAck"}),n.Deprecated_PassphraseStateRequest=r.Type.Object({state:r.Type.Optional(r.Type.String())},{$id:"Deprecated_PassphraseStateRequest"}),n.Deprecated_PassphraseStateAck=r.Type.Object({},{$id:"Deprecated_PassphraseStateAck"}),n.CipherKeyValue=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),key:r.Type.String(),value:r.Type.String(),encrypt:r.Type.Optional(r.Type.Boolean()),ask_on_encrypt:r.Type.Optional(r.Type.Boolean()),ask_on_decrypt:r.Type.Optional(r.Type.Boolean()),iv:r.Type.Optional(r.Type.String())},{$id:"CipherKeyValue"}),n.CipheredKeyValue=r.Type.Object({value:r.Type.String()},{$id:"CipheredKeyValue"}),n.IdentityType=r.Type.Object({proto:r.Type.Optional(r.Type.String()),user:r.Type.Optional(r.Type.String()),host:r.Type.Optional(r.Type.String()),port:r.Type.Optional(r.Type.String()),path:r.Type.Optional(r.Type.String()),index:r.Type.Optional(r.Type.Number())},{$id:"IdentityType"}),n.SignIdentity=r.Type.Object({identity:n.IdentityType,challenge_hidden:r.Type.Optional(r.Type.String()),challenge_visual:r.Type.Optional(r.Type.String()),ecdsa_curve_name:r.Type.Optional(r.Type.String())},{$id:"SignIdentity"}),n.SignedIdentity=r.Type.Object({address:r.Type.String(),public_key:r.Type.String(),signature:r.Type.String()},{$id:"SignedIdentity"}),n.GetECDHSessionKey=r.Type.Object({identity:n.IdentityType,peer_public_key:r.Type.String(),ecdsa_curve_name:r.Type.Optional(r.Type.String())},{$id:"GetECDHSessionKey"}),n.ECDHSessionKey=r.Type.Object({session_key:r.Type.String(),public_key:r.Type.Optional(r.Type.String())},{$id:"ECDHSessionKey"}),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.INFO=2]="INFO"}(P||(n.DebugButton=P={})),n.EnumDebugButton=r.Type.Enum(P),function(e){e[e.LEFT_BTN=0]="LEFT_BTN",e[e.MIDDLE_BTN=1]="MIDDLE_BTN",e[e.RIGHT_BTN=2]="RIGHT_BTN"}(I||(n.DebugPhysicalButton=I={})),n.EnumDebugPhysicalButton=r.Type.Enum(I),function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.NEXT_LAYOUT=1]="NEXT_LAYOUT",e[e.CURRENT_LAYOUT=2]="CURRENT_LAYOUT"}(j||(n.DebugWaitType=j={})),n.EnumDebugWaitType=r.Type.Enum(j),n.DebugLinkResetDebugEvents=r.Type.Object({},{$id:"DebugLinkResetDebugEvents"}),n.DebugLinkOptigaSetSecMax=r.Type.Object({},{$id:"DebugLinkOptigaSetSecMax"}),function(e){e[e.ETHEREUM_NETWORK=0]="ETHEREUM_NETWORK",e[e.ETHEREUM_TOKEN=1]="ETHEREUM_TOKEN",e[e.SOLANA_TOKEN=2]="SOLANA_TOKEN"}(A||(n.DefinitionType=A={})),n.EnumDefinitionType=r.Type.Enum(A),n.EthereumNetworkInfo=r.Type.Object({chain_id:r.Type.Number(),symbol:r.Type.String(),slip44:r.Type.Number(),name:r.Type.String()},{$id:"EthereumNetworkInfo"}),n.EthereumTokenInfo=r.Type.Object({address:r.Type.String(),chain_id:r.Type.Number(),symbol:r.Type.String(),decimals:r.Type.Number(),name:r.Type.String()},{$id:"EthereumTokenInfo"}),n.SolanaTokenInfo=r.Type.Object({mint:r.Type.String(),symbol:r.Type.String(),name:r.Type.String()},{$id:"SolanaTokenInfo"}),n.EosGetPublicKey=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EosGetPublicKey"}),n.EosPublicKey=r.Type.Object({wif_public_key:r.Type.String(),raw_public_key:r.Type.String()},{$id:"EosPublicKey"}),n.EosTxHeader=r.Type.Object({expiration:r.Type.Number(),ref_block_num:r.Type.Number(),ref_block_prefix:r.Type.Number(),max_net_usage_words:r.Type.Number(),max_cpu_usage_ms:r.Type.Number(),delay_sec:r.Type.Number()},{$id:"EosTxHeader"}),n.EosSignTx=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),chain_id:r.Type.String(),header:n.EosTxHeader,num_actions:r.Type.Number(),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EosSignTx"}),n.EosTxActionRequest=r.Type.Object({data_size:r.Type.Optional(r.Type.Number())},{$id:"EosTxActionRequest"}),n.EosAsset=r.Type.Object({amount:r.Type.Uint(),symbol:r.Type.String()},{$id:"EosAsset"}),n.EosPermissionLevel=r.Type.Object({actor:r.Type.String(),permission:r.Type.String()},{$id:"EosPermissionLevel"}),n.EosAuthorizationKey=r.Type.Object({type:r.Type.Optional(r.Type.Number()),key:r.Type.String(),address_n:r.Type.Optional(r.Type.Array(r.Type.Number())),weight:r.Type.Number()},{$id:"EosAuthorizationKey"}),n.EosAuthorizationAccount=r.Type.Object({account:n.EosPermissionLevel,weight:r.Type.Number()},{$id:"EosAuthorizationAccount"}),n.EosAuthorizationWait=r.Type.Object({wait_sec:r.Type.Number(),weight:r.Type.Number()},{$id:"EosAuthorizationWait"}),n.EosAuthorization=r.Type.Object({threshold:r.Type.Number(),keys:r.Type.Array(n.EosAuthorizationKey),accounts:r.Type.Array(n.EosAuthorizationAccount),waits:r.Type.Array(n.EosAuthorizationWait)},{$id:"EosAuthorization"}),n.EosActionCommon=r.Type.Object({account:r.Type.String(),name:r.Type.String(),authorization:r.Type.Array(n.EosPermissionLevel)},{$id:"EosActionCommon"}),n.EosActionTransfer=r.Type.Object({sender:r.Type.String(),receiver:r.Type.String(),quantity:n.EosAsset,memo:r.Type.String()},{$id:"EosActionTransfer"}),n.EosActionDelegate=r.Type.Object({sender:r.Type.String(),receiver:r.Type.String(),net_quantity:n.EosAsset,cpu_quantity:n.EosAsset,transfer:r.Type.Boolean()},{$id:"EosActionDelegate"}),n.EosActionUndelegate=r.Type.Object({sender:r.Type.String(),receiver:r.Type.String(),net_quantity:n.EosAsset,cpu_quantity:n.EosAsset},{$id:"EosActionUndelegate"}),n.EosActionRefund=r.Type.Object({owner:r.Type.String()},{$id:"EosActionRefund"}),n.EosActionBuyRam=r.Type.Object({payer:r.Type.String(),receiver:r.Type.String(),quantity:n.EosAsset},{$id:"EosActionBuyRam"}),n.EosActionBuyRamBytes=r.Type.Object({payer:r.Type.String(),receiver:r.Type.String(),bytes:r.Type.Number()},{$id:"EosActionBuyRamBytes"}),n.EosActionSellRam=r.Type.Object({account:r.Type.String(),bytes:r.Type.Number()},{$id:"EosActionSellRam"}),n.EosActionVoteProducer=r.Type.Object({voter:r.Type.String(),proxy:r.Type.String(),producers:r.Type.Array(r.Type.String())},{$id:"EosActionVoteProducer"}),n.EosActionUpdateAuth=r.Type.Object({account:r.Type.String(),permission:r.Type.String(),parent:r.Type.String(),auth:n.EosAuthorization},{$id:"EosActionUpdateAuth"}),n.EosActionDeleteAuth=r.Type.Object({account:r.Type.String(),permission:r.Type.String()},{$id:"EosActionDeleteAuth"}),n.EosActionLinkAuth=r.Type.Object({account:r.Type.String(),code:r.Type.String(),type:r.Type.String(),requirement:r.Type.String()},{$id:"EosActionLinkAuth"}),n.EosActionUnlinkAuth=r.Type.Object({account:r.Type.String(),code:r.Type.String(),type:r.Type.String()},{$id:"EosActionUnlinkAuth"}),n.EosActionNewAccount=r.Type.Object({creator:r.Type.String(),name:r.Type.String(),owner:n.EosAuthorization,active:n.EosAuthorization},{$id:"EosActionNewAccount"}),n.EosActionUnknown=r.Type.Object({data_size:r.Type.Number(),data_chunk:r.Type.String()},{$id:"EosActionUnknown"}),n.EosTxActionAck=r.Type.Object({common:n.EosActionCommon,transfer:r.Type.Optional(n.EosActionTransfer),delegate:r.Type.Optional(n.EosActionDelegate),undelegate:r.Type.Optional(n.EosActionUndelegate),refund:r.Type.Optional(n.EosActionRefund),buy_ram:r.Type.Optional(n.EosActionBuyRam),buy_ram_bytes:r.Type.Optional(n.EosActionBuyRamBytes),sell_ram:r.Type.Optional(n.EosActionSellRam),vote_producer:r.Type.Optional(n.EosActionVoteProducer),update_auth:r.Type.Optional(n.EosActionUpdateAuth),delete_auth:r.Type.Optional(n.EosActionDeleteAuth),link_auth:r.Type.Optional(n.EosActionLinkAuth),unlink_auth:r.Type.Optional(n.EosActionUnlinkAuth),new_account:r.Type.Optional(n.EosActionNewAccount),unknown:r.Type.Optional(n.EosActionUnknown)},{$id:"EosTxActionAck"}),n.EosSignedTx=r.Type.Object({signature:r.Type.String()},{$id:"EosSignedTx"}),n.EthereumDefinitions=r.Type.Object({encoded_network:r.Type.Optional(r.Type.ArrayBuffer()),encoded_token:r.Type.Optional(r.Type.ArrayBuffer())},{$id:"EthereumDefinitions"}),n.EthereumSignTypedData=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),primary_type:r.Type.String(),metamask_v4_compat:r.Type.Optional(r.Type.Boolean()),definitions:r.Type.Optional(n.EthereumDefinitions)},{$id:"EthereumSignTypedData"}),n.EthereumTypedDataStructRequest=r.Type.Object({name:r.Type.String()},{$id:"EthereumTypedDataStructRequest"}),function(e){e[e.UINT=1]="UINT",e[e.INT=2]="INT",e[e.BYTES=3]="BYTES",e[e.STRING=4]="STRING",e[e.BOOL=5]="BOOL",e[e.ADDRESS=6]="ADDRESS",e[e.ARRAY=7]="ARRAY",e[e.STRUCT=8]="STRUCT"}(k||(n.EthereumDataType=k={})),n.EnumEthereumDataType=r.Type.Enum(k),n.EthereumFieldType=r.Type.Recursive(e=>r.Type.Object({data_type:n.EnumEthereumDataType,size:r.Type.Optional(r.Type.Number()),entry_type:r.Type.Optional(e),struct_name:r.Type.Optional(r.Type.String())}),{$id:"EthereumFieldType"}),n.EthereumStructMember=r.Type.Object({type:n.EthereumFieldType,name:r.Type.String()},{$id:"EthereumStructMember"}),n.EthereumTypedDataStructAck=r.Type.Object({members:r.Type.Array(n.EthereumStructMember)},{$id:"EthereumTypedDataStructAck"}),n.EthereumTypedDataValueRequest=r.Type.Object({member_path:r.Type.Array(r.Type.Number())},{$id:"EthereumTypedDataValueRequest"}),n.EthereumTypedDataValueAck=r.Type.Object({value:r.Type.String()},{$id:"EthereumTypedDataValueAck"}),n.EthereumGetPublicKey=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean())},{$id:"EthereumGetPublicKey"}),n.EthereumPublicKey=r.Type.Object({node:n.HDNodeType,xpub:r.Type.String()},{$id:"EthereumPublicKey"}),n.EthereumGetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),encoded_network:r.Type.Optional(r.Type.ArrayBuffer()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EthereumGetAddress"}),n.EthereumAddress=r.Type.Object({_old_address:r.Type.Optional(r.Type.String()),address:r.Type.String()},{$id:"EthereumAddress"}),n.EthereumSignTx=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),nonce:r.Type.Optional(r.Type.String()),gas_price:r.Type.String(),gas_limit:r.Type.String(),to:r.Type.Optional(r.Type.String()),value:r.Type.Optional(r.Type.String()),data_initial_chunk:r.Type.Optional(r.Type.String()),data_length:r.Type.Optional(r.Type.Number()),chain_id:r.Type.Number(),tx_type:r.Type.Optional(r.Type.Number()),definitions:r.Type.Optional(n.EthereumDefinitions),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EthereumSignTx"}),n.EthereumAccessList=r.Type.Object({address:r.Type.String(),storage_keys:r.Type.Array(r.Type.String())},{$id:"EthereumAccessList"}),n.EthereumSignTxEIP1559=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),nonce:r.Type.String(),max_gas_fee:r.Type.String(),max_priority_fee:r.Type.String(),gas_limit:r.Type.String(),to:r.Type.Optional(r.Type.String()),value:r.Type.String(),data_initial_chunk:r.Type.Optional(r.Type.String()),data_length:r.Type.Number(),chain_id:r.Type.Number(),access_list:r.Type.Array(n.EthereumAccessList),definitions:r.Type.Optional(n.EthereumDefinitions),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EthereumSignTxEIP1559"}),n.EthereumTxRequest=r.Type.Object({data_length:r.Type.Optional(r.Type.Number()),signature_v:r.Type.Optional(r.Type.Number()),signature_r:r.Type.Optional(r.Type.String()),signature_s:r.Type.Optional(r.Type.String())},{$id:"EthereumTxRequest"}),n.EthereumTxAck=r.Type.Object({data_chunk:r.Type.String()},{$id:"EthereumTxAck"}),n.EthereumSignMessage=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),message:r.Type.String(),encoded_network:r.Type.Optional(r.Type.ArrayBuffer()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EthereumSignMessage"}),n.EthereumMessageSignature=r.Type.Object({signature:r.Type.String(),address:r.Type.String()},{$id:"EthereumMessageSignature"}),n.EthereumVerifyMessage=r.Type.Object({signature:r.Type.String(),message:r.Type.String(),address:r.Type.String(),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"EthereumVerifyMessage"}),n.EthereumSignTypedHash=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),domain_separator_hash:r.Type.String(),message_hash:r.Type.Optional(r.Type.String()),encoded_network:r.Type.Optional(r.Type.ArrayBuffer())},{$id:"EthereumSignTypedHash"}),n.EthereumTypedDataSignature=r.Type.Object({signature:r.Type.String(),address:r.Type.String()},{$id:"EthereumTypedDataSignature"}),function(e){e[e.Bip39=0]="Bip39",e[e.Slip39_Basic=1]="Slip39_Basic",e[e.Slip39_Advanced=2]="Slip39_Advanced",e[e.Slip39_Single_Extendable=3]="Slip39_Single_Extendable",e[e.Slip39_Basic_Extendable=4]="Slip39_Basic_Extendable",e[e.Slip39_Advanced_Extendable=5]="Slip39_Advanced_Extendable"}(M||(n.Enum_BackupType=M={})),n.EnumEnum_BackupType=r.Type.Enum(M),n.BackupType=r.Type.KeyOfEnum(M,{$id:"BackupType"}),function(e){e[e.Strict=0]="Strict",e[e.PromptAlways=1]="PromptAlways",e[e.PromptTemporarily=2]="PromptTemporarily"}(C||(n.Enum_SafetyCheckLevel=C={})),n.EnumEnum_SafetyCheckLevel=r.Type.Enum(C),n.SafetyCheckLevel=r.Type.KeyOfEnum(C,{$id:"SafetyCheckLevel"}),function(e){e[e.North=0]="North",e[e.East=90]="East",e[e.South=180]="South",e[e.West=270]="West"}(R||(n.Enum_DisplayRotation=R={})),n.EnumEnum_DisplayRotation=r.Type.Enum(R),n.DisplayRotation=r.Type.KeyOfEnum(R,{$id:"DisplayRotation"}),function(e){e[e.Toif=1]="Toif",e[e.Jpeg=2]="Jpeg",e[e.ToiG=3]="ToiG"}(N||(n.Enum_HomescreenFormat=N={})),n.EnumEnum_HomescreenFormat=r.Type.Enum(N),n.HomescreenFormat=r.Type.KeyOfEnum(N,{$id:"HomescreenFormat"}),n.Initialize=r.Type.Object({session_id:r.Type.Optional(r.Type.String()),_skip_passphrase:r.Type.Optional(r.Type.Boolean()),derive_cardano:r.Type.Optional(r.Type.Boolean())},{$id:"Initialize"}),n.GetFeatures=r.Type.Object({},{$id:"GetFeatures"}),function(e){e[e.NotAvailable=0]="NotAvailable",e[e.Required=1]="Required",e[e.Available=2]="Available"}(z||(n.Enum_BackupAvailability=z={})),n.EnumEnum_BackupAvailability=r.Type.Enum(z),n.BackupAvailability=r.Type.KeyOfEnum(z,{$id:"BackupAvailability"}),function(e){e[e.Nothing=0]="Nothing",e[e.Recovery=1]="Recovery",e[e.Backup=2]="Backup"}(D||(n.Enum_RecoveryStatus=D={})),n.EnumEnum_RecoveryStatus=r.Type.Enum(D),n.RecoveryStatus=r.Type.KeyOfEnum(D,{$id:"RecoveryStatus"}),function(e){e[e.Capability_Bitcoin=1]="Capability_Bitcoin",e[e.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",e[e.Capability_Binance=3]="Capability_Binance",e[e.Capability_Cardano=4]="Capability_Cardano",e[e.Capability_Crypto=5]="Capability_Crypto",e[e.Capability_EOS=6]="Capability_EOS",e[e.Capability_Ethereum=7]="Capability_Ethereum",e[e.Capability_Lisk=8]="Capability_Lisk",e[e.Capability_Monero=9]="Capability_Monero",e[e.Capability_NEM=10]="Capability_NEM",e[e.Capability_Ripple=11]="Capability_Ripple",e[e.Capability_Stellar=12]="Capability_Stellar",e[e.Capability_Tezos=13]="Capability_Tezos",e[e.Capability_U2F=14]="Capability_U2F",e[e.Capability_Shamir=15]="Capability_Shamir",e[e.Capability_ShamirGroups=16]="Capability_ShamirGroups",e[e.Capability_PassphraseEntry=17]="Capability_PassphraseEntry",e[e.Capability_Solana=18]="Capability_Solana",e[e.Capability_Translations=19]="Capability_Translations",e[e.Capability_Brightness=20]="Capability_Brightness",e[e.Capability_Haptic=21]="Capability_Haptic",e[e.Capability_BLE=22]="Capability_BLE",e[e.Capability_NFC=23]="Capability_NFC"}(U||(n.Enum_Capability=U={})),n.EnumEnum_Capability=r.Type.Enum(U),n.Capability=r.Type.KeyOfEnum(U,{$id:"Capability"}),function(e){e[e.ScrambledWords=0]="ScrambledWords",e[e.Matrix=1]="Matrix"}(B||(n.RecoveryDeviceInputMethod=B={})),n.EnumRecoveryDeviceInputMethod=r.Type.Enum(B),function(e){e[e.NormalRecovery=0]="NormalRecovery",e[e.DryRun=1]="DryRun",e[e.UnlockRepeatedBackup=2]="UnlockRepeatedBackup"}(L||(n.Enum_RecoveryType=L={})),n.EnumEnum_RecoveryType=r.Type.Enum(L),n.RecoveryType=r.Type.KeyOfEnum(L,{$id:"RecoveryType"}),n.RecoveryDevice=r.Type.Object({word_count:r.Type.Optional(r.Type.Number()),passphrase_protection:r.Type.Optional(r.Type.Boolean()),pin_protection:r.Type.Optional(r.Type.Boolean()),language:r.Type.Optional(r.Type.String()),label:r.Type.Optional(r.Type.String()),enforce_wordlist:r.Type.Optional(r.Type.Boolean()),input_method:r.Type.Optional(n.EnumRecoveryDeviceInputMethod),u2f_counter:r.Type.Optional(r.Type.Number()),type:r.Type.Optional(n.RecoveryType)},{$id:"RecoveryDevice"}),n.Features=r.Type.Object({vendor:r.Type.String(),major_version:r.Type.Number(),minor_version:r.Type.Number(),patch_version:r.Type.Number(),bootloader_mode:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),device_id:r.Type.Union([r.Type.String(),r.Type.Null()]),pin_protection:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),passphrase_protection:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),language:r.Type.Union([r.Type.String(),r.Type.Null()]),label:r.Type.Union([r.Type.String(),r.Type.Null()]),initialized:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),revision:r.Type.Union([r.Type.String(),r.Type.Null()]),bootloader_hash:r.Type.Union([r.Type.String(),r.Type.Null()]),imported:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),unlocked:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),_passphrase_cached:r.Type.Optional(r.Type.Boolean()),firmware_present:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),backup_availability:r.Type.Union([n.BackupAvailability,r.Type.Null()]),flags:r.Type.Union([r.Type.Number(),r.Type.Null()]),model:r.Type.String(),fw_major:r.Type.Union([r.Type.Number(),r.Type.Null()]),fw_minor:r.Type.Union([r.Type.Number(),r.Type.Null()]),fw_patch:r.Type.Union([r.Type.Number(),r.Type.Null()]),fw_vendor:r.Type.Union([r.Type.String(),r.Type.Null()]),unfinished_backup:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),no_backup:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),recovery_status:r.Type.Union([n.RecoveryStatus,r.Type.Null()]),capabilities:r.Type.Array(n.Capability),backup_type:r.Type.Union([n.BackupType,r.Type.Null()]),sd_card_present:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),sd_protection:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),wipe_code_protection:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),session_id:r.Type.Union([r.Type.String(),r.Type.Null()]),passphrase_always_on_device:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),safety_checks:r.Type.Union([n.SafetyCheckLevel,r.Type.Null()]),auto_lock_delay_ms:r.Type.Union([r.Type.Number(),r.Type.Null()]),display_rotation:r.Type.Union([n.DisplayRotation,r.Type.Null()]),experimental_features:r.Type.Union([r.Type.Boolean(),r.Type.Null()]),busy:r.Type.Optional(r.Type.Boolean()),homescreen_format:r.Type.Optional(n.HomescreenFormat),hide_passphrase_from_host:r.Type.Optional(r.Type.Boolean()),internal_model:n.EnumDeviceModelInternal,unit_color:r.Type.Optional(r.Type.Number()),unit_btconly:r.Type.Optional(r.Type.Boolean()),homescreen_width:r.Type.Optional(r.Type.Number()),homescreen_height:r.Type.Optional(r.Type.Number()),bootloader_locked:r.Type.Optional(r.Type.Boolean()),language_version_matches:r.Type.Optional(r.Type.Boolean()),unit_packaging:r.Type.Optional(r.Type.Number()),haptic_feedback:r.Type.Optional(r.Type.Boolean()),recovery_type:r.Type.Optional(n.RecoveryType),optiga_sec:r.Type.Optional(r.Type.Number())},{$id:"Features"}),n.LockDevice=r.Type.Object({},{$id:"LockDevice"}),n.SetBusy=r.Type.Object({expiry_ms:r.Type.Optional(r.Type.Number())},{$id:"SetBusy"}),n.EndSession=r.Type.Object({},{$id:"EndSession"}),n.ApplySettings=r.Type.Object({language:r.Type.Optional(r.Type.String()),label:r.Type.Optional(r.Type.String()),use_passphrase:r.Type.Optional(r.Type.Boolean()),homescreen:r.Type.Optional(r.Type.String()),_passphrase_source:r.Type.Optional(r.Type.Number()),auto_lock_delay_ms:r.Type.Optional(r.Type.Number()),display_rotation:r.Type.Optional(r.Type.Union([n.DisplayRotation,n.EnumEnum_DisplayRotation])),passphrase_always_on_device:r.Type.Optional(r.Type.Boolean()),safety_checks:r.Type.Optional(n.SafetyCheckLevel),experimental_features:r.Type.Optional(r.Type.Boolean()),hide_passphrase_from_host:r.Type.Optional(r.Type.Boolean()),haptic_feedback:r.Type.Optional(r.Type.Boolean())},{$id:"ApplySettings"}),n.ChangeLanguage=r.Type.Object({data_length:r.Type.Number(),show_display:r.Type.Optional(r.Type.Boolean())},{$id:"ChangeLanguage"}),n.TranslationDataRequest=r.Type.Object({data_length:r.Type.Number(),data_offset:r.Type.Number()},{$id:"TranslationDataRequest"}),n.TranslationDataAck=r.Type.Object({data_chunk:r.Type.String()},{$id:"TranslationDataAck"}),n.ApplyFlags=r.Type.Object({flags:r.Type.Number()},{$id:"ApplyFlags"}),n.ChangePin=r.Type.Object({remove:r.Type.Optional(r.Type.Boolean())},{$id:"ChangePin"}),n.ChangeWipeCode=r.Type.Object({remove:r.Type.Optional(r.Type.Boolean())},{$id:"ChangeWipeCode"}),function(e){e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.REFRESH=2]="REFRESH"}(F||(n.SdProtectOperationType=F={})),n.EnumSdProtectOperationType=r.Type.Enum(F),n.SdProtect=r.Type.Object({operation:n.EnumSdProtectOperationType},{$id:"SdProtect"}),n.Ping=r.Type.Object({message:r.Type.Optional(r.Type.String()),button_protection:r.Type.Optional(r.Type.Boolean())},{$id:"Ping"}),n.Cancel=r.Type.Object({},{$id:"Cancel"}),n.GetEntropy=r.Type.Object({size:r.Type.Number()},{$id:"GetEntropy"}),n.Entropy=r.Type.Object({entropy:r.Type.String()},{$id:"Entropy"}),n.GetFirmwareHash=r.Type.Object({challenge:r.Type.Optional(r.Type.String())},{$id:"GetFirmwareHash"}),n.FirmwareHash=r.Type.Object({hash:r.Type.String()},{$id:"FirmwareHash"}),n.AuthenticateDevice=r.Type.Object({challenge:r.Type.String()},{$id:"AuthenticateDevice"}),n.AuthenticityProof=r.Type.Object({certificates:r.Type.Array(r.Type.String()),signature:r.Type.String()},{$id:"AuthenticityProof"}),n.WipeDevice=r.Type.Object({},{$id:"WipeDevice"}),n.LoadDevice=r.Type.Object({mnemonics:r.Type.Array(r.Type.String()),pin:r.Type.Optional(r.Type.String()),passphrase_protection:r.Type.Optional(r.Type.Boolean()),language:r.Type.Optional(r.Type.String()),label:r.Type.Optional(r.Type.String()),skip_checksum:r.Type.Optional(r.Type.Boolean()),u2f_counter:r.Type.Optional(r.Type.Number()),needs_backup:r.Type.Optional(r.Type.Boolean()),no_backup:r.Type.Optional(r.Type.Boolean())},{$id:"LoadDevice"}),n.ResetDevice=r.Type.Object({strength:r.Type.Optional(r.Type.Number()),passphrase_protection:r.Type.Optional(r.Type.Boolean()),pin_protection:r.Type.Optional(r.Type.Boolean()),language:r.Type.Optional(r.Type.String()),label:r.Type.Optional(r.Type.String()),u2f_counter:r.Type.Optional(r.Type.Number()),skip_backup:r.Type.Optional(r.Type.Boolean()),no_backup:r.Type.Optional(r.Type.Boolean()),backup_type:r.Type.Optional(n.EnumEnum_BackupType),entropy_check:r.Type.Optional(r.Type.Boolean())},{$id:"ResetDevice"}),n.Slip39Group=r.Type.Object({member_threshold:r.Type.Number(),member_count:r.Type.Number()},{$id:"Slip39Group"}),n.BackupDevice=r.Type.Object({group_threshold:r.Type.Optional(r.Type.Number()),groups:r.Type.Optional(r.Type.Array(n.Slip39Group))},{$id:"BackupDevice"}),n.EntropyRequest=r.Type.Object({entropy_commitment:r.Type.Optional(r.Type.String()),prev_entropy:r.Type.Optional(r.Type.String())},{$id:"EntropyRequest"}),n.EntropyAck=r.Type.Object({entropy:r.Type.String()},{$id:"EntropyAck"}),n.EntropyCheckReady=r.Type.Object({},{$id:"EntropyCheckReady"}),n.EntropyCheckContinue=r.Type.Object({finish:r.Type.Optional(r.Type.Boolean())},{$id:"EntropyCheckContinue"}),function(e){e[e.WordRequestType_Plain=0]="WordRequestType_Plain",e[e.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",e[e.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"}(G||(n.Enum_WordRequestType=G={})),n.EnumEnum_WordRequestType=r.Type.Enum(G),n.WordRequestType=r.Type.KeyOfEnum(G,{$id:"WordRequestType"}),n.WordRequest=r.Type.Object({type:n.WordRequestType},{$id:"WordRequest"}),n.WordAck=r.Type.Object({word:r.Type.String()},{$id:"WordAck"}),n.SetU2FCounter=r.Type.Object({u2f_counter:r.Type.Number()},{$id:"SetU2FCounter"}),n.GetNextU2FCounter=r.Type.Object({},{$id:"GetNextU2FCounter"}),n.NextU2FCounter=r.Type.Object({u2f_counter:r.Type.Number()},{$id:"NextU2FCounter"}),n.DoPreauthorized=r.Type.Object({},{$id:"DoPreauthorized"}),n.PreauthorizedRequest=r.Type.Object({},{$id:"PreauthorizedRequest"}),n.CancelAuthorization=r.Type.Object({},{$id:"CancelAuthorization"}),function(e){e[e.STOP_AND_WAIT=0]="STOP_AND_WAIT",e[e.INSTALL_UPGRADE=1]="INSTALL_UPGRADE"}($||(n.BootCommand=$={})),n.EnumBootCommand=r.Type.Enum($),n.RebootToBootloader=r.Type.Object({boot_command:r.Type.Optional(n.EnumBootCommand),firmware_header:r.Type.Optional(r.Type.String()),language_data_length:r.Type.Optional(r.Type.Number())},{$id:"RebootToBootloader"}),n.GetNonce=r.Type.Object({},{$id:"GetNonce"}),n.Nonce=r.Type.Object({nonce:r.Type.String()},{$id:"Nonce"}),n.UnlockPath=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),mac:r.Type.Optional(r.Type.String())},{$id:"UnlockPath"}),n.UnlockedPathRequest=r.Type.Object({mac:r.Type.String()},{$id:"UnlockedPathRequest"}),n.ShowDeviceTutorial=r.Type.Object({},{$id:"ShowDeviceTutorial"}),n.UnlockBootloader=r.Type.Object({},{$id:"UnlockBootloader"}),n.SetBrightness=r.Type.Object({value:r.Type.Optional(r.Type.Number())},{$id:"SetBrightness"}),n.NEMGetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),network:r.Type.Optional(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"NEMGetAddress"}),n.NEMAddress=r.Type.Object({address:r.Type.String()},{$id:"NEMAddress"}),n.NEMTransactionCommon=r.Type.Object({address_n:r.Type.Optional(r.Type.Array(r.Type.Number())),network:r.Type.Optional(r.Type.Number()),timestamp:r.Type.Number(),fee:r.Type.Uint(),deadline:r.Type.Number(),signer:r.Type.Optional(r.Type.String())},{$id:"NEMTransactionCommon"}),n.NEMMosaic=r.Type.Object({namespace:r.Type.String(),mosaic:r.Type.String(),quantity:r.Type.Number()},{$id:"NEMMosaic"}),n.NEMTransfer=r.Type.Object({recipient:r.Type.String(),amount:r.Type.Uint(),payload:r.Type.Optional(r.Type.String()),public_key:r.Type.Optional(r.Type.String()),mosaics:r.Type.Optional(r.Type.Array(n.NEMMosaic))},{$id:"NEMTransfer"}),n.NEMProvisionNamespace=r.Type.Object({namespace:r.Type.String(),parent:r.Type.Optional(r.Type.String()),sink:r.Type.String(),fee:r.Type.Uint()},{$id:"NEMProvisionNamespace"}),function(e){e[e.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",e[e.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"}(q||(n.NEMMosaicLevy=q={})),n.EnumNEMMosaicLevy=r.Type.Enum(q),n.NEMMosaicDefinition=r.Type.Object({name:r.Type.Optional(r.Type.String()),ticker:r.Type.Optional(r.Type.String()),namespace:r.Type.String(),mosaic:r.Type.String(),divisibility:r.Type.Optional(r.Type.Number()),levy:r.Type.Optional(n.EnumNEMMosaicLevy),fee:r.Type.Optional(r.Type.Uint()),levy_address:r.Type.Optional(r.Type.String()),levy_namespace:r.Type.Optional(r.Type.String()),levy_mosaic:r.Type.Optional(r.Type.String()),supply:r.Type.Optional(r.Type.Number()),mutable_supply:r.Type.Optional(r.Type.Boolean()),transferable:r.Type.Optional(r.Type.Boolean()),description:r.Type.String(),networks:r.Type.Optional(r.Type.Array(r.Type.Number()))},{$id:"NEMMosaicDefinition"}),n.NEMMosaicCreation=r.Type.Object({definition:n.NEMMosaicDefinition,sink:r.Type.String(),fee:r.Type.Uint()},{$id:"NEMMosaicCreation"}),function(e){e[e.SupplyChange_Increase=1]="SupplyChange_Increase",e[e.SupplyChange_Decrease=2]="SupplyChange_Decrease"}(H||(n.NEMSupplyChangeType=H={})),n.EnumNEMSupplyChangeType=r.Type.Enum(H),n.NEMMosaicSupplyChange=r.Type.Object({namespace:r.Type.String(),mosaic:r.Type.String(),type:n.EnumNEMSupplyChangeType,delta:r.Type.Number()},{$id:"NEMMosaicSupplyChange"}),function(e){e[e.CosignatoryModification_Add=1]="CosignatoryModification_Add",e[e.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"}(W||(n.NEMModificationType=W={})),n.EnumNEMModificationType=r.Type.Enum(W),n.NEMCosignatoryModification=r.Type.Object({type:n.EnumNEMModificationType,public_key:r.Type.String()},{$id:"NEMCosignatoryModification"}),n.NEMAggregateModification=r.Type.Object({modifications:r.Type.Optional(r.Type.Array(n.NEMCosignatoryModification)),relative_change:r.Type.Optional(r.Type.Number())},{$id:"NEMAggregateModification"}),function(e){e[e.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",e[e.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"}(K||(n.NEMImportanceTransferMode=K={})),n.EnumNEMImportanceTransferMode=r.Type.Enum(K),n.NEMImportanceTransfer=r.Type.Object({mode:n.EnumNEMImportanceTransferMode,public_key:r.Type.String()},{$id:"NEMImportanceTransfer"}),n.NEMSignTx=r.Type.Object({transaction:n.NEMTransactionCommon,multisig:r.Type.Optional(n.NEMTransactionCommon),transfer:r.Type.Optional(n.NEMTransfer),cosigning:r.Type.Optional(r.Type.Boolean()),provision_namespace:r.Type.Optional(n.NEMProvisionNamespace),mosaic_creation:r.Type.Optional(n.NEMMosaicCreation),supply_change:r.Type.Optional(n.NEMMosaicSupplyChange),aggregate_modification:r.Type.Optional(n.NEMAggregateModification),importance_transfer:r.Type.Optional(n.NEMImportanceTransfer),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"NEMSignTx"}),n.NEMSignedTx=r.Type.Object({data:r.Type.String(),signature:r.Type.String()},{$id:"NEMSignedTx"}),n.NEMDecryptMessage=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),network:r.Type.Optional(r.Type.Number()),public_key:r.Type.Optional(r.Type.String()),payload:r.Type.Optional(r.Type.String())},{$id:"NEMDecryptMessage"}),n.NEMDecryptedMessage=r.Type.Object({payload:r.Type.String()},{$id:"NEMDecryptedMessage"}),n.RippleGetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"RippleGetAddress"}),n.RippleAddress=r.Type.Object({address:r.Type.String()},{$id:"RippleAddress"}),n.RipplePayment=r.Type.Object({amount:r.Type.Uint(),destination:r.Type.String(),destination_tag:r.Type.Optional(r.Type.Number())},{$id:"RipplePayment"}),n.RippleSignTx=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),fee:r.Type.Uint(),flags:r.Type.Optional(r.Type.Number()),sequence:r.Type.Number(),last_ledger_sequence:r.Type.Optional(r.Type.Number()),payment:n.RipplePayment,chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"RippleSignTx"}),n.RippleSignedTx=r.Type.Object({signature:r.Type.String(),serialized_tx:r.Type.String()},{$id:"RippleSignedTx"}),n.SolanaGetPublicKey=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean())},{$id:"SolanaGetPublicKey"}),n.SolanaPublicKey=r.Type.Object({public_key:r.Type.String()},{$id:"SolanaPublicKey"}),n.SolanaGetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"SolanaGetAddress"}),n.SolanaAddress=r.Type.Object({address:r.Type.String()},{$id:"SolanaAddress"}),n.SolanaTxTokenAccountInfo=r.Type.Object({base_address:r.Type.String(),token_program:r.Type.String(),token_mint:r.Type.String(),token_account:r.Type.String()},{$id:"SolanaTxTokenAccountInfo"}),n.SolanaTxAdditionalInfo=r.Type.Object({token_accounts_infos:r.Type.Array(n.SolanaTxTokenAccountInfo),encoded_token:r.Type.Optional(r.Type.ArrayBuffer())},{$id:"SolanaTxAdditionalInfo"}),n.SolanaSignTx=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),serialized_tx:r.Type.String(),additional_info:r.Type.Optional(n.SolanaTxAdditionalInfo)},{$id:"SolanaSignTx"}),n.SolanaTxSignature=r.Type.Object({signature:r.Type.String()},{$id:"SolanaTxSignature"}),function(e){e[e.NATIVE=0]="NATIVE",e[e.ALPHANUM4=1]="ALPHANUM4",e[e.ALPHANUM12=2]="ALPHANUM12"}(V||(n.StellarAssetType=V={})),n.EnumStellarAssetType=r.Type.Enum(V),n.StellarAsset=r.Type.Object({type:r.Type.Union([r.Type.Literal(0),r.Type.Literal(1),r.Type.Literal(2),r.Type.Literal("NATIVE"),r.Type.Literal("ALPHANUM4"),r.Type.Literal("ALPHANUM12")]),code:r.Type.Optional(r.Type.String()),issuer:r.Type.Optional(r.Type.String())},{$id:"StellarAsset"}),n.StellarGetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"StellarGetAddress"}),n.StellarAddress=r.Type.Object({address:r.Type.String()},{$id:"StellarAddress"}),function(e){e[e.NONE=0]="NONE",e[e.TEXT=1]="TEXT",e[e.ID=2]="ID",e[e.HASH=3]="HASH",e[e.RETURN=4]="RETURN"}(Y||(n.StellarMemoType=Y={})),n.EnumStellarMemoType=r.Type.Enum(Y),n.StellarSignTx=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),network_passphrase:r.Type.String(),source_account:r.Type.String(),fee:r.Type.Uint(),sequence_number:r.Type.Uint(),timebounds_start:r.Type.Number(),timebounds_end:r.Type.Number(),memo_type:n.EnumStellarMemoType,memo_text:r.Type.Optional(r.Type.String()),memo_id:r.Type.Optional(r.Type.Uint()),memo_hash:r.Type.Optional(r.Type.Union([r.Type.Buffer(),r.Type.String()])),num_operations:r.Type.Number()},{$id:"StellarSignTx"}),n.StellarTxOpRequest=r.Type.Object({},{$id:"StellarTxOpRequest"}),n.StellarPaymentOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),destination_account:r.Type.String(),asset:n.StellarAsset,amount:r.Type.Uint()},{$id:"StellarPaymentOp"}),n.StellarCreateAccountOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),new_account:r.Type.String(),starting_balance:r.Type.Uint()},{$id:"StellarCreateAccountOp"}),n.StellarPathPaymentStrictReceiveOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),send_asset:n.StellarAsset,send_max:r.Type.Uint(),destination_account:r.Type.String(),destination_asset:n.StellarAsset,destination_amount:r.Type.Uint(),paths:r.Type.Optional(r.Type.Array(n.StellarAsset))},{$id:"StellarPathPaymentStrictReceiveOp"}),n.StellarPathPaymentStrictSendOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),send_asset:n.StellarAsset,send_amount:r.Type.Uint(),destination_account:r.Type.String(),destination_asset:n.StellarAsset,destination_min:r.Type.Uint(),paths:r.Type.Optional(r.Type.Array(n.StellarAsset))},{$id:"StellarPathPaymentStrictSendOp"}),n.StellarManageSellOfferOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),selling_asset:n.StellarAsset,buying_asset:n.StellarAsset,amount:r.Type.Uint(),price_n:r.Type.Number(),price_d:r.Type.Number(),offer_id:r.Type.Uint()},{$id:"StellarManageSellOfferOp"}),n.StellarManageBuyOfferOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),selling_asset:n.StellarAsset,buying_asset:n.StellarAsset,amount:r.Type.Uint(),price_n:r.Type.Number(),price_d:r.Type.Number(),offer_id:r.Type.Uint()},{$id:"StellarManageBuyOfferOp"}),n.StellarCreatePassiveSellOfferOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),selling_asset:n.StellarAsset,buying_asset:n.StellarAsset,amount:r.Type.Uint(),price_n:r.Type.Number(),price_d:r.Type.Number()},{$id:"StellarCreatePassiveSellOfferOp"}),function(e){e[e.ACCOUNT=0]="ACCOUNT",e[e.PRE_AUTH=1]="PRE_AUTH",e[e.HASH=2]="HASH"}(Q||(n.StellarSignerType=Q={})),n.EnumStellarSignerType=r.Type.Enum(Q),n.StellarSetOptionsOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),inflation_destination_account:r.Type.Optional(r.Type.String()),clear_flags:r.Type.Optional(r.Type.Number()),set_flags:r.Type.Optional(r.Type.Number()),master_weight:r.Type.Optional(r.Type.Uint()),low_threshold:r.Type.Optional(r.Type.Uint()),medium_threshold:r.Type.Optional(r.Type.Uint()),high_threshold:r.Type.Optional(r.Type.Uint()),home_domain:r.Type.Optional(r.Type.String()),signer_type:r.Type.Optional(n.EnumStellarSignerType),signer_key:r.Type.Optional(r.Type.Union([r.Type.Buffer(),r.Type.String()])),signer_weight:r.Type.Optional(r.Type.Number())},{$id:"StellarSetOptionsOp"}),n.StellarChangeTrustOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),asset:n.StellarAsset,limit:r.Type.Uint()},{$id:"StellarChangeTrustOp"}),n.StellarAllowTrustOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),trusted_account:r.Type.String(),asset_type:n.EnumStellarAssetType,asset_code:r.Type.Optional(r.Type.String()),is_authorized:r.Type.Boolean()},{$id:"StellarAllowTrustOp"}),n.StellarAccountMergeOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),destination_account:r.Type.String()},{$id:"StellarAccountMergeOp"}),n.StellarManageDataOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),key:r.Type.String(),value:r.Type.Optional(r.Type.Union([r.Type.Buffer(),r.Type.String()]))},{$id:"StellarManageDataOp"}),n.StellarBumpSequenceOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),bump_to:r.Type.Uint()},{$id:"StellarBumpSequenceOp"}),n.StellarClaimClaimableBalanceOp=r.Type.Object({source_account:r.Type.Optional(r.Type.String()),balance_id:r.Type.String()},{$id:"StellarClaimClaimableBalanceOp"}),n.StellarSignedTx=r.Type.Object({public_key:r.Type.String(),signature:r.Type.String()},{$id:"StellarSignedTx"}),n.TezosGetAddress=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"TezosGetAddress"}),n.TezosAddress=r.Type.Object({address:r.Type.String()},{$id:"TezosAddress"}),n.TezosGetPublicKey=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),show_display:r.Type.Optional(r.Type.Boolean()),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"TezosGetPublicKey"}),n.TezosPublicKey=r.Type.Object({public_key:r.Type.String()},{$id:"TezosPublicKey"}),function(e){e[e.Implicit=0]="Implicit",e[e.Originated=1]="Originated"}(J||(n.TezosContractType=J={})),n.EnumTezosContractType=r.Type.Enum(J),n.TezosContractID=r.Type.Object({tag:r.Type.Number(),hash:r.Type.Uint8Array()},{$id:"TezosContractID"}),n.TezosRevealOp=r.Type.Object({source:r.Type.Uint8Array(),fee:r.Type.Uint(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number(),public_key:r.Type.Uint8Array()},{$id:"TezosRevealOp"}),n.TezosManagerTransfer=r.Type.Object({destination:n.TezosContractID,amount:r.Type.Uint()},{$id:"TezosManagerTransfer"}),n.TezosParametersManager=r.Type.Object({set_delegate:r.Type.Optional(r.Type.Uint8Array()),cancel_delegate:r.Type.Optional(r.Type.Boolean()),transfer:r.Type.Optional(n.TezosManagerTransfer)},{$id:"TezosParametersManager"}),n.TezosTransactionOp=r.Type.Object({source:r.Type.Uint8Array(),fee:r.Type.Uint(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number(),amount:r.Type.Uint(),destination:n.TezosContractID,parameters:r.Type.Optional(r.Type.Array(r.Type.Number())),parameters_manager:r.Type.Optional(n.TezosParametersManager)},{$id:"TezosTransactionOp"}),n.TezosOriginationOp=r.Type.Object({source:r.Type.Uint8Array(),fee:r.Type.Uint(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number(),manager_pubkey:r.Type.Optional(r.Type.String()),balance:r.Type.Number(),spendable:r.Type.Optional(r.Type.Boolean()),delegatable:r.Type.Optional(r.Type.Boolean()),delegate:r.Type.Optional(r.Type.Uint8Array()),script:r.Type.Union([r.Type.String(),r.Type.Array(r.Type.Number())])},{$id:"TezosOriginationOp"}),n.TezosDelegationOp=r.Type.Object({source:r.Type.Uint8Array(),fee:r.Type.Uint(),counter:r.Type.Number(),gas_limit:r.Type.Number(),storage_limit:r.Type.Number(),delegate:r.Type.Uint8Array()},{$id:"TezosDelegationOp"}),n.TezosProposalOp=r.Type.Object({source:r.Type.String(),period:r.Type.Number(),proposals:r.Type.Array(r.Type.String())},{$id:"TezosProposalOp"}),function(e){e[e.Yay=0]="Yay",e[e.Nay=1]="Nay",e[e.Pass=2]="Pass"}(X||(n.TezosBallotType=X={})),n.EnumTezosBallotType=r.Type.Enum(X),n.TezosBallotOp=r.Type.Object({source:r.Type.String(),period:r.Type.Number(),proposal:r.Type.String(),ballot:n.EnumTezosBallotType},{$id:"TezosBallotOp"}),n.TezosSignTx=r.Type.Object({address_n:r.Type.Array(r.Type.Number()),branch:r.Type.Uint8Array(),reveal:r.Type.Optional(n.TezosRevealOp),transaction:r.Type.Optional(n.TezosTransactionOp),origination:r.Type.Optional(n.TezosOriginationOp),delegation:r.Type.Optional(n.TezosDelegationOp),proposal:r.Type.Optional(n.TezosProposalOp),ballot:r.Type.Optional(n.TezosBallotOp),chunkify:r.Type.Optional(r.Type.Boolean())},{$id:"TezosSignTx"}),n.TezosSignedTx=r.Type.Object({signature:r.Type.String(),sig_op_contents:r.Type.String(),operation_hash:r.Type.String()},{$id:"TezosSignedTx"}),n.MessageType=r.Type.Object({HDNodeType:n.HDNodeType,HDNodePathType:n.HDNodePathType,MultisigRedeemScriptType:n.MultisigRedeemScriptType,GetPublicKey:n.GetPublicKey,PublicKey:n.PublicKey,GetAddress:n.GetAddress,Address:n.Address,GetOwnershipId:n.GetOwnershipId,OwnershipId:n.OwnershipId,SignMessage:n.SignMessage,MessageSignature:n.MessageSignature,VerifyMessage:n.VerifyMessage,CoinJoinRequest:n.CoinJoinRequest,SignTx:n.SignTx,TxRequestDetailsType:n.TxRequestDetailsType,TxRequestSerializedType:n.TxRequestSerializedType,TxRequest:n.TxRequest,TxInputType:n.TxInputType,TxOutputBinType:n.TxOutputBinType,TxOutputType:n.TxOutputType,PrevTx:n.PrevTx,PrevInput:n.PrevInput,PrevOutput:n.PrevOutput,TextMemo:n.TextMemo,RefundMemo:n.RefundMemo,CoinPurchaseMemo:n.CoinPurchaseMemo,PaymentRequestMemo:n.PaymentRequestMemo,TxAckPaymentRequest:n.TxAckPaymentRequest,TxAck:n.TxAck,TxAckInputWrapper:n.TxAckInputWrapper,TxAckInput:n.TxAckInput,TxAckOutputWrapper:n.TxAckOutputWrapper,TxAckOutput:n.TxAckOutput,TxAckPrevMeta:n.TxAckPrevMeta,TxAckPrevInputWrapper:n.TxAckPrevInputWrapper,TxAckPrevInput:n.TxAckPrevInput,TxAckPrevOutputWrapper:n.TxAckPrevOutputWrapper,TxAckPrevOutput:n.TxAckPrevOutput,TxAckPrevExtraDataWrapper:n.TxAckPrevExtraDataWrapper,TxAckPrevExtraData:n.TxAckPrevExtraData,GetOwnershipProof:n.GetOwnershipProof,OwnershipProof:n.OwnershipProof,AuthorizeCoinJoin:n.AuthorizeCoinJoin,BleUnpair:n.BleUnpair,FirmwareErase:n.FirmwareErase,FirmwareRequest:n.FirmwareRequest,FirmwareUpload:n.FirmwareUpload,ProdTestT1:n.ProdTestT1,CardanoBlockchainPointerType:n.CardanoBlockchainPointerType,CardanoNativeScript:n.CardanoNativeScript,CardanoGetNativeScriptHash:n.CardanoGetNativeScriptHash,CardanoNativeScriptHash:n.CardanoNativeScriptHash,CardanoAddressParametersType:n.CardanoAddressParametersType,CardanoGetAddress:n.CardanoGetAddress,CardanoAddress:n.CardanoAddress,CardanoGetPublicKey:n.CardanoGetPublicKey,CardanoPublicKey:n.CardanoPublicKey,CardanoSignTxInit:n.CardanoSignTxInit,CardanoTxInput:n.CardanoTxInput,CardanoTxOutput:n.CardanoTxOutput,CardanoAssetGroup:n.CardanoAssetGroup,CardanoToken:n.CardanoToken,CardanoTxInlineDatumChunk:n.CardanoTxInlineDatumChunk,CardanoTxReferenceScriptChunk:n.CardanoTxReferenceScriptChunk,CardanoPoolOwner:n.CardanoPoolOwner,CardanoPoolRelayParameters:n.CardanoPoolRelayParameters,CardanoPoolMetadataType:n.CardanoPoolMetadataType,CardanoPoolParametersType:n.CardanoPoolParametersType,CardanoDRep:n.CardanoDRep,CardanoTxCertificate:n.CardanoTxCertificate,CardanoTxWithdrawal:n.CardanoTxWithdrawal,CardanoCVoteRegistrationDelegation:n.CardanoCVoteRegistrationDelegation,CardanoCVoteRegistrationParametersType:n.CardanoCVoteRegistrationParametersType,CardanoTxAuxiliaryData:n.CardanoTxAuxiliaryData,CardanoTxMint:n.CardanoTxMint,CardanoTxCollateralInput:n.CardanoTxCollateralInput,CardanoTxRequiredSigner:n.CardanoTxRequiredSigner,CardanoTxReferenceInput:n.CardanoTxReferenceInput,CardanoTxItemAck:n.CardanoTxItemAck,CardanoTxAuxiliaryDataSupplement:n.CardanoTxAuxiliaryDataSupplement,CardanoTxWitnessRequest:n.CardanoTxWitnessRequest,CardanoTxWitnessResponse:n.CardanoTxWitnessResponse,CardanoTxHostAck:n.CardanoTxHostAck,CardanoTxBodyHash:n.CardanoTxBodyHash,CardanoSignTxFinished:n.CardanoSignTxFinished,Success:n.Success,Failure:n.Failure,ButtonRequest:n.ButtonRequest,ButtonAck:n.ButtonAck,PinMatrixRequest:n.PinMatrixRequest,PinMatrixAck:n.PinMatrixAck,PassphraseRequest:n.PassphraseRequest,PassphraseAck:n.PassphraseAck,Deprecated_PassphraseStateRequest:n.Deprecated_PassphraseStateRequest,Deprecated_PassphraseStateAck:n.Deprecated_PassphraseStateAck,CipherKeyValue:n.CipherKeyValue,CipheredKeyValue:n.CipheredKeyValue,IdentityType:n.IdentityType,SignIdentity:n.SignIdentity,SignedIdentity:n.SignedIdentity,GetECDHSessionKey:n.GetECDHSessionKey,ECDHSessionKey:n.ECDHSessionKey,DebugLinkResetDebugEvents:n.DebugLinkResetDebugEvents,DebugLinkOptigaSetSecMax:n.DebugLinkOptigaSetSecMax,EthereumNetworkInfo:n.EthereumNetworkInfo,EthereumTokenInfo:n.EthereumTokenInfo,SolanaTokenInfo:n.SolanaTokenInfo,EosGetPublicKey:n.EosGetPublicKey,EosPublicKey:n.EosPublicKey,EosTxHeader:n.EosTxHeader,EosSignTx:n.EosSignTx,EosTxActionRequest:n.EosTxActionRequest,EosAsset:n.EosAsset,EosPermissionLevel:n.EosPermissionLevel,EosAuthorizationKey:n.EosAuthorizationKey,EosAuthorizationAccount:n.EosAuthorizationAccount,EosAuthorizationWait:n.EosAuthorizationWait,EosAuthorization:n.EosAuthorization,EosActionCommon:n.EosActionCommon,EosActionTransfer:n.EosActionTransfer,EosActionDelegate:n.EosActionDelegate,EosActionUndelegate:n.EosActionUndelegate,EosActionRefund:n.EosActionRefund,EosActionBuyRam:n.EosActionBuyRam,EosActionBuyRamBytes:n.EosActionBuyRamBytes,EosActionSellRam:n.EosActionSellRam,EosActionVoteProducer:n.EosActionVoteProducer,EosActionUpdateAuth:n.EosActionUpdateAuth,EosActionDeleteAuth:n.EosActionDeleteAuth,EosActionLinkAuth:n.EosActionLinkAuth,EosActionUnlinkAuth:n.EosActionUnlinkAuth,EosActionNewAccount:n.EosActionNewAccount,EosActionUnknown:n.EosActionUnknown,EosTxActionAck:n.EosTxActionAck,EosSignedTx:n.EosSignedTx,EthereumDefinitions:n.EthereumDefinitions,EthereumSignTypedData:n.EthereumSignTypedData,EthereumTypedDataStructRequest:n.EthereumTypedDataStructRequest,EthereumFieldType:n.EthereumFieldType,EthereumStructMember:n.EthereumStructMember,EthereumTypedDataStructAck:n.EthereumTypedDataStructAck,EthereumTypedDataValueRequest:n.EthereumTypedDataValueRequest,EthereumTypedDataValueAck:n.EthereumTypedDataValueAck,EthereumGetPublicKey:n.EthereumGetPublicKey,EthereumPublicKey:n.EthereumPublicKey,EthereumGetAddress:n.EthereumGetAddress,EthereumAddress:n.EthereumAddress,EthereumSignTx:n.EthereumSignTx,EthereumAccessList:n.EthereumAccessList,EthereumSignTxEIP1559:n.EthereumSignTxEIP1559,EthereumTxRequest:n.EthereumTxRequest,EthereumTxAck:n.EthereumTxAck,EthereumSignMessage:n.EthereumSignMessage,EthereumMessageSignature:n.EthereumMessageSignature,EthereumVerifyMessage:n.EthereumVerifyMessage,EthereumSignTypedHash:n.EthereumSignTypedHash,EthereumTypedDataSignature:n.EthereumTypedDataSignature,Initialize:n.Initialize,GetFeatures:n.GetFeatures,RecoveryDevice:n.RecoveryDevice,Features:n.Features,LockDevice:n.LockDevice,SetBusy:n.SetBusy,EndSession:n.EndSession,ApplySettings:n.ApplySettings,ChangeLanguage:n.ChangeLanguage,TranslationDataRequest:n.TranslationDataRequest,TranslationDataAck:n.TranslationDataAck,ApplyFlags:n.ApplyFlags,ChangePin:n.ChangePin,ChangeWipeCode:n.ChangeWipeCode,SdProtect:n.SdProtect,Ping:n.Ping,Cancel:n.Cancel,GetEntropy:n.GetEntropy,Entropy:n.Entropy,GetFirmwareHash:n.GetFirmwareHash,FirmwareHash:n.FirmwareHash,AuthenticateDevice:n.AuthenticateDevice,AuthenticityProof:n.AuthenticityProof,WipeDevice:n.WipeDevice,LoadDevice:n.LoadDevice,ResetDevice:n.ResetDevice,Slip39Group:n.Slip39Group,BackupDevice:n.BackupDevice,EntropyRequest:n.EntropyRequest,EntropyAck:n.EntropyAck,EntropyCheckReady:n.EntropyCheckReady,EntropyCheckContinue:n.EntropyCheckContinue,WordRequest:n.WordRequest,WordAck:n.WordAck,SetU2FCounter:n.SetU2FCounter,GetNextU2FCounter:n.GetNextU2FCounter,NextU2FCounter:n.NextU2FCounter,DoPreauthorized:n.DoPreauthorized,PreauthorizedRequest:n.PreauthorizedRequest,CancelAuthorization:n.CancelAuthorization,RebootToBootloader:n.RebootToBootloader,GetNonce:n.GetNonce,Nonce:n.Nonce,UnlockPath:n.UnlockPath,UnlockedPathRequest:n.UnlockedPathRequest,ShowDeviceTutorial:n.ShowDeviceTutorial,UnlockBootloader:n.UnlockBootloader,SetBrightness:n.SetBrightness,NEMGetAddress:n.NEMGetAddress,NEMAddress:n.NEMAddress,NEMTransactionCommon:n.NEMTransactionCommon,NEMMosaic:n.NEMMosaic,NEMTransfer:n.NEMTransfer,NEMProvisionNamespace:n.NEMProvisionNamespace,NEMMosaicDefinition:n.NEMMosaicDefinition,NEMMosaicCreation:n.NEMMosaicCreation,NEMMosaicSupplyChange:n.NEMMosaicSupplyChange,NEMCosignatoryModification:n.NEMCosignatoryModification,NEMAggregateModification:n.NEMAggregateModification,NEMImportanceTransfer:n.NEMImportanceTransfer,NEMSignTx:n.NEMSignTx,NEMSignedTx:n.NEMSignedTx,NEMDecryptMessage:n.NEMDecryptMessage,NEMDecryptedMessage:n.NEMDecryptedMessage,RippleGetAddress:n.RippleGetAddress,RippleAddress:n.RippleAddress,RipplePayment:n.RipplePayment,RippleSignTx:n.RippleSignTx,RippleSignedTx:n.RippleSignedTx,SolanaGetPublicKey:n.SolanaGetPublicKey,SolanaPublicKey:n.SolanaPublicKey,SolanaGetAddress:n.SolanaGetAddress,SolanaAddress:n.SolanaAddress,SolanaTxTokenAccountInfo:n.SolanaTxTokenAccountInfo,SolanaTxAdditionalInfo:n.SolanaTxAdditionalInfo,SolanaSignTx:n.SolanaSignTx,SolanaTxSignature:n.SolanaTxSignature,StellarAsset:n.StellarAsset,StellarGetAddress:n.StellarGetAddress,StellarAddress:n.StellarAddress,StellarSignTx:n.StellarSignTx,StellarTxOpRequest:n.StellarTxOpRequest,StellarPaymentOp:n.StellarPaymentOp,StellarCreateAccountOp:n.StellarCreateAccountOp,StellarPathPaymentStrictReceiveOp:n.StellarPathPaymentStrictReceiveOp,StellarPathPaymentStrictSendOp:n.StellarPathPaymentStrictSendOp,StellarManageSellOfferOp:n.StellarManageSellOfferOp,StellarManageBuyOfferOp:n.StellarManageBuyOfferOp,StellarCreatePassiveSellOfferOp:n.StellarCreatePassiveSellOfferOp,StellarSetOptionsOp:n.StellarSetOptionsOp,StellarChangeTrustOp:n.StellarChangeTrustOp,StellarAllowTrustOp:n.StellarAllowTrustOp,StellarAccountMergeOp:n.StellarAccountMergeOp,StellarManageDataOp:n.StellarManageDataOp,StellarBumpSequenceOp:n.StellarBumpSequenceOp,StellarClaimClaimableBalanceOp:n.StellarClaimClaimableBalanceOp,StellarSignedTx:n.StellarSignedTx,TezosGetAddress:n.TezosGetAddress,TezosAddress:n.TezosAddress,TezosGetPublicKey:n.TezosGetPublicKey,TezosPublicKey:n.TezosPublicKey,TezosContractID:n.TezosContractID,TezosRevealOp:n.TezosRevealOp,TezosManagerTransfer:n.TezosManagerTransfer,TezosParametersManager:n.TezosParametersManager,TezosTransactionOp:n.TezosTransactionOp,TezosOriginationOp:n.TezosOriginationOp,TezosDelegationOp:n.TezosDelegationOp,TezosProposalOp:n.TezosProposalOp,TezosBallotOp:n.TezosBallotOp,TezosSignTx:n.TezosSignTx,TezosSignedTx:n.TezosSignedTx},{$id:"MessageType"})}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/messages-schema.js"}],[3399,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,a,s,c,u,l,p,d,y,m,f,h,T,g,b,_,O,w,v,S,x,E,P,I,j,A,k,M,C,R,N,z,D,U,B,L,F,G,$,q,H,W,K,V,Y,Q;Object.defineProperty(n,"__esModule",{value:!0}),n.TezosBallotType=n.TezosContractType=n.StellarSignerType=n.StellarMemoType=n.StellarAssetType=n.NEMImportanceTransferMode=n.NEMModificationType=n.NEMSupplyChangeType=n.NEMMosaicLevy=n.BootCommand=n.Enum_WordRequestType=n.SdProtectOperationType=n.Enum_RecoveryType=n.RecoveryDeviceInputMethod=n.Enum_Capability=n.Enum_RecoveryStatus=n.Enum_BackupAvailability=n.Enum_HomescreenFormat=n.Enum_DisplayRotation=n.Enum_SafetyCheckLevel=n.Enum_BackupType=n.EthereumDataType=n.DefinitionType=n.DebugWaitType=n.DebugPhysicalButton=n.DebugButton=n.Enum_PinMatrixRequestType=n.Enum_ButtonRequestType=n.Enum_FailureType=n.CardanoTxWitnessType=n.CardanoTxSigningMode=n.CardanoCVoteRegistrationFormat=n.CardanoTxAuxiliaryDataSupplementType=n.CardanoPoolRelayType=n.CardanoDRepType=n.CardanoCertificateType=n.CardanoTxOutputSerializationFormat=n.CardanoNativeScriptHashDisplayFormat=n.CardanoNativeScriptType=n.CardanoAddressType=n.CardanoDerivationType=n.Enum_RequestType=n.MultisigPubkeysOrder=n.AmountUnit=n.DecredStakingSpendType=n.Enum_OutputScriptType=n.Enum_InputScriptType=n.DeviceModelInternal=void 0,function(e){e.T1B1="T1B1",e.T2T1="T2T1",e.T2B1="T2B1",e.T3B1="T3B1",e.T3T1="T3T1",e.T3W1="T3W1",e.UNKNOWN="UNKNOWN"}(r||(n.DeviceModelInternal=r={})),function(e){e[e.SPENDADDRESS=0]="SPENDADDRESS",e[e.SPENDMULTISIG=1]="SPENDMULTISIG",e[e.EXTERNAL=2]="EXTERNAL",e[e.SPENDWITNESS=3]="SPENDWITNESS",e[e.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",e[e.SPENDTAPROOT=5]="SPENDTAPROOT"}(i||(n.Enum_InputScriptType=i={})),function(e){e[e.PAYTOADDRESS=0]="PAYTOADDRESS",e[e.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",e[e.PAYTOMULTISIG=2]="PAYTOMULTISIG",e[e.PAYTOOPRETURN=3]="PAYTOOPRETURN",e[e.PAYTOWITNESS=4]="PAYTOWITNESS",e[e.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",e[e.PAYTOTAPROOT=6]="PAYTOTAPROOT"}(o||(n.Enum_OutputScriptType=o={})),function(e){e[e.SSGen=0]="SSGen",e[e.SSRTX=1]="SSRTX"}(a||(n.DecredStakingSpendType=a={})),function(e){e[e.BITCOIN=0]="BITCOIN",e[e.MILLIBITCOIN=1]="MILLIBITCOIN",e[e.MICROBITCOIN=2]="MICROBITCOIN",e[e.SATOSHI=3]="SATOSHI"}(s||(n.AmountUnit=s={})),function(e){e[e.PRESERVED=0]="PRESERVED",e[e.LEXICOGRAPHIC=1]="LEXICOGRAPHIC"}(c||(n.MultisigPubkeysOrder=c={})),function(e){e[e.TXINPUT=0]="TXINPUT",e[e.TXOUTPUT=1]="TXOUTPUT",e[e.TXMETA=2]="TXMETA",e[e.TXFINISHED=3]="TXFINISHED",e[e.TXEXTRADATA=4]="TXEXTRADATA",e[e.TXORIGINPUT=5]="TXORIGINPUT",e[e.TXORIGOUTPUT=6]="TXORIGOUTPUT",e[e.TXPAYMENTREQ=7]="TXPAYMENTREQ"}(u||(n.Enum_RequestType=u={})),function(e){e[e.LEDGER=0]="LEDGER",e[e.ICARUS=1]="ICARUS",e[e.ICARUS_TREZOR=2]="ICARUS_TREZOR"}(l||(n.CardanoDerivationType=l={})),function(e){e[e.BASE=0]="BASE",e[e.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",e[e.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",e[e.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",e[e.POINTER=4]="POINTER",e[e.POINTER_SCRIPT=5]="POINTER_SCRIPT",e[e.ENTERPRISE=6]="ENTERPRISE",e[e.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",e[e.BYRON=8]="BYRON",e[e.REWARD=14]="REWARD",e[e.REWARD_SCRIPT=15]="REWARD_SCRIPT"}(p||(n.CardanoAddressType=p={})),function(e){e[e.PUB_KEY=0]="PUB_KEY",e[e.ALL=1]="ALL",e[e.ANY=2]="ANY",e[e.N_OF_K=3]="N_OF_K",e[e.INVALID_BEFORE=4]="INVALID_BEFORE",e[e.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"}(d||(n.CardanoNativeScriptType=d={})),function(e){e[e.HIDE=0]="HIDE",e[e.BECH32=1]="BECH32",e[e.POLICY_ID=2]="POLICY_ID"}(y||(n.CardanoNativeScriptHashDisplayFormat=y={})),function(e){e[e.ARRAY_LEGACY=0]="ARRAY_LEGACY",e[e.MAP_BABBAGE=1]="MAP_BABBAGE"}(m||(n.CardanoTxOutputSerializationFormat=m={})),function(e){e[e.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",e[e.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",e[e.STAKE_DELEGATION=2]="STAKE_DELEGATION",e[e.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION",e[e.STAKE_REGISTRATION_CONWAY=7]="STAKE_REGISTRATION_CONWAY",e[e.STAKE_DEREGISTRATION_CONWAY=8]="STAKE_DEREGISTRATION_CONWAY",e[e.VOTE_DELEGATION=9]="VOTE_DELEGATION"}(f||(n.CardanoCertificateType=f={})),function(e){e[e.KEY_HASH=0]="KEY_HASH",e[e.SCRIPT_HASH=1]="SCRIPT_HASH",e[e.ABSTAIN=2]="ABSTAIN",e[e.NO_CONFIDENCE=3]="NO_CONFIDENCE"}(h||(n.CardanoDRepType=h={})),function(e){e[e.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",e[e.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",e[e.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"}(T||(n.CardanoPoolRelayType=T={})),function(e){e[e.NONE=0]="NONE",e[e.CVOTE_REGISTRATION_SIGNATURE=1]="CVOTE_REGISTRATION_SIGNATURE"}(g||(n.CardanoTxAuxiliaryDataSupplementType=g={})),function(e){e[e.CIP15=0]="CIP15",e[e.CIP36=1]="CIP36"}(b||(n.CardanoCVoteRegistrationFormat=b={})),function(e){e[e.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",e[e.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",e[e.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",e[e.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"}(_||(n.CardanoTxSigningMode=_={})),function(e){e[e.BYRON_WITNESS=0]="BYRON_WITNESS",e[e.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"}(O||(n.CardanoTxWitnessType=O={})),function(e){e[e.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",e[e.Failure_ButtonExpected=2]="Failure_ButtonExpected",e[e.Failure_DataError=3]="Failure_DataError",e[e.Failure_ActionCancelled=4]="Failure_ActionCancelled",e[e.Failure_PinExpected=5]="Failure_PinExpected",e[e.Failure_PinCancelled=6]="Failure_PinCancelled",e[e.Failure_PinInvalid=7]="Failure_PinInvalid",e[e.Failure_InvalidSignature=8]="Failure_InvalidSignature",e[e.Failure_ProcessError=9]="Failure_ProcessError",e[e.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",e[e.Failure_NotInitialized=11]="Failure_NotInitialized",e[e.Failure_PinMismatch=12]="Failure_PinMismatch",e[e.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",e[e.Failure_InvalidSession=14]="Failure_InvalidSession",e[e.Failure_Busy=15]="Failure_Busy",e[e.Failure_FirmwareError=99]="Failure_FirmwareError"}(w||(n.Enum_FailureType=w={})),function(e){e[e.ButtonRequest_Other=1]="ButtonRequest_Other",e[e.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",e[e.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",e[e.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",e[e.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",e[e.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",e[e.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",e[e.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",e[e.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",e[e.ButtonRequest_Address=10]="ButtonRequest_Address",e[e.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",e[e.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",e[e.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",e[e._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",e[e.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",e[e.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",e[e.ButtonRequest_Success=17]="ButtonRequest_Success",e[e.ButtonRequest_Warning=18]="ButtonRequest_Warning",e[e.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",e[e.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry"}(v||(n.Enum_ButtonRequestType=v={})),function(e){e[e.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",e[e.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",e[e.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",e[e.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",e[e.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond"}(S||(n.Enum_PinMatrixRequestType=S={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.INFO=2]="INFO"}(x||(n.DebugButton=x={})),function(e){e[e.LEFT_BTN=0]="LEFT_BTN",e[e.MIDDLE_BTN=1]="MIDDLE_BTN",e[e.RIGHT_BTN=2]="RIGHT_BTN"}(E||(n.DebugPhysicalButton=E={})),function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.NEXT_LAYOUT=1]="NEXT_LAYOUT",e[e.CURRENT_LAYOUT=2]="CURRENT_LAYOUT"}(P||(n.DebugWaitType=P={})),function(e){e[e.ETHEREUM_NETWORK=0]="ETHEREUM_NETWORK",e[e.ETHEREUM_TOKEN=1]="ETHEREUM_TOKEN",e[e.SOLANA_TOKEN=2]="SOLANA_TOKEN"}(I||(n.DefinitionType=I={})),function(e){e[e.UINT=1]="UINT",e[e.INT=2]="INT",e[e.BYTES=3]="BYTES",e[e.STRING=4]="STRING",e[e.BOOL=5]="BOOL",e[e.ADDRESS=6]="ADDRESS",e[e.ARRAY=7]="ARRAY",e[e.STRUCT=8]="STRUCT"}(j||(n.EthereumDataType=j={})),function(e){e[e.Bip39=0]="Bip39",e[e.Slip39_Basic=1]="Slip39_Basic",e[e.Slip39_Advanced=2]="Slip39_Advanced",e[e.Slip39_Single_Extendable=3]="Slip39_Single_Extendable",e[e.Slip39_Basic_Extendable=4]="Slip39_Basic_Extendable",e[e.Slip39_Advanced_Extendable=5]="Slip39_Advanced_Extendable"}(A||(n.Enum_BackupType=A={})),function(e){e[e.Strict=0]="Strict",e[e.PromptAlways=1]="PromptAlways",e[e.PromptTemporarily=2]="PromptTemporarily"}(k||(n.Enum_SafetyCheckLevel=k={})),function(e){e[e.North=0]="North",e[e.East=90]="East",e[e.South=180]="South",e[e.West=270]="West"}(M||(n.Enum_DisplayRotation=M={})),function(e){e[e.Toif=1]="Toif",e[e.Jpeg=2]="Jpeg",e[e.ToiG=3]="ToiG"}(C||(n.Enum_HomescreenFormat=C={})),function(e){e[e.NotAvailable=0]="NotAvailable",e[e.Required=1]="Required",e[e.Available=2]="Available"}(R||(n.Enum_BackupAvailability=R={})),function(e){e[e.Nothing=0]="Nothing",e[e.Recovery=1]="Recovery",e[e.Backup=2]="Backup"}(N||(n.Enum_RecoveryStatus=N={})),function(e){e[e.Capability_Bitcoin=1]="Capability_Bitcoin",e[e.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",e[e.Capability_Binance=3]="Capability_Binance",e[e.Capability_Cardano=4]="Capability_Cardano",e[e.Capability_Crypto=5]="Capability_Crypto",e[e.Capability_EOS=6]="Capability_EOS",e[e.Capability_Ethereum=7]="Capability_Ethereum",e[e.Capability_Lisk=8]="Capability_Lisk",e[e.Capability_Monero=9]="Capability_Monero",e[e.Capability_NEM=10]="Capability_NEM",e[e.Capability_Ripple=11]="Capability_Ripple",e[e.Capability_Stellar=12]="Capability_Stellar",e[e.Capability_Tezos=13]="Capability_Tezos",e[e.Capability_U2F=14]="Capability_U2F",e[e.Capability_Shamir=15]="Capability_Shamir",e[e.Capability_ShamirGroups=16]="Capability_ShamirGroups",e[e.Capability_PassphraseEntry=17]="Capability_PassphraseEntry",e[e.Capability_Solana=18]="Capability_Solana",e[e.Capability_Translations=19]="Capability_Translations",e[e.Capability_Brightness=20]="Capability_Brightness",e[e.Capability_Haptic=21]="Capability_Haptic",e[e.Capability_BLE=22]="Capability_BLE",e[e.Capability_NFC=23]="Capability_NFC"}(z||(n.Enum_Capability=z={})),function(e){e[e.ScrambledWords=0]="ScrambledWords",e[e.Matrix=1]="Matrix"}(D||(n.RecoveryDeviceInputMethod=D={})),function(e){e[e.NormalRecovery=0]="NormalRecovery",e[e.DryRun=1]="DryRun",e[e.UnlockRepeatedBackup=2]="UnlockRepeatedBackup"}(U||(n.Enum_RecoveryType=U={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.REFRESH=2]="REFRESH"}(B||(n.SdProtectOperationType=B={})),function(e){e[e.WordRequestType_Plain=0]="WordRequestType_Plain",e[e.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",e[e.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"}(L||(n.Enum_WordRequestType=L={})),function(e){e[e.STOP_AND_WAIT=0]="STOP_AND_WAIT",e[e.INSTALL_UPGRADE=1]="INSTALL_UPGRADE"}(F||(n.BootCommand=F={})),function(e){e[e.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",e[e.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"}(G||(n.NEMMosaicLevy=G={})),function(e){e[e.SupplyChange_Increase=1]="SupplyChange_Increase",e[e.SupplyChange_Decrease=2]="SupplyChange_Decrease"}($||(n.NEMSupplyChangeType=$={})),function(e){e[e.CosignatoryModification_Add=1]="CosignatoryModification_Add",e[e.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"}(q||(n.NEMModificationType=q={})),function(e){e[e.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",e[e.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"}(H||(n.NEMImportanceTransferMode=H={})),function(e){e[e.NATIVE=0]="NATIVE",e[e.ALPHANUM4=1]="ALPHANUM4",e[e.ALPHANUM12=2]="ALPHANUM12"}(W||(n.StellarAssetType=W={})),function(e){e[e.NONE=0]="NONE",e[e.TEXT=1]="TEXT",e[e.ID=2]="ID",e[e.HASH=3]="HASH",e[e.RETURN=4]="RETURN"}(K||(n.StellarMemoType=K={})),function(e){e[e.ACCOUNT=0]="ACCOUNT",e[e.PRE_AUTH=1]="PRE_AUTH",e[e.HASH=2]="HASH"}(V||(n.StellarSignerType=V={})),function(e){e[e.Implicit=0]="Implicit",e[e.Originated=1]="Originated"}(Y||(n.TezosContractType=Y={})),function(e){e[e.Yay=0]="Yay",e[e.Nay=1]="Nay",e[e.Pass=2]="Pass"}(Q||(n.TezosBallotType=Q={}))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/messages.js"}],[34,{"../../controllers/encryption-public-key":224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EncryptionPublicKeyControllerInit=void 0;var r,i=(r=e("../../controllers/encryption-public-key"))&&r.__esModule?r:{default:r};n.EncryptionPublicKeyControllerInit=({controllerMessenger:e,initMessenger:t,getController:n,getUIState:r})=>{const o=n("EncryptionPublicKeyManager"),a=n("KeyringController");return{persistedStateKey:null,memStateKey:null,controller:new i.default({messenger:e,manager:o,getState:r,getAccountKeyringType:e=>a.getAccountKeyringType(e),getEncryptionPublicKey:e=>t.call("KeyringController:getEncryptionPublicKey",e),metricsEvent:t.call.bind(t,"MetaMetricsController:trackEvent")})}}}}},{package:"$root$",file:"app/scripts/controller-init/confirmations/encryption-public-key-controller-init.ts"}],[340,{lodash:4940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitizePatches=function(e){return e.filter(e=>{if(i.includes(e.path[0]))return!1;for(const t of o)if(a(e,t))return!1;return!0})},n.sanitizeUIState=function(e){const t={...e};for(const e of i)delete t[e];return function(e){const t=e.snaps;if(!t)return;e.snaps=Object.values(t).reduce((e,t)=>(e[t.id]=function(e){const t={...e};return delete t.sourceCode,delete t.auxiliaryFiles,t}(t),e),{})}(t),function(e){const t=e.srpSessionData;if(!t)return;e.srpSessionData=Object.entries(t).reduce((e,[t,n])=>{const r={...n.token};return delete r.accessToken,e[t]={...n,token:r},e},{})}(t),function(e){const t=e.nodeAuthTokens;t&&(e.nodeAuthTokens=t.map(e=>{const t={...e};return delete t.authToken,t}));const n=e.socialBackupsMetadata;n&&(e.socialBackupsMetadata=n.map(e=>{const t={...e};return delete t.hash,t}))}(t),t};var r=e("lodash");const i=["encryptionKey","encryptionSalt","vault","c2DomainBlocklistLastFetched","hotlistLastFetched","phishingLists","stalelistLastFetched","whitelist","whitelistPaths","accessToken","encryptedKeyringEncryptionKey","encryptedSeedlessEncryptionKey","metadataAccessToken","refreshToken","revokeToken","vaultEncryptionKey","vaultEncryptionSalt","snapStates","unencryptedSnapStates"],o=[["nodeAuthTokens",!0,"authToken"],["snaps",!0,"auxiliaryFiles"],["snaps",!0,"sourceCode"],["socialBackupsMetadata",!0,"hash"],["srpSessionData",!0,"token","accessToken"]];function a(e,t){for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1,a=n===e.path.length-1;if(!(e.path[n]===i||!0===i&&e.path[n]!==undefined))return!1;if(o)return!0;if(a&&!c(e.value))return!1;if(a){const i=t.slice(n+1);return e.value=(0,r.cloneDeep)(e.value),s(e.value,i),!1}}return!1}function s(e,t,n=0){const r=t[n],i=n===t.length-1;if(i&&!0!==r&&r in e&&!Array.isArray(e))return void delete e[r];if(i)return;let o=[];!0===r?o=Object.values(e):Array.isArray(e)||(o=[e[r]]);const a=o.filter(c);for(const e of a)s(e,t,n+1)}function c(e){return"object"==typeof e&&null!==e&&e!==undefined}}}},{package:"$root$",file:"app/scripts/lib/state-utils.ts"}],[3400,{"protobufjs/light":5221,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMessageFromType=n.createMessageFromName=n.isPrimitiveField=void 0,n.parseConfigure=function(e){if("string"==typeof e)return r.Root.fromJSON(JSON.parse(e));return r.Root.fromJSON(e)};const r=e("tslib").__importStar(e("protobufjs/light")),i=["bool","string","bytes","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","double","float"];n.isPrimitiveField=e=>i.includes(e);n.createMessageFromName=(e,t)=>{const n=e.lookupType(t);let r=e.lookupEnum("MessageType").values[t];return"number"!=typeof r&&n.options&&(r=n.options["(wire_type)"]),{Message:n,messageType:r??t}};n.createMessageFromType=(e,t)=>{if("string"==typeof t){return{Message:e.lookupType(t),messageName:t}}const n=e.lookupEnum("MessageType").valuesById[t];return{Message:e.lookupType(n),messageName:n}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf",file:"node_modules/@trezor/protobuf/lib/utils.js"}],[3401,{"@sinclair/typebox":3412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayBufferBuilder=void 0;const r=e("@sinclair/typebox");r.TypeRegistry.Set("ArrayBuffer",(e,t)=>t instanceof ArrayBuffer);class i extends r.JavaScriptTypeBuilder{ArrayBuffer(e){return(0,r.CreateType)({[r.Kind]:"ArrayBuffer",type:"ArrayBuffer"},e)}}n.ArrayBufferBuilder=i}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/custom-types/array-buffer.js"}],[3402,{"@sinclair/typebox":3412,buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.BufferBuilder=void 0;const r=e("@sinclair/typebox");r.TypeRegistry.Set("Buffer",(e,n)=>n instanceof t);class i extends r.JavaScriptTypeBuilder{Buffer(e){return(0,r.CreateType)({[r.Kind]:"Buffer",type:"Buffer"},e)}}n.BufferBuilder=i}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/custom-types/buffer.js"}],[3403,{"./array-buffer":3401,"./buffer":3402,"./keyof-enum":3404,"./uint":3405},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UintBuilder=n.KeyofEnumBuilder=n.BufferBuilder=n.ArrayBufferBuilder=void 0;var r=e("./array-buffer");Object.defineProperty(n,"ArrayBufferBuilder",{enumerable:!0,get:function(){return r.ArrayBufferBuilder}});var i=e("./buffer");Object.defineProperty(n,"BufferBuilder",{enumerable:!0,get:function(){return i.BufferBuilder}});var o=e("./keyof-enum");Object.defineProperty(n,"KeyofEnumBuilder",{enumerable:!0,get:function(){return o.KeyofEnumBuilder}});var a=e("./uint");Object.defineProperty(n,"UintBuilder",{enumerable:!0,get:function(){return a.UintBuilder}})}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/custom-types/index.js"}],[3404,{"@sinclair/typebox":3412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyofEnumBuilder=void 0;const r=e("@sinclair/typebox");class i extends r.JavaScriptTypeBuilder{KeyOfEnum(e,t){const n=Object.keys(e).map(e=>this.Literal(e));return this.Union(n,{...t,[r.Hint]:"KeyOfEnum"})}Enum(e,t){const n=Object.entries(e).filter(([e,t])=>"string"==typeof e||!isNaN(e)).map(([e,t])=>this.Literal(t,{$id:e}));return this.Union(n,{...t,[r.Hint]:"Enum"})}}n.KeyofEnumBuilder=i}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/custom-types/keyof-enum.js"}],[3405,{"@sinclair/typebox":3412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UintBuilder=void 0;const r=e("@sinclair/typebox");r.TypeRegistry.Set("Uint",(e,t)=>("string"==typeof t||"number"==typeof t)&&!("number"==typeof t&&!Number.isSafeInteger(t)||!/^(?:[1-9]\d*|\d)$/.test(t.toString().replace(/^-/,e.allowNegative?"":"-"))));class i extends r.JavaScriptTypeBuilder{Uint(e){return(0,r.CreateType)({[r.Kind]:"Uint",type:"Uint"},e)}}n.UintBuilder=i}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/custom-types/uint.js"}],[3406,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InvalidParameter=void 0;class r extends Error{field;type;constructor(e,t,n,r){let i="Invalid parameter";i+=` "${t.substring(1)}"`,i+=` (= ${JSON.stringify(r)})`,i+=`: ${e.replace(/'/g,'"')}`,super(i),this.name="InvalidParameter",this.field=t,this.type=n}}n.InvalidParameter=r}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/errors.js"}],[3407,{"./custom-types":3403,"./errors":3406,"./utils":3408,"@sinclair/typebox":3412,"@sinclair/typebox/errors":3411,"ts-mixer":5784},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CloneType=n.Optional=n.Type=void 0,n.Validate=l,n.Assert=d,n.AssertWeak=function(e,t){try{d(e,t)}catch(e){if(!(e instanceof s.InvalidParameter))throw e;if(e.type===i.ValueErrorType.ObjectRequiredProperty)throw e;console.warn("Method params validation failed",e)}};const r=e("@sinclair/typebox");Object.defineProperty(n,"CloneType",{enumerable:!0,get:function(){return r.CloneType}}),Object.defineProperty(n,"Optional",{enumerable:!0,get:function(){return r.Optional}});const i=e("@sinclair/typebox/errors"),o=e("ts-mixer"),a=e("./custom-types"),s=e("./errors"),c=e("./utils");class u extends((0,o.Mixin)(r.JavaScriptTypeBuilder,a.ArrayBufferBuilder,a.BufferBuilder,a.KeyofEnumBuilder,a.UintBuilder)){}function l(e,t){try{return d(e,t),!0}catch{return!1}}function p(e){const t=e.value,n=e.schema.anyOf;if(!n.find(e=>l(e,t))){const o=n.filter(e=>"Object"===e[r.Kind]&&!Object.entries(e.properties).find(([e,n])=>n.const&&n.const!==t[e]));if(1===o.length)d(o[0],t);else if(o.length>1){const e=o.map(e=>({schema:e,errors:[...(0,i.Errors)(e,t)]})).sort((e,t)=>e.errors.length-t.errors.length),[n]=e;d(n.schema,t)}throw new s.InvalidParameter(e.message,e.path,e.type,e.value)}}function d(e,t){const n=[...(0,i.Errors)(e,t)];let[o]=n;for(;o;){if("/"===o.path&&n.length>1);else if(null==o.value&&"Optional"===o.schema[r.OptionalKind]);else if(o.type===i.ValueErrorType.Union)p(o);else{if(o.type!==i.ValueErrorType.Number||"string"!=typeof o.value)throw new s.InvalidParameter(o.message,o.path,o.type,o.value);{const e=o.value,n=Number(e);if(Number.isNaN(n)||e!==n.toString())throw new s.InvalidParameter(o.message,o.path,o.type,o.value);{const e=o.path.slice(1).split("/");(0,c.setDeepValue)(t,e,n)}}}n.shift(),[o]=n}}n.Type=new u}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/index.js"}],[3408,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setDeepValue=function e(t,[n,...r],i){r.length?(n in t||(t[n]={}),e(t[n],r,i)):t[n]=i},n.getDeepValue=function e(t,[n,...r]){return r.length?n in t?e(t[n],r):undefined:t[n]}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils",file:"node_modules/@trezor/schema-utils/lib/utils.js"}],[3409,{"../system/index":3413,"../type/error/index":3451,"../type/extends/extends-undefined":3459,"../type/keyof/index":3497,"../type/never/index":3508,"../type/registry/index":3552,"../type/symbols/index":3574,"../value/check/index":3608,"../value/deref/index":3610,"../value/guard/index":3612,"../value/hash/index":3614,"./function":3410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueErrorIterator=n.ValueErrorsUnknownTypeError=n.ValueErrorType=void 0,n.Errors=function(...e){const t=3===e.length?O(e[0],e[1],"",e[2]):O(e[0],[],"",e[1]);return new b(t)};const r=e("../system/index"),i=e("../type/keyof/index"),o=e("../type/registry/index"),a=e("../type/extends/extends-undefined"),s=e("./function"),c=e("../type/error/index"),u=e("../value/deref/index"),l=e("../value/hash/index"),p=e("../value/check/index"),d=e("../type/symbols/index"),y=e("../type/never/index"),m=e("../value/guard/index");var f;!function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"}(f||(n.ValueErrorType=f={}));class h extends c.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function T(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function g(e){return e!==undefined}n.ValueErrorsUnknownTypeError=h;class b{constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){const e=this.iterator.next();return e.done?undefined:e.value}}function _(e,t,n,r,i=[]){return{type:e,schema:t,path:n,value:r,message:(0,s.GetErrorFunction)()({errorType:e,path:n,schema:t,value:r,errors:i}),errors:i}}function*O(e,t,n,s){const c=g(e.$id)?[...t,e]:t,w=e;switch(w[d.Kind]){case"Any":case"Unknown":return yield*function*(){}();case"Array":return yield*function*(e,t,n,r){if(!(0,m.IsArray)(r))return yield _(f.Array,e,n,r);!g(e.minItems)||r.length>=e.minItems||(yield _(f.ArrayMinItems,e,n,r)),!g(e.maxItems)||r.length<=e.maxItems||(yield _(f.ArrayMaxItems,e,n,r));for(let i=0;i<r.length;i++)yield*O(e.items,t,`${n}/${i}`,r[i]);if(!0!==e.uniqueItems||function(){const e=new Set;for(const t of r){const n=(0,l.Hash)(t);if(e.has(n))return!1;e.add(n)}return!0}()||(yield _(f.ArrayUniqueItems,e,n,r)),!(g(e.contains)||g(e.minContains)||g(e.maxContains)))return;const i=g(e.contains)?e.contains:(0,y.Never)(),o=r.reduce((e,r,o)=>!0===O(i,t,`${n}${o}`,r).next().done?e+1:e,0);0===o&&(yield _(f.ArrayContains,e,n,r)),(0,m.IsNumber)(e.minContains)&&o<e.minContains&&(yield _(f.ArrayMinContains,e,n,r)),(0,m.IsNumber)(e.maxContains)&&o>e.maxContains&&(yield _(f.ArrayMaxContains,e,n,r))}(w,c,n,s);case"AsyncIterator":return yield*function*(e,t,n,r){(0,m.IsAsyncIterator)(r)||(yield _(f.AsyncIterator,e,n,r))}(w,0,n,s);case"BigInt":return yield*function*(e,t,n,r){if(!(0,m.IsBigInt)(r))return yield _(f.BigInt,e,n,r);!g(e.exclusiveMaximum)||r<e.exclusiveMaximum||(yield _(f.BigIntExclusiveMaximum,e,n,r)),!g(e.exclusiveMinimum)||r>e.exclusiveMinimum||(yield _(f.BigIntExclusiveMinimum,e,n,r)),!g(e.maximum)||r<=e.maximum||(yield _(f.BigIntMaximum,e,n,r)),!g(e.minimum)||r>=e.minimum||(yield _(f.BigIntMinimum,e,n,r)),g(e.multipleOf)&&r%e.multipleOf!==BigInt(0)&&(yield _(f.BigIntMultipleOf,e,n,r))}(w,0,n,s);case"Boolean":return yield*function*(e,t,n,r){(0,m.IsBoolean)(r)||(yield _(f.Boolean,e,n,r))}(w,0,n,s);case"Constructor":return yield*function*(e,t,n,r){yield*O(e.returns,t,n,r.prototype)}(w,c,n,s);case"Date":return yield*function*(e,t,n,r){if(!(0,m.IsDate)(r))return yield _(f.Date,e,n,r);!g(e.exclusiveMaximumTimestamp)||r.getTime()<e.exclusiveMaximumTimestamp||(yield _(f.DateExclusiveMaximumTimestamp,e,n,r)),!g(e.exclusiveMinimumTimestamp)||r.getTime()>e.exclusiveMinimumTimestamp||(yield _(f.DateExclusiveMinimumTimestamp,e,n,r)),!g(e.maximumTimestamp)||r.getTime()<=e.maximumTimestamp||(yield _(f.DateMaximumTimestamp,e,n,r)),!g(e.minimumTimestamp)||r.getTime()>=e.minimumTimestamp||(yield _(f.DateMinimumTimestamp,e,n,r)),g(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0&&(yield _(f.DateMultipleOfTimestamp,e,n,r))}(w,0,n,s);case"Function":return yield*function*(e,t,n,r){(0,m.IsFunction)(r)||(yield _(f.Function,e,n,r))}(w,0,n,s);case"Integer":return yield*function*(e,t,n,r){if(!(0,m.IsInteger)(r))return yield _(f.Integer,e,n,r);!g(e.exclusiveMaximum)||r<e.exclusiveMaximum||(yield _(f.IntegerExclusiveMaximum,e,n,r)),!g(e.exclusiveMinimum)||r>e.exclusiveMinimum||(yield _(f.IntegerExclusiveMinimum,e,n,r)),!g(e.maximum)||r<=e.maximum||(yield _(f.IntegerMaximum,e,n,r)),!g(e.minimum)||r>=e.minimum||(yield _(f.IntegerMinimum,e,n,r)),g(e.multipleOf)&&r%e.multipleOf!==0&&(yield _(f.IntegerMultipleOf,e,n,r))}(w,0,n,s);case"Intersect":return yield*function*(e,t,n,r){let o=!1;for(const i of e.allOf)for(const e of O(i,t,n,r))o=!0,yield e;if(o)return yield _(f.Intersect,e,n,r);if(!1===e.unevaluatedProperties){const t=new RegExp((0,i.KeyOfPattern)(e));for(const i of Object.getOwnPropertyNames(r))t.test(i)||(yield _(f.IntersectUnevaluatedProperties,e,`${n}/${i}`,r))}if("object"==typeof e.unevaluatedProperties){const o=new RegExp((0,i.KeyOfPattern)(e));for(const i of Object.getOwnPropertyNames(r))if(!o.test(i)){const o=O(e.unevaluatedProperties,t,`${n}/${i}`,r[i]).next();o.done||(yield o.value)}}}(w,c,n,s);case"Iterator":return yield*function*(e,t,n,r){(0,m.IsIterator)(r)||(yield _(f.Iterator,e,n,r))}(w,0,n,s);case"Literal":return yield*function*(e,t,n,r){r!==e.const&&(yield _(f.Literal,e,n,r))}(w,0,n,s);case"Never":return yield*function*(e,t,n,r){yield _(f.Never,e,n,r)}(w,0,n,s);case"Not":return yield*function*(e,t,n,r){!0===O(e.not,t,n,r).next().done&&(yield _(f.Not,e,n,r))}(w,c,n,s);case"Null":return yield*function*(e,t,n,r){(0,m.IsNull)(r)||(yield _(f.Null,e,n,r))}(w,0,n,s);case"Number":return yield*function*(e,t,n,i){if(!r.TypeSystemPolicy.IsNumberLike(i))return yield _(f.Number,e,n,i);!g(e.exclusiveMaximum)||i<e.exclusiveMaximum||(yield _(f.NumberExclusiveMaximum,e,n,i)),!g(e.exclusiveMinimum)||i>e.exclusiveMinimum||(yield _(f.NumberExclusiveMinimum,e,n,i)),!g(e.maximum)||i<=e.maximum||(yield _(f.NumberMaximum,e,n,i)),!g(e.minimum)||i>=e.minimum||(yield _(f.NumberMinimum,e,n,i)),g(e.multipleOf)&&i%e.multipleOf!==0&&(yield _(f.NumberMultipleOf,e,n,i))}(w,0,n,s);case"Object":return yield*function*(e,t,n,i){if(!r.TypeSystemPolicy.IsObjectLike(i))return yield _(f.Object,e,n,i);!g(e.minProperties)||Object.getOwnPropertyNames(i).length>=e.minProperties||(yield _(f.ObjectMinProperties,e,n,i)),!g(e.maxProperties)||Object.getOwnPropertyNames(i).length<=e.maxProperties||(yield _(f.ObjectMaxProperties,e,n,i));const o=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),c=Object.getOwnPropertyNames(i);for(const t of o)c.includes(t)||(yield _(f.ObjectRequiredProperty,e.properties[t],`${n}/${T(t)}`,undefined));if(!1===e.additionalProperties)for(const t of c)s.includes(t)||(yield _(f.ObjectAdditionalProperties,e,`${n}/${T(t)}`,i[t]));if("object"==typeof e.additionalProperties)for(const r of c)s.includes(r)||(yield*O(e.additionalProperties,t,`${n}/${T(r)}`,i[r]));for(const o of s){const s=e.properties[o];e.required&&e.required.includes(o)?(yield*O(s,t,`${n}/${T(o)}`,i[o]),(0,a.ExtendsUndefinedCheck)(e)&&!(o in i)&&(yield _(f.ObjectRequiredProperty,s,`${n}/${T(o)}`,undefined))):r.TypeSystemPolicy.IsExactOptionalProperty(i,o)&&(yield*O(s,t,`${n}/${T(o)}`,i[o]))}}(w,c,n,s);case"Promise":return yield*function*(e,t,n,r){(0,m.IsPromise)(r)||(yield _(f.Promise,e,n,r))}(w,0,n,s);case"Record":return yield*function*(e,t,n,i){if(!r.TypeSystemPolicy.IsRecordLike(i))return yield _(f.Object,e,n,i);!g(e.minProperties)||Object.getOwnPropertyNames(i).length>=e.minProperties||(yield _(f.ObjectMinProperties,e,n,i)),!g(e.maxProperties)||Object.getOwnPropertyNames(i).length<=e.maxProperties||(yield _(f.ObjectMaxProperties,e,n,i));const[o,a]=Object.entries(e.patternProperties)[0],s=new RegExp(o);for(const[e,r]of Object.entries(i))s.test(e)&&(yield*O(a,t,`${n}/${T(e)}`,r));if("object"==typeof e.additionalProperties)for(const[r,o]of Object.entries(i))s.test(r)||(yield*O(e.additionalProperties,t,`${n}/${T(r)}`,o));if(!1===e.additionalProperties)for(const[t,r]of Object.entries(i))if(!s.test(t))return yield _(f.ObjectAdditionalProperties,e,`${n}/${T(t)}`,r)}(w,c,n,s);case"Ref":case"This":return yield*function*(e,t,n,r){yield*O((0,u.Deref)(e,t),t,n,r)}(w,c,n,s);case"RegExp":return yield*function*(e,t,n,r){return(0,m.IsString)(r)?(!g(e.minLength)||r.length>=e.minLength||(yield _(f.StringMinLength,e,n,r)),!g(e.maxLength)||r.length<=e.maxLength||(yield _(f.StringMaxLength,e,n,r)),new RegExp(e.source,e.flags).test(r)?void 0:yield _(f.RegExp,e,n,r)):yield _(f.String,e,n,r)}(w,0,n,s);case"String":return yield*function*(e,t,n,r){if(!(0,m.IsString)(r))return yield _(f.String,e,n,r);!g(e.minLength)||r.length>=e.minLength||(yield _(f.StringMinLength,e,n,r)),!g(e.maxLength)||r.length<=e.maxLength||(yield _(f.StringMaxLength,e,n,r)),(0,m.IsString)(e.pattern)&&(new RegExp(e.pattern).test(r)||(yield _(f.StringPattern,e,n,r)));(0,m.IsString)(e.format)&&(o.FormatRegistry.Has(e.format)?o.FormatRegistry.Get(e.format)(r)||(yield _(f.StringFormat,e,n,r)):yield _(f.StringFormatUnknown,e,n,r))}(w,0,n,s);case"Symbol":return yield*function*(e,t,n,r){(0,m.IsSymbol)(r)||(yield _(f.Symbol,e,n,r))}(w,0,n,s);case"TemplateLiteral":return yield*function*(e,t,n,r){if(!(0,m.IsString)(r))return yield _(f.String,e,n,r);new RegExp(e.pattern).test(r)||(yield _(f.StringPattern,e,n,r))}(w,0,n,s);case"Tuple":return yield*function*(e,t,n,r){if(!(0,m.IsArray)(r))return yield _(f.Tuple,e,n,r);if(e.items===undefined&&0!==r.length)return yield _(f.TupleLength,e,n,r);if(r.length!==e.maxItems)return yield _(f.TupleLength,e,n,r);if(e.items)for(let i=0;i<e.items.length;i++)yield*O(e.items[i],t,`${n}/${i}`,r[i])}(w,c,n,s);case"Undefined":return yield*function*(e,t,n,r){(0,m.IsUndefined)(r)||(yield _(f.Undefined,e,n,r))}(w,0,n,s);case"Union":return yield*function*(e,t,n,r){if((0,p.Check)(e,t,r))return;const i=e.anyOf.map(e=>new b(O(e,t,n,r)));yield _(f.Union,e,n,r,i)}(w,c,n,s);case"Uint8Array":return yield*function*(e,t,n,r){if(!(0,m.IsUint8Array)(r))return yield _(f.Uint8Array,e,n,r);!g(e.maxByteLength)||r.length<=e.maxByteLength||(yield _(f.Uint8ArrayMaxByteLength,e,n,r)),!g(e.minByteLength)||r.length>=e.minByteLength||(yield _(f.Uint8ArrayMinByteLength,e,n,r))}(w,0,n,s);case"Void":return yield*function*(e,t,n,i){r.TypeSystemPolicy.IsVoidLike(i)||(yield _(f.Void,e,n,i))}(w,0,n,s);default:if(!o.TypeRegistry.Has(w[d.Kind]))throw new h(e);return yield*function*(e,t,n,r){o.TypeRegistry.Get(e[d.Kind])(e,r)||(yield _(f.Kind,e,n,r))}(w,0,n,s)}}n.ValueErrorIterator=b}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/errors/errors.js"}],[341,{"@metamask/storage-service":3017,"webextension-polyfill":5864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserStorageAdapter=void 0;var r,i=(r=e("webextension-polyfill"))&&r.__esModule?r:{default:r},o=e("@metamask/storage-service");function a(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function s(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var c=new WeakSet;function u(e,t){return`${o.STORAGE_KEY_PREFIX}${e}:${t}`}n.BrowserStorageAdapter=class{constructor(){a(this,c)}async getItem(e,t){try{const n=s(c,this,u).call(this,e,t),r=await i.default.storage.local.get(n);return n in r?{result:r[n]}:{}}catch(n){return console.error(`StorageService: Failed to get item: ${e}:${t}`,n),{error:n}}}async setItem(e,t,n){try{const r=s(c,this,u).call(this,e,t);await i.default.storage.local.set({[r]:n})}catch(n){throw console.error(`StorageService: Failed to set item: ${e}:${t}`,n),n}}async removeItem(e,t){try{const n=s(c,this,u).call(this,e,t);await i.default.storage.local.remove(n)}catch(n){throw console.error(`StorageService: Failed to remove item: ${e}:${t}`,n),n}}async getAllKeys(e){try{const t=`${o.STORAGE_KEY_PREFIX}${e}:`,n=await i.default.storage.local.get(null);return Object.keys(n).filter(e=>e.startsWith(t)).map(e=>e.slice(t.length))}catch(t){throw console.error(`StorageService: Failed to get keys for ${e}`,t),t}}async clear(e){try{const t=(await this.getAllKeys(e)).map(t=>s(c,this,u).call(this,e,t));t.length>0&&await i.default.storage.local.remove(t)}catch(t){throw console.error(`StorageService: Failed to clear namespace ${e}`,t),t}}}}}},{package:"$root$",file:"app/scripts/lib/stores/browser-storage-adapter.ts"}],[3410,{"../type/symbols/index":3574,"./errors":3409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultErrorFunction=o,n.SetErrorFunction=function(e){a=e},n.GetErrorFunction=function(){return a};const r=e("../type/symbols/index"),i=e("./errors");function o(e){switch(e.errorType){case i.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case i.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case i.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case i.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case i.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case i.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case i.ValueErrorType.Array:return"Expected array";case i.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case i.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case i.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case i.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case i.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case i.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case i.ValueErrorType.BigInt:return"Expected bigint";case i.ValueErrorType.Boolean:return"Expected boolean";case i.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case i.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case i.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case i.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case i.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case i.ValueErrorType.Date:return"Expected Date";case i.ValueErrorType.Function:return"Expected function";case i.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case i.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case i.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case i.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case i.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case i.ValueErrorType.Integer:return"Expected integer";case i.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case i.ValueErrorType.Intersect:return"Expected all values to match";case i.ValueErrorType.Iterator:return"Expected Iterator";case i.ValueErrorType.Literal:return`Expected ${"string"==typeof e.schema.const?`'${e.schema.const}'`:e.schema.const}`;case i.ValueErrorType.Never:return"Never";case i.ValueErrorType.Not:return"Value should not match";case i.ValueErrorType.Null:return"Expected null";case i.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case i.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case i.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case i.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case i.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case i.ValueErrorType.Number:return"Expected number";case i.ValueErrorType.Object:return"Expected object";case i.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case i.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case i.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case i.ValueErrorType.ObjectRequiredProperty:return"Expected required property";case i.ValueErrorType.Promise:return"Expected Promise";case i.ValueErrorType.RegExp:return"Expected string to match regular expression";case i.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case i.ValueErrorType.StringFormat:return`Expected string to match '${e.schema.format}' format`;case i.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case i.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case i.ValueErrorType.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case i.ValueErrorType.String:return"Expected string";case i.ValueErrorType.Symbol:return"Expected symbol";case i.ValueErrorType.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case i.ValueErrorType.Tuple:return"Expected tuple";case i.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case i.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case i.ValueErrorType.Uint8Array:return"Expected Uint8Array";case i.ValueErrorType.Undefined:return"Expected undefined";case i.ValueErrorType.Union:return"Expected union value";case i.ValueErrorType.Void:return"Expected void";case i.ValueErrorType.Kind:return`Expected kind '${e.schema[r.Kind]}'`;default:return"Unknown error type"}}let a=o}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/errors/function.js"}],[3411,{"./errors":3409,"./function":3410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./errors"),n),i(e("./function"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/errors/index.js"}],[3412,{"./type/any/index":3417,"./type/array/index":3419,"./type/async-iterator/index":3421,"./type/awaited/index":3423,"./type/bigint/index":3425,"./type/boolean/index":3427,"./type/clone/index":3428,"./type/composite/index":3432,"./type/const/index":3434,"./type/constructor-parameters/index":3436,"./type/constructor/index":3438,"./type/create/index":3440,"./type/date/index":3443,"./type/deref/index":3445,"./type/enum/index":3449,"./type/error/index":3451,"./type/exclude/index":3455,"./type/extends/index":3461,"./type/extract/index":3465,"./type/function/index":3467,"./type/guard/index":3468,"./type/helpers/index":3473,"./type/indexed/index":3474,"./type/instance-type/index":3479,"./type/integer/index":3481,"./type/intersect/index":3483,"./type/intrinsic/index":3489,"./type/iterator/index":3495,"./type/keyof/index":3497,"./type/literal/index":3502,"./type/mapped/index":3504,"./type/never/index":3508,"./type/not/index":3510,"./type/null/index":3512,"./type/number/index":3514,"./type/object/index":3516,"./type/omit/index":3518,"./type/optional/index":3522,"./type/parameters/index":3525,"./type/partial/index":3527,"./type/patterns/index":3530,"./type/pick/index":3532,"./type/promise/index":3536,"./type/readonly-optional/index":3538,"./type/readonly/index":3540,"./type/record/index":3543,"./type/recursive/index":3545,"./type/ref/index":3547,"./type/regexp/index":3549,"./type/registry/index":3552,"./type/required/index":3554,"./type/rest/index":3557,"./type/return-type/index":3559,"./type/schema/index":3562,"./type/sets/index":3564,"./type/static/index":3566,"./type/strict/index":3568,"./type/string/index":3570,"./type/symbol/index":3572,"./type/symbols/index":3574,"./type/template-literal/index":3578,"./type/transform/index":3584,"./type/tuple/index":3586,"./type/type/index":3588,"./type/uint8array/index":3592,"./type/undefined/index":3594,"./type/union/index":3596,"./type/unknown/index":3601,"./type/unsafe/index":3603,"./type/void/index":3605},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./type/clone/index"),n),i(e("./type/create/index"),n),i(e("./type/error/index"),n),i(e("./type/guard/index"),n),i(e("./type/helpers/index"),n),i(e("./type/patterns/index"),n),i(e("./type/registry/index"),n),i(e("./type/sets/index"),n),i(e("./type/symbols/index"),n),i(e("./type/any/index"),n),i(e("./type/array/index"),n),i(e("./type/async-iterator/index"),n),i(e("./type/awaited/index"),n),i(e("./type/bigint/index"),n),i(e("./type/boolean/index"),n),i(e("./type/composite/index"),n),i(e("./type/const/index"),n),i(e("./type/constructor/index"),n),i(e("./type/constructor-parameters/index"),n),i(e("./type/date/index"),n),i(e("./type/deref/index"),n),i(e("./type/enum/index"),n),i(e("./type/exclude/index"),n),i(e("./type/extends/index"),n),i(e("./type/extract/index"),n),i(e("./type/function/index"),n),i(e("./type/indexed/index"),n),i(e("./type/instance-type/index"),n),i(e("./type/integer/index"),n),i(e("./type/intersect/index"),n),i(e("./type/iterator/index"),n),i(e("./type/intrinsic/index"),n),i(e("./type/keyof/index"),n),i(e("./type/literal/index"),n),i(e("./type/mapped/index"),n),i(e("./type/never/index"),n),i(e("./type/not/index"),n),i(e("./type/null/index"),n),i(e("./type/number/index"),n),i(e("./type/object/index"),n),i(e("./type/omit/index"),n),i(e("./type/optional/index"),n),i(e("./type/parameters/index"),n),i(e("./type/partial/index"),n),i(e("./type/pick/index"),n),i(e("./type/promise/index"),n),i(e("./type/readonly/index"),n),i(e("./type/readonly-optional/index"),n),i(e("./type/record/index"),n),i(e("./type/recursive/index"),n),i(e("./type/ref/index"),n),i(e("./type/regexp/index"),n),i(e("./type/required/index"),n),i(e("./type/rest/index"),n),i(e("./type/return-type/index"),n),i(e("./type/schema/index"),n),i(e("./type/static/index"),n),i(e("./type/strict/index"),n),i(e("./type/string/index"),n),i(e("./type/symbol/index"),n),i(e("./type/template-literal/index"),n),i(e("./type/transform/index"),n),i(e("./type/tuple/index"),n),i(e("./type/uint8array/index"),n),i(e("./type/undefined/index"),n),i(e("./type/union/index"),n),i(e("./type/unknown/index"),n),i(e("./type/unsafe/index"),n),i(e("./type/void/index"),n),i(e("./type/type/index"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/index.js"}],[3413,{"./policy":3414,"./system":3415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./policy"),n),i(e("./system"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/system/index.js"}],[3414,{"../value/guard/index":3612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeSystemPolicy=void 0;const r=e("../value/guard/index");var i;!function(e){function t(t){const n=(0,r.IsObject)(t);return e.AllowArrayObject?n:n&&!(0,r.IsArray)(t)}e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1,e.IsExactOptionalProperty=function(t,n){return e.ExactOptionalPropertyTypes?n in t:t[n]!==undefined},e.IsObjectLike=t,e.IsRecordLike=function(e){return t(e)&&!(e instanceof Date)&&!(e instanceof Uint8Array)},e.IsNumberLike=function(t){return e.AllowNaN?(0,r.IsNumber)(t):Number.isFinite(t)},e.IsVoidLike=function(t){const n=(0,r.IsUndefined)(t);return e.AllowNullVoid?n||null===t:n}}(i||(n.TypeSystemPolicy=i={}))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/system/policy.js"}],[3415,{"../type/error/index":3451,"../type/registry/index":3552,"../type/symbols/index":3574,"../type/unsafe/index":3603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeSystem=n.TypeSystemDuplicateFormat=n.TypeSystemDuplicateTypeKind=void 0;const r=e("../type/registry/index"),i=e("../type/unsafe/index"),o=e("../type/symbols/index"),a=e("../type/error/index");class s extends a.TypeBoxError{constructor(e){super(`Duplicate type kind '${e}' detected`)}}n.TypeSystemDuplicateTypeKind=s;class c extends a.TypeBoxError{constructor(e){super(`Duplicate string format '${e}' detected`)}}var u;n.TypeSystemDuplicateFormat=c,function(e){e.Type=function(e,t){if(r.TypeRegistry.Has(e))throw new s(e);return r.TypeRegistry.Set(e,t),(t={})=>(0,i.Unsafe)({...t,[o.Kind]:e})},e.Format=function(e,t){if(r.FormatRegistry.Has(e))throw new c(e);return r.FormatRegistry.Set(e,t),e}}(u||(n.TypeSystem=u={}))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/system/system.js"}],[3416,{"../create/index":3440,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Any=function(e){return(0,r.CreateType)({[i.Kind]:"Any"},e)};const r=e("../create/index"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/any/any.js"}],[3417,{"./any":3416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./any"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/any/index.js"}],[3418,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Array=function(e,t){return(0,r.CreateType)({[i.Kind]:"Array",type:"array",items:e},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/array/array.js"}],[3419,{"./array":3418},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./array"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/array/index.js"}],[3420,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncIterator=function(e,t){return(0,i.CreateType)({[r.Kind]:"AsyncIterator",type:"AsyncIterator",items:e},t)};const r=e("../symbols/index"),i=e("../create/type")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/async-iterator/async-iterator.js"}],[3421,{"./async-iterator":3420},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./async-iterator"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/async-iterator/index.js"}],[3422,{"../create/type":3441,"../guard/kind":3469,"../intersect/index":3483,"../union/index":3596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Awaited=function(e,t){return(0,o.CreateType)(c(e),t)};const r=e("../intersect/index"),i=e("../union/index"),o=e("../create/type"),a=e("../guard/kind");function s(e){return e.map(e=>c(e))}function c(e){return(0,a.IsIntersect)(e)?function(e){return(0,r.Intersect)(s(e))}(e.allOf):(0,a.IsUnion)(e)?function(e){return(0,i.Union)(s(e))}(e.anyOf):(0,a.IsPromise)(e)?function(e){return c(e)}(e.item):e}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/awaited/awaited.js"}],[3423,{"./awaited":3422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./awaited"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/awaited/index.js"}],[3424,{"../create/index":3440,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BigInt=function(e){return(0,i.CreateType)({[r.Kind]:"BigInt",type:"bigint"},e)};const r=e("../symbols/index"),i=e("../create/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/bigint/bigint.js"}],[3425,{"./bigint":3424},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./bigint"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/bigint/index.js"}],[3426,{"../create/index":3440,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Boolean=function(e){return(0,i.CreateType)({[r.Kind]:"Boolean",type:"boolean"},e)};const r=e("../symbols/index"),i=e("../create/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/boolean/boolean.js"}],[3427,{"./boolean":3426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./boolean"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/boolean/index.js"}],[3428,{"./type":3429,"./value":3430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./type"),n),i(e("./value"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/clone/index.js"}],[3429,{"./value":3430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CloneRest=function(e){return e.map(e=>i(e))},n.CloneType=i;const r=e("./value");function i(e,t){return t===undefined?(0,r.Clone)(e):(0,r.Clone)({...t,...e})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/clone/type.js"}],[3430,{"../guard/value":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Clone=function(e){return i(e)};const r=e("../guard/value");function i(e){return r.IsArray(e)?function(e){return e.map(e=>i(e))}(e):r.IsDate(e)?function(e){return new Date(e.getTime())}(e):r.IsUint8Array(e)?function(e){return new Uint8Array(e)}(e):r.IsRegExp(e)?function(e){return new RegExp(e.source,e.flags)}(e):r.IsObject(e)?function(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=i(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=i(e[n]);return t}(e):e}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/clone/value.js"}],[3431,{"../guard/kind":3469,"../indexed/index":3474,"../intersect/index":3483,"../keyof/index":3497,"../object/index":3516,"../sets/index":3564},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Composite=function(e,t){const n=function(e){const t=[];for(const n of e)t.push(...(0,o.KeyOfPropertyKeys)(n));return(0,s.SetDistinct)(t)}(e),i=function(e,t){const n={};for(const i of t)n[i]=(0,r.IntersectEvaluated)(u(e,i));return n}(e,n);return(0,a.Object)(i,t)};const r=e("../intersect/index"),i=e("../indexed/index"),o=e("../keyof/index"),a=e("../object/index"),s=e("../sets/index"),c=e("../guard/kind");function u(e,t){const n=[];for(const r of e)n.push(...(0,i.IndexFromPropertyKeys)(r,[t]));return function(e){return e.filter(e=>!(0,c.IsNever)(e))}(n)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/composite/composite.js"}],[3432,{"./composite":3431},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./composite"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/composite/index.js"}],[3433,{"../any/index":3417,"../bigint/index":3425,"../create/index":3440,"../date/index":3443,"../function/index":3467,"../guard/value":3471,"../literal/index":3502,"../null/index":3512,"../object/index":3516,"../readonly/index":3540,"../symbol/index":3572,"../tuple/index":3586,"../uint8array/index":3592,"../undefined/index":3594,"../unknown/index":3601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Const=function(e,t){return(0,h.CreateType)(b(e,!0),t)};const r=e("../any/index"),i=e("../bigint/index"),o=e("../date/index"),a=e("../function/index"),s=e("../literal/index"),c=e("../null/index"),u=e("../object/index"),l=e("../symbol/index"),p=e("../tuple/index"),d=e("../readonly/index"),y=e("../undefined/index"),m=e("../uint8array/index"),f=e("../unknown/index"),h=e("../create/index"),T=e("../guard/value");function g(e,t){return!0===t?e:(0,d.Readonly)(e)}function b(e,t){return(0,T.IsAsyncIterator)(e)||(0,T.IsIterator)(e)?g((0,r.Any)(),t):(0,T.IsArray)(e)?(0,d.Readonly)((0,p.Tuple)(e.map(e=>b(e,!1)))):(0,T.IsUint8Array)(e)?(0,m.Uint8Array)():(0,T.IsDate)(e)?(0,o.Date)():(0,T.IsObject)(e)?g((0,u.Object)(function(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=(0,d.Readonly)(b(e[n],!1));return t}(e)),t):(0,T.IsFunction)(e)?g((0,a.Function)([],(0,f.Unknown)()),t):(0,T.IsUndefined)(e)?(0,y.Undefined)():(0,T.IsNull)(e)?(0,c.Null)():(0,T.IsSymbol)(e)?(0,l.Symbol)():(0,T.IsBigInt)(e)?(0,i.BigInt)():(0,T.IsNumber)(e)||(0,T.IsBoolean)(e)||(0,T.IsString)(e)?(0,s.Literal)(e):(0,u.Object)({})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/const/const.js"}],[3434,{"./const":3433},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./const"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/const/index.js"}],[3435,{"../tuple/index":3586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorParameters=function(e,t){return(0,r.Tuple)(e.parameters,t)};const r=e("../tuple/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/constructor-parameters/constructor-parameters.js"}],[3436,{"./constructor-parameters":3435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constructor-parameters"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/constructor-parameters/index.js"}],[3437,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Constructor=function(e,t,n){return(0,r.CreateType)({[i.Kind]:"Constructor",type:"Constructor",parameters:e,returns:t},n)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/constructor/constructor.js"}],[3438,{"./constructor":3437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constructor"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/constructor/index.js"}],[3439,{"../guard/value":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Immutable=i;const r=e("../guard/value");function i(e){return r.IsArray(e)?function(e){return globalThis.Object.freeze(e).map(e=>i(e))}(e):r.IsDate(e)||r.IsUint8Array(e)||r.IsRegExp(e)?e:r.IsObject(e)?function(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=i(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=i(e[n]);return globalThis.Object.freeze(t)}(e):e}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/create/immutable.js"}],[3440,{"./type":3441},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./type"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/create/index.js"}],[3441,{"../../system/policy":3414,"../clone/value":3430,"./immutable":3439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateType=function(e,t){const n=t!==undefined?{...t,...e}:e;switch(r.TypeSystemPolicy.InstanceMode){case"freeze":return(0,i.Immutable)(n);case"clone":return(0,o.Clone)(n);default:return n}};const r=e("../../system/policy"),i=e("./immutable"),o=e("../clone/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/create/type.js"}],[3442,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Date=function(e){return(0,i.CreateType)({[r.Kind]:"Date",type:"Date"},e)};const r=e("../symbols/index"),i=e("../create/type")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/date/date.js"}],[3443,{"./date":3442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./date"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/date/index.js"}],[3444,{"../clone/type":3429,"../discard/index":3447,"../guard/kind":3469,"../guard/value":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Deref=l;const r=e("../clone/type"),i=e("../discard/index"),o=e("../guard/value"),a=e("../guard/kind");function s(e,t){return e.map(e=>l(e,t))}function c(e,t){return e.properties=function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=l(e[r],t);return n}(e.properties,t),e}function u(e,t){return(0,a.IsConstructor)(e)||(0,a.IsFunction)(e)?function(e,t){return e.parameters=s(e.parameters,t),e.returns=l(e.returns,t),e}(e,t):(0,a.IsIntersect)(e)?function(e,t){return e.allOf=s(e.allOf,t),e}(e,t):(0,a.IsUnion)(e)?function(e,t){return e.anyOf=s(e.anyOf,t),e}(e,t):(0,a.IsTuple)(e)?function(e,t){return(0,o.IsUndefined)(e.items)||(e.items=s(e.items,t)),e}(e,t):(0,a.IsArray)(e)?function(e,t){return e.items=l(e.items,t),e}(e,t):(0,a.IsObject)(e)?c(e,t):(0,a.IsPromise)(e)?function(e,t){return e.item=l(e.item,t),e}(e,t):(0,a.IsAsyncIterator)(e)||(0,a.IsIterator)(e)?function(e,t){return e.items=l(e.items,t),e}(e,t):(0,a.IsRef)(e)?function(e,t){const n=t.find(t=>t.$id===e.$ref);if(n===undefined)throw Error(`Unable to dereference schema with $id ${e.$ref}`);return l((0,i.Discard)(n,["$id"]),t)}(e,t):e}function l(e,t){return u((0,r.CloneType)(e),(0,r.CloneRest)(t))}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/deref/deref.js"}],[3445,{"./deref":3444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./deref"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/deref/index.js"}],[3446,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Discard=function(e,t){return t.reduce((e,t)=>function(e,t){const{[t]:n,...r}=e;return r}(e,t),e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/discard/discard.js"}],[3447,{"./discard":3446},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./discard"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/discard/index.js"}],[3448,{"../guard/value":3471,"../literal/index":3502,"../symbols/index":3574,"../union/index":3596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Enum=function(e,t){if((0,a.IsUndefined)(e))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(e).filter(e=>isNaN(e)).map(t=>e[t]),s=[...new Set(n)].map(e=>(0,r.Literal)(e));return(0,o.Union)(s,{...t,[i.Hint]:"Enum"})};const r=e("../literal/index"),i=e("../symbols/index"),o=e("../union/index"),a=e("../guard/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/enum/enum.js"}],[3449,{"./enum":3448},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./enum"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/enum/index.js"}],[3450,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeBoxError=void 0;class r extends Error{constructor(e){super(e)}}n.TypeBoxError=r}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/error/error.js"}],[3451,{"./error":3450},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./error"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/error/index.js"}],[3452,{"../mapped/index":3504,"./exclude":3454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExcludeFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.Exclude)(e[r],t);return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./exclude")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/exclude/exclude-from-mapped-result.js"}],[3453,{"../template-literal/index":3578,"./exclude":3454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExcludeFromTemplateLiteral=function(e,t){return(0,r.Exclude)((0,i.TemplateLiteralToUnion)(e),t)};const r=e("./exclude"),i=e("../template-literal/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/exclude/exclude-from-template-literal.js"}],[3454,{"../create/type":3441,"../extends/index":3461,"../guard/kind":3469,"../never/index":3508,"../union/index":3596,"./exclude-from-mapped-result":3452,"./exclude-from-template-literal":3453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Exclude=function(e,t,n={}){return(0,u.IsTemplateLiteral)(e)?(0,r.CreateType)((0,c.ExcludeFromTemplateLiteral)(e,t),n):(0,u.IsMappedResult)(e)?(0,r.CreateType)((0,s.ExcludeFromMappedResult)(e,t),n):(0,r.CreateType)((0,u.IsUnion)(e)?function(e,t){const n=e.filter(e=>(0,a.ExtendsCheck)(e,t)===a.ExtendsResult.False);return 1===n.length?n[0]:(0,i.Union)(n)}(e.anyOf,t):(0,a.ExtendsCheck)(e,t)!==a.ExtendsResult.False?(0,o.Never)():e,n)};const r=e("../create/type"),i=e("../union/index"),o=e("../never/index"),a=e("../extends/index"),s=e("./exclude-from-mapped-result"),c=e("./exclude-from-template-literal"),u=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/exclude/exclude.js"}],[3455,{"./exclude":3454,"./exclude-from-mapped-result":3452,"./exclude-from-template-literal":3453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./exclude-from-mapped-result"),n),i(e("./exclude-from-template-literal"),n),i(e("./exclude"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/exclude/index.js"}],[3456,{"../any/index":3417,"../error/index":3451,"../function/index":3467,"../guard/index":3468,"../number/index":3514,"../patterns/index":3530,"../string/index":3570,"../symbols/index":3574,"../template-literal/index":3578,"../unknown/index":3601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendsResult=n.ExtendsResolverError=void 0,n.ExtendsCheck=function(e,t){return q(e,t)};const r=e("../any/index"),i=e("../function/index"),o=e("../number/index"),a=e("../string/index"),s=e("../unknown/index"),c=e("../template-literal/index"),u=e("../patterns/index"),l=e("../symbols/index"),p=e("../error/index"),d=e("../guard/index");class y extends p.TypeBoxError{}var m;function f(e){return e===m.False?e:m.True}function h(e){throw new y(e)}function T(e){return d.TypeGuard.IsNever(e)||d.TypeGuard.IsIntersect(e)||d.TypeGuard.IsUnion(e)||d.TypeGuard.IsUnknown(e)||d.TypeGuard.IsAny(e)}function g(e,t){return d.TypeGuard.IsNever(t)?v(e,t):d.TypeGuard.IsIntersect(t)?w(e,t):d.TypeGuard.IsUnion(t)?F(e,t):d.TypeGuard.IsUnknown(t)?G(e,t):d.TypeGuard.IsAny(t)?b(e,t):h("StructuralRight")}function b(e,t){return m.True}function _(e,t){return d.TypeGuard.IsLiteralBoolean(e)||d.TypeGuard.IsBoolean(e)?m.True:m.False}function O(e,t){return d.TypeGuard.IsLiteral(e)&&d.ValueGuard.IsNumber(e.const)||d.TypeGuard.IsNumber(e)||d.TypeGuard.IsInteger(e)?m.True:m.False}function w(e,t){return t.allOf.every(t=>q(e,t)===m.True)?m.True:m.False}function v(e,t){return m.False}function S(e){let[t,n]=[e,0];for(;d.TypeGuard.IsNot(t);)t=t.not,n+=1;return n%2==0?t:(0,s.Unknown)()}function x(e,t){return d.TypeGuard.IsLiteralNumber(e)||d.TypeGuard.IsNumber(e)||d.TypeGuard.IsInteger(e)?m.True:m.False}function E(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function P(e){return k(e)}function I(e){return E(e,0)||E(e,1)&&"description"in e.properties&&d.TypeGuard.IsUnion(e.properties.description)&&2===e.properties.description.anyOf.length&&(d.TypeGuard.IsString(e.properties.description.anyOf[0])&&d.TypeGuard.IsUndefined(e.properties.description.anyOf[1])||d.TypeGuard.IsString(e.properties.description.anyOf[1])&&d.TypeGuard.IsUndefined(e.properties.description.anyOf[0]))}function j(e){return E(e,0)}function A(e){return E(e,0)}function k(e){const t=(0,o.Number)();return E(e,0)||E(e,1)&&"length"in e.properties&&f(q(e.properties.length,t))===m.True}function M(e,t){return q(e,t)===m.False||d.TypeGuard.IsOptional(e)&&!d.TypeGuard.IsOptional(t)?m.False:m.True}function C(e,t){return d.TypeGuard.IsUnknown(e)?m.False:d.TypeGuard.IsAny(e)?m.Union:d.TypeGuard.IsNever(e)||d.TypeGuard.IsLiteralString(e)&&P(t)||d.TypeGuard.IsLiteralNumber(e)&&j(t)||d.TypeGuard.IsLiteralBoolean(e)&&A(t)||d.TypeGuard.IsSymbol(e)&&I(t)||d.TypeGuard.IsBigInt(e)&&E(t,0)||d.TypeGuard.IsString(e)&&P(t)||d.TypeGuard.IsSymbol(e)&&I(t)||d.TypeGuard.IsNumber(e)&&j(t)||d.TypeGuard.IsInteger(e)&&j(t)||d.TypeGuard.IsBoolean(e)&&A(t)||d.TypeGuard.IsUint8Array(e)&&function(e){return k(e)}(t)||d.TypeGuard.IsDate(e)&&function(e){return E(e,0)}(t)||d.TypeGuard.IsConstructor(e)&&function(e){return E(e,0)}(t)||d.TypeGuard.IsFunction(e)&&function(e){const t=(0,o.Number)();return E(e,0)||E(e,1)&&"length"in e.properties&&f(q(e.properties.length,t))===m.True}(t)?m.True:d.TypeGuard.IsRecord(e)&&d.TypeGuard.IsString(N(e))?"Record"===t[l.Hint]?m.True:m.False:d.TypeGuard.IsRecord(e)&&d.TypeGuard.IsNumber(N(e))&&E(t,0)?m.True:m.False}function R(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)&&function(e){const t=(0,i.Function)([(0,r.Any)()],(0,r.Any)());return E(e,0)||E(e,1)&&"then"in e.properties&&f(q(e.properties.then,t))===m.True}(t)?m.True:d.TypeGuard.IsPromise(t)?f(q(e.item,t.item)):m.False}function N(e){return u.PatternNumberExact in e.patternProperties?(0,o.Number)():u.PatternStringExact in e.patternProperties?(0,a.String)():h("Unknown record key pattern")}function z(e){return u.PatternNumberExact in e.patternProperties?e.patternProperties[u.PatternNumberExact]:u.PatternStringExact in e.patternProperties?e.patternProperties[u.PatternStringExact]:h("Unable to get record value schema")}function D(e,t){const[n,r]=[N(t),z(t)];return d.TypeGuard.IsLiteralString(e)&&d.TypeGuard.IsNumber(n)&&f(q(e,r))===m.True?m.True:d.TypeGuard.IsUint8Array(e)&&d.TypeGuard.IsNumber(n)||d.TypeGuard.IsString(e)&&d.TypeGuard.IsNumber(n)||d.TypeGuard.IsArray(e)&&d.TypeGuard.IsNumber(n)?q(e,r):d.TypeGuard.IsObject(e)?(()=>{for(const t of Object.getOwnPropertyNames(e.properties))if(M(r,e.properties[t])===m.False)return m.False;return m.True})():m.False}function U(e,t){return d.TypeGuard.IsLiteral(e)&&d.ValueGuard.IsString(e.const)||d.TypeGuard.IsString(e)?m.True:m.False}function B(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)&&k(t)||d.TypeGuard.IsArray(t)&&function(e,t){return d.TypeGuard.IsArray(t)&&e.items!==undefined&&e.items.every(e=>q(e,t.items)===m.True)}(e,t)?m.True:d.TypeGuard.IsTuple(t)?d.ValueGuard.IsUndefined(e.items)&&!d.ValueGuard.IsUndefined(t.items)||!d.ValueGuard.IsUndefined(e.items)&&d.ValueGuard.IsUndefined(t.items)?m.False:d.ValueGuard.IsUndefined(e.items)&&!d.ValueGuard.IsUndefined(t.items)||e.items.every((e,n)=>q(e,t.items[n])===m.True)?m.True:m.False:m.False}function L(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsVoid(t)?function(e){return d.TypeGuard.IsUndefined(e)||d.TypeGuard.IsUndefined(e)?m.True:m.False}(e):d.TypeGuard.IsUndefined(t)?m.True:m.False}function F(e,t){return t.anyOf.some(t=>q(e,t)===m.True)?m.True:m.False}function G(e,t){return m.True}function $(e,t){return d.TypeGuard.IsNever(t)?v():d.TypeGuard.IsIntersect(t)?w(e,t):d.TypeGuard.IsUnion(t)?F(e,t):d.TypeGuard.IsAny(t)?b():d.TypeGuard.IsString(t)?U(e):d.TypeGuard.IsNumber(t)?x(e):d.TypeGuard.IsInteger(t)?O(e):d.TypeGuard.IsBoolean(t)?_(e):d.TypeGuard.IsArray(t)?function(e){return d.TypeGuard.IsUnknown(e)?m.False:d.TypeGuard.IsAny(e)?m.Union:d.TypeGuard.IsNever(e)?m.True:m.False}(e):d.TypeGuard.IsTuple(t)?function(e){return d.TypeGuard.IsNever(e)?m.True:d.TypeGuard.IsUnknown(e)?m.False:d.TypeGuard.IsAny(e)?m.Union:m.False}(e):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsUnknown(t)?m.True:m.False}function q(e,t){return d.TypeGuard.IsTemplateLiteral(e)||d.TypeGuard.IsTemplateLiteral(t)?function(e,t){return d.TypeGuard.IsTemplateLiteral(e)?q((0,c.TemplateLiteralToUnion)(e),t):d.TypeGuard.IsTemplateLiteral(t)?q(e,(0,c.TemplateLiteralToUnion)(t)):h("Invalid fallthrough for TemplateLiteral")}(e,t):d.TypeGuard.IsRegExp(e)||d.TypeGuard.IsRegExp(t)?function(e,t){return q(d.TypeGuard.IsRegExp(e)?(0,a.String)():e,d.TypeGuard.IsRegExp(t)?(0,a.String)():t)}(e,t):d.TypeGuard.IsNot(e)||d.TypeGuard.IsNot(t)?function(e,t){return d.TypeGuard.IsNot(e)?q(S(e),t):d.TypeGuard.IsNot(t)?q(e,S(t)):h("Invalid fallthrough for Not")}(e,t):d.TypeGuard.IsAny(e)?function(e,t){return d.TypeGuard.IsIntersect(t)?w(e,t):d.TypeGuard.IsUnion(t)&&t.anyOf.some(e=>d.TypeGuard.IsAny(e)||d.TypeGuard.IsUnknown(e))?m.True:d.TypeGuard.IsUnion(t)?m.Union:d.TypeGuard.IsUnknown(t)||d.TypeGuard.IsAny(t)?m.True:m.Union}(e,t):d.TypeGuard.IsArray(e)?function(e,t){return d.TypeGuard.IsObject(t)&&k(t)?m.True:T(t)?g(e,t):d.TypeGuard.IsArray(t)?f(q(e.items,t.items)):m.False}(e,t):d.TypeGuard.IsBigInt(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsBigInt(t)?m.True:m.False}(e,t):d.TypeGuard.IsBoolean(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsBoolean(t)?m.True:m.False}(e,t):d.TypeGuard.IsAsyncIterator(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsAsyncIterator(t)?f(q(e.items,t.items)):m.False}(e,t):d.TypeGuard.IsConstructor(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsConstructor(t)?e.parameters.length>t.parameters.length?m.False:e.parameters.every((e,n)=>f(q(t.parameters[n],e))===m.True)?f(q(e.returns,t.returns)):m.False:m.False}(e,t):d.TypeGuard.IsDate(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsDate(t)?m.True:m.False}(e,t):d.TypeGuard.IsFunction(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsFunction(t)?e.parameters.length>t.parameters.length?m.False:e.parameters.every((e,n)=>f(q(t.parameters[n],e))===m.True)?f(q(e.returns,t.returns)):m.False:m.False}(e,t):d.TypeGuard.IsInteger(e)?function(e,t){return d.TypeGuard.IsInteger(t)||d.TypeGuard.IsNumber(t)?m.True:T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):m.False}(e,t):d.TypeGuard.IsIntersect(e)?function(e,t){return e.allOf.some(e=>q(e,t)===m.True)?m.True:m.False}(e,t):d.TypeGuard.IsIterator(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsIterator(t)?f(q(e.items,t.items)):m.False}(e,t):d.TypeGuard.IsLiteral(e)?function(e,t){return d.TypeGuard.IsLiteral(t)&&t.const===e.const?m.True:T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsString(t)?U(e):d.TypeGuard.IsNumber(t)?x(e):d.TypeGuard.IsInteger(t)?O(e):d.TypeGuard.IsBoolean(t)?_(e):m.False}(e,t):d.TypeGuard.IsNever(e)?m.True:d.TypeGuard.IsNull(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsNull(t)?m.True:m.False}(e,t):d.TypeGuard.IsNumber(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsInteger(t)||d.TypeGuard.IsNumber(t)?m.True:m.False}(e,t):d.TypeGuard.IsObject(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsObject(t)?(()=>{for(const n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!d.TypeGuard.IsOptional(t.properties[n]))return m.False;if(d.TypeGuard.IsOptional(t.properties[n]))return m.True;if(M(e.properties[n],t.properties[n])===m.False)return m.False}return m.True})():m.False}(e,t):d.TypeGuard.IsRecord(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?q(z(e),z(t)):m.False}(e,t):d.TypeGuard.IsString(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsString(t)?m.True:m.False}(e,t):d.TypeGuard.IsSymbol(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsSymbol(t)?m.True:m.False}(e,t):d.TypeGuard.IsTuple(e)?B(e,t):d.TypeGuard.IsPromise(e)?R(e,t):d.TypeGuard.IsUint8Array(e)?function(e,t){return T(t)?g(e,t):d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsRecord(t)?D(e,t):d.TypeGuard.IsUint8Array(t)?m.True:m.False}(e,t):d.TypeGuard.IsUndefined(e)?L(e,t):d.TypeGuard.IsUnion(e)?function(e,t){return e.anyOf.every(e=>q(e,t)===m.True)?m.True:m.False}(e,t):d.TypeGuard.IsUnknown(e)?$(e,t):d.TypeGuard.IsVoid(e)?function(e,t){return d.TypeGuard.IsIntersect(t)?w(e,t):d.TypeGuard.IsUnion(t)?F(e,t):d.TypeGuard.IsUnknown(t)?G():d.TypeGuard.IsAny(t)?b():d.TypeGuard.IsObject(t)?C(e,t):d.TypeGuard.IsVoid(t)?m.True:m.False}(e,t):h(`Unknown left type operand '${e[l.Kind]}'`)}n.ExtendsResolverError=y,function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"}(m||(n.ExtendsResult=m={}))}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extends/extends-check.js"}],[3457,{"../clone/value":3430,"../literal/index":3502,"../mapped/index":3504,"./extends":3460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendsFromMappedKey=function(e,t,n,i,o){const a=function(e,t,n,r,i){return function(e,t,n,r,i){return e.reduce((e,o)=>({...e,...s(o,t,n,r,i)}),{})}(e.keys,t,n,r,i)}(e,t,n,i,o);return(0,r.MappedResult)(a)};const r=e("../mapped/index"),i=e("../literal/index"),o=e("./extends"),a=e("../clone/value");function s(e,t,n,r,s){return{[e]:(0,o.Extends)((0,i.Literal)(e),t,n,r,(0,a.Clone)(s))}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extends/extends-from-mapped-key.js"}],[3458,{"../clone/value":3430,"../mapped/index":3504,"./extends":3460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendsFromMappedResult=function(e,t,n,a,s){const c=function(e,t,n,r,a){return function(e,t,n,r,a){const s={};for(const c of globalThis.Object.getOwnPropertyNames(e))s[c]=(0,i.Extends)(e[c],t,n,r,(0,o.Clone)(a));return s}(e.properties,t,n,r,a)}(e,t,n,a,s);return(0,r.MappedResult)(c)};const r=e("../mapped/index"),i=e("./extends"),o=e("../clone/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extends/extends-from-mapped-result.js"}],[3459,{"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendsUndefinedCheck=i;const r=e("../symbols/index");function i(e){return"Intersect"===e[r.Kind]?function(e){return e.allOf.every(e=>i(e))}(e):"Union"===e[r.Kind]?function(e){return e.anyOf.some(e=>i(e))}(e):"Not"===e[r.Kind]?function(e){return!i(e.not)}(e):"Undefined"===e[r.Kind]}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extends/extends-undefined.js"}],[3460,{"../create/type":3441,"../guard/kind":3469,"../union/index":3596,"./extends-check":3456,"./extends-from-mapped-key":3457,"./extends-from-mapped-result":3458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Extends=function(e,t,n,u,l){return(0,c.IsMappedResult)(e)?(0,s.ExtendsFromMappedResult)(e,t,n,u,l):(0,c.IsMappedKey)(e)?(0,r.CreateType)((0,a.ExtendsFromMappedKey)(e,t,n,u,l)):(0,r.CreateType)(function(e,t,n,r){const a=(0,o.ExtendsCheck)(e,t);return a===o.ExtendsResult.Union?(0,i.Union)([n,r]):a===o.ExtendsResult.True?n:r}(e,t,n,u),l)};const r=e("../create/type"),i=e("../union/index"),o=e("./extends-check"),a=e("./extends-from-mapped-key"),s=e("./extends-from-mapped-result"),c=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extends/extends.js"}],[3461,{"./extends":3460,"./extends-check":3456,"./extends-from-mapped-key":3457,"./extends-from-mapped-result":3458,"./extends-undefined":3459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./extends-check"),n),i(e("./extends-from-mapped-key"),n),i(e("./extends-from-mapped-result"),n),i(e("./extends-undefined"),n),i(e("./extends"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extends/index.js"}],[3462,{"../mapped/index":3504,"./extract":3464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExtractFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.Extract)(e[r],t);return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./extract")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extract/extract-from-mapped-result.js"}],[3463,{"../template-literal/index":3578,"./extract":3464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExtractFromTemplateLiteral=function(e,t){return(0,r.Extract)((0,i.TemplateLiteralToUnion)(e),t)};const r=e("./extract"),i=e("../template-literal/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extract/extract-from-template-literal.js"}],[3464,{"../create/type":3441,"../extends/index":3461,"../guard/kind":3469,"../never/index":3508,"../union/index":3596,"./extract-from-mapped-result":3462,"./extract-from-template-literal":3463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Extract=function(e,t,n){return(0,u.IsTemplateLiteral)(e)?(0,r.CreateType)((0,c.ExtractFromTemplateLiteral)(e,t),n):(0,u.IsMappedResult)(e)?(0,r.CreateType)((0,s.ExtractFromMappedResult)(e,t),n):(0,r.CreateType)((0,u.IsUnion)(e)?function(e,t){const n=e.filter(e=>(0,a.ExtendsCheck)(e,t)!==a.ExtendsResult.False);return 1===n.length?n[0]:(0,i.Union)(n)}(e.anyOf,t):(0,a.ExtendsCheck)(e,t)!==a.ExtendsResult.False?e:(0,o.Never)(),n)};const r=e("../create/type"),i=e("../union/index"),o=e("../never/index"),a=e("../extends/index"),s=e("./extract-from-mapped-result"),c=e("./extract-from-template-literal"),u=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extract/extract.js"}],[3465,{"./extract":3464,"./extract-from-mapped-result":3462,"./extract-from-template-literal":3463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./extract-from-mapped-result"),n),i(e("./extract-from-template-literal"),n),i(e("./extract"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/extract/index.js"}],[3466,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Function=function(e,t,n){return(0,r.CreateType)({[i.Kind]:"Function",type:"Function",parameters:e,returns:t},n)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/function/function.js"}],[3467,{"./function":3466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./function"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/function/index.js"}],[3468,{"./kind":3469,"./type":3470,"./value":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueGuard=n.TypeGuard=n.KindGuard=void 0,n.KindGuard=e("./kind"),n.TypeGuard=e("./type"),n.ValueGuard=e("./value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/guard/index.js"}],[3469,{"../symbols/index":3574,"./value":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IsReadonly=function(e){return r.IsObject(e)&&"Readonly"===e[i.ReadonlyKind]},n.IsOptional=function(e){return r.IsObject(e)&&"Optional"===e[i.OptionalKind]},n.IsAny=o,n.IsArray=a,n.IsAsyncIterator=s,n.IsBigInt=c,n.IsBoolean=u,n.IsConstructor=l,n.IsDate=p,n.IsFunction=d,n.IsInteger=y,n.IsProperties=function(e){return r.IsObject(e)},n.IsIntersect=m,n.IsIterator=f,n.IsKindOf=h,n.IsLiteralString=function(e){return T(e)&&r.IsString(e.const)},n.IsLiteralNumber=function(e){return T(e)&&r.IsNumber(e.const)},n.IsLiteralBoolean=function(e){return T(e)&&r.IsBoolean(e.const)},n.IsLiteral=T,n.IsMappedKey=g,n.IsMappedResult=b,n.IsNever=_,n.IsNot=O,n.IsNull=w,n.IsNumber=v,n.IsObject=S,n.IsPromise=x,n.IsRecord=E,n.IsRecursive=function(e){return r.IsObject(e)&&i.Hint in e&&"Recursive"===e[i.Hint]},n.IsRef=P,n.IsRegExp=I,n.IsString=j,n.IsSymbol=A,n.IsTemplateLiteral=k,n.IsThis=M,n.IsTransform=function(e){return r.IsObject(e)&&i.TransformKind in e},n.IsTuple=C,n.IsUndefined=R,n.IsUnion=N,n.IsUint8Array=z,n.IsUnknown=D,n.IsUnsafe=U,n.IsVoid=B,n.IsKind=L,n.IsSchema=function(e){return o(e)||a(e)||u(e)||c(e)||s(e)||l(e)||p(e)||d(e)||y(e)||m(e)||f(e)||T(e)||g(e)||b(e)||_(e)||O(e)||w(e)||v(e)||S(e)||x(e)||E(e)||P(e)||I(e)||j(e)||A(e)||k(e)||M(e)||C(e)||R(e)||N(e)||z(e)||D(e)||U(e)||B(e)||L(e)};const r=e("./value"),i=e("../symbols/index");function o(e){return h(e,"Any")}function a(e){return h(e,"Array")}function s(e){return h(e,"AsyncIterator")}function c(e){return h(e,"BigInt")}function u(e){return h(e,"Boolean")}function l(e){return h(e,"Constructor")}function p(e){return h(e,"Date")}function d(e){return h(e,"Function")}function y(e){return h(e,"Integer")}function m(e){return h(e,"Intersect")}function f(e){return h(e,"Iterator")}function h(e,t){return r.IsObject(e)&&i.Kind in e&&e[i.Kind]===t}function T(e){return h(e,"Literal")}function g(e){return h(e,"MappedKey")}function b(e){return h(e,"MappedResult")}function _(e){return h(e,"Never")}function O(e){return h(e,"Not")}function w(e){return h(e,"Null")}function v(e){return h(e,"Number")}function S(e){return h(e,"Object")}function x(e){return h(e,"Promise")}function E(e){return h(e,"Record")}function P(e){return h(e,"Ref")}function I(e){return h(e,"RegExp")}function j(e){return h(e,"String")}function A(e){return h(e,"Symbol")}function k(e){return h(e,"TemplateLiteral")}function M(e){return h(e,"This")}function C(e){return h(e,"Tuple")}function R(e){return h(e,"Undefined")}function N(e){return h(e,"Union")}function z(e){return h(e,"Uint8Array")}function D(e){return h(e,"Unknown")}function U(e){return h(e,"Unsafe")}function B(e){return h(e,"Void")}function L(e){return r.IsObject(e)&&i.Kind in e&&r.IsString(e[i.Kind])}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/guard/kind.js"}],[3470,{"../error/index":3451,"../symbols/index":3574,"./value":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeGuardUnknownTypeError=void 0,n.IsReadonly=function(e){return r.IsObject(e)&&"Readonly"===e[i.ReadonlyKind]},n.IsOptional=function(e){return r.IsObject(e)&&"Optional"===e[i.OptionalKind]},n.IsAny=h,n.IsArray=T,n.IsAsyncIterator=g,n.IsBigInt=b,n.IsBoolean=_,n.IsConstructor=O,n.IsDate=w,n.IsFunction=v,n.IsInteger=S,n.IsProperties=x,n.IsIntersect=E,n.IsIterator=P,n.IsKindOf=I,n.IsLiteralString=j,n.IsLiteralNumber=A,n.IsLiteralBoolean=function(e){return k(e)&&r.IsBoolean(e.const)},n.IsLiteral=k,n.IsLiteralValue=M,n.IsMappedKey=C,n.IsMappedResult=R,n.IsNever=N,n.IsNot=z,n.IsNull=D,n.IsNumber=U,n.IsObject=B,n.IsPromise=L,n.IsRecord=F,n.IsRecursive=function(e){return r.IsObject(e)&&i.Hint in e&&"Recursive"===e[i.Hint]},n.IsRef=G,n.IsRegExp=$,n.IsString=q,n.IsSymbol=H,n.IsTemplateLiteral=W,n.IsThis=K,n.IsTransform=V,n.IsTuple=Y,n.IsUndefined=Q,n.IsUnionLiteral=function(e){return J(e)&&e.anyOf.every(e=>j(e)||A(e))},n.IsUnion=J,n.IsUint8Array=X,n.IsUnknown=Z,n.IsUnsafe=ee,n.IsVoid=te,n.IsKind=ne,n.IsSchema=re;const r=e("./value"),i=e("../symbols/index"),o=e("../error/index");class a extends o.TypeBoxError{}n.TypeGuardUnknownTypeError=a;const s=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function c(e){try{return new RegExp(e),!0}catch{return!1}}function u(e){if(!r.IsString(e))return!1;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>=7&&n<=13||27===n||127===n)return!1}return!0}function l(e){return y(e)||re(e)}function p(e){return r.IsUndefined(e)||r.IsBigInt(e)}function d(e){return r.IsUndefined(e)||r.IsNumber(e)}function y(e){return r.IsUndefined(e)||r.IsBoolean(e)}function m(e){return r.IsUndefined(e)||r.IsString(e)}function f(e){return r.IsUndefined(e)||re(e)}function h(e){return I(e,"Any")&&m(e.$id)}function T(e){return I(e,"Array")&&"array"===e.type&&m(e.$id)&&re(e.items)&&d(e.minItems)&&d(e.maxItems)&&y(e.uniqueItems)&&f(e.contains)&&d(e.minContains)&&d(e.maxContains)}function g(e){return I(e,"AsyncIterator")&&"AsyncIterator"===e.type&&m(e.$id)&&re(e.items)}function b(e){return I(e,"BigInt")&&"bigint"===e.type&&m(e.$id)&&p(e.exclusiveMaximum)&&p(e.exclusiveMinimum)&&p(e.maximum)&&p(e.minimum)&&p(e.multipleOf)}function _(e){return I(e,"Boolean")&&"boolean"===e.type&&m(e.$id)}function O(e){return I(e,"Constructor")&&"Constructor"===e.type&&m(e.$id)&&r.IsArray(e.parameters)&&e.parameters.every(e=>re(e))&&re(e.returns)}function w(e){return I(e,"Date")&&"Date"===e.type&&m(e.$id)&&d(e.exclusiveMaximumTimestamp)&&d(e.exclusiveMinimumTimestamp)&&d(e.maximumTimestamp)&&d(e.minimumTimestamp)&&d(e.multipleOfTimestamp)}function v(e){return I(e,"Function")&&"Function"===e.type&&m(e.$id)&&r.IsArray(e.parameters)&&e.parameters.every(e=>re(e))&&re(e.returns)}function S(e){return I(e,"Integer")&&"integer"===e.type&&m(e.$id)&&d(e.exclusiveMaximum)&&d(e.exclusiveMinimum)&&d(e.maximum)&&d(e.minimum)&&d(e.multipleOf)}function x(e){return r.IsObject(e)&&Object.entries(e).every(([e,t])=>u(e)&&re(t))}function E(e){return I(e,"Intersect")&&(!r.IsString(e.type)||"object"===e.type)&&r.IsArray(e.allOf)&&e.allOf.every(e=>re(e)&&!V(e))&&m(e.type)&&(y(e.unevaluatedProperties)||f(e.unevaluatedProperties))&&m(e.$id)}function P(e){return I(e,"Iterator")&&"Iterator"===e.type&&m(e.$id)&&re(e.items)}function I(e,t){return r.IsObject(e)&&i.Kind in e&&e[i.Kind]===t}function j(e){return k(e)&&r.IsString(e.const)}function A(e){return k(e)&&r.IsNumber(e.const)}function k(e){return I(e,"Literal")&&m(e.$id)&&M(e.const)}function M(e){return r.IsBoolean(e)||r.IsNumber(e)||r.IsString(e)}function C(e){return I(e,"MappedKey")&&r.IsArray(e.keys)&&e.keys.every(e=>r.IsNumber(e)||r.IsString(e))}function R(e){return I(e,"MappedResult")&&x(e.properties)}function N(e){return I(e,"Never")&&r.IsObject(e.not)&&0===Object.getOwnPropertyNames(e.not).length}function z(e){return I(e,"Not")&&re(e.not)}function D(e){return I(e,"Null")&&"null"===e.type&&m(e.$id)}function U(e){return I(e,"Number")&&"number"===e.type&&m(e.$id)&&d(e.exclusiveMaximum)&&d(e.exclusiveMinimum)&&d(e.maximum)&&d(e.minimum)&&d(e.multipleOf)}function B(e){return I(e,"Object")&&"object"===e.type&&m(e.$id)&&x(e.properties)&&l(e.additionalProperties)&&d(e.minProperties)&&d(e.maxProperties)}function L(e){return I(e,"Promise")&&"Promise"===e.type&&m(e.$id)&&re(e.item)}function F(e){return I(e,"Record")&&"object"===e.type&&m(e.$id)&&l(e.additionalProperties)&&r.IsObject(e.patternProperties)&&(e=>{const t=Object.getOwnPropertyNames(e.patternProperties);return 1===t.length&&c(t[0])&&r.IsObject(e.patternProperties)&&re(e.patternProperties[t[0]])})(e)}function G(e){return I(e,"Ref")&&m(e.$id)&&r.IsString(e.$ref)}function $(e){return I(e,"RegExp")&&m(e.$id)&&r.IsString(e.source)&&r.IsString(e.flags)&&d(e.maxLength)&&d(e.minLength)}function q(e){return I(e,"String")&&"string"===e.type&&m(e.$id)&&d(e.minLength)&&d(e.maxLength)&&function(e){return r.IsUndefined(e)||r.IsString(e)&&u(e)&&c(e)}(e.pattern)&&function(e){return r.IsUndefined(e)||r.IsString(e)&&u(e)}(e.format)}function H(e){return I(e,"Symbol")&&"symbol"===e.type&&m(e.$id)}function W(e){return I(e,"TemplateLiteral")&&"string"===e.type&&r.IsString(e.pattern)&&"^"===e.pattern[0]&&"$"===e.pattern[e.pattern.length-1]}function K(e){return I(e,"This")&&m(e.$id)&&r.IsString(e.$ref)}function V(e){return r.IsObject(e)&&i.TransformKind in e}function Y(e){return I(e,"Tuple")&&"array"===e.type&&m(e.$id)&&r.IsNumber(e.minItems)&&r.IsNumber(e.maxItems)&&e.minItems===e.maxItems&&(r.IsUndefined(e.items)&&r.IsUndefined(e.additionalItems)&&0===e.minItems||r.IsArray(e.items)&&e.items.every(e=>re(e)))}function Q(e){return I(e,"Undefined")&&"undefined"===e.type&&m(e.$id)}function J(e){return I(e,"Union")&&m(e.$id)&&r.IsObject(e)&&r.IsArray(e.anyOf)&&e.anyOf.every(e=>re(e))}function X(e){return I(e,"Uint8Array")&&"Uint8Array"===e.type&&m(e.$id)&&d(e.minByteLength)&&d(e.maxByteLength)}function Z(e){return I(e,"Unknown")&&m(e.$id)}function ee(e){return I(e,"Unsafe")}function te(e){return I(e,"Void")&&"void"===e.type&&m(e.$id)}function ne(e){return r.IsObject(e)&&i.Kind in e&&r.IsString(e[i.Kind])&&!s.includes(e[i.Kind])}function re(e){return r.IsObject(e)&&(h(e)||T(e)||_(e)||b(e)||g(e)||O(e)||w(e)||v(e)||S(e)||E(e)||P(e)||k(e)||C(e)||R(e)||N(e)||z(e)||D(e)||U(e)||B(e)||L(e)||F(e)||G(e)||$(e)||q(e)||H(e)||W(e)||K(e)||Y(e)||Q(e)||J(e)||X(e)||Z(e)||ee(e)||te(e)||ne(e))}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/guard/type.js"}],[3471,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Array.isArray(e)}function i(e){return"object"==typeof e&&null!==e}function o(e){return e instanceof globalThis.Uint8Array}Object.defineProperty(n,"__esModule",{value:!0}),n.HasPropertyKey=function(e,t){return t in e},n.IsAsyncIterator=function(e){return i(e)&&!r(e)&&!o(e)&&Symbol.asyncIterator in e},n.IsArray=r,n.IsBigInt=function(e){return"bigint"==typeof e},n.IsBoolean=function(e){return"boolean"==typeof e},n.IsDate=function(e){return e instanceof globalThis.Date},n.IsFunction=function(e){return"function"==typeof e},n.IsIterator=function(e){return i(e)&&!r(e)&&!o(e)&&Symbol.iterator in e},n.IsNull=function(e){return null===e},n.IsNumber=function(e){return"number"==typeof e},n.IsObject=i,n.IsRegExp=function(e){return e instanceof globalThis.RegExp},n.IsString=function(e){return"string"==typeof e},n.IsSymbol=function(e){return"symbol"==typeof e},n.IsUint8Array=o,n.IsUndefined=function(e){return e===undefined}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/guard/value.js"}],[3472,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Increment=function(e){return(parseInt(e)+1).toString()}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/helpers/helpers.js"}],[3473,{"./helpers":3472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./helpers"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/helpers/index.js"}],[3474,{"./indexed":3478,"./indexed-from-mapped-key":3475,"./indexed-from-mapped-result":3476,"./indexed-property-keys":3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./indexed-from-mapped-key"),n),i(e("./indexed-from-mapped-result"),n),i(e("./indexed-property-keys"),n),i(e("./indexed"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/indexed/index.js"}],[3475,{"../clone/value":3430,"../mapped/index":3504,"./indexed":3478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IndexFromMappedKey=function(e,t,n){const r=function(e,t,n){return function(e,t,n){return t.reduce((t,r)=>({...t,...a(e,r,n)}),{})}(e,t.keys,n)}(e,t,n);return(0,i.MappedResult)(r)};const r=e("./indexed"),i=e("../mapped/index"),o=e("../clone/value");function a(e,t,n){return{[t]:(0,r.Index)(e,[t],(0,o.Clone)(n))}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/indexed/indexed-from-mapped-key.js"}],[3476,{"../mapped/index":3504,"./index":3474,"./indexed-property-keys":3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IndexFromMappedResult=function(e,t,n){const a=function(e,t,n){return function(e,t,n){const r={};for(const a of Object.getOwnPropertyNames(t))r[a]=(0,o.Index)(e,(0,i.IndexPropertyKeys)(t[a]),n);return r}(e,t.properties,n)}(e,t,n);return(0,r.MappedResult)(a)};const r=e("../mapped/index"),i=e("./indexed-property-keys"),o=e("./index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/indexed/indexed-from-mapped-result.js"}],[3477,{"../guard/kind":3469,"../template-literal/index":3578},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IndexPropertyKeys=c;const r=e("../template-literal/index"),i=e("../guard/kind");function o(e){return(0,r.TemplateLiteralGenerate)(e).map(e=>e.toString())}function a(e){const t=[];for(const n of e)t.push(...c(n));return t}function s(e){return[e.toString()]}function c(e){return[...new Set((0,i.IsTemplateLiteral)(e)?o(e):(0,i.IsUnion)(e)?a(e.anyOf):(0,i.IsLiteral)(e)?s(e.const):(0,i.IsNumber)(e)||(0,i.IsInteger)(e)?["[number]"]:[])]}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/indexed/indexed-property-keys.js"}],[3478,{"../create/type":3441,"../guard/kind":3469,"../intersect/index":3483,"../never/index":3508,"../union/index":3596,"./indexed-from-mapped-key":3475,"./indexed-from-mapped-result":3476,"./indexed-property-keys":3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IndexFromPropertyKey=m,n.IndexFromPropertyKeys=f,n.Index=function(e,t,n){return(0,l.IsMappedResult)(t)?(0,u.IndexFromMappedResult)(e,t,n):(0,l.IsMappedKey)(t)?(0,c.IndexFromMappedKey)(e,t,n):(0,r.CreateType)((0,l.IsSchema)(t)?h(e,(0,s.IndexPropertyKeys)(t)):h(e,t),n)};const r=e("../create/type"),i=e("../never/index"),o=e("../intersect/index"),a=e("../union/index"),s=e("./indexed-property-keys"),c=e("./indexed-from-mapped-key"),u=e("./indexed-from-mapped-result"),l=e("../guard/kind");function p(e,t){return e.map(e=>m(e,t))}function d(e,t){return(0,o.IntersectEvaluated)(function(e){return e.filter(e=>!(0,l.IsNever)(e))}(p(e,t)))}function y(e,t){return(0,a.UnionEvaluated)(function(e){return e.some(e=>(0,l.IsNever)(e))?[]:e}(p(e,t)))}function m(e,t){return(0,l.IsIntersect)(e)?d(e.allOf,t):(0,l.IsUnion)(e)?y(e.anyOf,t):(0,l.IsTuple)(e)?function(e,t){return t in e?e[t]:"[number]"===t?(0,a.UnionEvaluated)(e):(0,i.Never)()}(e.items??[],t):(0,l.IsArray)(e)?function(e,t){return"[number]"===t?e:(0,i.Never)()}(e.items,t):(0,l.IsObject)(e)?function(e,t){return t in e?e[t]:(0,i.Never)()}(e.properties,t):(0,i.Never)()}function f(e,t){return t.map(t=>m(e,t))}function h(e,t){return(0,a.UnionEvaluated)(f(e,t))}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/indexed/indexed.js"}],[3479,{"./instance-type":3480},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./instance-type"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/instance-type/index.js"}],[348,{"../../../../../shared/lib/delegation":5966,"../../../../../shared/lib/delegation/delegation":5963,"@metamask/transaction-controller":3085,"@metamask/utils":3207,"bignumber.js":4064},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.enforceSimulations=async function({messenger:e,transactionMeta:t,useRealSignature:n=!1}){c("Enforcing simulations",{transactionMeta:t,useRealSignature:n});const{chainId:o,simulationData:p={tokenBalanceChanges:[]},txParams:d}=t,y=d.from,m=(0,i.hexToNumber)(o),f=(0,a.getDeleGatorEnvironment)(m),h=f.DelegationManager,T=function(e,t){const n=e.call("AppStateController:getState"),r=n.enforcedSimulationsSlippage;return n.enforcedSimulationsSlippageForTransactions[t]??r}(e,t.id),g=function({accountAddress:e,environment:t,simulationData:n,slippage:i}){const o=function(e,t,n,i){const o=(0,a.createCaveatBuilder)(t),{nativeBalanceChange:s,tokenBalanceChanges:u=[]}=n;if(s){const{difference:t,isDecrease:n}=s,r=l(t,i,n);c("Caveat - Native Balance Change",{enforceDecrease:n,recipient:e,delta:BigInt(t),slippage:i,deltaWithSlippage:r}),o.addCaveat("nativeBalanceChange",n,e,r)}for(const t of u){const{difference:n,isDecrease:a,address:s,standard:u,id:p}=t,d=BigInt(n),y=l(n,i,a),m=p?BigInt(p):0n;switch(c("Caveat - Token Balance Change",{enforceDecrease:a,token:s,recipient:e,delta:d,slippage:i,deltaWithSlippage:y}),u){case r.SimulationTokenStandard.erc20:o.addCaveat("erc20BalanceChange",a,s,e,y);break;case r.SimulationTokenStandard.erc721:o.addCaveat("erc721BalanceChange",a,s,e,d);break;case r.SimulationTokenStandard.erc1155:o.addCaveat("erc1155BalanceChange",a,s,e,m,d);break;default:c("Unsupported token standard",u)}}return o.build()}(e,t,n,i);c("Caveats",o);const s=(0,a.createDelegation)({from:e,to:e,caveats:o});return s}({accountAddress:y,environment:f,simulationData:p,slippage:T});c("Delegation",g);let b=u;n&&(c("Signing delegation"),b=await e.call("DelegationController:signDelegation",{chainId:o,delegation:g}));c("Delegation signature",b);const _=function({transaction:e,delegation:t}){const n=[[t]],r=[a.SINGLE_DEFAULT_MODE],i=[[{target:e.to,callData:e.data??"0x",value:e.value?BigInt(e.value):0n}]];return(0,s.encodeRedeemDelegations)({delegations:n,modes:r,executions:i})}({transaction:d,delegation:{...g,signature:b}});return c("Data",_),{updateTransaction:e=>{e.txParams.data=_,e.txParams.to=h,e.txParams.value="0x0"}}};var r=e("@metamask/transaction-controller"),i=e("@metamask/utils"),o=e("bignumber.js"),a=e("../../../../../shared/lib/delegation"),s=e("../../../../../shared/lib/delegation/delegation");const c=(0,i.createProjectLogger)("enforced-simulations"),u="0x2261a7810ed3e9cde160895909e138e2f68adb2da86fcf98ea0840701df107721fb369ab9b52550ea98832c09f8185284aca4c94bd345e867a4f4461868dd7751b";function l(e,t,n){const r=new o.BigNumber(e),i=(100+(n?t:-t))/100;return BigInt(r.mul(i).toFixed(0))}}}},{package:"$root$",file:"app/scripts/lib/transaction/containers/enforced-simulations.ts"}],[3480,{"../create/type":3441},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InstanceType=function(e,t){return(0,r.CreateType)(e.returns,t)};const r=e("../create/type")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/instance-type/instance-type.js"}],[3481,{"./integer":3482},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./integer"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/integer/index.js"}],[3482,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Integer=function(e){return(0,r.CreateType)({[i.Kind]:"Integer",type:"integer"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/integer/integer.js"}],[3483,{"./intersect":3487,"./intersect-evaluated":3485,"./intersect-type":3486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./intersect-evaluated"),n),i(e("./intersect-type"),n),i(e("./intersect"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intersect/index.js"}],[3484,{"../create/type":3441,"../guard/kind":3469,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IntersectCreate=function(e,t={}){const n=e.every(e=>(0,o.IsObject)(e)),a=(0,o.IsSchema)(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return(0,r.CreateType)(!1===t.unevaluatedProperties||(0,o.IsSchema)(t.unevaluatedProperties)||n?{...a,[i.Kind]:"Intersect",type:"object",allOf:e}:{...a,[i.Kind]:"Intersect",allOf:e},t)};const r=e("../create/type"),i=e("../symbols/index"),o=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intersect/intersect-create.js"}],[3485,{"../create/type":3441,"../discard/index":3447,"../guard/kind":3469,"../never/index":3508,"../optional/index":3522,"../symbols/index":3574,"./intersect-create":3484},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IntersectEvaluated=function(e,t={}){if(0===e.length)return(0,a.Never)(t);if(1===e.length)return(0,i.CreateType)(e[0],t);if(e.some(e=>(0,u.IsTransform)(e)))throw new Error("Cannot intersect transform types");return function(e,t){return function(e){return e.every(e=>(0,u.IsOptional)(e))}(e)?(0,s.Optional)((0,c.IntersectCreate)(l(e),t)):(0,c.IntersectCreate)(l(e),t)}(e,t)};const r=e("../symbols/index"),i=e("../create/type"),o=e("../discard/index"),a=e("../never/index"),s=e("../optional/index"),c=e("./intersect-create"),u=e("../guard/kind");function l(e){return e.map(e=>(0,u.IsOptional)(e)?function(e){return(0,o.Discard)(e,[r.OptionalKind])}(e):e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intersect/intersect-evaluated.js"}],[3486,{"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intersect/intersect-type.js"}],[3487,{"../create/type":3441,"../guard/kind":3469,"../never/index":3508,"./intersect-create":3484},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Intersect=function(e,t){if(0===e.length)return(0,i.Never)(t);if(1===e.length)return(0,r.CreateType)(e[0],t);if(e.some(e=>(0,a.IsTransform)(e)))throw new Error("Cannot intersect transform types");return(0,o.IntersectCreate)(e,t)};const r=e("../create/type"),i=e("../never/index"),o=e("./intersect-create"),a=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intersect/intersect.js"}],[3488,{"./intrinsic":3491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Capitalize=function(e,t={}){return(0,r.Intrinsic)(e,"Capitalize",t)};const r=e("./intrinsic")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/capitalize.js"}],[3489,{"./capitalize":3488,"./intrinsic":3491,"./intrinsic-from-mapped-key":3490,"./lowercase":3492,"./uncapitalize":3493,"./uppercase":3494},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./capitalize"),n),i(e("./intrinsic-from-mapped-key"),n),i(e("./intrinsic"),n),i(e("./lowercase"),n),i(e("./uncapitalize"),n),i(e("./uppercase"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/index.js"}],[349,{"./enforced-simulations":348,"@metamask/transaction-controller":3085,"@metamask/utils":3207,lodash:4940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.applyTransactionContainers=c,n.applyTransactionContainersExisting=async function({containerTypes:e,transactionId:t,messenger:n,updateEditableParams:r}){const o=(await n.call("TransactionController:getState")).transactions.find(e=>e.id===t);if(!o)throw new Error(`Transaction with ID ${t} not found.`);const{updateTransaction:a}=await c({isApproved:!1,messenger:n,transactionMeta:o,types:e}),s=(0,i.cloneDeep)(o);a(s),r(t,{containerTypes:e,data:s.txParams.data,gas:s.txParams.gas,to:s.txParams.to,value:s.txParams.value})};var r=e("@metamask/transaction-controller"),i=e("lodash"),o=e("@metamask/utils"),a=e("./enforced-simulations");const s=(0,o.createProjectLogger)("transaction-containers");async function c({isApproved:e,messenger:t,transactionMeta:n,types:o}){const{txParamsOriginal:c}=n,u=(0,i.cloneDeep)(n);if(c&&(u.txParams=(0,i.cloneDeep)(c)),o.includes(r.TransactionContainerType.EnforcedSimulations)){const{updateTransaction:n}=await(0,a.enforceSimulations)({messenger:t,transactionMeta:u,useRealSignature:e});n(u)}let l;if(!e){const{gas:e}=await t.call("TransactionController:estimateGas",u.txParams,u.networkClientId,{ignoreDelegationSignatures:!0});s("Estimated gas",e),l=e}return{updateTransaction:e=>{e.containerTypes=o,e.txParams=(0,i.cloneDeep)(u.txParams),l&&(e.txParams.gas=l)}}}}}},{package:"$root$",file:"app/scripts/lib/transaction/containers/util.ts"}],[3490,{"../clone/value":3430,"../literal/index":3502,"../mapped/index":3504,"./intrinsic":3491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IntrinsicFromMappedKey=function(e,t,n){const i=function(e,t,n){return function(e,t,n){const r=e.reduce((e,r)=>({...e,...s(r,t,n)}),{});return r}(e.keys,t,n)}(e,t,n);return(0,r.MappedResult)(i)};const r=e("../mapped/index"),i=e("./intrinsic"),o=e("../literal/index"),a=e("../clone/value");function s(e,t,n){return{[e]:(0,i.Intrinsic)((0,o.Literal)(e),t,(0,a.Clone)(n))}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/intrinsic-from-mapped-key.js"}],[3491,{"../create/type":3441,"../guard/kind":3469,"../literal/index":3502,"../template-literal/index":3578,"../union/index":3596,"./intrinsic-from-mapped-key":3490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Intrinsic=p;const r=e("../create/type"),i=e("../template-literal/index"),o=e("./intrinsic-from-mapped-key"),a=e("../literal/index"),s=e("../union/index"),c=e("../guard/kind");function u(e,t){return"string"==typeof e?"Uncapitalize"===t?function(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}(e):"Capitalize"===t?function(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}(e):"Uppercase"===t?function(e){return e.toUpperCase()}(e):"Lowercase"===t?function(e){return e.toLowerCase()}(e):e:e.toString()}function l(e,t){return e.map(e=>p(e,t))}function p(e,t,n={}){return(0,c.IsMappedKey)(e)?(0,o.IntrinsicFromMappedKey)(e,t,n):(0,c.IsTemplateLiteral)(e)?function(e,t,n){const r=(0,i.TemplateLiteralParseExact)(e.pattern);if(!(0,i.IsTemplateLiteralExpressionFinite)(r))return{...e,pattern:u(e.pattern,t)};const o=l([...(0,i.TemplateLiteralExpressionGenerate)(r)].map(e=>(0,a.Literal)(e)),t),c=(0,s.Union)(o);return(0,i.TemplateLiteral)([c],n)}(e,t,n):(0,c.IsUnion)(e)?(0,s.Union)(l(e.anyOf,t),n):(0,c.IsLiteral)(e)?(0,a.Literal)(u(e.const,t),n):(0,r.CreateType)(e,n)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/intrinsic.js"}],[3492,{"./intrinsic":3491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Lowercase=function(e,t={}){return(0,r.Intrinsic)(e,"Lowercase",t)};const r=e("./intrinsic")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/lowercase.js"}],[3493,{"./intrinsic":3491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Uncapitalize=function(e,t={}){return(0,r.Intrinsic)(e,"Uncapitalize",t)};const r=e("./intrinsic")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/uncapitalize.js"}],[3494,{"./intrinsic":3491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Uppercase=function(e,t={}){return(0,r.Intrinsic)(e,"Uppercase",t)};const r=e("./intrinsic")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/intrinsic/uppercase.js"}],[3495,{"./iterator":3496},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./iterator"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/iterator/index.js"}],[3496,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Iterator=function(e,t){return(0,r.CreateType)({[i.Kind]:"Iterator",type:"Iterator",items:e},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/iterator/iterator.js"}],[3497,{"./keyof":3501,"./keyof-from-mapped-result":3498,"./keyof-property-entries":3499,"./keyof-property-keys":3500},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./keyof-from-mapped-result"),n),i(e("./keyof-property-entries"),n),i(e("./keyof-property-keys"),n),i(e("./keyof"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/keyof/index.js"}],[3498,{"../clone/value":3430,"../mapped/index":3504,"./keyof":3501},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyOfFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.KeyOf)(e[r],(0,o.Clone)(t));return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./keyof"),o=e("../clone/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/keyof/keyof-from-mapped-result.js"}],[3499,{"../indexed/indexed":3478,"./keyof-property-keys":3500},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyOfPropertyEntries=function(e){const t=(0,i.KeyOfPropertyKeys)(e),n=(0,r.IndexFromPropertyKeys)(e,t);return t.map((e,r)=>[t[r],n[r]])};const r=e("../indexed/indexed"),i=e("./keyof-property-keys")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/keyof/keyof-property-entries.js"}],[35,{"@metamask/message-manager":2362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EncryptionPublicKeyManagerInit=void 0;var r=e("@metamask/message-manager");n.EncryptionPublicKeyManagerInit=({controllerMessenger:e})=>({persistedStateKey:null,memStateKey:null,controller:new r.EncryptionPublicKeyManager({additionalFinishStatuses:["received"],messenger:e})})}}},{package:"$root$",file:"app/scripts/controller-init/confirmations/encryption-public-key-message-manager-init.ts"}],[350,{"../../../../../shared/lib/four-byte":5973,"@ethersproject/abi":748,"@metamask/utils":3207,"ethereumjs-util":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeTransactionDataWithFourByte=async function(e){const t=e.slice(0,10),n=await(0,a.getMethodFrom4Byte)(t);if(!n)return undefined;const o=n.split("(")[0],p=function(e){let t=e.slice(e.indexOf("(")+1,-1);const n=[];for(;t.includes("(");){const e=l(t);if(!e)break;n.push(e.value),t=`${t.slice(0,e.start)}${n.length-1}#${t.slice(e.end+1)}`}return u(t,n)}(n);s("Generated inputs",p);const d=(0,r.addHexPrefix)(e.slice(10)),y=i.Interface.getAbiCoder().decode(p,d),m=p.map((e,t)=>c(e,t,y));return{name:o,params:m}};var r=e("ethereumjs-util"),i=e("@ethersproject/abi"),o=e("@metamask/utils"),a=e("../../../../../shared/lib/four-byte");const s=(0,o.createProjectLogger)("four-byte");function c(e,t,n){var r;const i=n[t],{type:o,name:a}=e;let s=null===(r=e.components)||void 0===r?void 0:r.map((e,t)=>c(e,t,i));if(o.endsWith("[]")){const t=o.slice(0,-2);s=i.map((n,r)=>{const o=`Item ${r+1}`;return c({...e,name:o,type:t},r,i)})}return{name:a,type:o,value:i,children:s}}function u(e,t){return e.split(",").map(e=>{const n=e.split("#"),r=n.length>1?parseInt(n[0],10):undefined;return{type:r===undefined?e:`tuple${n[1]??""}`,components:r===undefined?undefined:u(t[r],t)}})}function l(e){let t=-1;for(let n=0;n<e.length;n++)if("("===e[n])t=n;else if(")"===e[n]&&-1!==t)return{start:t,end:n,value:e.slice(t+1,n)};return undefined}}}},{package:"$root$",file:"app/scripts/lib/transaction/decode/four-byte.ts"}],[3500,{"../guard/kind":3469,"../sets/index":3564},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyOfPropertyKeys=a,n.KeyOfPattern=function(e){s=!0;const t=a(e);s=!1;return`^(${t.map(e=>`(${e})`).join("|")})$`};const r=e("../sets/index"),i=e("../guard/kind");function o(e){const t=[];for(const n of e)t.push(a(n));return t}function a(e){return(0,i.IsIntersect)(e)?function(e){const t=o(e);return(0,r.SetUnionMany)(t)}(e.allOf):(0,i.IsUnion)(e)?function(e){const t=o(e);return(0,r.SetIntersectMany)(t)}(e.anyOf):(0,i.IsTuple)(e)?function(e){return e.map((e,t)=>t.toString())}(e.items??[]):(0,i.IsArray)(e)?(e.items,["[number]"]):(0,i.IsObject)(e)?function(e){return globalThis.Object.getOwnPropertyNames(e)}(e.properties):(0,i.IsRecord)(e)?(t=e.patternProperties,s?globalThis.Object.getOwnPropertyNames(t).map(e=>"^"===e[0]&&"$"===e[e.length-1]?e.slice(1,e.length-1):e):[]):[];var t}let s=!1}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/keyof/keyof-property-keys.js"}],[3501,{"../create/type":3441,"../guard/kind":3469,"../literal/index":3502,"../number/index":3514,"../union/index":3596,"./keyof-from-mapped-result":3498,"./keyof-property-keys":3500},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyOfPropertyKeysToRest=l,n.KeyOf=function(e,t){if((0,u.IsMappedResult)(e))return(0,c.KeyOfFromMappedResult)(e,t);{const n=l((0,a.KeyOfPropertyKeys)(e)),i=(0,s.UnionEvaluated)(n);return(0,r.CreateType)(i,t)}};const r=e("../create/type"),i=e("../literal/index"),o=e("../number/index"),a=e("./keyof-property-keys"),s=e("../union/index"),c=e("./keyof-from-mapped-result"),u=e("../guard/kind");function l(e){return e.map(e=>"[number]"===e?(0,o.Number)():(0,i.Literal)(e))}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/keyof/keyof.js"}],[3502,{"./literal":3503},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./literal"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/literal/index.js"}],[3503,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Literal=function(e,t){return(0,r.CreateType)({[i.Kind]:"Literal",const:e,type:typeof e},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/literal/literal.js"}],[3504,{"./mapped":3507,"./mapped-key":3505,"./mapped-result":3506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./mapped-key"),n),i(e("./mapped-result"),n),i(e("./mapped"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/mapped/index.js"}],[3505,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MappedKey=function(e){return(0,r.CreateType)({[i.Kind]:"MappedKey",keys:e})};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/mapped/mapped-key.js"}],[3506,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MappedResult=function(e){return(0,r.CreateType)({[i.Kind]:"MappedResult",properties:e})};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/mapped/mapped-result.js"}],[3507,{"../array/index":3419,"../async-iterator/index":3421,"../constructor/index":3438,"../discard/index":3447,"../function/index":3467,"../guard/kind":3469,"../indexed/index":3474,"../intersect/index":3483,"../iterator/index":3495,"../literal/index":3502,"../object/index":3516,"../optional/index":3522,"../promise/index":3536,"../readonly/index":3540,"../sets/index":3564,"../symbols/index":3574,"../tuple/index":3586,"../union/index":3596,"./mapped-result":3506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MappedFunctionReturnType=E,n.Mapped=function(e,t,n){const i=(0,O.IsSchema)(e)?(0,u.IndexPropertyKeys)(e):e,o=t({[r.Kind]:"MappedKey",keys:i}),a=E(i,o);return(0,y.Object)(a,n)};const r=e("../symbols/index"),i=e("../discard/index"),o=e("../array/index"),a=e("../async-iterator/index"),s=e("../constructor/index"),c=e("../function/index"),u=e("../indexed/index"),l=e("../intersect/index"),p=e("../iterator/index"),d=e("../literal/index"),y=e("../object/index"),m=e("../optional/index"),f=e("../promise/index"),h=e("../readonly/index"),T=e("../tuple/index"),g=e("../union/index"),b=e("../sets/index"),_=e("./mapped-result"),O=e("../guard/kind");function w(e,t){return e in t?x(e,t[e]):(0,_.MappedResult)(t)}function v(e,t){return(0,b.SetIncludes)(t,e)?function(e){return{[e]:(0,d.Literal)(e)}}(e):function(e){const t={};for(const n of e)t[n]=(0,d.Literal)(n);return t}(t)}function S(e,t){return t.map(t=>x(e,t))}function x(e,t){const n={...t};return(0,O.IsOptional)(t)?(0,m.Optional)(x(e,(0,i.Discard)(t,[r.OptionalKind]))):(0,O.IsReadonly)(t)?(0,h.Readonly)(x(e,(0,i.Discard)(t,[r.ReadonlyKind]))):(0,O.IsMappedResult)(t)?w(e,t.properties):(0,O.IsMappedKey)(t)?function(e,t){return w(e,v(e,t))}(e,t.keys):(0,O.IsConstructor)(t)?(0,s.Constructor)(S(e,t.parameters),x(e,t.returns),n):(0,O.IsFunction)(t)?(0,c.Function)(S(e,t.parameters),x(e,t.returns),n):(0,O.IsAsyncIterator)(t)?(0,a.AsyncIterator)(x(e,t.items),n):(0,O.IsIterator)(t)?(0,p.Iterator)(x(e,t.items),n):(0,O.IsIntersect)(t)?(0,l.Intersect)(S(e,t.allOf),n):(0,O.IsUnion)(t)?(0,g.Union)(S(e,t.anyOf),n):(0,O.IsTuple)(t)?(0,T.Tuple)(S(e,t.items??[]),n):(0,O.IsObject)(t)?(0,y.Object)(function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(t))n[r]=x(e,t[r]);return n}(e,t.properties),n):(0,O.IsArray)(t)?(0,o.Array)(x(e,t.items),n):(0,O.IsPromise)(t)?(0,f.Promise)(x(e,t.item),n):t}function E(e,t){const n={};for(const r of e)n[r]=x(r,t);return n}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/mapped/mapped.js"}],[3508,{"./never":3509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./never"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/never/index.js"}],[3509,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Never=function(e){return(0,r.CreateType)({[i.Kind]:"Never",not:{}},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/never/never.js"}],[351,{"ethereumjs-util":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContractProxyAddress=async function(e,t){const n=(await Promise.all(i.map(n=>t.request({method:"eth_getStorageAt",params:[e,n,"latest"]})))).find(e=>(0,r.stripHexPrefix)(e)!==o);return n&&(0,r.addHexPrefix)(n.slice(26))};var r=e("ethereumjs-util");const i=["0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3","0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc"],o="0".padEnd(64,"0")}}},{package:"$root$",file:"app/scripts/lib/transaction/decode/proxy.ts"}],[3510,{"./not":3511},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./not"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/not/index.js"}],[3511,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Not=function(e,t){return(0,r.CreateType)({[i.Kind]:"Not",not:e},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/not/not.js"}],[3512,{"./null":3513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./null"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/null/index.js"}],[3513,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Null=function(e){return(0,r.CreateType)({[i.Kind]:"Null",type:"null"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/null/null.js"}],[3514,{"./number":3515},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./number"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/number/index.js"}],[3515,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Number=function(e){return(0,r.CreateType)({[i.Kind]:"Number",type:"number"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/number/number.js"}],[3516,{"./object":3517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./object"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/object/index.js"}],[3517,{"../create/type":3441,"../guard/kind":3469,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Object=void 0;const r=e("../create/type"),i=e("../symbols/index"),o=e("../guard/kind");n.Object=function(e,t){const n=function(e){const t=[];for(let n in e)(0,o.IsOptional)(e[n])||t.push(n);return t}(e),a=n.length>0?{[i.Kind]:"Object",type:"object",properties:e,required:n}:{[i.Kind]:"Object",type:"object",properties:e};return(0,r.CreateType)(a,t)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/object/object.js"}],[3518,{"./omit":3521,"./omit-from-mapped-key":3519,"./omit-from-mapped-result":3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./omit-from-mapped-key"),n),i(e("./omit-from-mapped-result"),n),i(e("./omit"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/omit/index.js"}],[3519,{"../clone/value":3430,"../mapped/index":3504,"./omit":3521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OmitFromMappedKey=function(e,t,n){const i=function(e,t,n){return function(e,t,n){return t.reduce((t,r)=>({...t,...a(e,r,n)}),{})}(e,t.keys,n)}(e,t,n);return(0,r.MappedResult)(i)};const r=e("../mapped/index"),i=e("./omit"),o=e("../clone/value");function a(e,t,n){return{[t]:(0,i.Omit)(e,[t],(0,o.Clone)(n))}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/omit/omit-from-mapped-key.js"}],[352,{"@ethersproject/abi":748,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeTransactionDataWithSourcify=async function(e,t,n){var s,c;const u=await async function(e,t){var n;const r=await async function(e,t){const n=parseInt(t,16),r=await fetch(`https://sourcify.dev/server/files/any/${n}/${e}`);if(!r.ok)throw new Error("Failed to fetch Sourcify files");return r.json()}(e,t),i=null===(n=r.files)||void 0===n?void 0:n.find(e=>e.name.includes("metadata.json"));if(!i)throw new Error("Metadata not found");return JSON.parse(i.content)}(t,n);i("Retrieved Sourcify metadata",{contractAddress:t,chainId:n,metadata:u});const{abi:l}=u.output,p=new r.Interface(l),d=e.slice(0,10);let y;try{y=p.getFunction(d)}catch(e){}if(!y)return i("Failed to find function in ABI",d,l),undefined;const{name:m,inputs:f}=y,h=a(m,f),T=null===(s=u.output.userdoc)||void 0===s?void 0:s.methods[h],g=null===(c=u.output.devdoc)||void 0===c?void 0:c.methods[h],b=(null==T?void 0:T.notice)??(null==g?void 0:g.details);i("Extracted NatSpec",{signature:h,userDoc:T,devDoc:g});const _=p.decodeFunctionData(d,e),O=f.map((e,t)=>o(e,t,_,T,g));return{name:m,description:b,params:O}};var r=e("@ethersproject/abi");const i=(0,e("@metamask/utils").createProjectLogger)("sourcify");function o(e,t,n,r,i){var a,s;const{name:c,type:u,components:l}=e,p=(null==r||null===(a=r.params)||void 0===a?void 0:a[c])??(null==i||null===(s=i.params)||void 0===s?void 0:s[c]),d=n[t];let y=null==l?void 0:l.map((e,t)=>o(e,t,d,{},{}));if(u.endsWith("[]")){const t=u.slice(0,-2);y=d.map((n,r)=>{const i=`Item ${r+1}`;return o({...e,name:i,type:t},r,d,{},{})})}return{name:c,description:p,type:u,value:d,children:y}}function a(e,t){return`${e??""}(${t.map(e=>{var t;return null!==(t=e.components)&&void 0!==t&&t.length?`${a(undefined,e.components)}${e.type.endsWith("[]")?"[]":""}`:e.type}).join(",")})`}}}},{package:"$root$",file:"app/scripts/lib/transaction/decode/sourcify.ts"}],[3520,{"../clone/value":3430,"../mapped/index":3504,"./omit":3521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OmitFromMappedResult=function(e,t,n){const a=function(e,t,n){return function(e,t,n){const r={};for(const a of globalThis.Object.getOwnPropertyNames(e))r[a]=(0,i.Omit)(e[a],t,(0,o.Clone)(n));return r}(e.properties,t,n)}(e,t,n);return(0,r.MappedResult)(a)};const r=e("../mapped/index"),i=e("./omit"),o=e("../clone/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/omit/omit-from-mapped-result.js"}],[3521,{"../create/type":3441,"../discard/discard":3446,"../guard/kind":3469,"../indexed/index":3474,"../intersect/index":3483,"../object/index":3516,"../symbols/symbols":3575,"../union/index":3596,"./omit-from-mapped-key":3519,"./omit-from-mapped-result":3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Omit=function(e,t,n){if((0,d.IsMappedKey)(t))return(0,u.OmitFromMappedKey)(e,t,n);if((0,d.IsMappedResult)(e))return(0,l.OmitFromMappedResult)(e,t,n);const i=(0,d.IsSchema)(t)?(0,c.IndexPropertyKeys)(t):t;return(0,r.CreateType)({...y(e,i),...n})};const r=e("../create/type"),i=e("../discard/discard"),o=e("../intersect/index"),a=e("../union/index"),s=e("../object/index"),c=e("../indexed/index"),u=e("./omit-from-mapped-key"),l=e("./omit-from-mapped-result"),p=e("../symbols/symbols"),d=e("../guard/kind");function y(e,t){return(0,d.IsIntersect)(e)?(0,o.Intersect)(function(e,t){return e.map(e=>y(e,t))}(e.allOf,t)):(0,d.IsUnion)(e)?(0,a.Union)(function(e,t){return e.map(e=>y(e,t))}(e.anyOf,t)):(0,d.IsObject)(e)?function(e,t){const n=(0,i.Discard)(e,[p.TransformKind,"$id","required","properties"]),r=function(e,t){return t.reduce((e,t)=>function(e,t){const{[t]:n,...r}=e;return r}(e,t),e)}(e.properties,t);return(0,s.Object)(r,n)}(e,t):(0,s.Object)({})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/omit/omit.js"}],[3522,{"./optional":3524,"./optional-from-mapped-result":3523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./optional-from-mapped-result"),n),i(e("./optional"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/optional/index.js"}],[3523,{"../mapped/index":3504,"./optional":3524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.Optional)(e[r],t);return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./optional")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/optional/optional-from-mapped-result.js"}],[3524,{"../create/type":3441,"../discard/index":3447,"../guard/kind":3469,"../symbols/index":3574,"./optional-from-mapped-result":3523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Optional=function(e,t){const n=t??!0;return(0,s.IsMappedResult)(e)?(0,a.OptionalFromMappedResult)(e,n):function(e,t){return!1===t?function(e){return(0,r.CreateType)((0,o.Discard)(e,[i.OptionalKind]))}(e):function(e){return(0,r.CreateType)({...e,[i.OptionalKind]:"Optional"})}(e)}(e,n)};const r=e("../create/type"),i=e("../symbols/index"),o=e("../discard/index"),a=e("./optional-from-mapped-result"),s=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/optional/optional.js"}],[3525,{"./parameters":3526},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./parameters"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/parameters/index.js"}],[3526,{"../tuple/index":3586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Parameters=function(e,t){return(0,r.Tuple)(e.parameters,t)};const r=e("../tuple/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/parameters/parameters.js"}],[3527,{"./partial":3529,"./partial-from-mapped-result":3528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./partial-from-mapped-result"),n),i(e("./partial"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/partial/index.js"}],[3528,{"../clone/value":3430,"../mapped/index":3504,"./partial":3529},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PartialFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.Partial)(e[r],(0,o.Clone)(t));return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./partial"),o=e("../clone/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/partial/partial-from-mapped-result.js"}],[3529,{"../create/type":3441,"../discard/index":3447,"../guard/kind":3469,"../intersect/index":3483,"../object/index":3516,"../optional/index":3522,"../symbols/index":3574,"../union/index":3596,"./partial-from-mapped-result":3528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Partial=function(e,t){return(0,p.IsMappedResult)(e)?(0,l.PartialFromMappedResult)(e,t):(0,r.CreateType)({...m(e),...t})};const r=e("../create/type"),i=e("../optional/index"),o=e("../object/index"),a=e("../intersect/index"),s=e("../union/index"),c=e("../discard/index"),u=e("../symbols/index"),l=e("./partial-from-mapped-result"),p=e("../guard/kind");function d(e){return e.map(e=>m(e))}function y(e){const t=(0,c.Discard)(e,[u.TransformKind,"$id","required","properties"]),n=function(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=(0,i.Optional)(e[n]);return t}(e.properties);return(0,o.Object)(n,t)}function m(e){return(0,p.IsIntersect)(e)?(0,a.Intersect)(d(e.allOf)):(0,p.IsUnion)(e)?(0,s.Union)(d(e.anyOf)):(0,p.IsObject)(e)?y(e):(0,o.Object)({})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/partial/partial.js"}],[353,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UNISWAP_ROUTER_COMMANDS=void 0;n.UNISWAP_ROUTER_COMMANDS={0:{name:"V3_SWAP_EXACT_IN",params:[{type:"address",description:"The recipient of the output of the trade",name:"recipient"},{type:"uint256",description:"The amount of input tokens for the trade",name:"amountIn"},{type:"uint256",description:"The minimum amount of output tokens the user wants",name:"amountOutMin"},{type:"bytes",description:"The UniswapV3 encoded path to trade along",name:"path"},{type:"bool",description:"A flag for whether the input tokens should come from the msg.sender (through Permit2) or whether the funds are already in the UniversalRouter",name:"payerIsUser"}]},1:{name:"V3_SWAP_EXACT_OUT",params:[{type:"address",description:"The recipient of the output of the trade",name:"recipient"},{type:"uint256",description:"The amount of output tokens to receive",name:"amountOut"},{type:"uint256",description:"The maximum number of input tokens that should be spent",name:"amountInMax"},{type:"bytes",description:"The UniswapV3 encoded path to trade along",name:"path"},{type:"bool",description:"A flag for whether the input tokens should come from the msg.sender (through Permit2) or whether the funds are already in the UniversalRouter",name:"payerIsUser"}]},2:{name:"PERMIT2_TRANSFER_FROM",params:[{type:"address",description:"The token to fetch from Permit2",name:"token"},{type:"address",description:"The recipient of the tokens fetched",name:"recipient"},{type:"uint256",description:"The amount of token to fetch",name:"amount"}]},3:{name:"PERMIT2_PERMIT_BATCH",params:[{type:"bytes",description:"A PermitBatch struct outlining all of the Permit2 permits to execute.",name:"batch"},{type:"bytes",description:"The signature to provide to Permit2",name:"data"}]},4:{name:"SWEEP",params:[{type:"address",description:"The ERC20 token to sweep (or Constants.ETH for ETH)",name:"token"},{type:"address",description:"The recipient of the sweep",name:"recipient"},{type:"uint256",description:"The minimum required tokens to receive from the sweep",name:"amountMin"}]},5:{name:"TRANSFER",params:[{type:"address",description:"The ERC20 token to transfer (or Constants.ETH for ETH)",name:"token"},{type:"address",description:"The recipient of the transfer",name:"recipient"},{type:"uint256",description:"The amount to transfer",name:"value"}]},6:{name:"PAY_PORTION",params:[{type:"address",description:"The ERC20 token to transfer (or Constants.ETH for ETH)",name:"token"},{type:"address",description:"The recipient of the transfer",name:"recipient"},{type:"uint256",description:"In basis points, the percentage of the contracts balance to transfer",name:"bips"}]},8:{name:"V2_SWAP_EXACT_IN",params:[{type:"address",description:"The recipient of the output of the trade",name:"recipient"},{type:"uint256",description:"The amount of input tokens for the trade",name:"amountIn"},{type:"uint256",description:"The minimum amount of output tokens the user wants",name:"amountOutMin"},{type:"address[]",description:"The UniswapV2 token path to trade along",name:"path"},{type:"bool",description:"A flag for whether the input tokens should come from the msg.sender (through Permit2) or whether the funds are already in the UniversalRouter",name:"payerIsUser"}]},9:{name:"V2_SWAP_EXACT_OUT",params:[{type:"address",description:"The recipient of the output of the trade",name:"recipient"},{type:"uint256",description:"The amount of output tokens to receive",name:"amountOut"},{type:"uint256",description:"The maximum number of input tokens that should be spent",name:"amountInMax"},{type:"address[]",description:"The UniswapV2 token path to trade along",name:"path"},{type:"bool",description:"A flag for whether the input tokens should come from the msg.sender (through Permit2) or whether the funds are already in the UniversalRouter",name:"payerIsUser"}]},10:{name:"PERMIT2_PERMIT",params:[{type:"bytes",description:"A PermitSingle struct outlining the Permit2 permit to execute",name:"permitSingle"},{type:"bytes",description:"The signature to provide to Permit2",name:"signature"}]},11:{name:"WRAP_ETH",params:[{type:"address",description:"The recipient of the WETH",name:"recipient"},{type:"uint256",description:"The amount of ETH to wrap",name:"amountMin"}]},12:{name:"UNWRAP_WETH",params:[{type:"address",description:"The recipient of the ETH",name:"recipient"},{type:"uint256",description:"The minimum required ETH to receive from the unwrapping",name:"amountMin"}]},13:{name:"PERMIT2_TRANSFER_FROM_BATCH",params:[{type:"bytes",description:"An array of AllowanceTransferDetails structs that each describe a Permit2 transfer to perform",name:"batchDetails"}]},16:{name:"SEAPORT",params:[{type:"uint256",description:"The ETH value to forward to the Seaport contract",name:"value"},{type:"bytes",description:"The calldata to use to call the Seaport contract",name:"data"}]},17:{name:"LOOKS_RARE_721",params:[{type:"uint256",description:"The ETH value to forward to the LooksRare contract",name:"value"},{type:"bytes",description:"The calldata to use to call the LooksRare contract",name:"data"},{type:"address",description:"The recipient of the ERC721",name:"recipient"},{type:"address",description:"The ERC721 token address",name:"token"},{type:"uint256",description:"The ID of the ERC721",name:"id"}]},18:{name:"NFTX",params:[{type:"uint256",description:"The ETH value to forward to the NFTX contract",name:"value"},{type:"bytes",description:"The calldata to use to call the NFTX contract",name:"data"}]},19:{name:"CRYPTOPUNKS",params:[{type:"uint256",description:"The PunkID to purchase",name:"punkId"},{type:"address",description:"The recipient for the cryptopunk",name:"recipient"},{type:"uint256",description:"The ETH value to forward to the Cryptopunks contract",name:"value"}]},20:{name:"LOOKS_RARE_1155",params:[{type:"uint256",description:"The ETH value to forward to the LooksRare contract",name:"value"},{type:"bytes",description:"The calldata to use to call the LooksRare contract",name:"data"},{type:"address",description:"The recipient of the ERC1155",name:"recipient"},{type:"address",description:"The ERC1155 token address",name:"token"},{type:"uint256",description:"The ID of the ERC1155",name:"id"},{type:"uint256",description:"The amount of the ERC1155 to transfer",name:"amount"}]},21:{name:"OWNER_CHECK_721",params:[{type:"address",description:"The required owner of the ERC721",name:"owner"},{type:"address",description:"The ERC721 token address",name:"token"},{type:"uint256",description:"The ID of the ERC721",name:"id"}]},22:{name:"OWNER_CHECK_1155",params:[{type:"address",description:"The required owner of the ERC1155",name:"owner"},{type:"address",description:"The ERC721 token address",name:"token"},{type:"uint256",description:"The ID of the ERC1155",name:"id"},{type:"uint256",description:"The minimum required amount of the ERC1155",name:"minBalance"}]},23:{name:"SWEEP_ERC721",params:[{type:"address",description:"The ERC721 token address to transfer",name:"token"},{type:"address",description:"The recipient of the transfer",name:"recipient"},{type:"uint256",description:"The token ID to transfer",name:"id"}]},24:{name:"X2Y2_721",params:[{type:"uint256",description:"The ETH value to forward to the X2Y2 contract",name:"value"},{type:"bytes",description:"The calldata to use to call the X2Y2 contract",name:"data"},{type:"address",description:"The recipient of the ERC721",name:"recipient"},{type:"address",description:"The ERC721 token address",name:"token"},{type:"uint256",description:"The ID of the ERC721",name:"id"}]},25:{name:"SUDOSWAP",params:[{type:"uint256",description:"The ETH value to forward to the Sudoswap contract",name:"value"},{type:"bytes",description:"The calldata to use to call the Sudoswap contract",name:"data"}]},26:{name:"NFT20",params:[{type:"uint256",description:"The ETH value to forward to the NFT20 contract",name:"value"},{type:"bytes",description:"The calldata to use to call the NFT20 contract",name:"data"}]},27:{name:"X2Y2_1155",params:[{type:"uint256",description:"The ETH value to forward to the X2Y2 contract",name:"value"},{type:"bytes",description:"The calldata to use to call the X2Y2 contract",name:"data"},{type:"address",description:"The recipient of the ERC1155",name:"recipient"},{type:"address",description:"The ERC1155 token address",name:"token"},{type:"uint256",description:"The ID of the ERC1155",name:"id"},{type:"uint256",description:"The amount of the ERC1155 to transfer",name:"amount"}]},28:{name:"FOUNDATION",params:[{type:"uint256",description:"The ETH value to forward to the Foundation contract",name:"value"},{type:"bytes",description:"The calldata to use to call the Foundation contract",name:"data"},{type:"address",description:"The recipient of the ERC721",name:"recipient"},{type:"address",description:"The ERC721 token address",name:"token"},{type:"uint256",description:"The ID of the ERC721",name:"id"}]},29:{name:"SWEEP_ERC1155",params:[{type:"address",description:"The ERC1155 token address to sweep",name:"token"},{type:"address",description:"The recipient of the sweep",name:"recipient"},{type:"uint256",description:"The token ID to sweep",name:"id"},{type:"uint256",description:"The minimum required tokens to receive from the sweep",name:"amount"}]}}}}},{package:"$root$",file:"app/scripts/lib/transaction/decode/uniswap-commands.ts"}],[3530,{"./patterns":3531},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./patterns"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/patterns/index.js"}],[3531,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PatternNeverExact=n.PatternStringExact=n.PatternNumberExact=n.PatternBooleanExact=n.PatternNever=n.PatternString=n.PatternNumber=n.PatternBoolean=void 0,n.PatternBoolean="(true|false)",n.PatternNumber="(0|[1-9][0-9]*)",n.PatternString="(.*)",n.PatternNever="(?!.*)",n.PatternBooleanExact=`^${n.PatternBoolean}$`,n.PatternNumberExact=`^${n.PatternNumber}$`,n.PatternStringExact=`^${n.PatternString}$`,n.PatternNeverExact=`^${n.PatternNever}$`}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/patterns/patterns.js"}],[3532,{"./pick":3535,"./pick-from-mapped-key":3533,"./pick-from-mapped-result":3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./pick-from-mapped-key"),n),i(e("./pick-from-mapped-result"),n),i(e("./pick"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/pick/index.js"}],[3533,{"../clone/value":3430,"../mapped/index":3504,"./pick":3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PickFromMappedKey=function(e,t,n){const i=function(e,t,n){return function(e,t,n){return t.reduce((t,r)=>({...t,...a(e,r,n)}),{})}(e,t.keys,n)}(e,t,n);return(0,r.MappedResult)(i)};const r=e("../mapped/index"),i=e("./pick"),o=e("../clone/value");function a(e,t,n){return{[t]:(0,i.Pick)(e,[t],(0,o.Clone)(n))}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/pick/pick-from-mapped-key.js"}],[3534,{"../clone/value":3430,"../mapped/index":3504,"./pick":3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PickFromMappedResult=function(e,t,n){const a=function(e,t,n){return function(e,t,n){const r={};for(const a of globalThis.Object.getOwnPropertyNames(e))r[a]=(0,i.Pick)(e[a],t,(0,o.Clone)(n));return r}(e.properties,t,n)}(e,t,n);return(0,r.MappedResult)(a)};const r=e("../mapped/index"),i=e("./pick"),o=e("../clone/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/pick/pick-from-mapped-result.js"}],[3535,{"../create/type":3441,"../discard/discard":3446,"../guard/kind":3469,"../indexed/index":3474,"../intersect/index":3483,"../object/index":3516,"../symbols/symbols":3575,"../union/index":3596,"./pick-from-mapped-key":3533,"./pick-from-mapped-result":3534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Pick=function(e,t,n){if((0,d.IsMappedKey)(t))return(0,u.PickFromMappedKey)(e,t,n);if((0,d.IsMappedResult)(e))return(0,l.PickFromMappedResult)(e,t,n);const i=(0,d.IsSchema)(t)?(0,c.IndexPropertyKeys)(t):t;return(0,r.CreateType)({...y(e,i),...n})};const r=e("../create/type"),i=e("../discard/discard"),o=e("../intersect/index"),a=e("../union/index"),s=e("../object/index"),c=e("../indexed/index"),u=e("./pick-from-mapped-key"),l=e("./pick-from-mapped-result"),p=e("../symbols/symbols"),d=e("../guard/kind");function y(e,t){return(0,d.IsIntersect)(e)?(0,o.Intersect)(function(e,t){return e.map(e=>y(e,t))}(e.allOf,t)):(0,d.IsUnion)(e)?(0,a.Union)(function(e,t){return e.map(e=>y(e,t))}(e.anyOf,t)):(0,d.IsObject)(e)?function(e,t){const n=(0,i.Discard)(e,[p.TransformKind,"$id","required","properties"]),r=function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(e.properties,t);return(0,s.Object)(r,n)}(e,t):(0,s.Object)({})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/pick/pick.js"}],[3536,{"./promise":3537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./promise"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/promise/index.js"}],[3537,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Promise=function(e,t){return(0,r.CreateType)({[i.Kind]:"Promise",type:"Promise",item:e},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/promise/promise.js"}],[3538,{"./readonly-optional":3539},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./readonly-optional"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/readonly-optional/index.js"}],[3539,{"../optional/index":3522,"../readonly/index":3540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReadonlyOptional=function(e){return(0,r.Readonly)((0,i.Optional)(e))};const r=e("../readonly/index"),i=e("../optional/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/readonly-optional/readonly-optional.js"}],[354,{"../../../../../shared/constants/network":5896,"../../../../../shared/modules/decoding":6018,"./uniswap-commands":353,"@ethersproject/abi":748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UNISWAP_UNIVERSAL_ROUTER_ADDRESSES=void 0,n.decodeUniswapRouterTransactionData=function({transactionData:e,contractAddress:t,chainId:n}){const o=s[n];if(null==o||!o.map(e=>e.toLowerCase()).includes(t.toLowerCase()))return undefined;const u=new r.Interface(c);let l;try{l=u.parseTransaction({data:e})}catch(e){return undefined}const p=l.args.commands,d=l.args.inputs;return p.slice(2).match(/.{1,2}/gu).map((e,t)=>function(e,t){const n=parseInt(e,16),o=31&n,s=a.UNISWAP_ROUTER_COMMANDS[String(o)];if(!s)return undefined;const c=s.params.map(e=>e.type),u=r.Interface.getAbiCoder().decode(c,t),{name:l}=s,p=s.params.map((e,t)=>{const{name:n,type:r,description:o}=e,a=u[t];return{name:n,type:r,value:"path"===n?(0,i.decodeCommandV3Path)(a):a,description:o}});return{name:l,params:p}}(e,d[t])).filter(e=>e!==undefined)};var r=e("@ethersproject/abi"),i=e("../../../../../shared/modules/decoding"),o=e("../../../../../shared/constants/network"),a=e("./uniswap-commands");const s=n.UNISWAP_UNIVERSAL_ROUTER_ADDRESSES={[o.CHAIN_IDS.ARBITRUM]:["0x4C60051384bd2d3C01bfc845Cf5F4b44bcbE9de5","0xeC8B0F7Ffe3ae75d7FfAb09429e3675bb63503e4","0x5E325eDA8064b456f4781070C0738d849c824258"],[o.CHAIN_IDS.AVALANCHE]:["0x82635AF6146972cD6601161c4472ffe97237D292","0x4Dae2f939ACf50408e13d58534Ff8c2776d45265"],[o.CHAIN_IDS.BASE]:["0xeC8B0F7Ffe3ae75d7FfAb09429e3675bb63503e4","0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD"],[o.CHAIN_IDS.BSC]:["0x5Dc88340E1c5c6366864Ee415d6034cadd1A9897","0xeC8B0F7Ffe3ae75d7FfAb09429e3675bb63503e4","0x4Dae2f939ACf50408e13d58534Ff8c2776d45265"],[o.CHAIN_IDS.MAINNET]:["0xEf1c6E67703c7BD7107eed8303Fbe6EC2554BF6B","0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD"],[o.CHAIN_IDS.OPTIMISM]:["0xb555edF5dcF85f42cEeF1f3630a52A108E55A654","0xeC8B0F7Ffe3ae75d7FfAb09429e3675bb63503e4","0xCb1355ff08Ab38bBCE60111F1bb2B784bE25D7e8"],[o.CHAIN_IDS.POLYGON]:["0x4C60051384bd2d3C01bfc845Cf5F4b44bcbE9de5","0x643770E279d5D0733F21d6DC03A8efbABf3255B4","0xec7BE89e9d109e7e3Fec59c222CF297125FEFda2"],[o.CHAIN_IDS.SEPOLIA]:["0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD"]},c=[{constant:!0,inputs:[{name:"commands",type:"bytes"},{name:"inputs",type:"bytes[]"},{name:"deadline",type:"uint256"}],name:"execute",type:"function"},{constant:!0,inputs:[{name:"commands",type:"bytes"},{name:"inputs",type:"bytes[]"}],name:"execute",type:"function"}]}}},{package:"$root$",file:"app/scripts/lib/transaction/decode/uniswap.ts"}],[3540,{"./readonly":3542,"./readonly-from-mapped-result":3541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./readonly-from-mapped-result"),n),i(e("./readonly"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/readonly/index.js"}],[3541,{"../mapped/index":3504,"./readonly":3542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReadonlyFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.Readonly)(e[r],t);return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./readonly")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/readonly/readonly-from-mapped-result.js"}],[3542,{"../create/type":3441,"../discard/index":3447,"../guard/kind":3469,"../symbols/index":3574,"./readonly-from-mapped-result":3541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Readonly=function(e,t){const n=t??!0;return(0,s.IsMappedResult)(e)?(0,a.ReadonlyFromMappedResult)(e,n):function(e,t){return!1===t?function(e){return(0,r.CreateType)((0,o.Discard)(e,[i.ReadonlyKind]))}(e):function(e){return(0,r.CreateType)({...e,[i.ReadonlyKind]:"Readonly"})}(e)}(e,n)};const r=e("../create/type"),i=e("../symbols/index"),o=e("../discard/index"),a=e("./readonly-from-mapped-result"),s=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/readonly/readonly.js"}],[3543,{"./record":3544},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./record"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/record/index.js"}],[3544,{"../create/type":3441,"../guard/kind":3469,"../guard/value":3471,"../indexed/index":3474,"../never/index":3508,"../object/index":3516,"../patterns/index":3530,"../symbols/index":3574,"../template-literal/index":3578,"../union/index":3596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Record=function(e,t,n={}){return(0,d.IsUnion)(e)?function(e,t,n){return m((0,u.IndexPropertyKeys)((0,a.Union)(e)),t,n)}(e.anyOf,t,n):(0,d.IsTemplateLiteral)(e)?function(e,t,n){return(0,s.IsTemplateLiteralFinite)(e)?m((0,u.IndexPropertyKeys)(e),t,n):y(e.pattern,t,n)}(e,t,n):(0,d.IsLiteral)(e)?function(e,t,n){return m([e.toString()],t,n)}(e.const,t,n):(0,d.IsInteger)(e)||(0,d.IsNumber)(e)?function(e,t,n){return y(c.PatternNumberExact,t,n)}(0,t,n):(0,d.IsRegExp)(e)?function(e,t,n){return y(e.source,t,n)}(e,t,n):(0,d.IsString)(e)?function(e,t,n){const r=(0,p.IsUndefined)(e.pattern)?c.PatternStringExact:e.pattern;return y(r,t,n)}(e,t,n):(0,d.IsAny)(e)?function(e,t,n){return y(c.PatternStringExact,t,n)}(0,t,n):(0,d.IsNever)(e)?function(e,t,n){return y(c.PatternNeverExact,t,n)}(0,t,n):(0,o.Never)(n)};const r=e("../create/type"),i=e("../object/index"),o=e("../never/index"),a=e("../union/index"),s=e("../template-literal/index"),c=e("../patterns/index"),u=e("../indexed/index"),l=e("../symbols/index"),p=e("../guard/value"),d=e("../guard/kind");function y(e,t,n){return(0,r.CreateType)({[l.Kind]:"Record",type:"object",patternProperties:{[e]:t}},n)}function m(e,t,n){const r={};for(const n of e)r[n]=t;return(0,i.Object)(r,{...n,[l.Hint]:"Record"})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/record/record.js"}],[3545,{"./recursive":3546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./recursive"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/recursive/index.js"}],[3546,{"../clone/type":3429,"../create/type":3441,"../guard/value":3471,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Recursive=function(e,t={}){(0,o.IsUndefined)(t.$id)&&(t.$id="T"+s++);const n=(0,r.CloneType)(e({[a.Kind]:"This",$ref:`${t.$id}`}));return n.$id=t.$id,(0,i.CreateType)({[a.Hint]:"Recursive",...n},t)};const r=e("../clone/type"),i=e("../create/type"),o=e("../guard/value"),a=e("../symbols/index");let s=0}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/recursive/recursive.js"}],[3547,{"./ref":3548},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./ref"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/ref/index.js"}],[3548,{"../create/type":3441,"../guard/value":3471,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Ref=function(e,t){if((0,o.IsString)(e))return(0,r.CreateType)({[i.Kind]:"Ref",$ref:e},t);if((0,o.IsUndefined)(e.$id))throw new Error("Reference target type must specify an $id");return(0,r.CreateType)({[i.Kind]:"Ref",$ref:e.$id},t)};const r=e("../create/type"),i=e("../symbols/index"),o=e("../guard/value")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/ref/ref.js"}],[3549,{"./regexp":3550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./regexp"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/regexp/index.js"}],[355,{"../../../../../shared/types/transaction-decode":6051,"./four-byte":350,"./proxy":351,"./sourcify":352,"./uniswap":354,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeTransactionData=async function({transactionData:e,contractAddress:t,chainId:n,provider:r}){u("Decoding transaction data",{transactionData:e,contractAddress:t,chainId:n});const p=(0,o.decodeUniswapRouterTransactionData)({transactionData:e,contractAddress:t,chainId:n});if(p)return u("Decoded with Uniswap commands",p),{data:l(p),source:i.DecodedTransactionDataSource.Uniswap};const d=await(0,s.getContractProxyAddress)(t,r);d&&u("Retrieved proxy implementation address",d);const y=d??t,m=(0,a.decodeTransactionDataWithSourcify)(e,y,n),f=(0,c.decodeTransactionDataWithFourByte)(e),[h,T]=await Promise.allSettled([m,f]);if("fulfilled"===h.status&&h.value)return u("Decoded data with Sourcify",h.value),{data:l([h.value]),source:i.DecodedTransactionDataSource.Sourcify};if(u("Failed to decode data with Sourcify",h),"fulfilled"===T.status&&T.value)return u("Decoded data with 4Byte",T.value),{data:l([T.value]),source:i.DecodedTransactionDataSource.FourByte};return u("Failed to decode data with 4Byte",T),undefined};var r=e("@metamask/utils"),i=e("../../../../../shared/types/transaction-decode"),o=e("./uniswap"),a=e("./sourcify"),s=e("./proxy"),c=e("./four-byte");const u=(0,r.createProjectLogger)("transaction-decode");function l(e){return e.map(e=>function(e){return{...e,params:e.params.map(e=>p(e))}}(e))}function p(e){var t;return{...e,value:d(e.value),children:null===(t=e.children)||void 0===t?void 0:t.map(e=>p(e))}}function d(e){const t=e._hex;return t?BigInt(t).toString():e}}}},{package:"$root$",file:"app/scripts/lib/transaction/decode/util.ts"}],[3550,{"../create/type":3441,"../guard/value":3471,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegExp=function(e,t){const n=(0,i.IsString)(e)?new globalThis.RegExp(e):e;return(0,r.CreateType)({[o.Kind]:"RegExp",type:"RegExp",source:n.source,flags:n.flags},t)};const r=e("../create/type"),i=e("../guard/value"),o=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/regexp/regexp.js"}],[3551,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Entries=function(){return new Map(r)},n.Clear=function(){return r.clear()},n.Delete=function(e){return r.delete(e)},n.Has=function(e){return r.has(e)},n.Set=function(e,t){r.set(e,t)},n.Get=function(e){return r.get(e)};const r=new Map}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/registry/format.js"}],[3552,{"./format":3551,"./type":3553},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeRegistry=n.FormatRegistry=void 0,n.FormatRegistry=e("./format"),n.TypeRegistry=e("./type")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/registry/index.js"}],[3553,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Entries=function(){return new Map(r)},n.Clear=function(){return r.clear()},n.Delete=function(e){return r.delete(e)},n.Has=function(e){return r.has(e)},n.Set=function(e,t){r.set(e,t)},n.Get=function(e){return r.get(e)};const r=new Map}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/registry/type.js"}],[3554,{"./required":3556,"./required-from-mapped-result":3555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./required-from-mapped-result"),n),i(e("./required"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/required/index.js"}],[3555,{"../mapped/index":3504,"./required":3556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RequiredFromMappedResult=function(e,t){const n=function(e,t){return function(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=(0,i.Required)(e[r],t);return n}(e.properties,t)}(e,t);return(0,r.MappedResult)(n)};const r=e("../mapped/index"),i=e("./required")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/required/required-from-mapped-result.js"}],[3556,{"../create/type":3441,"../discard/index":3447,"../guard/kind":3469,"../intersect/index":3483,"../object/index":3516,"../symbols/index":3574,"../union/index":3596,"./required-from-mapped-result":3555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Required=function(e,t){return(0,l.IsMappedResult)(e)?(0,u.RequiredFromMappedResult)(e,t):(0,r.CreateType)({...y(e),...t})};const r=e("../create/type"),i=e("../intersect/index"),o=e("../union/index"),a=e("../object/index"),s=e("../symbols/index"),c=e("../discard/index"),u=e("./required-from-mapped-result"),l=e("../guard/kind");function p(e){return e.map(e=>y(e))}function d(e){const t=(0,c.Discard)(e,[s.TransformKind,"$id","required","properties"]),n=function(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=(0,c.Discard)(e[n],[s.OptionalKind]);return t}(e.properties);return(0,a.Object)(n,t)}function y(e){return(0,l.IsIntersect)(e)?(0,i.Intersect)(p(e.allOf)):(0,l.IsUnion)(e)?(0,o.Union)(p(e.anyOf)):(0,l.IsObject)(e)?d(e):(0,a.Object)({})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/required/required.js"}],[3557,{"./rest":3558},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./rest"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/rest/index.js"}],[3558,{"../guard/kind":3469},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Rest=function(e){return function(e){return(0,r.IsIntersect)(e)?e.allOf:(0,r.IsUnion)(e)?e.anyOf:(0,r.IsTuple)(e)?e.items??[]:[]}(e)};const r=e("../guard/kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/rest/rest.js"}],[3559,{"./return-type":3560},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./return-type"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/return-type/index.js"}],[356,{"@ethersproject/abi":748,"@metamask/keyring-controller":2310,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ROOT_AUTHORITY=n.PRIMARY_TYPE_DELEGATION=n.ExecutionMode=n.ANY_BENEFICIARY=void 0,n.encodeRedeemDelegations=function(e,t,n){return new o.Interface(l).encodeFunctionData("redeemDelegations",[d(e),t,(r=n,r.map(y))]);var r},n.signDelegation=async function({chainId:e,delegation:t,from:n,messenger:o}){const c={types:p,primaryType:a,domain:{chainId:String((0,r.hexToNumber)(e)),name:s,version:"1",verifyingContract:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3"},message:{...t,chainId:(0,r.hexToNumber)(e)}};return await o.call("KeyringController:signTypedMessage",{from:n,data:c},i.SignTypedDataVersion.V4)};var r=e("@metamask/utils"),i=e("@metamask/keyring-controller"),o=e("@ethersproject/abi");n.ExecutionMode=function(e){return e.BATCH_DEFAULT_MODE="0x0100000000000000000000000000000000000000000000000000000000000000",e}({});n.ROOT_AUTHORITY="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",n.ANY_BENEFICIARY="0x0000000000000000000000000000000000000a11";const a=n.PRIMARY_TYPE_DELEGATION="Delegation",s="DelegationManager",c=[{type:"address",name:"delegate"},{type:"address",name:"delegator"},{type:"bytes32",name:"authority"},{type:"tuple[]",name:"caveats",components:[{type:"address",name:"enforcer"},{type:"bytes",name:"terms"},{type:"bytes",name:"args"}]},{type:"uint256",name:"salt"},{type:"bytes",name:"signature"}],u=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],l=[{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}],p={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]};function d(e){return e.map(e=>{return t=e,o.defaultAbiCoder.encode([o.ParamType.from({components:c,name:"delegations",type:"tuple[]"})],[t]);var t})}function y(e){return o.defaultAbiCoder.encode([o.ParamType.from({components:u,name:"executions",type:"tuple[]"})],[e])}}}},{package:"$root$",file:"app/scripts/lib/transaction/delegation.ts"}],[3560,{"../create/type":3441},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReturnType=function(e,t){return(0,r.CreateType)(e.returns,t)};const r=e("../create/type")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/return-type/return-type.js"}],[3561,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/schema/anyschema.js"}],[3562,{"./anyschema":3561,"./schema":3563},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./anyschema"),n),i(e("./schema"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/schema/index.js"}],[3563,{"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/schema/schema.js"}],[3564,{"./set":3565},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./set"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/sets/index.js"}],[3565,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){return e.includes(t)}function i(e,t){return e.filter(e=>t.includes(e))}Object.defineProperty(n,"__esModule",{value:!0}),n.SetIncludes=r,n.SetIsSubset=function(e,t){return e.every(e=>r(t,e))},n.SetDistinct=function(e){return[...new Set(e)]},n.SetIntersect=i,n.SetUnion=function(e,t){return[...e,...t]},n.SetComplement=function(e,t){return e.filter(e=>!t.includes(e))},n.SetIntersectMany=function(e){return 1===e.length?e[0]:e.length>1?function(e,t){return e.reduce((e,t)=>i(e,t),t)}(e.slice(1),e[0]):[]},n.SetUnionMany=function(e){const t=[];for(const n of e)t.push(...n);return t}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/sets/set.js"}],[3566,{"./static":3567},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./static"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/static/index.js"}],[3567,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/static/static.js"}],[3568,{"./strict":3569},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./strict"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/strict/index.js"}],[3569,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Strict=function(e){return JSON.parse(JSON.stringify(e))}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/strict/strict.js"}],[357,{"../../../../../shared/lib/delegation":5966,"../../../../../shared/lib/delegation/caveatBuilder/exactExecutionBuilder":5957,"../../../../../shared/lib/delegation/caveatBuilder/limitedCallsBuilder":5959,"../../../../../shared/lib/delegation/caveatBuilder/specificActionERC20TransferBatchBuilder":5962,"../../../../../shared/lib/delegation/delegation":5963,"../../../../../shared/lib/eip7702-support-utils":5968,"../transaction-relay":361,"../util":362,"@ethersproject/abi":748,"@metamask/controller-utils":1488,"@metamask/metamask-eth-abis":2370,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Delegation7702PublishHook=void 0;var r=e("@ethersproject/abi"),i=e("@metamask/metamask-eth-abis"),o=e("@metamask/utils"),a=e("@metamask/controller-utils"),s=e("../../../../../shared/lib/delegation"),c=e("../../../../../shared/lib/eip7702-support-utils"),u=e("../../../../../shared/lib/delegation/caveatBuilder/exactExecutionBuilder"),l=e("../../../../../shared/lib/delegation/caveatBuilder/limitedCallsBuilder"),p=e("../../../../../shared/lib/delegation/caveatBuilder/specificActionERC20TransferBatchBuilder"),d=e("../../../../../shared/lib/delegation/delegation"),y=e("../transaction-relay"),m=e("../util");function f(e,t,n){h(e,t),t.set(e,n)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T(e,t){return e.get(b(e,t))}function g(e,t,n){return e.set(b(e,t),n),n}function b(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const _={transactionHash:undefined},O=(0,o.createProjectLogger)("delegation-7702-publish-hook");var w=new WeakMap,v=new WeakMap,S=new WeakMap,x=new WeakSet;async function E(e,t){try{return await b(x,this,P).call(this,e,t)}catch(e){throw O("Error",e),e}}async function P(e,t){const{chainId:n,gasFeeTokens:r,selectedGasFeeToken:i,txParams:o}=e,{from:a}=o,u=await T(w,this).call(this,{address:a,chainIds:[n]}),l=(0,c.findAtomicBatchSupportForChain)(u,n),{isSupported:p,delegationAddress:m,upgradeContractAddress:f}=(0,c.checkEip7702Support)(l);if(!p)return O("Skipping as EIP-7702 is not supported",{from:a,chainId:n}),_;const h=e.isGasFeeIncluded,g=Boolean(e.isGasFeeSponsored);if(!(i&&null!=r&&r.length||h||g))return O("Skipping as no selected gas fee token"),_;const v=h||g?undefined:null==r?void 0:r.find(e=>e.tokenAddress.toLowerCase()===(null==i?void 0:i.toLowerCase()));if(!v&&!h&&!g)throw new Error("Selected gas fee token not found");const S=(0,s.getDeleGatorEnvironment)(parseInt(e.chainId,16)),E=S.DelegationManager,P=!h&&!e.isGasFeeSponsored;if(P&&(!v||v===undefined))throw new Error("Gas fee token not found");const A=await b(x,this,I).call(this,S,e,v,P),k=[P?s.BATCH_DEFAULT_MODE:s.SINGLE_DEFAULT_MODE],C=b(x,this,j).call(this,e,v,P),R={chainId:n,data:(0,d.encodeRedeemDelegations)({delegations:A,modes:k,executions:C}),to:E,metadata:{txType:e.type}};m||(R.authorizationList=await b(x,this,M).call(this,e,f??undefined)),O("Relay request",R);const{uuid:N}=await(0,y.submitRelayTransaction)(R),{transactionHash:z,status:D}=await(0,y.waitForRelayResult)({chainId:n,uuid:N,interval:1e3});if(D!==y.RelayStatus.Success)throw new Error(`Transaction relay error - ${D}`);return{transactionHash:z}}async function I(e,t,n,r){const i=b(x,this,A).call(this,e,t,n,r);O("Signing delegation");const o=await T(v,this).call("DelegationController:signDelegation",{chainId:t.chainId,delegation:i});O("Delegation signature",o);return[[{...i,signature:o}]]}function j(e,t,n){const{txParams:r}=e,{data:i,to:o,value:a}=r,s=b(x,this,N).call(this,i),c={target:o,value:BigInt(a??"0x0"),callData:s};if(!n)return[[c]];if(!t)throw new Error("Selected gas fee token not found");return[[c,{target:t.tokenAddress,value:BigInt("0x0"),callData:b(x,this,C).call(this,t.recipient,t.amount)}]]}function A(e,t,n,r){const i=b(x,this,k).call(this,e,t,n,r);O("Caveats",i);const o=(0,s.createDelegation)({from:t.txParams.from,to:d.ANY_BENEFICIARY,caveats:i});return O("Delegation",o),o}function k(e,t,n,r){const i=(0,s.createCaveatBuilder)(e),{txParams:o}=t,{to:a,value:c,data:d}=o,y=b(x,this,N).call(this,d);if(r&&n!==undefined){const{tokenAddress:e,recipient:t,amount:r}=n;a!==undefined&&i.addCaveat(p.specificActionERC20TransferBatch,e,t,r,a,c??"0x0",y)}else a!==undefined&&i.addCaveat(u.exactExecution,a,c??"0x0",y);return i.addCaveat(l.limitedCalls,1),i.build()}async function M(e,t){const{chainId:n,txParams:r,networkClientId:i}=e,{from:o,nonce:a}=r,s=await T(S,this).call(this,o,i),c=a??s;if(O("Including authorization as not upgraded"),!t)throw new Error("Upgrade contract address not found");const u=await T(v,this).call("KeyringController:signEip7702Authorization",{chainId:parseInt(n,16),contractAddress:t,from:o,nonce:parseInt(c,16)}),{r:l,s:p,yParity:d}=b(x,this,R).call(this,u);return O("Authorization signature",{authorizationSignature:u,r:l,s:p,yParity:d}),[{address:t,chainId:n,nonce:c,r:l,s:p,yParity:d}]}function C(e,t){return new r.Interface(i.abiERC20).encodeFunctionData("transfer",[e,t])}function R(e){const t=(0,m.stripSingleLeadingZero)(e.slice(0,66)),n=(0,m.stripSingleLeadingZero)((0,o.add0x)(e.slice(66,130))),r=parseInt(e.slice(130,132),16);return{r:t,s:n,yParity:(0,a.toHex)(r-27==0?0:1)}}function N(e){if("string"!=typeof e||0===e.length)return"0x";const t="0x"===e.slice(0,2).toLowerCase(),n=e.toLowerCase(),r=t?`0x${n.slice(2)}`:`0x${n}`,i=r.slice(2);return 0===i.length?"0x":i.length%2!=0?b(x,this,N).call(this,`0x0${i}`):r}n.Delegation7702PublishHook=class{constructor({isAtomicBatchSupported:e,messenger:t,getNextNonce:n}){var r,i;h(r=this,i=x),i.add(r),f(this,w,void 0),f(this,v,void 0),f(this,S,void 0),g(w,this,e),g(v,this,t),g(S,this,n)}getHook(){return b(x,this,E).bind(this)}}}}},{package:"$root$",file:"app/scripts/lib/transaction/hooks/delegation-7702-publish.ts"}],[3570,{"./string":3571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./string"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/string/index.js"}],[3571,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.String=function(e){return(0,r.CreateType)({[i.Kind]:"String",type:"string"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/string/string.js"}],[3572,{"./symbol":3573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./symbol"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/symbol/index.js"}],[3573,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Symbol=function(e){return(0,r.CreateType)({[i.Kind]:"Symbol",type:"symbol"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/symbol/symbol.js"}],[3574,{"./symbols":3575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./symbols"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/symbols/index.js"}],[3575,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Kind=n.Hint=n.OptionalKind=n.ReadonlyKind=n.TransformKind=void 0,n.TransformKind=Symbol.for("TypeBox.Transform"),n.ReadonlyKind=Symbol.for("TypeBox.Readonly"),n.OptionalKind=Symbol.for("TypeBox.Optional"),n.Hint=Symbol.for("TypeBox.Hint"),n.Kind=Symbol.for("TypeBox.Kind")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/symbols/symbols.js"}],[3576,{"../error/index":3451,"./parse":3579},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteralFiniteError=void 0,n.IsTemplateLiteralExpressionFinite=a,n.IsTemplateLiteralFinite=function(e){return a((0,r.TemplateLiteralParseExact)(e.pattern))};const r=e("./parse"),i=e("../error/index");class o extends i.TypeBoxError{}function a(e){return!function(e){return"or"===e.type&&2===e.expr.length&&"const"===e.expr[0].type&&"0"===e.expr[0].const&&"const"===e.expr[1].type&&"[1-9][0-9]*"===e.expr[1].const}(e)&&!function(e){return"const"===e.type&&".*"===e.const}(e)&&(!!function(e){return"or"===e.type&&2===e.expr.length&&"const"===e.expr[0].type&&"true"===e.expr[0].const&&"const"===e.expr[1].type&&"false"===e.expr[1].const}(e)||("and"===e.type||"or"===e.type?e.expr.every(e=>a(e)):"const"===e.type||(()=>{throw new o("Unknown expression type")})()))}n.TemplateLiteralFiniteError=o}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/finite.js"}],[3577,{"../error/index":3451,"./finite":3576,"./parse":3579},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteralGenerateError=void 0,n.TemplateLiteralExpressionGenerate=u,n.TemplateLiteralGenerate=function(e){const t=(0,i.TemplateLiteralParseExact)(e.pattern);return(0,r.IsTemplateLiteralExpressionFinite)(t)?[...u(t)]:[]};const r=e("./finite"),i=e("./parse"),o=e("../error/index");class a extends o.TypeBoxError{}function*s(e){if(1===e.length)return yield*e[0];for(const t of e[0])for(const n of s(e.slice(1)))yield`${t}${n}`}function*c(e){return yield*s(e.expr.map(e=>[...u(e)]))}function*u(e){return"and"===e.type?yield*c(e):"or"===e.type?yield*function*(e){for(const t of e.expr)yield*u(t)}(e):"const"===e.type?yield*function*(e){return yield e.const}(e):(()=>{throw new a("Unknown expression")})()}n.TemplateLiteralGenerateError=a}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/generate.js"}],[3578,{"./finite":3576,"./generate":3577,"./parse":3579,"./pattern":3580,"./syntax":3581,"./template-literal":3582,"./union":3583},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./finite"),n),i(e("./generate"),n),i(e("./syntax"),n),i(e("./parse"),n),i(e("./pattern"),n),i(e("./union"),n),i(e("./template-literal"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/index.js"}],[3579,{"../error/index":3451},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteralParserError=void 0,n.TemplateLiteralParse=l,n.TemplateLiteralParseExact=function(e){return l(e.slice(1,e.length-1))};const r=e("../error/index");class i extends r.TypeBoxError{}function o(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function a(e,t,n){return e[t]===n&&92!==e.charCodeAt(t-1)}function s(e,t){return a(e,t,"(")}function c(e,t){return a(e,t,")")}function u(e,t){return a(e,t,"|")}function l(e){return function(e){if(!s(e,0)||!c(e,e.length-1))return!1;let t=0;for(let n=0;n<e.length;n++)if(s(e,n)&&(t+=1),c(e,n)&&(t-=1),0===t&&n!==e.length-1)return!1;return!0}(e)?l(function(e){return e.slice(1,e.length-1)}(e)):function(e){let t=0;for(let n=0;n<e.length;n++)if(s(e,n)&&(t+=1),c(e,n)&&(t-=1),u(e,n)&&0===t)return!0;return!1}(e)?function(e){let[t,n]=[0,0];const r=[];for(let i=0;i<e.length;i++)if(s(e,i)&&(t+=1),c(e,i)&&(t-=1),u(e,i)&&0===t){const t=e.slice(n,i);t.length>0&&r.push(l(t)),n=i+1}const i=e.slice(n);return i.length>0&&r.push(l(i)),0===r.length?{type:"const",const:""}:1===r.length?r[0]:{type:"or",expr:r}}(e):function(e){for(let t=0;t<e.length;t++)if(s(e,t))return!0;return!1}(e)?function(e){function t(e,t){if(!s(e,t))throw new i("TemplateLiteralParser: Index must point to open parens");let n=0;for(let r=t;r<e.length;r++)if(s(e,r)&&(n+=1),c(e,r)&&(n-=1),0===n)return[t,r];throw new i("TemplateLiteralParser: Unclosed group parens in expression")}function n(e,t){for(let n=t;n<e.length;n++)if(s(e,n))return[t,n];return[t,e.length]}const r=[];for(let i=0;i<e.length;i++)if(s(e,i)){const[n,o]=t(e,i),a=e.slice(n,o+1);r.push(l(a)),i=o}else{const[t,o]=n(e,i),a=e.slice(t,o);a.length>0&&r.push(l(a)),i=o-1}return 0===r.length?{type:"const",const:""}:1===r.length?r[0]:{type:"and",expr:r}}(e):{type:"const",const:o(e)}}n.TemplateLiteralParserError=i}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/parse.js"}],[358,{"../containers/util":349,"@metamask/controller-utils":1488,"@metamask/transaction-controller":3085,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EnforceSimulationHook=void 0;e("@metamask/transaction-controller");var r=e("@metamask/utils");e("@metamask/controller-utils"),e("../containers/util");function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){return e.get(a(e,t))}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const s=(0,r.createProjectLogger)("enforce-simulation-hook");var c=new WeakMap,u=new WeakSet;async function l(e,t){const{transactionMeta:n}=t,{isFinal:r}=e,{containerTypes:i,delegationAddress:a,id:u,origin:l,simulationData:p,txParamsOriginal:d}=n,y=o(c,this).call("AppStateController:getState");(null==y?void 0:y.enableEnforcedSimulationsForTransactions[u])??(null==y||y.enableEnforcedSimulations);return s("Skipping as enforced simulations are disabled"),{skipSimulation:!1}}n.EnforceSimulationHook=class{constructor({messenger:e}){var t,n;i(t=this,n=u),n.add(t),function(e,t,n){i(e,t),t.set(e,n)}(this,c,void 0),function(e,t,n){e.set(a(e,t),n)}(c,this,e)}getAfterSimulateHook(){return a(u,this,l).bind(this,{})}getBeforeSignHook(){return a(u,this,l).bind(this,{isFinal:!0})}}}}},{package:"$root$",file:"app/scripts/lib/transaction/hooks/enforce-simulation-hook.ts"}],[3580,{"../error/index":3451,"../guard/kind":3469,"../patterns/index":3530,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteralPatternError=void 0,n.TemplateLiteralPattern=function(e){return`^${e.map(e=>c(e,"")).join("")}$`};const r=e("../patterns/index"),i=e("../symbols/index"),o=e("../error/index"),a=e("../guard/kind");class s extends o.TypeBoxError{}function c(e,t){return(0,a.IsTemplateLiteral)(e)?e.pattern.slice(1,e.pattern.length-1):(0,a.IsUnion)(e)?`(${e.anyOf.map(e=>c(e,t)).join("|")})`:(0,a.IsNumber)(e)||(0,a.IsInteger)(e)||(0,a.IsBigInt)(e)?`${t}${r.PatternNumber}`:(0,a.IsString)(e)?`${t}${r.PatternString}`:(0,a.IsLiteral)(e)?`${t}${n=e.const.toString(),n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`:(0,a.IsBoolean)(e)?`${t}${r.PatternBoolean}`:(()=>{throw new s(`Unexpected Kind '${e[i.Kind]}'`)})();var n}n.TemplateLiteralPatternError=s}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/pattern.js"}],[3581,{"../bigint/index":3425,"../boolean/index":3427,"../literal/index":3502,"../never/index":3508,"../number/index":3514,"../string/index":3570,"../union/index":3596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteralSyntax=function(e){return[...d(e)]};const r=e("../literal/index"),i=e("../boolean/index"),o=e("../bigint/index"),a=e("../number/index"),s=e("../string/index"),c=e("../union/index"),u=e("../never/index");function*l(e){const t=e.trim().replace(/"|'/g,"");return"boolean"===t?yield(0,i.Boolean)():"number"===t?yield(0,a.Number)():"bigint"===t?yield(0,o.BigInt)():"string"===t?yield(0,s.String)():yield(()=>{const e=t.split("|").map(e=>(0,r.Literal)(e.trim()));return 0===e.length?(0,u.Never)():1===e.length?e[0]:(0,c.UnionEvaluated)(e)})()}function*p(e){if("{"!==e[1]){const t=(0,r.Literal)("$"),n=d(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if("}"===e[t]){const n=l(e.slice(2,t)),r=d(e.slice(t+1));return yield*[...n,...r]}yield(0,r.Literal)(e)}function*d(e){for(let t=0;t<e.length;t++)if("$"===e[t]){const n=(0,r.Literal)(e.slice(0,t)),i=p(e.slice(t));return yield*[n,...i]}yield(0,r.Literal)(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/syntax.js"}],[3582,{"../create/type":3441,"../guard/value":3471,"../symbols/index":3574,"./pattern":3580,"./syntax":3581},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteral=function(e,t){const n=(0,a.IsString)(e)?(0,o.TemplateLiteralPattern)((0,i.TemplateLiteralSyntax)(e)):(0,o.TemplateLiteralPattern)(e);return(0,r.CreateType)({[s.Kind]:"TemplateLiteral",type:"string",pattern:n},t)};const r=e("../create/type"),i=e("./syntax"),o=e("./pattern"),a=e("../guard/value"),s=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/template-literal.js"}],[3583,{"../literal/index":3502,"../union/index":3596,"./generate":3577},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateLiteralToUnion=function(e){const t=(0,o.TemplateLiteralGenerate)(e).map(e=>(0,i.Literal)(e));return(0,r.UnionEvaluated)(t)};const r=e("../union/index"),i=e("../literal/index"),o=e("./generate")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/template-literal/union.js"}],[3584,{"./transform":3585},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./transform"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/transform/index.js"}],[3585,{"../guard/kind":3469,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransformEncodeBuilder=n.TransformDecodeBuilder=void 0,n.Transform=function(e){return new o(e)};const r=e("../symbols/index"),i=e("../guard/kind");class o{constructor(e){this.schema=e}Decode(e){return new a(this.schema,e)}}n.TransformDecodeBuilder=o;class a{constructor(e,t){this.schema=e,this.decode=t}EncodeTransform(e,t){const n={Encode:n=>t[r.TransformKind].Encode(e(n)),Decode:e=>this.decode(t[r.TransformKind].Decode(e))};return{...t,[r.TransformKind]:n}}EncodeSchema(e,t){const n={Decode:this.decode,Encode:e};return{...t,[r.TransformKind]:n}}Encode(e){return(0,i.IsTransform)(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}}n.TransformEncodeBuilder=a}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/transform/transform.js"}],[3586,{"./tuple":3587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./tuple"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/tuple/index.js"}],[3587,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Tuple=function(e,t){return(0,r.CreateType)(e.length>0?{[i.Kind]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[i.Kind]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/tuple/tuple.js"}],[3588,{"./javascript":3589,"./json":3590,"./type":3591},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Type=n.JavaScriptTypeBuilder=n.JsonTypeBuilder=void 0;var r=e("./json");Object.defineProperty(n,"JsonTypeBuilder",{enumerable:!0,get:function(){return r.JsonTypeBuilder}});const i=e("./type"),o=e("./javascript");Object.defineProperty(n,"JavaScriptTypeBuilder",{enumerable:!0,get:function(){return o.JavaScriptTypeBuilder}});const a=i;n.Type=a}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/type/index.js"}],[3589,{"../async-iterator/index":3421,"../awaited/index":3423,"../bigint/index":3425,"../constructor-parameters/index":3436,"../constructor/index":3438,"../date/index":3443,"../function/index":3467,"../instance-type/index":3479,"../iterator/index":3495,"../parameters/index":3525,"../promise/index":3536,"../regexp/index":3549,"../return-type/index":3559,"../symbol/index":3572,"../uint8array/index":3592,"../undefined/index":3594,"../void/index":3605,"./json":3590},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.JavaScriptTypeBuilder=void 0;const r=e("./json"),i=e("../async-iterator/index"),o=e("../awaited/index"),a=e("../bigint/index"),s=e("../constructor/index"),c=e("../constructor-parameters/index"),u=e("../date/index"),l=e("../function/index"),p=e("../instance-type/index"),d=e("../iterator/index"),y=e("../parameters/index"),m=e("../promise/index"),f=e("../regexp/index"),h=e("../return-type/index"),T=e("../symbol/index"),g=e("../uint8array/index"),b=e("../undefined/index"),_=e("../void/index");class O extends r.JsonTypeBuilder{AsyncIterator(e,t){return(0,i.AsyncIterator)(e,t)}Awaited(e,t){return(0,o.Awaited)(e,t)}BigInt(e){return(0,a.BigInt)(e)}ConstructorParameters(e,t){return(0,c.ConstructorParameters)(e,t)}Constructor(e,t,n){return(0,s.Constructor)(e,t,n)}Date(e={}){return(0,u.Date)(e)}Function(e,t,n){return(0,l.Function)(e,t,n)}InstanceType(e,t){return(0,p.InstanceType)(e,t)}Iterator(e,t){return(0,d.Iterator)(e,t)}Parameters(e,t){return(0,y.Parameters)(e,t)}Promise(e,t){return(0,m.Promise)(e,t)}RegExp(e,t){return(0,f.RegExp)(e,t)}ReturnType(e,t){return(0,h.ReturnType)(e,t)}Symbol(e){return(0,T.Symbol)(e)}Undefined(e){return(0,b.Undefined)(e)}Uint8Array(e){return(0,g.Uint8Array)(e)}Void(e){return(0,_.Void)(e)}}n.JavaScriptTypeBuilder=O}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/type/javascript.js"}],[359,{"../../../../shared/constants/app":5876,"../../../../shared/constants/gas":5885,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/transaction":5915,"../../../../shared/lib/transactions-controller-utils":6001,"../../../../shared/lib/trust-signals":6005,"../../../../shared/modules/Numeric":6008,"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/gas.utils":6022,"../../../../shared/modules/metametrics":6025,"../../../../shared/modules/transaction.utils":6047,"../../../../ui/helpers/utils/metrics":7186,"../snap-keyring/metrics":332,"../util":368,"@metamask/transaction-controller":3085,"@metamask/utils":3207,"bignumber.js":4064,"ethereumjs-util":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleTransactionSubmitted=n.handleTransactionRejected=n.handleTransactionFailed=n.handleTransactionDropped=n.handleTransactionConfirmed=n.handleTransactionApproved=n.handleTransactionAdded=n.handlePostTransactionBalanceUpdate=n.createTransactionEventFragmentWithTxId=n.METRICS_STATUS_FAILED=void 0;var r=e("bignumber.js"),i=e("ethereumjs-util"),o=e("@metamask/transaction-controller"),a=e("@metamask/utils"),s=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/gas"),u=e("../../../../shared/constants/metametrics"),l=e("../../../../shared/constants/transaction"),p=e("../../../../shared/lib/transactions-controller-utils"),d=e("../../../../shared/modules/conversion.utils"),y=e("../../../../shared/modules/metametrics"),m=e("../../../../shared/modules/transaction.utils"),f=e("../../../../ui/helpers/utils/metrics"),h=e("../snap-keyring/metrics"),T=e("../../../../shared/modules/gas.utils"),g=e("../../../../shared/modules/Numeric"),b=e("../util"),_=e("../../../../shared/lib/trust-signals");const O=(0,a.createProjectLogger)("transaction-metrics"),w=n.METRICS_STATUS_FAILED="failed on-chain",v=[o.TransactionType.bridge,o.TransactionType.bridgeApproval,o.TransactionType.contractInteraction,o.TransactionType.tokenMethodApprove,o.TransactionType.tokenMethodIncreaseAllowance,o.TransactionType.tokenMethodSafeTransferFrom,o.TransactionType.tokenMethodSetApprovalForAll,o.TransactionType.tokenMethodTransfer,o.TransactionType.tokenMethodTransferFrom,o.TransactionType.swap,o.TransactionType.swapAndSend,o.TransactionType.swapApproval];var S=function(e){return e.swap="mm_swap",e.bridge="mm_bridge",e}(S||{});n.handleTransactionAdded=async(e,t)=>{if(!t.transactionMeta)return;const{properties:n,sensitiveProperties:r}=await I({transactionEventPayload:t,transactionMetricsRequest:e});x({eventName:l.TransactionMetaMetricsEvent.added,transactionEventPayload:t,transactionMetricsRequest:e,payload:{properties:n,sensitiveProperties:r}})};n.handleTransactionApproved=async(e,t)=>{t.transactionMeta&&await E({eventName:l.TransactionMetaMetricsEvent.approved,transactionEventPayload:t,transactionMetricsRequest:e})};n.handleTransactionFailed=async(e,t)=>{if(!t.transactionMeta)return;const n={};t.error&&(n.error=t.error),await E({eventName:l.TransactionMetaMetricsEvent.finalized,extraParams:n,transactionEventPayload:t,transactionMetricsRequest:e})};n.handleTransactionConfirmed=async(e,t)=>{if(0===Object.keys(t).length)return;const n={},r={...t},{txReceipt:i}=r;n.gas_used=null==i?void 0:i.gasUsed,n.block_number=(null==i?void 0:i.blockNumber)&&(0,d.hexToDecimal)(i.blockNumber);const{submittedTime:o,blockTimestamp:a}=r;o&&(n.completion_time=function(e){return Math.round((Date.now()-e)/1e3).toString()}(o)),o&&a&&(n.completion_time_onchain=function(e,t){const n=2,r=Number((0,d.hexToDecimal)(t))-e/1e3;return(Math.round(r*10**n)/10**n).toString()}(o,a)),"0x0"===(null==i?void 0:i.status)&&(n.status=w),await E({eventName:l.TransactionMetaMetricsEvent.finalized,extraParams:n,transactionEventPayload:{actionId:r.actionId,transactionMeta:r},transactionMetricsRequest:e})};n.handleTransactionDropped=async(e,t)=>{if(!t.transactionMeta)return;await E({eventName:l.TransactionMetaMetricsEvent.finalized,extraParams:{dropped:!0},transactionEventPayload:t,transactionMetricsRequest:e})};n.handleTransactionRejected=async(e,t)=>{t.transactionMeta&&await E({eventName:l.TransactionMetaMetricsEvent.rejected,transactionEventPayload:t,transactionMetricsRequest:e})};n.handleTransactionSubmitted=async(e,t)=>{if(!t.transactionMeta)return;const{properties:n,sensitiveProperties:r}=await I({transactionEventPayload:t,transactionMetricsRequest:e});x({eventName:l.TransactionMetaMetricsEvent.submitted,transactionEventPayload:t,transactionMetricsRequest:e,payload:{properties:n,sensitiveProperties:r}})};n.createTransactionEventFragmentWithTxId=async(e,{transactionId:t,actionId:n})=>{const r={...e.getTransaction(t),actionId:n},{properties:i,sensitiveProperties:o}=await I({transactionEventPayload:{transactionMeta:r},transactionMetricsRequest:e});x({eventName:l.TransactionMetaMetricsEvent.approved,transactionEventPayload:{actionId:r.actionId,transactionMeta:r},transactionMetricsRequest:e,payload:{properties:i,sensitiveProperties:o}})};function x({eventName:e,transactionEventPayload:{transactionMeta:t,actionId:n},transactionMetricsRequest:r,payload:i}){if(function(e,t,n){const r=P(t,n.id);return void 0!==e(r)}(r.getEventFragmentById,e,t)&&e!==l.TransactionMetaMetricsEvent.submitted)return;const o=P(e,t.id);switch(e){case l.TransactionMetaMetricsEvent.added:r.createEventFragment({category:u.MetaMetricsEventCategory.Transactions,initialEvent:l.TransactionMetaMetricsEvent.added,successEvent:l.TransactionMetaMetricsEvent.approved,failureEvent:l.TransactionMetaMetricsEvent.rejected,properties:i.properties,sensitiveProperties:i.sensitiveProperties,actionId:n,uniqueIdentifier:o,persist:!0});break;case l.TransactionMetaMetricsEvent.approved:case l.TransactionMetaMetricsEvent.rejected:r.createEventFragment({category:u.MetaMetricsEventCategory.Transactions,successEvent:l.TransactionMetaMetricsEvent.approved,failureEvent:l.TransactionMetaMetricsEvent.rejected,properties:i.properties,sensitiveProperties:i.sensitiveProperties,actionId:n,uniqueIdentifier:o,persist:!0});break;case l.TransactionMetaMetricsEvent.submitted:r.createEventFragment({category:u.MetaMetricsEventCategory.Transactions,initialEvent:l.TransactionMetaMetricsEvent.submitted,successEvent:l.TransactionMetaMetricsEvent.finalized,properties:i.properties,sensitiveProperties:i.sensitiveProperties,actionId:n,uniqueIdentifier:o,persist:!0});break;case l.TransactionMetaMetricsEvent.finalized:r.createEventFragment({category:u.MetaMetricsEventCategory.Transactions,successEvent:l.TransactionMetaMetricsEvent.finalized,properties:i.properties,sensitiveProperties:i.sensitiveProperties,actionId:n,uniqueIdentifier:o,persist:!0})}}async function E({eventName:e,transactionEventPayload:t,transactionMetricsRequest:n,extraParams:r={}}){const{properties:i,sensitiveProperties:o}=await I({transactionEventPayload:t,transactionMetricsRequest:n,extraParams:r});x({eventName:e,transactionEventPayload:t,transactionMetricsRequest:n,payload:{properties:i,sensitiveProperties:o}}),function({eventName:e,transactionEventPayload:{transactionMeta:t},transactionMetricsRequest:n,payload:r}){const i=P(e,t.id);switch(e){case l.TransactionMetaMetricsEvent.approved:case l.TransactionMetaMetricsEvent.rejected:case l.TransactionMetaMetricsEvent.finalized:n.updateEventFragment(i,{properties:r.properties,sensitiveProperties:r.sensitiveProperties})}}({eventName:e,transactionEventPayload:t,transactionMetricsRequest:n,payload:{properties:i,sensitiveProperties:o}}),function({eventName:e,transactionMetricsRequest:t,transactionEventPayload:{transactionMeta:n}}){const r=P(e,n.id);switch(e){case l.TransactionMetaMetricsEvent.approved:case l.TransactionMetaMetricsEvent.finalized:t.finalizeEventFragment(r);break;case l.TransactionMetaMetricsEvent.rejected:t.finalizeEventFragment(r,{abandoned:!0})}}({eventName:e,transactionEventPayload:t,transactionMetricsRequest:n})}function P(e,t){return`transaction-${e===l.TransactionMetaMetricsEvent.finalized||e===l.TransactionMetaMetricsEvent.submitted?"submitted":"added"}-${t}`}async function I({transactionEventPayload:{transactionMeta:e},transactionMetricsRequest:t,extraParams:n={}}){var w;const{type:S,time:x,status:E,chainId:P,origin:I,txParams:{gasPrice:A,gas:k,maxFeePerGas:M,maxPriorityFeePerGas:C,estimateSuggested:R,estimateUsed:N},defaultGasEstimates:z,originalType:D,replacedById:U,customTokenAmount:B,dappProposedTokenAmount:L,currentTokenBalance:F,originalApprovalAmount:G,finalApprovalAmount:$,securityProviderResponse:q,simulationFails:H,id:W,userFeeLevel:K}=e,V=I===s.ORIGIN_METAMASK?"user":"dapp",Y="dappSuggested"===K?"dapp_proposed":K,{assetType:Q,tokenStandard:J}=await(0,m.determineTransactionAssetType)(e,t.provider,t.getTokenStandardAndDetails);let X;if(e.txParams.data){const n=await t.getMethodData(e.txParams.data);X=null==n?void 0:n.name}const Z={};if((0,m.isEIP1559Transaction)(e)?(Z.max_fee_per_gas=M,Z.max_priority_fee_per_gas=C):(Z.gas_price=A,Z.default_estimate=u.MetaMetricsEventTransactionEstimateType.DefaultEstimate),z){var ee,te;const{estimateType:n}=z;if(n){var ne,re;Z.default_estimate=n===c.PriorityLevels.dAppSuggested?u.MetaMetricsEventTransactionEstimateType.DappProposed:n;let r=null===(ne=e.defaultGasEstimates)||void 0===ne?void 0:ne.maxFeePerGas,i=null===(re=e.defaultGasEstimates)||void 0===re?void 0:re.maxPriorityFeePerGas;if([c.GasRecommendations.low,c.GasRecommendations.medium,c.GasRecommendations.high].includes(n)){var ie,oe;const{gasFeeEstimates:e}=await t.getEIP1559GasFeeEstimates();var ae,se;if(null!=e&&null!==(ie=e[n])&&void 0!==ie&&ie.suggestedMaxFeePerGas)r=null===(ae=e[n])||void 0===ae?void 0:ae.suggestedMaxFeePerGas,Z.default_max_fee_per_gas=r;if(null!=e&&null!==(oe=e[n])&&void 0!==oe&&oe.suggestedMaxPriorityFeePerGas)i=null===(se=e[n])||void 0===se?void 0:se.suggestedMaxPriorityFeePerGas,Z.default_max_priority_fee_per_gas=i}}null!==(ee=e.defaultGasEstimates)&&void 0!==ee&&ee.gas&&(Z.default_gas=e.defaultGasEstimates.gas),null!==(te=e.defaultGasEstimates)&&void 0!==te&&te.gasPrice&&(Z.default_gas_price=e.defaultGasEstimates.gasPrice)}R&&(Z.estimate_suggested=R),N&&(Z.estimate_used=N),null!=n&&n.gas_used&&(Z.gas_used=n.gas_used);const ce=function(e){const t={};for(const n in e)(0,i.isHexString)(e[n])?t[n]=(0,d.hexWEIToDecGWEI)(e[n]):t[n]=e[n];return t}(Z);let ue="0";e.txParams.maxFeePerGas&&(ue="2");const le="Approve";let pe,de,ye,me,fe,he;const{transactionType:Te,isContractInteraction:ge}=function(e,t){const n=e&&v.includes(e);if([o.TransactionType.swapAndSend,o.TransactionType.cancel,o.TransactionType.deployContract,o.TransactionType.gasPayment,o.TransactionType.batch,o.TransactionType.shieldSubscriptionApprove].includes(e))return{transactionType:e,isContractInteraction:n};if(e===o.TransactionType.retry&&t)return{transactionType:t,isContractInteraction:n};if(n){const t=j(e);return t?{transactionType:t,isContractInteraction:!0}:{transactionType:o.TransactionType.contractInteraction,isContractInteraction:!0}}return{transactionType:o.TransactionType.simpleSend,isContractInteraction:!1}}(S,D);var be,_e;ge&&(de=X,fe=null===(be=e.txParams)||void 0===be?void 0:be.to,he=null===(_e=e.txParams)||void 0===_e||null===(_e=_e.data)||void 0===_e?void 0:_e.slice(0,10),de===le&&J===l.TokenStandard.ERC20&&("0"===L||"0"===B?pe=l.TransactionApprovalAmountType.revoke:B&&B!==L?pe=l.TransactionApprovalAmountType.custom:L&&(pe=l.TransactionApprovalAmountType.dappProposed),ye=function(e,t,n){if(e===l.TransactionApprovalAmountType.custom&&t&&n)return`${new r.BigNumber(t,10).div(n,10).times(100).round(2)}`;return null}(pe,G,$),me=function(e,t,n){if((e===l.TransactionApprovalAmountType.custom||e===l.TransactionApprovalAmountType.dappProposed)&&t&&n)return`${new r.BigNumber(t,16).div(n,10).times(100).round(2)}`;return null}(pe,L,F)));const Oe=t.getTransaction(U),we={RETRY:o.TransactionType.retry,CANCEL:o.TransactionType.cancel,SAME_NONCE:"other"};let ve;null!=n&&n.dropped&&(ve=we.SAME_NONCE,(null==Oe?void 0:Oe.type)===o.TransactionType.cancel?ve=we.CANCEL:(null==Oe?void 0:Oe.type)===o.TransactionType.retry&&(ve=we.RETRY));const Se=[];1===(null==q?void 0:q.flagAsDangerous)?Se.push(u.MetaMetricsEventUiCustomization.FlaggedAsMalicious):2===(null==q?void 0:q.flagAsDangerous)&&Se.push(u.MetaMetricsEventUiCustomization.FlaggedAsSafetyUnknown);const xe=(0,f.getBlockaidMetricsProps)(e);(null==xe||null===(w=xe.ui_customizations)||void 0===w?void 0:w.length)>0&&Se.push(...xe.ui_customizations),H&&Se.push(u.MetaMetricsEventUiCustomization.GasEstimationFailed);const Ee=t.getIsConfirmationAdvancedDetailsOpen(),Pe=(0,y.getSmartTransactionMetricsProperties)(t,e),Ie=(0,f.getSwapAndSendMetricsProps)(e),je={hd_entropy_index:t.getHDEntropyIndex()},Ae=function(e,t){const n=t.getSecurityAlertsEnabled();if(!n)return{address_alert_response:"not_applicable"};const{to:r}=e.txParams;if("string"!=typeof r)return{address_alert_response:"not_applicable"};const{chainId:i}=e,o=(0,_.mapChainIdToSupportedEVMChain)(i);if(!o)return{address_alert_response:"not_applicable"};const a=(0,_.createCacheKey)(o,r),s=t.getAddressSecurityAlertResponse(a);if(s)return{address_alert_response:s.result_type};return{address_alert_response:_.ResultType.Loading}}(e,t);let ke;try{ke=await t.getAccountType(t.getSelectedAddress())}catch(e){ke="error",O("Error getting account type for transaction metrics:",e)}let Me={chain_id:P,referrer:I,source:V,status:E,network:`${parseInt(P,16)}`,eip_1559_version:ue,gas_edit_type:"none",gas_edit_attempted:"none",gas_estimation_failed:Boolean(H),account_type:ke,device_model:await t.getDeviceModel(t.getSelectedAddress()),asset_type:Q,token_standard:J,transaction_type:Te,transaction_speed_up:S===o.TransactionType.retry,transaction_internal_id:W,gas_fee_selected:Y,...xe,ui_customizations:Se.length>0?Se:null,transaction_advanced_view:Ee,transaction_contract_method:de?[de]:[],...Pe,...Ie,...je,...Ae};const Ce=await(0,h.getSnapAndHardwareInfoForMetrics)(t.getAccountType,t.getDeviceModel,t.getHardwareTypeForMetric,t.snapAndHardwareMessenger);var Re,Ne;(Object.assign(Me,Ce),de===le||j(S))&&(Me={...Me,simulation_receiving_assets_total_value:Me.simulation_receiving_assets_total_value??(null==e||null===(Re=e.assetsFiatValues)||void 0===Re?void 0:Re.receiving),simulation_sending_assets_total_value:Me.simulation_sending_assets_total_value??(null==e||null===(Ne=e.assetsFiatValues)||void 0===Ne?void 0:Ne.sending),transaction_approval_amount_type:pe});let ze={transaction_envelope_type:(0,m.isEIP1559Transaction)(e)?p.TRANSACTION_ENVELOPE_TYPE_NAMES.FEE_MARKET:p.TRANSACTION_ENVELOPE_TYPE_NAMES.LEGACY,first_seen:x,gas_limit:k,transaction_replaced:ve,transaction_contract_address:fe?[fe]:[],transaction_contract_method_4byte:he,...n,...ce};if(de===le&&(ze={...ze,transaction_approval_amount_vs_balance_ratio:me,transaction_approval_amount_vs_proposed_ratio:ye}),await async function(e,t,n,r){const i=origin&&origin!==s.ORIGIN_METAMASK,{delegationAddress:a,nestedTransactions:c,txParams:u}=e,{authorizationList:p}=u,d=Boolean(null==c?void 0:c.length),y=Boolean(null==p?void 0:p.length);i&&(n.api_method=d?s.MESSAGE_TYPE.WALLET_SEND_CALLS:s.MESSAGE_TYPE.ETH_SEND_TRANSACTION);d&&(n.batch_transaction_count=null==c?void 0:c.length,n.batch_transaction_method="eip7702",n.transaction_contract_method=await async function(e,t){const n=e.filter(e=>v.includes(e.type)&&e.data).map(e=>e.data),r=await Promise.all(n.map(e=>t(e)));return r.map(e=>null==e?void 0:e.name).filter(e=>null==e?void 0:e.length)}(c??[],t),r.transaction_contract_address=null==c?void 0:c.filter(e=>{var t;return v.includes(e.type)&&(null===(t=e.to)||void 0===t?void 0:t.length)}).map(e=>e.to));if(e.status===o.TransactionStatus.rejected){const{error:t}=e;n.eip7702_upgrade_rejection=y&&t.code===l.EIP5792ErrorCode.RejectedUpgrade}n.eip7702_upgrade_transaction=y,r.account_eip7702_upgraded=a}(e,t.getMethodData,Me,ze),function(e,t,n,r){var i;const{gasFeeTokens:o,selectedGasFeeToken:s}=e;t.gas_payment_tokens_available=null==o?void 0:o.map(e=>e.symbol),t.gas_paid_with=null==o||null===(i=o.find(e=>e.tokenAddress.toLowerCase()===(null==s?void 0:s.toLowerCase())))||void 0===i?void 0:i.symbol,(null==s?void 0:s.toLowerCase())===l.NATIVE_TOKEN_ADDRESS&&(t.gas_paid_with="pre-funded_ETH");t.gas_insufficient_native_asset=function(e,t){const{chainId:n,txParams:r}=e,{from:i,gas:o,gasPrice:s,maxFeePerGas:c,value:u}=r,l=t(i,n),p=(0,T.getMaximumGasTotalInHexWei)({gasLimit:o,gasPrice:s,maxFeePerGas:c}),y=(0,a.add0x)((0,d.addHexes)(p,u??"0x0"));return new g.Numeric(y,16).greaterThan(new g.Numeric(l,16))}(e,r)}(e,Me,0,t.getAccountBalance),function(e,t,n){var r;const i=null===(r=n.getFeatureFlags())||void 0===r?void 0:r.extensionUxPna25,a=n.getPna25Acknowledged(),s=n.getParticipateInMetrics(),c=[o.TransactionStatus.confirmed,o.TransactionStatus.dropped,o.TransactionStatus.failed].includes(e.status);i&&a&&s&&c&&(t.transaction_hash=e.hash)}(e,Me,t),E===o.TransactionStatus.submitted||E===o.TransactionStatus.confirmed){const n=t.getNetworkRpcUrl(e.chainId),r=(0,b.extractRpcDomain)(n);Me.rpc_domain=r}return{properties:Me,sensitiveProperties:ze}}function j(e){return e===o.TransactionType.swap?S.swap:e===o.TransactionType.bridge?S.bridge:null}n.handlePostTransactionBalanceUpdate=async({getParticipateInMetrics:e,trackEvent:t,getHDEntropyIndex:n},{transactionMeta:i,approvalTransactionMeta:o})=>{var a;if(e()&&i.swapMetaData)if("0x0"===(null===(a=i.txReceipt)||void 0===a?void 0:a.status))t({event:u.MetaMetricsEventName.SwapFailed,category:u.MetaMetricsEventCategory.Swaps,sensitiveProperties:{...i.swapMetaData},properties:{hd_entropy_index:n()}});else{var s;const e=(0,p.getSwapsTokensReceivedFromTxMeta)(i.destinationTokenSymbol,i,i.destinationTokenAddress,i.txParams.from,i.destinationTokenDecimals,o,i.chainId),a=e?`${new r.BigNumber(e,10).div(i.swapMetaData.token_to_amount,10).times(100).round(2)}%`:null,c=null!==(s=i.txReceipt)&&void 0!==s&&s.gasUsed&&i.swapMetaData.estimated_gas?`${new r.BigNumber(i.txReceipt.gasUsed,16).div(i.swapMetaData.estimated_gas,10).times(100).round(2)}%`:null,l=function(e,t){var n,i;let o="0x0";null!=t&&t.txReceipt&&(o=(0,p.calcGasTotal)(t.txReceipt.gasUsed,t.txReceipt.effectiveGasPrice));const a=(0,p.calcGasTotal)(null===(n=e.txReceipt)||void 0===n?void 0:n.gasUsed,null===(i=e.txReceipt)||void 0===i?void 0:i.effectiveGasPrice),s=new r.BigNumber(a,16).plus(o,16).toString(16);return{approvalGasCostInEth:Number((0,d.hexWEIToDecETH)(o)),tradeGasCostInEth:Number((0,d.hexWEIToDecETH)(a)),tradeAndApprovalGasCostInEth:Number((0,d.hexWEIToDecETH)(s))}}(i,o);t({event:u.MetaMetricsEventName.SwapCompleted,category:u.MetaMetricsEventCategory.Swaps,sensitiveProperties:{...i.swapMetaData,token_to_amount_received:e,quote_vs_executionRatio:a,estimated_vs_used_gasRatio:c,approval_gas_cost_in_eth:l.approvalGasCostInEth,trade_gas_cost_in_eth:l.tradeGasCostInEth,trade_and_approval_gas_cost_in_eth:l.tradeAndApprovalGasCostInEth,token_to_amount:i.swapMetaData.token_to_amount.toString(10)},properties:{hd_entropy_index:n()}})}}}}},{package:"$root$",file:"app/scripts/lib/transaction/metrics.ts"}],[3590,{"../any/index":3417,"../array/index":3419,"../boolean/index":3427,"../composite/index":3432,"../const/index":3434,"../deref/index":3445,"../enum/index":3449,"../exclude/index":3455,"../extends/index":3461,"../extract/index":3465,"../indexed/index":3474,"../integer/index":3481,"../intersect/index":3483,"../intrinsic/index":3489,"../keyof/index":3497,"../literal/index":3502,"../mapped/index":3504,"../never/index":3508,"../not/index":3510,"../null/index":3512,"../number/index":3514,"../object/index":3516,"../omit/index":3518,"../optional/index":3522,"../partial/index":3527,"../pick/index":3532,"../readonly-optional/index":3538,"../readonly/index":3540,"../record/index":3543,"../recursive/index":3545,"../ref/index":3547,"../required/index":3554,"../rest/index":3557,"../strict/index":3568,"../string/index":3570,"../template-literal/index":3578,"../transform/index":3584,"../tuple/index":3586,"../union/index":3596,"../unknown/index":3601,"../unsafe/index":3603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.JsonTypeBuilder=void 0;const r=e("../any/index"),i=e("../array/index"),o=e("../boolean/index"),a=e("../composite/index"),s=e("../const/index"),c=e("../deref/index"),u=e("../enum/index"),l=e("../exclude/index"),p=e("../extends/index"),d=e("../extract/index"),y=e("../indexed/index"),m=e("../integer/index"),f=e("../intersect/index"),h=e("../intrinsic/index"),T=e("../keyof/index"),g=e("../literal/index"),b=e("../mapped/index"),_=e("../never/index"),O=e("../not/index"),w=e("../null/index"),v=e("../number/index"),S=e("../object/index"),x=e("../omit/index"),E=e("../optional/index"),P=e("../partial/index"),I=e("../pick/index"),j=e("../readonly/index"),A=e("../readonly-optional/index"),k=e("../record/index"),M=e("../recursive/index"),C=e("../ref/index"),R=e("../required/index"),N=e("../rest/index"),z=e("../strict/index"),D=e("../string/index"),U=e("../template-literal/index"),B=e("../transform/index"),L=e("../tuple/index"),F=e("../union/index"),G=e("../unknown/index"),$=e("../unsafe/index");n.JsonTypeBuilder=class{Strict(e){return(0,z.Strict)(e)}ReadonlyOptional(e){return(0,A.ReadonlyOptional)(e)}Readonly(e,t){return(0,j.Readonly)(e,t??!0)}Optional(e,t){return(0,E.Optional)(e,t??!0)}Any(e){return(0,r.Any)(e)}Array(e,t){return(0,i.Array)(e,t)}Boolean(e){return(0,o.Boolean)(e)}Capitalize(e,t){return(0,h.Capitalize)(e,t)}Composite(e,t){return(0,a.Composite)(e,t)}Const(e,t){return(0,s.Const)(e,t)}Deref(e,t){return(0,c.Deref)(e,t)}Enum(e,t){return(0,u.Enum)(e,t)}Exclude(e,t,n){return(0,l.Exclude)(e,t,n)}Extends(e,t,n,r,i){return(0,p.Extends)(e,t,n,r,i)}Extract(e,t,n){return(0,d.Extract)(e,t,n)}Index(e,t,n){return(0,y.Index)(e,t,n)}Integer(e){return(0,m.Integer)(e)}Intersect(e,t){return(0,f.Intersect)(e,t)}KeyOf(e,t){return(0,T.KeyOf)(e,t)}Literal(e,t){return(0,g.Literal)(e,t)}Lowercase(e,t){return(0,h.Lowercase)(e,t)}Mapped(e,t,n){return(0,b.Mapped)(e,t,n)}Never(e){return(0,_.Never)(e)}Not(e,t){return(0,O.Not)(e,t)}Null(e){return(0,w.Null)(e)}Number(e){return(0,v.Number)(e)}Object(e,t){return(0,S.Object)(e,t)}Omit(e,t,n){return(0,x.Omit)(e,t,n)}Partial(e,t){return(0,P.Partial)(e,t)}Pick(e,t,n){return(0,I.Pick)(e,t,n)}Record(e,t,n){return(0,k.Record)(e,t,n)}Recursive(e,t){return(0,M.Recursive)(e,t)}Ref(e,t){return(0,C.Ref)(e,t)}Required(e,t){return(0,R.Required)(e,t)}Rest(e){return(0,N.Rest)(e)}String(e){return(0,D.String)(e)}TemplateLiteral(e,t){return(0,U.TemplateLiteral)(e,t)}Transform(e){return(0,B.Transform)(e)}Tuple(e,t){return(0,L.Tuple)(e,t)}Uncapitalize(e,t){return(0,h.Uncapitalize)(e,t)}Union(e,t){return(0,F.Union)(e,t)}Unknown(e){return(0,G.Unknown)(e)}Unsafe(e){return(0,$.Unsafe)(e)}Uppercase(e,t){return(0,h.Uppercase)(e,t)}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/type/json.js"}],[3591,{"../any/index":3417,"../array/index":3419,"../async-iterator/index":3421,"../awaited/index":3423,"../bigint/index":3425,"../boolean/index":3427,"../composite/index":3432,"../const/index":3434,"../constructor-parameters/index":3436,"../constructor/index":3438,"../date/index":3443,"../deref/index":3445,"../enum/index":3449,"../exclude/index":3455,"../extends/index":3461,"../extract/index":3465,"../function/index":3467,"../indexed/index":3474,"../instance-type/index":3479,"../integer/index":3481,"../intersect/index":3483,"../intrinsic/index":3489,"../iterator/index":3495,"../keyof/index":3497,"../literal/index":3502,"../mapped/index":3504,"../never/index":3508,"../not/index":3510,"../null/index":3512,"../number/index":3514,"../object/index":3516,"../omit/index":3518,"../optional/index":3522,"../parameters/index":3525,"../partial/index":3527,"../pick/index":3532,"../promise/index":3536,"../readonly-optional/index":3538,"../readonly/index":3540,"../record/index":3543,"../recursive/index":3545,"../ref/index":3547,"../regexp/index":3549,"../required/index":3554,"../rest/index":3557,"../return-type/index":3559,"../strict/index":3568,"../string/index":3570,"../symbol/index":3572,"../template-literal/index":3578,"../transform/index":3584,"../tuple/index":3586,"../uint8array/index":3592,"../undefined/index":3594,"../union/index":3596,"../unknown/index":3601,"../unsafe/index":3603,"../void/index":3605},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.String=n.ReturnType=n.Rest=n.Required=n.RegExp=n.Ref=n.Recursive=n.Record=n.ReadonlyOptional=n.Readonly=n.Promise=n.Pick=n.Partial=n.Parameters=n.Optional=n.Omit=n.Object=n.Number=n.Null=n.Not=n.Never=n.Mapped=n.Literal=n.KeyOf=n.Iterator=n.Uppercase=n.Lowercase=n.Uncapitalize=n.Capitalize=n.Intersect=n.Integer=n.InstanceType=n.Index=n.Function=n.Extract=n.Extends=n.Exclude=n.Enum=n.Deref=n.Date=n.ConstructorParameters=n.Constructor=n.Const=n.Composite=n.Boolean=n.BigInt=n.Awaited=n.AsyncIterator=n.Array=n.Any=void 0,n.Void=n.Unsafe=n.Unknown=n.Union=n.Undefined=n.Uint8Array=n.Tuple=n.Transform=n.TemplateLiteral=n.Symbol=n.Strict=void 0;var r=e("../any/index");Object.defineProperty(n,"Any",{enumerable:!0,get:function(){return r.Any}});var i=e("../array/index");Object.defineProperty(n,"Array",{enumerable:!0,get:function(){return i.Array}});var o=e("../async-iterator/index");Object.defineProperty(n,"AsyncIterator",{enumerable:!0,get:function(){return o.AsyncIterator}});var a=e("../awaited/index");Object.defineProperty(n,"Awaited",{enumerable:!0,get:function(){return a.Awaited}});var s=e("../bigint/index");Object.defineProperty(n,"BigInt",{enumerable:!0,get:function(){return s.BigInt}});var c=e("../boolean/index");Object.defineProperty(n,"Boolean",{enumerable:!0,get:function(){return c.Boolean}});var u=e("../composite/index");Object.defineProperty(n,"Composite",{enumerable:!0,get:function(){return u.Composite}});var l=e("../const/index");Object.defineProperty(n,"Const",{enumerable:!0,get:function(){return l.Const}});var p=e("../constructor/index");Object.defineProperty(n,"Constructor",{enumerable:!0,get:function(){return p.Constructor}});var d=e("../constructor-parameters/index");Object.defineProperty(n,"ConstructorParameters",{enumerable:!0,get:function(){return d.ConstructorParameters}});var y=e("../date/index");Object.defineProperty(n,"Date",{enumerable:!0,get:function(){return y.Date}});var m=e("../deref/index");Object.defineProperty(n,"Deref",{enumerable:!0,get:function(){return m.Deref}});var f=e("../enum/index");Object.defineProperty(n,"Enum",{enumerable:!0,get:function(){return f.Enum}});var h=e("../exclude/index");Object.defineProperty(n,"Exclude",{enumerable:!0,get:function(){return h.Exclude}});var T=e("../extends/index");Object.defineProperty(n,"Extends",{enumerable:!0,get:function(){return T.Extends}});var g=e("../extract/index");Object.defineProperty(n,"Extract",{enumerable:!0,get:function(){return g.Extract}});var b=e("../function/index");Object.defineProperty(n,"Function",{enumerable:!0,get:function(){return b.Function}});var _=e("../indexed/index");Object.defineProperty(n,"Index",{enumerable:!0,get:function(){return _.Index}});var O=e("../instance-type/index");Object.defineProperty(n,"InstanceType",{enumerable:!0,get:function(){return O.InstanceType}});var w=e("../integer/index");Object.defineProperty(n,"Integer",{enumerable:!0,get:function(){return w.Integer}});var v=e("../intersect/index");Object.defineProperty(n,"Intersect",{enumerable:!0,get:function(){return v.Intersect}});var S=e("../intrinsic/index");Object.defineProperty(n,"Capitalize",{enumerable:!0,get:function(){return S.Capitalize}}),Object.defineProperty(n,"Uncapitalize",{enumerable:!0,get:function(){return S.Uncapitalize}}),Object.defineProperty(n,"Lowercase",{enumerable:!0,get:function(){return S.Lowercase}}),Object.defineProperty(n,"Uppercase",{enumerable:!0,get:function(){return S.Uppercase}});var x=e("../iterator/index");Object.defineProperty(n,"Iterator",{enumerable:!0,get:function(){return x.Iterator}});var E=e("../keyof/index");Object.defineProperty(n,"KeyOf",{enumerable:!0,get:function(){return E.KeyOf}});var P=e("../literal/index");Object.defineProperty(n,"Literal",{enumerable:!0,get:function(){return P.Literal}});var I=e("../mapped/index");Object.defineProperty(n,"Mapped",{enumerable:!0,get:function(){return I.Mapped}});var j=e("../never/index");Object.defineProperty(n,"Never",{enumerable:!0,get:function(){return j.Never}});var A=e("../not/index");Object.defineProperty(n,"Not",{enumerable:!0,get:function(){return A.Not}});var k=e("../null/index");Object.defineProperty(n,"Null",{enumerable:!0,get:function(){return k.Null}});var M=e("../number/index");Object.defineProperty(n,"Number",{enumerable:!0,get:function(){return M.Number}});var C=e("../object/index");Object.defineProperty(n,"Object",{enumerable:!0,get:function(){return C.Object}});var R=e("../omit/index");Object.defineProperty(n,"Omit",{enumerable:!0,get:function(){return R.Omit}});var N=e("../optional/index");Object.defineProperty(n,"Optional",{enumerable:!0,get:function(){return N.Optional}});var z=e("../parameters/index");Object.defineProperty(n,"Parameters",{enumerable:!0,get:function(){return z.Parameters}});var D=e("../partial/index");Object.defineProperty(n,"Partial",{enumerable:!0,get:function(){return D.Partial}});var U=e("../pick/index");Object.defineProperty(n,"Pick",{enumerable:!0,get:function(){return U.Pick}});var B=e("../promise/index");Object.defineProperty(n,"Promise",{enumerable:!0,get:function(){return B.Promise}});var L=e("../readonly/index");Object.defineProperty(n,"Readonly",{enumerable:!0,get:function(){return L.Readonly}});var F=e("../readonly-optional/index");Object.defineProperty(n,"ReadonlyOptional",{enumerable:!0,get:function(){return F.ReadonlyOptional}});var G=e("../record/index");Object.defineProperty(n,"Record",{enumerable:!0,get:function(){return G.Record}});var $=e("../recursive/index");Object.defineProperty(n,"Recursive",{enumerable:!0,get:function(){return $.Recursive}});var q=e("../ref/index");Object.defineProperty(n,"Ref",{enumerable:!0,get:function(){return q.Ref}});var H=e("../regexp/index");Object.defineProperty(n,"RegExp",{enumerable:!0,get:function(){return H.RegExp}});var W=e("../required/index");Object.defineProperty(n,"Required",{enumerable:!0,get:function(){return W.Required}});var K=e("../rest/index");Object.defineProperty(n,"Rest",{enumerable:!0,get:function(){return K.Rest}});var V=e("../return-type/index");Object.defineProperty(n,"ReturnType",{enumerable:!0,get:function(){return V.ReturnType}});var Y=e("../string/index");Object.defineProperty(n,"String",{enumerable:!0,get:function(){return Y.String}});var Q=e("../strict/index");Object.defineProperty(n,"Strict",{enumerable:!0,get:function(){return Q.Strict}});var J=e("../symbol/index");Object.defineProperty(n,"Symbol",{enumerable:!0,get:function(){return J.Symbol}});var X=e("../template-literal/index");Object.defineProperty(n,"TemplateLiteral",{enumerable:!0,get:function(){return X.TemplateLiteral}});var Z=e("../transform/index");Object.defineProperty(n,"Transform",{enumerable:!0,get:function(){return Z.Transform}});var ee=e("../tuple/index");Object.defineProperty(n,"Tuple",{enumerable:!0,get:function(){return ee.Tuple}});var te=e("../uint8array/index");Object.defineProperty(n,"Uint8Array",{enumerable:!0,get:function(){return te.Uint8Array}});var ne=e("../undefined/index");Object.defineProperty(n,"Undefined",{enumerable:!0,get:function(){return ne.Undefined}});var re=e("../union/index");Object.defineProperty(n,"Union",{enumerable:!0,get:function(){return re.Union}});var ie=e("../unknown/index");Object.defineProperty(n,"Unknown",{enumerable:!0,get:function(){return ie.Unknown}});var oe=e("../unsafe/index");Object.defineProperty(n,"Unsafe",{enumerable:!0,get:function(){return oe.Unsafe}});var ae=e("../void/index");Object.defineProperty(n,"Void",{enumerable:!0,get:function(){return ae.Void}})}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/type/type.js"}],[3592,{"./uint8array":3593},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./uint8array"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/uint8array/index.js"}],[3593,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Uint8Array=function(e){return(0,r.CreateType)({[i.Kind]:"Uint8Array",type:"Uint8Array"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/uint8array/uint8array.js"}],[3594,{"./undefined":3595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./undefined"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/undefined/index.js"}],[3595,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Undefined=function(e){return(0,r.CreateType)({[i.Kind]:"Undefined",type:"undefined"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/undefined/undefined.js"}],[3596,{"./union":3600,"./union-evaluated":3598,"./union-type":3599},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./union-evaluated"),n),i(e("./union-type"),n),i(e("./union"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/union/index.js"}],[3597,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UnionCreate=function(e,t){return(0,r.CreateType)({[i.Kind]:"Union",anyOf:e},t)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/union/union-create.js"}],[3598,{"../create/type":3441,"../discard/index":3447,"../guard/kind":3469,"../never/index":3508,"../optional/index":3522,"../symbols/index":3574,"./union-create":3597},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UnionEvaluated=function(e,t){return 0===e.length?(0,a.Never)(t):1===e.length?(0,r.CreateType)(e[0],t):function(e,t){return function(e){return e.some(e=>(0,u.IsOptional)(e))}(e)?(0,s.Optional)((0,c.UnionCreate)(l(e),t)):(0,c.UnionCreate)(l(e),t)}(e,t)};const r=e("../create/type"),i=e("../symbols/index"),o=e("../discard/index"),a=e("../never/index"),s=e("../optional/index"),c=e("./union-create"),u=e("../guard/kind");function l(e){return e.map(e=>(0,u.IsOptional)(e)?function(e){return(0,o.Discard)(e,[i.OptionalKind])}(e):e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/union/union-evaluated.js"}],[3599,{"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/union/union-type.js"}],[36,{"@metamask/ens-controller":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EnsControllerInit=void 0;var r=e("@metamask/ens-controller");n.EnsControllerInit=({controllerMessenger:e,initMessenger:t})=>({persistedStateKey:null,controller:new r.EnsController({messenger:e,onNetworkDidChange:e=>t.subscribe("NetworkController:networkDidChange",e)})})}}},{package:"$root$",file:"app/scripts/controller-init/confirmations/ens-controller-init.ts"}],[360,{"../../../../shared/modules/conversion.utils":6015,"../../../../shared/modules/fetch-with-timeout":6021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.buildUrl=p,n.getSendBundleSupportedChains=async function(e){const t=await u();return e.reduce((e,n)=>{const r=(0,i.hexToDecimal)(n),o=t[r];return e[n]=(null==o?void 0:o.sendBundle)??!1,e},{})},n.getSentinelApiHeaders=function(){const e={"X-Client-Id":c};e["X-Client-Version"]="13.16.3";return e},n.getSentinelNetworkFlags=l,n.isSendBundleSupported=async function(e){const t=await l(e);if(null==t||!t.sendBundle)return!1;return!0};var r,i=e("../../../../shared/modules/conversion.utils"),o=(r=e("../../../../shared/modules/fetch-with-timeout"))&&r.__esModule?r:{default:r};const a="https://tx-sentinel-{0}.api.cx.metamask.io/",s="networks",c="extension";async function u(){const e=`${p("ethereum-mainnet")}${s}`;return(await(0,o.default)()(e)).json()}async function l(e){const t=(0,i.hexToDecimal)(e);return(await u())[t]}function p(e){return a.replace("{0}",e)}}}},{package:"$root$",file:"app/scripts/lib/transaction/sentinel-api.ts"}],[3600,{"../create/type":3441,"../never/index":3508,"./union-create":3597},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Union=function(e,t){return 0===e.length?(0,r.Never)(t):1===e.length?(0,i.CreateType)(e[0],t):(0,o.UnionCreate)(e,t)};const r=e("../never/index"),i=e("../create/type"),o=e("./union-create")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/union/union.js"}],[3601,{"./unknown":3602},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./unknown"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/unknown/index.js"}],[3602,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Unknown=function(e){return(0,r.CreateType)({[i.Kind]:"Unknown"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/unknown/unknown.js"}],[3603,{"./unsafe":3604},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./unsafe"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/unsafe/index.js"}],[3604,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Unsafe=function(e={}){return(0,r.CreateType)({[i.Kind]:e[i.Kind]??"Unsafe"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/unsafe/unsafe.js"}],[3605,{"./void":3606},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./void"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/void/index.js"}],[3606,{"../create/type":3441,"../symbols/index":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Void=function(e){return(0,r.CreateType)({[i.Kind]:"Void",type:"void"},e)};const r=e("../create/type"),i=e("../symbols/index")}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/type/void/void.js"}],[3607,{"../../system/index":3413,"../../type/error/index":3451,"../../type/extends/index":3461,"../../type/guard/type":3470,"../../type/keyof/index":3497,"../../type/never/index":3508,"../../type/registry/index":3552,"../../type/symbols/index":3574,"../deref/index":3610,"../guard/index":3612,"../hash/index":3614},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueCheckUnknownTypeError=void 0,n.Check=function(...e){return 3===e.length?T(e[0],e[1],e[2]):T(e[0],[],e[1])};const r=e("../../system/index"),i=e("../deref/index"),o=e("../hash/index"),a=e("../../type/symbols/index"),s=e("../../type/keyof/index"),c=e("../../type/extends/index"),u=e("../../type/registry/index"),l=e("../../type/error/index"),p=e("../../type/never/index"),d=e("../guard/index"),y=e("../../type/guard/type");class m extends l.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function f(e){return"Any"===e[a.Kind]||"Unknown"===e[a.Kind]}function h(e){return e!==undefined}function T(e,t,n){const l=h(e.$id)?[...t,e]:t,g=e;switch(g[a.Kind]){case"Any":case"Unknown":return!0;case"Array":return function(e,t,n){if(!(0,d.IsArray)(n))return!1;if(h(e.minItems)&&!(n.length>=e.minItems))return!1;if(h(e.maxItems)&&!(n.length<=e.maxItems))return!1;if(!n.every(n=>T(e.items,t,n)))return!1;if(!0===e.uniqueItems&&!function(){const e=new Set;for(const t of n){const n=(0,o.Hash)(t);if(e.has(n))return!1;e.add(n)}return!0}())return!1;if(!(h(e.contains)||(0,d.IsNumber)(e.minContains)||(0,d.IsNumber)(e.maxContains)))return!0;const r=h(e.contains)?e.contains:(0,p.Never)(),i=n.reduce((e,n)=>T(r,t,n)?e+1:e,0);return!(0===i||(0,d.IsNumber)(e.minContains)&&i<e.minContains||(0,d.IsNumber)(e.maxContains)&&i>e.maxContains)}(g,l,n);case"AsyncIterator":return function(e,t,n){return(0,d.IsAsyncIterator)(n)}(0,0,n);case"BigInt":return function(e,t,n){return!(!(0,d.IsBigInt)(n)||h(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||h(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||h(e.maximum)&&!(n<=e.maximum)||h(e.minimum)&&!(n>=e.minimum)||h(e.multipleOf)&&n%e.multipleOf!==BigInt(0))}(g,0,n);case"Boolean":return function(e,t,n){return(0,d.IsBoolean)(n)}(0,0,n);case"Constructor":return function(e,t,n){return T(e.returns,t,n.prototype)}(g,l,n);case"Date":return function(e,t,n){return!(!(0,d.IsDate)(n)||h(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)||h(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)||h(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)||h(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)||h(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0)}(g,0,n);case"Function":return function(e,t,n){return(0,d.IsFunction)(n)}(0,0,n);case"Integer":return function(e,t,n){return!(!(0,d.IsInteger)(n)||h(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||h(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||h(e.maximum)&&!(n<=e.maximum)||h(e.minimum)&&!(n>=e.minimum)||h(e.multipleOf)&&n%e.multipleOf!==0)}(g,0,n);case"Intersect":return function(e,t,n){const r=e.allOf.every(e=>T(e,t,n));if(!1===e.unevaluatedProperties){const t=new RegExp((0,s.KeyOfPattern)(e)),i=Object.getOwnPropertyNames(n).every(e=>t.test(e));return r&&i}if((0,y.IsSchema)(e.unevaluatedProperties)){const i=new RegExp((0,s.KeyOfPattern)(e)),o=Object.getOwnPropertyNames(n).every(r=>i.test(r)||T(e.unevaluatedProperties,t,n[r]));return r&&o}return r}(g,l,n);case"Iterator":return function(e,t,n){return(0,d.IsIterator)(n)}(0,0,n);case"Literal":return function(e,t,n){return n===e.const}(g,0,n);case"Never":return!1;case"Not":return function(e,t,n){return!T(e.not,t,n)}(g,l,n);case"Null":return function(e,t,n){return(0,d.IsNull)(n)}(0,0,n);case"Number":return function(e,t,n){return!(!r.TypeSystemPolicy.IsNumberLike(n)||h(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||h(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||h(e.minimum)&&!(n>=e.minimum)||h(e.maximum)&&!(n<=e.maximum)||h(e.multipleOf)&&n%e.multipleOf!==0)}(g,0,n);case"Object":return function(e,t,n){if(!r.TypeSystemPolicy.IsObjectLike(n))return!1;if(h(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties))return!1;if(h(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const i=Object.getOwnPropertyNames(e.properties);for(const o of i){const i=e.properties[o];if(e.required&&e.required.includes(o)){if(!T(i,t,n[o]))return!1;if(((0,c.ExtendsUndefinedCheck)(i)||f(i))&&!(o in n))return!1}else if(r.TypeSystemPolicy.IsExactOptionalProperty(n,o)&&!T(i,t,n[o]))return!1}if(!1===e.additionalProperties){const t=Object.getOwnPropertyNames(n);return!(!e.required||e.required.length!==i.length||t.length!==i.length)||t.every(e=>i.includes(e))}if("object"==typeof e.additionalProperties)return Object.getOwnPropertyNames(n).every(r=>i.includes(r)||T(e.additionalProperties,t,n[r]));return!0}(g,l,n);case"Promise":return function(e,t,n){return(0,d.IsPromise)(n)}(0,0,n);case"Record":return function(e,t,n){if(!r.TypeSystemPolicy.IsRecordLike(n))return!1;if(h(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties))return!1;if(h(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const[i,o]=Object.entries(e.patternProperties)[0],a=new RegExp(i),s=Object.entries(n).every(([e,n])=>!a.test(e)||T(o,t,n)),c="object"!=typeof e.additionalProperties||Object.entries(n).every(([n,r])=>!!a.test(n)||T(e.additionalProperties,t,r)),u=!1!==e.additionalProperties||Object.getOwnPropertyNames(n).every(e=>a.test(e));return s&&c&&u}(g,l,n);case"Ref":case"This":return function(e,t,n){return T((0,i.Deref)(e,t),t,n)}(g,l,n);case"RegExp":return function(e,t,n){const r=new RegExp(e.source,e.flags);return(!h(e.minLength)||n.length>=e.minLength)&&(!h(e.maxLength)||n.length<=e.maxLength)&&r.test(n)}(g,0,n);case"String":return function(e,t,n){if(!(0,d.IsString)(n))return!1;if(h(e.minLength)&&!(n.length>=e.minLength))return!1;if(h(e.maxLength)&&!(n.length<=e.maxLength))return!1;if(h(e.pattern)&&!new RegExp(e.pattern).test(n))return!1;if(h(e.format))return!!u.FormatRegistry.Has(e.format)&&u.FormatRegistry.Get(e.format)(n);return!0}(g,0,n);case"Symbol":return function(e,t,n){return(0,d.IsSymbol)(n)}(0,0,n);case"TemplateLiteral":return function(e,t,n){return(0,d.IsString)(n)&&new RegExp(e.pattern).test(n)}(g,0,n);case"Tuple":return function(e,t,n){if(!(0,d.IsArray)(n))return!1;if(e.items===undefined&&0!==n.length)return!1;if(n.length!==e.maxItems)return!1;if(!e.items)return!0;for(let r=0;r<e.items.length;r++)if(!T(e.items[r],t,n[r]))return!1;return!0}(g,l,n);case"Undefined":return function(e,t,n){return(0,d.IsUndefined)(n)}(0,0,n);case"Union":return function(e,t,n){return e.anyOf.some(e=>T(e,t,n))}(g,l,n);case"Uint8Array":return function(e,t,n){return!!(0,d.IsUint8Array)(n)&&(!h(e.maxByteLength)||n.length<=e.maxByteLength)&&(!h(e.minByteLength)||n.length>=e.minByteLength)}(g,0,n);case"Void":return function(e,t,n){return r.TypeSystemPolicy.IsVoidLike(n)}(0,0,n);default:if(!u.TypeRegistry.Has(g[a.Kind]))throw new m(g);return function(e,t,n){return!!u.TypeRegistry.Has(e[a.Kind])&&u.TypeRegistry.Get(e[a.Kind])(e,n)}(g,0,n)}}n.ValueCheckUnknownTypeError=m}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/check/check.js"}],[3608,{"./check":3607},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./check"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/check/index.js"}],[3609,{"../../type/error/index":3451,"../../type/symbols/index":3574,"../guard/guard":3611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeDereferenceError=void 0,n.Pushref=function(e,t){return!(0,o.IsString)(e.$id)||t.some(t=>t.$id===e.$id)||t.push(e),t},n.Deref=s;const r=e("../../type/error/index"),i=e("../../type/symbols/index"),o=e("../guard/guard");class a extends r.TypeBoxError{constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`),this.schema=e}}function s(e,t){return"This"===e[i.Kind]||"Ref"===e[i.Kind]?function(e,t){const n=t.find(t=>t.$id===e.$ref);if(n===undefined)throw new a(e);return s(n,t)}(e,t):e}n.TypeDereferenceError=a}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/deref/deref.js"}],[361,{"../../../../shared/modules/fetch-with-timeout":6021,"../../../../shared/modules/rpc.utils":6030,"./sentinel-api":360,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RelayStatus=n.RELAY_RPC_METHOD=void 0,n.isRelaySupported=async function(e){return Boolean(await p(e))},n.submitRelayTransaction=async function(e){const{chainId:t}=e,n=await p(t);if(!n)throw new Error(`Chain not supported by transaction relay - ${t}`);c("Request",n,e);const r=await(0,o.jsonRpcRequest)(n,l,[e]);return c("Response",r),r},n.waitForRelayResult=async function(e){const{chainId:t,interval:n,uuid:r}=e,i=await p(t);if(!i)throw new Error(`Chain not supported by transaction relay - ${t}`);const o=`${i}smart-transactions/${r}`;return new Promise((e,t)=>{const r=setInterval(async()=>{try{const t=await async function(e){c("Polling request",e);const t=await(0,a.default)()(e);if(c("Polling response",t),!t.ok){const e=await t.text();throw new Error(`Failed to fetch relay transaction status: ${t.status} - ${e}`)}const n=await t.json(),r=null==n?void 0:n.transactions[0],{hash:i,status:o}=r||{};return{status:o,transactionHash:i}}(o);t.status!==u.Pending&&(clearInterval(r),e(t))}catch(e){clearInterval(r),t(e)}},n)})};var r,i=e("@metamask/utils"),o=e("../../../../shared/modules/rpc.utils"),a=(r=e("../../../../shared/modules/fetch-with-timeout"))&&r.__esModule?r:{default:r},s=e("./sentinel-api");const c=(0,i.createProjectLogger)("transaction-relay");let u=n.RelayStatus=function(e){return e.Pending="PENDING",e.Success="VALIDATED",e}({});const l=n.RELAY_RPC_METHOD="eth_sendRelayTransaction";async function p(e){const t=await(0,s.getSentinelNetworkFlags)(e);return null!=t&&t.relayTransactions?(0,s.buildUrl)(t.network):(c("Chain is not supported",e),undefined)}}}},{package:"$root$",file:"app/scripts/lib/transaction/transaction-relay.ts"}],[3610,{"./deref":3609},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./deref"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/deref/index.js"}],[3611,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return null!==e&&"object"==typeof e}function i(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}function o(e){return e===undefined}function a(e){return null===e}function s(e){return"boolean"==typeof e}function c(e){return"number"==typeof e}function u(e){return"bigint"==typeof e}function l(e){return"string"==typeof e}function p(e){return"function"==typeof e}function d(e){return"symbol"==typeof e}Object.defineProperty(n,"__esModule",{value:!0}),n.IsAsyncIterator=function(e){return r(e)&&Symbol.asyncIterator in e},n.IsIterator=function(e){return r(e)&&Symbol.iterator in e},n.IsStandardObject=function(e){return r(e)&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))},n.IsInstanceObject=function(e){return r(e)&&!i(e)&&p(e.constructor)&&"Object"!==e.constructor.name},n.IsPromise=function(e){return e instanceof Promise},n.IsDate=function(e){return e instanceof Date&&Number.isFinite(e.getTime())},n.IsMap=function(e){return e instanceof globalThis.Map},n.IsSet=function(e){return e instanceof globalThis.Set},n.IsRegExp=function(e){return e instanceof globalThis.RegExp},n.IsTypedArray=function(e){return ArrayBuffer.isView(e)},n.IsInt8Array=function(e){return e instanceof globalThis.Int8Array},n.IsUint8Array=function(e){return e instanceof globalThis.Uint8Array},n.IsUint8ClampedArray=function(e){return e instanceof globalThis.Uint8ClampedArray},n.IsInt16Array=function(e){return e instanceof globalThis.Int16Array},n.IsUint16Array=function(e){return e instanceof globalThis.Uint16Array},n.IsInt32Array=function(e){return e instanceof globalThis.Int32Array},n.IsUint32Array=function(e){return e instanceof globalThis.Uint32Array},n.IsFloat32Array=function(e){return e instanceof globalThis.Float32Array},n.IsFloat64Array=function(e){return e instanceof globalThis.Float64Array},n.IsBigInt64Array=function(e){return e instanceof globalThis.BigInt64Array},n.IsBigUint64Array=function(e){return e instanceof globalThis.BigUint64Array},n.HasPropertyKey=function(e,t){return t in e},n.IsObject=r,n.IsArray=i,n.IsUndefined=o,n.IsNull=a,n.IsBoolean=s,n.IsNumber=c,n.IsInteger=function(e){return Number.isInteger(e)},n.IsBigInt=u,n.IsString=l,n.IsFunction=p,n.IsSymbol=d,n.IsValueType=function(e){return u(e)||s(e)||a(e)||c(e)||l(e)||d(e)||o(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/guard/guard.js"}],[3612,{"./guard":3611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./guard"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/guard/index.js"}],[3613,{"../../type/error/index":3451,"../guard/index":3612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueHashError=void 0,n.Hash=function(e){return s=BigInt("14695981039346656037"),f(e),s};const r=e("../guard/index"),i=e("../../type/error/index");class o extends i.TypeBoxError{constructor(e){super("Unable to hash value"),this.value=e}}var a;n.ValueHashError=o,function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"}(a||(a={}));let s=BigInt("14695981039346656037");const[c,u]=[BigInt("1099511628211"),BigInt("18446744073709551616")],l=Array.from({length:256}).map((e,t)=>BigInt(t)),p=new Float64Array(1),d=new DataView(p.buffer),y=new Uint8Array(p.buffer);function*m(e){const t=0===e?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let n=0;n<t;n++)yield e>>8*(t-1-n)&255}function f(e){if((0,r.IsArray)(e))return function(e){h(a.Array);for(const t of e)f(t)}(e);if((0,r.IsBoolean)(e))return function(e){h(a.Boolean),h(e?1:0)}(e);if((0,r.IsBigInt)(e))return function(e){h(a.BigInt),d.setBigInt64(0,e);for(const e of y)h(e)}(e);if((0,r.IsDate)(e))return function(e){h(a.Date),f(e.getTime())}(e);if(!(0,r.IsNull)(e)){if((0,r.IsNumber)(e))return function(e){h(a.Number),d.setFloat64(0,e);for(const e of y)h(e)}(e);if((0,r.IsObject)(e))return function(e){h(a.Object);for(const t of globalThis.Object.getOwnPropertyNames(e).sort())f(t),f(e[t])}(e);if((0,r.IsString)(e))return function(e){h(a.String);for(let t=0;t<e.length;t++)for(const n of m(e.charCodeAt(t)))h(n)}(e);if((0,r.IsSymbol)(e))return function(e){h(a.Symbol),f(e.description)}(e);if((0,r.IsUint8Array)(e))return function(e){h(a.Uint8Array);for(let t=0;t<e.length;t++)h(e[t])}(e);if((0,r.IsUndefined)(e))return h(a.Undefined);throw new o(e)}h(a.Null)}function h(e){s^=l[e],s=s*c%u}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/hash/hash.js"}],[3614,{"./hash":3613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./hash"),n)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@trezor/schema-utils/node_modules/@sinclair/typebox/build/cjs/value/hash/index.js"}],[3615,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TRANSPORT=n.ACTION_TIMEOUT=n.TREZOR_USB_DESCRIPTORS=n.WEBUSB_BOOTLOADER_PRODUCT=n.T1_HID_PRODUCT=n.T1_HID_VENDOR=n.DEBUGLINK_ENDPOINT_ID=n.DEBUGLINK_INTERFACE_ID=n.ENDPOINT_ID=n.INTERFACE_ID=n.CONFIGURATION_ID=void 0,n.CONFIGURATION_ID=1,n.INTERFACE_ID=0,n.ENDPOINT_ID=1,n.DEBUGLINK_INTERFACE_ID=1,n.DEBUGLINK_ENDPOINT_ID=2,n.T1_HID_VENDOR=21324,n.T1_HID_PRODUCT=1;n.WEBUSB_BOOTLOADER_PRODUCT=21440,n.TREZOR_USB_DESCRIPTORS=[{vendorId:21324,productId:n.T1_HID_PRODUCT},{vendorId:4617,productId:n.WEBUSB_BOOTLOADER_PRODUCT},{vendorId:4617,productId:21441}],n.ACTION_TIMEOUT=1e4,n.TRANSPORT={START:"transport-start",ERROR:"transport-error",DEVICE_CONNECTED:"transport-device_connected",DEVICE_DISCONNECTED:"transport-device_disconnected",DEVICE_SESSION_CHANGED:"transport-device_session_changed",DEVICE_REQUEST_RELEASE:"transport-device_request_release",DISABLE_WEBUSB:"transport-disable_webusb",REQUEST_DEVICE:"transport-request_device",GET_INFO:"transport-get_info",SET_TRANSPORTS:"transport-set_transports"}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/constants.js"}],[3616,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addDashesToSpaces=void 0;n.addDashesToSpaces=e=>e.replace(/\s+/g,"-")}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/addDashesToSpaces.js"}],[3617,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.arrayDistinct=void 0;n.arrayDistinct=(e,t,n)=>n.indexOf(e)===t}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayDistinct.js"}],[3618,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.arrayPartition=void 0;n.arrayPartition=(e,t)=>e.reduce(([e,n],r)=>t(r)?[[...e,r],n]:[e,[...n,r]],[[],[]])}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayPartition.js"}],[3619,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.arrayShuffle=void 0;n.arrayShuffle=(e,{randomInt:t})=>{const n=e.slice();for(let e=n.length-1;e>0;e--){const r=t(0,e+1);[n[e],n[r]]=[n[r],n[e]]}return n}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayShuffle.js"}],[362,{"../../../../shared/constants/app":5876,"../../../../shared/constants/security-provider":5904,"../../../../shared/lib/trace":5999,"../../../../shared/lib/trust-signals":6005,"../../../../shared/modules/transaction.utils":6047,"../ppom/ppom-util":302,"../trust-signals/security-alerts-api":363,"@metamask/keyring-api":2300,"@metamask/transaction-controller":3085,"ethereumjs-util":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addDappTransaction=async function(e){const{dappRequest:t,requestContext:n}=e,{id:r,method:i}=t,o=String(r),a=n.assertGet("origin"),s=n.get("securityAlertResponse"),u=n.get("traceContext"),l={actionId:o,requestId:String(r),method:i,origin:a,requireApproval:!0,securityAlertResponse:s};(0,c.endTrace)({name:c.TraceName.Middleware,id:o});const{waitForHash:p}=await m({...e,transactionOptions:{...l,traceContext:u}}),d=await p();return(0,c.endTrace)({name:c.TraceName.Transaction,id:o}),d},n.addTransaction=async function(e){await async function(e){const{chainId:t,ppomController:n,securityAlertsEnabled:r,transactionOptions:i,transactionParams:o,updateSecurityAlertResponse:c,internalAccounts:m,getSecurityAlertsConfig:f}=e;!function(e){const{getSecurityAlertResponse:t,addSecurityAlertResponse:n,securityAlertsEnabled:r,transactionOptions:i,transactionParams:o,chainId:a}=e,{origin:s}=i;if(s!==u.ORIGIN_METAMASK||!r)return;const{to:c}=o;if("string"!=typeof c)return;const d=(0,p.mapChainIdToSupportedEVMChain)(a);if(!d)return;const y=e=>t(e),m=(e,t)=>n(e,t);(0,l.scanAddressAndAddToCache)(c,y,m,d).catch(e=>{console.error("[scanAddressForTrustSignals] error scanning address for trust signals:",e)})}(e);const{type:h}=i,{data:g,value:b,to:_}=o,O=s.SECURITY_PROVIDER_EXCLUDED_TRANSACTION_TYPES.includes(h);if(!r||O)return;const w="0x0"===b&&y.includes(h)&&g?(0,d.getTransactionDataRecipient)(g):undefined;if(T(m,_)||T(m,w))return;try{const{from:r}=o,{actionId:u,origin:l}=i,p={method:"eth_sendTransaction",id:u??"",origin:l??"",params:[{from:r,to:_??"",value:b??"",data:g??""}],jsonrpc:"2.0"},d=(0,a.generateSecurityAlertId)();(0,a.validateRequestWithPPOM)({ppomController:n,request:p,securityAlertId:d,chainId:t,updateSecurityAlertResponse:c,getSecurityAlertsConfig:f});const y={...s.LOADING_SECURITY_ALERT_RESPONSE,securityAlertId:d};e.transactionOptions.securityAlertResponse=y}catch(e){(0,a.handlePPOMError)(e,"Error validating JSON RPC using PPOM: ")}}(e);const{transactionMeta:t,waitForHash:n}=await m(e);if(!e.waitForSubmit)return n().catch(()=>{}),t;const r=await n();return function(e,t){return t.state.transactions.find(t=>t.hash===e)}(r,e.transactionController)},n.getTransactionById=f,n.stripSingleLeadingZero=function(e){if(!e.startsWith("0x0")||e.length<=3)return e;return`0x${e.slice(3)}`};var r=e("@metamask/keyring-api"),i=e("@metamask/transaction-controller"),o=e("ethereumjs-util"),a=e("../ppom/ppom-util"),s=e("../../../../shared/constants/security-provider"),c=e("../../../../shared/lib/trace"),u=e("../../../../shared/constants/app"),l=e("../trust-signals/security-alerts-api"),p=e("../../../../shared/lib/trust-signals"),d=e("../../../../shared/modules/transaction.utils");const y=[i.TransactionType.tokenMethodTransfer,i.TransactionType.tokenMethodTransferFrom,i.TransactionType.tokenMethodSafeTransferFrom];async function m(e){const{selectedAccount:t}=e;return t.type===r.EthAccountType.Erc4337?async function(e){var t;const{networkClientId:n,transactionController:r,transactionOptions:i,transactionParams:a,userOperationController:s}=e,{maxFeePerGas:c,maxPriorityFeePerGas:u}=a,{origin:l,requireApproval:p,type:d}=i,y={...a,maxFeePerGas:(0,o.addHexPrefix)(c),maxPriorityFeePerGas:(0,o.addHexPrefix)(u)},m=null==i||null===(t=i.swaps)||void 0===t?void 0:t.meta;null!=m&&m.type&&delete m.type;const h={networkClientId:n,origin:l,requireApproval:p,swaps:m,type:d},T=await s.addUserOperationFromTransaction(y,h);s.startPollingByNetworkClientId(n);return{transactionMeta:f(T.id,r),waitForHash:T.transactionHash}}(e):async function(e){const{transactionController:t,transactionOptions:n,transactionParams:r,networkClientId:i}=e,{result:o,transactionMeta:a}=await t.addTransaction(r,{...n,networkClientId:i});return{transactionMeta:a,waitForHash:()=>o}}(e)}function f(e,t){return t.state.transactions.find(t=>t.id===e)}function h(e){return null==e?void 0:e.toLowerCase()}function T(e,t){const n=h(t);if(!n)return!1;return new Set(e.map(e=>h(e.address))).has(n)}}}},{package:"$root$",file:"app/scripts/lib/transaction/util.ts"}],[3620,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.arrayToDictionary=void 0;const r=e=>!!["string","number"].includes(typeof e);n.arrayToDictionary=(e,t,n)=>n?e.reduce((e,n)=>{const i=t(n);return r(i)?{...e,[i]:[...e[i]??[],n]}:e},{}):e.reduce((e,n)=>{const i=t(n);return r(i)?{...e,[i]:n}:e},{})}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayToDictionary.js"}],[3621,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAscii=function(e){return!e||!r.test(e)},n.getNonAsciiChars=function(e){return e?e.match(r):null};const r=/[^\x20-\x7E]/g}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/asciiUtils.js"}],[3622,{"bignumber.js":3676,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BigNumber=void 0;const r=e("tslib").__importDefault(e("bignumber.js"));n.BigNumber=r.default.clone({EXPONENTIAL_AT:1e9})}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bigNumber.js"}],[3623,{buffer:4176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.getChunkSize=n.reverseBuffer=void 0;n.reverseBuffer=t=>{if(t.length<1)return t;const n=e.alloc(t.length);let r=n.length-1;for(let e=0;e<n.length/2;e++)n[e]=t[r],n[r]=t[e],r--;return n};n.getChunkSize=t=>{const n=e.allocUnsafe(1);return n.writeUInt8(t),n}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bufferUtils.js"}],[3624,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.bytesToHumanReadable=void 0;const r=["B","KB","MB","GB","TB"];n.bytesToHumanReadable=e=>{let t=Math.abs(e),n=0;for(;t>=1024||n>=r.length;)t/=1024,n++;return`${t.toFixed(1)} ${r[n]}`}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bytesToHumanReadable.js"}],[3625,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Cache=void 0;n.Cache=class{store;constructor(){this.store=new Map}set(e,t,n){this.store.set(e,{value:t,ttl:Date.now()+n})}get(e){const t=this.store.get(e);if(t){if(!(t.ttl<Date.now()))return t.value;this.store.delete(e)}}delete(e){this.store.delete(e)}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/cache.js"}],[3626,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.capitalizeFirstLetter=void 0;n.capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/capitalizeFirstLetter.js"}],[3627,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.cloneObject=void 0;n.cloneObject=(e,t=new WeakMap)=>{if(null===e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);if(e instanceof ArrayBuffer)return e.slice(0);if(ArrayBuffer.isView(e)){return new(0,e.constructor)(e)}const r=Array.isArray(e)?[]:{};t.set(e,r);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];if("function"==typeof o||"symbol"==typeof o)continue;r[i]=(0,n.cloneObject)(o,t)}return r}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/cloneObject.js"}],[3628,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isChanged=void 0;n.isChanged=(e,t,r)=>{if(e===t)return!1;if(!e||!t)return!0;const i=Object.prototype.toString.call(e),o=Object.prototype.toString.call(t);if(i!==o)return!0;if("[object Array]"===o){if(e.length!==t.length)return!0;for(let i=0;i<t.length;i++)if((0,n.isChanged)(e[i],t[i],r))return!0}else if("[object Object]"===o){const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!0;if(i.find(e=>o.indexOf(e)<0))return!0;for(let i=0;i<o.length;i++){const a=o[i];if(r&&Object.prototype.hasOwnProperty.call(r,a)&&e[a]&&t[a]){const i={},o={};for(let n=0;n<r[a].length;n++){const s=r[a][n];i[s]=e[a][s],o[s]=t[a][s]}if((0,n.isChanged)(i,o))return!0}else if((0,n.isChanged)(e[a],t[a]))return!0}}else if(e!==t)return!0;return!1}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/comparison.js"}],[3629,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.convertTaprootXpub=void 0;n.convertTaprootXpub=({xpub:e,direction:t})=>{const n="h-to-apostrophe"===t?"h":"'",r="h-to-apostrophe"===t?"'":"h",i=e.split("[");if(2===i.length){const[e,t]=i,o=t.split("]");if(2===o.length){const[t,i]=o;return`${e}[${t.replace(new RegExp(n,"g"),r)}]${i}`}}return null}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/convertTaprootXpub.js"}],[363,{"../../../../shared/constants/time":5913,"../../../../shared/lib/trust-signals":6005,"../../../../shared/modules/fetch-with-timeout":6021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.scanAddress=u,n.scanAddressAndAddToCache=async function(e,t,n,r){const i=(0,a.createCacheKey)(r,e),o=t(i);if(o)return o;const s={result_type:a.ResultType.Loading,label:""};n(i,s);try{const t=await u(r,e);return n(i,t),t}catch(e){throw n(i,{result_type:a.ResultType.ErrorResult,label:""}),e}};var r,i=e("../../../../shared/constants/time"),o=(r=e("../../../../shared/modules/fetch-with-timeout"))&&r.__esModule?r:{default:r},a=e("../../../../shared/lib/trust-signals");const s=5*i.SECOND,c="address/evm/scan";async function u(e,t){const n="https://security-alerts.api.cx.metamask.io";const r=`${n}/${c}`,i={chain:e,address:t},a=await(0,o.default)(s)(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await a.json()}}}},{package:"$root$",file:"app/scripts/lib/trust-signals/security-alerts-api.ts"}],[3630,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.countBytesInString=void 0;n.countBytesInString=e=>encodeURI(e).split(/%..|./).length-1}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/countBytesInString.js"}],[3631,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createCooldown=void 0;n.createCooldown=e=>{let t=0;return()=>{const n=Date.now();return n-t>=e&&(t=n,!0)}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createCooldown.js"}],[3632,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferred=void 0;n.createDeferred=e=>{let t=()=>{},n=()=>{};const r=new Promise((e,r)=>{t=e,n=r});return{id:e,resolve:t,reject:n,promise:r}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createDeferred.js"}],[3633,{"./createDeferred":3632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredManager=void 0;const r=e("./createDeferred");n.createDeferredManager=e=>{const{initialId:t=0,timeout:n=0,onTimeout:i}=e??{},o=[];let a,s=t;const c=()=>{const e=Date.now(),t=o.reduce((e,{deadline:t})=>(e&&t?Math.min:Math.max)(e,t),0);a&&clearTimeout(a),a=t?setTimeout(u,Math.max(t-e,0)):undefined},u=()=>{const e=Date.now();o.filter(t=>t.deadline&&t.deadline<=e).forEach(e=>{i?.(e.id),e.deadline=0}),c()},l=e=>{const t=o.findIndex(({id:t})=>t===e),[n]=t>=0?o.splice(t,1):[undefined];return n?.deadline&&c(),n};return{length:()=>o.length,nextId:()=>s,create:(e=n)=>{const t=s++,i=(0,r.createDeferred)(t),a=e&&Date.now()+e;return o.push({...i,deadline:a}),e&&c(),{promiseId:t,promise:i.promise}},resolve:(e,t)=>{const n=l(e);return n?.resolve(t),!!n},reject:(e,t)=>{const n=l(e);return n?.reject(t),!!n},rejectAll:e=>{o.forEach(t=>t.reject(e));o.splice(0,o.length).length&&c()}}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createDeferredManager.js"}],[3634,{"./createDeferred":3632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createLazy=void 0;const r=e("./createDeferred");n.createLazy=(e,t)=>{let n,i;return{get:()=>n,getPending:()=>i?.promise,getOrInit:(...t)=>{if(n!==undefined)return Promise.resolve(n);if(!i){const o=(0,r.createDeferred)();i=o,e(...t).then(e=>{n=e,i=undefined,o.resolve(e)}).catch(e=>{i=undefined,o.reject(e)})}return i.promise},dispose:()=>{i&&(i.reject(new Error("Disposed during initialization")),i=undefined),n!==undefined&&(t?.(n),n=undefined)}}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createLazy.js"}],[3635,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeyByValue=function(e,t){return e&&Object.keys(e).find(n=>e[n]===t)},n.getValueByKey=function(e,t){const n=e&&Object.keys(e).find(e=>e===t);return n&&e[n]}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/enumUtils.js"}],[3636,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractUrlsFromText=void 0;const r=/\b(?:https?:\/\/|www\.)[a-zA-Z0-9-._~:/?#[\]@!$&'()*+,;=%]+\b|(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(?=\b|\s|$|\])/gi;n.extractUrlsFromText=e=>{const t=[],n=[];let i=0;return[...e.matchAll(r)].forEach(r=>{const o=r[0],a=r.index!==undefined?r.index:-1;i<a&&n.push(e.slice(i,a)),t.push(o),i=a+o.length}),i<e.length&&n.push(e.slice(i)),0===n.length&&t.length>0&&n.push(""),{textParts:n,urls:t}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/extractUrlsFromText.js"}],[3637,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLocaleSeparators=void 0;n.getLocaleSeparators=e=>{const t=new Intl.NumberFormat(e).formatToParts(10000.1),n=t.find(({type:e})=>"decimal"===e)?.value,r=t.find(({type:e})=>"group"===e)?.value;return{decimalSeparator:n,thousandsSeparator:r}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getLocaleSeparators.js"}],[3638,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMutex=void 0;n.getMutex=()=>{const e=Symbol(),t={};return async(n=e)=>{for(;t[n];)await t[n];let r=()=>{};return t[n]=new Promise(e=>{r=e}).finally(()=>{delete t[n]}),r}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getMutex.js"}],[3639,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getNumberFromPixelString=void 0;n.getNumberFromPixelString=e=>parseInt(e.replace("px",""),10)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getNumberFromPixelString.js"}],[364,{"../../../../shared/constants/signatures":5905,"../../../../shared/lib/trust-signals":6005,"../../../../shared/modules/transaction.utils":6047,"../ppom/security-alerts-api":304,"../transaction/delegation":356,"./security-alerts-api":363,"./trust-signals-util":365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createTrustSignalsMiddleware=function(e,t,n,p,d){return async(y,m,f)=>{try{if(!(0,u.isSecurityAlertsEnabledByUser)(p)||!(0,a.isSecurityAlertsAPIEnabled)())return;(0,u.isEthSendTransaction)(y)?(!function(e,t,n){if(!(0,u.hasValidTransactionParams)(e))return;const{to:i,data:o}=e.params[0],{chainId:a}=n.getNetworkConfigurationByNetworkClientId(e.networkClientId)??{};if(!a)return void console.error("ChainID not found for networkClientId");const l=(0,s.mapChainIdToSupportedEVMChain)(a);if(!l)return void console.error("Unsupported chainId:",a);if((0,c.scanAddressAndAddToCache)(i,t.getAddressSecurityAlertResponse,t.addAddressSecurityAlertResponse,l).catch(e=>{console.error("[createTrustSignalsMiddleware] error scanning address for transaction:",e)}),o&&"string"==typeof o){const e=(0,r.parseApprovalTransactionData)(o),n=null==e?void 0:e.spender;n&&(0,c.scanAddressAndAddToCache)(n,t.getAddressSecurityAlertResponse,t.addAddressSecurityAlertResponse,l).catch(e=>{console.error("[createTrustSignalsMiddleware] error scanning spender address for approval:",e)})}}(y,t,e),l(y,n)):(0,u.isEthSignTypedData)(y)?(!function(e,t,n){var a;if(!(0,u.hasValidTypedDataParams)(e))return;const l=(0,r.parseTypedDataMessage)("string"==typeof e.params[1]?e.params[1]:JSON.stringify(e.params[1])),p=null===(a=l.domain)||void 0===a?void 0:a.verifyingContract;if(!p)return;const{chainId:d}=n.getNetworkConfigurationByNetworkClientId(e.networkClientId)??{};if(!d)return void console.error("ChainID not found for networkClientId");const y=(0,s.mapChainIdToSupportedEVMChain)(d);if(!y)return void console.error("Unsupported chainId:",d);(0,c.scanAddressAndAddToCache)(p,t.getAddressSecurityAlertResponse,t.addAddressSecurityAlertResponse,y).catch(e=>{console.error("[createTrustSignalsMiddleware] error scanning address for signature:",e)});const{primaryType:m}=l;if(!m)return;if(i.PRIMARY_TYPES_PERMIT.includes(m)){var f;const e=null===(f=l.message)||void 0===f?void 0:f.spender;e&&(0,c.scanAddressAndAddToCache)(e,t.getAddressSecurityAlertResponse,t.addAddressSecurityAlertResponse,y).catch(e=>{console.error("[createTrustSignalsMiddleware] error scanning spender address for permit:",e)})}if(m===o.PRIMARY_TYPE_DELEGATION){var h;const e=null===(h=l.message)||void 0===h?void 0:h.delegate;e&&(0,c.scanAddressAndAddToCache)(e,t.getAddressSecurityAlertResponse,t.addAddressSecurityAlertResponse,y).catch(e=>{console.error("[createTrustSignalsMiddleware] error scanning delegate address for delegation:",e)})}}(y,t,e),l(y,n)):((0,u.isConnected)(y,d)||(0,u.connectScreenHasBeenPrompted)(y))&&l(y,n)}catch(e){console.error("[createTrustSignalsMiddleware] error: ",e)}finally{f()}}};var r=e("../../../../shared/modules/transaction.utils"),i=e("../../../../shared/constants/signatures"),o=e("../transaction/delegation"),a=e("../ppom/security-alerts-api"),s=e("../../../../shared/lib/trust-signals"),c=e("./security-alerts-api"),u=e("./trust-signals-util");function l(e,t){e.origin&&t.scanUrl(e.origin).catch(e=>{console.error("[createTrustSignalsMiddleware] error:",e)})}}}},{package:"$root$",file:"app/scripts/lib/trust-signals/trust-signals-middleware.ts"}],[3640,{crypto:4128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomInt=void 0;const r=e("crypto");n.getRandomInt=(e,t)=>{if(!Number.isSafeInteger(e))throw new RangeError(`The "min" argument must be a safe integer. Received type ${typeof e} (${e})`);if(!Number.isSafeInteger(t))throw new RangeError(`The "max" argument must be a safe integer. Received type ${typeof t} (${t})`);if(e>=t)throw new RangeError(`The value of "max" is out of range. It must be greater than the value of "min" (${e}). Received ${t}`);const n=4294967296,i=t-e;if(i>n)throw new RangeError("This function only provide 32 bits of entropy, therefore range cannot be more then 2^32.");const o="undefined"!=typeof window?e=>window.crypto.getRandomValues(e):e=>(0,r.getRandomValues)(e),a=new Uint32Array(1),s=n-n%i;let c;do{o(a),c=a[0]}while(c>=s);return e+c%i}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getRandomInt.js"}],[3641,{"./getMutex":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSynchronize=void 0;const r=e("./getMutex");n.getSynchronize=e=>{const t=e??(0,r.getMutex)();return(e,n)=>t(n).then(t=>Promise.resolve().then(e).finally(t))}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getSynchronize.js"}],[3642,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWeakRandomId=void 0;n.getWeakRandomId=e=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getWeakRandomId.js"}],[3643,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWeakRandomInt=void 0;n.getWeakRandomInt=(e,t)=>{if(e>=t)throw new RangeError(`The value of "max" is out of range. It must be greater than the value of "min" (${e}). Received ${t}`);return Math.floor(Math.random()*(t-e)+e)}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getWeakRandomInt.js"}],[3644,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWeakRandomNumberInRange=void 0;n.getWeakRandomNumberInRange=(e,t)=>Math.floor(Math.random()*(t-e+1))+e}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getWeakRandomNumberInRange.js"}],[3645,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasUppercaseLetter=void 0;const r=new RegExp("^(.*[A-Z].*)$");n.hasUppercaseLetter=e=>r.test(e)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/hasUppercaseLetter.js"}],[3646,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToRgba=function(e,t){const n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);if(t&&t>0)return`rgba(${n}, ${r}, ${i}, ${t})`;return`rgb(${n}, ${r}, ${i})`}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/hexToRgba.js"}],[3647,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToRgbaArray=void 0;n.hexToRgbaArray=e=>{const t=e.replace("#",""),n=6===t.length?t+"FF":t;return[parseInt(n.slice(0,2),16)/255,parseInt(n.slice(2,4),16)/255,parseInt(n.slice(4,6),16)/255,parseInt(n.slice(6,8),16)/255]}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/hexToRgbaArray.js"}],[3648,{"./addDashesToSpaces":3616,"./arrayDistinct":3617,"./arrayPartition":3618,"./arrayShuffle":3619,"./arrayToDictionary":3620,"./asciiUtils":3621,"./bigNumber":3622,"./bufferUtils":3623,"./bytesToHumanReadable":3624,"./cache":3625,"./capitalizeFirstLetter":3626,"./cloneObject":3627,"./comparison":3628,"./convertTaprootXpub":3629,"./countBytesInString":3630,"./createCooldown":3631,"./createDeferred":3632,"./createDeferredManager":3633,"./createLazy":3634,"./enumUtils":3635,"./extractUrlsFromText":3636,"./getLocaleSeparators":3637,"./getMutex":3638,"./getNumberFromPixelString":3639,"./getRandomInt":3640,"./getSynchronize":3641,"./getWeakRandomId":3642,"./getWeakRandomInt":3643,"./getWeakRandomNumberInRange":3644,"./hasUppercaseLetter":3645,"./hexToRgba":3646,"./hexToRgbaArray":3647,"./isArrayMember":3649,"./isFullPath":3650,"./isHex":3651,"./isNotUndefined":3652,"./isUrl":3653,"./isWhitelistedHost":3654,"./logs":3655,"./logsManager":3656,"./mergeDeepObject":3657,"./objectPartition":3658,"./parseElectrumUrl":3659,"./parseHostname":3660,"./promiseAllSequence":3661,"./redactUserPath":3662,"./resolveAfter":3663,"./scheduleAction":3664,"./serializeError":3665,"./splitStringEveryNCharacters":3666,"./throttler":3667,"./throwError":3668,"./topologicalSort":3669,"./typedEventEmitter":3670,"./typedObjectKeys":3671,"./urlToOnion":3672,"./versionUtils":3673,"./xssFilters":3674,"./zip":3675,tslib:5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToRgbaArray=n.hexToRgba=n.xssFilters=n.versionUtils=n.enumUtils=n.bufferUtils=void 0;const r=e("tslib");n.bufferUtils=r.__importStar(e("./bufferUtils")),n.enumUtils=r.__importStar(e("./enumUtils")),n.versionUtils=r.__importStar(e("./versionUtils")),n.xssFilters=r.__importStar(e("./xssFilters")),r.__exportStar(e("./addDashesToSpaces"),n),r.__exportStar(e("./arrayDistinct"),n),r.__exportStar(e("./arrayPartition"),n),r.__exportStar(e("./arrayShuffle"),n),r.__exportStar(e("./arrayToDictionary"),n),r.__exportStar(e("./asciiUtils"),n),r.__exportStar(e("./bigNumber"),n),r.__exportStar(e("./bytesToHumanReadable"),n),r.__exportStar(e("./cache"),n),r.__exportStar(e("./capitalizeFirstLetter"),n),r.__exportStar(e("./cloneObject"),n),r.__exportStar(e("./comparison"),n),r.__exportStar(e("./convertTaprootXpub"),n),r.__exportStar(e("./countBytesInString"),n),r.__exportStar(e("./createCooldown"),n),r.__exportStar(e("./createDeferred"),n),r.__exportStar(e("./createDeferredManager"),n),r.__exportStar(e("./createLazy"),n),r.__exportStar(e("./extractUrlsFromText"),n),r.__exportStar(e("./getLocaleSeparators"),n),r.__exportStar(e("./getMutex"),n),r.__exportStar(e("./getNumberFromPixelString"),n),r.__exportStar(e("./getRandomInt"),n),r.__exportStar(e("./getSynchronize"),n),r.__exportStar(e("./getWeakRandomId"),n),r.__exportStar(e("./getWeakRandomInt"),n),r.__exportStar(e("./getWeakRandomNumberInRange"),n),r.__exportStar(e("./hasUppercaseLetter"),n);var i=e("./hexToRgba");Object.defineProperty(n,"hexToRgba",{enumerable:!0,get:function(){return i.hexToRgba}});var o=e("./hexToRgbaArray");Object.defineProperty(n,"hexToRgbaArray",{enumerable:!0,get:function(){return o.hexToRgbaArray}}),r.__exportStar(e("./isArrayMember"),n),r.__exportStar(e("./isFullPath"),n),r.__exportStar(e("./isHex"),n),r.__exportStar(e("./isNotUndefined"),n),r.__exportStar(e("./isUrl"),n),r.__exportStar(e("./isWhitelistedHost"),n),r.__exportStar(e("./logs"),n),r.__exportStar(e("./logsManager"),n),r.__exportStar(e("./mergeDeepObject"),n),r.__exportStar(e("./objectPartition"),n),r.__exportStar(e("./parseElectrumUrl"),n),r.__exportStar(e("./parseHostname"),n),r.__exportStar(e("./promiseAllSequence"),n),r.__exportStar(e("./redactUserPath"),n),r.__exportStar(e("./resolveAfter"),n),r.__exportStar(e("./scheduleAction"),n),r.__exportStar(e("./serializeError"),n),r.__exportStar(e("./splitStringEveryNCharacters"),n),r.__exportStar(e("./throttler"),n),r.__exportStar(e("./throwError"),n),r.__exportStar(e("./topologicalSort"),n),r.__exportStar(e("./typedEventEmitter"),n),r.__exportStar(e("./typedObjectKeys"),n),r.__exportStar(e("./urlToOnion"),n),r.__exportStar(e("./zip"),n)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/index.js"}],[3649,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isArrayMember=void 0;n.isArrayMember=(e,t)=>t.some(t=>t===e)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isArrayMember.js"}],[365,{"../../../../shared/constants/app":5876,"../../../../shared/lib/trust-signals":6005,"../../../../shared/modules/selectors/networks":6034},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.connectScreenHasBeenPrompted=function(e){return e.method===i.MESSAGE_TYPE.ETH_REQUEST_ACCOUNTS||e.method===i.MESSAGE_TYPE.WALLET_REQUEST_PERMISSIONS},n.getChainId=function(e){var t;const n=null===(t=(0,r.getProviderConfig)({metamask:e.state}))||void 0===t?void 0:t.chainId;if(!n)throw new Error("Chain ID not found");return(0,o.mapChainIdToSupportedEVMChain)(n)},n.hasValidTransactionParams=function(e){if(!("params"in e)||!e.params)return!1;if(!Array.isArray(e.params)||0===e.params.length)return!1;const t=e.params[0];return"object"==typeof t&&null!==t&&"to"in t},n.hasValidTypedDataParams=function(e){if(!("params"in e)||!e.params)return!1;if(!Array.isArray(e.params)||e.params.length<2)return!1;return e.params[1]!==undefined&&null!==e.params[1]},n.isConnected=function(e,t){if(!e.origin||e.method!==i.MESSAGE_TYPE.ETH_ACCOUNTS)return!1;const n=t(e.origin);return Array.isArray(n)&&n.length>0},n.isEthSendTransaction=function(e){return e.method===i.MESSAGE_TYPE.ETH_SEND_TRANSACTION},n.isEthSignTypedData=function(e){return e.method===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA||e.method===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V1||e.method===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V3||e.method===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V4},n.isSecurityAlertsEnabledByUser=function(e){const{securityAlertsEnabled:t}=e.state;return t};var r=e("../../../../shared/modules/selectors/networks"),i=e("../../../../shared/constants/app"),o=e("../../../../shared/lib/trust-signals")}}},{package:"$root$",file:"app/scripts/lib/trust-signals/trust-signals-util.ts"}],[3650,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFullPath=void 0;n.isFullPath=e=>/^(\/|([a-zA-Z]:\\))/.test(e)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isFullPath.js"}],[3651,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHex=void 0;n.isHex=e=>/^(0x|0X)?[0-9A-Fa-f]+$/g.test(e)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isHex.js"}],[3652,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNotUndefined=void 0;n.isNotUndefined=e=>void 0!==e}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isNotUndefined.js"}],[3653,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isUrlWithQuery=n.isUrl=void 0;const r=/^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?(\/[a-z0-9-_]+)*\/?$/i,i=/^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?(\/[a-z0-9-_]+)*\/?(\?[a-z0-9-_]+=[a-z0-9-_]+(&[a-z0-9-_]+=[a-z0-9-_]+)*)?$/i;n.isUrl=e=>r.test(e);n.isUrlWithQuery=e=>i.test(e)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isUrl.js"}],[3654,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isWhitelistedHost=void 0;n.isWhitelistedHost=(e,t=["127.0.0.1","localhost"])=>"string"==typeof e&&(""!==e.trim()&&t.some(t=>t===e||e.endsWith(`.${t}`)))}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isWhitelistedHost.js"}],[3655,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Log=void 0;n.Log=class{prefix;enabled;css="";messages;logWriter;MAX_ENTRIES=100;constructor(e,t,n){this.prefix=e,this.enabled=t,this.messages=[],n&&(this.logWriter=n)}setColors(e){this.css="undefined"!=typeof window&&e[this.prefix]?e[this.prefix]:""}addMessage({level:e,prefix:t,timestamp:n},...r){const i={level:e,prefix:t,css:this.css,message:r,timestamp:n||Date.now()};if(this.messages.push(i),this.logWriter)try{this.logWriter.add(i)}catch(e){console.error("There was an error adding log message",e,i)}this.messages.length>this.MAX_ENTRIES&&this.messages.shift()}setWriter(e){this.logWriter=e}log(...e){this.addMessage({level:"log",prefix:this.prefix},...e),this.enabled&&console.log(`%c${this.prefix}`,this.css,...e)}error(...e){this.addMessage({level:"error",prefix:this.prefix},...e),this.enabled&&console.error(`%c${this.prefix}`,this.css,...e)}info(...e){this.addMessage({level:"info",prefix:this.prefix},...e),this.enabled&&console.info(`%c${this.prefix}`,this.css,...e)}warn(...e){this.addMessage({level:"warn",prefix:this.prefix},...e),this.enabled&&console.warn(`%c${this.prefix}`,this.css,...e)}debug(...e){this.addMessage({level:"debug",prefix:this.prefix},...e),this.enabled&&(this.css?console.log(`%c${this.prefix}`,this.css,...e):console.log(this.prefix,...e))}getLog(){return this.messages}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/logs.js"}],[3656,{"./logs":3655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LogsManager=void 0;const r=e("./logs");n.LogsManager=class{logs={};writer;colors={};constructor({colors:e}){this.colors=e}initLog(e,t,n){const i=n||this.writer,o=new r.Log(e,!!t,i);return this.colors&&o.setColors(this.colors),this.logs[e]=o,o}setLogWriter(e){Object.keys(this.logs).forEach(t=>{if(this.writer=e(),this.writer){this.logs[t].setWriter(this.writer);const{messages:e}=this.logs[t];e.forEach(e=>{this.writer?.add(e)})}})}enableLog(e){Object.keys(this.logs).forEach(t=>{this.logs[t].enabled=!!e})}enableLogByPrefix(e,t){this.logs[e]&&(this.logs[e].enabled=t)}getLog(){let e=[];return Object.keys(this.logs).forEach(t=>{e=e.concat(this.logs[t].messages)}),e.sort((e,t)=>e.timestamp-t.timestamp),e}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/logsManager.js"}],[3657,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeDeepObject=void 0;const r=e=>{if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1},i=(e,t,[n,...a])=>n===undefined?o(e,t):r(e)?{...e,[n]:i(e[n],t,a)}:{[n]:i({},t,a)},o=(e,t)=>Array.isArray(e)&&Array.isArray(t)?n.mergeDeepObject.options.mergeArrays?Array.from(new Set(e.concat(t))):t:r(e)&&r(t)?(0,n.mergeDeepObject)(e,t):t;n.mergeDeepObject=(...e)=>e.reduce((e,t)=>{if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach(r=>{if(!["__proto__","constructor","prototype"].includes(r))if(n.mergeDeepObject.options.dotNotation){const[n,...o]=r.split(".");e[n]=i(e[n],t[r],o)}else e[r]=o(e[r],t[r])}),e},{});const a={mergeArrays:!0,dotNotation:!1};n.mergeDeepObject.options=a,n.mergeDeepObject.withOptions=(e,...t)=>{n.mergeDeepObject.options={...a,...e};const r=(0,n.mergeDeepObject)(...t);return n.mergeDeepObject.options=a,r}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/mergeDeepObject.js"}],[3658,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.objectPartition=void 0;n.objectPartition=(e,t)=>t.reduce(([e,t],n)=>{const{[n]:r,...i}=t;return void 0!==r?[{...e,[n]:r},i]:[e,t]},[{},e])}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/objectPartition.js"}],[3659,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseElectrumUrl=void 0;const r=/^(?:([a-zA-Z0-9.-]+)|\[([a-f0-9:]+)\]):([0-9]{1,5}):([ts])$/;n.parseElectrumUrl=e=>{const t=e.match(r);return t?{host:t[1]??t[2],port:Number.parseInt(t[3],10),protocol:t[4]}:undefined}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/parseElectrumUrl.js"}],[366,{loglevel:4948},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updateRemoteFeatureFlags=async function(e){try{const t=e.remoteFeatureFlagController;await t.updateRemoteFeatureFlags()}catch(e){i.default.error("Error initializing remote feature flags:",e)}};var r,i=(r=e("loglevel"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"app/scripts/lib/update-remote-feature-flags.ts"}],[3660,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseHostname=void 0;const r=/^([a-z0-9.+-]+:\/\/)?([a-z0-9.-]+)([:/][^:/]+)*\/?$/i;n.parseHostname=e=>e.match(r)?.[2]?.toLowerCase()}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/parseHostname.js"}],[3661,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.promiseAllSequence=void 0;n.promiseAllSequence=async e=>{const t=[];for(let n=0;n<e.length;++n){const r=await e[n]();t.push(r)}return t}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/promiseAllSequence.js"}],[3662,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.redactUserPathFromString=n.startOfUserPathRegex=void 0,n.startOfUserPathRegex=/([/\\][Uu]sers[/\\]{1,4})([^"^'^[^\]^/^\\]*)/g;n.redactUserPathFromString=e=>e.replace(n.startOfUserPathRegex,"$1[*]")}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/redactUserPath.js"}],[3663,{"./createDeferred":3632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveAfter=void 0;const r=e("./createDeferred");n.resolveAfter=(e,t,n)=>{const{promise:i,reject:o,resolve:a}=(0,r.createDeferred)(),s=setTimeout(a,e,n),c=()=>o(t?.reason);return t?.addEventListener("abort",c),t?.aborted&&c(),i.finally(()=>{clearTimeout(s),t?.removeEventListener("abort",c)})}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/resolveAfter.js"}],[3664,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.scheduleAction=n.ScheduleActionDeadlineError=n.SCHEDULE_ACTION_DEADLINE_ERROR_MESSAGE=n.ScheduleActionTimeoutError=n.SCHEDULE_ACTION_TIMEOUT_ERROR_MESSAGE=n.RejectWhenAbortedError=n.SCHEDULE_ACTION_ABORTED_ERROR_MESSAGE=void 0;const r=e=>Array.isArray(e),i=(e,t)=>new Promise((n,r)=>{if(t.aborted)return r();if(e===undefined)return n();let i;const o=()=>{clearTimeout(i),t.removeEventListener("abort",o),r()};i=setTimeout(()=>{t.removeEventListener("abort",o),n()},e),t.addEventListener("abort",o)}),o=(e,t,n)=>new Promise((r,i)=>{if(n.aborted)return i();let o;const a=()=>{clearTimeout(o),n.removeEventListener("abort",a),i()};o=setTimeout(()=>{n.removeEventListener("abort",a),i(t)},e),n.addEventListener("abort",a)}),a=(e,t,n)=>e===undefined?[]:[o(e,t,n)];n.SCHEDULE_ACTION_ABORTED_ERROR_MESSAGE="Aborted by signal";class s extends Error{constructor(){super(n.SCHEDULE_ACTION_ABORTED_ERROR_MESSAGE)}}n.RejectWhenAbortedError=s;const c=(e,t)=>new Promise((n,r)=>{const i=new s;if(t.aborted)return r(i);if(e?.aborted)return r(i);const o=()=>r(i);e?.addEventListener("abort",o);const a=()=>{e?.removeEventListener("abort",o),t.removeEventListener("abort",a),r()};t.addEventListener("abort",a)}),u=async(e,t)=>{const n=new AbortController;t.aborted&&n.abort();const r=()=>{t.removeEventListener("abort",r),n.abort()};t.addEventListener("abort",r);try{return await new Promise(t=>t(e(n.signal)))}finally{t.aborted||t.removeEventListener("abort",r)}};n.SCHEDULE_ACTION_TIMEOUT_ERROR_MESSAGE="Aborted by timeout";class l extends Error{constructor(){super(n.SCHEDULE_ACTION_TIMEOUT_ERROR_MESSAGE)}}n.ScheduleActionTimeoutError=l,n.SCHEDULE_ACTION_DEADLINE_ERROR_MESSAGE="Aborted by deadline";class p extends Error{constructor(){super(n.SCHEDULE_ACTION_DEADLINE_ERROR_MESSAGE)}}n.ScheduleActionDeadlineError=p;n.scheduleAction=async(e,t)=>{const{signal:n,delay:o,attempts:s,timeout:d,deadline:y,gap:m,attemptFailureHandler:f}=t,h=y&&y-Date.now(),T=r(s)?s.length:s??(y?Infinity:1),g=new AbortController,b=g.signal,_=r(s)?e=>s[e]:()=>({timeout:d,gap:m}),O=new p,w=new l;try{return await Promise.race([c(n,b),...a(h,O,b),i(o,b).then(()=>(async(e,t,n,r)=>{for(let i=0;i<e-1&&!r.aborted;i++){const e=new AbortController,o=()=>e.abort();r.addEventListener("abort",o);try{return await t(i,e.signal)}catch(e){o(),await n(i,e)}finally{r.removeEventListener("abort",o)}}return r.aborted?Promise.reject():t(e-1,r)})(T,(t,n)=>Promise.race([...a(_(t).timeout,w,b),u(e,n)]),(e,t)=>{const n=f?.(t);return n?Promise.reject(n):i(_(e).gap??0,b)},b))])}finally{g.abort()}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/scheduleAction.js"}],[3665,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serializeError=void 0;n.serializeError=e=>e instanceof Error?JSON.stringify({message:e.toString(),stackTrace:e.stack}):"object"==typeof e?JSON.stringify(e):`${e}`}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/serializeError.js"}],[3666,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.splitStringEveryNCharacters=function(e,t){if(0===t)return[];const n=new RegExp(`.{1,${t}}`,"g");return e.match(n)??[]}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/splitStringEveryNCharacters.js"}],[3667,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Throttler=void 0;n.Throttler=class{delay;intervals;callbacks;constructor(e){this.delay=e,this.intervals={},this.callbacks={}}throttle(e,t){this.intervals[e]?this.callbacks[e]=t:(t(),this.intervals[e]=setInterval(()=>this.tick(e),this.delay))}tick(e){this.callbacks[e]?(this.callbacks[e](),delete this.callbacks[e]):this.cancel(e)}cancel(e){clearInterval(this.intervals[e]),delete this.intervals[e],delete this.callbacks[e]}dispose(){Object.keys(this.intervals).forEach(this.cancel,this)}}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/throttler.js"}],[3668,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.throwError=void 0;n.throwError=e=>{throw new Error(e)}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/throwError.js"}],[3669,{"./arrayPartition":3618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.topologicalSort=void 0;const r=e("./arrayPartition");n.topologicalSort=(e,t,n)=>{const i=[],o=e=>(0,r.arrayPartition)(e,n=>!e.some(e=>t(e,n)));let a=e;for(;a.length;){const[e,t]=o(a);if(!e.length)throw new Error("Cycle detected");i.push(...n?e.sort(n):e),a=t}return i}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/topologicalSort.js"}],[367,{"../../../shared/modules/environment":6019,"@metamask/utils":3207,"webextension-polyfill":5864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSplitStateStorage=async function(e){var t;if((0,a.getIsSettingsPageDevOptionsEnabled)()){const t=await async function(){const{splitStateMigrationEnabled:e,splitStateMigrationMaxAccounts:t,splitStateMigrationMaxNetworks:n}=await i.default.storage.local.get(["splitStateMigrationEnabled","splitStateMigrationMaxAccounts","splitStateMigrationMaxNetworks"]);return{enabled:e===undefined?null:"1"===e,maxAccounts:t===undefined?0:Number(t),maxNetworks:n===undefined?0:Number(n)}}();if(null!==t.enabled){if(!1===t.enabled)return!1;const{accountCount:n,networkCount:r}=s(e);return n<=t.maxAccounts&&r<=t.maxNetworks}}const n=e.RemoteFeatureFlagController,r=null==n||null===(t=n.remoteFeatureFlags)||void 0===t?void 0:t.platformSplitStateGradualRollout;if(!function(e){return(0,o.isObject)(e)&&(0,o.hasProperty)(e,"value")&&(0,o.isObject)(e.value)&&(0,o.hasProperty)(e.value,"enabled")&&"number"==typeof e.value.enabled&&(0,o.hasProperty)(e.value,"maxAccounts")&&"number"==typeof e.value.maxAccounts&&(0,o.hasProperty)(e.value,"maxNetworks")&&"number"==typeof e.value.maxNetworks}(r)||r.value.enabled<=0)return!1;const{accountCount:c,networkCount:u}=s(e);return c<=r.value.maxAccounts&&u<=r.value.maxNetworks};var r,i=(r=e("webextension-polyfill"))&&r.__esModule?r:{default:r},o=e("@metamask/utils"),a=e("../../../shared/modules/environment");function s(e){var t;const n=e.AccountsController,r=Object.keys((null==n||null===(t=n.internalAccounts)||void 0===t?void 0:t.accounts)??{}).length,i=e.NetworkController;return{accountCount:r,networkCount:Object.keys((null==i?void 0:i.networkConfigurationsByChainId)??{}).length}}}}},{package:"$root$",file:"app/scripts/lib/use-split-state-storage.ts"}],[3670,{events:4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypedEmitter=void 0;const r=e("events");class i extends r.EventEmitter{listenerCount(e){return super.listenerCount(e)}}n.TypedEmitter=i}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/typedEventEmitter.js"}],[3671,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.typedObjectKeys=void 0;n.typedObjectKeys=e=>Object.keys(e)}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/typedObjectKeys.js"}],[3672,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.urlToOnion=void 0;n.urlToOnion=(e,t)=>{const[,n,r,i,o]=e.match(/^(http|ws)s?:\/\/([^:/]+\.)?([^/.]+\.[^/.]+)(\/.*)?$/i)??[];if(i&&t[i])return`${n}://${r??""}${t[i]}${o??""}`}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/urlToOnion.js"}],[3673,{"./throwError":3668},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeVersion=n.isNewerOrEqual=n.isEqual=n.isNewer=n.isVersionArray=void 0;const r=e("./throwError");n.isVersionArray=e=>Array.isArray(e)&&3===e.length&&e.every(e=>"number"==typeof e&&e>=0);const i=e=>("string"==typeof e?(e=>e.match(/^(\d+)\.(\d+)\.(\d+)([+-].*)?$/)?.slice(1,4).map(e=>Number(e)))(e):(e=>(0,n.isVersionArray)(e)?e:null)(e))??(0,r.throwError)(`version string is in wrong format: ${e}`),o=([e,t,n],[r,i,o])=>e-r||t-i||n-o;n.isNewer=(e,t)=>o(i(e),i(t))>0;n.isEqual=(e,t)=>0===o(i(e),i(t));n.isNewerOrEqual=(e,t)=>o(i(e),i(t))>=0;n.normalizeVersion=e=>e.replace(/\b0+(\d)/g,"$1")}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/versionUtils.js"}],[3674,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.inDoubleQuotes=n.inSingleQuotes=n.inHTML=void 0;const r=/</g,i=/'/g,o=/"/g;n.inHTML=e=>e.replace(r,"&lt;");n.inSingleQuotes=e=>e.replace(i,"&#39;");n.inDoubleQuotes=e=>e.replace(o,"&quot;")}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/xssFilters.js"}],[3675,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createZip=void 0;n.createZip=e=>{const t=[],n=[];let r=0;e.forEach(({name:e,content:i})=>{const o=i,a=new Uint8Array(30+e.length),s=new DataView(a.buffer);s.setUint32(0,67324752,!0),s.setUint16(4,0,!0),s.setUint16(6,0,!0),s.setUint16(8,0,!0),s.setUint16(10,0,!0),s.setUint16(12,0,!0),s.setUint32(14,0,!0),s.setUint32(18,o.byteLength,!0),s.setUint32(22,o.byteLength,!0),s.setUint16(26,e.length,!0),a.set((new TextEncoder).encode(e),30),t.push(a,o);const c=new Uint8Array(46+e.length),u=new DataView(c.buffer);u.setUint32(0,33639248,!0),u.setUint16(4,0,!0),u.setUint16(6,0,!0),u.setUint16(8,0,!0),u.setUint16(10,0,!0),u.setUint16(12,0,!0),u.setUint16(14,0,!0),u.setUint32(16,0,!0),u.setUint32(20,o.byteLength,!0),u.setUint32(24,o.byteLength,!0),u.setUint16(28,e.length,!0),u.setUint32(42,r,!0),c.set((new TextEncoder).encode(e),46),n.push(c),r+=a.length+o.byteLength});const i=new Uint8Array(22),o=new DataView(i.buffer);return o.setUint32(0,101010256,!0),o.setUint16(8,n.length,!0),o.setUint16(10,n.length,!0),o.setUint32(12,n.reduce((e,t)=>e+t.byteLength,0),!0),o.setUint32(16,r,!0),new Blob([...t,...n,i],{type:"application/zip"})}}}},{package:"@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/zip.js"}],[3676,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,y=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function h(e,t){var n,r,i=e.c,o=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=i.length)<(u=o.length)?c:u,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function T(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return m(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,O,w,v,S,x,E,P,I,j,A=q.prototype={constructor:q,toString:null,valueOf:null},k=new q(1),M=20,C=4,R=-7,N=21,z=-1e7,D=1e7,U=!1,B=1,L=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function q(e,t){var n,i,a,c,p,d,y,m,f=this;if(!(f instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>D?f.c=f.e=null:e.e<z?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,p=e;p>=10;p/=10,c++);return void(c>D?f.c=f.e=null:(f.e=c,f.c=[e]))}m=String(e)}else{if(!r.test(m=String(e)))return w(f,m,d);f.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(c=m.indexOf("."))>-1&&(m=m.replace(".","")),(p=m.search(/e/i))>0?(c<0&&(c=p),c+=+m.slice(p+1),m=m.substring(0,p)):c<0&&(c=m.length)}else{if(T(t,2,G.length,"Base"),10==t&&$)return V(f=new q(e),M+f.e+1,C);if(m=String(e),d="number"==typeof e){if(0*e!=0)return w(f,m,d,t);if(f.s=1/e<0?(m=m.slice(1),-1):1,q.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(s+e)}else f.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=G.slice(0,t),c=p=0,y=m.length;p<y;p++)if(n.indexOf(i=m.charAt(p))<0){if("."==i){if(p>c){c=y;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,p=-1,c=0;continue}return w(f,String(e),d,t)}d=!1,(c=(m=O(m,t,10,f.s)).indexOf("."))>-1?m=m.replace(".",""):c=m.length}for(p=0;48===m.charCodeAt(p);p++);for(y=m.length;48===m.charCodeAt(--y););if(m=m.slice(p,++y)){if(y-=p,d&&q.DEBUG&&y>15&&(e>l||e!==o(e)))throw Error(s+f.s*e);if((c=c-p-1)>D)f.c=f.e=null;else if(c<z)f.c=[f.e=0];else{if(f.e=c,f.c=[],p=(c+1)%u,c<0&&(p+=u),p<y){for(p&&f.c.push(+m.slice(0,p)),y-=u;p<y;)f.c.push(+m.slice(p,p+=u));p=u-(m=m.slice(p)).length}else p-=y;for(;p--;m+="0");f.c.push(+m)}}else f.c=[f.e=0]}function H(e,t,n,r){var i,o,a,s,c;if(null==n?n=C:T(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)c=f(e.c),c=1==r||2==r&&(a<=R||a>=N)?b(c,a):_(c,a,"0");else if(o=(e=V(new q(e),t,n)).e,s=(c=f(e.c)).length,1==r||2==r&&(t<=o||o<=R)){for(;s<t;c+="0",s++);c=b(c,o)}else if(t-=a,c=_(c,o,"0"),o+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-s)>0)for(o+1==s&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function W(e,t){for(var n,r,i=1,o=new q(e[0]);i<e.length;i++)(!(r=new q(e[i])).s||(n=h(o,r))===t||0===n&&o.s===t)&&(o=r);return o}function K(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*u-1)>D?e.c=e.e=null:n<z?e.c=[e.e=0]:(e.e=n,e.c=t),e}function V(e,t,n,r){var a,s,l,d,y,m,f,h=e.c,T=p;if(h){e:{for(a=1,d=h[0];d>=10;d/=10,a++);if((s=t-a)<0)s+=u,l=t,y=h[m=0],f=o(y/T[a-l-1]%10);else if((m=i((s+1)/u))>=h.length){if(!r)break e;for(;h.length<=m;h.push(0));y=f=0,a=1,l=(s%=u)-u+1}else{for(y=d=h[m],a=1;d>=10;d/=10,a++);f=(l=(s%=u)-u+a)<0?0:o(y/T[a-l-1]%10)}if(r=r||t<0||null!=h[m+1]||(l<0?y:y%T[a-l-1]),r=n<4?(f||r)&&(0==n||n==(e.s<0?3:2)):f>5||5==f&&(4==n||r||6==n&&(s>0?l>0?y/T[a-l]:0:h[m-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,r?(t-=e.e+1,h[0]=T[(u-t%u)%u],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=m,d=1,m--):(h.length=m+1,d=T[u-s],h[m]=l>0?o(y/T[a-l]%T[l])*d:0),r)for(;;){if(0==m){for(s=1,l=h[0];l>=10;l/=10,s++);for(l=h[0]+=d,d=1;l>=10;l/=10,d++);s!=d&&(e.e++,h[0]==c&&(h[0]=1));break}if(h[m]+=d,h[m]!=c)break;h[m--]=0,d=1}for(s=h.length;0===h[--s];h.pop());}e.e>D?e.c=e.e=null:e.e<z&&(e.c=[e.e=0])}return e}function Y(e){var t,n=e.e;return null===n?e.toString():(t=f(e.c),t=n<=R||n>=N?b(t,n):_(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(T(n=e[t],0,y,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(T(n=e[t],0,8,t),C=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(T(n[0],-y,0,t),T(n[1],0,y,t),R=n[0],N=n[1]):(T(n,-y,y,t),R=-(N=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)T(n[0],-y,-1,t),T(n[1],1,y,t),z=n[0],D=n[1];else{if(T(n,-y,y,t),!n)throw Error(a+t+" cannot be zero: "+n);z=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(a+"crypto unavailable");U=n}else U=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(T(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(T(n=e[t],0,y,t),L=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);F=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);$="0123456789"==n.slice(0,10),G=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:C,EXPONENTIAL_AT:[R,N],RANGE:[z,D],CRYPTO:U,MODULO_MODE:B,POW_PRECISION:L,FORMAT:F,ALPHABET:G}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-y&&i<=y&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return W(arguments,-1)},q.minimum=q.min=function(){return W(arguments,1)},q.random=(v=9007199254740992,S=Math.random()*v&2097151?function(){return o(Math.random()*v)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,s,c,l=0,d=[],m=new q(k);if(null==e?e=M:T(e,0,y),s=i(e/u),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));l<s;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(d.push(c%1e14),l+=2);l=s/2}else{if(!crypto.randomBytes)throw U=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(s*=7);l<s;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(d.push(c%1e14),l+=7);l=s/7}if(!U)for(;l<s;)(c=S())<9e15&&(d[l++]=c%1e14);for(s=d[--l],e%=u,s&&e&&(c=p[u-e],d[l]=o(s/c)*c);0===d[l];d.pop(),l--);if(l<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=u);for(l=1,c=d[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return m.e=r,m.c=d,m}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},O=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,a=[0],s=0,c=e.length;s<c;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(r,i,o,a,s){var c,u,l,p,d,y,m,h,T=r.indexOf("."),g=M,b=C;for(T>=0&&(p=L,L=0,r=r.replace(".",""),y=(h=new q(i)).pow(r.length-T),L=p,h.c=t(_(f(y.c),y.e,"0"),10,o,e),h.e=h.c.length),l=p=(m=t(r,i,o,s?(c=G,e):(c=e,G))).length;0==m[--p];m.pop());if(!m[0])return c.charAt(0);if(T<0?--l:(y.c=m,y.e=l,y.s=a,m=(y=n(y,h,g,b,o)).c,d=y.r,l=y.e),T=m[u=l+g+1],p=o/2,d=d||u<0||null!=m[u+1],d=b<4?(null!=T||d)&&(0==b||b==(y.s<0?3:2)):T>p||T==p&&(4==b||d||6==b&&1&m[u-1]||b==(y.s<0?8:7)),u<1||!m[0])r=d?_(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(m.length=u,d)for(--o;++m[--u]>o;)m[u]=0,u||(++l,m=[1].concat(m));for(p=m.length;!m[--p];);for(T=0,r="";T<=p;r+=c.charAt(m[T++]));r=_(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,a,s=0,c=e.length,u=t%d,l=t/d|0;for(e=e.slice();c--;)s=((i=u*(o=e[c]%d)+(r=l*o+(a=e[c]/d|0)*u)%d*d+s)/n|0)+(r/d|0)+l*a,e[c]=i%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,a,s,l){var p,d,y,f,h,T,g,b,_,O,w,v,S,x,E,P,I,j=r.s==i.s?1:-1,A=r.c,k=i.c;if(!(A&&A[0]&&k&&k[0]))return new q(r.s&&i.s&&(A?!k||A[0]!=k[0]:k)?A&&0==A[0]||!k?0*j:j/0:NaN);for(_=(b=new q(j)).c=[],j=a+(d=r.e-i.e)+1,l||(l=c,d=m(r.e/u)-m(i.e/u),j=j/u|0),y=0;k[y]==(A[y]||0);y++);if(k[y]>(A[y]||0)&&d--,j<0)_.push(1),f=!0;else{for(x=A.length,P=k.length,y=0,j+=2,(h=o(l/(k[0]+1)))>1&&(k=e(k,h,l),A=e(A,h,l),P=k.length,x=A.length),S=P,w=(O=A.slice(0,P)).length;w<P;O[w++]=0);I=k.slice(),I=[0].concat(I),E=k[0],k[1]>=l/2&&E++;do{if(h=0,(p=t(k,O,P,w))<0){if(v=O[0],P!=w&&(v=v*l+(O[1]||0)),(h=o(v/E))>1)for(h>=l&&(h=l-1),g=(T=e(k,h,l)).length,w=O.length;1==t(T,O,g,w);)h--,n(T,P<g?I:k,g,l),g=T.length,p=1;else 0==h&&(p=h=1),g=(T=k.slice()).length;if(g<w&&(T=[0].concat(T)),n(O,T,w,l),w=O.length,-1==p)for(;t(k,O,P,w)<1;)h++,n(O,P<w?I:k,w,l),w=O.length}else 0===p&&(h++,O=[0]);_[y++]=h,O[0]?O[w++]=A[S]||0:(O=[A[S]],w=1)}while((S++<x||null!=O[0])&&j--);f=null!=O[0],_[0]||_.splice(0,1)}if(l==c){for(y=1,j=_[0];j>=10;j/=10,y++);V(b,a+(b.e=y+d*u-1)+1,s,f)}else b.e=d,b.r=+f;return b}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,P=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g,w=function(e,t,n,r){var i,o=n?t:t.replace(j,"");if(I.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(x,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,o=o.replace(E,"$1").replace(P,"0.$1")),t!=o))return new q(o,i);if(q.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return h(this,new q(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,r,i,o=this;if(null!=e)return T(e,0,y),null==t?t=C:T(t,0,8),V(new q(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-m(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},A.dividedBy=A.div=function(e,t){return n(this,new q(e,t),M,C)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new q(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,r,s,c,l,p,d,y,m=this;if((e=new q(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new q(t)),l=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return y=new q(Math.pow(+Y(m),l?e.s*(2-g(e)):+Y(e))),t?y.mod(t):y;if(p=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!p&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||l&&m.c[1]>=24e7:m.c[0]<8e13||l&&m.c[0]<=9999975e7)))return c=m.s<0&&g(e)?-0:0,m.e>-1&&(c=1/c),new q(p?1/c:c);L&&(c=i(L/u+2))}for(l?(n=new q(.5),p&&(e.s=1),d=g(e)):d=(s=Math.abs(+Y(e)))%2,y=new q(k);;){if(d){if(!(y=y.times(m)).c)break;c?y.c.length>c&&(y.c.length=c):r&&(y=y.mod(t))}if(s){if(0===(s=o(s/2)))break;d=s%2}else if(V(e=e.times(n),e.e+1,1),e.e>14)d=g(e);else{if(0===(s=+Y(e)))break;d=s%2}m=m.times(m),c?m.c&&m.c.length>c&&(m.c.length=c):r&&(m=m.mod(t))}return r?y:(p&&(y=k.div(y)),t?y.mod(t):c?V(y,L,C,undefined):y)},A.integerValue=function(e){var t=new q(this);return null==e?e=C:T(e,0,8),V(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===h(this,new q(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return h(this,new q(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=h(this,new q(e,t)))||0===t},A.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return h(this,new q(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=h(this,new q(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,r,i,o,a=this,s=a.s;if(t=(e=new q(e,t)).s,!s||!t)return new q(NaN);if(s!=t)return e.s=-t,a.plus(e);var l=a.e/u,p=e.e/u,d=a.c,y=e.c;if(!l||!p){if(!d||!y)return d?(e.s=-t,e):new q(y?a:NaN);if(!d[0]||!y[0])return y[0]?(e.s=-t,e):new q(d[0]?a:3==C?-0:0)}if(l=m(l),p=m(p),d=d.slice(),s=l-p){for((o=s<0)?(s=-s,i=d):(p=l,i=y),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(r=(o=(s=d.length)<(t=y.length))?s:t,s=t=0;t<r;t++)if(d[t]!=y[t]){o=d[t]<y[t];break}if(o&&(i=d,d=y,y=i,e.s=-e.s),(t=(r=y.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=c-1;r>s;){if(d[--r]<y[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=c}d[r]-=y[r]}for(;0==d[0];d.splice(0,1),--p);return d[0]?K(e,d,p):(e.s=3==C?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,i,o=this;return e=new q(e,t),!o.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||o.c&&!o.c[0]?new q(o):(9==B?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,B),(e=o.minus(r.times(e))).c[0]||1!=B||(e.s=o.s),e)},A.multipliedBy=A.times=function(e,t){var n,r,i,o,a,s,l,p,y,f,h,T,g,b,_,O=this,w=O.c,v=(e=new q(e,t)).c;if(!(w&&v&&w[0]&&v[0]))return!O.s||!e.s||w&&!w[0]&&!v||v&&!v[0]&&!w?e.c=e.e=e.s=null:(e.s*=O.s,w&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(O.e/u)+m(e.e/u),e.s*=O.s,(l=w.length)<(f=v.length)&&(g=w,w=v,v=g,i=l,l=f,f=i),i=l+f,g=[];i--;g.push(0));for(b=c,_=d,i=f;--i>=0;){for(n=0,h=v[i]%_,T=v[i]/_|0,o=i+(a=l);o>i;)n=((p=h*(p=w[--a]%_)+(s=T*p+(y=w[a]/_|0)*h)%_*_+g[o]+n)/b|0)+(s/_|0)+T*y,g[o--]=p%b;g[o]=n}return n?++r:g.splice(0,1),K(e,g,r)},A.negated=function(){var e=new q(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,a=e.e/u,s=r.c,l=e.c;if(!o||!a){if(!s||!l)return new q(i/0);if(!s[0]||!l[0])return l[0]?e:new q(s[0]?r:0*i)}if(o=m(o),a=m(a),s=s.slice(),i=o-a){for(i>0?(a=o,n=l):(i=-i,n=s),n.reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(t=l.length)<0&&(n=l,l=s,s=n,t=i),i=0;t;)i=(s[--t]=s[t]+l[t]+i)/c|0,s[t]=c===s[t]?0:s[t]%c;return i&&(s=[i].concat(s),++a),K(e,s,a)},A.precision=A.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return T(e,1,y),null==t?t=C:T(t,0,8),V(new q(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},A.shiftedBy=function(e){return T(e,-9007199254740991,l),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,i,o,a=this,s=a.c,c=a.s,u=a.e,l=M+4,p=new q("0.5");if(1!==c||!s||!s[0])return new q(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+Y(a)))||c==1/0?(((t=f(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=m((u+1)/2)-(u<0||u%2),r=new q(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new q(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(o=r,r=p.times(o.plus(n(a,o,l,1))),f(o.c).slice(0,c)===(t=f(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(r,r.e+M+2,1),e=!r.times(r).eq(a));break}if(!i&&(V(o,o.e+M+2,0),o.times(o).eq(a))){r=o;break}l+=4,c+=4,i=1}return V(r,r.e+M+1,C,e)},A.toExponential=function(e,t){return null!=e&&(T(e,0,y),e++),H(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(T(e,0,y),e=e+this.e+1),H(this,e,t)},A.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=F;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,s=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",p=s[0],d=s[1],y=i.s<0,m=y?p.slice(1):p,f=m.length;if(u&&(o=c,c=u,u=o,f-=o),c>0&&f>0){for(o=f%c||c,p=m.substr(0,o);o<f;o+=c)p+=l+m.substr(o,c);u>0&&(p+=l+m.slice(o)),y&&(p="-"+p)}r=d?p+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):p}return(n.prefix||"")+r+(n.suffix||"")},A.toFraction=function(e){var t,r,i,o,s,c,l,d,y,m,h,T,g=this,b=g.c;if(null!=e&&(!(l=new q(e)).isInteger()&&(l.c||1!==l.s)||l.lt(k)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!b)return new q(g);for(t=new q(k),y=r=new q(k),i=d=new q(k),T=f(b),s=t.e=T.length-g.e-1,t.c[0]=p[(c=s%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?s>0?t:y:l,c=D,D=1/0,l=new q(T),d.c[0]=0;m=n(l,t,0,1),1!=(o=r.plus(m.times(i))).comparedTo(e);)r=i,i=o,y=d.plus(m.times(o=y)),d=o,t=l.minus(m.times(o=t)),l=o;return o=n(e.minus(r),i,0,1),d=d.plus(o.times(y)),r=r.plus(o.times(i)),d.s=y.s=g.s,h=n(y,i,s*=2,C).minus(g).abs().comparedTo(n(d,r,s,C).minus(g).abs())<1?[y,i]:[d,r],D=c,h},A.toNumber=function(){return+Y(this)},A.toPrecision=function(e,t){return null!=e&&T(e,1,y),H(this,e,t,2)},A.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=R||i>=N?b(f(n.c),i):_(f(n.c),i,"0"):10===e&&$?t=_(f((n=V(new q(n),M+i+1,C)).c),n.e,"0"):(T(e,2,G.length,"Base"),t=O(_(f(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return Y(this)},A._isBigNumber=!0,null!=t&&q.set(t),q}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@trezor/connect-web>@trezor/utils>bignumber.js",file:"node_modules/@trezor/utils/node_modules/bignumber.js/bignumber.js"}],[3677,{"@trezor/utils":3648,tslib:5790,ws:3679},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WebsocketClient=n.WebsocketError=void 0;const r=e("tslib").__importDefault(e("ws")),i=e("@trezor/utils");class o extends Error{}n.WebsocketError=o;class a extends i.TypedEmitter{options;messages;emitter=this;ws;pingTimeout;connectPromise;ping(){return this.sendMessage({type:"ping"})}constructor(e){super(),this.options=e,this.messages=(0,i.createDeferredManager)({timeout:this.options.timeout||2e4,onTimeout:this.onTimeout.bind(this)})}initWebsocket({url:e,timeout:t,headers:n,agent:i}){if("string"!=typeof e)throw new o("websocket_no_url");return e.startsWith("http")&&(e=e.replace("http","ws")),new r.default(e,{timeout:t,headers:{Origin:"https://node.trezor.io",...n},agent:i})}setPingTimeout(){clearTimeout(this.pingTimeout);this.pingTimeout=this.isConnected()?setTimeout(()=>{if(this.isConnected())return this.onPing().catch(()=>{})},this.options.pingTimeout||5e4):undefined}onPing(){return this.ping()}onTimeout(){const{ws:e}=this;e&&(this.messages.rejectAll(new o("websocket_timeout")),e.close())}onError(){this.onClose()}sendMessage(e,{timeout:t}={}){const{ws:n}=this;if(!n||!this.isConnected())throw new o("websocket_not_initialized");const{promiseId:r,promise:i}=this.messages.create(t),a={id:r.toString(),...e};return this.setPingTimeout(),this.options.onSending?.(e),n.send(JSON.stringify(a)),i}sendRawMessage(e){const{ws:t}=this;if(!t||!this.isConnected())throw new o("websocket_not_initialized");t.send(e,{binary:"string"!=typeof e}),this.setPingTimeout()}onMessage(e,t){try{const n=JSON.parse(e.toString()),r=Number(n.id);try{const e=t?t(n):n;e&&this.messages.resolve(r,e)}catch(e){this.messages.reject(r,e)}}catch{}finally{this.setPingTimeout()}}async connect(){if(this.connectPromise)return this.connectPromise;if(this.isConnected())return Promise.resolve();this.ws?.readyState===r.default.CLOSING&&await new Promise(e=>this.emitter.once("disconnected",e));const e=(0,i.createDeferred)();this.connectPromise=e.promise;const t=this.createWebsocket?this.createWebsocket():this.initWebsocket(this.options),n=setTimeout(()=>{this.onClose(),e.reject(new o("websocket_timeout"));try{t.close()}catch{}},this.options.connectionTimeout||this.options.timeout||2e4);return t.once("error",t=>{clearTimeout(n),this.onClose(),e.reject(new o(t.message))}),t.on("open",()=>{clearTimeout(n),this.init(),e.resolve()}),this.ws=t,e.promise.finally(()=>{this.connectPromise=undefined})}init(){const{ws:e}=this;if(!e||!this.isConnected())throw Error("Websocket init cannot be called");e.removeAllListeners(),e.on("error",e=>this.onError()),e.on("message",e=>this.onMessage(e)),e.on("close",()=>{this.emitter.emit("disconnected"),this.onClose()})}disconnect(){if(this.isConnected()){const e=new Promise(e=>{this.ws?.once("close",e)});return this.ws?.close(),e}return Promise.resolve()}isConnected(){return this.ws?.readyState===r.default.OPEN}onClose(){clearTimeout(this.pingTimeout),this.ws?.removeAllListeners(),this.ws?.on("error",()=>{}),this.messages.rejectAll(new o("Websocket closed unexpectedly"))}dispose(){this.removeAllListeners(),this.disconnect(),this.onClose()}}n.WebsocketClient=a}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/blockchain-link>@trezor/websocket-client",file:"node_modules/@trezor/websocket-client/lib/client.js"}],[3678,{"./client":3677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WebsocketClient=void 0;var r=e("./client");Object.defineProperty(n,"WebsocketClient",{enumerable:!0,get:function(){return r.WebsocketClient}})}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/blockchain-link>@trezor/websocket-client",file:"node_modules/@trezor/websocket-client/lib/index.js"}],[3679,{"./client":3677,events:4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("events"),i=e("./client");class o extends r.EventEmitter{_ws;static CONNECTING=0;static OPEN=1;static CLOSING=2;static CLOSED=3;constructor(e,t,n){super(),this._ws=new WebSocket(e),this._ws.onclose=()=>{this.emit("close")},this._ws.onopen=()=>{this.emit("open")},this._ws.onerror=e=>{this.emit("error",new i.WebsocketError(`WsWrapper error. Ready state: ${this.readyState}`))},this._ws.onmessage=e=>{this.emit("message",e.data)}}close(){this.readyState===o.OPEN&&this._ws.close()}send(e){if(this.readyState!==o.OPEN)throw new i.WebsocketError(`Connection is not open. state: ${this.readyState}`);this._ws.send(e)}get readyState(){return this._ws.readyState}}n.default=o}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/blockchain-link>@trezor/websocket-client",file:"node_modules/@trezor/websocket-client/lib/ws-browser.js"}],[3681,{"./types.js":3682},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./types.js");const i={type:"xstate.init"},o="xstate.assign";function a(e){return e===undefined?[]:[].concat(e)}function s(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function c(e){return t=>e===t}function u(e){return"string"==typeof e?{type:e}:e}function l(e,t){return{value:e,context:t,actions:[],changed:!1,matches:c(e)}}function p(e,t,n){let r=t,i=!1;return[e.filter(e=>{if(e.type===o){i=!0;let t=Object.assign({},r);return"function"==typeof e.assignment?t=e.assignment(r,n):Object.keys(e.assignment).forEach(i=>{t[i]="function"==typeof e.assignment[i]?e.assignment[i](r,n):e.assignment[i]}),r=t,!1}return!0}),r,i]}const d=(e,t)=>e.actions.forEach(({exec:n})=>n&&n(e.context,t));Object.defineProperty(n,"InterpreterStatus",{enumerable:!0,get:function(){return r.InterpreterStatus}}),n.assign=function(e){return{type:o,assignment:e}},n.createMachine=function(e,t={}){const[n,r]=p(a(e.states[e.initial].entry).map(e=>s(e,t.actions)),e.context,i),o={config:e,_options:t,initialState:{value:e.initial,actions:n,context:r,matches:c(e.initial)},transition:(t,n)=>{const{value:r,context:i}="string"==typeof t?{value:t,context:e.context}:t,d=u(n),y=e.states[r];if(y.on){const t=a(y.on[d.type]);for(const n of t){if(n===undefined)return l(r,i);const{target:t,actions:u=[],cond:m=()=>!0}="string"==typeof n?{target:n}:n,f=t===undefined,h=null!=t?t:r,T=e.states[h];if(m(i,d)){const e=(f?a(u):[].concat(y.exit,u,T.entry).filter(e=>e)).map(e=>s(e,o._options.actions)),[n,l,m]=p(e,i,d),h=null!=t?t:r;return{value:h,context:l,actions:n,changed:t!==r||n.length>0||m,matches:c(h)}}}}return l(r,i)}};return o},n.interpret=function(e){let t=e.initialState,n=r.InterpreterStatus.NotStarted;const o=new Set,a={_machine:e,send:i=>{n===r.InterpreterStatus.Running&&(t=e.transition(t,i),d(t,u(i)),o.forEach(e=>e(t)))},subscribe:e=>(o.add(e),e(t),{unsubscribe:()=>o.delete(e)}),start:o=>{if(o){const n="object"==typeof o?o:{context:e.config.context,value:o};t={value:n.value,actions:[],context:n.context,matches:c(n.value)}}else t=e.initialState;return n=r.InterpreterStatus.Running,d(t,i),a},stop:()=>(n=r.InterpreterStatus.Stopped,o.clear(),a),get state(){return t},get status(){return n}};return a}}}},{package:"@metamask/snaps-controllers>@xstate/fsm",file:"node_modules/@xstate/fsm/lib/index.js"}],[3682,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.InterpreterStatus=void 0,(r=n.InterpreterStatus||(n.InterpreterStatus={}))[r.NotStarted=0]="NotStarted",r[r.Running=1]="Running",r[r.Stopped=2]="Stopped"}}},{package:"@metamask/snaps-controllers>@xstate/fsm",file:"node_modules/@xstate/fsm/lib/types.js"}]],[],{});