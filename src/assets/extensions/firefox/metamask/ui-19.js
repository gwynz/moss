LavaPack.loadBundle([[8083,{"../../../../../shared/constants/metametrics":5892,"../../../../../shared/constants/network":5896,"../../../../../shared/lib/network-utils":5988,"../../../../../shared/lib/only-keep-host":5989,"../../../../../shared/modules/conversion.utils":6015,"../../../../../shared/modules/network.utils":6027,"../../../../../shared/modules/rpc.utils":6030,"../../../../../shared/modules/selectors/networks":6034,"../../../../components/component-library":6633,"../../../../components/multichain/dropdown-editor/dropdown-editor":6833,"../../../../components/multichain/network-list-menu/rpc-list-item":6878,"../../../../contexts/metametrics":7110,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../selectors":8207,"../../../../store/actions":8241,"./use-safe-chains":8084,"@metamask/controller-utils":1488,"@metamask/network-controller":2426,"@metamask/utils":3207,loglevel:4948,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.NetworksForm=void 0;var n,s=(n=e("loglevel"))&&n.__esModule?n:{default:n},r=k(e("react")),o=e("react-redux"),l=e("@metamask/network-controller"),i=e("@metamask/utils"),c=e("@metamask/controller-utils"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../../shared/constants/network"),m=e("../../../../../shared/modules/conversion.utils"),p=e("../../../../../shared/modules/network.utils"),f=e("../../../../../shared/modules/rpc.utils"),h=e("../../../../../shared/lib/network-utils"),g=e("../../../../contexts/metametrics"),E=e("../../../../hooks/useI18nContext"),_=e("../../../../../shared/modules/selectors/networks"),y=e("../../../../store/actions"),S=e("../../../../components/component-library"),T=e("../../../../helpers/constants/design-system"),b=k(e("../../../../components/multichain/network-list-menu/rpc-list-item")),v=e("../../../../components/multichain/dropdown-editor/dropdown-editor"),C=e("../../../../selectors"),x=e("../../../../../shared/lib/only-keep-host"),w=e("./use-safe-chains");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}const M=({networkFormState:e,existingNetwork:t,trackRpcUpdateFromBanner:a,onRpcAdd:n,onBlockExplorerAdd:I,toggleNetworkMenuAfterSubmit:k=!0,onComplete:M,onEdit:R})=>{var A,D,P,O,B,L,F,U;const j=(0,E.useI18nContext)(),W=(0,o.useDispatch)(),V=(0,r.useContext)(g.MetaMetricsContext),$=(0,r.useRef)(null),H=(0,o.useSelector)(_.getNetworkConfigurationsByChainId),z=(0,o.useSelector)(C.getIsRpcFailoverEnabled),{name:G,setName:Y,chainId:K,setChainId:q,ticker:Z,setTicker:Q,rpcUrls:X,setRpcUrls:J,blockExplorers:ee,setBlockExplorers:te}=e,ae=X.defaultRpcEndpointIndex===undefined?undefined:X.rpcEndpoints[X.defaultRpcEndpointIndex],{safeChains:ne}=(0,w.useSafeChains)(),[se,re]=(0,r.useState)({}),[oe,le]=(0,r.useState)({}),[ie,ce]=(0,r.useState)(),[ue,de]=(0,r.useState)(),[me,pe]=(0,r.useState)(),fe=(0,o.useSelector)(C.getTokenNetworkFilter);(0,r.useEffect)(()=>{var e,t;const a=K?N(K):undefined,n=a?d.NETWORK_TO_NAME_MAP[a]??(null===(e=c.NETWORKS_BYPASSING_VALIDATION[a])||void 0===e?void 0:e.name)??(null==ne||null===(t=ne.find(e=>N(e.chainId)===a))||void 0===t?void 0:t.name):undefined,s=n&&n!==G;ce(s?n:undefined),le(e=>({...e,name:s?{key:"wrongNetworkName",msg:j("wrongNetworkName")}:undefined}))},[K,G,ne]),(0,r.useEffect)(()=>{var e,t;const a=K?N(K):undefined,n=a?d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[a]??(null==ne||null===(e=ne.find(e=>N(e.chainId)===a))||void 0===e||null===(e=e.nativeCurrency)||void 0===e?void 0:e.symbol):undefined,s=!!a&&(null===(t=c.NETWORKS_BYPASSING_VALIDATION[a])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.toLowerCase())===(null==Z?void 0:Z.toLowerCase()),r=n&&n!==Z&&!s;de(r?n:undefined),le(e=>({...e,ticker:r?{key:"chainListReturnedDifferentTickerSymbol",msg:j("chainListReturnedDifferentTickerSymbol")}:undefined}))},[K,Z,ne]),(0,r.useEffect)(()=>{let e;K===undefined||""===K?e=undefined:K.startsWith("0x")?/^0x[0-9a-f]+$/iu.test(K)?(0,p.isPrefixedFormattedHexString)(K)||(e=["invalidHexNumber",j("invalidHexNumberLeadingZeros")]):e=["invalidHexNumber",j("invalidHexNumber")]:/^[0-9]+$/u.test(K)?K.startsWith("0")&&(e=["invalidNumberLeadingZeros",j("invalidNumberLeadingZeros")]):e=["invalidNumber",j("invalidNumber")],!K||e||(0,p.isSafeChainId)(parseInt(K,K.startsWith("0x")?16:10))||(e=["invalidChainIdTooBig",j("invalidChainIdTooBig")]);const a=N(K);if(!e&&!t){const t=a?H[a]:undefined;t&&(e=["existingChainId",j("chainIdExistsErrorMsg",[t.name])])}let n;me&&a&&me!==a&&(n=["endpointReturnedDifferentChainId",j("endpointReturnedDifferentChainId",[(0,m.hexToDecimal)(me)])]),re(t=>({...t,chainId:e?{key:e[0],msg:e[1]}:undefined,rpcUrl:n?{key:n[0],msg:n[1]}:undefined}))},[K,me,null==t?void 0:t.chainId]),(0,r.useEffect)(()=>{var e;const t=null==X||null===(e=X.rpcEndpoints)||void 0===e||null===(e=e[(null==X?void 0:X.defaultRpcEndpointIndex)??-1])||void 0===e?void 0:e.url;var a;t&&(0,f.jsonRpcRequest)((a=t,a.endsWith("{infuraProjectId}")?a.replace("{infuraProjectId}",d.infuraProjectId??""):a),"eth_chainId").then(e=>{pe(e)}).catch(e=>{pe(undefined),s.default.warn("Failed to fetch the chainId from the endpoint.",e),re(e=>({...e,rpcUrl:{key:"failedToFetchChainId",msg:j("failedToFetchChainId")}}))})},[K,X]);return r.default.createElement(S.Box,{height:T.BlockSize.Full,display:T.Display.Flex,justifyContent:T.JustifyContent.spaceBetween,flexDirection:T.FlexDirection.Column,alignItems:T.AlignItems.center,ref:$,className:"networks-tab__scrollable"},r.default.createElement(S.Box,{width:T.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:2},r.default.createElement(S.FormTextField,{id:"networkName",size:S.FormTextFieldSize.Lg,placeholder:j("enterNetworkName"),"data-testid":"network-form-name-input",autoFocus:!0,helpText:(G&&(null==oe||null===(A=oe.name)||void 0===A?void 0:A.msg)||ie)&&r.default.createElement(r.default.Fragment,null,G&&(null==oe||null===(D=oe.name)||void 0===D?void 0:D.msg)&&r.default.createElement(S.HelpText,{variant:T.TextVariant.bodySm,severity:S.HelpTextSeverity.Warning},oe.name.msg),ie&&r.default.createElement(S.Text,{as:"span",variant:T.TextVariant.bodySm,color:T.TextColor.textDefault,"data-testid":"network-form-name-suggestion"},j("suggestedTokenName"),r.default.createElement(S.ButtonLink,{as:"button",variant:T.TextVariant.bodySm,color:T.TextColor.primaryDefault,onClick:()=>{Y(ie)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},ie))),onChange:e=>{var t;Y(null===(t=e.target)||void 0===t?void 0:t.value)},label:j("networkName"),labelProps:{children:undefined,variant:T.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:T.BorderRadius.LG},inputProps:{"data-testid":"network-form-network-name"},value:G}),r.default.createElement(v.DropdownEditor,{title:j("defaultRpcUrl"),placeholder:j("addAUrl"),style:v.DropdownEditorStyle.PopoverStyle,items:X.rpcEndpoints,itemKey:e=>e.url,selectedItemIndex:X.defaultRpcEndpointIndex,error:Boolean(se.rpcUrl),buttonDataTestId:"test-add-rpc-drop-down",renderItem:(e,t)=>t||null!=e&&e.name||(null==e?void 0:e.type)===l.RpcEndpointType.Infura?r.default.createElement(b.default,{rpcEndpoint:e}):r.default.createElement(S.Text,{ellipsis:!0,variant:T.TextVariant.bodyMd,paddingTop:3,paddingBottom:3,display:T.Display.Flex,alignItems:T.AlignItems.center,gap:1},(0,b.stripProtocol)((0,b.stripKeyFromInfuraUrl)(e.url)),z&&e.failoverUrls&&e.failoverUrls.length>0?r.default.createElement(S.Tag,{label:j("failover"),display:T.Display.Inline}):null),renderTooltip:(e,t)=>{const a=(0,b.stripKeyFromInfuraUrl)(e.url);return a.length>(t?37:35)?a:undefined},addButtonText:j("addRpcUrl"),itemIsDeletable:e=>e.type!==l.RpcEndpointType.Infura,onItemAdd:n,onItemSelected:e=>J(t=>({...t,defaultRpcEndpointIndex:e})),onItemDeleted:(e,t)=>{var a;J({rpcEndpoints:null===(a=X.rpcEndpoints)||void 0===a?void 0:a.slice(0,e).concat(X.rpcEndpoints.slice(e+1)),defaultRpcEndpointIndex:t})}}),(null===(P=se.rpcUrl)||void 0===P?void 0:P.msg)&&r.default.createElement(S.Box,null,r.default.createElement(S.HelpText,{variant:T.TextVariant.bodySm,severity:S.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},null===(O=se.rpcUrl)||void 0===O?void 0:O.msg)),z&&ae&&ae.failoverUrls&&ae.failoverUrls.length>0?r.default.createElement(S.FormTextField,{id:"failoverRpcUrl",size:S.FormTextFieldSize.Lg,paddingTop:4,label:j("failoverRpcUrl"),labelProps:{children:undefined,variant:T.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:T.BorderRadius.LG},value:(0,x.onlyKeepHost)(ae.failoverUrls[0]),disabled:!0}):null,r.default.createElement(S.FormTextField,{id:"chainId",size:S.FormTextFieldSize.Lg,placeholder:j("enterChainId"),paddingTop:4,"data-testid":"network-form-chain-id-input",onChange:e=>{var t;q(null===(t=e.target)||void 0===t?void 0:t.value.trim())},error:Boolean(null==se?void 0:se.chainId),label:j("chainId"),labelProps:{children:undefined,variant:T.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:T.BorderRadius.LG},inputProps:{"data-testid":"network-form-chain-id"},value:K,disabled:Boolean(t)}),null!==(B=se.chainId)&&void 0!==B&&B.msg?r.default.createElement(S.HelpText,{variant:T.TextVariant.bodySm,severity:S.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},se.chainId.msg):null,"existingChainId"===(null===(L=se.chainId)||void 0===L?void 0:L.key)?r.default.createElement(S.Box,null,r.default.createElement(S.HelpText,{variant:T.TextVariant.bodySm,severity:S.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},j("updateOrEditNetworkInformations")," ",r.default.createElement(S.ButtonLink,{as:"button",variant:T.TextVariant.bodySm,color:T.TextColor.primaryDefault,onClick:()=>{const e=N(K);e&&(W((0,y.setEditedNetwork)({chainId:e})),null==R||R())}},j("editNetworkLink")))):null,r.default.createElement(S.FormTextField,{id:"nativeCurrency",size:S.FormTextFieldSize.Lg,placeholder:j("enterSymbol"),paddingTop:4,"data-testid":"network-form-ticker",helpText:ue?r.default.createElement(S.Text,{as:"span",variant:T.TextVariant.bodySm,color:T.TextColor.textDefault,"data-testid":"network-form-ticker-suggestion"},j("suggestedCurrencySymbol"),r.default.createElement(S.ButtonLink,{as:"button",variant:T.TextVariant.bodySm,color:T.TextColor.primaryDefault,onClick:()=>{Q(ue)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},ue)):null,onChange:e=>{var t;Q(null===(t=e.target)||void 0===t?void 0:t.value)},label:j("currencySymbol"),labelProps:{children:undefined,variant:T.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:T.BorderRadius.LG},inputProps:{"data-testid":"network-form-ticker-input"},value:Z}),Z&&null!==(F=oe.ticker)&&void 0!==F&&F.msg?r.default.createElement(S.HelpText,{variant:T.TextVariant.bodySm,severity:S.HelpTextSeverity.Warning,"data-testid":"network-form-ticker-warning"},oe.ticker.msg):null,r.default.createElement(v.DropdownEditor,{title:j("blockExplorerUrl"),placeholder:j("addAUrl"),style:v.DropdownEditorStyle.BoxStyle,items:ee.blockExplorerUrls,itemKey:e=>`${e}`,selectedItemIndex:ee.defaultBlockExplorerUrlIndex,addButtonText:j("addBlockExplorerUrl"),onItemAdd:I,buttonDataTestId:"test-explorer-drop-down",onItemSelected:e=>te(t=>({...t,defaultBlockExplorerUrlIndex:e})),onItemDeleted:(e,t)=>{var a;te({blockExplorerUrls:null===(a=ee.blockExplorerUrls)||void 0===a?void 0:a.slice(0,e).concat(ee.blockExplorerUrls.slice(e+1)),defaultBlockExplorerUrlIndex:t})},onDropdownOpened:()=>{$.current&&($.current.scrollTop=$.current.scrollHeight)},renderItem:e=>r.default.createElement(S.Text,{as:"button",paddingLeft:0,paddingRight:0,paddingTop:3,paddingBottom:3,color:T.TextColor.textDefault,variant:T.TextVariant.bodyMd,backgroundColor:T.BackgroundColor.transparent,ellipsis:!0},(0,b.stripProtocol)(e)),renderTooltip:e=>e.length>36?e:undefined})),r.default.createElement(S.Box,{className:"networks-tab__network-form__footer",backgroundColor:T.BackgroundColor.backgroundDefault,padding:4,width:T.BlockSize.Full},r.default.createElement(S.ButtonPrimary,{disabled:!G||!K||!Z||!(null!=X&&null!==(U=X.rpcEndpoints)&&void 0!==U&&U.length)||Object.values(se).some(e=>e),onClick:async()=>{try{const r=K?N(K):undefined;if(r===d.CHAIN_IDS.GOERLI)W((0,y.showDeprecatedNetworkModal)());else if(r){var e,n;const o={chainId:r,name:G,nativeCurrency:Z,rpcEndpoints:null==X?void 0:X.rpcEndpoints,defaultRpcEndpointIndex:(null==X?void 0:X.defaultRpcEndpointIndex)??0,blockExplorerUrls:null==ee?void 0:ee.blockExplorerUrls,defaultBlockExplorerUrlIndex:null==ee?void 0:ee.defaultBlockExplorerUrlIndex};if(t){const e={replacementSelectedRpcEndpointIndex:r===t.chainId?null==X?void 0:X.defaultRpcEndpointIndex:undefined};if(await W((0,y.updateNetwork)(o,e)),1===Object.keys(fe).length&&(await W((0,y.setTokenNetworkFilter)({[t.chainId]:!0})),await W((0,y.setEnabledNetworks)(t.chainId))),a){var s;const e=o.rpcEndpoints[o.defaultRpcEndpointIndex],a=null===(s=t.rpcEndpoints)||void 0===s?void 0:s[t.defaultRpcEndpointIndex??0],n=(0,i.hexToNumber)(r),l=e=>(0,h.isPublicEndpointUrl)(e,d.infuraProjectId??"")?(0,x.onlyKeepHost)(e):"custom";V({category:u.MetaMetricsEventCategory.Network,event:u.MetaMetricsEventName.NetworkConnectionBannerRpcUpdated,properties:{chain_id_caip:`eip155:${n}`,from_rpc_domain:null!=a&&a.url?l(a.url):"unknown",to_rpc_domain:l(e.url)}})}}else await W((0,y.addNetwork)(o)),await W((0,y.setEnabledNetworks)(o.chainId));V({event:u.MetaMetricsEventName.CustomNetworkAdded,category:u.MetaMetricsEventCategory.Network,properties:{block_explorer_url:null==ee||null===(e=ee.blockExplorerUrls)||void 0===e?void 0:e[(null==ee?void 0:ee.defaultBlockExplorerUrlIndex)??-1],chain_id:r,network_name:G,source_connection_method:u.MetaMetricsNetworkEventSource.CustomNetworkForm,token_symbol:Z},sensitiveProperties:{rpcUrl:(0,w.rpcIdentifierUtility)(null==X||null===(n=X.rpcEndpoints[X.defaultRpcEndpointIndex??-1])||void 0===n?void 0:n.url,ne??[])}}),W((0,y.setEditedNetwork)({chainId:r,nickname:G,editCompleted:!0,newNetwork:!t}))}}catch(e){console.error(e)}finally{k&&W((0,y.toggleNetworkMenu)()),null==M||M()}},size:S.ButtonPrimarySize.Lg,width:T.BlockSize.Full},j("save"))))};function N(e){return(0,i.isStrictHexString)(e)?e:/^\d+$/u.test(e)?`0x${(0,m.decimalToHex)(e)}`:undefined}a.NetworksForm=M;a.default=M}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form.tsx"}],[8084,{"../../../../../shared/constants/network":5896,"../../../../../shared/constants/time":5913,"../../../../../shared/lib/fetch-with-cache":5972,"../../../../../shared/modules/conversion.utils":6015,"../../../../selectors":8207,"@metamask/utils":3207,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useSafeChains=a.rpcIdentifierUtility=a.getSafeNativeCurrencySymbol=void 0;var n,s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),l=e("@metamask/utils"),i=e("../../../../selectors"),c=(n=e("../../../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},u=e("../../../../../shared/constants/network"),d=e("../../../../../shared/constants/time"),m=e("../../../../../shared/modules/conversion.utils");a.useSafeChains=()=>{const e=(0,s.c)(4),t=(0,o.useSelector)(i.getUseSafeChainsListValidation);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={safeChains:[]},e[0]=a):a=e[0];const[n,l]=(0,r.useState)(a);let m,p;return e[1]!==t?(m=()=>{let e=!0;return t&&(0,c.default)({url:u.CHAIN_SPEC_URL,functionName:"getSafeChainsList",allowStale:!0,cacheOptions:{cacheRefreshTime:d.DAY}}).then(t=>{e&&l({safeChains:t})}).catch(t=>{e&&l({error:t})}),()=>{e=!1}},p=[t],e[1]=t,e[2]=m,e[3]=p):(m=e[2],p=e[3]),(0,r.useEffect)(m,p),n};a.getSafeNativeCurrencySymbol=(e,t)=>{var a;if(!e||!t)return undefined;const n=(0,l.isStrictHexString)(t)&&parseInt((0,m.hexToDecimal)(t),10);return"number"!=typeof n?undefined:null===(a=e.find(e=>e.chainId===n.toString()))||void 0===a||null===(a=a.nativeCurrency)||void 0===a?void 0:a.symbol};a.rpcIdentifierUtility=(e,t)=>{const{host:a}=new URL(e);for(const e of t)for(const t of e.rpc)try{if(a===new URL(t).host)return a}catch{continue}return"Unknown rpcUrl"}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/use-safe-chains.ts"}],[8085,{"../../../../components/component-library":6633,"../../../../helpers/constants/design-system":7149,"../../../../helpers/constants/zendesk-url":7161,"../../../../hooks/useI18nContext":7301,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,n.c)(41),{onConfirm:a,onCancel:c}=e,u=(0,r.useI18nContext)();let d,m;t[0]!==u?(d=u("learnMoreUpperCase"),t[0]=u,t[1]=d):d=t[1];t[2]!==d?(m=s.default.createElement("a",{key:"change-password__link-text",href:i.default.PASSWORD_RESET,target:"_blank",rel:"noopener noreferrer"},s.default.createElement("span",{className:"change-password__link-text"},d)),t[2]=d,t[3]=m):m=t[3];const p=m;let f,h,g,E,_,y,S,T,b,v,C,x,w,I,k,M;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s.default.createElement(l.ModalOverlay,null),t[4]=f):f=t[4];t[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.default.createElement(l.Box,{display:o.Display.Flex,justifyContent:o.JustifyContent.center},s.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,color:o.IconColor.warningDefault})),t[5]=h):h=t[5];t[6]!==u?(g=u("changePasswordWarning"),t[6]=u,t[7]=g):g=t[7];t[8]!==g?(E=s.default.createElement(l.Text,{variant:o.TextVariant.headingMd,textAlign:o.TextAlign.Center,marginTop:4},g),t[8]=g,t[9]=E):E=t[9];t[10]!==u?(_=u("changePasswordWarningDescription"),t[10]=u,t[11]=_):_=t[11];t[12]!==p||t[13]!==_?(y=s.default.createElement(l.Text,{variant:o.TextVariant.bodySm,marginTop:4},_," ",p),t[12]=p,t[13]=_,t[14]=y):y=t[14];t[15]!==E||t[16]!==y?(S=s.default.createElement(l.ModalHeader,null,s.default.createElement(l.Box,null,h,E,y)),t[15]=E,t[16]=y,t[17]=S):S=t[17];t[18]!==c?(T=()=>c(),t[18]=c,t[19]=T):T=t[19];t[20]!==u?(b=u("cancel"),t[20]=u,t[21]=b):b=t[21];t[22]!==T||t[23]!==b?(v=s.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"change-password-warning-cancel",size:l.ButtonSize.Lg,block:!0,onClick:T},b),t[22]=T,t[23]=b,t[24]=v):v=t[24];t[25]!==a?(C=()=>a(),t[25]=a,t[26]=C):C=t[26];t[27]!==u?(x=u("confirm"),t[27]=u,t[28]=x):x=t[28];t[29]!==C||t[30]!==x?(w=s.default.createElement(l.Button,{"data-testid":"change-password-warning-confirm",size:l.ButtonSize.Lg,block:!0,onClick:C},x),t[29]=C,t[30]=x,t[31]=w):w=t[31];t[32]!==v||t[33]!==w?(I=s.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},s.default.createElement(l.Box,{display:o.Display.Flex,marginTop:2,gap:4},v,w)),t[32]=v,t[33]=w,t[34]=I):I=t[34];t[35]!==I||t[36]!==S?(k=s.default.createElement(l.ModalContent,{alignItems:o.AlignItems.center},S,I),t[35]=I,t[36]=S,t[37]=k):k=t[37];t[38]!==c||t[39]!==k?(M=s.default.createElement(l.Modal,{isOpen:!0,onClose:c,className:"change-password-warning-modal","data-testid":"change-password-warning-modal"},f,k),t[38]=c,t[39]=k,t[40]=M):M=t[40];return M};var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../helpers/constants/design-system"),l=e("../../../../components/component-library"),i=c(e("../../../../helpers/constants/zendesk-url"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password-warning.tsx"}],[8086,{"../../../../../shared/constants/app-state":5875,"../../../../../shared/constants/metametrics":5892,"../../../../components/app/password-form/password-form":6297,"../../../../components/app/toast-master/utils":6523,"../../../../components/component-library":6633,"../../../../components/ui/mascot":7043,"../../../../components/ui/spinner":7074,"../../../../contexts/metametrics":7110,"../../../../helpers/constants/design-system":7149,"../../../../helpers/constants/routes":7154,"../../../../helpers/constants/zendesk-url":7161,"../../../../helpers/utils/build-types":7173,"../../../../hooks/useI18nContext":7301,"../../../../selectors":8207,"../../../../store/actions":8241,"./change-password-warning":8085,events:4472,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=C(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),l=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/build-types"),u=C(e("../../../../components/ui/mascot")),d=C(e("../../../../components/ui/spinner")),m=e("../../../../hooks/useI18nContext"),p=e("../../../../store/actions"),f=C(e("../../../../components/app/password-form/password-form")),h=e("../../../../helpers/constants/routes"),g=e("../../../../components/app/toast-master/utils"),E=e("../../../../../shared/constants/app-state"),_=e("../../../../selectors"),y=C(e("../../../../helpers/constants/zendesk-url")),S=e("../../../../contexts/metametrics"),T=e("../../../../../shared/constants/metametrics"),b=C(e("./change-password-warning"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}const x=1,w=2,I=3;a.default=()=>{const e=(0,m.useI18nContext)(),t=(0,r.useDispatch)(),a=(0,o.useNavigate)(),v=(0,s.useContext)(S.MetaMetricsContext),C=(0,r.useSelector)(_.getIsSocialLoginFlow),k=(0,s.useRef)(new n.default),[M,N]=(0,s.useState)(x),[R,A]=(0,s.useState)(""),[D,P]=(0,s.useState)(!1),[O,B]=(0,s.useState)(!1),[L,F]=(0,s.useState)(""),[U,j]=(0,s.useState)(!1),W=async()=>{try{j(!1),N(I),await t((0,p.changePassword)(L,R)),v({category:T.MetaMetricsEventCategory.Settings,event:T.MetaMetricsEventName.PasswordChanged,properties:{biometrics_enabled:!1}}),a(h.SECURITY_ROUTE),t((0,g.setShowPasswordChangeToast)(E.PasswordChangeToastType.Success))}catch(e){console.error(e),N(w),t((0,g.setShowPasswordChangeToast)(E.PasswordChangeToastType.Errored))}},V=s.default.createElement("a",{onClick:e=>{e.stopPropagation(),v({category:T.MetaMetricsEventCategory.Onboarding,event:T.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"change_password",url:y.default.PASSWORD_ARTICLE}})},key:"change-password__link-text",href:y.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},s.default.createElement("span",{className:"change-password__link-text"},e("learnMoreUpperCaseWithDot")));return(0,s.useEffect)(()=>{(async()=>{C&&await t((0,p.checkIsSeedlessPasswordOutdated)())})()},[t,C]),s.default.createElement(l.Box,{padding:4,className:"change-password"},M===x&&s.default.createElement(l.Box,{as:"form",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:6,justifyContent:i.JustifyContent.spaceBetween,height:i.BlockSize.Full,onSubmit:e=>{e.preventDefault(),(async()=>{try{await(0,p.verifyPassword)(R),P(!1),N(w)}catch(e){P(!0)}})()}},s.default.createElement(l.FormTextField,{id:"current-password",label:e("enterPasswordCurrent"),textFieldProps:{type:l.TextFieldType.Password},size:l.FormTextFieldSize.Lg,labelProps:{marginBottom:1},inputProps:{autoFocus:!0,"data-testid":"verify-current-password-input"},value:R,error:D,helpText:D?e("unlockPageIncorrectPassword"):null,onChange:e=>{A(e.target.value),P(!1)}}),s.default.createElement(l.Button,{type:"submit",block:!0,size:l.ButtonSize.Lg,disabled:D||!R,"data-testid":"verify-current-password-button"},e("continue"))),M===w&&s.default.createElement(l.Box,{as:"form",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:6,justifyContent:i.JustifyContent.spaceBetween,height:i.BlockSize.Full,onSubmit:e=>{e.preventDefault(),C?j(!0):W()}},s.default.createElement(l.Box,null,s.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative,marginBottom:4,as:"h2"},e(C?"changePasswordDetailsSocial":"createPasswordDetails")),s.default.createElement(f.default,{onChange:e=>F(e),pwdInputTestId:"change-password-input",confirmPwdInputTestId:"change-password-confirm-input"}),s.default.createElement(l.Box,{className:"create-password__terms-container",alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,marginTop:6},s.default.createElement(l.Checkbox,{inputProps:{"data-testid":"change-password-terms"},alignItems:i.AlignItems.flexStart,isChecked:O,onChange:()=>{B(!O)},label:s.default.createElement(s.default.Fragment,null,e(C?"passwordTermsWarningSocial":"passwordTermsWarning"),"Â ",V)}))),s.default.createElement(l.Button,{type:"submit",disabled:!R||!L||!O,"data-testid":"change-password-button",block:!0},e("save"))),M===I&&s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginTop:12},s.default.createElement("div",null,(0,c.isFlask)()||(0,c.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"100",height:"100"}):s.default.createElement(u.default,{animationEventEmitter:k.current,width:"100",height:"100"})),s.default.createElement(d.default,{className:"change-password__spinner"}),s.default.createElement(l.Text,{variant:i.TextVariant.bodyLgMedium,marginBottom:4},e("changePasswordLoading")),s.default.createElement(l.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},e("changePasswordLoadingNote"))),U&&s.default.createElement(b.default,{onConfirm:()=>{W()},onCancel:()=>j(!1)}))}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password.tsx"}],[8087,{"./change-password":8086},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./change-password"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/index.ts"}],[8088,{"../../../../../shared/constants/metametrics":5892,"../../../../../shared/lib/ui-utils":6006,"../../../../components/app/clear-metametrics-data":6150,"../../../../components/app/data-deletion-error-modal":6190,"../../../../components/component-library":6633,"../../../../ducks/app/app":7122,"../../../../helpers/constants/design-system":7149,"../../../../helpers/utils/util":7207,"../../../../hooks/useI18nContext":7301,"../../../../selectors":8207,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=g(e("react")),r=e("react-redux"),o=e("../../../../../shared/lib/ui-utils"),l=g(e("../../../../components/app/clear-metametrics-data")),i=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors"),m=e("../../../../ducks/app/app"),p=g(e("../../../../components/app/data-deletion-error-modal")),f=e("../../../../helpers/utils/util"),h=e("../../../../../shared/constants/metametrics");function g(e){return e&&e.__esModule?e:{default:e}}const E=s.default.forwardRef((e,t)=>{const a=(0,n.c)(47),{defaultPrivacySettings:g}=e,E=(0,u.useI18nContext)(),_=(0,r.useDispatch)(),y=(0,r.useSelector)(d.getMetaMetricsId),S=(0,r.useSelector)(d.getMetaMetricsDataDeletionStatus),T=(0,r.useSelector)(d.getMetaMetricsDataDeletionTimestamp),b=(0,f.formatDate)(T,"d/MM/y"),v=(0,r.useSelector)(d.getShowDeleteMetaMetricsDataModal),C=(0,r.useSelector)(d.getShowDataDeletionErrorModal),x=(0,r.useSelector)(d.getLatestMetricsEventTimestamp);let w,I,k=!(0,r.useSelector)(d.getParticipateInMetaMetrics);if(!k&&S){let e;a[0]!==x||a[1]!==S||a[2]!==T?(e=[h.DeleteRegulationStatus.Initialized,h.DeleteRegulationStatus.Running,h.DeleteRegulationStatus.Finished].includes(S)&&T>x,a[0]=x,a[1]=S,a[2]=T,a[3]=e):e=a[3],k=e}a[4]!==E?(w=E("privacyMsg"),a[4]=E,a[5]=w):w=a[5],a[6]!==w?(I=s.default.createElement("a",{href:o.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"metametrics-consensys-privacy-link"},w),a[6]=w,a[7]=I):I=a[7];const M=I,N=i.Box,R=c.Display,A=c.FlexDirection;let D,P;a[8]!==E?(D=E("deleteMetaMetricsData"),a[8]=E,a[9]=D):D=a[9],a[10]!==D?(P=s.default.createElement("span",null,D),a[10]=D,a[11]=P):P=a[11];const O=k&&Boolean(y)?E("deleteMetaMetricsDataRequestedDescription",[b,M]):E("deleteMetaMetricsDataDescription",[M]);let B,L;a[12]!==O?(B=s.default.createElement("div",{className:"settings-page__content-description"},O),a[12]=O,a[13]=B):B=a[13],a[14]!==B||a[15]!==P?(L=s.default.createElement("div",{className:"settings-page__content-item"},P,B),a[14]=B,a[15]=P,a[16]=L):L=a[16];const F="settings-page__content-item-col "+(g?"settings-page__button-defaut-settings":"");let U,j;a[17]!==y||a[18]!==E?(U=Boolean(!y)&&s.default.createElement(i.Box,{display:c.Display.InlineFlex},s.default.createElement(i.Icon,{name:i.IconName.Info,size:i.IconSize.Sm}),s.default.createElement(i.Text,{variant:c.TextVariant.bodyXs,marginLeft:1,marginBottom:2},E("metaMetricsIdNotAvailableError"))),a[17]=y,a[18]=E,a[19]=U):U=a[19],a[20]!==_?(j=()=>{_((0,m.openDeleteMetaMetricsDataModal)())},a[20]=_,a[21]=j):j=a[21];const W=k;let V,$,H,z,G,Y,K;return a[22]!==E?(V=E("deleteMetaMetricsData"),a[22]=E,a[23]=V):V=a[23],a[24]!==k||a[25]!==j||a[26]!==V?($=s.default.createElement(i.ButtonPrimary,{"data-testid":"delete-metametrics-data-button",className:"settings-page__button",width:c.BlockSize.Full,onClick:j,disabled:W},V),a[24]=k,a[25]=j,a[26]=V,a[27]=$):$=a[27],a[28]!==F||a[29]!==U||a[30]!==$?(H=s.default.createElement("div",{className:F},U,$),a[28]=F,a[29]=U,a[30]=$,a[31]=H):H=a[31],a[32]!==N||a[33]!==t||a[34]!==L||a[35]!==H||a[36]!==R.Flex||a[37]!==A.Column?(z=s.default.createElement(N,{ref:t,className:"settings-page__content-row",display:R.Flex,flexDirection:A.Column,gap:4},L,H),a[32]=N,a[33]=t,a[34]=L,a[35]=H,a[36]=R.Flex,a[37]=A.Column,a[38]=z):z=a[38],a[39]!==v?(G=v&&s.default.createElement(l.default,null),a[39]=v,a[40]=G):G=a[40],a[41]!==C?(Y=C&&s.default.createElement(p.default,null),a[41]=C,a[42]=Y):Y=a[42],a[43]!==z||a[44]!==G||a[45]!==Y?(K=s.default.createElement(s.default.Fragment,null,z,G,Y),a[43]=z,a[44]=G,a[45]=Y,a[46]=K):K=a[46],K});a.default=E}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/delete-metametrics-data-button.tsx"}],[8089,{"./delete-metametrics-data-button":8088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./delete-metametrics-data-button"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/index.ts"}],[8090,{"./security-tab.container":8096},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./security-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/index.js"}],[8091,{"./metametrics-toggle":8092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./metametrics-toggle"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/index.ts"}],[8092,{"../../../../../shared/constants/metametrics":5892,"../../../../components/component-library":6633,"../../../../components/ui/toggle-button":7088,"../../../../contexts/metametrics":7110,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useMetametrics":7304,"../../../../selectors":8207,"../../../../selectors/identity/backup-and-sync":8206,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),l=e("../../../../hooks/useI18nContext"),i=e("../../../../contexts/metametrics"),c=e("../../../../hooks/useMetametrics"),u=e("../../../../selectors/identity/backup-and-sync"),d=e("../../../../../shared/constants/metametrics"),m=e("../../../../components/component-library"),p=(n=e("../../../../components/ui/toggle-button"))&&n.__esModule?n:{default:n},f=e("../../../../helpers/constants/design-system"),h=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(41),{dataCollectionForMarketing:a,setDataCollectionForMarketing:n,fromDefaultSettings:g}=e,E=g!==undefined&&g,_=(0,l.useI18nContext)(),y=(0,r.useContext)(i.MetaMetricsContext),{enableMetametrics:S,error:T}=(0,c.useEnableMetametrics)(),{disableMetametrics:b,error:v}=(0,c.useDisableMetametrics)(),C=T||v,x=(0,o.useSelector)(u.selectIsBackupAndSyncEnabled),w=(0,o.useSelector)(h.getParticipateInMetaMetrics),I=(0,o.useSelector)(h.getUseExternalServices);let k;t[0]!==a||t[1]!==b||t[2]!==S||t[3]!==E||t[4]!==x||t[5]!==w||t[6]!==n||t[7]!==y?(k=async e=>{e?(await S(),y({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.TurnOnMetaMetrics,properties:{isProfileSyncingEnabled:x,participateInMetaMetrics:w,location:E?"Default Settings":"Settings"}})):(a&&await n(!1),await b(),y({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.TurnOffMetaMetrics,properties:{isProfileSyncingEnabled:x,participateInMetaMetrics:w}}),y({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!1,has_marketing_consent:!1,location:"Settings"}}))},t[0]=a,t[1]=b,t[2]=S,t[3]=E,t[4]=x,t[5]=w,t[6]=n,t[7]=y,t[8]=k):k=t[8];const M=k;let N,R,A,D,P;t[9]!==_?(N=_("participateInMetaMetrics"),t[9]=_,t[10]=N):N=t[10],t[11]!==N?(R=r.default.createElement("span",null,N),t[11]=N,t[12]=R):R=t[12],t[13]!==_?(A=_("participateInMetaMetricsDescription"),t[13]=_,t[14]=A):A=t[14],t[15]!==A?(D=r.default.createElement("div",{className:"settings-page__content-description"},A),t[15]=A,t[16]=D):D=t[16],t[17]!==R||t[18]!==D?(P=r.default.createElement("div",{className:"settings-page__content-item"},R,D),t[17]=R,t[18]=D,t[19]=P):P=t[19];const O=!I;let B,L,F,U,j,W,V;return t[20]!==M?(B=e=>M(!e),t[20]=M,t[21]=B):B=t[21],t[22]!==_?(L=_("off"),t[22]=_,t[23]=L):L=t[23],t[24]!==_?(F=_("on"),t[24]=_,t[25]=F):F=t[25],t[26]!==w||t[27]!==L||t[28]!==F||t[29]!==O||t[30]!==B?(U=r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"participate-in-meta-metrics-toggle"},r.default.createElement(p.default,{value:w,disabled:O,onToggle:B,offLabel:L,onLabel:F})),t[26]=w,t[27]=L,t[28]=F,t[29]=O,t[30]=B,t[31]=U):U=t[31],t[32]!==U||t[33]!==P?(j=r.default.createElement(m.Box,{className:"settings-page__content-row",display:f.Display.Flex,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween,gap:4,"data-testid":"participate-in-meta-metrics-container"},P,U),t[32]=U,t[33]=P,t[34]=j):j=t[34],t[35]!==C||t[36]!==_?(W=C&&r.default.createElement(m.Box,{paddingBottom:4},r.default.createElement(m.Text,{as:"p",color:f.TextColor.errorDefault,variant:f.TextVariant.bodySm},_("notificationsSettingsBoxError"))),t[35]=C,t[36]=_,t[37]=W):W=t[37],t[38]!==j||t[39]!==W?(V=r.default.createElement(m.Box,null,j,W),t[38]=j,t[39]=W,t[40]=V):V=t[40],V}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/metametrics-toggle.tsx"}],[8093,{"./reveal-srp-list":8094},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RevealSrpList",{enumerable:!0,get:function(){return n.RevealSrpList}});var n=e("./reveal-srp-list")}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/index.ts"}],[8094,{"../../../../components/app/srp-quiz-modal/SRPQuiz":6514,"../../../../components/component-library":6633,"../../../../components/multichain/multi-srp/srp-list/srp-list":6865,"../../../../components/ui/card":6988,"../../../../helpers/constants/design-system":7149,"../../../../helpers/constants/routes":7154,"../../../../hooks/social-sync/useSyncSRPs":7271,"../../../../hooks/useI18nContext":7301,"../../../../selectors":8207,"@metamask/seedless-onboarding-controller":2712,lodash:4940,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RevealSrpList=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-router-dom"),o=e("react-redux"),l=e("@metamask/seedless-onboarding-controller"),i=e("lodash"),c=e("../../../../components/component-library"),u=_(e("../../../../components/app/srp-quiz-modal/SRPQuiz")),d=e("../../../../components/multichain/multi-srp/srp-list/srp-list"),m=e("../../../../helpers/constants/design-system"),p=e("../../../../hooks/useI18nContext"),f=e("../../../../helpers/constants/routes"),h=e("../../../../selectors"),g=_(e("../../../../components/ui/card")),E=e("../../../../hooks/social-sync/useSyncSRPs");function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function S(e){const[t,a]=e.split("@"),n=t.slice(0,1);return`${`${n}${"*".repeat(t.length-n.length)}`}@${a}`}a.RevealSrpList=()=>{const e=(0,n.c)(24),t=(0,p.useI18nContext)(),a=(0,r.useNavigate)(),[_,y]=(0,s.useState)(!1),[T,b]=(0,s.useState)(""),v=(0,o.useSelector)(h.getIsSocialLoginFlow),C=(0,o.useSelector)(h.getSocialLoginType),x=(0,o.useSelector)(h.getSocialLoginEmail);let w;(0,E.useSyncSRPs)(),e[0]!==a?(w=(e,t)=>{if(t){const e=`${f.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true&isFromSettingsSecurity=true`;a(e)}else b(e),y(!0)},e[0]=a,e[1]=w):w=e[1];const I=w,k=S;let M,N,R,A,D,P,O;return e[2]!==v||e[3]!==x||e[4]!==C||e[5]!==t?(M=v&&s.default.createElement(c.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},s.default.createElement(c.Text,{marginBottom:2,variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative,textTransform:m.TextTransform.Uppercase},t("securitySocialLoginLabel",[C])),s.default.createElement(g.default,{className:"srp-reveal-list__social-login-card",backgroundColor:m.BackgroundColor.backgroundMuted,border:!1},s.default.createElement(c.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Row,alignItems:m.AlignItems.center,gap:3},s.default.createElement(c.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,gap:2},C===l.AuthConnection.Apple?s.default.createElement(c.Icon,{name:c.IconName.Apple,color:m.IconColor.iconDefault,size:c.IconSize.Lg}):s.default.createElement("img",{src:"images/icons/google.svg",className:"srp-reveal-list__social-icon",alt:"Google icon"})),s.default.createElement(c.Box,{flexDirection:m.FlexDirection.Column},s.default.createElement(c.Text,{fontWeight:m.FontWeight.Medium},t("securitySocialLoginEnabled")),x&&s.default.createElement(c.Text,{variant:m.TextVariant.bodySm,color:m.TextColor.textAlternative},k(x))))),s.default.createElement(c.Text,{marginTop:1,variant:m.TextVariant.bodySm,color:m.TextColor.textAlternative},t("securitySocialLoginEnabledDescription",[(0,i.capitalize)(C)])),s.default.createElement(c.Box,{width:m.BlockSize.Full,className:"srp-reveal-list__divider",marginTop:4})),e[2]=v,e[3]=x,e[4]=C,e[5]=t,e[6]=M):M=e[6],e[7]!==t?(N=t("securitySrpLabel"),e[7]=t,e[8]=N):N=e[8],e[9]!==N?(R=s.default.createElement(c.Text,{marginBottom:2,variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative,textTransform:m.TextTransform.Uppercase},N),e[9]=N,e[10]=R):R=e[10],e[11]!==I?(A=s.default.createElement(d.SrpList,{onActionComplete:I,hideShowAccounts:!1,isSettingsPage:!0}),e[11]=I,e[12]=A):A=e[12],e[13]!==R||e[14]!==A?(D=s.default.createElement(c.Box,{paddingTop:4,paddingLeft:4,paddingRight:4,paddingBottom:0,className:"srp-reveal-list__srp-list"},R,A),e[13]=R,e[14]=A,e[15]=D):D=e[15],e[16]!==a||e[17]!==T||e[18]!==_?(P=_&&T&&s.default.createElement(u.default,{keyringId:T,isOpen:_,onClose:()=>y(!1),navigate:a}),e[16]=a,e[17]=T,e[18]=_,e[19]=P):P=e[19],e[20]!==M||e[21]!==D||e[22]!==P?(O=s.default.createElement(c.Box,{className:"srp-reveal-list"},M,D,P),e[20]=M,e[21]=D,e[22]=P,e[23]=O):O=e[23],O}}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/reveal-srp-list.tsx"}],[8095,{"../../../../app/scripts/lib/util":368,"../../../../shared/constants/app":5876,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/network":5896,"../../../../shared/lib/ui-utils":6006,"../../../../shared/modules/environment":6019,"../../../components/app/srp-quiz-modal/SRPQuiz":6514,"../../../components/component-library":6633,"../../../components/ui/popover":7061,"../../../components/ui/text-field":7084,"../../../components/ui/toggle-button":7088,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../helpers/constants/zendesk-url":7161,"../../../helpers/utils/settings-search":7197,"../../../store/actions":8241,"./delete-metametrics-data-button":8089,"./metametrics-toggle":8091,lodash:4940,loglevel:4948,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("lodash"),s=w(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=w(e("loglevel")),l=e("../../../../app/scripts/lib/util"),i=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/network"),d=e("../../../../shared/lib/ui-utils"),m=w(e("../../../components/app/srp-quiz-modal/SRPQuiz")),p=e("../../../components/component-library"),f=w(e("../../../components/ui/text-field")),h=w(e("../../../components/ui/toggle-button")),g=w(e("../../../components/ui/popover")),E=e("../../../helpers/constants/design-system"),_=e("../../../helpers/constants/routes"),y=e("../../../helpers/utils/settings-search"),S=e("../../../store/actions"),T=w(e("../../../helpers/constants/zendesk-url")),b=e("../../../../shared/modules/environment"),v=w(e("./metametrics-toggle")),C=w(e("./delete-metametrics-data-button"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class k extends r.PureComponent{constructor(...e){super(...e),I(this,"state",{ipfsGateway:this.props.ipfsGateway||u.IPFS_DEFAULT_GATEWAY_URL,ipfsGatewayError:"",srpQuizModalVisible:!1,showDataCollectionDisclaimer:!1,ipfsToggle:this.props.ipfsGateway.length>0,hasEmailMarketingConsentError:!1}),I(this,"settingsRefCounter",0),I(this,"settingsRefs",Array((0,y.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map(()=>r.default.createRef())),I(this,"hideSrpQuizModal",()=>this.setState({srpQuizModalVisible:!1})),I(this,"renderDataCollectionWarning",()=>{const{t:e}=this.context;return r.default.createElement(g.default,{wrapTitle:!0,centerTitle:!0,onClose:()=>this.setState({showDataCollectionDisclaimer:!1}),title:r.default.createElement(p.Icon,{size:p.IconSize.Xl,name:p.IconName.Danger,color:E.IconColor.warningDefault}),footer:r.default.createElement(p.Button,{width:E.BlockSize.Full,type:"primary",onClick:()=>this.setState({showDataCollectionDisclaimer:!1})},e("dataCollectionWarningPopoverButton"))},r.default.createElement(p.Box,{display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:2,margin:4},r.default.createElement(p.Text,null,e("dataCollectionWarningPopoverDescription"))))})}componentDidUpdate(e){const{t:t}=this.context;(0,y.handleSettingsRefs)(t,t("securityAndPrivacy"),this.settingsRefs),!0!==e.dataCollectionForMarketing||!0!==this.props.participateInMetaMetrics||!1!==this.props.dataCollectionForMarketing||this.props.socialLoginEnabled||this.setState({showDataCollectionDisclaimer:!0})}async componentDidMount(){const{t:e}=this.context;if((0,y.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs),this.props.metaMetricsDataDeletionId&&await(0,S.updateDataDeletionTaskStatus)(),this.props.socialLoginEnabled){const e=await this.props.getMarketingConsent();this.props.setDataCollectionForMarketing(e)}}toggleSetting(e,t){t(!e)}async toggleDataCollectionForMarketing(e){if(this.props.socialLoginEnabled)try{await this.props.setMarketingConsent(e)}catch(e){o.default.error("Error setting marketing consent",e)}this.props.setDataCollectionForMarketing(e),this.props.participateInMetaMetrics?this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(e),location:"Settings"}}):this.props.socialLoginEnabled||this.props.setParticipateInMetaMetrics(!0)}renderSeedWords(){const{t:e}=this.context,{isSeedPhraseBackedUp:t,socialLoginEnabled:a,socialLoginType:s,navigate:o,hdEntropyIndex:l}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__security-tab-sub-header"},e("secretRecoveryPhrase")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Box,{className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securitySrpDescription")),r.default.createElement(p.BannerAlert,{"data-testid":"backup-state-banner-alert",description:a?e("securityLoginWithSocial",[(0,n.capitalize)(s)]):e(t?"securityLoginWithSrpBackedUp":"securityLoginWithSrpNotBackedUp"),paddingTop:2,paddingBottom:2,marginTop:4,severity:t?p.BannerAlertSeverity.Success:p.BannerAlertSeverity.Danger})),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{"data-testid":"reveal-seed-words",size:p.ButtonSize.Lg,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.KeyExportSelected,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings",hd_entropy_index:l}}),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SrpRevealClicked,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings"}}),o(_.REVEAL_SRP_LIST_ROUTE)}},e(a?"securitySrpWalletRecovery":t?"revealSeedWords":"revealSecretRecoveryPhrase")))),this.state.srpQuizModalVisible&&r.default.createElement(m.default,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal,navigate:this.props.navigate})))}renderChangePassword(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__security-tab-sub-header"},e("securityChangePasswordTitle")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Box,{className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityChangePasswordDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{"data-testid":"change-password-button",size:p.ButtonSize.Lg,onClick:()=>{t(_.SECURITY_PASSWORD_CHANGE_ROUTE)}},e("securityChangePassword"))))))}renderSecurityAlertsToggle(){const{t:e}=this.context,{securityAlertsEnabled:t,hasActiveShieldSubscription:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[16]},r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},e("securityAlerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityAlertsDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.SECURITY_ALERTS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"securityAlert"},r.default.createElement(h.default,{value:t,onToggle:this.toggleSecurityAlert.bind(this),offLabel:e("off"),onLabel:e("on"),disabled:a})))))}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:a,hasActiveShieldSubscription:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("usePhishingDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},r.default.createElement(h.default,{value:t,onToggle:e=>{a(!e)},offLabel:e("off"),onLabel:e("on"),disabled:n})))}renderUse4ByteResolutionToggle(){const{t:e}=this.context,{use4ByteResolution:t,setUse4ByteResolution:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("use4ByteResolution")),r.default.createElement("div",{className:"settings-page__content-description"},e("toggleDecodeDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"4byte-resolution-container"},r.default.createElement(h.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDataCollectionForMarketing(){const{t:e}=this.context,{dataCollectionForMarketing:t,useExternalServices:a,socialLoginEnabled:n,participateInMetaMetrics:s}=this.props,o=this.toggleDataCollectionForMarketing.bind(this);return r.default.createElement(p.Box,null,r.default.createElement(p.Box,{ref:this.settingsRefs[19],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("dataCollectionForMarketing")),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement("span",null,e(n?"dataCollectionForMarketingDescriptionSocialLogin":"dataCollectionForMarketingDescription")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"data-collection-for-marketing-toggle"},r.default.createElement(h.default,{value:t,disabled:!a||!s,onToggle:e=>o(!e),offLabel:e("off"),onLabel:e("on")}))),this.state.hasEmailMarketingConsentError&&r.default.createElement(p.Box,{paddingBottom:4},r.default.createElement(p.Text,{as:"p",color:E.TextColor.errorDefault,variant:E.TextVariant.bodySm},e("notificationsSettingsBoxError"))))}renderChooseYourNetworkButton(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(p.Box,{className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network",display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("chooseYourNetwork")),r.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[r.default.createElement("a",{href:d.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg")),r.default.createElement("a",{href:T.default.SOLANA_ACCOUNTS,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link-solana"},e("chooseYourNetworkDescriptionCallToAction"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,l.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(_.ADD_POPULAR_CUSTOM_NETWORK):t(_.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork"))))}renderSafeChainsListValidationToggle(){const{t:e}=this.context,{useSafeChainsListValidation:t,setUseSafeChainsListValidation:a}=this.props,n=e("useSafeChainsListValidationWebsite");return r.default.createElement(p.Box,{ref:this.settingsRefs[14],className:"settings-page__content-row","data-testid":"setting-safe-chains-validation",display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:4},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useSafeChainsListValidation")),r.default.createElement("div",{className:"settings-page__content-description"},e("useSafeChainsListValidationDescription",[r.default.createElement("b",{key:"safechain-list-validation-website"},n)]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useSafeChainsListValidation"},r.default.createElement(h.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderIpfsGatewayControl(){const{t:e}=this.context,{setIpfsGateway:t,setIsIpfsGatewayEnabled:a,useAddressBarEnsResolution:n,setUseAddressBarEnsResolution:s}=this.props;let o="";const i=a=>{if(a.length>0)try{const n=(0,l.addUrlProtocolPrefix)(a);n||(o=e("invalidIpfsGateway"));const s=new URL(n);"gateway.ipfs.io"===s.host&&(o=e("forbiddenIpfsGateway")),0===o.length&&t(s.host)}catch(t){o=e("invalidIpfsGateway")}else o=e("invalidIpfsGateway");this.setState({ipfsGateway:a,ipfsGatewayError:o})};return r.default.createElement(p.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway",display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:4},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("ipfsGateway")),r.default.createElement("div",{className:"settings-page__content-description"},e("ipfsGatewayDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfsToggle"},r.default.createElement(h.default,{value:this.state.ipfsToggle,onToggle:e=>{e?(a(!1),t("")):(a(!0),i(this.state.ipfsGateway)),this.setState({ipfsToggle:!e})},offLabel:e("off"),onLabel:e("on")}))),this.state.ipfsToggle&&r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("addIPFSGateway")),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(f.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>i(e.target.value),error:this.state.ipfsGatewayError,fullWidth:!0,margin:"dense"}))),r.default.createElement(p.Box,{className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4,ref:this.settingsRefs[11],marginTop:3,id:"ens-domains"},r.default.createElement("div",null,e("ensDomainsSettingTitle"),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement(p.Text,{color:E.TextColor.inherit,variant:E.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),r.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},r.default.createElement(p.Text,{as:"li",color:E.TextColor.inherit,variant:E.TextVariant.inherit},e("ensDomainsSettingDescriptionPart1")),r.default.createElement(p.Text,{as:"li",color:E.TextColor.inherit,variant:E.TextVariant.inherit},e("ensDomainsSettingDescriptionPart2"))),r.default.createElement(p.Text,{color:E.TextColor.inherit,variant:E.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfs-gateway-resolution-container"},r.default.createElement(h.default,{value:n,onToggle:e=>s(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoDetectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4,id:"advanced-settings-autodetect-tokens"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("autoDetectTokens")),r.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[r.default.createElement("a",{href:d.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,n.startCase)(e("learnMore")))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},r.default.createElement(h.default,{value:t,onToggle:e=>{this.toggleSetting(e,a)},offLabel:e("off"),onLabel:e("on")})))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useMultiAccountBalanceChecker")),r.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},r.default.createElement(h.default,{value:t,onToggle:e=>{this.toggleSetting(e,a)},offLabel:e("off"),onLabel:e("on")})))}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("currencyRateCheckToggle")),r.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[r.default.createElement("a",{key:"coingecko_link",href:d.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),r.default.createElement("a",{key:"cryptocompare_link",href:d.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),r.default.createElement("a",{key:"privacy_policy_link",href:d.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},r.default.createElement(h.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDisplayNftMediaToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[12],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4,id:"display-nft-media"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("displayNftMedia")),r.default.createElement("div",{className:"settings-page__content-description"},e("displayNftMediaDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"displayNftMedia"},r.default.createElement(h.default,{value:t,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),e&&n&&s(!1),a(!e)},offLabel:e("off"),onLabel:e("on")})))}renderNftDetectionToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[13],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useNftDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("useNftDetectionDescriptionText"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useNftDetection"},r.default.createElement(h.default,{value:n,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),e||t||a(!e),s(!e)},offLabel:e("off"),onLabel:e("on")})))}renderExternalNameSourcesToggle(){const{t:e}=this.context,{useExternalNameSources:t,setUseExternalNameSources:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[15],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("externalNameSourcesSetting")),r.default.createElement("div",{className:"settings-page__content-description"},e("externalNameSourcesSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useExternalNameSources"},r.default.createElement(h.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderSimulationsToggle(){const{t:e}=this.context,{useTransactionSimulations:t,setUseTransactionSimulations:a,hasActiveShieldSubscription:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[17],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("simulationsSettingSubHeader")),r.default.createElement("div",{className:"settings-page__content-description"},e("simulationsSettingDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useTransactionSimulations"},r.default.createElement(h.default,{value:t,onToggle:e=>{a(!e)},offLabel:e("off"),onLabel:e("on"),disabled:n})))}toggleSecurityAlert(e){const t=!e,{setSecurityAlertsEnabled:a}=this.props;this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{blockaid_alerts_enabled:t}}),a(t)}renderUseExternalServices(){const{t:e}=this.context,{useExternalServices:t,toggleExternalServices:a,setBasicFunctionalityModalOpen:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween,gap:4,"data-testid":"advanced-setting-show-testnet-conversion"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement(p.Box,{display:E.Display.Flex,justifyContent:E.JustifyContent.spaceBetween,alignItems:E.AlignItems.center,marginBottom:2},r.default.createElement(p.Text,{variant:E.TextVariant.headingSm},e("basicConfigurationLabel")),r.default.createElement(h.default,{value:t,onToggle:()=>{t?n():(a(!0),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"security_privacy",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_notifications_on:!1,was_profile_syncing_on:!1}}))},offLabel:e("off"),onLabel:e("on")})),r.default.createElement(p.Text,{marginBottom:2,color:E.TextColor.textAlternative},e("basicConfigurationDescription",[r.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"}))}renderSkipDeepLinkInterstitial(){const{t:e}=this.context,{skipDeepLinkInterstitial:t,setSkipDeepLinkInterstitial:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement(p.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"setting-skip-deep-link-interstitial",display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:4,id:"skip-deep-link-interstitial"},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("skipDeepLinkInterstitial")),r.default.createElement("div",{className:"settings-page__content-description"},e("skipDeepLinkInterstitialDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"skipDeepLinkInterstitial"},r.default.createElement(h.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))))}render(){const{petnamesEnabled:e,dataCollectionForMarketing:t}=this.props,{showDataCollectionDisclaimer:a}=this.state;return r.default.createElement("div",{className:"settings-page__body"},this.renderUseExternalServices(),a?this.renderDataCollectionWarning():null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),(0,b.getIsSeedlessOnboardingFeatureEnabled)()&&this.renderChangePassword(),this.renderSecurityAlertsToggle(),r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("alerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderSkipDeepLinkInterstitial()),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("smartContracts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderUse4ByteResolutionToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderSimulationsToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header",ref:this.settingsRefs[6]},this.context.t("networkProvider")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderSafeChainsListValidationToggle(),this.renderIpfsGatewayControl()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle(),this.renderDisplayNftMediaToggle(),this.renderNftDetectionToggle()),e&&r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("settingsSubHeadingSignaturesAndTransactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderExternalNameSourcesToggle())),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(v.default,{dataCollectionForMarketing:t,setDataCollectionForMarketing:this.toggleDataCollectionForMarketing.bind(this)}),this.renderDataCollectionForMarketing(),r.default.createElement(C.default,{ref:this.settingsRefs[20]})))}}a.default=k,I(k,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),I(k,"propTypes",{navigate:s.default.func.isRequired,openSeaEnabled:s.default.bool,setOpenSeaEnabled:s.default.func,useNftDetection:s.default.bool,setUseNftDetection:s.default.func,dataCollectionForMarketing:s.default.bool,setDataCollectionForMarketing:s.default.func.isRequired,participateInMetaMetrics:s.default.bool.isRequired,setParticipateInMetaMetrics:s.default.func.isRequired,setUsePhishDetect:s.default.func.isRequired,usePhishDetect:s.default.bool.isRequired,setUse4ByteResolution:s.default.func.isRequired,use4ByteResolution:s.default.bool.isRequired,useTokenDetection:s.default.bool.isRequired,setUseTokenDetection:s.default.func.isRequired,setIpfsGateway:s.default.func.isRequired,setIsIpfsGatewayEnabled:s.default.func.isRequired,ipfsGateway:s.default.string.isRequired,useMultiAccountBalanceChecker:s.default.bool.isRequired,setUseMultiAccountBalanceChecker:s.default.func.isRequired,useSafeChainsListValidation:s.default.bool.isRequired,setUseSafeChainsListValidation:s.default.func.isRequired,useCurrencyRateCheck:s.default.bool.isRequired,setUseCurrencyRateCheck:s.default.func.isRequired,useAddressBarEnsResolution:s.default.bool.isRequired,setUseAddressBarEnsResolution:s.default.func.isRequired,useExternalNameSources:s.default.bool.isRequired,setUseExternalNameSources:s.default.func.isRequired,setBasicFunctionalityModalOpen:s.default.func.isRequired,setUseTransactionSimulations:s.default.func.isRequired,useTransactionSimulations:s.default.bool.isRequired,petnamesEnabled:s.default.bool.isRequired,securityAlertsEnabled:s.default.bool,useExternalServices:s.default.bool,toggleExternalServices:s.default.func,setSkipDeepLinkInterstitial:s.default.func.isRequired,skipDeepLinkInterstitial:s.default.bool,setSecurityAlertsEnabled:s.default.func,metaMetricsDataDeletionId:s.default.string,hdEntropyIndex:s.default.number,isSeedPhraseBackedUp:s.default.bool,socialLoginEnabled:s.default.bool,socialLoginType:s.default.string,setMarketingConsent:s.default.func,getMarketingConsent:s.default.func,hasActiveShieldSubscription:s.default.bool})}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.component.js"}],[8096,{"../../../../shared/modules/selectors/networks":6034,"../../../ducks/app/app":7122,"../../../ducks/metamask/metamask":7137,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../../selectors":8207,"../../../selectors/subscription":8236,"../../../store/actions":8241,"./security-tab.component":8095,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-redux"),s=e("redux"),r=p(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../store/actions"),l=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),c=e("../../../ducks/app/app"),u=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/subscription"),m=p(e("./security-tab.component"));function p(e){return e&&e.__esModule?e:{default:e}}a.default=(0,s.compose)(r.default,(0,n.connect)(e=>{const{metamask:t}=e,{usePhishDetect:a,useTokenDetection:n,ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:m,openSeaEnabled:p,useNftDetection:f,use4ByteResolution:h,useExternalServices:g,useExternalNameSources:E}=t,{skipDeepLinkInterstitial:_}=(0,l.getPreferences)(e);return{networkConfigurations:(0,i.getNetworkConfigurationsByChainId)(e),participateInMetaMetrics:(0,l.getParticipateInMetaMetrics)(e),dataCollectionForMarketing:(0,l.getDataCollectionForMarketing)(e),usePhishDetect:a,useTokenDetection:n,hasActiveShieldSubscription:(0,d.getIsActiveShieldSubscription)(e),ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:m,openSeaEnabled:p,useNftDetection:f,use4ByteResolution:h,useExternalNameSources:E,useExternalServices:g,securityAlertsEnabled:(0,l.getIsSecurityAlertsEnabled)(e),useTransactionSimulations:t.useTransactionSimulations,metaMetricsDataDeletionId:(0,l.getMetaMetricsDataDeletionId)(e),hdEntropyIndex:(0,l.getHDEntropyIndex)(e),skipDeepLinkInterstitial:Boolean(_),isSeedPhraseBackedUp:(0,u.getIsPrimarySeedPhraseBackedUp)(e),socialLoginEnabled:(0,l.getIsSocialLoginFlow)(e),socialLoginType:(0,l.getSocialLoginType)(e)}},e=>({setParticipateInMetaMetrics:t=>e((0,o.setParticipateInMetaMetrics)(t)),setDataCollectionForMarketing:t=>e((0,o.setDataCollectionForMarketing)(t)),setUsePhishDetect:t=>e((0,o.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,o.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,o.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,o.setIpfsGateway)(t)),setIsIpfsGatewayEnabled:t=>e((0,o.setIsIpfsGatewayEnabled)(t)),setUseMultiAccountBalanceChecker:t=>e((0,o.setUseMultiAccountBalanceChecker)(t)),setUseAddressBarEnsResolution:t=>e((0,o.setUseAddressBarEnsResolution)(t)),setUseSafeChainsListValidation:t=>e((0,o.setUseSafeChainsListValidation)(t)),setBasicFunctionalityModalOpen:()=>e((0,c.openBasicFunctionalityModal)()),setSkipDeepLinkInterstitial:t=>e((0,o.setSkipDeepLinkInterstitial)(t)),setOpenSeaEnabled:t=>e((0,o.setOpenSeaEnabled)(t)),setUseNftDetection:t=>e((0,o.setUseNftDetection)(t)),setUse4ByteResolution:t=>e((0,o.setUse4ByteResolution)(t)),setUseExternalNameSources:t=>e((0,o.setUseExternalNameSources)(t)),toggleExternalServices:t=>e((0,o.toggleExternalServices)(t)),setUseTransactionSimulations:t=>e((0,o.setUseTransactionSimulations)(t)),updateDataDeletionTaskStatus:()=>(0,o.updateDataDeletionTaskStatus)(),setSecurityAlertsEnabled:e=>(0,o.setSecurityAlertsEnabled)(e),getMarketingConsent:()=>(0,o.getMarketingConsent)(),setMarketingConsent:t=>e((0,o.setMarketingConsent)(t))})))(m.default)}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.container.js"}],[8097,{"./settings-search-list":8098},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search-list"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/index.js"}],[8098,{"../../../components/component-library":6633,"../../../contexts/i18n":7105,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/settings-search":7197,classnames:4209,"prop-types":5196,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),l=e("../../../helpers/utils/settings-search"),i=e("../../../contexts/i18n"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function p(e){const t=(0,n.c)(28),{results:a,onClickSetting:r}=e,d=(0,s.useContext)(i.I18nContext);let m,p,f,h,g,E,_,y,S,T;if(t[0]!==a?(m=[a],t[0]=a,t[1]=m):m=t[1],(0,s.useEffect)(l.highlightSearchedText,m),t[2]!==r||t[3]!==a||t[4]!==d){let e;t[6]!==r||t[7]!==d?(e=e=>{const{icon:t,iconName:a,tabMessage:n,sectionMessage:l,route:i}=e;return Boolean(t||n||l)&&s.default.createElement("div",{key:`settings_${i}`},s.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>r(e)},a?s.default.createElement(c.Icon,{name:a}):s.default.createElement("i",{className:(0,o.default)("settings-page__header__search__list__item__icon",t)}),s.default.createElement("span",{id:`menu-tab_${i}`,className:(0,o.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":n(d)===d("securityAndPrivacy")})},n(d)),s.default.createElement(c.Icon,{name:c.IconName.ArrowRight,size:u.Size.SM,className:"settings-page__header__search__list__item__caret"}),s.default.createElement("span",{id:`menu-section_${i}`,className:(0,o.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":n(d)===d("securityAndPrivacy")||n(d)===d("alerts")})},l(d))))},t[6]=r,t[7]=d,t[8]=e):e=t[8],p=a.slice(0,5).map(e),t[2]=r,t[3]=a,t[4]=d,t[5]=p}else p=t[5];return t[9]!==a.length||t[10]!==d?(f=0===a.length&&s.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},s.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},d("settingsSearchMatchingNotFound"))),t[9]=a.length,t[10]=d,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(h={cursor:"auto",display:"flex"},t[12]=h):h=t[12],t[13]!==d?(g=d("missingSetting"),t[13]=d,t[14]=g):g=t[14],t[15]!==g?(E=s.default.createElement("span",{className:"settings-page__header__search__list__item__request"},g),t[15]=g,t[16]=E):E=t[16],t[17]!==d?(_=d("missingSettingRequest"),t[17]=d,t[18]=_):_=t[18],t[19]!==_?(y=s.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},_),t[19]=_,t[20]=y):y=t[20],t[21]!==E||t[22]!==y?(S=s.default.createElement("div",{className:"settings-page__header__search__list__item",style:h},E,y),t[21]=E,t[22]=y,t[23]=S):S=t[23],t[24]!==p||t[25]!==f||t[26]!==S?(T=s.default.createElement("div",{className:"settings-page__header__search__list"},p,f,S),t[24]=p,t[25]=f,t[26]=S,t[27]=T):T=t[27],T}p.propTypes={results:r.default.array,onClickSetting:r.default.func}}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/settings-search-list.js"}],[8099,{"./settings-search":8100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search/index.js"}],[8100,{"../../../../shared/modules/string-utils":6045,"../../../components/component-library":6633,"../../../components/ui/text-field":7084,"../../../contexts/i18n":7105,"../../../helpers/constants/design-system":7149,"@material-ui/core/InputAdornment":1039,"fuse.js":4525,"prop-types":5196,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=h;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=p(e("prop-types")),o=p(e("fuse.js")),l=p(e("@material-ui/core/InputAdornment")),i=p(e("../../../components/ui/text-field")),c=e("../../../contexts/i18n"),u=e("../../../../shared/modules/string-utils"),d=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function h(e){const t=(0,n.c)(30),{onSearch:a,error:r,settingsRoutesList:p}=e,f=(0,s.useContext)(c.I18nContext),[h,g]=(0,s.useState)(""),[E,_]=(0,s.useState)(m.IconColor.iconMuted);let y,S;if(t[0]!==p||t[1]!==f){let e;y=Object.values(p),t[4]!==f?(e=(e,t)=>e[t](f),t[4]=f,t[5]=e):e=t[5],S=new o.default(y,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:e}),t[0]=p,t[1]=f,t[2]=y,t[3]=S}else y=t[2],S=t[3];const T=S;let b;t[6]!==a||t[7]!==y||t[8]!==T?(b=e=>{const t=e.trimStart();g(t),_(""===t?m.IconColor.iconMuted:m.IconColor.iconDefault);const n=T.search(t),s=[...y.filter(e=>e.tabMessage&&t&&(0,u.isEqualCaseInsensitive)(e.tab,t)),...n];a({searchQuery:t,results:s})},t[6]=a,t[7]=y,t[8]=T,t[9]=b):b=t[9];const v=b;let C;t[10]!==E?(C=()=>s.default.createElement(l.default,{position:"start",style:{marginRight:"12px"}},s.default.createElement(d.Icon,{size:d.IconSize.Sm,name:d.IconName.Search,color:E})),t[10]=E,t[11]=C):C=t[11];const x=C;let w;t[12]!==v||t[13]!==h?(w=()=>s.default.createElement(s.default.Fragment,null,h&&s.default.createElement(l.default,{className:"imageclosectn",position:"end",onClick:()=>v(""),style:{cursor:"pointer"}},s.default.createElement(d.Icon,{name:d.IconName.Close,color:m.IconColor.iconDefault,size:d.IconSize.Xs}))),t[12]=v,t[13]=h,t[14]=w):w=t[14];const I=w;let k,M,N,R,A;return t[15]!==f?(k=f("search"),t[15]=f,t[16]=k):k=t[16],t[17]!==v?(M=e=>v(e.target.value),t[17]=v,t[18]=M):M=t[18],t[19]!==x?(N=x(),t[19]=x,t[20]=N):N=t[20],t[21]!==I?(R=I(),t[21]=I,t[22]=R):R=t[22],t[23]!==r||t[24]!==h||t[25]!==k||t[26]!==M||t[27]!==N||t[28]!==R?(A=s.default.createElement(i.default,{id:"search-settings",placeholder:k,type:"text",value:h,onChange:M,error:r,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:N,endAdornment:R,theme:"bordered"}),t[23]=r,t[24]=h,t[25]=k,t[26]=M,t[27]=N,t[28]=R,t[29]=A):A=t[29],A}h.propTypes={onSearch:r.default.func,error:r.default.string,settingsRoutesList:r.default.array}}}},{package:"$root$",file:"ui/pages/settings/settings-search/settings-search.js"}],[8101,{"./settings-tab.container":8103},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./settings-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/settings-tab/index.js"}],[8102,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/preferences":5901,"../../../components/component-library":6633,"../../../components/ui/dropdown":7007,"../../../components/ui/toggle-button":7088,"../../../helpers/constants/available-conversions.json":7146,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/settings-search":7197,"@metamask/design-system-react":1846,classnames:4209,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=g(e("prop-types")),r=g(e("classnames")),o=e("@metamask/design-system-react"),l=g(e("../../../helpers/constants/available-conversions.json")),i=e("../../../helpers/constants/design-system"),c=g(e("../../../components/ui/dropdown")),u=g(e("../../../components/ui/toggle-button")),d=g(e("../../../../app/_locales/index.json")),m=e("../../../../shared/constants/metametrics"),p=e("../../../helpers/utils/settings-search"),f=e("../../../../shared/constants/preferences"),h=e("../../../components/component-library");function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function _(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y=l.default.sort((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())).map(({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e})),S=d.default.map(e=>({name:`${e.name}`,value:e.code}));class T extends n.PureComponent{constructor(...e){super(...e),_(this,"settingsRefs",Array((0,p.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("general"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:a}=this.props;return n.default.createElement(h.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("currencyConversion"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"currency-select",id:"select-currency",options:y,selectedOption:t,onChange:e=>{a(e),this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.CurrentCurrency,properties:{current_currency:e,location:"settings-page"}})},className:"settings-page__content-item__dropdown"}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:a}=this.props;return n.default.createElement(h.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("currentLanguage"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"locale-select",id:"select-locale",options:S,selectedOption:a,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:a}=this.props;return n.default.createElement(h.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,id:"toggle-zero-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("hideZeroBalanceTokens"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{value:t,onToggle:e=>a(!e),"data-testid":"toggle-zero-balance-button"})))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,avatarType:a,setAvatarType:s,selectedAddress:l}=this.props;let c;return a!==undefined?c=a:t&&(c="blockies"),n.default.createElement(h.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,id:"blockie-optin"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("accountIdenticon")),n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative,marginBottom:3,className:"settings-page__content-item__description"},e("accountIdenticonDescription")),n.default.createElement("div",{className:"settings-page__content-item__identicon gap-8"},n.default.createElement("button",{"data-testid":"maskicon_icon",onClick:()=>s("maskicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{address:l,variant:o.AvatarAccountVariant.Maskicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"maskicon"===c})}),n.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6"},e("maskicons"))),n.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>s("jazzicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"jazzicon",address:l,variant:o.AvatarAccountVariant.Jazzicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"jazzicon"===c})}),n.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6"},e("jazzicons"))),n.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>s("blockies"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"blockies",address:l,variant:o.AvatarAccountVariant.Blockies,className:(0,r.default)({"outline outline-2 outline-primary-default":"blockies"===c})}),n.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6"},e("blockies"))))))}renderShowNativeTokenAsMainBalance(){const{t:e}=this.context,t=e=>{this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.SettingsUpdated,properties:{show_native_token_as_main_balance:e}})},{setShowNativeTokenAsMainBalancePreference:a,showNativeTokenAsMainBalance:s}=this.props;return n.default.createElement(h.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,id:"toggle-show-native-token-as-main-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("showNativeTokenAsMainBalance"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{className:"show-native-token-as-main-balance",value:s,onToggle:e=>{a(!e),t(!e)}})))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:a}=this.props,s=[{name:e("lightTheme"),value:f.ThemeType.light},{name:e("darkTheme"),value:f.ThemeType.dark},{name:e("osTheme"),value:f.ThemeType.os}];return n.default.createElement(h.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},this.context.t("theme")),n.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{id:"select-theme",options:s,selectedOption:t,onChange:e=>{this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:"Theme Changed",properties:{theme_selected:e}}),a(e)}}))))}render(){return n.default.createElement("div",{className:"settings-page__body"},this.renderCurrentConversion(),this.renderShowNativeTokenAsMainBalance(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}a.default=T,_(T,"contextTypes",{t:s.default.func,metricsEvent:s.default.func,trackEvent:s.default.func}),_(T,"propTypes",{avatarType:s.default.string,setAvatarType:s.default.func,setCurrentCurrency:s.default.func,updateCurrentLocale:s.default.func,currentLocale:s.default.string,useBlockie:s.default.bool,currentCurrency:s.default.string,showNativeTokenAsMainBalance:s.default.bool,setShowNativeTokenAsMainBalancePreference:s.default.func,hideZeroBalanceTokens:s.default.bool,setHideZeroBalanceTokens:s.default.func,selectedAddress:s.default.string,theme:s.default.string,setTheme:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.component.js"}],[8103,{"../../../../shared/modules/selectors/networks":6034,"../../../selectors":8207,"../../../store/actions":8241,"./settings-tab.component":8102,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../selectors"),l=e("../../../../shared/modules/selectors/networks"),i=(n=e("./settings-tab.component"))&&n.__esModule?n:{default:n};a.default=(0,s.connect)(e=>{const{metamask:t}=e,{currentCurrency:a,useBlockie:n,currentLocale:s}=t,{ticker:r}=(0,l.getProviderConfig)(e),{address:i}=(0,o.getSelectedInternalAccount)(e),{hideZeroBalanceTokens:c,showNativeTokenAsMainBalance:u,avatarType:d}=(0,o.getPreferences)(e);return{currentLocale:s,currentCurrency:a,nativeCurrency:r,useBlockie:n,avatarType:d,showNativeTokenAsMainBalance:u,hideZeroBalanceTokens:c,selectedAddress:i,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}},e=>({setCurrentCurrency:t=>e((0,r.setCurrentCurrency)(t)),setAvatarType:t=>e((0,r.setAvatarType)(t)),updateCurrentLocale:t=>e((0,r.updateCurrentLocale)(t)),setShowNativeTokenAsMainBalancePreference:t=>e((0,r.setShowNativeTokenAsMainBalancePreference)(t)),setParticipateInMetaMetrics:t=>e((0,r.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,r.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,r.setTheme)(t))}))(i.default)}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.container.js"}],[8104,{"../../../app/scripts/lib/util":368,"../../../shared/constants/app":5876,"../../components/app/password-outdated-modal":6298,"../../components/app/shield-entry-modal":6371,"../../components/app/snaps/snap-icon":6395,"../../components/app/snaps/snap-settings-page":6415,"../../components/app/tab-bar":6517,"../../components/component-library":6633,"../../components/ui/metafox-logo":7049,"../../helpers/constants/design-system":7149,"../../helpers/constants/routes":7154,"../../helpers/utils/settings-search":7197,"../routes/utils":8048,"./advanced-tab":8051,"./backup-and-sync-tab":8054,"./contact-list-tab":8064,"./developer-options-tab":8072,"./experimental-tab":8077,"./info-tab":8079,"./security-tab":8090,"./security-tab/change-password":8087,"./security-tab/reveal-srp-list":8093,"./settings-search":8099,"./settings-search-list":8097,"./settings-tab":8101,"./transaction-shield-tab":8125,"./transaction-shield-tab/claims-area":8110,"./transaction-shield-tab/manage-shield-plan":8126,classnames:4209,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=O(e("prop-types")),o=e("react-router-dom"),l=O(e("classnames")),i=O(e("../../components/app/tab-bar")),c=e("../../helpers/constants/routes"),u=e("../../helpers/utils/settings-search"),d=e("../../components/component-library"),m=e("../../helpers/constants/design-system"),p=O(e("../../components/ui/metafox-logo")),f=e("../../../app/scripts/lib/util"),h=e("../../../shared/constants/app"),g=e("../../components/app/snaps/snap-icon"),E=e("../../components/app/snaps/snap-settings-page"),_=O(e("../../components/app/password-outdated-modal")),y=O(e("../../components/app/shield-entry-modal")),S=e("../routes/utils"),T=O(e("./settings-tab")),b=O(e("./advanced-tab")),v=O(e("./info-tab")),C=O(e("./security-tab")),x=O(e("./contact-list-tab")),w=(O(e("./developer-options-tab")),O(e("./experimental-tab"))),I=O(e("./settings-search")),k=O(e("./settings-search-list")),M=e("./security-tab/reveal-srp-list"),N=O(e("./backup-and-sync-tab")),R=O(e("./security-tab/change-password")),A=O(e("./transaction-shield-tab/claims-area")),D=O(e("./transaction-shield-tab")),P=O(e("./transaction-shield-tab/manage-shield-plan"));function O(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}function L(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const F=e=>{const t=(0,n.c)(4),{onMount:a}=e;let r,l,i;return t[0]!==a?(r=()=>{a()},l=[a],t[0]=a,t[1]=r,t[2]=l):(r=t[1],l=t[2]),s.default.useEffect(r,l),t[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.default.createElement(o.Navigate,{to:{pathname:c.DEFAULT_ROUTE}}),t[3]=i):i=t[3],i};F.propTypes={onMount:r.default.func.isRequired};class U extends s.PureComponent{constructor(...e){super(...e),L(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:"",showShieldEntryModal:!1})}componentDidMount(){this.handleConversionDate(),this.props.shouldShowShieldEntryModal&&(this.props.hasSubscribedToShield?setTimeout(()=>{this.props.navigate(c.TRANSACTION_SHIELD_ROUTE)}):this.setState({showShieldEntryModal:!0}))}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{navigate:t}=this.props;t(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{navigate:e,backRoute:t,currentPath:a,mostRecentOverviewPage:n,addNewNetwork:r,isPasswordChangePage:o,isRevealSrpListPage:i,isSeedlessPasswordOutdated:u,isTransactionShieldPage:g}=this.props,{t:E}=this.context,S=(0,f.getEnvironmentType)(),T=S===h.ENVIRONMENT_TYPE_POPUP||S===h.ENVIRONMENT_TYPE_SIDEPANEL,b=S===h.ENVIRONMENT_TYPE_SIDEPANEL,v=i||o||g;return s.default.createElement("div",{className:(0,l.default)("main-container main-container--has-shadow settings-page",{"settings-page--selected":a!==c.SETTINGS_ROUTE,"settings-page--sidepanel":b})},this.state.showShieldEntryModal&&s.default.createElement(y.default,{skipEventSubmission:!0,onClose:()=>this.setState({showShieldEntryModal:!1})}),u&&s.default.createElement(_.default,null),s.default.createElement(d.Box,{className:"settings-page__header",padding:4,paddingBottom:2},s.default.createElement("div",{className:(0,l.default)("settings-page__header__title-container",{"settings-page__header__title-container--hide-search":v})},T&&s.default.createElement(s.default.Fragment,null,a===c.SETTINGS_ROUTE?s.default.createElement(p.default,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:()=>e(c.DEFAULT_ROUTE),display:[m.Display.Flex,m.Display.None]}):s.default.createElement(d.ButtonIcon,{ariaLabel:E("back"),iconName:d.IconName.ArrowLeft,className:"settings-page__header__title-container__back-button",color:m.Color.iconDefault,onClick:()=>e(t),display:[m.Display.Flex,m.Display.None],size:d.ButtonIconSize.Md})),this.renderTitle(),this.renderSearch(),s.default.createElement(d.ButtonIcon,{className:"settings-page__header__title-container__close-button",iconName:d.IconName.Close,ariaLabel:E("close"),onClick:()=>{e(r?c.NETWORKS_ROUTE:n)},size:d.ButtonIconSize.Md,marginLeft:"auto"}))),s.default.createElement("div",{className:"settings-page__content"},s.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),s.default.createElement("div",{className:"settings-page__content__modules"},this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:a,addressName:n,snapSettingsTitle:r}=this.props;let o;return o=t&&n?e("details"):a&&t?e(a):r||e("settings"),s.default.createElement("div",{className:"settings-page__header__title-container__title"},s.default.createElement(d.Text,{variant:m.TextVariant.headingMd,ellipsis:!0},o))}renderSearch(){const{isSearchList:e,searchText:t,searchResults:a}=this.state,{isRevealSrpListPage:n,isPasswordChangePage:r,isTransactionShieldPage:o}=this.props;return n||r||o?null:s.default.createElement(d.Box,{className:"settings-page__header__title-container__search",display:[m.Display.Block]},s.default.createElement(I.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,u.getSettingsRoutes)()}),e&&t.length>=3&&s.default.createElement(k.default,{results:a,onClickSetting:e=>this.handleClickSetting(e)}))}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:a,isAddressEntryPage:n,pathnameI18nKey:r,addressName:o,backRoute:l,navigate:i}=this.props;let u;u=e(a&&n?"settings":n?"contacts":r||"general");const p=l!==c.SETTINGS_ROUTE;return!t.startsWith(c.NETWORKS_ROUTE)&&s.default.createElement(d.Box,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:m.Display.Flex,flexDirection:m.FlexDirection.Row,alignItems:m.AlignItems.center},p&&s.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,onClick:()=>i(l),marginRight:2,size:d.ButtonIconSize.Md,"data-testid":"settings-back-button"}),s.default.createElement(d.Text,{variant:m.TextVariant.headingSm},u),n&&s.default.createElement("div",{className:"settings-page__subheader--break"},s.default.createElement("span",null," > "),o))}renderTabs(){const{navigate:e,currentPath:t,useExternalServices:a,settingsPageSnaps:n,isMetaMaskShieldFeatureEnabled:r,hasSubscribedToShield:l}=this.props,{t:u}=this.context,m=n.map(({id:e,name:t})=>({content:t,icon:s.default.createElement(g.SnapIcon,{snapId:e,avatarSize:d.IconSize.Md,style:{"--size":"20px"}}),key:`${c.SNAP_SETTINGS_ROUTE}/${encodeURIComponent(e)}`})),p=[{content:u("general"),icon:s.default.createElement(d.Icon,{name:d.IconName.Setting}),key:c.GENERAL_ROUTE},...m,{content:u("advanced"),icon:s.default.createElement("i",{className:"fas fa-sliders-h"}),key:c.ADVANCED_ROUTE},{content:u("backupAndSync"),icon:s.default.createElement(d.Icon,{name:d.IconName.SecurityTime}),key:c.BACKUPANDSYNC_ROUTE},{content:u("contacts"),icon:s.default.createElement(d.Icon,{name:d.IconName.Book}),key:c.CONTACT_LIST_ROUTE},{content:u("securityAndPrivacy"),icon:s.default.createElement(d.Icon,{name:d.IconName.Lock}),key:c.SECURITY_ROUTE},{content:u("experimental"),icon:s.default.createElement(d.Icon,{name:d.IconName.Flask}),key:c.EXPERIMENTAL_ROUTE},{content:u("about"),icon:s.default.createElement(d.Icon,{name:d.IconName.Info}),key:c.ABOUT_US_ROUTE}];return a&&p.splice(4,0,{content:u("notifications"),icon:s.default.createElement(d.Icon,{name:d.IconName.Notification}),key:c.NOTIFICATIONS_SETTINGS_ROUTE}),r&&a&&p.splice(-4,0,{content:u("shieldTx"),icon:s.default.createElement(d.Icon,{name:d.IconName.ShieldLock}),key:c.TRANSACTION_SHIELD_ROUTE}),s.default.createElement(i.default,{tabs:p,isActive:e=>e===c.GENERAL_ROUTE&&t===c.SETTINGS_ROUTE||(!(e!==c.CONTACT_LIST_ROUTE||!t.includes(c.CONTACT_LIST_ROUTE))||(0,o.matchPath)(e,t)),onSelect:t=>{t!==c.TRANSACTION_SHIELD_ROUTE||l?e(t):this.setState({showShieldEntryModal:!0})}})}renderContent(){return s.default.createElement(o.Routes,null,s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.GENERAL_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(T.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.ABOUT_US_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(v.default,null)}),s.default.createElement(o.Route,{path:`${(0,S.toRelativeRoutePath)(c.SNAP_SETTINGS_ROUTE,c.SETTINGS_ROUTE)}/:snapId`,element:s.default.createElement(E.SnapSettingsRenderer,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.ADVANCED_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(b.default,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.BACKUPANDSYNC_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(N.default,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.ADD_NETWORK_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(F,{onMount:()=>this.props.toggleNetworkMenu({isAddingNewNetwork:!0})})}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.NETWORKS_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(F,{onMount:()=>this.props.toggleNetworkMenu()})}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.ADD_POPULAR_CUSTOM_NETWORK,c.SETTINGS_ROUTE),element:s.default.createElement(F,{onMount:()=>this.props.toggleNetworkMenu()})}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.SECURITY_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(C.default,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.TRANSACTION_SHIELD_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(D.default,null)}),s.default.createElement(o.Route,{path:`${(0,S.toRelativeRoutePath)(c.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE,c.SETTINGS_ROUTE)}/*`,element:s.default.createElement(A.default,null)}),s.default.createElement(o.Route,{path:`${(0,S.toRelativeRoutePath)(c.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE,c.SETTINGS_ROUTE)}/*`,element:s.default.createElement(P.default,null)}),s.default.createElement(o.Route,{path:`${(0,S.toRelativeRoutePath)(c.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE,c.SETTINGS_ROUTE)}/*`,element:s.default.createElement(P.default,{isPastPlan:!0})}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.EXPERIMENTAL_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(w.default,null)}),!1,s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.CONTACT_LIST_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(x.default,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.CONTACT_ADD_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(x.default,null)}),s.default.createElement(o.Route,{path:`${(0,S.toRelativeRoutePath)(c.CONTACT_EDIT_ROUTE,c.SETTINGS_ROUTE)}/:id`,element:s.default.createElement(x.default,null)}),s.default.createElement(o.Route,{path:`${(0,S.toRelativeRoutePath)(c.CONTACT_VIEW_ROUTE,c.SETTINGS_ROUTE)}/:id`,element:s.default.createElement(x.default,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.REVEAL_SRP_LIST_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(M.RevealSrpList,null)}),s.default.createElement(o.Route,{path:(0,S.toRelativeRoutePath)(c.SECURITY_PASSWORD_CHANGE_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(R.default,null)}),s.default.createElement(o.Route,{path:"*",element:s.default.createElement(T.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}))}}L(U,"propTypes",{addNewNetwork:r.default.bool,addressName:r.default.string,backRoute:r.default.string,conversionDate:r.default.number,currentPath:r.default.string,hasSubscribedToShield:r.default.bool,isAddressEntryPage:r.default.bool,isMetaMaskShieldFeatureEnabled:r.default.bool,isPasswordChangePage:r.default.bool,isPopup:r.default.bool,isRevealSrpListPage:r.default.bool,isSeedlessPasswordOutdated:r.default.bool,isTransactionShieldPage:r.default.bool,mostRecentOverviewPage:r.default.string.isRequired,navigate:r.default.func.isRequired,pathnameI18nKey:r.default.string,settingsPageSnaps:r.default.array,shouldShowShieldEntryModal:r.default.bool,snapSettingsTitle:r.default.string,toggleNetworkMenu:r.default.func.isRequired,useExternalServices:r.default.bool}),L(U,"contextTypes",{t:r.default.func});a.default=U}}},{package:"$root$",file:"ui/pages/settings/settings.component.js"}],[8105,{"../../../app/scripts/lib/util":368,"../../../shared/constants/app":5876,"../../../shared/lib/deep-links/routes/shield":5945,"../../../shared/modules/environment":6019,"../../../shared/modules/hexstring-utils":6023,"../../../shared/modules/selectors/networks":6034,"../../ducks/history/history":7134,"../../ducks/metamask/metamask":7137,"../../helpers/constants/routes":7154,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../helpers/utils/snaps":7198,"../../helpers/utils/util":7207,"../../selectors":8207,"../../selectors/subscription/subscription":8237,"../../store/actions":8241,"./settings.component":8104,"./transaction-shield-tab/types":8133,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=b(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../selectors"),l=e("../../../shared/constants/app"),i=e("../../../app/scripts/lib/util"),c=e("../../ducks/history/history"),u=e("../../../shared/modules/hexstring-utils"),d=e("../../helpers/constants/routes"),m=e("../../../shared/modules/selectors/networks"),p=e("../../store/actions"),f=e("../../helpers/utils/util"),h=e("../../helpers/utils/snaps"),g=e("../../ducks/metamask/metamask"),E=e("../../../shared/modules/environment"),_=e("../../selectors/subscription/subscription"),y=e("../../../shared/lib/deep-links/routes/shield"),S=b(e("./settings.component")),T=e("./transaction-shield-tab/types");function b(e){return e&&e.__esModule?e:{default:e}}const v={[d.ABOUT_US_ROUTE]:"about",[d.ADD_NETWORK_ROUTE]:"networks",[d.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[d.ADVANCED_ROUTE]:"advanced",[d.BACKUPANDSYNC_ROUTE]:"backupAndSync",[d.CONTACT_ADD_ROUTE]:"newContact",[d.CONTACT_EDIT_ROUTE]:"editContact",[d.CONTACT_LIST_ROUTE]:"contacts",[d.CONTACT_VIEW_ROUTE]:"viewContact",[d.DEVELOPER_OPTIONS_ROUTE]:"developerOptions",[d.EXPERIMENTAL_ROUTE]:"experimental",[d.GENERAL_ROUTE]:"general",[d.NETWORKS_FORM_ROUTE]:"networks",[d.NETWORKS_ROUTE]:"networks",[d.REVEAL_SRP_LIST_ROUTE]:"revealSecretRecoveryPhrase",[d.SECURITY_PASSWORD_CHANGE_ROUTE]:"securityChangePassword",[d.SECURITY_ROUTE]:"securityAndPrivacy",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL]:"shieldClaim",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE]:"shieldClaimsListTitle",[d.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE]:"shieldPastPlansTitle",[d.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE]:"shieldManagePlan",[d.TRANSACTION_SHIELD_ROUTE]:"shieldTx"};a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{var a,n;const{location:s}=t,{pathname:r,search:p}=s,{ticker:S}=(0,m.getProviderConfig)(e),{metamask:{currencyRates:b,socialLoginEmail:C}}=e,x=(0,o.getSettingsPageSnapsIds)(e),w=(0,o.getSnapsMetadata)(e),I=null===(a=b[S])||void 0===a?void 0:a.conversionDate,k="true"===new URLSearchParams(p).get(y.SHIELD_QUERY_PARAMS.showShieldEntryModal),M=(null===(n=r.match(/[^/]+$/u))||void 0===n?void 0:n[0])||"",N=M.includes("0x"),R=Boolean(r.match(d.CONTACT_ADD_ROUTE)),A=Boolean(r.match(d.CONTACT_EDIT_ROUTE)),D=Boolean(r.match(d.REVEAL_SRP_LIST_ROUTE)),P=Boolean(r.match(d.SECURITY_PASSWORD_CHANGE_ROUTE)),O=Boolean(r.startsWith(d.TRANSACTION_SHIELD_ROUTE)),B=Boolean(r.match(d.NETWORKS_FORM_ROUTE))||Boolean(r.match(d.ADD_NETWORK_ROUTE)),L=Boolean(r.match(d.ADD_NETWORK_ROUTE)),F=Boolean(r.match(d.ADD_POPULAR_CUSTOM_NETWORK)),U=Boolean(r.match(d.SNAP_SETTINGS_ROUTE)),j=Boolean(r.match(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)),W=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.FULL)),V=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.FULL)),$=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.EDIT_DRAFT.FULL)),H=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)),z=Boolean(r.startsWith(d.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE)),G=Boolean(r.startsWith(d.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE)),Y=(0,i.getEnvironmentType)(),K=Y===l.ENVIRONMENT_TYPE_POPUP||Y===l.ENVIRONMENT_TYPE_SIDEPANEL,q=Boolean(C);let Z=v[r];D&&q&&(Z="securitySrpWalletRecovery"),(W||V||$)&&(Z="shieldClaimsListTitle");let Q=d.SETTINGS_ROUTE;A?Q=`${d.CONTACT_VIEW_ROUTE}/${M}`:N||R?Q=d.CONTACT_LIST_ROUTE:B||F?Q=d.NETWORKS_ROUTE:D||P?Q=d.SECURITY_ROUTE:j?Q=d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE:W||$?Q=`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}?tab=${T.CLAIMS_TAB_KEYS.PENDING}`:V?Q=`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}?tab=${T.CLAIMS_TAB_KEYS.HISTORY}`:(H||z||G)&&(Q=d.TRANSACTION_SHIELD_ROUTE);const X=(0,o.getAddressBookEntryOrAccountName)(e,!(0,u.isBurnAddress)(M)&&(0,u.isValidHexAddress)(M,{mixedCaseUseChecksum:!0})?M:""),J=(0,o.getUseExternalServices)(e),ee=(0,f.getSnapName)(w),te=x.map(e=>({id:e,name:ee(e)})),ae=U&&ee((0,h.decodeSnapIdFromPathname)(r));return{addNewNetwork:L,addressName:X,backRoute:Q,conversionDate:I,currentPath:r,hasSubscribedToShield:(0,_.getHasSubscribedToShield)(e),isAddressEntryPage:N,isMetaMaskShieldFeatureEnabled:(0,E.getIsMetaMaskShieldFeatureEnabled)(),isPasswordChangePage:P,isPopup:K,isRevealSrpListPage:D,isSeedlessPasswordOutdated:(0,g.getIsSeedlessPasswordOutdated)(e),isTransactionShieldPage:O,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),pathnameI18nKey:Z,settingsPageSnaps:te,shouldShowShieldEntryModal:k,snapSettingsTitle:ae,useExternalServices:J}},function(e){return{toggleNetworkMenu:t=>e((0,p.toggleNetworkMenu)(t))}}))(S.default)}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[8106,{"../../../../components/app/preferred-avatar":6341,"../../../../components/component-library":6633,"../../../../helpers/utils/util":7207,"../../../../selectors/multichain-accounts/account-tree":8211,"@metamask/design-system-react":1846,classnames:4209,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/design-system-react"),l=e("react-redux"),i=(n=e("classnames"))&&n.__esModule?n:{default:n},c=e("../../../../components/component-library"),u=e("../../../../components/app/preferred-avatar"),d=e("../../../../selectors/multichain-accounts/account-tree"),m=e("../../../../helpers/utils/util");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(40),{label:a,modalTitle:n,onAccountSelect:p,impactedWalletAddress:f,disabled:g}=e,E=g!==undefined&&g,[_,y]=(0,r.useState)(!1),S=(0,l.useSelector)(d.getWalletsWithAccounts);let T;t[0]!==S?(T=Object.values(S).reduce(h,{}),t[0]=S,t[1]=T):T=t[1];const b=T;let v;if(t[2]!==b||t[3]!==f){{const e=Object.values(b).find(e=>e.accounts.some(e=>e.address.toLowerCase()===f.toLowerCase()));e?v=e.accounts.find(e=>e.address.toLowerCase()===f.toLowerCase())??null:v=null}t[2]=b,t[3]=f,t[4]=v}else v=t[4];const C=v;let x,w,I,k,M,N,R,A,D,P,O,B,L,F,U;return t[5]!==E?(x=(0,i.default)("mb-2",{"opacity-50":E}),t[5]=E,t[6]=x):x=t[6],t[7]!==a||t[8]!==x?(w=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,className:x},a),t[7]=a,t[8]=x,t[9]=w):w=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(I=()=>y(!0),t[10]=I):I=t[10],t[11]!==n||t[12]!==C?(k=C?r.default.createElement(r.default.Fragment,null,r.default.createElement(u.PreferredAvatar,{address:(null==C?void 0:C.address)??"",size:o.AvatarAccountSize.Sm}),r.default.createElement(o.Text,null,null==C?void 0:C.name)):r.default.createElement(o.Text,{color:o.TextColor.TextAlternative},n),t[11]=n,t[12]=C,t[13]=k):k=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(M=r.default.createElement(o.Icon,{className:"ml-auto",size:o.IconSize.Sm,color:o.IconColor.IconDefault,name:o.IconName.ArrowDown}),t[14]=M):M=t[14],t[15]!==E||t[16]!==k?(N=r.default.createElement("button",{"data-testid":"account-selector-button",disabled:E},k,M),t[15]=E,t[16]=k,t[17]=N):N=t[17],t[18]!==n||t[19]!==N?(R=r.default.createElement(o.Box,{asChild:!0,borderColor:o.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:I,"aria-label":n},N),t[18]=n,t[19]=N,t[20]=R):R=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(A=()=>y(!1),t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(D=r.default.createElement(c.ModalOverlay,null),t[22]=D):D=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(P=()=>y(!1),t[23]=P):P=t[23],t[24]!==n?(O=r.default.createElement(c.ModalHeader,{onClose:P},n),t[24]=n,t[25]=O):O=t[25],t[26]!==b||t[27]!==p||t[28]!==(null==C?void 0:C.address)?(B=r.default.createElement(c.ModalBody,{paddingRight:0,paddingLeft:0},Object.entries(b).map(e=>{const[t,a]=e;return r.default.createElement(o.Box,{key:t},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative,className:"px-4 py-2"},t),a.accounts.map(e=>r.default.createElement(o.Box,{asChild:!0,key:e.id,className:(0,i.default)("account-selector-modal__account w-full flex items-center gap-4 px-4 py-3",{"account-selector-modal__account--selected":e.address.toLowerCase()===(null==C?void 0:C.address.toLowerCase())}),onClick:()=>{p(e.address),y(!1)}},r.default.createElement("button",{"data-testid":`account-selector-account-item-${e.address.toLowerCase()}`},r.default.createElement(u.PreferredAvatar,{address:e.address??"",size:o.AvatarAccountSize.Lg}),r.default.createElement(o.Box,{className:"text-left"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},e.name),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative},(0,m.shortenAddress)(e.address)))))))})),t[26]=b,t[27]=p,t[28]=null==C?void 0:C.address,t[29]=B):B=t[29],t[30]!==O||t[31]!==B?(L=r.default.createElement(c.ModalContent,{size:c.ModalContentSize.Sm},O,B),t[30]=O,t[31]=B,t[32]=L):L=t[32],t[33]!==_||t[34]!==L?(F=r.default.createElement(c.Modal,{isOpen:_,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:A,className:"account-selector-modal","data-testid":"account-selector-modal"},D,L),t[33]=_,t[34]=L,t[35]=F):F=t[35],t[36]!==R||t[37]!==F||t[38]!==w?(U=r.default.createElement(o.Box,null,w,R,F),t[36]=R,t[37]=F,t[38]=w,t[39]=U):U=t[39],U};function f(e){return e.type.startsWith("eip155:")}function h(e,t){const a=t.metadata.name;return e[a]||(e[a]={id:t.id,name:t.metadata.name,accounts:[]}),Object.values(t.groups).forEach(t=>{const n=t.accounts.find(f);n&&e[a].accounts.push({id:t.id,name:t.metadata.name,address:n.address,type:n.type})}),e}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/account-selector.tsx"}],[8107,{"./account-selector":8106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./account-selector"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/index.ts"}],[8109,{"../../../../contexts/claims/claims":7103,"../../../../helpers/constants/routes":7154,"../claims-form":8113,"../claims-list":8116,"../types":8133,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=d(e("react")),r=e("react-router-dom"),o=e("../../../../contexts/claims/claims"),l=d(e("../claims-list")),i=d(e("../claims-form")),c=e("../../../../helpers/constants/routes"),u=e("../types");function d(e){return e&&e.__esModule?e:{default:e}}a.default=()=>{const e=(0,n.c)(5);let t,a,d,m,p;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.default.createElement(r.Route,{path:"/",element:s.default.createElement(l.default,null)}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(r.Route,{path:c.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.RELATIVE,element:s.default.createElement(i.default,null)}),e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.EDIT_DRAFT.RELATIVE}/:draftId`,element:s.default.createElement(i.default,{mode:u.CLAIMS_FORM_MODES.EDIT_DRAFT})}),e[2]=d):d=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.RELATIVE}/:claimId`,element:s.default.createElement(i.default,{mode:u.CLAIMS_FORM_MODES.VIEW})}),e[3]=m):m=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.default.createElement(o.ClaimsProvider,null,s.default.createElement(r.Routes,null,t,a,d,m,s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.RELATIVE}/:claimId`,element:s.default.createElement(i.default,{mode:u.CLAIMS_FORM_MODES.VIEW})}))),e[4]=p):p=e[4],p}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/claims-area.tsx"}],[8110,{"./claims-area":8109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-area"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/index.ts"}],[8111,{"../../../../../app/scripts/lib/util":368,"../../../../../shared/constants/app-state":5875,"../../../../../shared/constants/subscriptions":5910,"../../../../components/app/toast-master/utils":6523,"../../../../components/component-library":6633,"../../../../components/component-library/file-uploader":6619,"../../../../components/component-library/textarea":6696,"../../../../components/ui/loading-screen":7037,"../../../../components/ui/tooltip":7092,"../../../../contexts/claims/claims":7103,"../../../../helpers/constants/common":7147,"../../../../helpers/constants/design-system":7149,"../../../../helpers/constants/routes":7154,"../../../../hooks/shield/metrics/useSubscriptionMetrics":7260,"../../../../hooks/shield/useClaimDraft":7262,"../../../../hooks/shield/useClaimState":7263,"../../../../hooks/useI18nContext":7301,"../../../../selectors/shield/claims":8229,"../../../../selectors/subscription":8236,"../../../../store/actions":8241,"../account-selector":8107,"../claim-error":8108,"../network-selector":8128,"../types":8133,"./constants":8112,"./utils":8114,"@metamask/controller-utils":1488,"@metamask/design-system-react":1846,classnames:4209,loglevel:4948,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=L(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/controller-utils"),r=e("@metamask/design-system-react"),o=e("react-redux"),l=e("react-router-dom"),i=B(e("classnames")),c=B(e("loglevel")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../contexts/claims/claims"),m=e("../../../../components/component-library/textarea"),p=e("../../../../components/component-library"),f=e("../../../../helpers/constants/design-system"),h=e("../../../../hooks/shield/useClaimState"),g=e("../../../../hooks/shield/useClaimDraft"),E=e("../../../../../app/scripts/lib/util"),_=e("../../../../helpers/constants/routes"),y=e("../../../../store/actions"),S=B(e("../../../../components/ui/loading-screen")),T=e("../../../../components/app/toast-master/utils"),b=e("../../../../../shared/constants/app-state"),v=e("../../../../helpers/constants/common"),C=e("../../../../components/component-library/file-uploader"),x=e("../types"),w=e("../claim-error"),I=B(e("../account-selector")),k=B(e("../network-selector")),M=e("../../../../selectors/shield/claims"),N=e("../../../../hooks/shield/metrics/useSubscriptionMetrics"),R=e("../../../../../shared/constants/subscriptions"),A=e("../../../../selectors/subscription"),D=B(e("../../../../components/ui/tooltip")),P=e("./constants"),O=e("./utils");function B(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(L=function(e){return e?a:t})(e)}a.default=({mode:e=x.CLAIMS_FORM_MODES.NEW})=>{var t,a;const B=e===x.CLAIMS_FORM_MODES.VIEW,L=e===x.CLAIMS_FORM_MODES.NEW,F=e===x.CLAIMS_FORM_MODES.EDIT_DRAFT,U=(0,u.useI18nContext)(),j=(0,o.useDispatch)(),W=(0,l.useNavigate)(),{refetchClaims:V}=(0,d.useClaims)(),{hasMaxDrafts:$,saveDraft:H,deleteDraft:z}=(0,g.useClaimDraft)(),G=(0,o.useSelector)(M.getValidSubmissionWindowDays),Y=(0,o.useSelector)(A.getLatestShieldSubscription),{captureShieldCtaClickedEvent:K,captureShieldClaimSubmissionEvent:q}=(0,N.useSubscriptionMetrics)(),[Z,Q]=(0,n.useState)(!1),{chainId:X,setChainId:J,email:ee,setEmail:te,impactedWalletAddress:ae,setImpactedWalletAddress:ne,impactedTransactionHash:se,setImpactedTransactionHash:re,reimbursementWalletAddress:oe,setReimbursementWalletAddress:le,caseDescription:ie,setCaseDescription:ce,files:ue,setFiles:de,uploadedFiles:me,claimSignature:pe,currentDraftId:fe}=(0,h.useClaimState)(e),[he,ge]=(0,n.useState)({}),Ee=(0,n.useCallback)((e,t,a)=>{ge(n=>({...n,[e]:t?{key:e,msg:t,params:a}:undefined}))},[ge]),_e=(0,n.useCallback)(()=>{if(ee){const e=(0,E.isValidEmail)(ee);Ee(x.SUBMIT_CLAIM_FIELDS.EMAIL,e?undefined:P.FIELD_ERROR_MESSAGE_KEY_MAP[x.SUBMIT_CLAIM_FIELDS.EMAIL])}else{var e;Ee(x.SUBMIT_CLAIM_FIELDS.EMAIL,null===(e=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[ee,Ee]),ye=(0,n.useCallback)(e=>{var t;const a=e??ae;if(!oe||!a)return void Ee(x.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,undefined);const n=oe.toLowerCase()===a.toLowerCase();Ee(x.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,n?null===(t=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey:undefined)},[oe,ae,Ee]),Se=(0,n.useCallback)(()=>{if(oe){(0,s.isValidHexAddress)(oe)?ye():Ee(x.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,P.FIELD_ERROR_MESSAGE_KEY_MAP[x.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS])}else{var e;Ee(x.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,null===(e=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[oe,Ee,ye]),Te=(0,n.useCallback)(()=>{if(se){const e=(0,O.isValidTransactionHash)(se);Ee(x.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,e?undefined:P.FIELD_ERROR_MESSAGE_KEY_MAP[x.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH])}else{var e;Ee(x.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,null===(e=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[se,Ee]),be=(0,n.useCallback)(()=>{var e;Ee(x.SUBMIT_CLAIM_FIELDS.CASE_DESCRIPTION,ie?undefined:null===(e=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)},[ie,Ee]),ve=(0,n.useMemo)(()=>Object.values(he).some(e=>e!==undefined)||!X||!ee||!ae||!se||!oe||!ie,[he,X,ee,ae,se,oe,ie]),Ce=(0,n.useCallback)(e=>{const{message:t,data:a}=e;if(null!=a&&a.errorsDetails)null==a||a.errorsDetails.forEach(e=>{let t="";var a;x.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED===e.errorCode?t=(null===(a=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===a?void 0:a.messageKey)??"":t=P.FIELD_ERROR_MESSAGE_KEY_MAP[e.field]??"";Ee(e.field,t||e.error)});else{const e=a?P.ERROR_MESSAGE_MAP[null==a?void 0:a.errorCode]:undefined;let n;if((null==a?void 0:a.errorCode)===x.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED)n=[G];if(null!=e&&e.field)return void Ee(e.field,e.messageKey,n);let s="";s=t===b.ClaimSubmitToastType.Errored?b.ClaimSubmitToastType.Errored:e?U(e.messageKey,n):t,j((0,T.setShowClaimSubmitToast)(s))}},[j,Ee,U,G]),xe=(0,n.useCallback)(async()=>{window.open(v.FIND_TRANSACTION_HASH_LINK,"_blank","noopener,noreferrer"),K({source:R.ShieldMetricsSourceEnum.Settings,ctaActionClicked:R.ShieldCtaActionClickedEnum.FindingTxHash,redirectToUrl:v.FIND_TRANSACTION_HASH_LINK})},[K]),we=(0,n.useCallback)(async()=>{if(ve)return;const e=(e,t)=>{Y&&q({subscriptionStatus:Y.status,attachmentsCount:(null==ue?void 0:ue.length)??0,submissionStatus:e,errorMessage:t})};try{Q(!0);const t=Number(X);if(e("started"),await(0,y.submitShieldClaim)({chainId:t.toString(),email:ee,impactedWalletAddress:ae,impactedTxHash:se,reimbursementWalletAddress:oe,description:ie,signature:pe,files:ue}),e("completed"),fe)try{await z(fe)}catch{c.default.error("Failed to delete draft after successful claim submission")}j((0,T.setShowClaimSubmitToast)(b.ClaimSubmitToastType.Success)),await V(),W(_.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(t){Ce(t);e("failed",t instanceof w.SubmitClaimError?t.message:undefined)}finally{Q(!1)}},[ve,X,ee,ae,se,oe,ie,ue,j,W,V,pe,Ce,q,Y,fe,z]),Ie=(0,n.useMemo)(()=>Boolean(X||ee||ae||se||oe||ie),[X,ee,ae,se,oe,ie]),ke=(0,n.useCallback)(async({overrides:e={}}={})=>{try{await H({chainId:e.chainId??X,email:ee,impactedWalletAddress:e.impactedWalletAddress??ae,impactedTxHash:se,reimbursementWalletAddress:oe,description:ie,draftId:fe}),j((0,T.setShowClaimSubmitToast)(b.ClaimSubmitToastType.DraftSaved)),F||W(_.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(e){c.default.error("Error saving draft",e),j((0,T.setShowClaimSubmitToast)(b.ClaimSubmitToastType.DraftSaveFailed))}},[H,X,ee,ae,se,oe,ie,fe,F,j,W]),Me=(0,n.useCallback)(async()=>{if(fe)try{await z(fe),j((0,T.setShowClaimSubmitToast)(b.ClaimSubmitToastType.DraftDeleted)),W(_.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(e){c.default.error("Error deleting draft",e),j((0,T.setShowClaimSubmitToast)(b.ClaimSubmitToastType.DraftDeleteFailed))}},[fe,z,j,W]),Ne=(0,n.useMemo)(()=>{if(F)return n.default.createElement(r.Button,{"data-testid":"shield-claim-delete-draft-button",className:"flex-1",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,disabled:Z,onClick:Me},U("shieldClaimDeleteDraft"));const e=$&&L,t=n.default.createElement(r.Button,{"data-testid":"shield-claim-save-draft-button",className:e?"w-full":"flex-1",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,disabled:!Ie||Z||e,onClick:()=>ke()},U("shieldClaimSaveAsDraft"));return e?n.default.createElement(D.default,{title:U("shieldClaimMaxDraftsReached"),wrapperClassName:"flex-1",position:"top"},t):t},[F,$,L,Ie,Z,ke,U,Me]);return n.default.createElement(r.Box,{className:"submit-claim-page flex flex-col pt-4 px-4 pb-4","data-testid":"submit-claim-page",gap:4},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},B?U("shieldClaimDetailsViewClaims",[n.default.createElement(r.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},n.default.createElement("a",{href:v.TRANSACTION_SHIELD_SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer"},U("here")))]):U("shieldClaimDetails",[G,n.default.createElement(r.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},n.default.createElement("a",{href:v.TRANSACTION_SHIELD_SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer"},U("shieldClaimViewGuidelines")))])),n.default.createElement(r.Box,null,n.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,className:"mb-2"},U("shieldClaimPersonalDetails")),n.default.createElement(r.Box,{borderColor:r.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),n.default.createElement(p.FormTextField,{label:`${U("shieldClaimEmail")}*`,placeholder:"johncarpenter@sample.com",inputProps:{"data-testid":"shield-claim-email-input"},helpText:he.email?U(he.email.msg,he.email.params):U("shieldClaimEmailHelpText"),helpTextProps:{"data-testid":"shield-claim-help-text",color:f.TextColor.textAlternative},id:"email",name:"email",size:p.FormTextFieldSize.Lg,onChange:e=>te(e.target.value),onBlur:async()=>{_e(),F&&await ke()},value:ee,error:Boolean(he.email),required:!0,width:f.BlockSize.Full,disabled:B}),n.default.createElement(p.FormTextField,{label:`${U("shieldClaimReimbursementWalletAddress")}*`,placeholder:"e.g. 0x71C...B5f6d",inputProps:{"data-testid":"shield-claim-reimbursement-wallet-address-input"},helpTextProps:{"data-testid":"shield-claim-reimbursement-wallet-address-help-text",color:f.TextColor.textAlternative},helpText:he.reimbursementWalletAddress?U(he.reimbursementWalletAddress.msg,he.reimbursementWalletAddress.params):U("shieldClaimReimbursementWalletAddressHelpText"),id:"reimbursement-wallet-address",name:"reimbursement-wallet-address",size:p.FormTextFieldSize.Lg,onChange:e=>le(e.target.value),onBlur:async()=>{Se(),F&&await ke()},value:oe,error:Boolean(he.reimbursementWalletAddress),required:!0,width:f.BlockSize.Full,disabled:B}),n.default.createElement(r.Box,{className:"mt-4"},n.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,className:"mb-2"},U("shieldClaimIncidentDetails")),n.default.createElement(r.Box,{borderColor:r.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),n.default.createElement(I.default,{label:`${U("shieldClaimImpactedWalletAddress")}*`,modalTitle:U("shieldClaimSelectAccount"),impactedWalletAddress:ae,onAccountSelect:async e=>{var t;ne(e),F&&await ke({overrides:{impactedWalletAddress:e}});const a=(null===(t=P.ERROR_MESSAGE_MAP[x.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey)??"";!oe||he.reimbursementWalletAddress&&he.reimbursementWalletAddress.msg!==a||ye(e)},disabled:B}),n.default.createElement(k.default,{label:`${U("shieldClaimNetwork")}*`,modalTitle:U("shieldClaimSelectNetwork"),selectedChainId:X,onNetworkSelect:async e=>{J(e),F&&await ke({overrides:{chainId:e}})},disabled:B}),n.default.createElement(p.FormTextField,{label:`${U("shieldClaimImpactedTxHash")}*`,placeholder:"e.g. a1084235686add...q46q8wurgw",inputProps:{"data-testid":"shield-claim-impacted-tx-hash-input"},helpText:he.impactedTxHash?n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.Inherit,"data-testid":"shield-claim-impacted-tx-hash-error"},`${U(null===(t=he.impactedTxHash)||void 0===t?void 0:t.msg,null===(a=he.impactedTxHash)||void 0===a?void 0:a.params)} `,n.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"min-w-0",onClick:xe},U("shieldClaimImpactedTxHashHelpTextLink"))):n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextAlternative},`${U("shieldClaimImpactedTxHashHelpText")} `,n.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"min-w-0",onClick:xe},U("shieldClaimImpactedTxHashHelpTextLink"))),id:"impacted-tx-hash",name:"impacted-tx-hash",size:p.FormTextFieldSize.Lg,onChange:e=>re(e.target.value),onBlur:async()=>{Te(),F&&await ke()},value:se,error:Boolean(he.impactedTxHash),required:!0,width:f.BlockSize.Full,disabled:B}),n.default.createElement(r.Box,{className:"flex flex-col gap-1"},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium,className:(0,i.default)({"opacity-50":B})},`${U("shieldClaimDescription")}*`),n.default.createElement(m.Textarea,{id:"description",name:"description","data-testid":"shield-claim-description-textarea",placeholder:U("shieldClaimDescriptionPlaceholder"),onChange:e=>ce(e.target.value),onBlur:async()=>{be(),F&&await ke()},value:ie,error:Boolean(he.caseDescription),width:f.BlockSize.Full,rows:4,resize:m.TextareaResize.Vertical,borderRadius:f.BorderRadius.LG,paddingTop:3,paddingBottom:3,maxLength:2e3,disabled:B}),he.caseDescription&&n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.ErrorDefault,className:"mt-0.5","data-testid":"shield-claim-description-error"},U(he.caseDescription.msg,he.caseDescription.params))),B?n.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,gap:1},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},U("shieldClaimFileUploader")),n.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,gap:2},me.map((e,t)=>{var a;return n.default.createElement(r.Box,{asChild:!0,key:e.originalname||t,alignItems:r.BoxAlignItems.Center,flexDirection:r.BoxFlexDirection.Row,backgroundColor:r.BoxBackgroundColor.BackgroundSection,paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,gap:2,className:"rounded-lg"},n.default.createElement("a",{href:e.publicUrl,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(r.Icon,{name:null!==(a=e.contentType)&&void 0!==a&&a.includes("image")?r.IconName.Image:r.IconName.File,size:r.IconSize.Lg}),n.default.createElement(r.Text,{variant:r.TextVariant.BodySm},e.originalname)))}))):n.default.createElement(C.FileUploader,{id:"upload-images-file-uploader","data-testid":"upload-images-file-uploader",label:U("shieldClaimFileUploader"),onChange:e=>de(e),accept:["application/pdf","image/png","image/jpeg"].join(","),acceptText:U("shieldClaimFileUploaderAcceptText",[P.MAX_FILE_SIZE_MB]),helpText:U("shieldClaimFileUploaderHelpText"),maxFileSize:P.MAX_FILE_SIZE_BYTES}),!B&&n.default.createElement(r.Box,{className:"flex gap-2"},Ne,n.default.createElement(r.Button,{"data-testid":"shield-claim-submit-button",className:"flex-1",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,disabled:ve||Z,onClick:we},U("shieldClaimSubmit"))),Z&&n.default.createElement(S.default,null))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/claims-form.tsx"}],[8112,{"../types":8133},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MAX_PENDING_CLAIMS=a.MAX_FILE_SIZE_MB=a.MAX_FILE_SIZE_BYTES=a.MAX_DRAFT_CLAIMS=a.FIELD_ERROR_MESSAGE_KEY_MAP=a.ERROR_MESSAGE_MAP=void 0;var n=e("../types");const s=a.MAX_FILE_SIZE_MB=5;a.MAX_FILE_SIZE_BYTES=1024*s*1024,a.ERROR_MESSAGE_MAP={[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_ELIGIBLE]:{messageKey:"shieldClaimImpactedTxHashNotEligible",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED]:{messageKey:"shieldClaimSubmissionWindowExpired"},[n.SUBMIT_CLAIM_ERROR_CODES.MAX_CLAIMS_LIMIT_EXCEEDED]:{messageKey:"shieldClaimMaxClaimsLimitExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.DUPLICATE_CLAIM_EXISTS]:{messageKey:"shieldClaimDuplicateClaimExists"},[n.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES]:{messageKey:"shieldClaimSameWalletAddressesError",field:n.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS},[n.SUBMIT_CLAIM_ERROR_CODES.FILES_SIZE_EXCEEDED]:{messageKey:"shieldClaimFileErrorSizeExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.FILES_COUNT_EXCEEDED]:{messageKey:"shieldClaimFileErrorCountExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.INVALID_FILES_TYPE]:{messageKey:"shieldClaimFileErrorInvalidType"},[n.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED]:{messageKey:"shieldClaimInvalidRequired"},[n.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_COVERAGE_NOT_COVERED]:{messageKey:"shieldClaimSignatureCoverageNotCovered"},[n.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_VERIFICATION_FAILED]:{messageKey:"shieldClaimWalletOwnershipValidationFailed"},[n.SUBMIT_CLAIM_ERROR_CODES.CHAIN_NOT_SUPPORTED]:{messageKey:"shieldClaimChainNotSupported",field:n.SUBMIT_CLAIM_FIELDS.CHAIN_ID},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FOUND]:{messageKey:"shieldClaimTransactionNotFound",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FROM_WALLET_ADDRESS]:{messageKey:"shieldClaimTransactionNotFromWalletAddress",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_SUCCESSFUL]:{messageKey:"shieldClaimTransactionNotSuccessful",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH}},a.FIELD_ERROR_MESSAGE_KEY_MAP={[n.SUBMIT_CLAIM_FIELDS.CHAIN_ID]:"shieldClaimInvalidChainId",[n.SUBMIT_CLAIM_FIELDS.EMAIL]:"shieldClaimInvalidEmail",[n.SUBMIT_CLAIM_FIELDS.IMPACTED_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress",[n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH]:"shieldClaimInvalidTxHash",[n.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress"},a.MAX_PENDING_CLAIMS=3,a.MAX_DRAFT_CLAIMS=3}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/constants.ts"}],[8113,{"./claims-form":8111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-form"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/index.ts"}],[8114,{"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isValidTransactionHash=function(e){return 66===e.length&&(0,n.isStrictHexString)(e)};var n=e("@metamask/utils")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/utils.ts"}],[8115,{"../../../../../shared/constants/preferences":5901,"../../../../components/ui/loading-screen":7037,"../../../../components/ui/tabs":7080,"../../../../contexts/claims/claims":7103,"../../../../helpers/constants/routes":7154,"../../../../hooks/shield/useClaimDraft":7262,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useTheme":7331,"../../../asset/util":7373,"../claims-form/constants":8112,"../types":8133,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/design-system-react"),l=e("react-router-dom"),i=(n=e("../../../../components/ui/loading-screen"))&&n.__esModule?n:{default:n},c=e("../../../../hooks/useI18nContext"),u=e("../../../../contexts/claims/claims"),d=e("../../../../helpers/constants/routes"),m=e("../../../../components/ui/tabs"),p=e("../../../asset/util"),f=e("../../../../../shared/constants/preferences"),h=e("../../../../hooks/useTheme"),g=e("../types"),E=e("../../../../hooks/shield/useClaimDraft"),_=e("../claims-form/constants");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,s.c)(45),t=(0,c.useI18nContext)(),a=(0,l.useNavigate)(),n=(0,h.useTheme)(),[y,S]=(0,l.useSearchParams)(),{pendingClaims:T,completedClaims:b,rejectedClaims:v,isLoading:C}=(0,u.useClaims)(),{drafts:x}=(0,E.useClaimDraft)();let w;e[0]!==y?(w=()=>{const e=y.get("tab");return e===g.CLAIMS_TAB_KEYS.PENDING||e===g.CLAIMS_TAB_KEYS.HISTORY?e:g.CLAIMS_TAB_KEYS.PENDING},e[0]=y,e[1]=w):w=e[1];const[I,k]=(0,r.useState)(w);let M,N,R;e[2]!==y||e[3]!==S?(M=()=>{y.has("tab")&&(y.delete("tab"),S(y,{replace:!0}))},N=[y,S],e[2]=y,e[3]=S,e[4]=M,e[5]=N):(M=e[4],N=e[5]),(0,r.useEffect)(M,N),e[6]!==a||e[7]!==t?(R=(e,n,s)=>{const l=s!==undefined&&s;let i="";if(l){const a=e.updatedAt??null;a&&(i=t("shieldClaimsLastEdited",[(0,p.getShortDateFormatterV2)().format(new Date(a))]))}else i=(0,p.getShortDateFormatterV2)().format(new Date(e.createdAt));const c=l?e.draftId:e.id,u=l?e.draftId:e.shortId;return r.default.createElement(o.Box,{asChild:!0,key:c,"data-testid":`claim-item-${c}`,backgroundColor:o.BoxBackgroundColor.BackgroundSection,className:"claim-item flex items-center justify-between w-full p-4 rounded-lg",onClick:()=>{if(l)a(`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.EDIT_DRAFT.FULL}/${c}`);else{const e=n===g.CLAIMS_TAB_KEYS.PENDING?d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.FULL:d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.FULL;a(`${e}/${c}`)}}},r.default.createElement("button",null,r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,textAlign:o.TextAlign.Left},t("shieldClaimsNumber",[u])),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,textAlign:o.TextAlign.Left,color:o.TextColor.TextAlternative},i)),r.default.createElement(o.Icon,{name:o.IconName.ArrowRight,size:o.IconSize.Md,color:o.IconColor.IconDefault})))},e[6]=a,e[7]=t,e[8]=R):R=e[8];const A=R;let D;e[9]!==A?(D=e=>r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,fontWeight:o.FontWeight.Medium,className:"mb-3","data-testid":e.isDraft?"claims-group-drafts-heading":undefined},e.title),r.default.createElement(o.Box,{className:"flex flex-col gap-2","data-testid":e.isDraft?"claims-group-drafts-list":undefined},e.claims.map(t=>A(t,e.tabKey,e.isDraft??!1)))),e[9]=A,e[10]=D):D=e[10];const P=D;let O;e[11]!==a||e[12]!==t||e[13]!==n?(O=e=>{const s=n===f.ThemeType.dark?"./images/empty-state-activity-dark.png":"./images/empty-state-activity-light.png";return r.default.createElement(o.Box,{className:"h-full flex justify-center items-center"},r.default.createElement(o.Box,{className:"text-center"},r.default.createElement("img",{src:s,alt:t("activity"),className:"mb-2 mx-auto",width:72,height:72}),r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,color:o.TextColor.TextAlternative,className:"mb-2"},e===g.CLAIMS_TAB_KEYS.PENDING?t("shieldClaimGroupNoOpenClaims"):t("shieldClaimGroupNoCompletedClaims")),r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative,className:"mb-4"},e===g.CLAIMS_TAB_KEYS.PENDING?t("shieldClaimGroupNoOpenClaimsDescription"):t("shieldClaimGroupNoCompletedClaimsDescription")),e===g.CLAIMS_TAB_KEYS.PENDING&&r.default.createElement(o.Button,{"data-testid":"claims-list-empty-new-claim-button",variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,onClick:()=>{a(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)}},t("shieldClaimSubmit"))))},e[11]=a,e[12]=t,e[13]=n,e[14]=O):O=e[14];const B=O;if(C){let t;return e[15]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(i.default,null),e[15]=t):t=e[15],t}let L,F,U,j,W,V,$,H,z;return e[16]===Symbol.for("react.memo_cache_sentinel")?(L={className:"px-4"},F={className:"flex-1 overflow-y-hidden"},e[16]=L,e[17]=F):(L=e[16],F=e[17]),e[18]!==t?(U=t("shieldClaimsTabPending"),e[18]=t,e[19]=U):U=e[19],e[20]!==P||e[21]!==x||e[22]!==B||e[23]!==a||e[24]!==T||e[25]!==t?(j=T.length>0||x.length>0?r.default.createElement(o.Box,{className:"h-full flex flex-col justify-between"},r.default.createElement(o.Box,{className:"flex-1 overflow-y-auto"},r.default.createElement(o.Box,{padding:4,className:"flex flex-col gap-4"},T.length>0&&P({title:t("shieldClaimGroupActive"),claims:T,tabKey:g.CLAIMS_TAB_KEYS.PENDING}),x.length>0&&P({title:t("shieldClaimGroupDrafts"),claims:x,tabKey:g.CLAIMS_TAB_KEYS.PENDING,isDraft:!0}),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},t("shieldClaimGroupActiveNote",[_.MAX_DRAFT_CLAIMS,_.MAX_PENDING_CLAIMS])))),r.default.createElement(o.Box,{className:"p-4"},r.default.createElement(o.Button,{"data-testid":"claims-list-submit-claim-button",className:"w-full",variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,disabled:T.length>=_.MAX_PENDING_CLAIMS,onClick:()=>{a(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)}},t("shieldClaimSubmit")))):B(g.CLAIMS_TAB_KEYS.PENDING),e[20]=P,e[21]=x,e[22]=B,e[23]=a,e[24]=T,e[25]=t,e[26]=j):j=e[26],e[27]!==U||e[28]!==j?(W=r.default.createElement(m.Tab,{name:U,className:"flex-1 px-4 py-2",tabKey:"pending"},j),e[27]=U,e[28]=j,e[29]=W):W=e[29],e[30]!==t?(V=t("shieldClaimsTabHistory"),e[30]=t,e[31]=V):V=e[31],e[32]!==P||e[33]!==b||e[34]!==B||e[35]!==v||e[36]!==t?($=b.length>0||v.length>0?r.default.createElement(o.Box,{padding:4,className:"flex flex-col gap-4"},b.length>0&&P({title:t("shieldClaimGroupCompleted"),claims:b,tabKey:g.CLAIMS_TAB_KEYS.HISTORY}),v.length>0&&P({title:t("shieldClaimGroupRejected"),claims:v,tabKey:g.CLAIMS_TAB_KEYS.HISTORY})):B(g.CLAIMS_TAB_KEYS.HISTORY),e[32]=P,e[33]=b,e[34]=B,e[35]=v,e[36]=t,e[37]=$):$=e[37],e[38]!==V||e[39]!==$?(H=r.default.createElement(m.Tab,{name:V,className:"flex-1 px-4 py-2",tabKey:"history"},$),e[38]=V,e[39]=$,e[40]=H):H=e[40],e[41]!==I||e[42]!==W||e[43]!==H?(z=r.default.createElement(m.Tabs,{"data-testid":"claims-list-page",activeTab:I,onTabClick:k,className:"h-full flex flex-col overflow-y-hidden",tabListProps:L,tabContentProps:F},W,H),e[41]=I,e[42]=W,e[43]=H,e[44]=z):z=e[44],z}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/claims-list.tsx"}],[8116,{"./claims-list":8115},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/index.ts"}],[8117,{"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react");a.default=e=>{const t=(0,s.c)(6),{"data-testid":a,className:n,children:l}=e,i=n===undefined?"":n;let c,u;return t[0]!==i?(c=(0,o.twMerge)("button-row-container",i),t[0]=i,t[1]=c):c=t[1],t[2]!==l||t[3]!==a||t[4]!==c?(u=r.default.createElement(o.Box,{className:c,"data-testid":a},l),t[2]=l,t[3]=a,t[4]=c,t[5]=u):u=t[5],u}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/button-row-container.tsx"}],[8118,{"../../../../components/component-library/skeleton":6679,"../../../../helpers/constants/design-system":7149,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=e("../../../../helpers/constants/design-system"),l=e("../../../../components/component-library/skeleton");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(null,arguments)}a.default=e=>{const t=(0,n.c)(37),{title:a,description:i,descriptionClassName:u,descriptionTestId:d,startIconName:m,endIconName:p,endAccessory:f,onClick:h,"data-testid":g,className:E,loading:_,disabled:y}=e,S=E===undefined?"":E,T=_!==undefined&&_,b=y!==undefined&&y,v=h?"button":"div";let C;e:{if(f){let e;t[0]!==f?(e=s.default.createElement(r.Box,{className:"ml-auto flex-shrink-0"},f),t[0]=f,t[1]=e):e=t[1],C=e;break e}if(h&&!T){const e=p??r.IconName.ArrowRight;let a;t[2]!==e?(a=s.default.createElement(r.Icon,{name:e,size:r.IconSize.Sm,color:r.IconColor.IconAlternative,className:"ml-auto"}),t[2]=e,t[3]=a):a=t[3],C=a;break e}C=null}const x=C;let w;e:{if(T){let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement(l.Skeleton,{width:"100%",height:20}),t[4]=e):e=t[4],w=e;break e}if("string"==typeof i){let e,a;t[5]!==u?(e=(0,r.twMerge)("text-text-alternative",u),t[5]=u,t[6]=e):e=t[6],t[7]!==i||t[8]!==d||t[9]!==e?(a=s.default.createElement(r.Text,{"data-testid":d,variant:r.TextVariant.BodySm,className:e},i),t[7]=i,t[8]=d,t[9]=e,t[10]=a):a=t[10],w=a;break e}w=i}const I=w;let k,M,N;t[11]!==S?(k=(0,r.twMerge)("button-row flex w-full items-center px-4 gap-4",S),t[11]=S,t[12]=k):k=t[12],t[13]!==v||t[14]!==b?(M="button"===v?{disabled:b}:{},t[13]=v,t[14]=b,t[15]=M):M=t[15],t[16]!==T||t[17]!==m?(N=m&&(T?s.default.createElement(l.Skeleton,{width:40,height:40,borderRadius:o.BorderRadius.full,style:{flexShrink:0}}):s.default.createElement(r.AvatarIcon,{iconName:m,size:r.AvatarIconSize.Lg,color:r.IconColor.IconAlternative})),t[16]=T,t[17]=m,t[18]=N):N=t[18];const R=T?2:0;let A,D,P,O;return t[19]!==T||t[20]!==a?(A=T?s.default.createElement(l.Skeleton,{width:"100%",height:20}):s.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},a),t[19]=T,t[20]=a,t[21]=A):A=t[21],t[22]!==I||t[23]!==A||t[24]!==R?(D=s.default.createElement(r.Box,{className:"flex flex-col text-left w-full",gap:R},A,I),t[22]=I,t[23]=A,t[24]=R,t[25]=D):D=t[25],t[26]!==v||t[27]!==x||t[28]!==D||t[29]!==M||t[30]!==N?(P=s.default.createElement(v,c({className:"button-row__button"},M),N,D,x),t[26]=v,t[27]=x,t[28]=D,t[29]=M,t[30]=N,t[31]=P):P=t[31],t[32]!==g||t[33]!==h||t[34]!==P||t[35]!==k?(O=s.default.createElement(r.Box,{asChild:!0,className:k,"data-testid":g,onClick:h},P),t[32]=g,t[33]=h,t[34]=P,t[35]=k,t[36]=O):O=t[36],O}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/button-row.tsx"}],[8119,{"../../../../../shared/lib/shield":5993,"../../../../components/component-library":6633,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../asset/util":7373,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,s.c)(28),{onConfirm:a,onClose:n,subscription:m}=e,p=(0,c.useI18nContext)();let f;t[0]!==m?(f=(0,d.getIsShieldSubscriptionPaused)(m),t[0]=m,t[1]=f):f=t[1];const h=f;let g,E,_,y,S,T,b,v,C,x;t[2]===Symbol.for("react.memo_cache_sentinel")?(g=r.default.createElement(l.ModalOverlay,null),t[2]=g):g=t[2];t[3]!==p?(E=p("areYouSure"),t[3]=p,t[4]=E):E=t[4];t[5]!==n||t[6]!==E?(_=r.default.createElement(l.ModalHeader,{onClose:n},E),t[5]=n,t[6]=E,t[7]=_):_=t[7];t[8]!==h||t[9]!==m||t[10]!==p?(y=h?p("shieldTxCancelWhenPausedDetails"):p("shieldTxCancelDetails",[r.default.createElement(o.Text,{asChild:!0,key:"cancel-date",variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},r.default.createElement("span",null,(0,u.getShortDateFormatterV2)().format(new Date(m.currentPeriodEnd))))]),t[8]=h,t[9]=m,t[10]=p,t[11]=y):y=t[11];t[12]!==y?(S=r.default.createElement(l.ModalBody,null,r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd},y)),t[12]=y,t[13]=S):S=t[13];t[14]!==p?(T=p("shieldTxMembershipCancel"),t[14]=p,t[15]=T):T=t[15];t[16]!==T?(b={"data-testid":"cancel-membership-modal-submit-button",children:T,danger:!0},t[16]=T,t[17]=b):b=t[17];t[18]!==a||t[19]!==b?(v=r.default.createElement(l.ModalFooter,{onSubmit:a,submitButtonProps:b}),t[18]=a,t[19]=b,t[20]=v):v=t[20];t[21]!==_||t[22]!==S||t[23]!==v?(C=r.default.createElement(l.ModalContent,{alignItems:i.AlignItems.flexStart},_,S,v),t[21]=_,t[22]=S,t[23]=v,t[24]=C):C=t[24];t[25]!==n||t[26]!==C?(x=r.default.createElement(l.Modal,{isOpen:!0,onClose:n,className:"cancel-membership-modal","data-testid":"cancel-membership-modal"},g,C),t[25]=n,t[26]=C,t[27]=x):x=t[27];return x};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react"),l=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../asset/util"),d=e("../../../../../shared/lib/shield")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/cancel-membership-modal.tsx"}],[8120,{"../../../../components/app/preferred-avatar":6341,"../../../../hooks/useDisplayName":7291,"@metamask/design-system-react":1846,"@metamask/name-controller":2414,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react"),l=e("@metamask/name-controller"),i=e("../../../../hooks/useDisplayName"),c=e("../../../../components/app/preferred-avatar");a.default=e=>{const t=(0,s.c)(17),{payerAddress:a,chainId:n,showIcon:u}=e,d=u===undefined||u;let m;t[0]!==n||t[1]!==a?(m={value:a,type:l.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!1,variation:n},t[0]=n,t[1]=a,t[2]=m):m=t[2];const{name:p,icon:f,subtitle:h}=(0,i.useDisplayName)(m);let g;t[3]!==f||t[4]!==a?(g=()=>f?r.default.createElement(o.Icon,{name:f.name,className:"crypto-account-display__icon",size:o.IconSize.Sm,color:f.color}):r.default.createElement(c.PreferredAvatar,{className:"rounded-md",address:a,size:o.AvatarAccountSize.Xs}),t[3]=f,t[4]=a,t[5]=g):g=t[5];const E=g;let _;t[6]!==p||t[7]!==h?(_=()=>h?r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},p,", ",h):p,t[6]=p,t[7]=h,t[8]=_):_=t[8];const y=_;let S,T,b;return t[9]!==E||t[10]!==d?(S=d&&E(),t[9]=E,t[10]=d,t[11]=S):S=t[11],t[12]!==y?(T=y(),t[12]=y,t[13]=T):T=t[13],t[14]!==S||t[15]!==T?(b=r.default.createElement(o.Box,{className:"flex gap-2 items-center"},S,T),t[14]=S,t[15]=T,t[16]=b):b=t[16],b}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/crypto-account-display.tsx"}],[8121,{"./button-row":8118,"./button-row-container":8117,"./membership-error-banner":8122,"./membership-header":8123},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ButtonRow",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(a,"ButtonRowContainer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(a,"MembershipErrorBanner",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(a,"MembershipHeader",{enumerable:!0,get:function(){return o.default}});var n=l(e("./button-row")),s=l(e("./button-row-container")),r=l(e("./membership-error-banner")),o=l(e("./membership-header"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/index.ts"}],[8122,{"../../../../components/component-library":6633,"../../../../hooks/useI18nContext":7301,"../../../asset/util":7373,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../../components/component-library"),l=e("../../../../hooks/useI18nContext"),i=e("../../../asset/util");a.default=e=>{const t=(0,s.c)(19),{isPaused:a,isCryptoPayment:n,isCardPayment:c,isSubscriptionEndingSoon:u,currentShieldSubscription:d,onActionButtonClick:m}=e,p=(0,l.useI18nContext)();if(a){let e,a,s,l="shieldTxMembershipErrorPausedUnexpected",i="shieldTxMembershipErrorPausedUnexpectedAction";return n?(l="shieldTxMembershipErrorPausedCryptoInsufficientFunds",i="shieldTxMembershipErrorPausedCryptoInsufficientFundsAction"):c&&(l="shieldTxMembershipErrorPausedCard",i="shieldTxMembershipErrorPausedCardAction"),t[0]!==l||t[1]!==p?(e=p(l,[24]),t[0]=l,t[1]=p,t[2]=e):e=t[2],t[3]!==i||t[4]!==p?(a=p(i),t[3]=i,t[4]=p,t[5]=a):a=t[5],t[6]!==m||t[7]!==e||t[8]!==a?(s=r.default.createElement(o.BannerAlert,{description:e,severity:o.BannerAlertSeverity.Danger,marginBottom:4,actionButtonLabel:a,actionButtonOnClick:m}),t[6]=m,t[7]=e,t[8]=a,t[9]=s):s=t[9],s}if(d&&u){let e,a,n;return t[10]!==d.currentPeriodEnd||t[11]!==p?(e=p("shieldTxMembershipErrorInsufficientFunds",[(0,i.getShortDateFormatterV2)().format(new Date(d.currentPeriodEnd))]),t[10]=d.currentPeriodEnd,t[11]=p,t[12]=e):e=t[12],t[13]!==p?(a=p("shieldTxMembershipRenew"),t[13]=p,t[14]=a):a=t[14],t[15]!==m||t[16]!==e||t[17]!==a?(n=r.default.createElement(o.BannerAlert,{description:e,severity:o.BannerAlertSeverity.Warning,marginBottom:4,actionButtonLabel:a,actionButtonOnClick:m}),t[15]=m,t[16]=e,t[17]=a,t[18]=n):n=t[18],n}return null}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/membership-error-banner.tsx"}],[8123,{"../../../../../shared/constants/preferences":5901,"../../../../components/component-library":6633,"../../../../components/component-library/skeleton":6679,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useTheme":7331,"../../../asset/util":7373,"../shield-banner-animation":8131,"@metamask/design-system-react":1846,classnames:4209,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=h(e("classnames")),l=e("../../../../../shared/constants/preferences"),i=e("../../../../hooks/useTheme"),c=e("../../../../components/component-library/skeleton"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/component-library"),m=h(e("../shield-banner-animation")),p=e("../../../../hooks/useI18nContext"),f=e("../../../asset/util");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(51),{showSkeletonLoader:a,isCancelled:h,isTrialing:g,isPaused:E,customerId:_,startDate:y,endDate:S,trialDaysLeft:T,cancelledDate:b,className:v}=e,C=(0,p.useI18nContext)(),x=(0,i.useTheme)(),w=x===l.ThemeType.light,I=h||E;let k;e:{if(!y||!S){k="";break e}let e;t[0]!==y?(e=(0,f.getShortDateFormatterV2)().format(new Date(y)),t[0]=y,t[1]=e):e=t[1];const a=e;let n;t[2]!==S?(n=(0,f.getShortDateFormatterV2)().format(new Date(S)),t[2]=S,t[3]=n):n=t[3];k=`${a} - ${n}`}const M=k;let N;e:{if(!g||!T){N="";break e}let e;t[4]!==C||t[5]!==T?(e=C("shieldTxMembershipFreeTrialDaysLeft",[T]),t[4]=C,t[5]=T,t[6]=e):e=t[6],N=e}const R=N;let A;e:{if(!h||!b){A="";break e}let e;t[7]!==b||t[8]!==C?(e=C("shieldTxMembershipCancelledDate",[(0,f.getShortDateFormatterV2)().format(new Date(b))]),t[7]=b,t[8]=C,t[9]=e):e=t[9],A=e}let D;D=h?A:g?R:M;const P=D;let O;e:{if(E){let e,a;t[10]!==C?(e=C("shieldTxMembershipPaused"),t[10]=C,t[11]=e):e=t[11],t[12]!==e?(a=s.default.createElement(d.Tag,{label:s.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.TextAlternative},e),borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,backgroundColor:u.BackgroundColor.backgroundMuted,"data-testid":"shield-detail-paused-tag"}),t[12]=e,t[13]=a):a=t[13],O=a;break e}if(g){let e,a;t[14]!==C?(e=C("shieldTxMembershipFreeTrial"),t[14]=C,t[15]=e):e=t[15],t[16]!==e?(a=s.default.createElement(d.Tag,{label:s.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.SuccessDefault},e),borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,backgroundColor:u.BackgroundColor.successMuted,"data-testid":"shield-detail-trial-tag"}),t[16]=e,t[17]=a):a=t[17],O=a;break e}O=null}const B=O,L=I?x:l.ThemeType.dark,F=I&&!a,U=!I&&!a,j=w&&I&&!a;let W;t[18]!==v||t[19]!==a||t[20]!==F||t[21]!==U||t[22]!==j?(W=(0,o.default)("transaction-shield-page__row transaction-shield-page__membership flex py-4 pl-4 pr-2",{"transaction-shield-page__membership--loading":a,"transaction-shield-page__membership--inactive":F,"transaction-shield-page__membership--active":U,"transaction-shield-page__membership--inactive-light":j},v??""),t[18]=v,t[19]=a,t[20]=F,t[21]=U,t[22]=j,t[23]=W):W=t[23];const V=a?2:0;let $,H,z,G,Y,K,q;return t[24]!==I||t[25]!==B||t[26]!==a||t[27]!==C?($=a?s.default.createElement(c.Skeleton,{className:"w-2/3 h-5"}):s.default.createElement(r.Box,{className:"flex items-center gap-3"},s.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,fontWeight:r.FontWeight.Medium,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-membership-status"},C(I?"shieldTxMembershipInactive":"shieldTxMembershipActive")),B),t[24]=I,t[25]=B,t[26]=a,t[27]=C,t[28]=$):$=t[28],t[29]!==P||t[30]!==a?(H=a?s.default.createElement(c.Skeleton,{width:"60%",height:16}):s.default.createElement(r.Text,{variant:r.TextVariant.BodyXs,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-note"},P),t[29]=P,t[30]=a,t[31]=H):H=t[31],t[32]!==V||t[33]!==$||t[34]!==H?(z=s.default.createElement(r.Box,{className:"flex flex-col",gap:V},$,H),t[32]=V,t[33]=$,t[34]=H,t[35]=z):z=t[35],t[36]!==_||t[37]!==a||t[38]!==C?(G=s.default.createElement(r.Box,null,a?s.default.createElement(c.Skeleton,{width:"60%",height:16}):s.default.createElement(r.Text,{variant:r.TextVariant.BodyXs,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-customer-id"},C("shieldTxMembershipId"),": ",_||"")),t[36]=_,t[37]=a,t[38]=C,t[39]=G):G=t[39],t[40]!==z||t[41]!==G?(Y=s.default.createElement(r.Box,{className:"flex flex-col justify-between w-full h-full"},z,G),t[40]=z,t[41]=G,t[42]=Y):Y=t[42],t[43]!==I||t[44]!==a?(K=!a&&s.default.createElement(m.default,{containerClassName:"transaction-shield-page-shield-banner__container",canvasClassName:"transaction-shield-page-shield-banner__canvas",isInactive:I}),t[43]=I,t[44]=a,t[45]=K):K=t[45],t[46]!==W||t[47]!==Y||t[48]!==K||t[49]!==L?(q=s.default.createElement(r.Box,{"data-theme":L,className:W,alignItems:r.BoxAlignItems.Center,justifyContent:r.BoxJustifyContent.Between},Y,K),t[46]=W,t[47]=Y,t[48]=K,t[49]=L,t[50]=q):q=t[50],q}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/membership-header.tsx"}],[8124,{"../../../../hooks/subscription/useSubscriptionPricing":7275,"../../../../hooks/useI18nContext":7301,"../../../shield-plan/utils":8138,"@metamask/design-system-react":1846,"@metamask/subscription-controller":3023,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=e("@metamask/subscription-controller"),l=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/subscription/useSubscriptionPricing"),c=e("../../../shield-plan/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(14),{subscriptionPricing:a,handlePaymentError:u}=e,m=(0,l.useI18nContext)(),p=(0,i.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,a);let f;if(t[0]!==p||t[1]!==m){e:{const e=null==p?void 0:p.find(d);if(!e){f="";break e}const a=`$${(0,c.getProductPrice)(e)}`;let n;t[3]!==m||t[4]!==a?(n=m("shieldPlanMonthlyPrice",[a]),t[3]=m,t[4]=a,t[5]=n):n=t[5],f=n}t[0]=p,t[1]=m,t[2]=f}else f=t[2];const h=f;let g,E,_;return t[6]!==u?(g=()=>{u()},t[6]=u,t[7]=g):g=t[7],t[8]!==h||t[9]!==m?(E=m("shieldTxMembershipRenewDescription",[h]),t[8]=h,t[9]=m,t[10]=E):E=t[10],t[11]!==g||t[12]!==E?(_=s.default.createElement(r.Button,{"data-testid":"shield-detail-renew-button",className:"w-full",variant:r.ButtonVariant.Secondary,onClick:g},E),t[11]=g,t[12]=E,t[13]=_):_=t[13],_};function d(e){return e.interval===o.RECURRING_INTERVALS.month}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/reactivate-button.tsx"}],[8125,{"./transaction-shield":8132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./transaction-shield"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/index.ts"}],[8126,{"./manage-shield-plan":8127},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./manage-shield-plan"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/manage-shield-plan/index.ts"}],[8127,{"../../../../../shared/constants/subscriptions":5910,"../../../../../shared/lib/shield":5993,"../../../../components/app/api-error-handler":6074,"../../../../components/app/modals/add-funds-modal":6223,"../../../../components/ui/loading-screen":7037,"../../../../helpers/constants/routes":7154,"../../../../hooks/subscription/useHandlePayment":7273,"../../../../hooks/subscription/useSubscription":7274,"../../../../hooks/subscription/useSubscriptionPricing":7275,"../../../../hooks/useI18nContext":7301,"../../../asset/util":7373,"../components":8121,"../components/cancel-membership-modal":8119,"../components/crypto-account-display":8120,"../payment-method-row":8130,"../types":8133,"@metamask/design-system-react":1846,"@metamask/subscription-controller":3023,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=e("@metamask/subscription-controller"),l=e("react-router-dom"),i=e("../../../../hooks/useI18nContext"),c=e("../components"),u=e("../../../../hooks/subscription/useSubscription"),d=C(e("../components/cancel-membership-modal")),m=C(e("../../../../components/app/api-error-handler")),p=e("../../../../../shared/constants/subscriptions"),f=C(e("../../../../components/ui/loading-screen")),h=e("../../../asset/util"),g=e("../payment-method-row"),E=e("../../../../hooks/subscription/useSubscriptionPricing"),_=e("../../../../hooks/subscription/useHandlePayment"),y=e("../../../../../shared/lib/shield"),S=e("../types"),T=C(e("../../../../components/app/modals/add-funds-modal")),b=e("../../../../helpers/constants/routes"),v=C(e("../components/crypto-account-display"));function C(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(81),{isPastPlan:a}=e,C=a!==undefined&&a,x=(0,i.useI18nContext)(),w=(0,l.useNavigate)(),[I,k]=(0,s.useState)(!1),{subscriptions:M,lastSubscription:N,loading:R,error:A}=(0,u.useUserSubscriptions)(),D=(0,u.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,M),P=(0,u.useUserLastSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,N),O=C?P:D??P;let B;t[0]===Symbol.for("react.memo_cache_sentinel")?(B={refetch:!0},t[0]=B):B=t[0];const{subscriptionPricing:L,loading:F,error:U}=(0,E.useSubscriptionPricing)(B),j=(null==O?void 0:O.status)===o.SUBSCRIPTION_STATUSES.canceled;let W;t[1]!==M?(W=(0,y.getIsShieldSubscriptionPaused)(M),t[1]=M,t[2]=W):W=t[2];const V=W,$=j||V;let H;t[3]!==M?(H=(0,y.getIsShieldSubscriptionEndingSoon)(M),t[3]=M,t[4]=H):H=t[4];const z=H,G=!j&&D&&!(null!=D&&D.cancelAtPeriodEnd);let Y;t[5]!==(null==O?void 0:O.paymentMethod)?(Y=(null==O?void 0:O.paymentMethod)&&(0,S.isCryptoPaymentMethod)(null==O?void 0:O.paymentMethod),t[5]=null==O?void 0:O.paymentMethod,t[6]=Y):Y=t[6];const K=Y;let q;t[7]!==O?(q=O&&(0,S.isCardPaymentMethod)(O.paymentMethod),t[7]=O,t[8]=q):q=t[8];const Z=q,Q=j??!1;let X,J;t[9]===Symbol.for("react.memo_cache_sentinel")?(X=()=>k(!0),t[9]=X):X=t[9],t[10]!==D||t[11]!==O||t[12]!==L||t[13]!==M||t[14]!==Q?(J={currentShieldSubscription:D,displayedShieldSubscription:O,subscriptions:M,isCancelled:Q,subscriptionPricing:L,onOpenAddFundsModal:X},t[10]=D,t[11]=O,t[12]=L,t[13]=M,t[14]=Q,t[15]=J):J=t[15];const{handlePaymentError:ee,handlePaymentErrorInsufficientFunds:te,handlePaymentMethodChange:ae,isUnexpectedErrorCryptoPayment:ne,hasAvailableSelectedTokenToTriggerCheckInsufficientFunds:se,currentToken:re,resultTriggerSubscriptionCheckInsufficientFunds:oe,updateSubscriptionCardPaymentMethodResult:le,updateSubscriptionCryptoPaymentMethodResult:ie}=(0,_.useHandlePayment)(J),[ce,ue]=(0,s.useState)(!1),[de,me]=(0,u.useCancelSubscription)(D),[pe,fe]=(0,u.useUnCancelSubscription)(D),[he,ge]=(0,u.useOpenGetSubscriptionBillingPortal)(O),Ee=R||F||ge.pending||fe.pending||me.pending||le.pending||ie.pending||oe.pending,_e=A||U||ge.error||fe.error||me.error||le.error||ie.error||oe.error;let ye;e:{if(!O){ye="";break e}const e=(null==O?void 0:O.interval)===o.RECURRING_INTERVALS.year;if(C){let a;t[16]!==e||t[17]!==x?(a=x(e?"shieldPlanYearly":"shieldPlanMonthly"),t[16]=e,t[17]=x,t[18]=a):a=t[18],ye=a;break e}let a;t[19]!==(null==O?void 0:O.currentPeriodEnd)||t[20]!==e||t[21]!==x?(a=x("shieldTxDetails2Description",[x(e?"shieldPlanYearly":"shieldPlanMonthly"),(0,h.getShortDateFormatterV2)().format(new Date(null==O?void 0:O.currentPeriodEnd))]),t[19]=null==O?void 0:O.currentPeriodEnd,t[20]=e,t[21]=x,t[22]=a):a=t[22],ye=a}const Se=ye;if(!Ee&&_e){let e;return t[23]!==_e?(e=s.default.createElement(r.Box,{className:"transaction-shield-page w-full","data-testid":"transaction-shield-page",padding:4},s.default.createElement(m.default,{className:"transaction-shield-page__error-content mx-auto",error:_e,location:p.ShieldUnexpectedErrorEventLocationEnum.TransactionShieldTab})),t[23]=_e,t[24]=e):e=t[24],e}const Te=K??!1,be=Z??!1;let ve,Ce,xe,we,Ie,ke,Me,Ne,Re,Ae,De;return t[25]!==D||t[26]!==ee||t[27]!==V||t[28]!==z||t[29]!==Te||t[30]!==be?(ve=s.default.createElement(c.MembershipErrorBanner,{isPaused:V,isCryptoPayment:Te,isCardPayment:be,isSubscriptionEndingSoon:z,currentShieldSubscription:D,onActionButtonClick:ee}),t[25]=D,t[26]=ee,t[27]=V,t[28]=z,t[29]=Te,t[30]=be,t[31]=ve):ve=t[31],t[32]!==Se||t[33]!==O||t[34]!==he||t[35]!==ee||t[36]!==te||t[37]!==ae||t[38]!==se||t[39]!==C||t[40]!==V||t[41]!==ne||t[42]!==w||t[43]!==L||t[44]!==x?(Ce=O&&s.default.createElement(c.ButtonRowContainer,null,C&&s.default.createElement(c.ButtonRow,{title:x("shieldTxDetails1Title"),description:`${(0,h.getShortDateFormatterV2)().format(new Date(null==O?void 0:O.currentPeriodStart))} - ${(0,h.getShortDateFormatterV2)().format(new Date(null==O?void 0:O.currentPeriodEnd))}`}),s.default.createElement(c.ButtonRow,{title:x("shieldTxDetails2Title"),description:Se}),s.default.createElement(g.PaymentMethodRow,{displayedShieldSubscription:O,subscriptionPricing:L,onPaymentMethodChange:ae,isCheckSubscriptionInsufficientFundsDisabled:!se,handlePaymentErrorInsufficientFunds:te,isPaused:V,isUnexpectedErrorCryptoPayment:ne,handlePaymentError:ee}),(0,S.isCryptoPaymentMethod)(O.paymentMethod)&&s.default.createElement(c.ButtonRow,{title:x("shieldTxBillingAccount"),description:s.default.createElement(v.default,{payerAddress:O.paymentMethod.crypto.payerAddress,chainId:O.paymentMethod.crypto.chainId})}),!C&&(null==O?void 0:O.status)!==o.SUBSCRIPTION_STATUSES.provisional&&s.default.createElement(s.default.Fragment,null,s.default.createElement(r.Box,{className:"transaction-shield-page__divider my-4"},s.default.createElement(r.Box,{className:"border-t border-muted w-full h-px"})),s.default.createElement(c.ButtonRow,{"data-testid":"shield-detail-view-billing-history-button",title:x("shieldTxMembershipBillingDetailsViewBillingHistory"),onClick:()=>{he()}})),C&&(null==O?void 0:O.isEligibleForSupport)&&s.default.createElement(s.default.Fragment,null,s.default.createElement(r.Box,{className:"transaction-shield-page__divider my-4"},s.default.createElement(r.Box,{className:"border-t border-muted w-full h-px"})),s.default.createElement(c.ButtonRow,{"data-testid":"shield-detail-submit-case-button",title:x("shieldTxMembershipMakeClaim"),onClick:()=>{w(b.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}}))),t[32]=Se,t[33]=O,t[34]=he,t[35]=ee,t[36]=te,t[37]=ae,t[38]=se,t[39]=C,t[40]=V,t[41]=ne,t[42]=w,t[43]=L,t[44]=x,t[45]=Ce):Ce=t[45],t[46]!==Ce?(xe=s.default.createElement(r.Box,{className:"flex-1"},Ce),t[46]=Ce,t[47]=xe):xe=t[47],t[48]!==(null==D?void 0:D.cancelAtPeriodEnd)||t[49]!==pe||t[50]!==$||t[51]!==x?(we=!$&&(null==D?void 0:D.cancelAtPeriodEnd)&&s.default.createElement(r.Button,{"data-testid":"shield-tx-membership-uncancel-button",variant:r.ButtonVariant.Secondary,className:"w-full",onClick:()=>{pe()}},x("shieldTxMembershipResubscribe")),t[48]=null==D?void 0:D.cancelAtPeriodEnd,t[49]=pe,t[50]=$,t[51]=x,t[52]=we):we=t[52],t[53]!==he||t[54]!==j||t[55]!==x?(Ie=j&&s.default.createElement(r.Button,{"data-testid":"shield-detail-view-billing-history-button",variant:r.ButtonVariant.Secondary,className:"w-full",onClick:()=>{he()}},x("shieldTxViewPastInvoice")),t[53]=he,t[54]=j,t[55]=x,t[56]=Ie):Ie=t[56],t[57]!==G||t[58]!==x?(ke=G&&s.default.createElement(r.Button,{"data-testid":"shield-tx-membership-cancel-button",variant:r.ButtonVariant.Secondary,className:"w-full",onClick:()=>{ue(!0)}},x("shieldTxMembershipCancel")),t[57]=G,t[58]=x,t[59]=ke):ke=t[59],t[60]!==we||t[61]!==Ie||t[62]!==ke?(Me=s.default.createElement(r.Box,{className:"p-4"},we,Ie,ke),t[60]=we,t[61]=Ie,t[62]=ke,t[63]=Me):Me=t[63],t[64]!==Ee?(Ne=Ee&&s.default.createElement(f.default,null),t[64]=Ee,t[65]=Ne):Ne=t[65],t[66]!==D||t[67]!==de||t[68]!==ce?(Re=D&&ce&&s.default.createElement(d.default,{onClose:()=>ue(!1),onConfirm:async()=>{ue(!1),await de()},subscription:D}),t[66]=D,t[67]=de,t[68]=ce,t[69]=Re):Re=t[69],t[70]!==D||t[71]!==re||t[72]!==I?(Ae=re&&I&&D&&(0,S.isCryptoPaymentMethod)(D.paymentMethod)&&s.default.createElement(T.default,{onClose:()=>{k(!1)},token:re,chainId:D.paymentMethod.crypto.chainId,payerAddress:D.paymentMethod.crypto.payerAddress}),t[70]=D,t[71]=re,t[72]=I,t[73]=Ae):Ae=t[73],t[74]!==ve||t[75]!==xe||t[76]!==Me||t[77]!==Ne||t[78]!==Re||t[79]!==Ae?(De=s.default.createElement(r.Box,{className:"manage-plan-page w-full h-full flex flex-col","data-testid":"manage-plan-page"},ve,xe,Me,Ne,Re,Ae),t[74]=ve,t[75]=xe,t[76]=Me,t[77]=Ne,t[78]=Re,t[79]=Ae,t[80]=De):De=t[80],De}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/manage-shield-plan/manage-shield-plan.tsx"}],[8128,{"./network-selector":8129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./network-selector"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/index.ts"}],[8129,{"../../../../../shared/modules/selectors/networks":6034,"../../../../components/component-library":6633,"../../../../components/multichain/network-list-item":6868,"../../../../helpers/constants/design-system":7149,"../../../../selectors/multichain":8216,"../../../../selectors/shield/claims":8229,"@metamask/design-system-react":1846,classnames:4209,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),l=e("@metamask/design-system-react"),i=(n=e("classnames"))&&n.__esModule?n:{default:n},c=e("../../../../components/component-library"),u=e("../../../../../shared/modules/selectors/networks"),d=e("../../../../components/multichain/network-list-item"),m=e("../../../../selectors/multichain"),p=e("../../../../helpers/constants/design-system"),f=e("../../../../selectors/shield/claims");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(41),{label:a,modalTitle:n,onNetworkSelect:h,selectedChainId:g,disabled:E}=e,_=E!==undefined&&E,[y,S]=(0,r.useState)(!1),T=(0,o.useSelector)(u.getNetworkConfigurationsByChainId),b=(0,o.useSelector)(f.getSupportedNetworksForClaim);let v;t[0]!==T||t[1]!==b?(v=Object.values(T).filter(e=>b.includes(e.chainId)),t[0]=T,t[1]=b,t[2]=v):v=t[2];const C=v;let x;t[3]!==C||t[4]!==g?(x=C.find(e=>e.chainId===g),t[3]=C,t[4]=g,t[5]=x):x=t[5];const w=x;let I,k,M,N,R,A,D,P,O,B,L,F,U,j,W;return t[6]!==_?(I=(0,i.default)("mb-2",{"opacity-50":_}),t[6]=_,t[7]=I):I=t[7],t[8]!==a||t[9]!==I?(k=r.default.createElement(l.Text,{variant:l.TextVariant.BodyMd,fontWeight:l.FontWeight.Medium,className:I},a),t[8]=a,t[9]=I,t[10]=k):k=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(M=()=>S(!0),t[11]=M):M=t[11],t[12]!==n||t[13]!==w?(N=w?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.AvatarNetwork,{src:(0,m.getImageForChainId)(w.chainId),alt:w.name,size:l.AvatarNetworkSize.Sm}),r.default.createElement(l.Text,null,w.name)):r.default.createElement(l.Text,{color:l.TextColor.TextAlternative},n),t[12]=n,t[13]=w,t[14]=N):N=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(R=r.default.createElement(l.Icon,{className:"ml-auto",size:l.IconSize.Sm,color:l.IconColor.IconDefault,name:l.IconName.ArrowDown}),t[15]=R):R=t[15],t[16]!==_||t[17]!==N?(A=r.default.createElement("button",{"data-testid":"network-selector-button",disabled:_},N,R),t[16]=_,t[17]=N,t[18]=A):A=t[18],t[19]!==n||t[20]!==A?(D=r.default.createElement(l.Box,{asChild:!0,borderColor:l.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:M,"aria-label":n},A),t[19]=n,t[20]=A,t[21]=D):D=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(P=()=>S(!1),t[22]=P):P=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(O=r.default.createElement(c.ModalOverlay,null),t[23]=O):O=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(B=()=>S(!1),t[24]=B):B=t[24],t[25]!==n?(L=r.default.createElement(c.ModalHeader,{onClose:B},n),t[25]=n,t[26]=L):L=t[26],t[27]!==C||t[28]!==h||t[29]!==g?(F=r.default.createElement(c.ModalBody,{paddingRight:0,paddingLeft:0},r.default.createElement(l.Box,{className:"flex flex-col w-full"},C.map(e=>{const{name:t,chainId:a}=e;return r.default.createElement(d.NetworkListItem,{key:a,name:t,selected:g===a,onClick:()=>{h(a),S(!1)},iconSrc:(0,m.getImageForChainId)(a),iconSize:l.IconSize.Sm,focus:!1,chainId:a,variant:p.TextVariant.bodyMdMedium})}))),t[27]=C,t[28]=h,t[29]=g,t[30]=F):F=t[30],t[31]!==L||t[32]!==F?(U=r.default.createElement(c.ModalContent,{size:c.ModalContentSize.Sm},L,F),t[31]=L,t[32]=F,t[33]=U):U=t[33],t[34]!==y||t[35]!==U?(j=r.default.createElement(c.Modal,{isOpen:y,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:P,className:"network-selector-modal","data-testid":"network-selector-modal"},O,U),t[34]=y,t[35]=U,t[36]=j):j=t[36],t[37]!==D||t[38]!==j||t[39]!==k?(W=r.default.createElement(l.Box,null,k,D,j),t[37]=D,t[38]=j,t[39]=k,t[40]=W):W=t[40],W}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/network-selector.tsx"}],[8130,{"../../../../shared/lib/shield":5993,"../../../components/ui/tooltip":7092,"../../../hooks/subscription/useSubscriptionPricing":7275,"../../../hooks/useI18nContext":7301,"../../shield-plan/shield-payment-modal":8135,"./components":8121,"./types":8133,"@metamask/design-system-react":1846,"@metamask/subscription-controller":3023,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.PaymentMethodRow=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/subscription-controller"),o=e("@metamask/design-system-react"),l=e("../../../hooks/useI18nContext"),i=e("../../../hooks/subscription/useSubscriptionPricing"),c=(n=e("../../../components/ui/tooltip"))&&n.__esModule?n:{default:n},u=e("../../shield-plan/shield-payment-modal"),d=e("../../../../shared/lib/shield"),m=e("./types"),p=e("./components");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}a.PaymentMethodRow=({displayedShieldSubscription:e,subscriptionPricing:t,onPaymentMethodChange:a,showSkeletonLoader:n=!1,isCheckSubscriptionInsufficientFundsDisabled:f,isPaused:h,isUnexpectedErrorCryptoPayment:g,handlePaymentError:E,handlePaymentErrorInsufficientFunds:_})=>{const y=(0,l.useI18nContext)(),[S,T]=(0,s.useState)(!1),b=(0,s.useMemo)(()=>!!e&&(0,d.getIsShieldSubscriptionCanChangePaymentMethodToCard)(e),[e]),v=(0,s.useMemo)(()=>!!e&&(0,d.getIsShieldSubscriptionEndingSoon)(e),[e]),C=(0,i.useSubscriptionPaymentMethods)(r.PAYMENT_TYPES.byCrypto,t),x=(0,i.useSubscriptionProductPlans)(r.PRODUCT_TYPES.SHIELD,t),w=(0,s.useMemo)(()=>e&&x?x.find(t=>t.interval===e.interval):undefined,[x,e]),{availableTokenBalances:I}=(0,i.useAvailableTokenBalances)({paymentChains:null==C?void 0:C.chains,price:w,productType:r.PRODUCT_TYPES.SHIELD}),k=(0,s.useMemo)(()=>{if(!e||!(0,m.isCryptoPaymentMethod)(e.paymentMethod))return I;const t=e.paymentMethod;return I.filter(e=>{var a,n;return(null===(a=e.address)||void 0===a?void 0:a.toLocaleLowerCase())!==(null===(n=t.crypto.tokenAddress)||void 0===n?void 0:n.toLocaleLowerCase())||e.chainId.toLowerCase()!==t.crypto.chainId.toLowerCase()})},[I,e]),M=k.length>0,N=e&&(0,m.isCryptoPaymentMethod)(e.paymentMethod)&&e.paymentMethod.crypto.error===r.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_BALANCE,R=(0,s.useMemo)(()=>{const e=(null==C?void 0:C.chains)??[];return[...new Set(e.flatMap(e=>e.tokens.map(e=>e.symbol)))]},[null==C?void 0:C.chains]),A=(0,s.useMemo)(()=>e?e.paymentMethod.type:r.PAYMENT_TYPES.byCard,[e]),D=(0,s.useMemo)(()=>{if(!e)return k[0];if((0,m.isCryptoPaymentMethod)(e.paymentMethod)){const t=e.paymentMethod.crypto;return k.find(e=>e.symbol===t.tokenSymbol&&e.chainId===t.chainId)||k[0]}return k[0]},[e,k]),P=(0,s.useCallback)(()=>{T(!1)},[]),O=(0,s.useCallback)(e=>{e===r.PAYMENT_TYPES.byCard&&a(e)},[a]),B=(0,s.useCallback)(e=>{a(r.PAYMENT_TYPES.byCrypto,e),T(!1)},[a]),L=(0,s.useMemo)(()=>e&&(0,m.isCryptoPaymentMethod)(e.paymentMethod),[e]),F=(0,s.useMemo)(()=>{if(!e||!L)return y("shieldPlanCard");const{tokenSymbol:t}=e.paymentMethod.crypto;return y("shieldTxDetails3DescriptionCrypto",[t])},[e,L,y]),U=(0,s.useCallback)(e=>s.default.createElement(o.Box,{className:"flex items-center gap-1"},s.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},F),s.default.createElement(o.Icon,{name:o.IconName.Warning,size:o.IconSize.Lg,color:e})),[F]),j=(0,s.useMemo)(()=>{if(!e)return!1;const{status:t}=e;return t===r.SUBSCRIPTION_STATUSES.canceled||t===r.SUBSCRIPTION_STATUSES.provisional},[e]),W=(0,s.useMemo)(()=>{if(!e)return"";const t=y("shieldTxDetails3Title");if(h&&!g){const e=L?"shieldTxMembershipErrorPausedCryptoTooltip":"shieldTxMembershipErrorPausedCardTooltip",a=L&&N?_:E,n=L&&N&&f;return s.default.createElement(c.default,{position:"top",title:y(e)},s.default.createElement(p.ButtonRow,{title:t,description:U(o.IconColor.ErrorDefault),descriptionClassName:"text-error-default",endAccessory:!n&&s.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:a},y(L&&N?"addFunds":"update"))}))}return v?s.default.createElement(p.ButtonRow,{title:t,description:U(o.IconColor.WarningDefault),endAccessory:s.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:E},y("shieldTxMembershipRenew"))}):s.default.createElement(p.ButtonRow,{title:t,description:F,descriptionTestId:"shield-detail-payment-method",endAccessory:L&&!j?s.default.createElement(o.Button,{"data-testid":"shield-detail-payment-method-button",variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:()=>T(!0)},y("update")):undefined})},[e,y,h,g,v,F,L,j,N,_,E,f,U]);return n?s.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},"-"):h&&!g||v?s.default.createElement(s.default.Fragment,null,W):s.default.createElement(s.default.Fragment,null,s.default.createElement(o.Box,null,W),s.default.createElement(u.ShieldPaymentModal,{disableCardOption:!b,isOpen:S,onClose:P,selectedPaymentMethod:A,setSelectedPaymentMethod:O,availableTokenBalances:k,selectedToken:D,onAssetChange:B,hasStableTokenWithBalance:M,tokensSupported:R}))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/payment-method-row.tsx"}],[8131,{"../../../contexts/rive-wasm":7111,"@metamask/design-system-react":1846,"@rive-app/react-canvas":3286,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@rive-app/react-canvas"),o=e("@metamask/design-system-react"),l=e("../../../contexts/rive-wasm");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}const c="shield_banner_illustration",u="Dark",d="Start";a.default=e=>{const t=(0,n.c)(42),{containerClassName:a,canvasClassName:i,isInactive:u}=e,d=u!==undefined&&u,f=(0,l.useRiveWasmContext)(),{isWasmReady:h,error:g}=f,{buffer:E,error:_,loading:y}=(0,l.useRiveWasmFile)("./images/riv_animations/shield_banner.riv");let S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S={},t[0]=S):S=t[0];const T=(0,s.useRef)(S),b=(0,s.useRef)(!1);let v,C,x;t[1]!==_||t[2]!==g?(v=()=>{g&&console.error("[Rive] Failed to load WASM:",g),_&&console.error("[Rive] Failed to load buffer:",_)},C=[g,_],t[1]=_,t[2]=g,t[3]=v,t[4]=C):(v=t[3],C=t[4]),(0,s.useEffect)(v,C),t[5]!==E?(x={buffer:E},t[5]=E,t[6]=x):x=t[6];const{riveFile:w,status:I}=(0,r.useRiveFile)(x),k=w??undefined,M=w?c:undefined;let N,R;t[7]===Symbol.for("react.memo_cache_sentinel")?(N=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[7]=N):N=t[7],t[8]!==k||t[9]!==M?(R={riveFile:k,stateMachines:M,autoplay:!1,layout:N},t[8]=k,t[9]=M,t[10]=R):R=t[10];const{rive:A,RiveComponent:D}=(0,r.useRive)(R);let P;t[11]!==A?(P=()=>{if(!A)return!1;const e=A.stateMachineInputs(c);return!!e&&(T.current={dark:e.find(m),start:e.find(p)},!0)},t[11]=A,t[12]=P):P=t[12];const O=P;let B,L,F,U,j,W,V,$;if(t[13]!==E||t[14]!==y||t[15]!==O||t[16]!==d||t[17]!==h||t[18]!==A?(B=()=>{if(A&&h&&!y&&E&&!b.current&&O()){const{dark:e,start:t}=T.current;e&&(e.value=d),t&&t.fire(),A.play(),b.current=!0}},t[13]=E,t[14]=y,t[15]=O,t[16]=d,t[17]=h,t[18]=A,t[19]=B):B=t[19],t[20]!==E||t[21]!==y||t[22]!==O||t[23]!==h||t[24]!==A?(L=[A,h,y,E,O],t[20]=E,t[21]=y,t[22]=O,t[23]=h,t[24]=A,t[25]=L):L=t[25],(0,s.useEffect)(B,L),t[26]!==d||t[27]!==A?(F=()=>{if(!b.current||!A)return;const{dark:e,start:t}=T.current;e&&(e.value=d),t&&t.fire()},t[26]=d,t[27]=A,t[28]=F):F=t[28],t[29]!==d?(U=[d],t[29]=d,t[30]=U):U=t[30],(0,s.useEffect)(F,U),t[31]!==A?(j=()=>()=>{A&&A.cleanup(),b.current=!1},t[31]=A,t[32]=j):j=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(W=[],t[33]=W):W=t[33],(0,s.useEffect)(j,W),!h||y||!E||"loading"===I||"failed"===I){let e;return t[34]!==a?(e=s.default.createElement(o.Box,{className:a}),t[34]=a,t[35]=e):e=t[35],e}return t[36]!==D||t[37]!==i?(V=s.default.createElement(D,{className:i}),t[36]=D,t[37]=i,t[38]=V):V=t[38],t[39]!==a||t[40]!==V?($=s.default.createElement(o.Box,{className:a},V),t[39]=a,t[40]=V,t[41]=$):$=t[41],$};function m(e){return e.name===u}function p(e){return e.name===d}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/shield-banner-animation.tsx"}],[8132,{"../../../../shared/constants/subscriptions":5910,"../../../../shared/constants/time":5913,"../../../../shared/lib/shield":5993,"../../../components/app/api-error-handler":6074,"../../../components/app/modals/add-funds-modal/add-funds-modal":6222,"../../../components/app/rewards/onboarding/OnboardingModal":6362,"../../../components/component-library/skeleton":6679,"../../../components/ui/loading-screen":7037,"../../../ducks/locale/locale":7136,"../../../ducks/rewards":7141,"../../../helpers/constants/common":7147,"../../../helpers/constants/routes":7154,"../../../hooks/shield/metrics/useSubscriptionMetrics":7260,"../../../hooks/subscription/useHandlePayment":7273,"../../../hooks/subscription/useSubscription":7274,"../../../hooks/subscription/useSubscriptionPricing":7275,"../../../hooks/useFormatters":7297,"../../../hooks/useI18nContext":7301,"../../../hooks/useTimeout":7333,"../../../store/actions":8241,"../../asset/util":7373,"../../shield-plan/utils":8138,"./components":8121,"./components/crypto-account-display":8120,"./components/reactivate-button":8124,"./types":8133,"@metamask/design-system-react":1846,"@metamask/subscription-controller":3023,loglevel:4948,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/subscription-controller"),r=e("react-router-dom"),o=e("@metamask/design-system-react"),l=e("react-redux"),i=O(e("loglevel")),c=e("../../../components/component-library/skeleton"),u=e("../../../hooks/useI18nContext"),d=e("../../../hooks/subscription/useSubscription"),m=e("../../asset/util"),p=e("../../../helpers/constants/routes"),f=e("../../../helpers/constants/common"),h=e("../../shield-plan/utils"),g=e("../../../hooks/useFormatters"),E=O(e("../../../components/ui/loading-screen")),_=O(e("../../../components/app/modals/add-funds-modal/add-funds-modal")),y=e("../../../hooks/subscription/useSubscriptionPricing"),S=O(e("../../../components/app/rewards/onboarding/OnboardingModal")),T=e("../../../../shared/lib/shield"),b=e("../../../hooks/useTimeout"),v=e("../../../../shared/constants/time"),C=e("../../../hooks/shield/metrics/useSubscriptionMetrics"),x=e("../../../../shared/constants/subscriptions"),w=O(e("../../../components/app/api-error-handler")),I=e("../../../hooks/subscription/useHandlePayment"),k=e("../../../ducks/rewards"),M=e("../../../ducks/locale/locale"),N=e("../../../store/actions"),R=e("./types"),A=e("./components"),D=O(e("./components/reactivate-button")),P=O(e("./components/crypto-account-display"));function O(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,u.useI18nContext)(),t=(0,l.useSelector)(M.getIntlLocale),a=(0,l.useDispatch)(),O=(0,r.useNavigate)(),{search:B}=(0,r.useLocation)(),{captureShieldCtaClickedEvent:L}=(0,C.useSubscriptionMetrics)(),F=(0,n.useMemo)(()=>"true"===new URLSearchParams(B).get("waitForSubscriptionCreation"),[B]),{formatCurrency:U}=(0,g.useFormatters)(),{customerId:j,subscriptions:W,lastSubscription:V,loading:$,error:H}=(0,d.useUserSubscriptions)({refetch:!F}),z=(0,d.useUserSubscriptionByProduct)(s.PRODUCT_TYPES.SHIELD,W),G=(0,d.useUserLastSubscriptionByProduct)(s.PRODUCT_TYPES.SHIELD,V),Y=z??G,[K,q]=(0,n.useState)(!1);(0,n.useEffect)(()=>()=>{q(!0)},[]),(0,n.useEffect)(()=>{z&&q(!0)},[z]);const Z=(0,b.useTimeout)(()=>{K||O(p.DEFAULT_ROUTE)},v.MINUTE,!1);(0,n.useEffect)(()=>{F&&(null==Z||Z())},[F,Z]);const{subscriptionPricing:Q,loading:X,error:J}=(0,y.useSubscriptionPricing)({refetch:!0}),ee=(null==Y?void 0:Y.status)===s.SUBSCRIPTION_STATUSES.canceled,te=(0,T.getIsShieldSubscriptionPaused)(W),ae=(0,T.getIsShieldSubscriptionTrialing)(W),ne=ee||te,se=(0,T.getIsShieldSubscriptionEndingSoon)(W),re=(null==Y?void 0:Y.paymentMethod)&&(0,R.isCryptoPaymentMethod)(null==Y?void 0:Y.paymentMethod),oe=(0,n.useMemo)(()=>null==Y?void 0:Y.products.find(e=>e.name===s.PRODUCT_TYPES.SHIELD),[Y]),{pointsMonthly:le,pointsYearly:ie,isRewardsSeason:ce,hasAccountOptedIn:ue,pending:de}=(0,d.useShieldRewards)(),me=ue||Boolean(null==Y?void 0:Y.rewardAccountId),pe=F&&!z||$||X||de;(0,n.useEffect)(()=>{F||Y||O({pathname:p.SHIELD_PLAN_ROUTE,search:`?source=${x.ShieldMetricsSourceEnum.Settings}`})},[F,O,Y]);const[fe,he]=(0,n.useState)(!1),ge=(0,n.useCallback)(()=>{a((0,k.setOnboardingModalOpen)(!0))},[a]),Ee=(0,n.useMemo)(()=>(null==Y?void 0:Y.interval)===s.RECURRING_INTERVALS.year?ie:le,[ie,le,null==Y?void 0:Y.interval]),_e=(0,n.useMemo)(()=>Ee&&ce?new Intl.NumberFormat(t).format(Ee):"",[Ee,ce,t]),ye=(0,n.useMemo)(()=>{if(!ae||null==Y||!Y.trialEnd)return"";const e=new Date,t=new Date(Y.trialEnd),a=Math.abs(t.getTime()-e.getTime());return Math.ceil(a/864e5).toString()},[Y,ae]),Se=(0,n.useMemo)(()=>{if(!Y||!oe)return"";const t=Y.interval===s.RECURRING_INTERVALS.year,a=(0,R.isCryptoPaymentMethod)(Y.paymentMethod)?`${(0,h.getProductPrice)(oe)} ${Y.paymentMethod.crypto.tokenSymbol}`:U((0,h.getProductPrice)(oe),null==oe?void 0:oe.currency.toUpperCase(),{maximumFractionDigits:2,minimumFractionDigits:0});return e(t?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[a])},[Y,oe,e,U]),Te=(0,n.useMemo)(()=>Y?ae?e("shieldTxDetails1DescriptionTrial",[ye,Se]):Se:"",[Y,ae,e,ye,Se]),be=(0,n.useMemo)(()=>Y?(0,R.isCryptoPaymentMethod)(Y.paymentMethod)?n.default.createElement(o.Text,{asChild:!0,variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative,className:"flex items-center gap-1","data-testid":"shield-detail-payment-method"},e("shieldTxDetails3DescriptionCryptoWithAccount",[Y.paymentMethod.crypto.tokenSymbol,n.default.createElement(P.default,{key:"crypto-account-display",payerAddress:Y.paymentMethod.crypto.payerAddress,chainId:Y.paymentMethod.crypto.chainId,showIcon:!1})])):e("shieldPlanCard"):"",[Y,e]),ve=(0,n.useCallback)(async(e,t)=>{try{await a((0,N.linkRewardToShieldSubscription)(e,t))}catch(e){i.default.warn("Failed to link reward to shield subscription",e)}},[a]),Ce=z&&(0,R.isCardPaymentMethod)(z.paymentMethod),{handlePaymentError:xe,resultTriggerSubscriptionCheckInsufficientFunds:we,updateSubscriptionCardPaymentMethodResult:Ie,updateSubscriptionCryptoPaymentMethodResult:ke,currentToken:Me}=(0,I.useHandlePayment)({currentShieldSubscription:z,displayedShieldSubscription:Y,subscriptions:W,isCancelled:ee??!1,subscriptionPricing:Q,onOpenAddFundsModal:()=>he(!0)}),Ne=H||J||Ie.error||ke.error||we.error,Re=Ie.pending||ke.pending||we.pending,Ae=(0,n.useCallback)(()=>{window.open(f.TRANSACTION_SHIELD_LINK,"_blank","noopener noreferrer"),L({source:x.ShieldMetricsSourceEnum.Settings,ctaActionClicked:x.ShieldCtaActionClickedEnum.ViewFullBenefits,redirectToUrl:f.TRANSACTION_SHIELD_LINK})},[L]),De=(0,n.useMemo)(()=>ee?null:pe?n.default.createElement(c.Skeleton,{width:80,height:40}):me?null==Y||!Y.id||!Ee||null!=Y&&Y.rewardAccountId?null:n.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,textProps:{variant:o.TextVariant.BodySm},onClick:async()=>ve(null==Y?void 0:Y.id,Ee)},e("shieldTxMembershipBenefits3LinkRewards")):n.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,textProps:{variant:o.TextVariant.BodySm},onClick:()=>{ge()}},e("shieldTxMembershipBenefits3SignUp")),[ee,pe,me,null==Y?void 0:Y.id,null==Y?void 0:Y.rewardAccountId,Ee,e,ge,ve]);return!Re&&Ne?n.default.createElement(o.Box,{className:"transaction-shield-page w-full","data-testid":"transaction-shield-page"},n.default.createElement(w.default,{className:"transaction-shield-page__error-content mx-auto",error:Ne,location:x.ShieldUnexpectedErrorEventLocationEnum.TransactionShieldTab})):n.default.createElement(o.Box,{className:"transaction-shield-page flex flex-col w-full","data-testid":"transaction-shield-page"},(null==z?void 0:z.cancelAtPeriodEnd)&&n.default.createElement(o.Box,{className:"transaction-shield-page__notification-banner flex items-center px-4 py-1 gap-2 mb-4",backgroundColor:o.BoxBackgroundColor.WarningMuted},n.default.createElement(o.Icon,{name:o.IconName.Info,size:o.IconSize.Lg}),n.default.createElement(o.Text,{variant:o.TextVariant.BodySm},e("shieldTxMembershipCancelNotification",[(0,m.getShortDateFormatterV2)().format(new Date(z.currentPeriodEnd))]))),n.default.createElement(A.MembershipErrorBanner,{isPaused:te,isCryptoPayment:re??!1,isCardPayment:Ce??!1,isSubscriptionEndingSoon:se,currentShieldSubscription:z,onActionButtonClick:xe}),n.default.createElement(o.Box,{className:"transaction-shield-page__container mb-4"},n.default.createElement(A.MembershipHeader,{className:"mb-4",showSkeletonLoader:pe,isTrialing:ae,isPaused:te,isCancelled:ee,customerId:j,startDate:null==Y?void 0:Y.currentPeriodStart,endDate:null==Y?void 0:Y.currentPeriodEnd,trialDaysLeft:ye,cancelledDate:null==Y?void 0:Y.canceledAt}),Y&&!ee&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Box,null,n.default.createElement(o.Box,{className:"flex items-center justify-between gap-2 px-4 mb-2"},pe?n.default.createElement(c.Skeleton,{width:"40%",height:20}):n.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm},e("shieldTxDetailsTitle")),pe?n.default.createElement(c.Skeleton,{width:"30%",height:20}):n.default.createElement(o.TextButton,{"data-testid":"shield-detail-manage-plan-button",className:"text-text-alternative hover:text-text-alternative hover:decoration-text-alternative hover:bg-transparent",endIconName:o.IconName.ArrowRight,endIconProps:{size:o.IconSize.Sm,color:o.IconColor.IconAlternative},onClick:()=>{O(p.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE)}},e("shieldTxDetailsManage"))),n.default.createElement(A.ButtonRowContainer,null,n.default.createElement(A.ButtonRow,{startIconName:o.IconName.SecurityTick,title:e("shieldTxDetails1Title"),description:Te,descriptionTestId:"shield-detail-charges",loading:pe}),n.default.createElement(A.ButtonRow,{startIconName:o.IconName.Calendar,title:e("shieldTxDetails2Title"),description:e("shieldTxDetails2Description",[(null==Y?void 0:Y.interval)===s.RECURRING_INTERVALS.year?e("shieldPlanYearly"):e("shieldPlanMonthly"),(0,m.getShortDateFormatterV2)().format(new Date(null==Y?void 0:Y.currentPeriodEnd))]),descriptionTestId:"shield-detail-next-billing",loading:pe}),n.default.createElement(A.ButtonRow,{startIconName:o.IconName.Card,title:e("shieldTxDetails3Title"),description:be,descriptionTestId:"shield-detail-payment-method",loading:pe}))),n.default.createElement(o.Box,{className:"transaction-shield-page__divider my-4"},n.default.createElement(o.Box,{className:"border-t border-muted w-full h-px"}))),n.default.createElement(o.Box,null,n.default.createElement(o.Box,{className:"flex items-center justify-between gap-2 px-4 mb-2"},pe?n.default.createElement(c.Skeleton,{width:"40%",height:20}):n.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm},e(ne?"shieldTxMembershipBenefitsInactive":"shieldTxMembershipBenefits")),pe?n.default.createElement(c.Skeleton,{width:"30%",height:20}):n.default.createElement(o.TextButton,{"data-testid":"shield-detail-view-benefits-button",className:"text-text-alternative hover:text-text-alternative hover:decoration-text-alternative hover:bg-transparent",endIconName:o.IconName.ArrowRight,endIconProps:{size:o.IconSize.Sm,color:o.IconColor.IconAlternative},onClick:()=>{Ae()}},e("shieldTxMembershipBenefitsViewAll"))),n.default.createElement(A.ButtonRowContainer,null,n.default.createElement(A.ButtonRow,{startIconName:o.IconName.Cash,title:e("shieldTxMembershipBenefits1Title",["$10,000"]),description:e("shieldTxMembershipBenefits1Description"),loading:pe}),n.default.createElement(A.ButtonRow,{startIconName:o.IconName.Sms,title:e("shieldTxMembershipBenefits2Title"),description:e("shieldTxMembershipBenefits2Description"),loading:pe}),n.default.createElement(A.ButtonRow,{startIconName:o.IconName.MetamaskFoxOutline,title:e("shieldTxMembershipBenefits3Title"),description:e(ne?"shieldTxMembershipBenefits3DescriptionInactive":"shieldTxMembershipBenefits3Description",[_e||"",(null==Y?void 0:Y.interval)||""]),loading:pe,endAccessory:De}))),!ee&&(null==Y?void 0:Y.isEligibleForSupport)&&n.default.createElement(o.Box,{className:"px-4 mt-4"},pe?n.default.createElement(c.Skeleton,{width:"100%",height:40}):n.default.createElement(o.Button,{"data-testid":"shield-detail-submit-case-button",className:"w-full",variant:o.ButtonVariant.Secondary,onClick:()=>{O(p.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}},e("shieldTxMembershipSubmitCase"))),ee&&n.default.createElement(o.Box,{className:"px-4 mt-4"},pe?n.default.createElement(c.Skeleton,{width:"100%",height:40}):n.default.createElement(D.default,{subscriptionPricing:Q,handlePaymentError:xe})),ee&&G&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Box,{className:"border-t border-muted my-4 w-full h-px"}),n.default.createElement(o.Box,null,n.default.createElement(o.Box,{className:"flex items-center justify-between gap-2 px-4 mb-2"},pe?n.default.createElement(c.Skeleton,{width:"40%",height:20}):n.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm},e("shieldTxPastPlans"))),n.default.createElement(A.ButtonRowContainer,null,n.default.createElement(A.ButtonRow,{title:G.interval===s.RECURRING_INTERVALS.year?e("shieldTxPastPlansYearly"):e("shieldTxPastPlansMonthly"),description:`${(0,m.getShortDateFormatterV2)().format(new Date(G.currentPeriodStart))} - ${(0,m.getShortDateFormatterV2)().format(new Date(G.currentPeriodEnd))}`,loading:pe,onClick:()=>{O(p.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE)}}))))),Re&&n.default.createElement(E.default,null),Me&&fe&&z&&(0,R.isCryptoPaymentMethod)(z.paymentMethod)&&n.default.createElement(_.default,{onClose:()=>{he(!1)},token:Me,chainId:z.paymentMethod.crypto.chainId,payerAddress:z.paymentMethod.crypto.payerAddress}),n.default.createElement(S.default,{rewardPoints:Ee??undefined,shieldSubscriptionId:null==Y?void 0:Y.id}))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/transaction-shield.tsx"}],[8133,{"@metamask/subscription-controller":3023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SUBMIT_CLAIM_FIELDS=a.SUBMIT_CLAIM_ERROR_CODES=a.SHIELD_ICON_ARTBOARD_NAMES=a.CLAIMS_TAB_KEYS=a.CLAIMS_FORM_MODES=void 0,a.isCardPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCard},a.isCryptoPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCrypto};var n=e("@metamask/subscription-controller");a.SUBMIT_CLAIM_FIELDS={CHAIN_ID:"chainId",EMAIL:"email",IMPACTED_WALLET_ADDRESS:"impactedWalletAddress",IMPACTED_TRANSACTION_HASH:"impactedTxHash",REIMBURSEMENT_WALLET_ADDRESS:"reimbursementWalletAddress",CASE_DESCRIPTION:"caseDescription",FILES:"files"},a.SUBMIT_CLAIM_ERROR_CODES={INTERNAL_SERVER_ERROR:"E001",VALIDATION_ERROR:"E002",RESOURCE_NOT_FOUND:"E003",DATABASE_FAILED:"E004",COVERAGE_API_NOT_CONFIGURED:"E101",TRANSACTION_NOT_ELIGIBLE:"E102",SUBMISSION_WINDOW_EXPIRED:"E103",TRANSACTION_NOT_COVERED:"E104",COVERAGE_VALIDATION_FAILED:"E105",SIGNATURE_COVERAGE_NOT_COVERED:"E106",CLAIM_VALIDATION_FAILED:"E201",MAX_CLAIMS_LIMIT_EXCEEDED:"E202",DUPLICATE_CLAIM_EXISTS:"E203",INVALID_WALLET_ADDRESSES:"E204",SIGNATURE_VERIFICATION_FAILED:"E205",FIELD_REQUIRED:"E250",FIELD_IS_NOT_STRING:"E251",FIELD_IS_NOT_NUMBER:"E252",FIELD_IS_NOT_OBJECT:"E253",FIELD_INVALID_EMAIL:"E254",FIELD_INVALID_UUID:"E255",FIELD_INVALID_TYPE:"E256",FIELD_INVALID_VALUE:"E257",FIELD_INVALID_FORMAT:"E258",FIELD_INVALID_ETHEREUM_ADDRESS:"E259",FILES_SIZE_EXCEEDED:"E301",FILES_COUNT_EXCEEDED:"E302",INVALID_FILES_TYPE:"E303",CHAIN_NOT_SUPPORTED:"E401",TRANSACTION_NOT_FOUND:"E402",TRANSACTION_NOT_FROM_WALLET_ADDRESS:"E403",TRANSACTION_NOT_SUCCESSFUL:"E404"},a.SHIELD_ICON_ARTBOARD_NAMES={PROTECTION:"Protection",PRIORITY:"Priority"},a.CLAIMS_TAB_KEYS={PENDING:"pending",HISTORY:"history"},a.CLAIMS_FORM_MODES={NEW:"new",EDIT_DRAFT:"edit-draft",VIEW:"view"}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/types.ts"}],[8134,{"./shield-plan":8136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./shield-plan"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/shield-plan/index.ts"}],[8135,{"../../../shared/constants/network":5896,"../../../shared/constants/subscriptions":5910,"../../components/component-library":6633,"../../components/multichain/asset-picker-amount/asset-picker-modal":6789,"../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6786,"../../helpers/constants/design-system":7149,"../../hooks/useI18nContext":7301,"@metamask/design-system-react":1846,"@metamask/subscription-controller":3023,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldPaymentModal=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/subscription-controller"),r=e("@metamask/design-system-react"),o=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),i=e("../../components/multichain/asset-picker-amount/asset-picker-modal"),c=e("../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),u=e("../../hooks/useI18nContext"),d=e("../../../shared/constants/network"),m=e("../../../shared/constants/subscriptions");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}a.ShieldPaymentModal=({isOpen:e,onClose:t,selectedPaymentMethod:a,setSelectedPaymentMethod:p,availableTokenBalances:f,selectedToken:h,onAssetChange:g,hasStableTokenWithBalance:E,tokensSupported:_,disableCardOption:y})=>{const S=(0,u.useI18nContext)(),[T,b]=(0,n.useState)(!1),v=(0,n.useMemo)(()=>f.length>1,[f]),C=(0,n.useCallback)(e=>{if(p(e),e===s.PAYMENT_TYPES.byCrypto){if(v)return void b(!0);g(f[0])}t()},[p,t,v,g,f]),x=(0,n.useMemo)(()=>function*(e){for(const t of f)e(t.symbol,t.address,t.chainId)&&(yield t)},[f]),w=(0,n.useMemo)(()=>[..._].map(e=>n.default.createElement(r.BadgeWrapper,{key:e,badge:n.default.createElement(o.AvatarNetwork,{size:o.AvatarNetworkSize.Xs,name:d.NETWORK_TO_NAME_MAP[d.CHAIN_IDS.MAINNET],src:d.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[d.CHAIN_IDS.MAINNET],borderColor:l.BorderColor.borderMuted})},n.default.createElement(o.AvatarToken,{name:e,src:m.SUPPORTED_PAYMENT_TOKEN_IMAGES[e],size:o.AvatarTokenSize.Sm}))),[_]);return n.default.createElement(o.Modal,{isOpen:e,onClose:()=>undefined,className:"shield-payment-modal","data-testid":"shield-payment-modal"},n.default.createElement(o.ModalOverlay,null),n.default.createElement(o.ModalContent,{modalDialogProps:{padding:0}},n.default.createElement(o.ModalHeader,{onClose:t},S("shieldPlanPaymentTitle")),n.default.createElement(r.Box,{className:"flex flex-col w-full"},n.default.createElement(r.Box,{asChild:!0,"data-testid":"shield-payment-method-token-button",className:(0,r.twMerge)("payment-method-item flex items-center justify-between w-full gap-4 p-4",a===s.PAYMENT_TYPES.byCrypto&&"payment-method-item--selected"),backgroundColor:a===s.PAYMENT_TYPES.byCrypto?r.BoxBackgroundColor.PrimaryMuted:r.BoxBackgroundColor.Transparent,onClick:()=>{C(s.PAYMENT_TYPES.byCrypto)}},n.default.createElement("button",{disabled:!E},a===s.PAYMENT_TYPES.byCrypto&&n.default.createElement(r.Box,{className:"payment-method-item__selected-indicator rounded-full",backgroundColor:r.BoxBackgroundColor.PrimaryDefault}),n.default.createElement(r.Box,{className:"flex items-center justify-between w-full"},n.default.createElement(r.Box,{className:"flex items-center gap-4"},E?n.default.createElement(r.BadgeWrapper,{badge:n.default.createElement(o.AvatarNetwork,{size:o.AvatarNetworkSize.Xs,name:d.NETWORK_TO_NAME_MAP[d.CHAIN_IDS.MAINNET],src:d.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[d.CHAIN_IDS.MAINNET],borderColor:l.BorderColor.borderMuted})},n.default.createElement(o.AvatarToken,{name:null==h?void 0:h.symbol,src:null==h?void 0:h.image,marginTop:1,borderColor:l.BorderColor.borderMuted})):n.default.createElement(r.Icon,{size:r.IconSize.Xl,name:r.IconName.Coin}),n.default.createElement(r.Box,{className:"text-left"},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},S("shieldPlanPayWithToken",[E?(null==h?void 0:h.symbol)??"":"crypto"])),n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextAlternative},E?`${S("balance")}: ${(null==h?void 0:h.string)??""} ${(null==h?void 0:h.symbol)??""}`:n.default.createElement(r.Box,{className:"flex gap-2"},w)))),E&&v&&n.default.createElement(r.Icon,{size:r.IconSize.Md,name:r.IconName.ArrowDown})))),!y&&n.default.createElement(r.Box,{asChild:!0,"data-testid":"shield-payment-method-card-button",className:(0,r.twMerge)("payment-method-item flex items-center justify-between w-full gap-4 p-4",a===s.PAYMENT_TYPES.byCard&&"payment-method-item--selected"),backgroundColor:a===s.PAYMENT_TYPES.byCard?r.BoxBackgroundColor.PrimaryMuted:r.BoxBackgroundColor.Transparent,onClick:()=>C(s.PAYMENT_TYPES.byCard)},n.default.createElement("button",null,a===s.PAYMENT_TYPES.byCard&&n.default.createElement(r.Box,{className:"payment-method-item__selected-indicator rounded-full",backgroundColor:r.BoxBackgroundColor.PrimaryDefault}),n.default.createElement(r.Box,{className:"flex items-center justify-between w-full"},n.default.createElement(r.Box,{className:"flex items-center gap-4"},n.default.createElement(r.Icon,{size:r.IconSize.Xl,name:r.IconName.Card}),n.default.createElement(r.Box,{className:"text-left"},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},S("shieldPlanPayWithCard")),n.default.createElement(r.Box,{className:"flex items-center gap-1"},n.default.createElement("img",{src:"./images/card-mc.svg",alt:"Mastercard"}),n.default.createElement("img",{src:"./images/card-visa.svg",alt:"Visa"}),n.default.createElement("img",{src:"./images/card-amex.svg",alt:"American Express"})))))))),n.default.createElement(i.AssetPickerModal,{isOpen:T,onClose:()=>{b(!1)},asset:h,onAssetChange:e=>{g(e),b(!1),t()},header:S("shieldPlanSelectToken"),autoFocus:!1,visibleTabs:[c.TabName.TOKENS],customTokenListGenerator:x,hideSearch:!0})))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-payment-modal.tsx"}],[8136,{"../../../shared/constants/network":5896,"../../../shared/constants/subscriptions":5910,"../../../shared/modules/shield":6041,"../../components/app/api-error-handler":6074,"../../components/app/rewards/RewardsBadge":6356,"../../components/component-library":6633,"../../components/multichain/pages/page":6953,"../../components/ui/loading-screen":7037,"../../ducks/locale/locale":7136,"../../helpers/constants/design-system":7149,"../../helpers/constants/routes":7154,"../../hooks/subscription/useSubscription":7274,"../../hooks/subscription/useSubscriptionPricing":7275,"../../hooks/useI18nContext":7301,"../../selectors/subscription":8236,"../../store/actions":8241,"./shield-payment-modal":8135,"./shield-rewards-modal":8137,"./utils":8138,"@metamask/design-system-react":1846,"@metamask/subscription-controller":3023,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/subscription-controller"),o=e("react-redux"),l=e("react-router-dom"),i=e("@metamask/design-system-react"),c=e("../../../shared/constants/network"),u=e("../../components/component-library"),d=e("../../components/multichain/pages/page"),m=k(e("../../components/ui/loading-screen")),p=e("../../helpers/constants/design-system"),f=e("../../helpers/constants/routes"),h=e("../../hooks/subscription/useSubscriptionPricing"),g=e("../../hooks/subscription/useSubscription"),E=e("../../hooks/useI18nContext"),_=e("../../selectors/subscription"),y=e("../../../shared/constants/subscriptions"),S=e("../../../shared/modules/shield"),T=k(e("../../components/app/api-error-handler")),b=e("../../store/actions"),v=e("../../components/app/rewards/RewardsBadge"),C=e("../../ducks/locale/locale"),x=e("./shield-payment-modal"),w=e("./shield-rewards-modal"),I=e("./utils");function k(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}a.default=()=>{var e,t;const a=(0,n.c)(124),k=(0,l.useNavigate)(),{search:M}=(0,l.useLocation)(),N=(0,o.useSelector)(C.getIntlLocale),P=(0,E.useI18nContext)(),O=(0,o.useDispatch)(),B=(0,o.useSelector)(_.getLastUsedShieldSubscriptionPaymentDetails),{isRewardsSeason:L,pointsMonthly:F,pointsYearly:U,pending:j}=(0,g.useShieldRewards)(),[W,V]=(0,s.useState)((null==B?void 0:B.useTestClock)??!1);let $;a[0]===Symbol.for("react.memo_cache_sentinel")?($=(0,S.isDevOrUatBuild)()||(0,S.isDevOrTestEnvironment)(),a[0]=$):$=a[0];const H=$;let z;a[1]===Symbol.for("react.memo_cache_sentinel")?(z={refetch:!0},a[1]=z):z=a[1];const{subscriptions:G,trialedProducts:Y,loading:K,error:q}=(0,g.useUserSubscriptions)(z),Z=(0,g.useUserSubscriptionByProduct)(r.PRODUCT_TYPES.SHIELD,G);let Q;a[2]!==Y?(Q=(0,S.getIsTrialedSubscription)(Y,r.PRODUCT_TYPES.SHIELD),a[2]=Y,a[3]=Q):Q=a[3];const X=Q;let J,ee;a[4]!==k||a[5]!==Z?(J=()=>{Z&&k(f.TRANSACTION_SHIELD_ROUTE)},ee=[k,Z],a[4]=k,a[5]=Z,a[6]=J,a[7]=ee):(J=a[6],ee=a[7]),(0,s.useEffect)(J,ee);const[te,ae]=(0,s.useState)((null==B?void 0:B.plan)||r.RECURRING_INTERVALS.year);let ne;a[8]===Symbol.for("react.memo_cache_sentinel")?(ne={refetch:!0},a[8]=ne):ne=a[8];const{subscriptionPricing:se,loading:re,error:oe}=(0,h.useSubscriptionPricing)(ne),le=(0,h.useSubscriptionProductPlans)(r.PRODUCT_TYPES.SHIELD,se),ie=(0,h.useSubscriptionPaymentMethods)("crypto",se);let ce;a[9]!==le||a[10]!==te?(ce=null==le?void 0:le.find(e=>e.interval===te),a[9]=le,a[10]=te,a[11]=ce):ce=a[11];const ue=ce,de=null==ie?void 0:ie.chains;let me;a[12]!==ue||a[13]!==de?(me={paymentChains:de,price:ue,productType:r.PRODUCT_TYPES.SHIELD},a[12]=ue,a[13]=de,a[14]=me):me=a[14];const{availableTokenBalances:pe,pending:fe,error:he}=(0,h.useAvailableTokenBalances)(me),ge=pe.length>0;let Ee;a[15]!==ge||a[16]!==B?(Ee=()=>ge?null!=B&&B.type?B.type:r.PAYMENT_TYPES.byCrypto:r.PAYMENT_TYPES.byCard,a[15]=ge,a[16]=B,a[17]=Ee):Ee=a[17];const[_e,ye]=(0,s.useState)(Ee),Se=pe.length>0?r.PAYMENT_TYPES.byCrypto:r.PAYMENT_TYPES.byCard,Te=(null===(e=pe[0])||void 0===e?void 0:e.symbol)||"USD",be=null===(t=pe[0])||void 0===t?void 0:t.chainId;let ve;a[18]!==Te||a[19]!==Se||a[20]!==be?(ve={defaultPaymentType:Se,defaultPaymentCurrency:Te,defaultBillingInterval:r.RECURRING_INTERVALS.year,defaultPaymentChain:be},a[18]=Te,a[19]=Se,a[20]=be,a[21]=ve):ve=a[21];const Ce=ve;let xe;a[22]!==pe[0]?(xe=()=>pe[0],a[22]=pe[0],a[23]=xe):xe=a[23];const[we,Ie]=(0,s.useState)(xe);let ke,Me,Ne,Re;a[24]!==pe||a[25]!==(null==B?void 0:B.paymentTokenAddress)||a[26]!==(null==B?void 0:B.plan)||a[27]!==(null==B?void 0:B.type)||a[28]!==fe||a[29]!==te||a[30]!==we?(ke=()=>{if(fe||we||0===pe.length)return;const e=null==B?void 0:B.paymentTokenAddress,t=null==B?void 0:B.type,a=null==B?void 0:B.plan;let n=pe[0];e&&t===r.PAYMENT_TYPES.byCrypto&&a===te&&(n=pe.find(t=>t.address===e)||pe[0]),Ie(n)},a[24]=pe,a[25]=null==B?void 0:B.paymentTokenAddress,a[26]=null==B?void 0:B.plan,a[27]=null==B?void 0:B.type,a[28]=fe,a[29]=te,a[30]=we,a[31]=ke):ke=a[31],a[32]!==pe||a[33]!==B||a[34]!==fe||a[35]!==te||a[36]!==we?(Me=[fe,pe,we,Ie,B,te],a[32]=pe,a[33]=B,a[34]=fe,a[35]=te,a[36]=we,a[37]=Me):Me=a[37],(0,s.useEffect)(ke,Me),a[38]===Symbol.for("react.memo_cache_sentinel")?(Ne=()=>{Ie(undefined)},a[38]=Ne):Ne=a[38],a[39]!==te?(Re=[te,Ie],a[39]=te,a[40]=Re):Re=a[40],(0,s.useEffect)(Ne,Re);const Ae=null==we?void 0:we.address;let De,Pe,Oe,Be;if(a[41]!==(null==B?void 0:B.type)||a[42]!==Ae?(De=()=>{const e=null==B?void 0:B.type;Ae&&e!==r.PAYMENT_TYPES.byCard?ye(r.PAYMENT_TYPES.byCrypto):ye(r.PAYMENT_TYPES.byCard)},a[41]=null==B?void 0:B.type,a[42]=Ae,a[43]=De):De=a[43],a[44]!==B||a[45]!==Ae?(Pe=[Ae,ye,B],a[44]=B,a[45]=Ae,a[46]=Pe):Pe=a[46],(0,s.useEffect)(De,Pe),null==ie||ie.chains,a[47]!==(null==ie?void 0:ie.chains)){const e=(null==ie?void 0:ie.chains)??[];Oe=new Set(e.flatMap(R)),a[47]=null==ie?void 0:ie.chains,a[48]=Oe}else Oe=a[48];a[49]!==Oe?(Be=[...Oe],a[49]=Oe,a[50]=Be):Be=a[50];const Le=Be,Fe=te===r.RECURRING_INTERVALS.year?U:F,Ue=Fe??undefined;let je;a[51]!==Ce||a[52]!==W||a[53]!==X||a[54]!==_e||a[55]!==te||a[56]!==we||a[57]!==Ue?(je={selectedPaymentMethod:_e,selectedToken:we,selectedPlan:te,defaultOptions:Ce,isTrialed:X,useTestClock:W,rewardPoints:Ue},a[51]=Ce,a[52]=W,a[53]=X,a[54]=_e,a[55]=te,a[56]=we,a[57]=Ue,a[58]=je):je=a[58];const{handleSubscription:We,subscriptionResult:Ve}=(0,g.useHandleSubscription)(je);let $e;a[59]!==O||a[60]!==W||a[61]!==te?($e=async e=>{Ie(e),await O((0,b.setLastUsedSubscriptionPaymentDetails)(r.PRODUCT_TYPES.SHIELD,{type:r.PAYMENT_TYPES.byCrypto,paymentTokenAddress:e.address,paymentTokenSymbol:e.symbol,plan:te,useTestClock:W}))},a[59]=O,a[60]=W,a[61]=te,a[62]=$e):$e=a[62];const He=$e,ze=K||re||Ve.pending||j,Ge=q||oe||he||Ve.error;let Ye;a[63]!==le||a[64]!==_e||a[65]!==P?(Ye=(null==le?void 0:le.map(e=>{const t=e.interval===r.RECURRING_INTERVALS.year,a=(0,I.getProductPrice)(e);return{id:e.interval,label:t?P("shieldPlanAnnual"):`${P("shieldPlanMonthly")}${_e===r.PAYMENT_TYPES.byCrypto?"*":""}`,price:P(t?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[`$${a}`])}}).sort(A))??[],a[63]=le,a[64]=_e,a[65]=P,a[66]=Ye):Ye=a[66];const Ke=Ye;let qe;if(a[67]!==X||a[68]!==(null==ue?void 0:ue.trialPeriodDays)||a[69]!==P){if(qe=[],!X){const e=(null==ue?void 0:ue.trialPeriodDays)??y.SUBSCRIPTION_DEFAULT_TRIAL_PERIOD_DAYS;let t;a[71]!==P||a[72]!==e?(t=P("shieldPlanDetails1",[e]),a[71]=P,a[72]=e,a[73]=t):t=a[73],qe.push(t)}let e,t;a[74]!==P?(e=P("shieldPlanDetails2",["$10k"]),a[74]=P,a[75]=e):e=a[75],qe.push(e),a[76]!==P?(t=P("shieldPlanDetails3"),a[76]=P,a[77]=t):t=a[77],qe.push(t),a[67]=X,a[68]=null==ue?void 0:ue.trialPeriodDays,a[69]=P,a[70]=qe}else qe=a[70];const Ze=qe;let Qe;if(a[78]!==Fe||a[79]!==N||a[80]!==te||a[81]!==P){e:{const e=te===r.RECURRING_INTERVALS.year?P("year"):P("month");if(!Fe){Qe="";break e}const t=new Intl.NumberFormat(N).format(Fe);Qe=P("shieldPlanDetailsRewards",[t,e])}a[78]=Fe,a[79]=N,a[80]=te,a[81]=P,a[82]=Qe}else Qe=a[82];const Xe=Qe,[Je,et]=(0,s.useState)(!1),[tt,at]=(0,s.useState)(!1);let nt;a[83]!==k||a[84]!==M?(nt=()=>{const e=new URLSearchParams(M).get("source");e===y.ShieldMetricsSourceEnum.Settings?k(f.SETTINGS_ROUTE,{replace:!0}):e===y.ShieldMetricsSourceEnum.ShieldSettings?k(f.TRANSACTION_SHIELD_ROUTE,{replace:!0}):k(f.DEFAULT_ROUTE,{replace:!0})},a[83]=k,a[84]=M,a[85]=nt):nt=a[85];const st=nt;let rt,ot,lt,it,ct,ut,dt,mt;return a[86]===Symbol.for("react.memo_cache_sentinel")?(rt={variant:p.TextVariant.headingSm},a[86]=rt):rt=a[86],a[87]!==P?(ot=P("back"),a[87]=P,a[88]=ot):ot=a[88],a[89]!==st||a[90]!==ot?(lt=s.default.createElement(i.ButtonIcon,{size:i.ButtonIconSize.Md,ariaLabel:ot,iconName:i.IconName.ArrowLeft,onClick:st,"data-testid":"shield-plan-back-button"}),a[89]=st,a[90]=ot,a[91]=lt):lt=a[91],a[92]!==P?(it=P("shieldPlanTitle"),a[92]=P,a[93]=it):it=a[93],a[94]!==lt||a[95]!==it?(ct=s.default.createElement(d.Header,{textProps:rt,startAccessory:lt},it),a[94]=lt,a[95]=it,a[96]=ct):ct=a[96],a[97]!==Ge||a[98]!==ze?(ut=ze&&!Ge&&s.default.createElement(m.default,null),a[97]=Ge,a[98]=ze,a[99]=ut):ut=a[99],a[100]!==pe||a[101]!==W||a[102]!==We||a[103]!==He||a[104]!==Ge||a[105]!==ge||a[106]!==L||a[107]!==ze||a[108]!==Ze||a[109]!==Xe||a[110]!==Ke||a[111]!==_e||a[112]!==te||a[113]!==we||a[114]!==Je||a[115]!==tt||a[116]!==se||a[117]!==P||a[118]!==Le?(dt=!ze&&Ge?s.default.createElement(d.Content,{justifyContent:p.JustifyContent.flexStart,alignItems:p.AlignItems.center},s.default.createElement(T.default,{className:"shield-plan-page__error-content",error:Ge,location:y.ShieldUnexpectedErrorEventLocationEnum.ShieldPlanPage})):se&&s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Content,null,s.default.createElement(i.Box,{className:"shield-plan-page__plans grid gap-2 mb-4 pt-2"},Ke.map(e=>s.default.createElement(i.Box,{asChild:!0,key:e.id,className:(0,i.twMerge)("flex justify-between items-center p-4 bg-section","shield-plan-page__plan rounded-lg",e.id===te&&"shield-plan-page__plan--selected"),"data-testid":`shield-plan-${e.label.toLowerCase()}-button`,onClick:()=>ae(e.id)},s.default.createElement("button",null,s.default.createElement("div",{className:"shield-plan-page__radio"}),s.default.createElement(i.Box,{className:"shield-plan-page__radio-label text-left"},s.default.createElement(i.Text,{variant:i.TextVariant.BodySm},e.label),s.default.createElement(i.Text,{variant:i.TextVariant.HeadingMd,className:"shield-plan-page__plan-price"},e.price)),e.id===r.RECURRING_INTERVALS.year&&s.default.createElement(i.Box,{className:"shield-plan-page__save-badge flex items-center justify-center px-2"},s.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,fontWeight:i.FontWeight.Medium,color:i.TextColor.InfoInverse},P("shieldPlanSave"))))))),s.default.createElement(i.Box,{className:"shield-plan-page__group",marginBottom:4},s.default.createElement(i.Box,{asChild:!0,className:(0,i.twMerge)("flex justify-between items-center p-4 bg-section","shield-plan-page__row w-full"),onClick:()=>et(!0)},s.default.createElement("button",null,s.default.createElement(i.Text,{variant:i.TextVariant.BodyLg,fontWeight:i.FontWeight.Medium},P("shieldPlanPayWith")),s.default.createElement(i.Box,{className:"flex items-center gap-2"},_e===r.PAYMENT_TYPES.byCrypto&&we?s.default.createElement(i.Box,{className:"flex items-center gap-2"},s.default.createElement(i.BadgeWrapper,{badge:s.default.createElement(u.AvatarNetwork,{size:u.AvatarNetworkSize.Xs,name:c.NETWORK_TO_NAME_MAP[we.chainId],src:c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[we.chainId],borderColor:p.BorderColor.borderMuted})},s.default.createElement(u.AvatarToken,{name:(null==we?void 0:we.symbol)||"",src:(null==we?void 0:we.image)||"",borderColor:p.BorderColor.borderMuted}))):s.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Card}),s.default.createElement(i.Text,{variant:i.TextVariant.BodyLg,fontWeight:i.FontWeight.Medium},_e===r.PAYMENT_TYPES.byCrypto?(null==we?void 0:we.symbol)||"":P("shieldPlanCard")),s.default.createElement(i.Icon,{size:i.IconSize.Md,name:i.IconName.ArrowDown}))))),s.default.createElement(i.Box,{className:"shield-plan-page__group"},s.default.createElement(i.Box,{className:(0,i.twMerge)("flex justify-between items-center p-4 bg-section","shield-plan-page__row block")},s.default.createElement(i.Text,{variant:i.TextVariant.BodyLg,fontWeight:i.FontWeight.Medium,className:"mb-4"},P("shieldPlanDetails")),s.default.createElement(i.Box,{className:"flex flex-col gap-2"},Ze.map(D),L&&Xe&&s.default.createElement(i.Box,null,s.default.createElement(v.RewardsBadge,{boxClassName:"gap-1 px-2 py-0.5 bg-background-muted rounded-lg w-fit",textClassName:"font-medium",withPointsSuffix:!1,formattedPoints:Xe,onClick:()=>{at(!0)}})))),_e===r.PAYMENT_TYPES.byCrypto&&te===r.RECURRING_INTERVALS.month&&s.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative,className:"mt-4"},"* ",P("shieldPlanCryptoMonthlyNote"))),s.default.createElement(x.ShieldPaymentModal,{isOpen:Je,onClose:()=>et(!1),selectedToken:we,selectedPaymentMethod:_e,hasStableTokenWithBalance:ge,setSelectedPaymentMethod:ye,onAssetChange:He,availableTokenBalances:pe,tokensSupported:Le}),s.default.createElement(w.ShieldRewardsModal,{isOpen:tt,rewardsText:Xe,onClose:()=>at(!1)})),s.default.createElement(d.Footer,{className:"shield-plan-page__footer",flexDirection:p.FlexDirection.Column,gap:3,backgroundColor:p.BackgroundColor.backgroundMuted},H&&s.default.createElement(i.Checkbox,{label:"Enable Stripe Test clocks (for development and testing only)",labelProps:{variant:i.TextVariant.BodySm},onChange:()=>V(!W),id:"stripe-test-clocks",isSelected:W}),s.default.createElement(i.Button,{size:i.ButtonSize.Lg,variant:i.ButtonVariant.Primary,isFullWidth:!0,onClick:We,"data-testid":"shield-plan-continue-button"},P("continue")),s.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative,className:"text-center"},te===r.RECURRING_INTERVALS.year?P("shieldPlanFooterNoteYearly"):P("shieldPlanFooterNoteMonthly")))),a[100]=pe,a[101]=W,a[102]=We,a[103]=He,a[104]=Ge,a[105]=ge,a[106]=L,a[107]=ze,a[108]=Ze,a[109]=Xe,a[110]=Ke,a[111]=_e,a[112]=te,a[113]=we,a[114]=Je,a[115]=tt,a[116]=se,a[117]=P,a[118]=Le,a[119]=dt):dt=a[119],a[120]!==ct||a[121]!==ut||a[122]!==dt?(mt=s.default.createElement(d.Page,{className:"shield-plan-page","data-testid":"shield-plan-page"},ct,ut,dt),a[120]=ct,a[121]=ut,a[122]=dt,a[123]=mt):mt=a[123],mt};function N(e){return e.symbol}function R(e){return e.tokens.map(N)}function A(e,t){return e.id===r.RECURRING_INTERVALS.year?-1:1}function D(e,t){return s.default.createElement(i.Box,{key:t,className:"flex gap-2"},s.default.createElement(i.Box,{className:"flex items-center",style:{height:"1lh"}},s.default.createElement(i.Icon,{size:i.IconSize.Sm,name:i.IconName.Check,color:i.IconColor.PrimaryDefault})),s.default.createElement(i.Text,{variant:i.TextVariant.BodyMd},e))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-plan.tsx"}],[8137,{"../../components/app/rewards/RewardsBadge":6356,"../../components/component-library":6633,"../../helpers/constants/design-system":7149,"../../hooks/useI18nContext":7301,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldRewardsModal=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react"),l=e("../../components/component-library"),i=e("../../components/app/rewards/RewardsBadge"),c=e("../../hooks/useI18nContext"),u=e("../../helpers/constants/design-system");a.ShieldRewardsModal=e=>{const t=(0,s.c)(34),{isOpen:a,onClose:n,rewardsText:d}=e,m=(0,c.useI18nContext)();let p,f,h,g,E,_,y,S,T,b,v,C,x,w;return t[0]===Symbol.for("react.memo_cache_sentinel")?(p=r.default.createElement(l.ModalOverlay,null),t[0]=p):p=t[0],t[1]!==m?(f=m("shieldPlanDetailsRewardsTitle"),t[1]=m,t[2]=f):f=t[2],t[3]!==n||t[4]!==f?(h=r.default.createElement(l.ModalHeader,{onClose:n},f),t[3]=n,t[4]=f,t[5]=h):h=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g={width:"auto",height:"170px"},t[6]=g):g=t[6],t[7]!==m?(E=m("shieldPlanDetailsRewardsTitle"),t[7]=m,t[8]=E):E=t[8],t[9]!==E?(_=r.default.createElement("img",{src:"./images/shield-reward.png",style:g,alt:E}),t[9]=E,t[10]=_):_=t[10],t[11]!==d?(y=r.default.createElement(i.RewardsBadge,{boxClassName:"gap-1 px-2 py-0.5 bg-background-muted rounded-lg w-fit",textClassName:"font-medium",withPointsSuffix:!1,formattedPoints:d}),t[11]=d,t[12]=y):y=t[12],t[13]!==m?(S=m("shieldPlanDetailsRewardsDescription"),t[13]=m,t[14]=S):S=t[14],t[15]!==S?(T=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},S),t[15]=S,t[16]=T):T=t[16],t[17]!==m?(b=m("gotIt"),t[17]=m,t[18]=b):b=t[18],t[19]!==n||t[20]!==b?(v=r.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,onClick:n,className:"w-full"},b),t[19]=n,t[20]=b,t[21]=v):v=t[21],t[22]!==v||t[23]!==_||t[24]!==y||t[25]!==T?(C=r.default.createElement(l.ModalBody,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,gap:4},_,y,T,v),t[22]=v,t[23]=_,t[24]=y,t[25]=T,t[26]=C):C=t[26],t[27]!==C||t[28]!==h?(x=r.default.createElement(l.ModalContent,null,h,C),t[27]=C,t[28]=h,t[29]=x):x=t[29],t[30]!==a||t[31]!==n||t[32]!==x?(w=r.default.createElement(l.Modal,{isOpen:a,onClose:n,autoFocus:!1,className:"shield-rewards-modal","data-testid":"shield-rewards-modal"},p,x),t[30]=a,t[31]=n,t[32]=x,t[33]=w):w=t[33],w}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-rewards-modal.tsx"}],[8138,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getProductPrice=function(e){return e.unitAmount/10**e.unitDecimals}}}},{package:"$root$",file:"ui/pages/shield-plan/utils.ts"}],[8139,{"./smart-transaction-status-page":8141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SmartTransactionStatusPage",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./smart-transaction-status-page"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/index.ts"}],[8140,{"../../../components/component-library":6633,"../../../components/component-library/lottie-animation":6639,"../../../helpers/constants/design-system":7149,"@metamask/smart-transactions-controller":2737,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SmartTransactionStatusAnimation=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/smart-transactions-controller"),o=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library/lottie-animation");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const u="images/animations/smart-transaction-status",d={Failed:{path:`${u}/failed.lottie.json`,loop:!1},Confirmed:{path:`${u}/confirmed.lottie.json`,loop:!1},SubmittingIntro:{path:`${u}/submitting-intro.lottie.json`,loop:!1},SubmittingLoop:{path:`${u}/submitting-loop.lottie.json`,loop:!0},Processing:{path:`${u}/processing.lottie.json`,loop:!0}};a.SmartTransactionStatusAnimation=e=>{const t=(0,n.c)(8),{status:a}=e,[c,u]=(0,s.useState)(!0);let m,p;if(a===r.SmartTransactionStatuses.PENDING)m=c?d.SubmittingIntro:d.SubmittingLoop;else e:switch(a){case r.SmartTransactionStatuses.SUCCESS:m=d.Confirmed;break e;case r.SmartTransactionStatuses.REVERTED:case r.SmartTransactionStatuses.UNKNOWN:m=d.Failed;break e;default:m=d.Processing}t[0]!==c||t[1]!==a?(p=()=>{a===r.SmartTransactionStatuses.PENDING&&c&&u(!1)},t[0]=c,t[1]=a,t[2]=p):p=t[2];const f=p;let h,g;return t[3]===Symbol.for("react.memo_cache_sentinel")?(h={width:"96px",height:"96px"},t[3]=h):h=t[3],t[4]!==m.loop||t[5]!==m.path||t[6]!==f?(g=s.default.createElement(o.Box,{display:l.Display.Flex,style:h},s.default.createElement(i.LottieAnimation,{path:m.path,loop:m.loop,autoplay:!0,onComplete:f})),t[4]=m.loop,t[5]=m.path,t[6]=f,t[7]=g):g=t[7],g}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-animation.tsx"}],[8141,{"../../../../shared/constants/notifications":5897,"../../../../shared/constants/urls":5916,"../../../../shared/modules/conversion.utils":6015,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,"../../../store/actions":8241,"../../confirmations/components/simulation-details":7679,"./smart-transaction-status-animation":8140,"@metamask/smart-transactions-controller":2737,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.showRemainingTimeInMinAndSec=a.default=a.SmartTransactionStatusPage=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/smart-transactions-controller"),l=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/constants/urls"),m=e("../../../store/actions"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../confirmations/components/simulation-details"),h=e("../../../../shared/constants/notifications"),g=e("./smart-transaction-status-animation");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}a.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};const _=e=>{const t=(0,n.c)(2),{description:a}=e;if(!a)return null;let r;return t[0]!==a?(r=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,className:"smart-transaction-status-page__description"},s.default.createElement(l.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},a)),t[0]=a,t[1]=r):r=t[1],r},y=e=>{const t=(0,n.c)(9),{portfolioSmartTransactionStatusUrl:a,isSmartTransactionPending:r,onCloseExtension:o}=e,u=(0,c.useI18nContext)();let d;t[0]!==r||t[1]!==o||t[2]!==a?(d=()=>{if(!a)return;const e=window.innerWidth>h.NOTIFICATION_WIDTH;r&&!e||o(),global.platform.openTab({url:a})},t[0]=r,t[1]=o,t[2]=a,t[3]=d):d=t[3];const m=d;if(!a)return null;let p,f;return t[4]!==u?(p=u("viewTransaction"),t[4]=u,t[5]=p):p=t[5],t[6]!==m||t[7]!==p?(f=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,marginTop:2},s.default.createElement(l.Button,{type:"link",variant:l.ButtonVariant.Link,onClick:m},p)),t[6]=m,t[7]=p,t[8]=f):f=t[8],f},S=e=>{const t=(0,n.c)(5),{isDapp:a,onCloseExtension:r}=e,o=(0,c.useI18nContext)();if(!a)return null;let u,d;return t[0]!==o?(u=o("backToHome"),t[0]=o,t[1]=u):u=t[1],t[2]!==r||t[3]!==u?(d=s.default.createElement(l.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:r,width:i.BlockSize.Full,marginTop:3},u),t[2]=r,t[3]=u,t[4]=d):d=t[4],d},T=e=>{const t=(0,n.c)(4),{isDapp:a,isSmartTransactionPending:r}=e,o=(0,c.useI18nContext)();if(!a||!r)return null;let u,d;return t[0]!==o?(u=o("closeWindowAnytime"),t[0]=o,t[1]=u):u=t[1],t[2]!==u?(d=s.default.createElement(l.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},u),t[2]=u,t[3]=d):d=t[3],d},b=e=>{const t=(0,n.c)(5),{isDapp:a,onViewActivity:r}=e,o=(0,c.useI18nContext)();if(a)return null;let u,d;return t[0]!==o?(u=o("viewActivity"),t[0]=o,t[1]=u):u=t[1],t[2]!==r||t[3]!==u?(d=s.default.createElement(l.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:r,width:i.BlockSize.Full,marginTop:3},u),t[2]=r,t[3]=u,t[4]=d):d=t[4],d},v=e=>{const t=(0,n.c)(13),{isDapp:a,isSmartTransactionPending:r,onCloseExtension:o,onViewActivity:c}=e;let u,d,m,p;return t[0]!==a||t[1]!==r?(u=s.default.createElement(T,{isDapp:a,isSmartTransactionPending:r}),t[0]=a,t[1]=r,t[2]=u):u=t[2],t[3]!==a||t[4]!==o?(d=s.default.createElement(S,{isDapp:a,onCloseExtension:o}),t[3]=a,t[4]=o,t[5]=d):d=t[5],t[6]!==a||t[7]!==c?(m=s.default.createElement(b,{isDapp:a,onViewActivity:c}),t[6]=a,t[7]=c,t[8]=m):m=t[8],t[9]!==u||t[10]!==d||t[11]!==m?(p=s.default.createElement(l.Box,{className:"smart-transaction-status-page__footer",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,padding:4,paddingBottom:0},u,d,m),t[9]=u,t[10]=d,t[11]=m,t[12]=p):p=t[12],p},C=e=>{const t=(0,n.c)(2),{title:a}=e;let r;return t[0]!==a?(r=s.default.createElement(l.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.headingMd,as:"h4",fontWeight:i.FontWeight.Bold},a),t[0]=a,t[1]=r):r=t[1],r},x=e=>{var t,a;const h=(0,n.c)(44),{requestState:E,onCloseExtension:S,onViewActivity:T}=e,b=S===undefined?w:S,x=T===undefined?I:T,k=(0,c.useI18nContext)(),M=(0,r.useDispatch)(),{smartTransaction:N,isDapp:R,txId:A}=E,D=!N||N.status===o.SmartTransactionStatuses.PENDING,P=(null==N?void 0:N.status)===o.SmartTransactionStatuses.SUCCESS;let O;var B;h[0]!==(null==N?void 0:N.status)?(O=null==N||null===(B=N.status)||void 0===B?void 0:B.startsWith(o.SmartTransactionStatuses.CANCELLED),h[0]=null==N?void 0:N.status,h[1]=O):O=h[1];const L=Boolean(O),F=null==N?void 0:N.chainId,U=(0,r.useSelector)(e=>(0,u.getFullTxData)(e,A))||{};let j;h[2]!==L||h[3]!==D||h[4]!==P||h[5]!==k?(j=(({t:e,isSmartTransactionPending:t,isSmartTransactionSuccess:a,isSmartTransactionCancelled:n})=>t?{title:e("smartTransactionPending"),iconName:l.IconName.Clock,iconColor:i.IconColor.primaryDefault}:a?{title:e("smartTransactionSuccess"),iconName:l.IconName.Confirmation,iconColor:i.IconColor.successDefault}:n?{title:e("smartTransactionCancelled"),description:e("smartTransactionCancelledDescription"),iconName:l.IconName.Danger,iconColor:i.IconColor.errorDefault}:{title:e("smartTransactionError"),description:e("smartTransactionErrorDescription"),iconName:l.IconName.Danger,iconColor:i.IconColor.errorDefault})({t:k,isSmartTransactionPending:D,isSmartTransactionSuccess:P,isSmartTransactionCancelled:L}),h[2]=L,h[3]=D,h[4]=P,h[5]=k,h[6]=j):j=h[6];const{title:W,description:V}=j;let $,H;h[7]!==M?($=()=>{M((0,m.hideLoadingIndication)())},H=[M],h[7]=M,h[8]=$,h[9]=H):($=h[8],H=h[9]),(0,s.useEffect)($,H);const z=(null===(t=U.simulationData)||void 0===t||null===(t=t.tokenBalanceChanges)||void 0===t?void 0:t.length)>0||(null===(a=U.simulationData)||void 0===a?void 0:a.nativeBalanceChange),G=null==N?void 0:N.uuid;let Y;h[10]!==F||h[11]!==G?(Y=G&&F?`${d.BaseUrl.Portfolio}/networks/${Number((0,p.hexToDecimal)(F))}/smart-transactions/${G}`:undefined,h[10]=F,h[11]=G,h[12]=Y):Y=h[12];const K=Y;let q;h[13]===Symbol.for("react.memo_cache_sentinel")?(q={flexGrow:1},h[13]=q):q=h[13];const Z=null==N?void 0:N.status;let Q,X,J,ee,te,ae;var ne;(h[14]!==Z?(Q=s.default.createElement(g.SmartTransactionStatusAnimation,{status:Z}),h[14]=Z,h[15]=Q):Q=h[15],h[16]!==W?(X=s.default.createElement(C,{title:W}),h[16]=W,h[17]=X):X=h[17],h[18]!==V?(J=s.default.createElement(_,{description:V}),h[18]=V,h[19]=J):J=h[19],h[20]!==D||h[21]!==b||h[22]!==K?(ee=s.default.createElement(y,{portfolioSmartTransactionStatusUrl:K,isSmartTransactionPending:D,onCloseExtension:b}),h[20]=D,h[21]=b,h[22]=K,h[23]=ee):ee=h[23],h[24]!==Q||h[25]!==X||h[26]!==J||h[27]!==ee?(te=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},Q,X,J,ee),h[24]=Q,h[25]=X,h[26]=J,h[27]=ee,h[28]=te):te=h[28],h[29]!==z||h[30]!==U||h[31]!==(null==N?void 0:N.status))?(ae=z&&s.default.createElement(l.Box,{width:i.BlockSize.Full},s.default.createElement(f.SimulationDetails,{transaction:U,smartTransactionStatus:null==N||null===(ne=N.status)||void 0===ne?void 0:ne.toLowerCase()})),h[29]=z,h[30]=U,h[31]=null==N?void 0:N.status,h[32]=ae):ae=h[32];let se,re,oe;return h[33]!==te||h[34]!==ae?(se=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,style:q},te,ae),h[33]=te,h[34]=ae,h[35]=se):se=h[35],h[36]!==R||h[37]!==D||h[38]!==b||h[39]!==x?(re=s.default.createElement(v,{isDapp:R,isSmartTransactionPending:D,onCloseExtension:b,onViewActivity:x}),h[36]=R,h[37]=D,h[38]=b,h[39]=x,h[40]=re):re=h[40],h[41]!==se||h[42]!==re?(oe=s.default.createElement(l.Box,{className:"smart-transaction-status-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},se,re),h[41]=se,h[42]=re,h[43]=oe):oe=h[43],oe};a.SmartTransactionStatusPage=x;a.default=x;function w(){return null}function I(){return null}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-page.tsx"}],[8142,{"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system");const i=e=>{const t=(0,s.c)(3),{url:a,onSubmit:n}=e;let i;return t[0]!==n||t[1]!==a?(i=r.default.createElement(o.ButtonIcon,{"data-testid":"snap-account-redirect-url-icon",onClick:()=>{global.platform.openTab({url:a}),null==n||n()},iconName:o.IconName.Export,color:l.IconColor.primaryDefault,size:o.ButtonIconSize.Sm,ariaLabel:""}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i};a.default=r.default.memo(i)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/redirect-url-icon.tsx"}],[8143,{"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,"./snap-account-redirect-message":8144,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),i=c(e("./snap-account-redirect-message"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(22),{url:a,snapName:c,isBlockedUrl:d,message:m,onSubmit:p}=e,f=(0,l.useI18nContext)();let h,g,E,_,y,S;return t[0]!==f?(h=f("snapAccountRedirectFinishSigningTitle"),t[0]=f,t[1]=h):h=t[1],t[2]!==h?(g=s.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-title",textAlign:o.TextAlign.Center,variant:o.TextVariant.headingLg,paddingBottom:2},h),t[2]=h,t[3]=g):g=t[3],t[4]!==d||t[5]!==f?(E=d?s.default.createElement(r.Box,{display:o.Display.Flex,paddingLeft:4,paddingRight:4},s.default.createElement(r.BannerAlert,{severity:r.BannerAlertSeverity.Danger,"data-testid":"snap-account-redirect-content-blocked-url-banner"},s.default.createElement(r.Text,null,f("snapUrlIsBlocked",[s.default.createElement(r.Button,{variant:r.ButtonVariant.Link,size:r.ButtonSize.Inherit,onClick:u,key:"snap-url-is-blocked-learn-more-button"},f("learnMore"))])))):null,t[4]=d,t[5]=f,t[6]=E):E=t[6],t[7]!==d||t[8]!==c||t[9]!==f?(_=!1===d?s.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-description",textAlign:o.TextAlign.Center,variant:o.TextVariant.bodyMd},f("snapAccountRedirectSiteDescription",[c])):null,t[7]=d,t[8]=c,t[9]=f,t[10]=_):_=t[10],t[11]!==d||t[12]!==m||t[13]!==p||t[14]!==c||t[15]!==a?(y=(a.length>0||m.length>0)&&!1===d?s.default.createElement(i.default,{snapName:c,url:a,message:m,onSubmit:p}):null,t[11]=d,t[12]=m,t[13]=p,t[14]=c,t[15]=a,t[16]=y):y=t[16],t[17]!==g||t[18]!==E||t[19]!==_||t[20]!==y?(S=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,paddingTop:4},s.default.createElement(r.Box,{gap:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},g,E,_,y)),t[17]=g,t[18]=E,t[19]=_,t[20]=y,t[21]=S):S=t[21],S};function u(){return global.platform.openTab({url:"https://support.metamask.io/troubleshooting/deceptive-site-ahead-when-trying-to-connect-to-a-site/"})}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-context.tsx"}],[8144,{"../../../components/app/snaps/snap-delineator":6389,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"./url-display-box":8145,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),l=e("../../../components/app/snaps/snap-delineator"),i=c(e("./url-display-box"));function c(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const t=(0,n.c)(9),{snapName:a,url:c,message:u,onSubmit:d}=e;let m,p,f;return t[0]!==u?(m=""!==u?s.default.createElement(o.Text,{variant:r.TextVariant.bodyMd,"data-testid":"snap-account-redirect-message"},u):null,t[0]=u,t[1]=m):m=t[1],t[2]!==d||t[3]!==c?(p=c.length>0?s.default.createElement(o.Box,{paddingTop:2,display:r.Display.Flex},s.default.createElement(i.default,{url:c,onSubmit:d})):null,t[2]=d,t[3]=c,t[4]=p):p=t[4],t[5]!==a||t[6]!==m||t[7]!==p?(f=s.default.createElement(l.SnapDelineator,{"data-testid":"snap-account-redirect-message-container",snapName:a},m,p),t[5]=a,t[6]=m,t[7]=p,t[8]=f):f=t[8],f};a.default=s.default.memo(u)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-message.tsx"}],[8145,{"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"./redirect-url-icon":8142,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=i(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),l=i(e("./redirect-url-icon"));function i(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const t=(0,n.c)(8),{url:a,onSubmit:i}=e;let c,u,d;return t[0]!==a?(c=s.default.createElement(o.Text,{"data-testid":"snap-account-redirect-url-display-box",padding:2,variant:r.TextVariant.bodyMd,color:r.TextColor.primaryDefault},a),t[0]=a,t[1]=c):c=t[1],t[2]!==i||t[3]!==a?(u=s.default.createElement(l.default,{url:a,onSubmit:i}),t[2]=i,t[3]=a,t[4]=u):u=t[4],t[5]!==c||t[6]!==u?(d=s.default.createElement(o.Box,{display:r.Display.InlineFlex,backgroundColor:r.BackgroundColor.backgroundDefault,alignItems:r.AlignItems.center,borderWidth:1,borderRadius:r.BorderRadius.SM,borderColor:r.BorderColor.borderDefault,paddingRight:4},c,u),t[5]=c,t[6]=u,t[7]=d):d=t[7],d};a.default=s.default.memo(c)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/url-display-box.tsx"}],[8146,{"./snap-account-redirect":8147},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SnapAccountRedirect",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-account-redirect"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/index.ts"}],[8147,{"../../components/app/snaps/snap-authorship-header":6384,"../../components/component-library":6633,"../../helpers/constants/design-system":7149,"./components/snap-account-redirect-context":8143,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),l=c(e("../../components/app/snaps/snap-authorship-header")),i=c(e("./components/snap-account-redirect-context"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(12),{url:a,snapId:c,snapName:u,isBlockedUrl:d,message:m,onSubmit:p}=e;let f,h,g;return t[0]!==c?(f=s.default.createElement(l.default,{snapId:c}),t[0]=c,t[1]=f):f=t[1],t[2]!==d||t[3]!==m||t[4]!==p||t[5]!==c||t[6]!==u||t[7]!==a?(h=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,height:o.BlockSize.Full,padding:4},s.default.createElement(i.default,{url:a,onSubmit:p,snapId:c,snapName:u,isBlockedUrl:d,message:m})),t[2]=d,t[3]=m,t[4]=p,t[5]=c,t[6]=u,t[7]=a,t[8]=h):h=t[8],t[9]!==f||t[10]!==h?(g=s.default.createElement(r.Box,{className:"create-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},f,h),t[9]=f,t[10]=h,t[11]=g):g=t[11],g}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/snap-account-redirect.tsx"}],[8148,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.KeyringSnapRemovalResultStatus=void 0;a.KeyringSnapRemovalResultStatus={Success:"success",Failed:"failed",None:"none"}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/constants.ts"}],[8149,{"./snap-view":8151},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-view"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/index.js"}],[8150,{"../../../components/app/connected-sites-list":6179,"../../../components/app/snaps/keyring-snap-removal-warning":6377,"../../../components/app/snaps/show-more":6380,"../../../components/app/snaps/snap-authorship-expanded":6382,"../../../components/app/snaps/snap-delineator":6389,"../../../components/app/snaps/snap-permissions-list":6409,"../../../components/app/snaps/snap-remove-warning":6413,"../../../components/app/snaps/snap-update-alert":6501,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../helpers/constants/snaps":7157,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,"../../../store/actions":8241,"./constants":8148,"@metamask/snaps-utils":2994,"prop-types":5196,react:5358,"react-redux":5323,"react-router-dom":5333,semver:5688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=x(e("prop-types")),o=e("react-router-dom"),l=x(e("semver")),i=e("@metamask/snaps-utils"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=x(e("../../../components/app/snaps/snap-authorship-expanded")),m=x(e("../../../components/app/snaps/snap-remove-warning")),p=x(e("../../../components/app/connected-sites-list")),f=x(e("../../../components/app/snaps/keyring-snap-removal-warning")),h=e("../../../store/actions"),g=e("../../../selectors"),E=e("../../../components/component-library"),_=x(e("../../../components/app/snaps/snap-permissions-list")),y=e("../../../components/app/snaps/snap-delineator"),S=e("../../../helpers/constants/snaps"),T=x(e("../../../components/app/snaps/snap-update-alert")),b=e("../../../helpers/constants/routes"),v=e("../../../components/app/snaps/show-more"),C=e("./constants");function x(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function I({snapId:e,initRemove:t,resetInitRemove:a}){const r=(0,o.useNavigate)(),x=(0,c.useI18nContext)(),w=(0,s.useSelector)(g.getSnaps),I=(0,s.useDispatch)(),k=Object.entries(w).map(([e,t])=>t).find(t=>t.id===e),[M,N]=(0,n.useState)(!1),[R,A]=(0,n.useState)(!1),[D,P]=(0,n.useState)([]),O=(0,s.useSelector)(g.getInternalAccounts),B=(0,s.useSelector)(e=>(0,g.getSubjectsWithSnapPermission)(e,null==k?void 0:k.id)),L=(0,s.useSelector)(e=>k&&(0,g.getPermissions)(e,k.id)),{name:F,description:U}=(0,s.useSelector)(t=>(0,g.getSnapMetadata)(t,e));let j=!1;j=Boolean(null==L?void 0:L.snap_manageAccounts),(0,n.useEffect)(()=>{j&&(async()=>{const e=await(0,h.getSnapAccountsById)(k.id),t=O.filter(t=>e.includes(t.address.toLowerCase()));P(t)})()},[null==k?void 0:k.id,O,j]);const W=(0,s.useSelector)(e=>k?(0,g.getSnapLatestVersion)(e,null==k?void 0:k.id):null),V=!!W&&l.default.gt(W,k.version);return(0,n.useEffect)(()=>{t&&(N(!0),a())},[t,a]),n.default.createElement(E.Box,null,V&&n.default.createElement(T.default,{snapName:F,onUpdateClick:async()=>{const e={[k.id]:{version:W}},t=await I((0,h.updateSnap)("MetaMask",e));t&&r(`${b.CONNECT_ROUTE}/${t}`)},bannerAlertProps:{marginBottom:4}}),n.default.createElement(d.default,{snapId:k.id,snap:k}),n.default.createElement(E.Box,{className:"snap-view__content__description",marginTop:[4,7]},n.default.createElement(y.SnapDelineator,{type:S.DelineatorType.Description,snapName:F},n.default.createElement(v.ShowMore,{buttonBackground:u.BackgroundColor.backgroundDefault},n.default.createElement(E.Text,null,U)))),n.default.createElement(E.Box,{className:"snap-view__content__permissions",marginTop:12},n.default.createElement(E.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:1},x("permissions")),n.default.createElement(_.default,{snapId:e,snapName:F,permissions:L??{},showOptions:!0,showAllPermissions:!0})),n.default.createElement(E.Box,{className:"snap-view__content__connected-sites",marginTop:12},n.default.createElement(E.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},B.every(e=>(0,i.isSnapId)(e.origin))?x("connectedSnaps"):B.some(e=>(0,i.isSnapId)(e.origin))?x("connectedSitesAndSnaps"):x("connectedSites")),n.default.createElement(p.default,{connectedSubjects:B,onDisconnect:e=>{var t;t=e,k.id,I((0,h.disconnectOriginFromSnap)(t,k.id))}})),n.default.createElement(E.Box,{className:"snap-view__content__remove",marginTop:12},n.default.createElement(E.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},x("removeSnap")),n.default.createElement(E.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},x("removeSnapDescription")),n.default.createElement(E.Box,{marginTop:4,display:u.Display.Flex,justifyContent:u.JustifyContent.center},n.default.createElement(E.Button,{className:"snap-view__content__remove-button",danger:"true",variant:E.ButtonVariant.Secondary,width:u.BlockSize.Full,size:E.ButtonSize.Lg,onClick:()=>N(!0),"data-testid":"remove-snap-button",disabled:k.preinstalled&&!1===k.removable},n.default.createElement(E.Text,{color:u.TextColor.inherit,variant:u.TextVariant.bodyMd,flexWrap:u.FlexWrap.NoWrap,ellipsis:!0,style:{overflow:"hidden"},paddingTop:3,paddingBottom:3},`${x("remove")} ${F}`)),n.default.createElement(m.default,{isOpen:M&&(!j||0===D.length)&&!R,onCancel:()=>N(!1),onSubmit:async()=>{await I((0,h.removeSnap)(k.id))},snapName:F}),n.default.createElement(n.default.Fragment,null,n.default.createElement(f.default,{snap:k,keyringAccounts:D,snapUrl:k.url,onCancel:()=>N(!1),onClose:()=>N(!1),onBack:()=>N(!1),onSubmit:async()=>{try{A(!0),await I((0,h.removeSnap)(k.id)),N(!1),I((0,h.showKeyringSnapRemovalModal)({snapName:F,result:C.KeyringSnapRemovalResultStatus.Success}))}catch{N(!1),I((0,h.showKeyringSnapRemovalModal)({snapName:F,result:C.KeyringSnapRemovalResultStatus.Failed}))}finally{A(!1)}},isOpen:M&&j&&D.length>0})))))}I.propTypes={snapId:r.default.string.isRequired,initRemove:r.default.bool,resetInitRemove:r.default.func};a.default=I}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-settings.js"}],[8151,{"../../../components/app/snaps/snap-authorship-header":6384,"../../../components/app/snaps/snap-home-menu":6391,"../../../components/app/snaps/snap-home-page/snap-home-renderer":6393,"../../../components/component-library":6633,"../../../components/multichain/pages/page":6953,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../selectors":8207,"./snap-settings":8150,"@metamask/utils":3207,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/utils"),l=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../selectors"),d=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),p=E(e("../../../components/app/snaps/snap-authorship-header")),f=E(e("../../../components/app/snaps/snap-home-menu")),h=e("../../../components/app/snaps/snap-home-page/snap-home-renderer"),g=E(e("./snap-settings"));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function y(e){const[,t]=e;return t}a.default=function(){const e=(0,n.c)(42),t=(0,l.useNavigate)(),a=(0,l.useLocation)(),{pathname:E}=a;let _;if(e[0]!==E){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t=/[^/]+$/u,e[2]=t):t=e[2],_=E.match(t),e[0]=E,e[1]=_}else _=e[1];const S=decodeURIComponent(_[0]),T=(0,r.useSelector)(u.getSnaps);let b,v;e[3]!==T?(b=Object.entries(T).map(y),e[3]=T,e[4]=b):b=e[4],e[5]!==S||e[6]!==b?(v=b.find(e=>e.id===S),e[5]=S,e[6]=b,e[7]=v):v=e[7];const C=v;let x,w,I;e[8]!==t||e[9]!==C?(x=()=>{C||t(c.SNAPS_ROUTE)},w=[t,C],e[8]=t,e[9]=C,e[10]=x,e[11]=w):(x=e[10],w=e[11]),(0,s.useEffect)(x,w),e[12]!==C?(I=e=>C&&(0,u.getPermissions)(e,C.id),e[12]=C,e[13]=I):I=e[13];const k=(0,r.useSelector)(I);let M;e[14]!==k?(M=k&&(0,o.hasProperty)(k,"endowment:page-home"),e[14]=k,e[15]=M):M=e[15];const N=M,[R,A]=(0,s.useState)(!N),[D,P]=(0,s.useState)(!1);if(!C)return null;let O;e[16]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{A(!0)},e[16]=O):O=e[16];const B=O;let L;e[17]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{P(!0),A(!0)},e[17]=L):L=e[17];const F=L;let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{P(!1)},e[18]=U):U=e[18];const j=U;let W;if(e[19]!==N||e[20]!==t||e[21]!==R||e[22]!==C.hidden||e[23]!==C.preinstalled){const a=()=>{C.preinstalled&&C.hidden?t(c.DEFAULT_ROUTE):R&&N?A(!1):t(c.SNAPS_ROUTE)};W=()=>s.default.createElement(d.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},s.default.createElement(d.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:d.ButtonIconSize.Md,onClick:a})),e[19]=N,e[20]=t,e[21]=R,e[22]=C.hidden,e[23]=C.preinstalled,e[24]=W}else W=e[24];const V=W;let $;e[25]!==V||e[26]!==C.hidden||e[27]!==C.hideSnapBranding||e[28]!==C.preinstalled||e[29]!==S?($=!C.hideSnapBranding&&s.default.createElement(p.default,{snapId:S,showInfo:!1,startAccessory:V(),endAccessory:!C.hidden&&s.default.createElement(f.default,{snapId:S,onSettingsClick:B,onRemoveClick:F,isSettingsAvailable:!C.preinstalled})}),e[25]=V,e[26]=C.hidden,e[27]=C.hideSnapBranding,e[28]=C.preinstalled,e[29]=S,e[30]=$):$=e[30];const H=R?4:0,z=R?4:0;let G,Y,K;return e[31]!==D||e[32]!==R||e[33]!==S?(G=R?s.default.createElement(g.default,{snapId:S,initRemove:D,resetInitRemove:j}):s.default.createElement(h.SnapHomeRenderer,{snapId:S}),e[31]=D,e[32]=R,e[33]=S,e[34]=G):G=e[34],e[35]!==H||e[36]!==z||e[37]!==G?(Y=s.default.createElement(m.Content,{backgroundColor:i.BackgroundColor.backgroundDefault,className:"snap-view__content",marginTop:H,padding:z},G),e[35]=H,e[36]=z,e[37]=G,e[38]=Y):Y=e[38],e[39]!==$||e[40]!==Y?(K=s.default.createElement("div",{className:"snap-view"},s.default.createElement(m.Page,{backgroundColor:i.BackgroundColor.backgroundDefault},$,Y)),e[39]=$,e[40]=Y,e[41]=K):K=e[41],K}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-view.js"}],[8152,{"./snap-list":8153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/index.js"}],[8153,{"../../../components/app/snaps/snap-list-item":6401,"../../../components/component-library":6633,"../../../components/multichain/pages/page":6953,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../helpers/utils/settings-search":7197,"../../../helpers/utils/util":7207,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),l=e("react-router-dom"),i=(n=e("../../../components/app/snaps/snap-list-item"))&&n.__esModule?n:{default:n},c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),m=e("../../../selectors"),p=e("../../../helpers/utils/settings-search"),f=e("../../../components/component-library"),h=e("../../../components/multichain/pages/page"),g=e("../../../helpers/utils/util");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,s.c)(25),t=(0,c.useI18nContext)(),a=(0,r.useRef)(),n=(0,l.useNavigate)();let E;e[0]!==n?(E=e=>{n((0,g.getSnapRoute)(e.id))},e[0]=n,e[1]=E):E=e[1];const _=E;let y,S;e[2]!==t?(y=()=>{(0,p.handleSettingsRefs)(t,t("snaps"),a)},S=[a,t],e[2]=t,e[3]=y,e[4]=S):(y=e[3],S=e[4]),(0,r.useEffect)(y,S);const T=(0,o.useSelector)(m.getSnapsList),b=(0,o.useSelector)(m.getAllSnapAvailableUpdates);let v,C,x,w,I,k,M;return e[5]!==n?(v=r.default.createElement(f.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:"sm",onClick:()=>n(d.DEFAULT_ROUTE)}),e[5]=n,e[6]=v):v=e[6],e[7]!==t?(C=t("snaps"),e[7]=t,e[8]=C):C=e[8],e[9]!==v||e[10]!==C?(x=r.default.createElement(h.Header,{backgroundColor:u.BackgroundColor.backgroundDefault,startAccessory:v},C),e[9]=v,e[10]=C,e[11]=x):x=e[11],e[12]!==_||e[13]!==b||e[14]!==T?(w=T.length>0&&r.default.createElement("div",{className:"snaps__content__list__body"},r.default.createElement("div",{className:"snaps__content__list__wrapper"},T.map(e=>r.default.createElement(i.default,{className:"snaps__content__list-item",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{_(e)},snapId:e.id,showUpdateDot:b.get(e.id)})))),e[12]=_,e[13]=b,e[14]=T,e[15]=w):w=e[15],e[16]!==T.length||e[17]!==t?(I=T.length<=5&&r.default.createElement(f.Box,{display:u.Display.Flex,height:u.BlockSize.Full,flexDirection:u.FlexDirection.Row,flexWrap:u.FlexWrap.Wrap,justifyContent:u.JustifyContent.center,className:"snaps__content__list__container--snaps-info-content"},T.length<1&&r.default.createElement(f.Box,{className:"snaps__content__list__container--no-snaps_inner",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center},r.default.createElement(f.Icon,{name:f.IconName.Snaps,color:u.IconColor.iconMuted,className:"snaps__content__list__no-snaps_icon",size:f.IconSize.Inherit}),r.default.createElement(f.Text,{color:u.Color.textMuted,align:u.TextAlign.Center,marginTop:4},t("noSnaps"))),r.default.createElement(f.Box,{display:u.Display.Flex,width:u.BlockSize.Full,height:u.BlockSize.Min}),r.default.createElement(f.Box,{className:"snaps__content__list__container--no-snaps_banner-tip",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},r.default.createElement(f.BannerTip,{logoType:f.BannerTipLogoType.Greeting,description:t("extendWalletWithSnaps"),descriptionProps:{variant:u.TextVariant.bodyMd}},r.default.createElement(f.ButtonLink,{size:u.Size.auto,href:"https://snaps.metamask.io/",target:"_blank",endIconName:f.IconName.Export},`${t("discoverSnaps")}`)))),e[16]=T.length,e[17]=t,e[18]=I):I=e[18],e[19]!==w||e[20]!==I?(k=r.default.createElement(h.Content,{backgroundColor:u.BackgroundColor.backgroundDefault,className:"snaps__content"},r.default.createElement(f.Box,{className:"snaps__content__list",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,height:u.BlockSize.Full},w,I)),e[19]=w,e[20]=I,e[21]=k):k=e[21],e[22]!==x||e[23]!==k?(M=r.default.createElement("div",{className:"snaps"},r.default.createElement(h.Page,{backgroundColor:u.BackgroundColor.backgroundDefault},x,k)),e[22]=x,e[23]=k,e[24]=M):M=e[24],M}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/snap-list.js"}],[8154,{"../../../shared/constants/metametrics":5892,"../../components/app/srp-details-modal":6506,"../../components/app/srp-input-import":6508,"../../components/component-library":6633,"../../contexts/metametrics":7110,"../../helpers/constants/design-system":7149,"../../hooks/useI18nContext":7301,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),l=e("../../hooks/useI18nContext"),i=m(e("../../components/app/srp-input-import")),c=m(e("../../components/app/srp-details-modal")),u=e("../../../shared/constants/metametrics"),d=e("../../contexts/metametrics");function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(26),{error:a,setSecretRecoveryPhrase:m,onClearCallback:p,showDescription:h,toggleSrpDetailsModal:g,onSrpDetailsModalClose:E}=e,_=h===undefined||h,y=g!==undefined&&g,S=(0,l.useI18nContext)(),T=(0,s.useContext)(d.MetaMetricsContext),[b,v]=(0,s.useState)(!1);let C,x,w;t[0]!==y?(C=()=>{v(y)},x=[y],t[0]=y,t[1]=C,t[2]=x):(C=t[1],x=t[2]),(0,s.useEffect)(C,x),t[3]!==T?(w=()=>{T({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),v(!0)},t[3]=T,t[4]=w):w=t[4];const I=w;let k,M,N,R,A,D,P;return t[5]!==E||t[6]!==b?(k=b&&s.default.createElement(c.default,{onClose:()=>{v(!1),null==E||E()}}),t[5]=E,t[6]=b,t[7]=k):k=t[7],t[8]!==I||t[9]!==_||t[10]!==S?(M=_&&s.default.createElement(r.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center},s.default.createElement(r.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textAlternative},S("typeYourSRP")),s.default.createElement(r.ButtonIcon,{iconName:r.IconName.Info,size:r.ButtonIconSize.Sm,color:o.IconColor.iconAlternative,onClick:I,ariaLabel:"info"})),t[8]=I,t[9]=_,t[10]=S,t[11]=M):M=t[11],t[12]!==p||t[13]!==m?(N=s.default.createElement(i.default,{onChange:m,onClearCallback:p}),t[12]=p,t[13]=m,t[14]=N):N=t[14],t[15]!==a?(R=a&&s.default.createElement(r.Box,{marginTop:2},s.default.createElement(r.Text,{"data-testid":"import-srp-error",variant:o.TextVariant.bodySm,color:o.TextColor.errorDefault},a)),t[15]=a,t[16]=R):R=t[16],t[17]!==N||t[18]!==R?(A=s.default.createElement(r.Box,{width:o.BlockSize.Full},s.default.createElement("form",{onSubmit:f},N,R)),t[17]=N,t[18]=R,t[19]=A):A=t[19],t[20]!==A||t[21]!==M?(D=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4,height:o.BlockSize.Full},M,A),t[20]=A,t[21]=M,t[22]=D):D=t[22],t[23]!==D||t[24]!==k?(P=s.default.createElement(s.default.Fragment,null,k,D),t[23]=D,t[24]=k,t[25]=P):P=t[25],P};function f(e){return e.preventDefault()}}}},{package:"$root$",file:"ui/pages/srp-input-form/index.tsx"}],[8155,{"../../../../shared/constants/metametrics":5892,"../../../../shared/modules/selectors":6032,"../../../components/component-library":6633,"../../../components/ui/box":6982,"../../../components/ui/pulse-loader":7063,"../../../contexts/i18n":7105,"../../../contexts/metametrics":7110,"../../../ducks/swaps/swaps":7145,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../selectors/selectors":8227,"../swaps-footer":8181,"./swap-step-icon":8157,"lodash/isEqual":4927,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.c)(41),t=(0,s.useContext)(i.I18nContext),a=(0,o.useNavigate)(),T=(0,r.useDispatch)(),b=(0,r.useSelector)(c.getFetchParams,l.default);let v;e[0]!==(null==b?void 0:b.metaData)?(v=(null==b?void 0:b.metaData)||{},e[0]=null==b?void 0:b.metaData,e[1]=v):v=e[1];const{destinationTokenInfo:C,sourceTokenInfo:x}=v,w=(0,r.useSelector)(c.getApproveTxParams,r.shallowEqual),I=(0,r.useSelector)(u.isHardwareWallet),k=(0,r.useSelector)(u.getHardwareWalletType),M=(0,r.useSelector)(d.getSmartTransactionsOptInStatusForMetrics),N=(0,r.useSelector)(d.getSmartTransactionsEnabled),R=(0,r.useSelector)(c.getCurrentSmartTransactionsEnabled),A=Boolean(w),D=(0,s.useContext)(E.MetaMetricsContext);let P,O,B;e[2]!==R||e[3]!==(null==C?void 0:C.symbol)||e[4]!==(null==b?void 0:b.balanceError)||e[5]!==(null==b?void 0:b.slippage)||e[6]!==(null==b?void 0:b.value)||e[7]!==k||e[8]!==I||e[9]!==A||e[10]!==N||e[11]!==M||e[12]!==(null==x?void 0:x.symbol)||e[13]!==D?(P=()=>{D({event:"Awaiting Signature(s) on a HW wallet",category:_.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:A,token_from:null==x?void 0:x.symbol,token_from_amount:null==b?void 0:b.value,token_to:null==C?void 0:C.symbol,request_type:null!=b&&b.balanceError?"Quote":"Order",slippage:null==b?void 0:b.slippage,custom_slippage:2===(null==b?void 0:b.slippage),is_hardware_wallet:I,hardware_wallet_type:k,stx_enabled:N,current_stx_enabled:R,stx_user_opt_in:M}})},e[2]=R,e[3]=null==C?void 0:C.symbol,e[4]=null==b?void 0:b.balanceError,e[5]=null==b?void 0:b.slippage,e[6]=null==b?void 0:b.value,e[7]=k,e[8]=I,e[9]=A,e[10]=N,e[11]=M,e[12]=null==x?void 0:x.symbol,e[13]=D,e[14]=P):P=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(O=[],e[15]=O):O=e[15];(0,s.useEffect)(P,O),e[16]!==A||e[17]!==t?(B=t(A?"swapTwoTransactions":"swapConfirmWithHwWallet"),e[16]=A,e[17]=t,e[18]=B):B=e[18];const L=B;let F,U,j,W,V,$,H,z;e[19]===Symbol.for("react.memo_cache_sentinel")?(F=s.default.createElement(f.default,{marginTop:3,marginBottom:4},s.default.createElement(p.default,null)),e[19]=F):F=e[19];e[20]!==L?(U=s.default.createElement(y.Text,{color:h.TextColor.textDefault,variant:h.TextVariant.headingMd,as:"h3"},L),e[20]=L,e[21]=U):U=e[21];e[22]!==(null==C?void 0:C.symbol)||e[23]!==A||e[24]!==(null==x?void 0:x.symbol)||e[25]!==t?(j=A&&s.default.createElement(s.default.Fragment,null,s.default.createElement(y.Text,{variant:h.TextVariant.bodyMdBold,marginTop:2},t("swapToConfirmWithHwWallet")),s.default.createElement("ul",{className:"awaiting-signatures__steps"},s.default.createElement("li",null,s.default.createElement(S.default,{stepNumber:1}),t("swapAllowSwappingOf",[s.default.createElement(y.Text,{as:"span",variant:h.TextVariant.bodyMdBold,key:"allowToken"},null==C?void 0:C.symbol)])),s.default.createElement("li",null,s.default.createElement(S.default,{stepNumber:2}),t("swapFromTo",[s.default.createElement(y.Text,{as:"span",variant:h.TextVariant.bodyMdBold,key:"tokenFrom"},null==x?void 0:x.symbol),s.default.createElement(y.Text,{as:"span",variation:h.TextVariant.bodyMdBold,key:"tokenTo"},null==C?void 0:C.symbol)]))),s.default.createElement(y.Text,{variant:h.TextVariant.bodyMd},t("swapGasFeesSplit"))),e[22]=null==C?void 0:C.symbol,e[23]=A,e[24]=null==x?void 0:x.symbol,e[25]=t,e[26]=j):j=e[26];e[27]!==U||e[28]!==j?(W=s.default.createElement(f.default,{paddingLeft:8,paddingRight:8,height:h.BLOCK_SIZES.FULL,justifyContent:h.JustifyContent.center,display:h.DISPLAY.FLEX,className:"awaiting-signatures__content"},F,U,j),e[27]=U,e[28]=j,e[29]=W):W=e[29];e[30]!==T||e[31]!==a?(V=async()=>{await T((0,c.prepareToLeaveSwaps)()),a(m.PREPARE_SWAP_ROUTE)},e[30]=T,e[31]=a,e[32]=V):V=e[32];e[33]!==t?($=t("cancel"),e[33]=t,e[34]=$):$=e[34];e[35]!==V||e[36]!==$?(H=s.default.createElement(g.default,{onSubmit:V,submitText:$,hideCancel:!0}),e[35]=V,e[36]=$,e[37]=H):H=e[37];e[38]!==H||e[39]!==W?(z=s.default.createElement("div",{className:"awaiting-signatures"},W,H),e[38]=H,e[39]=W,e[40]=z):z=e[40];return z};var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),l=T(e("lodash/isEqual")),i=e("../../../contexts/i18n"),c=e("../../../ducks/swaps/swaps"),u=e("../../../selectors/selectors"),d=e("../../../../shared/modules/selectors"),m=e("../../../helpers/constants/routes"),p=T(e("../../../components/ui/pulse-loader")),f=T(e("../../../components/ui/box")),h=e("../../../helpers/constants/design-system"),g=T(e("../swaps-footer")),E=e("../../../contexts/metametrics"),_=e("../../../../shared/constants/metametrics"),y=e("../../../components/component-library"),S=T(e("./swap-step-icon"));function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[8156,{"./awaiting-signatures":8155},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-signatures"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[8157,{"prop-types":5196,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=l;var n=e("react-compiler-runtime"),s=o(e("react")),r=o(e("prop-types"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){const t=(0,n.c)(2),{stepNumber:a}=e;switch(a===undefined?1:a){case 1:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),s.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"})),t[0]=e):e=t[0],e}case 2:{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),s.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"})),t[1]=e):e=t[1],e}default:return}}l.propTypes={stepNumber:r.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[8158,{"../../../../shared/constants/common":5879,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/swaps":5911,"../../../../shared/lib/ui-utils":6006,"../../../../shared/modules/selectors":6032,"../../../../shared/modules/selectors/networks":6034,"../../../../shared/modules/swaps.utils":6046,"../../../components/ui/mascot":7043,"../../../components/ui/pulse-loader":7063,"../../../contexts/i18n":7105,"../../../contexts/metametrics":7110,"../../../ducks/metamask/metamask":7137,"../../../ducks/swaps/swaps":7145,"../../../helpers/constants/routes":7154,"../../../helpers/utils/build-types":7173,"../../../selectors":8207,"../../../selectors/selectors":8227,"../../../store/actions":8241,"../create-new-swap":8164,"../swaps-footer":8181,"../swaps.util":8184,"../view-on-block-explorer":8185,"./quotes-timeout-icon":8160,"./swap-failure-icon":8161,"./swap-success-icon":8162,"@metamask/etherscan-link":2170,events:4472,"lodash/isEqual":4927,"prop-types":5196,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=L;var n=B(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=B(e("prop-types")),l=e("react-router-dom"),i=B(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),p=e("../../../../shared/modules/selectors/networks"),f=e("../../../ducks/metamask/metamask"),h=e("../../../selectors"),g=e("../../../selectors/selectors"),E=e("../../../../shared/modules/selectors"),_=e("../../../ducks/swaps/swaps"),y=B(e("../../../components/ui/mascot")),S=e("../../../../shared/constants/swaps"),T=e("../../../../shared/constants/common"),b=e("../../../../shared/modules/swaps.utils"),v=B(e("../../../components/ui/pulse-loader")),C=e("../../../helpers/utils/build-types"),x=e("../../../helpers/constants/routes"),w=e("../../../store/actions"),I=e("../swaps.util"),k=B(e("../swaps-footer")),M=B(e("../create-new-swap")),N=B(e("../view-on-block-explorer")),R=e("../../../../shared/lib/ui-utils"),A=B(e("./swap-failure-icon")),D=B(e("./swap-success-icon")),P=B(e("./quotes-timeout-icon"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function B(e){return e&&e.__esModule?e:{default:e}}function L({swapComplete:e,errorKey:t,txHash:a,tokensReceived:o,submittingSwap:O,txId:B}){var L,F;const U=(0,s.useContext)(u.I18nContext),j=(0,s.useContext)(d.MetaMetricsContext),W=(0,l.useNavigate)(),V=(0,r.useDispatch)(),$=(0,r.useSelector)(g.getHDEntropyIndex),H=(0,s.useRef)(new n.default),{swapMetaData:z}=(0,r.useSelector)(e=>(0,h.getFullTxData)(e,B))||{},G=(0,r.useSelector)(_.getFetchParams,i.default),Y=(0,r.useSelector)(_.getFromTokenInputValue),K=(0,r.useSelector)(_.getMaxSlippage),q=(0,r.useSelector)(_.getUsedQuote,i.default),Z=(0,r.useSelector)(_.getApproveTxParams,r.shallowEqual),Q=(0,r.useSelector)(_.getUsedSwapsGasPrice),X=(0,r.useSelector)(f.getCurrentCurrency),J=(0,r.useSelector)(h.getUSDConversionRate),ee=(0,r.useSelector)(p.getCurrentChainId),te=(0,r.useSelector)(h.getRpcPrefsForCurrentProvider,r.shallowEqual),[ae,ne]=(0,s.useState)(!1),se=(null==q||null===(L=q.destinationTokenInfo)||void 0===L?void 0:L.symbol)||(null==z?void 0:z.token_to);let re;if(q&&Q){var oe,le;re=(0,I.getRenderableNetworkFeesForQuote)({tradeGas:q.gasEstimateWithRefund||q.averageGas,approveGas:(null==Z?void 0:Z.gas)||"0x0",gasPrice:Q,currentCurrency:X,conversionRate:J,tradeValue:null==q||null===(oe=q.trade)||void 0===oe?void 0:oe.value,sourceSymbol:null==q||null===(le=q.sourceTokenInfo)||void 0===le?void 0:le.symbol,sourceAmount:q.sourceAmount,chainId:ee}).rawNetworkFees}const ie=(0,r.useSelector)(h.isHardwareWallet),ce=(0,r.useSelector)(h.getHardwareWalletType),ue=(0,r.useSelector)(E.getSmartTransactionsOptInStatusForMetrics),de=(0,r.useSelector)(E.getSmartTransactionsEnabled),me=(0,r.useSelector)(_.getCurrentSmartTransactionsEnabled),pe=(null==z?void 0:z.slippage)||(null==q?void 0:q.slippage),fe={token_from:(null==z?void 0:z.token_from)||(null==q||null===(F=q.sourceTokenInfo)||void 0===F?void 0:F.symbol),token_from_amount:null==z?void 0:z.token_from_amount,token_to:se,request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:pe,custom_slippage:2===pe,gas_fees:re,is_hardware_wallet:ie,hardware_wallet_type:ce,stx_enabled:de,current_stx_enabled:me,stx_user_opt_in:ue},he=te.blockExplorerUrl??T.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null,ge=(0,c.getBlockExplorerLink)({hash:a,chainId:ee},{blockExplorerUrl:he});let Ee,_e,ye,Se,Te;t===S.OFFLINE_FOR_MAINTENANCE?(Ee=U("offlineForMaintenance"),ye=U("metamaskSwapsOfflineDescription"),Se=U("close"),_e=s.default.createElement(A.default,null)):t===S.SWAP_FAILED_ERROR?(Ee=U("swapFailedErrorTitle"),ye=U("swapFailedErrorDescriptionWithSupportLink",[s.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:R.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{j({category:m.MetaMetricsEventCategory.Swaps,event:m.MetaMetricsEventName.SupportLinkClicked,properties:{url:R.SUPPORT_LINK}},{contextPropsIntoEventProperties:[m.MetaMetricsContextProp.PageTitle]})}},new URL(R.SUPPORT_LINK).hostname)]),Se=U("tryAgain"),_e=s.default.createElement(A.default,null),Te=ge&&s.default.createElement(N.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:fe})):t===S.QUOTES_EXPIRED_ERROR?(Ee=U("swapQuotesExpiredErrorTitle"),ye=U("swapQuotesExpiredErrorDescription"),Se=U("tryAgain"),_e=s.default.createElement(P.default,null),ae||(ne(!0),j({event:"Quotes Timed Out",category:m.MetaMetricsEventCategory.Swaps,sensitiveProperties:fe,properties:{hd_entropy_index:$}}))):t===S.ERROR_FETCHING_QUOTES?(Ee=U("swapFetchingQuotesErrorTitle"),ye=U("swapFetchingQuotesErrorDescription"),Se=U("back"),_e=s.default.createElement(A.default,null)):t===S.QUOTES_NOT_AVAILABLE_ERROR?(Ee=U("swapQuotesNotAvailableErrorTitle"),ye=U("swapQuotesNotAvailableErrorDescription"),Se=U("tryAgain"),_e=s.default.createElement(A.default,null)):t===S.CONTRACT_DATA_DISABLED_ERROR?(Ee=U("swapContractDataDisabledErrorTitle"),ye=U("swapContractDataDisabledErrorDescription"),Se=U("tryAgain"),_e=s.default.createElement(A.default,null)):t||e?!t&&e&&(Ee=U("swapTransactionComplete"),_e=s.default.createElement(D.default,null),Se=U("close"),ye=U("swapTokenAvailable",[s.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${se}`)]),Te=ge&&s.default.createElement(N.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:fe})):(Ee=U("swapProcessing"),_e=s.default.createElement(v.default,null),Se=U("swapsViewInActivity"),ye=U("swapOnceTransactionHasProcess",[s.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},se)]),Te=ge&&s.default.createElement(N.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:fe})),(0,s.useEffect)(()=>{t&&V((0,w.stopPollingForQuotes)())},[V,t]);return s.default.createElement("div",{className:"awaiting-swap"},s.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&((0,C.isFlask)()||(0,C.isBeta)()?s.default.createElement("div",{className:"awaiting-swap__mascot"},s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"})):s.default.createElement(y.default,{animationEventEmitter:H.current,width:"90",height:"90"})),s.default.createElement("div",{className:"awaiting-swap__status-image"},_e),s.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},Ee),s.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},ye),Te),!t&&e?s.default.createElement(M.default,{sensitiveTrackingProperties:fe}):null,s.default.createElement(k.default,{onSubmit:async()=>{t===S.OFFLINE_FOR_MAINTENANCE?(await V((0,_.prepareToLeaveSwaps)()),W(x.DEFAULT_ROUTE)):t===S.QUOTES_EXPIRED_ERROR?(V((0,_.prepareForRetryGetQuotes)()),await V((0,_.fetchQuotesAndSetQuoteState)(W,Y,K,j))):t?await V((0,_.navigateBackToPrepareSwap)(W)):(0,b.isSwapsDefaultTokenSymbol)(se,ee)||e?W(x.DEFAULT_ROUTE):W(`${x.DEFAULT_ROUTE}?tab=activity`)},onCancel:async()=>await V((0,_.navigateBackToPrepareSwap)(W)),submitText:Se,disabled:O,hideCancel:t!==S.QUOTES_EXPIRED_ERROR}))}L.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([S.QUOTES_EXPIRED_ERROR,S.SWAP_FAILED_ERROR,S.ERROR_FETCHING_QUOTES,S.QUOTES_NOT_AVAILABLE_ERROR,S.OFFLINE_FOR_MAINTENANCE,S.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[8159,{"./awaiting-swap":8158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[8160,{react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[8161,{react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[8162,{react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[8163,{"../../../../shared/constants/metametrics":5892,"../../../components/ui/box":6982,"../../../contexts/i18n":7105,"../../../contexts/metametrics":7110,"../../../ducks/swaps/swaps":7145,"../../../helpers/constants/routes":7154,"../../../selectors":8207,"../../../selectors/selectors":8227,"lodash/isEqual":4927,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=y;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=E(e("prop-types")),l=e("react-router-dom"),i=E(e("lodash/isEqual")),c=E(e("../../../components/ui/box")),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),p=e("../../../ducks/swaps/swaps"),f=e("../../../helpers/constants/routes"),h=e("../../../selectors"),g=e("../../../selectors/selectors");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function y(e){const t=(0,n.c)(12),{sensitiveTrackingProperties:a}=e,o=(0,s.useContext)(u.I18nContext),E=(0,s.useContext)(d.MetaMetricsContext),_=(0,r.useSelector)(g.getHDEntropyIndex),y=(0,r.useDispatch)(),S=(0,l.useNavigate)(),T=(0,r.useSelector)(h.getSwapsDefaultToken,i.default);let b,v,C;return t[0]!==T||t[1]!==y||t[2]!==_||t[3]!==S||t[4]!==a||t[5]!==E?(b=async()=>{E({event:m.MetaMetricsEventName.MakeAnotherSwap,category:m.MetaMetricsEventCategory.Swaps,sensitiveProperties:a,properties:{hd_entropy_index:_}}),S(f.DEFAULT_ROUTE),await y((0,p.navigateBackToPrepareSwap)(S)),y((0,p.setSwapsFromToken)(T))},t[0]=T,t[1]=y,t[2]=_,t[3]=S,t[4]=a,t[5]=E,t[6]=b):b=t[6],t[7]!==o?(v=o("makeAnotherSwap"),t[7]=o,t[8]=v):v=t[8],t[9]!==b||t[10]!==v?(C=s.default.createElement(c.default,{marginBottom:3,className:"create-new-swap"},s.default.createElement("button",{onClick:b},v)),t[9]=b,t[10]=v,t[11]=C):C=t[11],C}y.propTypes={sensitiveTrackingProperties:o.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[8164,{"./create-new-swap":8163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./create-new-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[8165,{"../../../ducks/swaps/swaps":7145,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useSwapsFeatureFlags=function(){const e=(0,n.c)(3),t=(0,r.useDispatch)();let a,l;e[0]!==t?(a=()=>{(async()=>{await t((0,o.fetchSwapsLivenessAndFeatureFlags)())})()},l=[t],e[0]=t,e[1]=a,e[2]=l):(a=e[1],l=e[2]);(0,s.useEffect)(a,l)};var n=e("react-compiler-runtime"),s=e("react"),r=e("react-redux"),o=e("../../../ducks/swaps/swaps")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useSwapsFeatureFlags.ts"}],[8166,{"../../../../shared/modules/selectors/networks":6034,"../../../ducks/swaps/swaps":7145,"../../../selectors":8207,"../../../store/actions":8241,"../swaps.util":8184,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.c)(7),t=(0,r.useDispatch)(),a=(0,r.useSelector)(c.getCurrentChainId),m=(0,r.useSelector)(u.getIsSwapsChain),p=(0,r.useSelector)(u.checkNetworkAndAccountSupports1559),f=(0,r.useSelector)(u.getUseExternalServices);let h,g;e[0]!==a||e[1]!==t||e[2]!==f||e[3]!==m||e[4]!==p?(h=()=>{if(m&&f)return(0,o.fetchTokens)(a).then(e=>{t((0,i.setSwapsTokens)(e))}).catch(d),(0,o.fetchTopAssets)(a).then(e=>{t((0,l.setTopAssets)(e))}),(0,o.fetchAggregatorMetadata)(a).then(e=>{t((0,l.setAggregatorMetadata)(e))}),p||t((0,l.fetchAndSetSwapsGasPriceInfo)()),()=>{t((0,l.prepareToLeaveSwaps)())}},g=[t,a,p,m,f],e[0]=a,e[1]=t,e[2]=f,e[3]=m,e[4]=p,e[5]=h,e[6]=g):(h=e[5],g=e[6]);(0,s.useEffect)(h,g)};var n=e("react-compiler-runtime"),s=e("react"),r=e("react-redux"),o=e("../swaps.util"),l=e("../../../ducks/swaps/swaps"),i=e("../../../store/actions"),c=e("../../../../shared/modules/selectors/networks"),u=e("../../../selectors");function d(e){return console.error(e)}}}},{package:"$root$",file:"ui/pages/swaps/hooks/useUpdateSwapsState.ts"}],[8167,{"../../../shared/constants/metametrics":5892,"../../../shared/constants/swaps":5911,"../../../shared/lib/transactions-controller-utils":6001,"../../../shared/modules/selectors":6032,"../../../shared/modules/selectors/networks":6034,"../../components/component-library":6633,"../../components/ui/box":6982,"../../contexts/i18n":7105,"../../contexts/metametrics":7110,"../../ducks/swaps/swaps":7145,"../../helpers/constants/design-system":7149,"../../helpers/constants/routes":7154,"../../helpers/higher-order-components/feature-toggled-route":7164,"../../hooks/useGasFeeEstimates":7298,"../../selectors":8207,"../../store/actions":8241,"../routes/utils":8048,"./awaiting-signatures":8156,"./awaiting-swap":8159,"./hooks/useUpdateSwapsState":8166,"./loading-swaps-quotes":8169,"./notification-page/notification-page":8172,"./smart-transaction-status":8175,"@metamask/transaction-controller":3085,lodash:4940,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,A,D,P,O,B;const L=(0,n.c)(173),F=(0,s.useContext)(c.I18nContext),U=(0,o.useNavigate)(),j=(0,o.useLocation)(),W=(0,r.useDispatch)(),V=(0,s.useContext)(T.MetaMetricsContext),$=(0,r.useSelector)(u.getHDEntropyIndex),{pathname:H}=j,z=H===f.AWAITING_SWAP_ROUTE,G=H===f.AWAITING_SIGNATURES_ROUTE,Y=H===f.SWAPS_ERROR_ROUTE,K=H===f.LOADING_QUOTES_ROUTE,q=H===f.SMART_TRANSACTION_STATUS_ROUTE,Z=H===f.PREPARE_SWAP_ROUTE,[Q,X]=(0,s.useState)(!1),J=(0,r.useSelector)(m.getFetchParams,l.isEqual);let ee;L[0]!==(null==J?void 0:J.metaData)?(ee=(null==J?void 0:J.metaData)||{},L[0]=null==J?void 0:J.metaData,L[1]=ee):ee=L[1];const{destinationTokenInfo:te}=ee;let ae;L[2]!==te?(ae=te===undefined?{}:te,L[2]=te,L[3]=ae):ae=L[3];const ne=ae,se=(0,r.useSelector)(m.getBackgroundSwapRouteState),re=(0,r.useSelector)(u.getSelectedAccount,r.shallowEqual),oe=(0,r.useSelector)(m.getQuotes,l.isEqual),le=(0,r.useSelector)(m.getLatestAddedTokenTo,l.isEqual),ie=(0,r.useSelector)(u.getCurrentNetworkTransactions,r.shallowEqual),ce=(0,r.useSelector)(m.getTradeTxId),ue=(0,r.useSelector)(m.getApproveTxId),de=(0,r.useSelector)(m.getAggregatorMetadata,r.shallowEqual),me=(0,r.useSelector)(m.getFetchingQuotes);let pe=(0,r.useSelector)(m.getSwapsErrorKey);const fe=(0,r.useSelector)(m.getSwapsFeatureIsLive),he=(0,r.useSelector)(d.getCurrentChainId),ge=(0,r.useSelector)(u.getIsSwapsChain),Ee=(0,r.useSelector)(m.getReviewSwapClickedTimestamp),_e=Boolean(Ee),ye=(0,r.useSelector)(p.getSmartTransactionsOptInStatusForMetrics),Se=(0,r.useSelector)(p.getSmartTransactionsEnabled),Te=(0,r.useSelector)(m.getCurrentSmartTransactionsEnabled),be=(0,r.useSelector)(m.getCurrentSmartTransactionsError),ve=(0,r.useSelector)(d.getSelectedNetworkClientId);let Ce,xe;L[4]!==W||L[5]!==ge||L[6]!==U?(Ce=()=>{ge||(async()=>{await W((0,m.prepareToLeaveSwaps)()),U(f.DEFAULT_ROUTE)})()},xe=[ge,W,U],L[4]=W,L[5]=ge,L[6]=U,L[7]=Ce,L[8]=xe):(Ce=L[7],xe=L[8]);(0,s.useEffect)(Ce,xe),(0,_.useGasFeeEstimates)();const{address:we}=re;let Ie;L[9]!==ue||L[10]!==ie?(Ie=ue&&ie.find(e=>{const{id:t}=e;return ue===t}),L[9]=ue,L[10]=ie,L[11]=Ie):Ie=L[11];const ke=Ie;let Me;L[12]!==ce||L[13]!==ie?(Me=ce&&ie.find(e=>{const{id:t}=e;return ce===t}),L[12]=ce,L[13]=ie,L[14]=Me):Me=L[14];const Ne=Me;let Re;L[15]!==ke||L[16]!==he||L[17]!==(null==ne?void 0:ne.address)||L[18]!==(null==ne?void 0:ne.decimals)||L[19]!==(null==ne?void 0:ne.symbol)||L[20]!==we||L[21]!==Ne?(Re=(null==Ne?void 0:Ne.txReceipt)&&(0,b.getSwapsTokensReceivedFromTxMeta)(null==ne?void 0:ne.symbol,Ne,null==ne?void 0:ne.address,we,null==ne?void 0:ne.decimals,ke,he),L[15]=ke,L[16]=he,L[17]=null==ne?void 0:ne.address,L[18]=null==ne?void 0:ne.decimals,L[19]=null==ne?void 0:ne.symbol,L[20]=we,L[21]=Ne,L[22]=Re):Re=L[22];const Ae=Re,De=(null==Ne?void 0:Ne.status)===i.TransactionStatus.confirmed,Pe=(null==ke?void 0:ke.status)===i.TransactionStatus.failed||"0x0"===(null==ke||null===(e=ke.txReceipt)||void 0===e?void 0:e.status),Oe=(null==Ne?void 0:Ne.status)===i.TransactionStatus.failed||"0x0"===(null==Ne||null===(t=Ne.txReceipt)||void 0===t?void 0:t.status),Be=Pe||Oe;Be&&pe!==g.CONTRACT_DATA_DISABLED_ERROR&&(pe=g.SWAP_FAILED_ERROR);const Le=(0,s.useRef)();let Fe,Ue,je,We;L[23]!==Be||L[24]!==W||L[25]!==z||L[26]!==le||L[27]!==ve?(Fe=()=>{Le.current=()=>{!le||z&&!Be||W((0,E.ignoreTokens)({tokensToIgnore:le,dontShowLoadingIndicator:!0,networkClientId:ve}))}},L[23]=Be,L[24]=W,L[25]=z,L[26]=le,L[27]=ve,L[28]=Fe):Fe=L[28];L[29]!==Be||L[30]!==ne||L[31]!==W||L[32]!==J||L[33]!==z||L[34]!==le||L[35]!==ve?(Ue=[Be,W,le,ne,J,z,ve],L[29]=Be,L[30]=ne,L[31]=W,L[32]=J,L[33]=z,L[34]=le,L[35]=ve,L[36]=Ue):Ue=L[36];(0,s.useEffect)(Fe,Ue),L[37]===Symbol.for("react.memo_cache_sentinel")?(je=()=>()=>{Le.current()},We=[],L[37]=je,L[38]=We):(je=L[37],We=L[38]);(0,s.useEffect)(je,We),(0,w.default)();const Ve=(0,r.useSelector)(u.isHardwareWallet),$e=(0,r.useSelector)(u.getHardwareWalletType);let He;if(L[39]!==Te||L[40]!==(null==J?void 0:J.balanceError)||L[41]!==(null==J||null===(a=J.destinationTokenInfo)||void 0===a?void 0:a.symbol)||L[42]!==(null==J?void 0:J.slippage)||L[43]!==(null==J||null===(A=J.sourceTokenInfo)||void 0===A?void 0:A.symbol)||L[44]!==(null==J?void 0:J.value)||L[45]!==$e||L[46]!==Ve||L[47]!==$||L[48]!==H||L[49]!==Se||L[50]!==ye||L[51]!==V){var ze,Ge;He=()=>{var e,t;V({event:S.MetaMetricsEventName.ExitedSwaps,category:S.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==J||null===(e=J.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==J?void 0:J.value,request_type:null==J?void 0:J.balanceError,token_to:null==J||null===(t=J.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==J?void 0:J.slippage,custom_slippage:2!==(null==J?void 0:J.slippage),current_screen:H.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:Ve,hardware_wallet_type:$e,stx_enabled:Se,current_stx_enabled:Te,stx_user_opt_in:ye},properties:{hd_entropy_index:$}})},L[39]=Te,L[40]=null==J?void 0:J.balanceError,L[41]=null==J||null===(ze=J.destinationTokenInfo)||void 0===ze?void 0:ze.symbol,L[42]=null==J?void 0:J.slippage,L[43]=null==J||null===(Ge=J.sourceTokenInfo)||void 0===Ge?void 0:Ge.symbol,L[44]=null==J?void 0:J.value,L[45]=$e,L[46]=Ve,L[47]=$,L[48]=H,L[49]=Se,L[50]=ye,L[51]=V,L[52]=He}else He=L[52];const Ye=He,Ke=(0,s.useRef)();let qe,Ze,Qe,Xe,Je;L[53]!==Ye?(qe=()=>{Ke.current=()=>{Ye()}},L[53]=Ye,L[54]=qe):qe=L[54];(0,s.useEffect)(qe),L[55]!==W?(Ze=()=>((async()=>{await W((0,m.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{Ke.current()}),Qe=[W],L[55]=W,L[56]=Ze,L[57]=Qe):(Ze=L[56],Qe=L[57]);(0,s.useEffect)(Ze,Qe),L[58]!==Y||L[59]!==U||L[60]!==_e||L[61]!==pe?(Xe=()=>{pe&&!Y&&_e&&U(f.SWAPS_ERROR_ROUTE)},L[58]=Y,L[59]=U,L[60]=_e,L[61]=pe,L[62]=Xe):Xe=L[62];L[63]!==Y||L[64]!==U||L[65]!==_e||L[66]!==pe?(Je=[U,pe,Y,_e],L[63]=Y,L[64]=U,L[65]=_e,L[66]=pe,L[67]=Je):Je=L[67];(0,s.useEffect)(Xe,Je);const et=(0,s.useRef)();let tt,at,nt;L[68]!==W||L[69]!==K?(tt=()=>{const e=()=>(Le.current(),K&&W((0,m.prepareToLeaveSwaps)()),null);return K&&!et.current&&(et.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)},at=[W,K],L[68]=W,L[69]=K,L[70]=tt,L[71]=at):(tt=L[70],at=L[71]);if((0,s.useEffect)(tt,at),L[72]!==Te||L[73]!==be||L[74]!==(null==J?void 0:J.balanceError)||L[75]!==(null==J||null===(D=J.destinationTokenInfo)||void 0===D?void 0:D.symbol)||L[76]!==(null==J?void 0:J.slippage)||L[77]!==(null==J||null===(P=J.sourceTokenInfo)||void 0===P?void 0:P.symbol)||L[78]!==(null==J?void 0:J.value)||L[79]!==$e||L[80]!==Ve||L[81]!==H||L[82]!==Se||L[83]!==ye||L[84]!==V){var st,rt;nt=()=>{var e,t;V({event:"Error Smart Transactions",category:S.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==J||null===(e=J.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==J?void 0:J.value,request_type:null==J?void 0:J.balanceError,token_to:null==J||null===(t=J.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==J?void 0:J.slippage,custom_slippage:2!==(null==J?void 0:J.slippage),current_screen:H.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:Ve,hardware_wallet_type:$e,stx_enabled:Se,current_stx_enabled:Te,stx_user_opt_in:ye,stx_error:be}})},L[72]=Te,L[73]=be,L[74]=null==J?void 0:J.balanceError,L[75]=null==J||null===(st=J.destinationTokenInfo)||void 0===st?void 0:st.symbol,L[76]=null==J?void 0:J.slippage,L[77]=null==J||null===(rt=J.sourceTokenInfo)||void 0===rt?void 0:rt.symbol,L[78]=null==J?void 0:J.value,L[79]=$e,L[80]=Ve,L[81]=H,L[82]=Se,L[83]=ye,L[84]=V,L[85]=nt}else nt=L[85];null==J||J.balanceError,null==J||null===(O=J.destinationTokenInfo)||void 0===O||O.symbol,null==J||J.slippage,null==J||null===(B=J.sourceTokenInfo)||void 0===B||B.symbol,null==J||J.value;const ot=nt;let lt,it,ct;L[86]!==be||L[87]!==Q||L[88]!==ot?(lt=()=>{be&&!Q&&(X(!0),ot())},it=[be,ot,Q],L[86]=be,L[87]=Q,L[88]=ot,L[89]=lt,L[90]=it):(lt=L[89],it=L[90]);if((0,s.useEffect)(lt,it),!ge){let e;return L[91]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement(s.default.Fragment,null),L[91]=e):e=L[91],e}L[92]!==W||L[93]!==U?(ct=async()=>{Le.current(),U(f.DEFAULT_ROUTE,{state:{stayOnHomePage:!0}}),W((0,m.clearSwapsState)()),await W((0,E.resetBackgroundSwapsState)())},L[92]=W,L[93]=U,L[94]=ct):ct=L[94];const ut=ct;let dt,mt,pt,ft,ht,gt,Et,_t,yt,St,Tt,bt,vt,Ct,xt,wt,It,kt,Mt,Nt,Rt,At,Dt;L[95]!==ut?(dt=e=>{"Enter"===e.key&&ut()},L[95]=ut,L[96]=dt):dt=L[96];L[97]!==G||L[98]!==z||L[99]!==q||L[100]!==ut||L[101]!==F?(mt=!z&&!G&&!q&&s.default.createElement(v.Icon,{name:v.IconName.Arrow2Left,size:v.IconSize.Lg,color:x.IconColor.iconAlternative,onClick:ut,style:{cursor:"pointer"},title:F("cancel")}),L[97]=G,L[98]=z,L[99]=q,L[100]=ut,L[101]=F,L[102]=mt):mt=L[102];L[103]!==dt||L[104]!==mt?(pt=s.default.createElement(C.default,{display:x.DISPLAY.FLEX,justifyContent:x.JustifyContent.center,marginLeft:4,width:x.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:dt},mt),L[103]=dt,L[104]=mt,L[105]=pt):pt=L[105];L[106]!==F?(ft=F("swap"),L[106]=F,L[107]=ft):ft=L[107];L[108]!==ft?(ht=s.default.createElement("div",{className:"swaps__title"},ft),L[108]=ft,L[109]=ht):ht=L[109];L[110]!==W?(gt=e=>{"Enter"===e.key&&W((0,m.setTransactionSettingsOpened)(!0))},L[110]=W,L[111]=gt):gt=L[111];L[112]!==W||L[113]!==Z||L[114]!==F?(Et=Z&&s.default.createElement(v.Icon,{name:v.IconName.Setting,size:v.IconSize.Lg,color:x.IconColor.iconAlternative,onClick:()=>{W((0,m.setTransactionSettingsOpened)(!0))},style:{cursor:"pointer"},title:F("transactionSettings")}),L[112]=W,L[113]=Z,L[114]=F,L[115]=Et):Et=L[115];L[116]!==gt||L[117]!==Et?(_t=s.default.createElement(C.default,{display:x.DISPLAY.FLEX,justifyContent:x.JustifyContent.center,marginRight:4,width:x.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:gt},Et),L[116]=gt,L[117]=Et,L[118]=_t):_t=L[118];L[119]!==pt||L[120]!==ht||L[121]!==_t?(yt=s.default.createElement("div",{className:"swaps__header"},pt,ht,_t),L[119]=pt,L[120]=ht,L[121]=_t,L[122]=yt):yt=L[122];L[123]===Symbol.for("react.memo_cache_sentinel")?(St=(0,h.toRelativeRoutePath)(f.PREPARE_SWAP_ROUTE),L[123]=St):St=L[123];L[124]===Symbol.for("react.memo_cache_sentinel")?(Tt=s.default.createElement(o.Navigate,{to:`${f.CROSS_CHAIN_SWAP_ROUTE}${f.PREPARE_SWAP_ROUTE}`,replace:!0}),L[124]=Tt):Tt=L[124];L[125]!==fe?(bt=s.default.createElement(o.Route,{path:St,element:s.default.createElement(y.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:fe,element:Tt})}),L[125]=fe,L[126]=bt):bt=L[126];L[127]===Symbol.for("react.memo_cache_sentinel")?(vt=(0,h.toRelativeRoutePath)(f.SWAPS_ERROR_ROUTE),L[127]=vt):vt=L[127];L[128]!==pe||L[129]!==(null==Ne?void 0:Ne.hash)||L[130]!==(null==Ne?void 0:Ne.id)||L[131]!==(null==Ne?void 0:Ne.submittedTime)?(Ct=s.default.createElement(o.Route,{path:vt,element:pe?s.default.createElement(M.default,{swapComplete:!1,errorKey:pe,txHash:null==Ne?void 0:Ne.hash,txId:null==Ne?void 0:Ne.id,submittedTime:null==Ne?void 0:Ne.submittedTime}):s.default.createElement(o.Navigate,{to:f.PREPARE_SWAP_ROUTE,replace:!0})}),L[128]=pe,L[129]=null==Ne?void 0:Ne.hash,L[130]=null==Ne?void 0:Ne.id,L[131]=null==Ne?void 0:Ne.submittedTime,L[132]=Ct):Ct=L[132];L[133]===Symbol.for("react.memo_cache_sentinel")?(xt=(0,h.toRelativeRoutePath)(f.SWAPS_NOTIFICATION_ROUTE),L[133]=xt):xt=L[133];L[134]!==pe?(wt=s.default.createElement(o.Route,{path:xt,element:pe?s.default.createElement(R.default,{notificationKey:pe}):s.default.createElement(o.Navigate,{to:f.PREPARE_SWAP_ROUTE,replace:!0})}),L[134]=pe,L[135]=wt):wt=L[135];L[136]===Symbol.for("react.memo_cache_sentinel")?(It=(0,h.toRelativeRoutePath)(f.LOADING_QUOTES_ROUTE),L[136]=It):It=L[136];L[137]!==de||L[138]!==W||L[139]!==me||L[140]!==U||L[141]!==oe||L[142]!==pe?(kt=de?s.default.createElement(N.default,{loadingComplete:!me&&Boolean(Object.values(oe).length),onDone:async()=>{await W((0,E.setBackgroundSwapRouteState)("")),pe===g.ERROR_FETCHING_QUOTES||pe===g.QUOTES_NOT_AVAILABLE_ERROR?(W((0,E.setSwapsErrorKey)(g.QUOTES_NOT_AVAILABLE_ERROR)),U(f.SWAPS_ERROR_ROUTE)):U(f.PREPARE_SWAP_ROUTE)},aggregatorMetadata:de}):s.default.createElement(o.Navigate,{to:f.PREPARE_SWAP_ROUTE,replace:!0}),L[137]=de,L[138]=W,L[139]=me,L[140]=U,L[141]=oe,L[142]=pe,L[143]=kt):kt=L[143];L[144]!==fe||L[145]!==kt?(Mt=s.default.createElement(o.Route,{path:It,element:s.default.createElement(y.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:fe,element:kt})}),L[144]=fe,L[145]=kt,L[146]=Mt):Mt=L[146];L[147]===Symbol.for("react.memo_cache_sentinel")?(Nt=(0,h.toRelativeRoutePath)(f.SWAPS_MAINTENANCE_ROUTE),L[147]=Nt):Nt=L[147];L[148]!==fe?(Rt=s.default.createElement(o.Route,{path:Nt,element:!1===fe?s.default.createElement(M.default,{errorKey:g.OFFLINE_FOR_MAINTENANCE}):s.default.createElement(o.Navigate,{to:f.PREPARE_SWAP_ROUTE,replace:!0})}),L[148]=fe,L[149]=Rt):Rt=L[149];L[150]===Symbol.for("react.memo_cache_sentinel")?(At=s.default.createElement(o.Route,{path:(0,h.toRelativeRoutePath)(f.AWAITING_SIGNATURES_ROUTE),element:s.default.createElement(I.default,null)}),L[150]=At):At=L[150];L[151]===Symbol.for("react.memo_cache_sentinel")?(Dt=(0,h.toRelativeRoutePath)(f.SMART_TRANSACTION_STATUS_ROUTE),L[151]=Dt):Dt=L[151];const Pt=null==Ne?void 0:Ne.id;let Ot,Bt,Lt,Ft,Ut;L[152]!==Pt?(Ot=s.default.createElement(o.Route,{path:Dt,element:s.default.createElement(k.default,{txId:Pt})}),L[152]=Pt,L[153]=Ot):Ot=L[153];L[154]===Symbol.for("react.memo_cache_sentinel")?(Bt=(0,h.toRelativeRoutePath)(f.AWAITING_SWAP_ROUTE),L[154]=Bt):Bt=L[154];L[155]!==ue||L[156]!==se||L[157]!==Ae||L[158]!==De||L[159]!==Ne||L[160]!==ce?(Lt=s.default.createElement(o.Route,{path:Bt,element:"awaiting"===se||Ne?s.default.createElement(M.default,{swapComplete:De,txHash:null==Ne?void 0:Ne.hash,tokensReceived:Ae,txId:null==Ne?void 0:Ne.id,submittingSwap:"awaiting"===se&&!(ue||ce)}):s.default.createElement(o.Navigate,{to:f.DEFAULT_ROUTE,replace:!0})}),L[155]=ue,L[156]=se,L[157]=Ae,L[158]=De,L[159]=Ne,L[160]=ce,L[161]=Lt):Lt=L[161];L[162]!==bt||L[163]!==Ct||L[164]!==wt||L[165]!==Mt||L[166]!==Rt||L[167]!==Ot||L[168]!==Lt?(Ft=s.default.createElement("div",{className:"swaps__content"},s.default.createElement(o.Routes,null,bt,Ct,wt,Mt,Rt,At,Ot,Lt)),L[162]=bt,L[163]=Ct,L[164]=wt,L[165]=Mt,L[166]=Rt,L[167]=Ot,L[168]=Lt,L[169]=Ft):Ft=L[169];L[170]!==yt||L[171]!==Ft?(Ut=s.default.createElement("div",{className:"swaps"},s.default.createElement("div",{className:"swaps__container"},yt,Ft)),L[170]=yt,L[171]=Ft,L[172]=Ut):Ut=L[172];return Ut};var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),l=e("lodash"),i=e("@metamask/transaction-controller"),c=e("../../contexts/i18n"),u=e("../../selectors"),d=e("../../../shared/modules/selectors/networks"),m=e("../../ducks/swaps/swaps"),p=e("../../../shared/modules/selectors"),f=e("../../helpers/constants/routes"),h=e("../routes/utils"),g=e("../../../shared/constants/swaps"),E=e("../../store/actions"),_=e("../../hooks/useGasFeeEstimates"),y=A(e("../../helpers/higher-order-components/feature-toggled-route")),S=e("../../../shared/constants/metametrics"),T=e("../../contexts/metametrics"),b=e("../../../shared/lib/transactions-controller-utils"),v=e("../../components/component-library"),C=A(e("../../components/ui/box")),x=e("../../helpers/constants/design-system"),w=A(e("./hooks/useUpdateSwapsState")),I=A(e("./awaiting-signatures")),k=A(e("./smart-transaction-status")),M=A(e("./awaiting-swap")),N=A(e("./loading-swaps-quotes")),R=A(e("./notification-page/notification-page"));function A(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/index.js"}],[8168,{react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(26);let t,a,n,o,l,i,c,u,d,m,p,f,h,g,E,_,y,S,T,b,v,C,x,w,I,k;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),a=r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),n=r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),o=r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),l=r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),i=r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),c=r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),u=r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),d=r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),m=r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),e[0]=t,e[1]=a,e[2]=n,e[3]=o,e[4]=l,e[5]=i,e[6]=c,e[7]=u,e[8]=d,e[9]=m):(t=e[0],a=e[1],n=e[2],o=e[3],l=e[4],i=e[5],c=e[6],u=e[7],d=e[8],m=e[9]);e[10]===Symbol.for("react.memo_cache_sentinel")?(p=r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[10]=p):p=e[10];e[11]===Symbol.for("react.memo_cache_sentinel")?(f=r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[11]=f):f=e[11];e[12]===Symbol.for("react.memo_cache_sentinel")?(h=r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[12]=h):h=e[12];e[13]===Symbol.for("react.memo_cache_sentinel")?(g=r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[13]=g):g=e[13];e[14]===Symbol.for("react.memo_cache_sentinel")?(E=r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[14]=E):E=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(_=r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[15]=_):_=e[15];e[16]===Symbol.for("react.memo_cache_sentinel")?(y=r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[16]=y):y=e[16];e[17]===Symbol.for("react.memo_cache_sentinel")?(S=r.default.createElement("div",{className:"loading-swaps-quotes__background-1","data-testid":"loading-swaps-quotes-background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,a,n,o,l,i,c,u,d,m,r.default.createElement("defs",null,p,f,h,g,E,_,y,r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),e[17]=S):S=e[17];e[18]===Symbol.for("react.memo_cache_sentinel")?(T=r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),b=r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),v=r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),C=r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),x=r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),w=r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),e[18]=T,e[19]=b,e[20]=v,e[21]=C,e[22]=x,e[23]=w):(T=e[18],b=e[19],v=e[20],C=e[21],x=e[22],w=e[23]);e[24]===Symbol.for("react.memo_cache_sentinel")?(I=r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),e[24]=I):I=e[24];e[25]===Symbol.for("react.memo_cache_sentinel")?(k=r.default.createElement(r.default.Fragment,null,S,r.default.createElement("div",{className:"loading-swaps-quotes__background-2","data-testid":"loading-swaps-quotes-background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T,b,v,C,x,w,r.default.createElement("defs",null,I,r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"})))))),e[25]=k):k=e[25];return k};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/background-animation.js"}],[8169,{"./loading-swaps-quotes":8170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./loading-swaps-quotes"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/index.js"}],[8170,{"../../../../shared/constants/metametrics":5892,"../../../../shared/modules/selectors":6032,"../../../components/component-library":6633,"../../../components/ui/mascot":7043,"../../../contexts/i18n":7105,"../../../contexts/metametrics":7110,"../../../ducks/swaps/swaps":7145,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/build-types":7173,"../../../selectors/selectors":8227,"../swaps-footer":8181,"./background-animation":8168,events:4472,lodash:4940,"lodash/isEqual":4927,"prop-types":5196,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=C;var n=v(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=v(e("prop-types")),l=e("lodash"),i=e("react-router-dom"),c=v(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),m=e("../../../../shared/modules/selectors"),p=e("../../../contexts/i18n"),f=e("../../../contexts/metametrics"),h=v(e("../../../components/ui/mascot")),g=e("../../../../shared/constants/metametrics"),E=v(e("../swaps-footer")),_=e("../../../components/component-library"),y=e("../../../helpers/constants/design-system"),S=e("../../../helpers/utils/build-types"),T=v(e("./background-animation"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function C({aggregatorMetadata:e,loadingComplete:t,onDone:a}){var o,b;const v=(0,s.useContext)(p.I18nContext),C=(0,s.useContext)(f.MetaMetricsContext),x=(0,r.useDispatch)(),w=(0,r.useSelector)(d.getHDEntropyIndex),I=(0,i.useNavigate)(),k=(0,s.useRef)(new n.default),M=(0,r.useSelector)(u.getFetchParams,c.default),N=(0,r.useSelector)(u.getQuotesFetchStartTime),R=(0,r.useSelector)(d.isHardwareWallet),A=(0,r.useSelector)(d.getHardwareWalletType),D=(0,r.useSelector)(m.getSmartTransactionsOptInStatusForMetrics),P=(0,r.useSelector)(m.getSmartTransactionsEnabled),O=(0,r.useSelector)(u.getCurrentSmartTransactionsEnabled),B={event:"Quotes Request Cancelled",category:g.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==M||null===(o=M.sourceTokenInfo)||void 0===o?void 0:o.symbol,token_from_amount:null==M?void 0:M.value,request_type:null==M?void 0:M.balanceError,token_to:null==M||null===(b=M.destinationTokenInfo)||void 0===b?void 0:b.symbol,slippage:null==M?void 0:M.slippage,custom_slippage:2!==(null==M?void 0:M.slippage),response_time:Date.now()-N,is_hardware_wallet:R,hardware_wallet_type:A,stx_enabled:P,current_stx_enabled:O,stx_user_opt_in:D},properties:{hd_entropy_index:w}},[L]=(0,s.useState)(()=>(0,l.shuffle)(Object.keys(e))),F=L.length,U=(0,s.useRef)(),j=U.current,[W,V]=(0,s.useState)(0),[$,H]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const n=setTimeout(()=>{W<F?V(W+1):W===F&&t&&a()},e);return function(){clearTimeout(n)}},[W,t,a,F]),(0,s.useEffect)(()=>{if(j){const{top:e,left:t,width:a,height:n}=j.getBoundingClientRect();H({x:t+a/2,y:e+n/2})}},[j]),s.default.createElement("div",{className:"loading-swaps-quotes"},s.default.createElement("div",{className:"loading-swaps-quotes__content"},s.default.createElement(s.default.Fragment,null,s.default.createElement(_.Text,{variant:y.TextVariant.bodyXs,"data-testid":"loading-swaps-quotes-quote-counter",color:y.TextColor.textAlternative,marginTop:1,display:y.Display.Flex,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full,marginBottom:1},s.default.createElement("span",null,v("swapFetchingQuoteNofN",[Math.min(W+1,F),F]))),s.default.createElement(_.Text,{variant:y.TextVariant.headingSm,"data-testid":"loading-swaps-quotes-quote-name-check",color:y.TextColor.textDefault,display:y.Display.Flex,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full,textTransform:y.TextTransform.Capitalize},s.default.createElement("span",null,v("swapFetchingQuotes"))),s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/F*W+"%"}}))),s.default.createElement("div",{className:"loading-swaps-quotes__animation"},s.default.createElement(T.default,null),s.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:U},(0,S.isFlask)()||(0,S.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"}):s.default.createElement(h.default,{animationEventEmitter:k.current,width:"90",height:"90",lookAtTarget:$})))),s.default.createElement(E.default,{submitText:v("back"),onSubmit:async()=>{C(B),await x((0,u.navigateBackToPrepareSwap)(I))},hideCancel:!0}))}C.propTypes={loadingComplete:o.default.bool.isRequired,onDone:o.default.func.isRequired,aggregatorMetadata:o.default.objectOf(o.default.shape({title:o.default.string,color:o.default.string,icon:o.default.string}))}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}]],[],{});