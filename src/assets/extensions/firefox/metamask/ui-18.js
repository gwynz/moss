LavaPack.loadBundle([[7995,{"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,classnames:4209,"prop-types":5196,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m,n.fakeSeedPhraseWords=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("classnames")),s=u(e("prop-types")),i=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function m(e){const t=(0,a.c)(61),{secretRecoveryPhrase:n,phraseRevealed:s,revealPhrase:u,confirmPhase:d,quizWords:p,setInputValue:m}=e,y=s===undefined||s;let v;t[0]!==p?(v=p===undefined?[]:p,t[0]=p,t[1]=v):v=t[1];const b=v,E=(0,l.useI18nContext)();let T;t[2]!==b?(T=b.map(x),t[2]=b,t[3]=T):T=t[3];const k=T;let S;t[4]!==k?(S=k.map(_),t[4]=k,t[5]=S):S=t[5];const[w,C]=(0,o.useState)(S),I=h,[O,N]=(0,o.useState)(I(w));let R;t[6]!==O||t[7]!==w?(R=(e,t)=>{const n=[...w],a=n.findIndex(e=>e.index===O);n[a]={index:O,word:e,actualIndexInSrp:t},C(n),N(I(n))},t[6]=O,t[7]=w,t[8]=R):R=t[8];const B=R;let A;t[9]!==w?(A=e=>{const t=[...w],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},C(t),N(t[n].index)},t[9]=w,t[10]=A):A=t[10];const M=A;let P,D,L,F,j;t[11]!==w||t[12]!==m?(P=()=>{null==m||m(w)},D=[w,m],t[11]=w,t[12]=m,t[13]=P,t[14]=D):(P=t[13],D=t[14]),(0,o.useEffect)(P,D),t[15]!==b?(L=()=>{if(b.length){const e=b.map(g);C(e),N(I(e))}},F=[b],t[15]=b,t[16]=L,t[17]=F):(L=t[16],F=t[17]),(0,o.useEffect)(L,F),t[18]!==y||t[19]!==n?(j=y?n:n.map(f),t[18]=y,t[19]=n,t[20]=j):j=t[20];const W=j;let U,z;t[21]!==n?(U=n.join(":"),t[21]=n,t[22]=U):U=t[22],t[23]!==b?(z=JSON.stringify(b),t[23]=b,t[24]=z):z=t[24];const $=!y;let V,G,q,K,H,J,X;if(t[25]!==$?(V=(0,r.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":$}),t[25]=$,t[26]=V):V=t[26],t[27]!==d||t[28]!==O||t[29]!==k||t[30]!==W||t[31]!==w||t[32]!==M){let e;t[34]!==d||t[35]!==O||t[36]!==k||t[37]!==w||t[38]!==M?(e=(e,t)=>{var n;const a=k.includes(t),r=a?(null===(n=w.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,s=t===O;return a||!d?o.default.createElement(i.Box,{key:t,as:a?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:a?c.BackgroundColor.backgroundDefault:c.BackgroundColor.backgroundMuted,borderColor:s?c.BorderColor.primaryDefault:c.BorderColor.borderMuted,borderWidth:s?2:1,borderRadius:c.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{a&&(""===r?N(t):M(r))}},o.default.createElement(i.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),o.default.createElement(i.Text,{variant:c.TextVariant.inherit},a?r:e)):o.default.createElement(i.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:r,inputProps:{textVariant:c.TextVariant.inherit},startAccessory:o.default.createElement(i.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:i.TextFieldType.Password,disabled:!0,readOnly:!0,backgroundColor:c.BackgroundColor.backgroundMuted})},t[34]=d,t[35]=O,t[36]=k,t[37]=w,t[38]=M,t[39]=e):e=t[39],G=W.map(e),t[27]=d,t[28]=O,t[29]=k,t[30]=W,t[31]=w,t[32]=M,t[33]=G}else G=t[33];return t[40]!==U||t[41]!==z||t[42]!==V||t[43]!==G?(q=o.default.createElement(i.Box,{key:"recovery-phrase-chips",display:c.Display.Grid,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,"data-testid":"recovery-phrase-chips","data-recovery-phrase":U,"data-quiz-words":z,className:V},G),t[40]=U,t[41]=z,t[42]=V,t[43]=G,t[44]=q):q=t[44],t[45]!==y||t[46]!==u||t[47]!==E?(K=!y&&o.default.createElement(i.Box,{key:"recovery-phrase__secret-blocker-container",width:c.BlockSize.Full,height:c.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},o.default.createElement(i.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderRadius:c.BorderRadius.SM,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),o.default.createElement(i.Box,{as:"button",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.transparent,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==u||u()},"data-testid":"recovery-phrase-reveal"},o.default.createElement(i.Icon,{name:i.IconName.EyeSlash,color:c.IconColor.iconDefault,size:i.IconSize.Md}),o.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault,fontWeight:c.FontWeight.Medium},E("tapToReveal")),o.default.createElement(i.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},E("tapToRevealNote")))),t[45]=y,t[46]=u,t[47]=E,t[48]=K):K=t[48],t[49]!==q||t[50]!==K?(H=o.default.createElement(i.Box,{borderRadius:c.BorderRadius.LG,display:c.Display.Grid,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},q,K),t[49]=q,t[50]=K,t[51]=H):H=t[51],t[52]!==B||t[53]!==w||t[54]!==b||t[55]!==M||t[56]!==n?(J=3===b.length&&o.default.createElement(i.Box,{display:c.Display.Flex,gap:2,width:c.BlockSize.Full},b.map(e=>{const t=e.index;return w.some(e=>e.actualIndexInSrp===t)?o.default.createElement(i.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${t}`,key:e.index,color:c.TextColor.textAlternative,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{M(e.word)},backgroundColor:c.BackgroundColor.backgroundMuted},n[t]):o.default.createElement(i.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${t}`,key:e.index,variant:i.ButtonVariant.Secondary,borderRadius:c.BorderRadius.LG,block:!0,borderColor:c.BorderColor.primaryDefault,color:c.TextColor.primaryDefault,onClick:()=>{B(e.word,t)}},n[t])})),t[52]=B,t[53]=w,t[54]=b,t[55]=M,t[56]=n,t[57]=J):J=t[57],t[58]!==H||t[59]!==J?(X=o.default.createElement(i.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},H,J),t[58]=H,t[59]=J,t[60]=X):X=t[60],X}function f(e,t){return p[t%p.length]}function g(e){return{index:e.index,word:"",actualIndexInSrp:-1}}function h(e){const t=e.reduce(y,[]);return t.length?Math.min(...t):-1}function y(e,t){return""===t.word&&e.push(t.index),e}function _(e){return{index:e,word:"",actualIndexInSrp:-1}}function x(e){return e.index}m.propTypes={secretRecoveryPhrase:s.default.array,phraseRevealed:s.default.bool,revealPhrase:s.default.func,confirmPhase:s.default.bool,quizWords:s.default.array,setInputValue:s.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.tsx"}],[7996,{"../../../../shared/constants/app":5876,"../../../../shared/modules/browser-runtime.utils":6012,"../../../components/component-library":6633,"../../../ducks/metamask/metamask":7137,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../hooks/useI18nContext":7301,"../../../store/actions":8241,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,s.useI18nContext)(),{search:f}=(0,o.useLocation)(),g=new URLSearchParams(f),h=g.get("isFromReminder"),y=g.get("isFromSettingsSecurity"),_=(0,r.useSelector)(d.getSeedPhraseBackedUp),x=new URLSearchParams;h&&x.set("isFromReminder",h);y&&x.set("isFromSettingsSecurity",y);const v=x.toString(),[b,E]=(0,a.useState)(""),[T,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(_){const e=(0,p.getBrowserName)()===m.PLATFORM_FIREFOX;t(e?u.ONBOARDING_COMPLETION_ROUTE:u.ONBOARDING_METAMETRICS,{replace:!0})}},[t,_]);const S=(0,a.useCallback)(async n=>{try{const a=await(0,c.getSeedPhrase)(n);e(a),t(`${u.ONBOARDING_REVIEW_SRP_ROUTE}${v?`?${v}`:""}`,{replace:!0})}catch(e){k(!0)}},[e,t,v]),w=(0,a.useCallback)(()=>{t(y?u.REVEAL_SRP_LIST_ROUTE:u.DEFAULT_ROUTE,{replace:!0})},[t,y]);return a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,height:l.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(i.Box,{width:l.BlockSize.Full},a.default.createElement(i.Box,{className:"recovery-phrase__header",display:l.Display.Grid,alignItems:l.AlignItems.center,gap:3,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(i.ButtonIcon,{iconName:i.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:i.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:w,ariaLabel:n("back")}),a.default.createElement(i.Text,{variant:l.TextVariant.headingSm,textAlign:l.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(i.ButtonIcon,{iconName:i.IconName.Close,color:l.IconColor.iconDefault,size:i.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:w,ariaLabel:n("close")})),a.default.createElement(i.Box,{width:l.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),S(b)}},a.default.createElement(i.FormTextField,{size:i.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{E(e.target.value),k(!1)},value:b,error:T,helpText:T?n("unlockPageIncorrectPassword"):null,type:i.TextFieldType.Password,labelProps:{fontWeight:l.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(i.Box,{width:l.BlockSize.Full},a.default.createElement(i.Button,{width:l.BlockSize.Full,variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>S(b)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),s=e("../../../hooks/useI18nContext"),i=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../store/actions"),u=e("../../../helpers/constants/routes"),d=e("../../../ducks/metamask/metamask"),p=e("../../../../shared/modules/browser-runtime.utils"),m=e("../../../../shared/constants/app");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[7997,{"../../../../shared/constants/app":5876,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/onboarding":5899,"../../../../shared/lib/trace":5999,"../../../../shared/modules/browser-runtime.utils":6012,"../../../components/app/srp-details-modal":6506,"../../../components/component-library":6633,"../../../contexts/metametrics":7110,"../../../ducks/metamask/metamask":7137,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,"../../../store/actions":8241,"./recovery-phrase-chips":7995,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=S;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),s=e("react-redux"),i=T(e("prop-types")),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),p=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics"),f=e("../../../selectors"),g=T(e("../../../components/app/srp-details-modal")),h=e("../../../store/actions"),y=e("../../../../shared/lib/trace"),_=e("../../../../shared/modules/browser-runtime.utils"),x=e("../../../../shared/constants/app"),v=e("../../../../shared/constants/onboarding"),b=e("../../../ducks/metamask/metamask"),E=T(e("./recovery-phrase-chips"));function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function S(e){const t=(0,a.c)(77),{secretRecoveryPhrase:n}=e,i=(0,r.useNavigate)(),T=(0,l.useI18nContext)(),{search:k}=(0,r.useLocation)(),S=(0,s.useDispatch)(),w=(0,s.useSelector)(f.getFirstTimeFlowType),C=(0,s.useSelector)(b.getSeedPhraseBackedUp),I=(0,o.useContext)(m.MetaMetricsContext),{bufferedEndTrace:O}=I,N=(0,s.useSelector)(f.getHDEntropyIndex),[R,B]=(0,o.useState)(!1),[A,M]=(0,o.useState)(!1);let P,D,L;if(t[0]!==k){const e=new URLSearchParams(k);P=e.get("isFromReminder"),D=e.get("isFromSettingsSecurity");const n=new URLSearchParams;P&&n.set("isFromReminder",P),D&&n.set("isFromSettingsSecurity",D),L=n.toString(),t[0]=k,t[1]=P,t[2]=D,t[3]=L}else P=t[1],D=t[2],L=t[3];const F=L;let j,W,U;t[4]!==C||t[5]!==i||t[6]!==F||t[7]!==n?(j=()=>{if(n){if(C){const e=(0,_.getBrowserName)()===x.PLATFORM_FIREFOX;i(e?c.ONBOARDING_COMPLETION_ROUTE:c.ONBOARDING_METAMETRICS,{replace:!0})}}else i({pathname:c.ONBOARDING_REVEAL_SRP_ROUTE,search:F?`?${F}`:""},{replace:!0})},W=[i,n,F,C],t[4]=C,t[5]=i,t[6]=F,t[7]=n,t[8]=j,t[9]=W):(j=t[8],W=t[9]),(0,o.useEffect)(j,W),t[10]!==N||t[11]!==i||t[12]!==F||t[13]!==I?(U=()=>{I({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:N}}),i({pathname:c.ONBOARDING_CONFIRM_SRP_ROUTE,search:F?`?${F}`:""})},t[10]=N,t[11]=i,t[12]=F,t[13]=I,t[14]=U):U=t[14];const z=U;let $;t[15]!==I?($=()=>{I({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),M(!0)},t[15]=I,t[16]=$):$=t[16];const V=$;let G;t[17]!==O||t[18]!==S||t[19]!==w||t[20]!==N||t[21]!==i||t[22]!==I?(G=async()=>{await S((0,h.setSeedPhraseBackedUp)(!1)),I({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:N}}),null==O||O({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==O||O({name:y.TraceName.OnboardingJourneyOverall}),(0,_.getBrowserName)()===x.PLATFORM_FIREFOX||w===v.FirstTimeFlowType.restore?i(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):i(c.ONBOARDING_METAMETRICS,{replace:!0})},t[17]=O,t[18]=S,t[19]=w,t[20]=N,t[21]=i,t[22]=I,t[23]=G):G=t[23];const q=G;let K;t[24]!==i||t[25]!==F?(K=()=>{i(`${c.ONBOARDING_REVEAL_SRP_ROUTE}${F?`?${F}`:""}`,{replace:!0})},t[24]=i,t[25]=F,t[26]=K):K=t[26];const H=K;let J;t[27]!==i?(J=()=>{i(c.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[27]=i,t[28]=J):J=t[28];const X=J;let Y,Q,Z,ee,te,ne,ae,oe,re,se;t[29]!==A?(Y=A&&o.default.createElement(g.default,{onClose:()=>M(!1)}),t[29]=A,t[30]=Y):Y=t[30],t[31]!==H||t[32]!==P||t[33]!==D||t[34]!==X||t[35]!==T?(Q=P&&D?o.default.createElement(u.Box,{className:"recovery-phrase__header",display:d.Display.Grid,alignItems:d.AlignItems.center,gap:3,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowLeft,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-back-button",onClick:H,ariaLabel:T("back")}),o.default.createElement(u.Text,{variant:d.TextVariant.headingSm,textAlign:d.TextAlign.Center},T("seedPhraseReviewTitleSettings")),o.default.createElement(u.ButtonIcon,{iconName:u.IconName.Close,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-close-button",onClick:X,ariaLabel:T("close")})):o.default.createElement(u.Box,{justifyContent:d.JustifyContent.flexStart,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.Text,{variant:d.TextVariant.headingLg,as:"h2"},T("seedPhraseReviewTitle"))),t[31]=H,t[32]=P,t[33]=D,t[34]=X,t[35]=T,t[36]=Q):Q=t[36],t[37]!==T?(Z=T("secretRecoveryPhrase"),t[37]=T,t[38]=Z):Z=t[38],t[39]!==V||t[40]!==Z?(ee=o.default.createElement(u.ButtonLink,{key:"seedPhraseReviewDetails",size:u.ButtonLinkSize.Inherit,onClick:V},Z),t[39]=V,t[40]=Z,t[41]=ee):ee=t[41],t[42]!==T||t[43]!==ee?(te=T("seedPhraseReviewDetails",[ee]),t[42]=T,t[43]=ee,t[44]=te):te=t[44],t[45]!==te?(ne=o.default.createElement(u.Box,null,o.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},te)),t[45]=te,t[46]=ne):ne=t[46],t[47]!==n?(ae=n.split(" "),t[47]=n,t[48]=ae):ae=t[48],t[49]!==N||t[50]!==I?(oe=()=>{I({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:N}}),B(!0)},t[49]=N,t[50]=I,t[51]=oe):oe=t[51],t[52]!==R||t[53]!==ae||t[54]!==oe?(re=o.default.createElement(E.default,{secretRecoveryPhrase:ae,phraseRevealed:R,revealPhrase:oe}),t[52]=R,t[53]=ae,t[54]=oe,t[55]=re):re=t[55],t[56]!==Q||t[57]!==ne||t[58]!==re||t[59]!==Y?(se=o.default.createElement(u.Box,null,Y,Q,ne,re),t[56]=Q,t[57]=ne,t[58]=re,t[59]=Y,t[60]=se):se=t[60];const ie=!R;let le,ce,ue,de,pe;return t[61]!==T?(le=T("continue"),t[61]=T,t[62]=le):le=t[62],t[63]!==z||t[64]!==ie||t[65]!==le?(ce=o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Primary,size:u.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:ie,onClick:z},le),t[63]=z,t[64]=ie,t[65]=le,t[66]=ce):ce=t[66],t[67]!==q||t[68]!==P||t[69]!==T?(ue=!P&&o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Link,size:u.ButtonSize.Lg,onClick:q,type:"button","data-testid":"recovery-phrase-remind-later"},T("secureWalletRemindLaterButton")),t[67]=q,t[68]=P,t[69]=T,t[70]=ue):ue=t[70],t[71]!==ce||t[72]!==ue?(de=o.default.createElement(u.Box,{width:d.BlockSize.Full,display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:2},ce,ue),t[71]=ce,t[72]=ue,t[73]=de):de=t[73],t[74]!==se||t[75]!==de?(pe=o.default.createElement(u.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,alignItems:d.AlignItems.center,height:d.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},se,de),t[74]=se,t[75]=de,t[76]=pe):pe=t[76],pe}S.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.tsx"}],[7998,{"../../../contexts/rive-wasm":7111,"@metamask/design-system-react":1846,"@rive-app/react-canvas":3286,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(31),{isLoader:n,skipTransition:l}=e,p=n!==undefined&&n,m=l!==undefined&&l,f=(0,i.useRiveWasmContext)(),{isWasmReady:g,error:h}=f,{buffer:y,error:_,loading:x}=(0,i.useRiveWasmFile)("./images/riv_animations/fox_appear.riv");let v,b,E;t[0]!==_||t[1]!==h?(v=()=>{h&&console.error("[Rive - FoxAppearAnimation] Failed to load WASM:",h),_&&console.error("[Rive - FoxAppearAnimation] Failed to load buffer:",_)},b=[h,_],t[0]=_,t[1]=h,t[2]=v,t[3]=b):(v=t[2],b=t[3]);(0,o.useEffect)(v,b),t[4]!==y?(E={buffer:y},t[4]=y,t[5]=E):E=t[5];const{riveFile:T,status:k}=(0,r.useRiveFile)(E),S=T??undefined,w=T?"FoxRaiseUp":undefined;let C,I;t[6]===Symbol.for("react.memo_cache_sentinel")?(C=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[6]=C):C=t[6];t[7]!==S||t[8]!==w?(I={riveFile:S,stateMachines:w,autoplay:!1,layout:C},t[7]=S,t[8]=w,t[9]=I):I=t[9];const{rive:O,RiveComponent:N}=(0,r.useRive)(I);let R,B;t[10]!==y||t[11]!==x||t[12]!==p||t[13]!==g||t[14]!==O||t[15]!==m?(R=()=>{if(O&&g&&!x&&y){const e=O.stateMachineInputs("FoxRaiseUp");if(e){if(m){const t=e.find(d);t&&t.fire()}else{const t=e.find(u);t&&t.fire()}if(p){const t=e.find(c);t&&t.fire()}O.play()}}},B=[O,p,g,m,x,y],t[10]=y,t[11]=x,t[12]=p,t[13]=g,t[14]=O,t[15]=m,t[16]=R,t[17]=B):(R=t[16],B=t[17]);if((0,o.useEffect)(R,B),!g||x||!y||"loading"===k||"failed"===k){const e=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let n,a;return t[18]!==p?(n=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[18]=p,t[19]=n):n=t[19],t[20]!==e||t[21]!==n?(a=o.default.createElement(s.Box,{className:e},n),t[20]=e,t[21]=n,t[22]=a):a=t[22],a}const A=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let M,P,D;t[23]!==N?(M=o.default.createElement(N,{className:"riv-animation__canvas"}),t[23]=N,t[24]=M):M=t[24];t[25]!==p?(P=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[25]=p,t[26]=P):P=t[26];t[27]!==A||t[28]!==M||t[29]!==P?(D=o.default.createElement(s.Box,{className:A},M,P),t[27]=A,t[28]=M,t[29]=P,t[30]=D):D=t[30];return D};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),s=e("@metamask/design-system-react"),i=e("../../../contexts/rive-wasm");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return"Loader2"===e.name}function u(e){return"Start"===e.name}function d(e){return"Wiggle"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/fox-appear-animation.tsx"}],[7999,{"../../../../shared/constants/metametrics":5892,"../../../components/component-library":6633,"../../../contexts/metametrics":7110,"../../../helpers/constants/common":7147,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,"./types":8002,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(38),{onDone:n,loginError:f}=e,g=(0,i.useI18nContext)(),h=(0,o.useContext)(d.MetaMetricsContext),y=(0,r.useSelector)(p.getSocialLoginType);let _;t[0]!==f||t[1]!==g?(_=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectTitle"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredTitle"):g("loginErrorGenericTitle"),t[0]=f,t[1]=g,t[2]=_):_=t[2];const x=_;let v;t[3]!==f||t[4]!==y||t[5]!==g||t[6]!==h?(v=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectDescription"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredDescription"):f===m.LOGIN_ERROR.RESET_WALLET&&y?g("loginErrorResetWalletDescription",[y]):g("loginErrorGenericDescription",[o.default.createElement(l.ButtonLink,{key:"loginErrorGenericDescription",size:l.ButtonLinkSize.Inherit,externalLink:!0,href:u.SUPPORT_LINK,onClick:()=>{h({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SupportLinkClicked,properties:{url:u.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[c.MetaMetricsContextProp.PageTitle]})}},g("loginErrorGenericSupport"))]),t[3]=f,t[4]=y,t[5]=g,t[6]=h,t[7]=v):v=t[7];const b=v;let E;t[8]!==f||t[9]!==g?(E=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectButton"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredButton"):g("loginErrorGenericButton"),t[8]=f,t[9]=g,t[10]=E):E=t[10];const T=E;let k,S,w,C,I,O,N,R,B,A,M,P;t[11]===Symbol.for("react.memo_cache_sentinel")?(k=o.default.createElement(l.ModalOverlay,null),t[11]=k):k=t[11];t[12]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,color:s.IconColor.warningDefault}),t[12]=S):S=t[12];t[13]!==x?(w=x(),t[13]=x,t[14]=w):w=t[14];t[15]!==w?(C=o.default.createElement(l.Box,{textAlign:s.TextAlign.Center},S,o.default.createElement(l.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4},w)),t[15]=w,t[16]=C):C=t[16];t[17]!==n||t[18]!==C?(I=o.default.createElement(l.ModalHeader,{onClose:n},C),t[17]=n,t[18]=C,t[19]=I):I=t[19];t[20]!==b?(O=b(),t[20]=b,t[21]=O):O=t[21];t[22]!==O?(N=o.default.createElement(l.Text,{variant:s.TextVariant.bodyMd},O),t[22]=O,t[23]=N):N=t[23];t[24]!==T?(R=T(),t[24]=T,t[25]=R):R=t[25];t[26]!==n||t[27]!==R?(B=o.default.createElement(l.Box,{marginTop:6},o.default.createElement(l.Button,{"data-testid":"login-error-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:n,block:!0},R)),t[26]=n,t[27]=R,t[28]=B):B=t[28];t[29]!==N||t[30]!==B?(A=o.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},N,B),t[29]=N,t[30]=B,t[31]=A):A=t[31];t[32]!==A||t[33]!==I?(M=o.default.createElement(l.ModalContent,{alignItems:s.AlignItems.center},I,A),t[32]=A,t[33]=I,t[34]=M):M=t[34];t[35]!==n||t[36]!==M?(P=o.default.createElement(l.Modal,{isOpen:!0,onClose:n,"data-testid":"login-error-modal"},k,M),t[35]=n,t[36]=M,t[37]=P):P=t[37];return P};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library"),c=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/common"),d=e("../../../contexts/metametrics"),p=e("../../../selectors"),m=e("./types");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[8e3,{"../../../../shared/constants/preferences":5901,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,"../../../hooks/useTheme":7331,"./types":8002,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function(e){const t=(0,a.c)(61),{loginOption:n,handleLogin:d}=e,p=(0,i.useI18nContext)(),f=(0,c.useTheme)(),g=f===l.ThemeType.light?"var(--welcome-bg-light)":"var(--color-accent02-dark)",h=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button";let y,_,x,v,b;t[0]!==p?(y=p("onboardingOptionIcon",["Google"]),t[0]=p,t[1]=y):y=t[1];t[2]!==y?(_=o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:y}),t[2]=y,t[3]=_):_=t[3];t[4]!==n||t[5]!==p?(x=n===u.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Google"]):p("onboardingContinueWith",["Google"]),t[4]=n,t[5]=p,t[6]=x):x=t[6];t[7]!==d?(v=()=>d(u.LOGIN_TYPE.GOOGLE),t[7]=d,t[8]=v):v=t[8];t[9]!==h||t[10]!==_||t[11]!==x||t[12]!==v?(b=o.default.createElement(m,{"data-testid":h,icon:_,label:x,marginBottom:4,onClick:v}),t[9]=h,t[10]=_,t[11]=x,t[12]=v,t[13]=b):b=t[13];const E=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button";let T,k,S,w,C,I,O;t[14]===Symbol.for("react.memo_cache_sentinel")?(T=o.default.createElement(r.Icon,{name:r.IconName.Apple,color:s.IconColor.infoInverse,size:r.IconSize.Lg}),t[14]=T):T=t[14];t[15]!==n||t[16]!==p?(k=n===u.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Apple"]):p("onboardingContinueWith",["Apple"]),t[15]=n,t[16]=p,t[17]=k):k=t[17];t[18]!==d?(S=()=>d(u.LOGIN_TYPE.APPLE),t[18]=d,t[19]=S):S=t[19];t[20]!==S||t[21]!==E||t[22]!==k?(w=o.default.createElement(m,{"data-testid":E,icon:T,label:k,marginBottom:2,onClick:S}),t[20]=S,t[21]=E,t[22]=k,t[23]=w):w=t[23];t[24]!==g?(C={position:"relative",zIndex:1,backgroundColor:g},t[24]=g,t[25]=C):C=t[25];t[26]!==p?(I=p("or"),t[26]=p,t[27]=I):I=t[27];t[28]!==C||t[29]!==I?(O=o.default.createElement(r.Box,{alignItems:s.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(r.Text,{width:s.BlockSize.Max,variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium,color:s.TextColor.textAlternative,paddingInline:2,marginInline:"auto",textTransform:s.TextTransform.Lowercase,as:"div",style:C},I)),t[28]=C,t[29]=I,t[30]=O):O=t[30];const N=f===l.ThemeType.dark?l.ThemeType.light:l.ThemeType.dark,R=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button";let B,A,M,P,D,L,F,j,W,U;t[31]!==d?(B=()=>d(u.LOGIN_TYPE.SRP),t[31]=d,t[32]=B):B=t[32];t[33]!==n||t[34]!==p?(A=n===u.LOGIN_OPTION.EXISTING?p("onboardingSrpImport"):p("onboardingSrpCreate"),t[33]=n,t[34]=p,t[35]=A):A=t[35];t[36]!==N||t[37]!==R||t[38]!==B||t[39]!==A?(M=o.default.createElement(r.Button,{"data-theme":N,"data-testid":R,variant:r.ButtonVariant.Primary,width:s.BlockSize.Full,size:r.ButtonSize.Lg,onClick:B},A),t[36]=N,t[37]=R,t[38]=B,t[39]=A,t[40]=M):M=t[40];t[41]!==p?(P=p("onboardingLoginFooterTermsOfUse"),t[41]=p,t[42]=P):P=t[42];t[43]!==P?(D=o.default.createElement(r.Text,{as:"a",href:"https://consensys.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",variant:s.TextVariant.bodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.primaryDefault,key:"onboardingLoginFooterTermsOfUse"},P),t[43]=P,t[44]=D):D=t[44];t[45]!==p?(L=p("onboardingLoginFooterPrivacyNotice"),t[45]=p,t[46]=L):L=t[46];t[47]!==L?(F=o.default.createElement(r.Text,{as:"a",variant:s.TextVariant.bodySm,fontWeight:s.FontWeight.Medium,href:"https://consensys.io/privacy-notice",target:"_blank",rel:"noopener noreferrer",color:s.TextColor.primaryDefault,key:"onboardingLoginFooterPrivacyNotice"},L),t[47]=L,t[48]=F):F=t[48];t[49]!==p||t[50]!==D||t[51]!==F?(j=p("onboardingLoginFooter",[D,F]),t[49]=p,t[50]=D,t[51]=F,t[52]=j):j=t[52];t[53]!==j?(W=o.default.createElement(r.Text,{variant:s.TextVariant.bodySm,fontWeight:s.FontWeight.Medium,textAlign:s.TextAlign.Center,paddingTop:8,color:s.TextColor.textDefault,width:s.BlockSize.Full,margin:"auto"},j),t[53]=j,t[54]=W):W=t[54];t[55]!==w||t[56]!==O||t[57]!==M||t[58]!==W||t[59]!==b?(U=o.default.createElement(r.Box,null,b,w,O,M,W),t[55]=w,t[56]=O,t[57]=M,t[58]=W,t[59]=b,t[60]=U):U=t[60];return U};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=e("../../../../shared/constants/preferences"),c=e("../../../hooks/useTheme"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}const m=n.SocialButton=o.default.forwardRef((e,t)=>{const n=(0,a.c)(13);let i,l,c,u,d,m;return n[0]!==e?(({icon:i,label:l,...c}=e),n[0]=e,n[1]=i,n[2]=l,n[3]=c):(i=n[1],l=n[2],c=n[3]),n[4]!==l?(u=o.default.createElement(r.Box,null,l),n[4]=l,n[5]=u):u=n[5],n[6]!==i||n[7]!==u?(d=o.default.createElement(r.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,width:s.BlockSize.Full,gap:2},i,u),n[6]=i,n[7]=u,n[8]=d):d=n[8],n[9]!==c||n[10]!==t||n[11]!==d?(m=o.default.createElement(r.Button,p({ref:t,className:"options-modal__plain-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,block:!0},c),d),n[9]=c,n[10]=t,n[11]=d,n[12]=m):m=n[12],m})}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[8001,{"../../../../shared/constants/preferences":5901,"../../../contexts/rive-wasm":7111,"../../../hooks/useTheme":7331,"@metamask/design-system-react":1846,"@rive-app/react-canvas":3286,classnames:4209,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(51),{setIsAnimationComplete:n,isAnimationComplete:a,skipTransition:p}=e,f=a!==undefined&&a,_=p!==undefined&&p,x=(0,c.useTheme)(),v=(0,d.useRiveWasmContext)(),{isWasmReady:b,error:E,setIsAnimationCompleted:T}=v,{buffer:k,error:S,loading:w}=(0,d.useRiveWasmFile)("./images/riv_animations/metamask_wordmark.riv"),C=(0,r.useRef)(null),I=(0,r.useRef)(x);let O;t[0]===Symbol.for("react.memo_cache_sentinel")?(O={},t[0]=O):O=t[0];const N=(0,r.useRef)(O);let R,B,A;t[1]!==S||t[2]!==n||t[3]!==E?(R=()=>{E&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load WASM:",E),n(!0)),S&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load buffer:",S),n(!0))},B=[E,S,n],t[1]=S,t[2]=n,t[3]=E,t[4]=R,t[5]=B):(R=t[4],B=t[5]);(0,r.useEffect)(R,B),t[6]!==k?(A={buffer:k},t[6]=k,t[7]=A):A=t[7];const{riveFile:M,status:P}=(0,s.useRiveFile)(A),D=M??undefined,L=M?"WordmarkBuildUp":undefined;let F,j,W;t[8]===Symbol.for("react.memo_cache_sentinel")?(F=new s.Layout({fit:s.Fit.Contain,alignment:s.Alignment.Center}),t[8]=F):F=t[8];t[9]!==f||t[10]!==n?(j=e=>{e.data&&Array.isArray(e.data)&&(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{f||n(!0)},1e3))},t[9]=f,t[10]=n,t[11]=j):j=t[11];t[12]!==j||t[13]!==D||t[14]!==L?(W={riveFile:D,stateMachines:L,autoplay:!1,layout:F,onStateChange:j},t[12]=j,t[13]=D,t[14]=L,t[15]=W):W=t[15];const{rive:U,RiveComponent:z}=(0,s.useRive)(W),[$,V]=(0,r.useState)(!1);let G;t[16]!==U?(G=()=>{if(!U)return!1;const e=U.stateMachineInputs(m);return!!e&&(N.current={dark:e.find(y),still:e.find(h),start:e.find(g)},!0)},t[16]=U,t[17]=G):G=t[17];const q=G;let K,H,J,X;t[18]!==k||t[19]!==w||t[20]!==q||t[21]!==$||t[22]!==b||t[23]!==U||t[24]!==T||t[25]!==_||t[26]!==x?(K=()=>{if(U&&b&&!w&&k&&!$&&q()){const{dark:e,still:t,start:n}=N.current;e&&(e.value=x===u.ThemeType.dark),I.current=x,_?null==t||t.fire():null==n||n.fire(),U.play(),V(!0)}return()=>{C.current&&(clearTimeout(C.current),T("MetamaskWordMarkAnimation",!0))}},H=[U,b,_,w,k,$,x,q,T],t[18]=k,t[19]=w,t[20]=q,t[21]=$,t[22]=b,t[23]=U,t[24]=T,t[25]=_,t[26]=x,t[27]=K,t[28]=H):(K=t[27],H=t[28]);(0,r.useEffect)(K,H),t[29]!==$||t[30]!==U||t[31]!==x?(J=()=>{if(!U||!$||I.current===x)return;const{dark:e,still:t}=N.current;e&&(e.value=x===u.ThemeType.dark,null==t||t.fire()),I.current=x},X=[U,x,$],t[29]=$,t[30]=U,t[31]=x,t[32]=J,t[33]=X):(J=t[32],X=t[33]);(0,r.useEffect)(J,X);const Y=!b||w||!k||"loading"===P,Q="failed"===P;let Z,ee;t[34]!==Q||t[35]!==f||t[36]!==n?(Z=()=>{Q&&!f&&n(!0)},ee=[Q,f,n],t[34]=Q,t[35]=f,t[36]=n,t[37]=Z,t[38]=ee):(Z=t[37],ee=t[38]);if((0,r.useEffect)(Z,ee),Y||Q){let e,n;return t[39]!==Q?(e=(0,l.default)("riv-animation__wordmark-container",{"riv-animation__wordmark-container--complete":Q}),t[39]=Q,t[40]=e):e=t[40],t[41]!==e?(n=r.default.createElement(i.Box,{className:e}),t[41]=e,t[42]=n):n=t[42],n}const te=f&&!_;let ne,ae,oe;t[43]!==_||t[44]!==te?(ne=(0,l.default)("riv-animation__wordmark-container",{"riv-animation__wordmark-container--complete":te,"riv-animation__wordmark-container--skip-transition":_}),t[43]=_,t[44]=te,t[45]=ne):ne=t[45];t[46]!==z?(ae=r.default.createElement(z,{className:"riv-animation__canvas"}),t[46]=z,t[47]=ae):ae=t[47];t[48]!==ne||t[49]!==ae?(oe=r.default.createElement(i.Box,{className:ne},ae),t[48]=ne,t[49]=ae,t[50]=oe):oe=t[50];return oe};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("@rive-app/react-canvas"),i=e("@metamask/design-system-react"),l=(a=e("classnames"))&&a.__esModule?a:{default:a},c=e("../../../hooks/useTheme"),u=e("../../../../shared/constants/preferences"),d=e("../../../contexts/rive-wasm");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m="WordmarkBuildUp",f={DARK:"Dark",STILL:"Still",START:"Start"};function g(e){return e.name===f.START}function h(e){return e.name===f.STILL}function y(e){return e.name===f.DARK}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/metamask-wordmark-animation.tsx"}],[8002,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired",RESET_WALLET:"reset_wallet"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[8003,{"../../../../shared/constants/preferences":5901,"../../../../shared/modules/environment":6019,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../hooks/useI18nContext":7301,"../../../hooks/useTheme":7331,"../../../store/actions":8241,"./login-options":8e3,"./types":8002,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(30),{onLogin:n,isAnimationComplete:a,skipTransition:_}=e,x=_!==undefined&&_,v=(0,u.useI18nContext)(),[b,E]=(0,r.useState)(!1),[T,k]=(0,r.useState)(null),[S,w]=(0,r.useState)(!1);let C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),t[0]=C):C=t[0];const I=C,O=(0,s.useDispatch)(),N=(0,r.useRef)(null),R=(0,f.useTheme)(),B=(0,i.useNavigate)(),[A]=(0,i.useSearchParams)();let M;t[1]!==A?(M=A.get("login"),t[1]=A,t[2]=M):M=t[2];const P=M;let D,L,F,j,W;t[3]===Symbol.for("react.memo_cache_sentinel")?(D=()=>()=>{N.current&&clearTimeout(N.current)},L=[],t[3]=D,t[4]=L):(D=t[3],L=t[4]);(0,r.useEffect)(D,L),t[5]!==P?(F=()=>{P?(E(!0),k(P)):(E(!1),k(null))},j=[P],t[5]=P,t[6]=F,t[7]=j):(F=t[6],j=t[7]);(0,r.useEffect)(F,j),t[8]!==O||t[9]!==T||t[10]!==n?(W=async e=>{T&&(E(!1),await O((0,m.setTermsOfUseLastAgreed)((new Date).getTime())),await n(e,T))},t[8]=O,t[9]=T,t[10]=n,t[11]=W):W=t[11];const U=W;let z;t[12]!==B||t[13]!==n?(z=async(e,t)=>{I?(w(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{E(!0),k(e),w(!1),N.current=null,B(`${g.ONBOARDING_WELCOME_ROUTE}?login=${e}`)},100)):(E(!0),k(e),t&&await n(t,e))},t[12]=B,t[13]=n,t[14]=z):z=t[14];const $=z,V=a?1:0,G=a?"translateY(0) scale(1)":"translateY(80px) scale(0.8)",q=x?"none":"opacity 0.6s ease-out, transform 0.6s ease-out";let K,H,J;t[15]!==V||t[16]!==G||t[17]!==q?(K={opacity:V,transform:G,transition:q},t[15]=V,t[16]=G,t[17]=q,t[18]=K):K=t[18];t[19]!==$||t[20]!==U||t[21]!==S||t[22]!==T||t[23]!==b||t[24]!==v||t[25]!==R?(H=I&&b&&T?r.default.createElement(l.Box,{className:"welcome-login__options welcome-login__options--fade-in"},r.default.createElement(h.default,{loginOption:T,handleLogin:U})):r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full,gap:4,className:""+(S?"welcome-login__cta--fade-out":"")},r.default.createElement(l.Button,{"data-testid":"onboarding-create-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.NEW,y.LOGIN_TYPE.SRP)},v("onboardingCreateWallet")),r.default.createElement(l.Button,{"data-theme":R===p.ThemeType.dark?p.ThemeType.light:p.ThemeType.dark,"data-testid":"onboarding-import-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.EXISTING,y.LOGIN_TYPE.SRP)},v(I?"onboardingImportWallet":"onboardingSrpImport"))),t[19]=$,t[20]=U,t[21]=S,t[22]=T,t[23]=b,t[24]=v,t[25]=R,t[26]=H):H=t[26];t[27]!==K||t[28]!==H?(J=r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Box,{"data-testid":"get-started",style:K,className:"welcome-login"},H)),t[27]=K,t[28]=H,t[29]=J):J=t[29];return J};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("react-router-dom"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),m=e("../../../store/actions"),f=e("../../../hooks/useTheme"),g=e("../../../helpers/constants/routes"),h=(a=e("./login-options"))&&a.__esModule?a:{default:a},y=e("./types");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[8004,{"../../../../shared/constants/app":5876,"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/onboarding":5899,"../../../../shared/lib/trace":5999,"../../../../shared/modules/browser-runtime.utils":6012,"../../../../shared/modules/environment":6019,"../../../../shared/modules/error":6020,"../../../components/component-library":6633,"../../../contexts/metametrics":7110,"../../../contexts/rive-wasm":7111,"../../../ducks/metamask/metamask":7137,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../selectors":8207,"../../../store/actions":8241,"./fox-appear-animation":7998,"./login-error-modal":7999,"./metamask-wordmark-animation":8001,"./types":8002,"./welcome-login":8003,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,o.useSelector)(l.getCurrentKeyring),k=(0,m.getIsSeedlessOnboardingFeatureEnabled)(),S=(0,o.useSelector)(l.getFirstTimeFlowType),w=(0,o.useSelector)(v.getIsWalletResetInProgress),O=(0,o.useSelector)(l.getIsSocialLoginFlow),N=(0,o.useSelector)(l.getIsParticipateInMetaMetricsSet),[R,B]=(0,a.useState)(!1),[A,M]=(0,a.useState)(!1),[P,D]=(0,a.useState)(null),{animationCompleted:L}=(0,x.useRiveWasmContext)(),F=Boolean(null==L?void 0:L.MetamaskWordMarkAnimation),[j,W]=(0,a.useState)(F),U=(0,f.getBrowserName)()===g.PLATFORM_FIREFOX,z=(0,a.useCallback)(async()=>{if(!O)return!0;return await e((0,d.getIsSeedlessOnboardingUserAuthenticated)())},[e,O]);(0,a.useEffect)(()=>{let e=!0;return!n||R||w?O&&(async()=>{const n=await z();e&&n&&(S===c.FirstTimeFlowType.socialCreate?t(i.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0}):t(i.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))})():S===c.FirstTimeFlowType.import||S===c.FirstTimeFlowType.restore?t(N?i.ONBOARDING_COMPLETION_ROUTE:i.ONBOARDING_METAMETRICS,{replace:!0}):S===c.FirstTimeFlowType.socialCreate?t(i.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):t(i.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0}),()=>{e=!1}},[n,t,S,R,N,z,U,w,O]);const $=(0,a.useContext)(u.MetaMetricsContext),{bufferedTrace:V,bufferedEndTrace:G,onboardingParentContext:q}=$,K=(0,a.useCallback)(async()=>{M(!0),B(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.create)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:p.MetaMetricsEventAccountType.Default}}),null==V||V({name:y.TraceName.OnboardingNewSrpCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),t(i.ONBOARDING_CREATE_PASSWORD_ROUTE)},[e,t,$,q,V]),H=(0,a.useCallback)(async()=>{M(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.import)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:p.MetaMetricsEventAccountType.Imported}}),null==V||V({name:y.TraceName.OnboardingExistingSrpImport,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),t(i.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[e,t,$,q,V]),J=(0,a.useCallback)(async t=>{if(k){null==V||V({name:y.TraceName.OnboardingSocialLoginAttempt,op:y.TraceOperation.OnboardingUserJourney,tags:{provider:t},parentContext:null==q?void 0:q.current});const n=await e((0,d.startOAuthLogin)(t,V,G,$));return null==G||G({name:y.TraceName.OnboardingSocialLoginAttempt}),n}return!0},[e,k,q,V,G,$]),X=(0,a.useCallback)(e=>{const t=e instanceof Error?e.message:"Unknown error";(0,h.isUserCancelledLoginError)(e)?D(null):(null==G||G({name:y.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}}),t!==h.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR?t!==h.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR&&t!==h.OAuthErrorMessages.NO_AUTH_CODE_FOUND_ERROR?D(E.LOGIN_ERROR.GENERIC):D(E.LOGIN_ERROR.UNABLE_TO_CONNECT):D(E.LOGIN_ERROR.SESSION_EXPIRED))},[G]),Y=(0,a.useCallback)(async n=>{M(!0),B(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}});try{const a=await J(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}}),a?(null==V||V({name:y.TraceName.OnboardingNewSocialCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(i.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})):(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(i.ONBOARDING_ACCOUNT_EXIST,{replace:!0}))}catch(e){X(e)}finally{M(!1)}},[e,J,$,t,q,X,V]),Q=(0,a.useCallback)(async n=>{M(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}});try{const a=await J(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}}),a?(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(i.ONBOARDING_ACCOUNT_NOT_FOUND)):(null==V||V({name:y.TraceName.OnboardingExistingSocialLogin,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(i.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))}catch(e){X(e)}finally{M(!1)}},[J,$,t,q,X,V,e]),Z=(0,a.useCallback)(e=>{(0,h.isUserCancelledLoginError)(e)?D(null):D(E.LOGIN_ERROR.GENERIC)},[]),ee=(0,a.useCallback)(async(t,n)=>{try{if(U||e((0,d.setParticipateInMetaMetrics)(null)),t===E.LOGIN_TYPE.SRP)return void(n===E.LOGIN_OPTION.NEW?await K():n===E.LOGIN_OPTION.EXISTING&&await H());if(!k)return;U||e((0,d.setParticipateInMetaMetrics)(!0)),n===E.LOGIN_OPTION.NEW?await Y(t):n===E.LOGIN_OPTION.EXISTING&&await Q(t),U||e((0,d.setPna25Acknowledged)(!0,!0))}catch(e){Z(e)}},[k,e,K,H,Y,U,Q,Z]);return a.default.createElement(s.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,justifyContent:_.JustifyContent.center,alignItems:_.AlignItems.center,height:_.BlockSize.Full,width:_.BlockSize.Full,className:"welcome-container"},!A&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(s.Box,null)},a.default.createElement(C,{setIsAnimationComplete:W,isAnimationComplete:j,skipTransition:F})),!A&&a.default.createElement(a.default.Fragment,null,a.default.createElement(b.default,{onLogin:ee,isAnimationComplete:j,skipTransition:F}),j&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(s.Box,null)},a.default.createElement(I,{skipTransition:F})),null!==P&&a.default.createElement(T.default,{onDone:()=>D(null),loginError:P})),A&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(s.Box,null)},a.default.createElement(I,{isLoader:!0})))};var a=w(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/routes"),l=e("../../../selectors"),c=e("../../../../shared/constants/onboarding"),u=e("../../../contexts/metametrics"),d=e("../../../store/actions"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/environment"),f=e("../../../../shared/modules/browser-runtime.utils"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/modules/error"),y=e("../../../../shared/lib/trace"),_=e("../../../helpers/constants/design-system"),x=e("../../../contexts/rive-wasm"),v=e("../../../ducks/metamask/metamask"),b=k(e("./welcome-login")),E=e("./types"),T=k(e("./login-error-modal"));function k(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const C=(0,a.lazy)(()=>Promise.resolve().then(()=>w(e("./metamask-wordmark-animation")))),I=(0,a.lazy)(()=>Promise.resolve().then(()=>w(e("./fox-appear-animation"))))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.tsx"}],[8005,{"../../../components/app/permissions-connect-footer":6312,"../../../components/component-library":6633,"../../../components/ui/account-list":6975,"../../../components/ui/page-container":7055,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,"@metamask/keyring-api":2300,"@metamask/permission-controller":2528,"prop-types":5196,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=g(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("@metamask/permission-controller"),i=e("@metamask/keyring-api"),l=e("../../../hooks/useI18nContext"),c=g(e("../../../components/app/permissions-connect-footer")),u=g(e("../../../components/ui/account-list")),d=e("../../../components/ui/page-container"),p=e("../../../helpers/constants/design-system"),m=e("../../../components/component-library");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}const h=e=>{const t=(0,a.c)(63),{selectedAccountAddresses:n,addressLastConnectedMap:o,accounts:i,selectAccounts:f,selectNewAccountViaModal:g,cancelPermissionsRequest:h,permissionsRequestId:x,targetSubjectMetadata:v,nativeCurrency:b}=e;let E;t[0]!==o?(E=o===undefined?{}:o,t[0]=o,t[1]=E):E=t[1];const T=E,[k,S]=(0,r.useState)(n);let w;t[2]!==i?(w=i.filter(y),t[2]=i,t[3]=w):w=t[3];const C=w,I=(0,l.useI18nContext)();let O;t[4]!==k?(O=e=>{const t=new Set(k);t.has(e)?t.delete(e):t.add(e),S(t)},t[4]=k,t[5]=O):O=t[5];const N=O;let R;t[6]!==C?(R=()=>{const e=new Set(C.map(_));S(e)},t[6]=C,t[7]=R):R=t[7];const B=R;let A;t[8]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{S(new Set)},t[8]=A):A=t[8];const M=A;let P;t[9]!==C.length||t[10]!==k.size?(P=()=>C.length===k.size,t[9]=C.length,t[10]=k.size,t[11]=P):P=t[11];const D=P;let L;t[12]!==n?(L=Object.keys(n),t[12]=n,t[13]=L):L=t[13];const F=L.length>C.length;let j;if(t[14]!==i.length||t[15]!==I||t[16]!==(null==v?void 0:v.subjectType)){j=(()=>0===i.length?I("connectAccountOrCreate"):(null==v?void 0:v.subjectType)===s.SubjectType.Snap?I("selectAccountsForSnap"):I("selectAccounts"))(),t[14]=i.length,t[15]=I,t[16]=null==v?void 0:v.subjectType,t[17]=j}else j=t[17];const W=j;let U,z,$,V,G,q,K,H,J,X,Y;t[18]!==I?(U=I("connectWithMetaMask"),t[18]=I,t[19]=U):U=t[19],t[20]!==U?(z=r.default.createElement(m.Text,{variant:p.TextVariant.headingMd},U),t[20]=U,t[21]=z):z=t[21],t[22]!==W?($=r.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},W),t[22]=W,t[23]=$):$=t[23],t[24]!==z||t[25]!==$?(V=r.default.createElement(m.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,paddingTop:4,paddingBottom:4},z,$),t[24]=z,t[25]=$,t[26]=V):V=t[26],t[27]!==i||t[28]!==T||t[29]!==D||t[30]!==N||t[31]!==b||t[32]!==B||t[33]!==g||t[34]!==k?(G=r.default.createElement(u.default,{accounts:i,selectNewAccountViaModal:g,addressLastConnectedMap:T,nativeCurrency:b,selectedAccounts:k,allAreSelected:D,deselectAll:M,selectAll:B,handleAccountClick:N}),t[27]=i,t[28]=T,t[29]=D,t[30]=N,t[31]=b,t[32]=B,t[33]=g,t[34]=k,t[35]=G):G=t[35],t[36]!==V||t[37]!==G?(q=r.default.createElement(m.Box,{className:"permissions-connect-choose-account__content",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,backgroundColor:p.BackgroundColor.backgroundAlternative,width:p.BlockSize.Full,height:p.BlockSize.Full,paddingLeft:6,paddingRight:6},V,G),t[36]=V,t[37]=G,t[38]=q):q=t[38],t[39]!==(null==v?void 0:v.subjectType)?(K=(null==v?void 0:v.subjectType)!==s.SubjectType.Snap&&r.default.createElement(c.default,null),t[39]=null==v?void 0:v.subjectType,t[40]=K):K=t[40],t[41]!==h||t[42]!==x?(H=()=>h(x),t[41]=h,t[42]=x,t[43]=H):H=t[43],t[44]!==I?(J=I("cancel"),t[44]=I,t[45]=J):J=t[45],t[46]!==f||t[47]!==k?(X=()=>f(k),t[46]=f,t[47]=k,t[48]=X):X=t[48],t[49]!==I?(Y=I("next"),t[49]=I,t[50]=Y):Y=t[50];const Q=F||0===k.size;let Z,ee,te;return t[51]!==H||t[52]!==J||t[53]!==X||t[54]!==Y||t[55]!==Q?(Z=r.default.createElement(d.PageContainerFooter,{cancelButtonType:"default",onCancel:H,cancelText:J,onSubmit:X,submitText:Y,disabled:Q}),t[51]=H,t[52]=J,t[53]=X,t[54]=Y,t[55]=Q,t[56]=Z):Z=t[56],t[57]!==K||t[58]!==Z?(ee=r.default.createElement(m.Box,{backgroundColor:p.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},K,Z),t[57]=K,t[58]=Z,t[59]=ee):ee=t[59],t[60]!==q||t[61]!==ee?(te=r.default.createElement(r.default.Fragment,null,q,ee),t[60]=q,t[61]=ee,t[62]=te):te=t[62],te};h.propTypes={accounts:o.default.arrayOf(o.default.shape({address:o.default.string,addressLabel:o.default.string,lastConnectedDate:o.default.string,balance:o.default.string})).isRequired,selectAccounts:o.default.func.isRequired,selectNewAccountViaModal:o.default.func.isRequired,nativeCurrency:o.default.string.isRequired,addressLastConnectedMap:o.default.object,cancelPermissionsRequest:o.default.func.isRequired,permissionsRequestId:o.default.string.isRequired,selectedAccountAddresses:o.default.object.isRequired,targetSubjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,subjectType:o.default.string})};n.default=h;function y(e){return(0,i.isEvmAccountType)(e.type)}function _(e){return e.address}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[8006,{"./choose-account":8005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[8007,{"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/network":5896,"../../../../shared/lib/caip25-caveat-merger":5927,"../../../../shared/modules/selectors/networks":6034,"../../../components/component-library":6633,"../../../components/multichain":6854,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":6823,"../../../components/multichain/pages/page":6953,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":6960,"../../../components/ui/tabs":7080,"../../../contexts/metametrics":7110,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/util":7207,"../../../hooks/useI18nContext":7301,"../../../hooks/useOriginTrustSignals":7320,"../../../hooks/useTrustSignals":7346,"../../../selectors":8207,"../../../selectors/multichain":8216,"./utils":8008,"@metamask/chain-agnostic-permission":1459,"@metamask/utils":3207,lodash:4940,react:5358,"react-redux":5323,"react-tippy":5340},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),s=e("@metamask/utils"),i=e("lodash"),l=e("react-tippy"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/modules/selectors/networks"),p=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),f=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),g=e("../../../helpers/constants/design-system"),h=e("../../../../shared/constants/network"),y=e("../../../selectors/multichain"),_=e("../../../components/ui/tabs"),x=e("../../../components/multichain"),v=e("../../../helpers/utils/util"),b=e("../../../../shared/constants/metametrics"),E=e("../../../contexts/metametrics"),T=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),k=e("../../../../shared/lib/caip25-caveat-merger"),S=e("../../../hooks/useOriginTrustSignals"),w=e("../../../hooks/useTrustSignals"),C=e("./utils");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:I,targetSubjectMetadata:O})=>{const N=(0,c.useI18nContext)(),R=(0,a.useContext)(E.MetaMetricsContext),[B,A]=(0,a.useState)("accounts"),M=(0,o.useSelector)(t=>{var n;return(0,u.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),P=(0,a.useMemo)(()=>M?(0,C.getCaip25CaveatValueFromPermissions)(M):null,[M]),D=(0,C.getCaip25CaveatValueFromPermissions)(e.permissions),L=P?(0,k.mergeCaip25CaveatValues)(D,P):D,F=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(L),j=(0,r.getAllScopesFromCaip25CaveatValue)(L),{promptToCreateSolanaAccount:W,isEip1193Request:U}=e.metadata??{},z=(0,o.useSelector)(d.getAllNetworkConfigurationsByCaipChainId),[$,V]=(0,a.useMemo)(()=>Object.entries(z).reduce(([e,t],[n,a])=>{const o=n;return(h.CAIP_FORMATTED_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[z]),G=(0,a.useMemo)(()=>[...$,...V].map(({caipChainId:e})=>e),[$,V]),[q,K]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(!1),Q=(0,o.useSelector)(y.getMultichainNetwork).chainId,Z=V.find(e=>e.caipChainId===Q);let ee=Z?[...$,Z].map(({caipChainId:e})=>e):$.map(({caipChainId:e})=>e),te=j.filter(e=>G.includes(e));if(U){ee=ee.filter(e=>{const{namespace:t}=(0,s.parseCaipChainId)(e);return t===s.KnownCaipNamespace.Eip155});!te.some(e=>{const{namespace:t}=(0,s.parseCaipChainId)(e);return t===s.KnownCaipNamespace.Eip155})&&P&&(te=Array.from(new Set([...ee,...te])))}const ne=te.length>0?te:ee,[ae,oe]=(0,a.useState)(ne),re=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&K(!0),oe(e)},[K,oe]),se=(0,o.useSelector)(u.getUpdatedAndSortedAccountsWithCaipAccountId),ie=(0,r.getAllNamespacesFromCaip25CaveatValue)(L).filter(e=>e!==s.KnownCaipNamespace.Wallet),le=se.filter(e=>{const{chain:{namespace:t}}=(0,s.parseCaipAccountId)(e.caipAccountId);return ie.includes(t)}),ce=le.filter(e=>(0,r.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,F)),ue=(0,C.getDefaultAccounts)(ie,ce,le).map(({caipAccountId:e})=>e),[de,pe]=(0,a.useState)(ue),me=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&K(!0);let n=[...ae];e.forEach(e=>{const{chain:{namespace:t}}=(0,s.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,s.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=G.filter(e=>{try{const{namespace:n}=(0,s.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),re(n,{isUserModified:t}),pe(e)},[K,pe,ae,re,G]);(0,a.useEffect)(()=>{q||(0,i.isEqual)(ue,de)||me(ue,{isUserModified:!1})},[q,me,de,JSON.stringify(ue)]);const fe=se.filter(({caipAccountId:e})=>de.some(t=>t===e)),ge=(0,a.useMemo)(()=>se.some(({caipAccountId:e})=>{const{chain:t}=(0,s.parseCaipAccountId)(e);return t.namespace===s.KnownCaipNamespace.Solana}),[se]),he=(0,a.useCallback)(()=>{J(!0),R({category:b.MetaMetricsEventCategory.Navigation,event:b.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[R]),ye=(0,a.useCallback)(()=>{Y(!0)},[]),_e=(0,a.useCallback)(()=>{Y(!1)},[]),xe=(0,a.useCallback)(()=>{J(!1)},[]),ve=(0,a.useCallback)(()=>{n(t)},[t,n]),be=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,r.generateCaip25Caveat)(L,de,ae)}};I(t)},[e,L,de,ae,I]),Ee=(0,v.transformOriginToTitle)(O.origin),Te=(0,S.useOriginTrustSignals)(O.origin);return a.default.createElement(m.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:g.BackgroundColor.backgroundDefault},a.default.createElement(m.Header,{paddingTop:8,paddingBottom:4},a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center,marginBottom:8},O.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Xl,src:O.iconUrl,name:Ee})),a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Lg,src:O.iconUrl,name:Ee,style:{zIndex:1,background:"transparent"}})):a.default.createElement(p.AvatarBase,{size:p.AvatarBaseSize.Lg,display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,color:g.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:g.BackgroundColor.backgroundMuted},(0,v.isIpAddress)(Ee)?"?":(0,v.getAvatarFallbackLetter)(Ee))),a.default.createElement(p.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,gap:2,marginBottom:1},a.default.createElement(p.Text,{variant:g.TextVariant.headingLg,style:{wordBreak:"break-word",whiteSpace:"normal"}},Ee),Te.state===w.TrustSignalDisplayState.Verified&&a.default.createElement(l.Tooltip,{title:N("alertReasonOriginTrustSignalVerified"),position:"bottom",style:{display:"flex"}},a.default.createElement(p.Icon,{name:p.IconName.VerifiedFilled,color:g.IconColor.infoDefault,size:p.IconSize.Sm}))),a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.Text,{color:g.TextColor.textAlternative},N("connectionDescription")))),a.default.createElement(m.Content,{paddingLeft:4,paddingRight:4,backgroundColor:g.BackgroundColor.transparent},a.default.createElement(_.Tabs,{activeTab:B,onTabClick:A},a.default.createElement(_.Tab,{name:N("accounts"),tabKey:"accounts","data-testid":"accounts-tab",className:"flex-1"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(p.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,borderRadius:g.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},fe.map(e=>a.default.createElement(x.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===fe.length&&!W&&a.default.createElement(p.Box,{className:"connect-page__accounts-empty",display:g.Display.Flex,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,borderRadius:g.BorderRadius.XL},a.default.createElement(p.ButtonLink,{onClick:he,"data-testid":"edit"},N("selectAccountToConnect")))),fe.length>0&&a.default.createElement(p.Box,{marginTop:4,display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.ButtonLink,{onClick:he,"data-testid":"edit"},N("editAccounts"))),W&&!ge&&a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,marginTop:4,gap:2},a.default.createElement(p.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative,textAlign:g.TextAlign.Center},0===fe.length?N("solanaAccountRequired"):N("solanaAccountRequested")),a.default.createElement(p.Button,{variant:p.ButtonVariant.Secondary,width:g.BlockSize.Full,size:p.ButtonSize.Lg,onClick:ye,"data-testid":"create-solana-account"},N("createSolanaAccount"))),X&&a.default.createElement(T.CreateSolanaAccountModal,{onClose:_e}),H&&a.default.createElement(x.EditAccountsModal,{accounts:se,defaultSelectedAccountAddresses:de,onClose:xe,onSubmit:me}))),a.default.createElement(_.Tab,{name:N("permissions"),tabKey:"permissions","data-testid":"permissions-tab",disabled:W&&!ge&&0===fe.length,className:"flex-1"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(f.SiteCell,{nonTestNetworks:$,testNetworks:V,accounts:se,onSelectAccountAddresses:me,onSelectChainIds:re,selectedAccountAddresses:de,selectedChainIds:ae,isConnectFlow:!0}))))),a.default.createElement(m.Footer,null,a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Box,{display:g.Display.Flex,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Button,{block:!0,variant:p.ButtonVariant.Secondary,size:p.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:ve},N("cancel")),a.default.createElement(p.Button,{block:!0,"data-testid":"confirm-btn",size:p.ButtonSize.Lg,onClick:be,disabled:0===de.length||0===ae.length},N("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[8008,{"../../../helpers/utils/util":7207,"@metamask/chain-agnostic-permission":1459,"@metamask/utils":3207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),r=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:r}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],s=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),s.add(n))});const i=e.filter(e=>!s.has(e));if(i.length>0){const e=(0,r.sortSelectedInternalAccounts)(n);for(const t of i){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),r=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[8009,{"./permissions-connect":8010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[8010,{"../../../app/scripts/lib/multichain/address":291,"../../../shared/constants/time":5913,"../../../shared/lib/multichain/scope-utils":5987,"../../components/app/permission-page-container":6306,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":6385,"../../components/component-library":6633,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper":6732,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6739,"../../ducks/metamask/metamask":7137,"../../helpers/constants/routes":7154,"../../helpers/utils/util":7207,"../../hooks/useAccountGroupsForPermissions":7276,"../../hooks/useI18nContext":7301,"../../selectors":8207,"../../selectors/multichain-accounts/account-tree":8211,"../../store/actions":8241,"../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page":7938,"../routes/utils":8048,"./choose-account":8006,"./connect-page/connect-page":8007,"./connect-page/utils":8008,"./redirect":8011,"./snaps/snap-install":8013,"./snaps/snap-result":8015,"./snaps/snap-update":8017,"./snaps/snaps-connect":8019,"@metamask/chain-agnostic-permission":1459,"@metamask/keyring-api":2300,"@metamask/permission-controller":2528,"@metamask/rpc-errors":2692,"@metamask/snaps-rpc-methods":2821,"@metamask/snaps-utils":2994,"@metamask/utils":3207,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("@metamask/rpc-errors"),i=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/snaps-rpc-methods"),u=e("@metamask/keyring-api"),d=e("@metamask/chain-agnostic-permission"),p=e("@metamask/utils"),m=e("../routes/utils"),f=e("../../../app/scripts/lib/multichain/address"),g=e("../../../shared/constants/time"),h=e("../../helpers/constants/routes"),y=e("../../selectors"),_=e("../../ducks/metamask/metamask"),x=e("../../helpers/utils/util"),v=e("../../store/actions"),b=e("../../selectors/multichain-accounts/account-tree"),E=j(e("../../components/app/permission-page-container")),T=e("../../components/component-library"),k=j(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),S=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),w=e("../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page"),C=e("../../hooks/useAccountGroupsForPermissions"),I=e("../../../shared/lib/multichain/scope-utils"),O=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper"),N=e("../../hooks/useI18nContext"),R=j(e("./choose-account")),B=j(e("./redirect")),A=j(e("./snaps/snaps-connect")),M=j(e("./snaps/snap-install")),P=j(e("./snaps/snap-update")),D=j(e("./snaps/snap-result")),L=e("./connect-page/connect-page"),F=e("./connect-page/utils");function j(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}const U=1200*g.MILLISECOND;function z(e){const t=(0,F.getCaip25CaveatValueFromPermissions)(e);return(0,d.getPermittedEthChainIds)(t)}n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,r.useLocation)(),g=(0,r.useParams)(),j=(0,N.useI18nContext)(),W=g.id,{pathname:$}=n;let V=(0,o.useSelector)(y.getPermissionsRequests);V=[...V,...(0,o.useSelector)(y.getSnapInstallOrUpdateRequests)];const{address:G}=(0,o.useSelector)(y.getSelectedInternalAccount),q=V.find(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.id)===W}),{metadata:K={},diff:H={}}=q||{},{origin:J}=K||{},X=(0,o.useSelector)(_.getNativeCurrency),Y=Boolean(null==H?void 0:H.permissionDiffMap),Q=null==q?void 0:q.permissions,Z=Boolean((null==Q?void 0:Q[d.Caip25EndowmentPermissionName])&&!Y),ee=(0,o.useSelector)(e=>(0,y.getTargetSubjectMetadata)(e,J)),te=(0,a.useMemo)(()=>ee??{name:(0,x.getURLHostName)(J)||J,origin:J,iconUrl:null,extensionId:null,subjectType:i.SubjectType.Unknown},[ee,J]);let ne=(0,o.useSelector)(e=>(0,y.getRequestType)(e,W));q&&1===Object.keys(Q||{}).length&&null!=Q&&Q[c.WALLET_SNAP_PERMISSION_KEY]&&(ne="wallet_connectSnaps");const ae=(0,o.useSelector)(e=>(0,y.getRequestState)(e,W))||{},oe=(0,o.useSelector)(y.getAccountsWithLabels).filter(e=>(0,u.isEvmAccountType)(e.type)),re=(0,o.useSelector)(b.getAccountGroupWithInternalAccounts),se=(0,o.useSelector)(y.getLastConnectedInfo),ie=(0,a.useMemo)(()=>se||{},[se]),le=(0,a.useMemo)(()=>{var e;const t=(null===(e=ie[J])||void 0===e?void 0:e.accounts)||{},n={};return Object.keys(t).forEach(e=>{n[e]=(0,x.formatDate)(t[e],"yyyy-MM-dd")}),n},[ie,J]),ce=`${h.CONNECT_ROUTE}/${W}`,ue=`${ce}${h.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,de=`${ce}${h.CONNECT_SNAPS_CONNECT_ROUTE}`,pe=`${ce}${h.CONNECT_SNAP_INSTALL_ROUTE}`,me=`${ce}${h.CONNECT_SNAP_UPDATE_ROUTE}`,fe=`${ce}${h.CONNECT_SNAP_RESULT_ROUTE}`,ge=$===pe||$===me||$===fe,he=(0,o.useSelector)(y.getSnapsInstallPrivacyWarningShown),ye=oe.length+1,[_e,xe]=(0,a.useState)(!1),[ve,be]=(0,a.useState)(()=>function(e,t){const n=(0,F.getCaip25CaveatValueFromPermissions)(t),a=(0,d.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(f.isEthAddress)):new Set((0,f.isEthAddress)(e)?[e]:[])}(G,Q)),[Ee,Te]=(0,a.useState)(null),[ke]=(0,a.useState)(J),[Se,we]=(0,a.useState)(te||{}),[Ce]=(0,a.useState)(he),Ie=(0,a.useRef)(null),Oe=(0,a.useRef)(null),Ne=(0,a.useRef)(null),Re=(0,a.useCallback)(e=>{let n=!0;n=!(Q&&Object.keys(Q).includes("wallet_snap")),xe(n),Te(e),n&&(e?setTimeout(()=>t(h.DEFAULT_ROUTE),U):t(h.DEFAULT_ROUTE))},[Q,t]);(0,a.useEffect)(()=>{if(e((0,v.getRequestAccountTabIds)()),q){if(n.pathname===ce&&!Z)switch(ne){case"wallet_installSnap":t(pe,{replace:!0});break;case"wallet_updateSnap":t(me,{replace:!0});break;case"wallet_installSnapResult":t(fe,{replace:!0});break;case"wallet_connectSnaps":t(de,{replace:!0});break;default:t(ue,{replace:!0})}}else t(h.DEFAULT_ROUTE,{replace:!0})},[]),(0,a.useEffect)(()=>{var e;null!=te&&te.origin&&(null===(e=Oe.current)||void 0===e?void 0:e.origin)!==(null==te?void 0:te.origin)&&we(te),Oe.current=te},[te]),(0,a.useEffect)(()=>{if(!q&&Ie.current&&!_e){var e;const t=ie[ke],n=null===(e=Ne.current)||void 0===e?void 0:e[ke],a=(null==t?void 0:t.lastApproved)||0,o=(null==n?void 0:n.lastApproved)||0;Re(a>o)}Ie.current=q,Ne.current=ie},[q,ie,_e,ke,Re]);const Be=(0,a.useCallback)(e=>{be(e),setTimeout(()=>{switch(ne){case"wallet_installSnap":t(pe);break;case"wallet_updateSnap":t(me);break;case"wallet_installSnapResult":t(fe);break;case"wallet_connectSnaps":t(de,{replace:!0});break;default:t(ue)}},0)},[ne,pe,me,fe,de,ue,t]),Ae=(0,a.useCallback)(async t=>{t&&(await e((0,v.rejectPermissionsRequest)(t)),Re(!1))},[e,Re]),Me=(0,a.useCallback)(t=>{e((0,v.approvePermissionsRequest)(t)),Re(!0)},[e,Re]),Pe=(0,a.useCallback)(({onCreateNewAccount:t,newAccountNumber:n})=>e((0,v.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),[e]),De=(0,a.useCallback)(t=>{e((0,v.setSnapsInstallPrivacyWarningShownStatus)(t))},[e]),Le=(0,a.useCallback)((t,n)=>e((0,v.resolvePendingApproval)(t,n)),[e]),Fe=(0,a.useCallback)((t,n)=>e((0,v.rejectPendingApproval)(t,n)),[e]),je=(0,a.useCallback)(()=>a.default.createElement(R.default,{accounts:oe,nativeCurrency:X,selectAccounts:e=>Be(e),selectNewAccountViaModal:e=>{Pe({onCreateNewAccount:t=>e(t),newAccountNumber:ye})},addressLastConnectedMap:le,cancelPermissionsRequest:e=>Ae(e),permissionsRequestId:W||"",selectedAccountAddresses:ve,targetSubjectMetadata:Se}),[oe,X,Be,Pe,ye,le,Ae,W,ve,Se]),We=(0,a.useCallback)(()=>{const e=(0,F.getCaip25CaveatValueFromPermissions)(Q),t=[],n=(0,d.getAllScopesFromCaip25CaveatValue)(e).filter(e=>{const{namespace:t}=(0,p.parseCaipChainId)(e);return t!==p.KnownCaipNamespace.Wallet}),o=(0,d.getAllNamespacesFromCaip25CaveatValue)(e);return n.length>0&&n.forEach(e=>{t.push(e)}),o.includes(p.KnownCaipNamespace.Eip155)&&t.push(`${p.KnownCaipNamespace.Eip155}:0`),a.default.createElement(O.MultichainEditAccountsPageWrapper,{title:j("connectWithMetaMask"),permissions:Q,onSubmit:e=>{const n=re.filter(n=>e.includes(n.id)&&(0,C.supportsChainIds)(n,t)),a=(0,I.getCaip25AccountIdsFromAccountGroupAndScope)(n,t).map(e=>(0,p.parseCaipAccountId)(e).address);Be(new Set(a))},onClose:()=>Ae(W||"")})},[Q,re,j,Be,Ae,W]),Ue=(0,a.useCallback)(()=>{const e={rejectPermissionsRequest:e=>Ae(e),activeTabOrigin:ke,request:q||{},permissionsRequestId:W||"",approveConnection:Me,targetSubjectMetadata:Se};return a.default.createElement(L.ConnectPage,e)},[Ae,ke,q,W,Me,Se]),ze=(0,a.useCallback)(()=>{const e={rejectPermissionsRequest:e=>Ae(e),activeTabOrigin:ke,request:q||{},permissionsRequestId:W||"",approveConnection:Me,targetSubjectMetadata:Se};return a.default.createElement(w.MultichainAccountsConnectPage,e)},[Ae,ke,q,W,Me,Se]),$e=(0,a.useCallback)(e=>a.default.createElement(T.Box,{style:{boxShadow:Se.subjectType===i.SubjectType.Snap?"var(--shadow-size-lg) var(--color-shadow-default)":undefined}},Se.subjectType===i.SubjectType.Snap&&a.default.createElement(k.default,{snapId:Se.origin,boxShadow:"none",onCancel:()=>{Ae(e)}})),[Se,Ae]),Ve=(0,l.isSnapId)(null==K?void 0:K.origin);return a.default.createElement("div",{className:"permissions-connect"},!ge&&W&&$e(W),_e&&Ee?a.default.createElement(B.default,{subjectMetadata:Se}):a.default.createElement(r.Routes,null,a.default.createElement(r.Route,{path:"/",element:Ve?a.default.createElement(S.State2Wrapper,{state1Component:je,state2Component:We}):a.default.createElement(S.State2Wrapper,{state1Component:Ue,state2Component:ze})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_CONFIRM_PERMISSIONS_ROUTE),element:a.default.createElement(E.default,{request:q||{},approvePermissionsRequest:t=>{e((0,v.approvePermissionsRequest)(t)),Re(!0)},rejectPermissionsRequest:e=>Ae(e),selectedAccounts:oe.filter(e=>ve.has(e.address)),requestedChainIds:z(Q),targetSubjectMetadata:Se,navigate:t,connectPath:ce,snapsInstallPrivacyWarningShown:Ce,setSnapsInstallPrivacyWarningShownStatus:De})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAPS_CONNECT_ROUTE),element:a.default.createElement(A.default,{request:q||{},approveConnection:Me,rejectConnection:e=>Ae(e),targetSubjectMetadata:Se,snapsInstallPrivacyWarningShown:Ce,setSnapsInstallPrivacyWarningShownStatus:De})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_INSTALL_ROUTE),element:a.default.createElement(M.default,{request:q||{},requestState:ae||{},approveSnapInstall:e=>{Le(e,{...q,permissions:ae.permissions,approvedAccounts:[...ve]}),Te(!0)},rejectSnapInstall:e=>{Fe(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())),Te(!0)},targetSubjectMetadata:Se})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_UPDATE_ROUTE),element:a.default.createElement(P.default,{request:q||{},requestState:ae||{},approveSnapUpdate:e=>{Le(e,{...q,permissions:ae.permissions,approvedAccounts:[...ve]}),Te(!0)},rejectSnapUpdate:e=>{Fe(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())),Te(!1)},targetSubjectMetadata:Se})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_RESULT_ROUTE),element:a.default.createElement(D.default,{request:q||{},requestState:ae||{},approveSnapResult:e=>{Le(e,undefined),Te(!0)},targetSubjectMetadata:Se})})))}}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.tsx"}],[8011,{"./permissions-redirect.component":8012},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[8012,{"../../../components/app/permissions-connect-footer":6312,"../../../components/component-library":6633,"../../../contexts/i18n":7105,"../../../helpers/constants/design-system":7149,"prop-types":5196,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),s=e("../../../helpers/constants/design-system"),i=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=u(e("../../../components/app/permissions-connect-footer"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){const t=(0,a.c)(28),{subjectMetadata:n}=e,r=(0,o.useContext)(i.I18nContext),[u,d]=(0,o.useState)(n);let p,m,f,g,h,y,_,x,v,b,E,T,k,S,w;return t[0]!==n?(p=()=>{n&&n.origin&&d(n)},m=[n],t[0]=n,t[1]=p,t[2]=m):(p=t[1],m=t[2]),(0,o.useEffect)(p,m),t[3]!==r?(f=r("connecting"),t[3]=r,t[4]=f):f=t[4],t[5]!==f?(g=o.default.createElement(l.Box,{display:s.Display.Flex,marginBottom:4},o.default.createElement(l.Text,{variant:s.TextVariant.headingMd},f)),t[5]=f,t[6]=g):g=t[6],t[7]!==u.iconUrl||t[8]!==u.name?(h=o.default.createElement(l.AvatarToken,{src:u.iconUrl,name:u.name,size:l.AvatarTokenSize.Lg}),t[7]=u.iconUrl,t[8]=u.name,t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=o.default.createElement(l.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,paddingLeft:4,paddingRight:4},o.default.createElement(l.Icon,{name:l.IconName.Confirmation,size:l.IconSize.Xl,color:s.IconColor.infoDefault})),_=o.default.createElement(l.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:l.AvatarTokenSize.Lg,name:"metamask-fox"}),t[10]=y,t[11]=_):(y=t[10],_=t[11]),t[12]!==h?(x=o.default.createElement(l.Box,{display:s.Display.Flex,backgroundColor:s.BackgroundColor.infoMuted,borderRadius:s.BorderRadius.pill,padding:2},h,y,_),t[12]=h,t[13]=x):x=t[13],t[14]!==g||t[15]!==x?(v=o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,width:s.BlockSize.Full,height:s.BlockSize.Full,backgroundColor:s.BackgroundColor.backgroundDefault,borderRadius:s.BorderRadius.XS,border:`1px solid ${s.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},g,x),t[14]=g,t[15]=x,t[16]=v):v=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b=o.default.createElement(c.default,null),t[17]=b):b=t[17],t[18]!==r?(E=r("back"),t[18]=r,t[19]=E):E=t[19],t[20]!==E?(T=o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,width:s.BlockSize.Full,marginRight:2,disabled:!0},E),t[20]=E,t[21]=T):T=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(k=o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,width:s.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0}),t[22]=k):k=t[22],t[23]!==T?(S=o.default.createElement(l.Box,{backgroundColor:s.BackgroundColor.backgroundDefault,padding:4},o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},b,o.default.createElement(l.Box,{display:s.Display.Flex,paddingTop:4,width:s.BlockSize.Full,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},T,k))),t[23]=T,t[24]=S):S=t[24],t[25]!==S||t[26]!==v?(w=o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full,height:s.BlockSize.Full,justifyContent:s.JustifyContent.spaceBetween},v,S),t[25]=S,t[26]=v,t[27]=w):w=t[27],w}p.propTypes={subjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,subjectType:r.default.string,name:r.default.string.isRequired,origin:r.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[8013,{"./snap-install":8014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[8014,{"../../../../components/app/permission-connect-header":6304,"../../../../components/app/snaps/install-error/install-error":6376,"../../../../components/app/snaps/snap-authorship-header":6384,"../../../../components/app/snaps/snap-install-warning":6397,"../../../../components/app/snaps/snap-permissions-list":6409,"../../../../components/component-library":6633,"../../../../components/ui/page-container":7055,"../../../../components/ui/pulse-loader/pulse-loader":7064,"../../../../helpers/constants/design-system":7149,"../../../../helpers/utils/util":7207,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useOriginMetadata":7319,"../../../../hooks/useScrollRequired":7323,"../../../../selectors":8207,"../util":8021,"@metamask/snaps-utils":2994,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=S;var a=e("react-compiler-runtime"),o=k(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("@metamask/snaps-utils"),l=e("../../../../components/ui/page-container"),c=e("../../../../hooks/useI18nContext"),u=k(e("../../../../components/app/snaps/snap-install-warning")),d=e("../../../../helpers/constants/design-system"),p=e("../util"),m=k(e("../../../../components/ui/pulse-loader/pulse-loader")),f=k(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=k(e("../../../../components/app/snaps/snap-permissions-list")),y=e("../../../../hooks/useScrollRequired"),_=k(e("../../../../components/app/snaps/install-error/install-error")),x=e("../../../../hooks/useOriginMetadata"),v=e("../../../../selectors"),b=e("../../../../helpers/utils/util"),E=k(e("../../../../components/app/permission-connect-header"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function k(e){return e&&e.__esModule?e:{default:e}}function S(e){var t,n,o,T,k;const S=(0,a.c)(85),{request:w,requestState:C,approveSnapInstall:I,rejectSnapInstall:O,targetSubjectMetadata:N}=e,R=(0,c.useI18nContext)(),B=(0,x.useOriginMetadata)(null==w||null===(t=w.metadata)||void 0===t?void 0:t.dappOrigin)||{},{origin:A,iconUrl:M}=B,[P,D]=(0,r.useState)(!1),L=(0,s.useSelector)(v.getSnapsMetadata),[F,j]=(0,r.useState)(!1);let W;S[0]!==C?(W=[C],S[0]=C,S[1]=W):W=S[1];const{isScrollable:U,hasScrolledToBottom:z,scrollToBottom:$,ref:V,onScroll:G}=(0,y.useScrollRequired)(W);let q;var K;S[2]!==O||S[3]!==(null==w||null===(n=w.metadata)||void 0===n?void 0:n.id)?(q=()=>{var e;return O(null==w||null===(e=w.metadata)||void 0===e?void 0:e.id)},S[2]=O,S[3]=null==w||null===(K=w.metadata)||void 0===K?void 0:K.id,S[4]=q):q=S[4];const H=q;let J;var X;S[5]!==I||S[6]!==(null==w||null===(o=w.metadata)||void 0===o?void 0:o.id)?(J=()=>{var e;return I(null==w||null===(e=w.metadata)||void 0===e?void 0:e.id)},S[5]=I,S[6]=null==w||null===(X=w.metadata)||void 0===X?void 0:X.id,S[7]=J):J=S[7];const Y=J;let Q;S[8]!==N.origin?(Q=e=>(0,v.getSnapMetadata)(e,N.origin),S[8]=N.origin,S[9]=Q):Q=S[9];const{name:Z}=(0,s.useSelector)(Q),ee=!C.loading&&C.error,te=C.loading,ne=null==w||null===(T=w.metadata)||void 0===T?void 0:T.dappOrigin;let ae;S[10]!==ne?(ae=(0,i.isSnapId)(ne),S[10]=ne,S[11]=ae):ae=S[11];const oe=ae;let re;S[12]!==C.permissions||S[13]!==Z||S[14]!==L||S[15]!==R?(re=(0,p.getSnapInstallWarnings)((null==C?void 0:C.permissions)??{},R,Z,(0,b.getSnapName)(L)),S[12]=C.permissions,S[13]=Z,S[14]=L,S[15]=R,S[16]=re):re=S[16];const se=re,ie=se.length>0;let le;S[17]!==ee||S[18]!==H||S[19]!==Y||S[20]!==ie?(le=()=>{!ee&&ie?D(!0):ee?H():Y()},S[17]=ee,S[18]=H,S[19]=Y,S[20]=ie,S[21]=le):le=S[21];const ce=le;let ue;S[22]!==ee||S[23]!==te?(ue=()=>ee?"ok":te?"connect":"confirm",S[22]=ee,S[23]=te,S[24]=ue):ue=S[24];const de=ue;let pe;S[25]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{j(!0)},S[25]=pe):pe=S[25];const me=pe;let fe;var ge,he;S[26]!==ee||S[27]!==M||S[28]!==te||S[29]!==oe||S[30]!==H||S[31]!==A||S[32]!==(null==w||null===(k=w.metadata)||void 0===k?void 0:k.dappOrigin)||S[33]!==N.origin?(fe=!te&&!ee||oe?r.default.createElement(f.default,{snapId:te&&oe?null==w||null===(ge=w.metadata)||void 0===ge?void 0:ge.dappOrigin:N.origin,onCancel:H}):r.default.createElement(E.default,{origin:A,iconUrl:M}),S[26]=ee,S[27]=M,S[28]=te,S[29]=oe,S[30]=H,S[31]=A,S[32]=null==w||null===(he=w.metadata)||void 0===he?void 0:he.dappOrigin,S[33]=N.origin,S[34]=fe):fe=S[34];const ye=te||ee?undefined:V,_e=!te&&!ee&&"1";let xe,ve,be,Ee,Te;S[35]!==_e?(xe={overflowY:"auto",flex:_e},S[35]=_e,S[36]=xe):xe=S[36],S[37]!==te?(ve=te&&r.default.createElement(g.Box,{display:d.Display.Flex,className:"snap-install__content__loader-container",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center},r.default.createElement(m.default,null)),S[37]=te,S[38]=ve):ve=S[38],S[39]!==ee||S[40]!==C.error||S[41]!==Z||S[42]!==R?(be=ee&&r.default.createElement(_.default,{iconName:g.IconName.Warning,title:R("connectionFailed"),description:R("connectionFailedDescription",[r.default.createElement(g.Text,{as:"span",key:"1",fontWeight:d.FontWeight.Medium},Z)]),error:C.error}),S[39]=ee,S[40]=C.error,S[41]=Z,S[42]=R,S[43]=be):be=S[43],S[44]!==ee||S[45]!==z||S[46]!==te||S[47]!==U||S[48]!==C.connections||S[49]!==C.permissions||S[50]!==$||S[51]!==F||S[52]!==Z||S[53]!==R||S[54]!==N.origin?(Ee=!ee&&!te&&r.default.createElement(r.default.Fragment,null,r.default.createElement(g.Text,{variant:d.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},R("installRequest")),r.default.createElement(g.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:d.TextAlign.Center},R("snapInstallRequest",[r.default.createElement(g.Text,{as:"span",key:"2",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},Z)])),r.default.createElement(g.Box,{display:d.Display.Flex,backgroundColor:d.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:d.BorderRadius.XL},r.default.createElement(h.default,{snapId:N.origin,snapName:Z,permissions:C.permissions||{},connections:C.connections||{},onShowAllPermissions:me})),r.default.createElement(g.Box,{className:"snap-install__scroll-button-area"},!U||z||F?null:r.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:d.BackgroundColor.infoDefault,color:d.IconColor.primaryInverse,onClick:$,style:{cursor:"pointer"}}))),S[44]=ee,S[45]=z,S[46]=te,S[47]=U,S[48]=C.connections,S[49]=C.permissions,S[50]=$,S[51]=F,S[52]=Z,S[53]=R,S[54]=N.origin,S[55]=Ee):Ee=S[55],S[56]!==G||S[57]!==ye||S[58]!==xe||S[59]!==ve||S[60]!==be||S[61]!==Ee?(Te=r.default.createElement(g.Box,{ref:ye,onScroll:G,className:"snap-install__content",style:xe,paddingLeft:4,paddingRight:4},ve,be,Ee),S[56]=G,S[57]=ye,S[58]=xe,S[59]=ve,S[60]=be,S[61]=Ee,S[62]=Te):Te=S[62];const ke=te||!ee&&U&&!z;let Se,we,Ce,Ie,Oe;return S[63]!==R?(Se=R("cancel"),S[63]=R,S[64]=Se):Se=S[64],S[65]!==de||S[66]!==R?(we=R(de()),S[65]=de,S[66]=R,S[67]=we):we=S[67],S[68]!==ce||S[69]!==ee||S[70]!==H||S[71]!==ke||S[72]!==Se||S[73]!==we?(Ce=r.default.createElement(g.Box,{className:"snap-install__footer",display:d.Display.Flex,alignItems:d.AlignItems.center,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},r.default.createElement(l.PageContainerFooter,{cancelButtonType:"default",hideCancel:ee,disabled:ke,onCancel:H,cancelText:Se,onSubmit:ce,submitText:we})),S[68]=ce,S[69]=ee,S[70]=H,S[71]=ke,S[72]=Se,S[73]=we,S[74]=Ce):Ce=S[74],S[75]!==P||S[76]!==Y||S[77]!==Z||S[78]!==se?(Ie=P&&r.default.createElement(u.default,{onCancel:()=>D(!1),onSubmit:Y,warnings:se,snapName:Z}),S[75]=P,S[76]=Y,S[77]=Z,S[78]=se,S[79]=Ie):Ie=S[79],S[80]!==fe||S[81]!==Te||S[82]!==Ce||S[83]!==Ie?(Oe=r.default.createElement(g.Box,{className:"snap-install",display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,borderStyle:d.BorderStyle.none,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},fe,Te,Ce,Ie),S[80]=fe,S[81]=Te,S[82]=Ce,S[83]=Ie,S[84]=Oe):Oe=S[84],Oe}S.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapInstall:o.default.func.isRequired,rejectSnapInstall:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[8015,{"./snap-result":8016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[8016,{"../../../../components/app/snaps/install-error/install-error":6376,"../../../../components/app/snaps/snap-authorship-header":6384,"../../../../components/component-library":6633,"../../../../components/ui/box/box":6981,"../../../../components/ui/page-container":7055,"../../../../components/ui/pulse-loader/pulse-loader":7064,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useI18nContext":7301,"../../../../selectors":8207,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=e("react-compiler-runtime"),o=y(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../../components/ui/box/box")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/component-library"),p=y(e("../../../../components/ui/pulse-loader/pulse-loader")),m=y(e("../../../../components/app/snaps/install-error/install-error")),f=y(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function _(e){var t;const n=(0,a.c)(40),{request:o,requestState:h,approveSnapResult:y,targetSubjectMetadata:_}=e,x=(0,l.useI18nContext)();let v;var b;n[0]!==y||n[1]!==(null==o||null===(t=o.metadata)||void 0===t?void 0:t.id)?(v=()=>{var e;return y(null==o||null===(e=o.metadata)||void 0===e?void 0:e.id)},n[0]=y,n[1]=null==o||null===(b=o.metadata)||void 0===b?void 0:b.id,n[2]=v):v=n[2];const E=v,T=!h.loading&&h.error,k=h.loading;let S;n[3]!==_.origin?(S=e=>(0,g.getSnapMetadata)(e,_.origin),n[3]=_.origin,n[4]=S):S=n[4];const{name:w}=(0,s.useSelector)(S);let C;n[5]!==x?(C=function(e,t){let n;e:switch(e){case"wallet_installSnap":n=x("snapInstallSuccess");break e;case"wallet_updateSnap":n=x("snapUpdateSuccess");break e;default:n=x("snapResultSuccess")}return r.default.createElement(c.default,{flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(d.AvatarIcon,{className:"snap-result__header__icon",iconName:d.IconName.Confirmation,size:d.AvatarIconSize.Xl,color:u.IconColor.successDefault,backgroundColor:u.BackgroundColor.successMuted}),r.default.createElement(d.Text,{fontWeight:u.FontWeight.Bold,textAlign:u.TextAlign.Center,variant:u.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),r.default.createElement(d.Text,{textAlign:u.TextAlign.Center},x("snapResultSuccessDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)])))},n[5]=x,n[6]=C):C=n[6];const I=C;let O;n[7]!==h.error||n[8]!==x?(O=function(e,t){let n,a;e:switch(e){case"wallet_installSnap":n=x("snapInstallationErrorTitle"),a=x("snapInstallationErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;case"wallet_updateSnap":n=x("snapUpdateErrorTitle"),a=x("snapUpdateErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;default:n=x("snapResultError")}return r.default.createElement(m.default,{error:h.error,title:n,description:a,iconName:d.IconName.Warning})},n[7]=h.error,n[8]=x,n[9]=O):O=n[9];const N=O;let R,B,A,M,P,D,L,F;return n[10]!==E||n[11]!==_.origin?(R=r.default.createElement(f.default,{snapId:_.origin,onCancel:E}),n[10]=E,n[11]=_.origin,n[12]=R):R=n[12],n[13]!==k?(B=k&&r.default.createElement(c.default,{className:"snap-result__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full},r.default.createElement(p.default,null)),n[13]=k,n[14]=B):B=n[14],n[15]!==I||n[16]!==T||n[17]!==k||n[18]!==h.type||n[19]!==w?(A=!k&&!T&&I(h.type,w),n[15]=I,n[16]=T,n[17]=k,n[18]=h.type,n[19]=w,n[20]=A):A=n[20],n[21]!==N||n[22]!==T||n[23]!==h.type||n[24]!==w?(M=T&&N(h.type,w),n[21]=N,n[22]=T,n[23]=h.type,n[24]=w,n[25]=M):M=n[25],n[26]!==B||n[27]!==A||n[28]!==M?(P=r.default.createElement(c.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative,height:u.BlockSize.Full,justifyContent:u.JustifyContent.center},B,A,M),n[26]=B,n[27]=A,n[28]=M,n[29]=P):P=n[29],n[30]!==x?(D=x("ok").toUpperCase(),n[30]=x,n[31]=D):D=n[31],n[32]!==k||n[33]!==E||n[34]!==D?(L=r.default.createElement(c.default,{className:"snap-result__footer",alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(i.PageContainerFooter,{hideCancel:!0,disabled:k,onSubmit:E,submitText:D})),n[32]=k,n[33]=E,n[34]=D,n[35]=L):L=n[35],n[36]!==L||n[37]!==R||n[38]!==P?(F=r.default.createElement(c.default,{className:"page-container snap-result",justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},R,P,L),n[36]=L,n[37]=R,n[38]=P,n[39]=F):F=n[39],F}_.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapResult:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[8017,{"./snap-update":8018},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[8018,{"../../../../components/app/snaps/install-error/install-error":6376,"../../../../components/app/snaps/snap-authorship-header":6384,"../../../../components/app/snaps/snap-install-warning":6397,"../../../../components/app/snaps/update-snap-permission-list":6504,"../../../../components/component-library":6633,"../../../../components/ui/page-container":7055,"../../../../components/ui/pulse-loader/pulse-loader":7064,"../../../../helpers/constants/design-system":7149,"../../../../helpers/utils/util":7207,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useScrollRequired":7323,"../../../../selectors":8207,"../util":8021,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=e("react-compiler-runtime"),o=b(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=b(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=b(e("../../../../components/app/snaps/update-snap-permission-list")),p=e("../util"),m=b(e("../../../../components/ui/pulse-loader/pulse-loader")),f=b(e("../../../../components/app/snaps/install-error/install-error")),g=b(e("../../../../components/app/snaps/snap-authorship-header")),h=e("../../../../components/component-library"),y=e("../../../../hooks/useScrollRequired"),_=e("../../../../selectors"),x=e("../../../../helpers/utils/util");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function E(e){var t,n;const o=(0,a.c)(101),{request:v,requestState:b,approveSnapUpdate:E,rejectSnapUpdate:T,targetSubjectMetadata:k}=e,S=(0,l.useI18nContext)(),[w,C]=(0,r.useState)(!1),[I,O]=(0,r.useState)(!1);let N;o[0]!==b?(N=[b],o[0]=b,o[1]=N):N=o[1];const{isScrollable:R,hasScrolledToBottom:B,scrollToBottom:A,ref:M,onScroll:P}=(0,y.useScrollRequired)(N),D=(0,s.useSelector)(_.getSnapsMetadata);let L;var F;o[2]!==T||o[3]!==(null==v||null===(t=v.metadata)||void 0===t?void 0:t.id)?(L=()=>{var e;return T(null==v||null===(e=v.metadata)||void 0===e?void 0:e.id)},o[2]=T,o[3]=null==v||null===(F=v.metadata)||void 0===F?void 0:F.id,o[4]=L):L=o[4];const j=L;let W;var U;o[5]!==E||o[6]!==(null==v||null===(n=v.metadata)||void 0===n?void 0:n.id)?(W=()=>{var e;return E(null==v||null===(e=v.metadata)||void 0===e?void 0:e.id)},o[5]=E,o[6]=null==v||null===(U=v.metadata)||void 0===U?void 0:U.id,o[7]=W):W=o[7];const z=W;let $;o[8]!==k.origin?($=e=>(0,_.getSnapMetadata)(e,k.origin),o[8]=k.origin,o[9]=$):$=o[9];const{name:V}=(0,s.useSelector)($);let G;o[10]!==b.approvedPermissions?(G=b.approvedPermissions??{},o[10]=b.approvedPermissions,o[11]=G):G=o[11];const q=G;let K;o[12]!==b.unusedPermissions?(K=b.unusedPermissions??{},o[12]=b.unusedPermissions,o[13]=K):K=o[13];const H=K;let J,X,Y,Q,Z,ee,te,ne;if(o[14]!==b||o[15]!==V||o[16]!==D||o[17]!==S){let e,t,n;Z=b.newPermissions??{},o[26]!==b.approvedConnections?(e=b.approvedConnections??{},o[26]=b.approvedConnections,o[27]=e):e=o[27],J=e,o[28]!==b.unusedConnections?(t=b.unusedConnections??{},o[28]=b.unusedConnections,o[29]=t):t=o[29],te=t,o[30]!==b.newConnections?(n=b.newConnections??{},o[30]=b.newConnections,o[31]=n):n=o[31],Q=n,({newVersion:ee}=b),Y=b.loading,X=!Y&&b.error,ne=(0,p.getSnapInstallWarnings)(Z,S,V,(0,x.getSnapName)(D)),o[14]=b,o[15]=V,o[16]=D,o[17]=S,o[18]=J,o[19]=X,o[20]=Y,o[21]=Q,o[22]=Z,o[23]=ee,o[24]=te,o[25]=ne}else J=o[18],X=o[19],Y=o[20],Q=o[21],Z=o[22],ee=o[23],te=o[24],ne=o[25];const ae=ne,oe=ae.length>0;let re;o[32]!==X||o[33]!==j||o[34]!==z||o[35]!==oe?(re=()=>{!X&&oe?C(!0):X?j():z()},o[32]=X,o[33]=j,o[34]=z,o[35]=oe,o[36]=re):re=o[36];const se=re;let ie;o[37]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>{O(!0)},o[37]=ie):ie=o[37];const le=ie;let ce;o[38]!==j||o[39]!==k.origin?(ce=r.default.createElement(g.default,{snapId:k.origin,onCancel:j}),o[38]=j,o[39]=k.origin,o[40]=ce):ce=o[40];const ue=!Y&&"1";let de,pe,me,fe,ge,he;o[41]!==ue?(de={overflowY:"auto",flex:ue},o[41]=ue,o[42]=de):de=o[42],o[43]!==X||o[44]!==Y||o[45]!==S?(pe=!Y&&!X&&r.default.createElement(h.Text,{paddingTop:4,paddingBottom:2,variant:u.TextVariant.headingMd,textAlign:"center"},S("updateRequest")),o[43]=X,o[44]=Y,o[45]=S,o[46]=pe):pe=o[46],o[47]!==Y?(me=Y&&r.default.createElement(h.Box,{className:"snap-update__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},r.default.createElement(m.default,null)),o[47]=Y,o[48]=me):me=o[48],o[49]!==X||o[50]!==b.error||o[51]!==V||o[52]!==S?(fe=X&&r.default.createElement(f.default,{iconName:h.IconName.Warning,error:b.error,title:S("snapUpdateErrorTitle"),description:S("snapUpdateErrorDescription",[r.default.createElement(h.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},V)])}),o[49]=X,o[50]=b.error,o[51]=V,o[52]=S,o[53]=fe):fe=o[53],o[54]!==J||o[55]!==q||o[56]!==X||o[57]!==B||o[58]!==Y||o[59]!==R||o[60]!==Q||o[61]!==Z||o[62]!==ee||o[63]!==te||o[64]!==H||o[65]!==A||o[66]!==I||o[67]!==V||o[68]!==S||o[69]!==k?(ge=!X&&!Y&&r.default.createElement(r.default.Fragment,null,r.default.createElement(h.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},S("snapUpdateRequest",[r.default.createElement(h.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},V),r.default.createElement(h.Text,{as:"span",key:"3",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},ee)])),r.default.createElement(h.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},r.default.createElement(d.default,{approvedPermissions:q,revokedPermissions:H,newPermissions:Z,approvedConnections:J,revokedConnections:te,newConnections:Q,targetSubjectMetadata:k,showAllPermissions:le})),r.default.createElement(h.Box,{className:"snap-update__scroll-button-area"},!R||B||I?null:r.default.createElement(h.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:h.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:A,style:{cursor:"pointer"}}))),o[54]=J,o[55]=q,o[56]=X,o[57]=B,o[58]=Y,o[59]=R,o[60]=Q,o[61]=Z,o[62]=ee,o[63]=te,o[64]=H,o[65]=A,o[66]=I,o[67]=V,o[68]=S,o[69]=k,o[70]=ge):ge=o[70],o[71]!==P||o[72]!==M||o[73]!==de||o[74]!==pe||o[75]!==me||o[76]!==fe||o[77]!==ge?(he=r.default.createElement(h.Box,{ref:M,onScroll:P,className:"snap-update__content",style:de,paddingLeft:4,paddingRight:4},pe,me,fe,ge),o[71]=P,o[72]=M,o[73]=de,o[74]=pe,o[75]=me,o[76]=fe,o[77]=ge,o[78]=he):he=o[78];const ye=Y||!X&&R&&!B;let _e;o[79]!==S?(_e=S("cancel"),o[79]=S,o[80]=_e):_e=o[80];const xe=X?"ok":"confirm";let ve,be,Ee,Te;return o[81]!==S||o[82]!==xe?(ve=S(xe),o[81]=S,o[82]=xe,o[83]=ve):ve=o[83],o[84]!==se||o[85]!==X||o[86]!==j||o[87]!==ye||o[88]!==_e||o[89]!==ve?(be=r.default.createElement(h.Box,{className:"snap-update__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(i.PageContainerFooter,{cancelButtonType:"default",hideCancel:X,disabled:ye,onCancel:j,cancelText:_e,onSubmit:se,submitText:ve})),o[84]=se,o[85]=X,o[86]=j,o[87]=ye,o[88]=_e,o[89]=ve,o[90]=be):be=o[90],o[91]!==w||o[92]!==z||o[93]!==V||o[94]!==ae?(Ee=w&&r.default.createElement(c.default,{onCancel:()=>C(!1),onSubmit:z,snapName:V,warnings:ae}),o[91]=w,o[92]=z,o[93]=V,o[94]=ae,o[95]=Ee):Ee=o[95],o[96]!==ce||o[97]!==he||o[98]!==be||o[99]!==Ee?(Te=r.default.createElement(h.Box,{className:"snap-update",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},ce,he,be,Ee),o[96]=ce,o[97]=he,o[98]=be,o[99]=Ee,o[100]=Te):Te=o[100],Te}E.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapUpdate:o.default.func.isRequired,rejectSnapUpdate:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[8019,{"./snaps-connect":8020},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[8020,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":6388,"../../../../components/app/snaps/snap-icon":6395,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":6412,"../../../../components/component-library":6633,"../../../../components/ui/page-container":7055,"../../../../components/ui/pulse-loader/pulse-loader":7064,"../../../../helpers/constants/design-system":7149,"../../../../helpers/utils/util":7207,"../../../../hooks/useI18nContext":7301,"../../../../hooks/useOriginMetadata":7319,"../../../../selectors":8207,"@metamask/snaps-utils":2994,"prop-types":5196,react:5358,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=_(e("prop-types")),s=e("@metamask/snaps-utils"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=_(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=_(e("../../../../components/ui/pulse-loader/pulse-loader")),f=_(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function _(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function v({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:_,setSnapsInstallPrivacyWarningShownStatus:x}){const v=(0,i.useI18nContext)(),{origin:b}=r,[E,T]=(0,a.useState)(!1),k=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),S=(0,o.useSelector)(g.getPreinstalledSnaps),w=(0,p.getDedupedSnaps)(e,k),C=w[0],{name:I}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,C)),O=Object.keys(S).includes(C),[N,R]=(0,a.useState)(!O&&!_),B=(0,a.useCallback)(()=>{var t;n(null==e||null===(t=e.metadata)||void 0===t?void 0:t.id)},[e,n]),A=(0,a.useCallback)(()=>{try{T(!0),t(e)}finally{T(!1)}},[e,t]),M=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(b)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,s.isSnapId)(b)?b:`npm:${b}`));return(0,s.isSnapId)(b)&&(t=n),E?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(m.default,null)):(null==w?void 0:w.length)>1?a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},v("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},v("multipleSnapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==w?void 0:w.length)])),a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},w.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==w?void 0:w.length)?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:w[0],avatarSize:l.IconSize.Xl})),a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},v("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},v("snapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},I)]))):null};return a.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},N&&a.default.createElement(f.default,{onAccepted:()=>{R(!1),x(!0)},onCanceled:B}),a.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(M,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:E,onCancel:B,cancelText:v("cancel"),onSubmit:A,submitText:v("connect")}))}v.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[8021,{"../../../helpers/utils/permission":7194},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[r,s])=>{const i=(0,a.getPermissionDescription)({t:t,permissionName:r,permissionValue:s,subjectName:n,getSubjectName:o});return e.concat(i.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[8022,{"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Dropdown=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=e=>{const t=(0,a.c)(42),{options:n,selectedId:s,onChange:i,testId:c}=e,[u,d]=(0,o.useState)(!1),[p,m]=(0,o.useState)(-1),f=(0,o.useRef)(null),g=(0,o.useRef)(null);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[0]=h):h=t[0];const y=(0,o.useRef)(h);let _;if(t[1]!==n||t[2]!==s){let e;t[4]!==s?(e=e=>e.id===s,t[4]=s,t[5]=e):e=t[5],_=n.find(e),t[1]=n,t[2]=s,t[3]=_}else _=t[3];const x=_;let v;t[6]!==s?(v=e=>e.id===s,t[6]=s,t[7]=v):v=t[7];const b=n.findIndex(v);let E,T,k,S,w;t[8]!==u?(E=()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&(d(!1),m(-1))};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},T=[u],t[8]=u,t[9]=E,t[10]=T):(E=t[9],T=t[10]),(0,o.useEffect)(E,T),t[11]!==u||t[12]!==b?(k=()=>{var e;u&&b>=0&&(m(b),null===(e=y.current[b])||void 0===e||e.focus())},S=[u,b],t[11]=u,t[12]=b,t[13]=k,t[14]=S):(k=t[13],S=t[14]),(0,o.useEffect)(k,S),t[15]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{d(l)},t[15]=w):w=t[15];const C=w;let I;t[16]!==i?(I=e=>{var t;i(e.id),d(!1),m(-1),null===(t=g.current)||void 0===t||t.focus()},t[16]=i,t[17]=I):I=t[17];const O=I;let N;t[18]===Symbol.for("react.memo_cache_sentinel")?(N=e=>{e:switch(e.key){case"Enter":case" ":case"ArrowDown":case"ArrowUp":e.preventDefault(),d(!0)}},t[18]=N):N=t[18];const R=N;let B;t[19]!==O||t[20]!==n?(B=(e,t)=>{e:switch(e.key){case"Enter":case" ":e.preventDefault(),O(n[t]);break e;case"ArrowDown":var a;if(e.preventDefault(),t<n.length-1)m(t+1),null===(a=y.current[t+1])||void 0===a||a.focus();break e;case"ArrowUp":var o;if(e.preventDefault(),t>0)m(t-1),null===(o=y.current[t-1])||void 0===o||o.focus();break e;case"Escape":var r;e.preventDefault(),d(!1),m(-1),null===(r=g.current)||void 0===r||r.focus();break e;case"Tab":d(!1),m(-1)}},t[19]=O,t[20]=n,t[21]=B):B=t[21];const A=B,M=`${c}-button`,P=(null==x?void 0:x.label)??"";let D;t[22]!==P?(D=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextDefault},P),t[22]=P,t[23]=D):D=t[23];const L=u?r.IconName.ArrowUp:r.IconName.ArrowDown;let F,j,W;var U;(t[24]!==L?(F=o.default.createElement(r.Icon,{name:L,size:r.IconSize.Xs,color:r.IconColor.IconAlternative,className:"ml-auto"}),t[24]=L,t[25]=F):F=t[25],t[26]!==u||t[27]!==M||t[28]!==D||t[29]!==F?(j=o.default.createElement(r.ButtonBase,{ref:g,size:r.ButtonBaseSize.Sm,className:"flex items-center justify-start gap-1 rounded-lg bg-background-muted px-3 py-2 hover:bg-hover active:opacity-70",onClick:C,onKeyDown:R,"aria-haspopup":"listbox","aria-expanded":u,"data-testid":M},D,F),t[26]=u,t[27]=M,t[28]=D,t[29]=F,t[30]=j):j=t[30],t[31]!==p||t[32]!==A||t[33]!==O||t[34]!==u||t[35]!==n||t[36]!==s||t[37]!==c)?(W=u&&o.default.createElement(r.Box,{className:"absolute left-0 top-full z-10 mt-1 min-w-[120px] overflow-hidden rounded-lg border border-border-muted bg-background-default shadow-lg",flexDirection:r.BoxFlexDirection.Column,role:"listbox","aria-activedescendant":p>=0?`${c}-option-${null===(U=n[p])||void 0===U?void 0:U.id}`:undefined,"data-testid":`${c}-menu`},n.map((e,t)=>o.default.createElement(r.ButtonBase,{key:e.id,ref:e=>{y.current[t]=e},onClick:()=>O(e),onKeyDown:e=>A(e,t),className:"w-full justify-between text-left rounded-none px-3 py-2 bg-transparent min-w-0 h-auto hover:bg-hover active:bg-pressed",role:"option","aria-selected":e.id===s,id:`${c}-option-${e.id}`,"data-testid":`${c}-option-${e.id}`},o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:e.id===s?r.TextColor.TextDefault:r.TextColor.TextAlternative},e.label),e.id===s&&o.default.createElement(r.Icon,{name:r.IconName.Check,size:r.IconSize.Sm,color:r.IconColor.PrimaryDefault})))),t[31]=p,t[32]=A,t[33]=O,t[34]=u,t[35]=n,t[36]=s,t[37]=c,t[38]=W):W=t[38];let z;return t[39]!==j||t[40]!==W?(z=o.default.createElement(r.Box,{ref:f,className:"relative"},j,W),t[39]=j,t[40]=W,t[41]=z):z=t[41],z};n.Dropdown=i;n.default=i;function l(e){return!e}}}},{package:"$root$",file:"ui/pages/perps/market-list/components/dropdown/dropdown.tsx"}],[8023,{"./dropdown":8022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Dropdown",{enumerable:!0,get:function(){return a.Dropdown}});var a=e("./dropdown")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/dropdown/index.ts"}],[8024,{"../../../../../hooks/useI18nContext":7301,"../dropdown":8023,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FilterSelect=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useI18nContext"),s=e("../dropdown");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const l=e=>{const t=(0,a.c)(20),{value:n,onChange:i}=e,l=(0,r.useI18nContext)();let c,u,d,p,m,f,g;t[0]!==l?(c=l("perpsFilterAll"),t[0]=l,t[1]=c):c=t[1],t[2]!==c?(u={id:"all",label:c},t[2]=c,t[3]=u):u=t[3],t[4]!==l?(d=l("perpsFilterCrypto"),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(p={id:"crypto",label:d},t[6]=d,t[7]=p):p=t[7],t[8]!==l?(m=l("perpsFilterStocks"),t[8]=l,t[9]=m):m=t[9],t[10]!==m?(f={id:"stocks",label:m},t[10]=m,t[11]=f):f=t[11],t[12]!==u||t[13]!==p||t[14]!==f?(g=[u,p,f],t[12]=u,t[13]=p,t[14]=f,t[15]=g):g=t[15];const h=g;let y;return t[16]!==i||t[17]!==h||t[18]!==n?(y=o.default.createElement(s.Dropdown,{options:h,selectedId:n,onChange:i,testId:"filter-select"}),t[16]=i,t[17]=h,t[18]=n,t[19]=y):y=t[19],y};n.FilterSelect=l;n.default=l}}},{package:"$root$",file:"ui/pages/perps/market-list/components/filter-select/filter-select.tsx"}],[8025,{"./filter-select":8024},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FilterSelect",{enumerable:!0,get:function(){return a.FilterSelect}});var a=e("./filter-select")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/filter-select/index.ts"}],[8026,{"./market-row-skeleton":8027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MarketRowSkeleton",{enumerable:!0,get:function(){return a.MarketRowSkeleton}});var a=e("./market-row-skeleton")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row-skeleton/index.ts"}],[8027,{"../../../../../components/component-library/skeleton":6679,"../../../../../helpers/constants/design-system":7149,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MarketRowSkeleton=void 0;var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},s=e("@metamask/design-system-react"),i=e("../../../../../components/component-library/skeleton"),l=e("../../../../../helpers/constants/design-system");const c=()=>{const e=(0,o.c)(3);let t,n,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(i.Skeleton,{className:"h-10 w-10 shrink-0",borderRadius:l.BorderRadius.pill}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n=r.default.createElement(s.Box,{className:"min-w-0 flex-1",flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.Start,gap:1},r.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:2},r.default.createElement(i.Skeleton,{className:"h-4 w-12"}),r.default.createElement(i.Skeleton,{className:"h-3 w-8"})),r.default.createElement(i.Skeleton,{className:"h-3 w-16"})),e[1]=n):n=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(a=r.default.createElement(s.Box,{className:"px-4 py-3",backgroundColor:s.BoxBackgroundColor.BackgroundMuted,flexDirection:s.BoxFlexDirection.Row,alignItems:s.BoxAlignItems.Center,gap:3,"data-testid":"market-row-skeleton"},t,n,r.default.createElement(s.Box,{className:"shrink-0",flexDirection:s.BoxFlexDirection.Column,alignItems:s.BoxAlignItems.End,gap:1},r.default.createElement(i.Skeleton,{className:"h-4 w-20"}),r.default.createElement(i.Skeleton,{className:"h-3 w-12"}))),e[2]=a):a=e[2],a};n.MarketRowSkeleton=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row-skeleton/market-row-skeleton.tsx"}],[8028,{"./market-row":8029},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MarketRow",{enumerable:!0,get:function(){return a.MarketRow}});var a=e("./market-row")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row/index.ts"}],[8029,{"../../../../../components/app/perps/perps-token-logo":6334,"../../../../../components/app/perps/utils":6340,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MarketRow=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react"),s=e("../../../../../components/app/perps/perps-token-logo"),i=e("../../../../../components/app/perps/utils");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,a.c)(41),{market:n,onPress:l,displayMetric:c}=e,u=c===undefined?"volume":c;let d;t[0]!==n.symbol?(d=(0,i.getDisplaySymbol)(n.symbol),t[0]=n.symbol,t[1]=d):d=t[1];const p=d;let m;t[2]!==u||t[3]!==n?(m=((e,t)=>{switch(t){case"volume":default:return`${e.volume} Vol`;case"priceChange":return e.change24hPercent;case"fundingRate":return e.fundingRate===undefined?"N/A":`${(100*e.fundingRate).toFixed(4)}% FR`;case"openInterest":return e.openInterest?`${e.openInterest} OI`:"N/A"}})(n,u),t[2]=u,t[3]=n,t[4]=m):m=t[4];const f=m;let g;e:{const e=n.change24hPercent;if(!e||"--"===e||"N/A"===e){g=r.TextColor.TextAlternative;break e}let a;t[5]!==e?(a=(0,i.getChangeColor)(e),t[5]=e,t[6]=a):a=t[6],g=a}const h=g;let y;t[7]!==n||t[8]!==l?(y=()=>{l&&l(n)},t[7]=n,t[8]=l,t[9]=y):y=t[9];const _=y;let x;if(t[10]!==n.symbol){let e;t[12]===Symbol.for("react.memo_cache_sentinel")?(e=/:/gu,t[12]=e):e=t[12],x=n.symbol.replace(e,"-"),t[10]=n.symbol,t[11]=x}else x=t[11];const v=`market-row-${x}`;let b,E,T,k,S,w,C,I,O,N;return t[13]!==n.symbol?(b=o.default.createElement(s.PerpsTokenLogo,{symbol:n.symbol,size:r.AvatarTokenSize.Md,className:"shrink-0"}),t[13]=n.symbol,t[14]=b):b=t[14],t[15]!==p?(E=o.default.createElement(r.Text,{fontWeight:r.FontWeight.Medium},p),t[15]=p,t[16]=E):E=t[16],t[17]!==n.maxLeverage?(T=o.default.createElement("span",{className:"shrink-0 rounded-md bg-background-muted px-1.5"},o.default.createElement(r.Text,{variant:r.TextVariant.BodyXs,color:r.TextColor.TextAlternative},n.maxLeverage)),t[17]=n.maxLeverage,t[18]=T):T=t[18],t[19]!==T||t[20]!==E?(k=o.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center,gap:2},E,T),t[19]=T,t[20]=E,t[21]=k):k=t[21],t[22]!==f?(S=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextAlternative},f),t[22]=f,t[23]=S):S=t[23],t[24]!==k||t[25]!==S?(w=o.default.createElement(r.Box,{className:"min-w-0 flex-1",flexDirection:r.BoxFlexDirection.Column,alignItems:r.BoxAlignItems.Start,gap:1},k,S),t[24]=k,t[25]=S,t[26]=w):w=t[26],t[27]!==n.price?(C=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium},n.price),t[27]=n.price,t[28]=C):C=t[28],t[29]!==h||t[30]!==n.change24hPercent?(I=o.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:h},n.change24hPercent),t[29]=h,t[30]=n.change24hPercent,t[31]=I):I=t[31],t[32]!==C||t[33]!==I?(O=o.default.createElement(r.Box,{className:"shrink-0",flexDirection:r.BoxFlexDirection.Column,alignItems:r.BoxAlignItems.End,gap:1},C,I),t[32]=C,t[33]=I,t[34]=O):O=t[34],t[35]!==_||t[36]!==w||t[37]!==O||t[38]!==v||t[39]!==b?(N=o.default.createElement(r.Box,{className:"cursor-pointer bg-default px-4 py-3 hover:bg-hover active:bg-pressed",flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center,gap:3,"data-testid":v,onClick:_},b,w,O),t[35]=_,t[36]=w,t[37]=O,t[38]=v,t[39]=b,t[40]=N):N=t[40],N};n.MarketRow=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/market-row/market-row.tsx"}],[8030,{"./search-input":8031},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SearchInput",{enumerable:!0,get:function(){return a.SearchInput}});var a=e("./search-input")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/search-input/index.ts"}],[8031,{"../../../../../components/component-library":6633,"../../../../../helpers/constants/design-system":7149,"../../../../../hooks/useI18nContext":7301,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SearchInput=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../components/component-library"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,a.c)(15),{value:n,onChange:l,onClear:c,autoFocus:u}=e,d=u!==undefined&&u,p=(0,i.useI18nContext)();let m;t[0]!==c?(m=e=>{"Escape"===e.key&&c()},t[0]=c,t[1]=m):m=t[1];const f=m;let g,h,y,_;return t[2]!==p?(g=p("perpsSearchMarkets"),t[2]=p,t[3]=g):g=t[3],t[4]!==l?(h=e=>l(e.target.value),t[4]=l,t[5]=h):h=t[5],t[6]!==f?(y={"data-testid":"search-input",onKeyDown:f},t[6]=f,t[7]=y):y=t[7],t[8]!==d||t[9]!==c||t[10]!==g||t[11]!==h||t[12]!==y||t[13]!==n?(_=o.default.createElement(r.TextFieldSearch,{size:r.TextFieldSearchSize.Md,placeholder:g,autoFocus:d,value:n,onChange:h,clearButtonOnClick:c,borderRadius:s.BorderRadius.MD,"data-testid":"search-input-container",inputProps:y}),t[8]=d,t[9]=c,t[10]=g,t[11]=h,t[12]=y,t[13]=n,t[14]=_):_=t[14],_};n.SearchInput=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/search-input/search-input.tsx"}],[8032,{"./sort-dropdown":8033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SORT_OPTIONS",{enumerable:!0,get:function(){return a.SORT_OPTIONS}}),Object.defineProperty(n,"SortDropdown",{enumerable:!0,get:function(){return a.SortDropdown}});var a=e("./sort-dropdown")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/sort-dropdown/index.ts"}],[8033,{"../../../../../hooks/useI18nContext":7301,"../dropdown":8023,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SortDropdown=n.SORT_OPTIONS=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useI18nContext"),s=e("../dropdown");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const l=n.SORT_OPTIONS=[{id:"volume",labelKey:"perpsSortVolume",field:"volume",direction:"desc"},{id:"priceChangeHigh",labelKey:"perpsSortPriceChangeHighToLow",field:"priceChange",direction:"desc"},{id:"priceChangeLow",labelKey:"perpsSortPriceChangeLowToHigh",field:"priceChange",direction:"asc"},{id:"openInterest",labelKey:"perpsSortOpenInterest",field:"openInterest",direction:"desc"},{id:"fundingRate",labelKey:"perpsSortFundingRate",field:"fundingRate",direction:"desc"}],c=e=>{const t=(0,a.c)(8),{selectedOptionId:n,onOptionChange:i}=e,c=(0,r.useI18nContext)();let u;t[0]!==c?(u=l.map(e=>({id:e.id,label:c(e.labelKey)})),t[0]=c,t[1]=u):u=t[1];const d=u;let p;t[2]!==i?(p=e=>{const t=l.find(t=>t.id===e);t&&i(t.id,t.field,t.direction)},t[2]=i,t[3]=p):p=t[3];const m=p;let f;return t[4]!==m||t[5]!==d||t[6]!==n?(f=o.default.createElement(s.Dropdown,{options:d,selectedId:n,onChange:m,testId:"sort-dropdown"}),t[4]=m,t[5]=d,t[6]=n,t[7]=f):f=t[7],f};n.SortDropdown=c;n.default=c}}},{package:"$root$",file:"ui/pages/perps/market-list/components/sort-dropdown/sort-dropdown.tsx"}],[8034,{"./stock-sub-filter":8035},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"StockSubFilterSelect",{enumerable:!0,get:function(){return a.StockSubFilterSelect}});var a=e("./stock-sub-filter")}}},{package:"$root$",file:"ui/pages/perps/market-list/components/stock-sub-filter/index.ts"}],[8035,{"../../../../../hooks/useI18nContext":7301,"../dropdown":8023,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.StockSubFilterSelect=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../hooks/useI18nContext"),s=e("../dropdown");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const l=e=>{const t=(0,a.c)(20),{value:n,onChange:i}=e,l=(0,r.useI18nContext)();let c,u,d,p,m,f,g;t[0]!==l?(c=l("perpsFilterAll"),t[0]=l,t[1]=c):c=t[1],t[2]!==c?(u={id:"all",label:c},t[2]=c,t[3]=u):u=t[3],t[4]!==l?(d=l("perpsFilterStocksOnly"),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(p={id:"stocks",label:d},t[6]=d,t[7]=p):p=t[7],t[8]!==l?(m=l("perpsFilterCommodities"),t[8]=l,t[9]=m):m=t[9],t[10]!==m?(f={id:"commodities",label:m},t[10]=m,t[11]=f):f=t[11],t[12]!==u||t[13]!==p||t[14]!==f?(g=[u,p,f],t[12]=u,t[13]=p,t[14]=f,t[15]=g):g=t[15];const h=g;let y;return t[16]!==i||t[17]!==h||t[18]!==n?(y=o.default.createElement(s.Dropdown,{options:h,selectedId:n,onChange:i,testId:"stock-sub-filter"}),t[16]=i,t[17]=h,t[18]=n,t[19]=y):y=t[19],y};n.StockSubFilterSelect=l;n.default=l}}},{package:"$root$",file:"ui/pages/perps/market-list/components/stock-sub-filter/stock-sub-filter.tsx"}],[8036,{"../../../components/app/perps/mocks":6319,"../../../components/app/perps/utils":6340,"../../../helpers/constants/routes":7154,"../../../hooks/useI18nContext":7301,"../../../selectors/perps/feature-flags":8222,"../utils/sortMarkets":8039,"./components/filter-select":8025,"./components/market-row":8028,"./components/market-row-skeleton":8026,"./components/search-input":8030,"./components/sort-dropdown":8032,"./components/stock-sub-filter":8034,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MarketListView=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/design-system-react"),l=e("../../../hooks/useI18nContext"),c=e("../../../components/app/perps/mocks"),u=e("../../../components/app/perps/utils"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors/perps/feature-flags"),m=e("../utils/sortMarkets"),f=e("./components/market-row"),g=e("./components/market-row-skeleton"),h=e("./components/sort-dropdown"),y=e("./components/search-input"),_=e("./components/filter-select"),x=e("./components/stock-sub-filter");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=[...c.mockCryptoMarkets,...c.mockHip3Markets],E={all:new Set(["equity","commodity"]),stocks:new Set(["equity"]),commodities:new Set(["commodity"])},T=()=>{const e=(0,a.c)(58),t=(0,l.useI18nContext)(),n=(0,s.useNavigate)(),c=(0,r.useSelector)(p.getIsPerpsEnabled),[g,v]=(0,o.useState)(!0),[T,S]=(0,o.useState)(""),[w,C]=(0,o.useState)("volume"),[I,O]=(0,o.useState)("all"),[N,R]=(0,o.useState)("all");let B;e[0]!==w?(B=h.SORT_OPTIONS.find(e=>e.id===w),e[0]=w,e[1]=B):B=e[1];const A=B;let M,P,D;e[2]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{const e=setTimeout(()=>{v(!1)},500);return()=>clearTimeout(e)},P=[],e[2]=M,e[3]=P):(M=e[2],P=e[3]),(0,o.useEffect)(M,P),e[4]!==A||e[5]!==T||e[6]!==I||e[7]!==N?(D=T.trim()?(0,u.filterMarketsByQuery)(b,T):((e,t,n)=>{switch(t){case"all":default:return e;case"crypto":return e.filter(e=>!e.marketType||"crypto"===e.marketType);case"stocks":{const t=E[n];return e.filter(e=>{return("equity"===(n=e.marketType)||"commodity"===n)&&t.has(e.marketType);var n})}}})(b,I,N),A&&(D=(0,m.sortMarkets)({markets:D,sortBy:A.field,direction:A.direction})),e[4]=A,e[5]=T,e[6]=I,e[7]=N,e[8]=D):D=e[8];const L=D;let F;e[9]!==n?(F=()=>{n(-1)},e[9]=n,e[10]=F):F=e[10];const j=F;let W;e[11]===Symbol.for("react.memo_cache_sentinel")?(W=e=>{S(e)},e[11]=W):W=e[11];const U=W;let z;e[12]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{S("")},e[12]=z):z=e[12];const $=z;let V;e[13]===Symbol.for("react.memo_cache_sentinel")?(V=(e,t,n)=>{C(e)},e[13]=V):V=e[13];const G=V;let q;e[14]===Symbol.for("react.memo_cache_sentinel")?(q=e=>{O(e),R("all")},e[14]=q):q=e[14];const K=q;let H;e[15]!==n?(H=e=>{n(`${d.PERPS_MARKET_DETAIL_ROUTE}/${encodeURIComponent(e.symbol)}`)},e[15]=n,e[16]=H):H=e[16];const J=H;if(!c){let t;return e[17]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(s.Navigate,{to:d.DEFAULT_ROUTE,replace:!0}),e[17]=t):t=e[17],t}let X,Y,Q,Z,ee,te,ne,ae,oe,re,se,ie,le;return e[18]!==t?(X=t("back"),e[18]=t,e[19]=X):X=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(Y=o.default.createElement(i.Icon,{name:i.IconName.ArrowLeft,size:i.IconSize.Md,color:i.IconColor.IconDefault}),e[20]=Y):Y=e[20],e[21]!==j||e[22]!==X?(Q=o.default.createElement(i.ButtonBase,{onClick:j,className:"rounded-full p-1 bg-transparent min-w-0 h-auto hover:bg-hover active:bg-pressed","data-testid":"back-button","aria-label":X},Y),e[21]=j,e[22]=X,e[23]=Q):Q=e[23],e[24]!==t?(Z=t("perpsMarkets"),e[24]=t,e[25]=Z):Z=e[25],e[26]!==Z?(ee=o.default.createElement(i.Text,{fontWeight:i.FontWeight.Medium},Z),e[26]=Z,e[27]=ee):ee=e[27],e[28]!==Q||e[29]!==ee?(te=o.default.createElement(i.Box,{className:"border-b border-border-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:3},Q,ee),e[28]=Q,e[29]=ee,e[30]=te):te=e[30],e[31]!==T?(ne=o.default.createElement(i.Box,{className:"border-b border-border-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center},o.default.createElement(y.SearchInput,{value:T,onChange:U,onClear:$,autoFocus:!0})),e[31]=T,e[32]=ne):ne=e[32],e[33]!==T||e[34]!==I||e[35]!==w||e[36]!==N?(ae=!T.trim()&&o.default.createElement(i.Box,{className:"border-b border-border-muted px-4 py-3 flex-wrap",flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,justifyContent:i.BoxJustifyContent.Start,gap:3,"data-testid":"market-list-filter-sort-row"},o.default.createElement(_.FilterSelect,{value:I,onChange:K}),o.default.createElement(h.SortDropdown,{selectedOptionId:w,onOptionChange:G}),"stocks"===I&&o.default.createElement(x.StockSubFilterSelect,{value:N,onChange:R})),e[33]=T,e[34]=I,e[35]=w,e[36]=N,e[37]=ae):ae=e[37],e[38]!==g?(oe=g&&Array.from({length:8}).map(k),e[38]=g,e[39]=oe):oe=e[39],e[40]!==(null==A?void 0:A.field)||e[41]!==L||e[42]!==J||e[43]!==g?(re=!g&&L.length>0&&L.map(e=>o.default.createElement(f.MarketRow,{key:e.symbol,market:e,displayMetric:(null==A?void 0:A.field)||"volume",onPress:J})),e[40]=null==A?void 0:A.field,e[41]=L,e[42]=J,e[43]=g,e[44]=re):re=e[44],e[45]!==L||e[46]!==g||e[47]!==t?(se=!g&&0===L.length&&o.default.createElement(i.Box,{className:"px-4 py-8",flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Center,justifyContent:i.BoxJustifyContent.Center,gap:2},o.default.createElement(i.Icon,{name:i.IconName.Search,size:i.IconSize.Lg,color:i.IconColor.IconMuted}),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,color:i.TextColor.TextAlternative},t("perpsNoMarketsFound"))),e[45]=L,e[46]=g,e[47]=t,e[48]=se):se=e[48],e[49]!==oe||e[50]!==re||e[51]!==se?(ie=o.default.createElement(i.Box,{className:"flex-1 overflow-y-auto",flexDirection:i.BoxFlexDirection.Column},oe,re,se),e[49]=oe,e[50]=re,e[51]=se,e[52]=ie):ie=e[52],e[53]!==te||e[54]!==ne||e[55]!==ae||e[56]!==ie?(le=o.default.createElement(i.Box,{className:"flex h-full flex-col bg-background-default",flexDirection:i.BoxFlexDirection.Column,"data-testid":"market-list-view"},te,ne,ae,ie),e[53]=te,e[54]=ne,e[55]=ae,e[56]=ie,e[57]=le):le=e[57],le};n.MarketListView=T;n.default=T;function k(e,t){return o.default.createElement(g.MarketRowSkeleton,{key:`skeleton-${t}`})}}}},{package:"$root$",file:"ui/pages/perps/market-list/index.tsx"}],[8037,{"../../components/app/perps/mocks":6319,"../../components/app/perps/perps-market-balance-actions":6329,"../../components/app/perps/perps-token-logo":6334,"../../components/app/perps/utils":6340,"../../helpers/constants/routes":7154,"../../hooks/useI18nContext":7301,"../../selectors/perps/feature-flags":8222,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/design-system-react"),l=e("../../selectors/perps/feature-flags"),c=e("../../hooks/useI18nContext"),u=e("../../helpers/constants/routes"),d=e("../../components/app/perps/mocks"),p=e("../../components/app/perps/perps-token-logo"),m=e("../../components/app/perps/perps-market-balance-actions"),f=e("../../components/app/perps/utils");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h="flex items-center gap-3 px-4 py-3 bg-background-muted cursor-pointer hover:bg-hover active:bg-pressed",y="rounded-none first:rounded-t-xl last:rounded-b-xl only:rounded-xl";n.default=()=>{const e=(0,a.c)(150),t=(0,c.useI18nContext)(),n=(0,s.useNavigate)(),g=(0,r.useSelector)(l.getIsPerpsEnabled);let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O=d.mockPositions.filter(_).slice(0,3),e[0]=O):O=e[0];const N=O;let R;e[1]===Symbol.for("react.memo_cache_sentinel")?(R=d.mockOrders.filter(x).slice(0,5),e[1]=R):R=e[1];const B=R;let A;e[2]===Symbol.for("react.memo_cache_sentinel")?(A=d.mockCryptoMarkets.slice(0,5),e[2]=A):A=e[2];const M=A;let P;e[3]===Symbol.for("react.memo_cache_sentinel")?(P=d.mockHip3Markets.slice(0,5),e[3]=P):P=e[3];const D=P;let L;e[4]!==n?(L=()=>{n(u.DEFAULT_ROUTE)},e[4]=n,e[5]=L):L=e[5];const F=L;let j;e[6]!==n?(j=()=>{n(u.PERPS_MARKET_LIST_ROUTE)},e[6]=n,e[7]=j):j=e[7];const W=j;let U;e[8]!==n?(U=e=>{n(`${u.PERPS_MARKET_DETAIL_ROUTE}/${encodeURIComponent(e)}`)},e[8]=n,e[9]=U):U=e[9];const z=U;let $;e[10]!==n?($=e=>{n(`${u.PERPS_MARKET_DETAIL_ROUTE}/${encodeURIComponent(e)}`)},e[10]=n,e[11]=$):$=e[11];const V=$;if(!g){let t;return e[12]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(s.Navigate,{to:u.DEFAULT_ROUTE,replace:!0}),e[12]=t):t=e[12],t}let G,q,K,H,J,X,Y,Q,Z,ee,te,ne,ae,oe,re,se,ie,le,ce,ue,de,pe,me,fe,ge,he,ye,_e,xe,ve,be,Ee,Te,ke,Se,we,Ce,Ie,Oe,Ne,Re,Be,Ae,Me,Pe,De,Le,Fe,je,We,Ue,ze,$e,Ve,Ge,qe,Ke,He,Je,Xe,Ye,Qe,Ze,et,tt,nt,at,ot;return e[13]!==t?(G=t("back"),e[13]=t,e[14]=G):G=e[14],e[15]!==F||e[16]!==G?(q=o.default.createElement(i.ButtonIcon,{"data-testid":"perps-home-back-button",color:i.IconColor.IconAlternative,size:i.ButtonIconSize.Md,ariaLabel:G,iconName:i.IconName.ArrowLeft,onClick:F}),e[15]=F,e[16]=G,e[17]=q):q=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(K={flex:1},e[18]=K):K=e[18],e[19]!==t?(H=t("perps"),e[19]=t,e[20]=H):H=e[20],e[21]!==H?(J=o.default.createElement(i.Text,{variant:i.TextVariant.HeadingLg,fontWeight:i.FontWeight.Bold,style:K},H),e[21]=H,e[22]=J):J=e[22],e[23]!==t?(X=t("search"),e[23]=t,e[24]=X):X=e[24],e[25]!==W||e[26]!==X?(Y=o.default.createElement(i.ButtonIcon,{"data-testid":"perps-home-search-button",color:i.IconColor.IconAlternative,size:i.ButtonIconSize.Md,ariaLabel:X,iconName:i.IconName.Search,onClick:W}),e[25]=W,e[26]=X,e[27]=Y):Y=e[27],e[28]!==J||e[29]!==Y||e[30]!==q?(Q=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,gap:2},q,J,Y),e[28]=J,e[29]=Y,e[30]=q,e[31]=Q):Q=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(Z=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(m.PerpsMarketBalanceActions,{onAddFunds:v,onWithdraw:b,onLearnMore:E})),e[32]=Z):Z=e[32],e[33]!==z||e[34]!==t?(ee=N.length>0&&o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,justifyContent:i.BoxJustifyContent.Between,paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},t("perpsYourPositions")),o.default.createElement(i.ButtonIcon,{color:i.IconColor.IconAlternative,size:i.ButtonIconSize.Sm,ariaLabel:t("perpsPositions"),iconName:i.IconName.MoreHorizontal,onClick:T})),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,style:{gap:"1px"}},N.map(e=>{const n=(0,f.getDisplayName)(e.coin),a=parseFloat(e.size)>=0,r=parseFloat(e.unrealizedPnl)>=0;return o.default.createElement(i.Box,{key:e.coin,className:`${h} ${y}`,role:"button",tabIndex:0,onClick:()=>z(e.coin),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||z(e.coin)}},o.default.createElement(p.PerpsTokenLogo,{symbol:e.coin,size:i.AvatarTokenSize.Md}),o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},n," |"," ",t(a?"perpsLong":"perpsShort")),o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},Math.abs(parseFloat(e.size))," ",n)),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:r?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},r?"+":"","$",e.unrealizedPnl))}))),e[33]=z,e[34]=t,e[35]=ee):ee=e[35],e[36]!==t?(te=B.length>0&&o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,justifyContent:i.BoxJustifyContent.Between,paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},t("perpsYourOrders")),o.default.createElement(i.ButtonIcon,{color:i.IconColor.IconAlternative,size:i.ButtonIconSize.Sm,ariaLabel:t("perpsOrders"),iconName:i.IconName.MoreHorizontal,onClick:k})),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,style:{gap:"1px"}},B.map(e=>{const n=(0,f.getDisplayName)(e.symbol),a="limit"===e.orderType?t("perpsLimit"):t("perpsMarket"),r="buy"===e.side?t("perpsBuy"):t("perpsSell"),s="limit"===e.orderType?`$${(parseFloat(e.size)*parseFloat(e.price)).toFixed(2)}`:"-";return o.default.createElement(i.Box,{key:e.orderId,className:`${h} ${y}`,role:"button",tabIndex:0},o.default.createElement(p.PerpsTokenLogo,{symbol:e.symbol,size:i.AvatarTokenSize.Md}),o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},n," | ",a," ",r),o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},e.size," ",n)),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},s))}))),e[36]=t,e[37]=te):te=e[37],e[38]!==W?(ne=e=>{"Enter"!==e.key&&" "!==e.key||W()},e[38]=W,e[39]=ne):ne=e[39],e[40]!==t?(ae=t("perpsExploreCrypto"),e[40]=t,e[41]=ae):ae=e[41],e[42]!==ae?(oe=o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},ae),e[42]=ae,e[43]=oe):oe=e[43],e[44]===Symbol.for("react.memo_cache_sentinel")?(re=o.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[44]=re):re=e[44],e[45]!==W||e[46]!==ne||e[47]!==oe?(se=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:1,paddingBottom:2,className:"cursor-pointer",role:"button",tabIndex:0,onClick:W,onKeyDown:ne},oe,re),e[45]=W,e[46]=ne,e[47]=oe,e[48]=se):se=e[48],e[49]===Symbol.for("react.memo_cache_sentinel")?(ie={gap:"1px"},e[49]=ie):ie=e[49],e[50]!==V?(le=M.map(e=>{const t=e.change24hPercent.startsWith("+");return o.default.createElement(i.Box,{key:e.symbol,className:`${h} ${y}`,role:"button",tabIndex:0,onClick:()=>V(e.symbol),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||V(e.symbol)}},o.default.createElement(p.PerpsTokenLogo,{symbol:e.symbol,size:i.AvatarTokenSize.Md}),o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},e.name),o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},(0,f.getDisplayName)(e.symbol),"-USD")),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.End},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},e.price),o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:t?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},e.change24hPercent)))}),e[50]=V,e[51]=le):le=e[51],e[52]!==le?(ce=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,style:ie},le),e[52]=le,e[53]=ce):ce=e[53],e[54]!==se||e[55]!==ce?(ue=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},se,ce),e[54]=se,e[55]=ce,e[56]=ue):ue=e[56],e[57]!==W?(de=e=>{"Enter"!==e.key&&" "!==e.key||W()},e[57]=W,e[58]=de):de=e[58],e[59]!==t?(pe=t("perpsExploreStocksAndCommodities"),e[59]=t,e[60]=pe):pe=e[60],e[61]!==pe?(me=o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},pe),e[61]=pe,e[62]=me):me=e[62],e[63]===Symbol.for("react.memo_cache_sentinel")?(fe=o.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[63]=fe):fe=e[63],e[64]!==W||e[65]!==de||e[66]!==me?(ge=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:1,paddingBottom:2,className:"cursor-pointer",role:"button",tabIndex:0,onClick:W,onKeyDown:de},me,fe),e[64]=W,e[65]=de,e[66]=me,e[67]=ge):ge=e[67],e[68]===Symbol.for("react.memo_cache_sentinel")?(he={gap:"1px"},e[68]=he):he=e[68],e[69]!==V?(ye=D.map(e=>{const t=e.change24hPercent.startsWith("+");return o.default.createElement(i.Box,{key:e.symbol,className:`${h} ${y}`,role:"button",tabIndex:0,onClick:()=>V(e.symbol),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||V(e.symbol)}},o.default.createElement(p.PerpsTokenLogo,{symbol:e.symbol,size:i.AvatarTokenSize.Md}),o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},e.name),o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},(0,f.getDisplayName)(e.symbol),"-USD")),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.End},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},e.price),o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:t?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},e.change24hPercent)))}),e[69]=V,e[70]=ye):ye=e[70],e[71]!==ye?(_e=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,style:he},ye),e[71]=ye,e[72]=_e):_e=e[72],e[73]!==ge||e[74]!==_e?(xe=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},ge,_e),e[73]=ge,e[74]=_e,e[75]=xe):xe=e[75],e[76]!==t?(ve=t("perpsActivity"),e[76]=t,e[77]=ve):ve=e[77],e[78]!==ve?(be=o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},ve),e[78]=ve,e[79]=be):be=e[79],e[80]===Symbol.for("react.memo_cache_sentinel")?(Ee=o.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[80]=Ee):Ee=e[80],e[81]!==be?(Te=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:1,paddingBottom:2},be,Ee),e[81]=be,e[82]=Te):Te=e[82],e[83]===Symbol.for("react.memo_cache_sentinel")?(ke={gap:"1px"},e[83]=ke):ke=e[83],e[84]===Symbol.for("react.memo_cache_sentinel")?(Se=o.default.createElement(p.PerpsTokenLogo,{symbol:"ETH",size:i.AvatarTokenSize.Md}),e[84]=Se):Se=e[84],e[85]!==t?(we=t("perpsOpenedLong"),e[85]=t,e[86]=we):we=e[86],e[87]!==we?(Ce=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},we),e[87]=we,e[88]=Ce):Ce=e[88],e[89]===Symbol.for("react.memo_cache_sentinel")?(Ie=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},"2.5 ETH"),e[89]=Ie):Ie=e[89],e[90]!==Ce?(Oe=o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},Ce,Ie),e[90]=Ce,e[91]=Oe):Oe=e[91],e[92]===Symbol.for("react.memo_cache_sentinel")?(Ne=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.SuccessDefault},"+$125.00"),e[92]=Ne):Ne=e[92],e[93]!==Oe?(Re=o.default.createElement(i.Box,{className:`${h} rounded-t-xl`,role:"button",tabIndex:0},Se,Oe,Ne),e[93]=Oe,e[94]=Re):Re=e[94],e[95]===Symbol.for("react.memo_cache_sentinel")?(Be=o.default.createElement(p.PerpsTokenLogo,{symbol:"BTC",size:i.AvatarTokenSize.Md}),e[95]=Be):Be=e[95],e[96]!==t?(Ae=t("perpsClosedShort"),e[96]=t,e[97]=Ae):Ae=e[97],e[98]!==Ae?(Me=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},Ae),e[98]=Ae,e[99]=Me):Me=e[99],e[100]===Symbol.for("react.memo_cache_sentinel")?(Pe=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},"0.5 BTC"),e[100]=Pe):Pe=e[100],e[101]!==Me?(De=o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},Me,Pe),e[101]=Me,e[102]=De):De=e[102],e[103]===Symbol.for("react.memo_cache_sentinel")?(Le=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.ErrorDefault},"-$32.50"),e[103]=Le):Le=e[103],e[104]!==De?(Fe=o.default.createElement(i.Box,{className:h,role:"button",tabIndex:0},Be,De,Le),e[104]=De,e[105]=Fe):Fe=e[105],e[106]===Symbol.for("react.memo_cache_sentinel")?(je=o.default.createElement(p.PerpsTokenLogo,{symbol:"SOL",size:i.AvatarTokenSize.Md}),e[106]=je):je=e[106],e[107]!==t?(We=t("perpsIncreasedPosition"),e[107]=t,e[108]=We):We=e[108],e[109]!==We?(Ue=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},We),e[109]=We,e[110]=Ue):Ue=e[110],e[111]===Symbol.for("react.memo_cache_sentinel")?(ze=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},"50 SOL"),e[111]=ze):ze=e[111],e[112]!==Ue?($e=o.default.createElement(i.Box,{className:"flex-1 min-w-0 flex flex-col gap-1"},Ue,ze),e[112]=Ue,e[113]=$e):$e=e[113],e[114]===Symbol.for("react.memo_cache_sentinel")?(Ve=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.SuccessDefault},"+$45.20"),e[114]=Ve):Ve=e[114],e[115]!==$e?(Ge=o.default.createElement(i.Box,{className:`${h} rounded-b-xl`,role:"button",tabIndex:0},je,$e,Ve),e[115]=$e,e[116]=Ge):Ge=e[116],e[117]!==Re||e[118]!==Fe||e[119]!==Ge?(qe=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,style:ke},Re,Fe,Ge),e[117]=Re,e[118]=Fe,e[119]=Ge,e[120]=qe):qe=e[120],e[121]!==Te||e[122]!==qe?(Ke=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},Te,qe),e[121]=Te,e[122]=qe,e[123]=Ke):Ke=e[123],e[124]===Symbol.for("react.memo_cache_sentinel")?(He={gap:"1px"},e[124]=He):He=e[124],e[125]!==t?(Je=t("perpsContactSupport"),e[125]=t,e[126]=Je):Je=e[126],e[127]!==Je?(Xe=o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium},Je),e[127]=Je,e[128]=Xe):Xe=e[128],e[129]===Symbol.for("react.memo_cache_sentinel")?(Ye=o.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[129]=Ye):Ye=e[129],e[130]!==Xe?(Qe=o.default.createElement(i.Box,{className:`${h} rounded-t-xl`,role:"button",tabIndex:0,onClick:S,onKeyDown:w,justifyContent:i.BoxJustifyContent.Between},Xe,Ye),e[130]=Xe,e[131]=Qe):Qe=e[131],e[132]!==t?(Ze=t("perpsLearnBasics"),e[132]=t,e[133]=Ze):Ze=e[133],e[134]!==Ze?(et=o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium},Ze),e[134]=Ze,e[135]=et):et=e[135],e[136]===Symbol.for("react.memo_cache_sentinel")?(tt=o.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[136]=tt):tt=e[136],e[137]!==et?(nt=o.default.createElement(i.Box,{className:`${h} rounded-b-xl`,role:"button",tabIndex:0,onClick:C,onKeyDown:I,justifyContent:i.BoxJustifyContent.Between},et,tt),e[137]=et,e[138]=nt):nt=e[138],e[139]!==Qe||e[140]!==nt?(at=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,style:He},Qe,nt)),e[139]=Qe,e[140]=nt,e[141]=at):at=e[141],e[142]!==Q||e[143]!==ee||e[144]!==te||e[145]!==ue||e[146]!==xe||e[147]!==Ke||e[148]!==at?(ot=o.default.createElement(i.Box,{className:"main-container asset__container","data-testid":"perps-home-page"},Q,Z,ee,te,ue,xe,Ke,at),e[142]=Q,e[143]=ee,e[144]=te,e[145]=ue,e[146]=xe,e[147]=Ke,e[148]=at,e[149]=ot):ot=e[149],ot};function _(e){return!e.coin.includes(":")}function x(e){return"open"===e.status}function v(){}function b(){}function E(){}function T(){}function k(){}function S(){}function w(e){"Enter"===e.key||e.key}function C(){}function I(e){"Enter"===e.key||e.key}}}},{package:"$root$",file:"ui/pages/perps/perps-home-page.tsx"}],[8038,{"../../components/app/perps/constants/chartConfig":6317,"../../components/app/perps/mocks":6319,"../../components/app/perps/order-card":6320,"../../components/app/perps/perps-candle-period-selector":6322,"../../components/app/perps/perps-candlestick-chart":6324,"../../components/app/perps/perps-token-logo":6334,"../../components/app/perps/utils":6340,"../../helpers/constants/routes":7154,"../../hooks/useFormatters":7297,"../../hooks/useI18nContext":7301,"../../selectors/perps/feature-flags":8222,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/design-system-react"),l=e("../../selectors/perps/feature-flags"),c=e("../../hooks/useI18nContext"),u=e("../../helpers/constants/routes"),d=e("../../components/app/perps/mocks"),p=e("../../components/app/perps/order-card"),m=e("../../components/app/perps/perps-token-logo"),f=e("../../components/app/perps/perps-candlestick-chart"),g=e("../../components/app/perps/perps-candle-period-selector"),h=e("../../components/app/perps/constants/chartConfig"),y=e("../../components/app/perps/utils"),_=e("../../hooks/useFormatters");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.c)(185),t=(0,c.useI18nContext)(),n=(0,s.useNavigate)(),{symbol:x}=(0,s.useParams)(),w=(0,r.useSelector)(l.getIsPerpsEnabled),{formatCurrencyWithMinThreshold:C}=(0,_.useFormatters)();let I;e:{if(!x){I=undefined;break e}let t;e[0]!==x?(t=(0,y.safeDecodeURIComponent)(x),e[0]=x,e[1]=t):t=e[1],I=t}const O=I;let N;e:{if(!O){N=undefined;break e}let t;e[2]!==O?(t=(0,y.findMarketBySymbol)(O),e[2]=O,e[3]=t):t=e[3],N=t}const R=N;let B;e:{if(!O){B=undefined;break e}let t;e[4]!==O?(t=d.mockPositions.find(e=>e.coin.toLowerCase()===O.toLowerCase()),e[4]=O,e[5]=t):t=e[5],B=t}const A=B;let M;e:{if(!O){let t;e[6]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[6]=t):t=e[6],M=t;break e}let t;e[7]!==O?(t=d.mockOrders.filter(e=>e.symbol.toLowerCase()===O.toLowerCase()&&"open"===e.status),e[7]=O,e[8]=t):t=e[8],M=t}const P=M,[D,L]=(0,o.useState)(h.CandlePeriod.FiveMinutes),F=(0,o.useRef)(null);let j;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=e=>{L(e),F.current&&F.current.applyZoom(h.ZOOM_CONFIG.DEFAULT_CANDLES,!0)},e[9]=j):j=e[9];const W=j;let U;e[10]!==n?(U=()=>{n(-1)},e[10]=n,e[11]=U):U=e[11];const z=U,$=v;if(!w){let t;return e[12]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(s.Navigate,{to:u.DEFAULT_ROUTE,replace:!0}),e[12]=t):t=e[12],t}if(!x||!O){let t;return e[13]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(s.Navigate,{to:u.DEFAULT_ROUTE,replace:!0}),e[13]=t):t=e[13],t}if(!R){let n,a,r,s,l,c,u,d,p;return e[14]!==t?(n=t("back"),e[14]=t,e[15]=n):n=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(a=o.default.createElement(i.Icon,{name:i.IconName.ArrowLeft,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[16]=a):a=e[16],e[17]!==z||e[18]!==n?(r=o.default.createElement(i.Box,{paddingLeft:2,paddingBottom:4,paddingTop:4},o.default.createElement(i.Box,{"data-testid":"perps-market-detail-back-button",onClick:z,"aria-label":n,className:"p-2 cursor-pointer"},a)),e[17]=z,e[18]=n,e[19]=r):r=e[19],e[20]!==t?(s=t("perpsMarketNotFound"),e[20]=t,e[21]=s):s=e[21],e[22]!==s?(l=o.default.createElement(i.Text,{variant:i.TextVariant.HeadingMd,color:i.TextColor.TextDefault},s),e[22]=s,e[23]=l):l=e[23],e[24]!==x||e[25]!==t?(c=t("perpsMarketNotFoundDescription",[(0,y.getDisplayName)((0,y.safeDecodeURIComponent)(x)??x)]),e[24]=x,e[25]=t,e[26]=c):c=e[26],e[27]!==c?(u=o.default.createElement(i.Box,{paddingTop:2},o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,color:i.TextColor.TextAlternative},c)),e[27]=c,e[28]=u):u=e[28],e[29]!==l||e[30]!==u?(d=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Center,justifyContent:i.BoxJustifyContent.Center,padding:4},l,u),e[29]=l,e[30]=u,e[31]=d):d=e[31],e[32]!==d||e[33]!==r?(p=o.default.createElement(i.Box,{className:"main-container asset__container"},r,d),e[32]=d,e[33]=r,e[34]=p):p=e[34],p}let V;e[35]!==R.symbol?(V=(0,y.getDisplayName)(R.symbol),e[35]=R.symbol,e[36]=V):V=e[36];const G=V;let q,K,H,J,X,Y,Q,Z,ee,te,ne,ae,oe,re,se,ie,le,ce,ue,de,pe,me,fe,ge,he,ye,_e,xe,ve,be,Ee,Te,ke,Se,we,Ce,Ie,Oe,Ne,Re,Be,Ae,Me,Pe,De,Le,Fe,je,We,Ue,ze,$e,Ve,Ge,qe,Ke,He,Je,Xe,Ye,Qe;return e[37]!==t?(q=t("back"),e[37]=t,e[38]=q):q=e[38],e[39]===Symbol.for("react.memo_cache_sentinel")?(K=o.default.createElement(i.Icon,{name:i.IconName.ArrowLeft,size:i.IconSize.Md,color:i.IconColor.IconAlternative}),e[39]=K):K=e[39],e[40]!==z||e[41]!==q?(H=o.default.createElement(i.Box,{"data-testid":"perps-market-detail-back-button",onClick:z,"aria-label":q,className:"p-2 -ml-2 cursor-pointer"},K),e[40]=z,e[41]=q,e[42]=H):H=e[42],e[43]!==R.symbol?(J=o.default.createElement(m.PerpsTokenLogo,{symbol:R.symbol,size:i.AvatarTokenSize.Md}),e[43]=R.symbol,e[44]=J):J=e[44],e[45]!==G?(X=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},G,"-USD"),e[45]=G,e[46]=X):X=e[46],e[47]!==R.price?(Y=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,"data-testid":"perps-market-detail-price"},R.price),e[47]=R.price,e[48]=Y):Y=e[48],e[49]!==R.change24hPercent?(Q=(0,y.getChangeColor)(R.change24hPercent),e[49]=R.change24hPercent,e[50]=Q):Q=e[50],e[51]!==R.change24h||e[52]!==R.change24hPercent||e[53]!==Q?(Z=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:Q,"data-testid":"perps-market-detail-change"},R.change24h," (",R.change24hPercent,")"),e[51]=R.change24h,e[52]=R.change24hPercent,e[53]=Q,e[54]=Z):Z=e[54],e[55]!==Y||e[56]!==Z?(ee=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Baseline,gap:1},Y,Z),e[55]=Y,e[56]=Z,e[57]=ee):ee=e[57],e[58]!==X||e[59]!==ee?(te=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column},X,ee),e[58]=X,e[59]=ee,e[60]=te):te=e[60],e[61]===Symbol.for("react.memo_cache_sentinel")?(ne=o.default.createElement(i.Box,{className:"flex-1"}),e[61]=ne):ne=e[61],e[62]!==t?(ae=t("perpsAddToFavorites"),e[62]=t,e[63]=ae):ae=e[63],e[64]===Symbol.for("react.memo_cache_sentinel")?(oe=o.default.createElement(i.Icon,{name:i.IconName.Star,size:i.IconSize.Md,color:i.IconColor.IconAlternative}),e[64]=oe):oe=e[64],e[65]!==ae?(re=o.default.createElement(i.Box,{"data-testid":"perps-market-detail-favorite-button","aria-label":ae,className:"p-2 cursor-pointer",onClick:b},oe),e[65]=ae,e[66]=re):re=e[66],e[67]!==J||e[68]!==te||e[69]!==re||e[70]!==H?(se=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,gap:2},H,J,te,ne,re),e[67]=J,e[68]=te,e[69]=re,e[70]=H,e[71]=se):se=e[71],e[72]!==D?(ie=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,"data-testid":"perps-market-detail-chart"},o.default.createElement(f.PerpsCandlestickChart,{ref:F,height:250,selectedPeriod:D})),le=o.default.createElement(g.PerpsCandlePeriodSelector,{selectedPeriod:D,onPeriodChange:W}),e[72]=D,e[73]=ie,e[74]=le):(ie=e[73],le=e[74]),e[75]!==C||e[76]!==A||e[77]!==t?(ce=A&&o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(i.Box,{paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},t("perpsPosition"))),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,gap:2,paddingTop:2},o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,gap:2},o.default.createElement(i.Box,{className:"flex-1 rounded-xl bg-muted px-4 py-3"},o.default.createElement(i.Box,{paddingBottom:1},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsPnl"))),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium,color:parseFloat(A.unrealizedPnl)>=0?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},parseFloat(A.unrealizedPnl)>=0?"+":"-",C(Math.abs(parseFloat(A.unrealizedPnl)),"USD"))),o.default.createElement(i.Box,{className:"flex-1 rounded-xl bg-muted px-4 py-3"},o.default.createElement(i.Box,{paddingBottom:1},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsReturn"))),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium,color:parseFloat(A.returnOnEquity)>=0?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},parseFloat(A.returnOnEquity)>=0?"+":"",A.returnOnEquity,"%"))),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,gap:2},o.default.createElement(i.Box,{className:"flex-1 cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:i.BoxFlexDirection.Column,onClick:E},o.default.createElement(i.Box,{paddingBottom:1},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsSize"))),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium},Math.abs(parseFloat(A.size)).toFixed(5)," ",(0,y.getDisplayName)(A.coin))),o.default.createElement(i.Box,{className:"flex-1 cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:i.BoxFlexDirection.Column,onClick:T},o.default.createElement(i.Box,{paddingBottom:1},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsMargin"))),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium},"$",A.marginUsed))),o.default.createElement(i.Box,{className:"cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:i.BoxFlexDirection.Column,onClick:k},o.default.createElement(i.Box,{paddingBottom:1},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsAutoClose"))),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium},"TP"," ",A.takeProfitPrice?`$${A.takeProfitPrice}`:"-",", SL"," ",A.stopLossPrice?`$${A.stopLossPrice}`:"-"))),o.default.createElement(i.Box,{paddingTop:4,paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},t("perpsDetails"))),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column},o.default.createElement(i.Box,{className:"rounded-t-xl bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsDirection")),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:parseFloat(A.size)>=0?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},parseFloat(A.size)>=0?t("perpsLong"):t("perpsShort"))),o.default.createElement(i.Box,{className:"bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsEntryPrice")),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},"$",A.entryPrice)),o.default.createElement(i.Box,{className:"bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsLiquidationPrice")),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},A.liquidationPrice?`$${A.liquidationPrice}`:"-")),o.default.createElement(i.Box,{className:"rounded-b-xl bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsFundingPayments")),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},"$",A.cumulativeFunding.sinceOpen)))),e[75]=C,e[76]=A,e[77]=t,e[78]=ce):ce=e[78],e[79]!==P||e[80]!==t?(ue=P.length>0&&o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(i.Box,{paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},t("perpsOrders"))),o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,className:"overflow-hidden rounded-xl"},P.map(e=>o.default.createElement(p.OrderCard,{key:e.orderId,order:e,variant:"muted",onClick:$})))),e[79]=P,e[80]=t,e[81]=ue):ue=e[81],e[82]!==t?(de=t("perpsStats"),e[82]=t,e[83]=de):de=e[83],e[84]!==de?(pe=o.default.createElement(i.Box,{paddingTop:4,paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},de)),e[84]=de,e[85]=pe):pe=e[85],e[86]!==t?(me=t("perps24hVolume"),e[86]=t,e[87]=me):me=e[87],e[88]!==me?(fe=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},me),e[88]=me,e[89]=fe):fe=e[89],e[90]!==R.volume?(ge=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},R.volume),e[90]=R.volume,e[91]=ge):ge=e[91],e[92]!==fe||e[93]!==ge?(he=o.default.createElement(i.Box,{className:"bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},fe,ge),e[92]=fe,e[93]=ge,e[94]=he):he=e[94],e[95]!==R.openInterest||e[96]!==t?(ye=R.openInterest&&o.default.createElement(i.Box,{className:"bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsOpenInterest")),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},R.openInterest)),e[95]=R.openInterest,e[96]=t,e[97]=ye):ye=e[97],e[98]!==R.fundingRate||e[99]!==t?(_e=R.fundingRate!==undefined&&o.default.createElement(i.Box,{className:"bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center},o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,color:i.TextColor.TextAlternative},t("perpsFundingRate")),o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:R.fundingRate>=0?i.TextColor.SuccessDefault:i.TextColor.ErrorDefault},R.fundingRate>=0?"+":"",(100*R.fundingRate).toFixed(4),"%")),e[98]=R.fundingRate,e[99]=t,e[100]=_e):_e=e[100],e[101]!==he||e[102]!==ye||e[103]!==_e?(xe=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,className:"overflow-hidden rounded-xl"},he,ye,_e),e[101]=he,e[102]=ye,e[103]=_e,e[104]=xe):xe=e[104],e[105]!==pe||e[106]!==xe?(ve=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},pe,xe),e[105]=pe,e[106]=xe,e[107]=ve):ve=e[107],e[108]!==t?(be=t("perpsRecentActivity"),e[108]=t,e[109]=be):be=e[109],e[110]!==be?(Ee=o.default.createElement(i.Box,{paddingTop:4,paddingBottom:2},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingSm,fontWeight:i.FontWeight.Medium},be)),e[110]=be,e[111]=Ee):Ee=e[111],e[112]!==R.symbol?(Te=o.default.createElement(m.PerpsTokenLogo,{symbol:R.symbol,size:i.AvatarTokenSize.Md}),e[112]=R.symbol,e[113]=Te):Te=e[113],e[114]!==t?(ke=t("perpsOpenedLong"),e[114]=t,e[115]=ke):ke=e[115],e[116]!==ke?(Se=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},ke),e[116]=ke,e[117]=Se):Se=e[117],e[118]!==G?(we=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},"2.50000 ",G),e[118]=G,e[119]=we):we=e[119],e[120]!==Se||e[121]!==we?(Ce=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Start,className:"min-w-0 flex-1",gap:1},Se,we),e[120]=Se,e[121]=we,e[122]=Ce):Ce=e[122],e[123]===Symbol.for("react.memo_cache_sentinel")?(Ie=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.SuccessDefault},"+$125.00"),e[123]=Ie):Ie=e[123],e[124]!==Te||e[125]!==Ce?(Oe=o.default.createElement(i.Box,{className:"w-full bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:3},Te,Ce,Ie),e[124]=Te,e[125]=Ce,e[126]=Oe):Oe=e[126],e[127]!==R.symbol?(Ne=o.default.createElement(m.PerpsTokenLogo,{symbol:R.symbol,size:i.AvatarTokenSize.Md}),e[127]=R.symbol,e[128]=Ne):Ne=e[128],e[129]!==t?(Re=t("perpsIncreasedPosition"),e[129]=t,e[130]=Re):Re=e[130],e[131]!==Re?(Be=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},Re),e[131]=Re,e[132]=Be):Be=e[132],e[133]!==G?(Ae=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},"0.50000 ",G),e[133]=G,e[134]=Ae):Ae=e[134],e[135]!==Be||e[136]!==Ae?(Me=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Start,className:"min-w-0 flex-1",gap:1},Be,Ae),e[135]=Be,e[136]=Ae,e[137]=Me):Me=e[137],e[138]===Symbol.for("react.memo_cache_sentinel")?(Pe=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.SuccessDefault},"+$45.20"),e[138]=Pe):Pe=e[138],e[139]!==Ne||e[140]!==Me?(De=o.default.createElement(i.Box,{className:"w-full bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:3},Ne,Me,Pe),e[139]=Ne,e[140]=Me,e[141]=De):De=e[141],e[142]!==R.symbol?(Le=o.default.createElement(m.PerpsTokenLogo,{symbol:R.symbol,size:i.AvatarTokenSize.Md}),e[142]=R.symbol,e[143]=Le):Le=e[143],e[144]!==t?(Fe=t("perpsClosedShort"),e[144]=t,e[145]=Fe):Fe=e[145],e[146]!==Fe?(je=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium},Fe),e[146]=Fe,e[147]=je):je=e[147],e[148]!==G?(We=o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},"1.25000 ",G),e[148]=G,e[149]=We):We=e[149],e[150]!==je||e[151]!==We?(Ue=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Start,className:"min-w-0 flex-1",gap:1},je,We),e[150]=je,e[151]=We,e[152]=Ue):Ue=e[152],e[153]===Symbol.for("react.memo_cache_sentinel")?(ze=o.default.createElement(i.Text,{variant:i.TextVariant.BodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.ErrorDefault},"-$32.50"),e[153]=ze):ze=e[153],e[154]!==Le||e[155]!==Ue?($e=o.default.createElement(i.Box,{className:"w-full bg-muted px-4 py-3",flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,gap:3},Le,Ue,ze),e[154]=Le,e[155]=Ue,e[156]=$e):$e=e[156],e[157]!==Oe||e[158]!==De||e[159]!==$e?(Ve=o.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,className:"overflow-hidden rounded-xl"},Oe,De,$e),e[157]=Oe,e[158]=De,e[159]=$e,e[160]=Ve):Ve=e[160],e[161]!==t?(Ge=t("perpsLearnBasics"),e[161]=t,e[162]=Ge):Ge=e[162],e[163]!==Ge?(qe=o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium},Ge),e[163]=Ge,e[164]=qe):qe=e[164],e[165]===Symbol.for("react.memo_cache_sentinel")?(Ke=o.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:i.IconColor.IconAlternative}),e[165]=Ke):Ke=e[165],e[166]!==qe?(He=o.default.createElement(i.Box,{className:"mt-4 w-full cursor-pointer rounded-xl bg-muted px-4 py-3 hover:bg-muted-hover active:bg-muted-pressed",flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,alignItems:i.BoxAlignItems.Center,onClick:S},qe,Ke),e[166]=qe,e[167]=He):He=e[167],e[168]!==t?(Je=t("perpsDisclaimer"),e[168]=t,e[169]=Je):Je=e[169],e[170]!==Je?(Xe=o.default.createElement(i.Box,{paddingTop:4},o.default.createElement(i.Text,{variant:i.TextVariant.BodyXs,color:i.TextColor.TextAlternative},Je)),e[170]=Je,e[171]=Xe):Xe=e[171],e[172]!==Ee||e[173]!==Ve||e[174]!==He||e[175]!==Xe?(Ye=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},Ee,Ve,He,Xe),e[172]=Ee,e[173]=Ve,e[174]=He,e[175]=Xe,e[176]=Ye):Ye=e[176],e[177]!==se||e[178]!==ie||e[179]!==le||e[180]!==ce||e[181]!==ue||e[182]!==ve||e[183]!==Ye?(Qe=o.default.createElement(i.Box,{className:"main-container asset__container","data-testid":"perps-market-detail-page"},se,ie,le,ce,ue,ve,Ye),e[177]=se,e[178]=ie,e[179]=le,e[180]=ce,e[181]=ue,e[182]=ve,e[183]=Ye,e[184]=Qe):Qe=e[184],Qe};function v(){}function b(){}function E(){}function T(){}function k(){}function S(){}}}},{package:"$root$",file:"ui/pages/perps/perps-market-detail-page.tsx"}],[8039,{"../../../components/app/perps/constants":6316},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sortMarkets=n.parseVolume=void 0;var a=e("../../../components/app/perps/constants");const o={K:1e3,M:1e6,B:1e9,T:1e12},r=/\$?([\d.,]+)([KMBT])?/u,s=e=>{if(!e)return-1;if(e===a.PERPS_CONSTANTS.FALLBACK_PRICE_DISPLAY)return-1;if("$<1"===e)return.5;const t=r.exec(e);if(t){const[,e,n]=t,a=Number.parseFloat((e=>{let t="";for(const n of e)","!==n&&(t+=n);return t})(e));return Number.isNaN(a)?-1:n?a*o[n]:a}return-1};n.parseVolume=s;n.sortMarkets=({markets:e,sortBy:t,direction:n=a.MARKET_SORTING_CONFIG.DEFAULT_DIRECTION})=>{const o=[...e];return o.sort((e,o)=>{let r=0;switch(t){case a.MARKET_SORTING_CONFIG.SORT_FIELDS.VOLUME:r=s(e.volume)-s(o.volume);break;case a.MARKET_SORTING_CONFIG.SORT_FIELDS.PRICE_CHANGE:{var i,l;const t=parseFloat((null===(i=e.change24hPercent)||void 0===i?void 0:i.replace(/[%+]/gu,""))||"0"),n=parseFloat((null===(l=o.change24hPercent)||void 0===l?void 0:l.replace(/[%+]/gu,""))||"0");r=(Number.isNaN(t)?0:t)-(Number.isNaN(n)?0:n);break}case a.MARKET_SORTING_CONFIG.SORT_FIELDS.FUNDING_RATE:r=(e.fundingRate??0)-(o.fundingRate??0);break;case a.MARKET_SORTING_CONFIG.SORT_FIELDS.OPEN_INTEREST:r=s(e.openInterest)-s(o.openInterest);break}return n===a.MARKET_SORTING_CONFIG.DEFAULT_DIRECTION?-1*r:r}),o}}}},{package:"$root$",file:"ui/pages/perps/utils/sortMarkets.ts"}],[8040,{"./remove-snap-account":8041,"./snap-account-card":8042},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},s=e("./snap-account-card");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[8041,{"../../components/app/snaps/snap-authorship-header":6384,"../../components/component-library":6633,"../../helpers/constants/design-system":7149,"../../hooks/useI18nContext":7301,"./snap-account-card":8042,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=u(e("react")),r=e("../../components/component-library"),s=e("../../helpers/constants/design-system"),i=e("../../hooks/useI18nContext"),l=u(e("../../components/app/snaps/snap-authorship-header")),c=e("./snap-account-card");function u(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,a.c)(22),{snapId:n,publicAddress:u,onCancel:d}=e,p=(0,i.useI18nContext)();let m,f,g,h,y,_,x,v,b,E;return t[0]!==d||t[1]!==n?(m=o.default.createElement(l.default,{snapId:n,onCancel:d}),t[0]=d,t[1]=n,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(f={flexGrow:1},t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=o.default.createElement(r.Box,{paddingBottom:2},o.default.createElement(r.AvatarIcon,{iconName:r.IconName.UserCircleRemove,color:s.IconColor.errorDefault,backgroundColor:s.BackgroundColor.errorMuted,size:r.AvatarIconSize.Xl})),t[4]=g):g=t[4],t[5]!==p?(h=p("removeSnapAccountTitle"),t[5]=p,t[6]=h):h=t[6],t[7]!==h?(y=o.default.createElement(r.Text,{textAlign:s.TextAlign.Center,variant:s.TextVariant.headingLg,paddingBottom:2},h),t[7]=h,t[8]=y):y=t[8],t[9]!==u?(_=o.default.createElement(c.SnapAccountCard,{address:u,remove:!0}),t[9]=u,t[10]=_):_=t[10],t[11]!==p?(x=p("removeSnapAccountDescription"),t[11]=p,t[12]=x):x=t[12],t[13]!==x?(v=o.default.createElement(r.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Center,overflowWrap:s.OverflowWrap.Anywhere},x),t[13]=x,t[14]=v):v=t[14],t[15]!==y||t[16]!==_||t[17]!==v?(b=o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,padding:4,width:s.BlockSize.Full,style:f},o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full},o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,width:s.BlockSize.Full},g,y,_,v))),t[15]=y,t[16]=_,t[17]=v,t[18]=b):b=t[18],t[19]!==m||t[20]!==b?(E=o.default.createElement(r.Box,{className:"remove-snap-account-page",height:s.BlockSize.Full,width:s.BlockSize.Full,display:s.Display.Flex,borderStyle:s.BorderStyle.none,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,marginBottom:0},m,b),t[19]=m,t[20]=b,t[21]=E):E=t[21],E}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[8042,{"../../components/component-library":6633,"../../components/multichain/account-list-item":6750,"../../helpers/constants/design-system":7149,"../../selectors":8207,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../../selectors"),l=e("../../helpers/constants/design-system"),c=e("../../components/component-library"),u=e("../../components/multichain/account-list-item");n.SnapAccountCard=e=>{const t=(0,o.c)(12),{address:n,remove:a}=e,d=(0,s.useSelector)(i.getMetaMaskAccountsOrdered);let p;if(t[0]!==d||t[1]!==n){let e;t[3]!==n?(e=e=>e.address===n,t[3]=n,t[4]=e):e=t[4],p=d.find(e),t[0]=d,t[1]=n,t[2]=p}else p=t[2];const m=p,f=a?"snap-account-card-remove":"snap-account-card";let g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},t[5]=g):g=t[5];const h=a||!1;let y,_;return t[6]!==m||t[7]!==h?(y=r.default.createElement(u.AccountListItem,{account:m,selected:h}),t[6]=m,t[7]=h,t[8]=y):y=t[8],t[9]!==f||t[10]!==y?(_=r.default.createElement(c.Box,{className:f,borderRadius:l.BorderRadius.LG,marginTop:4,marginBottom:4,width:l.BlockSize.Full,style:g},y),t[9]=f,t[10]=y,t[11]=_):_=t[11],_}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[8043,{"../../components/ui/loading-indicator":7035,"../../ducks/rewards":7141,"../../ducks/rewards/selectors":7142,"../../helpers/constants/routes":7154,"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("@metamask/design-system-react"),l=e("react-router-dom"),c=(a=e("../../components/ui/loading-indicator"))&&a.__esModule?a:{default:a},u=e("../../ducks/rewards/selectors"),d=e("../../helpers/constants/routes"),p=e("../../ducks/rewards");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.c)(8),t=(0,s.useSelector)(u.selectRewardsEnabled),n=(0,l.useLocation)(),a=(0,l.useNavigate)(),m=(0,s.useSelector)(u.selectRewardsOnboardingEnabled),f=(0,s.useDispatch)();let g,h,y;return e[0]!==f||e[1]!==n||e[2]!==a||e[3]!==t||e[4]!==m?(g=()=>{if(t&&m){const e=new URLSearchParams(n.search).get("referral");e&&e.length>0?f((0,p.setOnboardingReferralCode)(e)):f((0,p.setOnboardingReferralCode)(null)),f((0,p.setOnboardingModalOpen)(!0))}a(d.DEFAULT_ROUTE,{replace:!0})},h=[a,f,t,m,n],e[0]=f,e[1]=n,e[2]=a,e[3]=t,e[4]=m,e[5]=g,e[6]=h):(g=e[5],h=e[6]),(0,r.useEffect)(g,h),e[7]===Symbol.for("react.memo_cache_sentinel")?(y=r.default.createElement(i.Box,{className:"flex justify-center items-center flex-1"},r.default.createElement(c.default,{alt:"Loading",title:"Loading",isLoading:!0,style:{width:32,height:32,left:5}})),e[7]=y):y=e[7],y}}}},{package:"$root$",file:"ui/pages/rewards/index.tsx"}],[8044,{"../../../app/scripts/lib/util":368,"../../../shared/constants/app":5876,"../../ducks/swaps/swaps":7145,"../../helpers/constants/routes":7154,"../../hooks/useModalState":7306,"../../selectors":8207,"../confirmations/hooks/useConfirmationNavigation":7831,react:5358,"react-compiler-runtime":5272,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmationHandler=void 0;var a=e("react-compiler-runtime"),o=e("react"),r=e("react-router-dom"),s=e("react-redux"),i=e("../../helpers/constants/routes"),l=e("../confirmations/hooks/useConfirmationNavigation"),c=e("../../../app/scripts/lib/util"),u=e("../../../shared/constants/app"),d=e("../../selectors"),p=e("../../ducks/swaps/swaps"),m=e("../../hooks/useModalState");const f=[i.AWAITING_SWAP_ROUTE,i.PREPARE_SWAP_ROUTE,i.CROSS_CHAIN_SWAP_ROUTE,i.UNLOCK_ROUTE,i.CONNECT_ROUTE,i.CONFIRMATION_V_NEXT_ROUTE,i.CONFIRM_TRANSACTION_ROUTE,i.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,i.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,i.SHIELD_PLAN_ROUTE,i.TRANSACTION_SHIELD_ROUTE],g=["wallet_installSnapResult",u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect];function h(e){return g.includes(e.type)}n.ConfirmationHandler=()=>{var e;const t=(0,a.c)(20),n=(0,r.useNavigate)(),g=(0,r.useLocation)(),{pathname:y}=g,{closeModals:_}=(0,m.useModalState)();let x;t[0]===Symbol.for("react.memo_cache_sentinel")?(x=(0,c.getEnvironmentType)(),t[0]=x):x=t[0];const v=x,b=v===u.ENVIRONMENT_TYPE_FULLSCREEN,E=v===u.ENVIRONMENT_TYPE_NOTIFICATION,T=(0,s.useSelector)(p.selectShowAwaitingSwapScreen),k=(0,s.useSelector)(p.selectHasSwapsQuotes),S=(0,s.useSelector)(d.selectHasBridgeQuotes),w=(0,s.useSelector)(p.getFetchParams),C=(0,s.useSelector)(d.selectPendingApprovalsForNavigation),I=(0,s.useSelector)(d.selectHasApprovalFlows),O=Boolean(null===(e=g.state)||void 0===e?void 0:e.stayOnHomePage),N=!E&&!O;let R;t[1]!==N||t[2]!==_||t[3]!==I||t[4]!==S||t[5]!==k||t[6]!==n||t[7]!==C||t[8]!==T||t[9]!==w?(R=()=>{if(N&&T)_(),n(i.AWAITING_SWAP_ROUTE);else if(N&&(k||w))_(),n(i.PREPARE_SWAP_ROUTE);else if(N&&S)_(),n(i.CROSS_CHAIN_SWAP_ROUTE+i.PREPARE_SWAP_ROUTE);else if(C.length||I){var e;const t=(0,l.getConfirmationRoute)(null==C||null===(e=C[0])||void 0===e?void 0:e.id,C,I,"");t&&(_(),n(t,{replace:!0}))}},t[1]=N,t[2]=_,t[3]=I,t[4]=S,t[5]=k,t[6]=n,t[7]=C,t[8]=T,t[9]=w,t[10]=R):R=t[10];const B=R;let A;t[11]!==y?(A=f.some(e=>y.startsWith(e)),t[11]=y,t[12]=A):A=t[12];const M=A;let P;t[13]!==C?(P=C.some(h),t[13]=C,t[14]=P):P=t[14];const D=b&&!P&&!(T||k||w||S);let L,F;return t[15]!==B||t[16]!==M||t[17]!==D?(L=()=>{M||D||B()},F=[B,M,D],t[15]=B,t[16]=M,t[17]=D,t[18]=L,t[19]=F):(L=t[18],F=t[19]),(0,o.useEffect)(L,F),null}}}},{package:"$root$",file:"ui/pages/routes/confirmation-handler.tsx"}],[8045,{"./routes.component":8047},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[8046,{"../../components/multichain/network-list-menu":6873,"../../hooks/useModalState":7306,"../../store/actions":8241,"../../store/store":8247,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Modals=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../store/store"),i=e("../../store/actions"),l=e("../../components/multichain/network-list-menu"),c=e("../../hooks/useModalState");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){const{appState:t}=e;return t.isNetworkMenuOpen}n.Modals=()=>{const e=(0,a.c)(8),t=(0,r.useDispatch)(),{closeModals:n}=(0,c.useModalState)(),u=(0,s.useAppSelector)(d);let p;e[0]!==n||e[1]!==t?(p=()=>{n(),t((0,i.setEditedNetwork)())},e[0]=n,e[1]=t,e[2]=p):p=e[2];const m=p,f=u?"network":undefined;let g,h;return e[3]!==m||e[4]!==f?(g="network"===f&&o.default.createElement(l.NetworkListMenu,{onClose:m}),e[3]=m,e[4]=f,e[5]=g):g=e[5],e[6]!==g?(h=o.default.createElement(o.default.Fragment,null,g),e[6]=g,e[7]=h):h=e[7],h}}}},{package:"$root$",file:"ui/pages/routes/modals.tsx"}],[8047,{"../../../app/scripts/lib/util":368,"../../../shared/constants/app":5876,"../../../shared/constants/preferences":5901,"../../../shared/lib/confirmation.utils":5928,"../../../shared/modules/selectors/networks":6034,"../../components/app/alerts":6070,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":6106,"../../components/app/assets/nfts/nft-details/nft-full-image.tsx":6111,"../../components/app/basic-configuration-modal":6144,"../../components/app/modals":6248,"../../components/app/modals/keyring-snap-removal-modal":6249,"../../components/app/modals/multichain-accounts/intro-modal":6252,"../../components/app/qr-hardware-popover":6345,"../../components/app/toast-master/toast-master":6522,"../../components/multichain":6854,"../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page":6734,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6739,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":6874,"../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx":6943,"../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx":6945,"../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx":6946,"../../components/multichain/pages/permissions-page/permissions-page.js":6956,"../../components/multichain/pages/review-permissions-page/review-permissions-page":6957,"../../components/ui/alert":6980,"../../components/ui/loading-screen":7037,"../../ducks/history/history":7134,"../../ducks/metamask/metamask":7137,"../../helpers/constants/routes":7154,"../../helpers/utils/mm-lazy":7187,"../../hooks/useI18nContext":7301,"../../hooks/useMultichainAccountsIntroModal":7308,"../../hooks/useTheme":7331,"../../layouts/legacy-layout":7350,"../../layouts/root-layout":7351,"../../layouts/route-with-layout":7352,"../../selectors":8207,"../../store/actions":8241,"../../store/store":8247,"../asset/index.js":7371,"../bridge/index.tsx":7384,"../bridge/transaction-details/transaction-details":7412,"../confirm-add-suggested-nft/index.js":7419,"../confirm-add-suggested-token/index.js":7421,"../confirm-decrypt-message/index.js":7423,"../confirm-encryption-public-key/index.js":7426,"../confirmations/components/confirm/smart-account-update":7582,"../confirmations/confirm/confirm.tsx":7699,"../confirmations/confirmation/index.js":7710,"../confirmations/send/index.ts":7876,"../create-account/create-account.component.js":7904,"../deep-link/deep-link.tsx":7909,"../defi/index.ts":7912,"../home/index.js":7916,"../keychains/restore-vault.js":7918,"../keychains/reveal-seed.js":7919,"../lock/index.ts":7920,"../multi-srp/import-srp/index.ts":7924,"../multichain-accounts/account-list":7927,"../multichain-accounts/add-wallet-page":7930,"../multichain-accounts/multichain-account-address-list-page":7931,"../multichain-accounts/multichain-account-details-page/index.ts":7934,"../multichain-accounts/multichain-account-private-key-list-page":7936,"../multichain-accounts/smart-account-page/index.ts":7939,"../multichain-accounts/wallet-details-page":7941,"../nonevm-balance-check/index.tsx":7943,"../notification-details/index.js":7944,"../notifications-settings/index.js":7950,"../notifications/index.js":7956,"../onboarding-flow/index.ts":7986,"../permissions-connect/index.js":8009,"../perps/market-list/index.tsx":8036,"../perps/perps-home-page.tsx":8037,"../perps/perps-market-detail-page.tsx":8038,"../rewards":8043,"../settings/deprecated-network-modal/DeprecatedNetworkModal":8068,"../settings/index.js":8078,"../shield-plan/index.ts":8134,"../snaps/snap-view/index.js":8149,"../snaps/snaps-list/index.js":8152,"../swaps/index.js":8167,"../unlock-page/index.ts":8189,"./confirmation-handler":8044,"./modals":8046,"./utils":8048,classnames:4209,react:5358,"react-compiler-runtime":5272,"react-idle-timer":5294,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,s.useDispatch)(),n=(0,i.useLocation)(),a=(0,i.useNavigationType)(),M=(0,c.useAppSelector)(e=>e.appState.alertOpen),G=(0,c.useAppSelector)(e=>e.appState.alertMessage),q=(0,c.useAppSelector)(e=>e.appState.isLoading),K=(0,c.useAppSelector)(e=>e.appState.loadingMessage),{autoLockTimeLimit:ee=k.DEFAULT_AUTO_LOCK_TIME_LIMIT}=(0,c.useAppSelector)(y.getPreferences),te=(0,c.useAppSelector)(b.getCompletedOnboarding),ne=(0,c.useAppSelector)(y.getNetworkToAutomaticallySwitchTo),$e=(0,c.useAppSelector)(y.oldestPendingConfirmationSelector),Ve=(0,c.useAppSelector)(y.getPendingApprovals),Ge=(0,c.useAppSelector)(y.getUnapprovedTransactions),qe=(0,c.useAppSelector)(e=>e.metamask.textDirection),Ke=(0,c.useAppSelector)(b.getIsUnlocked),He=(0,c.useAppSelector)(e=>e.metamask.currentCurrency),Je=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os}),Xe=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.browser}),Ye=(0,c.useAppSelector)(y.getNetworkIdentifier),{type:Qe}=(0,c.useAppSelector)(h.getProviderConfig),Ze=(0,_.useTheme)(),et=(0,c.useAppSelector)(y.getShowExtensionInFullSizeView),tt=(0,c.useAppSelector)(e=>e.appState.importTokensModalOpen),nt=(0,c.useAppSelector)(e=>e.appState.showBasicFunctionalityModal),at=(0,c.useAppSelector)(e=>e.appState.deprecatedNetworkModalOpen),ot=(0,c.useAppSelector)(e=>e.appState.importNftsModal.open),rt=(0,c.useAppSelector)(e=>e.appState.showIpfsModalOpen),st=(0,c.useAppSelector)(y.getNumberOfAllUnapprovedTransactionsAndMessages),it=(0,c.useAppSelector)(e=>e.metamask.currentExtensionPopupId),lt=(0,c.useAppSelector)(e=>e.appState.showKeyringRemovalSnapModal),ct=(0,c.useAppSelector)(y.getUnapprovedConfirmations),{showMultichainIntroModal:ut,setShowMultichainIntroModal:dt}=(0,U.useMultichainAccountsIntroModal)(Ke,n),pt=(0,r.useRef)({isUnlocked:Ke,totalUnapprovedConfirmationCount:st});(0,r.useEffect)(()=>{const e=pt.current;ne&&0===st&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&Ke)&&t((0,x.automaticallySwitchNetwork)(ne)),pt.current={isUnlocked:Ke,totalUnapprovedConfirmationCount:st}},[ne,Ke,st,t]),(0,r.useEffect)(()=>{it!==undefined&&"metamask"in global&&"object"==typeof global.metamask&&global.metamask&&"id"in global.metamask&&global.metamask.id!==undefined&&it!==global.metamask.id&&window.close()},[it]),(0,r.useEffect)(()=>{const e=(0,w.getEnvironmentType)();var t,n;!et||e!==S.ENVIRONMENT_TYPE_POPUP&&e!==S.ENVIRONMENT_TYPE_SIDEPANEL||(null===(t=global.platform)||void 0===t||null===(n=t.openExtensionInBrowser)||void 0===n||n.call(t))},[et]),(0,r.useEffect)(()=>{"PUSH"===a&&t((0,v.pageChanged)(n.pathname))},[n.pathname,a,t]),(0,r.useEffect)(()=>{(0,Y.setTheme)(Ze)},[Ze]),(0,r.useEffect)(()=>{He||t((0,x.setCurrentCurrency)("usd"))},[He,t]);const mt=(0,r.useMemo)(()=>[(0,X.createRouteWithLayout)({path:`${g.ONBOARDING_ROUTE}/*`,component:ae,layout:J.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.LOCK_ROUTE,component:oe,layout:J.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.UNLOCK_ROUTE,component:re,layout:J.LegacyLayout,initialized:!0}),(0,X.createRouteWithLayout)({path:g.DEEP_LINK_ROUTE,component:Me,layout:J.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.RESTORE_VAULT_ROUTE,component:se,layout:J.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.SMART_ACCOUNT_UPDATE,component:L.SmartAccountUpdate,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVEAL_SEED_ROUTE}/:keyringId?`,component:le,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.IMPORT_SRP_ROUTE,component:ie,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SETTINGS_ROUTE}/*`,component:ce,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.NOTIFICATIONS_SETTINGS_ROUTE,component:ue,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.NOTIFICATIONS_ROUTE}/:uuid`,component:de,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.NOTIFICATIONS_ROUTE,component:pe,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.SNAPS_ROUTE,component:me,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SNAPS_VIEW_ROUTE}/*`,component:fe,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SEND_ROUTE}/:page?`,component:_e,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRM_TRANSACTION_ROUTE}/:id?${g.DECRYPT_MESSAGE_REQUEST_PATH}`,component:he,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRM_TRANSACTION_ROUTE}/:id?${g.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`,component:ge,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRM_TRANSACTION_ROUTE}/:id?/*`,component:ye,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SWAPS_ROUTE}/*`,component:xe,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,component:P.default,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CROSS_CHAIN_SWAP_ROUTE}/*`,component:ve,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:Ee,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:Te,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRMATION_V_NEXT_ROUTE}/:id?`,component:ke,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.NEW_ACCOUNT_ROUTE}/*`,component:Se,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONNECT_ROUTE}/:id/*`,component:be,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/image/:asset/:id`,component:we,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/:chainId/:asset/:id`,component:Ce,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/:chainId/:asset/`,component:Ce,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/:chainId`,component:Ce,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.DEFI_ROUTE}/:chainId/:protocolId`,component:Ie,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.PERMISSIONS,component:Oe,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.GATOR_PERMISSIONS,component:Ne,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.TOKEN_TRANSFER_ROUTE}/:origin`,component:Re,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.TOKEN_TRANSFER_ROUTE,component:Re,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName/:origin`,component:Be,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName`,component:Be,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVIEW_PERMISSIONS}/:origin`,component:ze,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.ACCOUNT_LIST_PAGE_ROUTE,component:z.AccountList,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/:accountGroupId`,component:F.MultichainAccountAddressListPage,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_ACCOUNT_PRIVATE_KEY_LIST_PAGE_ROUTE}/:accountGroupId`,component:j.MultichainAccountPrivateKeyListPage,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.ADD_WALLET_PAGE_ROUTE,component:$.AddWalletPage,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/:id`,component:Pe,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_SMART_ACCOUNT_PAGE_ROUTE}/:address`,component:De,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE}/:id`,component:V.WalletDetailsPage,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.NONEVM_BALANCE_CHECK_ROUTE,component:Le,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.SHIELD_PLAN_ROUTE,component:Fe,layout:J.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.REWARDS_ROUTE,component:T.default,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.PERPS_HOME_ROUTE,component:je,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.PERPS_MARKET_DETAIL_ROUTE}/:symbol`,component:We,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.PERPS_MARKET_LIST_ROUTE,component:Ue,layout:H.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.DEFAULT_ROUTE,component:Ae,layout:H.RootLayout,authenticated:!0})],[]),ft=(0,i.useRoutes)(mt),gt=(0,E.useI18nContext)(),ht=K?(0,Y.getConnectingLabel)(K,{providerType:Qe,providerId:Ye},{t:gt}):null,yt=n.pathname.split("/confirm-transaction/")[1]??(null==$e?void 0:$e.id),_t=Ve.find(e=>e.id===yt),xt=(0,D.isCorrectSignatureApprovalType)(null==_t?void 0:_t.type),vt=(0,D.isCorrectDeveloperTransactionType)(null===(e=Ge[yt])||void 0===e?void 0:e.type),bt=n.pathname===g.DEEP_LINK_ROUTE,Et=q&&te&&!ct.some(e=>e.type===S.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!xt&&!vt&&!bt,Tt=(0,w.getEnvironmentType)()===S.ENVIRONMENT_TYPE_SIDEPANEL;return r.default.createElement("div",{className:(0,o.default)("app",{[`os-${Je}`]:Boolean(Je),[`browser-${Xe}`]:Boolean(Xe),"group app--sidepanel":Tt}),dir:qe},r.default.createElement(Q.ConfirmationHandler,null),r.default.createElement(C.default,null),r.default.createElement(d.Modal,null),r.default.createElement(p.default,{visible:M,msg:G}),r.default.createElement(B.default,null),ot?r.default.createElement(m.ImportNftsModal,{onClose:()=>t((0,x.hideImportNftsModal)())}):null,rt?r.default.createElement(I.ToggleIpfsModal,{onClose:()=>t((0,x.hideIpfsModal)())}):null,nt?r.default.createElement(O.BasicConfigurationModal,null):null,tt?r.default.createElement(m.ImportTokensModal,{onClose:()=>t((0,x.hideImportTokensModal)())}):null,at?r.default.createElement(R.DeprecatedNetworkModal,{onClose:()=>t((0,x.hideDeprecatedNetworkModal)())}):null,lt&&r.default.createElement(N.default,{isOpen:lt,onClose:()=>t((0,x.hideKeyringRemovalResultModal)())}),ut?r.default.createElement(W.default,{onClose:()=>dt(!1)}):null,Et?r.default.createElement(u.default,{loadingMessage:ht}):null,(()=>{const e=r.default.createElement(r.Suspense,{fallback:null},ft);return ee>0?r.default.createElement(l.default,{onAction:()=>t((0,x.setLastActiveTime)()),throttle:1e3},e):e})(),Ke?r.default.createElement(f.default,null):null,r.default.createElement(A.ToastMaster,null),r.default.createElement(Z.Modals,null))};var a=e("react-compiler-runtime"),o=ee(e("classnames")),r=ne(e("react")),s=e("react-redux"),i=e("react-router-dom"),l=ee(e("react-idle-timer")),c=e("../../store/store"),u=ee(e("../../components/ui/loading-screen")),d=e("../../components/app/modals"),p=ee(e("../../components/ui/alert")),m=e("../../components/multichain"),f=ee(e("../../components/app/alerts")),g=e("../../helpers/constants/routes"),h=e("../../../shared/modules/selectors/networks"),y=e("../../selectors"),_=e("../../hooks/useTheme"),x=e("../../store/actions"),v=e("../../ducks/history/history"),b=e("../../ducks/metamask/metamask"),E=e("../../hooks/useI18nContext"),T=ee(e("../rewards")),k=e("../../../shared/constants/preferences"),S=e("../../../shared/constants/app"),w=e("../../../app/scripts/lib/util"),C=ee(e("../../components/app/qr-hardware-popover")),I=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),O=e("../../components/app/basic-configuration-modal"),N=ee(e("../../components/app/modals/keyring-snap-removal-modal")),R=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),B=ee(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),A=e("../../components/app/toast-master/toast-master"),M=e("../../helpers/utils/mm-lazy"),P=ee(e("../bridge/transaction-details/transaction-details")),D=e("../../../shared/lib/confirmation.utils"),L=e("../confirmations/components/confirm/smart-account-update"),F=e("../multichain-accounts/multichain-account-address-list-page"),j=e("../multichain-accounts/multichain-account-private-key-list-page"),W=ee(e("../../components/app/modals/multichain-accounts/intro-modal")),U=e("../../hooks/useMultichainAccountsIntroModal"),z=e("../multichain-accounts/account-list"),$=e("../multichain-accounts/add-wallet-page"),V=e("../multichain-accounts/wallet-details-page"),G=e("../../components/multichain/pages/review-permissions-page/review-permissions-page"),q=e("../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page"),K=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),H=e("../../layouts/root-layout"),J=e("../../layouts/legacy-layout"),X=e("../../layouts/route-with-layout"),Y=e("./utils"),Q=e("./confirmation-handler"),Z=e("./modals");function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(te=function(e){return e?n:t})(e)}function ne(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=te(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const ae=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../onboarding-flow/index.ts")))),oe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../lock/index.ts")))),re=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../unlock-page/index.ts")))),se=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../keychains/restore-vault.js")))),ie=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../multi-srp/import-srp/index.ts")))),le=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../keychains/reveal-seed.js")))),ce=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../settings/index.js")))),ue=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../notifications-settings/index.js")))),de=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../notification-details/index.js")))),pe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../notifications/index.js")))),me=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../snaps/snaps-list/index.js")))),fe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../snaps/snap-view/index.js")))),ge=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirm-encryption-public-key/index.js")))),he=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirm-decrypt-message/index.js")))),ye=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirmations/confirm/confirm.tsx")))),_e=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirmations/send/index.ts")))),xe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../swaps/index.js")))),ve=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../bridge/index.tsx")))),be=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../permissions-connect/index.js")))),Ee=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirm-add-suggested-token/index.js")))),Te=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirm-add-suggested-nft/index.js")))),ke=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../confirmations/confirmation/index.js")))),Se=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../create-account/create-account.component.js")))),we=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../../components/app/assets/nfts/nft-details/nft-full-image.tsx")))),Ce=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../asset/index.js")))),Ie=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../defi/index.ts")))),Oe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../../components/multichain/pages/permissions-page/permissions-page.js")))),Ne=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx")))),Re=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx")))),Be=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx")))),Ae=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../home/index.js")))),Me=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../deep-link/deep-link.tsx")))),Pe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../multichain-accounts/multichain-account-details-page/index.ts")))),De=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../multichain-accounts/smart-account-page/index.ts")))),Le=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../nonevm-balance-check/index.tsx")))),Fe=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../shield-plan/index.ts")))),je=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../perps/perps-home-page.tsx")))),We=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../perps/perps-market-detail-page.tsx")))),Ue=(0,M.mmLazy)(()=>Promise.resolve().then(()=>ne(e("../perps/market-list/index.tsx")))),ze=r.default.memo(()=>{const e=(0,a.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(K.State2Wrapper,{state1Component:G.ReviewPermissions,state2Component:q.MultichainReviewPermissions}),e[0]=t):t=e[0],t})}}},{package:"$root$",file:"ui/pages/routes/routes.component.tsx"}],[8048,{"../../../app/scripts/lib/util":368,"../../../shared/constants/app":5876,"../../../shared/constants/network":5896,"../../../shared/constants/preferences":5901,"../../helpers/constants/routes":7154,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractIdFromPathname=function(e,t){if(!e||!t||!e.includes(t))return null;const n=e.split(t)[1];if(!n)return null;return n.split(/[/?#]/u)[0]||null},n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:r}=n;switch(a){case s.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case s.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[o])}},n.getRelativeLocationForNestedRoutes=function(e,t){const n=t.endsWith("/")?t.slice(0,-1):t,a=e.pathname.startsWith(n)?e.pathname.slice(n.length)||"/":e.pathname;return{...e,pathname:a}},n.getThemeFromRawTheme=u,n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)({path:`${l.NOTIFICATIONS_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.DEEP_LINK_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ONBOARDING_ROUTE,end:!1},t.pathname)))return!0;const n=(0,o.getEnvironmentType)();if(n===r.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)({path:l.PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_PERMISSIONS,end:!1},t.pathname)))return!0;if(n===r.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},t.pathname))}(e))return!0;const s=Boolean((0,a.matchPath)({path:l.CONNECT_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SEND_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.SNAPS_VIEW_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:`${l.CROSS_CHAIN_SWAP_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ASSET_ROUTE,end:!1},t.pathname)))return!0;const i=Boolean((0,a.matchPath)({path:l.CONFIRMATION_V_NEXT_ROUTE,end:!1},t.pathname)),u=Boolean((0,a.matchPath)({path:l.IMPORT_SRP_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SHIELD_PLAN_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.GATOR_PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.TOKEN_TRANSFER_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_GATOR_PERMISSIONS_ROUTE,end:!1},t.pathname)))return!0;return s||i||c(t.pathname)||u},n.isConfirmTransactionRoute=c,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",u(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.DEFAULT_ROUTE,end:!0},t.pathname))},n.toRelativeRoutePath=function(e,t=""){return e.replace(t,"").replace(/^\//u,"")||"/"};var a=e("react-router-dom"),o=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),s=e("../../../shared/constants/network"),i=e("../../../shared/constants/preferences"),l=e("../../helpers/constants/routes");function c(e){return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},e))}function u(e){var t;return e===i.ThemeType.os?null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?i.ThemeType.dark:i.ThemeType.light:e}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[8049,{"../../../../shared/constants/metametrics":5892,"../../../../shared/constants/preferences":5901,"../../../../shared/constants/smartTransactions":5906,"../../../components/component-library":6633,"../../../components/ui/text-field":7084,"../../../components/ui/toggle-button":7088,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/export-utils":7178,"../../../helpers/utils/settings-search":7197,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/metametrics"),s=e("../../../../shared/constants/preferences"),i=e("../../../../shared/constants/smartTransactions"),l=e("../../../components/component-library"),c=g(e("../../../components/ui/text-field")),u=g(e("../../../components/ui/toggle-button")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/export-utils"),m=e("../../../helpers/utils/settings-search");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),h(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),h(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,p.exportAsFile)(e,t,p.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(l.Box,{className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,p.exportAsFile)(`${e("stateLogFileName")}.json`,a,p.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{danger:!0,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:r.MetaMetricsEventCategory.Settings,event:r.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:i.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:i.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e),this.context.trackEvent({event:r.MetaMetricsEventName.SettingsUpdated,category:r.MetaMetricsEventCategory.Settings,properties:{settings_group:"advanced",settings_type:"open_full_screen",old_value:e,new_value:!e,open_full_screen:!e,location:"Advanced Settings"}})},offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"auto-lockout-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:s.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(l.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{"data-testid":"export-data-button",variant:l.ButtonVariant.Secondary,large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=y,h(y,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),h(y,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[8050,{"../../../../shared/constants/preferences":5901,"../../../../shared/modules/selectors":6032,"../../../ducks/app/app":7122,"../../../selectors":8207,"../../../store/actions":8241,"./advanced-tab.component":8049,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),r=e("../../../../shared/constants/preferences"),s=e("../../../selectors"),i=e("../../../store/actions"),l=e("../../../../shared/modules/selectors"),c=e("../../../ducks/app/app"),u=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const d=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:i}=n,{showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,autoLockTimeLimit:p=r.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,s.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,l.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:i,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=d;const p=e=>({backupUserData:()=>(0,i.backupUserData)(),setHexDataFeatureFlag:t=>e((0,i.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,c.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,c.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,i.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,i.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,i.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,i.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,i.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,i.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,i.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,i.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,i.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,i.setSmartAccountOptIn)(t))});n.mapDispatchToProps=p;n.default=(0,o.connect)(d,p)(u.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[8051,{"./advanced-tab.container":8050},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[8052,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":6202,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6203,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/settings-search":7197,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../helpers/utils/settings-search"),i=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,s.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(l.Box,{borderColor:i.BorderColor.borderMuted,width:i.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(c.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[8053,{"./backup-and-sync-tab.component":8052,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(e=>({}),e=>({}))(r.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[8054,{"./backup-and-sync-tab.container":8053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}],[8055,{"../../../../../shared/modules/hexstring-utils":6023,"../../../../../shared/modules/selectors/networks":6034,"../../../../components/app/contact-list/utils":6187,"../../../../components/component-library":6633,"../../../../components/multichain/domain-input-resolution-cell":6832,"../../../../components/ui/page-container/page-container-footer":7056,"../../../../components/ui/text-field":7084,"../../../../contexts/i18n":7105,"../../../../helpers/constants/design-system":7149,"../../../../helpers/constants/routes":7154,"../../../../helpers/utils/util":7207,"../../../../selectors/multichain":8216,"../../../confirmations/send-utils/send-content/add-recipient/domain-input":7873,"../../../confirmations/send-utils/send.constants":7874,"../contact-networks":8060,lodash:4940,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=T(e("prop-types")),s=e("lodash"),i=e("react-redux"),l=T(e("../../../../components/ui/text-field")),c=e("../../../../helpers/constants/routes"),u=e("../../../../helpers/utils/util"),d=T(e("../../../confirmations/send-utils/send-content/add-recipient/domain-input")),p=T(e("../../../../components/ui/page-container/page-container-footer")),m=e("../../../../../shared/modules/hexstring-utils"),f=e("../../../confirmations/send-utils/send.constants"),g=e("../../../../components/multichain/domain-input-resolution-cell"),h=e("../../../../components/app/contact-list/utils"),y=e("../../../../contexts/i18n"),_=e("../../../../components/component-library"),x=e("../../../../helpers/constants/design-system"),v=e("../../../../selectors/multichain"),b=e("../../../../../shared/modules/selectors/networks"),E=e("../contact-networks");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const S=e=>{var t,n;const r=(0,a.c)(119),{addressBook:T,internalAccounts:k,addToAddressBook:S,navigate:I,scanQrCode:O,qrCodeData:N,qrCodeDetected:R,domainResolutions:B,domainError:A,resetDomainResolution:M,lookupDomainName:P}=e,D=(0,o.useContext)(y.I18nContext),[L,F]=(0,o.useState)(""),[j,W]=(0,o.useState)(""),[U,z]=(0,o.useState)(""),[$,V]=(0,o.useState)(""),[G,q]=(0,o.useState)(""),[K,H]=(0,o.useState)(""),J=(0,i.useSelector)(b.getCurrentChainId),[X,Y]=(0,o.useState)(J),[Q,Z]=(0,o.useState)(!1),ee=(0,i.useSelector)(b.getNetworkConfigurationsByChainId),te=(0,o.useRef)(X);let ne,ae,oe;r[0]!==K||r[1]!==G||r[2]!==P||r[3]!==M||r[4]!==X?(ne=()=>{const e=(0,u.isValidDomainName)(G)?G:K;te.current!==X&&e&&(q(e),H(""),M(),P(e,X)),te.current=X},ae=[X,K,G,M,P],r[0]=K,r[1]=G,r[2]=P,r[3]=M,r[4]=X,r[5]=ne,r[6]=ae):(ne=r[5],ae=r[6]),(0,o.useEffect)(ne,ae),r[7]===Symbol.for("react.memo_cache_sentinel")?(oe=e=>{const t=!(0,m.isBurnAddress)(e)&&(0,m.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,u.isValidDomainName)(e);z(n||t?null:f.INVALID_RECIPIENT_ADDRESS_ERROR)},r[7]=oe):oe=r[7];const re=oe;let se;r[8]===Symbol.for("react.memo_cache_sentinel")?(se=(0,s.debounce)(re,500),r[8]=se):se=r[8];const ie=se;let le;r[9]!==T||r[10]!==k||r[11]!==D?(le=e=>{const t=!(0,h.isDuplicateContact)(T,k,e);V(t?null:D("nameAlreadyInUse")),F(e)},r[9]=T,r[10]=k,r[11]=D,r[12]=le):le=r[12];const ce=le;let ue;r[13]===Symbol.for("react.memo_cache_sentinel")?(ue=e=>{q(e),ie(e)},r[13]=ue):ue=r[13];const de=ue;let pe;r[14]!==G||r[15]!==M||r[16]!==O||r[17]!==j?(pe=()=>o.default.createElement(d.default,{scanQrCode:()=>O(),onChange:de,onPaste:e=>{q(e),re(e)},onReset:()=>{M(),q(""),W(""),H("")},userInput:j||G}),r[14]=G,r[15]=M,r[16]=O,r[17]=j,r[18]=pe):pe=r[18];const me=pe;let fe,ge;r[19]!==B||r[20]!==N||r[21]!==R||r[22]!==j?(fe=()=>{if("address"===(null==N?void 0:N.type)){const e=N.values.address.toLowerCase();[...B.map(w),j].filter(Boolean).map(C).includes(e)||(q(e),re(e),R(null))}},ge=[N,B,j,re,R],r[19]=B,r[20]=N,r[21]=R,r[22]=j,r[23]=fe,r[24]=ge):(fe=r[23],ge=r[24]),(0,o.useEffect)(fe,ge);const he=A||U,ye=j||G;let _e;r[25]!==ye?(_e=!(0,m.isBurnAddress)(ye)&&(0,m.isValidHexAddress)(ye,{mixedCaseUseChecksum:!0}),r[25]=ye,r[26]=_e):_e=r[26];const xe=_e;let ve,be,Ee,Te,ke,Se,we,Ce,Ie;r[27]!==D?(ve=D("userName"),r[27]=D,r[28]=ve):ve=r[28],r[29]!==ve?(be=o.default.createElement("div",{className:"address-book__view-contact__group__label"},ve),r[29]=ve,r[30]=be):be=r[30],r[31]!==D?(Ee=D("addAlias"),r[31]=D,r[32]=Ee):Ee=r[32],r[33]!==ce?(Te=e=>ce(e.target.value),r[33]=ce,r[34]=Te):Te=r[34],r[35]!==$||r[36]!==L||r[37]!==Ee||r[38]!==Te?(ke=o.default.createElement(l.default,{type:"text",id:"nickname",placeholder:Ee,value:L,onChange:Te,fullWidth:!0,margin:"dense",error:$}),r[35]=$,r[36]=L,r[37]=Ee,r[38]=Te,r[39]=ke):ke=r[39],r[40]!==be||r[41]!==ke?(Se=o.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},be,ke),r[40]=be,r[41]=ke,r[42]=Se):Se=r[42],r[43]!==D?(we=D("publicAddress"),r[43]=D,r[44]=we):we=r[44],r[45]!==we?(Ce=o.default.createElement("div",{className:"address-book__view-contact__group__label"},we),r[45]=we,r[46]=Ce):Ce=r[46],r[47]!==me?(Ie=me(),r[47]=me,r[48]=Ie):Ie=r[48];const Oe=`address-book__view-contact__group__${1===(null==B?void 0:B.length)?"single-":""}resolution-list`;let Ne,Re,Be,Ae,Me,Pe,De,Le;r[49]!==B||r[50]!==ce||r[51]!==M?(Ne=null==B?void 0:B.map(e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:a,protocol:r,domainName:s}=e;return o.default.createElement(g.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:a??s,onClick:()=>{ce(s),q(t),H(s),M()},protocol:r,resolvingSnap:n})}),r[49]=B,r[50]=ce,r[51]=M,r[52]=Ne):Ne=r[52],r[53]!==Oe||r[54]!==Ne?(Re=o.default.createElement("div",{className:Oe},Ne),r[53]=Oe,r[54]=Ne,r[55]=Re):Re=r[55],r[56]!==he||r[57]!==D?(Be=he&&o.default.createElement("div",{className:"address-book__add-contact__error"},D(he)),r[56]=he,r[57]=D,r[58]=Be):Be=r[58],r[59]!==Ce||r[60]!==Ie||r[61]!==Re||r[62]!==Be?(Ae=o.default.createElement("div",{className:"address-book__view-contact__group"},Ce,Ie,Re,Be),r[59]=Ce,r[60]=Ie,r[61]=Re,r[62]=Be,r[63]=Ae):Ae=r[63],r[64]!==D?(Me=D("network"),r[64]=D,r[65]=Me):Me=r[65],r[66]!==Me?(Pe=o.default.createElement("div",{className:"address-book__view-contact__group__label"},Me),r[66]=Me,r[67]=Pe):Pe=r[67],r[68]===Symbol.for("react.memo_cache_sentinel")?(De=()=>Z(!0),r[68]=De):De=r[68],r[69]!==X?(Le=(0,v.getImageForChainId)(X)||undefined,r[69]=X,r[70]=Le):Le=r[70];const Fe=null==ee||null===(t=ee[X])||void 0===t?void 0:t.name;let je;r[71]!==Le||r[72]!==Fe?(je=o.default.createElement(_.AvatarNetwork,{size:_.AvatarNetworkSize.Sm,src:Le,name:Fe}),r[71]=Le,r[72]=Fe,r[73]=je):je=r[73];const We=null==ee||null===(n=ee[X])||void 0===n?void 0:n.name;let Ue,ze,$e,Ve,Ge,qe,Ke,He,Je;r[74]!==We?(Ue=o.default.createElement(_.Text,null,We),r[74]=We,r[75]=Ue):Ue=r[75],r[76]!==je||r[77]!==Ue?(ze=o.default.createElement(_.Box,{display:x.Display.Flex,gap:2},je,Ue),r[76]=je,r[77]=Ue,r[78]=ze):ze=r[78],r[79]===Symbol.for("react.memo_cache_sentinel")?($e=o.default.createElement(_.Icon,{name:_.IconName.ArrowDown,color:x.IconColor.iconDefault,size:_.IconSize.Sm}),r[79]=$e):$e=r[79],r[80]!==ze?(Ve=o.default.createElement(_.Box,{as:"button",padding:3,display:x.Display.Flex,alignItems:x.AlignItems.center,backgroundColor:x.BackgroundColor.transparent,borderColor:x.BorderColor.borderDefault,justifyContent:x.JustifyContent.spaceBetween,borderRadius:x.BorderRadius.XL,onClick:De,className:"network-selector","data-testid":"network-selector"},ze,$e),r[80]=ze,r[81]=Ve):Ve=r[81],r[82]!==X||r[83]!==Q?(Ge=Q&&o.default.createElement(E.ContactNetworks,{isOpen:!0,onClose:()=>Z(!1),selectedChainId:X,onSelect:e=>Y(e)}),r[82]=X,r[83]=Q,r[84]=Ge):Ge=r[84],r[85]!==Pe||r[86]!==Ve||r[87]!==Ge?(qe=o.default.createElement("div",{className:"address-book__view-contact__group"},Pe,Ve,Ge),r[85]=Pe,r[86]=Ve,r[87]=Ge,r[88]=qe):qe=r[88],r[89]!==Se||r[90]!==Ae||r[91]!==qe?(Ke=o.default.createElement("div",{className:"address-book__add-contact__content"},Se,Ae,qe),r[89]=Se,r[90]=Ae,r[91]=qe,r[92]=Ke):Ke=r[92],r[93]!==D?(He=D("cancel"),r[93]=D,r[94]=He):He=r[94],r[95]!==U||r[96]!==$||r[97]!==L||r[98]!==xe?(Je=U||$||!xe||!L.trim(),r[95]=U,r[96]=$,r[97]=L,r[98]=xe,r[99]=Je):Je=r[99];const Xe=Boolean(Je);let Ye,Qe,Ze,et,tt;return r[100]!==S||r[101]!==I||r[102]!==ye||r[103]!==L||r[104]!==X?(Ye=async()=>{await S(ye,L,"",X),I(c.CONTACT_LIST_ROUTE)},r[100]=S,r[101]=I,r[102]=ye,r[103]=L,r[104]=X,r[105]=Ye):Ye=r[105],r[106]!==I?(Qe=()=>{I(c.CONTACT_LIST_ROUTE)},r[106]=I,r[107]=Qe):Qe=r[107],r[108]!==D?(Ze=D("save"),r[108]=D,r[109]=Ze):Ze=r[109],r[110]!==He||r[111]!==Xe||r[112]!==Ye||r[113]!==Qe||r[114]!==Ze?(et=o.default.createElement(p.default,{cancelText:He,disabled:Xe,onSubmit:Ye,onCancel:Qe,submitText:Ze}),r[110]=He,r[111]=Xe,r[112]=Ye,r[113]=Qe,r[114]=Ze,r[115]=et):et=r[115],r[116]!==Ke||r[117]!==et?(tt=o.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},Ke,et),r[116]=Ke,r[117]=et,r[118]=tt):tt=r[118],tt};S.propTypes={addressBook:r.default.array,internalAccounts:r.default.array,addToAddressBook:r.default.func,navigate:r.default.func.isRequired,scanQrCode:r.default.func,qrCodeData:r.default.object,qrCodeDetected:r.default.func,domainResolutions:r.default.arrayOf(r.default.object),domainError:r.default.string,resetDomainResolution:r.default.func,lookupDomainName:r.default.func};n.default=S;function w(e){const{resolvedAddress:t}=e;return t}function C(e){return e.toLowerCase()}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[8056,{"../../../../ducks/app/app":7122,"../../../../ducks/domains":7131,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../../../selectors":8207,"../../../../store/actions":8241,"./add-contact.component":8055,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../../store/actions"),i=e("../../../../ducks/app/app"),l=e("../../../../ducks/domains"),c=e("../../../../selectors"),u=d(e("./add-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)(e=>({addressBook:(0,c.getAddressBook)(e),internalAccounts:(0,c.getInternalAccounts)(e),qrCodeData:(0,i.getQrCodeData)(e),domainError:(0,l.getDomainError)(e),domainResolutions:(0,l.getDomainResolutions)(e)}),e=>({addToAddressBook:(t,n,a,o)=>e((0,s.addToAddressBook)(t,n,a,o)),scanQrCode:()=>e((0,s.showQrScanner)()),qrCodeDetected:t=>e((0,s.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,l.resetDomainResolution)()),lookupDomainName:(t,n)=>e((0,l.lookupDomainName)(t,n))})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[8057,{"./add-contact.container":8056},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[8058,{"../../../components/app/contact-list":6185,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../helpers/utils/settings-search":7197,"./add-contact":8057,"./edit-contact":8063,"./view-contact":8065,classnames:4209,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),s=f(e("../../../components/app/contact-list")),i=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=f(e("./edit-contact")),p=f(e("./add-contact")),m=f(e("./view-contact"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("contacts"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{completeAddressBook:e,internalAccounts:t,navigate:n,selectedAddress:o}=this.props,r=Object.entries(e).map(([e,t])=>t),l=r.filter(({name:e})=>Boolean(e)),d=r.filter(({name:e})=>!e),{t:p}=this.context;return r.length?a.default.createElement("div",null,a.default.createElement(s.default,{addressBook:r,internalAccounts:t,searchForContacts:()=>l,searchForRecents:()=>d,selectRecipient:e=>{n(`${i.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:o})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},p("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},p("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{n(i.CONTACT_ADD_ROUTE)}},"+ ",p("addContact"))))}renderAddButton(){const{navigate:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e(i.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let o=null;return e?o=m.default:t?o=d.default:n&&(o=p.default),o&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(o,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,currentPath:t,completeAddressBook:n}=this.props,o=n;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),t===i.CONTACT_LIST_ROUTE&&!e&&o.length>0?this.renderAddButton():null)}}n.default=y,h(y,"contextTypes",{t:o.default.func}),h(y,"propTypes",{completeAddressBook:o.default.array,internalAccounts:o.default.array,navigate:o.default.func.isRequired,selectedAddress:o.default.string,viewingContact:o.default.bool,editingContact:o.default.bool,addingContact:o.default.bool,hideAddressBook:o.default.bool,currentPath:o.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[8059,{"../../../helpers/constants/routes":7154,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../../selectors":8207,"./contact-list-tab.component":8058,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=c(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../selectors"),i=e("../../../helpers/constants/routes"),l=c(e("./contact-list-tab.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x"),l=Boolean(a.match(i.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(i.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(i.CONTACT_ADD_ROUTE)),d=l||c||u;return{viewingContact:l,editingContact:c,addingContact:u,addressBook:(0,s.getAddressBook)(e),completeAddressBook:(0,s.getCompleteAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),selectedAddress:r?o:"",hideAddressBook:d,currentPath:a}}))(l.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[8060,{"../../../../shared/constants/bridge":5878,"../../../../shared/constants/network":5896,"../../../../shared/modules/selectors/networks":6034,"../../../components/component-library":6633,"../../../components/multichain":6854,"../../../helpers/constants/design-system":7149,"../../../hooks/useI18nContext":7301,"../../../selectors/multichain":8216,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContactNetworks=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../../shared/constants/network"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/constants/bridge"),p=e("../../../components/multichain"),m=e("../../../selectors/multichain");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e,t){const[n,a]=e,[o,r]=t;return(c.TEST_CHAINS.includes(o)?a:n).push(r),[n,a]}n.ContactNetworks=e=>{const t=(0,a.c)(36),{isOpen:n,onClose:c,selectedChainId:f,onSelect:h}=e,y=(0,u.useI18nContext)(),_=(0,r.useSelector)(l.getNetworkConfigurationsByChainId);let x;t[0]!==_?(x=Object.entries(_).reduce(g,[[],[]]),t[0]=_,t[1]=x):x=t[1];const[v,b]=x;let E;t[2]!==c||t[3]!==h||t[4]!==f?(E=e=>e.map(e=>{const{name:t,chainId:n}=e;return o.default.createElement(p.NetworkListItem,{key:n,name:d.NETWORK_TO_SHORT_NETWORK_NAME_MAP[n]??t,selected:f===n,onClick:()=>{null==h||h(n),c()},iconSrc:(0,m.getImageForChainId)(n),iconSize:i.AvatarNetworkSize.Sm,focus:!1,variant:s.TextVariant.bodyMdMedium})}),t[2]=c,t[3]=h,t[4]=f,t[5]=E):E=t[5];const T=E;let k,S,w,C,I,O,N,R,B,A,M,P;return t[6]===Symbol.for("react.memo_cache_sentinel")?(k=o.default.createElement(i.ModalOverlay,null),t[6]=k):k=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(S={padding:0},t[7]=S):S=t[7],t[8]!==y?(w=y("bridgeSelectNetwork"),t[8]=y,t[9]=w):w=t[9],t[10]!==c||t[11]!==w?(C=o.default.createElement(i.ModalHeader,{onBack:c,onClose:c},w),t[10]=c,t[11]=w,t[12]=C):C=t[12],t[13]!==v||t[14]!==T?(I=T(v),t[13]=v,t[14]=T,t[15]=I):I=t[15],t[16]!==y?(O=y("testnets"),t[16]=y,t[17]=O):O=t[17],t[18]!==O?(N=o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium},O),t[18]=O,t[19]=N):N=t[19],t[20]!==T||t[21]!==b?(R=T(b),t[20]=T,t[21]=b,t[22]=R):R=t[22],t[23]!==R||t[24]!==N?(B=o.default.createElement(i.Box,{padding:4},N,R),t[23]=R,t[24]=N,t[25]=B):B=t[25],t[26]!==B||t[27]!==I?(A=o.default.createElement(i.Box,{className:"multichain-asset-picker__network-list",display:s.Display.Flex},o.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full},I,B)),t[26]=B,t[27]=I,t[28]=A):A=t[28],t[29]!==A||t[30]!==C?(M=o.default.createElement(i.ModalContent,{modalDialogProps:S},C,A),t[29]=A,t[30]=C,t[31]=M):M=t[31],t[32]!==n||t[33]!==c||t[34]!==M?(P=o.default.createElement(i.Modal,{isOpen:n,onClose:c,className:"multichain-asset-picker__network-modal"},k,M),t[32]=n,t[33]=c,t[34]=M,t[35]=P):P=t[35],P}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-networks.tsx"}],[8061,{"../../../../../shared/modules/hexstring-utils":6023,"../../../../components/app/contact-list/utils":6187,"../../../../components/app/preferred-avatar":6341,"../../../../components/component-library":6633,"../../../../components/ui/page-container/page-container-footer":7056,"../../../../components/ui/text-field":7084,"../../../../contexts/i18n":7105,"../../../../helpers/constants/design-system":7149,"../../../../selectors/multichain":8216,"../contact-networks":8060,"@metamask/design-system-react":1846,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=_(e("prop-types")),s=e("react-router-dom"),i=e("@metamask/design-system-react"),l=_(e("../../../../components/ui/text-field")),c=_(e("../../../../components/ui/page-container/page-container-footer")),u=e("../../../../components/app/preferred-avatar"),d=e("../../../../../shared/modules/hexstring-utils"),p=e("../../../../components/component-library"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../components/app/contact-list/utils"),g=e("../../../../selectors/multichain"),h=e("../../../../contexts/i18n"),y=e("../contact-networks");function _(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function v(e){var t,n;const r=(0,a.c)(141),{addressBook:_,internalAccounts:x,networkConfigurations:v,addToAddressBook:b,removeFromAddressBook:E,name:T,address:k,contactChainId:S,memo:w,viewRoute:C,listRoute:I}=e,O=T===undefined?"":T,N=w===undefined?"":w,R=(0,o.useContext)(h.I18nContext),B=(0,s.useNavigate)(),[A,M]=(0,o.useState)(O),[P,D]=(0,o.useState)(k),[L,F]=(0,o.useState)(N),[j,W]=(0,o.useState)(""),[U,z]=(0,o.useState)(""),[$,V]=(0,o.useState)(!1),[G,q]=(0,o.useState)(S),K=v;let H;r[0]!==_||r[1]!==x||r[2]!==O?(H=e=>e===O||!(0,f.isDuplicateContact)(_,x,e),r[0]=_,r[1]=x,r[2]=O,r[3]=H):H=r[3];const J=H;let X;r[4]!==R||r[5]!==J?(X=e=>{const t=e.target.value;W(J(t)?"":R("nameAlreadyInUse")),M(t)},r[4]=R,r[5]=J,r[6]=X):X=r[6];const Y=X;if(!k){let e;return r[7]!==I?(e=o.default.createElement(s.Navigate,{to:{pathname:I}}),r[7]=I,r[8]=e):e=r[8],e}let Q,Z,ee;r[9]===Symbol.for("react.memo_cache_sentinel")?(Q={overflow:"hidden"},r[9]=Q):Q=r[9],r[10]!==k?(Z=o.default.createElement(u.PreferredAvatar,{size:i.AvatarAccountSize.Lg,address:k}),r[10]=k,r[11]=Z):Z=r[11],r[12]===Symbol.for("react.memo_cache_sentinel")?(ee={overflow:"hidden"},r[12]=ee):ee=r[12];const te=O||k;let ne,ae,oe,re,se,ie,le,ce,ue,de,pe,me,fe,ge,he,ye,_e,xe,ve,be,Ee,Te,ke,Se,we,Ce;r[13]!==te?(ne=o.default.createElement(p.Text,{className:"address-book__header__name",variant:m.TextVariant.bodyLgMedium,marginInlineStart:4,style:ee,ellipsis:!0},te),r[13]=te,r[14]=ne):ne=r[14],r[15]!==Z||r[16]!==ne?(ae=o.default.createElement(p.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,style:Q,paddingRight:2},Z,ne),r[15]=Z,r[16]=ne,r[17]=ae):ae=r[17],r[18]===Symbol.for("react.memo_cache_sentinel")?(oe={display:"contents"},r[18]=oe):oe=r[18],r[19]!==k||r[20]!==S||r[21]!==I||r[22]!==B||r[23]!==E?(re=async()=>{await E(S,k),B(I)},r[19]=k,r[20]=S,r[21]=I,r[22]=B,r[23]=E,r[24]=re):re=r[24],r[25]!==R?(se=R("deleteContact"),r[25]=R,r[26]=se):se=r[26],r[27]!==re||r[28]!==se?(ie=o.default.createElement(p.Box,{className:"settings-page__address-book-button"},o.default.createElement(p.Button,{variant:p.ButtonVariant.Link,danger:!0,style:oe,onClick:re,"data-testid":"delete-contact-button"},se)),r[27]=re,r[28]=se,r[29]=ie):ie=r[29],r[30]!==ae||r[31]!==ie?(le=o.default.createElement(p.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6,width:m.BlockSize.Full,alignItems:m.AlignItems.center},ae,ie),r[30]=ae,r[31]=ie,r[32]=le):le=r[32],r[33]!==R?(ce=R("userName"),r[33]=R,r[34]=ce):ce=r[34],r[35]!==ce?(ue=o.default.createElement("div",{className:"address-book__view-contact__group__label"},ce),r[35]=ce,r[36]=ue):ue=r[36],r[37]!==R?(de=R("addAlias"),r[37]=R,r[38]=de):de=r[38],r[39]!==A||r[40]!==Y||r[41]!==j||r[42]!==de?(pe=o.default.createElement(l.default,{id:"nickname","data-testid":"address-book-edit-contact-name",placeholder:de,value:A,onChange:Y,error:j,fullWidth:!0,className:"text-field-root",margin:"dense"}),r[39]=A,r[40]=Y,r[41]=j,r[42]=de,r[43]=pe):pe=r[43],r[44]!==ue||r[45]!==pe?(me=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-alias"},ue,pe),r[44]=ue,r[45]=pe,r[46]=me):me=r[46],r[47]!==R?(fe=R("publicAddress"),r[47]=R,r[48]=fe):fe=r[48],r[49]!==fe?(ge=o.default.createElement("div",{className:"address-book__view-contact__group__label"},fe),r[49]=fe,r[50]=ge):ge=r[50],r[51]===Symbol.for("react.memo_cache_sentinel")?(he=e=>D(e.target.value),r[51]=he):he=r[51],r[52]!==U||r[53]!==P?(ye=o.default.createElement(l.default,{id:"address","data-testid":"address-book-edit-contact-address",value:P,onChange:he,error:U,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"}),r[52]=U,r[53]=P,r[54]=ye):ye=r[54],r[55]!==ge||r[56]!==ye?(_e=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-address"},ge,ye),r[55]=ge,r[56]=ye,r[57]=_e):_e=r[57],r[58]!==R?(xe=R("memo"),r[58]=R,r[59]=xe):xe=r[59],r[60]!==xe?(ve=o.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},xe),r[60]=xe,r[61]=ve):ve=r[61],r[62]===Symbol.for("react.memo_cache_sentinel")?(be=e=>F(e.target.value),r[62]=be):be=r[62],r[63]!==N||r[64]!==L?(Ee=o.default.createElement(l.default,{id:"memo",placeholder:N,value:L,onChange:be,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"}),r[63]=N,r[64]=L,r[65]=Ee):Ee=r[65],r[66]!==ve||r[67]!==Ee?(Te=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-memo"},ve,Ee),r[66]=ve,r[67]=Ee,r[68]=Te):Te=r[68],r[69]!==R?(ke=R("network"),r[69]=R,r[70]=ke):ke=r[70],r[71]!==ke?(Se=o.default.createElement("div",{className:"address-book__view-contact__group__label"},ke),r[71]=ke,r[72]=Se):Se=r[72],r[73]===Symbol.for("react.memo_cache_sentinel")?(we=()=>V(!0),r[73]=we):we=r[73],r[74]!==G?(Ce=(0,g.getImageForChainId)(G)||undefined,r[74]=G,r[75]=Ce):Ce=r[75];const Ie=null==K||null===(t=K[G])||void 0===t?void 0:t.name;let Oe;r[76]!==Ce||r[77]!==Ie?(Oe=o.default.createElement(p.AvatarNetwork,{size:p.AvatarNetworkSize.Sm,src:Ce,name:Ie}),r[76]=Ce,r[77]=Ie,r[78]=Oe):Oe=r[78];const Ne=null==K||null===(n=K[G])||void 0===n?void 0:n.name;let Re,Be,Ae,Me,Pe,De,Le,Fe,je,We,Ue;r[79]!==Ne?(Re=o.default.createElement(p.Text,{"data-testid":"address-book-edit-contact-network"},Ne),r[79]=Ne,r[80]=Re):Re=r[80],r[81]!==Oe||r[82]!==Re?(Be=o.default.createElement(p.Box,{display:m.Display.Flex,gap:2},Oe,Re),r[81]=Oe,r[82]=Re,r[83]=Be):Be=r[83],r[84]===Symbol.for("react.memo_cache_sentinel")?(Ae=o.default.createElement(p.Icon,{name:p.IconName.ArrowDown,color:m.IconColor.iconDefault,size:p.IconSize.Sm}),r[84]=Ae):Ae=r[84],r[85]!==Be?(Me=o.default.createElement(p.Box,{as:"button",padding:3,display:m.Display.Flex,alignItems:m.AlignItems.center,backgroundColor:m.BackgroundColor.transparent,borderColor:m.BorderColor.borderDefault,justifyContent:m.JustifyContent.spaceBetween,borderRadius:m.BorderRadius.XL,onClick:we,className:"network-selector","data-testid":"network-selector",marginTop:2},Be,Ae),r[85]=Be,r[86]=Me):Me=r[86],r[87]!==Se||r[88]!==Me?(Pe=o.default.createElement("div",{className:"address-book__view-contact__group"},Se,Me),r[87]=Se,r[88]=Me,r[89]=Pe):Pe=r[89],r[90]!==me||r[91]!==_e||r[92]!==Te||r[93]!==Pe?(De=o.default.createElement("div",{className:"address-book__edit-contact__content"},me,_e,Te,Pe),r[90]=me,r[91]=_e,r[92]=Te,r[93]=Pe,r[94]=De):De=r[94],r[95]!==R?(Le=R("cancel"),r[95]=R,r[96]=Le):Le=r[96],r[97]!==b||r[98]!==k||r[99]!==S||r[100]!==A||r[101]!==I||r[102]!==N||r[103]!==O||r[104]!==B||r[105]!==P||r[106]!==L||r[107]!==E||r[108]!==G||r[109]!==R?(Fe=async()=>{const e=G!==S;P&&P!==k?!(0,d.isBurnAddress)(P)&&(0,d.isValidHexAddress)(P,{mixedCaseUseChecksum:!0})?(await E(S,k),await b(P,A||O,L||N,G),B(I)):z(R("invalidAddress")):e?(await E(S,k),await b(k,A||O,L||N,G),B(I)):(await b(k,A||O,L||N,G),B(I))},r[97]=b,r[98]=k,r[99]=S,r[100]=A,r[101]=I,r[102]=N,r[103]=O,r[104]=B,r[105]=P,r[106]=L,r[107]=E,r[108]=G,r[109]=R,r[110]=Fe):Fe=r[110],r[111]!==k||r[112]!==B||r[113]!==C?(je=()=>B(`${C}/${k}`),r[111]=k,r[112]=B,r[113]=C,r[114]=je):je=r[114],r[115]!==R?(We=R("save"),r[115]=R,r[116]=We):We=r[116],r[117]!==k||r[118]!==S||r[119]!==A||r[120]!==N||r[121]!==O||r[122]!==j||r[123]!==P||r[124]!==L||r[125]!==G?(Ue=A===O&&P===k&&G===S&&L===N||!A.trim()||j,r[117]=k,r[118]=S,r[119]=A,r[120]=N,r[121]=O,r[122]=j,r[123]=P,r[124]=L,r[125]=G,r[126]=Ue):Ue=r[126];const ze=Boolean(Ue);let $e,Ve,Ge;return r[127]!==Le||r[128]!==Fe||r[129]!==je||r[130]!==We||r[131]!==ze?($e=o.default.createElement(c.default,{cancelText:Le,onSubmit:Fe,onCancel:je,submitText:We,disabled:ze}),r[127]=Le,r[128]=Fe,r[129]=je,r[130]=We,r[131]=ze,r[132]=$e):$e=r[132],r[133]!==G||r[134]!==$?(Ve=$&&o.default.createElement(y.ContactNetworks,{isOpen:!0,onClose:()=>V(!1),selectedChainId:G,onSelect:e=>q(e)}),r[133]=G,r[134]=$,r[135]=Ve):Ve=r[135],r[136]!==le||r[137]!==De||r[138]!==$e||r[139]!==Ve?(Ge=o.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact","data-testid":"edit-contact"},le,De,$e,Ve),r[136]=le,r[137]=De,r[138]=$e,r[139]=Ve,r[140]=Ge):Ge=r[140],Ge}v.propTypes={addressBook:r.default.array,internalAccounts:r.default.array,networkConfigurations:r.default.array,addToAddressBook:r.default.func.isRequired,removeFromAddressBook:r.default.func.isRequired,name:r.default.string,address:r.default.string.isRequired,contactChainId:r.default.string,memo:r.default.string,viewRoute:r.default.string.isRequired,listRoute:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[8062,{"../../../../../shared/modules/selectors/networks":6034,"../../../../helpers/constants/routes":7154,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../../../selectors":8207,"../../../../store/actions":8241,"./edit-contact.component":8061,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../../selectors"),i=e("../../../../../shared/modules/selectors/networks"),l=e("../../../../helpers/constants/routes"),c=e("../../../../store/actions"),u=d(e("./edit-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{var n;const{location:a,params:o}=t,r=a.pathname.match(/[^/]+$/u)[0],c=r.includes("0x")?r.toLowerCase():o.id,u=(0,s.getAddressBookEntry)(e,c),d=(0,i.getNetworkConfigurationsByChainId)(e),{memo:p}=u||{},m=(null==u?void 0:u.name)||(null===(n=(0,s.getInternalAccountByAddress)(e,c))||void 0===n?void 0:n.metadata.name),{chainId:f}=(0,i.getProviderConfig)(e),g=(null==u?void 0:u.chainId)||f;return{address:u?c:null,addressBook:(0,s.getAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),contactChainId:g,name:m,memo:p,networkConfigurations:d,viewRoute:l.CONTACT_VIEW_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}},e=>({addToAddressBook:(t,n,a,o)=>e((0,c.addToAddressBook)(t,n,a,o)),removeFromAddressBook:(t,n)=>e((0,c.removeFromAddressBook)(t,n)),toggleNetworkMenu:()=>e((0,c.toggleNetworkMenu)())})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[8063,{"./edit-contact.container":8062},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[8064,{"./contact-list-tab.container":8059},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[8065,{"./view-contact.container":8067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[8066,{"../../../../components/app/preferred-avatar":6341,"../../../../components/component-library":6633,"../../../../components/ui/tooltip":7092,"../../../../helpers/constants/design-system":7149,"../../../../hooks/useCopyToClipboard":7286,"../../../../hooks/useI18nContext":7301,"@metamask/design-system-react":1846,"prop-types":5196,react:5358,"react-compiler-runtime":5272,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=f(e("react")),r=f(e("prop-types")),s=e("react-router-dom"),i=e("@metamask/design-system-react"),l=e("../../../../components/component-library"),c=e("../../../../components/app/preferred-avatar"),u=f(e("../../../../components/ui/tooltip")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useCopyToClipboard"),m=e("../../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}function g(e){const t=(0,a.c)(53),{navigate:n,name:r,address:f,checkSummedAddress:g,memo:h,editRoute:y,listRoute:_}=e,x=(0,d.useI18nContext)(),[v,b]=(0,p.useCopyToClipboard)();if(!f){let e;return t[0]!==_?(e=o.default.createElement(s.Navigate,{to:{pathname:_}}),t[0]=_,t[1]=e):e=t[1],e}let E,T;t[2]!==f?(E=o.default.createElement(c.PreferredAvatar,{size:i.AvatarAccountSize.Lg,address:f}),t[2]=f,t[3]=E):E=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(T={overflow:"hidden"},t[4]=T):T=t[4];const k=r||f;let S,w,C,I,O,N,R,B,A,M,P;t[5]!==k?(S=o.default.createElement(l.Text,{className:"address-book__header__name","data-testid":"address-book-name",variant:m.TextVariant.bodyLgMedium,marginInlineStart:4,style:T,ellipsis:!0},k),t[5]=k,t[6]=S):S=t[6],t[7]!==E||t[8]!==S?(w=o.default.createElement(l.Box,{className:"settings-page__header address-book__header",paddingLeft:6,paddingRight:6},E,S),t[7]=E,t[8]=S,t[9]=w):w=t[9],t[10]!==f||t[11]!==y||t[12]!==n?(C=()=>{n(`${y}/${f}`)},t[10]=f,t[11]=y,t[12]=n,t[13]=C):C=t[13],t[14]!==x?(I=x("edit"),t[14]=x,t[15]=I):I=t[15],t[16]!==C||t[17]!==I?(O=o.default.createElement("div",{className:"address-book__view-contact__group"},o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,onClick:C},I)),t[16]=C,t[17]=I,t[18]=O):O=t[18],t[19]!==x?(N=x("publicAddress"),t[19]=x,t[20]=N):N=t[20],t[21]!==N?(R=o.default.createElement("div",{className:"address-book__view-contact__group__label"},N),t[21]=N,t[22]=R):R=t[22],t[23]!==g?(B=function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(g),t[23]=g,t[24]=B):B=t[24],t[25]!==B?(A=o.default.createElement("div",{className:"address-book__view-contact__group__static-address","data-testid":"address-book-view-contact-address"},B),t[25]=B,t[26]=A):A=t[26],t[27]!==v||t[28]!==x?(M=x(v?"copiedExclamation":"copyToClipboard"),t[27]=v,t[28]=x,t[29]=M):M=t[29],t[30]!==g||t[31]!==b?(P=()=>{b(g)},t[30]=g,t[31]=b,t[32]=P):P=t[32];const D=v?l.IconName.CopySuccess:l.IconName.Copy;let L,F,j,W,U,z;return t[33]!==P||t[34]!==D?(L=o.default.createElement(l.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:P,iconName:D,size:l.ButtonIconSize.Lg,color:m.IconColor.primaryDefault}),t[33]=P,t[34]=D,t[35]=L):L=t[35],t[36]!==M||t[37]!==L?(F=o.default.createElement(u.default,{position:"bottom",title:M},L),t[36]=M,t[37]=L,t[38]=F):F=t[38],t[39]!==A||t[40]!==F?(j=o.default.createElement("div",{className:"address-book__view-contact__group__value"},A,F),t[39]=A,t[40]=F,t[41]=j):j=t[41],t[42]!==R||t[43]!==j?(W=o.default.createElement("div",{className:"address-book__view-contact__group"},R,j),t[42]=R,t[43]=j,t[44]=W):W=t[44],t[45]!==h||t[46]!==x?(U=h.length>0?o.default.createElement("div",{className:"address-book__view-contact__group"},o.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},x("memo")),o.default.createElement("div",{className:"address-book__view-contact__group__static-address"},h)):null,t[45]=h,t[46]=x,t[47]=U):U=t[47],t[48]!==W||t[49]!==U||t[50]!==w||t[51]!==O?(z=o.default.createElement("div",{className:"settings-page__content-row"},o.default.createElement("div",{className:"settings-page__content-item"},w,O,W,U)),t[48]=W,t[49]=U,t[50]=w,t[51]=O,t[52]=z):z=t[52],z}g.propTypes={name:r.default.string,address:r.default.string,navigate:r.default.func.isRequired,checkSummedAddress:r.default.string,memo:r.default.string,editRoute:r.default.string,listRoute:r.default.string.isRequired};n.default=o.default.memo(g)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[8067,{"../../../../../shared/modules/hexstring-utils":6023,"../../../../helpers/constants/routes":7154,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7170,"../../../../selectors":8207,"./view-contact.component":8066,"react-redux":5323,redux:5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=u(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../../selectors"),i=e("../../../../helpers/constants/routes"),l=e("../../../../../shared/modules/hexstring-utils"),c=u(e("./view-contact.component"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{const{location:n,params:a}=t,o=n.pathname.match(/[^/]+$/u)[0],r=o.includes("0x")?o.toLowerCase():a.id,c=(0,s.getInternalAccountByAddress)(e,r),u=(0,s.getAddressBookEntry)(e,r),{memo:d}=u||{};return{name:(null==u?void 0:u.name)||c.metadata.name,address:u?r:null,checkSummedAddress:(0,l.toChecksumHexAddress)(r),memo:d,editRoute:i.CONTACT_EDIT_ROUTE,listRoute:i.CONTACT_LIST_ROUTE}}))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[8068,{"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/zendesk-url":7161,"../../../hooks/useI18nContext":7301,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DeprecatedNetworkModal=void 0;var a=e("react-compiler-runtime"),o=c(e("react")),r=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=c(e("../../../helpers/constants/zendesk-url"));function c(e){return e&&e.__esModule?e:{default:e}}n.DeprecatedNetworkModal=e=>{const t=(0,a.c)(28),{onClose:n}=e,c=(0,r.useI18nContext)();let u,d,p,m,f,g,h,y,_,x,v,b,E;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=o.default.createElement(s.ModalOverlay,null),t[0]=u):u=t[0],t[1]!==c?(d=c("deprecatedNetwork"),t[1]=c,t[2]=d):d=t[2],t[3]!==d?(p=o.default.createElement(s.ModalHeader,{paddingTop:2,paddingBottom:2},d),t[3]=d,t[4]=p):p=t[4],t[5]!==c?(m=c("learnMoreUpperCase"),t[5]=c,t[6]=m):m=t[6],t[7]!==m?(f=o.default.createElement(s.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:l.default.NETWORK_DEPRECATED,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal},m),t[7]=m,t[8]=f):f=t[8],t[9]!==c||t[10]!==f?(g=c("deprecatedNetworkDescription",[f]),t[9]=c,t[10]=f,t[11]=g):g=t[11],t[12]!==g?(h=o.default.createElement(s.ModalBody,null,o.default.createElement(s.Box,{paddingBottom:2},o.default.createElement(s.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal},g))),t[12]=g,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y={variant:i.TextVariant.bodyMdMedium},_={fontSize:"14px"},t[14]=y,t[15]=_):(y=t[14],_=t[15]),t[16]!==c?(x=c("deprecatedNetworkButtonMsg"),t[16]=c,t[17]=x):x=t[17],t[18]!==n||t[19]!==x?(v=o.default.createElement(s.Box,{display:i.Display.Flex,paddingLeft:4,paddingRight:4,paddingBottom:2},o.default.createElement(s.ButtonPrimary,{block:!0,size:s.ButtonPrimarySize.Lg,onClick:n,textProps:y,style:_},x)),t[18]=n,t[19]=x,t[20]=v):v=t[20],t[21]!==v||t[22]!==p||t[23]!==h?(b=o.default.createElement(s.ModalContent,null,p,h,v),t[21]=v,t[22]=p,t[23]=h,t[24]=b):b=t[24],t[25]!==n||t[26]!==b?(E=o.default.createElement(s.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:n},u,b),t[25]=n,t[26]=b,t[27]=E):E=t[27],E}}}},{package:"$root$",file:"ui/pages/settings/deprecated-network-modal/DeprecatedNetworkModal.tsx"}],[8069,{"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../hooks/identity/useAccountSyncing":7234,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDeleteAccountSyncDataProps=n.BackupAndSyncDevSettings=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/identity/useAccountSyncing");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,a.c)(16),{onDelete:n,deleteSuccessful:i,title:l,description:c}=e;let u,d,p,m,f;t[0]!==l?(u=o.default.createElement("span",null,l),t[0]=l,t[1]=u):u=t[1],t[2]!==c?(d=o.default.createElement("div",{className:"settings-page__content-description"},c),t[2]=c,t[3]=d):d=t[3],t[4]!==u||t[5]!==d?(p=o.default.createElement("div",{className:"settings-page__content-item"},u,d),t[4]=u,t[5]=d,t[6]=p):p=t[6],t[7]!==n?(m=o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,onClick:n},"Reset")),t[7]=n,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f={height:"40px",width:"40px"},t[9]=f):f=t[9];const g=!i;let h,y;return t[10]!==g?(h=o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(r.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingLeft:2,paddingRight:2,style:f},o.default.createElement(r.Icon,{className:"settings-page-developer-options__icon-check",name:r.IconName.Check,color:s.IconColor.successDefault,size:r.IconSize.Lg,hidden:g}))),t[10]=g,t[11]=h):h=t[11],t[12]!==p||t[13]!==m||t[14]!==h?(y=o.default.createElement("div",{className:"settings-page__content-padded"},o.default.createElement(r.Box,{className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},p,m,h)),t[12]=p,t[13]=m,t[14]=h,t[15]=y):y=t[15],y},u=()=>{const e=(0,a.c)(5),[t,n]=(0,o.useState)(!1),{dispatchDeleteAccountSyncingData:r}=(0,i.useDeleteAccountSyncingDataFromUserStorage)();let s;e[0]!==r?(s=async()=>{await r(),n(!0)},e[0]=r,e[1]=s):s=e[1];const l=s;let c;return e[2]!==t||e[3]!==l?(c={deleteSuccessful:t,onDelete:l,title:"Account syncing",description:"Deletes all user storage entries for the current SRP. This can help if you tested Account Syncing early on and have corrupted data. This will not remove internal accounts already created and renamed. If you want to start from scratch with only the first account and restart syncing from this point on, you will need to reinstall the extension after this action."},e[2]=t,e[3]=l,e[4]=c):c=e[4],c};n.useDeleteAccountSyncDataProps=u;n.BackupAndSyncDevSettings=()=>{const e=(0,a.c)(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(r.Text,{className:"settings-page__security-tab-sub-header__bold"},"Backup and sync"),e[0]=t):t=e[0];const n=u();let s;return e[1]!==n?(s=o.default.createElement(o.default.Fragment,null,t,o.default.createElement(c,n)),e[1]=n,e[2]=s):s=e[2],s}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/backup-and-sync.tsx"}],[8070,{"../../../../app/scripts/lib/util":368,"../../../../shared/constants/app":5876,"../../../components/component-library":6633,"../../../helpers/constants/design-system":7149,"../../../helpers/constants/routes":7154,"../../../helpers/utils/settings-search":7197,"../../../hooks/useI18nContext":7301,"../../../selectors":8207,"../../../store/actions":8241,"../../confirmations/components/developer/confirmations-developer-options":7599,"./backup-and-sync":8069,"./developer-options-toggle-row-component":8071,"./migrate-to-split-state-test":8073,"./sentry-test":8074,react:5358,"react-redux":5323,"react-router-dom":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../helpers/utils/settings-search"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../../app/scripts/lib/util"),m=e("../../../../shared/constants/app"),f=e("../../../selectors"),g=e("../../confirmations/components/developer/confirmations-developer-options"),h=v(e("./developer-options-toggle-row-component")),y=v(e("./sentry-test")),_=e("./backup-and-sync"),x=v(e("./migrate-to-split-state-test"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useNavigate)(),[v,b]=(0,a.useState)(!1),[E,T]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!0),w=Array((0,c.getNumberOfSettingRoutesInTab)(e,e("developerOptions"))).fill(undefined).map(()=>a.default.createRef());(0,a.useEffect)(()=>{(0,c.handleSettingsRefs)(e,e("developerOptions"),w)},[e,w]);const C=(0,a.useCallback)(()=>{(0,d.resetViewedNotifications)(),b(!0)},[]),I=(0,a.useCallback)(async()=>{await t((0,d.resetOnboarding)()),T(!0);const e=`${l.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;if((0,p.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP){const{platform:t}=global;null!=t&&t.openExtensionInBrowser&&(null==t||t.openExtensionInBrowser(e,null,!0))}else n(e)},[t,n]),O=(0,o.useSelector)(f.getRemoteFeatureFlags);return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header__bold"},"States"),a.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:w[0]},"Current States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(s.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Remote feature flags"),a.default.createElement("div",{className:"settings-page__content-description"},"Remote feature flag values come from LaunchDarkly by default. If you need to update feature flag values locally for development purposes, you can change feature flag values in .manifest-overrides.json, which will override values coming from LaunchDarkly.")),a.default.createElement("div",{className:"settings-page__content-description","data-testid":"developer-options-remote-feature-flags"},JSON.stringify(O)))),a.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:w[0]},"Reset States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(s.Box,{ref:w[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Announcements"),a.default.createElement("div",{className:"settings-page__content-description"},"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:C},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:i.IconColor.successDefault,size:s.IconSize.Lg,hidden:!v})))),a.default.createElement(s.Box,{ref:w[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item",style:{flex:"1 1 auto"}},a.default.createElement("span",null,"Onboarding"),a.default.createElement("div",{className:"settings-page__content-description"},'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.')),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:I},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:i.IconColor.successDefault,size:s.IconSize.Lg,hidden:!E})))),a.default.createElement(h.default,{title:"Service Worker Keep Alive",description:"Results in a timestamp being continuously saved to session.storage",isEnabled:k,onToggle:e=>(async e=>{await t((0,d.setServiceWorkerKeepAlivePreference)(e)),S(e)})(!e),dataTestId:"developer-options-service-worker-alive-toggle",settingsRef:w[3]})),a.default.createElement(_.BackupAndSyncDevSettings,null),a.default.createElement(y.default,null),a.default.createElement("hr",null),a.default.createElement(x.default,null),a.default.createElement("hr",null),a.default.createElement(g.ConfirmationsDeveloperOptions,null))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-tab.tsx"}],[8071,{"../../../components/component-library":6633,"../../../components/ui/toggle-button":7088,"../../../helpers/constants/design-system":7149,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=l(e("react")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=l(e("../../../components/ui/toggle-button"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,a.c)(15),{title:n,description:l,isEnabled:c,onToggle:u,dataTestId:d,settingsRef:p}=e;let m,f,g,h,y;return t[0]!==n?(m=o.default.createElement("span",null,n),t[0]=n,t[1]=m):m=t[1],t[2]!==l?(f=o.default.createElement("div",{className:"settings-page__content-description"},l),t[2]=l,t[3]=f):f=t[3],t[4]!==m||t[5]!==f?(g=o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-description"},m,f)),t[4]=m,t[5]=f,t[6]=g):g=t[6],t[7]!==d||t[8]!==c||t[9]!==u?(h=o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(i.default,{value:c,onToggle:u,offLabel:"Off",onLabel:"On",dataTestId:d})),t[7]=d,t[8]=c,t[9]=u,t[10]=h):h=t[10],t[11]!==p||t[12]!==g||t[13]!==h?(y=o.default.createElement(r.Box,{ref:p,className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},g,h),t[11]=p,t[12]=g,t[13]=h,t[14]=y):y=t[14],y}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-toggle-row-component.tsx"}],[8072,{"./developer-options-tab":8070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./developer-options-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/index.tsx"}],[8073,{"@metamask/design-system-react":1846,react:5358,"react-compiler-runtime":5272,"webextension-polyfill":5864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-compiler-runtime"),r=e("@metamask/design-system-react"),s=(a=e("webextension-polyfill"))&&a.__esModule?a:{default:a},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.c)(36),[t,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[p,m]=(0,i.useState)("unknown"),f=c;let g,h,y;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{let e=!0;const t=(e,t)=>{if("local"===t){if(e.splitStateMigrationEnabled){const{newValue:t}=e.splitStateMigrationEnabled;n(f(t))}if(e.meta){const t=e.meta.newValue;m("string"==typeof(null==t?void 0:t.storageKind)?t.storageKind:"data")}if(e.splitStateMigrationMaxAccounts){const{newValue:t}=e.splitStateMigrationMaxAccounts;l(t===undefined?"":String(t))}if(e.splitStateMigrationMaxNetworks){const{newValue:t}=e.splitStateMigrationMaxNetworks;d(t===undefined?"":String(t))}}};return(async()=>{const{splitStateMigrationEnabled:t,splitStateMigrationMaxAccounts:a,splitStateMigrationMaxNetworks:o,meta:r}=await s.default.storage.local.get(["splitStateMigrationEnabled","splitStateMigrationMaxAccounts","splitStateMigrationMaxNetworks","meta"]);e&&(n(f(t)),m("string"==typeof(null==r?void 0:r.storageKind)?r.storageKind:"data"),l(a===undefined?"":String(a)),d(o===undefined?"":String(o)))})(),s.default.storage.onChanged.addListener(t),()=>{e=!1,s.default.storage.onChanged.removeListener(t)}},h=[],e[0]=g,e[1]=h):(g=e[0],h=e[1]),(0,i.useEffect)(g,h),e[2]===Symbol.for("react.memo_cache_sentinel")?(y=async e=>{null===e?await s.default.storage.local.remove("splitStateMigrationEnabled"):await s.default.storage.local.set({splitStateMigrationEnabled:e}),n(e)},e[2]=y):y=e[2];const _=y;let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=async e=>{const{value:t}=e.target;""===t?await s.default.storage.local.remove("splitStateMigrationMaxAccounts"):await s.default.storage.local.set({splitStateMigrationMaxAccounts:t}),l(t)},e[3]=x):x=e[3];const v=x;let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=async e=>{const{value:t}=e.target;""===t?await s.default.storage.local.remove("splitStateMigrationMaxNetworks"):await s.default.storage.local.set({splitStateMigrationMaxNetworks:t}),d(t)},e[4]=b):b=e[4];const E=b;let T,k,S,w,C,I;e[5]===Symbol.for("react.memo_cache_sentinel")?(T=i.default.createElement(r.Text,null,"Split State Migration"),k={marginTop:"8px",marginBottom:"8px"},e[5]=T,e[6]=k):(T=e[5],k=e[6]),e[7]!==p?(S=i.default.createElement("div",{style:k},i.default.createElement("strong",null,"Current storage kind: ",p)),e[7]=p,e[8]=S):S=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(C=i.default.createElement("hr",null),I=i.default.createElement("h2",null,"Split State Migration Flags"),w=i.default.createElement("span",null,"Migration Enabled flag:"),e[9]=w,e[10]=C,e[11]=I):(w=e[9],C=e[10],I=e[11]);const O=null===t;let N,R;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=()=>_(null),e[12]=N):N=e[12],e[13]!==O?(R=i.default.createElement("div",null,i.default.createElement("label",null,i.default.createElement("input",{type:"radio",name:"split-state-migration-enabled",checked:O,onChange:N}),"Unset (uses remote feature flags)")),e[13]=O,e[14]=R):R=e[14];const B="0"===t;let A,M;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=()=>_("0"),e[15]=A):A=e[15],e[16]!==B?(M=i.default.createElement("div",null,i.default.createElement("label",null,i.default.createElement("input",{type:"radio",name:"split-state-migration-enabled",checked:B,onChange:A}),"0 (Off)")),e[16]=B,e[17]=M):M=e[17];const P="1"===t;let D,L,F,j,W,U,z,$;return e[18]===Symbol.for("react.memo_cache_sentinel")?(D=()=>_("1"),e[18]=D):D=e[18],e[19]!==P?(L=i.default.createElement("div",null,i.default.createElement("label",null,i.default.createElement("input",{type:"radio",name:"split-state-migration-enabled",checked:P,onChange:D}),"1 (On)")),e[19]=P,e[20]=L):L=e[20],e[21]!==R||e[22]!==M||e[23]!==L?(F=i.default.createElement("div",null,w,R,M,L),e[21]=R,e[22]=M,e[23]=L,e[24]=F):F=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(j=i.default.createElement("span",null,"Max Accounts flag:"),e[25]=j):j=e[25],e[26]!==a?(W=i.default.createElement("div",null,i.default.createElement("label",null,j,i.default.createElement("input",{min:0,max:99999999,type:"number",value:a,onChange:v}))),e[26]=a,e[27]=W):W=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(U=i.default.createElement("span",null,"Max Networks flag:"),e[28]=U):U=e[28],e[29]!==u?(z=i.default.createElement("div",null,i.default.createElement("label",null,U,i.default.createElement("input",{min:0,max:99999999,type:"number",value:u,onChange:E}))),e[29]=u,e[30]=z):z=e[30],e[31]!==F||e[32]!==W||e[33]!==z||e[34]!==S?($=i.default.createElement("div",null,T,S,C,I,F,W,z),e[31]=F,e[32]=W,e[33]=z,e[34]=S,e[35]=$):$=e[35],$};function c(e){if(e===undefined||null===e)return null;const t=String(e);return"false"===t?"0":"true"===t?"1":t}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/migrate-to-split-state-test.tsx"}],[8074,{"../../../../shared/lib/trace":5999,"../../../../shared/modules/i18n":6024,"../../../components/component-library":6633,"../../../components/component-library/button/button.types":6611,"../../../ducks/locale/locale":7136,"../../../helpers/constants/design-system":7149,"../../../store/actions":8241,react:5358,"react-compiler-runtime":5272,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../../shared/lib/trace"),c=e("../../../components/component-library/button/button.types"),u=e("../../../store/actions"),d=e("../../../../shared/modules/i18n"),p=e("../../../ducks/locale/locale");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return new Promise(t=>setTimeout(t,e))}function g(){const e=(0,a.c)(1),t=h;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Generate UI Error",description:o.default.createElement("span",null,"Generate an unhandled ",o.default.createElement("b",null,"TestError")," in this window."),onClick:t,expectError:!0}),e[0]=n):n=e[0],n}async function h(){var e,t;await(null===(e=(t=window.stateHooks).throwTestError)||void 0===e?void 0:e.call(t,"Developer Options"))}function y(){const e=(0,a.c)(1),t=_;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Generate Background Error",description:o.default.createElement("span",null,"Generate an unhandled ",o.default.createElement("b",null,"TestError")," in the service worker."),onClick:t,expectError:!0}),e[0]=n):n=e[0],n}async function _(){var e,t;await(null===(e=(t=window.stateHooks).throwTestBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))}function x(){const e=(0,a.c)(1),t=v;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Capture UI Error",description:o.default.createElement("span",null,"Capture a ",o.default.createElement("b",null,"TestError")," in this window."),onClick:t}),e[0]=n):n=e[0],n}async function v(){var e,t;await(null===(e=(t=window.stateHooks).captureTestError)||void 0===e?void 0:e.call(t,"Developer Options"))}function b(){const e=(0,a.c)(1),t=E;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Capture Background Error",description:o.default.createElement("span",null,"Capture a ",o.default.createElement("b",null,"TestError")," in the service worker."),onClick:t}),e[0]=n):n=e[0],n}async function E(){var e,t;await(null===(e=(t=window.stateHooks).captureBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))}function T(){const e=(0,a.c)(1),t=k;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Generate Trace",description:o.default.createElement("span",null,"Generate a ",o.default.createElement("b",null,"Developer Test")," Sentry trace."),onClick:t}),e[0]=n):n=e[0],n}async function k(){await(0,l.trace)({name:l.TraceName.DeveloperTest,data:{"test.data.number":123},tags:{"test.tag.number":123}},S)}async function S(e){await(0,l.trace)({name:l.TraceName.NestedTest1,data:{"test.data.boolean":!0},tags:{"test.tag.boolean":!0},parentContext:e},C),await(0,l.trace)({name:l.TraceName.NestedTest2,data:{"test.data.string":"test"},tags:{"test.tag.string":"test"},parentContext:e},w)}function w(){return f(500)}function C(){return f(1e3)}function I(e){const t=(0,a.c)(6),{currentLocale:n}=e,s=(0,r.useDispatch)();let i;t[0]!==n||t[1]!==s?(i=async()=>{const e=await(0,d.fetchLocale)(n);await s((0,u.setCurrentLocale)(n,{...e,developerOptions:undefined})),await(0,u.forceUpdateMetamaskState)(s)},t[0]=n,t[1]=s,t[2]=i):i=t[2];const l=i;let c,p;return t[3]===Symbol.for("react.memo_cache_sentinel")?(c=o.default.createElement("span",null,'Trigger the crash on extension to send user feedback to sentry. You can click "Try again" to reload extension'),t[3]=c):c=t[3],t[4]!==l?(p=o.default.createElement(O,{name:"Generate A Page Crash",description:c,onClick:l,expectError:!0,testId:"developer-options-generate-page-crash-button"}),t[4]=l,t[5]=p):p=t[5],p}function O({name:e,description:t,onClick:n,expectError:a,testId:r}){const[l,u]=(0,o.useState)(!1),d=(0,o.useCallback)(async()=>{let e=!1;try{await n()}catch(t){throw e=!0,t}finally{!a&&e||u(!0)}},[n]);return o.default.createElement(s.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-description"},t)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:d,size:c.ButtonSize.Lg,"data-testid":r},e)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},o.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:i.IconColor.successDefault,size:s.IconSize.Lg,hidden:!l}))))}n.default=()=>{const e=(0,a.c)(8),t=(0,r.useSelector)(p.getCurrentLocale)||d.FALLBACK_LOCALE;let n,i,l,c,u,m,f;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header__bold"},"Sentry"),e[0]=n):n=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(i=o.default.createElement(g,null),l=o.default.createElement(y,null),c=o.default.createElement(x,null),u=o.default.createElement(b,null),m=o.default.createElement(T,null),e[1]=i,e[2]=l,e[3]=c,e[4]=u,e[5]=m):(i=e[1],l=e[2],c=e[3],u=e[4],m=e[5]),e[6]!==t?(f=o.default.createElement(o.default.Fragment,null,n,o.default.createElement("div",{className:"settings-page__content-padded"},i,l,c,u,m,o.default.createElement(I,{currentLocale:t}))),e[6]=t,e[7]=f):f=e[7],f}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/sentry-test.tsx"}],[8075,{"../../../../shared/constants/metametrics":5892,"../../../components/component-library":6633,"../../../components/ui/toggle-button":7088,"../../../helpers/constants/design-system":7149,"../../../helpers/utils/settings-search":7197,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("../../../components/ui/toggle-button")),s=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,s.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("experimental"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderToggleSection({title:e,description:t,toggleValue:n,toggleCallback:o,toggleDataTestId:s,toggleContainerDataTestId:i,toggleOffLabel:c,toggleOnLabel:u}){return a.default.createElement(l.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row settings-page__content-row-experimental"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e),a.default.createElement("div",{className:"settings-page__content-description"},t)),a.default.createElement("div",{className:"settings-page__content-item-col","data-testid":i},a.default.createElement(r.default,{value:n,onToggle:o,offLabel:c,onLabel:u,dataTestId:s})))}renderKeyringSnapsToggle(){const{t:e,trackEvent:t}=this.context,{addSnapAccountEnabled:n,setAddSnapAccountEnabled:o}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,as:"h4",color:c.TextColor.textAlternative,marginBottom:2,fontWeight:c.FontWeight.Bold},e("snaps")),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("snapAccounts")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative},e("snapAccountsDescription")))),this.renderToggleSection({title:e("addSnapAccountToggle"),description:e("addSnapAccountsDescription"),toggleValue:n,toggleCallback:e=>{t({event:i.MetaMetricsEventName.AddSnapAccountEnabled,category:i.MetaMetricsEventCategory.Settings,properties:{enabled:!e}}),o(!e)},toggleContainerDataTestId:"add-account-snap-toggle-div",toggleDataTestId:"add-account-snap-toggle-button",toggleOffLabel:e("off"),toggleOnLabel:e("on")}))}renderNotificationsToggle(){const{t:e}=this.context,{featureNotificationsEnabled:t,setFeatureNotificationsEnabled:n}=this.props;return this.renderToggleSection({title:e("notificationsFeatureToggle"),description:e("notificationsFeatureToggleDescription"),toggleValue:t,toggleCallback:e=>n(!e),toggleDataTestId:"toggle-notifications",toggleOffLabel:e("off"),toggleOnLabel:e("on")})}render(){return a.default.createElement("div",{className:"settings-page__body"},null,this.renderKeyringSnapsToggle())}}n.default=m,p(m,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.tsx"}],[8076,{"../../../selectors":8207,"../../../store/actions":8241,"./experimental-tab.component":8075,"react-redux":5323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../../../store/actions"),s=e("../../../selectors"),i=(a=e("./experimental-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(e=>{const t=(0,s.getFeatureNotificationsEnabled)(e);return{watchAccountEnabled:(0,s.getIsWatchEthereumAccountEnabled)(e),addSnapAccountEnabled:(0,s.getIsAddSnapAccountEnabled)(e),featureNotificationsEnabled:t}},e=>({setWatchAccountEnabled:e=>(0,r.setWatchEthereumAccountEnabled)(e),setAddSnapAccountEnabled:e=>(0,r.setAddSnapAccountEnabled)(e),setFeatureNotificationsEnabled:t=>e((0,r.setFeatureNotificationsEnabled)(t))}))(i.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.ts"}],[8077,{"./experimental-tab.container":8076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./experimental-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[8078,{"./settings.container":8105},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./settings.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[8079,{"./info-tab.component":8080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./info-tab.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[8080,{"../../../../shared/constants/metametrics":5892,"../../../components/app/modals/visit-support-data-consent-modal":6276,"../../../components/component-library":6633,"../../../components/ui/button":6984,"../../../helpers/constants/common":7147,"../../../helpers/utils/build-types":7173,"../../../helpers/utils/settings-search":7197,"prop-types":5196,react:5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("../../../components/ui/button")),s=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=p(e("../../../components/app/modals/visit-support-data-consent-modal"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){super(...e),f(this,"state",{version:"13.16.3",isVisitSupportDataConsentModalOpen:!1}),f(this,"settingsRefs",Array((0,c.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("about"))).fill(undefined).map(()=>a.default.createRef())),f(this,"toggleVisitSupportDataConsentModal",()=>{this.setState(e=>({isVisitSupportDataConsentModalOpen:!e.isVisitSupportDataConsentModalOpen}))})}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),a.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),a.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?a.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),a.default.createElement(s.Tag,{label:e("new"),className:"info-tab__tag"}))):null,a.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:`https://raw.githubusercontent.com/MetaMask/metamask-extension/v${this.state.version}/attribution.txt`,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),a.default.createElement("hr",{className:"info-tab__separator"}),a.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:this.toggleVisitSupportDataConsentModal},e("supportCenter"))),a.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),a.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),a.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),a.default.createElement("div",{className:"info-tab__logo-wrapper"},a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})),this.state.isVisitSupportDataConsentModalOpen&&a.default.createElement(d.default,{isOpen:this.state.isVisitSupportDataConsentModalOpen,onClose:this.toggleVisitSupportDataConsentModal}))}}n.default=g,f(g,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[8081,{"./networks-form":8083},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./networks-form"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[8082,{"../../../../../shared/modules/conversion.utils":6015,react:5358,"react-compiler-runtime":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkFormState=void 0;var a=e("react-compiler-runtime"),o=e("react"),r=e("../../../../../shared/modules/conversion.utils");n.useNetworkFormState=e=>{const t=(0,a.c)(13),[n,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[c,u]=(0,o.useState)("");let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={rpcEndpoints:[],defaultRpcEndpointIndex:undefined},t[0]=d):d=t[0];const[p,m]=(0,o.useState)(d);let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f={blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined},t[1]=f):f=t[1];const[g,h]=(0,o.useState)(f);let y;t[2]!==e?(y=()=>{s((null==e?void 0:e.name)??""),l(e?(0,r.hexToDecimal)(e.chainId):""),u((null==e?void 0:e.nativeCurrency)??""),m({rpcEndpoints:(null==e?void 0:e.rpcEndpoints)??[],defaultRpcEndpointIndex:null==e?void 0:e.defaultRpcEndpointIndex}),h({blockExplorerUrls:(null==e?void 0:e.blockExplorerUrls)??[],defaultBlockExplorerUrlIndex:null==e?void 0:e.defaultBlockExplorerUrlIndex})},t[2]=e,t[3]=y):y=t[3];const _=null==e?void 0:e.chainId;let x,v,b;return t[4]!==_?(x=[_],t[4]=_,t[5]=x):x=t[5],(0,o.useEffect)(y,x),t[6]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{s(""),l(""),u(""),m({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),h({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined})},t[6]=v):v=t[6],t[7]!==g||t[8]!==i||t[9]!==n||t[10]!==p||t[11]!==c?(b={name:n,setName:s,chainId:i,setChainId:l,ticker:c,setTicker:u,rpcUrls:p,setRpcUrls:m,blockExplorers:g,setBlockExplorers:h,clear:v},t[7]=g,t[8]=i,t[9]=n,t[10]=p,t[11]=c,t[12]=b):b=t[12],b}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form-state.ts"}]],[],{});