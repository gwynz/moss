import{a as Yi,b as Yn,c as ur,d as O0,e as dr,f as D0,g as h1,h as fi,j as Fd,k as cc,m as MN,n as NN,o as ON,r as mf,s as gf,t as DN}from"./chunk-H52KJDU6.js";import{A as R0,D as YN,E as L0,G as ZN,H as JN,I as x1,J as w1,c as UN,d as RN,e as p1,f as LN,g as KN,h as Ti,i as Zi,n as jN,o as zN,q as Ho,r as GN,s as $N}from"./chunk-RV6OM76W.js";import{a as _N,b as CN,d as xf,e as WN,j as hu,l as kre}from"./chunk-56MPBIEL.js";import{B as Xi,C as c4,D as g1,L as uc,M as b1,b as wo,g as n4,h as i4,i as VN,j as FN,k as y1,l as o4,m as Are,n as Ere,o as Ire,p as m1,q as Ji,w as Te}from"./chunk-OWVMO73E.js";import{D as fe,K as gs,a as AN,b as EN,c as vre,d as IN,e as kN,g as TN,h as d1,i as PN,j as BN,k as sg,o as HN,u as Me,w as Ne,z as Yt}from"./chunk-SHY2LMMT.js";import{W as bf,a as ag,c as s4,k as ve,m as a4,n as qN,w as U0}from"./chunk-SEWPLVP7.js";import{a as Fr,h as U}from"./chunk-CNVMLXTH.js";import{c as z,d as r4,e as du,f as ne,h as d,i as E,j as wre,k as Sre,l as Pn,m as Buffer,n as h}from"./chunk-JORLGFWZ.js";var ug=z(H0=>{"use strict";d();h();var u4=wre(),V0=Sre(),XN=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H0.Buffer=ie;H0.SlowBuffer=Mre;H0.INSPECT_MAX_BYTES=50;var S1=2147483647;H0.kMaxLength=S1;ie.TYPED_ARRAY_SUPPORT=Tre();!ie.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Tre(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(ie.prototype,"parent",{enumerable:!0,get:function(){if(ie.isBuffer(this))return this.buffer}});Object.defineProperty(ie.prototype,"offset",{enumerable:!0,get:function(){if(ie.isBuffer(this))return this.byteOffset}});function pu(e){if(e>S1)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,ie.prototype),t}function ie(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h4(e)}return rO(e,t,r)}ie.poolSize=8192;function rO(e,t,r){if(typeof e=="string")return Bre(e,t);if(ArrayBuffer.isView(e))return _re(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(fc(e,ArrayBuffer)||e&&fc(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fc(e,SharedArrayBuffer)||e&&fc(e.buffer,SharedArrayBuffer)))return l4(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return ie.from(n,t,r);let i=Cre(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return ie.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}ie.from=function(e,t,r){return rO(e,t,r)};Object.setPrototypeOf(ie.prototype,Uint8Array.prototype);Object.setPrototypeOf(ie,Uint8Array);function nO(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Pre(e,t,r){return nO(e),e<=0?pu(e):t!==void 0?typeof r=="string"?pu(e).fill(t,r):pu(e).fill(t):pu(e)}ie.alloc=function(e,t,r){return Pre(e,t,r)};function h4(e){return nO(e),pu(e<0?0:p4(e)|0)}ie.allocUnsafe=function(e){return h4(e)};ie.allocUnsafeSlow=function(e){return h4(e)};function Bre(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!ie.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=iO(e,t)|0,n=pu(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function f4(e){let t=e.length<0?0:p4(e.length)|0,r=pu(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}function _re(e){if(fc(e,Uint8Array)){let t=new Uint8Array(e);return l4(t.buffer,t.byteOffset,t.byteLength)}return f4(e)}function l4(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,ie.prototype),n}function Cre(e){if(ie.isBuffer(e)){let t=p4(e.length)|0,r=pu(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||m4(e.length)?pu(0):f4(e);if(e.type==="Buffer"&&Array.isArray(e.data))return f4(e.data)}function p4(e){if(e>=S1)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S1.toString(16)+" bytes");return e|0}function Mre(e){return+e!=e&&(e=0),ie.alloc(+e)}ie.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==ie.prototype};ie.compare=function(t,r){if(fc(t,Uint8Array)&&(t=ie.from(t,t.offset,t.byteLength)),fc(r,Uint8Array)&&(r=ie.from(r,r.offset,r.byteLength)),!ie.isBuffer(t)||!ie.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let n=t.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==r[o]){n=t[o],i=r[o];break}return n<i?-1:i<n?1:0};ie.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ie.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return ie.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;let i=ie.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){let s=t[n];if(fc(s,Uint8Array))o+s.length>i.length?(ie.isBuffer(s)||(s=ie.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ie.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function iO(e,t){if(ie.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||fc(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return d4(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return hO(e).length;default:if(i)return n?-1:d4(e).length;t=(""+t).toLowerCase(),i=!0}}ie.byteLength=iO;function Nre(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return qre(this,t,r);case"utf8":case"utf-8":return sO(this,t,r);case"ascii":return Fre(this,t,r);case"latin1":case"binary":return Hre(this,t,r);case"base64":return Kre(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wre(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}ie.prototype._isBuffer=!0;function Hd(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}ie.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)Hd(this,r,r+1);return this};ie.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)Hd(this,r,r+3),Hd(this,r+1,r+2);return this};ie.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)Hd(this,r,r+7),Hd(this,r+1,r+6),Hd(this,r+2,r+5),Hd(this,r+3,r+4);return this};ie.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?sO(this,0,t):Nre.apply(this,arguments)};ie.prototype.toLocaleString=ie.prototype.toString;ie.prototype.equals=function(t){if(!ie.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:ie.compare(this,t)===0};ie.prototype.inspect=function(){let t="",r=H0.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};XN&&(ie.prototype[XN]=ie.prototype.inspect);ie.prototype.compare=function(t,r,n,i,o){if(fc(t,Uint8Array)&&(t=ie.from(t,t.offset,t.byteLength)),!ie.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let s=o-i,a=n-r,c=Math.min(s,a),u=this.slice(i,o),l=t.slice(r,n);for(let f=0;f<c;++f)if(u[f]!==l[f]){s=u[f],a=l[f];break}return s<a?-1:a<s?1:0};function oO(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,m4(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=ie.from(t,n)),ie.isBuffer(t))return t.length===0?-1:QN(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):QN(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function QN(e,t,r,n,i){let o=1,s=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(l,f){return o===1?l[f]:l.readUInt16BE(f*o)}let u;if(i){let l=-1;for(u=r;u<s;u++)if(c(e,u)===c(t,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*o}else l!==-1&&(u-=u-l),l=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){let l=!0;for(let f=0;f<a;f++)if(c(e,u+f)!==c(t,f)){l=!1;break}if(l)return u}return-1}ie.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};ie.prototype.indexOf=function(t,r,n){return oO(this,t,r,n,!0)};ie.prototype.lastIndexOf=function(t,r,n){return oO(this,t,r,n,!1)};function Ore(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(t.substr(s*2,2),16);if(m4(a))return s;e[r+s]=a}return s}function Dre(e,t,r,n){return v1(d4(t,e.length-r),e,r,n)}function Ure(e,t,r,n){return v1($re(t),e,r,n)}function Rre(e,t,r,n){return v1(hO(t),e,r,n)}function Lre(e,t,r,n){return v1(Yre(t,e.length-r),e,r,n)}ie.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Ore(this,t,r,n);case"utf8":case"utf-8":return Dre(this,t,r,n);case"ascii":case"latin1":case"binary":return Ure(this,t,r,n);case"base64":return Rre(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lre(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Kre(e,t,r){return t===0&&r===e.length?u4.fromByteArray(e):u4.fromByteArray(e.slice(t,r))}function sO(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,u,l,f;switch(a){case 1:o<128&&(s=o);break;case 2:c=e[i+1],(c&192)===128&&(f=(o&31)<<6|c&63,f>127&&(s=f));break;case 3:c=e[i+1],u=e[i+2],(c&192)===128&&(u&192)===128&&(f=(o&15)<<12|(c&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],(c&192)===128&&(u&192)===128&&(l&192)===128&&(f=(o&15)<<18|(c&63)<<12|(u&63)<<6|l&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Vre(n)}var eO=4096;function Vre(e){let t=e.length;if(t<=eO)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=eO));return r}function Fre(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function Hre(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function qre(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Zre[e[o]];return i}function Wre(e,t,r){let n=e.slice(t,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ie.prototype.slice=function(t,r){let n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);let i=this.subarray(t,r);return Object.setPrototypeOf(i,ie.prototype),i};function Zn(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}ie.prototype.readUintLE=ie.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||Zn(t,r,this.length);let i=this[t],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[t+s]*o;return i};ie.prototype.readUintBE=ie.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||Zn(t,r,this.length);let i=this[t+--r],o=1;for(;r>0&&(o*=256);)i+=this[t+--r]*o;return i};ie.prototype.readUint8=ie.prototype.readUInt8=function(t,r){return t=t>>>0,r||Zn(t,1,this.length),this[t]};ie.prototype.readUint16LE=ie.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||Zn(t,2,this.length),this[t]|this[t+1]<<8};ie.prototype.readUint16BE=ie.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||Zn(t,2,this.length),this[t]<<8|this[t+1]};ie.prototype.readUint32LE=ie.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||Zn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};ie.prototype.readUint32BE=ie.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||Zn(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};ie.prototype.readBigUInt64LE=wf(function(t){t=t>>>0,F0(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&cg(t,this.length-8);let i=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ie.prototype.readBigUInt64BE=wf(function(t){t=t>>>0,F0(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&cg(t,this.length-8);let i=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ie.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||Zn(t,r,this.length);let i=this[t],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[t+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ie.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||Zn(t,r,this.length);let i=r,o=1,s=this[t+--i];for(;i>0&&(o*=256);)s+=this[t+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ie.prototype.readInt8=function(t,r){return t=t>>>0,r||Zn(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};ie.prototype.readInt16LE=function(t,r){t=t>>>0,r||Zn(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt16BE=function(t,r){t=t>>>0,r||Zn(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt32LE=function(t,r){return t=t>>>0,r||Zn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};ie.prototype.readInt32BE=function(t,r){return t=t>>>0,r||Zn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};ie.prototype.readBigInt64LE=wf(function(t){t=t>>>0,F0(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&cg(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});ie.prototype.readBigInt64BE=wf(function(t){t=t>>>0,F0(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&cg(t,this.length-8);let i=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});ie.prototype.readFloatLE=function(t,r){return t=t>>>0,r||Zn(t,4,this.length),V0.read(this,t,!0,23,4)};ie.prototype.readFloatBE=function(t,r){return t=t>>>0,r||Zn(t,4,this.length),V0.read(this,t,!1,23,4)};ie.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||Zn(t,8,this.length),V0.read(this,t,!0,52,8)};ie.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||Zn(t,8,this.length),V0.read(this,t,!1,52,8)};function So(e,t,r,n,i,o){if(!ie.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}ie.prototype.writeUintLE=ie.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;So(this,t,r,n,a,0)}let o=1,s=0;for(this[r]=t&255;++s<n&&(o*=256);)this[r+s]=t/o&255;return r+n};ie.prototype.writeUintBE=ie.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;So(this,t,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=t&255;--o>=0&&(s*=256);)this[r+o]=t/s&255;return r+n};ie.prototype.writeUint8=ie.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,1,255,0),this[r]=t&255,r+1};ie.prototype.writeUint16LE=ie.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};ie.prototype.writeUint16BE=ie.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};ie.prototype.writeUint32LE=ie.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};ie.prototype.writeUint32BE=ie.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function aO(e,t,r,n,i){dO(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s,r}function cO(e,t,r,n,i){dO(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o=o>>8,e[r+6]=o,o=o>>8,e[r+5]=o,o=o>>8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s=s>>8,e[r+2]=s,s=s>>8,e[r+1]=s,s=s>>8,e[r]=s,r+8}ie.prototype.writeBigUInt64LE=wf(function(t,r=0){return aO(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});ie.prototype.writeBigUInt64BE=wf(function(t,r=0){return cO(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});ie.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let c=Math.pow(2,8*n-1);So(this,t,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=t&255;++o<n&&(s*=256);)t<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(t/s>>0)-a&255;return r+n};ie.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let c=Math.pow(2,8*n-1);So(this,t,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=t&255;--o>=0&&(s*=256);)t<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(t/s>>0)-a&255;return r+n};ie.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};ie.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};ie.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};ie.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};ie.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||So(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};ie.prototype.writeBigInt64LE=wf(function(t,r=0){return aO(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ie.prototype.writeBigInt64BE=wf(function(t,r=0){return cO(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function uO(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function fO(e,t,r,n,i){return t=+t,r=r>>>0,i||uO(e,t,r,4,34028234663852886e22,-34028234663852886e22),V0.write(e,t,r,n,23,4),r+4}ie.prototype.writeFloatLE=function(t,r,n){return fO(this,t,r,!0,n)};ie.prototype.writeFloatBE=function(t,r,n){return fO(this,t,r,!1,n)};function lO(e,t,r,n,i){return t=+t,r=r>>>0,i||uO(e,t,r,8,17976931348623157e292,-17976931348623157e292),V0.write(e,t,r,n,52,8),r+8}ie.prototype.writeDoubleLE=function(t,r,n){return lO(this,t,r,!0,n)};ie.prototype.writeDoubleBE=function(t,r,n){return lO(this,t,r,!1,n)};ie.prototype.copy=function(t,r,n,i){if(!ie.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),o};ie.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ie.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{let s=ie.isBuffer(t)?t:ie.from(t,i),a=s.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var K0={};function y4(e,t,r){K0[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}y4("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);y4("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);y4("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=tO(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=tO(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function tO(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function jre(e,t,r){F0(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&cg(t,e.length-(r+1))}function dO(e,t,r,n,i,o){if(e>r||e<t){let s=typeof t=="bigint"?"n":"",a;throw o>3?t===0||t===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${t}${s} and <= ${r}${s}`,new K0.ERR_OUT_OF_RANGE("value",a,e)}jre(n,i,o)}function F0(e,t){if(typeof e!="number")throw new K0.ERR_INVALID_ARG_TYPE(t,"number",e)}function cg(e,t,r){throw Math.floor(e)!==e?(F0(e,r),new K0.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new K0.ERR_BUFFER_OUT_OF_BOUNDS:new K0.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var zre=/[^+/0-9A-Za-z-_]/g;function Gre(e){if(e=e.split("=")[0],e=e.trim().replace(zre,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function d4(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function $re(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Yre(e,t){let r,n,i,o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function hO(e){return u4.toByteArray(Gre(e))}function v1(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function fc(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function m4(e){return e!==e}var Zre=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function wf(e){return typeof BigInt>"u"?Jre:e}function Jre(){throw new Error("BigInt not supported")}});var E1=z(Qi=>{"use strict";d();h();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.output=Qi.exists=Qi.hash=Qi.bytes=Qi.bool=Qi.number=void 0;function A1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Qi.number=A1;function pO(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Qi.bool=pO;function g4(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Qi.bytes=g4;function yO(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");A1(e.outputLen),A1(e.blockLen)}Qi.hash=yO;function mO(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Qi.exists=mO;function gO(e,t){g4(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Qi.output=gO;var Xre={number:A1,bool:pO,bytes:g4,hash:yO,exists:mO,output:gO};Qi.default=Xre});var bO=z(I1=>{"use strict";d();h();Object.defineProperty(I1,"__esModule",{value:!0});I1.crypto=void 0;I1.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var q0=z(Tt=>{"use strict";d();h();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.randomBytes=Tt.wrapConstructorWithOpts=Tt.wrapConstructor=Tt.checkOpts=Tt.Hash=Tt.concatBytes=Tt.toBytes=Tt.utf8ToBytes=Tt.asyncLoop=Tt.nextTick=Tt.hexToBytes=Tt.bytesToHex=Tt.isLE=Tt.rotr=Tt.createView=Tt.u32=Tt.u8=void 0;var k1=bO(),Qre=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Tt.u8=Qre;var ene=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));Tt.u32=ene;var tne=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);Tt.createView=tne;var rne=(e,t)=>e<<32-t|e>>>t;Tt.rotr=rne;Tt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tt.isLE)throw new Error("Non little-endian hardware is not supported");var nne=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ine(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=nne[e[r]];return t}Tt.bytesToHex=ine;function one(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}Tt.hexToBytes=one;var sne=async()=>{};Tt.nextTick=sne;async function ane(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,Tt.nextTick)(),n+=o)}}Tt.asyncLoop=ane;function xO(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}Tt.utf8ToBytes=xO;function x4(e){if(typeof e=="string"&&(e=xO(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Tt.toBytes=x4;function cne(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}Tt.concatBytes=cne;var b4=class{clone(){return this._cloneInto()}};Tt.Hash=b4;var une=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function fne(e,t){if(t!==void 0&&(typeof t!="object"||!une(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}Tt.checkOpts=fne;function lne(e){let t=n=>e().update(x4(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}Tt.wrapConstructor=lne;function dne(e){let t=(n,i)=>e(i).update(x4(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}Tt.wrapConstructorWithOpts=dne;function hne(e=32){if(k1.crypto.web)return k1.crypto.web.getRandomValues(new Uint8Array(e));if(k1.crypto.node)return new Uint8Array(k1.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}Tt.randomBytes=hne});var v4=z(T1=>{"use strict";d();h();Object.defineProperty(T1,"__esModule",{value:!0});T1.SHA2=void 0;var w4=E1(),fg=q0();function pne(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var S4=class extends fg.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,fg.createView)(this.buffer)}update(t){w4.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,fg.toBytes)(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,fg.createView)(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){w4.default.exists(this),w4.default.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;pne(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,fg.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};T1.SHA2=S4});var I4=z(bs=>{"use strict";d();h();Object.defineProperty(bs,"__esModule",{value:!0});bs.add=bs.toBig=bs.split=bs.fromBig=void 0;var P1=BigInt(2**32-1),A4=BigInt(32);function E4(e,t=!1){return t?{h:Number(e&P1),l:Number(e>>A4&P1)}:{h:Number(e>>A4&P1)|0,l:Number(e&P1)|0}}bs.fromBig=E4;function wO(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=E4(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}bs.split=wO;var yne=(e,t)=>BigInt(e>>>0)<<A4|BigInt(t>>>0);bs.toBig=yne;var mne=(e,t,r)=>e>>>r,gne=(e,t,r)=>e<<32-r|t>>>r,bne=(e,t,r)=>e>>>r|t<<32-r,xne=(e,t,r)=>e<<32-r|t>>>r,wne=(e,t,r)=>e<<64-r|t>>>r-32,Sne=(e,t,r)=>e>>>r-32|t<<64-r,vne=(e,t)=>t,Ane=(e,t)=>e,Ene=(e,t,r)=>e<<r|t>>>32-r,Ine=(e,t,r)=>t<<r|e>>>32-r,kne=(e,t,r)=>t<<r-32|e>>>64-r,Tne=(e,t,r)=>e<<r-32|t>>>64-r;function SO(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}bs.add=SO;var Pne=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Bne=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,_ne=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Cne=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Mne=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Nne=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,One={fromBig:E4,split:wO,toBig:bs.toBig,shrSH:mne,shrSL:gne,rotrSH:bne,rotrSL:xne,rotrBH:wne,rotrBL:Sne,rotr32H:vne,rotr32L:Ane,rotlSH:Ene,rotlSL:Ine,rotlBH:kne,rotlBL:Tne,add:SO,add3L:Pne,add3H:Bne,add4L:_ne,add4H:Cne,add5H:Nne,add5L:Mne};bs.default=One});var vO=z(xs=>{"use strict";d();h();Object.defineProperty(xs,"__esModule",{value:!0});xs.sha384=xs.sha512_256=xs.sha512_224=xs.sha512=xs.SHA512=void 0;var Dne=v4(),At=I4(),B1=q0(),[Une,Rne]=At.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Sf=new Uint32Array(80),vf=new Uint32Array(80),qd=class extends Dne.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)Sf[C]=t.getUint32(r),vf[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=Sf[C-15]|0,L=vf[C-15]|0,W=At.default.rotrSH(R,L,1)^At.default.rotrSH(R,L,8)^At.default.shrSH(R,L,7),G=At.default.rotrSL(R,L,1)^At.default.rotrSL(R,L,8)^At.default.shrSL(R,L,7),H=Sf[C-2]|0,$=vf[C-2]|0,B=At.default.rotrSH(H,$,19)^At.default.rotrBH(H,$,61)^At.default.shrSH(H,$,6),p=At.default.rotrSL(H,$,19)^At.default.rotrBL(H,$,61)^At.default.shrSL(H,$,6),g=At.default.add4L(G,p,vf[C-7],vf[C-16]),x=At.default.add4H(g,W,B,Sf[C-7],Sf[C-16]);Sf[C]=x|0,vf[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=At.default.rotrSH(f,m,14)^At.default.rotrSH(f,m,18)^At.default.rotrBH(f,m,41),L=At.default.rotrSL(f,m,14)^At.default.rotrSL(f,m,18)^At.default.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=At.default.add5L(D,L,G,Rne[C],vf[C]),$=At.default.add5H(H,M,R,W,Une[C],Sf[C]),B=H|0,p=At.default.rotrSH(n,i,28)^At.default.rotrBH(n,i,34)^At.default.rotrBH(n,i,39),g=At.default.rotrSL(n,i,28)^At.default.rotrBL(n,i,34)^At.default.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=At.default.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=At.default.add3L(B,g,A);n=At.default.add3H(v,$,p,x),i=v|0}({h:n,l:i}=At.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=At.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=At.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=At.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=At.default.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=At.default.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=At.default.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=At.default.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){Sf.fill(0),vf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};xs.SHA512=qd;var k4=class extends qd{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},T4=class extends qd{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},P4=class extends qd{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};xs.sha512=(0,B1.wrapConstructor)(()=>new qd);xs.sha512_224=(0,B1.wrapConstructor)(()=>new k4);xs.sha512_256=(0,B1.wrapConstructor)(()=>new T4);xs.sha384=(0,B1.wrapConstructor)(()=>new P4)});var UO=z(qt=>{"use strict";d();h();Object.defineProperty(qt,"__esModule",{value:!0});qt.utils=qt.curve25519=qt.getSharedSecret=qt.sync=qt.verify=qt.sign=qt.getPublicKey=qt.Signature=qt.Point=qt.RistrettoPoint=qt.ExtendedPoint=qt.CURVE=void 0;var Lne=sg(),an=BigInt(0),Mt=BigInt(1),If=BigInt(2),Kne=BigInt(8),AO=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),hr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:AO,n:AO,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});qt.CURVE=hr;var PO=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),lg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),x9e=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Vne=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Fne=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Hne=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),qne=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),bn=class e{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof Hr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Hr.ZERO)?e.ZERO:new e(t.x,t.y,Mt,oe(t.x*t.y))}static toAffineBatch(t){let r=zne(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){IO(t);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=t,c=oe(r*a),u=oe(o*i),l=oe(n*a),f=oe(s*i);return c===u&&l===f}negate(){return new e(oe(-this.x),this.y,this.z,oe(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:i}=hr,o=oe(t*t),s=oe(r*r),a=oe(If*oe(n*n)),c=oe(i*o),u=t+r,l=oe(oe(u*u)-o-s),f=c+s,m=f-a,b=c-s,w=oe(l*m),S=oe(f*b),P=oe(l*b),M=oe(m*f);return new e(w,S,M,P)}add(t){IO(t);let{x:r,y:n,z:i,t:o}=this,{x:s,y:a,z:c,t:u}=t,l=oe((n-r)*(a+s)),f=oe((n+r)*(a-s)),m=oe(f-l);if(m===an)return this.double();let b=oe(i*If*u),w=oe(o*If*c),S=w+b,P=f+l,M=w-b,D=oe(S*m),C=oe(P*M),R=oe(S*M),L=oe(m*P);return new e(D,C,L,R)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let a=1;a<2**(t-1);a++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,r){!r&&this.equals(e.BASE)&&(r=Hr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&M4.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=e.normalizeZ(i),M4.set(r,i)));let o=e.ZERO,s=e.BASE,a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let m=0;m<a;m++){let b=m*c,w=Number(t&u);t>>=f,w>c&&(w-=l,t+=Mt);let S=b,P=b+Math.abs(w)-1,M=m%2!==0,D=w<0;w===0?s=s.add(EO(M,i[S])):o=o.add(EO(D,i[P]))}return e.normalizeZ([o,s])[0]}multiply(t,r){return this.wNAF(z0(t,hr.l),r)}multiplyUnsafe(t){let r=z0(t,hr.l,!1),n=e.BASE,i=e.ZERO;if(r===an)return i;if(this.equals(i)||r===Mt)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>an;)r&Mt&&(o=o.add(s)),s=s.double(),r>>=Mt;return o}isSmallOrder(){return this.multiplyUnsafe(hr.h).equals(e.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(hr.l/If).double();return hr.l%If&&(t=t.add(this)),t.equals(e.ZERO)}toAffine(t){let{x:r,y:n,z:i}=this,o=this.equals(e.ZERO);t==null&&(t=o?Kne:M1(i));let s=oe(r*t),a=oe(n*t),c=oe(i*t);if(o)return Hr.ZERO;if(c!==Mt)throw new Error("invZ was invalid");return new Hr(s,a)}fromRistrettoBytes(){_4()}toRistrettoBytes(){_4()}fromRistrettoHash(){_4()}};qt.ExtendedPoint=bn;bn.BASE=new bn(hr.Gx,hr.Gy,Mt,oe(hr.Gx*hr.Gy));bn.ZERO=new bn(an,Mt,Mt,an);function EO(e,t){let r=t.negate();return e?r:t}function IO(e){if(!(e instanceof bn))throw new TypeError("ExtendedPoint expected")}function B4(e){if(!(e instanceof kf))throw new TypeError("RistrettoPoint expected")}function _4(){throw new Error("Legacy method: switch to RistrettoPoint")}var kf=class e{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=hr,n=oe(lg*t*t),i=oe((n+Mt)*Hne),o=BigInt(-1),s=oe((o-r*n)*oe(n+r)),{isValid:a,value:c}=O4(i,s),u=oe(c*t);Ef(u)||(u=oe(-u)),a||(c=u),a||(o=n);let l=oe(o*(n-Mt)*qne-s),f=c*c,m=oe((c+c)*s),b=oe(l*Vne),w=oe(Mt-f),S=oe(Mt+f);return new bn(oe(m*S),oe(w*b),oe(b*S),oe(m*w))}static hashToCurve(t){t=wa(t,64);let r=C4(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=C4(t.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new e(n.add(o))}static fromHex(t){t=wa(t,32);let{a:r,d:n}=hr,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=C4(t);if(!Gne(W0(o),t)||Ef(o))throw new Error(i);let s=oe(o*o),a=oe(Mt+r*s),c=oe(Mt-r*s),u=oe(a*a),l=oe(c*c),f=oe(r*n*u-l),{isValid:m,value:b}=TO(oe(f*l)),w=oe(b*c),S=oe(b*w*f),P=oe((o+o)*w);Ef(P)&&(P=oe(-P));let M=oe(a*S),D=oe(P*M);if(!m||Ef(D)||M===an)throw new Error(i);return new e(new bn(P,M,Mt,D))}toRawBytes(){let{x:t,y:r,z:n,t:i}=this.ep,o=oe(oe(n+r)*oe(n-r)),s=oe(t*r),a=oe(s*s),{value:c}=TO(oe(o*a)),u=oe(c*o),l=oe(c*s),f=oe(u*l*i),m;if(Ef(i*f)){let w=oe(r*lg),S=oe(t*lg);t=w,r=S,m=oe(u*Fne)}else m=l;Ef(t*f)&&(r=oe(-r));let b=oe((n-r)*m);return Ef(b)&&(b=oe(-b)),W0(b)}toHex(){return hg(this.toRawBytes())}toString(){return this.toHex()}equals(t){B4(t);let r=this.ep,n=t.ep,i=oe(r.x*n.y)===oe(r.y*n.x),o=oe(r.y*n.y)===oe(r.x*n.x);return i||o}add(t){return B4(t),new e(this.ep.add(t.ep))}subtract(t){return B4(t),new e(this.ep.subtract(t.ep))}multiply(t){return new e(this.ep.multiply(t))}multiplyUnsafe(t){return new e(this.ep.multiplyUnsafe(t))}};qt.RistrettoPoint=kf;kf.BASE=new kf(bn.BASE);kf.ZERO=new kf(bn.ZERO);var M4=new WeakMap,Hr=class e{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,M4.delete(this)}static fromHex(t,r=!0){let{d:n,P:i}=hr;t=wa(t,32);let o=t.slice();o[31]=t[31]&-129;let s=jd(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=PO)throw new Error("Expected 0 < hex < 2**256");let a=oe(s*s),c=oe(a-Mt),u=oe(n*a+Mt),{isValid:l,value:f}=O4(c,u);if(!l)throw new Error("Point.fromHex: invalid y coordinate");let m=(f&Mt)===Mt;return(t[31]&128)!==0!==m&&(f=oe(-f)),new e(f,s)}static async fromPrivateKey(t){return(await pg(t)).point}toRawBytes(){let t=W0(this.y);return t[31]|=this.x&Mt?128:0,t}toHex(){return hg(this.toRawBytes())}toX25519(){let{y:t}=this,r=oe((Mt+t)*M1(Mt-t));return W0(r)}isTorsionFree(){return bn.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new e(oe(-this.x),this.y)}add(t){return bn.fromAffine(this).add(bn.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return bn.fromAffine(this).multiply(t,this).toAffine()}};qt.Point=Hr;Hr.BASE=new Hr(hr.Gx,hr.Gy);Hr.ZERO=new Hr(an,Mt);var Wd=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=wa(t,64),n=Hr.fromHex(r.slice(0,32),!1),i=jd(r.slice(32,64));return new e(n,i)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof Hr))throw new Error("Expected Point instance");return z0(r,hr.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(W0(this.s),32),t}toHex(){return hg(this.toRawBytes())}};qt.Signature=Wd;function kO(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Wne=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hg(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Wne[e[r]];return t}function N4(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function BO(e){let r=e.toString(16).padStart(64,"0");return N4(r)}function W0(e){return BO(e).reverse()}function Ef(e){return(oe(e)&Mt)===Mt}function jd(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+hg(Uint8Array.from(e).reverse()))}var jne=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function C4(e){return oe(jd(e)&jne)}function oe(e,t=hr.P){let r=e%t;return r>=an?r:t+r}function M1(e,t=hr.P){if(e===an||t<=an)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=oe(e,t),n=t,i=an,o=Mt,s=Mt,a=an;for(;r!==an;){let u=n/r,l=n%r,f=i-s*u,m=o-a*u;n=r,r=l,i=s,o=a,s=f,a=m}if(n!==Mt)throw new Error("invert: does not exist");return oe(i,t)}function zne(e,t=hr.P){let r=new Array(e.length),n=e.reduce((o,s,a)=>s===an?o:(r[a]=o,oe(o*s,t)),Mt),i=M1(n,t);return e.reduceRight((o,s,a)=>s===an?o:(r[a]=oe(o*r[a],t),oe(o*s,t)),i),r}function xa(e,t){let{P:r}=hr,n=e;for(;t-- >an;)n*=n,n%=r;return n}function _O(e){let{P:t}=hr,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),c=e*e%t*e%t,u=xa(c,If)*c%t,l=xa(u,Mt)*e%t,f=xa(l,r)*l%t,m=xa(f,n)*f%t,b=xa(m,i)*m%t,w=xa(b,o)*b%t,S=xa(w,s)*w%t,P=xa(S,s)*w%t,M=xa(P,n)*f%t;return{pow_p_5_8:xa(M,If)*e%t,b2:c}}function O4(e,t){let r=oe(t*t*t),n=oe(r*r*t),i=_O(e*n).pow_p_5_8,o=oe(e*r*i),s=oe(t*o*o),a=o,c=oe(o*lg),u=s===e,l=s===oe(-e),f=s===oe(-e*lg);return u&&(o=a),(l||f)&&(o=c),Ef(o)&&(o=oe(-o)),{isValid:u||l,value:o}}function TO(e){return O4(Mt,e)}function j0(e){return oe(jd(e),hr.l)}function Gne(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function wa(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):N4(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function z0(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(an<e)return e}else if(an<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function CO(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function $ne(e){return jd(CO(wa(e,32)))}function MO(e){if(e=typeof e=="bigint"||typeof e=="number"?BO(z0(e,PO)):wa(e),e.length!==32)throw new Error("Expected 32 bytes");return e}function NO(e){let t=CO(e.slice(0,32)),r=e.slice(32,64),n=j0(t),i=Hr.BASE.multiply(n),o=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:o}}var dg;function C1(...e){if(typeof dg!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return dg(...e)}async function pg(e){return NO(await qt.utils.sha512(MO(e)))}function D4(e){return NO(C1(MO(e)))}async function Yne(e){return(await pg(e)).pointBytes}qt.getPublicKey=Yne;function Zne(e){return D4(e).pointBytes}async function Jne(e,t){e=wa(e);let{prefix:r,scalar:n,pointBytes:i}=await pg(t),o=j0(await qt.utils.sha512(r,e)),s=Hr.BASE.multiply(o),a=j0(await qt.utils.sha512(s.toRawBytes(),i,e)),c=oe(o+a*n,hr.l);return new Wd(s,c).toRawBytes()}qt.sign=Jne;function Xne(e,t){e=wa(e);let{prefix:r,scalar:n,pointBytes:i}=D4(t),o=j0(C1(r,e)),s=Hr.BASE.multiply(o),a=j0(C1(s.toRawBytes(),i,e)),c=oe(o+a*n,hr.l);return new Wd(s,c).toRawBytes()}function OO(e,t,r){t=wa(t),r instanceof Hr||(r=Hr.fromHex(r,!1));let{r:n,s:i}=e instanceof Wd?e.assertValidity():Wd.fromHex(e),o=bn.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:t}}function DO(e,t,r,n){let i=j0(n),o=bn.fromAffine(e).multiplyUnsafe(i);return bn.fromAffine(t).add(o).subtract(r).multiplyUnsafe(hr.h).equals(bn.ZERO)}async function Qne(e,t,r){let{r:n,SB:i,msg:o,pub:s}=OO(e,t,r),a=await qt.utils.sha512(n.toRawBytes(),s.toRawBytes(),o);return DO(s,n,i,a)}qt.verify=Qne;function eie(e,t,r){let{r:n,SB:i,msg:o,pub:s}=OO(e,t,r),a=C1(n.toRawBytes(),s.toRawBytes(),o);return DO(s,n,i,a)}qt.sync={getExtendedPublicKey:D4,getPublicKey:Zne,sign:Xne,verify:eie};async function tie(e,t){let{head:r}=await pg(e),n=Hr.fromHex(t).toX25519();return qt.curve25519.scalarMult(r,n)}qt.getSharedSecret=tie;Hr.BASE._setWindowSize(8);function _1(e,t,r){let n=oe(e*(t-r));return t=oe(t-n),r=oe(r+n),[t,r]}function rie(e,t){let{P:r}=hr,n=z0(e,r),i=z0(t,r),o=BigInt(121665),s=n,a=Mt,c=an,u=n,l=Mt,f=an,m;for(let P=BigInt(254);P>=an;P--){let M=i>>P&Mt;f^=M,m=_1(f,a,u),a=m[0],u=m[1],m=_1(f,c,l),c=m[0],l=m[1],f=M;let D=a+c,C=oe(D*D),R=a-c,L=oe(R*R),W=C-L,G=u+l,H=u-l,$=oe(H*D),B=oe(G*R),p=$+B,g=$-B;u=oe(p*p),l=oe(s*oe(g*g)),a=oe(C*L),c=oe(W*(C+oe(o*W)))}m=_1(f,a,u),a=m[0],u=m[1],m=_1(f,c,l),c=m[0],l=m[1];let{pow_p_5_8:b,b2:w}=_O(c),S=oe(xa(b,BigInt(3))*w);return oe(a*S)}function nie(e){return W0(oe(e,hr.P))}function iie(e){let t=wa(e,32);return t[31]&=127,jd(t)}qt.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(e,t){let r=iie(t),n=$ne(e),i=rie(r,n);if(i===an)throw new Error("Invalid private or public key received");return nie(i)},scalarMultBase(e){return qt.curve25519.scalarMult(e,qt.curve25519.BASE_POINT_U)}};var Af={node:Lne,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};qt.utils={bytesToHex:hg,hexToBytes:N4,concatBytes:kO,getExtendedPublicKey:pg,mod:oe,invert:M1,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if(e=wa(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return oe(jd(e),hr.l-Mt)+Mt},randomBytes:(e=32)=>{if(Af.web)return Af.web.getRandomValues(new Uint8Array(e));if(Af.node){let{randomBytes:t}=Af.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>qt.utils.randomBytes(32),sha512:async(...e)=>{let t=kO(...e);if(Af.web){let r=await Af.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(r)}else{if(Af.node)return Uint8Array.from(Af.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=Hr.BASE){let r=t.equals(Hr.BASE)?t:new Hr(t.x,t.y);return r._setWindowSize(e),r.multiply(If),r},sha512Sync:void 0};Object.defineProperties(qt.utils,{sha512Sync:{configurable:!1,get(){return dg},set(e){dg||(dg=e)}}})});var RO=z(G0=>{"use strict";d();h();Object.defineProperty(G0,"__esModule",{value:!0});G0.sha224=G0.sha256=void 0;var oie=v4(),ws=q0(),sie=(e,t,r)=>e&t^~e&r,aie=(e,t,r)=>e&t^e&r^t&r,cie=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pf=new Uint32Array(64),N1=class extends oie.SHA2{constructor(){super(64,32,8,!1),this.A=Tf[0]|0,this.B=Tf[1]|0,this.C=Tf[2]|0,this.D=Tf[3]|0,this.E=Tf[4]|0,this.F=Tf[5]|0,this.G=Tf[6]|0,this.H=Tf[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Pf[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=Pf[f-15],b=Pf[f-2],w=(0,ws.rotr)(m,7)^(0,ws.rotr)(m,18)^m>>>3,S=(0,ws.rotr)(b,17)^(0,ws.rotr)(b,19)^b>>>10;Pf[f]=S+Pf[f-7]+w+Pf[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=(0,ws.rotr)(a,6)^(0,ws.rotr)(a,11)^(0,ws.rotr)(a,25),b=l+m+sie(a,c,u)+cie[f]+Pf[f]|0,S=((0,ws.rotr)(n,2)^(0,ws.rotr)(n,13)^(0,ws.rotr)(n,22))+aie(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){Pf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},U4=class extends N1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};G0.sha256=(0,ws.wrapConstructor)(()=>new N1);G0.sha224=(0,ws.wrapConstructor)(()=>new U4)});var LO=z(K4=>{"use strict";d();h();function yu(e,t,r){return t<=e&&e<=r}function L1(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function uie(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function fie(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var O1=-1;function L4(e){this.tokens=[].slice.call(e)}L4.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():O1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var $0=-1;function R4(e,t){if(e)throw TypeError("Decoder error");return t||65533}var D1="utf-8";function U1(e,t){if(!(this instanceof U1))return new U1(e,t);if(e=e!==void 0?String(e).toLowerCase():D1,e!==D1)throw new Error("Encoding not supported. Only utf-8 is supported");t=L1(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}U1.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=L1(r),this._streaming||(this._decoder=new lie({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new L4(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==$0);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===$0)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),fie(o)}};function R1(e,t){if(!(this instanceof R1))return new R1(e,t);if(e=e!==void 0?String(e).toLowerCase():D1,e!==D1)throw new Error("Encoding not supported. Only utf-8 is supported");t=L1(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}R1.prototype={encode:function(t,r){t=t?String(t):"",r=L1(r),this._streaming||(this._encoder=new die(this._options)),this._streaming=!!r.stream;for(var n=[],i=new L4(uie(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==$0);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==$0;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function lie(e){var t=e.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===O1&&i!==0)return i=0,R4(t);if(c===O1)return $0;if(i===0){if(yu(c,0,127))return c;if(yu(c,194,223))i=1,r=c-192;else if(yu(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,r=c-224;else if(yu(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,r=c-240;else return R4(t);return r=r<<6*i,null}if(!yu(c,o,s))return r=i=n=0,o=128,s=191,a.prepend(c),R4(t);if(o=128,s=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var u=r;return r=i=n=0,u}}function die(e){var t=e.fatal;this.handler=function(r,n){if(n===O1)return $0;if(yu(n,0,127))return n;var i,o;yu(n,128,2047)?(i=1,o=192):yu(n,2048,65535)?(i=2,o=224):yu(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var a=n>>6*(i-1);s.push(128|a&63),i-=1}return s}}K4.TextEncoder=R1;K4.TextDecoder=U1});var qO=z(mr=>{"use strict";d();h();var hie=mr&&mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pie=mr&&mr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lc=mr&&mr.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},yie=mr&&mr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&hie(t,e,r);return pie(t,e),t},KO=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});mr.deserializeUnchecked=mr.deserialize=mr.serialize=mr.BinaryReader=mr.BinaryWriter=mr.BorshError=mr.baseDecode=mr.baseEncode=void 0;var Bf=KO(d1()),VO=KO(wo()),mie=yie(LO()),gie=typeof TextDecoder!="function"?mie.TextDecoder:TextDecoder,bie=new gie("utf-8",{fatal:!0});function xie(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),VO.default.encode(Buffer.from(e))}mr.baseEncode=xie;function wie(e){return Buffer.from(VO.default.decode(e))}mr.baseDecode=wie;var V4=1024,li=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};mr.BorshError=li;var K1=class{constructor(){this.buf=Buffer.alloc(V4),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(V4)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Bf.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Bf.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Bf.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Bf.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(V4)]),this.length+=t.length}writeString(t){this.maybeResize();let r=Buffer.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(let n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};mr.BinaryWriter=K1;function dc(e,t,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new li("Reached the end of buffer when deserializing")}throw o}}}var eo=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new Bf.default(t,"le")}readU128(){let t=this.readBuffer(16);return new Bf.default(t,"le")}readU256(){let t=this.readBuffer(32);return new Bf.default(t,"le")}readU512(){let t=this.readBuffer(64);return new Bf.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new li(`Expected buffer length ${t} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){let t=this.readU32(),r=this.readBuffer(t);try{return bie.decode(r)}catch(n){throw new li(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}};lc([dc],eo.prototype,"readU8",null);lc([dc],eo.prototype,"readU16",null);lc([dc],eo.prototype,"readU32",null);lc([dc],eo.prototype,"readU64",null);lc([dc],eo.prototype,"readU128",null);lc([dc],eo.prototype,"readU256",null);lc([dc],eo.prototype,"readU512",null);lc([dc],eo.prototype,"readString",null);lc([dc],eo.prototype,"readFixedArray",null);lc([dc],eo.prototype,"readArray",null);mr.BinaryReader=eo;function FO(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zd(e,t,r,n,i){try{if(typeof n=="string")i[`write${FO(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new li(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new li(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)zd(e,null,r[o],n[0],i)}else i.writeArray(r,o=>{zd(e,t,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),zd(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{zd(e,t,s,n.key,i),zd(e,t,o,n.value,i)});break}default:throw new li(`FieldType ${n} unrecognized`)}else HO(e,r,i)}catch(o){throw o instanceof li&&o.addToFieldPath(t),o}}function HO(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}let n=e.get(t.constructor);if(!n)throw new li(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{zd(e,i,t[i],o,r)});else if(n.kind==="enum"){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),zd(e,s,t[s],a,r);break}}}else throw new li(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Sie(e,t,r=K1){let n=new r;return HO(e,t,n),n.toArray()}mr.serialize=Sie;function Gd(e,t,r,n){try{if(typeof r=="string")return n[`read${FO(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(Gd(e,null,r[0],n));return i}else return n.readArray(()=>Gd(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?Gd(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=Gd(e,t,r.key,n),c=Gd(e,t,r.value,n);i.set(a,c)}return i}return F4(e,r,n)}catch(i){throw i instanceof li&&i.addToFieldPath(t),i}}function F4(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new li(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of e.get(t).fields)i[o]=Gd(e,o,s,r);return new t(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new li(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=Gd(e,o,s,r);return new t({[o]:a})}throw new li(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function vie(e,t,r,n=eo){let i=new n(r),o=F4(e,t,i);if(i.offset<r.length)throw new li(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}mr.deserialize=vie;function Aie(e,t,r,n=eo){let i=new n(r);return F4(e,t,i)}mr.deserializeUnchecked=Aie});var wg=z(Q=>{"use strict";d();h();Object.defineProperty(Q,"__esModule",{value:!0});Q.s16=Q.s8=Q.nu64be=Q.u48be=Q.u40be=Q.u32be=Q.u24be=Q.u16be=Q.nu64=Q.u48=Q.u40=Q.u32=Q.u24=Q.u16=Q.u8=Q.offset=Q.greedy=Q.Constant=Q.UTF8=Q.CString=Q.Blob=Q.Boolean=Q.BitField=Q.BitStructure=Q.VariantLayout=Q.Union=Q.UnionLayoutDiscriminator=Q.UnionDiscriminator=Q.Structure=Q.Sequence=Q.DoubleBE=Q.Double=Q.FloatBE=Q.Float=Q.NearInt64BE=Q.NearInt64=Q.NearUInt64BE=Q.NearUInt64=Q.IntBE=Q.Int=Q.UIntBE=Q.UInt=Q.OffsetLayout=Q.GreedyCount=Q.ExternalLayout=Q.bindConstructorLayout=Q.nameWithProperty=Q.Layout=Q.uint8ArrayToBuffer=Q.checkUint8Array=void 0;Q.constant=Q.utf8=Q.cstr=Q.blob=Q.unionLayoutDiscriminator=Q.union=Q.seq=Q.bits=Q.struct=Q.f64be=Q.f64=Q.f32be=Q.f32=Q.ns64be=Q.s48be=Q.s40be=Q.s32be=Q.s24be=Q.s16be=Q.ns64=Q.s48=Q.s40=Q.s32=Q.s24=void 0;var q4=Pn();function J0(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Q.checkUint8Array=J0;function Qt(e){return J0(e),q4.Buffer.from(e.buffer,e.byteOffset,e.length)}Q.uint8ArrayToBuffer=Qt;var sr=class{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}};Q.Layout=sr;function W4(e,t){return t.property?e+"["+t.property+"]":e}Q.nameWithProperty=W4;function Eie(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof sr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}Q.bindConstructorLayout=Eie;var Pi=class extends sr{isCount(){throw new Error("ExternalLayout is abstract")}};Q.ExternalLayout=Pi;var V1=class extends Pi{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){J0(t);let n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}};Q.GreedyCount=V1;var yg=class extends Pi{constructor(t,r=0,n){if(!(t instanceof sr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof vo||this.layout instanceof qo}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}};Q.OffsetLayout=yg;var vo=class extends sr{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Qt(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Qt(r).writeUIntLE(t,n,this.span),this.span}};Q.UInt=vo;var qo=class extends sr{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Qt(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Qt(r).writeUIntBE(t,n,this.span),this.span}};Q.UIntBE=qo;var mu=class extends sr{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Qt(t).readIntLE(r,this.span)}encode(t,r,n=0){return Qt(r).writeIntLE(t,n,this.span),this.span}};Q.Int=mu;var _f=class extends sr{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Qt(t).readIntBE(r,this.span)}encode(t,r,n=0){return Qt(r).writeIntBE(t,n,this.span),this.span}};Q.IntBE=_f;var H4=Math.pow(2,32);function n2(e){let t=Math.floor(e/H4),r=e-t*H4;return{hi32:t,lo32:r}}function i2(e,t){return e*H4+t}var F1=class extends sr{constructor(t){super(8,t)}decode(t,r=0){let n=Qt(t),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return i2(o,i)}encode(t,r,n=0){let i=n2(t),o=Qt(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};Q.NearUInt64=F1;var H1=class extends sr{constructor(t){super(8,t)}decode(t,r=0){let n=Qt(t),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return i2(i,o)}encode(t,r,n=0){let i=n2(t),o=Qt(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};Q.NearUInt64BE=H1;var q1=class extends sr{constructor(t){super(8,t)}decode(t,r=0){let n=Qt(t),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return i2(o,i)}encode(t,r,n=0){let i=n2(t),o=Qt(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};Q.NearInt64=q1;var W1=class extends sr{constructor(t){super(8,t)}decode(t,r=0){let n=Qt(t),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return i2(i,o)}encode(t,r,n=0){let i=n2(t),o=Qt(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};Q.NearInt64BE=W1;var j1=class extends sr{constructor(t){super(4,t)}decode(t,r=0){return Qt(t).readFloatLE(r)}encode(t,r,n=0){return Qt(r).writeFloatLE(t,n),4}};Q.Float=j1;var z1=class extends sr{constructor(t){super(4,t)}decode(t,r=0){return Qt(t).readFloatBE(r)}encode(t,r,n=0){return Qt(r).writeFloatBE(t,n),4}};Q.FloatBE=z1;var G1=class extends sr{constructor(t){super(8,t)}decode(t,r=0){return Qt(t).readDoubleLE(r)}encode(t,r,n=0){return Qt(r).writeDoubleLE(t,n),8}};Q.Double=G1;var $1=class extends sr{constructor(t){super(8,t)}decode(t,r=0){return Qt(t).readDoubleBE(r)}encode(t,r,n=0){return Qt(r).writeDoubleBE(t,n),8}};Q.DoubleBE=$1;var Y1=class extends sr{constructor(t,r,n){if(!(t instanceof sr))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Pi&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Pi)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Pi&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(t,r+n),++o}return n}decode(t,r=0){let n=[],i=0,o=this.count;for(o instanceof Pi&&(o=o.decode(t,r));i<o;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){let i=this.elementLayout,o=t.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof Pi&&this.count.encode(t.length,r,n),o}};Q.Sequence=Y1;var Z1=class extends sr{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((o,s)=>o&&s instanceof sr,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(t,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){J0(t);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let u=t[a.property];u!==void 0&&(s=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(t){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Q.Structure=Z1;var mg=class{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}};Q.UnionDiscriminator=mg;var Z0=class extends mg{constructor(t,r){if(!(t instanceof Pi&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}};Q.UnionLayoutDiscriminator=Z0;var gg=class extends sr{constructor(t,r,n){let i;if(t instanceof vo||t instanceof qo)i=new Z0(new yg(t));else if(t instanceof Pi&&t.isCount())i=new Z0(t);else if(t instanceof mg)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof sr))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(t instanceof vo||t instanceof qo)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof vo||t instanceof qo,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;let n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n,i=this.discriminator,o=i.decode(t,r),s=this.registry[o];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[a.property]=a.decode(t,r+c)}else n=s.decode(t,r);return n}encode(t,r,n=0){let i=this.getSourceVariant(t);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(t[o.property],r,n),a+s.encode(t[s.property],r,n+a)}return i.encode(t,r,n)}addVariant(t,r,n){let i=new J1(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}};Q.Union=gg;var J1=class extends sr{constructor(t,r,n,i){if(!(t instanceof gg))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof sr))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};Q.VariantLayout=J1;function Y0(e){return 0>e&&(e+=4294967296),e}var bg=class extends sr{constructor(t,r,n){if(!(t instanceof vo||t instanceof qo))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Y0(o),this},this._packedGetValue=function(){return i}}decode(t,r=0){let n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(t));return n}encode(t,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=t[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){let n=new xg(this,t,r);return this.fields.push(n),n}addBoolean(t){let r=new X1(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===t)return r}};Q.BitStructure=bg;var xg=class{constructor(t,r,n){if(!(t instanceof bg))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*t.span,o=t.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=Y0(this.valueMask<<this.start),this.property=n}decode(t,r){let n=this.container._packedGetValue();return Y0(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Y0(t&this.valueMask))throw new TypeError(W4("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Y0(t<<this.start);this.container._packedSetValue(Y0(r&~this.wordMask)|n)}};Q.BitField=xg;var X1=class extends xg{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Q.Boolean=X1;var Q1=class extends sr{constructor(t,r){if(!(t instanceof Pi&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Pi||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Qt(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof Pi&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(W4("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=Qt(t);return Qt(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof Pi&&this.length.encode(i,r,n),i}};Q.Blob=Q1;var e2=class extends sr{constructor(t){super(-1,t)}getSpan(t,r=0){J0(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){let n=this.getSpan(t,r);return Qt(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));let i=q4.Buffer.from(t,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=Qt(r);return i.copy(s,n),s[n+o]=0,o+1}};Q.CString=e2;var t2=class extends sr{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return J0(t),t.length-r}decode(t,r=0){let n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Qt(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));let i=q4.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Qt(r),n),o}};Q.UTF8=t2;var r2=class extends sr{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}};Q.Constant=r2;Q.greedy=(e,t)=>new V1(e,t);Q.offset=(e,t,r)=>new yg(e,t,r);Q.u8=e=>new vo(1,e);Q.u16=e=>new vo(2,e);Q.u24=e=>new vo(3,e);Q.u32=e=>new vo(4,e);Q.u40=e=>new vo(5,e);Q.u48=e=>new vo(6,e);Q.nu64=e=>new F1(e);Q.u16be=e=>new qo(2,e);Q.u24be=e=>new qo(3,e);Q.u32be=e=>new qo(4,e);Q.u40be=e=>new qo(5,e);Q.u48be=e=>new qo(6,e);Q.nu64be=e=>new H1(e);Q.s8=e=>new mu(1,e);Q.s16=e=>new mu(2,e);Q.s24=e=>new mu(3,e);Q.s32=e=>new mu(4,e);Q.s40=e=>new mu(5,e);Q.s48=e=>new mu(6,e);Q.ns64=e=>new q1(e);Q.s16be=e=>new _f(2,e);Q.s24be=e=>new _f(3,e);Q.s32be=e=>new _f(4,e);Q.s40be=e=>new _f(5,e);Q.s48be=e=>new _f(6,e);Q.ns64be=e=>new W1(e);Q.f32=e=>new j1(e);Q.f32be=e=>new z1(e);Q.f64=e=>new G1(e);Q.f64be=e=>new $1(e);Q.struct=(e,t,r)=>new Z1(e,t,r);Q.bits=(e,t,r)=>new bg(e,t,r);Q.seq=(e,t,r)=>new Y1(e,t,r);Q.union=(e,t,r)=>new gg(e,t,r);Q.unionLayoutDiscriminator=(e,t)=>new Z0(e,t);Q.blob=(e,t)=>new Q1(e,t);Q.cstr=e=>new e2(e);Q.utf8=(e,t)=>new t2(e,t);Q.constant=(e,t)=>new r2(e,t)});var j4=z(X0=>{"use strict";d();h();Object.defineProperty(X0,"__esModule",{value:!0});var o2;function Iie(e){{let t=Buffer.from(e);t.reverse();let r=t.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return o2.toBigInt(e,!1)}X0.toBigIntLE=Iie;function kie(e){{let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return o2.toBigInt(e,!0)}X0.toBigIntBE=kie;function Tie(e,t){{let r=e.toString(16),n=Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}return o2.fromBigInt(e,Buffer.allocUnsafe(t),!1)}X0.toBufferLE=Tie;function Pie(e,t){{let r=e.toString(16);return Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex")}return o2.fromBigInt(e,Buffer.allocUnsafe(t),!0)}X0.toBufferBE=Pie});var JO=z(Oe=>{"use strict";d();h();Object.defineProperty(Oe,"__esModule",{value:!0});var s2=class extends TypeError{constructor(t,r){let n,{message:i,...o}=t,{path:s}=t,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[t,...r()]}}};function Bie(e){return Sa(e)&&typeof e[Symbol.iterator]=="function"}function Sa(e){return typeof e=="object"&&e!=null}function WO(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Bn(e){return typeof e=="string"?JSON.stringify(e):""+e}function _ie(e){let{done:t,value:r}=e.next();return t?void 0:r}function Cie(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});let{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Bn(n)+"`"}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*z4(e,t,r,n){Bie(e)||(e=[e]);for(let i of e){let o=Cie(i,t,r,n);o&&(yield o)}}function*G4(e,t,r={}){let{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&Sa(t.schema)&&Sa(e)&&!Array.isArray(e)))for(let u in e)t.schema[u]===void 0&&delete e[u];let c=!0;for(let u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,f]of t.entries(e,a)){let m=G4(l,f,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:o,mask:s});for(let b of m)b[0]?(c=!1,yield[b[0],void 0]):o&&(l=b[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Sa(e)&&(e[u]=l))}if(c)for(let u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}var Xr=class{constructor(t){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,u)=>{let l=i(c,u);return z4(l,u,this,c)}:this.validator=()=>[],o?this.refiner=(c,u)=>{let l=o(c,u);return z4(l,u,this,c)}:this.refiner=()=>[]}assert(t){return jO(t,this)}create(t){return zO(t,this)}is(t){return $4(t,this)}mask(t){return GO(t,this)}validate(t,r={}){return Q0(t,this,r)}};function jO(e,t){let r=Q0(e,t);if(r[0])throw r[0]}function zO(e,t){let r=Q0(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function GO(e,t){let r=Q0(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function $4(e,t){return!Q0(e,t)[0]}function Q0(e,t,r={}){let n=G4(e,t,r),i=_ie(n);return i[0]?[new s2(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Mie(...e){let t=e.map(n=>n.schema),r=Object.assign({},...t);return Sg(r)}function Wo(e,t){return new Xr({type:e,schema:null,validator:t})}function Nie(e,t){return new Xr({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function Oie(e){return new Xr({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)}})}function Die(e){let t;return new Xr({type:"lazy",schema:null,*entries(r,n){var i;(i=t)!=null||(t=e()),yield*t.entries(r,n)},validator(r,n){var i;return(i=t)!=null||(t=e()),t.validator(r,n)},coercer(r,n){var i;return(i=t)!=null||(t=e()),t.coercer(r,n)}})}function Uie(e,t){let{schema:r}=e,n={...r};for(let i of t)delete n[i];return Sg(n)}function Rie(e){let t=e instanceof Xr?{...e.schema}:{...e};for(let r in t)t[r]=$O(t[r]);return Sg(t)}function Lie(e,t){let{schema:r}=e,n={};for(let i of t)n[i]=r[i];return Sg(n)}function Kie(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Wo(e,t)}function Vie(){return Wo("any",()=>!0)}function Fie(e){return new Xr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+Bn(t)}})}function Hie(){return Wo("boolean",e=>typeof e=="boolean")}function qie(){return Wo("date",e=>e instanceof Date&&!isNaN(e.getTime())||"Expected a valid `Date` object, but received: "+Bn(e))}function Wie(e){let t={},r=e.map(n=>Bn(n)).join();for(let n of e)t[n]=n;return new Xr({type:"enums",schema:t,validator(n){return e.includes(n)||"Expected one of `"+r+"`, but received: "+Bn(n)}})}function jie(){return Wo("func",e=>typeof e=="function"||"Expected a function, but received: "+Bn(e))}function zie(e){return Wo("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+Bn(t))}function Gie(){return Wo("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||"Expected an integer, but received: "+Bn(e))}function $ie(e){return new Xr({type:"intersection",schema:null,*entries(t,r){for(let n of e)yield*n.entries(t,r)},*validator(t,r){for(let n of e)yield*n.validator(t,r)},*refiner(t,r){for(let n of e)yield*n.refiner(t,r)}})}function Yie(e){let t=Bn(e),r=typeof e;return new Xr({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+Bn(n)}})}function Zie(e,t){return new Xr({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+Bn(r)}})}function Y4(){return Wo("never",()=>!1)}function Jie(e){return new Xr({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Xie(){return Wo("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+Bn(e))}function Sg(e){let t=e?Object.keys(e):[],r=Y4();return new Xr({type:"object",schema:e||null,*entries(n){if(e&&Sa(n)){let i=new Set(Object.keys(n));for(let o of t)i.delete(o),yield[o,n[o],e[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return Sa(n)||"Expected an object, but received: "+Bn(n)},coercer(n){return Sa(n)?{...n}:n}})}function $O(e){return new Xr({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Qie(e,t){return new Xr({type:"record",schema:null,*entries(r){if(Sa(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Sa(r)||"Expected an object, but received: "+Bn(r)}})}function eoe(){return Wo("regexp",e=>e instanceof RegExp)}function toe(e){return new Xr({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(let r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||"Expected a `Set` object, but received: "+Bn(t)}})}function YO(){return Wo("string",e=>typeof e=="string"||"Expected a string, but received: "+Bn(e))}function roe(e){let t=Y4();return new Xr({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+Bn(r)}})}function noe(e){let t=Object.keys(e);return new Xr({type:"type",schema:e,*entries(r){if(Sa(r))for(let n of t)yield[n,r[n],e[n]]},validator(r){return Sa(r)||"Expected an object, but received: "+Bn(r)}})}function ioe(e){let t=e.map(r=>r.type).join(" | ");return new Xr({type:"union",schema:null,validator(r,n){let i=[];for(let o of e){let[...s]=G4(r,o,n),[a]=s;if(a[0])for(let[c]of s)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+Bn(r),...i]}})}function ZO(){return Wo("unknown",()=>!0)}function Z4(e,t,r){return new Xr({...e,coercer:(n,i)=>$4(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function ooe(e,t,r={}){return Z4(e,ZO(),n=>{let i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&WO(n)&&WO(i)){let o={...n},s=!1;for(let a in i)o[a]===void 0&&(o[a]=i[a],s=!0);if(s)return o}return n})}function soe(e){return Z4(e,YO(),t=>t.trim())}function aoe(e){let t="Expected an empty "+e.type;return ep(e,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||t+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||t+" but received one with a length of `"+n+"`"}})}function coe(e,t,r={}){let{exclusive:n}=r;return ep(e,"max",i=>n?i<t:i<=t||"Expected a "+e.type+" greater than "+(n?"":"or equal to ")+t+" but received `"+i+"`")}function uoe(e,t,r={}){let{exclusive:n}=r;return ep(e,"min",i=>n?i>t:i>=t||"Expected a "+e.type+" greater than "+(n?"":"or equal to ")+t+" but received `"+i+"`")}function foe(e,t){return ep(e,"pattern",r=>t.test(r)||"Expected a "+e.type+" matching `/"+t.source+'/` but received "'+r+'"')}function loe(e,t,r=t){let n="Expected a "+e.type,i=t===r?"of `"+t+"`":"between `"+t+"` and `"+r+"`";return ep(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||n+" "+i+" but received `"+o+"`";if(o instanceof Map||o instanceof Set){let{size:s}=o;return t<=s&&s<=r||n+" with a size "+i+" but received one with a size of `"+s+"`"}else{let{length:s}=o;return t<=s&&s<=r||n+" with a length "+i+" but received one with a length of `"+s+"`"}})}function ep(e,t,r){return new Xr({...e,*refiner(n,i){yield*e.refiner(n,i);let o=r(n,i),s=z4(o,i,e,n);for(let a of s)yield{...a,refinement:t}}})}Oe.Struct=Xr;Oe.StructError=s2;Oe.any=Vie;Oe.array=Fie;Oe.assert=jO;Oe.assign=Mie;Oe.boolean=Hie;Oe.coerce=Z4;Oe.create=zO;Oe.date=qie;Oe.defaulted=ooe;Oe.define=Wo;Oe.deprecated=Nie;Oe.dynamic=Oie;Oe.empty=aoe;Oe.enums=Wie;Oe.func=jie;Oe.instance=zie;Oe.integer=Gie;Oe.intersection=$ie;Oe.is=$4;Oe.lazy=Die;Oe.literal=Yie;Oe.map=Zie;Oe.mask=GO;Oe.max=coe;Oe.min=uoe;Oe.never=Y4;Oe.nullable=Jie;Oe.number=Xie;Oe.object=Sg;Oe.omit=Uie;Oe.optional=$O;Oe.partial=Rie;Oe.pattern=foe;Oe.pick=Lie;Oe.record=Qie;Oe.refine=ep;Oe.regexp=eoe;Oe.set=toe;Oe.size=loe;Oe.string=YO;Oe.struct=Kie;Oe.trimmed=soe;Oe.tuple=roe;Oe.type=noe;Oe.union=ioe;Oe.unknown=ZO;Oe.validate=Q0});var X4=z(J4=>{"use strict";d();h();Object.defineProperty(J4,"__esModule",{value:!0});J4.default=hoe;var a2,doe=new Uint8Array(16);function hoe(){if(!a2&&(a2=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!a2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a2(doe)}});var XO=z(c2=>{"use strict";d();h();Object.defineProperty(c2,"__esModule",{value:!0});c2.default=void 0;var poe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;c2.default=poe});var vg=z(u2=>{"use strict";d();h();Object.defineProperty(u2,"__esModule",{value:!0});u2.default=void 0;var yoe=moe(XO());function moe(e){return e&&e.__esModule?e:{default:e}}function goe(e){return typeof e=="string"&&yoe.default.test(e)}var boe=goe;u2.default=boe});var Eg=z(Ag=>{"use strict";d();h();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.default=void 0;Ag.unsafeStringify=QO;var xoe=woe(vg());function woe(e){return e&&e.__esModule?e:{default:e}}var di=[];for(let e=0;e<256;++e)di.push((e+256).toString(16).slice(1));function QO(e,t=0){return di[e[t+0]]+di[e[t+1]]+di[e[t+2]]+di[e[t+3]]+"-"+di[e[t+4]]+di[e[t+5]]+"-"+di[e[t+6]]+di[e[t+7]]+"-"+di[e[t+8]]+di[e[t+9]]+"-"+di[e[t+10]]+di[e[t+11]]+di[e[t+12]]+di[e[t+13]]+di[e[t+14]]+di[e[t+15]]}function Soe(e,t=0){let r=QO(e,t);if(!(0,xoe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var voe=Soe;Ag.default=voe});var tD=z(f2=>{"use strict";d();h();Object.defineProperty(f2,"__esModule",{value:!0});f2.default=void 0;var Aoe=Ioe(X4()),Eoe=Eg();function Ioe(e){return e&&e.__esModule?e:{default:e}}var eD,Q4,eI=0,tI=0;function koe(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||eD,s=e.clockseq!==void 0?e.clockseq:Q4;if(o==null||s==null){let m=e.random||(e.rng||Aoe.default)();o==null&&(o=eD=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),s==null&&(s=Q4=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:tI+1,u=a-eI+(c-tI)/1e4;if(u<0&&e.clockseq===void 0&&(s=s+1&16383),(u<0||a>eI)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");eI=a,tI=c,Q4=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let m=0;m<6;++m)i[n+m]=o[m];return t||(0,Eoe.unsafeStringify)(i)}var Toe=koe;f2.default=Toe});var rI=z(l2=>{"use strict";d();h();Object.defineProperty(l2,"__esModule",{value:!0});l2.default=void 0;var Poe=Boe(vg());function Boe(e){return e&&e.__esModule?e:{default:e}}function _oe(e){if(!(0,Poe.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Coe=_oe;l2.default=Coe});var nI=z($d=>{"use strict";d();h();Object.defineProperty($d,"__esModule",{value:!0});$d.URL=$d.DNS=void 0;$d.default=Uoe;var Moe=Eg(),Noe=Ooe(rI());function Ooe(e){return e&&e.__esModule?e:{default:e}}function Doe(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var rD="6ba7b810-9dad-11d1-80b4-00c04fd430c8";$d.DNS=rD;var nD="6ba7b811-9dad-11d1-80b4-00c04fd430c8";$d.URL=nD;function Uoe(e,t,r){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=Doe(i)),typeof o=="string"&&(o=(0,Noe.default)(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return(0,Moe.unsafeStringify)(u)}try{n.name=e}catch{}return n.DNS=rD,n.URL=nD,n}});var oD=z(h2=>{"use strict";d();h();Object.defineProperty(h2,"__esModule",{value:!0});h2.default=void 0;function Roe(e){if(typeof e=="string"){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return Loe(Koe(Voe(e),e.length*8))}function Loe(e){let t=[],r=e.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function iD(e){return(e+64>>>9<<4)+14+1}function Koe(e,t){e[t>>5]|=128<<t%32,e[iD(t)-1]=t;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<e.length;s+=16){let a=r,c=n,u=i,l=o;r=Bi(r,n,i,o,e[s],7,-680876936),o=Bi(o,r,n,i,e[s+1],12,-389564586),i=Bi(i,o,r,n,e[s+2],17,606105819),n=Bi(n,i,o,r,e[s+3],22,-1044525330),r=Bi(r,n,i,o,e[s+4],7,-176418897),o=Bi(o,r,n,i,e[s+5],12,1200080426),i=Bi(i,o,r,n,e[s+6],17,-1473231341),n=Bi(n,i,o,r,e[s+7],22,-45705983),r=Bi(r,n,i,o,e[s+8],7,1770035416),o=Bi(o,r,n,i,e[s+9],12,-1958414417),i=Bi(i,o,r,n,e[s+10],17,-42063),n=Bi(n,i,o,r,e[s+11],22,-1990404162),r=Bi(r,n,i,o,e[s+12],7,1804603682),o=Bi(o,r,n,i,e[s+13],12,-40341101),i=Bi(i,o,r,n,e[s+14],17,-1502002290),n=Bi(n,i,o,r,e[s+15],22,1236535329),r=_i(r,n,i,o,e[s+1],5,-165796510),o=_i(o,r,n,i,e[s+6],9,-1069501632),i=_i(i,o,r,n,e[s+11],14,643717713),n=_i(n,i,o,r,e[s],20,-373897302),r=_i(r,n,i,o,e[s+5],5,-701558691),o=_i(o,r,n,i,e[s+10],9,38016083),i=_i(i,o,r,n,e[s+15],14,-660478335),n=_i(n,i,o,r,e[s+4],20,-405537848),r=_i(r,n,i,o,e[s+9],5,568446438),o=_i(o,r,n,i,e[s+14],9,-1019803690),i=_i(i,o,r,n,e[s+3],14,-187363961),n=_i(n,i,o,r,e[s+8],20,1163531501),r=_i(r,n,i,o,e[s+13],5,-1444681467),o=_i(o,r,n,i,e[s+2],9,-51403784),i=_i(i,o,r,n,e[s+7],14,1735328473),n=_i(n,i,o,r,e[s+12],20,-1926607734),r=Ci(r,n,i,o,e[s+5],4,-378558),o=Ci(o,r,n,i,e[s+8],11,-2022574463),i=Ci(i,o,r,n,e[s+11],16,1839030562),n=Ci(n,i,o,r,e[s+14],23,-35309556),r=Ci(r,n,i,o,e[s+1],4,-1530992060),o=Ci(o,r,n,i,e[s+4],11,1272893353),i=Ci(i,o,r,n,e[s+7],16,-155497632),n=Ci(n,i,o,r,e[s+10],23,-1094730640),r=Ci(r,n,i,o,e[s+13],4,681279174),o=Ci(o,r,n,i,e[s],11,-358537222),i=Ci(i,o,r,n,e[s+3],16,-722521979),n=Ci(n,i,o,r,e[s+6],23,76029189),r=Ci(r,n,i,o,e[s+9],4,-640364487),o=Ci(o,r,n,i,e[s+12],11,-421815835),i=Ci(i,o,r,n,e[s+15],16,530742520),n=Ci(n,i,o,r,e[s+2],23,-995338651),r=Mi(r,n,i,o,e[s],6,-198630844),o=Mi(o,r,n,i,e[s+7],10,1126891415),i=Mi(i,o,r,n,e[s+14],15,-1416354905),n=Mi(n,i,o,r,e[s+5],21,-57434055),r=Mi(r,n,i,o,e[s+12],6,1700485571),o=Mi(o,r,n,i,e[s+3],10,-1894986606),i=Mi(i,o,r,n,e[s+10],15,-1051523),n=Mi(n,i,o,r,e[s+1],21,-2054922799),r=Mi(r,n,i,o,e[s+8],6,1873313359),o=Mi(o,r,n,i,e[s+15],10,-30611744),i=Mi(i,o,r,n,e[s+6],15,-1560198380),n=Mi(n,i,o,r,e[s+13],21,1309151649),r=Mi(r,n,i,o,e[s+4],6,-145523070),o=Mi(o,r,n,i,e[s+11],10,-1120210379),i=Mi(i,o,r,n,e[s+2],15,718787259),n=Mi(n,i,o,r,e[s+9],21,-343485551),r=Cf(r,a),n=Cf(n,c),i=Cf(i,u),o=Cf(o,l)}return[r,n,i,o]}function Voe(e){if(e.length===0)return[];let t=e.length*8,r=new Uint32Array(iD(t));for(let n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Cf(e,t){let r=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(r>>16)<<16|r&65535}function Foe(e,t){return e<<t|e>>>32-t}function d2(e,t,r,n,i,o){return Cf(Foe(Cf(Cf(t,e),Cf(n,o)),i),r)}function Bi(e,t,r,n,i,o,s){return d2(t&r|~t&n,e,t,i,o,s)}function _i(e,t,r,n,i,o,s){return d2(t&n|r&~n,e,t,i,o,s)}function Ci(e,t,r,n,i,o,s){return d2(t^r^n,e,t,i,o,s)}function Mi(e,t,r,n,i,o,s){return d2(r^(t|~n),e,t,i,o,s)}var Hoe=Roe;h2.default=Hoe});var aD=z(p2=>{"use strict";d();h();Object.defineProperty(p2,"__esModule",{value:!0});p2.default=void 0;var qoe=sD(nI()),Woe=sD(oD());function sD(e){return e&&e.__esModule?e:{default:e}}var joe=(0,qoe.default)("v3",48,Woe.default),zoe=joe;p2.default=zoe});var cD=z(y2=>{"use strict";d();h();Object.defineProperty(y2,"__esModule",{value:!0});y2.default=void 0;var Goe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),$oe={randomUUID:Goe};y2.default=$oe});var lD=z(m2=>{"use strict";d();h();Object.defineProperty(m2,"__esModule",{value:!0});m2.default=void 0;var uD=fD(cD()),Yoe=fD(X4()),Zoe=Eg();function fD(e){return e&&e.__esModule?e:{default:e}}function Joe(e,t,r){if(uD.default.randomUUID&&!t&&!e)return uD.default.randomUUID();e=e||{};let n=e.random||(e.rng||Yoe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,Zoe.unsafeStringify)(n)}var Xoe=Joe;m2.default=Xoe});var dD=z(g2=>{"use strict";d();h();Object.defineProperty(g2,"__esModule",{value:!0});g2.default=void 0;function Qoe(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function iI(e,t){return e<<t|e>>>32-t}function ese(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let s=unescape(encodeURIComponent(e));e=[];for(let a=0;a<s.length;++a)e.push(s.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){let a=new Uint32Array(16);for(let c=0;c<16;++c)a[c]=e[s*64+c*4]<<24|e[s*64+c*4+1]<<16|e[s*64+c*4+2]<<8|e[s*64+c*4+3];o[s]=a}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){let a=new Uint32Array(80);for(let b=0;b<16;++b)a[b]=o[s][b];for(let b=16;b<80;++b)a[b]=iI(a[b-3]^a[b-8]^a[b-14]^a[b-16],1);let c=r[0],u=r[1],l=r[2],f=r[3],m=r[4];for(let b=0;b<80;++b){let w=Math.floor(b/20),S=iI(c,5)+Qoe(w,u,l,f)+m+t[w]+a[b]>>>0;m=f,f=l,l=iI(u,30)>>>0,u=c,c=S}r[0]=r[0]+c>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+l>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+m>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var tse=ese;g2.default=tse});var pD=z(b2=>{"use strict";d();h();Object.defineProperty(b2,"__esModule",{value:!0});b2.default=void 0;var rse=hD(nI()),nse=hD(dD());function hD(e){return e&&e.__esModule?e:{default:e}}var ise=(0,rse.default)("v5",80,nse.default),ose=ise;b2.default=ose});var yD=z(x2=>{"use strict";d();h();Object.defineProperty(x2,"__esModule",{value:!0});x2.default=void 0;var sse="00000000-0000-0000-0000-000000000000";x2.default=sse});var mD=z(w2=>{"use strict";d();h();Object.defineProperty(w2,"__esModule",{value:!0});w2.default=void 0;var ase=cse(vg());function cse(e){return e&&e.__esModule?e:{default:e}}function use(e){if(!(0,ase.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var fse=use;w2.default=fse});var oI=z(va=>{"use strict";d();h();Object.defineProperty(va,"__esModule",{value:!0});Object.defineProperty(va,"NIL",{enumerable:!0,get:function(){return yse.default}});Object.defineProperty(va,"parse",{enumerable:!0,get:function(){return xse.default}});Object.defineProperty(va,"stringify",{enumerable:!0,get:function(){return bse.default}});Object.defineProperty(va,"v1",{enumerable:!0,get:function(){return lse.default}});Object.defineProperty(va,"v3",{enumerable:!0,get:function(){return dse.default}});Object.defineProperty(va,"v4",{enumerable:!0,get:function(){return hse.default}});Object.defineProperty(va,"v5",{enumerable:!0,get:function(){return pse.default}});Object.defineProperty(va,"validate",{enumerable:!0,get:function(){return gse.default}});Object.defineProperty(va,"version",{enumerable:!0,get:function(){return mse.default}});var lse=gu(tD()),dse=gu(aD()),hse=gu(lD()),pse=gu(pD()),yse=gu(yD()),mse=gu(mD()),gse=gu(vg()),bse=gu(Eg()),xse=gu(rI());function gu(e){return e&&e.__esModule?e:{default:e}}});var bD=z((D7e,gD)=>{"use strict";d();h();var wse=oI().v4,Sse=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:e};if(i===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return wse()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};gD.exports=Sse});var wD=z((L7e,xD)=>{"use strict";d();h();var vse=oI().v4,Ase=bD(),Ig=function(e,t){if(!(this instanceof Ig))return new Ig(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return vse()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};xD.exports=Ig;Ig.prototype.request=function(e,t,r,n){let i=this,o=null,s=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&typeof e=="object"&&typeof t=="function")n=t,o=e;else{typeof r=="function"&&(n=r,r=void 0);let u=typeof n=="function";try{o=Ase(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return n(l);throw l}if(!u)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,n)}),o};Ig.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)}});var tp=z((F7e,bu)=>{d();h();function sI(e){"@babel/helpers - typeof";return bu.exports=sI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu.exports.__esModule=!0,bu.exports.default=bu.exports,sI(e)}bu.exports=sI,bu.exports.__esModule=!0,bu.exports.default=bu.exports});var vD=z((W7e,xu)=>{d();h();var Ese=tp().default;function SD(){"use strict";xu.exports=SD=function(){return e},xu.exports.__esModule=!0,xu.exports.default=xu.exports;var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(g,x,A){g[x]=A.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(g,x,A){return Object.defineProperty(g,x,{value:A,enumerable:!0,configurable:!0,writable:!0}),g[x]}try{c({},"")}catch{c=function(A,v,_){return A[v]=_}}function u(g,x,A,v){var _=x&&x.prototype instanceof m?x:m,O=Object.create(_.prototype),T=new $(v||[]);return n(O,"_invoke",{value:L(g,A,T)}),O}function l(g,x,A){try{return{type:"normal",arg:g.call(x,A)}}catch(v){return{type:"throw",arg:v}}}e.wrap=u;var f={};function m(){}function b(){}function w(){}var S={};c(S,o,function(){return this});var P=Object.getPrototypeOf,M=P&&P(P(B([])));M&&M!==t&&r.call(M,o)&&(S=M);var D=w.prototype=m.prototype=Object.create(S);function C(g){["next","throw","return"].forEach(function(x){c(g,x,function(A){return this._invoke(x,A)})})}function R(g,x){function A(_,O,T,y){var I=l(g[_],g,O);if(I.type!=="throw"){var q=I.arg,K=q.value;return K&&Ese(K)=="object"&&r.call(K,"__await")?x.resolve(K.__await).then(function(F){A("next",F,T,y)},function(F){A("throw",F,T,y)}):x.resolve(K).then(function(F){q.value=F,T(q)},function(F){return A("throw",F,T,y)})}y(I.arg)}var v;n(this,"_invoke",{value:function(O,T){function y(){return new x(function(I,q){A(O,T,I,q)})}return v=v?v.then(y,y):y()}})}function L(g,x,A){var v="suspendedStart";return function(_,O){if(v==="executing")throw new Error("Generator is already running");if(v==="completed"){if(_==="throw")throw O;return p()}for(A.method=_,A.arg=O;;){var T=A.delegate;if(T){var y=W(T,A);if(y){if(y===f)continue;return y}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(v==="suspendedStart")throw v="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);v="executing";var I=l(g,x,A);if(I.type==="normal"){if(v=A.done?"completed":"suspendedYield",I.arg===f)continue;return{value:I.arg,done:A.done}}I.type==="throw"&&(v="completed",A.method="throw",A.arg=I.arg)}}}function W(g,x){var A=x.method,v=g.iterator[A];if(v===void 0)return x.delegate=null,A==="throw"&&g.iterator.return&&(x.method="return",x.arg=void 0,W(g,x),x.method==="throw")||A!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+A+"' method")),f;var _=l(v,g.iterator,x.arg);if(_.type==="throw")return x.method="throw",x.arg=_.arg,x.delegate=null,f;var O=_.arg;return O?O.done?(x[g.resultName]=O.value,x.next=g.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,f):O:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,f)}function G(g){var x={tryLoc:g[0]};1 in g&&(x.catchLoc=g[1]),2 in g&&(x.finallyLoc=g[2],x.afterLoc=g[3]),this.tryEntries.push(x)}function H(g){var x=g.completion||{};x.type="normal",delete x.arg,g.completion=x}function $(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(G,this),this.reset(!0)}function B(g){if(g){var x=g[o];if(x)return x.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var A=-1,v=function _(){for(;++A<g.length;)if(r.call(g,A))return _.value=g[A],_.done=!1,_;return _.value=void 0,_.done=!0,_};return v.next=v}}return{next:p}}function p(){return{value:void 0,done:!0}}return b.prototype=w,n(D,"constructor",{value:w,configurable:!0}),n(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,a,"GeneratorFunction"),e.isGeneratorFunction=function(g){var x=typeof g=="function"&&g.constructor;return!!x&&(x===b||(x.displayName||x.name)==="GeneratorFunction")},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,w):(g.__proto__=w,c(g,a,"GeneratorFunction")),g.prototype=Object.create(D),g},e.awrap=function(g){return{__await:g}},C(R.prototype),c(R.prototype,s,function(){return this}),e.AsyncIterator=R,e.async=function(g,x,A,v,_){_===void 0&&(_=Promise);var O=new R(u(g,x,A,v),_);return e.isGeneratorFunction(x)?O:O.next().then(function(T){return T.done?T.value:O.next()})},C(D),c(D,a,"Generator"),c(D,o,function(){return this}),c(D,"toString",function(){return"[object Generator]"}),e.keys=function(g){var x=Object(g),A=[];for(var v in x)A.push(v);return A.reverse(),function _(){for(;A.length;){var O=A.pop();if(O in x)return _.value=O,_.done=!1,_}return _.done=!0,_}},e.values=B,$.prototype={constructor:$,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(H),!x)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var A=this;function v(q,K){return T.type="throw",T.arg=x,A.next=q,K&&(A.method="next",A.arg=void 0),!!K}for(var _=this.tryEntries.length-1;_>=0;--_){var O=this.tryEntries[_],T=O.completion;if(O.tryLoc==="root")return v("end");if(O.tryLoc<=this.prev){var y=r.call(O,"catchLoc"),I=r.call(O,"finallyLoc");if(y&&I){if(this.prev<O.catchLoc)return v(O.catchLoc,!0);if(this.prev<O.finallyLoc)return v(O.finallyLoc)}else if(y){if(this.prev<O.catchLoc)return v(O.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return v(O.finallyLoc)}}}},abrupt:function(x,A){for(var v=this.tryEntries.length-1;v>=0;--v){var _=this.tryEntries[v];if(_.tryLoc<=this.prev&&r.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var O=_;break}}O&&(x==="break"||x==="continue")&&O.tryLoc<=A&&A<=O.finallyLoc&&(O=null);var T=O?O.completion:{};return T.type=x,T.arg=A,O?(this.method="next",this.next=O.finallyLoc,f):this.complete(T)},complete:function(x,A){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&A&&(this.next=A),f},finish:function(x){for(var A=this.tryEntries.length-1;A>=0;--A){var v=this.tryEntries[A];if(v.finallyLoc===x)return this.complete(v.completion,v.afterLoc),H(v),f}},catch:function(x){for(var A=this.tryEntries.length-1;A>=0;--A){var v=this.tryEntries[A];if(v.tryLoc===x){var _=v.completion;if(_.type==="throw"){var O=_.arg;H(v)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(x,A,v){return this.delegate={iterator:B(x),resultName:A,nextLoc:v},this.method==="next"&&(this.arg=void 0),f}},e}xu.exports=SD,xu.exports.__esModule=!0,xu.exports.default=xu.exports});var ED=z((G7e,AD)=>{d();h();var S2=vD()();AD.exports=S2;try{regeneratorRuntime=S2}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=S2:Function("r","regeneratorRuntime = r")(S2)}});var kD=z((Z7e,kg)=>{d();h();function ID(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(u){r(u);return}a.done?t(c):Promise.resolve(c).then(n,i)}function Ise(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(c){ID(o,n,i,s,a,"next",c)}function a(c){ID(o,n,i,s,a,"throw",c)}s(void 0)})}}kg.exports=Ise,kg.exports.__esModule=!0,kg.exports.default=kg.exports});var aI=z((Q7e,Tg)=>{d();h();function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Tg.exports=kse,Tg.exports.__esModule=!0,Tg.exports.default=Tg.exports});var PD=z((rCe,Pg)=>{d();h();var TD=tp().default;function Tse(e,t){if(TD(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(TD(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Pg.exports=Tse,Pg.exports.__esModule=!0,Pg.exports.default=Pg.exports});var BD=z((oCe,Bg)=>{d();h();var Pse=tp().default,Bse=PD();function _se(e){var t=Bse(e,"string");return Pse(t)==="symbol"?t:String(t)}Bg.exports=_se,Bg.exports.__esModule=!0,Bg.exports.default=Bg.exports});var cI=z((cCe,_g)=>{d();h();var Cse=BD();function _D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cse(n.key),n)}}function Mse(e,t,r){return t&&_D(e.prototype,t),r&&_D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}_g.exports=Mse,_g.exports.__esModule=!0,_g.exports.default=_g.exports});var CD=z((lCe,wu)=>{d();h();function uI(e,t){return wu.exports=uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wu.exports.__esModule=!0,wu.exports.default=wu.exports,uI(e,t)}wu.exports=uI,wu.exports.__esModule=!0,wu.exports.default=wu.exports});var fI=z((pCe,Cg)=>{d();h();var Nse=CD();function Ose(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nse(e,t)}Cg.exports=Ose,Cg.exports.__esModule=!0,Cg.exports.default=Cg.exports});var MD=z((gCe,Mg)=>{d();h();function Dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Mg.exports=Dse,Mg.exports.__esModule=!0,Mg.exports.default=Mg.exports});var lI=z((wCe,Ng)=>{d();h();var Use=tp().default,Rse=MD();function Lse(e,t){if(t&&(Use(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rse(e)}Ng.exports=Lse,Ng.exports.__esModule=!0,Ng.exports.default=Ng.exports});var hI=z((ACe,Su)=>{d();h();function dI(e){return Su.exports=dI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Su.exports.__esModule=!0,Su.exports.default=Su.exports,dI(e)}Su.exports=dI,Su.exports.__esModule=!0,Su.exports.default=Su.exports});var OD=z(A2=>{"use strict";d();h();var Nf=_N();Object.defineProperty(A2,"__esModule",{value:!0});A2.default=void 0;var Mf=Nf(ED()),v2=Nf(kD()),Kse=Nf(tp()),Vse=Nf(aI()),Fse=Nf(cI()),Hse=Nf(fI()),qse=Nf(lI()),ND=Nf(hI()),Wse=CN();function jse(e){var t=zse();return function(){var n=(0,ND.default)(e),i;if(t){var o=(0,ND.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,qse.default)(this,i)}}function zse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Gse=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},$se=function(e){(0,Hse.default)(r,e);var t=jse(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,Vse.default)(this,r);var c=s.autoconnect,u=c===void 0?!0:c,l=s.reconnect,f=l===void 0?!0:l,m=s.reconnect_interval,b=m===void 0?1e3:m,w=s.max_reconnects,S=w===void 0?5:w,P=Gse(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=t.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=u,i.ready=!1,i.reconnect=f,i.reconnect_timer_id=void 0,i.reconnect_interval=b,i.max_reconnects=S,i.rest_options=P,i.current_reconnects=0,i.generate_request_id=a||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,Fse.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,a){var c=this;return!a&&(0,Kse.default)(s)==="object"&&(a=s,s=null),new Promise(function(u,l){if(!c.ready)return l(new Error("socket not ready"));var f=c.generate_request_id(i,o),m={jsonrpc:"2.0",method:i,params:o||null,id:f};c.socket.send(JSON.stringify(m),a,function(b){if(b)return l(b);c.queue[f]={promise:[u,l]},s&&(c.queue[f].timeout=setTimeout(function(){delete c.queue[f],l(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,v2.default)(Mf.default.mark(function o(s){var a;return Mf.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("rpc.login",s);case 2:if(a=u.sent,a){u.next=5;break}throw new Error("authentication failed");case 5:return u.abrupt("return",a);case 6:case"end":return u.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,v2.default)(Mf.default.mark(function o(){return Mf.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(a,c){if(!s.ready)return c(new Error("socket not ready"));var u={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(u),function(l){if(l)return c(l);a()})})}},{key:"subscribe",value:function(){var n=(0,v2.default)(Mf.default.mark(function o(s){var a;return Mf.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof s=="string"&&(s=[s]),u.next=3,this.call("rpc.on",s);case 3:if(a=u.sent,!(typeof s=="string"&&a[s]!=="ok")){u.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+a[s]);case 6:return u.abrupt("return",a);case 7:case"end":return u.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,v2.default)(Mf.default.mark(function o(s){var a;return Mf.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof s=="string"&&(s=[s]),u.next=3,this.call("rpc.off",s);case 3:if(a=u.sent,!(typeof s=="string"&&a[s]!=="ok")){u.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return u.abrupt("return",a);case 7:case"end":return u.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(a){var c=a.data;c instanceof ArrayBuffer&&(c=Buffer.from(c).toString());try{c=JSON.parse(c)}catch{return}if(c.notification&&s.listeners(c.notification).length){if(!Object.keys(c.params).length)return s.emit(c.notification);var u=[c.notification];if(c.params.constructor===Object)u.push(c.params);else for(var l=0;l<c.params.length;l++)u.push(c.params[l]);return Promise.resolve().then(function(){s.emit.apply(s,u)})}if(!s.queue[c.id])return c.method&&c.params?Promise.resolve().then(function(){s.emit(c.method,c.params)}):void 0;"error"in c=="result"in c&&s.queue[c.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[c.id].timeout&&clearTimeout(s.queue[c.id].timeout),c.error?s.queue[c.id].promise[1](c.error):s.queue[c.id].promise[0](c.result),delete s.queue[c.id]}),this.socket.addEventListener("error",function(a){return s.emit("error",a)}),this.socket.addEventListener("close",function(a){var c=a.code,u=a.reason;s.ready&&setTimeout(function(){return s.emit("close",c,u)},0),s.ready=!1,s.socket=void 0,c!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(Wse.EventEmitter);A2.default=$se});var UD=z(pI=>{"use strict";d();h();var Og=_N();Object.defineProperty(pI,"__esModule",{value:!0});pI.default=nae;var Yse=Og(aI()),Zse=Og(cI()),Jse=Og(fI()),Xse=Og(lI()),DD=Og(hI()),Qse=CN();function eae(e){var t=tae();return function(){var n=(0,DD.default)(e),i;if(t){var o=(0,DD.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Xse.default)(this,i)}}function tae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var rae=function(e){(0,Jse.default)(r,e);var t=eae(r);function r(n,i,o){var s;return(0,Yse.default)(this,r),s=t.call(this),s.socket=new self.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(a){return s.emit("message",a.data)},s.socket.onerror=function(a){return s.emit("error",a)},s.socket.onclose=function(a){s.emit("close",a.code,a.reason)},s}return(0,Zse.default)(r,[{key:"send",value:function(i,o,s){var a=s||o;try{this.socket.send(i),a()}catch(c){a(c)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(Qse.EventEmitter);function nae(e,t){return new rae(e,t)}});var WD=z(Ir=>{"use strict";d();h();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.shake256=Ir.shake128=Ir.keccak_512=Ir.keccak_384=Ir.keccak_256=Ir.keccak_224=Ir.sha3_512=Ir.sha3_384=Ir.sha3_256=Ir.sha3_224=Ir.Keccak=Ir.keccakP=void 0;var rp=E1(),Rg=I4(),Ug=q0(),[KD,VD,FD]=[[],[],[]],iae=BigInt(0),Dg=BigInt(1),oae=BigInt(2),sae=BigInt(7),aae=BigInt(256),cae=BigInt(113);for(let e=0,t=Dg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],KD.push(2*(5*n+r)),VD.push((e+1)*(e+2)/2%64);let i=iae;for(let o=0;o<7;o++)t=(t<<Dg^(t>>sae)*cae)%aae,t&oae&&(i^=Dg<<(Dg<<BigInt(o))-Dg);FD.push(i)}var[uae,fae]=Rg.default.split(FD,!0),RD=(e,t,r)=>r>32?Rg.default.rotlBH(e,t,r):Rg.default.rotlSH(e,t,r),LD=(e,t,r)=>r>32?Rg.default.rotlBL(e,t,r):Rg.default.rotlSL(e,t,r);function HD(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],l=r[c+1],f=RD(u,l,1)^r[a],m=LD(u,l,1)^r[a+1];for(let b=0;b<50;b+=10)e[s+b]^=f,e[s+b+1]^=m}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=VD[s],c=RD(i,o,a),u=LD(i,o,a),l=KD[s];i=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=uae[n],e[1]^=fae[n]}r.fill(0)}Ir.keccakP=HD;var Lg=class e extends Ug.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,rp.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ug.u32)(this.state)}keccak(){HD(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){rp.default.exists(this);let{blockLen:r,state:n}=this;t=(0,Ug.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){rp.default.exists(this,!1),rp.default.bytes(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return rp.default.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(rp.default.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};Ir.Keccak=Lg;var Of=(e,t,r)=>(0,Ug.wrapConstructor)(()=>new Lg(t,e,r));Ir.sha3_224=Of(6,144,224/8);Ir.sha3_256=Of(6,136,256/8);Ir.sha3_384=Of(6,104,384/8);Ir.sha3_512=Of(6,72,512/8);Ir.keccak_224=Of(1,144,224/8);Ir.keccak_256=Of(1,136,256/8);Ir.keccak_384=Of(1,104,384/8);Ir.keccak_512=Of(1,72,512/8);var qD=(e,t,r)=>(0,Ug.wrapConstructorWithOpts)((n={})=>new Lg(t,e,n.dkLen===void 0?r:n.dkLen,!0));Ir.shake128=qD(31,168,128/8);Ir.shake256=qD(31,136,256/8)});var zD=z(Kg=>{"use strict";d();h();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.hmac=void 0;var E2=E1(),jD=q0(),I2=class extends jD.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,E2.default.hash(t);let n=(0,jD.toBytes)(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return E2.default.exists(this),this.iHash.update(t),this}digestInto(t){E2.default.exists(this),E2.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},lae=(e,t,r)=>new I2(e,t).update(r).digest();Kg.hmac=lae;Kg.hmac.create=(e,t)=>new I2(e,t)});var bI=z(Rt=>{"use strict";d();h();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.utils=Rt.schnorr=Rt.verify=Rt.signSync=Rt.sign=Rt.getSharedSecret=Rt.recoverPublicKey=Rt.getPublicKey=Rt.Signature=Rt.Point=Rt.CURVE=void 0;var dae=sg(),Wt=BigInt(0),Cr=BigInt(1),Rf=BigInt(2),Fg=BigInt(3),GD=BigInt(8),gr=Object.freeze({a:Wt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Cr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Rt.CURVE=gr;var $D=(e,t)=>(e+t/Rf)/t,k2={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=gr,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Cr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=$D(o*e,t),c=$D(-n*e,t),u=me(e-a*r-c*i,t),l=me(-a*n-c*o,t),f=u>s,m=l>s;if(f&&(u=t-u),m&&(l=t-l),u>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:m,k2:l}}},Aa=32,Zd=32,tU=32,C2=Aa+1,M2=2*Aa+1;function YD(e){let{a:t,b:r}=gr,n=me(e*e),i=me(n*e);return me(i+t*e+r)}var T2=gr.a===Wt,qg=class extends Error{constructor(t){super(t)}};function ZD(e){if(!(e instanceof to))throw new TypeError("JacobianPoint expected")}var to=class e{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof kr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(kr.ZERO)?e.ZERO:new e(t.x,t.y,Cr)}static toAffineBatch(t){let r=gae(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return e.toAffineBatch(t).map(e.fromAffine)}equals(t){ZD(t);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=t,c=me(i*i),u=me(a*a),l=me(r*u),f=me(o*c),m=me(me(n*a)*u),b=me(me(s*i)*c);return l===f&&m===b}negate(){return new e(this.x,me(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,i=me(t*t),o=me(r*r),s=me(o*o),a=t+o,c=me(Rf*(me(a*a)-i-s)),u=me(Fg*i),l=me(u*u),f=me(l-Rf*c),m=me(u*(c-f)-GD*s),b=me(Rf*r*n);return new e(f,m,b)}add(t){ZD(t);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=t;if(o===Wt||s===Wt)return this;if(r===Wt||n===Wt)return t;let c=me(i*i),u=me(a*a),l=me(r*u),f=me(o*c),m=me(me(n*a)*u),b=me(me(s*i)*c),w=me(f-l),S=me(b-m);if(w===Wt)return S===Wt?this.double():e.ZERO;let P=me(w*w),M=me(w*P),D=me(l*P),C=me(S*S-M-Rf*D),R=me(S*(D-C)-m*M),L=me(i*a*w);return new e(C,R,L)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=e.ZERO;if(typeof t=="bigint"&&t===Wt)return r;let n=QD(t);if(n===Cr)return this;if(!T2){let f=r,m=this;for(;n>Wt;)n&Cr&&(f=f.add(m)),m=m.double(),n>>=Cr;return f}let{k1neg:i,k1:o,k2neg:s,k2:a}=k2.splitScalar(n),c=r,u=r,l=this;for(;o>Wt||a>Wt;)o&Cr&&(c=c.add(l)),a&Cr&&(u=u.add(l)),l=l.double(),o>>=Cr,a>>=Cr;return i&&(c=c.negate()),s&&(u=u.negate()),u=new e(me(u.x*k2.beta),u.y,u.z),c.add(u)}precomputeWindow(t){let r=T2?128/t+1:256/t+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let a=1;a<2**(t-1);a++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,r){!r&&this.equals(e.BASE)&&(r=kr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&yI.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=e.normalizeZ(i),yI.set(r,i)));let o=e.ZERO,s=e.BASE,a=1+(T2?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let m=0;m<a;m++){let b=m*c,w=Number(t&u);t>>=f,w>c&&(w-=l,t+=Cr);let S=b,P=b+Math.abs(w)-1,M=m%2!==0,D=w<0;w===0?s=s.add(P2(M,i[S])):o=o.add(P2(D,i[P]))}return{p:o,f:s}}multiply(t,r){let n=QD(t),i,o;if(T2){let{k1neg:s,k1:a,k2neg:c,k2:u}=k2.splitScalar(n),{p:l,f}=this.wNAF(a,r),{p:m,f:b}=this.wNAF(u,r);l=P2(s,l),m=P2(c,m),m=new e(me(m.x*k2.beta),m.y,m.z),i=l.add(m),o=f.add(b)}else{let{p:s,f:a}=this.wNAF(n,r);i=s,o=a}return e.normalizeZ([i,o])[0]}toAffine(t){let{x:r,y:n,z:i}=this,o=this.equals(e.ZERO);t==null&&(t=o?GD:cp(i));let s=t,a=me(s*s),c=me(a*s),u=me(r*a),l=me(n*c),f=me(i*s);if(o)return kr.ZERO;if(f!==Cr)throw new Error("invZ was invalid");return new kr(u,l)}};to.BASE=new to(gr.Gx,gr.Gy,Cr);to.ZERO=new to(Wt,Cr,Wt);function P2(e,t){let r=t.negate();return e?r:t}var yI=new WeakMap,kr=class e{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,yI.delete(this)}hasEvenY(){return this.y%Rf===Wt}static fromCompressedHex(t){let r=t.length===32,n=zo(r?t:t.subarray(1));if(!_2(n))throw new Error("Point is not on curve");let i=YD(n),o=mae(i),s=(o&Cr)===Cr;r?s&&(o=me(-o)):(t[0]&1)===1!==s&&(o=me(-o));let a=new e(n,o);return a.assertValidity(),a}static fromUncompressedHex(t){let r=zo(t.subarray(1,Aa+1)),n=zo(t.subarray(Aa+1,Aa*2+1)),i=new e(r,n);return i.assertValidity(),i}static fromHex(t){let r=hc(t),n=r.length,i=r[0];if(n===Aa)return this.fromCompressedHex(r);if(n===C2&&(i===2||i===3))return this.fromCompressedHex(r);if(n===M2&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${C2} compressed bytes or ${M2} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return e.BASE.multiply(Jd(t))}static fromSignature(t,r,n){let{r:i,s:o}=nU(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=mI(hc(t)),{n:a}=gr,c=n===2||n===3?i+a:i,u=cp(c,a),l=me(-s*u,a),f=me(o*u,a),m=n&1?"03":"02",b=e.fromHex(m+Lf(c)),w=e.BASE.multiplyAndAddUnsafe(b,l,f);if(!w)throw new Error("Cannot recover signature: point at infinify");return w.assertValidity(),w}toRawBytes(t=!1){return Kf(this.toHex(t))}toHex(t=!1){let r=Lf(this.x);return t?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Lf(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!_2(r)||!_2(n))throw new Error(t);let i=me(n*n),o=YD(r);if(me(i-o)!==Wt)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new e(this.x,me(-this.y))}double(){return to.fromAffine(this).double().toAffine()}add(t){return to.fromAffine(this).add(to.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return to.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let i=to.fromAffine(this),o=r===Wt||r===Cr||this!==e.BASE?i.multiplyUnsafe(r):i.multiply(r),s=to.fromAffine(t).multiplyUnsafe(n),a=o.add(s);return a.equals(to.ZERO)?void 0:a.toAffine()}};Rt.Point=kr;kr.BASE=new kr(gr.Gx,gr.Gy);kr.ZERO=new kr(Wt,Wt);function JD(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function XD(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${ip(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:zo(r),left:e.subarray(t+2)}}function hae(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${ip(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=XD(e.subarray(2)),{data:n,left:i}=XD(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${ip(i)}`);return{r:t,s:n}}var Yd=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?ip(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new e(N2(i.slice(0,64)),N2(i.slice(64,128)))}static fromDER(t){let r=t instanceof Uint8Array;if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=hae(r?t:Kf(t));return new e(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!sp(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!sp(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=gr.n>>Cr;return this.s>t}normalizeS(){return this.hasHighS()?new e(this.r,me(-this.s,gr.n)):this}toDERRawBytes(){return Kf(this.toDERHex())}toDERHex(){let t=JD(Vg(this.s)),r=JD(Vg(this.r)),n=t.length/2,i=r.length/2,o=Vg(n),s=Vg(i);return`30${Vg(i+n+4)}02${s}${r}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Kf(this.toCompactHex())}toCompactHex(){return Lf(this.r)+Lf(this.s)}};Rt.Signature=Yd;function Uf(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var pae=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ip(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=pae[e[r]];return t}var yae=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Lf(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(Wt<=e&&e<yae))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function op(e){let t=Kf(Lf(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Vg(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function N2(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Kf(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function zo(e){return N2(ip(e))}function hc(e){return e instanceof Uint8Array?Uint8Array.from(e):Kf(e)}function QD(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&sp(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function me(e,t=gr.P){let r=e%t;return r>=Wt?r:t+r}function Ss(e,t){let{P:r}=gr,n=e;for(;t-- >Wt;)n*=n,n%=r;return n}function mae(e){let{P:t}=gr,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=Ss(u,Fg)*u%t,f=Ss(l,Fg)*u%t,m=Ss(f,Rf)*c%t,b=Ss(m,n)*m%t,w=Ss(b,i)*b%t,S=Ss(w,s)*w%t,P=Ss(S,a)*S%t,M=Ss(P,s)*w%t,D=Ss(M,Fg)*u%t,C=Ss(D,o)*b%t,R=Ss(C,r)*c%t,L=Ss(R,Rf);if(L*L%t!==e)throw new Error("Cannot find square root");return L}function cp(e,t=gr.P){if(e===Wt||t<=Wt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=me(e,t),n=t,i=Wt,o=Cr,s=Cr,a=Wt;for(;r!==Wt;){let u=n/r,l=n%r,f=i-s*u,m=o-a*u;n=r,r=l,i=s,o=a,s=f,a=m}if(n!==Cr)throw new Error("invert: does not exist");return me(i,t)}function gae(e,t=gr.P){let r=new Array(e.length),n=e.reduce((o,s,a)=>s===Wt?o:(r[a]=o,me(o*s,t)),Cr),i=cp(n,t);return e.reduceRight((o,s,a)=>s===Wt?o:(r[a]=me(o*r[a],t),me(o*s,t)),i),r}function bae(e){let t=e.length*8-Zd*8,r=zo(e);return t>0?r>>BigInt(t):r}function mI(e,t=!1){let r=bae(e);if(t)return r;let{n}=gr;return r>=n?r-n:r}var np,Hg,O2=class{constructor(t,r){if(this.hashLen=t,this.qByteLen=r,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Rt.utils.hmacSha256(this.k,...t)}hmacSync(...t){return Hg(this.k,...t)}checkSync(){if(typeof Hg!="function")throw new qg("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return Uf(...r)}generateSync(){this.checkSync(),this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return Uf(...r)}};function sp(e){return Wt<e&&e<gr.n}function _2(e){return Wt<e&&e<gr.P}function rU(e,t,r,n=!0){let{n:i}=gr,o=mI(e,!0);if(!sp(o))return;let s=cp(o,i),a=kr.BASE.multiply(o),c=me(a.x,i);if(c===Wt)return;let u=me(s*me(t+r*c,i),i);if(u===Wt)return;let l=new Yd(c,u),f=(a.x===l.r?0:2)|Number(a.y&Cr);return n&&l.hasHighS()&&(l=l.normalizeS(),f^=1),{sig:l,recovery:f}}function Jd(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Zd)throw new Error("Expected 32 bytes of private key");t=N2(e)}else if(e instanceof Uint8Array){if(e.length!==Zd)throw new Error("Expected 32 bytes of private key");t=zo(e)}else throw new TypeError("Expected valid private key");if(!sp(t))throw new Error("Expected private key: 0 < key < n");return t}function gI(e){return e instanceof kr?(e.assertValidity(),e):kr.fromHex(e)}function nU(e){if(e instanceof Yd)return e.assertValidity(),e;try{return Yd.fromDER(e)}catch{return Yd.fromCompact(e)}}function xae(e,t=!1){return kr.fromPrivateKey(e).toRawBytes(t)}Rt.getPublicKey=xae;function wae(e,t,r,n=!1){return kr.fromSignature(e,t,r).toRawBytes(n)}Rt.recoverPublicKey=wae;function eU(e){let t=e instanceof Uint8Array,r=typeof e=="string",n=(t||r)&&e.length;return t?n===C2||n===M2:r?n===C2*2||n===M2*2:e instanceof kr}function Sae(e,t,r=!1){if(eU(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!eU(t))throw new TypeError("getSharedSecret: second arg must be public key");let n=gI(t);return n.assertValidity(),n.multiply(Jd(e)).toRawBytes(r)}Rt.getSharedSecret=Sae;function iU(e){let t=e.length>Aa?e.slice(0,Aa):e;return zo(t)}function vae(e){let t=iU(e),r=me(t,gr.n);return oU(r<Wt?t:r)}function oU(e){return op(e)}function sU(e,t,r){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=hc(e),i=Jd(t),o=[oU(i),vae(n)];if(r!=null){r===!0&&(r=Rt.utils.randomBytes(Aa));let c=hc(r);if(c.length!==Aa)throw new Error(`sign: Expected ${Aa} bytes of extra data`);o.push(c)}let s=Uf(...o),a=iU(n);return{seed:s,m:a,d:i}}function aU(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function Aae(e,t,r={}){let{seed:n,m:i,d:o}=sU(e,t,r.extraEntropy),s=new O2(tU,Zd);await s.reseed(n);let a;for(;!(a=rU(await s.generate(),i,o,r.canonical));)await s.reseed();return aU(a,r)}Rt.sign=Aae;function Eae(e,t,r={}){let{seed:n,m:i,d:o}=sU(e,t,r.extraEntropy),s=new O2(tU,Zd);s.reseedSync(n);let a;for(;!(a=rU(s.generateSync(),i,o,r.canonical));)s.reseedSync();return aU(a,r)}Rt.signSync=Eae;var Iae={strict:!0};function kae(e,t,r,n=Iae){let i;try{i=nU(e),t=hc(t)}catch{return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let a=mI(t),c;try{c=gI(r)}catch{return!1}let{n:u}=gr,l=cp(s,u),f=me(a*l,u),m=me(o*l,u),b=kr.BASE.multiplyAndAddUnsafe(c,f,m);return b?me(b.x,u)===o:!1}Rt.verify=kae;function D2(e){return me(zo(e),gr.n)}var ap=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=hc(t);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=zo(r.subarray(0,32)),i=zo(r.subarray(32,64));return new e(n,i)}assertValidity(){let{r:t,s:r}=this;if(!_2(t)||!sp(r))throw new Error("Invalid signature")}toHex(){return Lf(this.r)+Lf(this.s)}toRawBytes(){return Kf(this.toHex())}};function Tae(e){return kr.fromPrivateKey(e).toRawX()}var U2=class{constructor(t,r,n=Rt.utils.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=hc(t);let{x:i,scalar:o}=this.getScalar(Jd(r));if(this.px=i,this.d=o,this.rand=hc(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){let r=kr.fromPrivateKey(t),n=r.hasEvenY()?t:gr.n-t;return{point:r,scalar:n,x:r.toRawX()}}initNonce(t,r){return op(t^zo(r))}finalizeNonce(t){let r=me(zo(t),gr.n);if(r===Wt)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(t,r,n,i){return new ap(t.x,me(r+n*i,gr.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:t,d:r,px:n,rand:i}=this,o=Rt.utils.taggedHash,s=this.initNonce(r,await o(Df.aux,i)),{R:a,rx:c,k:u}=this.finalizeNonce(await o(Df.nonce,s,n,t)),l=D2(await o(Df.challenge,c,n,t)),f=this.finalizeSig(a,u,l,r);return await fU(f,t,n)||this.error(),f}calcSync(){let{m:t,d:r,px:n,rand:i}=this,o=Rt.utils.taggedHashSync,s=this.initNonce(r,o(Df.aux,i)),{R:a,rx:c,k:u}=this.finalizeNonce(o(Df.nonce,s,n,t)),l=D2(o(Df.challenge,c,n,t)),f=this.finalizeSig(a,u,l,r);return lU(f,t,n)||this.error(),f}};async function Pae(e,t,r){return new U2(e,t,r).calc()}function Bae(e,t,r){return new U2(e,t,r).calcSync()}function cU(e,t,r){let n=e instanceof ap,i=n?e:ap.fromHex(e);return n&&i.assertValidity(),{...i,m:hc(t),P:gI(r)}}function uU(e,t,r,n){let i=kr.BASE.multiplyAndAddUnsafe(t,Jd(r),me(-n,gr.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function fU(e,t,r){try{let{r:n,s:i,m:o,P:s}=cU(e,t,r),a=D2(await Rt.utils.taggedHash(Df.challenge,op(n),s.toRawX(),o));return uU(n,s,i,a)}catch{return!1}}function lU(e,t,r){try{let{r:n,s:i,m:o,P:s}=cU(e,t,r),a=D2(Rt.utils.taggedHashSync(Df.challenge,op(n),s.toRawX(),o));return uU(n,s,i,a)}catch(n){if(n instanceof qg)throw n;return!1}}Rt.schnorr={Signature:ap,getPublicKey:Tae,sign:Pae,verify:fU,signSync:Bae,verifySync:lU};kr.BASE._setWindowSize(8);var jo={node:dae,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Df={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},B2={};Rt.utils={bytesToHex:ip,hexToBytes:Kf,concatBytes:Uf,mod:me,invert:cp,isValidPrivateKey(e){try{return Jd(e),!0}catch{return!1}},_bigintTo32Bytes:op,_normalizePrivateKey:Jd,hashToPrivateKey:e=>{e=hc(e);let t=Zd+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=me(zo(e),gr.n-Cr)+Cr;return op(r)},randomBytes:(e=32)=>{if(jo.web)return jo.web.getRandomValues(new Uint8Array(e));if(jo.node){let{randomBytes:t}=jo.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Rt.utils.hashToPrivateKey(Rt.utils.randomBytes(Zd+8)),precompute(e=8,t=kr.BASE){let r=t===kr.BASE?t:new kr(t.x,t.y);return r._setWindowSize(e),r.multiply(Fg),r},sha256:async(...e)=>{if(jo.web){let t=await jo.web.subtle.digest("SHA-256",Uf(...e));return new Uint8Array(t)}else if(jo.node){let{createHash:t}=jo.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(jo.web){let r=await jo.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Uf(...t),i=await jo.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(jo.node){let{createHmac:r}=jo.node,n=r("sha256",e);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=B2[e];if(r===void 0){let n=await Rt.utils.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Uf(n,n),B2[e]=r}return Rt.utils.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof np!="function")throw new qg("sha256Sync is undefined, you need to set it");let r=B2[e];if(r===void 0){let n=np(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Uf(n,n),B2[e]=r}return np(r,...t)},_JacobianPoint:to};Object.defineProperties(Rt.utils,{sha256Sync:{configurable:!1,get(){return np},set(e){np||(np=e)}},hmacSha256Sync:{configurable:!1,get(){return Hg},set(e){Hg||(Hg=e)}}})});var tS=z(de=>{"use strict";d();h();Object.defineProperty(de,"__esModule",{value:!0});var De=ug(),_ae=vO(),Cae=UO(),Mae=d1(),Nae=wo(),II=RO(),xI=qO(),BU=wg(),kI=j4(),k=JO(),Oae=wD(),Dae=OD(),Uae=UD(),dU=WD(),Rae=zD(),Lae=bI();function rb(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function jI(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Hf=jI(Cae),hU=rb(Mae),hi=rb(Nae),j=jI(BU),Kae=rb(Oae),Vae=rb(Dae),Fae=rb(Uae),J2=jI(Lae);Hf.utils.sha512Sync=(...e)=>_ae.sha512(Hf.utils.concatBytes(...e));var Hae=Hf.utils.randomPrivateKey,pU=()=>{let e=Hf.utils.randomPrivateKey(),t=F2(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},F2=Hf.sync.getPublicKey;function yU(e){try{return Hf.Point.fromHex(e,!0),!0}catch{return!1}}var zI=(e,t)=>Hf.sync.sign(e,t.slice(0,32)),qae=Hf.sync.verify,Et=e=>De.Buffer.isBuffer(e)?e:e instanceof Uint8Array?De.Buffer.from(e.buffer,e.byteOffset,e.byteLength):De.Buffer.from(e),Gg=class{constructor(t){Object.assign(this,t)}encode(){return De.Buffer.from(xI.serialize(zg,this))}static decode(t){return xI.deserialize(zg,this,t)}static decodeUnchecked(t){return xI.deserializeUnchecked(zg,this,t)}},TI=class extends Gg{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(r=>{this.enum=r})}},zg=new Map,_U,CU=32,gc=32;function Wae(e){return e._bn!==void 0}var mU=1;_U=Symbol.toStringTag;var ye=class e extends Gg{constructor(t){if(super({}),this._bn=void 0,Wae(t))this._bn=t._bn;else{if(typeof t=="string"){let r=hi.default.decode(t);if(r.length!=gc)throw new Error("Invalid public key input");this._bn=new hU.default(r)}else this._bn=new hU.default(t);if(this._bn.byteLength()>gc)throw new Error("Invalid public key input")}}static unique(){let t=new e(mU);return mU+=1,new e(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return hi.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(De.Buffer);if(t.length===gc)return t;let r=De.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[_U](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){let i=De.Buffer.concat([t.toBuffer(),De.Buffer.from(r),n.toBuffer()]),o=II.sha256(i);return new e(o)}static createProgramAddressSync(t,r){let n=De.Buffer.alloc(0);t.forEach(function(o){if(o.length>CU)throw new TypeError("Max seed length exceeded");n=De.Buffer.concat([n,Et(o)])}),n=De.Buffer.concat([n,r.toBuffer(),De.Buffer.from("ProgramDerivedAddress")]);let i=II.sha256(n);if(yU(i))throw new Error("Invalid seeds, address must fall off the curve");return new e(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{let o=t.concat(De.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){let r=new e(t);return yU(r.toBytes())}};ye.default=new ye("11111111111111111111111111111111");zg.set(ye,{kind:"struct",fields:[["_bn","u256"]]});var PI=class{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){let r=Et(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Et(Hae()),this._publicKey=Et(F2(this._secretKey))}get publicKey(){return new ye(this._publicKey)}get secretKey(){return De.Buffer.concat([this._secretKey,this._publicKey],64)}},jae=new ye("BPFLoader1111111111111111111111111111111111"),Ff=1232,X2=127,$g=64,Yg=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Yg.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Zg=class extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Zg.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Vf=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Vf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var eh=class{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Nt=(e="publicKey")=>j.blob(32,e),zae=(e="signature")=>j.blob(64,e),Qd=(e="string")=>{let t=j.struct([j.u32("length"),j.u32("lengthPadding"),j.blob(j.offset(j.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:De.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>j.u32().span+j.u32().span+De.Buffer.from(o,"utf8").length,i},Gae=(e="authorized")=>j.struct([Nt("staker"),Nt("withdrawer")],e),$ae=(e="lockup")=>j.struct([j.ns64("unixTimestamp"),j.ns64("epoch"),Nt("custodian")],e),Yae=(e="voteInit")=>j.struct([Nt("nodePubkey"),Nt("authorizedVoter"),Nt("authorizedWithdrawer"),j.u8("commission")],e),Zae=(e="voteAuthorizeWithSeedArgs")=>j.struct([j.u32("voteAuthorizationType"),Nt("currentAuthorityDerivedKeyOwnerPubkey"),Qd("currentAuthorityDerivedKeySeed"),Nt("newAuthorized")],e);function MU(e,t){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){let o=t[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return MU({layout:i},t[i.property]);return 0},n=0;return e.layout.fields.forEach(i=>{n+=r(i)}),n}function Ao(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function Go(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function er(e,t){if(!e)throw new Error(t||"Assertion failed")}var H2=class e{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of t){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new e(r,n)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];er(t.length<=256,"Max static account keys length exceeded");let r=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{er(r.length>0,"Expected at least one writable signer key");let[c]=r[0];er(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new ye(c)),...n.map(([c])=>new ye(c)),...i.map(([c])=>new ye(c)),...o.map(([c])=>new ye(c))];return[s,a]}extractTableLookup(t){let[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(t,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new ye(o),c=t.findIndex(u=>u.equals(a));c>=0&&(er(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},NU="Reached end of buffer unexpectedly";function yc(e){if(e.length===0)throw new Error(NU);return e.shift()}function Eo(e,...t){let[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(NU);return e.splice(...t)}var bc=class e{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new ye(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:hi.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new eh(this.staticAccountKeys)}static compile(t){let r=H2.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),s=new eh(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:hi.default.encode(a.data)}));return new e({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let n=t-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){let t=this.accountKeys.length,r=[];Go(r,t);let n=this.instructions.map(f=>{let{accounts:m,programIdIndex:b}=f,w=Array.from(hi.default.decode(f.data)),S=[];Go(S,m.length);let P=[];return Go(P,w.length),{programIdIndex:b,keyIndicesCount:De.Buffer.from(S),keyIndices:m,dataLength:De.Buffer.from(P),data:w}}),i=[];Go(i,n.length);let o=De.Buffer.alloc(Ff);De.Buffer.from(i).copy(o);let s=i.length;n.forEach(f=>{let b=j.struct([j.u8("programIdIndex"),j.blob(f.keyIndicesCount.length,"keyIndicesCount"),j.seq(j.u8("keyIndex"),f.keyIndices.length,"keyIndices"),j.blob(f.dataLength.length,"dataLength"),j.seq(j.u8("userdatum"),f.data.length,"data")]).encode(f,o,s);s+=b}),o=o.slice(0,s);let a=j.struct([j.blob(1,"numRequiredSignatures"),j.blob(1,"numReadonlySignedAccounts"),j.blob(1,"numReadonlyUnsignedAccounts"),j.blob(r.length,"keyCount"),j.seq(Nt("key"),t,"keys"),Nt("recentBlockhash")]),c={numRequiredSignatures:De.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:De.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:De.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:De.Buffer.from(r),keys:this.accountKeys.map(f=>Et(f.toBytes())),recentBlockhash:hi.default.decode(this.recentBlockhash)},u=De.Buffer.alloc(2048),l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let r=[...t],n=yc(r);if(n!==(n&X2))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=yc(r),o=yc(r),s=Ao(r),a=[];for(let m=0;m<s;m++){let b=Eo(r,0,gc);a.push(new ye(De.Buffer.from(b)))}let c=Eo(r,0,gc),u=Ao(r),l=[];for(let m=0;m<u;m++){let b=yc(r),w=Ao(r),S=Eo(r,0,w),P=Ao(r),M=Eo(r,0,P),D=hi.default.encode(De.Buffer.from(M));l.push({programIdIndex:b,accounts:S,data:D})}let f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:hi.default.encode(De.Buffer.from(c)),accountKeys:a,instructions:l};return new e(f)}},up=class e{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new eh(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){let i=t-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){let i=t-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=t.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){let r=H2.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(let l of o){let f=r.extractTableLookup(l);if(f!==void 0){let[m,{writable:b,readonly:w}]=f;n.push(m),i.writable.push(...b),i.readonly.push(...w)}}let[s,a]=r.getMessageComponents(),u=new eh(a,i).compileInstructions(t.instructions);return new e({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){let t=Array();Go(t,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Go(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Go(o,this.addressTableLookups.length);let s=j.struct([j.u8("prefix"),j.struct([j.u8("numRequiredSignatures"),j.u8("numReadonlySignedAccounts"),j.u8("numReadonlyUnsignedAccounts")],"header"),j.blob(t.length,"staticAccountKeysLength"),j.seq(Nt(),this.staticAccountKeys.length,"staticAccountKeys"),Nt("recentBlockhash"),j.blob(n.length,"instructionsLength"),j.blob(r.length,"serializedInstructions"),j.blob(o.length,"addressTableLookupsLength"),j.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ff),u=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:hi.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let t=0,r=new Uint8Array(Ff);for(let n of this.compiledInstructions){let i=Array();Go(i,n.accountKeyIndexes.length);let o=Array();Go(o,n.data.length);let s=j.struct([j.u8("programIdIndex"),j.blob(i.length,"encodedAccountKeyIndexesLength"),j.seq(j.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),j.blob(o.length,"encodedDataLength"),j.blob(n.data.length,"data")]);t+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0,r=new Uint8Array(Ff);for(let n of this.addressTableLookups){let i=Array();Go(i,n.writableIndexes.length);let o=Array();Go(o,n.readonlyIndexes.length);let s=j.struct([Nt("accountKey"),j.blob(i.length,"encodedWritableIndexesLength"),j.seq(j.u8(),n.writableIndexes.length,"writableIndexes"),j.blob(o.length,"encodedReadonlyIndexesLength"),j.seq(j.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t],n=yc(r),i=n&X2;er(n!==i,"Expected versioned message but received legacy message");let o=i;er(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:yc(r),numReadonlySignedAccounts:yc(r),numReadonlyUnsignedAccounts:yc(r)},a=[],c=Ao(r);for(let w=0;w<c;w++)a.push(new ye(Eo(r,0,gc)));let u=hi.default.encode(Eo(r,0,gc)),l=Ao(r),f=[];for(let w=0;w<l;w++){let S=yc(r),P=Ao(r),M=Eo(r,0,P),D=Ao(r),C=new Uint8Array(Eo(r,0,D));f.push({programIdIndex:S,accountKeyIndexes:M,data:C})}let m=Ao(r),b=[];for(let w=0;w<m;w++){let S=new ye(Eo(r,0,gc)),P=Ao(r),M=Eo(r,0,P),D=Ao(r),C=Eo(r,0,D);b.push({accountKey:S,writableIndexes:M,readonlyIndexes:C})}return new e({header:s,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:b})}},GI={deserializeMessageVersion(e){let t=e[0],r=t&X2;return r===t?"legacy":r},deserialize:e=>{let t=GI.deserializeMessageVersion(e);if(t==="legacy")return bc.from(e);if(t===0)return up.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};de.TransactionStatus=void 0;(function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID"})(de.TransactionStatus||(de.TransactionStatus={}));var Jae=De.Buffer.alloc($g).fill(0),yr=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=De.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},pr=class e{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new yr(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let S=0;S<r.length;S++)if(r[S].programId===void 0)throw new Error(`Transaction instruction index ${S} has undefined program id`);let i=[],o=[];r.forEach(S=>{S.keys.forEach(M=>{o.push({...M})});let P=S.programId.toString();i.includes(P)||i.push(P)}),i.forEach(S=>{o.push({pubkey:new ye(S),isSigner:!1,isWritable:!1})});let s=[];o.forEach(S=>{let P=S.pubkey.toString(),M=s.findIndex(D=>D.pubkey.toString()===P);M>-1?(s[M].isWritable=s[M].isWritable||S.isWritable,s[M].isSigner=s[M].isSigner||S.isSigner):s.push(S)}),s.sort(function(S,P){return S.isSigner!==P.isSigner?S.isSigner?-1:1:S.isWritable!==P.isWritable?S.isWritable?-1:1:S.pubkey.toBase58().localeCompare(P.pubkey.toBase58())});let a=s.findIndex(S=>S.pubkey.equals(n));if(a>-1){let[S]=s.splice(a,1);S.isSigner=!0,S.isWritable=!0,s.unshift(S)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let S of this.signatures){let P=s.findIndex(M=>M.pubkey.equals(S.publicKey));if(P>-1)s[P].isSigner||(s[P].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${S.publicKey.toString()}`)}let c=0,u=0,l=0,f=[],m=[];s.forEach(({pubkey:S,isSigner:P,isWritable:M})=>{P?(f.push(S.toString()),c+=1,M||(u+=1)):(m.push(S.toString()),M||(l+=1))});let b=f.concat(m),w=r.map(S=>{let{data:P,programId:M}=S;return{programIdIndex:b.indexOf(M.toString()),accounts:S.keys.map(D=>b.indexOf(D.pubkey.toString())),data:hi.default.encode(P)}});return w.forEach(S=>{er(S.programIdIndex>=0),S.accounts.forEach(P=>er(P>=0))}),new bc({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:b,recentBlockhash:t,instructions:w})}_compile(){let t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");let r=new Set;this.signatures=t.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of t){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of t){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){let n=t.serialize();r.forEach(i=>{let o=zI(n,i.secretKey);this._addSignature(i.publicKey,Et(o))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){er(r.length===64);let n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=De.Buffer.from(r)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),t===void 0?!0:t)}_verifySignatures(t,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!qae(n,t,i.toBytes()))return!1;return!0}serialize(t){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(t){let{signatures:r}=this,n=[];Go(n,r.length);let i=n.length+r.length*64+t.length,o=De.Buffer.alloc(i);return er(r.length<256),De.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(er(s.length===64,"signature has invalid length"),De.Buffer.from(s).copy(o,n.length+a*64))}),t.copy(o,n.length+r.length*64),er(o.length<=Ff,`Transaction too large: ${o.length} > ${Ff}`),o}get keys(){return er(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return er(this.instructions.length===1),this.instructions[0].programId}get data(){return er(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t],n=Ao(r),i=[];for(let o=0;o<n;o++){let s=Eo(r,0,$g);i.push(hi.default.encode(De.Buffer.from(s)))}return e.populate(bc.from(r),i)}static populate(t,r=[]){let n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==hi.default.encode(Jae)?null:hi.default.decode(i),publicKey:t.accountKeys[o]};n.signatures.push(s)}),t.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=t.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});n.instructions.push(new yr({keys:o,programId:t.accountKeys[i.programIdIndex],data:hi.default.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}},BI=class e{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,u=s-a;er(u>0,"Message header is invalid");let l=t.staticAccountKeys.length-s-c;er(l>=0,"Message header is invalid");let f=t.getAccountKeys(r),m=f.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let b=[];for(let w of i){let S=[];for(let M of w.accountKeyIndexes){let D=f.get(M);if(D===void 0)throw new Error(`Failed to find key for account key index ${M}`);let C=M<s,R;C?R=M<u:M<f.staticAccountKeys.length?R=M-s<l:R=M-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,S.push({pubkey:D,isSigner:M<n.numRequiredSignatures,isWritable:R})}let P=f.get(w.programIdIndex);if(P===void 0)throw new Error(`Failed to find program id for program id index ${w.programIdIndex}`);b.push(new yr({programId:P,data:Et(w.data),keys:S}))}return new e({payerKey:m,instructions:b,recentBlockhash:o})}compileToLegacyMessage(){return bc.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return up.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}},_I=class e{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)er(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array($g));this.signatures=n}this.message=t}serialize(){let t=this.message.serialize(),r=Array();Go(r,this.signatures.length);let n=j.struct([j.blob(r.length,"encodedSignaturesLength"),j.seq(zae(),this.signatures.length,"signatures"),j.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let r=[...t],n=[],i=Ao(r);for(let s=0;s<i;s++)n.push(new Uint8Array(Eo(r,0,$g)));let o=GI.deserialize(new Uint8Array(r));return new e(o,n)}sign(t){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of t){let o=n.findIndex(s=>s.equals(i.publicKey));er(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=zI(r,i.secretKey)}}addSignature(t,r){er(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));er(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},pc=new ye("SysvarC1ock11111111111111111111111111111111"),Xae=new ye("SysvarEpochSchedu1e111111111111111111111111"),Qae=new ye("Sysvar1nstructions1111111111111111111111111"),L2=new ye("SysvarRecentB1ockHashes11111111111111111111"),fp=new ye("SysvarRent111111111111111111111111111111111"),ece=new ye("SysvarRewards111111111111111111111111111111"),tce=new ye("SysvarS1otHashes111111111111111111111111111"),rce=new ye("SysvarS1otHistory11111111111111111111111111"),K2=new ye("SysvarStakeHistory1111111111111111111111111");async function V2(e,t,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await e.sendTransaction(t,r,i),s;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)s=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){let{nonceInstruction:a}=t.nonceInfo,c=a.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:t.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Xd(e){return new Promise(t=>setTimeout(t,e))}function Zt(e,t){let r=e.layout.span>=0?e.layout.span:MU(e,t),n=De.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function fr(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}var OU=j.nu64("lamportsPerSignature"),DU=j.struct([j.u32("version"),j.u32("state"),Nt("authorizedPubkey"),Nt("nonce"),j.struct([OU],"feeCalculator")]),CI=DU.span,q2=class e{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){let r=DU.decode(Et(t),0);return new e({authorizedPubkey:new ye(r.authorizedPubkey),nonce:new ye(r.nonce).toString(),feeCalculator:r.feeCalculator})}},nce=e=>{let t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},ice=e=>t=>{let r=BU.blob(e,t),{encode:n,decode:i}=nce(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return kI.toBigIntLE(De.Buffer.from(c))},o.encode=(s,a,c)=>{let u=kI.toBufferLE(s,e);return n(u,a,c)},o},lp=ice(8),MI=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=j.u32("instruction").decode(t.data),i;for(let[o,s]of Object.entries(Tr))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:r,space:n,programId:i}=fr(Tr.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:r,space:n,programId:new ye(i)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:r}=fr(Tr.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:r,seed:n,programId:i}=fr(Tr.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:r,seed:n,programId:new ye(i)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{space:r}=fr(Tr.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:r,seed:n,space:i,programId:o}=fr(Tr.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ye(r),seed:n,space:i,programId:new ye(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{programId:r}=fr(Tr.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new ye(r)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:r,seed:n,programId:i}=fr(Tr.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ye(r),seed:n,programId:new ye(i)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=fr(Tr.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new ye(r),seed:n,lamports:i,space:o,programId:new ye(s)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{authorized:r}=fr(Tr.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new ye(r)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),fr(Tr.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:r}=fr(Tr.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:r}=fr(Tr.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new ye(r)}}static checkProgramId(t){if(!t.equals(Ni.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,r){if(t.length<r)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${r}`)}},Tr=Object.freeze({Create:{index:0,layout:j.struct([j.u32("instruction"),j.ns64("lamports"),j.ns64("space"),Nt("programId")])},Assign:{index:1,layout:j.struct([j.u32("instruction"),Nt("programId")])},Transfer:{index:2,layout:j.struct([j.u32("instruction"),lp("lamports")])},CreateWithSeed:{index:3,layout:j.struct([j.u32("instruction"),Nt("base"),Qd("seed"),j.ns64("lamports"),j.ns64("space"),Nt("programId")])},AdvanceNonceAccount:{index:4,layout:j.struct([j.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:j.struct([j.u32("instruction"),Nt("authorized")])},AuthorizeNonceAccount:{index:7,layout:j.struct([j.u32("instruction"),Nt("authorized")])},Allocate:{index:8,layout:j.struct([j.u32("instruction"),j.ns64("space")])},AllocateWithSeed:{index:9,layout:j.struct([j.u32("instruction"),Nt("base"),Qd("seed"),j.ns64("space"),Nt("programId")])},AssignWithSeed:{index:10,layout:j.struct([j.u32("instruction"),Nt("base"),Qd("seed"),Nt("programId")])},TransferWithSeed:{index:11,layout:j.struct([j.u32("instruction"),lp("lamports"),Qd("seed"),Nt("programId")])},UpgradeNonceAccount:{index:12,layout:j.struct([j.u32("instruction")])}}),Ni=class e{constructor(){}static createAccount(t){let r=Tr.Create,n=Zt(r,{lamports:t.lamports,space:t.space,programId:Et(t.programId.toBuffer())});return new yr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let r,n;if("basePubkey"in t){let i=Tr.TransferWithSeed;r=Zt(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Et(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Tr.Transfer;r=Zt(i,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new yr({keys:n,programId:this.programId,data:r})}static assign(t){let r,n;if("basePubkey"in t){let i=Tr.AssignWithSeed;r=Zt(i,{base:Et(t.basePubkey.toBuffer()),seed:t.seed,programId:Et(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Tr.Assign;r=Zt(i,{programId:Et(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new yr({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(t){let r=Tr.CreateWithSeed,n=Zt(r,{base:Et(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Et(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new yr({keys:i,programId:this.programId,data:n})}static createNonceAccount(t){let r=new pr;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:CI,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:CI,programId:this.programId}));let n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(t){let r=Tr.InitializeNonceAccount,n=Zt(r,{authorized:Et(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:L2,isSigner:!1,isWritable:!1},{pubkey:fp,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new yr(i)}static nonceAdvance(t){let r=Tr.AdvanceNonceAccount,n=Zt(r),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:L2,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new yr(i)}static nonceWithdraw(t){let r=Tr.WithdrawNonceAccount,n=Zt(r,{lamports:t.lamports});return new yr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:L2,isSigner:!1,isWritable:!1},{pubkey:fp,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){let r=Tr.AuthorizeNonceAccount,n=Zt(r,{authorized:Et(t.newAuthorizedPubkey.toBuffer())});return new yr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let r,n;if("basePubkey"in t){let i=Tr.AllocateWithSeed;r=Zt(i,{base:Et(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Et(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Tr.Allocate;r=Zt(i,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new yr({keys:n,programId:this.programId,data:r})}};Ni.programId=new ye("11111111111111111111111111111111");var oce=Ff-300,dp=class e{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}static async load(t,r,n,i,o){{let f=await t.getMinimumBalanceForRentExemption(o.length),m=await t.getAccountInfo(n.publicKey,"confirmed"),b=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(b=b||new pr,b.add(Ni.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(b=b||new pr,b.add(Ni.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<f&&(b=b||new pr,b.add(Ni.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:f-m.lamports})))}else b=new pr().add(Ni.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:f>0?f:1,space:o.length,programId:i}));b!==null&&await V2(t,b,[r,n],{commitment:"confirmed"})}let s=j.struct([j.u32("instruction"),j.u32("offset"),j.u32("bytesLength"),j.u32("bytesLengthPadding"),j.seq(j.u8("byte"),j.offset(j.u32(),-8),"bytes")]),a=e.chunkSize,c=0,u=o,l=[];for(;u.length>0;){let f=u.slice(0,a),m=De.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:f,bytesLength:0,bytesLengthPadding:0},m);let b=new pr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});l.push(V2(t,b,[r,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Xd(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{let f=j.struct([j.u32("instruction")]),m=De.Buffer.alloc(f.span);f.encode({instruction:1},m);let b=new pr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:fp,isSigner:!1,isWritable:!1}],programId:i,data:m});await V2(t,b,[r,n],{commitment:"confirmed"})}return!0}};dp.chunkSize=oce;var sce=new ye("BPFLoader2111111111111111111111111111111111"),NI=class{static getMinNumSignatures(t){return dp.getMinNumSignatures(t)}static load(t,r,n,i,o){return dp.load(t,r,n,o,i)}},ace=Object.prototype.toString,cce=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function jg(e,t){var r,n,i,o,s,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return jg(e.toJSON(),t);if(c=ace.call(e),c==="[object Array]"){for(i="[",n=e.length-1,r=0;r<n;r++)i+=jg(e[r],!0)+",";return n>-1&&(i+=jg(e[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=cce(e).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=jg(e[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var uce=function(e){var t=jg(e,!1);if(t!==void 0)return""+t},fce=uce,Wg=32;function wI(e){let t=0;for(;e>1;)e/=2,t++;return t}function lce(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}var W2=class{constructor(t,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){let r=wI(lce(t+Wg+1))-wI(Wg)-1,n=this.getSlotsInEpoch(r),i=t-(n-Wg);return[r,i]}else{let r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Wg:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+wI(Wg)):this.slotsPerEpoch}},Jg=class extends Error{constructor(t,r){super(t),this.logs=void 0,this.logs=r}},dce={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Ae=class extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}},hce=globalThis.fetch,OI=class extends Vae.default{constructor(t,r,n){let i=o=>{let s=Fae.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){let r=this.underlyingSocket?.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},pce=160,yce=64,mce=pce/yce,gce=1e3/mce;function bce(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}var gU=56,Xg=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){let t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){let r=bce(xce,t),n=t.length-gU;er(n>=0,"lookup table is invalid"),er(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=j.struct([j.seq(Nt(),i,"addresses")]).decode(t.slice(gU));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ye(r.authority[0]):void 0,addresses:o.map(s=>new ye(s))}}},xce={index:1,layout:j.struct([j.u32("typeIndex"),lp("deactivationSlot"),j.nu64("lastExtendedSlot"),j.u8("lastExtendedStartIndex"),j.u8(),j.seq(Nt(),j.offset(j.u8(),-1),"authority")])},wce=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Sce(e){let t=e.match(wce);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);let[r,n,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var wn=k.coerce(k.instance(ye),k.string(),e=>new ye(e)),UU=k.tuple([k.string(),k.literal("base64")]),$I=k.coerce(k.instance(De.Buffer),UU,e=>De.Buffer.from(e[0],"base64")),RU=30*1e3;function vce(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Qr(e){let t,r;if(typeof e=="string")t=e;else if(e){let{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function LU(e){return k.union([k.type({jsonrpc:k.literal("2.0"),id:k.string(),result:e}),k.type({jsonrpc:k.literal("2.0"),id:k.string(),error:k.type({code:k.unknown(),message:k.string(),data:k.optional(k.any())})})])}var Ace=LU(k.unknown());function kt(e){return k.coerce(LU(e),Ace,t=>"error"in t?t:{...t,result:k.create(t.result,e)})}function xn(e){return kt(k.type({context:k.type({slot:k.number()}),value:e}))}function Q2(e){return k.type({context:k.type({slot:k.number()}),value:e})}function SI(e,t){return e===0?new up({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new ye(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:hi.default.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new bc(t)}var Ece=k.type({foundation:k.number(),foundationTerm:k.number(),initial:k.number(),taper:k.number(),terminal:k.number()}),Ice=kt(k.array(k.nullable(k.type({epoch:k.number(),effectiveSlot:k.number(),amount:k.number(),postBalance:k.number(),commission:k.optional(k.nullable(k.number()))})))),kce=k.type({total:k.number(),validator:k.number(),foundation:k.number(),epoch:k.number()}),Tce=k.type({epoch:k.number(),slotIndex:k.number(),slotsInEpoch:k.number(),absoluteSlot:k.number(),blockHeight:k.optional(k.number()),transactionCount:k.optional(k.number())}),Pce=k.type({slotsPerEpoch:k.number(),leaderScheduleSlotOffset:k.number(),warmup:k.boolean(),firstNormalEpoch:k.number(),firstNormalSlot:k.number()}),Bce=k.record(k.string(),k.array(k.number())),rh=k.nullable(k.union([k.type({}),k.string()])),_ce=k.type({err:rh}),Cce=k.literal("receivedSignature"),Mce=k.type({"solana-core":k.string(),"feature-set":k.optional(k.number())}),bU=xn(k.type({err:k.nullable(k.union([k.type({}),k.string()])),logs:k.nullable(k.array(k.string())),accounts:k.optional(k.nullable(k.array(k.nullable(k.type({executable:k.boolean(),owner:k.string(),lamports:k.number(),data:k.array(k.string()),rentEpoch:k.optional(k.number())}))))),unitsConsumed:k.optional(k.number()),returnData:k.optional(k.nullable(k.type({programId:k.string(),data:k.tuple([k.string(),k.literal("base64")])})))})),Nce=xn(k.type({byIdentity:k.record(k.string(),k.array(k.number())),range:k.type({firstSlot:k.number(),lastSlot:k.number()})}));function Oce(e,t,r,n,i,o){let s=r||hce,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(l,f)=>{let m=await new Promise((b,w)=>{try{n(l,f,(S,P)=>b([S,P]))}catch(S){w(S)}});return await s(...m)}),new Kae.default(async(l,f)=>{let m={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Nue)};try{let b=5,w,S=500;for(;c?w=await c(e,m):w=await s(e,m),!(w.status!==429||i===!0||(b-=1,b===0));)console.log(`Server responded with ${w.status} ${w.statusText}.  Retrying after ${S}ms delay...`),await Xd(S),S*=2;let P=await w.text();w.ok?f(null,P):f(new Error(`${w.status} ${w.statusText}: ${P}`))}catch(b){b instanceof Error&&f(b)}},{})}function Dce(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(o,s)=>{if(o){i(o);return}n(s)})})}function Uce(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);let i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var Rce=kt(Ece),Lce=kt(kce),Kce=kt(Tce),Vce=kt(Pce),Fce=kt(Bce),Hce=kt(k.number()),qce=xn(k.type({total:k.number(),circulating:k.number(),nonCirculating:k.number(),nonCirculatingAccounts:k.array(wn)})),DI=k.type({amount:k.string(),uiAmount:k.nullable(k.number()),decimals:k.number(),uiAmountString:k.optional(k.string())}),Wce=xn(k.array(k.type({address:wn,amount:k.string(),uiAmount:k.nullable(k.number()),decimals:k.number(),uiAmountString:k.optional(k.string())}))),jce=xn(k.array(k.type({pubkey:wn,account:k.type({executable:k.boolean(),owner:wn,lamports:k.number(),data:$I,rentEpoch:k.number()})}))),UI=k.type({program:k.string(),parsed:k.unknown(),space:k.number()}),zce=xn(k.array(k.type({pubkey:wn,account:k.type({executable:k.boolean(),owner:wn,lamports:k.number(),data:UI,rentEpoch:k.number()})}))),Gce=xn(k.array(k.type({lamports:k.number(),address:wn}))),Qg=k.type({executable:k.boolean(),owner:wn,lamports:k.number(),data:$I,rentEpoch:k.number()}),$ce=k.type({pubkey:wn,account:Qg}),Yce=k.coerce(k.union([k.instance(De.Buffer),UI]),k.union([UU,UI]),e=>Array.isArray(e)?k.create(e,$I):e),RI=k.type({executable:k.boolean(),owner:wn,lamports:k.number(),data:Yce,rentEpoch:k.number()}),Zce=k.type({pubkey:wn,account:RI}),Jce=k.type({state:k.union([k.literal("active"),k.literal("inactive"),k.literal("activating"),k.literal("deactivating")]),active:k.number(),inactive:k.number()}),Xce=kt(k.array(k.type({signature:k.string(),slot:k.number(),err:rh,memo:k.nullable(k.string()),blockTime:k.optional(k.nullable(k.number()))}))),Qce=kt(k.array(k.type({signature:k.string(),slot:k.number(),err:rh,memo:k.nullable(k.string()),blockTime:k.optional(k.nullable(k.number()))}))),eue=k.type({subscription:k.number(),result:Q2(Qg)}),tue=k.type({pubkey:wn,account:Qg}),rue=k.type({subscription:k.number(),result:Q2(tue)}),nue=k.type({parent:k.number(),slot:k.number(),root:k.number()}),iue=k.type({subscription:k.number(),result:nue}),oue=k.union([k.type({type:k.union([k.literal("firstShredReceived"),k.literal("completed"),k.literal("optimisticConfirmation"),k.literal("root")]),slot:k.number(),timestamp:k.number()}),k.type({type:k.literal("createdBank"),parent:k.number(),slot:k.number(),timestamp:k.number()}),k.type({type:k.literal("frozen"),slot:k.number(),timestamp:k.number(),stats:k.type({numTransactionEntries:k.number(),numSuccessfulTransactions:k.number(),numFailedTransactions:k.number(),maxTransactionsPerEntry:k.number()})}),k.type({type:k.literal("dead"),slot:k.number(),timestamp:k.number(),err:k.string()})]),sue=k.type({subscription:k.number(),result:oue}),aue=k.type({subscription:k.number(),result:Q2(k.union([_ce,Cce]))}),cue=k.type({subscription:k.number(),result:k.number()}),uue=k.type({pubkey:k.string(),gossip:k.nullable(k.string()),tpu:k.nullable(k.string()),rpc:k.nullable(k.string()),version:k.nullable(k.string())}),xU=k.type({votePubkey:k.string(),nodePubkey:k.string(),activatedStake:k.number(),epochVoteAccount:k.boolean(),epochCredits:k.array(k.tuple([k.number(),k.number(),k.number()])),commission:k.number(),lastVote:k.number(),rootSlot:k.nullable(k.number())}),fue=kt(k.type({current:k.array(xU),delinquent:k.array(xU)})),lue=k.union([k.literal("processed"),k.literal("confirmed"),k.literal("finalized")]),due=k.type({slot:k.number(),confirmations:k.nullable(k.number()),err:rh,confirmationStatus:k.optional(lue)}),hue=xn(k.array(k.nullable(due))),pue=kt(k.number()),KU=k.type({accountKey:wn,writableIndexes:k.array(k.number()),readonlyIndexes:k.array(k.number())}),YI=k.type({signatures:k.array(k.string()),message:k.type({accountKeys:k.array(k.string()),header:k.type({numRequiredSignatures:k.number(),numReadonlySignedAccounts:k.number(),numReadonlyUnsignedAccounts:k.number()}),instructions:k.array(k.type({accounts:k.array(k.number()),data:k.string(),programIdIndex:k.number()})),recentBlockhash:k.string(),addressTableLookups:k.optional(k.array(KU))})}),VU=k.type({pubkey:wn,signer:k.boolean(),writable:k.boolean(),source:k.optional(k.union([k.literal("transaction"),k.literal("lookupTable")]))}),FU=k.type({accountKeys:k.array(VU),signatures:k.array(k.string())}),HU=k.type({parsed:k.unknown(),program:k.string(),programId:wn}),qU=k.type({accounts:k.array(wn),data:k.string(),programId:wn}),yue=k.union([qU,HU]),mue=k.union([k.type({parsed:k.unknown(),program:k.string(),programId:k.string()}),k.type({accounts:k.array(k.string()),data:k.string(),programId:k.string()})]),WU=k.coerce(yue,mue,e=>"accounts"in e?k.create(e,qU):k.create(e,HU)),jU=k.type({signatures:k.array(k.string()),message:k.type({accountKeys:k.array(VU),instructions:k.array(WU),recentBlockhash:k.string(),addressTableLookups:k.optional(k.nullable(k.array(KU)))})}),j2=k.type({accountIndex:k.number(),mint:k.string(),owner:k.optional(k.string()),uiTokenAmount:DI}),zU=k.type({writable:k.array(wn),readonly:k.array(wn)}),eS=k.type({err:rh,fee:k.number(),innerInstructions:k.optional(k.nullable(k.array(k.type({index:k.number(),instructions:k.array(k.type({accounts:k.array(k.number()),data:k.string(),programIdIndex:k.number()}))})))),preBalances:k.array(k.number()),postBalances:k.array(k.number()),logMessages:k.optional(k.nullable(k.array(k.string()))),preTokenBalances:k.optional(k.nullable(k.array(j2))),postTokenBalances:k.optional(k.nullable(k.array(j2))),loadedAddresses:k.optional(zU),computeUnitsConsumed:k.optional(k.number())}),ZI=k.type({err:rh,fee:k.number(),innerInstructions:k.optional(k.nullable(k.array(k.type({index:k.number(),instructions:k.array(WU)})))),preBalances:k.array(k.number()),postBalances:k.array(k.number()),logMessages:k.optional(k.nullable(k.array(k.string()))),preTokenBalances:k.optional(k.nullable(k.array(j2))),postTokenBalances:k.optional(k.nullable(k.array(j2))),loadedAddresses:k.optional(zU),computeUnitsConsumed:k.optional(k.number())}),yp=k.union([k.literal(0),k.literal("legacy")]),nh=k.type({pubkey:k.string(),lamports:k.number(),postBalance:k.nullable(k.number()),rewardType:k.nullable(k.string()),commission:k.optional(k.nullable(k.number()))}),gue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:YI,meta:k.nullable(eS),version:k.optional(yp)})),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),bue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),xue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:FU,meta:k.nullable(eS),version:k.optional(yp)})),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),wue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:jU,meta:k.nullable(ZI),version:k.optional(yp)})),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),Sue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:FU,meta:k.nullable(ZI),version:k.optional(yp)})),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),vue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),Aue=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:YI,meta:k.nullable(eS)})),rewards:k.optional(k.array(nh)),blockTime:k.nullable(k.number())}))),wU=kt(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),signatures:k.array(k.string()),blockTime:k.nullable(k.number())}))),vI=kt(k.nullable(k.type({slot:k.number(),meta:eS,blockTime:k.optional(k.nullable(k.number())),transaction:YI,version:k.optional(yp)}))),R2=kt(k.nullable(k.type({slot:k.number(),transaction:jU,meta:k.nullable(ZI),blockTime:k.optional(k.nullable(k.number())),version:k.optional(yp)}))),Eue=xn(k.type({blockhash:k.string(),feeCalculator:k.type({lamportsPerSignature:k.number()})})),Iue=xn(k.type({blockhash:k.string(),lastValidBlockHeight:k.number()})),kue=k.type({slot:k.number(),numTransactions:k.number(),numSlots:k.number(),samplePeriodSecs:k.number()}),Tue=kt(k.array(kue)),Pue=xn(k.nullable(k.type({feeCalculator:k.type({lamportsPerSignature:k.number()})}))),Bue=kt(k.string()),_ue=kt(k.string()),Cue=k.type({err:rh,logs:k.array(k.string()),signature:k.string()}),Mue=k.type({result:Q2(Cue),subscription:k.number()}),Nue={"solana-client":"js/1.73.5"},LI=class{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=vce(t),this._rpcWsEndpoint=n||Sce(t),this._rpcClient=Oce(t,i,o,s,a,c),this._rpcRequest=Dce(this._rpcClient),this._rpcBatchRequest=Uce(this._rpcClient),this._rpcWebSocket=new OI(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgs([t.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=k.create(s,xn(k.number()));if("error"in a)throw new Ae(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){let r=await this._rpcRequest("getBlockTime",[t]),n=k.create(r,kt(k.nullable(k.number())));if("error"in n)throw new Ae(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){let t=await this._rpcRequest("minimumLedgerSlot",[]),r=k.create(t,kt(k.number()));if("error"in r)throw new Ae(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let t=await this._rpcRequest("getFirstAvailableBlock",[]),r=k.create(t,Hce);if("error"in r)throw new Ae(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=k.create(n,qce);if("error"in i)throw new Ae(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){let n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=k.create(i,xn(DI));if("error"in o)throw new Ae(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,r){let n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=k.create(i,xn(DI));if("error"in o)throw new Ae(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,r,n){let{commitment:i,config:o}=Qr(n),s=[t.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=k.create(c,jce);if("error"in u)throw new Ae(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=k.create(s,zce);if("error"in a)throw new Ae(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){let r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=k.create(i,Gce);if("error"in o)throw new Ae(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,r){let n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=k.create(i,Wce);if("error"in o)throw new Ae(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgs([t.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=k.create(s,xn(k.nullable(Qg)));if("error"in a)throw new Ae(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=k.create(s,xn(k.nullable(RI)));if("error"in a)throw new Ae(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){let{commitment:n,config:i}=Qr(r),o=t.map(u=>u.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=k.create(a,xn(k.array(k.nullable(RI))));if("error"in c)throw new Ae(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(t,r){let{commitment:n,config:i}=Qr(r),o=t.map(u=>u.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=k.create(a,xn(k.array(k.nullable(Qg))));if("error"in c)throw new Ae(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){let{commitment:i,config:o}=Qr(r),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=k.create(a,kt(Jce));if("error"in c)throw new Ae(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,r){let{commitment:n,config:i}=Qr(r),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),u=k.create(c,kt(k.array($ce)));if("error"in u)throw new Ae(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async getParsedProgramAccounts(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=k.create(s,kt(k.array(Zce)));if("error"in a)throw new Ae(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,r){let n;if(typeof t=="string")n=t;else{let o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=hi.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return er(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,o=!1,s=new Promise((c,u)=>{try{n=this.onSignature(r,(f,m)=>{n=void 0;let b={context:m,value:f};c({__type:de.TransactionStatus.PROCESSED,response:b})},t);let l=new Promise(f=>{n==null?f():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&f()})});(async()=>{if(await l,o)return;let f=await this.getSignatureStatus(r);if(o||f==null)return;let{context:m,value:b}=f;if(b!=null)if(b?.err)u(b.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:de.TransactionStatus.PROCESSED,response:{context:m,value:b}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(f=>{let m=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let b=await m();if(!o){for(;b<=n;)if(await Xd(1e3),o||(b=await m(),o))return;f({__type:de.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(r),l;try{let f=await Promise.race([u,c,s]);if(f.__type===de.TransactionStatus.PROCESSED)l=f.response;else throw new Yg(i)}finally{o=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(b=>{let w=o,S=null,P=async()=>{try{let{context:M,value:D}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return S=M.slot,D?.nonce}catch{return w}};(async()=>{if(w=await P(),!a)for(;;){if(o!==w){b({__type:de.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:S});return}if(await Xd(2e3),a||(w=await P(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),f=this.getCancellationPromise(r),m;try{let b=await Promise.race([f,l,c]);if(b.__type===de.TransactionStatus.PROCESSED)m=b.response;else{let w;for(;;){let S=await this.getSignatureStatus(s);if(S==null)break;if(S.context.slot<(b.slotInWhichNonceDidAdvance??n)){await Xd(400);continue}w=S;break}if(w?.value){let S=t||"finalized",{confirmationStatus:P}=w.value;switch(S){case"processed":case"recent":if(P!=="processed"&&P!=="confirmed"&&P!=="finalized")throw new Vf(s);break;case"confirmed":case"single":case"singleGossip":if(P!=="confirmed"&&P!=="finalized")throw new Vf(s);break;case"finalized":case"max":case"root":if(P!=="finalized")throw new Vf(s);break;default:}m={context:w.context,value:{err:w.value.err}}}else throw new Vf(s)}}finally{a=!0,u()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n,i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:de.TransactionStatus.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===de.TransactionStatus.PROCESSED)a=c.response;else throw new Zg(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let t=await this._rpcRequest("getClusterNodes",[]),r=k.create(t,kt(k.array(uue)));if("error"in r)throw new Ae(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){let r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=k.create(n,fue);if("error"in i)throw new Ae(i.error,"failed to get vote accounts");return i.result}async getSlot(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=k.create(o,kt(k.number()));if("error"in s)throw new Ae(s.error,"failed to get slot");return s.result}async getSlotLeader(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=k.create(o,kt(k.string()));if("error"in s)throw new Ae(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,r){let n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),o=k.create(i,kt(k.array(wn)));if("error"in o)throw new Ae(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,r){let{context:n,value:i}=await this.getSignatureStatuses([t],r);er(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(t,r){let n=[t];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=k.create(i,hue);if("error"in o)throw new Ae(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=k.create(o,kt(k.number()));if("error"in s)throw new Ae(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){let r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=k.create(n,Rce);if("error"in i)throw new Ae(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){let{commitment:i,config:o}=Qr(n),s=this._buildArgs([t.map(u=>u.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=k.create(a,Ice);if("error"in c)throw new Ae(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let t=await this._rpcRequest("getInflationRate",[]),r=k.create(t,Lce);if("error"in r)throw new Ae(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=k.create(o,Kce);if("error"in s)throw new Ae(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let t=await this._rpcRequest("getEpochSchedule",[]),r=k.create(t,Vce);if("error"in r)throw new Ae(r.error,"failed to get epoch schedule");let n=r.result;return new W2(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let t=await this._rpcRequest("getLeaderSchedule",[]),r=k.create(t,Fce);if("error"in r)throw new Ae(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){let n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=k.create(i,pue);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){let r=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",r),i=k.create(n,Eue);if("error"in i)throw new Ae(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){let r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=k.create(r,Tue);if("error"in n)throw new Ae(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){let n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=k.create(i,Pue);if("error"in o)throw new Ae(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,r){let n=Et(t.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=k.create(o,xn(k.nullable(k.number())));if("error"in s)throw new Ae(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=k.create(o,Iue);if("error"in s)throw new Ae(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let t=await this._rpcRequest("getVersion",[]),r=k.create(t,kt(Mce));if("error"in r)throw new Ae(r.error,"failed to get version");return r.result}async getGenesisHash(){let t=await this._rpcRequest("getGenesisHash",[]),r=k.create(t,kt(k.string()));if("error"in r)throw new Ae(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=k.create(s,xue);if("error"in a)throw a.error;return a.result}case"none":{let a=k.create(s,bue);if("error"in a)throw a.error;return a.result}default:{let a=k.create(s,gue);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:f})=>({meta:l,transaction:{...u,message:SI(f,u.message)},version:f}))}:null}}}catch(a){throw new Ae(a,"failed to get confirmed block")}}async getParsedBlock(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=k.create(s,Sue);if("error"in a)throw a.error;return a.result}case"none":{let a=k.create(s,vue);if("error"in a)throw a.error;return a.result}default:{let a=k.create(s,wue);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ae(a,"failed to get block")}}async getBlockHeight(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getBlockHeight",i),s=k.create(o,kt(k.number()));if("error"in s)throw new Ae(s.error,"failed to get block height information");return s.result}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){let{commitment:a,...c}=t;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=k.create(o,Nce);if("error"in s)throw new Ae(s.error,"failed to get block production information");return s.result}async getTransaction(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=k.create(s,vI);if("error"in a)throw new Ae(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:SI(c.version,c.transaction.message)}}}async getParsedTransaction(t,r){let{commitment:n,config:i}=Qr(r),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=k.create(s,R2);if("error"in a)throw new Ae(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,r){let{commitment:n,config:i}=Qr(r),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let u=k.create(c,R2);if("error"in u)throw new Ae(u.error,"failed to get transactions");return u.result})}async getTransactions(t,r){let{commitment:n,config:i}=Qr(r),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let u=k.create(c,vI);if("error"in u)throw new Ae(u.error,"failed to get transactions");let l=u.result;return l&&{...l,transaction:{...l.transaction,message:SI(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,r){let n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedBlock",n),o=k.create(i,Aue);if("error"in o)throw new Ae(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:u})=>{let l=new bc(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:pr.populate(c.message,c.signatures)}))}}async getBlocks(t,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),o=await this._rpcRequest("getBlocks",i),s=k.create(o,kt(k.array(k.number())));if("error"in s)throw new Ae(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,r){let n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=k.create(i,wU);if("error"in o)throw new Ae(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,r){let n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=k.create(i,wU);if("error"in o)throw new Ae(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,r){let n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=k.create(i,vI);if("error"in o)throw new Ae(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new bc(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:pr.populate(a,c)}}async getParsedConfirmedTransaction(t,r){let n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=k.create(i,R2);if("error"in o)throw new Ae(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,r){let n=t.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=k.create(s,R2);if("error"in a)throw new Ae(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,r,n){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=k.create(o,Xce);if("error"in s)throw new Ae(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,r,n){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=k.create(o,Qce);if("error"in s)throw new Ae(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,r){let{context:n,value:i}=await this.getAccountInfoAndContext(t,r),o=null;return i!==null&&(o=new Xg({key:t,state:Xg.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(t,r){let{context:n,value:i}=await this.getAccountInfoAndContext(t,r),o=null;return i!==null&&(o=q2.fromAccountData(i.data)),{context:n,value:o}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){let n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=k.create(n,Bue);if("error"in i)throw new Ae(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Xd(100);let n=Date.now()-this._blockhashInfo.lastFetch>=RU;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Xd(gce/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){let{commitment:r,config:n}=Qr(t),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=k.create(o,xn(k.number()));if("error"in s)throw new Ae(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,r,n){if("message"in t){let S=t.serialize(),P=De.Buffer.from(S).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let M=r||{};M.encoding="base64","commitment"in M||(M.commitment=this.commitment);let D=[P,M],C=await this._rpcRequest("simulateTransaction",D),R=k.create(C,bU);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof pr){let w=t;i=new pr,i.feePayer=w.feePayer,i.instructions=t.instructions,i.nonceInfo=w.nonceInfo,i.signatures=w.signatures}else i=pr.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let w=this._disableBlockhashCaching;for(;;){let S=await this._blockhashWithExpiryBlockHeight(w);if(i.lastValidBlockHeight=S.lastValidBlockHeight,i.recentBlockhash=S.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let P=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(P)&&!this._blockhashInfo.transactionSignatures.includes(P)){this._blockhashInfo.simulatedSignatures.push(P);break}else w=!0}}let s=i._compile(),a=s.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){let w=(Array.isArray(n)?n:s.nonProgramIds()).map(S=>S.toBase58());l.accounts={encoding:"base64",addresses:w}}o&&(l.sigVerify=!0);let f=[u,l],m=await this._rpcRequest("simulateTransaction",f),b=k.create(m,bU);if("error"in b){let w;if("data"in b.error&&(w=b.error.data.logs,w&&Array.isArray(w))){let S=`
    `,P=S+w.join(S);console.error(b.error.message,P)}throw new Jg("failed to simulate transaction: "+b.error.message,w)}return b.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=t.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");let c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=t.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(t,r){let n=Et(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[t,n],a=await this._rpcRequest("sendTransaction",s),c=k.create(a,_ue);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Jg("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){let n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){let n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){let n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){let{result:r,subscription:n}=k.create(t,eue);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){let n=this._nextClientSubscriptionId++,i=fce([t.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];er(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){let i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){let{result:r,subscription:n}=k.create(t,rue);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){let o=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){let i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){let{result:r,subscription:n}=k.create(t,Mue);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){let{result:r,subscription:n}=k.create(t,iue);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){let{result:r,subscription:n}=k.create(t,sue);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){let{result:r,subscription:n}=k.create(t,aue);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){let i=this._buildArgs([t],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){let{result:r,subscription:n}=k.create(t,cue);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}},z2=class e{constructor(t){this._keypair=void 0,this._keypair=t??pU()}static generate(){return new e(pU())}static fromSecretKey(t,r){if(t.byteLength!==64)throw new Error("bad secret key size");let n=t.slice(32,64);if(!r||!r.skipValidation){let i=t.slice(0,32),o=F2(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new e({publicKey:n,secretKey:t})}static fromSeed(t){let r=F2(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}get publicKey(){return new ye(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},vu=Object.freeze({CreateLookupTable:{index:0,layout:j.struct([j.u32("instruction"),lp("recentSlot"),j.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:j.struct([j.u32("instruction")])},ExtendLookupTable:{index:2,layout:j.struct([j.u32("instruction"),lp(),j.seq(Nt(),j.offset(j.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:j.struct([j.u32("instruction")])},CloseLookupTable:{index:4,layout:j.struct([j.u32("instruction")])}}),KI=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=j.u32("instruction").decode(t.data),i;for(let[o,s]of Object.entries(vu))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);let{recentSlot:r}=fr(vu.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);let{addresses:r}=fr(vu.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:r.map(n=>new ye(n))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(eb.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,r){if(t.length<r)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${r}`)}},eb=class{constructor(){}static createLookupTable(t){let[r,n]=ye.findProgramAddressSync([t.authority.toBuffer(),kI.toBufferLE(BigInt(t.recentSlot),8)],this.programId),i=vu.CreateLookupTable,o=Zt(i,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ni.programId,isSigner:!1,isWritable:!1}];return[new yr({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(t){let r=vu.FreezeLookupTable,n=Zt(r),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new yr({programId:this.programId,keys:i,data:n})}static extendLookupTable(t){let r=vu.ExtendLookupTable,n=Zt(r,{addresses:t.addresses.map(o=>o.toBytes())}),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&i.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ni.programId,isSigner:!1,isWritable:!1}),new yr({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(t){let r=vu.DeactivateLookupTable,n=Zt(r),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new yr({programId:this.programId,keys:i,data:n})}static closeLookupTable(t){let r=vu.CloseLookupTable,n=Zt(r),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new yr({programId:this.programId,keys:i,data:n})}};eb.programId=new ye("AddressLookupTab1e1111111111111111111111111");var VI=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=j.u8("instruction").decode(t.data),i;for(let[o,s]of Object.entries(mc))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(t){this.checkProgramId(t.programId);let{units:r,additionalFee:n}=fr(mc.RequestUnits,t.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);let{bytes:r}=fr(mc.RequestHeapFrame,t.data);return{bytes:r}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);let{units:r}=fr(mc.SetComputeUnitLimit,t.data);return{units:r}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);let{microLamports:r}=fr(mc.SetComputeUnitPrice,t.data);return{microLamports:r}}static checkProgramId(t){if(!t.equals(tb.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},mc=Object.freeze({RequestUnits:{index:0,layout:j.struct([j.u8("instruction"),j.u32("units"),j.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:j.struct([j.u8("instruction"),j.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:j.struct([j.u8("instruction"),j.u32("units")])},SetComputeUnitPrice:{index:3,layout:j.struct([j.u8("instruction"),lp("microLamports")])}}),tb=class{constructor(){}static requestUnits(t){let r=mc.RequestUnits,n=Zt(r,t);return new yr({keys:[],programId:this.programId,data:n})}static requestHeapFrame(t){let r=mc.RequestHeapFrame,n=Zt(r,t);return new yr({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(t){let r=mc.SetComputeUnitLimit,n=Zt(r,t);return new yr({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(t){let r=mc.SetComputeUnitPrice,n=Zt(r,{microLamports:BigInt(t.microLamports)});return new yr({keys:[],programId:this.programId,data:n})}};tb.programId=new ye("ComputeBudget111111111111111111111111111111");var SU=64,vU=32,AU=64,EU=j.struct([j.u8("numSignatures"),j.u8("padding"),j.u16("signatureOffset"),j.u16("signatureInstructionIndex"),j.u16("publicKeyOffset"),j.u16("publicKeyInstructionIndex"),j.u16("messageDataOffset"),j.u16("messageDataSize"),j.u16("messageInstructionIndex")]),G2=class e{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:r,message:n,signature:i,instructionIndex:o}=t;er(r.length===vU,`Public Key must be ${vU} bytes but received ${r.length} bytes`),er(i.length===AU,`Signature must be ${AU} bytes but received ${i.length} bytes`);let s=EU.span,a=s+r.length,c=a+i.length,u=1,l=De.Buffer.alloc(c+n.length),f=o??65535;return EU.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:f,publicKeyOffset:s,publicKeyInstructionIndex:f,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:f},l),l.fill(r,s),l.fill(i,a),l.fill(n,c),new yr({keys:[],programId:e.programId,data:l})}static createInstructionWithPrivateKey(t){let{privateKey:r,message:n,instructionIndex:i}=t;er(r.length===SU,`Private key must be ${SU} bytes but received ${r.length} bytes`);try{let o=z2.fromSecretKey(r),s=o.publicKey.toBytes(),a=zI(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};G2.programId=new ye("Ed25519SigVerify111111111111111111111111111");J2.utils.hmacSha256Sync=(e,...t)=>{let r=Rae.hmac.create(II.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};var Oue=(e,t)=>J2.signSync(e,t,{der:!1,recovered:!0});J2.utils.isValidPrivateKey;var Due=J2.getPublicKey,IU=32,AI=20,kU=64,Uue=11,EI=j.struct([j.u8("numSignatures"),j.u16("signatureOffset"),j.u8("signatureInstructionIndex"),j.u16("ethAddressOffset"),j.u8("ethAddressInstructionIndex"),j.u16("messageDataOffset"),j.u16("messageDataSize"),j.u8("messageInstructionIndex"),j.blob(20,"ethAddress"),j.blob(64,"signature"),j.u8("recoveryId")]),$2=class e{constructor(){}static publicKeyToEthAddress(t){er(t.length===kU,`Public key must be ${kU} bytes but received ${t.length} bytes`);try{return De.Buffer.from(dU.keccak_256(Et(t))).slice(-AI)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(t){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=t;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(t){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=t,a;typeof r=="string"?r.startsWith("0x")?a=De.Buffer.from(r.substr(2),"hex"):a=De.Buffer.from(r,"hex"):a=r,er(a.length===AI,`Address must be ${AI} bytes but received ${a.length} bytes`);let c=1+Uue,u=c,l=c+a.length,f=l+i.length+1,m=1,b=De.Buffer.alloc(EI.span+n.length);return EI.encode({numSignatures:m,signatureOffset:l,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:s,signature:Et(i),ethAddress:Et(a),recoveryId:o},b),b.fill(Et(n),EI.span),new yr({keys:[],programId:e.programId,data:b})}static createInstructionWithPrivateKey(t){let{privateKey:r,message:n,instructionIndex:i}=t;er(r.length===IU,`Private key must be ${IU} bytes but received ${r.length} bytes`);try{let o=Et(r),s=Due(o,!1).slice(1),a=De.Buffer.from(dU.keccak_256(Et(n))),[c,u]=Oue(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:u,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};$2.programId=new ye("KeccakSecp256k11111111111111111111111111111");var GU=new ye("StakeConfig11111111111111111111111111111111"),Y2=class{constructor(t,r){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=r}},th=class{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}};th.default=new th(0,0,ye.default);var FI=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=j.u32("instruction").decode(t.data),i;for(let[o,s]of Object.entries(Jn))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:r,lockup:n}=fr(Jn.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Y2(new ye(r.staker),new ye(r.withdrawer)),lockup:new th(n.unixTimestamp,n.epoch,new ye(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),fr(Jn.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=fr(Jn.Authorize,t.data),i={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ye(r),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(i.custodianPubkey=t.keys[3].pubkey),i}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=fr(Jn.AuthorizeWithSeed,t.data),s={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:i,authorityOwner:new ye(o),newAuthorizedPubkey:new ye(r),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:r}=fr(Jn.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:r}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),fr(Jn.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:r}=fr(Jn.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:r};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),fr(Jn.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(hp.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,r){if(t.length<r)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${r}`)}},Jn=Object.freeze({Initialize:{index:0,layout:j.struct([j.u32("instruction"),Gae(),$ae()])},Authorize:{index:1,layout:j.struct([j.u32("instruction"),Nt("newAuthorized"),j.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:j.struct([j.u32("instruction")])},Split:{index:3,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},Withdraw:{index:4,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},Deactivate:{index:5,layout:j.struct([j.u32("instruction")])},Merge:{index:7,layout:j.struct([j.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:j.struct([j.u32("instruction"),Nt("newAuthorized"),j.u32("stakeAuthorizationType"),Qd("authoritySeed"),Nt("authorityOwner")])}}),Rue=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),hp=class{constructor(){}static initialize(t){let{stakePubkey:r,authorized:n,lockup:i}=t,o=i||th.default,s=Jn.Initialize,a=Zt(s,{authorized:{staker:Et(n.staker.toBuffer()),withdrawer:Et(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Et(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fp,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new yr(c)}static createAccountWithSeed(t){let r=new pr;r.add(Ni.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(t){let r=new pr;r.add(Ni.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(t){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=t,o=Jn.Delegate,s=Zt(o);return new pr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:K2,isSigner:!1,isWritable:!1},{pubkey:GU,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(t){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=t,a=Jn.Authorize,c=Zt(a,{newAuthorized:Et(i.toBuffer()),stakeAuthorizationType:o.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pc,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),new pr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(t){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=t,u=Jn.AuthorizeWithSeed,l=Zt(u,{newAuthorized:Et(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Et(o.toBuffer())}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:pc,isSigner:!1,isWritable:!1}];return c&&f.push({pubkey:c,isSigner:!1,isWritable:!1}),new pr().add({keys:f,programId:this.programId,data:l})}static splitInstruction(t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=t,s=Jn.Split,a=Zt(s,{lamports:o});return new yr({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(t){let r=new pr;return r.add(Ni.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=t,c=new pr;return c.add(Ni.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(t){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=t,o=Jn.Merge,s=Zt(o);return new pr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:K2,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(t){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=t,a=Jn.Withdraw,c=Zt(a,{lamports:o}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:K2,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),new pr().add({keys:u,programId:this.programId,data:c})}static deactivate(t){let{stakePubkey:r,authorizedPubkey:n}=t,i=Jn.Deactivate,o=Zt(i);return new pr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};hp.programId=new ye("Stake11111111111111111111111111111111111111");hp.space=200;var Z2=class{constructor(t,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},HI=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=j.u32("instruction").decode(t.data),i;for(let[o,s]of Object.entries(Au))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);let{voteInit:r}=fr(Au.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Z2(new ye(r.nodePubkey),new ye(r.authorizedVoter),new ye(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=fr(Au.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ye(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=fr(Au.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ye(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ye(i),voteAuthorizationType:{index:o},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:r}=fr(Au.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:r,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(pp.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,r){if(t.length<r)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${r}`)}},Au=Object.freeze({InitializeAccount:{index:0,layout:j.struct([j.u32("instruction"),Yae()])},Authorize:{index:1,layout:j.struct([j.u32("instruction"),Nt("newAuthorized"),j.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:j.struct([j.u32("instruction"),j.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:j.struct([j.u32("instruction"),Zae()])}}),Lue=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),pp=class e{constructor(){}static initializeAccount(t){let{votePubkey:r,nodePubkey:n,voteInit:i}=t,o=Au.InitializeAccount,s=Zt(o,{voteInit:{nodePubkey:Et(i.nodePubkey.toBuffer()),authorizedVoter:Et(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Et(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fp,isSigner:!1,isWritable:!1},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new yr(a)}static createAccount(t){let r=new pr;return r.add(Ni.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=t,s=Au.Authorize,a=Zt(s,{newAuthorized:Et(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new pr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=t,c=Au.AuthorizeWithSeed,u=Zt(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Et(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Et(o.toBuffer()),voteAuthorizationType:s.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:pc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new pr().add({keys:l,programId:this.programId,data:u})}static withdraw(t){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=t,s=Au.Withdraw,a=Zt(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new pr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(t,r,n){if(t.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}};pp.programId=new ye("Vote111111111111111111111111111111111111111");pp.space=3731;var $U=new ye("Va1idator1nfo111111111111111111111111111111"),Kue=k.type({name:k.string(),website:k.optional(k.string()),details:k.optional(k.string()),keybaseUsername:k.optional(k.string())}),qI=class e{constructor(t,r){this.key=void 0,this.info=void 0,this.key=t,this.info=r}static fromConfigData(t){let r=[...t];if(Ao(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new ye(Eo(r,0,gc)),a=yc(r)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals($U)&&i[1].isSigner){let o=Qd().decode(De.Buffer.from(r)),s=JSON.parse(o);return k.assert(s,Kue),new e(i[1].publicKey,s)}return null}},Vue=new ye("Vote111111111111111111111111111111111111111"),Fue=j.struct([Nt("nodePubkey"),Nt("authorizedWithdrawer"),j.u8("commission"),j.nu64(),j.seq(j.struct([j.nu64("slot"),j.u32("confirmationCount")]),j.offset(j.u32(),-8),"votes"),j.u8("rootSlotValid"),j.nu64("rootSlot"),j.nu64(),j.seq(j.struct([j.nu64("epoch"),Nt("authorizedVoter")]),j.offset(j.u32(),-8),"authorizedVoters"),j.struct([j.seq(j.struct([Nt("authorizedPubkey"),j.nu64("epochOfLastAuthorizedSwitch"),j.nu64("targetEpoch")]),32,"buf"),j.nu64("idx"),j.u8("isEmpty")],"priorVoters"),j.nu64(),j.seq(j.struct([j.nu64("epoch"),j.nu64("credits"),j.nu64("prevCredits")]),j.offset(j.u32(),-8),"epochCredits"),j.struct([j.nu64("slot"),j.nu64("timestamp")],"lastTimestamp")]),WI=class e{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){let n=Fue.decode(Et(t),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new e({nodePubkey:new ye(n.nodePubkey),authorizedWithdrawer:new ye(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Hue),priorVoters:que(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Hue({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new ye(e)}}function TU({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:r}){return{authorizedPubkey:new ye(e),epochOfLastAuthorizedSwitch:t,targetEpoch:r}}function que({buf:e,idx:t,isEmpty:r}){return r?[]:[...e.slice(t+1).map(TU),...e.slice(0,t).map(TU)]}var PU={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Wue(e,t){let r=t===!1?"http":"https";if(!e)return PU[r].devnet;let n=PU[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}async function jue(e,t,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,l=(await(i?e.confirmTransaction(i,c):e.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}var zue=1e9;de.Account=PI;de.AddressLookupTableAccount=Xg;de.AddressLookupTableInstruction=KI;de.AddressLookupTableProgram=eb;de.Authorized=Y2;de.BLOCKHASH_CACHE_TIMEOUT_MS=RU;de.BPF_LOADER_DEPRECATED_PROGRAM_ID=jae;de.BPF_LOADER_PROGRAM_ID=sce;de.BpfLoader=NI;de.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=mc;de.ComputeBudgetInstruction=VI;de.ComputeBudgetProgram=tb;de.Connection=LI;de.Ed25519Program=G2;de.Enum=TI;de.EpochSchedule=W2;de.FeeCalculatorLayout=OU;de.Keypair=z2;de.LAMPORTS_PER_SOL=zue;de.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=vu;de.Loader=dp;de.Lockup=th;de.MAX_SEED_LENGTH=CU;de.Message=bc;de.MessageAccountKeys=eh;de.MessageV0=up;de.NONCE_ACCOUNT_LENGTH=CI;de.NonceAccount=q2;de.PACKET_DATA_SIZE=Ff;de.PUBLIC_KEY_LENGTH=gc;de.PublicKey=ye;de.SIGNATURE_LENGTH_IN_BYTES=$g;de.SOLANA_SCHEMA=zg;de.STAKE_CONFIG_ID=GU;de.STAKE_INSTRUCTION_LAYOUTS=Jn;de.SYSTEM_INSTRUCTION_LAYOUTS=Tr;de.SYSVAR_CLOCK_PUBKEY=pc;de.SYSVAR_EPOCH_SCHEDULE_PUBKEY=Xae;de.SYSVAR_INSTRUCTIONS_PUBKEY=Qae;de.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=L2;de.SYSVAR_RENT_PUBKEY=fp;de.SYSVAR_REWARDS_PUBKEY=ece;de.SYSVAR_SLOT_HASHES_PUBKEY=tce;de.SYSVAR_SLOT_HISTORY_PUBKEY=rce;de.SYSVAR_STAKE_HISTORY_PUBKEY=K2;de.Secp256k1Program=$2;de.SendTransactionError=Jg;de.SolanaJSONRPCError=Ae;de.SolanaJSONRPCErrorCode=dce;de.StakeAuthorizationLayout=Rue;de.StakeInstruction=FI;de.StakeProgram=hp;de.Struct=Gg;de.SystemInstruction=MI;de.SystemProgram=Ni;de.Transaction=pr;de.TransactionExpiredBlockheightExceededError=Yg;de.TransactionExpiredNonceInvalidError=Vf;de.TransactionExpiredTimeoutError=Zg;de.TransactionInstruction=yr;de.TransactionMessage=BI;de.VALIDATOR_INFO_KEY=$U;de.VERSION_PREFIX_MASK=X2;de.VOTE_PROGRAM_ID=Vue;de.ValidatorInfo=qI;de.VersionedMessage=GI;de.VersionedTransaction=_I;de.VoteAccount=WI;de.VoteAuthorizationLayout=Lue;de.VoteInit=Z2;de.VoteInstruction=HI;de.VoteProgram=pp;de.clusterApiUrl=Wue;de.sendAndConfirmRawTransaction=jue;de.sendAndConfirmTransaction=V2});var Rk=z(Tb=>{"use strict";d();h();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.SupportedAlgorithm=void 0;var hde;(function(e){e.sha256="sha256",e.sha512="sha512"})(hde=Tb.SupportedAlgorithm||(Tb.SupportedAlgorithm={}))});var FL=z(VS=>{"use strict";d();h();Object.defineProperty(VS,"__esModule",{value:!0});VS.version=void 0;VS.version="sha2/5.7.0"});var qL=z(ks=>{"use strict";d();h();var pde=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0});ks.computeHmac=ks.sha512=ks.sha256=ks.ripemd160=void 0;var Pb=pde(PN()),Bb=Yn(),yde=Rk(),HL=Yi(),mde=FL(),gde=new HL.Logger(mde.version);function bde(e){return"0x"+Pb.default.ripemd160().update((0,Bb.arrayify)(e)).digest("hex")}ks.ripemd160=bde;function xde(e){return"0x"+Pb.default.sha256().update((0,Bb.arrayify)(e)).digest("hex")}ks.sha256=xde;function wde(e){return"0x"+Pb.default.sha512().update((0,Bb.arrayify)(e)).digest("hex")}ks.sha512=wde;function Sde(e,t,r){return yde.SupportedAlgorithm[e]||gde.throwError("unsupported algorithm "+e,HL.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Pb.default.hmac(Pb.default[e],(0,Bb.arrayify)(t)).update((0,Bb.arrayify)(r)).digest("hex")}ks.computeHmac=Sde});var Lk=z(Ts=>{"use strict";d();h();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.SupportedAlgorithm=Ts.sha512=Ts.sha256=Ts.ripemd160=Ts.computeHmac=void 0;var FS=qL();Object.defineProperty(Ts,"computeHmac",{enumerable:!0,get:function(){return FS.computeHmac}});Object.defineProperty(Ts,"ripemd160",{enumerable:!0,get:function(){return FS.ripemd160}});Object.defineProperty(Ts,"sha256",{enumerable:!0,get:function(){return FS.sha256}});Object.defineProperty(Ts,"sha512",{enumerable:!0,get:function(){return FS.sha512}});var vde=Rk();Object.defineProperty(Ts,"SupportedAlgorithm",{enumerable:!0,get:function(){return vde.SupportedAlgorithm}})});var aT=z((sT,pK)=>{"use strict";d();h();(function(e){function t(y){return parseInt(y)===y}function r(y){if(!t(y.length))return!1;for(var I=0;I<y.length;I++)if(!t(y[I])||y[I]<0||y[I]>255)return!1;return!0}function n(y,I){if(y.buffer&&ArrayBuffer.isView(y)&&y.name==="Uint8Array")return I&&(y.slice?y=y.slice():y=Array.prototype.slice.call(y)),y;if(Array.isArray(y)){if(!r(y))throw new Error("Array contains invalid value: "+y);return new Uint8Array(y)}if(t(y.length)&&r(y))return new Uint8Array(y);throw new Error("unsupported array-like object")}function i(y){return new Uint8Array(y)}function o(y,I,q,K,F){(K!=null||F!=null)&&(y.slice?y=y.slice(K,F):y=Array.prototype.slice.call(y,K,F)),I.set(y,q)}var s=function(){function y(q){var K=[],F=0;for(q=encodeURI(q);F<q.length;){var J=q.charCodeAt(F++);J===37?(K.push(parseInt(q.substr(F,2),16)),F+=2):K.push(J)}return n(K)}function I(q){for(var K=[],F=0;F<q.length;){var J=q[F];J<128?(K.push(String.fromCharCode(J)),F++):J>191&&J<224?(K.push(String.fromCharCode((J&31)<<6|q[F+1]&63)),F+=2):(K.push(String.fromCharCode((J&15)<<12|(q[F+1]&63)<<6|q[F+2]&63)),F+=3)}return K.join("")}return{toBytes:y,fromBytes:I}}(),a=function(){function y(K){for(var F=[],J=0;J<K.length;J+=2)F.push(parseInt(K.substr(J,2),16));return F}var I="0123456789abcdef";function q(K){for(var F=[],J=0;J<K.length;J++){var ae=K[J];F.push(I[(ae&240)>>4]+I[ae&15])}return F.join("")}return{toBytes:y,fromBytes:q}}(),c={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],b=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],S=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],P=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],M=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],C=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],R=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],L=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],W=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],G=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function H(y){for(var I=[],q=0;q<y.length;q+=4)I.push(y[q]<<24|y[q+1]<<16|y[q+2]<<8|y[q+3]);return I}var $=function(y){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(y,!0)}),this._prepare()};$.prototype._prepare=function(){var y=c[this.key.length];if(y==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var I=0;I<=y;I++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var q=(y+1)*4,K=this.key.length/4,F=H(this.key),J,I=0;I<K;I++)J=I>>2,this._Ke[J][I%4]=F[I],this._Kd[y-J][I%4]=F[I];for(var ae=0,ce=K,pe;ce<q;){if(pe=F[K-1],F[0]^=l[pe>>16&255]<<24^l[pe>>8&255]<<16^l[pe&255]<<8^l[pe>>24&255]^u[ae]<<24,ae+=1,K!=8)for(var I=1;I<K;I++)F[I]^=F[I-1];else{for(var I=1;I<K/2;I++)F[I]^=F[I-1];pe=F[K/2-1],F[K/2]^=l[pe&255]^l[pe>>8&255]<<8^l[pe>>16&255]<<16^l[pe>>24&255]<<24;for(var I=K/2+1;I<K;I++)F[I]^=F[I-1]}for(var I=0,Y,V;I<K&&ce<q;)Y=ce>>2,V=ce%4,this._Ke[Y][V]=F[I],this._Kd[y-Y][V]=F[I++],ce++}for(var Y=1;Y<y;Y++)for(var V=0;V<4;V++)pe=this._Kd[Y][V],this._Kd[Y][V]=R[pe>>24&255]^L[pe>>16&255]^W[pe>>8&255]^G[pe&255]},$.prototype.encrypt=function(y){if(y.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var I=this._Ke.length-1,q=[0,0,0,0],K=H(y),F=0;F<4;F++)K[F]^=this._Ke[0][F];for(var J=1;J<I;J++){for(var F=0;F<4;F++)q[F]=m[K[F]>>24&255]^b[K[(F+1)%4]>>16&255]^w[K[(F+2)%4]>>8&255]^S[K[(F+3)%4]&255]^this._Ke[J][F];K=q.slice()}for(var ae=i(16),ce,F=0;F<4;F++)ce=this._Ke[I][F],ae[4*F]=(l[K[F]>>24&255]^ce>>24)&255,ae[4*F+1]=(l[K[(F+1)%4]>>16&255]^ce>>16)&255,ae[4*F+2]=(l[K[(F+2)%4]>>8&255]^ce>>8)&255,ae[4*F+3]=(l[K[(F+3)%4]&255]^ce)&255;return ae},$.prototype.decrypt=function(y){if(y.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var I=this._Kd.length-1,q=[0,0,0,0],K=H(y),F=0;F<4;F++)K[F]^=this._Kd[0][F];for(var J=1;J<I;J++){for(var F=0;F<4;F++)q[F]=P[K[F]>>24&255]^M[K[(F+3)%4]>>16&255]^D[K[(F+2)%4]>>8&255]^C[K[(F+1)%4]&255]^this._Kd[J][F];K=q.slice()}for(var ae=i(16),ce,F=0;F<4;F++)ce=this._Kd[I][F],ae[4*F]=(f[K[F]>>24&255]^ce>>24)&255,ae[4*F+1]=(f[K[(F+3)%4]>>16&255]^ce>>16)&255,ae[4*F+2]=(f[K[(F+2)%4]>>8&255]^ce>>8)&255,ae[4*F+3]=(f[K[(F+1)%4]&255]^ce)&255;return ae};var B=function(y){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new $(y)};B.prototype.encrypt=function(y){if(y=n(y),y.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var I=i(y.length),q=i(16),K=0;K<y.length;K+=16)o(y,q,0,K,K+16),q=this._aes.encrypt(q),o(q,I,K);return I},B.prototype.decrypt=function(y){if(y=n(y),y.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var I=i(y.length),q=i(16),K=0;K<y.length;K+=16)o(y,q,0,K,K+16),q=this._aes.decrypt(q),o(q,I,K);return I};var p=function(y,I){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!I)I=i(16);else if(I.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(I,!0),this._aes=new $(y)};p.prototype.encrypt=function(y){if(y=n(y),y.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var I=i(y.length),q=i(16),K=0;K<y.length;K+=16){o(y,q,0,K,K+16);for(var F=0;F<16;F++)q[F]^=this._lastCipherblock[F];this._lastCipherblock=this._aes.encrypt(q),o(this._lastCipherblock,I,K)}return I},p.prototype.decrypt=function(y){if(y=n(y),y.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var I=i(y.length),q=i(16),K=0;K<y.length;K+=16){o(y,q,0,K,K+16),q=this._aes.decrypt(q);for(var F=0;F<16;F++)I[K+F]=q[F]^this._lastCipherblock[F];o(y,this._lastCipherblock,0,K,K+16)}return I};var g=function(y,I,q){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!I)I=i(16);else if(I.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");q||(q=1),this.segmentSize=q,this._shiftRegister=n(I,!0),this._aes=new $(y)};g.prototype.encrypt=function(y){if(y.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var I=n(y,!0),q,K=0;K<I.length;K+=this.segmentSize){q=this._aes.encrypt(this._shiftRegister);for(var F=0;F<this.segmentSize;F++)I[K+F]^=q[F];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(I,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return I},g.prototype.decrypt=function(y){if(y.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var I=n(y,!0),q,K=0;K<I.length;K+=this.segmentSize){q=this._aes.encrypt(this._shiftRegister);for(var F=0;F<this.segmentSize;F++)I[K+F]^=q[F];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(y,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return I};var x=function(y,I){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!I)I=i(16);else if(I.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(I,!0),this._lastPrecipherIndex=16,this._aes=new $(y)};x.prototype.encrypt=function(y){for(var I=n(y,!0),q=0;q<I.length;q++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),I[q]^=this._lastPrecipher[this._lastPrecipherIndex++];return I},x.prototype.decrypt=x.prototype.encrypt;var A=function(y){if(!(this instanceof A))throw Error("Counter must be instanitated with `new`");y!==0&&!y&&(y=1),typeof y=="number"?(this._counter=i(16),this.setValue(y)):this.setBytes(y)};A.prototype.setValue=function(y){if(typeof y!="number"||parseInt(y)!=y)throw new Error("invalid counter value (must be an integer)");for(var I=15;I>=0;--I)this._counter[I]=y%256,y=y>>8},A.prototype.setBytes=function(y){if(y=n(y,!0),y.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=y},A.prototype.increment=function(){for(var y=15;y>=0;y--)if(this._counter[y]===255)this._counter[y]=0;else{this._counter[y]++;break}};var v=function(y,I){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",I instanceof A||(I=new A(I)),this._counter=I,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new $(y)};v.prototype.encrypt=function(y){for(var I=n(y,!0),q=0;q<I.length;q++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),I[q]^=this._remainingCounter[this._remainingCounterIndex++];return I},v.prototype.decrypt=v.prototype.encrypt;function _(y){y=n(y,!0);var I=16-y.length%16,q=i(y.length+I);o(y,q);for(var K=y.length;K<q.length;K++)q[K]=I;return q}function O(y){if(y=n(y,!0),y.length<16)throw new Error("PKCS#7 invalid length");var I=y[y.length-1];if(I>16)throw new Error("PKCS#7 padding byte out of range");for(var q=y.length-I,K=0;K<I;K++)if(y[q+K]!==I)throw new Error("PKCS#7 invalid padding byte");var F=i(q);return o(y,F,0,0,q),F}var T={AES:$,Counter:A,ModeOfOperation:{ecb:B,cbc:p,cfb:g,ofb:x,ctr:v},utils:{hex:a,utf8:s},padding:{pkcs7:{pad:_,strip:O}},_arrayTest:{coerceArray:n,createArray:i,copyArray:o}};typeof sT<"u"?pK.exports=T:typeof define=="function"&&define.amd?define(T):(e.aesjs&&(T._aesjs=e.aesjs),e.aesjs=T)})(sT)});var bK=z((pT,gK)=>{"use strict";d();h();(function(e){function r(b){let w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S=1779033703,P=3144134277,M=1013904242,D=2773480762,C=1359893119,R=2600822924,L=528734635,W=1541459225,G=new Uint32Array(64);function H(v){let _=0,O=v.length;for(;O>=64;){let T=S,y=P,I=M,q=D,K=C,F=R,J=L,ae=W,ce,pe,Y,V,Z;for(pe=0;pe<16;pe++)Y=_+pe*4,G[pe]=(v[Y]&255)<<24|(v[Y+1]&255)<<16|(v[Y+2]&255)<<8|v[Y+3]&255;for(pe=16;pe<64;pe++)ce=G[pe-2],V=(ce>>>17|ce<<15)^(ce>>>19|ce<<13)^ce>>>10,ce=G[pe-15],Z=(ce>>>7|ce<<25)^(ce>>>18|ce<<14)^ce>>>3,G[pe]=(V+G[pe-7]|0)+(Z+G[pe-16]|0)|0;for(pe=0;pe<64;pe++)V=(((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))+(K&F^~K&J)|0)+(ae+(w[pe]+G[pe]|0)|0)|0,Z=((T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10))+(T&y^T&I^y&I)|0,ae=J,J=F,F=K,K=q+V|0,q=I,I=y,y=T,T=V+Z|0;S=S+T|0,P=P+y|0,M=M+I|0,D=D+q|0,C=C+K|0,R=R+F|0,L=L+J|0,W=W+ae|0,_+=64,O-=64}}H(b);let $,B=b.length%64,p=b.length/536870912|0,g=b.length<<3,x=B<56?56:120,A=b.slice(b.length-B,b.length);for(A.push(128),$=B+1;$<x;$++)A.push(0);return A.push(p>>>24&255),A.push(p>>>16&255),A.push(p>>>8&255),A.push(p>>>0&255),A.push(g>>>24&255),A.push(g>>>16&255),A.push(g>>>8&255),A.push(g>>>0&255),H(A),[S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255]}function n(b,w,S){b=b.length<=64?b:r(b);let P=64+w.length+4,M=new Array(P),D=new Array(64),C,R=[];for(C=0;C<64;C++)M[C]=54;for(C=0;C<b.length;C++)M[C]^=b[C];for(C=0;C<w.length;C++)M[64+C]=w[C];for(C=P-4;C<P;C++)M[C]=0;for(C=0;C<64;C++)D[C]=92;for(C=0;C<b.length;C++)D[C]^=b[C];function L(){for(let W=P-1;W>=P-4;W--){if(M[W]++,M[W]<=255)return;M[W]=0}}for(;S>=32;)L(),R=R.concat(r(D.concat(r(M)))),S-=32;return S>0&&(L(),R=R.concat(r(D.concat(r(M))).slice(0,S))),R}function i(b,w,S,P,M){let D;for(c(b,(2*S-1)*16,M,0,16),D=0;D<2*S;D++)a(b,D*16,M,16),s(M,P),c(M,0,b,w+D*16,16);for(D=0;D<S;D++)c(b,w+D*2*16,b,D*16,16);for(D=0;D<S;D++)c(b,w+(D*2+1)*16,b,(D+S)*16,16)}function o(b,w){return b<<w|b>>>32-w}function s(b,w){c(b,0,w,0,16);for(let S=8;S>0;S-=2)w[4]^=o(w[0]+w[12],7),w[8]^=o(w[4]+w[0],9),w[12]^=o(w[8]+w[4],13),w[0]^=o(w[12]+w[8],18),w[9]^=o(w[5]+w[1],7),w[13]^=o(w[9]+w[5],9),w[1]^=o(w[13]+w[9],13),w[5]^=o(w[1]+w[13],18),w[14]^=o(w[10]+w[6],7),w[2]^=o(w[14]+w[10],9),w[6]^=o(w[2]+w[14],13),w[10]^=o(w[6]+w[2],18),w[3]^=o(w[15]+w[11],7),w[7]^=o(w[3]+w[15],9),w[11]^=o(w[7]+w[3],13),w[15]^=o(w[11]+w[7],18),w[1]^=o(w[0]+w[3],7),w[2]^=o(w[1]+w[0],9),w[3]^=o(w[2]+w[1],13),w[0]^=o(w[3]+w[2],18),w[6]^=o(w[5]+w[4],7),w[7]^=o(w[6]+w[5],9),w[4]^=o(w[7]+w[6],13),w[5]^=o(w[4]+w[7],18),w[11]^=o(w[10]+w[9],7),w[8]^=o(w[11]+w[10],9),w[9]^=o(w[8]+w[11],13),w[10]^=o(w[9]+w[8],18),w[12]^=o(w[15]+w[14],7),w[13]^=o(w[12]+w[15],9),w[14]^=o(w[13]+w[12],13),w[15]^=o(w[14]+w[13],18);for(let S=0;S<16;++S)b[S]+=w[S]}function a(b,w,S,P){for(let M=0;M<P;M++)S[M]^=b[w+M]}function c(b,w,S,P,M){for(;M--;)S[P++]=b[w++]}function u(b){if(!b||typeof b.length!="number")return!1;for(let w=0;w<b.length;w++){let S=b[w];if(typeof S!="number"||S%1||S<0||S>=256)return!1}return!0}function l(b,w){if(typeof b!="number"||b%1)throw new Error("invalid "+w);return b}function f(b,w,S,P,M,D,C){if(S=l(S,"N"),P=l(P,"r"),M=l(M,"p"),D=l(D,"dkLen"),S===0||S&S-1)throw new Error("N must be power of 2");if(S>2147483647/128/P)throw new Error("N too large");if(P>2147483647/128/M)throw new Error("r too large");if(!u(b))throw new Error("password must be an array or buffer");if(b=Array.prototype.slice.call(b),!u(w))throw new Error("salt must be an array or buffer");w=Array.prototype.slice.call(w);let R=n(b,w,M*128*P),L=new Uint32Array(M*32*P);for(let K=0;K<L.length;K++){let F=K*4;L[K]=(R[F+3]&255)<<24|(R[F+2]&255)<<16|(R[F+1]&255)<<8|(R[F+0]&255)<<0}let W=new Uint32Array(64*P),G=new Uint32Array(32*P*S),H=32*P,$=new Uint32Array(16),B=new Uint32Array(16),p=M*S*2,g=0,x=null,A=!1,v=0,_=0,O,T,y=C?parseInt(1e3/P):4294967295,I=typeof setImmediate<"u"?setImmediate:setTimeout,q=function(){if(A)return C(new Error("cancelled"),g/p);let K;switch(v){case 0:T=_*32*P,c(L,T,W,0,H),v=1,O=0;case 1:K=S-O,K>y&&(K=y);for(let J=0;J<K;J++)c(W,0,G,(O+J)*H,H),i(W,H,P,$,B);if(O+=K,g+=K,C){let J=parseInt(1e3*g/p);if(J!==x){if(A=C(null,g/p),A)break;x=J}}if(O<S)break;O=0,v=2;case 2:K=S-O,K>y&&(K=y);for(let J=0;J<K;J++){let ae=(2*P-1)*16,ce=W[ae]&S-1;a(G,ce*H,W,H),i(W,H,P,$,B)}if(O+=K,g+=K,C){let J=parseInt(1e3*g/p);if(J!==x){if(A=C(null,g/p),A)break;x=J}}if(O<S)break;if(c(W,0,L,T,H),_++,_<M){v=0;break}R=[];for(let J=0;J<L.length;J++)R.push(L[J]>>0&255),R.push(L[J]>>8&255),R.push(L[J]>>16&255),R.push(L[J]>>24&255);let F=n(b,R,D);return C&&C(null,1,F),F}C&&I(q)};if(!C)for(;;){let K=q();if(K!=null)return K}q()}let m={scrypt:function(b,w,S,P,M,D,C){return new Promise(function(R,L){let W=0;C&&C(0),f(b,w,S,P,M,D,function(G,H,$){if(G)L(G);else if($)C&&W!==1&&C(1),R(new Uint8Array($));else if(C&&H!==W)return W=H,C(H)})})},syncScrypt:function(b,w,S,P,M,D){return new Uint8Array(f(b,w,S,P,M,D))}};typeof pT<"u"?gK.exports=m:typeof define=="function"&&define.amd?define(m):e&&(e.scrypt&&(e._scrypt=e.scrypt),e.scrypt=m)})(pT)});var ph=z(ey=>{"use strict";d();h();Object.defineProperty(ey,"__esModule",{value:!0});ey.bech32m=ey.bech32=void 0;var Hv="qpzry9x8gf2tvdw0s3jn54khce6mua7l",DV={};for(let e=0;e<Hv.length;e++){let t=Hv.charAt(e);DV[t]=e}function Qp(e){let t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function OV(e){let t=1;for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=Qp(t)^n>>5}t=Qp(t);for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);t=Qp(t)^n&31}return t}function S5(e,t,r,n){let i=0,o=0,s=(1<<r)-1,a=[];for(let c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function _pe(e){return S5(e,8,5,!0)}function Cpe(e){let t=S5(e,5,8,!1);if(Array.isArray(t))return t}function Mpe(e){let t=S5(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function UV(e){let t;e==="bech32"?t=1:t=734539939;function r(s,a,c){if(c=c||90,s.length+7+a.length>c)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let u=OV(s);if(typeof u=="string")throw new Error(u);let l=s+"1";for(let f=0;f<a.length;++f){let m=a[f];if(m>>5)throw new Error("Non 5-bit word");u=Qp(u)^m,l+=Hv.charAt(m)}for(let f=0;f<6;++f)u=Qp(u);u^=t;for(let f=0;f<6;++f){let m=u>>(5-f)*5&31;l+=Hv.charAt(m)}return l}function n(s,a){if(a=a||90,s.length<8)return s+" too short";if(s.length>a)return"Exceeds length limit";let c=s.toLowerCase(),u=s.toUpperCase();if(s!==c&&s!==u)return"Mixed-case string "+s;s=c;let l=s.lastIndexOf("1");if(l===-1)return"No separator character for "+s;if(l===0)return"Missing prefix for "+s;let f=s.slice(0,l),m=s.slice(l+1);if(m.length<6)return"Data too short";let b=OV(f);if(typeof b=="string")return b;let w=[];for(let S=0;S<m.length;++S){let P=m.charAt(S),M=DV[P];if(M===void 0)return"Unknown character "+P;b=Qp(b)^M,!(S+6>=m.length)&&w.push(M)}return b!==t?"Invalid checksum for "+s:{prefix:f,words:w}}function i(s,a){let c=n(s,a);if(typeof c=="object")return c}function o(s,a){let c=n(s,a);if(typeof c=="object")return c;throw new Error(c)}return{decodeUnsafe:i,decode:o,encode:r,toWords:_pe,fromWordsUnsafe:Cpe,fromWords:Mpe}}ey.bech32=UV("bech32");ey.bech32m=UV("bech32m")});var qV=z(io=>{"use strict";d();h();Object.defineProperty(io,"__esModule",{value:!0});io.output=io.exists=io.hash=io.bytes=io.bool=io.number=void 0;function $v(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}io.number=$v;function KV(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}io.bool=KV;function _5(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}io.bytes=_5;function VV(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$v(e.outputLen),$v(e.blockLen)}io.hash=VV;function FV(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}io.exists=FV;function HV(e,t){_5(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}io.output=HV;var qpe={number:$v,bool:KV,bytes:_5,hash:VV,exists:FV,output:HV};io.default=qpe});var WV=z(Yv=>{"use strict";d();h();Object.defineProperty(Yv,"__esModule",{value:!0});Yv.crypto=void 0;Yv.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var N5=z(Pt=>{"use strict";d();h();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.randomBytes=Pt.wrapConstructorWithOpts=Pt.wrapConstructor=Pt.checkOpts=Pt.Hash=Pt.concatBytes=Pt.toBytes=Pt.utf8ToBytes=Pt.asyncLoop=Pt.nextTick=Pt.hexToBytes=Pt.bytesToHex=Pt.isLE=Pt.rotr=Pt.createView=Pt.u32=Pt.u8=void 0;var Zv=WV(),Wpe=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Pt.u8=Wpe;var jpe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));Pt.u32=jpe;var zpe=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);Pt.createView=zpe;var Gpe=(e,t)=>e<<32-t|e>>>t;Pt.rotr=Gpe;Pt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pt.isLE)throw new Error("Non little-endian hardware is not supported");var $pe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ype(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=$pe[e[r]];return t}Pt.bytesToHex=Ype;function Zpe(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}Pt.hexToBytes=Zpe;var Jpe=async()=>{};Pt.nextTick=Jpe;async function Xpe(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,Pt.nextTick)(),n+=o)}}Pt.asyncLoop=Xpe;function jV(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}Pt.utf8ToBytes=jV;function M5(e){if(typeof e=="string"&&(e=jV(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Pt.toBytes=M5;function Qpe(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}Pt.concatBytes=Qpe;var C5=class{clone(){return this._cloneInto()}};Pt.Hash=C5;var eye=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function tye(e,t){if(t!==void 0&&(typeof t!="object"||!eye(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}Pt.checkOpts=tye;function rye(e){let t=n=>e().update(M5(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}Pt.wrapConstructor=rye;function nye(e){let t=(n,i)=>e(i).update(M5(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}Pt.wrapConstructorWithOpts=nye;function iye(e=32){if(Zv.crypto.web)return Zv.crypto.web.getRandomValues(new Uint8Array(e));if(Zv.crypto.node)return new Uint8Array(Zv.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}Pt.randomBytes=iye});var zV=z(Jv=>{"use strict";d();h();Object.defineProperty(Jv,"__esModule",{value:!0});Jv.SHA2=void 0;var O5=qV(),Gb=N5();function oye(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var D5=class extends Gb.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Gb.createView)(this.buffer)}update(t){O5.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,Gb.toBytes)(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,Gb.createView)(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){O5.default.exists(this),O5.default.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;oye(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,Gb.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};Jv.SHA2=D5});var GV=z(ry=>{"use strict";d();h();Object.defineProperty(ry,"__esModule",{value:!0});ry.sha224=ry.sha256=void 0;var sye=zV(),Os=N5(),aye=(e,t,r)=>e&t^~e&r,cye=(e,t,r)=>e&t^e&r^t&r,uye=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Al=new Uint32Array(64),Xv=class extends sye.SHA2{constructor(){super(64,32,8,!1),this.A=vl[0]|0,this.B=vl[1]|0,this.C=vl[2]|0,this.D=vl[3]|0,this.E=vl[4]|0,this.F=vl[5]|0,this.G=vl[6]|0,this.H=vl[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Al[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=Al[f-15],b=Al[f-2],w=(0,Os.rotr)(m,7)^(0,Os.rotr)(m,18)^m>>>3,S=(0,Os.rotr)(b,17)^(0,Os.rotr)(b,19)^b>>>10;Al[f]=S+Al[f-7]+w+Al[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=(0,Os.rotr)(a,6)^(0,Os.rotr)(a,11)^(0,Os.rotr)(a,25),b=l+m+aye(a,c,u)+uye[f]+Al[f]|0,S=((0,Os.rotr)(n,2)^(0,Os.rotr)(n,13)^(0,Os.rotr)(n,22))+cye(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){Al.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},U5=class extends Xv{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};ry.sha256=(0,Os.wrapConstructor)(()=>new Xv);ry.sha224=(0,Os.wrapConstructor)(()=>new U5)});var YV=z((n$e,$V)=>{"use strict";d();h();function fye(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,S=0,P=0,M=b.length;P!==M&&b[P]===0;)P++,w++;for(var D=(M-P)*u+1>>>0,C=new Uint8Array(D);P!==M;){for(var R=b[P],L=0,W=D-1;(R!==0||L<S)&&W!==-1;W--,L++)R+=256*C[W]>>>0,C[W]=R%s>>>0,R=R/s>>>0;if(R!==0)throw new Error("Non-zero carry");S=L,P++}for(var G=D-S;G!==D&&C[G]===0;)G++;for(var H=a.repeat(w);G<D;++G)H+=e.charAt(C[G]);return H}function f(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var w=0,S=0,P=0;b[w]===a;)S++,w++;for(var M=(b.length-w)*c+1>>>0,D=new Uint8Array(M);b[w];){var C=t[b.charCodeAt(w)];if(C===255)return;for(var R=0,L=M-1;(C!==0||R<P)&&L!==-1;L--,R++)C+=s*D[L]>>>0,D[L]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");P=R,w++}for(var W=M-P;W!==M&&D[W]===0;)W++;for(var G=new Uint8Array(S+(M-W)),H=S;W!==M;)G[H++]=D[W++];return G}function m(b){var w=f(b);if(w)return w;throw new Error("Non-base"+s+" character")}return{encode:l,decodeUnsafe:f,decode:m}}$V.exports=fye});var JV=z((s$e,ZV)=>{d();h();var lye=YV(),dye="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ZV.exports=lye(dye)});var QV=z((u$e,XV)=>{"use strict";d();h();var R5=JV();XV.exports=function(e){function t(o){var s=Uint8Array.from(o),a=e(s),c=s.length+4,u=new Uint8Array(c);return u.set(s,0),u.set(a.subarray(0,4),s.length),R5.encode(u,c)}function r(o){var s=o.slice(0,-4),a=o.slice(-4),c=e(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(o){var s=R5.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=R5.decode(o),a=r(s,e);if(!a)throw new Error("Invalid checksum");return a}return{encode:t,decode:i,decodeUnsafe:n}}});var ny=z((d$e,tF)=>{"use strict";d();h();var{sha256:eF}=GV(),hye=QV();function pye(e){return eF(eF(e))}tF.exports=hye(pye)});var nF=z((y$e,rF)=>{"use strict";d();h();var L5=wo(),yye=AN().Buffer;rF.exports=function(e){function t(o){var s=e(o);return L5.encode(yye.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),a=o.slice(-4),c=e(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(o){var s=L5.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=L5.decode(o),a=r(s,e);if(!a)throw new Error("Invalid checksum");return a}return{encode:t,decode:i,decodeUnsafe:n}}});var sF=z((b$e,oF)=>{"use strict";d();h();var iF=kN(),mye=nF();function gye(e){var t=iF("sha256").update(e).digest();return iF("sha256").update(t).digest()}oF.exports=mye(gye)});var Qv=z((S$e,cF)=>{d();h();var K5=sF();function aF(e,t){if(t!==void 0&&e[0]!==t)throw new Error("Invalid network version");if(e.length===33)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(e.length!==34)throw new Error("Invalid WIF length");if(e[33]!==1)throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function V5(e,t,r){var n=new Buffer(r?34:33);return n.writeUInt8(e,0),t.copy(n,1),r&&(n[33]=1),n}function bye(e,t){return aF(K5.decode(e),t)}function xye(e,t,r){return typeof e=="number"?K5.encode(V5(e,t,r)):K5.encode(V5(e.version,e.privateKey,e.compressed))}cF.exports={decode:bye,decodeRaw:aF,encode:xye,encodeRaw:V5}});var q5=z(oo=>{"use strict";d();h();Object.defineProperty(oo,"__esModule",{value:!0});oo.output=oo.exists=oo.hash=oo.bytes=oo.bool=oo.number=void 0;function rA(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}oo.number=rA;function yF(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}oo.bool=yF;function H5(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}oo.bytes=H5;function mF(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rA(e.outputLen),rA(e.blockLen)}oo.hash=mF;function gF(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}oo.exists=gF;function bF(e,t){H5(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}oo.output=bF;var Iye={number:rA,bool:yF,bytes:H5,hash:mF,exists:gF,output:bF};oo.default=Iye});var xF=z(nA=>{"use strict";d();h();Object.defineProperty(nA,"__esModule",{value:!0});nA.crypto=void 0;nA.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var oA=z(It=>{"use strict";d();h();Object.defineProperty(It,"__esModule",{value:!0});It.randomBytes=It.wrapXOFConstructorWithOpts=It.wrapConstructorWithOpts=It.wrapConstructor=It.checkOpts=It.Hash=It.concatBytes=It.toBytes=It.utf8ToBytes=It.asyncLoop=It.nextTick=It.hexToBytes=It.bytesToHex=It.isLE=It.rotr=It.createView=It.u32=It.u8=void 0;var W5=xF(),z5=e=>e instanceof Uint8Array,kye=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);It.u8=kye;var Tye=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));It.u32=Tye;var Pye=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);It.createView=Pye;var Bye=(e,t)=>e<<32-t|e>>>t;It.rotr=Bye;It.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!It.isLE)throw new Error("Non little-endian hardware is not supported");var _ye=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Cye(e){if(!z5(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=_ye[e[r]];return t}It.bytesToHex=Cye;function Mye(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){let i=n*2,o=e.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}It.hexToBytes=Mye;var Nye=async()=>{};It.nextTick=Nye;async function Oye(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,It.nextTick)(),n+=o)}}It.asyncLoop=Oye;function wF(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}It.utf8ToBytes=wF;function iA(e){if(typeof e=="string"&&(e=wF(e)),!z5(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}It.toBytes=iA;function Dye(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.length,0)),r=0;return e.forEach(n=>{if(!z5(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}It.concatBytes=Dye;var j5=class{clone(){return this._cloneInto()}};It.Hash=j5;var Uye=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function Rye(e,t){if(t!==void 0&&(typeof t!="object"||!Uye(t)))throw new Error("Options should be object or undefined");return Object.assign(e,t)}It.checkOpts=Rye;function Lye(e){let t=n=>e().update(iA(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}It.wrapConstructor=Lye;function Kye(e){let t=(n,i)=>e(i).update(iA(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}It.wrapConstructorWithOpts=Kye;function Vye(e){let t=(n,i)=>e(i).update(iA(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}It.wrapXOFConstructorWithOpts=Vye;function Fye(e=32){if(W5.crypto&&typeof W5.crypto.getRandomValues=="function")return W5.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}It.randomBytes=Fye});var vF=z(bh=>{"use strict";d();h();Object.defineProperty(bh,"__esModule",{value:!0});bh.hmac=bh.HMAC=void 0;var sA=q5(),SF=oA(),Yb=class extends SF.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,sA.default.hash(t);let n=(0,SF.toBytes)(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return sA.default.exists(this),this.iHash.update(t),this}digestInto(t){sA.default.exists(this),sA.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};bh.HMAC=Yb;var Hye=(e,t,r)=>new Yb(e,t).update(r).digest();bh.hmac=Hye;bh.hmac.create=(e,t)=>new Yb(e,t)});var AF=z(aA=>{"use strict";d();h();Object.defineProperty(aA,"__esModule",{value:!0});aA.SHA2=void 0;var G5=q5(),Zb=oA();function qye(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var $5=class extends Zb.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Zb.createView)(this.buffer)}update(t){G5.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,Zb.toBytes)(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,Zb.createView)(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){G5.default.exists(this),G5.default.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;qye(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,Zb.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};aA.SHA2=$5});var EF=z(iy=>{"use strict";d();h();Object.defineProperty(iy,"__esModule",{value:!0});iy.sha224=iy.sha256=void 0;var Wye=AF(),Ds=oA(),jye=(e,t,r)=>e&t^~e&r,zye=(e,t,r)=>e&t^e&r^t&r,Gye=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),El=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Il=new Uint32Array(64),cA=class extends Wye.SHA2{constructor(){super(64,32,8,!1),this.A=El[0]|0,this.B=El[1]|0,this.C=El[2]|0,this.D=El[3]|0,this.E=El[4]|0,this.F=El[5]|0,this.G=El[6]|0,this.H=El[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Il[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=Il[f-15],b=Il[f-2],w=(0,Ds.rotr)(m,7)^(0,Ds.rotr)(m,18)^m>>>3,S=(0,Ds.rotr)(b,17)^(0,Ds.rotr)(b,19)^b>>>10;Il[f]=S+Il[f-7]+w+Il[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=(0,Ds.rotr)(a,6)^(0,Ds.rotr)(a,11)^(0,Ds.rotr)(a,25),b=l+m+jye(a,c,u)+Gye[f]+Il[f]|0,S=((0,Ds.rotr)(n,2)^(0,Ds.rotr)(n,13)^(0,Ds.rotr)(n,22))+zye(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){Il.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Y5=class extends cA{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};iy.sha256=(0,Ds.wrapConstructor)(()=>new cA);iy.sha224=(0,Ds.wrapConstructor)(()=>new Y5)});var fA=z(Sn=>{"use strict";d();h();var $ye=bI(),Yye=vF(),IF=EF();function Zye(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var ar=Zye($ye);ar.utils.hmacSha256Sync=(e,...t)=>Yye.hmac(IF.sha256,e,ar.utils.concatBytes(...t));ar.utils.sha256Sync=(...e)=>IF.sha256(ar.utils.concatBytes(...e));var X5=ar.utils._normalizePrivateKey,Jye=32,Xye=32,Z5=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),Qye=32;function J5(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Jb(e){return!(!(e instanceof Uint8Array)||e.length!==Xye||J5(e,Z5)>=0)}function kF(e){return e instanceof Uint8Array&&e.length===64&&J5(e.subarray(0,32),Z5)<0&&J5(e.subarray(32,64),Z5)<0}function uA(e){return e instanceof Uint8Array&&e.length===Jye}function TF(e){return e===void 0||e instanceof Uint8Array&&e.length===Qye}function PF(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function eme(e){return PF(ar.utils.bytesToHex(e))}function Q5(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private scalar");t=PF(e)}else if(e instanceof Uint8Array){if(e.length!==32)throw new Error("Expected 32 bytes of private scalar");t=eme(e)}else throw new TypeError("Expected valid private scalar");if(t<0)throw new Error("Expected private scalar >= 0");return t}var tme=(e,t)=>{let r=X5(e),n=Q5(t),i=ar.utils._bigintTo32Bytes(ar.utils.mod(r+n,ar.CURVE.n));return ar.utils.isValidPrivateKey(i)?i:null},rme=(e,t)=>{let r=X5(e),n=Q5(t),i=ar.utils._bigintTo32Bytes(ar.utils.mod(r-n,ar.CURVE.n));return ar.utils.isValidPrivateKey(i)?i:null},nme=e=>{let t=X5(e),r=ar.utils._bigintTo32Bytes(ar.CURVE.n-t);return ar.utils.isValidPrivateKey(r)?r:null},BF=(e,t,r)=>{let n=ar.Point.fromHex(e),i=Q5(t),o=ar.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},ime=(e,t,r)=>{let n=ar.Point.fromHex(e),i=typeof t=="string"?t:ar.utils.bytesToHex(t),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)};function Xb(e,t){return e===void 0?t!==void 0?_F(t):!0:!!e}function xh(e){try{return e()}catch{return null}}function eP(e,t){if(e.length===32!==t)return!1;try{return!!ar.Point.fromHex(e)}catch{return!1}}function kl(e){return eP(e,!1)}function _F(e){return eP(e,!1)&&e.length===33}function Tl(e){return ar.utils.isValidPrivateKey(e)}function tP(e){return eP(e,!0)}function ome(e,t){if(!tP(e))throw new Error("Expected Point");if(!Jb(t))throw new Error("Expected Tweak");return xh(()=>{let r=BF(e,t,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function CF(e){if(!kl(e))throw new Error("Expected Point");return e.slice(1,33)}function MF(e,t){if(!Tl(e))throw new Error("Expected Private");return xh(()=>ar.getPublicKey(e,Xb(t)))}function sme(e){if(!Tl(e))throw new Error("Expected Private");return CF(MF(e))}function ame(e,t){if(!kl(e))throw new Error("Expected Point");return ar.Point.fromHex(e).toRawBytes(Xb(t,e))}function cme(e,t,r){if(!kl(e))throw new Error("Expected Point");if(!Jb(t))throw new Error("Expected Tweak");return xh(()=>ime(e,t,Xb(r,e)))}function ume(e,t,r){if(!kl(e)||!kl(t))throw new Error("Expected Point");return xh(()=>{let n=ar.Point.fromHex(e),i=ar.Point.fromHex(t);return n.equals(i.negate())?null:n.add(i).toRawBytes(Xb(r,e))})}function fme(e,t,r){if(!kl(e))throw new Error("Expected Point");if(!Jb(t))throw new Error("Expected Tweak");return xh(()=>BF(e,t,Xb(r,e)))}function lme(e,t){if(Tl(e)===!1)throw new Error("Expected Private");if(Jb(t)===!1)throw new Error("Expected Tweak");return xh(()=>tme(e,t))}function dme(e,t){if(Tl(e)===!1)throw new Error("Expected Private");if(Jb(t)===!1)throw new Error("Expected Tweak");return xh(()=>rme(e,t))}function hme(e){if(Tl(e)===!1)throw new Error("Expected Private");return nme(e)}function pme(e,t,r){if(!Tl(t))throw new Error("Expected Private");if(!uA(e))throw new Error("Expected Scalar");if(!TF(r))throw new Error("Expected Extra Data (32 bytes)");return ar.signSync(e,t,{der:!1,extraEntropy:r})}function yme(e,t,r=Buffer.alloc(32,0)){if(!Tl(t))throw new Error("Expected Private");if(!uA(e))throw new Error("Expected Scalar");if(!TF(r))throw new Error("Expected Extra Data (32 bytes)");return ar.schnorr.signSync(e,t,r)}function mme(e,t,r,n){if(!kl(t))throw new Error("Expected Point");if(!kF(r))throw new Error("Expected Signature");if(!uA(e))throw new Error("Expected Scalar");return ar.verify(r,e,t,{strict:n})}function gme(e,t,r){if(!tP(t))throw new Error("Expected Point");if(!kF(r))throw new Error("Expected Signature");if(!uA(e))throw new Error("Expected Scalar");return ar.schnorr.verifySync(r,e,t)}Sn.isPoint=kl;Sn.isPointCompressed=_F;Sn.isPrivate=Tl;Sn.isXOnlyPoint=tP;Sn.pointAdd=ume;Sn.pointAddScalar=fme;Sn.pointCompress=ame;Sn.pointFromScalar=MF;Sn.pointMultiply=cme;Sn.privateAdd=lme;Sn.privateNegate=hme;Sn.privateSub=dme;Sn.sign=pme;Sn.signSchnorr=yme;Sn.verify=mme;Sn.verifySchnorr=gme;Sn.xOnlyPointAddTweak=ome;Sn.xOnlyPointFromPoint=CF;Sn.xOnlyPointFromScalar=sme});var Us=z(Bl=>{"use strict";d();h();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.testnet=Bl.regtest=Bl.bitcoin=void 0;Bl.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Bl.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Bl.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var nP=z(_l=>{"use strict";d();h();Object.defineProperty(_l,"__esModule",{value:!0});_l.encode=_l.decode=_l.check=void 0;function kme(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;let t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return!1;let r=e[5+t];return!(r===0||6+t+r!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||r>1&&e[t+6]===0&&!(e[t+7]&128))}_l.check=kme;function Tme(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");let t=e[3];if(t===0)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(e[4+t]!==2)throw new Error("Expected DER integer (2)");let r=e[5+t];if(r===0)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(t>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[t+6]&128)throw new Error("S value is negative");if(r>1&&e[t+6]===0&&!(e[t+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}_l.decode=Tme;function Pme(e,t){let r=e.length,n=t.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(t[0]&128)throw new Error("S value is negative");if(r>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(n>1&&t[0]===0&&!(t[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i}_l.encode=Pme});var dA=z(oy=>{"use strict";d();h();Object.defineProperty(oy,"__esModule",{value:!0});oy.REVERSE_OPS=oy.OPS=void 0;var iP={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};oy.OPS=iP;var KF={};oy.REVERSE_OPS=KF;for(let e of Object.keys(iP)){let t=iP[e];KF[t]=e}});var FF=z(Ml=>{"use strict";d();h();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.decode=Ml.encode=Ml.encodingLength=void 0;var Cl=dA();function VF(e){return e<Cl.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}Ml.encodingLength=VF;function Bme(e,t,r){let n=VF(t);return n===1?e.writeUInt8(t,r):n===2?(e.writeUInt8(Cl.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):n===3?(e.writeUInt8(Cl.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(Cl.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n}Ml.encode=Bme;function _me(e,t){let r=e.readUInt8(t),n,i;if(r<Cl.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Cl.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;n=e.readUInt8(t+1),i=2}else if(r===Cl.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;n=e.readUInt16LE(t+1),i=3}else{if(t+5>e.length)return null;if(r!==Cl.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=e.readUInt32LE(t+1),i=5}return{opcode:r,number:n,size:i}}Ml.decode=_me});var HF=z(sy=>{"use strict";d();h();Object.defineProperty(sy,"__esModule",{value:!0});sy.encode=sy.decode=void 0;function Cme(e,t,r){t=t||4,r=r===void 0?!0:r;let n=e.length;if(n===0)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&!(e[n-1]&127)&&(n<=1||!(e[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let o=e.readUInt32LE(0),s=e.readUInt8(4);return s&128?-((s&-129)*4294967296+o):s*4294967296+o}let i=0;for(let o=0;o<n;++o)i|=e[o]<<8*o;return e[n-1]&128?-(i&~(128<<8*(n-1))):i}sy.decode=Cme;function Mme(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function Nme(e){let t=Math.abs(e),r=Mme(t),n=Buffer.allocUnsafe(r),i=e<0;for(let o=0;o<r;++o)n.writeUInt8(t&255,o),t>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}sy.encode=Nme});var hA=z((KYe,qF)=>{d();h();var ex={Array:function(e){return e!=null&&e.constructor===Array},Boolean:function(e){return typeof e=="boolean"},Function:function(e){return typeof e=="function"},Nil:function(e){return e==null},Number:function(e){return typeof e=="number"},Object:function(e){return typeof e=="object"},String:function(e){return typeof e=="string"},"":function(){return!0}};ex.Null=ex.Nil;for(oP in ex)ex[oP].toJSON=function(e){return e}.bind(null,oP);var oP;qF.exports=ex});var cP=z((HYe,zF)=>{d();h();var wh=hA();function WF(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function sP(e){return wh.Nil(e)?"":WF(e.constructor)}function Ome(e){return wh.Function(e)?"":wh.String(e)?JSON.stringify(e):e&&wh.Object(e)?"":e}function aP(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function pA(e){return wh.Function(e)?e.toJSON?e.toJSON():WF(e):wh.Array(e)?"Array":e&&wh.Object(e)?"Object":e!==void 0?e:""}function jF(e,t,r){var n=Ome(t);return"Expected "+pA(e)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function Lu(e,t,r){r=r||sP(t),this.message=jF(e,t,r),aP(this,Lu),this.__type=e,this.__value=t,this.__valueTypeName=r}Lu.prototype=Object.create(Error.prototype);Lu.prototype.constructor=Lu;function Dme(e,t,r,n,i){var o='" of type ';return t==="key"&&(o='" with key type '),jF('property "'+pA(r)+o+pA(e),n,i)}function ay(e,t,r,n,i){e?(i=i||sP(n),this.message=Dme(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',aP(this,Lu),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}ay.prototype=Object.create(Error.prototype);ay.prototype.constructor=Lu;function Ume(e,t){return new Lu(e,{},t)}function Rme(e,t,r){return e instanceof ay?(t=t+"."+e.__property,e=new ay(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof Lu&&(e=new ay(e.__type,t,r,e.__value,e.__valueTypeName)),aP(e),e}zF.exports={TfTypeError:Lu,TfPropertyTypeError:ay,tfCustomError:Ume,tfSubError:Rme,tfJSON:pA,getValueTypeName:sP}});var ZF=z((jYe,YF)=>{d();h();var dP=hA(),Lme=cP();function GF(e){return Buffer.isBuffer(e)}function $F(e){return typeof e=="string"&&/^([0-9a-f]{2})+$/i.test(e)}function yA(e,t){var r=e.toJSON();function n(i){if(!e(i))return!1;if(i.length===t)return!0;throw Lme.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+i.length+")")}return n.toJSON=function(){return r},n}var Kme=yA.bind(null,dP.Array),Vme=yA.bind(null,GF),Fme=yA.bind(null,$F),Hme=yA.bind(null,dP.String);function qme(e,t,r){r=r||dP.Number;function n(i,o){return r(i,o)&&i>e&&i<t}return n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n}var fP=Math.pow(2,53)-1;function Wme(e){return typeof e=="number"&&isFinite(e)}function jme(e){return e<<24>>24===e}function zme(e){return e<<16>>16===e}function Gme(e){return(e|0)===e}function $me(e){return typeof e=="number"&&e>=-fP&&e<=fP&&Math.floor(e)===e}function Yme(e){return(e&255)===e}function Zme(e){return(e&65535)===e}function Jme(e){return e>>>0===e}function Xme(e){return typeof e=="number"&&e>=0&&e<=fP&&Math.floor(e)===e}var lP={ArrayN:Kme,Buffer:GF,BufferN:Vme,Finite:Wme,Hex:$F,HexN:Fme,Int8:jme,Int16:zme,Int32:Gme,Int53:$me,Range:qme,StringN:Hme,UInt8:Yme,UInt16:Zme,UInt32:Jme,UInt53:Xme};for(uP in lP)lP[uP].toJSON=function(e){return e}.bind(null,uP);var uP;YF.exports=lP});var hP=z(($Ye,eH)=>{d();h();var rx=cP(),mi=hA(),Ku=rx.tfJSON,XF=rx.TfTypeError,QF=rx.TfPropertyTypeError,tx=rx.tfSubError,Qme=rx.getValueTypeName,Vu={arrayOf:function(t,r){t=Pc(t),r=r||{};function n(i,o){return!mi.Array(i)||mi.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(s,a){try{return so(t,s,o)}catch(c){throw tx(c,a)}})}return n.toJSON=function(){var i="["+Ku(t)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},maybe:function e(t){t=Pc(t);function r(n,i){return mi.Nil(n)||t(n,i,e)}return r.toJSON=function(){return"?"+Ku(t)},r},map:function(t,r){t=Pc(t),r&&(r=Pc(r));function n(i,o){if(!mi.Object(i)||mi.Nil(i))return!1;for(var s in i){try{r&&so(r,s,o)}catch(c){throw tx(c,s,"key")}try{var a=i[s];so(t,a,o)}catch(c){throw tx(c,s)}}return!0}return r?n.toJSON=function(){return"{"+Ku(r)+": "+Ku(t)+"}"}:n.toJSON=function(){return"{"+Ku(t)+"}"},n},object:function(t){var r={};for(var n in t)r[n]=Pc(t[n]);function i(o,s){if(!mi.Object(o)||mi.Nil(o))return!1;var a;try{for(a in r){var c=r[a],u=o[a];so(c,u,s)}}catch(l){throw tx(l,a)}if(s){for(a in o)if(!r[a])throw new QF(void 0,a)}return!0}return i.toJSON=function(){return Ku(r)},i},anyOf:function(){var t=[].slice.call(arguments).map(Pc);function r(n,i){return t.some(function(o){try{return so(o,n,i)}catch{return!1}})}return r.toJSON=function(){return t.map(Ku).join("|")},r},allOf:function(){var t=[].slice.call(arguments).map(Pc);function r(n,i){return t.every(function(o){try{return so(o,n,i)}catch{return!1}})}return r.toJSON=function(){return t.map(Ku).join(" & ")},r},quacksLike:function(t){function r(n){return t===Qme(n)}return r.toJSON=function(){return t},r},tuple:function(){var t=[].slice.call(arguments).map(Pc);function r(n,i){return mi.Nil(n)||mi.Nil(n.length)||i&&n.length!==t.length?!1:t.every(function(o,s){try{return so(o,n[s],i)}catch(a){throw tx(a,s)}})}return r.toJSON=function(){return"("+t.map(Ku).join(", ")+")"},r},value:function(t){function r(n){return n===t}return r.toJSON=function(){return t},r}};Vu.oneOf=Vu.anyOf;function Pc(e){if(mi.String(e))return e[0]==="?"?Vu.maybe(e.slice(1)):mi[e]||Vu.quacksLike(e);if(e&&mi.Object(e)){if(mi.Array(e)){if(e.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return Vu.arrayOf(e[0])}return Vu.object(e)}else if(mi.Function(e))return e;return Vu.value(e)}function so(e,t,r,n){if(mi.Function(e)){if(e(t,r))return!0;throw new XF(n||e,t)}return so(Pc(e),t,r)}for(Fu in mi)so[Fu]=mi[Fu];var Fu;for(Fu in Vu)so[Fu]=Vu[Fu];var JF=ZF();for(Fu in JF)so[Fu]=JF[Fu];so.compile=Pc;so.TfTypeError=XF;so.TfPropertyTypeError=QF;eH.exports=so});var gi=z(le=>{"use strict";d();h();Object.defineProperty(le,"__esModule",{value:!0});le.oneOf=le.Null=le.BufferN=le.Function=le.UInt32=le.UInt8=le.tuple=le.maybe=le.Hex=le.Buffer=le.String=le.Boolean=le.Array=le.Number=le.Hash256bit=le.Hash160bit=le.Buffer256bit=le.isTaptree=le.isTapleaf=le.TAPLEAF_VERSION_MASK=le.Network=le.ECPoint=le.Satoshi=le.Signer=le.BIP32Path=le.UInt31=le.isPoint=le.typeforce=void 0;var mA=Pn();le.typeforce=hP();var tH=mA.Buffer.alloc(32,0),rH=mA.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function ege(e){if(!mA.Buffer.isBuffer(e)||e.length<33)return!1;let t=e[0],r=e.slice(1,33);if(r.compare(tH)===0||r.compare(rH)>=0)return!1;if((t===2||t===3)&&e.length===33)return!0;let n=e.slice(33);return n.compare(tH)===0||n.compare(rH)>=0?!1:t===4&&e.length===65}le.isPoint=ege;var tge=Math.pow(2,31)-1;function rge(e){return le.typeforce.UInt32(e)&&e<=tge}le.UInt31=rge;function nH(e){return le.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}le.BIP32Path=nH;nH.toJSON=()=>"BIP32 derivation path";function nge(e){return(le.typeforce.Buffer(e.publicKey)||typeof e.getPublicKey=="function")&&typeof e.sign=="function"}le.Signer=nge;var ige=21*1e14;function oge(e){return le.typeforce.UInt53(e)&&e<=ige}le.Satoshi=oge;le.ECPoint=le.typeforce.quacksLike("Point");le.Network=le.typeforce.compile({messagePrefix:le.typeforce.oneOf(le.typeforce.Buffer,le.typeforce.String),bip32:{public:le.typeforce.UInt32,private:le.typeforce.UInt32},pubKeyHash:le.typeforce.UInt8,scriptHash:le.typeforce.UInt8,wif:le.typeforce.UInt8});le.TAPLEAF_VERSION_MASK=254;function iH(e){return!e||!("output"in e)||!mA.Buffer.isBuffer(e.output)?!1:e.version!==void 0?(e.version&le.TAPLEAF_VERSION_MASK)===e.version:!0}le.isTapleaf=iH;function oH(e){return(0,le.Array)(e)?e.length!==2?!1:e.every(t=>oH(t)):iH(e)}le.isTaptree=oH;le.Buffer256bit=le.typeforce.BufferN(32);le.Hash160bit=le.typeforce.BufferN(20);le.Hash256bit=le.typeforce.BufferN(32);le.Number=le.typeforce.Number;le.Array=le.typeforce.Array;le.Boolean=le.typeforce.Boolean;le.String=le.typeforce.String;le.Buffer=le.typeforce.Buffer;le.Hex=le.typeforce.Hex;le.maybe=le.typeforce.maybe;le.tuple=le.typeforce.tuple;le.UInt8=le.typeforce.UInt8;le.UInt32=le.typeforce.UInt32;le.Function=le.typeforce.Function;le.BufferN=le.typeforce.BufferN;le.Null=le.typeforce.Null;le.oneOf=le.typeforce.oneOf});var fH=z(uy=>{"use strict";d();h();Object.defineProperty(uy,"__esModule",{value:!0});uy.encode=uy.decode=void 0;var{Buffer:cy}=Pn(),uH=nP(),pP=gi(),{typeforce:sge}=pP,sH=cy.alloc(1,0);function aH(e){let t=0;for(;e[t]===0;)++t;return t===e.length?sH:(e=e.slice(t),e[0]&128?cy.concat([sH,e],1+e.length):e)}function cH(e){e[0]===0&&(e=e.slice(1));let t=cy.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}function age(e){let t=e.readUInt8(e.length-1),r=t&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);let n=uH.decode(e.slice(0,-1)),i=cH(n.r),o=cH(n.s);return{signature:cy.concat([i,o],64),hashType:t}}uy.decode=age;function cge(e,t){sge({signature:pP.BufferN(64),hashType:pP.UInt8},{signature:e,hashType:t});let r=t&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);let n=cy.allocUnsafe(1);n.writeUInt8(t,0);let i=aH(e.slice(0,32)),o=aH(e.slice(32,64));return cy.concat([uH.encode(i,o),n])}uy.encode=cge});var ao=z(br=>{"use strict";d();h();Object.defineProperty(br,"__esModule",{value:!0});br.signature=br.number=br.isCanonicalScriptSignature=br.isDefinedHashType=br.isCanonicalPubKey=br.toStack=br.fromASM=br.toASM=br.decompile=br.compile=br.countNonPushOnlyOPs=br.isPushOnly=br.OPS=void 0;var uge=nP(),Bo=dA();Object.defineProperty(br,"OPS",{enumerable:!0,get:function(){return Bo.OPS}});var yP=FF(),lH=HF(),fge=fH(),Bc=gi(),{typeforce:nx}=Bc,dH=Bo.OPS.OP_RESERVED;function lge(e){return Bc.Number(e)&&(e===Bo.OPS.OP_0||e>=Bo.OPS.OP_1&&e<=Bo.OPS.OP_16||e===Bo.OPS.OP_1NEGATE)}function hH(e){return Bc.Buffer(e)||lge(e)}function pH(e){return Bc.Array(e)&&e.every(hH)}br.isPushOnly=pH;function dge(e){return e.length-e.filter(hH).length}br.countNonPushOnlyOPs=dge;function gA(e){if(e.length===0)return Bo.OPS.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return dH+e[0];if(e[0]===129)return Bo.OPS.OP_1NEGATE}}function yH(e){return Buffer.isBuffer(e)}function hge(e){return Bc.Array(e)}function bA(e){return Buffer.isBuffer(e)}function mH(e){if(yH(e))return e;nx(Bc.Array,e);let t=e.reduce((i,o)=>bA(o)?o.length===1&&gA(o)!==void 0?i+1:i+yP.encodingLength(o.length)+o.length:i+1,0),r=Buffer.allocUnsafe(t),n=0;if(e.forEach(i=>{if(bA(i)){let o=gA(i);if(o!==void 0){r.writeUInt8(o,n),n+=1;return}n+=yP.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}br.compile=mH;function mP(e){if(hge(e))return e;nx(Bc.Buffer,e);let t=[],r=0;for(;r<e.length;){let n=e[r];if(n>Bo.OPS.OP_0&&n<=Bo.OPS.OP_PUSHDATA4){let i=yP.decode(e,r);if(i===null||(r+=i.size,r+i.number>e.length))return null;let o=e.slice(r,r+i.number);r+=i.number;let s=gA(o);s!==void 0?t.push(s):t.push(o)}else t.push(n),r+=1}return t}br.decompile=mP;function pge(e){return yH(e)&&(e=mP(e)),e.map(t=>{if(bA(t)){let r=gA(t);if(r===void 0)return t.toString("hex");t=r}return Bo.REVERSE_OPS[t]}).join(" ")}br.toASM=pge;function yge(e){return nx(Bc.String,e),mH(e.split(" ").map(t=>Bo.OPS[t]!==void 0?Bo.OPS[t]:(nx(Bc.Hex,t),Buffer.from(t,"hex"))))}br.fromASM=yge;function mge(e){return e=mP(e),nx(pH,e),e.map(t=>bA(t)?t:t===Bo.OPS.OP_0?Buffer.allocUnsafe(0):lH.encode(t-dH))}br.toStack=mge;function gge(e){return Bc.isPoint(e)}br.isCanonicalPubKey=gge;function gH(e){let t=e&-129;return t>0&&t<4}br.isDefinedHashType=gH;function bge(e){return!Buffer.isBuffer(e)||!gH(e[e.length-1])?!1:uge.check(e.slice(0,-1))}br.isCanonicalScriptSignature=bge;br.number=lH;br.signature=fge});var Hu=z(fy=>{"use strict";d();h();Object.defineProperty(fy,"__esModule",{value:!0});fy.value=fy.prop=void 0;function xge(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[t]=n,n},set(n){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}fy.prop=xge;function wge(e){let t;return()=>(t!==void 0||(t=e()),t)}fy.value=wge});var wH=z(wA=>{"use strict";d();h();Object.defineProperty(wA,"__esModule",{value:!0});wA.p2data=void 0;var Sge=Us(),xA=ao(),qu=gi(),bH=Hu(),xH=xA.OPS;function vge(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.equals(t[n]))}function Age(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,qu.typeforce)({network:qu.typeforce.maybe(qu.typeforce.Object),output:qu.typeforce.maybe(qu.typeforce.Buffer),data:qu.typeforce.maybe(qu.typeforce.arrayOf(qu.typeforce.Buffer))},e);let n={name:"embed",network:e.network||Sge.bitcoin};if(bH.prop(n,"output",()=>{if(e.data)return xA.compile([xH.OP_RETURN].concat(e.data))}),bH.prop(n,"data",()=>{if(e.output)return xA.decompile(e.output).slice(1)}),t.validate&&e.output){let i=xA.decompile(e.output);if(i[0]!==xH.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(qu.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!vge(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}wA.p2data=Age});var vH=z(vA=>{"use strict";d();h();Object.defineProperty(vA,"__esModule",{value:!0});vA.p2ms=void 0;var Ege=Us(),ly=ao(),Nn=gi(),Nl=Hu(),dy=ly.OPS,SA=dy.OP_RESERVED;function SH(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.equals(t[n]))}function Ige(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{});function r(c){return ly.isCanonicalScriptSignature(c)||(t.allowIncomplete&&c===dy.OP_0)!==void 0}(0,Nn.typeforce)({network:Nn.typeforce.maybe(Nn.typeforce.Object),m:Nn.typeforce.maybe(Nn.typeforce.Number),n:Nn.typeforce.maybe(Nn.typeforce.Number),output:Nn.typeforce.maybe(Nn.typeforce.Buffer),pubkeys:Nn.typeforce.maybe(Nn.typeforce.arrayOf(Nn.isPoint)),signatures:Nn.typeforce.maybe(Nn.typeforce.arrayOf(r)),input:Nn.typeforce.maybe(Nn.typeforce.Buffer)},e);let i={network:e.network||Ege.bitcoin},o=[],s=!1;function a(c){s||(s=!0,o=ly.decompile(c),i.m=o[0]-SA,i.n=o[o.length-2]-SA,i.pubkeys=o.slice(1,-2))}if(Nl.prop(i,"output",()=>{if(e.m&&i.n&&e.pubkeys)return ly.compile([].concat(SA+e.m,e.pubkeys,SA+i.n,dy.OP_CHECKMULTISIG))}),Nl.prop(i,"m",()=>{if(i.output)return a(i.output),i.m}),Nl.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),Nl.prop(i,"pubkeys",()=>{if(e.output)return a(e.output),i.pubkeys}),Nl.prop(i,"signatures",()=>{if(e.input)return ly.decompile(e.input).slice(1)}),Nl.prop(i,"input",()=>{if(e.signatures)return ly.compile([dy.OP_0].concat(e.signatures))}),Nl.prop(i,"witness",()=>{if(i.input)return[]}),Nl.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),t.validate){if(e.output){if(a(e.output),!Nn.typeforce.Number(o[0]))throw new TypeError("Output is invalid");if(!Nn.typeforce.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==dy.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==o.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(c=>(0,Nn.isPoint)(c)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==i.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==i.n)throw new TypeError("n mismatch");if(e.pubkeys&&!SH(e.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=e.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==dy.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!SH(e.signatures,i.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,e)}vA.p2ms=Ige});var EH=z(AA=>{"use strict";d();h();Object.defineProperty(AA,"__esModule",{value:!0});AA.p2pk=void 0;var kge=Us(),py=ao(),Oa=gi(),hy=Hu(),AH=py.OPS;function Tge(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,Oa.typeforce)({network:Oa.typeforce.maybe(Oa.typeforce.Object),output:Oa.typeforce.maybe(Oa.typeforce.Buffer),pubkey:Oa.typeforce.maybe(Oa.isPoint),signature:Oa.typeforce.maybe(py.isCanonicalScriptSignature),input:Oa.typeforce.maybe(Oa.typeforce.Buffer)},e);let r=hy.value(()=>py.decompile(e.input)),i={name:"p2pk",network:e.network||kge.bitcoin};if(hy.prop(i,"output",()=>{if(e.pubkey)return py.compile([e.pubkey,AH.OP_CHECKSIG])}),hy.prop(i,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),hy.prop(i,"signature",()=>{if(e.input)return r()[0]}),hy.prop(i,"input",()=>{if(e.signature)return py.compile([e.signature])}),hy.prop(i,"witness",()=>{if(i.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==AH.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Oa.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(i.input))throw new TypeError("Signature mismatch");if(e.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!py.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,e)}AA.p2pk=Tge});var BH=z(co=>{"use strict";d();h();Object.defineProperty(co,"__esModule",{value:!0});co.output=co.exists=co.hash=co.bytes=co.bool=co.number=void 0;function EA(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}co.number=EA;function IH(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}co.bool=IH;function gP(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}co.bytes=gP;function kH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");EA(e.outputLen),EA(e.blockLen)}co.hash=kH;function TH(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}co.exists=TH;function PH(e,t){gP(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}co.output=PH;var Pge={number:EA,bool:IH,bytes:gP,hash:kH,exists:TH,output:PH};co.default=Pge});var _H=z(IA=>{"use strict";d();h();Object.defineProperty(IA,"__esModule",{value:!0});IA.crypto=void 0;IA.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var ix=z(Bt=>{"use strict";d();h();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.randomBytes=Bt.wrapConstructorWithOpts=Bt.wrapConstructor=Bt.checkOpts=Bt.Hash=Bt.concatBytes=Bt.toBytes=Bt.utf8ToBytes=Bt.asyncLoop=Bt.nextTick=Bt.hexToBytes=Bt.bytesToHex=Bt.isLE=Bt.rotr=Bt.createView=Bt.u32=Bt.u8=void 0;var kA=_H(),Bge=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Bt.u8=Bge;var _ge=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));Bt.u32=_ge;var Cge=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);Bt.createView=Cge;var Mge=(e,t)=>e<<32-t|e>>>t;Bt.rotr=Mge;Bt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Bt.isLE)throw new Error("Non little-endian hardware is not supported");var Nge=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Oge(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Nge[e[r]];return t}Bt.bytesToHex=Oge;function Dge(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}Bt.hexToBytes=Dge;var Uge=async()=>{};Bt.nextTick=Uge;async function Rge(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,Bt.nextTick)(),n+=o)}}Bt.asyncLoop=Rge;function CH(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}Bt.utf8ToBytes=CH;function xP(e){if(typeof e=="string"&&(e=CH(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Bt.toBytes=xP;function Lge(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}Bt.concatBytes=Lge;var bP=class{clone(){return this._cloneInto()}};Bt.Hash=bP;var Kge=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function Vge(e,t){if(t!==void 0&&(typeof t!="object"||!Kge(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}Bt.checkOpts=Vge;function Fge(e){let t=n=>e().update(xP(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}Bt.wrapConstructor=Fge;function Hge(e){let t=(n,i)=>e(i).update(xP(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}Bt.wrapConstructorWithOpts=Hge;function qge(e=32){if(kA.crypto.web)return kA.crypto.web.getRandomValues(new Uint8Array(e));if(kA.crypto.node)return new Uint8Array(kA.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}Bt.randomBytes=qge});var PA=z(TA=>{"use strict";d();h();Object.defineProperty(TA,"__esModule",{value:!0});TA.SHA2=void 0;var wP=BH(),ox=ix();function Wge(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var SP=class extends ox.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,ox.createView)(this.buffer)}update(t){wP.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,ox.toBytes)(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,ox.createView)(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){wP.default.exists(this),wP.default.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;Wge(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,ox.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};TA.SHA2=SP});var DH=z(yy=>{"use strict";d();h();Object.defineProperty(yy,"__esModule",{value:!0});yy.ripemd160=yy.RIPEMD160=void 0;var jge=PA(),zge=ix(),Gge=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),NH=Uint8Array.from({length:16},(e,t)=>t),$ge=NH.map(e=>(9*e+5)%16),vP=[NH],AP=[$ge];for(let e=0;e<4;e++)for(let t of[vP,AP])t.push(t[e].map(r=>Gge[r]));var OH=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Yge=vP.map((e,t)=>e.map(r=>OH[t][r])),Zge=AP.map((e,t)=>e.map(r=>OH[t][r])),Jge=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Xge=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),BA=(e,t)=>e<<t|e>>>32-t;function MH(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var _A=new Uint32Array(16),CA=class extends jge.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(t,r){for(let b=0;b<16;b++,r+=4)_A[b]=t.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,c=a,u=this.h3|0,l=u,f=this.h4|0,m=f;for(let b=0;b<5;b++){let w=4-b,S=Jge[b],P=Xge[b],M=vP[b],D=AP[b],C=Yge[b],R=Zge[b];for(let L=0;L<16;L++){let W=BA(n+MH(b,o,a,u)+_A[M[L]]+S,C[L])+f|0;n=f,f=u,u=BA(a,10)|0,a=o,o=W}for(let L=0;L<16;L++){let W=BA(i+MH(w,s,c,l)+_A[D[L]]+P,R[L])+m|0;i=m,m=l,l=BA(c,10)|0,c=s,s=W}}this.set(this.h1+a+l|0,this.h2+u+m|0,this.h3+f+i|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){_A.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};yy.RIPEMD160=CA;yy.ripemd160=(0,zge.wrapConstructor)(()=>new CA)});var UH=z(MA=>{"use strict";d();h();Object.defineProperty(MA,"__esModule",{value:!0});MA.sha1=void 0;var Qge=PA(),ebe=ix(),EP=(e,t)=>e<<t|e>>>32-t>>>0,tbe=(e,t,r)=>e&t^~e&r,rbe=(e,t,r)=>e&t^e&r^t&r,sx=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Ol=new Uint32Array(80),IP=class extends Qge.SHA2{constructor(){super(64,20,8,!1),this.A=sx[0]|0,this.B=sx[1]|0,this.C=sx[2]|0,this.D=sx[3]|0,this.E=sx[4]|0}get(){let{A:t,B:r,C:n,D:i,E:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0}process(t,r){for(let c=0;c<16;c++,r+=4)Ol[c]=t.getUint32(r,!1);for(let c=16;c<80;c++)Ol[c]=EP(Ol[c-3]^Ol[c-8]^Ol[c-14]^Ol[c-16],1);let{A:n,B:i,C:o,D:s,E:a}=this;for(let c=0;c<80;c++){let u,l;c<20?(u=tbe(i,o,s),l=1518500249):c<40?(u=i^o^s,l=1859775393):c<60?(u=rbe(i,o,s),l=2400959708):(u=i^o^s,l=3395469782);let f=EP(n,5)+u+a+l+Ol[c]|0;a=s,s=o,o=EP(i,30),i=n,n=f}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(n,i,o,s,a)}roundClean(){Ol.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};MA.sha1=(0,ebe.wrapConstructor)(()=>new IP)});var RH=z(my=>{"use strict";d();h();Object.defineProperty(my,"__esModule",{value:!0});my.sha224=my.sha256=void 0;var nbe=PA(),Rs=ix(),ibe=(e,t,r)=>e&t^~e&r,obe=(e,t,r)=>e&t^e&r^t&r,sbe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ul=new Uint32Array(64),NA=class extends nbe.SHA2{constructor(){super(64,32,8,!1),this.A=Dl[0]|0,this.B=Dl[1]|0,this.C=Dl[2]|0,this.D=Dl[3]|0,this.E=Dl[4]|0,this.F=Dl[5]|0,this.G=Dl[6]|0,this.H=Dl[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Ul[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=Ul[f-15],b=Ul[f-2],w=(0,Rs.rotr)(m,7)^(0,Rs.rotr)(m,18)^m>>>3,S=(0,Rs.rotr)(b,17)^(0,Rs.rotr)(b,19)^b>>>10;Ul[f]=S+Ul[f-7]+w+Ul[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=(0,Rs.rotr)(a,6)^(0,Rs.rotr)(a,11)^(0,Rs.rotr)(a,25),b=l+m+ibe(a,c,u)+sbe[f]+Ul[f]|0,S=((0,Rs.rotr)(n,2)^(0,Rs.rotr)(n,13)^(0,Rs.rotr)(n,22))+obe(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){Ul.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},kP=class extends NA{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};my.sha256=(0,Rs.wrapConstructor)(()=>new NA);my.sha224=(0,Rs.wrapConstructor)(()=>new kP)});var _c=z(On=>{"use strict";d();h();Object.defineProperty(On,"__esModule",{value:!0});On.taggedHash=On.TAGGED_HASH_PREFIXES=On.TAGS=On.hash256=On.hash160=On.sha256=On.sha1=On.ripemd160=void 0;var{Buffer:uo}=Pn(),LH=DH(),abe=UH(),OA=RH();function cbe(e){return uo.from((0,LH.ripemd160)(Uint8Array.from(e)))}On.ripemd160=cbe;function ube(e){return uo.from((0,abe.sha1)(Uint8Array.from(e)))}On.sha1=ube;function KH(e){return uo.from((0,OA.sha256)(Uint8Array.from(e)))}On.sha256=KH;function fbe(e){return uo.from((0,LH.ripemd160)((0,OA.sha256)(Uint8Array.from(e))))}On.hash160=fbe;function lbe(e){return uo.from((0,OA.sha256)((0,OA.sha256)(Uint8Array.from(e))))}On.hash256=lbe;On.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];On.TAGGED_HASH_PREFIXES={"BIP0340/challenge":uo.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":uo.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":uo.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:uo.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:uo.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:uo.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:uo.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":uo.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":uo.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function dbe(e,t){return KH(uo.concat([On.TAGGED_HASH_PREFIXES[e],t]))}On.taggedHash=dbe});var FH=z(DA=>{"use strict";d();h();Object.defineProperty(DA,"__esModule",{value:!0});DA.p2pkh=void 0;var TP=_c(),hbe=Us(),gy=ao(),fo=gi(),Wu=Hu(),VH=ny(),Rl=gy.OPS;function pbe(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,fo.typeforce)({network:fo.typeforce.maybe(fo.typeforce.Object),address:fo.typeforce.maybe(fo.typeforce.String),hash:fo.typeforce.maybe(fo.typeforce.BufferN(20)),output:fo.typeforce.maybe(fo.typeforce.BufferN(25)),pubkey:fo.typeforce.maybe(fo.isPoint),signature:fo.typeforce.maybe(gy.isCanonicalScriptSignature),input:fo.typeforce.maybe(fo.typeforce.Buffer)},e);let r=Wu.value(()=>{let s=Buffer.from(VH.decode(e.address)),a=s.readUInt8(0),c=s.slice(1);return{version:a,hash:c}}),n=Wu.value(()=>gy.decompile(e.input)),i=e.network||hbe.bitcoin,o={name:"p2pkh",network:i};if(Wu.prop(o,"address",()=>{if(!o.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(i.pubKeyHash,0),o.hash.copy(s,1),VH.encode(s)}),Wu.prop(o,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return r().hash;if(e.pubkey||o.pubkey)return TP.hash160(e.pubkey||o.pubkey)}),Wu.prop(o,"output",()=>{if(o.hash)return gy.compile([Rl.OP_DUP,Rl.OP_HASH160,o.hash,Rl.OP_EQUALVERIFY,Rl.OP_CHECKSIG])}),Wu.prop(o,"pubkey",()=>{if(e.input)return n()[1]}),Wu.prop(o,"signature",()=>{if(e.input)return n()[0]}),Wu.prop(o,"input",()=>{if(e.pubkey&&e.signature)return gy.compile([e.signature,e.pubkey])}),Wu.prop(o,"witness",()=>{if(o.input)return[]}),t.validate){let s=Buffer.from([]);if(e.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(e.hash){if(s.length>0&&!s.equals(e.hash))throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==Rl.OP_DUP||e.output[1]!==Rl.OP_HASH160||e.output[2]!==20||e.output[23]!==Rl.OP_EQUALVERIFY||e.output[24]!==Rl.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=e.output.slice(3,23);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(e.pubkey){let a=TP.hash160(e.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(e.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!gy.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!(0,fo.isPoint)(a[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let c=TP.hash160(a[1]);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch")}}return Object.assign(o,e)}DA.p2pkh=pbe});var WH=z(UA=>{"use strict";d();h();Object.defineProperty(UA,"__esModule",{value:!0});UA.p2sh=void 0;var HH=_c(),ybe=Us(),Mc=ao(),jr=gi(),Cc=Hu(),qH=ny(),ax=Mc.OPS;function mbe(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.equals(t[n]))}function gbe(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,jr.typeforce)({network:jr.typeforce.maybe(jr.typeforce.Object),address:jr.typeforce.maybe(jr.typeforce.String),hash:jr.typeforce.maybe(jr.typeforce.BufferN(20)),output:jr.typeforce.maybe(jr.typeforce.BufferN(23)),redeem:jr.typeforce.maybe({network:jr.typeforce.maybe(jr.typeforce.Object),output:jr.typeforce.maybe(jr.typeforce.Buffer),input:jr.typeforce.maybe(jr.typeforce.Buffer),witness:jr.typeforce.maybe(jr.typeforce.arrayOf(jr.typeforce.Buffer))}),input:jr.typeforce.maybe(jr.typeforce.Buffer),witness:jr.typeforce.maybe(jr.typeforce.arrayOf(jr.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||ybe.bitcoin);let n={network:r},i=Cc.value(()=>{let a=Buffer.from(qH.decode(e.address)),c=a.readUInt8(0),u=a.slice(1);return{version:c,hash:u}}),o=Cc.value(()=>Mc.decompile(e.input)),s=Cc.value(()=>{let a=o(),c=a[a.length-1];return{network:r,output:c===ax.OP_FALSE?Buffer.from([]):c,input:Mc.compile(a.slice(0,-1)),witness:e.witness||[]}});if(Cc.prop(n,"address",()=>{if(!n.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),qH.encode(a)}),Cc.prop(n,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return i().hash;if(n.redeem&&n.redeem.output)return HH.hash160(n.redeem.output)}),Cc.prop(n,"output",()=>{if(n.hash)return Mc.compile([ax.OP_HASH160,n.hash,ax.OP_EQUAL])}),Cc.prop(n,"redeem",()=>{if(e.input)return s()}),Cc.prop(n,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return Mc.compile([].concat(Mc.decompile(e.redeem.input),e.redeem.output))}),Cc.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Cc.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),t.validate){let a=Buffer.from([]);if(e.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");a=i().hash}if(e.hash){if(a.length>0&&!a.equals(e.hash))throw new TypeError("Hash mismatch");a=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==ax.OP_HASH160||e.output[1]!==20||e.output[22]!==ax.OP_EQUAL)throw new TypeError("Output is invalid");let u=e.output.slice(2,22);if(a.length>0&&!a.equals(u))throw new TypeError("Hash mismatch");a=u}let c=u=>{if(u.output){let l=Mc.decompile(u.output);if(!l||l.length<1)throw new TypeError("Redeem.output too short");if(u.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Mc.countNonPushOnlyOPs(l)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let f=HH.hash160(u.output);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(u.input){let l=u.input.length>0,f=u.witness&&u.witness.length>0;if(!l&&!f)throw new TypeError("Empty input");if(l&&f)throw new TypeError("Input and witness provided");if(l){let m=Mc.decompile(u.input);if(!Mc.isPushOnly(m))throw new TypeError("Non push-only scriptSig")}}};if(e.input){let u=o();if(!u||u.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");c(s())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){let u=s();if(e.redeem.output&&!e.redeem.output.equals(u.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(u.input))throw new TypeError("Redeem.input mismatch")}c(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!mbe(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,e)}UA.p2sh=gbe});var zH=z(KA=>{"use strict";d();h();Object.defineProperty(KA,"__esModule",{value:!0});KA.p2wpkh=void 0;var{Buffer:BP}=Pn(),PP=_c(),bbe=Us(),LA=ao(),Dn=gi(),Ll=Hu(),RA=ph(),jH=LA.OPS,xbe=BP.alloc(0);function wbe(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,Dn.typeforce)({address:Dn.typeforce.maybe(Dn.typeforce.String),hash:Dn.typeforce.maybe(Dn.typeforce.BufferN(20)),input:Dn.typeforce.maybe(Dn.typeforce.BufferN(0)),network:Dn.typeforce.maybe(Dn.typeforce.Object),output:Dn.typeforce.maybe(Dn.typeforce.BufferN(22)),pubkey:Dn.typeforce.maybe(Dn.isPoint),signature:Dn.typeforce.maybe(LA.isCanonicalScriptSignature),witness:Dn.typeforce.maybe(Dn.typeforce.arrayOf(Dn.typeforce.Buffer))},e);let r=Ll.value(()=>{let o=RA.bech32.decode(e.address),s=o.words.shift(),a=RA.bech32.fromWords(o.words);return{version:s,prefix:o.prefix,data:BP.from(a)}}),n=e.network||bbe.bitcoin,i={name:"p2wpkh",network:n};if(Ll.prop(i,"address",()=>{if(!i.hash)return;let o=RA.bech32.toWords(i.hash);return o.unshift(0),RA.bech32.encode(n.bech32,o)}),Ll.prop(i,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return r().data;if(e.pubkey||i.pubkey)return PP.hash160(e.pubkey||i.pubkey)}),Ll.prop(i,"output",()=>{if(i.hash)return LA.compile([jH.OP_0,i.hash])}),Ll.prop(i,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),Ll.prop(i,"signature",()=>{if(e.witness)return e.witness[0]}),Ll.prop(i,"input",()=>{if(i.witness)return xbe}),Ll.prop(i,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),t.validate){let o=BP.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(e.hash){if(o.length>0&&!o.equals(e.hash))throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==jH.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");o=e.output.slice(2)}if(e.pubkey){let s=PP.hash160(e.pubkey);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");if(o=s,!(0,Dn.isPoint)(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!LA.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Dn.isPoint)(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");let s=PP.hash160(e.witness[1]);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,e)}KA.p2wpkh=wbe});var YH=z(qA=>{"use strict";d();h();Object.defineProperty(qA,"__esModule",{value:!0});qA.p2wsh=void 0;var{Buffer:HA}=Pn(),GH=_c(),Sbe=Us(),zu=ao(),Dr=gi(),ju=Hu(),VA=ph(),$H=zu.OPS,_P=HA.alloc(0);function vbe(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.equals(t[n]))}function FA(e){return!!(HA.isBuffer(e)&&e.length===65&&e[0]===4&&(0,Dr.isPoint)(e))}function Abe(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,Dr.typeforce)({network:Dr.typeforce.maybe(Dr.typeforce.Object),address:Dr.typeforce.maybe(Dr.typeforce.String),hash:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),output:Dr.typeforce.maybe(Dr.typeforce.BufferN(34)),redeem:Dr.typeforce.maybe({input:Dr.typeforce.maybe(Dr.typeforce.Buffer),network:Dr.typeforce.maybe(Dr.typeforce.Object),output:Dr.typeforce.maybe(Dr.typeforce.Buffer),witness:Dr.typeforce.maybe(Dr.typeforce.arrayOf(Dr.typeforce.Buffer))}),input:Dr.typeforce.maybe(Dr.typeforce.BufferN(0)),witness:Dr.typeforce.maybe(Dr.typeforce.arrayOf(Dr.typeforce.Buffer))},e);let r=ju.value(()=>{let s=VA.bech32.decode(e.address),a=s.words.shift(),c=VA.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:HA.from(c)}}),n=ju.value(()=>zu.decompile(e.redeem.input)),i=e.network;i||(i=e.redeem&&e.redeem.network||Sbe.bitcoin);let o={network:i};if(ju.prop(o,"address",()=>{if(!o.hash)return;let s=VA.bech32.toWords(o.hash);return s.unshift(0),VA.bech32.encode(i.bech32,s)}),ju.prop(o,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return r().data;if(o.redeem&&o.redeem.output)return GH.sha256(o.redeem.output)}),ju.prop(o,"output",()=>{if(o.hash)return zu.compile([$H.OP_0,o.hash])}),ju.prop(o,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:_P,witness:e.witness.slice(0,-1)}}),ju.prop(o,"input",()=>{if(o.witness)return _P}),ju.prop(o,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){let s=zu.toStack(n());return o.redeem=Object.assign({witness:s},e.redeem),o.redeem.input=_P,[].concat(s,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),ju.prop(o,"name",()=>{let s=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&s.push(o.redeem.name),s.join("-")}),t.validate){let s=HA.from([]);if(e.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(e.hash){if(s.length>0&&!s.equals(e.hash))throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==$H.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");let a=e.output.slice(2);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){let a=zu.decompile(e.redeem.output);if(!a||a.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(zu.countNonPushOnlyOPs(a)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let c=GH.sha256(e.redeem.output);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(e.redeem.input&&!zu.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!vbe(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&n().some(FA)||e.redeem.output&&(zu.decompile(e.redeem.output)||[]).some(FA))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){let a=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(FA)||(zu.decompile(a)||[]).some(FA))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,e)}qA.p2wsh=Abe});var WA=z(by=>{"use strict";d();h();Object.defineProperty(by,"__esModule",{value:!0});by.getEccLib=by.initEccLib=void 0;var cx={};function Ebe(e){e?e!==cx.eccLib&&(kbe(e),cx.eccLib=e):cx.eccLib=e}by.initEccLib=Ebe;function Ibe(){if(!cx.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return cx.eccLib}by.getEccLib=Ibe;var Gu=e=>Buffer.from(e,"hex");function kbe(e){Ls(typeof e.isXOnlyPoint=="function"),Ls(e.isXOnlyPoint(Gu("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Ls(e.isXOnlyPoint(Gu("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Ls(e.isXOnlyPoint(Gu("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Ls(e.isXOnlyPoint(Gu("0000000000000000000000000000000000000000000000000000000000000001"))),Ls(!e.isXOnlyPoint(Gu("0000000000000000000000000000000000000000000000000000000000000000"))),Ls(!e.isXOnlyPoint(Gu("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Ls(typeof e.xOnlyPointAddTweak=="function"),Tbe.forEach(t=>{let r=e.xOnlyPointAddTweak(Gu(t.pubkey),Gu(t.tweak));t.result===null?Ls(r===null):(Ls(r!==null),Ls(r.parity===t.parity),Ls(Buffer.from(r.xOnlyPubkey).equals(Gu(t.result))))})}function Ls(e){if(!e)throw new Error("ecc library invalid")}var Tbe=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var NP=z((nJe,JH)=>{"use strict";d();h();var CP=AN().Buffer,Pbe=9007199254740991;function MP(e){if(e<0||e>Pbe||e%1!==0)throw new RangeError("value out of range")}function ux(e,t,r){if(MP(e),t||(t=CP.allocUnsafe(ZH(e))),!CP.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),ux.bytes=1):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),ux.bytes=3):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),ux.bytes=5):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),ux.bytes=9),t}function fx(e,t){if(!CP.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");t||(t=0);var r=e.readUInt8(t);if(r<253)return fx.bytes=1,r;if(r===253)return fx.bytes=3,e.readUInt16LE(t+1);if(r===254)return fx.bytes=5,e.readUInt32LE(t+1);fx.bytes=9;var n=e.readUInt32LE(t+1),i=e.readUInt32LE(t+5),o=i*4294967296+n;return MP(o),o}function ZH(e){return MP(e),e<253?1:e<=65535?3:e<=4294967295?5:9}JH.exports={encode:ux,decode:fx,encodingLength:ZH}});var dx=z(Ki=>{"use strict";d();h();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.BufferReader=Ki.BufferWriter=Ki.cloneBuffer=Ki.reverseBuffer=Ki.writeUInt64LE=Ki.readUInt64LE=Ki.varuint=void 0;var Sh=gi(),{typeforce:XH}=Sh,lx=NP();Ki.varuint=lx;function QH(e,t){if(typeof e!="number")throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function eq(e,t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return n*=4294967296,QH(n+r,9007199254740991),n+r}Ki.readUInt64LE=eq;function tq(e,t,r){return QH(t,9007199254740991),e.writeInt32LE(t&-1,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}Ki.writeUInt64LE=tq;function Bbe(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}Ki.reverseBuffer=Bbe;function _be(e){let t=Buffer.allocUnsafe(e.length);return e.copy(t),t}Ki.cloneBuffer=_be;var OP=class e{static withCapacity(t){return new e(Buffer.alloc(t))}constructor(t,r=0){this.buffer=t,this.offset=r,XH(Sh.tuple(Sh.Buffer,Sh.UInt32),[t,r])}writeUInt8(t){this.offset=this.buffer.writeUInt8(t,this.offset)}writeInt32(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}writeUInt32(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}writeUInt64(t){this.offset=tq(this.buffer,t,this.offset)}writeVarInt(t){lx.encode(t,this.buffer,this.offset),this.offset+=lx.encode.bytes}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};Ki.BufferWriter=OP;var DP=class{constructor(t,r=0){this.buffer=t,this.offset=r,XH(Sh.tuple(Sh.Buffer,Sh.UInt32),[t,r])}readUInt8(){let t=this.buffer.readUInt8(this.offset);return this.offset++,t}readInt32(){let t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}readUInt32(){let t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}readUInt64(){let t=eq(this.buffer,this.offset);return this.offset+=8,t}readVarInt(){let t=lx.decode(this.buffer,this.offset);return this.offset+=lx.decode.bytes,t}readSlice(t){if(this.buffer.length<this.offset+t)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let t=this.readVarInt(),r=[];for(let n=0;n<t;n++)r.push(this.readVarSlice());return r}};Ki.BufferReader=DP});var jA=z(Un=>{"use strict";d();h();Object.defineProperty(Un,"__esModule",{value:!0});Un.tweakKey=Un.tapTweakHash=Un.tapleafHash=Un.findScriptPath=Un.toHashTree=Un.rootHashFromPath=Un.MAX_TAPTREE_DEPTH=Un.LEAF_VERSION_TAPSCRIPT=void 0;var Kl=Pn(),Cbe=WA(),KP=_c(),rq=dx(),Mbe=gi();Un.LEAF_VERSION_TAPSCRIPT=192;Un.MAX_TAPTREE_DEPTH=128;var Nbe=e=>"left"in e&&"right"in e;function Obe(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);let r=(e.length-33)/32,n=t;for(let i=0;i<r;i++){let o=e.slice(33+32*i,65+32*i);n.compare(o)<0?n=LP(n,o):n=LP(o,n)}return n}Un.rootHashFromPath=Obe;function UP(e){if((0,Mbe.isTapleaf)(e))return{hash:nq(e)};let t=[UP(e[0]),UP(e[1])];t.sort((i,o)=>i.hash.compare(o.hash));let[r,n]=t;return{hash:LP(r.hash,n.hash),left:r,right:n}}Un.toHashTree=UP;function RP(e,t){if(Nbe(e)){let r=RP(e.left,t);if(r!==void 0)return[...r,e.right.hash];let n=RP(e.right,t);if(n!==void 0)return[...n,e.left.hash]}else if(e.hash.equals(t))return[]}Un.findScriptPath=RP;function nq(e){let t=e.version||Un.LEAF_VERSION_TAPSCRIPT;return KP.taggedHash("TapLeaf",Kl.Buffer.concat([Kl.Buffer.from([t]),Ube(e.output)]))}Un.tapleafHash=nq;function iq(e,t){return KP.taggedHash("TapTweak",Kl.Buffer.concat(t?[e,t]:[e]))}Un.tapTweakHash=iq;function Dbe(e,t){if(!Kl.Buffer.isBuffer(e)||e.length!==32||t&&t.length!==32)return null;let r=iq(e,t),n=(0,Cbe.getEccLib)().xOnlyPointAddTweak(e,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Kl.Buffer.from(n.xOnlyPubkey)}}Un.tweakKey=Dbe;function LP(e,t){return KP.taggedHash("TapBranch",Kl.Buffer.concat([e,t]))}function Ube(e){let t=rq.varuint.encodingLength(e.length),r=Kl.Buffer.allocUnsafe(t);return rq.varuint.encode(e.length,r),Kl.Buffer.concat([r,e])}});var cq=z($A=>{"use strict";d();h();Object.defineProperty($A,"__esModule",{value:!0});$A.p2tr=void 0;var zA=Pn(),Rbe=Us(),VP=ao(),Ot=gi(),oq=WA(),_o=jA(),Ks=Hu(),GA=ph(),sq=VP.OPS,aq=1,Lbe=80;function Kbe(e,t){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,Ot.typeforce)({address:Ot.typeforce.maybe(Ot.typeforce.String),input:Ot.typeforce.maybe(Ot.typeforce.BufferN(0)),network:Ot.typeforce.maybe(Ot.typeforce.Object),output:Ot.typeforce.maybe(Ot.typeforce.BufferN(34)),internalPubkey:Ot.typeforce.maybe(Ot.typeforce.BufferN(32)),hash:Ot.typeforce.maybe(Ot.typeforce.BufferN(32)),pubkey:Ot.typeforce.maybe(Ot.typeforce.BufferN(32)),signature:Ot.typeforce.maybe(Ot.typeforce.anyOf(Ot.typeforce.BufferN(64),Ot.typeforce.BufferN(65))),witness:Ot.typeforce.maybe(Ot.typeforce.arrayOf(Ot.typeforce.Buffer)),scriptTree:Ot.typeforce.maybe(Ot.isTaptree),redeem:Ot.typeforce.maybe({output:Ot.typeforce.maybe(Ot.typeforce.Buffer),redeemVersion:Ot.typeforce.maybe(Ot.typeforce.Number),witness:Ot.typeforce.maybe(Ot.typeforce.arrayOf(Ot.typeforce.Buffer))}),redeemVersion:Ot.typeforce.maybe(Ot.typeforce.Number)},e);let r=Ks.value(()=>{let a=GA.bech32m.decode(e.address),c=a.words.shift(),u=GA.bech32m.fromWords(a.words);return{version:c,prefix:a.prefix,data:zA.Buffer.from(u)}}),n=Ks.value(()=>{if(!(!e.witness||!e.witness.length))return e.witness.length>=2&&e.witness[e.witness.length-1][0]===Lbe?e.witness.slice(0,-1):e.witness.slice()}),i=Ks.value(()=>{if(e.scriptTree)return(0,_o.toHashTree)(e.scriptTree);if(e.hash)return{hash:e.hash}}),o=e.network||Rbe.bitcoin,s={name:"p2tr",network:o};if(Ks.prop(s,"address",()=>{if(!s.pubkey)return;let a=GA.bech32m.toWords(s.pubkey);return a.unshift(aq),GA.bech32m.encode(o.bech32,a)}),Ks.prop(s,"hash",()=>{let a=i();if(a)return a.hash;let c=n();if(c&&c.length>1){let u=c[c.length-1],l=u[0]&Ot.TAPLEAF_VERSION_MASK,f=c[c.length-2],m=(0,_o.tapleafHash)({output:f,version:l});return(0,_o.rootHashFromPath)(u,m)}return null}),Ks.prop(s,"output",()=>{if(s.pubkey)return VP.compile([sq.OP_1,s.pubkey])}),Ks.prop(s,"redeemVersion",()=>e.redeemVersion?e.redeemVersion:e.redeem&&e.redeem.redeemVersion!==void 0&&e.redeem.redeemVersion!==null?e.redeem.redeemVersion:_o.LEAF_VERSION_TAPSCRIPT),Ks.prop(s,"redeem",()=>{let a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&Ot.TAPLEAF_VERSION_MASK}}),Ks.prop(s,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return r().data;if(s.internalPubkey){let a=(0,_o.tweakKey)(s.internalPubkey,s.hash);if(a)return a.x}}),Ks.prop(s,"internalPubkey",()=>{if(e.internalPubkey)return e.internalPubkey;let a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),Ks.prop(s,"signature",()=>{if(e.signature)return e.signature;let a=n();if(!(!a||a.length!==1))return a[0]}),Ks.prop(s,"witness",()=>{if(e.witness)return e.witness;let a=i();if(a&&e.redeem&&e.redeem.output&&e.internalPubkey){let c=(0,_o.tapleafHash)({output:e.redeem.output,version:s.redeemVersion}),u=(0,_o.findScriptPath)(a,c);if(!u)return;let l=(0,_o.tweakKey)(e.internalPubkey,a.hash);if(!l)return;let f=zA.Buffer.concat([zA.Buffer.from([s.redeemVersion|l.parity]),e.internalPubkey].concat(u));return[e.redeem.output,f]}if(e.signature)return[e.signature]}),t.validate){let a=zA.Buffer.from([]);if(e.address){if(o&&o.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==aq)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(e.pubkey){if(a.length>0&&!a.equals(e.pubkey))throw new TypeError("Pubkey mismatch");a=e.pubkey}if(e.output){if(e.output.length!==34||e.output[0]!==sq.OP_1||e.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");a=e.output.slice(2)}if(e.internalPubkey){let l=(0,_o.tweakKey)(e.internalPubkey,s.hash);if(a.length>0&&!a.equals(l.x))throw new TypeError("Pubkey mismatch");a=l.x}if(a&&a.length&&!(0,oq.getEccLib)().isXOnlyPoint(a))throw new TypeError("Invalid pubkey for p2tr");let c=i();if(e.hash&&c&&!e.hash.equals(c.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&c){let l=(0,_o.tapleafHash)({output:e.redeem.output,version:s.redeemVersion});if(!(0,_o.findScriptPath)(c,l))throw new TypeError("Redeem script not in tree")}let u=n();if(e.redeem&&s.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(VP.decompile(e.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!e.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&s.redeem.witness&&!Vbe(e.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(u.length===1){if(e.signature&&!e.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{let l=u[u.length-1];if(l.length<33)throw new TypeError(`The control-block length is too small. Got ${l.length}, expected min 33.`);if((l.length-33)%32!==0)throw new TypeError(`The control-block length of ${l.length} is incorrect!`);let f=(l.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);let m=l.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(m))throw new TypeError("Internal pubkey mismatch");if(!(0,oq.getEccLib)().isXOnlyPoint(m))throw new TypeError("Invalid internalPubkey for p2tr witness");let b=l[0]&Ot.TAPLEAF_VERSION_MASK,w=u[u.length-2],S=(0,_o.tapleafHash)({output:w,version:b}),P=(0,_o.rootHashFromPath)(l,S),M=(0,_o.tweakKey)(m,P);if(!M)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&!a.equals(M.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(M.parity!==(l[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,e)}$A.p2tr=Kbe;function Vbe(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.equals(t[n]))}});var xy=z(ti=>{"use strict";d();h();Object.defineProperty(ti,"__esModule",{value:!0});ti.p2tr=ti.p2wsh=ti.p2wpkh=ti.p2sh=ti.p2pkh=ti.p2pk=ti.p2ms=ti.embed=void 0;var Fbe=wH();Object.defineProperty(ti,"embed",{enumerable:!0,get:function(){return Fbe.p2data}});var Hbe=vH();Object.defineProperty(ti,"p2ms",{enumerable:!0,get:function(){return Hbe.p2ms}});var qbe=EH();Object.defineProperty(ti,"p2pk",{enumerable:!0,get:function(){return qbe.p2pk}});var Wbe=FH();Object.defineProperty(ti,"p2pkh",{enumerable:!0,get:function(){return Wbe.p2pkh}});var jbe=WH();Object.defineProperty(ti,"p2sh",{enumerable:!0,get:function(){return jbe.p2sh}});var zbe=zH();Object.defineProperty(ti,"p2wpkh",{enumerable:!0,get:function(){return zbe.p2wpkh}});var Gbe=YH();Object.defineProperty(ti,"p2wsh",{enumerable:!0,get:function(){return Gbe.p2wsh}});var $be=cq();Object.defineProperty(ti,"p2tr",{enumerable:!0,get:function(){return $be.p2tr}})});var FP=z(Co=>{"use strict";d();h();Object.defineProperty(Co,"__esModule",{value:!0});Co.toOutputScript=Co.fromOutputScript=Co.toBech32=Co.toBase58Check=Co.fromBech32=Co.fromBase58Check=void 0;var uq=Us(),Nc=xy(),fq=ao(),YA=gi(),wy=ph(),lq=ny(),dq=40,hq=2,pq=16,yq=2,mq=80,gq="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Ybe(e,t){let r=e.slice(2);if(r.length<hq||r.length>dq)throw new TypeError("Invalid program length for segwit address");let n=e[0]-mq;if(n<yq||n>pq)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(gq),wq(r,n,t.bech32)}function bq(e){let t=Buffer.from(lq.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");let r=t.readUInt8(0),n=t.slice(1);return{version:r,hash:n}}Co.fromBase58Check=bq;function xq(e){let t,r;try{t=wy.bech32.decode(e)}catch{}if(t){if(r=t.words[0],r!==0)throw new TypeError(e+" uses wrong encoding")}else if(t=wy.bech32m.decode(e),r=t.words[0],r===0)throw new TypeError(e+" uses wrong encoding");let n=wy.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:Buffer.from(n)}}Co.fromBech32=xq;function Zbe(e,t){(0,YA.typeforce)((0,YA.tuple)(YA.Hash160bit,YA.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),lq.encode(r)}Co.toBase58Check=Zbe;function wq(e,t,r){let n=wy.bech32.toWords(e);return n.unshift(t),t===0?wy.bech32.encode(r,n):wy.bech32m.encode(r,n)}Co.toBech32=wq;function Jbe(e,t){t=t||uq.bitcoin;try{return Nc.p2pkh({output:e,network:t}).address}catch{}try{return Nc.p2sh({output:e,network:t}).address}catch{}try{return Nc.p2wpkh({output:e,network:t}).address}catch{}try{return Nc.p2wsh({output:e,network:t}).address}catch{}try{return Nc.p2tr({output:e,network:t}).address}catch{}try{return Ybe(e,t)}catch{}throw new Error(fq.toASM(e)+" has no matching Address")}Co.fromOutputScript=Jbe;function Xbe(e,t){t=t||uq.bitcoin;let r,n;try{r=bq(e)}catch{}if(r){if(r.version===t.pubKeyHash)return Nc.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return Nc.p2sh({hash:r.hash}).output}else{try{n=xq(e)}catch{}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Nc.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Nc.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Nc.p2tr({pubkey:n.data}).output}else if(n.version>=yq&&n.version<=pq&&n.data.length>=hq&&n.data.length<=dq)return console.warn(gq),fq.compile([n.version+mq,n.data])}}throw new Error(e+" has no matching Script")}Co.toOutputScript=Xbe});var Sq=z(ZA=>{"use strict";d();h();Object.defineProperty(ZA,"__esModule",{value:!0});ZA.fastMerkleRoot=void 0;function Qbe(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if(typeof t!="function")throw TypeError("Expected digest Function");let r=e.length,n=e.concat();for(;r>1;){let i=0;for(let o=0;o<r;o+=2,++i){let s=n[o],a=o+1===r?s:n[o+1],c=Buffer.concat([s,a]);n[i]=t(c)}r=i}return n[0]}ZA.fastMerkleRoot=Qbe});var Sy=z(JA=>{"use strict";d();h();Object.defineProperty(JA,"__esModule",{value:!0});JA.Transaction=void 0;var{Buffer:Vi}=Pn(),vn=dx(),lo=_c(),vq=ao(),exe=ao(),Xt=gi(),{typeforce:Oc}=Xt;function Dc(e){let t=e.length;return vn.varuint.encodingLength(t)+t}function txe(e){let t=e.length;return vn.varuint.encodingLength(t)+e.reduce((r,n)=>r+Dc(n),0)}var Vl=Vi.allocUnsafe(0),Aq=[],HP=Vi.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),Eq=Vi.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),rxe=Vi.from("ffffffffffffffff","hex"),nxe={script:Vl,valueBuffer:rxe};function ixe(e){return e.value!==void 0}var es=class e{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(t,r){let n=new vn.BufferReader(t),i=new e;i.version=n.readInt32();let o=n.readUInt8(),s=n.readUInt8(),a=!1;o===e.ADVANCED_TRANSACTION_MARKER&&s===e.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let c=n.readVarInt();for(let l=0;l<c;++l)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Aq});let u=n.readVarInt();for(let l=0;l<u;++l)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let l=0;l<c;++l)i.ins[l].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==t.length)throw new Error("Transaction has unexpected data");return i}static fromHex(t){return e.fromBuffer(Vi.from(t,"hex"),!1)}static isCoinbaseHash(t){Oc(Xt.Hash256bit,t);for(let r=0;r<32;++r)if(t[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&e.isCoinbaseHash(this.ins[0].hash)}addInput(t,r,n,i){return Oc(Xt.tuple(Xt.Hash256bit,Xt.UInt32,Xt.maybe(Xt.UInt32),Xt.maybe(Xt.Buffer)),arguments),Xt.Null(n)&&(n=e.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:r,script:i||Vl,sequence:n,witness:Aq})-1}addOutput(t,r){return Oc(Xt.tuple(Xt.Buffer,Xt.Satoshi),arguments),this.outs.push({script:t,value:r})-1}hasWitnesses(){return this.ins.some(t=>t.witness.length!==0)}weight(){let t=this.byteLength(!1),r=this.byteLength(!0);return t*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){let r=t&&this.hasWitnesses();return(r?10:8)+vn.varuint.encodingLength(this.ins.length)+vn.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Dc(i.script),0)+this.outs.reduce((n,i)=>n+8+Dc(i.script),0)+(r?this.ins.reduce((n,i)=>n+txe(i.witness),0):0)}clone(){let t=new e;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),t.outs=this.outs.map(r=>({script:r.script,value:r.value})),t}hashForSignature(t,r,n){if(Oc(Xt.tuple(Xt.UInt32,Xt.Buffer,Xt.Number),arguments),t>=this.ins.length)return Eq;let i=vq.compile(vq.decompile(r).filter(a=>a!==exe.OPS.OP_CODESEPARATOR)),o=this.clone();if((n&31)===e.SIGHASH_NONE)o.outs=[],o.ins.forEach((a,c)=>{c!==t&&(a.sequence=0)});else if((n&31)===e.SIGHASH_SINGLE){if(t>=this.outs.length)return Eq;o.outs.length=t+1;for(let a=0;a<t;a++)o.outs[a]=nxe;o.ins.forEach((a,c)=>{c!==t&&(a.sequence=0)})}n&e.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[t]],o.ins[0].script=i):(o.ins.forEach(a=>{a.script=Vl}),o.ins[t].script=i);let s=Vi.allocUnsafe(o.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),o.__toBuffer(s,0,!1),lo.hash256(s)}hashForWitnessV1(t,r,n,i,o,s){if(Oc(Xt.tuple(Xt.UInt32,Oc.arrayOf(Xt.Buffer),Oc.arrayOf(Xt.Satoshi),Xt.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let a=i===e.SIGHASH_DEFAULT?e.SIGHASH_ALL:i&e.SIGHASH_OUTPUT_MASK,u=(i&e.SIGHASH_INPUT_MASK)===e.SIGHASH_ANYONECANPAY,l=a===e.SIGHASH_NONE,f=a===e.SIGHASH_SINGLE,m=Vl,b=Vl,w=Vl,S=Vl,P=Vl;if(!u){let R=vn.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(L=>{R.writeSlice(L.hash),R.writeUInt32(L.index)}),m=lo.sha256(R.end()),R=vn.BufferWriter.withCapacity(8*this.ins.length),n.forEach(L=>R.writeUInt64(L)),b=lo.sha256(R.end()),R=vn.BufferWriter.withCapacity(r.map(Dc).reduce((L,W)=>L+W)),r.forEach(L=>R.writeVarSlice(L)),w=lo.sha256(R.end()),R=vn.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(L=>R.writeUInt32(L.sequence)),S=lo.sha256(R.end())}if(l||f){if(f&&t<this.outs.length){let R=this.outs[t],L=vn.BufferWriter.withCapacity(8+Dc(R.script));L.writeUInt64(R.value),L.writeVarSlice(R.script),P=lo.sha256(L.end())}}else{let R=this.outs.map(W=>8+Dc(W.script)).reduce((W,G)=>W+G),L=vn.BufferWriter.withCapacity(R);this.outs.forEach(W=>{L.writeUInt64(W.value),L.writeVarSlice(W.script)}),P=lo.sha256(L.end())}let M=(o?2:0)+(s?1:0),D=174-(u?49:0)-(l?32:0)+(s?32:0)+(o?37:0),C=vn.BufferWriter.withCapacity(D);if(C.writeUInt8(i),C.writeInt32(this.version),C.writeUInt32(this.locktime),C.writeSlice(m),C.writeSlice(b),C.writeSlice(w),C.writeSlice(S),l||f||C.writeSlice(P),C.writeUInt8(M),u){let R=this.ins[t];C.writeSlice(R.hash),C.writeUInt32(R.index),C.writeUInt64(n[t]),C.writeVarSlice(r[t]),C.writeUInt32(R.sequence)}else C.writeUInt32(t);if(s){let R=vn.BufferWriter.withCapacity(Dc(s));R.writeVarSlice(s),C.writeSlice(lo.sha256(R.end()))}return f&&C.writeSlice(P),o&&(C.writeSlice(o),C.writeUInt8(0),C.writeUInt32(4294967295)),lo.taggedHash("TapSighash",Vi.concat([Vi.from([0]),C.end()]))}hashForWitnessV0(t,r,n,i){Oc(Xt.tuple(Xt.UInt32,Xt.Buffer,Xt.Satoshi,Xt.UInt32),arguments);let o=Vi.from([]),s,a=HP,c=HP,u=HP;if(i&e.SIGHASH_ANYONECANPAY||(o=Vi.allocUnsafe(36*this.ins.length),s=new vn.BufferWriter(o,0),this.ins.forEach(f=>{s.writeSlice(f.hash),s.writeUInt32(f.index)}),c=lo.hash256(o)),!(i&e.SIGHASH_ANYONECANPAY)&&(i&31)!==e.SIGHASH_SINGLE&&(i&31)!==e.SIGHASH_NONE&&(o=Vi.allocUnsafe(4*this.ins.length),s=new vn.BufferWriter(o,0),this.ins.forEach(f=>{s.writeUInt32(f.sequence)}),u=lo.hash256(o)),(i&31)!==e.SIGHASH_SINGLE&&(i&31)!==e.SIGHASH_NONE){let f=this.outs.reduce((m,b)=>m+8+Dc(b.script),0);o=Vi.allocUnsafe(f),s=new vn.BufferWriter(o,0),this.outs.forEach(m=>{s.writeUInt64(m.value),s.writeVarSlice(m.script)}),a=lo.hash256(o)}else if((i&31)===e.SIGHASH_SINGLE&&t<this.outs.length){let f=this.outs[t];o=Vi.allocUnsafe(8+Dc(f.script)),s=new vn.BufferWriter(o,0),s.writeUInt64(f.value),s.writeVarSlice(f.script),a=lo.hash256(o)}o=Vi.allocUnsafe(156+Dc(r)),s=new vn.BufferWriter(o,0);let l=this.ins[t];return s.writeInt32(this.version),s.writeSlice(c),s.writeSlice(u),s.writeSlice(l.hash),s.writeUInt32(l.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(l.sequence),s.writeSlice(a),s.writeUInt32(this.locktime),s.writeUInt32(i),lo.hash256(o)}getHash(t){return t&&this.isCoinbase()?Vi.alloc(32,0):lo.hash256(this.__toBuffer(void 0,void 0,t))}getId(){return(0,vn.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(t,r){return this.__toBuffer(t,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(t,r){Oc(Xt.tuple(Xt.Number,Xt.Buffer),arguments),this.ins[t].script=r}setWitness(t,r){Oc(Xt.tuple(Xt.Number,[Xt.Buffer]),arguments),this.ins[t].witness=r}__toBuffer(t,r,n=!1){t||(t=Vi.allocUnsafe(this.byteLength(n)));let i=new vn.BufferWriter(t,r||0);i.writeInt32(this.version);let o=n&&this.hasWitnesses();return o&&(i.writeUInt8(e.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(e.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{ixe(s)?i.writeUInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),o&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?t.slice(r,i.offset):t}};JA.Transaction=es;es.DEFAULT_SEQUENCE=4294967295;es.SIGHASH_DEFAULT=0;es.SIGHASH_ALL=1;es.SIGHASH_NONE=2;es.SIGHASH_SINGLE=3;es.SIGHASH_ANYONECANPAY=128;es.SIGHASH_OUTPUT_MASK=3;es.SIGHASH_INPUT_MASK=128;es.ADVANCED_TRANSACTION_MARKER=0;es.ADVANCED_TRANSACTION_FLAG=1});var Pq=z(XA=>{"use strict";d();h();Object.defineProperty(XA,"__esModule",{value:!0});XA.Block=void 0;var vh=dx(),qP=_c(),oxe=Sq(),sxe=Sy(),Tq=gi(),{typeforce:axe}=Tq,WP=new TypeError("Cannot compute merkle root for zero transactions"),Iq=new TypeError("Cannot compute witness commit for non-segwit block"),jP=class e{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new vh.BufferReader(t),n=new e;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),t.length===80)return n;let i=()=>{let a=sxe.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=a.byteLength(),a},o=r.readVarInt();n.transactions=[];for(let a=0;a<o;++a){let c=i();n.transactions.push(c)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(t){return e.fromBuffer(Buffer.from(t,"hex"))}static calculateTarget(t){let r=((t&4278190080)>>24)-3,n=t&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(t,r){if(axe([{getHash:Tq.Function}],t),t.length===0)throw WP;if(r&&!kq(t))throw Iq;let n=t.map(o=>o.getHash(r)),i=(0,oxe.fastMerkleRoot)(n,qP.hash256);return r?qP.hash256(Buffer.concat([i,t[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!kq(this.transactions))return null;let t=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(t.length===0)return null;let r=t[t.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return cxe(this.transactions)}weight(){let t=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return t*3+r}byteLength(t,r=!0){return t||!this.transactions?80:80+vh.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return qP.hash256(this.toBuffer(!0))}getId(){return(0,vh.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let t=new Date(0);return t.setUTCSeconds(this.timestamp),t}toBuffer(t){let r=Buffer.allocUnsafe(this.byteLength(t)),n=new vh.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),t||!this.transactions||(vh.varuint.encode(this.transactions.length,r,n.offset),n.offset+=vh.varuint.encode.bytes,this.transactions.forEach(i=>{let o=i.byteLength();i.toBuffer(r,n.offset),n.offset+=o})),r}toHex(t){return this.toBuffer(t).toString("hex")}checkTxRoots(){let t=this.hasWitnessCommit();return!t&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(t?this.__checkWitnessCommit():!0)}checkProofOfWork(){let t=(0,vh.reverseBuffer)(this.getHash()),r=e.calculateTarget(this.bits);return t.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw WP;let t=e.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(t)===0}__checkWitnessCommit(){if(!this.transactions)throw WP;if(!this.hasWitnessCommit())throw Iq;let t=e.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(t)===0}};XA.Block=jP;function kq(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}function cxe(e){return e instanceof Array&&e.some(t=>typeof t=="object"&&t.ins instanceof Array&&t.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var ri=z(Da=>{"use strict";d();h();Object.defineProperty(Da,"__esModule",{value:!0});var uxe;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(uxe=Da.GlobalTypes||(Da.GlobalTypes={}));Da.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var fxe;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(fxe=Da.InputTypes||(Da.InputTypes={}));Da.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var lxe;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(lxe=Da.OutputTypes||(Da.OutputTypes={}));Da.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var _q=z(Ah=>{"use strict";d();h();Object.defineProperty(Ah,"__esModule",{value:!0});var Bq=ri(),dxe=e=>[...Array(e).keys()];function hxe(e){if(e.key[0]!==Bq.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(let n of dxe(e.value.length/4-1)){let i=e.value.readUInt32LE(n*4+4),o=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(o?"'":"")}return r}Ah.decode=hxe;function pxe(e){let t=Buffer.from([Bq.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([t,e.extendedPubkey]),n=e.path.split("/"),i=Buffer.allocUnsafe(n.length*4);e.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach(s=>{let a=s.slice(-1)==="'",c=2147483647&parseInt(a?s.slice(0,-1):s,10);a&&(c+=2147483648),i.writeUInt32LE(c,o),o+=4}),{key:r,value:i}}Ah.encode=pxe;Ah.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function yxe(e){let t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return Buffer.isBuffer(t)&&t.length===78&&[2,3].indexOf(t[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}Ah.check=yxe;function mxe(e,t,r){let n=t.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(i=>i.extendedPubkey.equals(t.extendedPubkey)).length===0)}Ah.canAddToArray=mxe});var Cq=z(zP=>{"use strict";d();h();Object.defineProperty(zP,"__esModule",{value:!0});var gxe=ri();function bxe(e){return{key:Buffer.from([gxe.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}zP.encode=bxe});var Nq=z(Eh=>{"use strict";d();h();Object.defineProperty(Eh,"__esModule",{value:!0});var Mq=ri();function xxe(e){if(e.key[0]!==Mq.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value}Eh.decode=xxe;function wxe(e){return{key:Buffer.from([Mq.InputTypes.FINAL_SCRIPTSIG]),value:e}}Eh.encode=wxe;Eh.expected="Buffer";function Sxe(e){return Buffer.isBuffer(e)}Eh.check=Sxe;function vxe(e,t){return!!e&&!!t&&e.finalScriptSig===void 0}Eh.canAdd=vxe});var Dq=z(Ih=>{"use strict";d();h();Object.defineProperty(Ih,"__esModule",{value:!0});var Oq=ri();function Axe(e){if(e.key[0]!==Oq.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value}Ih.decode=Axe;function Exe(e){return{key:Buffer.from([Oq.InputTypes.FINAL_SCRIPTWITNESS]),value:e}}Ih.encode=Exe;Ih.expected="Buffer";function Ixe(e){return Buffer.isBuffer(e)}Ih.check=Ixe;function kxe(e,t){return!!e&&!!t&&e.finalScriptWitness===void 0}Ih.canAdd=kxe});var Rq=z(kh=>{"use strict";d();h();Object.defineProperty(kh,"__esModule",{value:!0});var Uq=ri();function Txe(e){if(e.key[0]!==Uq.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value}kh.decode=Txe;function Pxe(e){return{key:Buffer.from([Uq.InputTypes.NON_WITNESS_UTXO]),value:e}}kh.encode=Pxe;kh.expected="Buffer";function Bxe(e){return Buffer.isBuffer(e)}kh.check=Bxe;function _xe(e,t){return!!e&&!!t&&e.nonWitnessUtxo===void 0}kh.canAdd=_xe});var Kq=z(Th=>{"use strict";d();h();Object.defineProperty(Th,"__esModule",{value:!0});var Lq=ri();function Cxe(e){if(e.key[0]!==Lq.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}}Th.decode=Cxe;function Mxe(e){let t=Buffer.from([Lq.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([t,e.pubkey]),value:e.signature}}Th.encode=Mxe;Th.expected="{ pubkey: Buffer; signature: Buffer; }";function Nxe(e){return Buffer.isBuffer(e.pubkey)&&Buffer.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&Oxe(e.signature)}Th.check=Nxe;function Oxe(e){if(!Buffer.isBuffer(e)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;let t=e[3];if(t>33||t<1||e[3+t+1]!==2)return!1;let r=e[3+t+2];return!(r>33||r<1||e.length!==3+t+2+r+2)}function Dxe(e,t,r){let n=t.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(i=>i.pubkey.equals(t.pubkey)).length===0)}Th.canAddToArray=Dxe});var Fq=z(Ph=>{"use strict";d();h();Object.defineProperty(Ph,"__esModule",{value:!0});var Vq=ri();function Uxe(e){if(e.key[0]!==Vq.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")}Ph.decode=Uxe;function Rxe(e){return{key:Buffer.from([Vq.InputTypes.POR_COMMITMENT]),value:Buffer.from(e,"utf8")}}Ph.encode=Rxe;Ph.expected="string";function Lxe(e){return typeof e=="string"}Ph.check=Lxe;function Kxe(e,t){return!!e&&!!t&&e.porCommitment===void 0}Ph.canAdd=Kxe});var qq=z(Bh=>{"use strict";d();h();Object.defineProperty(Bh,"__esModule",{value:!0});var Hq=ri();function Vxe(e){if(e.key[0]!==Hq.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)}Bh.decode=Vxe;function Fxe(e){let t=Buffer.from([Hq.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}}Bh.encode=Fxe;Bh.expected="number";function Hxe(e){return typeof e=="number"}Bh.check=Hxe;function qxe(e,t){return!!e&&!!t&&e.sighashType===void 0}Bh.canAdd=qxe});var zq=z(_h=>{"use strict";d();h();Object.defineProperty(_h,"__esModule",{value:!0});var Wq=ri();function Wxe(e){if(e.key[0]!==Wq.InputTypes.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!jq(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}_h.decode=Wxe;function jxe(e){return{key:Buffer.from([Wq.InputTypes.TAP_KEY_SIG]),value:e}}_h.encode=jxe;_h.expected="Buffer";function jq(e){return Buffer.isBuffer(e)&&(e.length===64||e.length===65)}_h.check=jq;function zxe(e,t){return!!e&&!!t&&e.tapKeySig===void 0}_h.canAdd=zxe});var $q=z(Ch=>{"use strict";d();h();Object.defineProperty(Ch,"__esModule",{value:!0});var Gq=ri();function Gxe(e){if(e.key[0]!==Gq.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));let t=e.value[e.value.length-1];if((e.key[1]&254)!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));let r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}}Ch.decode=Gxe;function $xe(e){let t=Buffer.from([Gq.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([e.leafVersion]);return{key:Buffer.concat([t,e.controlBlock]),value:Buffer.concat([e.script,r])}}Ch.encode=$xe;Ch.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Yxe(e){return Buffer.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&Buffer.isBuffer(e.script)}Ch.check=Yxe;function Zxe(e,t,r){let n=t.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(i=>i.controlBlock.equals(t.controlBlock)).length===0)}Ch.canAddToArray=Zxe});var Jq=z(Mh=>{"use strict";d();h();Object.defineProperty(Mh,"__esModule",{value:!0});var Yq=ri();function Jxe(e){if(e.key[0]!==Yq.InputTypes.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!Zq(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}Mh.decode=Jxe;function Xxe(e){return{key:Buffer.from([Yq.InputTypes.TAP_MERKLE_ROOT]),value:e}}Mh.encode=Xxe;Mh.expected="Buffer";function Zq(e){return Buffer.isBuffer(e)&&e.length===32}Mh.check=Zq;function Qxe(e,t){return!!e&&!!t&&e.tapMerkleRoot===void 0}Mh.canAdd=Qxe});var Qq=z(Nh=>{"use strict";d();h();Object.defineProperty(Nh,"__esModule",{value:!0});var Xq=ri();function ewe(e){if(e.key[0]!==Xq.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));let t=e.key.slice(1,33),r=e.key.slice(33);return{pubkey:t,leafHash:r,signature:e.value}}Nh.decode=ewe;function twe(e){let t=Buffer.from([Xq.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([t,e.pubkey,e.leafHash]),value:e.signature}}Nh.encode=twe;Nh.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function rwe(e){return Buffer.isBuffer(e.pubkey)&&Buffer.isBuffer(e.leafHash)&&Buffer.isBuffer(e.signature)&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}Nh.check=rwe;function nwe(e,t,r){let n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(i=>i.pubkey.equals(t.pubkey)&&i.leafHash.equals(t.leafHash)).length===0)}Nh.canAddToArray=nwe});var Fl=z(yx=>{"use strict";d();h();Object.defineProperty(yx,"__esModule",{value:!0});var iwe=9007199254740991;function GP(e){if(e<0||e>iwe||e%1!==0)throw new RangeError("value out of range")}function hx(e,t,r){if(GP(e),t||(t=Buffer.allocUnsafe(eW(e))),!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),Object.assign(hx,{bytes:1})):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),Object.assign(hx,{bytes:3})):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),Object.assign(hx,{bytes:5})):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),Object.assign(hx,{bytes:9})),t}yx.encode=hx;function px(e,t){if(!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");t||(t=0);let r=e.readUInt8(t);if(r<253)return Object.assign(px,{bytes:1}),r;if(r===253)return Object.assign(px,{bytes:3}),e.readUInt16LE(t+1);if(r===254)return Object.assign(px,{bytes:5}),e.readUInt32LE(t+1);{Object.assign(px,{bytes:9});let n=e.readUInt32LE(t+1),o=e.readUInt32LE(t+5)*4294967296+n;return GP(o),o}}yx.decode=px;function eW(e){return GP(e),e<253?1:e<=65535?3:e<=4294967295?5:9}yx.encodingLength=eW});var eE=z(Hl=>{"use strict";d();h();Object.defineProperty(Hl,"__esModule",{value:!0});var QA=Fl();Hl.range=e=>[...Array(e).keys()];function owe(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}Hl.reverseBuffer=owe;function swe(e){let t=e.map(tW);return t.push(Buffer.from([0])),Buffer.concat(t)}Hl.keyValsToBuffer=swe;function tW(e){let t=e.key.length,r=e.value.length,n=QA.encodingLength(t),i=QA.encodingLength(r),o=Buffer.allocUnsafe(n+t+i+r);return QA.encode(t,o,0),e.key.copy(o,n),QA.encode(r,o,n+t),e.value.copy(o,n+t+i),o}Hl.keyValToBuffer=tW;function rW(e,t){if(typeof e!="number")throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function awe(e,t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return n*=4294967296,rW(n+r,9007199254740991),n+r}Hl.readUInt64LE=awe;function cwe(e,t,r){return rW(t,9007199254740991),e.writeInt32LE(t&-1,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}Hl.writeUInt64LE=cwe});var oW=z(Oh=>{"use strict";d();h();Object.defineProperty(Oh,"__esModule",{value:!0});var nW=ri(),iW=eE(),tE=Fl();function uwe(e){if(e.key[0]!==nW.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));let t=iW.readUInt64LE(e.value,0),r=8,n=tE.decode(e.value,r);r+=tE.encodingLength(n);let i=e.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}}Oh.decode=uwe;function fwe(e){let{script:t,value:r}=e,n=tE.encodingLength(t.length),i=Buffer.allocUnsafe(8+n+t.length);return iW.writeUInt64LE(i,r,0),tE.encode(t.length,i,8),t.copy(i,8+n),{key:Buffer.from([nW.InputTypes.WITNESS_UTXO]),value:i}}Oh.encode=fwe;Oh.expected="{ script: Buffer; value: number; }";function lwe(e){return Buffer.isBuffer(e.script)&&typeof e.value=="number"}Oh.check=lwe;function dwe(e,t){return!!e&&!!t&&e.witnessUtxo===void 0}Oh.canAdd=dwe});var aW=z(Dh=>{"use strict";d();h();Object.defineProperty(Dh,"__esModule",{value:!0});var sW=ri(),$P=Fl();function hwe(e){if(e.key[0]!==sW.OutputTypes.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0,r=[];for(;t<e.value.length;){let n=e.value[t++],i=e.value[t++],o=$P.decode(e.value,t);t+=$P.encodingLength(o),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+o)}),t+=o}return{leaves:r}}Dh.decode=hwe;function pwe(e){let t=Buffer.from([sW.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),$P.encode(n.script.length),n.script]));return{key:t,value:Buffer.concat(r)}}Dh.encode=pwe;Dh.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function ywe(e){return Array.isArray(e.leaves)&&e.leaves.every(t=>t.depth>=0&&t.depth<=128&&(t.leafVersion&254)===t.leafVersion&&Buffer.isBuffer(t.script))}Dh.check=ywe;function mwe(e,t){return!!e&&!!t&&e.tapTree===void 0}Dh.canAdd=mwe});var ZP=z(YP=>{"use strict";d();h();Object.defineProperty(YP,"__esModule",{value:!0});var gwe=e=>[...Array(e).keys()],bwe=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function xwe(e,t=bwe){function r(a){if(a.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let c=a.key.slice(1);if(!t(c))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let u={masterFingerprint:a.value.slice(0,4),pubkey:c,path:"m"};for(let l of gwe(a.value.length/4-1)){let f=a.value.readUInt32LE(l*4+4),m=!!(f&2147483648),b=f&2147483647;u.path+="/"+b.toString(10)+(m?"'":"")}return u}function n(a){let c=Buffer.from([e]),u=Buffer.concat([c,a.pubkey]),l=a.path.split("/"),f=Buffer.allocUnsafe(l.length*4);a.masterFingerprint.copy(f,0);let m=4;return l.slice(1).forEach(b=>{let w=b.slice(-1)==="'",S=2147483647&parseInt(w?b.slice(0,-1):b,10);w&&(S+=2147483648),f.writeUInt32LE(S,m),m+=4}),{key:u,value:f}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(a){return Buffer.isBuffer(a.pubkey)&&Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&t(a.pubkey)&&a.masterFingerprint.length===4}function s(a,c,u){let l=c.pubkey.toString("hex");return u.has(l)?!1:(u.add(l),a.filter(f=>f.pubkey.equals(c.pubkey)).length===0)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:s}}YP.makeConverter=xwe});var cW=z(JP=>{"use strict";d();h();Object.defineProperty(JP,"__esModule",{value:!0});function wwe(e){return t;function t(r){let n;if(e.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}JP.makeChecker=wwe});var uW=z(XP=>{"use strict";d();h();Object.defineProperty(XP,"__esModule",{value:!0});function Swe(e){function t(s){if(s.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([e]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,a){return!!s&&!!a&&s.redeemScript===void 0}return{decode:t,encode:r,check:i,expected:n,canAdd:o}}XP.makeConverter=Swe});var fW=z(QP=>{"use strict";d();h();Object.defineProperty(QP,"__esModule",{value:!0});var rE=Fl(),vwe=ZP(),Awe=e=>e.length===32;function Ewe(e){let t=vwe.makeConverter(e,Awe);function r(s){let a=rE.decode(s.value),c=rE.encodingLength(a),u=t.decode({key:s.key,value:s.value.slice(c+a*32)}),l=new Array(a);for(let f=0,m=c;f<a;f++,m+=32)l[f]=s.value.slice(m,m+32);return Object.assign({},u,{leafHashes:l})}function n(s){let a=t.encode(s),c=rE.encodingLength(s.leafHashes.length),u=Buffer.allocUnsafe(c);rE.encode(s.leafHashes.length,u);let l=Buffer.concat([u,...s.leafHashes,a.value]);return Object.assign({},a,{value:l})}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(a=>Buffer.isBuffer(a)&&a.length===32)&&t.check(s)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:t.canAddToArray}}QP.makeConverter=Ewe});var lW=z(eB=>{"use strict";d();h();Object.defineProperty(eB,"__esModule",{value:!0});function Iwe(e){function t(s){if(s.key[0]!==e||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([e]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)&&s.length===32}function o(s,a){return!!s&&!!a&&s.tapInternalKey===void 0}return{decode:t,encode:r,check:i,expected:n,canAdd:o}}eB.makeConverter=Iwe});var dW=z(tB=>{"use strict";d();h();Object.defineProperty(tB,"__esModule",{value:!0});function kwe(e){function t(s){if(s.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([e]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,a){return!!s&&!!a&&s.witnessScript===void 0}return{decode:t,encode:r,check:i,expected:n,canAdd:o}}tB.makeConverter=kwe});var nE=z(mx=>{"use strict";d();h();Object.defineProperty(mx,"__esModule",{value:!0});var ts=ri(),Twe=_q(),Pwe=Cq(),Bwe=Nq(),_we=Dq(),Cwe=Rq(),Mwe=Kq(),Nwe=Fq(),Owe=qq(),Dwe=zq(),Uwe=$q(),Rwe=Jq(),Lwe=Qq(),Kwe=oW(),Vwe=aW(),hW=ZP(),rB=cW(),pW=uW(),yW=fW(),mW=lW(),gW=dW(),Fwe={unsignedTx:Pwe,globalXpub:Twe,checkPubkey:rB.makeChecker([])};mx.globals=Fwe;var Hwe={nonWitnessUtxo:Cwe,partialSig:Mwe,sighashType:Owe,finalScriptSig:Bwe,finalScriptWitness:_we,porCommitment:Nwe,witnessUtxo:Kwe,bip32Derivation:hW.makeConverter(ts.InputTypes.BIP32_DERIVATION),redeemScript:pW.makeConverter(ts.InputTypes.REDEEM_SCRIPT),witnessScript:gW.makeConverter(ts.InputTypes.WITNESS_SCRIPT),checkPubkey:rB.makeChecker([ts.InputTypes.PARTIAL_SIG,ts.InputTypes.BIP32_DERIVATION]),tapKeySig:Dwe,tapScriptSig:Lwe,tapLeafScript:Uwe,tapBip32Derivation:yW.makeConverter(ts.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:mW.makeConverter(ts.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:Rwe};mx.inputs=Hwe;var qwe={bip32Derivation:hW.makeConverter(ts.OutputTypes.BIP32_DERIVATION),redeemScript:pW.makeConverter(ts.OutputTypes.REDEEM_SCRIPT),witnessScript:gW.makeConverter(ts.OutputTypes.WITNESS_SCRIPT),checkPubkey:rB.makeChecker([ts.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:yW.makeConverter(ts.OutputTypes.TAP_BIP32_DERIVATION),tapTree:Vwe,tapInternalKey:mW.makeConverter(ts.OutputTypes.TAP_INTERNAL_KEY)};mx.outputs=qwe});var wW=z(gx=>{"use strict";d();h();Object.defineProperty(gx,"__esModule",{value:!0});var Ur=nE(),iE=eE(),bW=Fl(),St=ri();function Wwe(e,t){let r=0;function n(){let P=bW.decode(e,r);r+=bW.encodingLength(P);let M=e.slice(r,r+P);return r+=P,M}function i(){let P=e.readUInt32BE(r);return r+=4,P}function o(){let P=e.readUInt8(r);return r+=1,P}function s(){let P=n(),M=n();return{key:P,value:M}}function a(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");let P=e.readUInt8(r)===0;return P&&r++,P}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let c=[],u={};for(;!a();){let P=s(),M=P.key.toString("hex");if(u[M])throw new Error("Format Error: Keys must be unique for global keymap: key "+M);u[M]=1,c.push(P)}let l=c.filter(P=>P.key[0]===St.GlobalTypes.UNSIGNED_TX);if(l.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let f=t(l[0].value),{inputCount:m,outputCount:b}=f.getInputOutputCounts(),w=[],S=[];for(let P of iE.range(m)){let M={},D=[];for(;!a();){let C=s(),R=C.key.toString("hex");if(M[R])throw new Error("Format Error: Keys must be unique for each input: input index "+P+" key "+R);M[R]=1,D.push(C)}w.push(D)}for(let P of iE.range(b)){let M={},D=[];for(;!a();){let C=s(),R=C.key.toString("hex");if(M[R])throw new Error("Format Error: Keys must be unique for each output: output index "+P+" key "+R);M[R]=1,D.push(C)}S.push(D)}return xW(f,{globalMapKeyVals:c,inputKeyVals:w,outputKeyVals:S})}gx.psbtFromBuffer=Wwe;function bi(e,t,r){if(!t.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}gx.checkKeyBuffer=bi;function xW(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:e},o=0;for(let l of t)switch(l.key[0]){case St.GlobalTypes.UNSIGNED_TX:if(bi("global",l.key,St.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case St.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(Ur.globals.globalXpub.decode(l));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(l)}let s=r.length,a=n.length,c=[],u=[];for(let l of iE.range(s)){let f={};for(let m of r[l])switch(Ur.inputs.checkPubkey(m),m.key[0]){case St.InputTypes.NON_WITNESS_UTXO:if(bi("input",m.key,St.InputTypes.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=Ur.inputs.nonWitnessUtxo.decode(m);break;case St.InputTypes.WITNESS_UTXO:if(bi("input",m.key,St.InputTypes.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=Ur.inputs.witnessUtxo.decode(m);break;case St.InputTypes.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(Ur.inputs.partialSig.decode(m));break;case St.InputTypes.SIGHASH_TYPE:if(bi("input",m.key,St.InputTypes.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=Ur.inputs.sighashType.decode(m);break;case St.InputTypes.REDEEM_SCRIPT:if(bi("input",m.key,St.InputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=Ur.inputs.redeemScript.decode(m);break;case St.InputTypes.WITNESS_SCRIPT:if(bi("input",m.key,St.InputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=Ur.inputs.witnessScript.decode(m);break;case St.InputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Ur.inputs.bip32Derivation.decode(m));break;case St.InputTypes.FINAL_SCRIPTSIG:bi("input",m.key,St.InputTypes.FINAL_SCRIPTSIG),f.finalScriptSig=Ur.inputs.finalScriptSig.decode(m);break;case St.InputTypes.FINAL_SCRIPTWITNESS:bi("input",m.key,St.InputTypes.FINAL_SCRIPTWITNESS),f.finalScriptWitness=Ur.inputs.finalScriptWitness.decode(m);break;case St.InputTypes.POR_COMMITMENT:bi("input",m.key,St.InputTypes.POR_COMMITMENT),f.porCommitment=Ur.inputs.porCommitment.decode(m);break;case St.InputTypes.TAP_KEY_SIG:bi("input",m.key,St.InputTypes.TAP_KEY_SIG),f.tapKeySig=Ur.inputs.tapKeySig.decode(m);break;case St.InputTypes.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(Ur.inputs.tapScriptSig.decode(m));break;case St.InputTypes.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(Ur.inputs.tapLeafScript.decode(m));break;case St.InputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Ur.inputs.tapBip32Derivation.decode(m));break;case St.InputTypes.TAP_INTERNAL_KEY:bi("input",m.key,St.InputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Ur.inputs.tapInternalKey.decode(m);break;case St.InputTypes.TAP_MERKLE_ROOT:bi("input",m.key,St.InputTypes.TAP_MERKLE_ROOT),f.tapMerkleRoot=Ur.inputs.tapMerkleRoot.decode(m);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(m)}c.push(f)}for(let l of iE.range(a)){let f={};for(let m of n[l])switch(Ur.outputs.checkPubkey(m),m.key[0]){case St.OutputTypes.REDEEM_SCRIPT:if(bi("output",m.key,St.OutputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=Ur.outputs.redeemScript.decode(m);break;case St.OutputTypes.WITNESS_SCRIPT:if(bi("output",m.key,St.OutputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=Ur.outputs.witnessScript.decode(m);break;case St.OutputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Ur.outputs.bip32Derivation.decode(m));break;case St.OutputTypes.TAP_INTERNAL_KEY:bi("output",m.key,St.OutputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Ur.outputs.tapInternalKey.decode(m);break;case St.OutputTypes.TAP_TREE:bi("output",m.key,St.OutputTypes.TAP_TREE),f.tapTree=Ur.outputs.tapTree.decode(m);break;case St.OutputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Ur.outputs.tapBip32Derivation.decode(m));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(m)}u.push(f)}return{globalMap:i,inputs:c,outputs:u}}gx.psbtFromKeyVals=xW});var AW=z(oE=>{"use strict";d();h();Object.defineProperty(oE,"__esModule",{value:!0});var nB=nE(),SW=eE();function jwe({globalMap:e,inputs:t,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=vW({globalMap:e,inputs:t,outputs:r}),s=SW.keyValsToBuffer(n),a=f=>f.length===0?[Buffer.from([0])]:f.map(SW.keyValsToBuffer),c=a(i),u=a(o),l=Buffer.allocUnsafe(5);return l.writeUIntBE(482972169471,0,5),Buffer.concat([l,s].concat(c,u))}oE.psbtToBuffer=jwe;var zwe=(e,t)=>e.key.compare(t.key);function iB(e,t){let r=new Set,n=Object.entries(e).reduce((o,[s,a])=>{if(s==="unknownKeyVals")return o;let c=t[s];if(c===void 0)return o;let u=(Array.isArray(a)?a:[a]).map(c.encode);return u.map(f=>f.key.toString("hex")).forEach(f=>{if(r.has(f))throw new Error("Serialize Error: Duplicate key: "+f);r.add(f)}),o.concat(u)},[]),i=e.unknownKeyVals?e.unknownKeyVals.filter(o=>!r.has(o.key.toString("hex"))):[];return n.concat(i).sort(zwe)}function vW({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:iB(e,nB.globals),inputKeyVals:t.map(n=>iB(n,nB.inputs)),outputKeyVals:r.map(n=>iB(n,nB.outputs))}}oE.psbtToKeyVals=vW});var oB=z(sE=>{"use strict";d();h();function EW(e){for(var t in e)sE.hasOwnProperty(t)||(sE[t]=e[t])}Object.defineProperty(sE,"__esModule",{value:!0});EW(wW());EW(AW())});var kW=z(cB=>{"use strict";d();h();Object.defineProperty(cB,"__esModule",{value:!0});var sB=oB();function Gwe(e){let t=e[0],r=sB.psbtToKeyVals(t),n=e.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=IW(t);if(i===void 0)throw new Error("Combine: Self missing transaction");let o=vy(r.globalKeyVals),s=r.inputKeyVals.map(vy),a=r.outputKeyVals.map(vy);for(let c of n){let u=IW(c);if(u===void 0||!u.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let l=sB.psbtToKeyVals(c);vy(l.globalKeyVals).forEach(aB(o,r.globalKeyVals,l.globalKeyVals)),l.inputKeyVals.map(vy).forEach((w,S)=>w.forEach(aB(s[S],r.inputKeyVals[S],l.inputKeyVals[S]))),l.outputKeyVals.map(vy).forEach((w,S)=>w.forEach(aB(a[S],r.outputKeyVals[S],l.outputKeyVals[S])))}return sB.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}cB.combine=Gwe;function aB(e,t,r){return n=>{if(e.has(n))return;let i=r.filter(o=>o.key.toString("hex")===n)[0];t.push(i),e.add(n)}}function IW(e){return e.globalMap.unsignedTx}function vy(e){let t=new Set;return e.forEach(r=>{let n=r.key.toString("hex");if(t.has(n))throw new Error("Combine: KeyValue Map keys should be unique");t.add(n)}),t}});var fB=z(Fi=>{"use strict";d();h();Object.defineProperty(Fi,"__esModule",{value:!0});var $we=nE();function PW(e,t){let r=e[t];if(r===void 0)throw new Error(`No input #${t}`);return r}Fi.checkForInput=PW;function BW(e,t){let r=e[t];if(r===void 0)throw new Error(`No output #${t}`);return r}Fi.checkForOutput=BW;function Ywe(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&t.filter(n=>n.key.equals(e.key)).length!==0)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)}Fi.checkHasKey=Ywe;function Zwe(e){let t=0;return Object.keys(e).forEach(r=>{Number(isNaN(Number(r)))&&t++}),t}Fi.getEnumLength=Zwe;function Jwe(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){let n=!!t.redeemScript,i=!!t.witnessScript,o=!n||!!t.finalScriptSig,s=!i||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;r=o&&s&&a}if(r===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}Fi.inputCheckUncleanFinalized=Jwe;function TW(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function uB(e){return(t,r)=>{for(let n of Object.keys(t)){let i=t[n],{canAdd:o,canAddToArray:s,check:a,expected:c}=$we[e+"s"][n]||{},u=!!s;if(a)if(u){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(a)||TW(e,n,c,i);let l=r[n]||[],f=new Set;if(!i.every(m=>s(l,m,f)))throw new Error("Can not add duplicate data to array");r[n]=l.concat(i)}else{if(a(i)||TW(e,n,c,i),!o(r,i))throw new Error(`Can not add duplicate data to ${e}`);r[n]=i}}}}Fi.updateGlobal=uB("global");Fi.updateInput=uB("input");Fi.updateOutput=uB("output");function Xwe(e,t){let r=e.length-1,n=PW(e,r);Fi.updateInput(t,n)}Fi.addInputAttributes=Xwe;function Qwe(e,t){let r=e.length-1,n=BW(e,r);Fi.updateOutput(t,n)}Fi.addOutputAttributes=Qwe;function e1e(e,t){if(!Buffer.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t}Fi.defaultVersionSetter=e1e;function t1e(e,t){if(!Buffer.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}Fi.defaultLocktimeSetter=t1e});var CW=z(hB=>{"use strict";d();h();Object.defineProperty(hB,"__esModule",{value:!0});var r1e=kW(),_W=oB(),lB=ri(),xi=fB(),dB=class{constructor(t){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}static fromBase64(t,r){let n=Buffer.from(t,"base64");return this.fromBuffer(n,r)}static fromHex(t,r){let n=Buffer.from(t,"hex");return this.fromBuffer(n,r)}static fromBuffer(t,r){let n=_W.psbtFromBuffer(t,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return _W.psbtToBuffer(this)}updateGlobal(t){return xi.updateGlobal(t,this.globalMap),this}updateInput(t,r){let n=xi.checkForInput(this.inputs,t);return xi.updateInput(r,n),this}updateOutput(t,r){let n=xi.checkForOutput(this.outputs,t);return xi.updateOutput(r,n),this}addUnknownKeyValToGlobal(t){return xi.checkHasKey(t,this.globalMap.unknownKeyVals,xi.getEnumLength(lB.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}addUnknownKeyValToInput(t,r){let n=xi.checkForInput(this.inputs,t);return xi.checkHasKey(r,n.unknownKeyVals,xi.getEnumLength(lB.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(t,r){let n=xi.checkForOutput(this.outputs,t);return xi.checkHasKey(r,n.unknownKeyVals,xi.getEnumLength(lB.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(t){this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});let r=t.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),xi.addInputAttributes(this.inputs,t),this}addOutput(t){this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});let r=t.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),xi.addOutputAttributes(this.outputs,t),this}clearFinalizedInput(t){let r=xi.checkForInput(this.inputs,t);xi.inputCheckUncleanFinalized(t,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...t){let r=r1e.combine([this].concat(t));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};hB.Psbt=dB});var cE=z(Pr=>{"use strict";d();h();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.signatureBlocksAction=Pr.checkInputForSig=Pr.pubkeyInScript=Pr.pubkeyPositionInScript=Pr.witnessStackToScriptWitness=Pr.isP2TR=Pr.isP2SHScript=Pr.isP2WSHScript=Pr.isP2WPKH=Pr.isP2PKH=Pr.isP2PK=Pr.isP2MS=void 0;var MW=Fl(),bx=ao(),aE=Sy(),n1e=_c(),Uh=xy();function Rh(e){return t=>{try{return e({output:t}),!0}catch{return!1}}}Pr.isP2MS=Rh(Uh.p2ms);Pr.isP2PK=Rh(Uh.p2pk);Pr.isP2PKH=Rh(Uh.p2pkh);Pr.isP2WPKH=Rh(Uh.p2wpkh);Pr.isP2WSHScript=Rh(Uh.p2wsh);Pr.isP2SHScript=Rh(Uh.p2sh);Pr.isP2TR=Rh(Uh.p2tr);function i1e(e){let t=Buffer.allocUnsafe(0);function r(s){t=Buffer.concat([t,Buffer.from(s)])}function n(s){let a=t.length,c=MW.encodingLength(s);t=Buffer.concat([t,Buffer.allocUnsafe(c)]),MW.encode(s,t,a)}function i(s){n(s.length),r(s)}function o(s){n(s.length),s.forEach(i)}return o(e),t}Pr.witnessStackToScriptWitness=i1e;function NW(e,t){let r=(0,n1e.hash160)(e),n=e.slice(1,33),i=bx.decompile(t);if(i===null)throw new Error("Unknown script error");return i.findIndex(o=>typeof o=="number"?!1:o.equals(e)||o.equals(r)||o.equals(n))}Pr.pubkeyPositionInScript=NW;function o1e(e,t){return NW(e,t)!==-1}Pr.pubkeyInScript=o1e;function s1e(e,t){return a1e(e).some(n=>OW(n,bx.signature.decode,t))}Pr.checkInputForSig=s1e;function OW(e,t,r){let{hashType:n}=t(e),i=[];switch(n&aE.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case aE.Transaction.SIGHASH_ALL:break;case aE.Transaction.SIGHASH_SINGLE:case aE.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}Pr.signatureBlocksAction=OW;function a1e(e){let t=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=c1e(e)}else t=e.partialSig;return t.map(r=>r.signature)}function c1e(e){let t=e.finalScriptSig?bx.decompile(e.finalScriptSig)||[]:[],r=e.finalScriptWitness?bx.decompile(e.finalScriptWitness)||[]:[];return t.concat(r).filter(n=>Buffer.isBuffer(n)&&bx.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var UW=z(zr=>{"use strict";d();h();Object.defineProperty(zr,"__esModule",{value:!0});zr.checkTaprootInputForSigs=zr.tapTreeFromList=zr.tapTreeToList=zr.tweakInternalPubKey=zr.checkTaprootOutputFields=zr.checkTaprootInputFields=zr.isTaprootOutput=zr.isTaprootInput=zr.serializeTaprootSignature=zr.tapScriptFinalizer=zr.toXOnly=void 0;var gB=gi(),u1e=Sy(),lE=cE(),ql=jA(),f1e=xy(),l1e=cE(),d1e=e=>e.length===32?e:e.slice(1,33);zr.toXOnly=d1e;function h1e(e,t,r){let n=C1e(t,e,r);try{let o=B1e(t,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,lE.witnessStackToScriptWitness)(o)}}catch(i){throw new Error(`Can not finalize taproot input #${e}: ${i}`)}}zr.tapScriptFinalizer=h1e;function p1e(e,t){let r=t?Buffer.from([t]):Buffer.from([]);return Buffer.concat([e,r])}zr.serializeTaprootSignature=p1e;function uE(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,lE.isP2TR)(e.witnessUtxo.script))}zr.isTaprootInput=uE;function fE(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,lE.isP2TR)(t))}zr.isTaprootOutput=fE;function y1e(e,t,r){k1e(e,t,r),P1e(e,t,r)}zr.checkTaprootInputFields=y1e;function m1e(e,t,r){T1e(e,t,r),g1e(e,t)}zr.checkTaprootOutputFields=m1e;function g1e(e,t){if(!t.tapTree&&!t.tapInternalKey)return;let r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){let{script:i}=e,o=b1e(r,n);if(i&&!i.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function b1e(e,t){let r=t&&DW(t.leaves),{output:n}=(0,f1e.p2tr)({internalPubkey:e,scriptTree:r});return n}function x1e(e,t){let r=t.tapInternalKey,n=r&&(0,ql.tweakKey)(r,t.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x}zr.tweakInternalPubKey=x1e;function w1e(e){if(!(0,gB.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return yB(e)}zr.tapTreeToList=w1e;function DW(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:I1e(e)}zr.tapTreeFromList=DW;function S1e(e,t){return A1e(e).some(n=>(0,l1e.signatureBlocksAction)(n,v1e,t))}zr.checkTaprootInputForSigs=S1e;function v1e(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||u1e.Transaction.SIGHASH_DEFAULT}}function A1e(e){let t=[];if(e.tapKeySig&&t.push(e.tapKeySig),e.tapScriptSig&&t.push(...e.tapScriptSig.map(r=>r.signature)),!t.length){let r=E1e(e.finalScriptWitness);r&&t.push(r)}return t}function E1e(e){if(!e)return;let t=e.slice(2);if(t.length===64||t.length===65)return t}function yB(e,t=[],r=0){if(r>ql.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,gB.isTapleaf)(e)?(t.push({depth:r,leafVersion:e.version||ql.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&yB(e[0],t,r+1),e[1]&&yB(e[1],t,r+1),t):[]}function I1e(e){let t;for(let r of e)if(t=mB(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}function mB(e,t,r=0){if(r>ql.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if((0,gB.isTapleaf)(t))return;let n=mB(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];let i=mB(e,t&&t[1],r+1);if(i)return[t&&t[0],i]}function k1e(e,t,r){let n=uE(e)&&Ay(t),i=Ay(e)&&uE(t),o=e===t&&uE(t)&&Ay(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function T1e(e,t,r){let n=fE(e)&&Ay(t),i=Ay(e)&&fE(t),o=e===t&&fE(t)&&Ay(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function P1e(e,t,r){if(t.tapMerkleRoot){let n=(t.tapLeafScript||[]).every(o=>pB(o,t.tapMerkleRoot)),i=(e.tapLeafScript||[]).every(o=>pB(o,t.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(t.tapLeafScript||[]).every(i=>pB(i,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function pB(e,t){if(!t)return!0;let r=(0,ql.tapleafHash)({output:e.script,version:e.leafVersion});return(0,ql.rootHashFromPath)(e.controlBlock,r).equals(t)}function B1e(e,t){let r=(0,ql.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>_1e(t.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function _1e(e,t){return Object.assign({positionInScript:(0,lE.pubkeyPositionInScript)(t.pubkey,e)},t)}function C1e(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);let n=(e.tapLeafScript||[]).sort((i,o)=>i.controlBlock.length-o.controlBlock.length).find(i=>M1e(i,e.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}function M1e(e,t,r){let n=(0,ql.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&t.find(o=>o.leafHash.equals(n))!==void 0}function Ay(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}});var sj=z(bE=>{"use strict";d();h();Object.defineProperty(bE,"__esModule",{value:!0});bE.Psbt=void 0;var RW=CW(),LW=Fl(),ho=fB(),KW=FP(),hE=dx(),N1e=Us(),Vs=xy(),O1e=jA(),$u=ao(),wi=Sy(),nn=UW(),An=cE(),D1e={network:N1e.bitcoin,maximumFeeRate:5e3},xB=class e{static fromBase64(t,r={}){let n=Buffer.from(t,"base64");return this.fromBuffer(n,r)}static fromHex(t,r={}){let n=Buffer.from(t,"hex");return this.fromBuffer(n,r)}static fromBuffer(t,r={}){let n=RW.Psbt.fromBuffer(t,U1e),i=new e(r,n);return F1e(i.__CACHE.__TX,i.__CACHE),i}constructor(t={},r=new RW.Psbt(new pE)){this.data=r,this.opts=Object.assign({},D1e,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,o,s,a)=>Object.defineProperty(i,o,{enumerable:s,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map(t=>({hash:(0,hE.cloneBuffer)(t.hash),index:t.index,sequence:t.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(t=>{let r;try{r=(0,KW.fromOutputScript)(t.script,this.opts.network)}catch{}return{script:(0,hE.cloneBuffer)(t.script),value:t.value,address:r}})}combine(...t){return this.data.combine(...t.map(r=>r.data)),this}clone(){let t=e.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){dE(t),this.opts.maximumFeeRate=t}setVersion(t){dE(t),xx(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=t,r.__EXTRACTED_TX=void 0,this}setLocktime(t){dE(t),xx(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=t,r.__EXTRACTED_TX=void 0,this}setInputSequence(t,r){dE(r),xx(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=t)throw new Error("Input index too high");return n.__TX.ins[t].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach(r=>this.addInput(r)),this}addInput(t){if(arguments.length>1||!t||t.hash===void 0||t.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,nn.checkTaprootInputFields)(t,t,"addInput"),xx(this.data.inputs,"addInput"),t.witnessScript&&yE(t.witnessScript);let r=this.__CACHE;this.data.addInput(t);let n=r.__TX.ins[r.__TX.ins.length-1];ZW(r,n);let i=this.data.inputs.length-1,o=this.data.inputs[i];return o.nonWitnessUtxo&&SB(this.__CACHE,o,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach(r=>this.addOutput(r)),this}addOutput(t){if(arguments.length>1||!t||t.value===void 0||t.address===void 0&&t.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");xx(this.data.inputs,"addOutput");let{address:r}=t;if(typeof r=="string"){let{network:i}=this.opts,o=(0,KW.toOutputScript)(r,i);t=Object.assign(t,{script:o})}(0,nn.checkTaprootOutputFields)(t,t,"addOutput");let n=this.__CACHE;return this.data.addOutput(t),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every($W))throw new Error("Not finalized");let r=this.__CACHE;if(t||L1e(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return rj(this.data.inputs,n,r,!0),n}getFeeRate(){return WW("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return WW("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,ho.checkForInput)(this.data.inputs,0),wx(this.data.inputs.length).forEach(t=>this.finalizeInput(t)),this}finalizeInput(t,r){let n=(0,ho.checkForInput)(this.data.inputs,t);return(0,nn.isTaprootInput)(n)?this._finalizeTaprootInput(t,n,void 0,r):this._finalizeInput(t,n,r)}finalizeTaprootInput(t,r,n=nn.tapScriptFinalizer){let i=(0,ho.checkForInput)(this.data.inputs,t);if((0,nn.isTaprootInput)(i))return this._finalizeTaprootInput(t,i,r,n);throw new Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,r,n=H1e){let{script:i,isP2SH:o,isP2WSH:s,isSegwit:a}=z1e(t,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${t}`);K1e(r);let{finalScriptSig:c,finalScriptWitness:u}=n(t,r,i,a,o,s);if(c&&this.data.updateInput(t,{finalScriptSig:c}),u&&this.data.updateInput(t,{finalScriptWitness:u}),!c&&!u)throw new Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,r,n,i=nn.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(r.tapKeySig){let o=Vs.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,An.witnessStackToScriptWitness)(o.witness);this.data.updateInput(t,{finalScriptWitness:s})}else{let{finalScriptWitness:o}=i(t,r,n);this.data.updateInput(t,{finalScriptWitness:o})}return this.data.clearFinalizedInput(t),this}getInputType(t){let r=(0,ho.checkForInput)(this.data.inputs,t),n=nj(t,r,this.__CACHE),i=gE(n,t,"input",r.redeemScript||J1e(r.finalScriptSig),r.witnessScript||X1e(r.finalScriptWitness)),o=i.type==="raw"?"":i.type+"-",s=oj(i.meaningfulScript);return o+s}inputHasPubkey(t,r){let n=(0,ho.checkForInput)(this.data.inputs,t);return Y1e(r,n,t,this.__CACHE)}inputHasHDKey(t,r){let n=(0,ho.checkForInput)(this.data.inputs,t),i=FW(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(t,r){let n=(0,ho.checkForOutput)(this.data.outputs,t);return Z1e(r,n,t,this.__CACHE)}outputHasHDKey(t,r){let n=(0,ho.checkForOutput)(this.data.outputs,t),i=FW(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(t){return(0,ho.checkForInput)(this.data.inputs,0),wx(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,t)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(t,r,n){let i=this.data.inputs[t];return(0,nn.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(t,r,n):this._validateSignaturesOfInput(t,r,n)}_validateSignaturesOfInput(t,r,n){let i=this.data.inputs[t],o=(i||{}).partialSig;if(!i||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?o.filter(f=>f.pubkey.equals(n)):o;if(s.length<1)throw new Error("No signatures for this pubkey");let a=[],c,u,l;for(let f of s){let m=$u.signature.decode(f.signature),{hash:b,script:w}=l!==m.hashType?XW(t,Object.assign({},i,{sighashType:m.hashType}),this.__CACHE,!0):{hash:c,script:u};l=m.hashType,c=b,u=w,YW(f.pubkey,w,"verify"),a.push(r(f.pubkey,b,m.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(t,r,n){let i=this.data.inputs[t],o=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!o&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,nn.toXOnly)(n);let a=n?wB(t,i,this.data.inputs,n,this.__CACHE):W1e(t,i,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");let c=a.find(l=>!l.leafHash),u=0;if(o&&c){if(!r(c.pubkey,c.hash,zW(o)))return!1;u++}if(s)for(let l of s){let f=a.find(m=>l.pubkey.equals(m.pubkey));if(f){if(!r(l.pubkey,f.hash,zW(l.signature)))return!1;u++}}return u>0}signAllInputsHD(t,r=[wi.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of wx(this.data.inputs.length))try{this.signInputHD(i,t,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(t,r=[wi.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));let o=[],s=[];for(let a of wx(this.data.inputs.length))s.push(this.signInputHDAsync(a,t,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(t,r,n=[wi.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return GW(t,this.data.inputs,r).forEach(o=>this.signInput(t,o,n)),this}signInputHDAsync(t,r,n=[wi.Transaction.SIGHASH_ALL]){return new Promise((i,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));let a=GW(t,this.data.inputs,r).map(c=>this.signInputAsync(t,c,n));return Promise.all(a).then(()=>{i()}).catch(o)})}signAllInputs(t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of wx(this.data.inputs.length))try{this.signInput(i,t,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(t,r){return new Promise((n,i)=>{if(!t||!t.publicKey)return i(new Error("Need Signer to sign input"));let o=[],s=[];for(let[a]of this.data.inputs.entries())s.push(this.signInputAsync(a,t,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInput(t,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,ho.checkForInput)(this.data.inputs,t);return(0,nn.isTaprootInput)(i)?this._signTaprootInput(t,i,r,void 0,n):this._signInput(t,r,n)}signTaprootInput(t,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,ho.checkForInput)(this.data.inputs,t);if((0,nn.isTaprootInput)(o))return this._signTaprootInput(t,o,r,n,i);throw new Error(`Input #${t} is not of type Taproot.`)}_signInput(t,r,n=[wi.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=jW(this.data.inputs,t,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:$u.signature.encode(r.sign(i),o)}];return this.data.updateInput(t,{partialSig:s}),this}_signTaprootInput(t,r,n,i,o=[wi.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(t,r,n,i,o),a=s.filter(u=>!u.leafHash).map(u=>(0,nn.serializeTaprootSignature)(n.signSchnorr(u.hash),r.sighashType))[0],c=s.filter(u=>!!u.leafHash).map(u=>({pubkey:(0,nn.toXOnly)(n.publicKey),signature:(0,nn.serializeTaprootSignature)(n.signSchnorr(u.hash),r.sighashType),leafHash:u.leafHash}));return a&&this.data.updateInput(t,{tapKeySig:a}),c.length&&this.data.updateInput(t,{tapScriptSig:c}),this}signInputAsync(t,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,ho.checkForInput)(this.data.inputs,t);return(0,nn.isTaprootInput)(i)?this._signTaprootInputAsync(t,i,r,void 0,n):this._signInputAsync(t,r,n)})}signTaprootInputAsync(t,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,ho.checkForInput)(this.data.inputs,t);if((0,nn.isTaprootInput)(o))return this._signTaprootInputAsync(t,o,r,n,i);throw new Error(`Input #${t} is not of type Taproot.`)})}_signInputAsync(t,r,n=[wi.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=jW(this.data.inputs,t,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{let a=[{pubkey:r.publicKey,signature:$u.signature.encode(s,o)}];this.data.updateInput(t,{partialSig:a})})}async _signTaprootInputAsync(t,r,n,i,o=[wi.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(t,r,n,i,o),a=[],c=s.filter(l=>!l.leafHash)[0];if(c){let l=Promise.resolve(n.signSchnorr(c.hash)).then(f=>({tapKeySig:(0,nn.serializeTaprootSignature)(f,r.sighashType)}));a.push(l)}let u=s.filter(l=>!!l.leafHash);if(u.length){let l=u.map(f=>Promise.resolve(n.signSchnorr(f.hash)).then(m=>({tapScriptSig:[{pubkey:(0,nn.toXOnly)(n.publicKey),signature:(0,nn.serializeTaprootSignature)(m,r.sighashType),leafHash:f.leafHash}]})));a.push(...l)}return Promise.all(a).then(l=>{l.forEach(f=>this.data.updateInput(t,f))})}checkTaprootHashesForSig(t,r,n,i,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${t}.`);let s=wB(t,r,this.data.inputs,n.publicKey,this.__CACHE,i,o);if(!s||!s.length)throw new Error(`Can not sign for input #${t} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return bB(this.__CACHE),this.data.toBuffer()}toHex(){return bB(this.__CACHE),this.data.toHex()}toBase64(){return bB(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,r){return r.witnessScript&&yE(r.witnessScript),(0,nn.checkTaprootInputFields)(this.data.inputs[t],r,"updateInput"),this.data.updateInput(t,r),r.nonWitnessUtxo&&SB(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,r){let n=this.data.outputs[t];return(0,nn.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(t,r),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,r){return this.data.addUnknownKeyValToInput(t,r),this}addUnknownKeyValToOutput(t,r){return this.data.addUnknownKeyValToOutput(t,r),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}};bE.Psbt=xB;var U1e=e=>new pE(e),pE=class{constructor(t=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=wi.Transaction.fromBuffer(t),V1e(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(t.hash===void 0||t.index===void 0||!Buffer.isBuffer(t.hash)&&typeof t.hash!="string"||typeof t.index!="number")throw new Error("Error adding input.");let r=typeof t.hash=="string"?(0,hE.reverseBuffer)(Buffer.from(t.hash,"hex")):t.hash;this.tx.addInput(r,t.index,t.sequence)}addOutput(t){if(t.script===void 0||t.value===void 0||!Buffer.isBuffer(t.script)||typeof t.value!="number")throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}};function R1e(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return VW(1,e.partialSig);case"multisig":let n=Vs.p2ms({output:t});return VW(n.m,e.partialSig,n.pubkeys);default:return!1}}function bB(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function VW(e,t,r){if(!t)return!1;let n;if(r?n=r.map(i=>{let o=Q1e(i);return t.find(s=>s.pubkey.equals(o))}).filter(i=>!!i):n=t,n.length>e)throw new Error("Too many signatures");return n.length===e}function $W(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function FW(e){return t=>!(!t.masterFingerprint.equals(e.fingerprint)||!e.derivePath(t.path).publicKey.equals(t.pubkey))}function dE(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function L1e(e,t,r){let n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function xx(e,t){e.forEach(r=>{if((0,nn.isTaprootInput)(r)?(0,nn.checkTaprootInputForSigs)(r,t):(0,An.checkInputForSig)(r,t))throw new Error("Can not modify transaction, signatures exist.")})}function K1e(e){if(!e.sighashType||!e.partialSig)return;let{partialSig:t,sighashType:r}=e;t.forEach(n=>{let{hashType:i}=$u.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function YW(e,t,r){if(!(0,An.pubkeyInScript)(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function V1e(e){if(!e.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function F1e(e,t){e.ins.forEach(r=>{ZW(t,r)})}function ZW(e,t){let r=(0,hE.reverseBuffer)(Buffer.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function JW(e,t){return(r,n,i,o)=>{let s=e({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}var HW=JW(Vs.p2sh,"Redeem script"),qW=JW(Vs.p2wsh,"Witness script");function WW(e,t,r,n){if(!r.every($W))throw new Error(`PSBT must be finalized to calculate ${t}`);if(e==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(e==="__FEE"&&n.__FEE)return n.__FEE;let i,o=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),rj(r,i,n,o),e==="__FEE_RATE")return n.__FEE_RATE;if(e==="__FEE")return n.__FEE}function H1e(e,t,r,n,i,o){let s=oj(r);if(!R1e(t,r,s))throw new Error(`Can not finalize input #${e}`);return q1e(r,s,t.partialSig,n,i,o)}function q1e(e,t,r,n,i,o){let s,a,c=j1e(e,t,r),u=o?Vs.p2wsh({redeem:c}):null,l=i?Vs.p2sh({redeem:u||c}):null;return n?(u?a=(0,An.witnessStackToScriptWitness)(u.witness):a=(0,An.witnessStackToScriptWitness)(c.witness),l&&(s=l.input)):l?s=l.input:s=c.input,{finalScriptSig:s,finalScriptWitness:a}}function jW(e,t,r,n,i){let o=(0,ho.checkForInput)(e,t),{hash:s,sighashType:a,script:c}=XW(t,o,n,!1,i);return YW(r,c,"sign"),{hash:s,sighashType:a}}function XW(e,t,r,n,i){let o=r.__TX,s=t.sighashType||wi.Transaction.SIGHASH_ALL;ej(s,i);let a,c;if(t.nonWitnessUtxo){let f=mE(r,t,e),m=o.ins[e].hash,b=f.getHash();if(!m.equals(b))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);let w=o.ins[e].index;c=f.outs[w]}else if(t.witnessUtxo)c=t.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:u,type:l}=gE(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=o.hashForWitnessV0(e,u,c.value,s);else if((0,An.isP2WPKH)(u)){let f=Vs.p2pkh({hash:u.slice(2)}).output;a=o.hashForWitnessV0(e,f,c.value,s)}else{if(t.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=o.hashForSignature(e,u,s)}return{script:u,sighashType:s,hash:a}}function W1e(e,t,r,n){let i=[];if(t.tapInternalKey){let s=QW(e,t,n);s&&i.push(s)}if(t.tapScriptSig){let s=t.tapScriptSig.map(a=>a.pubkey);i.push(...s)}return i.map(s=>wB(e,t,r,s,n)).flat()}function QW(e,t,r){let{script:n}=vB(e,t,r);return(0,An.isP2TR)(n)?n.subarray(2,34):null}function zW(e){return e.length===64?e:e.subarray(0,64)}function wB(e,t,r,n,i,o,s){let a=i.__TX,c=t.sighashType||wi.Transaction.SIGHASH_DEFAULT;ej(c,s);let u=r.map((w,S)=>vB(S,w,i)),l=u.map(w=>w.script),f=u.map(w=>w.value),m=[];if(t.tapInternalKey&&!o){let w=QW(e,t,i)||Buffer.from([]);if((0,nn.toXOnly)(n).equals(w)){let S=a.hashForWitnessV1(e,l,f,c);m.push({pubkey:n,hash:S})}}let b=(t.tapLeafScript||[]).filter(w=>(0,An.pubkeyInScript)(n,w.script)).map(w=>{let S=(0,O1e.tapleafHash)({output:w.script,version:w.leafVersion});return Object.assign({hash:S},w)}).filter(w=>!o||o.equals(w.hash)).map(w=>{let S=a.hashForWitnessV1(e,l,f,wi.Transaction.SIGHASH_DEFAULT,w.hash);return{pubkey:n,hash:S,leafHash:w.hash}});return m.concat(b)}function ej(e,t){if(t&&t.indexOf(e)<0){let r=$1e(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function j1e(e,t,r){let n;switch(t){case"multisig":let i=G1e(e,r);n=Vs.p2ms({output:e,signatures:i});break;case"pubkey":n=Vs.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=Vs.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Vs.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function z1e(e,t,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){let o=mE(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||(0,An.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function GW(e,t,r){let n=(0,ho.checkForInput)(t,e);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(s=>{let a=r.derivePath(s.path);if(!s.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function G1e(e,t){return Vs.p2ms({output:e}).pubkeys.map(n=>(t.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function tj(e){let t=0;function r(s){return t+=s,e.slice(t-s,t)}function n(){let s=LW.decode(e,t);return t+=LW.decode.bytes,s}function i(){return r(n())}function o(){let s=n(),a=[];for(let c=0;c<s;c++)a.push(i());return a}return o()}function $1e(e){let t=e&wi.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case wi.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case wi.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case wi.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE";break}return t}function SB(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;let n=wi.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){let s=i.__NON_WITNESS_UTXO_BUF_CACHE[o],a=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(s!==void 0)return s;{let c=a.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=c,c}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=s}})}function rj(e,t,r,n){let i=0;e.forEach((c,u)=>{if(n&&c.finalScriptSig&&(t.ins[u].script=c.finalScriptSig),n&&c.finalScriptWitness&&(t.ins[u].witness=tj(c.finalScriptWitness)),c.witnessUtxo)i+=c.witnessUtxo.value;else if(c.nonWitnessUtxo){let l=mE(r,c,u),f=t.ins[u].index,m=l.outs[f];i+=m.value}});let o=t.outs.reduce((c,u)=>c+u.value,0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");let a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(s/a)}function mE(e,t,r){let n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||SB(e,t,r),n[r]}function nj(e,t,r){let{script:n}=vB(e,t,r);return n}function vB(e,t,r){if(t.witnessUtxo!==void 0)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(t.nonWitnessUtxo!==void 0){let i=mE(r,t,e).outs[r.__TX.ins[e].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function Y1e(e,t,r,n){let i=nj(r,t,n),{meaningfulScript:o}=gE(i,r,"input",t.redeemScript,t.witnessScript);return(0,An.pubkeyInScript)(e,o)}function Z1e(e,t,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:o}=gE(i,r,"output",t.redeemScript,t.witnessScript);return(0,An.pubkeyInScript)(e,o)}function J1e(e){if(!e)return;let t=$u.decompile(e);if(!t)return;let r=t[t.length-1];if(!(!Buffer.isBuffer(r)||ij(r)||e2e(r)||!$u.decompile(r)))return r}function X1e(e){if(!e)return;let t=tj(e),r=t[t.length-1];if(!(ij(r)||!$u.decompile(r)))return r}function Q1e(e){if(e.length===65){let t=e[64]&1,r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function ij(e){return e.length===33&&$u.isCanonicalPubKey(e)}function e2e(e){return $u.isCanonicalScriptSignature(e)}function gE(e,t,r,n,i){let o=(0,An.isP2SHScript)(e),s=o&&n&&(0,An.isP2WSHScript)(n),a=(0,An.isP2WSHScript)(e);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return s?(c=i,HW(t,e,n,r),qW(t,n,i,r),yE(c)):a?(c=i,qW(t,e,i,r),yE(c)):o?(c=n,HW(t,e,n,r)):c=e,{meaningfulScript:c,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function yE(e){if((0,An.isP2WPKH)(e)||(0,An.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function oj(e){return(0,An.isP2WPKH)(e)?"witnesspubkeyhash":(0,An.isP2PKH)(e)?"pubkeyhash":(0,An.isP2MS)(e)?"multisig":(0,An.isP2PK)(e)?"pubkey":"nonstandard"}function wx(e){return[...Array(e).keys()]}});var Sx=z(un=>{"use strict";d();h();Object.defineProperty(un,"__esModule",{value:!0});un.initEccLib=un.Transaction=un.opcodes=un.Psbt=un.Block=un.script=un.payments=un.networks=un.crypto=un.address=void 0;var t2e=FP();un.address=t2e;var r2e=_c();un.crypto=r2e;var n2e=Us();un.networks=n2e;var i2e=xy();un.payments=i2e;var o2e=ao();un.script=o2e;var s2e=Pq();Object.defineProperty(un,"Block",{enumerable:!0,get:function(){return s2e.Block}});var a2e=sj();Object.defineProperty(un,"Psbt",{enumerable:!0,get:function(){return a2e.Psbt}});var c2e=dA();Object.defineProperty(un,"opcodes",{enumerable:!0,get:function(){return c2e.OPS}});var u2e=Sy();Object.defineProperty(un,"Transaction",{enumerable:!0,get:function(){return u2e.Transaction}});var f2e=WA();Object.defineProperty(un,"initEccLib",{enumerable:!0,get:function(){return f2e.initEccLib}})});var hG=z((Xx,Fy)=>{d();h();var yve=200,Rz="__lodash_hash_undefined__",Lz=9007199254740991,R_="[object Arguments]",mve="[object Array]",Kz="[object Boolean]",Vz="[object Date]",gve="[object Error]",L_="[object Function]",Fz="[object GeneratorFunction]",$E="[object Map]",Hz="[object Number]",K_="[object Object]",kz="[object Promise]",qz="[object RegExp]",YE="[object Set]",Wz="[object String]",jz="[object Symbol]",C_="[object WeakMap]",zz="[object ArrayBuffer]",ZE="[object DataView]",Gz="[object Float32Array]",$z="[object Float64Array]",Yz="[object Int8Array]",Zz="[object Int16Array]",Jz="[object Int32Array]",Xz="[object Uint8Array]",Qz="[object Uint8ClampedArray]",eG="[object Uint16Array]",tG="[object Uint32Array]",bve=/[\\^$.*+?()[\]{}|]/g,xve=/\w*$/,wve=/^\[object .+?Constructor\]$/,Sve=/^(?:0|[1-9]\d*)$/,_r={};_r[R_]=_r[mve]=_r[zz]=_r[ZE]=_r[Kz]=_r[Vz]=_r[Gz]=_r[$z]=_r[Yz]=_r[Zz]=_r[Jz]=_r[$E]=_r[Hz]=_r[K_]=_r[qz]=_r[YE]=_r[Wz]=_r[jz]=_r[Xz]=_r[Qz]=_r[eG]=_r[tG]=!0;_r[gve]=_r[L_]=_r[C_]=!1;var vve=typeof self=="object"&&self&&self.Object===Object&&self,Ave=typeof self=="object"&&self&&self.Object===Object&&self,ef=vve||Ave||Function("return this")(),rG=typeof Xx=="object"&&Xx&&!Xx.nodeType&&Xx,Tz=rG&&typeof Fy=="object"&&Fy&&!Fy.nodeType&&Fy,Eve=Tz&&Tz.exports===rG;function Ive(e,t){return e.set(t[0],t[1]),e}function kve(e,t){return e.add(t),e}function Tve(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function Pve(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function nG(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Bve(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function _ve(e,t){return e?.[t]}function iG(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Pz(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function V_(e,t){return function(r){return e(t(r))}}function Bz(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Cve=Array.prototype,Mve=Function.prototype,JE=Object.prototype,__=ef["__core-js_shared__"],_z=function(){var e=/[^.]+$/.exec(__&&__.keys&&__.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oG=Mve.toString,Ql=JE.hasOwnProperty,XE=JE.toString,Nve=RegExp("^"+oG.call(Ql).replace(bve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cz=Eve?ef.Buffer:void 0,Mz=ef.Symbol,Nz=ef.Uint8Array,Ove=V_(Object.getPrototypeOf,Object),Dve=Object.create,Uve=JE.propertyIsEnumerable,Rve=Cve.splice,Oz=Object.getOwnPropertySymbols,Lve=Cz?Cz.isBuffer:void 0,Kve=V_(Object.keys,Object),M_=Wy(ef,"DataView"),Qx=Wy(ef,"Map"),N_=Wy(ef,"Promise"),O_=Wy(ef,"Set"),D_=Wy(ef,"WeakMap"),ew=Wy(Object,"create"),Vve=Yh(M_),Fve=Yh(Qx),Hve=Yh(N_),qve=Yh(O_),Wve=Yh(D_),Dz=Mz?Mz.prototype:void 0,Uz=Dz?Dz.valueOf:void 0;function $h(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function jve(){this.__data__=ew?ew(null):{}}function zve(e){return this.has(e)&&delete this.__data__[e]}function Gve(e){var t=this.__data__;if(ew){var r=t[e];return r===Rz?void 0:r}return Ql.call(t,e)?t[e]:void 0}function $ve(e){var t=this.__data__;return ew?t[e]!==void 0:Ql.call(t,e)}function Yve(e,t){var r=this.__data__;return r[e]=ew&&t===void 0?Rz:t,this}$h.prototype.clear=jve;$h.prototype.delete=zve;$h.prototype.get=Gve;$h.prototype.has=$ve;$h.prototype.set=Yve;function tf(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zve(){this.__data__=[]}function Jve(e){var t=this.__data__,r=QE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Rve.call(t,r,1),!0}function Xve(e){var t=this.__data__,r=QE(t,e);return r<0?void 0:t[r][1]}function Qve(e){return QE(this.__data__,e)>-1}function eAe(e,t){var r=this.__data__,n=QE(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}tf.prototype.clear=Zve;tf.prototype.delete=Jve;tf.prototype.get=Xve;tf.prototype.has=Qve;tf.prototype.set=eAe;function Hy(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function tAe(){this.__data__={hash:new $h,map:new(Qx||tf),string:new $h}}function rAe(e){return e3(this,e).delete(e)}function nAe(e){return e3(this,e).get(e)}function iAe(e){return e3(this,e).has(e)}function oAe(e,t){return e3(this,e).set(e,t),this}Hy.prototype.clear=tAe;Hy.prototype.delete=rAe;Hy.prototype.get=nAe;Hy.prototype.has=iAe;Hy.prototype.set=oAe;function qy(e){this.__data__=new tf(e)}function sAe(){this.__data__=new tf}function aAe(e){return this.__data__.delete(e)}function cAe(e){return this.__data__.get(e)}function uAe(e){return this.__data__.has(e)}function fAe(e,t){var r=this.__data__;if(r instanceof tf){var n=r.__data__;if(!Qx||n.length<yve-1)return n.push([e,t]),this;r=this.__data__=new Hy(n)}return r.set(e,t),this}qy.prototype.clear=sAe;qy.prototype.delete=aAe;qy.prototype.get=cAe;qy.prototype.has=uAe;qy.prototype.set=fAe;function lAe(e,t){var r=H_(e)||DAe(e)?Bve(e.length,String):[],n=r.length,i=!!n;for(var o in e)(t||Ql.call(e,o))&&!(i&&(o=="length"||CAe(o,n)))&&r.push(o);return r}function sG(e,t,r){var n=e[t];(!(Ql.call(e,t)&&fG(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function QE(e,t){for(var r=e.length;r--;)if(fG(e[r][0],t))return r;return-1}function dAe(e,t){return e&&aG(t,q_(t),e)}function U_(e,t,r,n,i,o,s){var a;if(n&&(a=o?n(e,i,o,s):n(e)),a!==void 0)return a;if(!t3(e))return e;var c=H_(e);if(c){if(a=PAe(e),!t)return IAe(e,a)}else{var u=Gh(e),l=u==L_||u==Fz;if(RAe(e))return bAe(e,t);if(u==K_||u==R_||l&&!o){if(iG(e))return o?e:{};if(a=BAe(l?{}:e),!t)return kAe(e,dAe(a,e))}else{if(!_r[u])return o?e:{};a=_Ae(e,u,U_,t)}}s||(s=new qy);var f=s.get(e);if(f)return f;if(s.set(e,a),!c)var m=r?TAe(e):q_(e);return Tve(m||e,function(b,w){m&&(w=b,b=e[w]),sG(a,w,U_(b,t,r,n,w,e,s))}),a}function hAe(e){return t3(e)?Dve(e):{}}function pAe(e,t,r){var n=t(e);return H_(e)?n:Pve(n,r(e))}function yAe(e){return XE.call(e)}function mAe(e){if(!t3(e)||NAe(e))return!1;var t=dG(e)||iG(e)?Nve:wve;return t.test(Yh(e))}function gAe(e){if(!uG(e))return Kve(e);var t=[];for(var r in Object(e))Ql.call(e,r)&&r!="constructor"&&t.push(r);return t}function bAe(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function F_(e){var t=new e.constructor(e.byteLength);return new Nz(t).set(new Nz(e)),t}function xAe(e,t){var r=t?F_(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function wAe(e,t,r){var n=t?r(Pz(e),!0):Pz(e);return nG(n,Ive,new e.constructor)}function SAe(e){var t=new e.constructor(e.source,xve.exec(e));return t.lastIndex=e.lastIndex,t}function vAe(e,t,r){var n=t?r(Bz(e),!0):Bz(e);return nG(n,kve,new e.constructor)}function AAe(e){return Uz?Object(Uz.call(e)):{}}function EAe(e,t){var r=t?F_(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function IAe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function aG(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;sG(r,s,a===void 0?e[s]:a)}return r}function kAe(e,t){return aG(e,cG(e),t)}function TAe(e){return pAe(e,q_,cG)}function e3(e,t){var r=e.__data__;return MAe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Wy(e,t){var r=_ve(e,t);return mAe(r)?r:void 0}var cG=Oz?V_(Oz,Object):VAe,Gh=yAe;(M_&&Gh(new M_(new ArrayBuffer(1)))!=ZE||Qx&&Gh(new Qx)!=$E||N_&&Gh(N_.resolve())!=kz||O_&&Gh(new O_)!=YE||D_&&Gh(new D_)!=C_)&&(Gh=function(e){var t=XE.call(e),r=t==K_?e.constructor:void 0,n=r?Yh(r):void 0;if(n)switch(n){case Vve:return ZE;case Fve:return $E;case Hve:return kz;case qve:return YE;case Wve:return C_}return t});function PAe(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&Ql.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function BAe(e){return typeof e.constructor=="function"&&!uG(e)?hAe(Ove(e)):{}}function _Ae(e,t,r,n){var i=e.constructor;switch(t){case zz:return F_(e);case Kz:case Vz:return new i(+e);case ZE:return xAe(e,n);case Gz:case $z:case Yz:case Zz:case Jz:case Xz:case Qz:case eG:case tG:return EAe(e,n);case $E:return wAe(e,n,r);case Hz:case Wz:return new i(e);case qz:return SAe(e);case YE:return vAe(e,n,r);case jz:return AAe(e)}}function CAe(e,t){return t=t??Lz,!!t&&(typeof e=="number"||Sve.test(e))&&e>-1&&e%1==0&&e<t}function MAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function NAe(e){return!!_z&&_z in e}function uG(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||JE;return e===r}function Yh(e){if(e!=null){try{return oG.call(e)}catch{}try{return e+""}catch{}}return""}function OAe(e){return U_(e,!0,!0)}function fG(e,t){return e===t||e!==e&&t!==t}function DAe(e){return UAe(e)&&Ql.call(e,"callee")&&(!Uve.call(e,"callee")||XE.call(e)==R_)}var H_=Array.isArray;function lG(e){return e!=null&&LAe(e.length)&&!dG(e)}function UAe(e){return KAe(e)&&lG(e)}var RAe=Lve||FAe;function dG(e){var t=t3(e)?XE.call(e):"";return t==L_||t==Fz}function LAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lz}function t3(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function KAe(e){return!!e&&typeof e=="object"}function q_(e){return lG(e)?lAe(e):gAe(e)}function VAe(){return[]}function FAe(){return!1}Fy.exports=OAe});var kG=z((cdt,IG)=>{d();h();var or={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Hs(e,t){if(!e)throw new Error(t)}function $t(e,t,r){if(Hs(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${e} to be an Uint8Array with length [${n}]`;Hs(r.includes(t.length),i)}else{let n=`Expected ${e} to be an Uint8Array with length ${r}`;Hs(t.length===r,n)}}function Jh(e){Hs(zy(e)==="Boolean","Expected compressed to be a Boolean")}function Ha(e=r=>new Uint8Array(r),t){return typeof e=="function"&&(e=e(t)),$t("output",e,t),e}function zy(e){return Object.prototype.toString.call(e).slice(8,-1)}IG.exports=e=>({contextRandomize(t){switch(Hs(t===null||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),t!==null&&$t("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(or.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(t){return $t("private key",t,32),e.privateKeyVerify(t)===0},privateKeyNegate(t){switch($t("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(or.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,r){switch($t("private key",t,32),$t("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(or.TWEAK_ADD)}},privateKeyTweakMul(t,r){switch($t("private key",t,32),$t("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(or.TWEAK_MUL)}},publicKeyVerify(t){return $t("public key",t,[33,65]),e.publicKeyVerify(t)===0},publicKeyCreate(t,r=!0,n){switch($t("private key",t,32),Jh(r),n=Ha(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(or.SECKEY_INVALID);case 2:throw new Error(or.PUBKEY_SERIALIZE)}},publicKeyConvert(t,r=!0,n){switch($t("public key",t,[33,65]),Jh(r),n=Ha(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(or.PUBKEY_PARSE);case 2:throw new Error(or.PUBKEY_SERIALIZE)}},publicKeyNegate(t,r=!0,n){switch($t("public key",t,[33,65]),Jh(r),n=Ha(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(or.PUBKEY_PARSE);case 2:throw new Error(or.IMPOSSIBLE_CASE);case 3:throw new Error(or.PUBKEY_SERIALIZE)}},publicKeyCombine(t,r=!0,n){Hs(Array.isArray(t),"Expected public keys to be an Array"),Hs(t.length>0,"Expected public keys array will have more than zero items");for(let i of t)$t("public key",i,[33,65]);switch(Jh(r),n=Ha(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(or.PUBKEY_PARSE);case 2:throw new Error(or.PUBKEY_COMBINE);case 3:throw new Error(or.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,r,n=!0,i){switch($t("public key",t,[33,65]),$t("tweak",r,32),Jh(n),i=Ha(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(or.PUBKEY_PARSE);case 2:throw new Error(or.TWEAK_ADD)}},publicKeyTweakMul(t,r,n=!0,i){switch($t("public key",t,[33,65]),$t("tweak",r,32),Jh(n),i=Ha(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(or.PUBKEY_PARSE);case 2:throw new Error(or.TWEAK_MUL)}},signatureNormalize(t){switch($t("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(or.SIG_PARSE)}},signatureExport(t,r){$t("signature",t,64),r=Ha(r,72);let n={output:r,outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(or.SIG_PARSE);case 2:throw new Error(or.IMPOSSIBLE_CASE)}},signatureImport(t,r){switch($t("signature",t),r=Ha(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(or.SIG_PARSE);case 2:throw new Error(or.IMPOSSIBLE_CASE)}},ecdsaSign(t,r,n={},i){$t("message",t,32),$t("private key",r,32),Hs(zy(n)==="Object","Expected options to be an Object"),n.data!==void 0&&$t("options.data",n.data),n.noncefn!==void 0&&Hs(zy(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Ha(i,64);let o={signature:i,recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(or.SIGN);case 2:throw new Error(or.IMPOSSIBLE_CASE)}},ecdsaVerify(t,r,n){switch($t("signature",t,64),$t("message",r,32),$t("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(or.SIG_PARSE);case 2:throw new Error(or.PUBKEY_PARSE)}},ecdsaRecover(t,r,n,i=!0,o){switch($t("signature",t,64),Hs(zy(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),$t("message",n,32),Jh(i),o=Ha(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(or.SIG_PARSE);case 2:throw new Error(or.RECOVER);case 3:throw new Error(or.IMPOSSIBLE_CASE)}},ecdh(t,r,n={},i){switch($t("public key",t,[33,65]),$t("private key",r,32),Hs(zy(n)==="Object","Expected options to be an Object"),n.data!==void 0&&$t("options.data",n.data),n.hashfn!==void 0?(Hs(zy(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&$t("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&$t("options.ybuf",n.ybuf,32),$t("output",i)):i=Ha(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(or.PUBKEY_PARSE);case 2:throw new Error(or.ECDH)}}})});var PG=z((ldt,TG)=>{d();h();var YAe=BN().ec,Vc=new YAe("secp256k1"),zt=Vc.curve,Sr=zt.n.constructor;function ZAe(e,t){let r=new Sr(t);if(r.cmp(zt.p)>=0)return null;r=r.toRed(zt.red);let n=r.redSqr().redIMul(r).redIAdd(zt.b).redSqrt();return e===3!==n.isOdd()&&(n=n.redNeg()),Vc.keyPair({pub:{x:r,y:n}})}function JAe(e,t,r){let n=new Sr(t),i=new Sr(r);if(n.cmp(zt.p)>=0||i.cmp(zt.p)>=0||(n=n.toRed(zt.red),i=i.toRed(zt.red),(e===6||e===7)&&i.isOdd()!==(e===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(zt.b)).isZero()?Vc.keyPair({pub:{x:n,y:i}}):null}function td(e){let t=e[0];switch(t){case 2:case 3:return e.length!==33?null:ZAe(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:JAe(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function Xh(e,t){let r=t.encode(null,e.length===33);for(let n=0;n<e.length;++n)e[n]=r[n]}TG.exports={contextRandomize(){return 0},privateKeyVerify(e){let t=new Sr(e);return t.cmp(zt.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){let t=new Sr(e),r=zt.n.sub(t).umod(zt.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){let r=new Sr(t);if(r.cmp(zt.n)>=0||(r.iadd(new Sr(e)),r.cmp(zt.n)>=0&&r.isub(zt.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new Sr(t);if(r.cmp(zt.n)>=0||r.isZero())return 1;r.imul(new Sr(e)),r.cmp(zt.n)>=0&&(r=r.umod(zt.n));let n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return td(e)===null?1:0},publicKeyCreate(e,t){let r=new Sr(t);if(r.cmp(zt.n)>=0||r.isZero())return 1;let n=Vc.keyFromPrivate(t).getPublic();return Xh(e,n),0},publicKeyConvert(e,t){let r=td(t);if(r===null)return 1;let n=r.getPublic();return Xh(e,n),0},publicKeyNegate(e,t){let r=td(t);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),Xh(e,n),0},publicKeyCombine(e,t){let r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=td(t[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Xh(e,n),0)},publicKeyTweakAdd(e,t,r){let n=td(t);if(n===null)return 1;if(r=new Sr(r),r.cmp(zt.n)>=0)return 2;let i=n.getPublic().add(zt.g.mul(r));return i.isInfinity()?2:(Xh(e,i),0)},publicKeyTweakMul(e,t,r){let n=td(t);if(n===null)return 1;if(r=new Sr(r),r.cmp(zt.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return Xh(e,i),0},signatureNormalize(e){let t=new Sr(e.subarray(0,32)),r=new Sr(e.subarray(32,64));return t.cmp(zt.n)>=0||r.cmp(zt.n)>=0?1:(r.cmp(Vc.nh)===1&&e.set(zt.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){let r=t.subarray(0,32),n=t.subarray(32,64);if(new Sr(r).cmp(zt.n)>=0||new Sr(n).cmp(zt.n)>=0)return 1;let{output:i}=e,o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,a=0;for(;s>1&&o[a]===0&&!(o[a+1]&128);--s,++a);if(o=o.subarray(a),o[0]&128||s>1&&o[0]===0&&!(o[1]&128))return 1;let c=i.subarray(39,72);c[0]=0,c.set(n,1);let u=33,l=0;for(;u>1&&c[l]===0&&!(c[l+1]&128);--u,++l);return c=c.subarray(l),c[0]&128||u>1&&c[0]===0&&!(c[1]&128)?1:(e.outputlen=6+s+u,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=c.length,i.set(c,6+s),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;let r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;let n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let i=t.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new Sr(i);s.cmp(zt.n)>=0&&(s=new Sr(0));let a=new Sr(t.subarray(6+r));return a.cmp(zt.n)>=0&&(a=new Sr(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){let a=i;i=c=>{let u=a(t,r,null,n,c);if(!(u instanceof Uint8Array&&u.length===32))throw new Error("This is the way");return new Sr(u)}}let o=new Sr(r);if(o.cmp(zt.n)>=0||o.isZero())return 1;let s;try{s=Vc.sign(t,r,{canonical:!0,k:i,pers:n})}catch{return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,t,r){let n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new Sr(n.r),o=new Sr(n.s);if(i.cmp(zt.n)>=0||o.cmp(zt.n)>=0)return 1;if(o.cmp(Vc.nh)===1||i.isZero()||o.isZero())return 3;let s=td(r);if(s===null)return 2;let a=s.getPublic();return Vc.verify(t,n,a)?0:3},ecdsaRecover(e,t,r,n){let i={r:t.slice(0,32),s:t.slice(32,64)},o=new Sr(i.r),s=new Sr(i.s);if(o.cmp(zt.n)>=0||s.cmp(zt.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let a;try{a=Vc.recoverPubKey(n,i,r)}catch{return 2}return Xh(e,a),0},ecdh(e,t,r,n,i,o,s){let a=td(t);if(a===null)return 1;let c=new Sr(r);if(c.cmp(zt.n)>=0||c.isZero())return 2;let u=a.getPublic().mul(c);if(i===void 0){let l=u.encode(null,!0),f=Vc.hash().update(l).digest();for(let m=0;m<32;++m)e[m]=f[m]}else{o||(o=new Uint8Array(32));let l=u.getX().toArray("be",32);for(let w=0;w<32;++w)o[w]=l[w];s||(s=new Uint8Array(32));let f=u.getY().toArray("be",32);for(let w=0;w<32;++w)s[w]=f[w];let m=i(o,s,n);if(!(m instanceof Uint8Array&&m.length===e.length))return 2;e.set(m)}return 0}}});var G_=z((pdt,BG)=>{d();h();BG.exports=kG()(PG())});var CG=z(c3=>{"use strict";d();h();Object.defineProperty(c3,"__esModule",{value:!0});var _G=EN();function XAe(e){return new Promise(function(t,r){_G(e,function(n,i){if(n){r(n);return}t(i)})})}c3.getRandomBytes=XAe;function QAe(e){return _G(e)}c3.getRandomBytesSync=QAe});var DG=z(Fc=>{"use strict";d();h();var eEe=Fc&&Fc.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},tEe=Fc&&Fc.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function rEe(e){for(var t in e)Fc.hasOwnProperty(t)||(Fc[t]=e[t])}Object.defineProperty(Fc,"__esModule",{value:!0});var MG=G_(),NG=CG(),OG=32;function nEe(){return eEe(this,void 0,void 0,function(){var e;return tEe(this,function(t){switch(t.label){case 0:return[4,NG.getRandomBytes(OG)];case 1:return e=t.sent(),MG.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}})})}Fc.createPrivateKey=nEe;function iEe(){for(;;){var e=NG.getRandomBytesSync(OG);if(MG.privateKeyVerify(e))return e}}Fc.createPrivateKeySync=iEe;rEe(G_())});var Qh=z((UG,$_)=>{d();h();(function(e,t){"use strict";function r(B,p){if(!B)throw new Error(p||"Assertion failed")}function n(B,p){B.super_=p;var g=function(){};g.prototype=p.prototype,B.prototype=new g,B.prototype.constructor=B}function i(B,p,g){if(i.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((p==="le"||p==="be")&&(g=p,p=10),this._init(B||0,p||10,g||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=TN().Buffer}catch{}i.isBN=function(p){return p instanceof i?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===i.wordSize&&Array.isArray(p.words)},i.max=function(p,g){return p.cmp(g)>0?p:g},i.min=function(p,g){return p.cmp(g)<0?p:g},i.prototype._init=function(p,g,x){if(typeof p=="number")return this._initNumber(p,g,x);if(typeof p=="object")return this._initArray(p,g,x);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),p=p.toString().replace(/\s+/g,"");var A=0;p[0]==="-"&&(A++,this.negative=1),A<p.length&&(g===16?this._parseHex(p,A,x):(this._parseBase(p,g,A),x==="le"&&this._initArray(this.toArray(),g,x)))},i.prototype._initNumber=function(p,g,x){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),g,x)},i.prototype._initArray=function(p,g,x){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v,_,O=0;if(x==="be")for(A=p.length-1,v=0;A>=0;A-=3)_=p[A]|p[A-1]<<8|p[A-2]<<16,this.words[v]|=_<<O&67108863,this.words[v+1]=_>>>26-O&67108863,O+=24,O>=26&&(O-=26,v++);else if(x==="le")for(A=0,v=0;A<p.length;A+=3)_=p[A]|p[A+1]<<8|p[A+2]<<16,this.words[v]|=_<<O&67108863,this.words[v+1]=_>>>26-O&67108863,O+=24,O>=26&&(O-=26,v++);return this.strip()};function s(B,p){var g=B.charCodeAt(p);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}function a(B,p,g){var x=s(B,g);return g-1>=p&&(x|=s(B,g-1)<<4),x}i.prototype._parseHex=function(p,g,x){this.length=Math.ceil((p.length-g)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v=0,_=0,O;if(x==="be")for(A=p.length-1;A>=g;A-=2)O=a(p,g,A)<<v,this.words[_]|=O&67108863,v>=18?(v-=18,_+=1,this.words[_]|=O>>>26):v+=8;else{var T=p.length-g;for(A=T%2===0?g+1:g;A<p.length;A+=2)O=a(p,g,A)<<v,this.words[_]|=O&67108863,v>=18?(v-=18,_+=1,this.words[_]|=O>>>26):v+=8}this.strip()};function c(B,p,g,x){for(var A=0,v=Math.min(B.length,g),_=p;_<v;_++){var O=B.charCodeAt(_)-48;A*=x,O>=49?A+=O-49+10:O>=17?A+=O-17+10:A+=O}return A}i.prototype._parseBase=function(p,g,x){this.words=[0],this.length=1;for(var A=0,v=1;v<=67108863;v*=g)A++;A--,v=v/g|0;for(var _=p.length-x,O=_%A,T=Math.min(_,_-O)+x,y=0,I=x;I<T;I+=A)y=c(p,I,I+A,g),this.imuln(v),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(O!==0){var q=1;for(y=c(p,I,p.length,g),I=0;I<O;I++)q*=g;this.imuln(q),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this.strip()},i.prototype.copy=function(p){p.words=new Array(this.length);for(var g=0;g<this.length;g++)p.words[g]=this.words[g];p.length=this.length,p.negative=this.negative,p.red=this.red},i.prototype.clone=function(){var p=new i(null);return this.copy(p),p},i.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(p,g){p=p||10,g=g|0||1;var x;if(p===16||p==="hex"){x="";for(var A=0,v=0,_=0;_<this.length;_++){var O=this.words[_],T=((O<<A|v)&16777215).toString(16);v=O>>>24-A&16777215,v!==0||_!==this.length-1?x=u[6-T.length]+T+x:x=T+x,A+=2,A>=26&&(A-=26,_--)}for(v!==0&&(x=v.toString(16)+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(p===(p|0)&&p>=2&&p<=36){var y=l[p],I=f[p];x="";var q=this.clone();for(q.negative=0;!q.isZero();){var K=q.modn(I).toString(p);q=q.idivn(I),q.isZero()?x=K+x:x=u[y-K.length]+K+x}for(this.isZero()&&(x="0"+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(p,g){return r(typeof o<"u"),this.toArrayLike(o,p,g)},i.prototype.toArray=function(p,g){return this.toArrayLike(Array,p,g)},i.prototype.toArrayLike=function(p,g,x){var A=this.byteLength(),v=x||Math.max(1,A);r(A<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var _=g==="le",O=new p(v),T,y,I=this.clone();if(_){for(y=0;!I.isZero();y++)T=I.andln(255),I.iushrn(8),O[y]=T;for(;y<v;y++)O[y]=0}else{for(y=0;y<v-A;y++)O[y]=0;for(y=0;!I.isZero();y++)T=I.andln(255),I.iushrn(8),O[v-y-1]=T}return O},Math.clz32?i.prototype._countBits=function(p){return 32-Math.clz32(p)}:i.prototype._countBits=function(p){var g=p,x=0;return g>=4096&&(x+=13,g>>>=13),g>=64&&(x+=7,g>>>=7),g>=8&&(x+=4,g>>>=4),g>=2&&(x+=2,g>>>=2),x+g},i.prototype._zeroBits=function(p){if(p===0)return 26;var g=p,x=0;return g&8191||(x+=13,g>>>=13),g&127||(x+=7,g>>>=7),g&15||(x+=4,g>>>=4),g&3||(x+=2,g>>>=2),g&1||x++,x},i.prototype.bitLength=function(){var p=this.words[this.length-1],g=this._countBits(p);return(this.length-1)*26+g};function m(B){for(var p=new Array(B.bitLength()),g=0;g<p.length;g++){var x=g/26|0,A=g%26;p[g]=(B.words[x]&1<<A)>>>A}return p}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,g=0;g<this.length;g++){var x=this._zeroBits(this.words[g]);if(p+=x,x!==26)break}return p},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},i.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]|p.words[g];return this.strip()},i.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},i.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},i.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},i.prototype.iuand=function(p){var g;this.length>p.length?g=p:g=this;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]&p.words[x];return this.length=g.length,this.strip()},i.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},i.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},i.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},i.prototype.iuxor=function(p){var g,x;this.length>p.length?(g=this,x=p):(g=p,x=this);for(var A=0;A<x.length;A++)this.words[A]=g.words[A]^x.words[A];if(this!==g)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=g.length,this.strip()},i.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},i.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},i.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},i.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var g=Math.ceil(p/26)|0,x=p%26;this._expand(g),x>0&&g--;for(var A=0;A<g;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this.strip()},i.prototype.notn=function(p){return this.clone().inotn(p)},i.prototype.setn=function(p,g){r(typeof p=="number"&&p>=0);var x=p/26|0,A=p%26;return this._expand(x+1),g?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this.strip()},i.prototype.iadd=function(p){var g;if(this.negative!==0&&p.negative===0)return this.negative=0,g=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,g=this.isub(p),p.negative=1,g._normSign();var x,A;this.length>p.length?(x=this,A=p):(x=p,A=this);for(var v=0,_=0;_<A.length;_++)g=(x.words[_]|0)+(A.words[_]|0)+v,this.words[_]=g&67108863,v=g>>>26;for(;v!==0&&_<x.length;_++)g=(x.words[_]|0)+v,this.words[_]=g&67108863,v=g>>>26;if(this.length=x.length,v!==0)this.words[this.length]=v,this.length++;else if(x!==this)for(;_<x.length;_++)this.words[_]=x.words[_];return this},i.prototype.add=function(p){var g;return p.negative!==0&&this.negative===0?(p.negative=0,g=this.sub(p),p.negative^=1,g):p.negative===0&&this.negative!==0?(this.negative=0,g=p.sub(this),this.negative=1,g):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},i.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var g=this.iadd(p);return p.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var x=this.cmp(p);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,v;x>0?(A=this,v=p):(A=p,v=this);for(var _=0,O=0;O<v.length;O++)g=(A.words[O]|0)-(v.words[O]|0)+_,_=g>>26,this.words[O]=g&67108863;for(;_!==0&&O<A.length;O++)g=(A.words[O]|0)+_,_=g>>26,this.words[O]=g&67108863;if(_===0&&O<A.length&&A!==this)for(;O<A.length;O++)this.words[O]=A.words[O];return this.length=Math.max(this.length,O),A!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(p){return this.clone().isub(p)};function b(B,p,g){g.negative=p.negative^B.negative;var x=B.length+p.length|0;g.length=x,x=x-1|0;var A=B.words[0]|0,v=p.words[0]|0,_=A*v,O=_&67108863,T=_/67108864|0;g.words[0]=O;for(var y=1;y<x;y++){for(var I=T>>>26,q=T&67108863,K=Math.min(y,p.length-1),F=Math.max(0,y-B.length+1);F<=K;F++){var J=y-F|0;A=B.words[J]|0,v=p.words[F]|0,_=A*v+q,I+=_/67108864|0,q=_&67108863}g.words[y]=q|0,T=I|0}return T!==0?g.words[y]=T|0:g.length--,g.strip()}var w=function(p,g,x){var A=p.words,v=g.words,_=x.words,O=0,T,y,I,q=A[0]|0,K=q&8191,F=q>>>13,J=A[1]|0,ae=J&8191,ce=J>>>13,pe=A[2]|0,Y=pe&8191,V=pe>>>13,Z=A[3]|0,X=Z&8191,ee=Z>>>13,he=A[4]|0,te=he&8191,se=he>>>13,gt=A[5]|0,Be=gt&8191,Ue=gt>>>13,ms=A[6]|0,Fe=ms&8191,Re=ms>>>13,ac=A[7]|0,Le=ac&8191,ft=ac>>>13,yf=A[8]|0,lt=yf&8191,dt=yf>>>13,tu=A[9]|0,He=tu&8191,qe=tu>>>13,ru=v[0]|0,We=ru&8191,je=ru>>>13,nu=v[1]|0,ze=nu&8191,Ge=nu>>>13,iu=v[2]|0,$e=iu&8191,Ye=iu>>>13,ou=v[3]|0,Ze=ou&8191,Je=ou>>>13,su=v[4]|0,Xe=su&8191,Qe=su>>>13,au=v[5]|0,et=au&8191,tt=au>>>13,cu=v[6]|0,rt=cu&8191,nt=cu>>>13,uu=v[7]|0,it=uu&8191,ot=uu>>>13,fu=v[8]|0,st=fu&8191,at=fu>>>13,lu=v[9]|0,ct=lu&8191,ut=lu>>>13;x.negative=p.negative^g.negative,x.length=19,T=Math.imul(K,We),y=Math.imul(K,je),y=y+Math.imul(F,We)|0,I=Math.imul(F,je);var ra=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ra>>>26)|0,ra&=67108863,T=Math.imul(ae,We),y=Math.imul(ae,je),y=y+Math.imul(ce,We)|0,I=Math.imul(ce,je),T=T+Math.imul(K,ze)|0,y=y+Math.imul(K,Ge)|0,y=y+Math.imul(F,ze)|0,I=I+Math.imul(F,Ge)|0;var na=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(na>>>26)|0,na&=67108863,T=Math.imul(Y,We),y=Math.imul(Y,je),y=y+Math.imul(V,We)|0,I=Math.imul(V,je),T=T+Math.imul(ae,ze)|0,y=y+Math.imul(ae,Ge)|0,y=y+Math.imul(ce,ze)|0,I=I+Math.imul(ce,Ge)|0,T=T+Math.imul(K,$e)|0,y=y+Math.imul(K,Ye)|0,y=y+Math.imul(F,$e)|0,I=I+Math.imul(F,Ye)|0;var ia=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ia>>>26)|0,ia&=67108863,T=Math.imul(X,We),y=Math.imul(X,je),y=y+Math.imul(ee,We)|0,I=Math.imul(ee,je),T=T+Math.imul(Y,ze)|0,y=y+Math.imul(Y,Ge)|0,y=y+Math.imul(V,ze)|0,I=I+Math.imul(V,Ge)|0,T=T+Math.imul(ae,$e)|0,y=y+Math.imul(ae,Ye)|0,y=y+Math.imul(ce,$e)|0,I=I+Math.imul(ce,Ye)|0,T=T+Math.imul(K,Ze)|0,y=y+Math.imul(K,Je)|0,y=y+Math.imul(F,Ze)|0,I=I+Math.imul(F,Je)|0;var oa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(oa>>>26)|0,oa&=67108863,T=Math.imul(te,We),y=Math.imul(te,je),y=y+Math.imul(se,We)|0,I=Math.imul(se,je),T=T+Math.imul(X,ze)|0,y=y+Math.imul(X,Ge)|0,y=y+Math.imul(ee,ze)|0,I=I+Math.imul(ee,Ge)|0,T=T+Math.imul(Y,$e)|0,y=y+Math.imul(Y,Ye)|0,y=y+Math.imul(V,$e)|0,I=I+Math.imul(V,Ye)|0,T=T+Math.imul(ae,Ze)|0,y=y+Math.imul(ae,Je)|0,y=y+Math.imul(ce,Ze)|0,I=I+Math.imul(ce,Je)|0,T=T+Math.imul(K,Xe)|0,y=y+Math.imul(K,Qe)|0,y=y+Math.imul(F,Xe)|0,I=I+Math.imul(F,Qe)|0;var sa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(sa>>>26)|0,sa&=67108863,T=Math.imul(Be,We),y=Math.imul(Be,je),y=y+Math.imul(Ue,We)|0,I=Math.imul(Ue,je),T=T+Math.imul(te,ze)|0,y=y+Math.imul(te,Ge)|0,y=y+Math.imul(se,ze)|0,I=I+Math.imul(se,Ge)|0,T=T+Math.imul(X,$e)|0,y=y+Math.imul(X,Ye)|0,y=y+Math.imul(ee,$e)|0,I=I+Math.imul(ee,Ye)|0,T=T+Math.imul(Y,Ze)|0,y=y+Math.imul(Y,Je)|0,y=y+Math.imul(V,Ze)|0,I=I+Math.imul(V,Je)|0,T=T+Math.imul(ae,Xe)|0,y=y+Math.imul(ae,Qe)|0,y=y+Math.imul(ce,Xe)|0,I=I+Math.imul(ce,Qe)|0,T=T+Math.imul(K,et)|0,y=y+Math.imul(K,tt)|0,y=y+Math.imul(F,et)|0,I=I+Math.imul(F,tt)|0;var aa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(aa>>>26)|0,aa&=67108863,T=Math.imul(Fe,We),y=Math.imul(Fe,je),y=y+Math.imul(Re,We)|0,I=Math.imul(Re,je),T=T+Math.imul(Be,ze)|0,y=y+Math.imul(Be,Ge)|0,y=y+Math.imul(Ue,ze)|0,I=I+Math.imul(Ue,Ge)|0,T=T+Math.imul(te,$e)|0,y=y+Math.imul(te,Ye)|0,y=y+Math.imul(se,$e)|0,I=I+Math.imul(se,Ye)|0,T=T+Math.imul(X,Ze)|0,y=y+Math.imul(X,Je)|0,y=y+Math.imul(ee,Ze)|0,I=I+Math.imul(ee,Je)|0,T=T+Math.imul(Y,Xe)|0,y=y+Math.imul(Y,Qe)|0,y=y+Math.imul(V,Xe)|0,I=I+Math.imul(V,Qe)|0,T=T+Math.imul(ae,et)|0,y=y+Math.imul(ae,tt)|0,y=y+Math.imul(ce,et)|0,I=I+Math.imul(ce,tt)|0,T=T+Math.imul(K,rt)|0,y=y+Math.imul(K,nt)|0,y=y+Math.imul(F,rt)|0,I=I+Math.imul(F,nt)|0;var ca=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ca>>>26)|0,ca&=67108863,T=Math.imul(Le,We),y=Math.imul(Le,je),y=y+Math.imul(ft,We)|0,I=Math.imul(ft,je),T=T+Math.imul(Fe,ze)|0,y=y+Math.imul(Fe,Ge)|0,y=y+Math.imul(Re,ze)|0,I=I+Math.imul(Re,Ge)|0,T=T+Math.imul(Be,$e)|0,y=y+Math.imul(Be,Ye)|0,y=y+Math.imul(Ue,$e)|0,I=I+Math.imul(Ue,Ye)|0,T=T+Math.imul(te,Ze)|0,y=y+Math.imul(te,Je)|0,y=y+Math.imul(se,Ze)|0,I=I+Math.imul(se,Je)|0,T=T+Math.imul(X,Xe)|0,y=y+Math.imul(X,Qe)|0,y=y+Math.imul(ee,Xe)|0,I=I+Math.imul(ee,Qe)|0,T=T+Math.imul(Y,et)|0,y=y+Math.imul(Y,tt)|0,y=y+Math.imul(V,et)|0,I=I+Math.imul(V,tt)|0,T=T+Math.imul(ae,rt)|0,y=y+Math.imul(ae,nt)|0,y=y+Math.imul(ce,rt)|0,I=I+Math.imul(ce,nt)|0,T=T+Math.imul(K,it)|0,y=y+Math.imul(K,ot)|0,y=y+Math.imul(F,it)|0,I=I+Math.imul(F,ot)|0;var ua=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ua>>>26)|0,ua&=67108863,T=Math.imul(lt,We),y=Math.imul(lt,je),y=y+Math.imul(dt,We)|0,I=Math.imul(dt,je),T=T+Math.imul(Le,ze)|0,y=y+Math.imul(Le,Ge)|0,y=y+Math.imul(ft,ze)|0,I=I+Math.imul(ft,Ge)|0,T=T+Math.imul(Fe,$e)|0,y=y+Math.imul(Fe,Ye)|0,y=y+Math.imul(Re,$e)|0,I=I+Math.imul(Re,Ye)|0,T=T+Math.imul(Be,Ze)|0,y=y+Math.imul(Be,Je)|0,y=y+Math.imul(Ue,Ze)|0,I=I+Math.imul(Ue,Je)|0,T=T+Math.imul(te,Xe)|0,y=y+Math.imul(te,Qe)|0,y=y+Math.imul(se,Xe)|0,I=I+Math.imul(se,Qe)|0,T=T+Math.imul(X,et)|0,y=y+Math.imul(X,tt)|0,y=y+Math.imul(ee,et)|0,I=I+Math.imul(ee,tt)|0,T=T+Math.imul(Y,rt)|0,y=y+Math.imul(Y,nt)|0,y=y+Math.imul(V,rt)|0,I=I+Math.imul(V,nt)|0,T=T+Math.imul(ae,it)|0,y=y+Math.imul(ae,ot)|0,y=y+Math.imul(ce,it)|0,I=I+Math.imul(ce,ot)|0,T=T+Math.imul(K,st)|0,y=y+Math.imul(K,at)|0,y=y+Math.imul(F,st)|0,I=I+Math.imul(F,at)|0;var fa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(fa>>>26)|0,fa&=67108863,T=Math.imul(He,We),y=Math.imul(He,je),y=y+Math.imul(qe,We)|0,I=Math.imul(qe,je),T=T+Math.imul(lt,ze)|0,y=y+Math.imul(lt,Ge)|0,y=y+Math.imul(dt,ze)|0,I=I+Math.imul(dt,Ge)|0,T=T+Math.imul(Le,$e)|0,y=y+Math.imul(Le,Ye)|0,y=y+Math.imul(ft,$e)|0,I=I+Math.imul(ft,Ye)|0,T=T+Math.imul(Fe,Ze)|0,y=y+Math.imul(Fe,Je)|0,y=y+Math.imul(Re,Ze)|0,I=I+Math.imul(Re,Je)|0,T=T+Math.imul(Be,Xe)|0,y=y+Math.imul(Be,Qe)|0,y=y+Math.imul(Ue,Xe)|0,I=I+Math.imul(Ue,Qe)|0,T=T+Math.imul(te,et)|0,y=y+Math.imul(te,tt)|0,y=y+Math.imul(se,et)|0,I=I+Math.imul(se,tt)|0,T=T+Math.imul(X,rt)|0,y=y+Math.imul(X,nt)|0,y=y+Math.imul(ee,rt)|0,I=I+Math.imul(ee,nt)|0,T=T+Math.imul(Y,it)|0,y=y+Math.imul(Y,ot)|0,y=y+Math.imul(V,it)|0,I=I+Math.imul(V,ot)|0,T=T+Math.imul(ae,st)|0,y=y+Math.imul(ae,at)|0,y=y+Math.imul(ce,st)|0,I=I+Math.imul(ce,at)|0,T=T+Math.imul(K,ct)|0,y=y+Math.imul(K,ut)|0,y=y+Math.imul(F,ct)|0,I=I+Math.imul(F,ut)|0;var la=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(la>>>26)|0,la&=67108863,T=Math.imul(He,ze),y=Math.imul(He,Ge),y=y+Math.imul(qe,ze)|0,I=Math.imul(qe,Ge),T=T+Math.imul(lt,$e)|0,y=y+Math.imul(lt,Ye)|0,y=y+Math.imul(dt,$e)|0,I=I+Math.imul(dt,Ye)|0,T=T+Math.imul(Le,Ze)|0,y=y+Math.imul(Le,Je)|0,y=y+Math.imul(ft,Ze)|0,I=I+Math.imul(ft,Je)|0,T=T+Math.imul(Fe,Xe)|0,y=y+Math.imul(Fe,Qe)|0,y=y+Math.imul(Re,Xe)|0,I=I+Math.imul(Re,Qe)|0,T=T+Math.imul(Be,et)|0,y=y+Math.imul(Be,tt)|0,y=y+Math.imul(Ue,et)|0,I=I+Math.imul(Ue,tt)|0,T=T+Math.imul(te,rt)|0,y=y+Math.imul(te,nt)|0,y=y+Math.imul(se,rt)|0,I=I+Math.imul(se,nt)|0,T=T+Math.imul(X,it)|0,y=y+Math.imul(X,ot)|0,y=y+Math.imul(ee,it)|0,I=I+Math.imul(ee,ot)|0,T=T+Math.imul(Y,st)|0,y=y+Math.imul(Y,at)|0,y=y+Math.imul(V,st)|0,I=I+Math.imul(V,at)|0,T=T+Math.imul(ae,ct)|0,y=y+Math.imul(ae,ut)|0,y=y+Math.imul(ce,ct)|0,I=I+Math.imul(ce,ut)|0;var da=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(da>>>26)|0,da&=67108863,T=Math.imul(He,$e),y=Math.imul(He,Ye),y=y+Math.imul(qe,$e)|0,I=Math.imul(qe,Ye),T=T+Math.imul(lt,Ze)|0,y=y+Math.imul(lt,Je)|0,y=y+Math.imul(dt,Ze)|0,I=I+Math.imul(dt,Je)|0,T=T+Math.imul(Le,Xe)|0,y=y+Math.imul(Le,Qe)|0,y=y+Math.imul(ft,Xe)|0,I=I+Math.imul(ft,Qe)|0,T=T+Math.imul(Fe,et)|0,y=y+Math.imul(Fe,tt)|0,y=y+Math.imul(Re,et)|0,I=I+Math.imul(Re,tt)|0,T=T+Math.imul(Be,rt)|0,y=y+Math.imul(Be,nt)|0,y=y+Math.imul(Ue,rt)|0,I=I+Math.imul(Ue,nt)|0,T=T+Math.imul(te,it)|0,y=y+Math.imul(te,ot)|0,y=y+Math.imul(se,it)|0,I=I+Math.imul(se,ot)|0,T=T+Math.imul(X,st)|0,y=y+Math.imul(X,at)|0,y=y+Math.imul(ee,st)|0,I=I+Math.imul(ee,at)|0,T=T+Math.imul(Y,ct)|0,y=y+Math.imul(Y,ut)|0,y=y+Math.imul(V,ct)|0,I=I+Math.imul(V,ut)|0;var ha=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ha>>>26)|0,ha&=67108863,T=Math.imul(He,Ze),y=Math.imul(He,Je),y=y+Math.imul(qe,Ze)|0,I=Math.imul(qe,Je),T=T+Math.imul(lt,Xe)|0,y=y+Math.imul(lt,Qe)|0,y=y+Math.imul(dt,Xe)|0,I=I+Math.imul(dt,Qe)|0,T=T+Math.imul(Le,et)|0,y=y+Math.imul(Le,tt)|0,y=y+Math.imul(ft,et)|0,I=I+Math.imul(ft,tt)|0,T=T+Math.imul(Fe,rt)|0,y=y+Math.imul(Fe,nt)|0,y=y+Math.imul(Re,rt)|0,I=I+Math.imul(Re,nt)|0,T=T+Math.imul(Be,it)|0,y=y+Math.imul(Be,ot)|0,y=y+Math.imul(Ue,it)|0,I=I+Math.imul(Ue,ot)|0,T=T+Math.imul(te,st)|0,y=y+Math.imul(te,at)|0,y=y+Math.imul(se,st)|0,I=I+Math.imul(se,at)|0,T=T+Math.imul(X,ct)|0,y=y+Math.imul(X,ut)|0,y=y+Math.imul(ee,ct)|0,I=I+Math.imul(ee,ut)|0;var pa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(pa>>>26)|0,pa&=67108863,T=Math.imul(He,Xe),y=Math.imul(He,Qe),y=y+Math.imul(qe,Xe)|0,I=Math.imul(qe,Qe),T=T+Math.imul(lt,et)|0,y=y+Math.imul(lt,tt)|0,y=y+Math.imul(dt,et)|0,I=I+Math.imul(dt,tt)|0,T=T+Math.imul(Le,rt)|0,y=y+Math.imul(Le,nt)|0,y=y+Math.imul(ft,rt)|0,I=I+Math.imul(ft,nt)|0,T=T+Math.imul(Fe,it)|0,y=y+Math.imul(Fe,ot)|0,y=y+Math.imul(Re,it)|0,I=I+Math.imul(Re,ot)|0,T=T+Math.imul(Be,st)|0,y=y+Math.imul(Be,at)|0,y=y+Math.imul(Ue,st)|0,I=I+Math.imul(Ue,at)|0,T=T+Math.imul(te,ct)|0,y=y+Math.imul(te,ut)|0,y=y+Math.imul(se,ct)|0,I=I+Math.imul(se,ut)|0;var ya=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ya>>>26)|0,ya&=67108863,T=Math.imul(He,et),y=Math.imul(He,tt),y=y+Math.imul(qe,et)|0,I=Math.imul(qe,tt),T=T+Math.imul(lt,rt)|0,y=y+Math.imul(lt,nt)|0,y=y+Math.imul(dt,rt)|0,I=I+Math.imul(dt,nt)|0,T=T+Math.imul(Le,it)|0,y=y+Math.imul(Le,ot)|0,y=y+Math.imul(ft,it)|0,I=I+Math.imul(ft,ot)|0,T=T+Math.imul(Fe,st)|0,y=y+Math.imul(Fe,at)|0,y=y+Math.imul(Re,st)|0,I=I+Math.imul(Re,at)|0,T=T+Math.imul(Be,ct)|0,y=y+Math.imul(Be,ut)|0,y=y+Math.imul(Ue,ct)|0,I=I+Math.imul(Ue,ut)|0;var ma=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ma>>>26)|0,ma&=67108863,T=Math.imul(He,rt),y=Math.imul(He,nt),y=y+Math.imul(qe,rt)|0,I=Math.imul(qe,nt),T=T+Math.imul(lt,it)|0,y=y+Math.imul(lt,ot)|0,y=y+Math.imul(dt,it)|0,I=I+Math.imul(dt,ot)|0,T=T+Math.imul(Le,st)|0,y=y+Math.imul(Le,at)|0,y=y+Math.imul(ft,st)|0,I=I+Math.imul(ft,at)|0,T=T+Math.imul(Fe,ct)|0,y=y+Math.imul(Fe,ut)|0,y=y+Math.imul(Re,ct)|0,I=I+Math.imul(Re,ut)|0;var ga=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ga>>>26)|0,ga&=67108863,T=Math.imul(He,it),y=Math.imul(He,ot),y=y+Math.imul(qe,it)|0,I=Math.imul(qe,ot),T=T+Math.imul(lt,st)|0,y=y+Math.imul(lt,at)|0,y=y+Math.imul(dt,st)|0,I=I+Math.imul(dt,at)|0,T=T+Math.imul(Le,ct)|0,y=y+Math.imul(Le,ut)|0,y=y+Math.imul(ft,ct)|0,I=I+Math.imul(ft,ut)|0;var ba=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ba>>>26)|0,ba&=67108863,T=Math.imul(He,st),y=Math.imul(He,at),y=y+Math.imul(qe,st)|0,I=Math.imul(qe,at),T=T+Math.imul(lt,ct)|0,y=y+Math.imul(lt,ut)|0,y=y+Math.imul(dt,ct)|0,I=I+Math.imul(dt,ut)|0;var Kd=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(Kd>>>26)|0,Kd&=67108863,T=Math.imul(He,ct),y=Math.imul(He,ut),y=y+Math.imul(qe,ct)|0,I=Math.imul(qe,ut);var Vd=(O+T|0)+((y&8191)<<13)|0;return O=(I+(y>>>13)|0)+(Vd>>>26)|0,Vd&=67108863,_[0]=ra,_[1]=na,_[2]=ia,_[3]=oa,_[4]=sa,_[5]=aa,_[6]=ca,_[7]=ua,_[8]=fa,_[9]=la,_[10]=da,_[11]=ha,_[12]=pa,_[13]=ya,_[14]=ma,_[15]=ga,_[16]=ba,_[17]=Kd,_[18]=Vd,O!==0&&(_[19]=O,x.length++),x};Math.imul||(w=b);function S(B,p,g){g.negative=p.negative^B.negative,g.length=B.length+p.length;for(var x=0,A=0,v=0;v<g.length-1;v++){var _=A;A=0;for(var O=x&67108863,T=Math.min(v,p.length-1),y=Math.max(0,v-B.length+1);y<=T;y++){var I=v-y,q=B.words[I]|0,K=p.words[y]|0,F=q*K,J=F&67108863;_=_+(F/67108864|0)|0,J=J+O|0,O=J&67108863,_=_+(J>>>26)|0,A+=_>>>26,_&=67108863}g.words[v]=O,x=_,_=A}return x!==0?g.words[v]=x:g.length--,g.strip()}function P(B,p,g){var x=new M;return x.mulp(B,p,g)}i.prototype.mulTo=function(p,g){var x,A=this.length+p.length;return this.length===10&&p.length===10?x=w(this,p,g):A<63?x=b(this,p,g):A<1024?x=S(this,p,g):x=P(this,p,g),x};function M(B,p){this.x=B,this.y=p}M.prototype.makeRBT=function(p){for(var g=new Array(p),x=i.prototype._countBits(p)-1,A=0;A<p;A++)g[A]=this.revBin(A,x,p);return g},M.prototype.revBin=function(p,g,x){if(p===0||p===x-1)return p;for(var A=0,v=0;v<g;v++)A|=(p&1)<<g-v-1,p>>=1;return A},M.prototype.permute=function(p,g,x,A,v,_){for(var O=0;O<_;O++)A[O]=g[p[O]],v[O]=x[p[O]]},M.prototype.transform=function(p,g,x,A,v,_){this.permute(_,p,g,x,A,v);for(var O=1;O<v;O<<=1)for(var T=O<<1,y=Math.cos(2*Math.PI/T),I=Math.sin(2*Math.PI/T),q=0;q<v;q+=T)for(var K=y,F=I,J=0;J<O;J++){var ae=x[q+J],ce=A[q+J],pe=x[q+J+O],Y=A[q+J+O],V=K*pe-F*Y;Y=K*Y+F*pe,pe=V,x[q+J]=ae+pe,A[q+J]=ce+Y,x[q+J+O]=ae-pe,A[q+J+O]=ce-Y,J!==T&&(V=y*K-I*F,F=y*F+I*K,K=V)}},M.prototype.guessLen13b=function(p,g){var x=Math.max(g,p)|1,A=x&1,v=0;for(x=x/2|0;x;x=x>>>1)v++;return 1<<v+1+A},M.prototype.conjugate=function(p,g,x){if(!(x<=1))for(var A=0;A<x/2;A++){var v=p[A];p[A]=p[x-A-1],p[x-A-1]=v,v=g[A],g[A]=-g[x-A-1],g[x-A-1]=-v}},M.prototype.normalize13b=function(p,g){for(var x=0,A=0;A<g/2;A++){var v=Math.round(p[2*A+1]/g)*8192+Math.round(p[2*A]/g)+x;p[A]=v&67108863,v<67108864?x=0:x=v/67108864|0}return p},M.prototype.convert13b=function(p,g,x,A){for(var v=0,_=0;_<g;_++)v=v+(p[_]|0),x[2*_]=v&8191,v=v>>>13,x[2*_+1]=v&8191,v=v>>>13;for(_=2*g;_<A;++_)x[_]=0;r(v===0),r((v&-8192)===0)},M.prototype.stub=function(p){for(var g=new Array(p),x=0;x<p;x++)g[x]=0;return g},M.prototype.mulp=function(p,g,x){var A=2*this.guessLen13b(p.length,g.length),v=this.makeRBT(A),_=this.stub(A),O=new Array(A),T=new Array(A),y=new Array(A),I=new Array(A),q=new Array(A),K=new Array(A),F=x.words;F.length=A,this.convert13b(p.words,p.length,O,A),this.convert13b(g.words,g.length,I,A),this.transform(O,_,T,y,A,v),this.transform(I,_,q,K,A,v);for(var J=0;J<A;J++){var ae=T[J]*q[J]-y[J]*K[J];y[J]=T[J]*K[J]+y[J]*q[J],T[J]=ae}return this.conjugate(T,y,A),this.transform(T,y,F,_,A,v),this.conjugate(F,_,A),this.normalize13b(F,A),x.negative=p.negative^g.negative,x.length=p.length+g.length,x.strip()},i.prototype.mul=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),this.mulTo(p,g)},i.prototype.mulf=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),P(this,p,g)},i.prototype.imul=function(p){return this.clone().mulTo(p,this)},i.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var g=0,x=0;x<this.length;x++){var A=(this.words[x]|0)*p,v=(A&67108863)+(g&67108863);g>>=26,g+=A/67108864|0,g+=v>>>26,this.words[x]=v&67108863}return g!==0&&(this.words[x]=g,this.length++),this},i.prototype.muln=function(p){return this.clone().imuln(p)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(p){var g=m(p);if(g.length===0)return new i(1);for(var x=this,A=0;A<g.length&&g[A]===0;A++,x=x.sqr());if(++A<g.length)for(var v=x.sqr();A<g.length;A++,v=v.sqr())g[A]!==0&&(x=x.mul(v));return x},i.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var g=p%26,x=(p-g)/26,A=67108863>>>26-g<<26-g,v;if(g!==0){var _=0;for(v=0;v<this.length;v++){var O=this.words[v]&A,T=(this.words[v]|0)-O<<g;this.words[v]=T|_,_=O>>>26-g}_&&(this.words[v]=_,this.length++)}if(x!==0){for(v=this.length-1;v>=0;v--)this.words[v+x]=this.words[v];for(v=0;v<x;v++)this.words[v]=0;this.length+=x}return this.strip()},i.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},i.prototype.iushrn=function(p,g,x){r(typeof p=="number"&&p>=0);var A;g?A=(g-g%26)/26:A=0;var v=p%26,_=Math.min((p-v)/26,this.length),O=67108863^67108863>>>v<<v,T=x;if(A-=_,A=Math.max(0,A),T){for(var y=0;y<_;y++)T.words[y]=this.words[y];T.length=_}if(_!==0)if(this.length>_)for(this.length-=_,y=0;y<this.length;y++)this.words[y]=this.words[y+_];else this.words[0]=0,this.length=1;var I=0;for(y=this.length-1;y>=0&&(I!==0||y>=A);y--){var q=this.words[y]|0;this.words[y]=I<<26-v|q>>>v,I=q&O}return T&&I!==0&&(T.words[T.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(p,g,x){return r(this.negative===0),this.iushrn(p,g,x)},i.prototype.shln=function(p){return this.clone().ishln(p)},i.prototype.ushln=function(p){return this.clone().iushln(p)},i.prototype.shrn=function(p){return this.clone().ishrn(p)},i.prototype.ushrn=function(p){return this.clone().iushrn(p)},i.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var g=p%26,x=(p-g)/26,A=1<<g;if(this.length<=x)return!1;var v=this.words[x];return!!(v&A)},i.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var g=p%26,x=(p-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(g!==0&&x++,this.length=Math.min(x,this.length),g!==0){var A=67108863^67108863>>>g<<g;this.words[this.length-1]&=A}return this.strip()},i.prototype.maskn=function(p){return this.clone().imaskn(p)},i.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},i.prototype._iaddn=function(p){this.words[0]+=p;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},i.prototype.addn=function(p){return this.clone().iaddn(p)},i.prototype.subn=function(p){return this.clone().isubn(p)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(p,g,x){var A=p.length+x,v;this._expand(A);var _,O=0;for(v=0;v<p.length;v++){_=(this.words[v+x]|0)+O;var T=(p.words[v]|0)*g;_-=T&67108863,O=(_>>26)-(T/67108864|0),this.words[v+x]=_&67108863}for(;v<this.length-x;v++)_=(this.words[v+x]|0)+O,O=_>>26,this.words[v+x]=_&67108863;if(O===0)return this.strip();for(r(O===-1),O=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+O,O=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(p,g){var x=this.length-p.length,A=this.clone(),v=p,_=v.words[v.length-1]|0,O=this._countBits(_);x=26-O,x!==0&&(v=v.ushln(x),A.iushln(x),_=v.words[v.length-1]|0);var T=A.length-v.length,y;if(g!=="mod"){y=new i(null),y.length=T+1,y.words=new Array(y.length);for(var I=0;I<y.length;I++)y.words[I]=0}var q=A.clone()._ishlnsubmul(v,1,T);q.negative===0&&(A=q,y&&(y.words[T]=1));for(var K=T-1;K>=0;K--){var F=(A.words[v.length+K]|0)*67108864+(A.words[v.length+K-1]|0);for(F=Math.min(F/_|0,67108863),A._ishlnsubmul(v,F,K);A.negative!==0;)F--,A.negative=0,A._ishlnsubmul(v,1,K),A.isZero()||(A.negative^=1);y&&(y.words[K]=F)}return y&&y.strip(),A.strip(),g!=="div"&&x!==0&&A.iushrn(x),{div:y||null,mod:A}},i.prototype.divmod=function(p,g,x){if(r(!p.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,v,_;return this.negative!==0&&p.negative===0?(_=this.neg().divmod(p,g),g!=="mod"&&(A=_.div.neg()),g!=="div"&&(v=_.mod.neg(),x&&v.negative!==0&&v.iadd(p)),{div:A,mod:v}):this.negative===0&&p.negative!==0?(_=this.divmod(p.neg(),g),g!=="mod"&&(A=_.div.neg()),{div:A,mod:_.mod}):this.negative&p.negative?(_=this.neg().divmod(p.neg(),g),g!=="div"&&(v=_.mod.neg(),x&&v.negative!==0&&v.isub(p)),{div:_.div,mod:v}):p.length>this.length||this.cmp(p)<0?{div:new i(0),mod:this}:p.length===1?g==="div"?{div:this.divn(p.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new i(this.modn(p.words[0]))}:this._wordDiv(p,g)},i.prototype.div=function(p){return this.divmod(p,"div",!1).div},i.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},i.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},i.prototype.divRound=function(p){var g=this.divmod(p);if(g.mod.isZero())return g.div;var x=g.div.negative!==0?g.mod.isub(p):g.mod,A=p.ushrn(1),v=p.andln(1),_=x.cmp(A);return _<0||v===1&&_===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modn=function(p){r(p<=67108863);for(var g=(1<<26)%p,x=0,A=this.length-1;A>=0;A--)x=(g*x+(this.words[A]|0))%p;return x},i.prototype.idivn=function(p){r(p<=67108863);for(var g=0,x=this.length-1;x>=0;x--){var A=(this.words[x]|0)+g*67108864;this.words[x]=A/p|0,g=A%p}return this.strip()},i.prototype.divn=function(p){return this.clone().idivn(p)},i.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var g=this,x=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var A=new i(1),v=new i(0),_=new i(0),O=new i(1),T=0;g.isEven()&&x.isEven();)g.iushrn(1),x.iushrn(1),++T;for(var y=x.clone(),I=g.clone();!g.isZero();){for(var q=0,K=1;!(g.words[0]&K)&&q<26;++q,K<<=1);if(q>0)for(g.iushrn(q);q-- >0;)(A.isOdd()||v.isOdd())&&(A.iadd(y),v.isub(I)),A.iushrn(1),v.iushrn(1);for(var F=0,J=1;!(x.words[0]&J)&&F<26;++F,J<<=1);if(F>0)for(x.iushrn(F);F-- >0;)(_.isOdd()||O.isOdd())&&(_.iadd(y),O.isub(I)),_.iushrn(1),O.iushrn(1);g.cmp(x)>=0?(g.isub(x),A.isub(_),v.isub(O)):(x.isub(g),_.isub(A),O.isub(v))}return{a:_,b:O,gcd:x.iushln(T)}},i.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var g=this,x=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var A=new i(1),v=new i(0),_=x.clone();g.cmpn(1)>0&&x.cmpn(1)>0;){for(var O=0,T=1;!(g.words[0]&T)&&O<26;++O,T<<=1);if(O>0)for(g.iushrn(O);O-- >0;)A.isOdd()&&A.iadd(_),A.iushrn(1);for(var y=0,I=1;!(x.words[0]&I)&&y<26;++y,I<<=1);if(y>0)for(x.iushrn(y);y-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);g.cmp(x)>=0?(g.isub(x),A.isub(v)):(x.isub(g),v.isub(A))}var q;return g.cmpn(1)===0?q=A:q=v,q.cmpn(0)<0&&q.iadd(p),q},i.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var g=this.clone(),x=p.clone();g.negative=0,x.negative=0;for(var A=0;g.isEven()&&x.isEven();A++)g.iushrn(1),x.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;x.isEven();)x.iushrn(1);var v=g.cmp(x);if(v<0){var _=g;g=x,x=_}else if(v===0||x.cmpn(1)===0)break;g.isub(x)}while(!0);return x.iushln(A)},i.prototype.invm=function(p){return this.egcd(p).a.umod(p)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(p){return this.words[0]&p},i.prototype.bincn=function(p){r(typeof p=="number");var g=p%26,x=(p-g)/26,A=1<<g;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var v=A,_=x;v!==0&&_<this.length;_++){var O=this.words[_]|0;O+=v,v=O>>>26,O&=67108863,this.words[_]=O}return v!==0&&(this.words[_]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(p){var g=p<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var x;if(this.length>1)x=1;else{g&&(p=-p),r(p<=67108863,"Number is too big");var A=this.words[0]|0;x=A===p?0:A<p?-1:1}return this.negative!==0?-x|0:x},i.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var g=this.ucmp(p);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var g=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,v=p.words[x]|0;if(A!==v){A<v?g=-1:A>v&&(g=1);break}}return g},i.prototype.gtn=function(p){return this.cmpn(p)===1},i.prototype.gt=function(p){return this.cmp(p)===1},i.prototype.gten=function(p){return this.cmpn(p)>=0},i.prototype.gte=function(p){return this.cmp(p)>=0},i.prototype.ltn=function(p){return this.cmpn(p)===-1},i.prototype.lt=function(p){return this.cmp(p)===-1},i.prototype.lten=function(p){return this.cmpn(p)<=0},i.prototype.lte=function(p){return this.cmp(p)<=0},i.prototype.eqn=function(p){return this.cmpn(p)===0},i.prototype.eq=function(p){return this.cmp(p)===0},i.red=function(p){return new H(p)},i.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(p){return this.red=p,this},i.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},i.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},i.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},i.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},i.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},i.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},i.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},i.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var D={k256:null,p224:null,p192:null,p25519:null};function C(B,p){this.name=B,this.p=new i(p,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var p=new i(null);return p.words=new Array(Math.ceil(this.n/13)),p},C.prototype.ireduce=function(p){var g=p,x;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),x=g.bitLength();while(x>this.n);var A=x<this.n?-1:g.ucmp(this.p);return A===0?(g.words[0]=0,g.length=1):A>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},C.prototype.split=function(p,g){p.iushrn(this.n,0,g)},C.prototype.imulK=function(p){return p.imul(this.k)};function R(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(R,C),R.prototype.split=function(p,g){for(var x=4194303,A=Math.min(p.length,9),v=0;v<A;v++)g.words[v]=p.words[v];if(g.length=A,p.length<=9){p.words[0]=0,p.length=1;return}var _=p.words[9];for(g.words[g.length++]=_&x,v=10;v<p.length;v++){var O=p.words[v]|0;p.words[v-10]=(O&x)<<4|_>>>22,_=O}_>>>=22,p.words[v-10]=_,_===0&&p.length>10?p.length-=10:p.length-=9},R.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var g=0,x=0;x<p.length;x++){var A=p.words[x]|0;g+=A*977,p.words[x]=g&67108863,g=A*64+(g/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function L(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(L,C);function W(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(p){for(var g=0,x=0;x<p.length;x++){var A=(p.words[x]|0)*19+g,v=A&67108863;A>>>=26,p.words[x]=v,g=A}return g!==0&&(p.words[p.length++]=g),p},i._prime=function(p){if(D[p])return D[p];var g;if(p==="k256")g=new R;else if(p==="p224")g=new L;else if(p==="p192")g=new W;else if(p==="p25519")g=new G;else throw new Error("Unknown prime "+p);return D[p]=g,g};function H(B){if(typeof B=="string"){var p=i._prime(B);this.m=p.p,this.prime=p}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}H.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},H.prototype._verify2=function(p,g){r((p.negative|g.negative)===0,"red works only with positives"),r(p.red&&p.red===g.red,"red works only with red numbers")},H.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},H.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},H.prototype.add=function(p,g){this._verify2(p,g);var x=p.add(g);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},H.prototype.iadd=function(p,g){this._verify2(p,g);var x=p.iadd(g);return x.cmp(this.m)>=0&&x.isub(this.m),x},H.prototype.sub=function(p,g){this._verify2(p,g);var x=p.sub(g);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},H.prototype.isub=function(p,g){this._verify2(p,g);var x=p.isub(g);return x.cmpn(0)<0&&x.iadd(this.m),x},H.prototype.shl=function(p,g){return this._verify1(p),this.imod(p.ushln(g))},H.prototype.imul=function(p,g){return this._verify2(p,g),this.imod(p.imul(g))},H.prototype.mul=function(p,g){return this._verify2(p,g),this.imod(p.mul(g))},H.prototype.isqr=function(p){return this.imul(p,p.clone())},H.prototype.sqr=function(p){return this.mul(p,p)},H.prototype.sqrt=function(p){if(p.isZero())return p.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var x=this.m.add(new i(1)).iushrn(2);return this.pow(p,x)}for(var A=this.m.subn(1),v=0;!A.isZero()&&A.andln(1)===0;)v++,A.iushrn(1);r(!A.isZero());var _=new i(1).toRed(this),O=_.redNeg(),T=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new i(2*y*y).toRed(this);this.pow(y,T).cmp(O)!==0;)y.redIAdd(O);for(var I=this.pow(y,A),q=this.pow(p,A.addn(1).iushrn(1)),K=this.pow(p,A),F=v;K.cmp(_)!==0;){for(var J=K,ae=0;J.cmp(_)!==0;ae++)J=J.redSqr();r(ae<F);var ce=this.pow(I,new i(1).iushln(F-ae-1));q=q.redMul(ce),I=ce.redSqr(),K=K.redMul(I),F=ae}return q},H.prototype.invm=function(p){var g=p._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},H.prototype.pow=function(p,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return p.clone();var x=4,A=new Array(1<<x);A[0]=new i(1).toRed(this),A[1]=p;for(var v=2;v<A.length;v++)A[v]=this.mul(A[v-1],p);var _=A[0],O=0,T=0,y=g.bitLength()%26;for(y===0&&(y=26),v=g.length-1;v>=0;v--){for(var I=g.words[v],q=y-1;q>=0;q--){var K=I>>q&1;if(_!==A[0]&&(_=this.sqr(_)),K===0&&O===0){T=0;continue}O<<=1,O|=K,T++,!(T!==x&&(v!==0||q!==0))&&(_=this.mul(_,A[O]),T=0,O=0)}y=26}return _},H.prototype.convertTo=function(p){var g=p.umod(this.m);return g===p?g.clone():g},H.prototype.convertFrom=function(p){var g=p.clone();return g.red=null,g},i.mont=function(p){return new $(p)};function $(B){H.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n($,H),$.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},$.prototype.convertFrom=function(p){var g=this.imod(p.mul(this.rinv));return g.red=null,g},$.prototype.imul=function(p,g){if(p.isZero()||g.isZero())return p.words[0]=0,p.length=1,p;var x=p.imul(g),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=x.isub(A).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},$.prototype.mul=function(p,g){if(p.isZero()||g.isZero())return new i(0)._forceRed(this);var x=p.mul(g),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=x.isub(A).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},$.prototype.invm=function(p){var g=this.imod(p._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(typeof $_>"u"||$_,UG)});var LG=z($y=>{"use strict";d();h();Object.defineProperty($y,"__esModule",{value:!0});var e0=Qh(),oEe=BN().ec,Y_=new oEe("secp256k1"),Gy=Y_.curve;$y.privateKeyExport=function(e,t){t===void 0&&(t=!0);var r=new e0(e);if(r.ucmp(Gy.n)>=0)throw new Error("couldn't export to DER format");var n=Y_.g.mul(r);return RG(n.getX(),n.getY(),t)};$y.privateKeyModInverse=function(e){var t=new e0(e);if(t.ucmp(Gy.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(Gy.n).toArrayLike(Buffer,"be",32)};$y.signatureImport=function(e){var t=new e0(e.r);t.ucmp(Gy.n)>=0&&(t=new e0(0));var r=new e0(e.s);return r.ucmp(Gy.n)>=0&&(r=new e0(0)),Buffer.concat([t.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])};$y.ecdhUnsafe=function(e,t,r){r===void 0&&(r=!0);var n=Y_.keyFromPublic(e),i=new e0(t);if(i.ucmp(Gy.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return RG(o.getX(),o.getY(),r)};var RG=function(e,t,r){var n;return r?(n=Buffer.alloc(33),n[0]=t.isOdd()?3:2,e.toArrayLike(Buffer,"be",32).copy(n,1)):(n=Buffer.alloc(65),n[0]=4,e.toArrayLike(Buffer,"be",32).copy(n,1),t.toArrayLike(Buffer,"be",32).copy(n,33)),n}});var KG=z(nw=>{"use strict";d();h();Object.defineProperty(nw,"__esModule",{value:!0});var{Buffer:rw}=Pn(),sEe=rw.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),aEe=rw.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);nw.privateKeyExport=function(e,t,r){r===void 0&&(r=!0);var n=rw.from(r?sEe:aEe);return e.copy(n,r?8:9),t.copy(n,r?181:214),n};nw.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||e[r]!==48||(r+=1,t<r+1||!(e[r]&128)))return null;var n=e[r]&127;if(r+=1,n<1||n>2||t<r+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return r+=n,t<r+i||t<r+3||e[r]!==2||e[r+1]!==1||e[r+2]!==1||(r+=3,t<r+2||e[r]!==4||e[r+1]>32||t<r+2+e[r+1])?null:e.slice(r+2,r+2+e[r+1])};nw.signatureImportLax=function(e){var t=rw.alloc(32,0),r=rw.alloc(32,0),n=e.length,i=0;if(e[i++]!==48)return null;var o=e[i++];if(o&128&&(i+=o-128,i>n)||e[i++]!==2)return null;var s=e[i++];if(s&128){if(o=s-128,i+o>n)return null;for(;o>0&&e[i]===0;i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+e[i]}if(s>n-i)return null;var a=i;if(i+=s,e[i++]!==2)return null;var c=e[i++];if(c&128){if(o=c-128,i+o>n)return null;for(;o>0&&e[i]===0;i+=1,o-=1);for(c=0;o>0;i+=1,o-=1)c=(c<<8)+e[i]}if(c>n-i)return null;var u=i;for(i+=c;s>0&&e[a]===0;s-=1,a+=1);if(s>32)return null;var l=e.slice(a,a+s);for(l.copy(t,32-l.length);c>0&&e[u]===0;c-=1,u+=1);if(c>32)return null;var f=e.slice(u,u+c);return f.copy(r,32-f.length),{r:t,s:r}}});var f3=z(Ve=>{"use strict";d();h();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ecdhUnsafe=Ve.ecdh=Ve.recover=Ve.verify=Ve.sign=Ve.signatureImportLax=Ve.signatureImport=Ve.signatureExport=Ve.signatureNormalize=Ve.publicKeyCombine=Ve.publicKeyTweakMul=Ve.publicKeyTweakAdd=Ve.publicKeyVerify=Ve.publicKeyConvert=Ve.publicKeyCreate=Ve.privateKeyTweakMul=Ve.privateKeyTweakAdd=Ve.privateKeyModInverse=Ve.privateKeyNegate=Ve.privateKeyImport=Ve.privateKeyExport=Ve.privateKeyVerify=void 0;var Ai=DG(),u3=LG(),Z_=KG();Ve.privateKeyVerify=function(e){return e.length!==32?!1:Ai.privateKeyVerify(Uint8Array.from(e))};Ve.privateKeyExport=function(e,t){if(e.length!==32)throw new RangeError("private key length is invalid");var r=u3.privateKeyExport(e,t);return Z_.privateKeyExport(e,r,t)};Ve.privateKeyImport=function(e){if(e=Z_.privateKeyImport(e),e!==null&&e.length===32&&Ve.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")};Ve.privateKeyNegate=function(e){return Buffer.from(Ai.privateKeyNegate(Uint8Array.from(e)))};Ve.privateKeyModInverse=function(e){if(e.length!==32)throw new Error("private key length is invalid");return Buffer.from(u3.privateKeyModInverse(Uint8Array.from(e)))};Ve.privateKeyTweakAdd=function(e,t){return Buffer.from(Ai.privateKeyTweakAdd(Uint8Array.from(e),t))};Ve.privateKeyTweakMul=function(e,t){return Buffer.from(Ai.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))};Ve.publicKeyCreate=function(e,t){return Buffer.from(Ai.publicKeyCreate(Uint8Array.from(e),t))};Ve.publicKeyConvert=function(e,t){return Buffer.from(Ai.publicKeyConvert(Uint8Array.from(e),t))};Ve.publicKeyVerify=function(e){return e.length!==33&&e.length!==65?!1:Ai.publicKeyVerify(Uint8Array.from(e))};Ve.publicKeyTweakAdd=function(e,t,r){return Buffer.from(Ai.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))};Ve.publicKeyTweakMul=function(e,t,r){return Buffer.from(Ai.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))};Ve.publicKeyCombine=function(e,t){var r=[];return e.forEach(function(n){r.push(Uint8Array.from(n))}),Buffer.from(Ai.publicKeyCombine(r,t))};Ve.signatureNormalize=function(e){return Buffer.from(Ai.signatureNormalize(Uint8Array.from(e)))};Ve.signatureExport=function(e){return Buffer.from(Ai.signatureExport(Uint8Array.from(e)))};Ve.signatureImport=function(e){return Buffer.from(Ai.signatureImport(Uint8Array.from(e)))};Ve.signatureImportLax=function(e){if(e.length===0)throw new RangeError("signature length is invalid");var t=Z_.signatureImportLax(e);if(t===null)throw new Error("couldn't parse DER signature");return u3.signatureImport(t)};Ve.sign=function(e,t,r){if(r===null)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},r.data===null)throw new TypeError("options.data should be a Buffer");if(r.data){if(r.data.length!=32)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(r.noncefn===null)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(o,s,a,c,u){var l=a!=null?Buffer.from(a):null,f=c!=null?Buffer.from(c):null,m=Buffer.from("");return r.noncefn&&(m=r.noncefn(Buffer.from(o),Buffer.from(s),l,f,u)),new Uint8Array(m)})}var i=Ai.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:Buffer.from(i.signature),recovery:i.recid}};Ve.verify=function(e,t,r){return Ai.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)};Ve.recover=function(e,t,r,n){return Buffer.from(Ai.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))};Ve.ecdh=function(e,t){return Buffer.from(Ai.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))};Ve.ecdhUnsafe=function(e,t,r){if(e.length!==33&&e.length!==65)throw new RangeError("public key length is invalid");if(t.length!==32)throw new RangeError("private key length is invalid");return Buffer.from(u3.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))}});var J_=z((Odt,VG)=>{d();h();VG.exports=function(t){if(typeof t!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.slice(0,2)==="0x"}});var HG=z((Rdt,FG)=>{d();h();var cEe=J_();FG.exports=function(t){return typeof t!="string"?t:cEe(t)?t.slice(2):t}});var t0=z((Vdt,jG)=>{"use strict";d();h();var uEe=J_(),qG=HG();function l3(e){var t=e;if(typeof t!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function WG(e){var t=e.toString(16);return"0x"+t}function fEe(e){var t=WG(e);return new Buffer(l3(t.slice(2)),"hex")}function lEe(e){if(typeof e!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return Buffer.byteLength(e,"utf8")}function dEe(e,t,r){if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[!!r&&"some"||"every"](function(n){return e.indexOf(n)>=0})}function hEe(e){var t=new Buffer(l3(qG(e).replace(/^0+|0+$/g,"")),"hex");return t.toString("utf8")}function pEe(e){var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}function yEe(e){var t=new Buffer(e,"utf8");return"0x"+l3(t.toString("hex")).replace(/^0+|0+$/g,"")}function mEe(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),i=n.toString(16);t+=i.length<2?"0"+i:i}return"0x"+t}function gEe(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if(typeof t!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}function bEe(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}jG.exports={arrayContainsArray:dEe,intToBuffer:fEe,getBinarySize:lEe,isHexPrefixed:uEe,stripHexPrefix:qG,padToEven:l3,intToHex:WG,fromAscii:mEe,fromUtf8:yEe,toAscii:pEe,toUtf8:hEe,getKeys:gEe,isHexString:bEe}});var d3=z(Hc=>{"use strict";d();h();var xEe=Hc&&Hc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.getLength=Hc.decode=Hc.encode=void 0;var wEe=xEe(d1());function GG(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(GG(e[r]));var n=Buffer.concat(t);return Buffer.concat([zG(n.length,192),n])}else{var i=t9(e);return i.length===1&&i[0]<128?i:Buffer.concat([zG(i.length,128),i])}}Hc.encode=GG;function X_(e,t){if(e[0]==="0"&&e[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function zG(e,t){if(e<56)return Buffer.from([e+t]);var r=e9(e),n=r.length/2,i=e9(t+55+n);return Buffer.from(i+r,"hex")}function SEe(e,t){if(t===void 0&&(t=!1),!e||e.length===0)return Buffer.from([]);var r=t9(e),n=Q_(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}Hc.decode=SEe;function vEe(e){if(!e||e.length===0)return Buffer.from([]);var t=t9(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,i=X_(t.slice(1,n).toString("hex"),16);return n+i}Hc.getLength=vEe;function Q_(e){var t,r,n,i,o,s=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?n=Buffer.from([]):n=e.slice(1,t),t===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}else if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=X_(e.slice(1,r).toString("hex"),16),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=e.slice(r,t+r),n.length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}else if(a<=247){for(t=a-191,i=e.slice(1,t);i.length;)o=Q_(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(t)}}else{r=a-246,t=X_(e.slice(1,r).toString("hex"),16);var c=r+t;if(c>e.length)throw new Error("invalid rlp: total length is larger than the data");if(i=e.slice(r,c),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=Q_(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(c)}}}function $G(e){return e.slice(0,2)==="0x"}function AEe(e){return typeof e!="string"?e:$G(e)?e.slice(2):e}function e9(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function EEe(e){return e.length%2?"0"+e:e}function IEe(e){var t=e9(e);return Buffer.from(t,"hex")}function t9(e){if(!Buffer.isBuffer(e)){if(typeof e=="string")return $G(e)?Buffer.from(EEe(AEe(e)),"hex"):Buffer.from(e);if(typeof e=="number"||typeof e=="bigint")return e?IEe(e):Buffer.from([]);if(e==null)return Buffer.from([]);if(e instanceof Uint8Array)return Buffer.from(e);if(wEe.default.isBN(e))return Buffer.from(e.toArray());throw new Error("invalid type")}return e}});var ZG=z(mn=>{"use strict";d();h();Object.defineProperty(mn,"__esModule",{value:!0});mn.KECCAK256_RLP=mn.KECCAK256_RLP_S=mn.KECCAK256_RLP_ARRAY=mn.KECCAK256_RLP_ARRAY_S=mn.KECCAK256_NULL=mn.KECCAK256_NULL_S=mn.TWO_POW256=mn.MAX_INTEGER=void 0;var YG=Qh(),{Buffer:r9}=Pn();mn.MAX_INTEGER=new YG("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);mn.TWO_POW256=new YG("10000000000000000000000000000000000000000000000000000000000000000",16);mn.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";mn.KECCAK256_NULL=r9.from(mn.KECCAK256_NULL_S,"hex");mn.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";mn.KECCAK256_RLP_ARRAY=r9.from(mn.KECCAK256_RLP_ARRAY_S,"hex");mn.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";mn.KECCAK256_RLP=r9.from(mn.KECCAK256_RLP_S,"hex")});var QG=z((Ydt,XG)=>{"use strict";d();h();var kEe=Object.prototype.toString,TEe=Function.prototype.toString,PEe=/^\s*(?:function)?\*/,JG=o4()(),n9=Object.getPrototypeOf,BEe=function(){if(!JG)return!1;try{return Function("return function*() {}")()}catch{}},i9;XG.exports=function(t){if(typeof t!="function")return!1;if(PEe.test(TEe.call(t)))return!0;if(!JG){var r=kEe.call(t);return r==="[object GeneratorFunction]"}if(!n9)return!1;if(typeof i9>"u"){var n=BEe();i9=n?n9(n):!1}return n9(t)===i9}});var r$=z((Xdt,t$)=>{"use strict";d();h();var _Ee=Ire(),CEe=Object.prototype.toString,e$=Object.prototype.hasOwnProperty,MEe=function(t,r,n){for(var i=0,o=t.length;i<o;i++)e$.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},NEe=function(t,r,n){for(var i=0,o=t.length;i<o;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},OEe=function(t,r,n){for(var i in t)e$.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},DEe=function(t,r,n){if(!_Ee(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),CEe.call(t)==="[object Array]"?MEe(t,r,i):typeof t=="string"?NEe(t,r,i):OEe(t,r,i)};t$.exports=DEe});var s9=z((tht,n$)=>{"use strict";d();h();var o9=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],UEe=typeof globalThis>"u"?self:globalThis;n$.exports=function(){for(var t=[],r=0;r<o9.length;r++)typeof UEe[o9[r]]=="function"&&(t[t.length]=o9[r]);return t}});var s$=z((iht,o$)=>{"use strict";d();h();var REe="Function.prototype.bind called on incompatible ",LEe=Object.prototype.toString,KEe=Math.max,VEe="[object Function]",i$=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var o=0;o<r.length;o+=1)n[o+t.length]=r[o];return n},FEe=function(t,r){for(var n=[],i=r||0,o=0;i<t.length;i+=1,o+=1)n[o]=t[i];return n},HEe=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};o$.exports=function(t){var r=this;if(typeof r!="function"||LEe.apply(r)!==VEe)throw new TypeError(REe+r);for(var n=FEe(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,i$(n,arguments));return Object(l)===l?l:this}return r.apply(t,i$(n,arguments))},s=KEe(0,r.length-n.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+HEe(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var c$=z((aht,a$)=>{"use strict";d();h();var qEe=s$();a$.exports=Function.prototype.bind||qEe});var h3=z((fht,f$)=>{"use strict";d();h();var u$={foo:{}},WEe=Object;f$.exports=function(){return{__proto__:u$}.foo===u$.foo&&!({__proto__:null}instanceof WEe)}});var d$=z((hht,l$)=>{"use strict";d();h();var jEe="Function.prototype.bind called on incompatible ",a9=Array.prototype.slice,zEe=Object.prototype.toString,GEe="[object Function]";l$.exports=function(t){var r=this;if(typeof r!="function"||zEe.call(r)!==GEe)throw new TypeError(jEe+r);for(var n=a9.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(a9.call(arguments)));return Object(l)===l?l:this}else return r.apply(t,n.concat(a9.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var p$=z((mht,h$)=>{"use strict";d();h();var $Ee=d$();h$.exports=Function.prototype.bind||$Ee});var f9=z((xht,x$)=>{"use strict";d();h();var Kt,Xy=SyntaxError,b$=Function,Jy=TypeError,c9=function(e){try{return b$('"use strict"; return ('+e+").constructor;")()}catch{}},r0=Object.getOwnPropertyDescriptor;if(r0)try{r0({},"")}catch{r0=null}var u9=function(){throw new Jy},YEe=r0?function(){try{return arguments.callee,u9}catch{try{return r0(arguments,"callee").get}catch{return u9}}}():u9,Yy=n4()(),ZEe=h3()(),ii=Object.getPrototypeOf||(ZEe?function(e){return e.__proto__}:null),Zy={},JEe=typeof Uint8Array>"u"||!ii?Kt:ii(Uint8Array),n0={"%AggregateError%":typeof AggregateError>"u"?Kt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Kt:ArrayBuffer,"%ArrayIteratorPrototype%":Yy&&ii?ii([][Symbol.iterator]()):Kt,"%AsyncFromSyncIteratorPrototype%":Kt,"%AsyncFunction%":Zy,"%AsyncGenerator%":Zy,"%AsyncGeneratorFunction%":Zy,"%AsyncIteratorPrototype%":Zy,"%Atomics%":typeof Atomics>"u"?Kt:Atomics,"%BigInt%":typeof BigInt>"u"?Kt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Kt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Kt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Kt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Kt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Kt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Kt:FinalizationRegistry,"%Function%":b$,"%GeneratorFunction%":Zy,"%Int8Array%":typeof Int8Array>"u"?Kt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Kt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Kt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Yy&&ii?ii(ii([][Symbol.iterator]())):Kt,"%JSON%":typeof JSON=="object"?JSON:Kt,"%Map%":typeof Map>"u"?Kt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Yy||!ii?Kt:ii(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Kt:Promise,"%Proxy%":typeof Proxy>"u"?Kt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Kt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Kt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Yy||!ii?Kt:ii(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Kt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Yy&&ii?ii(""[Symbol.iterator]()):Kt,"%Symbol%":Yy?Symbol:Kt,"%SyntaxError%":Xy,"%ThrowTypeError%":YEe,"%TypedArray%":JEe,"%TypeError%":Jy,"%Uint8Array%":typeof Uint8Array>"u"?Kt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Kt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Kt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Kt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Kt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Kt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Kt:WeakSet};if(ii)try{null.error}catch(e){y$=ii(ii(e)),n0["%Error.prototype%"]=y$}var y$,XEe=function e(t){var r;if(t==="%AsyncFunction%")r=c9("async function () {}");else if(t==="%GeneratorFunction%")r=c9("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=c9("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&ii&&(r=ii(i.prototype))}return n0[t]=r,r},m$={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},iw=p$(),p3=i4(),QEe=iw.call(Function.call,Array.prototype.concat),e3e=iw.call(Function.apply,Array.prototype.splice),g$=iw.call(Function.call,String.prototype.replace),y3=iw.call(Function.call,String.prototype.slice),t3e=iw.call(Function.call,RegExp.prototype.exec),r3e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,n3e=/\\(\\)?/g,i3e=function(t){var r=y3(t,0,1),n=y3(t,-1);if(r==="%"&&n!=="%")throw new Xy("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Xy("invalid intrinsic syntax, expected opening `%`");var i=[];return g$(t,r3e,function(o,s,a,c){i[i.length]=a?g$(c,n3e,"$1"):s||o}),i},o3e=function(t,r){var n=t,i;if(p3(m$,n)&&(i=m$[n],n="%"+i[0]+"%"),p3(n0,n)){var o=n0[n];if(o===Zy&&(o=XEe(n)),typeof o>"u"&&!r)throw new Jy("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Xy("intrinsic "+t+" does not exist!")};x$.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new Jy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Jy('"allowMissing" argument must be a boolean');if(t3e(/^%?[^%]*%?$/,t)===null)throw new Xy("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=i3e(t),i=n.length>0?n[0]:"",o=o3e("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],e3e(n,QEe([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var m=n[l],b=y3(m,0,1),w=y3(m,-1);if((b==='"'||b==="'"||b==="`"||w==='"'||w==="'"||w==="`")&&b!==w)throw new Xy("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(c=!0),i+="."+m,s="%"+i+"%",p3(n0,s))a=n0[s];else if(a!=null){if(!(m in a)){if(!r)throw new Jy("base intrinsic for "+t+" exists, but the property is not available.");return}if(r0&&l+1>=n.length){var S=r0(a,m);f=!!S,f&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else f=p3(a,m),a=a[m];f&&!c&&(n0[s]=a)}}return a}});var S$=z((vht,w$)=>{"use strict";d();h();var s3e="Function.prototype.bind called on incompatible ",l9=Array.prototype.slice,a3e=Object.prototype.toString,c3e="[object Function]";w$.exports=function(t){var r=this;if(typeof r!="function"||a3e.call(r)!==c3e)throw new TypeError(s3e+r);for(var n=l9.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(l9.call(arguments)));return Object(l)===l?l:this}else return r.apply(t,n.concat(l9.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var A$=z((Iht,v$)=>{"use strict";d();h();var u3e=S$();v$.exports=Function.prototype.bind||u3e});var B$=z((Pht,P$)=>{"use strict";d();h();var Vt,rm=SyntaxError,T$=Function,tm=TypeError,d9=function(e){try{return T$('"use strict"; return ('+e+").constructor;")()}catch{}},i0=Object.getOwnPropertyDescriptor;if(i0)try{i0({},"")}catch{i0=null}var h9=function(){throw new tm},f3e=i0?function(){try{return arguments.callee,h9}catch{try{return i0(arguments,"callee").get}catch{return h9}}}():h9,Qy=n4()(),l3e=h3()(),oi=Object.getPrototypeOf||(l3e?function(e){return e.__proto__}:null),em={},d3e=typeof Uint8Array>"u"||!oi?Vt:oi(Uint8Array),o0={"%AggregateError%":typeof AggregateError>"u"?Vt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Vt:ArrayBuffer,"%ArrayIteratorPrototype%":Qy&&oi?oi([][Symbol.iterator]()):Vt,"%AsyncFromSyncIteratorPrototype%":Vt,"%AsyncFunction%":em,"%AsyncGenerator%":em,"%AsyncGeneratorFunction%":em,"%AsyncIteratorPrototype%":em,"%Atomics%":typeof Atomics>"u"?Vt:Atomics,"%BigInt%":typeof BigInt>"u"?Vt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Vt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Vt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Vt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Vt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Vt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Vt:FinalizationRegistry,"%Function%":T$,"%GeneratorFunction%":em,"%Int8Array%":typeof Int8Array>"u"?Vt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Vt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Vt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qy&&oi?oi(oi([][Symbol.iterator]())):Vt,"%JSON%":typeof JSON=="object"?JSON:Vt,"%Map%":typeof Map>"u"?Vt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qy||!oi?Vt:oi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Vt:Promise,"%Proxy%":typeof Proxy>"u"?Vt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Vt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Vt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qy||!oi?Vt:oi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Vt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qy&&oi?oi(""[Symbol.iterator]()):Vt,"%Symbol%":Qy?Symbol:Vt,"%SyntaxError%":rm,"%ThrowTypeError%":f3e,"%TypedArray%":d3e,"%TypeError%":tm,"%Uint8Array%":typeof Uint8Array>"u"?Vt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Vt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Vt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Vt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Vt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Vt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Vt:WeakSet};if(oi)try{null.error}catch(e){E$=oi(oi(e)),o0["%Error.prototype%"]=E$}var E$,h3e=function e(t){var r;if(t==="%AsyncFunction%")r=d9("async function () {}");else if(t==="%GeneratorFunction%")r=d9("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=d9("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&oi&&(r=oi(i.prototype))}return o0[t]=r,r},I$={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ow=A$(),m3=i4(),p3e=ow.call(Function.call,Array.prototype.concat),y3e=ow.call(Function.apply,Array.prototype.splice),k$=ow.call(Function.call,String.prototype.replace),g3=ow.call(Function.call,String.prototype.slice),m3e=ow.call(Function.call,RegExp.prototype.exec),g3e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b3e=/\\(\\)?/g,x3e=function(t){var r=g3(t,0,1),n=g3(t,-1);if(r==="%"&&n!=="%")throw new rm("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new rm("invalid intrinsic syntax, expected opening `%`");var i=[];return k$(t,g3e,function(o,s,a,c){i[i.length]=a?k$(c,b3e,"$1"):s||o}),i},w3e=function(t,r){var n=t,i;if(m3(I$,n)&&(i=I$[n],n="%"+i[0]+"%"),m3(o0,n)){var o=o0[n];if(o===em&&(o=h3e(n)),typeof o>"u"&&!r)throw new tm("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new rm("intrinsic "+t+" does not exist!")};P$.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new tm("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new tm('"allowMissing" argument must be a boolean');if(m3e(/^%?[^%]*%?$/,t)===null)throw new rm("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=x3e(t),i=n.length>0?n[0]:"",o=w3e("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],y3e(n,p3e([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var m=n[l],b=g3(m,0,1),w=g3(m,-1);if((b==='"'||b==="'"||b==="`"||w==='"'||w==="'"||w==="`")&&b!==w)throw new rm("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(c=!0),i+="."+m,s="%"+i+"%",m3(o0,s))a=o0[s];else if(a!=null){if(!(m in a)){if(!r)throw new tm("base intrinsic for "+t+" exists, but the property is not available.");return}if(i0&&l+1>=n.length){var S=i0(a,m);f=!!S,f&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else f=m3(a,m),a=a[m];f&&!c&&(o0[s]=a)}}return a}});var C$=z((Cht,_$)=>{"use strict";d();h();var S3e="Function.prototype.bind called on incompatible ",p9=Array.prototype.slice,v3e=Object.prototype.toString,A3e="[object Function]";_$.exports=function(t){var r=this;if(typeof r!="function"||v3e.call(r)!==A3e)throw new TypeError(S3e+r);for(var n=p9.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(p9.call(arguments)));return Object(l)===l?l:this}else return r.apply(t,n.concat(p9.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var N$=z((Oht,M$)=>{"use strict";d();h();var E3e=C$();M$.exports=Function.prototype.bind||E3e});var K$=z((Rht,L$)=>{"use strict";d();h();var Ft,sm=SyntaxError,R$=Function,om=TypeError,y9=function(e){try{return R$('"use strict"; return ('+e+").constructor;")()}catch{}},s0=Object.getOwnPropertyDescriptor;if(s0)try{s0({},"")}catch{s0=null}var m9=function(){throw new om},I3e=s0?function(){try{return arguments.callee,m9}catch{try{return s0(arguments,"callee").get}catch{return m9}}}():m9,nm=n4()(),k3e=h3()(),si=Object.getPrototypeOf||(k3e?function(e){return e.__proto__}:null),im={},T3e=typeof Uint8Array>"u"||!si?Ft:si(Uint8Array),a0={"%AggregateError%":typeof AggregateError>"u"?Ft:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ft:ArrayBuffer,"%ArrayIteratorPrototype%":nm&&si?si([][Symbol.iterator]()):Ft,"%AsyncFromSyncIteratorPrototype%":Ft,"%AsyncFunction%":im,"%AsyncGenerator%":im,"%AsyncGeneratorFunction%":im,"%AsyncIteratorPrototype%":im,"%Atomics%":typeof Atomics>"u"?Ft:Atomics,"%BigInt%":typeof BigInt>"u"?Ft:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ft:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ft:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ft:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ft:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ft:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ft:FinalizationRegistry,"%Function%":R$,"%GeneratorFunction%":im,"%Int8Array%":typeof Int8Array>"u"?Ft:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ft:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ft:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nm&&si?si(si([][Symbol.iterator]())):Ft,"%JSON%":typeof JSON=="object"?JSON:Ft,"%Map%":typeof Map>"u"?Ft:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nm||!si?Ft:si(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ft:Promise,"%Proxy%":typeof Proxy>"u"?Ft:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ft:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ft:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nm||!si?Ft:si(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ft:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nm&&si?si(""[Symbol.iterator]()):Ft,"%Symbol%":nm?Symbol:Ft,"%SyntaxError%":sm,"%ThrowTypeError%":I3e,"%TypedArray%":T3e,"%TypeError%":om,"%Uint8Array%":typeof Uint8Array>"u"?Ft:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ft:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ft:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ft:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ft:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ft:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ft:WeakSet};if(si)try{null.error}catch(e){O$=si(si(e)),a0["%Error.prototype%"]=O$}var O$,P3e=function e(t){var r;if(t==="%AsyncFunction%")r=y9("async function () {}");else if(t==="%GeneratorFunction%")r=y9("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=y9("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&si&&(r=si(i.prototype))}return a0[t]=r,r},D$={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},sw=N$(),b3=i4(),B3e=sw.call(Function.call,Array.prototype.concat),_3e=sw.call(Function.apply,Array.prototype.splice),U$=sw.call(Function.call,String.prototype.replace),x3=sw.call(Function.call,String.prototype.slice),C3e=sw.call(Function.call,RegExp.prototype.exec),M3e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N3e=/\\(\\)?/g,O3e=function(t){var r=x3(t,0,1),n=x3(t,-1);if(r==="%"&&n!=="%")throw new sm("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new sm("invalid intrinsic syntax, expected opening `%`");var i=[];return U$(t,M3e,function(o,s,a,c){i[i.length]=a?U$(c,N3e,"$1"):s||o}),i},D3e=function(t,r){var n=t,i;if(b3(D$,n)&&(i=D$[n],n="%"+i[0]+"%"),b3(a0,n)){var o=a0[n];if(o===im&&(o=P3e(n)),typeof o>"u"&&!r)throw new om("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new sm("intrinsic "+t+" does not exist!")};L$.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new om("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new om('"allowMissing" argument must be a boolean');if(C3e(/^%?[^%]*%?$/,t)===null)throw new sm("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=O3e(t),i=n.length>0?n[0]:"",o=D3e("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],_3e(n,B3e([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var m=n[l],b=x3(m,0,1),w=x3(m,-1);if((b==='"'||b==="'"||b==="`"||w==='"'||w==="'"||w==="`")&&b!==w)throw new sm("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(c=!0),i+="."+m,s="%"+i+"%",b3(a0,s))a=a0[s];else if(a!=null){if(!(m in a)){if(!r)throw new om("base intrinsic for "+t+" exists, but the property is not available.");return}if(s0&&l+1>=n.length){var S=s0(a,m);f=!!S,f&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else f=b3(a,m),a=a[m];f&&!c&&(a0[s]=a)}}return a}});var H$=z((Vht,F$)=>{"use strict";d();h();var U3e=FN()(),g9=K$(),aw=U3e&&g9("%Object.defineProperty%",!0);if(aw)try{aw({},"a",{value:1})}catch{aw=!1}var R3e=g9("%SyntaxError%"),am=g9("%TypeError%"),V$=m1();F$.exports=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new am("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new am("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new am("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new am("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new am("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new am("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!V$&&V$(t,r);if(aw)aw(t,r,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:o===null&&c?c.writable:!o});else if(a||!i&&!o&&!s)t[r]=n;else throw new R3e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var $$=z((qht,G$)=>{"use strict";d();h();var z$=B$(),q$=H$(),L3e=FN()(),W$=m1(),j$=z$("%TypeError%"),K3e=z$("%Math.floor%");G$.exports=function(t,r){if(typeof t!="function")throw new j$("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||K3e(r)!==r)throw new j$("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&W$){var s=W$(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(L3e?q$(t,"length",r,!0,!0):q$(t,"length",r)),t}});var x9=z((zht,w3)=>{"use strict";d();h();var b9=c$(),cm=f9(),V3e=$$(),F3e=cm("%TypeError%"),Z$=cm("%Function.prototype.apply%"),J$=cm("%Function.prototype.call%"),X$=cm("%Reflect.apply%",!0)||b9.call(J$,Z$),cw=cm("%Object.defineProperty%",!0),H3e=cm("%Math.max%");if(cw)try{cw({},"a",{value:1})}catch{cw=null}w3.exports=function(t){if(typeof t!="function")throw new F3e("a function is required");var r=X$(b9,J$,arguments);return V3e(r,1+H3e(0,t.length-(arguments.length-1)),!0)};var Y$=function(){return X$(b9,Z$,arguments)};cw?cw(w3.exports,"apply",{value:Y$}):w3.exports.apply=Y$});var rY=z((Yht,tY)=>{"use strict";d();h();var Q$=f9(),eY=x9(),q3e=eY(Q$("String.prototype.indexOf"));tY.exports=function(t,r){var n=Q$(t,!!r);return typeof n=="function"&&q3e(t,".prototype.")>-1?eY(n):n}});var aY=z((Xht,sY)=>{"use strict";d();h();var v3=r$(),W3e=s9(),nY=x9(),v9=rY(),S3=m1(),j3e=v9("Object.prototype.toString"),oY=o4()(),iY=typeof globalThis>"u"?self:globalThis,S9=W3e(),A9=v9("String.prototype.slice"),w9=Object.getPrototypeOf,z3e=v9("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},A3={__proto__:null};oY&&S3&&w9?v3(S9,function(e){var t=new iY[e];if(Symbol.toStringTag in t){var r=w9(t),n=S3(r,Symbol.toStringTag);if(!n){var i=w9(r);n=S3(i,Symbol.toStringTag)}A3["$"+e]=nY(n.get)}}):v3(S9,function(e){var t=new iY[e],r=t.slice||t.set;r&&(A3["$"+e]=nY(r))});var G3e=function(t){var r=!1;return v3(A3,function(n,i){if(!r)try{"$"+n(t)===i&&(r=A9(i,1))}catch{}}),r},$3e=function(t){var r=!1;return v3(A3,function(n,i){if(!r)try{n(t),r=A9(i,1)}catch{}}),r};sY.exports=function(t){if(!t||typeof t!="object")return!1;if(!oY){var r=A9(j3e(t),8,-1);return z3e(S9,r)>-1?r:r!=="Object"?!1:$3e(t)}return S3?G3e(t):null}});var uY=z((t0t,cY)=>{d();h();var Y3e=Object.prototype.hasOwnProperty,Z3e=Object.prototype.toString;cY.exports=function(t,r,n){if(Z3e.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,t[o],o,t);else for(var s in t)Y3e.call(t,s)&&r.call(n,t[s],s,t)}});var lY=z((i0t,fY)=>{"use strict";d();h();fY.exports=m1()});var gY=z((a0t,mY)=>{"use strict";d();h();var dY=uY(),J3e=s9(),I9=Are(),X3e=I9("Object.prototype.toString"),hY=o4()(),Q3e=typeof globalThis>"u"?self:globalThis,pY=J3e(),e8e=I9("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},t8e=I9("String.prototype.slice"),yY={},E3=lY(),E9=Object.getPrototypeOf;hY&&E3&&E9&&dY(pY,function(e){var t=new Q3e[e];if(Symbol.toStringTag in t){var r=E9(t),n=E3(r,Symbol.toStringTag);if(!n){var i=E9(r);n=E3(i,Symbol.toStringTag)}yY[e]=n.get}});var r8e=function(t){var r=!1;return dY(yY,function(n,i){if(!r)try{r=n.call(t)===i}catch{}}),r};mY.exports=function(t){if(!t||typeof t!="object")return!1;if(!hY||!(Symbol.toStringTag in t)){var r=t8e(X3e(t),8,-1);return e8e(pY,r)>-1}return E3?r8e(t):!1}});var CY=z(Dt=>{"use strict";d();h();var n8e=Ere(),i8e=QG(),qa=aY(),bY=gY();function um(e){return e.call.bind(e)}var xY=typeof BigInt<"u",wY=typeof Symbol<"u",qs=um(Object.prototype.toString),o8e=um(Number.prototype.valueOf),s8e=um(String.prototype.valueOf),a8e=um(Boolean.prototype.valueOf);xY&&(SY=um(BigInt.prototype.valueOf));var SY;wY&&(vY=um(Symbol.prototype.valueOf));var vY;function fw(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}Dt.isArgumentsObject=n8e;Dt.isGeneratorFunction=i8e;Dt.isTypedArray=bY;function c8e(e){return typeof Promise<"u"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}Dt.isPromise=c8e;function u8e(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):bY(e)||EY(e)}Dt.isArrayBufferView=u8e;function f8e(e){return qa(e)==="Uint8Array"}Dt.isUint8Array=f8e;function l8e(e){return qa(e)==="Uint8ClampedArray"}Dt.isUint8ClampedArray=l8e;function d8e(e){return qa(e)==="Uint16Array"}Dt.isUint16Array=d8e;function h8e(e){return qa(e)==="Uint32Array"}Dt.isUint32Array=h8e;function p8e(e){return qa(e)==="Int8Array"}Dt.isInt8Array=p8e;function y8e(e){return qa(e)==="Int16Array"}Dt.isInt16Array=y8e;function m8e(e){return qa(e)==="Int32Array"}Dt.isInt32Array=m8e;function g8e(e){return qa(e)==="Float32Array"}Dt.isFloat32Array=g8e;function b8e(e){return qa(e)==="Float64Array"}Dt.isFloat64Array=b8e;function x8e(e){return qa(e)==="BigInt64Array"}Dt.isBigInt64Array=x8e;function w8e(e){return qa(e)==="BigUint64Array"}Dt.isBigUint64Array=w8e;function I3(e){return qs(e)==="[object Map]"}I3.working=typeof Map<"u"&&I3(new Map);function S8e(e){return typeof Map>"u"?!1:I3.working?I3(e):e instanceof Map}Dt.isMap=S8e;function k3(e){return qs(e)==="[object Set]"}k3.working=typeof Set<"u"&&k3(new Set);function v8e(e){return typeof Set>"u"?!1:k3.working?k3(e):e instanceof Set}Dt.isSet=v8e;function T3(e){return qs(e)==="[object WeakMap]"}T3.working=typeof WeakMap<"u"&&T3(new WeakMap);function A8e(e){return typeof WeakMap>"u"?!1:T3.working?T3(e):e instanceof WeakMap}Dt.isWeakMap=A8e;function T9(e){return qs(e)==="[object WeakSet]"}T9.working=typeof WeakSet<"u"&&T9(new WeakSet);function E8e(e){return T9(e)}Dt.isWeakSet=E8e;function P3(e){return qs(e)==="[object ArrayBuffer]"}P3.working=typeof ArrayBuffer<"u"&&P3(new ArrayBuffer);function AY(e){return typeof ArrayBuffer>"u"?!1:P3.working?P3(e):e instanceof ArrayBuffer}Dt.isArrayBuffer=AY;function B3(e){return qs(e)==="[object DataView]"}B3.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B3(new DataView(new ArrayBuffer(1),0,1));function EY(e){return typeof DataView>"u"?!1:B3.working?B3(e):e instanceof DataView}Dt.isDataView=EY;var k9=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function uw(e){return qs(e)==="[object SharedArrayBuffer]"}function IY(e){return typeof k9>"u"?!1:(typeof uw.working>"u"&&(uw.working=uw(new k9)),uw.working?uw(e):e instanceof k9)}Dt.isSharedArrayBuffer=IY;function I8e(e){return qs(e)==="[object AsyncFunction]"}Dt.isAsyncFunction=I8e;function k8e(e){return qs(e)==="[object Map Iterator]"}Dt.isMapIterator=k8e;function T8e(e){return qs(e)==="[object Set Iterator]"}Dt.isSetIterator=T8e;function P8e(e){return qs(e)==="[object Generator]"}Dt.isGeneratorObject=P8e;function B8e(e){return qs(e)==="[object WebAssembly.Module]"}Dt.isWebAssemblyCompiledModule=B8e;function kY(e){return fw(e,o8e)}Dt.isNumberObject=kY;function TY(e){return fw(e,s8e)}Dt.isStringObject=TY;function PY(e){return fw(e,a8e)}Dt.isBooleanObject=PY;function BY(e){return xY&&fw(e,SY)}Dt.isBigIntObject=BY;function _Y(e){return wY&&fw(e,vY)}Dt.isSymbolObject=_Y;function _8e(e){return kY(e)||TY(e)||PY(e)||BY(e)||_Y(e)}Dt.isBoxedPrimitive=_8e;function C8e(e){return typeof Uint8Array<"u"&&(AY(e)||IY(e))}Dt.isAnyArrayBuffer=C8e;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(Dt,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var NY=z((h0t,MY)=>{d();h();MY.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var lm=z(Ut=>{d();h();var OY=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},M8e=/%[sdj%]/g;Ut.format=function(e){if(!U3(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(rd(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(M8e,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),s=n[r];r<i;s=n[++r])D3(s)||!fm(s)?o+=" "+s:o+=" "+rd(s);return o};Ut.deprecate=function(e,t){if(typeof process<"u"&&process.noDeprecation===!0)return e;if(typeof process>"u")return function(){return Ut.deprecate(e,t).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n};var _3={},DY=/^$/;E.NODE_DEBUG&&(C3=E.NODE_DEBUG,C3=C3.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),DY=new RegExp("^"+C3+"$","i"));var C3;Ut.debuglog=function(e){if(e=e.toUpperCase(),!_3[e])if(DY.test(e)){var t=process.pid;_3[e]=function(){var r=Ut.format.apply(Ut,arguments);console.error("%s %d: %s",e,t,r)}}else _3[e]=function(){};return _3[e]};function rd(e,t){var r={seen:[],stylize:O8e};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),C9(t)?r.showHidden=t:t&&Ut._extend(r,t),u0(r.showHidden)&&(r.showHidden=!1),u0(r.depth)&&(r.depth=2),u0(r.colors)&&(r.colors=!1),u0(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=N8e),N3(r,e,r.depth)}Ut.inspect=rd;rd.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};rd.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function N8e(e,t){var r=rd.styles[t];return r?"\x1B["+rd.colors[r][0]+"m"+e+"\x1B["+rd.colors[r][1]+"m":e}function O8e(e,t){return e}function D8e(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function N3(e,t,r){if(e.customInspect&&t&&M3(t.inspect)&&t.inspect!==Ut.inspect&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return U3(n)||(n=N3(e,n,r)),n}var i=U8e(e,t);if(i)return i;var o=Object.keys(t),s=D8e(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),dw(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return P9(t);if(o.length===0){if(M3(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(lw(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O3(t))return e.stylize(Date.prototype.toString.call(t),"date");if(dw(t))return P9(t)}var c="",u=!1,l=["{","}"];if(UY(t)&&(u=!0,l=["[","]"]),M3(t)){var f=t.name?": "+t.name:"";c=" [Function"+f+"]"}if(lw(t)&&(c=" "+RegExp.prototype.toString.call(t)),O3(t)&&(c=" "+Date.prototype.toUTCString.call(t)),dw(t)&&(c=" "+P9(t)),o.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return lw(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var m;return u?m=R8e(e,t,r,s,o):m=o.map(function(b){return _9(e,t,r,s,b,u)}),e.seen.pop(),L8e(m,c,l)}function U8e(e,t){if(u0(t))return e.stylize("undefined","undefined");if(U3(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(RY(t))return e.stylize(""+t,"number");if(C9(t))return e.stylize(""+t,"boolean");if(D3(t))return e.stylize("null","null")}function P9(e){return"["+Error.prototype.toString.call(e)+"]"}function R8e(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)LY(t,String(s))?o.push(_9(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(c){c.match(/^\d+$/)||o.push(_9(e,t,r,n,c,!0))}),o}function _9(e,t,r,n,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),LY(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(D3(r)?a=N3(e,c.value,null):a=N3(e,c.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),u0(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function L8e(e,t,r){var n=0,i=e.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}Ut.types=CY();function UY(e){return Array.isArray(e)}Ut.isArray=UY;function C9(e){return typeof e=="boolean"}Ut.isBoolean=C9;function D3(e){return e===null}Ut.isNull=D3;function K8e(e){return e==null}Ut.isNullOrUndefined=K8e;function RY(e){return typeof e=="number"}Ut.isNumber=RY;function U3(e){return typeof e=="string"}Ut.isString=U3;function V8e(e){return typeof e=="symbol"}Ut.isSymbol=V8e;function u0(e){return e===void 0}Ut.isUndefined=u0;function lw(e){return fm(e)&&M9(e)==="[object RegExp]"}Ut.isRegExp=lw;Ut.types.isRegExp=lw;function fm(e){return typeof e=="object"&&e!==null}Ut.isObject=fm;function O3(e){return fm(e)&&M9(e)==="[object Date]"}Ut.isDate=O3;Ut.types.isDate=O3;function dw(e){return fm(e)&&(M9(e)==="[object Error]"||e instanceof Error)}Ut.isError=dw;Ut.types.isNativeError=dw;function M3(e){return typeof e=="function"}Ut.isFunction=M3;function F8e(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}Ut.isPrimitive=F8e;Ut.isBuffer=NY();function M9(e){return Object.prototype.toString.call(e)}function B9(e){return e<10?"0"+e.toString(10):e.toString(10)}var H8e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q8e(){var e=new Date,t=[B9(e.getHours()),B9(e.getMinutes()),B9(e.getSeconds())].join(":");return[e.getDate(),H8e[e.getMonth()],t].join(" ")}Ut.log=function(){console.log("%s - %s",q8e(),Ut.format.apply(Ut,arguments))};Ut.inherits=vre();Ut._extend=function(e,t){if(!t||!fm(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};function LY(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var c0=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Ut.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(c0&&t[c0]){var r=t[c0];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,c0,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(c,u){n=c,i=u}),s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);s.push(function(c,u){c?i(c):n(u)});try{t.apply(this,s)}catch(c){i(c)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),c0&&Object.defineProperty(r,c0,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,OY(t))};Ut.promisify.custom=c0;function W8e(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function j8e(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,r).then(function(a){process.nextTick(s.bind(null,null,a))},function(a){process.nextTick(W8e.bind(null,a,s))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,OY(e)),t}Ut.callbackify=j8e});var U9=z((x0t,FY)=>{"use strict";d();h();function dm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dm=function(r){return typeof r}:dm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(e)}function z8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G8e(e,t){return t&&(dm(t)==="object"||typeof t=="function")?t:$8e(e)}function $8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O9(e){return O9=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},O9(e)}function Y8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D9(e,t)}function D9(e,t){return D9=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},D9(e,t)}var VY={},hm,N9;function hw(e,t,r){r||(r=Error);function n(o,s,a){return typeof t=="string"?t:t(o,s,a)}var i=function(o){Y8e(s,o);function s(a,c,u){var l;return z8e(this,s),l=G8e(this,O9(s).call(this,n(a,c,u))),l.code=e,l}return s}(r);VY[e]=i}function KY(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Z8e(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function J8e(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function X8e(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}hw("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);hw("ERR_INVALID_ARG_TYPE",function(e,t,r){hm===void 0&&(hm=pw()),hm(typeof e=="string","'name' must be a string");var n;typeof t=="string"&&Z8e(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(J8e(e," argument"))i="The ".concat(e," ").concat(n," ").concat(KY(t,"type"));else{var o=X8e(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(KY(t,"type"))}return i+=". Received type ".concat(dm(r)),i},TypeError);hw("ERR_INVALID_ARG_VALUE",function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";N9===void 0&&(N9=lm());var n=N9.inspect(t);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);hw("ERR_INVALID_RETURN_VALUE",function(e,t,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(dm(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(n,".")},TypeError);hw("ERR_MISSING_ARGS",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hm===void 0&&(hm=pw()),hm(t.length>0,"At least one arg needs to be specified");var n="The ",i=t.length;switch(t=t.map(function(o){return'"'.concat(o,'"')}),i){case 1:n+="".concat(t[0]," argument");break;case 2:n+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:n+=t.slice(0,i-1).join(", "),n+=", and ".concat(t[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);FY.exports.codes=VY});var zY=z((v0t,jY)=>{"use strict";d();h();function Q8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){e6e(e,i,r[i])})}return e}function e6e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r6e(e,t,r){return t&&HY(e.prototype,t),r&&HY(e,r),e}function pm(e,t){return t&&(Ws(t)==="object"||typeof t=="function")?t:R9(e)}function R9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bw(e,t)}function L9(e){var t=typeof Map=="function"?new Map:void 0;return L9=function(n){if(n===null||!o6e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return R3(n,arguments,nd(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),bw(i,n)},L9(e)}function i6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R3(e,t,r){return i6e()?R3=Reflect.construct:R3=function(i,o,s){var a=[null];a.push.apply(a,o);var c=Function.bind.apply(i,a),u=new c;return s&&bw(u,s.prototype),u},R3.apply(null,arguments)}function o6e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function bw(e,t){return bw=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bw(e,t)}function nd(e){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(e)}function Ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ws=function(r){return typeof r}:Ws=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ws(e)}var s6e=lm(),K9=s6e.inspect,a6e=U9(),c6e=a6e.codes.ERR_INVALID_ARG_TYPE;function qY(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function u6e(e,t){if(t=Math.floor(t),e.length==0||t==0)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,r-e.length),e}var Wa="",yw="",mw="",Ei="",f0={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},f6e=10;function WY(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach(function(n){r[n]=e[n]}),Object.defineProperty(r,"message",{value:e.message}),r}function gw(e){return K9(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function l6e(e,t,r){var n="",i="",o=0,s="",a=!1,c=gw(e),u=c.split(`
`),l=gw(t).split(`
`),f=0,m="";if(r==="strictEqual"&&Ws(e)==="object"&&Ws(t)==="object"&&e!==null&&t!==null&&(r="strictEqualObject"),u.length===1&&l.length===1&&u[0]!==l[0]){var b=u[0].length+l[0].length;if(b<=f6e){if((Ws(e)!=="object"||e===null)&&(Ws(t)!=="object"||t===null)&&(e!==0||t!==0))return"".concat(f0[r],`

`)+"".concat(u[0]," !== ").concat(l[0],`
`)}else if(r!=="strictEqualObject"){var w=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(b<w){for(;u[0][f]===l[0][f];)f++;f>2&&(m=`
  `.concat(u6e(" ",f),"^"),f=0)}}}for(var S=u[u.length-1],P=l[l.length-1];S===P&&(f++<2?s=`
  `.concat(S).concat(s):n=S,u.pop(),l.pop(),!(u.length===0||l.length===0));)S=u[u.length-1],P=l[l.length-1];var M=Math.max(u.length,l.length);if(M===0){var D=c.split(`
`);if(D.length>30)for(D[26]="".concat(Wa,"...").concat(Ei);D.length>27;)D.pop();return"".concat(f0.notIdentical,`

`).concat(D.join(`
`),`
`)}f>3&&(s=`
`.concat(Wa,"...").concat(Ei).concat(s),a=!0),n!==""&&(s=`
  `.concat(n).concat(s),n="");var C=0,R=f0[r]+`
`.concat(yw,"+ actual").concat(Ei," ").concat(mw,"- expected").concat(Ei),L=" ".concat(Wa,"...").concat(Ei," Lines skipped");for(f=0;f<M;f++){var W=f-o;if(u.length<f+1)W>1&&f>2&&(W>4?(i+=`
`.concat(Wa,"...").concat(Ei),a=!0):W>3&&(i+=`
  `.concat(l[f-2]),C++),i+=`
  `.concat(l[f-1]),C++),o=f,n+=`
`.concat(mw,"-").concat(Ei," ").concat(l[f]),C++;else if(l.length<f+1)W>1&&f>2&&(W>4?(i+=`
`.concat(Wa,"...").concat(Ei),a=!0):W>3&&(i+=`
  `.concat(u[f-2]),C++),i+=`
  `.concat(u[f-1]),C++),o=f,i+=`
`.concat(yw,"+").concat(Ei," ").concat(u[f]),C++;else{var G=l[f],H=u[f],$=H!==G&&(!qY(H,",")||H.slice(0,-1)!==G);$&&qY(G,",")&&G.slice(0,-1)===H&&($=!1,H+=","),$?(W>1&&f>2&&(W>4?(i+=`
`.concat(Wa,"...").concat(Ei),a=!0):W>3&&(i+=`
  `.concat(u[f-2]),C++),i+=`
  `.concat(u[f-1]),C++),o=f,i+=`
`.concat(yw,"+").concat(Ei," ").concat(H),n+=`
`.concat(mw,"-").concat(Ei," ").concat(G),C+=2):(i+=n,n="",(W===1||f===0)&&(i+=`
  `.concat(H),C++))}if(C>20&&f<M-2)return"".concat(R).concat(L,`
`).concat(i,`
`).concat(Wa,"...").concat(Ei).concat(n,`
`)+"".concat(Wa,"...").concat(Ei)}return"".concat(R).concat(a?L:"",`
`).concat(i).concat(n).concat(s).concat(m)}var d6e=function(e){n6e(t,e);function t(r){var n;if(t6e(this,t),Ws(r)!=="object"||r===null)throw new c6e("options","Object",r);var i=r.message,o=r.operator,s=r.stackStartFn,a=r.actual,c=r.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=pm(this,nd(t).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Wa="\x1B[34m",yw="\x1B[32m",Ei="\x1B[39m",mw="\x1B[31m"):(Wa="",yw="",Ei="",mw="")),Ws(a)==="object"&&a!==null&&Ws(c)==="object"&&c!==null&&"stack"in a&&a instanceof Error&&"stack"in c&&c instanceof Error&&(a=WY(a),c=WY(c)),o==="deepStrictEqual"||o==="strictEqual")n=pm(this,nd(t).call(this,l6e(a,c,o)));else if(o==="notDeepStrictEqual"||o==="notStrictEqual"){var l=f0[o],f=gw(a).split(`
`);if(o==="notStrictEqual"&&Ws(a)==="object"&&a!==null&&(l=f0.notStrictEqualObject),f.length>30)for(f[26]="".concat(Wa,"...").concat(Ei);f.length>27;)f.pop();f.length===1?n=pm(this,nd(t).call(this,"".concat(l," ").concat(f[0]))):n=pm(this,nd(t).call(this,"".concat(l,`

`).concat(f.join(`
`),`
`)))}else{var m=gw(a),b="",w=f0[o];o==="notDeepEqual"||o==="notEqual"?(m="".concat(f0[o],`

`).concat(m),m.length>1024&&(m="".concat(m.slice(0,1021),"..."))):(b="".concat(gw(c)),m.length>512&&(m="".concat(m.slice(0,509),"...")),b.length>512&&(b="".concat(b.slice(0,509),"...")),o==="deepEqual"||o==="equal"?m="".concat(w,`

`).concat(m,`

should equal

`):b=" ".concat(o," ").concat(b)),n=pm(this,nd(t).call(this,"".concat(m).concat(b)))}return Error.stackTraceLimit=u,n.generatedMessage=!i,Object.defineProperty(R9(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=a,n.expected=c,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(R9(n),s),n.stack,n.name="AssertionError",pm(n)}return r6e(t,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:K9.custom,value:function(n,i){return K9(this,Q8e({},i,{customInspect:!1,depth:0}))}}]),t}(L9(Error));jY.exports=d6e});var YY=z((I0t,$Y)=>{"use strict";d();h();function GY(e,t){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);u!==void 0&&u.enumerable&&(r[c]=i[c])}}return r}function h6e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:GY})}$Y.exports={assign:GY,polyfill:h6e}});var V9=z((P0t,JY)=>{"use strict";d();h();var ZY=function(e){return e!==e};JY.exports=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||ZY(t)&&ZY(r))}});var F9=z((C0t,XY)=>{"use strict";d();h();var p6e=V9();XY.exports=function(){return typeof Object.is=="function"?Object.is:p6e}});var eZ=z((O0t,QY)=>{"use strict";d();h();var y6e=F9(),m6e=y1();QY.exports=function(){var t=y6e();return m6e(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var H9=z((R0t,nZ)=>{"use strict";d();h();var g6e=y1(),b6e=VN(),x6e=V9(),tZ=F9(),w6e=eZ(),rZ=b6e(tZ(),Object);g6e(rZ,{getPolyfill:tZ,implementation:x6e,shim:w6e});nZ.exports=rZ});var q9=z((V0t,iZ)=>{"use strict";d();h();iZ.exports=function(t){return t!==t}});var W9=z((q0t,oZ)=>{"use strict";d();h();var S6e=q9();oZ.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:S6e}});var aZ=z((z0t,sZ)=>{"use strict";d();h();var v6e=y1(),A6e=W9();sZ.exports=function(){var t=A6e();return v6e(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}});var lZ=z((Y0t,fZ)=>{"use strict";d();h();var E6e=VN(),I6e=y1(),k6e=q9(),cZ=W9(),T6e=aZ(),uZ=E6e(cZ(),Number);I6e(uZ,{getPolyfill:cZ,implementation:k6e,shim:T6e});fZ.exports=uZ});var _Z=z((X0t,BZ)=>{"use strict";d();h();function dZ(e,t){return _6e(e)||B6e(e,t)||P6e()}function P6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function B6e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}function _6e(e){if(Array.isArray(e))return e}function ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(r){return typeof r}:ss=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ss(e)}var C6e=/a/g.flags!==void 0,W3=function(t){var r=[];return t.forEach(function(n){return r.push(n)}),r},hZ=function(t){var r=[];return t.forEach(function(n,i){return r.push([i,n])}),r},EZ=Object.is?Object.is:H9(),H3=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},j9=Number.isNaN?Number.isNaN:lZ();function G9(e){return e.call.bind(e)}var ww=G9(Object.prototype.hasOwnProperty),q3=G9(Object.prototype.propertyIsEnumerable),pZ=G9(Object.prototype.toString),po=lm().types,M6e=po.isAnyArrayBuffer,N6e=po.isArrayBufferView,yZ=po.isDate,L3=po.isMap,mZ=po.isRegExp,K3=po.isSet,O6e=po.isNativeError,D6e=po.isBoxedPrimitive,gZ=po.isNumberObject,bZ=po.isStringObject,xZ=po.isBooleanObject,wZ=po.isBigIntObject,U6e=po.isSymbolObject,R6e=po.isFloat32Array,L6e=po.isFloat64Array;function K6e(e){if(e.length===0||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return e.length===10&&e>=Math.pow(2,32)}function V3(e){return Object.keys(e).filter(K6e).concat(H3(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function IZ(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}var F3=void 0,V6e=!0,F6e=!1,z9=0,$9=1,kZ=2,TZ=3;function H6e(e,t){return C6e?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}function q6e(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function W6e(e,t){return e.byteLength!==t.byteLength?!1:IZ(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))===0}function j6e(e,t){return e.byteLength===t.byteLength&&IZ(new Uint8Array(e),new Uint8Array(t))===0}function z6e(e,t){return gZ(e)?gZ(t)&&EZ(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):bZ(e)?bZ(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):xZ(e)?xZ(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):wZ(e)?wZ(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):U6e(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}function js(e,t,r,n){if(e===t)return e!==0?!0:r?EZ(e,t):!0;if(r){if(ss(e)!=="object")return typeof e=="number"&&j9(e)&&j9(t);if(ss(t)!=="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(e===null||ss(e)!=="object")return t===null||ss(t)!=="object"?e==t:!1;if(t===null||ss(t)!=="object")return!1}var i=pZ(e),o=pZ(t);if(i!==o)return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var s=V3(e,F3),a=V3(t,F3);return s.length!==a.length?!1:xw(e,t,r,n,$9,s)}if(i==="[object Object]"&&(!L3(e)&&L3(t)||!K3(e)&&K3(t)))return!1;if(yZ(e)){if(!yZ(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(mZ(e)){if(!mZ(t)||!H6e(e,t))return!1}else if(O6e(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else if(N6e(e)){if(!r&&(R6e(e)||L6e(e))){if(!q6e(e,t))return!1}else if(!W6e(e,t))return!1;var c=V3(e,F3),u=V3(t,F3);return c.length!==u.length?!1:xw(e,t,r,n,z9,c)}else{if(K3(e))return!K3(t)||e.size!==t.size?!1:xw(e,t,r,n,kZ);if(L3(e))return!L3(t)||e.size!==t.size?!1:xw(e,t,r,n,TZ);if(M6e(e)){if(!j6e(e,t))return!1}else if(D6e(e)&&!z6e(e,t))return!1}return xw(e,t,r,n,z9)}function SZ(e,t){return t.filter(function(r){return q3(e,r)})}function xw(e,t,r,n,i,o){if(arguments.length===5){o=Object.keys(e);var s=Object.keys(t);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!ww(t,o[a]))return!1;if(r&&arguments.length===5){var c=H3(e);if(c.length!==0){var u=0;for(a=0;a<c.length;a++){var l=c[a];if(q3(e,l)){if(!q3(t,l))return!1;o.push(l),u++}else if(q3(t,l))return!1}var f=H3(t);if(c.length!==f.length&&SZ(t,f).length!==u)return!1}else{var m=H3(t);if(m.length!==0&&SZ(t,m).length!==0)return!1}}if(o.length===0&&(i===z9||i===$9&&e.length===0||e.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var b=n.val1.get(e);if(b!==void 0){var w=n.val2.get(t);if(w!==void 0)return b===w}n.position++}n.val1.set(e,n.position),n.val2.set(t,n.position);var S=J6e(e,t,r,o,n,i);return n.val1.delete(e),n.val2.delete(t),S}function vZ(e,t,r,n){for(var i=W3(e),o=0;o<i.length;o++){var s=i[o];if(js(t,s,r,n))return e.delete(s),!0}return!1}function PZ(e){switch(ss(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(j9(e))return!1}return!0}function G6e(e,t,r){var n=PZ(r);return n??(t.has(n)&&!e.has(n))}function $6e(e,t,r,n,i){var o=PZ(r);if(o!=null)return o;var s=t.get(o);return s===void 0&&!t.has(o)||!js(n,s,!1,i)?!1:!e.has(o)&&js(n,s,!1,i)}function Y6e(e,t,r,n){for(var i=null,o=W3(e),s=0;s<o.length;s++){var a=o[s];if(ss(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!t.has(a)){if(r||!G6e(e,t,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var c=W3(t),u=0;u<c.length;u++){var l=c[u];if(ss(l)==="object"&&l!==null){if(!vZ(i,l,r,n))return!1}else if(!r&&!e.has(l)&&!vZ(i,l,r,n))return!1}return i.size===0}return!0}function AZ(e,t,r,n,i,o){for(var s=W3(e),a=0;a<s.length;a++){var c=s[a];if(js(r,c,i,o)&&js(n,t.get(c),i,o))return e.delete(c),!0}return!1}function Z6e(e,t,r,n){for(var i=null,o=hZ(e),s=0;s<o.length;s++){var a=dZ(o[s],2),c=a[0],u=a[1];if(ss(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else{var l=t.get(c);if(l===void 0&&!t.has(c)||!js(u,l,r,n)){if(r||!$6e(e,t,c,u,n))return!1;i===null&&(i=new Set),i.add(c)}}}if(i!==null){for(var f=hZ(t),m=0;m<f.length;m++){var b=dZ(f[m],2),c=b[0],w=b[1];if(ss(c)==="object"&&c!==null){if(!AZ(i,e,c,w,r,n))return!1}else if(!r&&(!e.has(c)||!js(e.get(c),w,!1,n))&&!AZ(i,e,c,w,!1,n))return!1}return i.size===0}return!0}function J6e(e,t,r,n,i,o){var s=0;if(o===kZ){if(!Y6e(e,t,r,i))return!1}else if(o===TZ){if(!Z6e(e,t,r,i))return!1}else if(o===$9)for(;s<e.length;s++)if(ww(e,s)){if(!ww(t,s)||!js(e[s],t[s],r,i))return!1}else{if(ww(t,s))return!1;for(var a=Object.keys(e);s<a.length;s++){var c=a[s];if(!ww(t,c)||!js(e[c],t[c],r,i))return!1}return a.length===Object.keys(t).length}for(s=0;s<n.length;s++){var u=n[s];if(!js(e[u],t[u],r,i))return!1}return!0}function X6e(e,t){return js(e,t,F6e)}function Q6e(e,t){return js(e,t,V6e)}BZ.exports={isDeepEqual:X6e,isDeepStrictEqual:Q6e}});var pw=z((tpt,zZ)=>{"use strict";d();h();function id(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(r){return typeof r}:id=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},id(e)}function e4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t4e=U9(),vw=t4e.codes,CZ=vw.ERR_AMBIGUOUS_ARGUMENT,Sw=vw.ERR_INVALID_ARG_TYPE,r4e=vw.ERR_INVALID_ARG_VALUE,n4e=vw.ERR_INVALID_RETURN_VALUE,sd=vw.ERR_MISSING_ARGS,l0=zY(),i4e=lm(),o4e=i4e.inspect,DZ=lm().types,s4e=DZ.isPromise,Y9=DZ.isRegExp,a4e=Object.assign?Object.assign:YY().assign,UZ=Object.is?Object.is:H9(),od,j3;function Aw(){var e=_Z();od=e.isDeepEqual,j3=e.isDeepStrictEqual}var MZ=!1,Gr=zZ.exports=Z9,z3={};function ja(e){throw e.message instanceof Error?e.message:new l0(e)}function RZ(e,t,r,n,i){var o=arguments.length,s;if(o===0)s="Failed";else if(o===1)r=e,e=void 0;else{if(MZ===!1){MZ=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var c={actual:e,expected:t,operator:n===void 0?"fail":n,stackStartFn:i||RZ};r!==void 0&&(c.message=r);var u=new l0(c);throw s&&(u.message=s,u.generatedMessage=!0),u}Gr.fail=RZ;Gr.AssertionError=l0;function LZ(e,t,r,n){if(!r){var i=!1;if(t===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new l0({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function Z9(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];LZ.apply(void 0,[Z9,t.length].concat(t))}Gr.ok=Z9;Gr.equal=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");t!=r&&ja({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})};Gr.notEqual=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");t==r&&ja({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})};Gr.deepEqual=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");od===void 0&&Aw(),od(t,r)||ja({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})};Gr.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");od===void 0&&Aw(),od(t,r)&&ja({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})};Gr.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");od===void 0&&Aw(),j3(t,r)||ja({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})};Gr.notDeepStrictEqual=KZ;function KZ(e,t,r){if(arguments.length<2)throw new sd("actual","expected");od===void 0&&Aw(),j3(e,t)&&ja({actual:e,expected:t,message:r,operator:"notDeepStrictEqual",stackStartFn:KZ})}Gr.strictEqual=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");UZ(t,r)||ja({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})};Gr.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new sd("actual","expected");UZ(t,r)&&ja({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var NZ=function e(t,r,n){var i=this;e4e(this,e),r.forEach(function(o){o in t&&(n!==void 0&&typeof n[o]=="string"&&Y9(t[o])&&t[o].test(n[o])?i[o]=n[o]:i[o]=t[o])})};function c4e(e,t,r,n,i,o){if(!(r in e)||!j3(e[r],t[r])){if(!n){var s=new NZ(e,i),a=new NZ(t,i,e),c=new l0({actual:s,expected:a,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=e,c.expected=t,c.operator=o.name,c}ja({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}function VZ(e,t,r,n){if(typeof t!="function"){if(Y9(t))return t.test(e);if(arguments.length===2)throw new Sw("expected",["Function","RegExp"],t);if(id(e)!=="object"||e===null){var i=new l0({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var o=Object.keys(t);if(t instanceof Error)o.push("name","message");else if(o.length===0)throw new r4e("error",t,"may not be an empty object");return od===void 0&&Aw(),o.forEach(function(s){typeof e[s]=="string"&&Y9(t[s])&&t[s].test(e[s])||c4e(e,t,s,r,o,n)}),!0}return t.prototype!==void 0&&e instanceof t?!0:Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function FZ(e){if(typeof e!="function")throw new Sw("fn","Function",e);try{e()}catch(t){return t}return z3}function OZ(e){return s4e(e)||e!==null&&id(e)==="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function HZ(e){return Promise.resolve().then(function(){var t;if(typeof e=="function"){if(t=e(),!OZ(t))throw new n4e("instance of Promise","promiseFn",t)}else if(OZ(e))t=e;else throw new Sw("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return t}).then(function(){return z3}).catch(function(r){return r})})}function qZ(e,t,r,n){if(typeof r=="string"){if(arguments.length===4)throw new Sw("error",["Object","Error","Function","RegExp"],r);if(id(t)==="object"&&t!==null){if(t.message===r)throw new CZ("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new CZ("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&id(r)!=="object"&&typeof r!="function")throw new Sw("error",["Object","Error","Function","RegExp"],r);if(t===z3){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var o=e.name==="rejects"?"rejection":"exception";ja({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:e})}if(r&&!VZ(t,r,n,e))throw t}function WZ(e,t,r,n){if(t!==z3){if(typeof r=="string"&&(n=r,r=void 0),!r||VZ(t,r)){var i=n?": ".concat(n):".",o=e.name==="doesNotReject"?"rejection":"exception";ja({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,`
`)+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}Gr.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];qZ.apply(void 0,[e,FZ(t)].concat(n))};Gr.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return HZ(t).then(function(o){return qZ.apply(void 0,[e,o].concat(n))})};Gr.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];WZ.apply(void 0,[e,FZ(t)].concat(n))};Gr.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return HZ(t).then(function(o){return WZ.apply(void 0,[e,o].concat(n))})};Gr.ifError=function e(t){if(t!=null){var r="ifError got unwanted exception: ";id(t)==="object"&&typeof t.message=="string"?t.message.length===0&&t.constructor?r+=t.constructor.name:r+=t.message:r+=o4e(t);var n=new l0({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),i=t.stack;if(typeof i=="string"){var o=i.split(`
`);o.shift();for(var s=n.stack.split(`
`),a=0;a<o.length;a++){var c=s.indexOf(o[a]);if(c!==-1){s=s.slice(0,c);break}}n.stack="".concat(s.join(`
`),`
`).concat(o.join(`
`))}throw n}};function jZ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];LZ.apply(void 0,[jZ,t.length].concat(t))}Gr.strict=a4e(jZ,Gr,{equal:Gr.strictEqual,deepEqual:Gr.deepStrictEqual,notEqual:Gr.notStrictEqual,notDeepEqual:Gr.notDeepStrictEqual});Gr.strict.strict=Gr.strict});var mm=z(Ht=>{"use strict";d();h();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.baToJSON=Ht.addHexPrefix=Ht.toUnsigned=Ht.fromSigned=Ht.bufferToHex=Ht.bufferToInt=Ht.toBuffer=Ht.stripZeros=Ht.unpad=Ht.setLengthRight=Ht.setLength=Ht.setLengthLeft=Ht.zeros=void 0;var ym=t0(),J9=Qh();Ht.zeros=function(e){return Buffer.allocUnsafe(e).fill(0)};Ht.setLengthLeft=function(e,t,r){r===void 0&&(r=!1);var n=Ht.zeros(t);return e=Ht.toBuffer(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)};Ht.setLength=Ht.setLengthLeft;Ht.setLengthRight=function(e,t){return Ht.setLength(e,t,!0)};Ht.unpad=function(e){e=ym.stripHexPrefix(e);for(var t=e[0];e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e};Ht.stripZeros=Ht.unpad;Ht.toBuffer=function(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")if(ym.isHexString(e))e=Buffer.from(ym.padToEven(ym.stripHexPrefix(e)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);else if(typeof e=="number")e=ym.intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(J9.isBN(e))e=e.toArrayLike(Buffer);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e};Ht.bufferToInt=function(e){return new J9(Ht.toBuffer(e)).toNumber()};Ht.bufferToHex=function(e){return e=Ht.toBuffer(e),"0x"+e.toString("hex")};Ht.fromSigned=function(e){return new J9(e).fromTwos(256)};Ht.toUnsigned=function(e){return Buffer.from(e.toTwos(256).toArray())};Ht.addHexPrefix=function(e){return typeof e!="string"||ym.isHexPrefixed(e)?e:"0x"+e};Ht.baToJSON=function(e){if(Buffer.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],r=0;r<e.length;r++)t.push(Ht.baToJSON(e[r]));return t}}});var GZ=z(X9=>{"use strict";d();h();Object.defineProperty(X9,"__esModule",{value:!0});function u4e(e){return function(t){var r=e();return r.update(t),Buffer.from(r.digest())}}X9.createHashFunction=u4e});var ZZ=z((fpt,YZ)=>{d();h();var{Transform:f4e}=IN();YZ.exports=e=>class $Z extends f4e{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new $Z(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var QZ=z((hpt,XZ)=>{d();h();var{Transform:l4e}=IN();XZ.exports=e=>class JZ extends l4e{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new JZ(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var tJ=z((mpt,eJ)=>{d();h();var d4e=ZZ(),h4e=QZ();eJ.exports=function(e){let t=d4e(e),r=h4e(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var iJ=z(nJ=>{d();h();var rJ=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];nJ.p1600=function(e){for(let t=0;t<24;++t){let r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],m=l^(i<<1|o>>>31),b=f^(o<<1|i>>>31),w=e[0]^m,S=e[1]^b,P=e[10]^m,M=e[11]^b,D=e[20]^m,C=e[21]^b,R=e[30]^m,L=e[31]^b,W=e[40]^m,G=e[41]^b;m=r^(s<<1|a>>>31),b=n^(a<<1|s>>>31);let H=e[2]^m,$=e[3]^b,B=e[12]^m,p=e[13]^b,g=e[22]^m,x=e[23]^b,A=e[32]^m,v=e[33]^b,_=e[42]^m,O=e[43]^b;m=i^(c<<1|u>>>31),b=o^(u<<1|c>>>31);let T=e[4]^m,y=e[5]^b,I=e[14]^m,q=e[15]^b,K=e[24]^m,F=e[25]^b,J=e[34]^m,ae=e[35]^b,ce=e[44]^m,pe=e[45]^b;m=s^(l<<1|f>>>31),b=a^(f<<1|l>>>31);let Y=e[6]^m,V=e[7]^b,Z=e[16]^m,X=e[17]^b,ee=e[26]^m,he=e[27]^b,te=e[36]^m,se=e[37]^b,gt=e[46]^m,Be=e[47]^b;m=c^(r<<1|n>>>31),b=u^(n<<1|r>>>31);let Ue=e[8]^m,ms=e[9]^b,Fe=e[18]^m,Re=e[19]^b,ac=e[28]^m,Le=e[29]^b,ft=e[38]^m,yf=e[39]^b,lt=e[48]^m,dt=e[49]^b,tu=w,He=S,qe=M<<4|P>>>28,ru=P<<4|M>>>28,We=D<<3|C>>>29,je=C<<3|D>>>29,nu=L<<9|R>>>23,ze=R<<9|L>>>23,Ge=W<<18|G>>>14,iu=G<<18|W>>>14,$e=H<<1|$>>>31,Ye=$<<1|H>>>31,ou=p<<12|B>>>20,Ze=B<<12|p>>>20,Je=g<<10|x>>>22,su=x<<10|g>>>22,Xe=v<<13|A>>>19,Qe=A<<13|v>>>19,au=_<<2|O>>>30,et=O<<2|_>>>30,tt=y<<30|T>>>2,cu=T<<30|y>>>2,rt=I<<6|q>>>26,nt=q<<6|I>>>26,uu=F<<11|K>>>21,it=K<<11|F>>>21,ot=J<<15|ae>>>17,fu=ae<<15|J>>>17,st=pe<<29|ce>>>3,at=ce<<29|pe>>>3,lu=Y<<28|V>>>4,ct=V<<28|Y>>>4,ut=X<<23|Z>>>9,ra=Z<<23|X>>>9,na=ee<<25|he>>>7,ia=he<<25|ee>>>7,oa=te<<21|se>>>11,sa=se<<21|te>>>11,aa=Be<<24|gt>>>8,ca=gt<<24|Be>>>8,ua=Ue<<27|ms>>>5,fa=ms<<27|Ue>>>5,la=Fe<<20|Re>>>12,da=Re<<20|Fe>>>12,ha=Le<<7|ac>>>25,pa=ac<<7|Le>>>25,ya=ft<<8|yf>>>24,ma=yf<<8|ft>>>24,ga=lt<<14|dt>>>18,ba=dt<<14|lt>>>18;e[0]=tu^~ou&uu,e[1]=He^~Ze&it,e[10]=lu^~la&We,e[11]=ct^~da&je,e[20]=$e^~rt&na,e[21]=Ye^~nt&ia,e[30]=ua^~qe&Je,e[31]=fa^~ru&su,e[40]=tt^~ut&ha,e[41]=cu^~ra&pa,e[2]=ou^~uu&oa,e[3]=Ze^~it&sa,e[12]=la^~We&Xe,e[13]=da^~je&Qe,e[22]=rt^~na&ya,e[23]=nt^~ia&ma,e[32]=qe^~Je&ot,e[33]=ru^~su&fu,e[42]=ut^~ha&nu,e[43]=ra^~pa&ze,e[4]=uu^~oa&ga,e[5]=it^~sa&ba,e[14]=We^~Xe&st,e[15]=je^~Qe&at,e[24]=na^~ya&Ge,e[25]=ia^~ma&iu,e[34]=Je^~ot&aa,e[35]=su^~fu&ca,e[44]=ha^~nu&au,e[45]=pa^~ze&et,e[6]=oa^~ga&tu,e[7]=sa^~ba&He,e[16]=Xe^~st&lu,e[17]=Qe^~at&ct,e[26]=ya^~Ge&$e,e[27]=ma^~iu&Ye,e[36]=ot^~aa&ua,e[37]=fu^~ca&fa,e[46]=nu^~au&tt,e[47]=ze^~et&cu,e[8]=ga^~tu&ou,e[9]=ba^~He&Ze,e[18]=st^~lu&la,e[19]=at^~ct&da,e[28]=Ge^~$e&rt,e[29]=iu^~Ye&nt,e[38]=aa^~ua&qe,e[39]=ca^~fa&ru,e[48]=au^~tt&ut,e[49]=et^~cu&ra,e[0]^=rJ[t*2],e[1]^=rJ[t*2+1]}}});var sJ=z((vpt,oJ)=>{d();h();var G3=iJ();function gm(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}gm.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};gm.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(G3.p1600(this.state),this.count=0)};gm.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&G3.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),G3.p1600(this.state),this.count=0,this.squeezing=!0};gm.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);let t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(G3.p1600(this.state),this.count=0);return t};gm.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};oJ.exports=gm});var cJ=z((Ipt,aJ)=>{d();h();aJ.exports=tJ()(sJ())});var uJ=z(bm=>{"use strict";d();h();Object.defineProperty(bm,"__esModule",{value:!0});var $3=GZ(),Y3=cJ();bm.keccak224=$3.createHashFunction(function(){return Y3("keccak224")});bm.keccak256=$3.createHashFunction(function(){return Y3("keccak256")});bm.keccak384=$3.createHashFunction(function(){return Y3("keccak384")});bm.keccak512=$3.createHashFunction(function(){return Y3("keccak512")})});var X3=z(No=>{"use strict";d();h();Object.defineProperty(No,"__esModule",{value:!0});No.rlphash=No.ripemd160=No.sha256=No.keccak256=No.keccak=void 0;var J3=uJ(),p4e=J3.keccak224,y4e=J3.keccak384,m4e=J3.keccak256,g4e=J3.keccak512,fJ=kN(),b4e=t0(),x4e=d3(),Z3=mm();No.keccak=function(e,t){switch(t===void 0&&(t=256),typeof e=="string"&&!b4e.isHexString(e)?e=Buffer.from(e,"utf8"):e=Z3.toBuffer(e),t||(t=256),t){case 224:return p4e(e);case 256:return m4e(e);case 384:return y4e(e);case 512:return g4e(e);default:throw new Error("Invald algorithm: keccak"+t)}};No.keccak256=function(e){return No.keccak(e)};No.sha256=function(e){return e=Z3.toBuffer(e),fJ("sha256").update(e).digest()};No.ripemd160=function(e,t){e=Z3.toBuffer(e);var r=fJ("rmd160").update(e).digest();return t===!0?Z3.setLength(r,32):r};No.rlphash=function(e){return No.keccak(x4e.encode(e))}});var lJ=z(Ct=>{"use strict";d();h();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.importPublic=Ct.privateToPublic=Ct.privateToAddress=Ct.publicToAddress=Ct.pubToAddress=Ct.isValidPublic=Ct.isValidPrivate=Ct.isPrecompiled=Ct.generateAddress2=Ct.generateAddress=Ct.isValidChecksumAddress=Ct.toChecksumAddress=Ct.isZeroAddress=Ct.isValidAddress=Ct.zeroAddress=void 0;var Q9=pw(),w4e=t0(),xm=f3(),S4e=Qh(),za=mm(),wm=X3();Ct.zeroAddress=function(){var e=20,t=za.zeros(e);return za.bufferToHex(t)};Ct.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)};Ct.isZeroAddress=function(e){var t=Ct.zeroAddress();return t===za.addHexPrefix(e)};Ct.toChecksumAddress=function(e,t){e=w4e.stripHexPrefix(e).toLowerCase();for(var r=t!==void 0?t.toString()+"0x":"",n=wm.keccak(r+e).toString("hex"),i="0x",o=0;o<e.length;o++)parseInt(n[o],16)>=8?i+=e[o].toUpperCase():i+=e[o];return i};Ct.isValidChecksumAddress=function(e,t){return Ct.isValidAddress(e)&&Ct.toChecksumAddress(e,t)===e};Ct.generateAddress=function(e,t){e=za.toBuffer(e);var r=new S4e(t);return r.isZero()?wm.rlphash([e,null]).slice(-20):wm.rlphash([e,Buffer.from(r.toArray())]).slice(-20)};Ct.generateAddress2=function(e,t,r){var n=za.toBuffer(e),i=za.toBuffer(t),o=za.toBuffer(r);Q9(n.length===20),Q9(i.length===32);var s=wm.keccak256(Buffer.concat([Buffer.from("ff","hex"),n,i,wm.keccak256(o)]));return s.slice(-20)};Ct.isPrecompiled=function(e){var t=za.unpad(e);return t.length===1&&t[0]>=1&&t[0]<=8};Ct.isValidPrivate=function(e){return xm.privateKeyVerify(e)};Ct.isValidPublic=function(e,t){return t===void 0&&(t=!1),e.length===64?xm.publicKeyVerify(Buffer.concat([Buffer.from([4]),e])):t?xm.publicKeyVerify(e):!1};Ct.pubToAddress=function(e,t){return t===void 0&&(t=!1),e=za.toBuffer(e),t&&e.length!==64&&(e=xm.publicKeyConvert(e,!1).slice(1)),Q9(e.length===64),wm.keccak(e).slice(-20)};Ct.publicToAddress=Ct.pubToAddress;Ct.privateToAddress=function(e){return Ct.publicToAddress(Ct.privateToPublic(e))};Ct.privateToPublic=function(e){return e=za.toBuffer(e),xm.publicKeyCreate(e,!1).slice(1)};Ct.importPublic=function(e){return e=za.toBuffer(e),e.length!==64&&(e=xm.publicKeyConvert(e,!1).slice(1)),e}});var dJ=z(Oo=>{"use strict";d();h();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.hashPersonalMessage=Oo.isValidSignature=Oo.fromRpcSig=Oo.toRpcSig=Oo.ecrecover=Oo.ecsign=void 0;var e7=f3(),Q3=Qh(),d0=mm(),v4e=X3();Oo.ecsign=function(e,t,r){var n=e7.sign(e,t),i=n.recovery,o={r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(r*2+35):i+27};return o};Oo.ecrecover=function(e,t,r,n,i){var o=Buffer.concat([d0.setLength(r,32),d0.setLength(n,32)],64),s=t7(t,i);if(!r7(s))throw new Error("Invalid signature v value");var a=e7.recover(e,o,s);return e7.publicKeyConvert(a,!1).slice(1)};Oo.toRpcSig=function(e,t,r,n){var i=t7(e,n);if(!r7(i))throw new Error("Invalid signature v value");return d0.bufferToHex(Buffer.concat([d0.setLengthLeft(t,32),d0.setLengthLeft(r,32),d0.toBuffer(e)]))};Oo.fromRpcSig=function(e){var t=d0.toBuffer(e);if(t.length!==65)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}};Oo.isValidSignature=function(e,t,r,n,i){n===void 0&&(n=!0);var o=new Q3("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new Q3("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(t.length!==32||r.length!==32||!r7(t7(e,i)))return!1;var a=new Q3(t),c=new Q3(r);return!(a.isZero()||a.gt(s)||c.isZero()||c.gt(s)||n&&c.cmp(o)===1)};Oo.hashPersonalMessage=function(e){var t=Buffer.from(`Ethereum Signed Message:
`+e.length.toString(),"utf-8");return v4e.keccak(Buffer.concat([t,e]))};function t7(e,t){return t?e-(2*t+35):e-27}function r7(e){return e===0||e===1}});var yJ=z(t8=>{"use strict";d();h();Object.defineProperty(t8,"__esModule",{value:!0});t8.defineProperties=void 0;var hJ=pw(),A4e=t0(),pJ=d3(),e8=mm();t8.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(i){if(i===void 0&&(i=!1),i){var o={};return e._fields.forEach(function(s){o[s]="0x"+e[s].toString("hex")}),o}return e8.baToJSON(e.raw)},e.serialize=function(){return pJ.encode(e.raw)},t.forEach(function(i,o){e._fields.push(i.name);function s(){return e.raw[o]}function a(c){c=e8.toBuffer(c),c.toString("hex")==="00"&&!i.allowZero&&(c=Buffer.allocUnsafe(0)),i.allowLess&&i.length?(c=e8.stripZeros(c),hJ(i.length>=c.length,"The field "+i.name+" must not have more "+i.length+" bytes")):!(i.allowZero&&c.length===0)&&i.length&&hJ(i.length===c.length,"The field "+i.name+" must have byte length of "+i.length),e.raw[o]=c}Object.defineProperty(e,i.name,{enumerable:!0,configurable:!0,get:s,set:a}),i.default&&(e[i.name]=i.default),i.alias&&Object.defineProperty(e,i.alias,{enumerable:!1,configurable:!0,set:a,get:s})}),r)if(typeof r=="string"&&(r=Buffer.from(A4e.stripHexPrefix(r),"hex")),Buffer.isBuffer(r)&&(r=pJ.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,o){e[e._fields[o]]=e8.toBuffer(i)})}else if(typeof r=="object"){var n=Object.keys(r);t.forEach(function(i){n.indexOf(i.name)!==-1&&(e[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(e[i.alias]=r[i.alias])})}else throw new Error("invalid data")}});var Ew=z(Ln=>{"use strict";d();h();var E4e=Ln&&Ln.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sm=Ln&&Ln.__exportStar||function(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&E4e(t,e,r)};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.secp256k1=Ln.rlp=Ln.BN=void 0;var I4e=f3();Ln.secp256k1=I4e;var k4e=t0(),T4e=Qh();Ln.BN=T4e;var P4e=d3();Ln.rlp=P4e;Object.assign(Ln,k4e);Sm(ZG(),Ln);Sm(lJ(),Ln);Sm(X3(),Ln);Sm(dJ(),Ln);Sm(mm(),Ln);Sm(yJ(),Ln)});var Iw=z(Do=>{"use strict";d();h();Object.defineProperty(Do,"__esModule",{value:!0});Do.normalize=Do.recoverPublicKey=Do.concatSig=Do.legacyToBuffer=Do.isNullish=Do.padWithZeroes=void 0;var zs=Ew(),n7=t0();function i7(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}Do.padWithZeroes=i7;function B4e(e){return e==null}Do.isNullish=B4e;function _4e(e){return typeof e=="string"&&!n7.isHexString(e)?Buffer.from(e):zs.toBuffer(e)}Do.legacyToBuffer=_4e;function C4e(e,t,r){let n=zs.fromSigned(t),i=zs.fromSigned(r),o=zs.bufferToInt(e),s=i7(zs.toUnsigned(n).toString("hex"),64),a=i7(zs.toUnsigned(i).toString("hex"),64),c=n7.stripHexPrefix(n7.intToHex(o));return zs.addHexPrefix(s.concat(a,c))}Do.concatSig=C4e;function M4e(e,t){let r=zs.fromRpcSig(t);return zs.ecrecover(e,r.v,r.r,r.s)}Do.recoverPublicKey=M4e;function N4e(e){if(e){if(typeof e=="number"){let t=zs.toBuffer(e);e=zs.bufferToHex(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return zs.addHexPrefix(e.toLowerCase())}}Do.normalize=N4e});var gJ=z(ad=>{"use strict";d();h();Object.defineProperty(ad,"__esModule",{value:!0});ad.extractPublicKey=ad.recoverPersonalSignature=ad.personalSign=void 0;var vm=Ew(),qc=Iw();function O4e({privateKey:e,data:t}){if(qc.isNullish(t))throw new Error("Missing data parameter");if(qc.isNullish(e))throw new Error("Missing privateKey parameter");let r=qc.legacyToBuffer(t),n=vm.hashPersonalMessage(r),i=vm.ecsign(n,e);return qc.concatSig(vm.toBuffer(i.v),i.r,i.s)}ad.personalSign=O4e;function D4e({data:e,signature:t}){if(qc.isNullish(e))throw new Error("Missing data parameter");if(qc.isNullish(t))throw new Error("Missing signature parameter");let r=mJ(e,t),n=vm.publicToAddress(r);return vm.bufferToHex(n)}ad.recoverPersonalSignature=D4e;function U4e({data:e,signature:t}){if(qc.isNullish(e))throw new Error("Missing data parameter");if(qc.isNullish(t))throw new Error("Missing signature parameter");return`0x${mJ(e,t).toString("hex")}`}ad.extractPublicKey=U4e;function mJ(e,t){let r=vm.hashPersonalMessage(qc.legacyToBuffer(e));return qc.recoverPublicKey(r,t)}});var xJ=z((bJ,o7)=>{d();h();(function(e,t){"use strict";function r(B,p){if(!B)throw new Error(p||"Assertion failed")}function n(B,p){B.super_=p;var g=function(){};g.prototype=p.prototype,B.prototype=new g,B.prototype.constructor=B}function i(B,p,g){if(i.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((p==="le"||p==="be")&&(g=p,p=10),this._init(B||0,p||10,g||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=TN().Buffer}catch{}i.isBN=function(p){return p instanceof i?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===i.wordSize&&Array.isArray(p.words)},i.max=function(p,g){return p.cmp(g)>0?p:g},i.min=function(p,g){return p.cmp(g)<0?p:g},i.prototype._init=function(p,g,x){if(typeof p=="number")return this._initNumber(p,g,x);if(typeof p=="object")return this._initArray(p,g,x);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),p=p.toString().replace(/\s+/g,"");var A=0;p[0]==="-"&&(A++,this.negative=1),A<p.length&&(g===16?this._parseHex(p,A,x):(this._parseBase(p,g,A),x==="le"&&this._initArray(this.toArray(),g,x)))},i.prototype._initNumber=function(p,g,x){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),g,x)},i.prototype._initArray=function(p,g,x){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v,_,O=0;if(x==="be")for(A=p.length-1,v=0;A>=0;A-=3)_=p[A]|p[A-1]<<8|p[A-2]<<16,this.words[v]|=_<<O&67108863,this.words[v+1]=_>>>26-O&67108863,O+=24,O>=26&&(O-=26,v++);else if(x==="le")for(A=0,v=0;A<p.length;A+=3)_=p[A]|p[A+1]<<8|p[A+2]<<16,this.words[v]|=_<<O&67108863,this.words[v+1]=_>>>26-O&67108863,O+=24,O>=26&&(O-=26,v++);return this.strip()};function s(B,p){var g=B.charCodeAt(p);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}function a(B,p,g){var x=s(B,g);return g-1>=p&&(x|=s(B,g-1)<<4),x}i.prototype._parseHex=function(p,g,x){this.length=Math.ceil((p.length-g)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var v=0,_=0,O;if(x==="be")for(A=p.length-1;A>=g;A-=2)O=a(p,g,A)<<v,this.words[_]|=O&67108863,v>=18?(v-=18,_+=1,this.words[_]|=O>>>26):v+=8;else{var T=p.length-g;for(A=T%2===0?g+1:g;A<p.length;A+=2)O=a(p,g,A)<<v,this.words[_]|=O&67108863,v>=18?(v-=18,_+=1,this.words[_]|=O>>>26):v+=8}this.strip()};function c(B,p,g,x){for(var A=0,v=Math.min(B.length,g),_=p;_<v;_++){var O=B.charCodeAt(_)-48;A*=x,O>=49?A+=O-49+10:O>=17?A+=O-17+10:A+=O}return A}i.prototype._parseBase=function(p,g,x){this.words=[0],this.length=1;for(var A=0,v=1;v<=67108863;v*=g)A++;A--,v=v/g|0;for(var _=p.length-x,O=_%A,T=Math.min(_,_-O)+x,y=0,I=x;I<T;I+=A)y=c(p,I,I+A,g),this.imuln(v),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(O!==0){var q=1;for(y=c(p,I,p.length,g),I=0;I<O;I++)q*=g;this.imuln(q),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this.strip()},i.prototype.copy=function(p){p.words=new Array(this.length);for(var g=0;g<this.length;g++)p.words[g]=this.words[g];p.length=this.length,p.negative=this.negative,p.red=this.red},i.prototype.clone=function(){var p=new i(null);return this.copy(p),p},i.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(p,g){p=p||10,g=g|0||1;var x;if(p===16||p==="hex"){x="";for(var A=0,v=0,_=0;_<this.length;_++){var O=this.words[_],T=((O<<A|v)&16777215).toString(16);v=O>>>24-A&16777215,v!==0||_!==this.length-1?x=u[6-T.length]+T+x:x=T+x,A+=2,A>=26&&(A-=26,_--)}for(v!==0&&(x=v.toString(16)+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(p===(p|0)&&p>=2&&p<=36){var y=l[p],I=f[p];x="";var q=this.clone();for(q.negative=0;!q.isZero();){var K=q.modn(I).toString(p);q=q.idivn(I),q.isZero()?x=K+x:x=u[y-K.length]+K+x}for(this.isZero()&&(x="0"+x);x.length%g!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(p,g){return r(typeof o<"u"),this.toArrayLike(o,p,g)},i.prototype.toArray=function(p,g){return this.toArrayLike(Array,p,g)},i.prototype.toArrayLike=function(p,g,x){var A=this.byteLength(),v=x||Math.max(1,A);r(A<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var _=g==="le",O=new p(v),T,y,I=this.clone();if(_){for(y=0;!I.isZero();y++)T=I.andln(255),I.iushrn(8),O[y]=T;for(;y<v;y++)O[y]=0}else{for(y=0;y<v-A;y++)O[y]=0;for(y=0;!I.isZero();y++)T=I.andln(255),I.iushrn(8),O[v-y-1]=T}return O},Math.clz32?i.prototype._countBits=function(p){return 32-Math.clz32(p)}:i.prototype._countBits=function(p){var g=p,x=0;return g>=4096&&(x+=13,g>>>=13),g>=64&&(x+=7,g>>>=7),g>=8&&(x+=4,g>>>=4),g>=2&&(x+=2,g>>>=2),x+g},i.prototype._zeroBits=function(p){if(p===0)return 26;var g=p,x=0;return g&8191||(x+=13,g>>>=13),g&127||(x+=7,g>>>=7),g&15||(x+=4,g>>>=4),g&3||(x+=2,g>>>=2),g&1||x++,x},i.prototype.bitLength=function(){var p=this.words[this.length-1],g=this._countBits(p);return(this.length-1)*26+g};function m(B){for(var p=new Array(B.bitLength()),g=0;g<p.length;g++){var x=g/26|0,A=g%26;p[g]=(B.words[x]&1<<A)>>>A}return p}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,g=0;g<this.length;g++){var x=this._zeroBits(this.words[g]);if(p+=x,x!==26)break}return p},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},i.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]|p.words[g];return this.strip()},i.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},i.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},i.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},i.prototype.iuand=function(p){var g;this.length>p.length?g=p:g=this;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]&p.words[x];return this.length=g.length,this.strip()},i.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},i.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},i.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},i.prototype.iuxor=function(p){var g,x;this.length>p.length?(g=this,x=p):(g=p,x=this);for(var A=0;A<x.length;A++)this.words[A]=g.words[A]^x.words[A];if(this!==g)for(;A<g.length;A++)this.words[A]=g.words[A];return this.length=g.length,this.strip()},i.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},i.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},i.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},i.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var g=Math.ceil(p/26)|0,x=p%26;this._expand(g),x>0&&g--;for(var A=0;A<g;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this.strip()},i.prototype.notn=function(p){return this.clone().inotn(p)},i.prototype.setn=function(p,g){r(typeof p=="number"&&p>=0);var x=p/26|0,A=p%26;return this._expand(x+1),g?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this.strip()},i.prototype.iadd=function(p){var g;if(this.negative!==0&&p.negative===0)return this.negative=0,g=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,g=this.isub(p),p.negative=1,g._normSign();var x,A;this.length>p.length?(x=this,A=p):(x=p,A=this);for(var v=0,_=0;_<A.length;_++)g=(x.words[_]|0)+(A.words[_]|0)+v,this.words[_]=g&67108863,v=g>>>26;for(;v!==0&&_<x.length;_++)g=(x.words[_]|0)+v,this.words[_]=g&67108863,v=g>>>26;if(this.length=x.length,v!==0)this.words[this.length]=v,this.length++;else if(x!==this)for(;_<x.length;_++)this.words[_]=x.words[_];return this},i.prototype.add=function(p){var g;return p.negative!==0&&this.negative===0?(p.negative=0,g=this.sub(p),p.negative^=1,g):p.negative===0&&this.negative!==0?(this.negative=0,g=p.sub(this),this.negative=1,g):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},i.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var g=this.iadd(p);return p.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var x=this.cmp(p);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,v;x>0?(A=this,v=p):(A=p,v=this);for(var _=0,O=0;O<v.length;O++)g=(A.words[O]|0)-(v.words[O]|0)+_,_=g>>26,this.words[O]=g&67108863;for(;_!==0&&O<A.length;O++)g=(A.words[O]|0)+_,_=g>>26,this.words[O]=g&67108863;if(_===0&&O<A.length&&A!==this)for(;O<A.length;O++)this.words[O]=A.words[O];return this.length=Math.max(this.length,O),A!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(p){return this.clone().isub(p)};function b(B,p,g){g.negative=p.negative^B.negative;var x=B.length+p.length|0;g.length=x,x=x-1|0;var A=B.words[0]|0,v=p.words[0]|0,_=A*v,O=_&67108863,T=_/67108864|0;g.words[0]=O;for(var y=1;y<x;y++){for(var I=T>>>26,q=T&67108863,K=Math.min(y,p.length-1),F=Math.max(0,y-B.length+1);F<=K;F++){var J=y-F|0;A=B.words[J]|0,v=p.words[F]|0,_=A*v+q,I+=_/67108864|0,q=_&67108863}g.words[y]=q|0,T=I|0}return T!==0?g.words[y]=T|0:g.length--,g.strip()}var w=function(p,g,x){var A=p.words,v=g.words,_=x.words,O=0,T,y,I,q=A[0]|0,K=q&8191,F=q>>>13,J=A[1]|0,ae=J&8191,ce=J>>>13,pe=A[2]|0,Y=pe&8191,V=pe>>>13,Z=A[3]|0,X=Z&8191,ee=Z>>>13,he=A[4]|0,te=he&8191,se=he>>>13,gt=A[5]|0,Be=gt&8191,Ue=gt>>>13,ms=A[6]|0,Fe=ms&8191,Re=ms>>>13,ac=A[7]|0,Le=ac&8191,ft=ac>>>13,yf=A[8]|0,lt=yf&8191,dt=yf>>>13,tu=A[9]|0,He=tu&8191,qe=tu>>>13,ru=v[0]|0,We=ru&8191,je=ru>>>13,nu=v[1]|0,ze=nu&8191,Ge=nu>>>13,iu=v[2]|0,$e=iu&8191,Ye=iu>>>13,ou=v[3]|0,Ze=ou&8191,Je=ou>>>13,su=v[4]|0,Xe=su&8191,Qe=su>>>13,au=v[5]|0,et=au&8191,tt=au>>>13,cu=v[6]|0,rt=cu&8191,nt=cu>>>13,uu=v[7]|0,it=uu&8191,ot=uu>>>13,fu=v[8]|0,st=fu&8191,at=fu>>>13,lu=v[9]|0,ct=lu&8191,ut=lu>>>13;x.negative=p.negative^g.negative,x.length=19,T=Math.imul(K,We),y=Math.imul(K,je),y=y+Math.imul(F,We)|0,I=Math.imul(F,je);var ra=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ra>>>26)|0,ra&=67108863,T=Math.imul(ae,We),y=Math.imul(ae,je),y=y+Math.imul(ce,We)|0,I=Math.imul(ce,je),T=T+Math.imul(K,ze)|0,y=y+Math.imul(K,Ge)|0,y=y+Math.imul(F,ze)|0,I=I+Math.imul(F,Ge)|0;var na=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(na>>>26)|0,na&=67108863,T=Math.imul(Y,We),y=Math.imul(Y,je),y=y+Math.imul(V,We)|0,I=Math.imul(V,je),T=T+Math.imul(ae,ze)|0,y=y+Math.imul(ae,Ge)|0,y=y+Math.imul(ce,ze)|0,I=I+Math.imul(ce,Ge)|0,T=T+Math.imul(K,$e)|0,y=y+Math.imul(K,Ye)|0,y=y+Math.imul(F,$e)|0,I=I+Math.imul(F,Ye)|0;var ia=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ia>>>26)|0,ia&=67108863,T=Math.imul(X,We),y=Math.imul(X,je),y=y+Math.imul(ee,We)|0,I=Math.imul(ee,je),T=T+Math.imul(Y,ze)|0,y=y+Math.imul(Y,Ge)|0,y=y+Math.imul(V,ze)|0,I=I+Math.imul(V,Ge)|0,T=T+Math.imul(ae,$e)|0,y=y+Math.imul(ae,Ye)|0,y=y+Math.imul(ce,$e)|0,I=I+Math.imul(ce,Ye)|0,T=T+Math.imul(K,Ze)|0,y=y+Math.imul(K,Je)|0,y=y+Math.imul(F,Ze)|0,I=I+Math.imul(F,Je)|0;var oa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(oa>>>26)|0,oa&=67108863,T=Math.imul(te,We),y=Math.imul(te,je),y=y+Math.imul(se,We)|0,I=Math.imul(se,je),T=T+Math.imul(X,ze)|0,y=y+Math.imul(X,Ge)|0,y=y+Math.imul(ee,ze)|0,I=I+Math.imul(ee,Ge)|0,T=T+Math.imul(Y,$e)|0,y=y+Math.imul(Y,Ye)|0,y=y+Math.imul(V,$e)|0,I=I+Math.imul(V,Ye)|0,T=T+Math.imul(ae,Ze)|0,y=y+Math.imul(ae,Je)|0,y=y+Math.imul(ce,Ze)|0,I=I+Math.imul(ce,Je)|0,T=T+Math.imul(K,Xe)|0,y=y+Math.imul(K,Qe)|0,y=y+Math.imul(F,Xe)|0,I=I+Math.imul(F,Qe)|0;var sa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(sa>>>26)|0,sa&=67108863,T=Math.imul(Be,We),y=Math.imul(Be,je),y=y+Math.imul(Ue,We)|0,I=Math.imul(Ue,je),T=T+Math.imul(te,ze)|0,y=y+Math.imul(te,Ge)|0,y=y+Math.imul(se,ze)|0,I=I+Math.imul(se,Ge)|0,T=T+Math.imul(X,$e)|0,y=y+Math.imul(X,Ye)|0,y=y+Math.imul(ee,$e)|0,I=I+Math.imul(ee,Ye)|0,T=T+Math.imul(Y,Ze)|0,y=y+Math.imul(Y,Je)|0,y=y+Math.imul(V,Ze)|0,I=I+Math.imul(V,Je)|0,T=T+Math.imul(ae,Xe)|0,y=y+Math.imul(ae,Qe)|0,y=y+Math.imul(ce,Xe)|0,I=I+Math.imul(ce,Qe)|0,T=T+Math.imul(K,et)|0,y=y+Math.imul(K,tt)|0,y=y+Math.imul(F,et)|0,I=I+Math.imul(F,tt)|0;var aa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(aa>>>26)|0,aa&=67108863,T=Math.imul(Fe,We),y=Math.imul(Fe,je),y=y+Math.imul(Re,We)|0,I=Math.imul(Re,je),T=T+Math.imul(Be,ze)|0,y=y+Math.imul(Be,Ge)|0,y=y+Math.imul(Ue,ze)|0,I=I+Math.imul(Ue,Ge)|0,T=T+Math.imul(te,$e)|0,y=y+Math.imul(te,Ye)|0,y=y+Math.imul(se,$e)|0,I=I+Math.imul(se,Ye)|0,T=T+Math.imul(X,Ze)|0,y=y+Math.imul(X,Je)|0,y=y+Math.imul(ee,Ze)|0,I=I+Math.imul(ee,Je)|0,T=T+Math.imul(Y,Xe)|0,y=y+Math.imul(Y,Qe)|0,y=y+Math.imul(V,Xe)|0,I=I+Math.imul(V,Qe)|0,T=T+Math.imul(ae,et)|0,y=y+Math.imul(ae,tt)|0,y=y+Math.imul(ce,et)|0,I=I+Math.imul(ce,tt)|0,T=T+Math.imul(K,rt)|0,y=y+Math.imul(K,nt)|0,y=y+Math.imul(F,rt)|0,I=I+Math.imul(F,nt)|0;var ca=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ca>>>26)|0,ca&=67108863,T=Math.imul(Le,We),y=Math.imul(Le,je),y=y+Math.imul(ft,We)|0,I=Math.imul(ft,je),T=T+Math.imul(Fe,ze)|0,y=y+Math.imul(Fe,Ge)|0,y=y+Math.imul(Re,ze)|0,I=I+Math.imul(Re,Ge)|0,T=T+Math.imul(Be,$e)|0,y=y+Math.imul(Be,Ye)|0,y=y+Math.imul(Ue,$e)|0,I=I+Math.imul(Ue,Ye)|0,T=T+Math.imul(te,Ze)|0,y=y+Math.imul(te,Je)|0,y=y+Math.imul(se,Ze)|0,I=I+Math.imul(se,Je)|0,T=T+Math.imul(X,Xe)|0,y=y+Math.imul(X,Qe)|0,y=y+Math.imul(ee,Xe)|0,I=I+Math.imul(ee,Qe)|0,T=T+Math.imul(Y,et)|0,y=y+Math.imul(Y,tt)|0,y=y+Math.imul(V,et)|0,I=I+Math.imul(V,tt)|0,T=T+Math.imul(ae,rt)|0,y=y+Math.imul(ae,nt)|0,y=y+Math.imul(ce,rt)|0,I=I+Math.imul(ce,nt)|0,T=T+Math.imul(K,it)|0,y=y+Math.imul(K,ot)|0,y=y+Math.imul(F,it)|0,I=I+Math.imul(F,ot)|0;var ua=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ua>>>26)|0,ua&=67108863,T=Math.imul(lt,We),y=Math.imul(lt,je),y=y+Math.imul(dt,We)|0,I=Math.imul(dt,je),T=T+Math.imul(Le,ze)|0,y=y+Math.imul(Le,Ge)|0,y=y+Math.imul(ft,ze)|0,I=I+Math.imul(ft,Ge)|0,T=T+Math.imul(Fe,$e)|0,y=y+Math.imul(Fe,Ye)|0,y=y+Math.imul(Re,$e)|0,I=I+Math.imul(Re,Ye)|0,T=T+Math.imul(Be,Ze)|0,y=y+Math.imul(Be,Je)|0,y=y+Math.imul(Ue,Ze)|0,I=I+Math.imul(Ue,Je)|0,T=T+Math.imul(te,Xe)|0,y=y+Math.imul(te,Qe)|0,y=y+Math.imul(se,Xe)|0,I=I+Math.imul(se,Qe)|0,T=T+Math.imul(X,et)|0,y=y+Math.imul(X,tt)|0,y=y+Math.imul(ee,et)|0,I=I+Math.imul(ee,tt)|0,T=T+Math.imul(Y,rt)|0,y=y+Math.imul(Y,nt)|0,y=y+Math.imul(V,rt)|0,I=I+Math.imul(V,nt)|0,T=T+Math.imul(ae,it)|0,y=y+Math.imul(ae,ot)|0,y=y+Math.imul(ce,it)|0,I=I+Math.imul(ce,ot)|0,T=T+Math.imul(K,st)|0,y=y+Math.imul(K,at)|0,y=y+Math.imul(F,st)|0,I=I+Math.imul(F,at)|0;var fa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(fa>>>26)|0,fa&=67108863,T=Math.imul(He,We),y=Math.imul(He,je),y=y+Math.imul(qe,We)|0,I=Math.imul(qe,je),T=T+Math.imul(lt,ze)|0,y=y+Math.imul(lt,Ge)|0,y=y+Math.imul(dt,ze)|0,I=I+Math.imul(dt,Ge)|0,T=T+Math.imul(Le,$e)|0,y=y+Math.imul(Le,Ye)|0,y=y+Math.imul(ft,$e)|0,I=I+Math.imul(ft,Ye)|0,T=T+Math.imul(Fe,Ze)|0,y=y+Math.imul(Fe,Je)|0,y=y+Math.imul(Re,Ze)|0,I=I+Math.imul(Re,Je)|0,T=T+Math.imul(Be,Xe)|0,y=y+Math.imul(Be,Qe)|0,y=y+Math.imul(Ue,Xe)|0,I=I+Math.imul(Ue,Qe)|0,T=T+Math.imul(te,et)|0,y=y+Math.imul(te,tt)|0,y=y+Math.imul(se,et)|0,I=I+Math.imul(se,tt)|0,T=T+Math.imul(X,rt)|0,y=y+Math.imul(X,nt)|0,y=y+Math.imul(ee,rt)|0,I=I+Math.imul(ee,nt)|0,T=T+Math.imul(Y,it)|0,y=y+Math.imul(Y,ot)|0,y=y+Math.imul(V,it)|0,I=I+Math.imul(V,ot)|0,T=T+Math.imul(ae,st)|0,y=y+Math.imul(ae,at)|0,y=y+Math.imul(ce,st)|0,I=I+Math.imul(ce,at)|0,T=T+Math.imul(K,ct)|0,y=y+Math.imul(K,ut)|0,y=y+Math.imul(F,ct)|0,I=I+Math.imul(F,ut)|0;var la=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(la>>>26)|0,la&=67108863,T=Math.imul(He,ze),y=Math.imul(He,Ge),y=y+Math.imul(qe,ze)|0,I=Math.imul(qe,Ge),T=T+Math.imul(lt,$e)|0,y=y+Math.imul(lt,Ye)|0,y=y+Math.imul(dt,$e)|0,I=I+Math.imul(dt,Ye)|0,T=T+Math.imul(Le,Ze)|0,y=y+Math.imul(Le,Je)|0,y=y+Math.imul(ft,Ze)|0,I=I+Math.imul(ft,Je)|0,T=T+Math.imul(Fe,Xe)|0,y=y+Math.imul(Fe,Qe)|0,y=y+Math.imul(Re,Xe)|0,I=I+Math.imul(Re,Qe)|0,T=T+Math.imul(Be,et)|0,y=y+Math.imul(Be,tt)|0,y=y+Math.imul(Ue,et)|0,I=I+Math.imul(Ue,tt)|0,T=T+Math.imul(te,rt)|0,y=y+Math.imul(te,nt)|0,y=y+Math.imul(se,rt)|0,I=I+Math.imul(se,nt)|0,T=T+Math.imul(X,it)|0,y=y+Math.imul(X,ot)|0,y=y+Math.imul(ee,it)|0,I=I+Math.imul(ee,ot)|0,T=T+Math.imul(Y,st)|0,y=y+Math.imul(Y,at)|0,y=y+Math.imul(V,st)|0,I=I+Math.imul(V,at)|0,T=T+Math.imul(ae,ct)|0,y=y+Math.imul(ae,ut)|0,y=y+Math.imul(ce,ct)|0,I=I+Math.imul(ce,ut)|0;var da=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(da>>>26)|0,da&=67108863,T=Math.imul(He,$e),y=Math.imul(He,Ye),y=y+Math.imul(qe,$e)|0,I=Math.imul(qe,Ye),T=T+Math.imul(lt,Ze)|0,y=y+Math.imul(lt,Je)|0,y=y+Math.imul(dt,Ze)|0,I=I+Math.imul(dt,Je)|0,T=T+Math.imul(Le,Xe)|0,y=y+Math.imul(Le,Qe)|0,y=y+Math.imul(ft,Xe)|0,I=I+Math.imul(ft,Qe)|0,T=T+Math.imul(Fe,et)|0,y=y+Math.imul(Fe,tt)|0,y=y+Math.imul(Re,et)|0,I=I+Math.imul(Re,tt)|0,T=T+Math.imul(Be,rt)|0,y=y+Math.imul(Be,nt)|0,y=y+Math.imul(Ue,rt)|0,I=I+Math.imul(Ue,nt)|0,T=T+Math.imul(te,it)|0,y=y+Math.imul(te,ot)|0,y=y+Math.imul(se,it)|0,I=I+Math.imul(se,ot)|0,T=T+Math.imul(X,st)|0,y=y+Math.imul(X,at)|0,y=y+Math.imul(ee,st)|0,I=I+Math.imul(ee,at)|0,T=T+Math.imul(Y,ct)|0,y=y+Math.imul(Y,ut)|0,y=y+Math.imul(V,ct)|0,I=I+Math.imul(V,ut)|0;var ha=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ha>>>26)|0,ha&=67108863,T=Math.imul(He,Ze),y=Math.imul(He,Je),y=y+Math.imul(qe,Ze)|0,I=Math.imul(qe,Je),T=T+Math.imul(lt,Xe)|0,y=y+Math.imul(lt,Qe)|0,y=y+Math.imul(dt,Xe)|0,I=I+Math.imul(dt,Qe)|0,T=T+Math.imul(Le,et)|0,y=y+Math.imul(Le,tt)|0,y=y+Math.imul(ft,et)|0,I=I+Math.imul(ft,tt)|0,T=T+Math.imul(Fe,rt)|0,y=y+Math.imul(Fe,nt)|0,y=y+Math.imul(Re,rt)|0,I=I+Math.imul(Re,nt)|0,T=T+Math.imul(Be,it)|0,y=y+Math.imul(Be,ot)|0,y=y+Math.imul(Ue,it)|0,I=I+Math.imul(Ue,ot)|0,T=T+Math.imul(te,st)|0,y=y+Math.imul(te,at)|0,y=y+Math.imul(se,st)|0,I=I+Math.imul(se,at)|0,T=T+Math.imul(X,ct)|0,y=y+Math.imul(X,ut)|0,y=y+Math.imul(ee,ct)|0,I=I+Math.imul(ee,ut)|0;var pa=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(pa>>>26)|0,pa&=67108863,T=Math.imul(He,Xe),y=Math.imul(He,Qe),y=y+Math.imul(qe,Xe)|0,I=Math.imul(qe,Qe),T=T+Math.imul(lt,et)|0,y=y+Math.imul(lt,tt)|0,y=y+Math.imul(dt,et)|0,I=I+Math.imul(dt,tt)|0,T=T+Math.imul(Le,rt)|0,y=y+Math.imul(Le,nt)|0,y=y+Math.imul(ft,rt)|0,I=I+Math.imul(ft,nt)|0,T=T+Math.imul(Fe,it)|0,y=y+Math.imul(Fe,ot)|0,y=y+Math.imul(Re,it)|0,I=I+Math.imul(Re,ot)|0,T=T+Math.imul(Be,st)|0,y=y+Math.imul(Be,at)|0,y=y+Math.imul(Ue,st)|0,I=I+Math.imul(Ue,at)|0,T=T+Math.imul(te,ct)|0,y=y+Math.imul(te,ut)|0,y=y+Math.imul(se,ct)|0,I=I+Math.imul(se,ut)|0;var ya=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ya>>>26)|0,ya&=67108863,T=Math.imul(He,et),y=Math.imul(He,tt),y=y+Math.imul(qe,et)|0,I=Math.imul(qe,tt),T=T+Math.imul(lt,rt)|0,y=y+Math.imul(lt,nt)|0,y=y+Math.imul(dt,rt)|0,I=I+Math.imul(dt,nt)|0,T=T+Math.imul(Le,it)|0,y=y+Math.imul(Le,ot)|0,y=y+Math.imul(ft,it)|0,I=I+Math.imul(ft,ot)|0,T=T+Math.imul(Fe,st)|0,y=y+Math.imul(Fe,at)|0,y=y+Math.imul(Re,st)|0,I=I+Math.imul(Re,at)|0,T=T+Math.imul(Be,ct)|0,y=y+Math.imul(Be,ut)|0,y=y+Math.imul(Ue,ct)|0,I=I+Math.imul(Ue,ut)|0;var ma=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ma>>>26)|0,ma&=67108863,T=Math.imul(He,rt),y=Math.imul(He,nt),y=y+Math.imul(qe,rt)|0,I=Math.imul(qe,nt),T=T+Math.imul(lt,it)|0,y=y+Math.imul(lt,ot)|0,y=y+Math.imul(dt,it)|0,I=I+Math.imul(dt,ot)|0,T=T+Math.imul(Le,st)|0,y=y+Math.imul(Le,at)|0,y=y+Math.imul(ft,st)|0,I=I+Math.imul(ft,at)|0,T=T+Math.imul(Fe,ct)|0,y=y+Math.imul(Fe,ut)|0,y=y+Math.imul(Re,ct)|0,I=I+Math.imul(Re,ut)|0;var ga=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ga>>>26)|0,ga&=67108863,T=Math.imul(He,it),y=Math.imul(He,ot),y=y+Math.imul(qe,it)|0,I=Math.imul(qe,ot),T=T+Math.imul(lt,st)|0,y=y+Math.imul(lt,at)|0,y=y+Math.imul(dt,st)|0,I=I+Math.imul(dt,at)|0,T=T+Math.imul(Le,ct)|0,y=y+Math.imul(Le,ut)|0,y=y+Math.imul(ft,ct)|0,I=I+Math.imul(ft,ut)|0;var ba=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(ba>>>26)|0,ba&=67108863,T=Math.imul(He,st),y=Math.imul(He,at),y=y+Math.imul(qe,st)|0,I=Math.imul(qe,at),T=T+Math.imul(lt,ct)|0,y=y+Math.imul(lt,ut)|0,y=y+Math.imul(dt,ct)|0,I=I+Math.imul(dt,ut)|0;var Kd=(O+T|0)+((y&8191)<<13)|0;O=(I+(y>>>13)|0)+(Kd>>>26)|0,Kd&=67108863,T=Math.imul(He,ct),y=Math.imul(He,ut),y=y+Math.imul(qe,ct)|0,I=Math.imul(qe,ut);var Vd=(O+T|0)+((y&8191)<<13)|0;return O=(I+(y>>>13)|0)+(Vd>>>26)|0,Vd&=67108863,_[0]=ra,_[1]=na,_[2]=ia,_[3]=oa,_[4]=sa,_[5]=aa,_[6]=ca,_[7]=ua,_[8]=fa,_[9]=la,_[10]=da,_[11]=ha,_[12]=pa,_[13]=ya,_[14]=ma,_[15]=ga,_[16]=ba,_[17]=Kd,_[18]=Vd,O!==0&&(_[19]=O,x.length++),x};Math.imul||(w=b);function S(B,p,g){g.negative=p.negative^B.negative,g.length=B.length+p.length;for(var x=0,A=0,v=0;v<g.length-1;v++){var _=A;A=0;for(var O=x&67108863,T=Math.min(v,p.length-1),y=Math.max(0,v-B.length+1);y<=T;y++){var I=v-y,q=B.words[I]|0,K=p.words[y]|0,F=q*K,J=F&67108863;_=_+(F/67108864|0)|0,J=J+O|0,O=J&67108863,_=_+(J>>>26)|0,A+=_>>>26,_&=67108863}g.words[v]=O,x=_,_=A}return x!==0?g.words[v]=x:g.length--,g.strip()}function P(B,p,g){var x=new M;return x.mulp(B,p,g)}i.prototype.mulTo=function(p,g){var x,A=this.length+p.length;return this.length===10&&p.length===10?x=w(this,p,g):A<63?x=b(this,p,g):A<1024?x=S(this,p,g):x=P(this,p,g),x};function M(B,p){this.x=B,this.y=p}M.prototype.makeRBT=function(p){for(var g=new Array(p),x=i.prototype._countBits(p)-1,A=0;A<p;A++)g[A]=this.revBin(A,x,p);return g},M.prototype.revBin=function(p,g,x){if(p===0||p===x-1)return p;for(var A=0,v=0;v<g;v++)A|=(p&1)<<g-v-1,p>>=1;return A},M.prototype.permute=function(p,g,x,A,v,_){for(var O=0;O<_;O++)A[O]=g[p[O]],v[O]=x[p[O]]},M.prototype.transform=function(p,g,x,A,v,_){this.permute(_,p,g,x,A,v);for(var O=1;O<v;O<<=1)for(var T=O<<1,y=Math.cos(2*Math.PI/T),I=Math.sin(2*Math.PI/T),q=0;q<v;q+=T)for(var K=y,F=I,J=0;J<O;J++){var ae=x[q+J],ce=A[q+J],pe=x[q+J+O],Y=A[q+J+O],V=K*pe-F*Y;Y=K*Y+F*pe,pe=V,x[q+J]=ae+pe,A[q+J]=ce+Y,x[q+J+O]=ae-pe,A[q+J+O]=ce-Y,J!==T&&(V=y*K-I*F,F=y*F+I*K,K=V)}},M.prototype.guessLen13b=function(p,g){var x=Math.max(g,p)|1,A=x&1,v=0;for(x=x/2|0;x;x=x>>>1)v++;return 1<<v+1+A},M.prototype.conjugate=function(p,g,x){if(!(x<=1))for(var A=0;A<x/2;A++){var v=p[A];p[A]=p[x-A-1],p[x-A-1]=v,v=g[A],g[A]=-g[x-A-1],g[x-A-1]=-v}},M.prototype.normalize13b=function(p,g){for(var x=0,A=0;A<g/2;A++){var v=Math.round(p[2*A+1]/g)*8192+Math.round(p[2*A]/g)+x;p[A]=v&67108863,v<67108864?x=0:x=v/67108864|0}return p},M.prototype.convert13b=function(p,g,x,A){for(var v=0,_=0;_<g;_++)v=v+(p[_]|0),x[2*_]=v&8191,v=v>>>13,x[2*_+1]=v&8191,v=v>>>13;for(_=2*g;_<A;++_)x[_]=0;r(v===0),r((v&-8192)===0)},M.prototype.stub=function(p){for(var g=new Array(p),x=0;x<p;x++)g[x]=0;return g},M.prototype.mulp=function(p,g,x){var A=2*this.guessLen13b(p.length,g.length),v=this.makeRBT(A),_=this.stub(A),O=new Array(A),T=new Array(A),y=new Array(A),I=new Array(A),q=new Array(A),K=new Array(A),F=x.words;F.length=A,this.convert13b(p.words,p.length,O,A),this.convert13b(g.words,g.length,I,A),this.transform(O,_,T,y,A,v),this.transform(I,_,q,K,A,v);for(var J=0;J<A;J++){var ae=T[J]*q[J]-y[J]*K[J];y[J]=T[J]*K[J]+y[J]*q[J],T[J]=ae}return this.conjugate(T,y,A),this.transform(T,y,F,_,A,v),this.conjugate(F,_,A),this.normalize13b(F,A),x.negative=p.negative^g.negative,x.length=p.length+g.length,x.strip()},i.prototype.mul=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),this.mulTo(p,g)},i.prototype.mulf=function(p){var g=new i(null);return g.words=new Array(this.length+p.length),P(this,p,g)},i.prototype.imul=function(p){return this.clone().mulTo(p,this)},i.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var g=0,x=0;x<this.length;x++){var A=(this.words[x]|0)*p,v=(A&67108863)+(g&67108863);g>>=26,g+=A/67108864|0,g+=v>>>26,this.words[x]=v&67108863}return g!==0&&(this.words[x]=g,this.length++),this},i.prototype.muln=function(p){return this.clone().imuln(p)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(p){var g=m(p);if(g.length===0)return new i(1);for(var x=this,A=0;A<g.length&&g[A]===0;A++,x=x.sqr());if(++A<g.length)for(var v=x.sqr();A<g.length;A++,v=v.sqr())g[A]!==0&&(x=x.mul(v));return x},i.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var g=p%26,x=(p-g)/26,A=67108863>>>26-g<<26-g,v;if(g!==0){var _=0;for(v=0;v<this.length;v++){var O=this.words[v]&A,T=(this.words[v]|0)-O<<g;this.words[v]=T|_,_=O>>>26-g}_&&(this.words[v]=_,this.length++)}if(x!==0){for(v=this.length-1;v>=0;v--)this.words[v+x]=this.words[v];for(v=0;v<x;v++)this.words[v]=0;this.length+=x}return this.strip()},i.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},i.prototype.iushrn=function(p,g,x){r(typeof p=="number"&&p>=0);var A;g?A=(g-g%26)/26:A=0;var v=p%26,_=Math.min((p-v)/26,this.length),O=67108863^67108863>>>v<<v,T=x;if(A-=_,A=Math.max(0,A),T){for(var y=0;y<_;y++)T.words[y]=this.words[y];T.length=_}if(_!==0)if(this.length>_)for(this.length-=_,y=0;y<this.length;y++)this.words[y]=this.words[y+_];else this.words[0]=0,this.length=1;var I=0;for(y=this.length-1;y>=0&&(I!==0||y>=A);y--){var q=this.words[y]|0;this.words[y]=I<<26-v|q>>>v,I=q&O}return T&&I!==0&&(T.words[T.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(p,g,x){return r(this.negative===0),this.iushrn(p,g,x)},i.prototype.shln=function(p){return this.clone().ishln(p)},i.prototype.ushln=function(p){return this.clone().iushln(p)},i.prototype.shrn=function(p){return this.clone().ishrn(p)},i.prototype.ushrn=function(p){return this.clone().iushrn(p)},i.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var g=p%26,x=(p-g)/26,A=1<<g;if(this.length<=x)return!1;var v=this.words[x];return!!(v&A)},i.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var g=p%26,x=(p-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(g!==0&&x++,this.length=Math.min(x,this.length),g!==0){var A=67108863^67108863>>>g<<g;this.words[this.length-1]&=A}return this.strip()},i.prototype.maskn=function(p){return this.clone().imaskn(p)},i.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},i.prototype._iaddn=function(p){this.words[0]+=p;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},i.prototype.addn=function(p){return this.clone().iaddn(p)},i.prototype.subn=function(p){return this.clone().isubn(p)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(p,g,x){var A=p.length+x,v;this._expand(A);var _,O=0;for(v=0;v<p.length;v++){_=(this.words[v+x]|0)+O;var T=(p.words[v]|0)*g;_-=T&67108863,O=(_>>26)-(T/67108864|0),this.words[v+x]=_&67108863}for(;v<this.length-x;v++)_=(this.words[v+x]|0)+O,O=_>>26,this.words[v+x]=_&67108863;if(O===0)return this.strip();for(r(O===-1),O=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+O,O=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(p,g){var x=this.length-p.length,A=this.clone(),v=p,_=v.words[v.length-1]|0,O=this._countBits(_);x=26-O,x!==0&&(v=v.ushln(x),A.iushln(x),_=v.words[v.length-1]|0);var T=A.length-v.length,y;if(g!=="mod"){y=new i(null),y.length=T+1,y.words=new Array(y.length);for(var I=0;I<y.length;I++)y.words[I]=0}var q=A.clone()._ishlnsubmul(v,1,T);q.negative===0&&(A=q,y&&(y.words[T]=1));for(var K=T-1;K>=0;K--){var F=(A.words[v.length+K]|0)*67108864+(A.words[v.length+K-1]|0);for(F=Math.min(F/_|0,67108863),A._ishlnsubmul(v,F,K);A.negative!==0;)F--,A.negative=0,A._ishlnsubmul(v,1,K),A.isZero()||(A.negative^=1);y&&(y.words[K]=F)}return y&&y.strip(),A.strip(),g!=="div"&&x!==0&&A.iushrn(x),{div:y||null,mod:A}},i.prototype.divmod=function(p,g,x){if(r(!p.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,v,_;return this.negative!==0&&p.negative===0?(_=this.neg().divmod(p,g),g!=="mod"&&(A=_.div.neg()),g!=="div"&&(v=_.mod.neg(),x&&v.negative!==0&&v.iadd(p)),{div:A,mod:v}):this.negative===0&&p.negative!==0?(_=this.divmod(p.neg(),g),g!=="mod"&&(A=_.div.neg()),{div:A,mod:_.mod}):this.negative&p.negative?(_=this.neg().divmod(p.neg(),g),g!=="div"&&(v=_.mod.neg(),x&&v.negative!==0&&v.isub(p)),{div:_.div,mod:v}):p.length>this.length||this.cmp(p)<0?{div:new i(0),mod:this}:p.length===1?g==="div"?{div:this.divn(p.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new i(this.modn(p.words[0]))}:this._wordDiv(p,g)},i.prototype.div=function(p){return this.divmod(p,"div",!1).div},i.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},i.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},i.prototype.divRound=function(p){var g=this.divmod(p);if(g.mod.isZero())return g.div;var x=g.div.negative!==0?g.mod.isub(p):g.mod,A=p.ushrn(1),v=p.andln(1),_=x.cmp(A);return _<0||v===1&&_===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modn=function(p){r(p<=67108863);for(var g=(1<<26)%p,x=0,A=this.length-1;A>=0;A--)x=(g*x+(this.words[A]|0))%p;return x},i.prototype.idivn=function(p){r(p<=67108863);for(var g=0,x=this.length-1;x>=0;x--){var A=(this.words[x]|0)+g*67108864;this.words[x]=A/p|0,g=A%p}return this.strip()},i.prototype.divn=function(p){return this.clone().idivn(p)},i.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var g=this,x=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var A=new i(1),v=new i(0),_=new i(0),O=new i(1),T=0;g.isEven()&&x.isEven();)g.iushrn(1),x.iushrn(1),++T;for(var y=x.clone(),I=g.clone();!g.isZero();){for(var q=0,K=1;!(g.words[0]&K)&&q<26;++q,K<<=1);if(q>0)for(g.iushrn(q);q-- >0;)(A.isOdd()||v.isOdd())&&(A.iadd(y),v.isub(I)),A.iushrn(1),v.iushrn(1);for(var F=0,J=1;!(x.words[0]&J)&&F<26;++F,J<<=1);if(F>0)for(x.iushrn(F);F-- >0;)(_.isOdd()||O.isOdd())&&(_.iadd(y),O.isub(I)),_.iushrn(1),O.iushrn(1);g.cmp(x)>=0?(g.isub(x),A.isub(_),v.isub(O)):(x.isub(g),_.isub(A),O.isub(v))}return{a:_,b:O,gcd:x.iushln(T)}},i.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var g=this,x=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var A=new i(1),v=new i(0),_=x.clone();g.cmpn(1)>0&&x.cmpn(1)>0;){for(var O=0,T=1;!(g.words[0]&T)&&O<26;++O,T<<=1);if(O>0)for(g.iushrn(O);O-- >0;)A.isOdd()&&A.iadd(_),A.iushrn(1);for(var y=0,I=1;!(x.words[0]&I)&&y<26;++y,I<<=1);if(y>0)for(x.iushrn(y);y-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);g.cmp(x)>=0?(g.isub(x),A.isub(v)):(x.isub(g),v.isub(A))}var q;return g.cmpn(1)===0?q=A:q=v,q.cmpn(0)<0&&q.iadd(p),q},i.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var g=this.clone(),x=p.clone();g.negative=0,x.negative=0;for(var A=0;g.isEven()&&x.isEven();A++)g.iushrn(1),x.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;x.isEven();)x.iushrn(1);var v=g.cmp(x);if(v<0){var _=g;g=x,x=_}else if(v===0||x.cmpn(1)===0)break;g.isub(x)}while(!0);return x.iushln(A)},i.prototype.invm=function(p){return this.egcd(p).a.umod(p)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(p){return this.words[0]&p},i.prototype.bincn=function(p){r(typeof p=="number");var g=p%26,x=(p-g)/26,A=1<<g;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var v=A,_=x;v!==0&&_<this.length;_++){var O=this.words[_]|0;O+=v,v=O>>>26,O&=67108863,this.words[_]=O}return v!==0&&(this.words[_]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(p){var g=p<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var x;if(this.length>1)x=1;else{g&&(p=-p),r(p<=67108863,"Number is too big");var A=this.words[0]|0;x=A===p?0:A<p?-1:1}return this.negative!==0?-x|0:x},i.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var g=this.ucmp(p);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var g=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,v=p.words[x]|0;if(A!==v){A<v?g=-1:A>v&&(g=1);break}}return g},i.prototype.gtn=function(p){return this.cmpn(p)===1},i.prototype.gt=function(p){return this.cmp(p)===1},i.prototype.gten=function(p){return this.cmpn(p)>=0},i.prototype.gte=function(p){return this.cmp(p)>=0},i.prototype.ltn=function(p){return this.cmpn(p)===-1},i.prototype.lt=function(p){return this.cmp(p)===-1},i.prototype.lten=function(p){return this.cmpn(p)<=0},i.prototype.lte=function(p){return this.cmp(p)<=0},i.prototype.eqn=function(p){return this.cmpn(p)===0},i.prototype.eq=function(p){return this.cmp(p)===0},i.red=function(p){return new H(p)},i.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(p){return this.red=p,this},i.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},i.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},i.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},i.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},i.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},i.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},i.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},i.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var D={k256:null,p224:null,p192:null,p25519:null};function C(B,p){this.name=B,this.p=new i(p,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var p=new i(null);return p.words=new Array(Math.ceil(this.n/13)),p},C.prototype.ireduce=function(p){var g=p,x;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),x=g.bitLength();while(x>this.n);var A=x<this.n?-1:g.ucmp(this.p);return A===0?(g.words[0]=0,g.length=1):A>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},C.prototype.split=function(p,g){p.iushrn(this.n,0,g)},C.prototype.imulK=function(p){return p.imul(this.k)};function R(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(R,C),R.prototype.split=function(p,g){for(var x=4194303,A=Math.min(p.length,9),v=0;v<A;v++)g.words[v]=p.words[v];if(g.length=A,p.length<=9){p.words[0]=0,p.length=1;return}var _=p.words[9];for(g.words[g.length++]=_&x,v=10;v<p.length;v++){var O=p.words[v]|0;p.words[v-10]=(O&x)<<4|_>>>22,_=O}_>>>=22,p.words[v-10]=_,_===0&&p.length>10?p.length-=10:p.length-=9},R.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var g=0,x=0;x<p.length;x++){var A=p.words[x]|0;g+=A*977,p.words[x]=g&67108863,g=A*64+(g/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function L(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(L,C);function W(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,C);function G(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,C),G.prototype.imulK=function(p){for(var g=0,x=0;x<p.length;x++){var A=(p.words[x]|0)*19+g,v=A&67108863;A>>>=26,p.words[x]=v,g=A}return g!==0&&(p.words[p.length++]=g),p},i._prime=function(p){if(D[p])return D[p];var g;if(p==="k256")g=new R;else if(p==="p224")g=new L;else if(p==="p192")g=new W;else if(p==="p25519")g=new G;else throw new Error("Unknown prime "+p);return D[p]=g,g};function H(B){if(typeof B=="string"){var p=i._prime(B);this.m=p.p,this.prime=p}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}H.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},H.prototype._verify2=function(p,g){r((p.negative|g.negative)===0,"red works only with positives"),r(p.red&&p.red===g.red,"red works only with red numbers")},H.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},H.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},H.prototype.add=function(p,g){this._verify2(p,g);var x=p.add(g);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},H.prototype.iadd=function(p,g){this._verify2(p,g);var x=p.iadd(g);return x.cmp(this.m)>=0&&x.isub(this.m),x},H.prototype.sub=function(p,g){this._verify2(p,g);var x=p.sub(g);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},H.prototype.isub=function(p,g){this._verify2(p,g);var x=p.isub(g);return x.cmpn(0)<0&&x.iadd(this.m),x},H.prototype.shl=function(p,g){return this._verify1(p),this.imod(p.ushln(g))},H.prototype.imul=function(p,g){return this._verify2(p,g),this.imod(p.imul(g))},H.prototype.mul=function(p,g){return this._verify2(p,g),this.imod(p.mul(g))},H.prototype.isqr=function(p){return this.imul(p,p.clone())},H.prototype.sqr=function(p){return this.mul(p,p)},H.prototype.sqrt=function(p){if(p.isZero())return p.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var x=this.m.add(new i(1)).iushrn(2);return this.pow(p,x)}for(var A=this.m.subn(1),v=0;!A.isZero()&&A.andln(1)===0;)v++,A.iushrn(1);r(!A.isZero());var _=new i(1).toRed(this),O=_.redNeg(),T=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new i(2*y*y).toRed(this);this.pow(y,T).cmp(O)!==0;)y.redIAdd(O);for(var I=this.pow(y,A),q=this.pow(p,A.addn(1).iushrn(1)),K=this.pow(p,A),F=v;K.cmp(_)!==0;){for(var J=K,ae=0;J.cmp(_)!==0;ae++)J=J.redSqr();r(ae<F);var ce=this.pow(I,new i(1).iushln(F-ae-1));q=q.redMul(ce),I=ce.redSqr(),K=K.redMul(I),F=ae}return q},H.prototype.invm=function(p){var g=p._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},H.prototype.pow=function(p,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return p.clone();var x=4,A=new Array(1<<x);A[0]=new i(1).toRed(this),A[1]=p;for(var v=2;v<A.length;v++)A[v]=this.mul(A[v-1],p);var _=A[0],O=0,T=0,y=g.bitLength()%26;for(y===0&&(y=26),v=g.length-1;v>=0;v--){for(var I=g.words[v],q=y-1;q>=0;q--){var K=I>>q&1;if(_!==A[0]&&(_=this.sqr(_)),K===0&&O===0){T=0;continue}O<<=1,O|=K,T++,!(T!==x&&(v!==0||q!==0))&&(_=this.mul(_,A[O]),T=0,O=0)}y=26}return _},H.prototype.convertTo=function(p){var g=p.umod(this.m);return g===p?g.clone():g},H.prototype.convertFrom=function(p){var g=p.clone();return g.red=null,g},i.mont=function(p){return new $(p)};function $(B){H.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n($,H),$.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},$.prototype.convertFrom=function(p){var g=this.imod(p.mul(this.rinv));return g.red=null,g},$.prototype.imul=function(p,g){if(p.isZero()||g.isZero())return p.words[0]=0,p.length=1,p;var x=p.imul(g),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=x.isub(A).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},$.prototype.mul=function(p,g){if(p.isZero()||g.isZero())return new i(0)._forceRed(this);var x=p.mul(g),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=x.isub(A).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},$.prototype.invm=function(p){var g=this.imod(p._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(typeof o7>"u"||o7,bJ)});var AJ=z((eyt,vJ)=>{d();h();var jc=Ew(),Uo=xJ(),$r=function(){};function r8(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}$r.eventID=function(e,t){var r=e+"("+t.map(r8).join(",")+")";return jc.keccak256(Buffer.from(r))};$r.methodID=function(e,t){return $r.eventID(e,t).slice(0,4)};function cd(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function s7(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Tw(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function h0(e){var t=typeof e;if(t==="string")return jc.isHexPrefixed(e)?new Uo(jc.stripHexPrefix(e),16):new Uo(e,10);if(t==="number")return new Uo(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function SJ(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(t.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(r!==null&&r.length===3)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:t[1],args:n}}function Wc(e,t){var r,n,i,o;if(e==="address")return Wc("uint160",h0(t));if(e==="bool")return Wc("uint8",t?1:0);if(e==="string")return Wc("bytes",Buffer.from(t,"utf8"));if(kw(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Tw(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(o in t)i.push(Wc(e,t[o]));if(r==="dynamic"){var s=Wc("uint256",t.length);i.unshift(s)}return Buffer.concat(i)}else{if(e==="bytes")return t=Buffer.from(t),i=Buffer.concat([Wc("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,jc.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(r=cd(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return jc.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=cd(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=h0(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(e.startsWith("int")){if(r=cd(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=h0(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=s7(e),n=h0(t),n<0)throw new Error("Supplied ufixed is negative");return Wc("uint256",n.mul(new Uo(2).pow(new Uo(r[1]))))}else if(e.startsWith("fixed"))return r=s7(e),Wc("int256",h0(t).mul(new Uo(2).pow(new Uo(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function Ga(e,t,r){typeof e=="string"&&(e=a7(e));var n,i,o,s;if(e.name==="address")return Ga(e.rawType,t,r).toArrayLike(Buffer,"be",20).toString("hex");if(e.name==="bool")return Ga(e.rawType,t,r).toString()===new Uo(1).toString();if(e.name==="string"){var a=Ga(e.rawType,t,r);return Buffer.from(a,"utf8").toString()}else if(e.isArray){for(o=[],n=e.size,e.size==="dynamic"&&(r=Ga("uint256",t,r).toNumber(),n=Ga("uint256",t,r).toNumber(),r=r+32),s=0;s<n;s++){var c=Ga(e.subArray,t,r);o.push(c),r+=e.subArray.memoryUsage}return o}else{if(e.name==="bytes")return r=Ga("uint256",t,r).toNumber(),n=Ga("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if(i=new Uo(t.slice(r,r+32),16,"be"),i.bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+i.bitLength());return i}else if(e.name.startsWith("int")){if(i=new Uo(t.slice(r,r+32),16,"be").fromTwos(256),i.bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+i.bitLength());return i}else if(e.name.startsWith("ufixed")){if(n=new Uo(2).pow(new Uo(e.size[1])),i=Ga("uint256",t,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}else if(e.name.startsWith("fixed")){if(n=new Uo(2).pow(new Uo(e.size[1])),i=Ga("int256",t,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}}throw new Error("Unsupported or invalid type: "+e.name)}function a7(e){var t,r;if(kw(e)){t=Tw(e);var n=e.slice(0,e.lastIndexOf("["));return n=a7(n),r={isArray:!0,name:e,size:t,memoryUsage:t==="dynamic"?32:n.memoryUsage*t,subArray:n},r}else{var i;switch(e){case"address":i="uint160";break;case"bool":i="uint8";break;case"string":i="bytes";break}if(r={rawType:i,name:e,memoryUsage:32},e.startsWith("bytes")&&e!=="bytes"||e.startsWith("uint")||e.startsWith("int")?r.size=cd(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=s7(e)),e.startsWith("bytes")&&e!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function R4e(e){return e==="string"||e==="bytes"||Tw(e)==="dynamic"}function kw(e){return e.lastIndexOf("]")===e.length-1}$r.rawEncode=function(e,t){var r=[],n=[],i=0;e.forEach(function(u){if(kw(u)){var l=Tw(u);l!=="dynamic"?i+=32*l:i+=32}else i+=32});for(var o=0;o<e.length;o++){var s=r8(e[o]),a=t[o],c=Wc(s,a);R4e(s)?(r.push(Wc("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))};$r.rawDecode=function(e,t){var r=[];t=Buffer.from(t);for(var n=0,i=0;i<e.length;i++){var o=r8(e[i]),s=a7(o,t,n),a=Ga(s,t,n);n+=s.memoryUsage,r.push(a)}return r};$r.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=SJ(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return Buffer.concat([$r.methodID(r.method,r.args),$r.rawEncode(r.args,t)])};$r.simpleDecode=function(e,t){var r=SJ(e);if(!r.retargs)throw new Error("No return values in method");return $r.rawDecode(r.retargs,t)};function wJ(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}$r.stringify=function(e,t){var r=[];for(var n in e){var i=e[n],o=t[n];/^[^\[]+\[.*\]$/.test(i)?o=o.map(function(s){return wJ(i,s)}).join(", "):o=wJ(i,o),r.push(o)}return r};$r.solidityHexValue=function(e,t,r){var n,i;if(kw(e)){var o=e.replace(/\[.*?\]/,"");if(!kw(o)){var s=Tw(e);if(s!=="dynamic"&&s!==0&&t.length>s)throw new Error("Elements exceed array size: "+s)}var a=t.map(function(l){return $r.solidityHexValue(o,l,256)});return Buffer.concat(a)}else{if(e==="bytes")return t;if(e==="string")return Buffer.from(t,"utf8");if(e==="bool"){r=r||8;var c=Array(r/4).join("0");return Buffer.from(t?c+"1":c+"0","hex")}else if(e==="address"){var u=20;return r&&(u=r/8),jc.setLengthLeft(t,u)}else if(e.startsWith("bytes")){if(n=cd(e),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return jc.setLengthRight(t,n)}else if(e.startsWith("uint")){if(n=cd(e),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(i=h0(t),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Buffer,"be",r/8)}else if(e.startsWith("int")){if(n=cd(e),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(i=h0(t),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Buffer,"be",r/8)}else throw new Error("Unsupported or invalid type: "+e)}};$r.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var i=r8(e[n]),o=t[n];r.push($r.solidityHexValue(i,o,null))}return Buffer.concat(r)};$r.soliditySHA3=function(e,t){return jc.keccak256($r.solidityPack(e,t))};$r.soliditySHA256=function(e,t){return jc.sha256($r.solidityPack(e,t))};$r.solidityRIPEMD160=function(e,t){return jc.ripemd160($r.solidityPack(e,t),!0)};function L4e(e){return e>="0"&&e<="9"}$r.fromSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n==="s")t.push("bytes");else if(n==="b"){for(var i="bytes",o=r+1;o<e.length&&L4e(e[o]);)i+=e[o]-"0",o++;r=o-1,t.push(i)}else if(n==="i")t.push("int256");else if(n==="a")t.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return t};$r.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n==="bytes")t.push("s");else if(n.startsWith("bytes"))t.push("b"+cd(n));else if(n==="int256")t.push("i");else if(n==="int256[]")t.push("a");else throw new Error("Unsupported or invalid type: "+n)}return t.join("")};vJ.exports=$r});var IJ=z((nyt,EJ)=>{d();h();EJ.exports=AJ()});var _J=z(ai=>{"use strict";d();h();Object.defineProperty(ai,"__esModule",{value:!0});ai.recoverTypedSignature=ai.signTypedData=ai.typedSignatureHash=ai.TypedDataUtils=ai.TYPED_MESSAGE_SCHEMA=ai.SignTypedDataVersion=void 0;var Gs=Ew(),Pw=IJ(),p0=Iw(),yo;(function(e){e.V1="V1",e.V3="V3",e.V4="V4"})(yo=ai.SignTypedDataVersion||(ai.SignTypedDataVersion={}));ai.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function Am(e,t){if(Object.keys(yo).includes(e)){if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}else throw new Error(`Invalid version: '${e}'`)}function kJ(e,t,r,n,i){if(Am(i,[yo.V3,yo.V4]),e[r]!==void 0)return["bytes32",i===yo.V4&&n==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Gs.keccak(u7(r,n,e,i))];if(n===void 0)throw new Error(`missing value for field ${t} of type ${r}`);if(r==="bytes")return["bytes32",Gs.keccak(n)];if(r==="string")return typeof n=="string"&&(n=Buffer.from(n,"utf8")),["bytes32",Gs.keccak(n)];if(r.lastIndexOf("]")===r.length-1){if(i===yo.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");let o=r.slice(0,r.lastIndexOf("[")),s=n.map(a=>kJ(e,t,o,a,i));return["bytes32",Gs.keccak(Pw.rawEncode(s.map(([a])=>a),s.map(([,a])=>a)))]}return[r,n]}function u7(e,t,r,n){Am(n,[yo.V3,yo.V4]);let i=["bytes32"],o=[PJ(e,r)];for(let s of r[e]){if(n===yo.V3&&t[s.name]===void 0)continue;let[a,c]=kJ(r,s.name,s.type,t[s.name],n);i.push(a),o.push(c)}return Pw.rawEncode(i,o)}function TJ(e,t){let r="",n=f7(e,t);n.delete(e);let i=[e,...Array.from(n).sort()];for(let o of i){if(!t[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${t[o].map(({name:a,type:c})=>`${c} ${a}`).join(",")})`}return r}function f7(e,t,r=new Set){if([e]=e.match(/^\w*/u),r.has(e)||t[e]===void 0)return r;r.add(e);for(let n of t[e])f7(n.type,t,r);return r}function c7(e,t,r,n){return Am(n,[yo.V3,yo.V4]),Gs.keccak(u7(e,t,r,n))}function PJ(e,t){return Gs.keccak(TJ(e,t))}function BJ(e){let t={};for(let r in ai.TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function K4e(e,t){Am(t,[yo.V3,yo.V4]);let r=BJ(e),n=[Buffer.from("1901","hex")];return n.push(c7("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(c7(r.primaryType,r.message,r.types,t)),Gs.keccak(Buffer.concat(n))}ai.TypedDataUtils={encodeData:u7,encodeType:TJ,findTypeDependencies:f7,hashStruct:c7,hashType:PJ,sanitizeData:BJ,eip712Hash:K4e};function V4e(e){let t=l7(e);return Gs.bufferToHex(t)}ai.typedSignatureHash=V4e;function l7(e){let t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!("length"in e)||!e.length)throw t;let r=e.map(function(o){return o.type!=="bytes"?o.value:p0.legacyToBuffer(o.value)}),n=e.map(function(o){return o.type}),i=e.map(function(o){if(!o.name)throw t;return`${o.type} ${o.name}`});return Pw.soliditySHA3(["bytes32","bytes32"],[Pw.soliditySHA3(new Array(e.length).fill("string"),i),Pw.soliditySHA3(n,r)])}function F4e({privateKey:e,data:t,version:r}){if(Am(r),p0.isNullish(t))throw new Error("Missing data parameter");if(p0.isNullish(e))throw new Error("Missing private key parameter");let n=r===yo.V1?l7(t):ai.TypedDataUtils.eip712Hash(t,r),i=Gs.ecsign(n,e);return p0.concatSig(Gs.toBuffer(i.v),i.r,i.s)}ai.signTypedData=F4e;function H4e({data:e,signature:t,version:r}){if(Am(r),p0.isNullish(e))throw new Error("Missing data parameter");if(p0.isNullish(t))throw new Error("Missing signature parameter");let n=r===yo.V1?l7(e):ai.TypedDataUtils.eip712Hash(e,r),i=p0.recoverPublicKey(n,t),o=Gs.publicToAddress(i);return Gs.bufferToHex(o)}ai.recoverTypedSignature=H4e});var MJ=z((CJ,n8)=>{d();h();(function(e,t){"use strict";typeof n8<"u"&&n8.exports?n8.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(CJ,function(){"use strict";var e={};function t(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var n,i=unescape(encodeURIComponent(r)),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o},e.encodeUTF8=function(r){var n,i=[];for(n=0;n<r.length;n++)i.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(r){return Buffer.from(r).toString("base64")},e.decodeBase64=function(r){return t(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(e.encodeBase64=function(r){return new Buffer(r).toString("base64")},e.decodeBase64=function(r){return t(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(e.encodeBase64=function(r){var n,i=[],o=r.length;for(n=0;n<o;n++)i.push(String.fromCharCode(r[n]));return btoa(i.join(""))},e.decodeBase64=function(r){t(r);var n,i=atob(r),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o}),e})});var RJ=z(ci=>{"use strict";d();h();var q4e=ci&&ci.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W4e=ci&&ci.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NJ=ci&&ci.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&q4e(t,e,r);return W4e(t,e),t};Object.defineProperty(ci,"__esModule",{value:!0});ci.getEncryptionPublicKey=ci.decryptSafely=ci.decrypt=ci.encryptSafely=ci.encrypt=void 0;var y0=NJ(gs()),$a=NJ(MJ()),zc=Iw();function OJ({publicKey:e,data:t,version:r}){if(zc.isNullish(e))throw new Error("Missing publicKey parameter");if(zc.isNullish(t))throw new Error("Missing data parameter");if(zc.isNullish(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");let n=y0.box.keyPair(),i;try{i=$a.decodeBase64(e)}catch{throw new Error("Bad public key")}let o=$a.decodeUTF8(t),s=y0.randomBytes(y0.box.nonceLength),a=y0.box(o,s,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:$a.encodeBase64(s),ephemPublicKey:$a.encodeBase64(n.publicKey),ciphertext:$a.encodeBase64(a)}}default:throw new Error("Encryption type/version not supported")}}ci.encrypt=OJ;function j4e({publicKey:e,data:t,version:r}){if(zc.isNullish(e))throw new Error("Missing publicKey parameter");if(zc.isNullish(t))throw new Error("Missing data parameter");if(zc.isNullish(r))throw new Error("Missing version parameter");let n=2**11,i=16;if(typeof t=="object"&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:t,padding:""},a=Buffer.byteLength(JSON.stringify(o),"utf-8")%n,c=0;a>0&&(c=n-a-i),o.padding="0".repeat(c);let u=JSON.stringify(o);return OJ({publicKey:e,data:u,version:r})}ci.encryptSafely=j4e;function DJ({encryptedData:e,privateKey:t}){if(zc.isNullish(e))throw new Error("Missing encryptedData parameter");if(zc.isNullish(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{let r=UJ(t),n=y0.box.keyPair.fromSecretKey(r).secretKey,i=$a.decodeBase64(e.nonce),o=$a.decodeBase64(e.ciphertext),s=$a.decodeBase64(e.ephemPublicKey),a=y0.box.open(o,i,s,n),c;try{c=$a.encodeUTF8(a)}catch{throw new Error("Decryption failed.")}if(c)return c;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}ci.decrypt=DJ;function z4e({encryptedData:e,privateKey:t}){if(zc.isNullish(e))throw new Error("Missing encryptedData parameter");if(zc.isNullish(t))throw new Error("Missing privateKey parameter");return JSON.parse(DJ({encryptedData:e,privateKey:t})).data}ci.decryptSafely=z4e;function G4e(e){let t=UJ(e),r=y0.box.keyPair.fromSecretKey(t).publicKey;return $a.encodeBase64(r)}ci.getEncryptionPublicKey=G4e;function UJ(e){let t=Buffer.from(e,"hex").toString("base64");return $a.decodeBase64(t)}});var h7=z(as=>{"use strict";d();h();var $4e=as&&as.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),d7=as&&as.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$4e(t,e,r)};Object.defineProperty(as,"__esModule",{value:!0});as.normalize=as.concatSig=void 0;d7(gJ(),as);d7(_J(),as);d7(RJ(),as);var LJ=Iw();Object.defineProperty(as,"concatSig",{enumerable:!0,get:function(){return LJ.concatSig}});Object.defineProperty(as,"normalize",{enumerable:!0,get:function(){return LJ.normalize}})});var _ee=z($m=>{"use strict";d();h();Object.defineProperty($m,"__esModule",{value:!0});$m.testnet=$m.bitcoin=void 0;$m.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};$m.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var Cee=z(Ar=>{"use strict";d();h();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.maybe=Ar.Boolean=Ar.Array=Ar.Buffer256bit=Ar.Network=Ar.typeforce=void 0;Ar.typeforce=hP();Ar.Network=Ar.typeforce.compile({messagePrefix:Ar.typeforce.oneOf(Ar.typeforce.Buffer,Ar.typeforce.String),bip32:{public:Ar.typeforce.UInt32,private:Ar.typeforce.UInt32},pubKeyHash:Ar.typeforce.UInt8,scriptHash:Ar.typeforce.UInt8,wif:Ar.typeforce.UInt8});Ar.Buffer256bit=Ar.typeforce.BufferN(32);Ar.Array=Ar.typeforce.Array;Ar.Boolean=Ar.typeforce.Boolean;Ar.maybe=Ar.typeforce.maybe});var Mee=z(A6=>{"use strict";d();h();Object.defineProperty(A6,"__esModule",{value:!0});A6.testEcc=void 0;var Ce=e=>Buffer.from(e,"hex");function JPe(e){Kr(e.isPoint(Ce("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Kr(!e.isPoint(Ce("030000000000000000000000000000000000000000000000000000000000000005"))),Kr(e.isPrivate(Ce("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Kr(e.isPrivate(Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),Kr(!e.isPrivate(Ce("0000000000000000000000000000000000000000000000000000000000000000"))),Kr(!e.isPrivate(Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),Kr(!e.isPrivate(Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),Kr(Buffer.from(e.privateAdd(Ce("0000000000000000000000000000000000000000000000000000000000000001"),Ce("0000000000000000000000000000000000000000000000000000000000000000"))).equals(Ce("0000000000000000000000000000000000000000000000000000000000000001"))),Kr(e.privateAdd(Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),Ce("0000000000000000000000000000000000000000000000000000000000000003"))===null),Kr(Buffer.from(e.privateAdd(Ce("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),Ce("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(Ce("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),Kr(Buffer.from(e.privateNegate(Ce("0000000000000000000000000000000000000000000000000000000000000001"))).equals(Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),Kr(Buffer.from(e.privateNegate(Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(Ce("0000000000000000000000000000000000000000000000000000000000000003"))),Kr(Buffer.from(e.privateNegate(Ce("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(Ce("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),Kr(Buffer.from(e.pointCompress(Ce("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(Ce("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Kr(Buffer.from(e.pointCompress(Ce("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(Ce("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),Kr(Buffer.from(e.pointCompress(Ce("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(Ce("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Kr(Buffer.from(e.pointCompress(Ce("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(Ce("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),Kr(Buffer.from(e.pointFromScalar(Ce("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(Ce("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),Kr(e.xOnlyPointAddTweak(Ce("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===null);let t=e.xOnlyPointAddTweak(Ce("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),Ce("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));Kr(Buffer.from(t.xOnlyPubkey).equals(Ce("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&t.parity===1),t=e.xOnlyPointAddTweak(Ce("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),Ce("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),Kr(Buffer.from(t.xOnlyPubkey).equals(Ce("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&t.parity===0),Kr(Buffer.from(e.sign(Ce("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),Ce("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(Ce("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),Kr(e.verify(Ce("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),Ce("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Ce("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&Kr(Buffer.from(e.signSchnorr(Ce("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),Ce("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),Ce("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(Ce("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&Kr(e.verifySchnorr(Ce("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),Ce("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),Ce("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}A6.testEcc=JPe;function Kr(e){if(!e)throw new Error("ecc library invalid")}});var Oee=z(Ym=>{"use strict";d();h();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.ECPairFactory=Ym.networks=void 0;var EM=_ee();Ym.networks=EM;var go=Cee(),XPe=EN(),Nee=Qv(),QPe=Mee(),AM=go.typeforce.maybe(go.typeforce.compile({compressed:go.maybe(go.Boolean),network:go.maybe(go.Network)})),eBe=e=>e.length===32?e:e.slice(1,33);function tBe(e){(0,QPe.testEcc)(e);function t(a){return e.isPoint(a)}function r(a,c){if(go.typeforce(go.Buffer256bit,a),!e.isPrivate(a))throw new TypeError("Private key not in range [1, n)");return go.typeforce(AM,c),new s(a,void 0,c)}function n(a,c){return go.typeforce(e.isPoint,a),go.typeforce(AM,c),new s(void 0,a,c)}function i(a,c){let u=Nee.decode(a),l=u.version;if(go.Array(c)){if(c=c.filter(f=>l===f.wif).pop(),!c)throw new Error("Unknown network version")}else if(c=c||EM.bitcoin,l!==c.wif)throw new Error("Invalid network version");return r(u.privateKey,{compressed:u.compressed,network:c})}function o(a){go.typeforce(AM,a),a===void 0&&(a={});let c=a.rng||XPe,u;do u=c(32),go.typeforce(go.Buffer256bit,u);while(!e.isPrivate(u));return r(u,a)}class s{__D;__Q;compressed;network;lowR;constructor(c,u,l){this.__D=c,this.__Q=u,this.lowR=!1,l===void 0&&(l={}),this.compressed=l.compressed===void 0?!0:l.compressed,this.network=l.network||EM.bitcoin,u!==void 0&&(this.__Q=Buffer.from(e.pointCompress(u,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){let c=e.pointFromScalar(this.__D,this.compressed);this.__Q=Buffer.from(c)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return Nee.encode(this.network.wif,this.__D,this.compressed)}tweak(c){return this.privateKey?this.tweakFromPrivateKey(c):this.tweakFromPublicKey(c)}sign(c,u){if(!this.__D)throw new Error("Missing private key");if(u===void 0&&(u=this.lowR),u===!1)return Buffer.from(e.sign(c,this.__D));{let l=e.sign(c,this.__D),f=Buffer.alloc(32,0),m=0;for(;l[0]>127;)m++,f.writeUIntLE(m,0,6),l=e.sign(c,this.__D,f);return Buffer.from(l)}}signSchnorr(c){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer.from(e.signSchnorr(c,this.privateKey))}verify(c,u){return e.verify(c,this.publicKey,u)}verifySchnorr(c,u){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(c,this.publicKey.subarray(1,33),u)}tweakFromPublicKey(c){let u=eBe(this.publicKey),l=e.xOnlyPointAddTweak(u,c);if(!l||l.xOnlyPubkey===null)throw new Error("Cannot tweak public key!");let f=Buffer.from([l.parity===0?2:3]);return n(Buffer.concat([f,l.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(c){let l=this.publicKey[0]===3||this.publicKey[0]===4&&(this.publicKey[64]&1)===1?e.privateNegate(this.privateKey):this.privateKey,f=e.privateAdd(l,c);if(!f)throw new Error("Invalid tweaked private key!");return r(Buffer.from(f),{network:this.network,compressed:this.compressed})}}return{isPoint:t,fromPrivateKey:r,fromPublicKey:n,fromWIF:i,makeRandom:o}}Ym.ECPairFactory=tBe});var Dee=z(Dd=>{"use strict";d();h();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.networks=Dd.ECPairFactory=Dd.default=void 0;var IM=Oee();Object.defineProperty(Dd,"default",{enumerable:!0,get:function(){return IM.ECPairFactory}});Object.defineProperty(Dd,"ECPairFactory",{enumerable:!0,get:function(){return IM.ECPairFactory}});Object.defineProperty(Dd,"networks",{enumerable:!0,get:function(){return IM.networks}})});d();h();var ih=ne(Pn()),dn=ne(tS()),Eu=ne(wo());d();h();ag.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});d();h();var Gue=(e,t)=>e+t,YU=e=>e.reduce(Gue,0);var ZU=ih.Buffer.alloc(64).fill(0),JI=e=>vs(e)?ih.Buffer.from(e.message.serialize()):e.serializeMessage(),rS=e=>Eu.default.encode(JI(e)),JU=e=>{try{return rS(mp(e,"bs58"))}catch{return rS(mp(e,"base64"))}},XU=e=>{try{return mp(e,"bs58").version}catch{return mp(e,"base64").version}},QU=e=>XI(ek(e)),vs=e=>e&&"version"in e,nS=(e,t)=>vs(e)?ih.Buffer.from(e.serialize()):e.serialize(t??{requireAllSignatures:!1,verifySignatures:!1}),XI=(e,t)=>Eu.default.encode(nS(e,t)),eR=(e,t)=>nS(e,t).toString("base64"),mp=(e,t)=>{let r;if(t==="base64")r=ih.Buffer.from(e,"base64");else if(t==="bs58")r=Eu.default.decode(e);else throw new Error("Unsupported encoding");return dn.VersionedTransaction.deserialize(r)};function QI(e){return vs(e)?e.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:e.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}var tR=e=>{let t=e.map(r=>dn.VersionedMessage.deserialize(Eu.default.decode(r)));return YU(t.map(r=>r.header.numRequiredSignatures))},ek=e=>{let t=Eu.default.decode(e);if(dn.VersionedMessage.deserializeMessageVersion(t)==="legacy"){let i=dn.Message.from(t);return dn.Transaction.populate(i,[])}let n=dn.VersionedMessage.deserialize(t);return new dn.VersionedTransaction(n)},rR=(e,t=[])=>{let r=Eu.default.decode(e);if(dn.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=dn.Message.from(r);return dn.Transaction.populate(i,t.map(s=>s?Eu.default.encode(s):Eu.default.encode(ZU)))}else{let i=dn.VersionedMessage.deserialize(r);return new dn.VersionedTransaction(i,t.map(s=>s||ZU))}},nR=e=>e.compileMessage().accountKeys,tk=e=>vs(e)?e.message.recentBlockhash:e.recentBlockhash,iR=(e,t)=>{vs(e)?e.message.recentBlockhash=t:e.recentBlockhash=t},oR=async(e,t)=>{if(tk(e))return;let r=(await t.getLatestBlockhash("confirmed")).blockhash;iR(e,r)},sR=async(e,t)=>{if(QI(e))return;let r=(await t.getLatestBlockhash("confirmed")).blockhash;iR(e,r)},rk=(e,t)=>{vs(e)||(e.feePayer=t)},nk=e=>vs(e)?e.message.staticAccountKeys[0]:e.feePayer,aR=(e,t)=>{nk(e)||rk(e,t)},cR=(e,t)=>{vs(e)?e.sign(t):e.partialSign(...t)},uR=e=>vs(e)?e.message.staticAccountKeys:e.signatures.map(t=>t.publicKey),fR=e=>vs(e)?e.signatures.map(t=>ih.Buffer.from(t)):e.signatures.map(t=>t.signature).filter(t=>t!==null);function lR(e){if(!$ue(ih.Buffer.from(e)))return!1;let t;try{t=dn.Message.from(e)}catch{t=void 0}let r;try{r=dn.VersionedMessage.deserialize(e)}catch{r=void 0}return!t&&!r||(t?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function $ue(e){let t=e.length,r=0;for(;r<t;)if(!(e[r]&128))r++;else if((e[r]&224)===192){if(r+1===t||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}var dR=e=>ag(e).dividedBy(dn.LAMPORTS_PER_SOL),hR=e=>ag(e).multipliedBy(dn.LAMPORTS_PER_SOL);var $o={};r4($o,{BufferLayout:()=>Xue,Message:()=>Io.Message,MessageV0:()=>Io.MessageV0,Transaction:()=>Io.Transaction,TransactionInstruction:()=>Io.TransactionInstruction,TransactionMessage:()=>Io.TransactionMessage,VersionedMessage:()=>Io.VersionedMessage,VersionedTransaction:()=>Io.VersionedTransaction,getAccountsFromTransaction:()=>nR,getFeePayer:()=>nk,getRecentBlockhash:()=>tk,getRequiredSignatures:()=>tR,getSignaturePubKeys:()=>uR,getSignatures:()=>fR,isAlreadySigned:()=>QI,isSafeMessage:()=>lR,isVersionedTransaction:()=>vs,lamportsToSolana:()=>dR,messageAndSignaturesToTransaction:()=>rR,messageStringToTransaction:()=>ek,messageStringToTransactionString:()=>QU,setFeePayer:()=>rk,setFeePayerIfNotExists:()=>aR,setRecentBlockhashIfNotExists:()=>oR,setRecentBlockhashIfNotSigned:()=>sR,signWithAdditionalSigners:()=>cR,solanaInstructionEncodeData:()=>bR,solanaToLamports:()=>hR,transactionStringToMessageString:()=>JU,transactionStringToTransaction:()=>mp,transactionStringToVersion:()=>XU,transactionToBase58TransactionString:()=>XI,transactionToBase64TransactionString:()=>eR,transactionToMessageString:()=>rS,transactionToSerializedMessage:()=>JI,transactionToSerializedTransaction:()=>nS,u64:()=>mR});d();h();var Xue=ne(wg()),Io=ne(tS());du($o,ne(tS()));d();h();var pR=ne(ug()),yR=ne(wg()),iS=ne(j4()),Yue=e=>{let t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},oS=e=>t=>{let r=(0,yR.blob)(e,t),{encode:n,decode:i}=Yue(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,iS.toBigIntLE)(pR.Buffer.from(c))},o.encode=(s,a,c)=>{let u=(0,iS.toBufferLE)(s,e);return n(u,a,c)},o},mR=oS(8),nMe=oS(16),iMe=oS(24),oMe=oS(32);d();h();var gR=ne(ug());d();h();var Zue=ne(ug()),gp=ne(wg());function ik(e,t){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){let o=t[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return ik({layout:i},t[i.property]);return 0},n=0;return e.layout.fields.forEach(i=>{n+=r(i)}),n}function bR(e,t){let r=e.layout.span>=0?e.layout.span:ik(e,t),n=gR.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}d();h();d();h();d();h();d();h();var Que=ne(sg(),1);var Xn=BigInt(0),Gt=BigInt(1),jf=BigInt(2),efe=BigInt(8),xR=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Mr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:xR,n:xR,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var ER=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),nb=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),wMe=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),tfe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),rfe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),nfe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ife=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),_n=class e{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof hn))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(hn.ZERO)?e.ZERO:new e(t.x,t.y,Gt,ue(t.x*t.y))}static toAffineBatch(t){let r=afe(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){SR(t);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=t,c=ue(r*a),u=ue(o*i),l=ue(n*a),f=ue(s*i);return c===u&&l===f}negate(){return new e(ue(-this.x),this.y,this.z,ue(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:i}=Mr,o=ue(t*t),s=ue(r*r),a=ue(jf*ue(n*n)),c=ue(i*o),u=t+r,l=ue(ue(u*u)-o-s),f=c+s,m=f-a,b=c-s,w=ue(l*m),S=ue(f*b),P=ue(l*b),M=ue(m*f);return new e(w,S,M,P)}add(t){SR(t);let{x:r,y:n,z:i,t:o}=this,{x:s,y:a,z:c,t:u}=t,l=ue((n-r)*(a+s)),f=ue((n+r)*(a-s)),m=ue(f-l);if(m===Xn)return this.double();let b=ue(i*jf*u),w=ue(o*jf*c),S=w+b,P=f+l,M=w-b,D=ue(S*m),C=ue(P*M),R=ue(S*M),L=ue(m*P);return new e(D,C,L,R)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let a=1;a<2**(t-1);a++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,r){!r&&this.equals(e.BASE)&&(r=hn.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ck.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=e.normalizeZ(i),ck.set(r,i)));let o=e.ZERO,s=e.BASE,a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let m=0;m<a;m++){let b=m*c,w=Number(t&u);t>>=f,w>c&&(w-=l,t+=Gt);let S=b,P=b+Math.abs(w)-1,M=m%2!==0,D=w<0;w===0?s=s.add(wR(M,i[S])):o=o.add(wR(D,i[P]))}return e.normalizeZ([o,s])[0]}multiply(t,r){return this.wNAF(aS(t,Mr.l),r)}multiplyUnsafe(t){let r=aS(t,Mr.l,!1),n=e.BASE,i=e.ZERO;if(r===Xn)return i;if(this.equals(i)||r===Gt)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>Xn;)r&Gt&&(o=o.add(s)),s=s.double(),r>>=Gt;return o}isSmallOrder(){return this.multiplyUnsafe(Mr.h).equals(e.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Mr.l/jf).double();return Mr.l%jf&&(t=t.add(this)),t.equals(e.ZERO)}toAffine(t){let{x:r,y:n,z:i}=this,o=this.equals(e.ZERO);t==null&&(t=o?efe:uS(i));let s=ue(r*t),a=ue(n*t),c=ue(i*t);if(o)return hn.ZERO;if(c!==Gt)throw new Error("invZ was invalid");return new hn(s,a)}fromRistrettoBytes(){sk()}toRistrettoBytes(){sk()}fromRistrettoHash(){sk()}};_n.BASE=new _n(Mr.Gx,Mr.Gy,Gt,ue(Mr.Gx*Mr.Gy));_n.ZERO=new _n(Xn,Gt,Gt,Xn);function wR(e,t){let r=t.negate();return e?r:t}function SR(e){if(!(e instanceof _n))throw new TypeError("ExtendedPoint expected")}function ok(e){if(!(e instanceof oh))throw new TypeError("RistrettoPoint expected")}function sk(){throw new Error("Legacy method: switch to RistrettoPoint")}var oh=class e{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=Mr,n=ue(nb*t*t),i=ue((n+Gt)*nfe),o=BigInt(-1),s=ue((o-r*n)*ue(n+r)),{isValid:a,value:c}=fk(i,s),u=ue(c*t);Wf(u)||(u=ue(-u)),a||(c=u),a||(o=n);let l=ue(o*(n-Gt)*ife-s),f=c*c,m=ue((c+c)*s),b=ue(l*tfe),w=ue(Gt-f),S=ue(Gt+f);return new _n(ue(m*S),ue(w*b),ue(b*S),ue(m*w))}static hashToCurve(t){t=zf(t,64);let r=ak(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=ak(t.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new e(n.add(o))}static fromHex(t){t=zf(t,32);let{a:r,d:n}=Mr,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=ak(t);if(!ufe(sb(o),t)||Wf(o))throw new Error(i);let s=ue(o*o),a=ue(Gt+r*s),c=ue(Gt-r*s),u=ue(a*a),l=ue(c*c),f=ue(r*n*u-l),{isValid:m,value:b}=AR(ue(f*l)),w=ue(b*c),S=ue(b*w*f),P=ue((o+o)*w);Wf(P)&&(P=ue(-P));let M=ue(a*S),D=ue(P*M);if(!m||Wf(D)||M===Xn)throw new Error(i);return new e(new _n(P,M,Gt,D))}toRawBytes(){let{x:t,y:r,z:n,t:i}=this.ep,o=ue(ue(n+r)*ue(n-r)),s=ue(t*r),a=ue(s*s),{value:c}=AR(ue(o*a)),u=ue(c*o),l=ue(c*s),f=ue(u*l*i),m;if(Wf(i*f)){let w=ue(r*nb),S=ue(t*nb);t=w,r=S,m=ue(u*rfe)}else m=l;Wf(t*f)&&(r=ue(-r));let b=ue((n-r)*m);return Wf(b)&&(b=ue(-b)),sb(b)}toHex(){return ab(this.toRawBytes())}toString(){return this.toHex()}equals(t){ok(t);let r=this.ep,n=t.ep,i=ue(r.x*n.y)===ue(r.y*n.x),o=ue(r.y*n.y)===ue(r.x*n.x);return i||o}add(t){return ok(t),new e(this.ep.add(t.ep))}subtract(t){return ok(t),new e(this.ep.subtract(t.ep))}multiply(t){return new e(this.ep.multiply(t))}multiplyUnsafe(t){return new e(this.ep.multiplyUnsafe(t))}};oh.BASE=new oh(_n.BASE);oh.ZERO=new oh(_n.ZERO);var ck=new WeakMap,hn=class e{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,ck.delete(this)}static fromHex(t,r=!0){let{d:n,P:i}=Mr;t=zf(t,32);let o=t.slice();o[31]=t[31]&-129;let s=cb(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=ER)throw new Error("Expected 0 < hex < 2**256");let a=ue(s*s),c=ue(a-Gt),u=ue(n*a+Gt),{isValid:l,value:f}=fk(c,u);if(!l)throw new Error("Point.fromHex: invalid y coordinate");let m=(f&Gt)===Gt;return(t[31]&128)!==0!==m&&(f=ue(-f)),new e(f,s)}static async fromPrivateKey(t){return(await PR(t)).point}toRawBytes(){let t=sb(this.y);return t[31]|=this.x&Gt?128:0,t}toHex(){return ab(this.toRawBytes())}toX25519(){let{y:t}=this,r=ue((Gt+t)*uS(Gt-t));return sb(r)}isTorsionFree(){return _n.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new e(ue(-this.x),this.y)}add(t){return _n.fromAffine(this).add(_n.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return _n.fromAffine(this).multiply(t,this).toAffine()}};hn.BASE=new hn(Mr.Gx,Mr.Gy);hn.ZERO=new hn(Xn,Gt);var ob=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=zf(t,64),n=hn.fromHex(r.slice(0,32),!1),i=cb(r.slice(32,64));return new e(n,i)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof hn))throw new Error("Expected Point instance");return aS(r,Mr.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(sb(this.s),32),t}toHex(){return ab(this.toRawBytes())}};function vR(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var ofe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ab(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ofe[e[r]];return t}function uk(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function IR(e){let r=e.toString(16).padStart(64,"0");return uk(r)}function sb(e){return IR(e).reverse()}function Wf(e){return(ue(e)&Gt)===Gt}function cb(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+ab(Uint8Array.from(e).reverse()))}var sfe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ak(e){return ue(cb(e)&sfe)}function ue(e,t=Mr.P){let r=e%t;return r>=Xn?r:t+r}function uS(e,t=Mr.P){if(e===Xn||t<=Xn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ue(e,t),n=t,i=Xn,o=Gt,s=Gt,a=Xn;for(;r!==Xn;){let u=n/r,l=n%r,f=i-s*u,m=o-a*u;n=r,r=l,i=s,o=a,s=f,a=m}if(n!==Gt)throw new Error("invert: does not exist");return ue(i,t)}function afe(e,t=Mr.P){let r=new Array(e.length),n=e.reduce((o,s,a)=>s===Xn?o:(r[a]=o,ue(o*s,t)),Gt),i=uS(n,t);return e.reduceRight((o,s,a)=>s===Xn?o:(r[a]=ue(o*r[a],t),ue(o*s,t)),i),r}function xc(e,t){let{P:r}=Mr,n=e;for(;t-- >Xn;)n*=n,n%=r;return n}function cfe(e){let{P:t}=Mr,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),c=e*e%t*e%t,u=xc(c,jf)*c%t,l=xc(u,Gt)*e%t,f=xc(l,r)*l%t,m=xc(f,n)*f%t,b=xc(m,i)*m%t,w=xc(b,o)*b%t,S=xc(w,s)*w%t,P=xc(S,s)*w%t,M=xc(P,n)*f%t;return{pow_p_5_8:xc(M,jf)*e%t,b2:c}}function fk(e,t){let r=ue(t*t*t),n=ue(r*r*t),i=cfe(e*n).pow_p_5_8,o=ue(e*r*i),s=ue(t*o*o),a=o,c=ue(o*nb),u=s===e,l=s===ue(-e),f=s===ue(-e*nb);return u&&(o=a),(l||f)&&(o=c),Wf(o)&&(o=ue(-o)),{isValid:u||l,value:o}}function AR(e){return fk(Gt,e)}function sS(e){return ue(cb(e),Mr.l)}function ufe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function zf(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):uk(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function aS(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(Xn<e)return e}else if(Xn<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function ffe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function kR(e){if(e=typeof e=="bigint"||typeof e=="number"?IR(aS(e,ER)):zf(e),e.length!==32)throw new Error("Expected 32 bytes");return e}function TR(e){let t=ffe(e.slice(0,32)),r=e.slice(32,64),n=sS(t),i=hn.BASE.multiply(n),o=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:o}}var ib;function cS(...e){if(typeof ib!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return ib(...e)}async function PR(e){return TR(await Iu.sha512(kR(e)))}function lk(e){return TR(cS(kR(e)))}function lfe(e){return lk(e).pointBytes}function dfe(e,t){e=zf(e);let{prefix:r,scalar:n,pointBytes:i}=lk(t),o=sS(cS(r,e)),s=hn.BASE.multiply(o),a=sS(cS(s.toRawBytes(),i,e)),c=ue(o+a*n,Mr.l);return new ob(s,c).toRawBytes()}function hfe(e,t,r){t=zf(t),r instanceof hn||(r=hn.fromHex(r,!1));let{r:n,s:i}=e instanceof ob?e.assertValidity():ob.fromHex(e),o=_n.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:t}}function pfe(e,t,r,n){let i=sS(n),o=_n.fromAffine(e).multiplyUnsafe(i);return _n.fromAffine(t).add(o).subtract(r).multiplyUnsafe(Mr.h).equals(_n.ZERO)}function yfe(e,t,r){let{r:n,SB:i,msg:o,pub:s}=hfe(e,t,r),a=cS(n.toRawBytes(),s.toRawBytes(),o);return pfe(s,n,i,a)}var fS={getExtendedPublicKey:lk,getPublicKey:lfe,sign:dfe,verify:yfe};hn.BASE._setWindowSize(8);var qf={node:Que,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Iu={bytesToHex:ab,hexToBytes:uk,concatBytes:vR,getExtendedPublicKey:PR,mod:ue,invert:uS,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if(e=zf(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return ue(cb(e),Mr.l-Gt)+Gt},randomBytes:(e=32)=>{if(qf.web)return qf.web.getRandomValues(new Uint8Array(e));if(qf.node){let{randomBytes:t}=qf.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Iu.randomBytes(32),sha512:async(...e)=>{let t=vR(...e);if(qf.web){let r=await qf.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(r)}else{if(qf.node)return Uint8Array.from(qf.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=hn.BASE){let r=t.equals(hn.BASE)?t:new hn(t.x,t.y);return r._setWindowSize(e),r.multiply(jf),r},sha512Sync:void 0};Object.defineProperties(Iu,{sha512Sync:{configurable:!1,get(){return ib},set(e){ib||(ib=e)}}});d();h();d();h();d();h();function dk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function mfe(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function BR(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function gfe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dk(e.outputLen),dk(e.blockLen)}function bfe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xfe(e,t){BR(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var wfe={number:dk,bool:mfe,bytes:BR,hash:gfe,exists:bfe,output:xfe},ku=wfe;d();h();d();h();var Sfe={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var lS=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);var vfe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vfe)throw new Error("Non little-endian hardware is not supported");var CMe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Afe(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function ub(e){if(typeof e=="string"&&(e=Afe(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}var bp=class{clone(){return this._cloneInto()}};function fb(e){let t=n=>e().update(ub(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Efe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var dS=class extends bp{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=lS(this.buffer)}update(t){ku.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=ub(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=lS(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ku.exists(this),ku.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;Efe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=lS(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};d();h();var hS=BigInt(4294967295),hk=BigInt(32);function _R(e,t=!1){return t?{h:Number(e&hS),l:Number(e>>hk&hS)}:{h:Number(e>>hk&hS)|0,l:Number(e&hS)|0}}function Ife(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=_R(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var kfe=(e,t)=>BigInt(e>>>0)<<hk|BigInt(t>>>0),Tfe=(e,t,r)=>e>>>r,Pfe=(e,t,r)=>e<<32-r|t>>>r,Bfe=(e,t,r)=>e>>>r|t<<32-r,_fe=(e,t,r)=>e<<32-r|t>>>r,Cfe=(e,t,r)=>e<<64-r|t>>>r-32,Mfe=(e,t,r)=>e>>>r-32|t<<64-r,Nfe=(e,t)=>t,Ofe=(e,t)=>e,Dfe=(e,t,r)=>e<<r|t>>>32-r,Ufe=(e,t,r)=>t<<r|e>>>32-r,Rfe=(e,t,r)=>t<<r-32|e>>>64-r,Lfe=(e,t,r)=>e<<r-32|t>>>64-r;function Kfe(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Vfe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Ffe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Hfe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),qfe=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Wfe=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),jfe=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,zfe={fromBig:_R,split:Ife,toBig:kfe,shrSH:Tfe,shrSL:Pfe,rotrSH:Bfe,rotrSL:_fe,rotrBH:Cfe,rotrBL:Mfe,rotr32H:Nfe,rotr32L:Ofe,rotlSH:Dfe,rotlSL:Ufe,rotlBH:Rfe,rotlBL:Lfe,add:Kfe,add3L:Vfe,add3H:Ffe,add4L:Hfe,add4H:qfe,add5H:jfe,add5L:Wfe},bt=zfe;var[Gfe,$fe]=bt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Gf=new Uint32Array(80),$f=new Uint32Array(80),xp=class extends dS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)Gf[C]=t.getUint32(r),$f[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=Gf[C-15]|0,L=$f[C-15]|0,W=bt.rotrSH(R,L,1)^bt.rotrSH(R,L,8)^bt.shrSH(R,L,7),G=bt.rotrSL(R,L,1)^bt.rotrSL(R,L,8)^bt.shrSL(R,L,7),H=Gf[C-2]|0,$=$f[C-2]|0,B=bt.rotrSH(H,$,19)^bt.rotrBH(H,$,61)^bt.shrSH(H,$,6),p=bt.rotrSL(H,$,19)^bt.rotrBL(H,$,61)^bt.shrSL(H,$,6),g=bt.add4L(G,p,$f[C-7],$f[C-16]),x=bt.add4H(g,W,B,Gf[C-7],Gf[C-16]);Gf[C]=x|0,$f[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=bt.rotrSH(f,m,14)^bt.rotrSH(f,m,18)^bt.rotrBH(f,m,41),L=bt.rotrSL(f,m,14)^bt.rotrSL(f,m,18)^bt.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=bt.add5L(D,L,G,$fe[C],$f[C]),$=bt.add5H(H,M,R,W,Gfe[C],Gf[C]),B=H|0,p=bt.rotrSH(n,i,28)^bt.rotrBH(n,i,34)^bt.rotrBH(n,i,39),g=bt.rotrSL(n,i,28)^bt.rotrBL(n,i,34)^bt.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=bt.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=bt.add3L(B,g,A);n=bt.add3H(v,$,p,x),i=v|0}({h:n,l:i}=bt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=bt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=bt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=bt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=bt.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=bt.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=bt.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=bt.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){Gf.fill(0),$f.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},pk=class extends xp{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},yk=class extends xp{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},mk=class extends xp{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Yf=fb(()=>new xp),zMe=fb(()=>new pk),GMe=fb(()=>new yk),$Me=fb(()=>new mk);d();h();var Yfe=ne(sg(),1);var tr=BigInt(0),qr=BigInt(1),Jf=BigInt(2),hb=BigInt(3),CR=BigInt(8),Wr=Object.freeze({a:tr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:qr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),MR=(e,t)=>(e+t/Jf)/t,pS={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=Wr,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-qr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=MR(o*e,t),c=MR(-n*e,t),u=xe(e-a*r-c*i,t),l=xe(-a*n-c*o,t),f=u>s,m=l>s;if(f&&(u=t-u),m&&(l=t-l),u>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:m,k2:l}}},wp=32,yb=32;var NR=wp+1,OR=2*wp+1;function DR(e){let{a:t,b:r}=Wr,n=xe(e*e),i=xe(n*e);return xe(i+t*e+r)}var yS=Wr.a===tr,xS=class extends Error{constructor(t){super(t)}};function UR(e){if(!(e instanceof ro))throw new TypeError("JacobianPoint expected")}var ro=class e{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof pn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(pn.ZERO)?e.ZERO:new e(t.x,t.y,qr)}static toAffineBatch(t){let r=ele(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return e.toAffineBatch(t).map(e.fromAffine)}equals(t){UR(t);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=t,c=xe(i*i),u=xe(a*a),l=xe(r*u),f=xe(o*c),m=xe(xe(n*a)*u),b=xe(xe(s*i)*c);return l===f&&m===b}negate(){return new e(this.x,xe(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,i=xe(t*t),o=xe(r*r),s=xe(o*o),a=t+o,c=xe(Jf*(xe(a*a)-i-s)),u=xe(hb*i),l=xe(u*u),f=xe(l-Jf*c),m=xe(u*(c-f)-CR*s),b=xe(Jf*r*n);return new e(f,m,b)}add(t){UR(t);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=t;if(o===tr||s===tr)return this;if(r===tr||n===tr)return t;let c=xe(i*i),u=xe(a*a),l=xe(r*u),f=xe(o*c),m=xe(xe(n*a)*u),b=xe(xe(s*i)*c),w=xe(f-l),S=xe(b-m);if(w===tr)return S===tr?this.double():e.ZERO;let P=xe(w*w),M=xe(w*P),D=xe(l*P),C=xe(S*S-M-Jf*D),R=xe(S*(D-C)-m*M),L=xe(i*a*w);return new e(C,R,L)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=e.ZERO;if(typeof t=="bigint"&&t===tr)return r;let n=KR(t);if(n===qr)return this;if(!yS){let f=r,m=this;for(;n>tr;)n&qr&&(f=f.add(m)),m=m.double(),n>>=qr;return f}let{k1neg:i,k1:o,k2neg:s,k2:a}=pS.splitScalar(n),c=r,u=r,l=this;for(;o>tr||a>tr;)o&qr&&(c=c.add(l)),a&qr&&(u=u.add(l)),l=l.double(),o>>=qr,a>>=qr;return i&&(c=c.negate()),s&&(u=u.negate()),u=new e(xe(u.x*pS.beta),u.y,u.z),c.add(u)}precomputeWindow(t){let r=yS?128/t+1:256/t+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let a=1;a<2**(t-1);a++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,r){!r&&this.equals(e.BASE)&&(r=pn.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&bk.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=e.normalizeZ(i),bk.set(r,i)));let o=e.ZERO,s=e.BASE,a=1+(yS?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let m=0;m<a;m++){let b=m*c,w=Number(t&u);t>>=f,w>c&&(w-=l,t+=qr);let S=b,P=b+Math.abs(w)-1,M=m%2!==0,D=w<0;w===0?s=s.add(mS(M,i[S])):o=o.add(mS(D,i[P]))}return{p:o,f:s}}multiply(t,r){let n=KR(t),i,o;if(yS){let{k1neg:s,k1:a,k2neg:c,k2:u}=pS.splitScalar(n),{p:l,f}=this.wNAF(a,r),{p:m,f:b}=this.wNAF(u,r);l=mS(s,l),m=mS(c,m),m=new e(xe(m.x*pS.beta),m.y,m.z),i=l.add(m),o=f.add(b)}else{let{p:s,f:a}=this.wNAF(n,r);i=s,o=a}return e.normalizeZ([i,o])[0]}toAffine(t){let{x:r,y:n,z:i}=this,o=this.equals(e.ZERO);t==null&&(t=o?CR:AS(i));let s=t,a=xe(s*s),c=xe(a*s),u=xe(r*a),l=xe(n*c),f=xe(i*s);if(o)return pn.ZERO;if(f!==qr)throw new Error("invZ was invalid");return new pn(u,l)}};ro.BASE=new ro(Wr.Gx,Wr.Gy,qr);ro.ZERO=new ro(tr,qr,tr);function mS(e,t){let r=t.negate();return e?r:t}var bk=new WeakMap,pn=class e{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,bk.delete(this)}hasEvenY(){return this.y%Jf===tr}static fromCompressedHex(t){let r=t.length===32,n=Es(r?t:t.subarray(1));if(!bS(n))throw new Error("Point is not on curve");let i=DR(n),o=Qfe(i),s=(o&qr)===qr;r?s&&(o=xe(-o)):(t[0]&1)===1!==s&&(o=xe(-o));let a=new e(n,o);return a.assertValidity(),a}static fromUncompressedHex(t){let r=Es(t.subarray(1,wp+1)),n=Es(t.subarray(wp+1,wp*2+1)),i=new e(r,n);return i.assertValidity(),i}static fromHex(t){let r=sh(t),n=r.length,i=r[0];if(n===wp)return this.fromCompressedHex(r);if(n===NR&&(i===2||i===3))return this.fromCompressedHex(r);if(n===OR&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${NR} compressed bytes or ${OR} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return e.BASE.multiply(bb(t))}static fromSignature(t,r,n){let{r:i,s:o}=ile(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=rle(sh(t)),{n:a}=Wr,c=n===2||n===3?i+a:i,u=AS(c,a),l=xe(-s*u,a),f=xe(o*u,a),m=n&1?"03":"02",b=e.fromHex(m+Xf(c)),w=e.BASE.multiplyAndAddUnsafe(b,l,f);if(!w)throw new Error("Cannot recover signature: point at infinify");return w.assertValidity(),w}toRawBytes(t=!1){return Qf(this.toHex(t))}toHex(t=!1){let r=Xf(this.x);return t?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Xf(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!bS(r)||!bS(n))throw new Error(t);let i=xe(n*n),o=DR(r);if(xe(i-o)!==tr)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new e(this.x,xe(-this.y))}double(){return ro.fromAffine(this).double().toAffine()}add(t){return ro.fromAffine(this).add(ro.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return ro.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let i=ro.fromAffine(this),o=r===tr||r===qr||this!==e.BASE?i.multiplyUnsafe(r):i.multiply(r),s=ro.fromAffine(t).multiplyUnsafe(n),a=o.add(s);return a.equals(ro.ZERO)?void 0:a.toAffine()}};pn.BASE=new pn(Wr.Gx,Wr.Gy);pn.ZERO=new pn(tr,tr);function RR(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function LR(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${vp(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Es(r),left:e.subarray(t+2)}}function Zfe(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${vp(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=LR(e.subarray(2)),{data:n,left:i}=LR(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${vp(i)}`);return{r:t,s:n}}var pb=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?vp(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new e(wS(i.slice(0,64)),wS(i.slice(64,128)))}static fromDER(t){let r=t instanceof Uint8Array;if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Zfe(r?t:Qf(t));return new e(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!gb(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!gb(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=Wr.n>>qr;return this.s>t}normalizeS(){return this.hasHighS()?new e(this.r,xe(-this.s,Wr.n)):this}toDERRawBytes(){return Qf(this.toDERHex())}toDERHex(){let t=RR(db(this.s)),r=RR(db(this.r)),n=t.length/2,i=r.length/2,o=db(n),s=db(i);return`30${db(i+n+4)}02${s}${r}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Qf(this.toCompactHex())}toCompactHex(){return Xf(this.r)+Xf(this.s)}};function lb(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Jfe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vp(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Jfe[e[r]];return t}var Xfe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Xf(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(tr<=e&&e<Xfe))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function mb(e){let t=Qf(Xf(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function db(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function wS(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Qf(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function Es(e){return wS(vp(e))}function sh(e){return e instanceof Uint8Array?Uint8Array.from(e):Qf(e)}function KR(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&gb(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function xe(e,t=Wr.P){let r=e%t;return r>=tr?r:t+r}function As(e,t){let{P:r}=Wr,n=e;for(;t-- >tr;)n*=n,n%=r;return n}function Qfe(e){let{P:t}=Wr,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=As(u,hb)*u%t,f=As(l,hb)*u%t,m=As(f,Jf)*c%t,b=As(m,n)*m%t,w=As(b,i)*b%t,S=As(w,s)*w%t,P=As(S,a)*S%t,M=As(P,s)*w%t,D=As(M,hb)*u%t,C=As(D,o)*b%t,R=As(C,r)*c%t,L=As(R,Jf);if(L*L%t!==e)throw new Error("Cannot find square root");return L}function AS(e,t=Wr.P){if(e===tr||t<=tr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=xe(e,t),n=t,i=tr,o=qr,s=qr,a=tr;for(;r!==tr;){let u=n/r,l=n%r,f=i-s*u,m=o-a*u;n=r,r=l,i=s,o=a,s=f,a=m}if(n!==qr)throw new Error("invert: does not exist");return xe(i,t)}function ele(e,t=Wr.P){let r=new Array(e.length),n=e.reduce((o,s,a)=>s===tr?o:(r[a]=o,xe(o*s,t)),qr),i=AS(n,t);return e.reduceRight((o,s,a)=>s===tr?o:(r[a]=xe(o*r[a],t),xe(o*s,t)),i),r}function tle(e){let t=e.length*8-yb*8,r=Es(e);return t>0?r>>BigInt(t):r}function rle(e,t=!1){let r=tle(e);if(t)return r;let{n}=Wr;return r>=n?r-n:r}var Sp,gk;function gb(e){return tr<e&&e<Wr.n}function bS(e){return tr<e&&e<Wr.P}function bb(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*yb)throw new Error("Expected 32 bytes of private key");t=wS(e)}else if(e instanceof Uint8Array){if(e.length!==yb)throw new Error("Expected 32 bytes of private key");t=Es(e)}else throw new TypeError("Expected valid private key");if(!gb(t))throw new Error("Expected private key: 0 < key < n");return t}function nle(e){return e instanceof pn?(e.assertValidity(),e):pn.fromHex(e)}function ile(e){if(e instanceof pb)return e.assertValidity(),e;try{return pb.fromDER(e)}catch{return pb.fromCompact(e)}}function Tu(e,t=!1){return pn.fromPrivateKey(e).toRawBytes(t)}function SS(e){return xe(Es(e),Wr.n)}var Ap=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=sh(t);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=Es(r.subarray(0,32)),i=Es(r.subarray(32,64));return new e(n,i)}assertValidity(){let{r:t,s:r}=this;if(!bS(t)||!gb(r))throw new Error("Invalid signature")}toHex(){return Xf(this.r)+Xf(this.s)}toRawBytes(){return Qf(this.toHex())}};function ole(e){return pn.fromPrivateKey(e).toRawX()}var vS=class{constructor(t,r,n=wc.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=sh(t);let{x:i,scalar:o}=this.getScalar(bb(r));if(this.px=i,this.d=o,this.rand=sh(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){let r=pn.fromPrivateKey(t),n=r.hasEvenY()?t:Wr.n-t;return{point:r,scalar:n,x:r.toRawX()}}initNonce(t,r){return mb(t^Es(r))}finalizeNonce(t){let r=xe(Es(t),Wr.n);if(r===tr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(t,r,n,i){return new Ap(t.x,xe(r+n*i,Wr.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:t,d:r,px:n,rand:i}=this,o=wc.taggedHash,s=this.initNonce(r,await o(Zf.aux,i)),{R:a,rx:c,k:u}=this.finalizeNonce(await o(Zf.nonce,s,n,t)),l=SS(await o(Zf.challenge,c,n,t)),f=this.finalizeSig(a,u,l,r);return await HR(f,t,n)||this.error(),f}calcSync(){let{m:t,d:r,px:n,rand:i}=this,o=wc.taggedHashSync,s=this.initNonce(r,o(Zf.aux,i)),{R:a,rx:c,k:u}=this.finalizeNonce(o(Zf.nonce,s,n,t)),l=SS(o(Zf.challenge,c,n,t)),f=this.finalizeSig(a,u,l,r);return qR(f,t,n)||this.error(),f}};async function sle(e,t,r){return new vS(e,t,r).calc()}function ale(e,t,r){return new vS(e,t,r).calcSync()}function VR(e,t,r){let n=e instanceof Ap,i=n?e:Ap.fromHex(e);return n&&i.assertValidity(),{...i,m:sh(t),P:nle(r)}}function FR(e,t,r,n){let i=pn.BASE.multiplyAndAddUnsafe(t,bb(r),xe(-n,Wr.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function HR(e,t,r){try{let{r:n,s:i,m:o,P:s}=VR(e,t,r),a=SS(await wc.taggedHash(Zf.challenge,mb(n),s.toRawX(),o));return FR(n,s,i,a)}catch{return!1}}function qR(e,t,r){try{let{r:n,s:i,m:o,P:s}=VR(e,t,r),a=SS(wc.taggedHashSync(Zf.challenge,mb(n),s.toRawX(),o));return FR(n,s,i,a)}catch(n){if(n instanceof xS)throw n;return!1}}var WR={Signature:Ap,getPublicKey:ole,sign:sle,verify:HR,signSync:ale,verifySync:qR};pn.BASE._setWindowSize(8);var Yo={node:Yfe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Zf={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},gS={},wc={bytesToHex:vp,hexToBytes:Qf,concatBytes:lb,mod:xe,invert:AS,isValidPrivateKey(e){try{return bb(e),!0}catch{return!1}},_bigintTo32Bytes:mb,_normalizePrivateKey:bb,hashToPrivateKey:e=>{e=sh(e);let t=yb+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=xe(Es(e),Wr.n-qr)+qr;return mb(r)},randomBytes:(e=32)=>{if(Yo.web)return Yo.web.getRandomValues(new Uint8Array(e));if(Yo.node){let{randomBytes:t}=Yo.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>wc.hashToPrivateKey(wc.randomBytes(yb+8)),precompute(e=8,t=pn.BASE){let r=t===pn.BASE?t:new pn(t.x,t.y);return r._setWindowSize(e),r.multiply(hb),r},sha256:async(...e)=>{if(Yo.web){let t=await Yo.web.subtle.digest("SHA-256",lb(...e));return new Uint8Array(t)}else if(Yo.node){let{createHash:t}=Yo.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Yo.web){let r=await Yo.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=lb(...t),i=await Yo.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Yo.node){let{createHmac:r}=Yo.node,n=r("sha256",e);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=gS[e];if(r===void 0){let n=await wc.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));r=lb(n,n),gS[e]=r}return wc.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof Sp!="function")throw new xS("sha256Sync is undefined, you need to set it");let r=gS[e];if(r===void 0){let n=Sp(Uint8Array.from(e,i=>i.charCodeAt(0)));r=lb(n,n),gS[e]=r}return Sp(r,...t)},_JacobianPoint:ro};Object.defineProperties(wc,{sha256Sync:{configurable:!1,get(){return Sp},set(e){Sp||(Sp=e)}},hmacSha256Sync:{configurable:!1,get(){return gk},set(e){gk||(gk=e)}}});d();h();var jR=new RegExp("^[0-9]+'?$"),Ep=2147483648;d();h();d();h();var ES=class extends bp{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,ku.hash(t);let n=ub(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return ku.exists(this),this.iHash.update(t),this}digestInto(t){ku.exists(this),ku.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ah=(e,t,r)=>new ES(e,t).update(r).digest();ah.create=(e,t)=>new ES(e,t);var lNe=new RegExp("^m(\\/[0-9]+')+$");var ule="ed25519 seed",zR=e=>{let t=Buffer.from(ah(Yf,Buffer.from(ule),e)).toString("hex"),r=t.slice(0,64),n=t.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},GR=({key:e,chainCode:t},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),e,n]),o=Buffer.from(ah(Yf,t,i)).toString("hex"),s=o.slice(0,64),a=o.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(a,"hex")}};d();h();var Pu=ne(Pn());var Ip=ne(Yn());var fle=Pu.Buffer.from("Bitcoin seed"),$R=ur.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),YR=e=>{let t=Pu.Buffer.from(ah(Yf,Pu.Buffer.from(fle),e)).toString("hex"),r=t.slice(0,64),n=t.slice(64);return{key:Pu.Buffer.from(r,"hex"),chainCode:Pu.Buffer.from(n,"hex")}},ZR=(e,t)=>{let{key:r,chainCode:n}=e,i=new Uint8Array(37);if(t&Ep)i.set(r,1);else{let f=Tu(r,!0);i.set((0,Ip.arrayify)(f))}for(let f=24;f>=0;f-=8)i[33+(f>>3)]=t>>24-f&255;let o=Pu.Buffer.from(ah(Yf,n,i)).toString("hex"),s=o.slice(0,64),a=o.slice(64),c=ur.from(`0x${s}`);if(c.gte($R))throw new Error("Invalid private key");let u=c.add(`0x${r.toString("hex")}`).mod($R);if(u.eq(ur.from(0)))throw new Error("Invalid private key");let l=(0,Ip.hexZeroPad)((0,Ip.hexlify)(u),32);return{key:Pu.Buffer.from(l.replace("0x",""),"hex"),chainCode:Pu.Buffer.from(a,"hex")}};d();h();var xk=U.string().refine(e=>{if(typeof e!="string")return!1;let t=e.split("/");if(t.length<2||t[0]!=="m")return!1;for(let r=1;r<t.length;++r)if(!jR.test(t[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var xb=U.union([U.literal("bitcoinTaproot"),U.literal("bitcoinNativeSegwit"),U.literal("bitcoinNestedSegwit"),U.literal("bitcoinLegacy")]),wb=U.union([U.literal("bip44RootEthereum"),U.literal("bip44Ethereum"),U.literal("bip44EthereumSecondary"),U.literal("bip44EthereumTertiary")]),Sb=U.union([U.literal("bip44Root"),U.literal("bip44"),U.literal("bip44Change"),U.literal("deprecated")]),wk=U.literal("bip44Sui");d();h();var lle=U.union([U.literal("bip44Change"),U.literal("bip44"),U.literal("deprecated")]),dle=U.union([U.literal("bip44Ethereum"),U.literal("bip44EthereumSecondary"),U.literal("bip44EthereumTertiary")]),hle=U.union([U.literal("bitcoinTaproot"),U.literal("bitcoinNativeSegwit"),U.literal("bitcoinNestedSegwit"),U.literal("bitcoinLegacy")]),ple=U.literal("bip44Sui"),IS=U.number().int().min(0),yle=U.object({pathType:U.literal("bip44Root"),index:U.number().optional()}),mle=U.object({pathType:lle,index:IS}),gle=U.object({pathType:U.literal("bip44RootEthereum"),index:U.number().optional()}),ble=U.object({pathType:dle,index:IS}),xle=U.object({pathType:hle,index:IS}),wle=U.object({pathType:ple,index:IS}),kS=U.union([yle,mle,gle,ble,xle,wle]),vb=new Error("Invalid derivation path."),XR=new Error("Unsupported derivation path."),Sk=e=>{if(!kS.safeParse(e).success)throw vb;switch(e.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${e.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${e.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${e.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${e.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${e.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${e.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${e.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${e.index}'/0/0`;case"bip44":return`m/44'/501'/${e.index}'`;case"bip44Change":return`m/44'/501'/${e.index}'/0'`;case"bip44Sui":return`m/44'/784'/${e.index}'/0'/0'`}},JR=1<<31>>>0,Sle=e=>{try{let t=e.replace("0x","").match(/.{1,2}/g)??[];if(t.length===0)throw vb;let r=parseInt(t[0],16),n="m";for(let i=0;i<r;i++){let o="";for(let c=0;c<4;c++)o+=t[1+i*4+c];let s=parseInt(o,16),a=s>=JR;a&&(s-=JR),n+=`/${s.toString(10)}${a?"'":""}`}return n}catch{throw vb}},vle=e=>{let t,r=xk.safeParse(`m/${e.replace("m/","")}`);if(r.success)t=r.data;else try{t=Sle(e)}catch{throw vb}if(t==="m/44'/501'")return{pathType:"bip44Root"};if(t==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=t.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw XR};d();h();var ONe=new Error("Unsupported path."),vk=e=>{switch(e){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},Ak=e=>{switch(e){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},Ek=e=>{switch(e){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}},Ik=e=>{switch(e){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!1;case"bip44Sui":return!0}};Iu.sha512Sync=(...e)=>Yf(Iu.concatBytes(...e));var{getPublicKey:Ale}=fS,Oi=class{#e;#t;constructor(t){this.#e={ellipticCurve:"ed25519",value:zR(t),nodes:{}},this.#t={ellipticCurve:"secp256k1",value:YR(t),nodes:{}}}derivePathType(t,r){switch(t){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(t){return t.ellipticCurve==="ed25519"?this.deriveED25519Path(t):t.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(t):ve(t)}deriveED25519Path(t){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=t,o=n.split("/"),s=this.#e;for(let u of o){if(u==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let l=s.nodes?.[u]??null;if(!l){let f={ellipticCurve:r,value:GR(s.value,parseInt(u,10)+Ep),nodes:{}};l=f,s.nodes[u]=f}s=l}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let a=Ale(s.value.key),c;switch(i){case 32:return c=new Uint8Array(32),c.set(s.value.key),{publicKey:a,secretKey:c};case 64:return c=new Uint8Array(64),c.set(s.value.key),c.set(a,32),{publicKey:a,secretKey:c}}}deriveSECP256K1Path(t){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=t,o=n.split("/"),s=this.#t;for(let u of o){if(u==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let l=s.nodes?.[u]??null;if(!l){let f=0;u.endsWith("'")&&(f=Ep);let m={ellipticCurve:r,value:ZR(s.value,parseInt(u,10)+f),nodes:{}};l=m,s.nodes[u]=m}s=l}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let a=s.value.key;return{publicKey:Tu(a,i),secretKey:new Uint8Array(a)}}cleanUpTree(t){if(t){t.value.key.fill(0),t.value.chainCode.fill(0);let r=Object.values(t.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#e),this.cleanUpTree(this.#t),this.#e=null,this.#t=null}};d();h();var Ee=(a=>(a.BitcoinTaproot="bip122_p2tr",a.BitcoinNativeSegwit="bip122_p2wpkh",a.BitcoinNestedSegwit="bip122_p2sh",a.BitcoinLegacy="bip122_p2pkh",a.Solana="solana",a.EVM="eip155",a.Sui="sui",a))(Ee||{}),QR=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],el=U.enum(QR);var TS=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};d();h();var PS=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};d();h();var BS=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};d();h();var _S=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};d();h();var CS=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};d();h();var MS=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};d();h();var NS=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var kk=class{bip122_p2tr=new _S;bip122_p2wpkh=new PS;bip122_p2sh=new BS;bip122_p2pkh=new TS;eip155=new CS;solana=new MS;sui=new NS;allAddressTypes=Object.values(Ee);allAddressTypeDefinitions=this.allAddressTypes.map(t=>this[t]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(t=>{this.addressTypeByDerivationPathType[t.defaultDerivationPathType]=t.type,t.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=t.type})})}getAll(){return this.allAddressTypes}getDisplayName(t){return this[t].displayName}getAddressType(t){return this.addressTypeByDerivationPathType[t]}},Di=new kk;d();h();d();h();d();h();var OS=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(t){let r=t.fold(i=>Buffer.from(i));return{publicKey:Tu(r,!0),privateKey:r}}generateKeypairFromSeed(t,r,n){let i=t.fold(o=>new Oi(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();var tL=ne(Yi());d();h();var eL="properties/5.7.0";var Ele=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},DS=new tL.Logger(eL);function _e(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function oDe(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||typeof e.prototype!="object")break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Bu(e){return Ele(this,void 0,void 0,function*(){let t=Object.keys(e).map(n=>{let i=e[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(t)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function rL(e,t){(!e||typeof e!="object")&&DS.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||DS.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function Eb(e){let t={};for(let r in e)t[r]=e[r];return t}var Ile={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function nL(e){if(e==null||Ile[typeof e])return!0;if(Array.isArray(e)||typeof e=="object"){if(!Object.isFrozen(e))return!1;let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch{continue}if(!nL(n))return!1}return!0}return DS.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function kle(e){if(nL(e))return e;if(Array.isArray(e))return Object.freeze(e.map(t=>Ab(t)));if(typeof e=="object"){let t={};for(let r in e){let n=e[r];n!==void 0&&_e(t,r,Ab(n))}return t}return DS.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function Ab(e){return kle(e)}var tl=class{constructor(t){for(let r in t)this[r]=Ab(t[r])}};var sL=ne(Yi());d();h();var iL="abstract-provider/5.7.0";var Tle=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Ple=new sL.Logger(iL),oL=class extends tl{static isForkEvent(t){return!!(t&&t._isForkEvent)}};var US=class e{constructor(){Ple.checkAbstract(new.target,e),_e(this,"_isProvider",!0)}getFeeData(){return Tle(this,void 0,void 0,function*(){let{block:t,gasPrice:r}=yield Bu({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,i=null,o=null;return t&&t.baseFeePerGas&&(n=t.baseFeePerGas,o=ur.from("1500000000"),i=t.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(t,r){return this.on(t,r)}removeListener(t,r){return this.off(t,r)}static isProvider(t){return!!(t&&t._isProvider)}};d();h();var Sc=ne(Yi());d();h();var aL="abstract-signer/5.7.0";var Ea=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Is=new Sc.Logger(aL),Ble=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],_le=[Sc.Logger.errors.INSUFFICIENT_FUNDS,Sc.Logger.errors.NONCE_EXPIRED,Sc.Logger.errors.REPLACEMENT_UNDERPRICED],Ib=class e{constructor(){Is.checkAbstract(new.target,e),_e(this,"_isSigner",!0)}getBalance(t){return Ea(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Ea(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Ea(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield Bu(this.checkTransaction(t));return yield this.provider.estimateGas(r)})}call(t,r){return Ea(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield Bu(this.checkTransaction(t));return yield this.provider.call(n,r)})}sendTransaction(t){return Ea(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(t),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Ea(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ea(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ea(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Ea(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(let n in t)Ble.indexOf(n)===-1&&Is.throwArgumentError("invalid transaction key: "+n,"transaction",t);let r=Eb(t);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Is.throwArgumentError("from address mismatch","transaction",t),n[0])),r}populateTransaction(t){return Ea(this,void 0,void 0,function*(){let r=yield Bu(this.checkTransaction(t));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Ea(this,void 0,void 0,function*(){if(i==null)return null;let o=yield this.resolveName(i);return o==null&&Is.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Is.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(r.type===0||r.type===1)&&n&&Is.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Is.throwError("network does not support EIP-1559",Sc.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Is.throwError("failed to get consistent fee data",Sc.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(_le.indexOf(i.code)>=0)throw i;return Is.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Sc.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Is.throwArgumentError("chainId address mismatch","transaction",t),i[0])),yield Bu(r)})}_checkProvider(t){this.provider||Is.throwError("missing provider",Sc.Logger.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}},cL=class e extends Ib{constructor(t,r){super(),_e(this,"address",t),_e(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,r){return Promise.resolve().then(()=>{Is.throwError(t,Sc.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new e(this.address,t)}};var Ta=ne(Yn());d();h();d();h();d();h();d();h();d();h();var Cle="0x0000000000000000000000000000000000000000";d();h();var Mle=ur.from(-1),Tk=ur.from(0),Nle=ur.from(1);var Ole=ur.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");d();h();var Dle="0x0000000000000000000000000000000000000000000000000000000000000000";d();h();var Pk=ne(Yn()),fL=ne(Yi());d();h();var uL="strings/5.7.0";var lL=new fL.Logger(uL),Ia;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Ia||(Ia={}));var ko;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(ko||(ko={}));function Ule(e,t,r,n,i){return lL.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function dL(e,t,r,n,i){if(e===ko.BAD_PREFIX||e===ko.UNEXPECTED_CONTINUE){let o=0;for(let s=t+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return e===ko.OVERRUN?r.length-t-1:0}function Rle(e,t,r,n,i){return e===ko.OVERLONG?(n.push(i),0):(n.push(65533),dL(e,t,r,n,i))}var hL=Object.freeze({error:Ule,ignore:dL,replace:Rle});function pL(e,t){t==null&&(t=hL.error),e=(0,Pk.arrayify)(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=t(ko.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(ko.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(ko.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=e[n];if((u&192)!=128){n+=t(ko.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=t(ko.OUT_OF_RANGE,n-1-o,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(ko.UTF16_SURROGATE,n-1-o,e,r,a);continue}if(a<=s){n+=t(ko.OVERLONG,n-1-o,e,r,a);continue}r.push(a)}}return r}function Qn(e,t=Ia.current){t!=Ia.current&&(lL.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=e.charCodeAt(n);if(n>=e.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,Pk.arrayify)(r)}function Lle(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function yL(e,t){return Lle(pL(e,t))}function Bk(e,t=Ia.current){return pL(Qn(e,t))}function kp(e){return dr(Qn(e))}d();h();var Tp=ne(Yn());var BL=ne(Yi());d();h();var RS="hash/5.7.0";d();h();d();h();d();h();d();h();var _k=ne(Yn());function Ck(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return(0,_k.arrayify)(t)}function Kle(e){e=(0,_k.arrayify)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}d();h();function gL(e,t){t==null&&(t=1);let r=[],n=r.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):r.push(a)})};return i(e,t),r}function Vle(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}function Fle(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let L=1;L<n;L++)o.push(i+=r());let s=r(),a=t;t+=s;let c=0,u=0;function l(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}let f=31,m=Math.pow(2,f),b=m>>>1,w=b>>1,S=m-1,P=0;for(let L=0;L<f;L++)P=P<<1|l();let M=[],D=0,C=m;for(;;){let L=Math.floor(((P-D+1)*i-1)/C),W=0,G=n;for(;G-W>1;){let B=W+G>>>1;L<o[B]?G=B:W=B}if(W==0)break;M.push(W);let H=D+Math.floor(C*o[W]/i),$=D+Math.floor(C*o[W+1]/i)-1;for(;!((H^$)&b);)P=P<<1&S|l(),H=H<<1&S,$=$<<1&S|1;for(;H&~$&w;)P=P&b|P<<1&S>>>1|l(),H=H<<1^b,$=($^b)<<1|b|1;D=H,C=1+$-H}let R=n-4;return M.map(L=>{switch(L-R){case 3:return R+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return R+256+(e[a++]<<8|e[a++]);case 1:return R+e[a++];default:return L-1}})}function Hle(e){let t=0;return()=>e[t++]}function bL(e){return Hle(Fle(e))}function qle(e){return e&1?~e>>1:e>>1}function Wle(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function mL(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function jle(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=qle(t());return r}function kb(e,t){let r=mL(e(),e),n=e(),i=mL(n,e),o=Wle(n,e);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)r.push(i[s]+a);return t?r.map(s=>t[s]):r}function xL(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(Gle(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push($le(r,e))}return Vle(gL(t))}function zle(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function wL(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)jle(e,r).forEach((o,s)=>n[s].push(o));return n}function Gle(e,t){let r=1+t(),n=t(),i=zle(t),o=wL(i.length,1+e,t);return gL(o.map((s,a)=>{let c=s[0],u=s.slice(1);return Array(i[a]).fill(void 0).map((l,f)=>{let m=f*n;return[c+f*r,u.map(b=>b+m)]})}))}function $le(e,t){let r=1+t();return wL(r,1+e,t).map(i=>[i[0],i.slice(1)])}function SL(e){let t=kb(e).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=kb(e,t);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,l)=>l.set.size-u.set.size);let i=e(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:c}}}function vL(){return bL(Ck("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var LS=vL(),Yle=new Set(kb(LS)),Zle=new Set(kb(LS)),Jle=xL(LS),Xle=SL(LS),AL=45,EL=95;function IL(e){return Bk(e)}function Qle(e){return e.filter(t=>t!=65039)}function kL(e){for(let t of e.split(".")){let r=IL(t);try{for(let n=r.lastIndexOf(EL)-1;n>=0;n--)if(r[n]!==EL)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===AL&&r[3]===AL)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${t}": ${n.message}`)}}return e}function TL(e){return kL(ede(e,Qle))}function ede(e,t){let r=IL(e).reverse(),n=[];for(;r.length;){let i=rde(r);if(i){n.push(...t(i));continue}let o=r.pop();if(Yle.has(o)){n.push(o);continue}if(Zle.has(o))continue;let s=Jle[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return kL(tde(String.fromCodePoint(...n)))}function tde(e){return e.normalize("NFC")}function rde(e,t){var r;let n=Xle,i,o,s=[],a=e.length;for(t&&(t.length=0);a;){let c=e[--a];if(n=(r=n.branches.find(u=>u.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=c;else if(n.check&&c===o)break;s.push(c),n.fe0f&&(s.push(65039),a>0&&e[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return i}var nde=new BL.Logger(RS),_L=new Uint8Array(32);_L.fill(0);function PL(e){if(e.length===0)throw new Error("invalid ENS name; empty component");return e}function CL(e){let t=Qn(TL(e)),r=[];if(e.length===0)return r;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(r.push(PL(t.slice(n,i))),n=i+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(PL(t.slice(n))),r}function ide(e){typeof e!="string"&&nde.throwArgumentError("invalid ENS name; not a string","name",e);let t=_L,r=CL(e);for(;r.length;)t=dr((0,Tp.concat)([t,dr(r.pop())]));return(0,Tp.hexlify)(t)}function ode(e){return(0,Tp.hexlify)((0,Tp.concat)(CL(e).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}d();h();var ML=ne(Yn());var NL=`Ethereum Signed Message:
`;function Mk(e){return typeof e=="string"&&(e=Qn(e)),dr((0,ML.concat)([Qn(NL),Qn(String(e.length)),e]))}d();h();var cn=ne(Yn());var RL=ne(Yi());var sde=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},en=new RL.Logger(RS),LL=new Uint8Array(32);LL.fill(0);var ade=ur.from(-1),KL=ur.from(0),VL=ur.from(1),cde=ur.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ude(e){let t=(0,cn.arrayify)(e),r=t.length%32;return r?(0,cn.hexConcat)([t,LL.slice(r)]):(0,cn.hexlify)(t)}var fde=(0,cn.hexZeroPad)(VL.toHexString(),32),lde=(0,cn.hexZeroPad)(KL.toHexString(),32),OL={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Nk=["name","version","chainId","verifyingContract","salt"];function DL(e){return function(t){return typeof t!="string"&&en.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}var dde={name:DL("name"),version:DL("version"),chainId:function(e){try{return ur.from(e).toString()}catch{}return en.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return fi(e).toLowerCase()}catch{}return en.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=(0,cn.arrayify)(e);if(t.length!==32)throw new Error("bad length");return(0,cn.hexlify)(t)}catch{}return en.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Ok(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=t[1]==="",n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&en.throwArgumentError("invalid numeric width","type",e);let i=cde.mask(r?n-1:n),o=r?i.add(VL).mul(ade):KL;return function(s){let a=ur.from(s);return(a.lt(o)||a.gt(i))&&en.throwArgumentError(`value out-of-bounds for ${e}`,"value",s),(0,cn.hexZeroPad)(a.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(r===0||r>32||t[1]!==String(r))&&en.throwArgumentError("invalid bytes width","type",e),function(n){return(0,cn.arrayify)(n).length!==r&&en.throwArgumentError(`invalid length for ${e}`,"value",n),ude(n)}}}switch(e){case"address":return function(t){return(0,cn.hexZeroPad)(fi(t),32)};case"bool":return function(t){return t?fde:lde};case"bytes":return function(t){return dr(t)};case"string":return function(t){return kp(t)}}return null}function UL(e,t){return`${e}(${t.map(({name:r,type:n})=>n+" "+r).join(",")})`}var Pp=class e{constructor(t){_e(this,"types",Object.freeze(Ab(t))),_e(this,"_encoderCache",{}),_e(this,"_types",{});let r={},n={},i={};Object.keys(t).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(let a in t){let c={};t[a].forEach(u=>{c[u.name]&&en.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",t),c[u.name]=!0;let l=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&en.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",t),!Ok(l)&&(n[l]||en.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",t),n[l].push(a),r[a][l]=!0)})}let o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?en.throwArgumentError("missing primary type","types",t):o.length>1&&en.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",t),_e(this,"primaryType",o[0]);function s(a,c){c[a]&&en.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",t),c[a]=!0,Object.keys(r[a]).forEach(u=>{n[u]&&(s(u,c),Object.keys(c).forEach(l=>{i[l][u]=!0}))}),delete c[a]}s(this.primaryType,{});for(let a in i){let c=Object.keys(i[a]);c.sort(),this._types[a]=UL(a,t[a])+c.map(u=>UL(u,t[u])).join("")}}getEncoder(t){let r=this._encoderCache[t];return r||(r=this._encoderCache[t]=this._getEncoder(t)),r}_getEncoder(t){{let i=Ok(t);if(i)return i}let r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return a=>{s>=0&&a.length!==s&&en.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(o);return this._types[i]&&(c=c.map(dr)),dr((0,cn.hexConcat)(c))}}let n=this.types[t];if(n){let i=kp(this._types[t]);return o=>{let s=n.map(({name:a,type:c})=>{let u=this.getEncoder(c)(o[a]);return this._types[c]?dr(u):u});return s.unshift(i),(0,cn.hexConcat)(s)}}return en.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){let r=this._types[t];return r||en.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),r}encodeData(t,r){return this.getEncoder(t)(r)}hashStruct(t,r){return dr(this.encodeData(t,r))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,r,n){if(Ok(t))return n(t,r);let i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let s=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&en.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(s,c,n))}let o=this.types[t];return o?o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,r[a],n),s),{}):en.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,r){return this._visit(this.primaryType,t,r)}static from(t){return new e(t)}static getPrimaryType(t){return e.from(t).primaryType}static hashStruct(t,r,n){return e.from(r).hashStruct(t,n)}static hashDomain(t){let r=[];for(let n in t){let i=OL[n];i||en.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),r.push({name:n,type:i})}return r.sort((n,i)=>Nk.indexOf(n.name)-Nk.indexOf(i.name)),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}static encode(t,r,n){return(0,cn.hexConcat)(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}static hash(t,r,n){return dr(e.encode(t,r,n))}static resolveNames(t,r,n,i){return sde(this,void 0,void 0,function*(){t=Eb(t);let o={};t.verifyingContract&&!(0,cn.isHexString)(t.verifyingContract,20)&&(o[t.verifyingContract]="0x");let s=e.from(r);s.visit(n,(a,c)=>(a==="address"&&!(0,cn.isHexString)(c,20)&&(o[c]="0x"),c));for(let a in o)o[a]=yield i(a);return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:t,value:n}})}static getPayload(t,r,n){e.hashDomain(t);let i={},o=[];Nk.forEach(c=>{let u=t[c];u!=null&&(i[c]=dde[c](u),o.push({name:c,type:OL[c]}))});let s=e.from(r),a=Eb(r);return a.EIP712Domain?en.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return(0,cn.hexlify)((0,cn.arrayify)(u));if(c.match(/^u?int/))return ur.from(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&en.throwArgumentError("invalid string","value",u),u}return en.throwArgumentError("unsupported type","type",c)})}}};d();h();d();h();var Dk=ne(Yn());var KS=class{constructor(t){_e(this,"alphabet",t),_e(this,"base",t.length),_e(this,"_alphabetMap",{}),_e(this,"_leader",t.charAt(0));for(let r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}encode(t){let r=(0,Dk.arrayify)(t);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let r=[];if(t.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<t.length;n++){let i=this._alphabetMap[t[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;t[n]===this._leader&&n<t.length-1;++n)r.push(0);return(0,Dk.arrayify)(new Uint8Array(r.reverse()))}},uRe=new KS("abcdefghijklmnopqrstuvwxyz234567"),Uk=new KS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Jt=ne(Yn());d();h();d();h();var rl=ne(Yn()),Kk=ne(Lk());function ch(e,t,r,n,i){e=(0,rl.arrayify)(e),t=(0,rl.arrayify)(t);let o,s=1,a=new Uint8Array(n),c=new Uint8Array(t.length+4);c.set(t);let u,l;for(let f=1;f<=s;f++){c[t.length]=f>>24&255,c[t.length+1]=f>>16&255,c[t.length+2]=f>>8&255,c[t.length+3]=f&255;let m=(0,rl.arrayify)((0,Kk.computeHmac)(i,e,c));o||(o=m.length,l=new Uint8Array(o),s=Math.ceil(n/o),u=n-(s-1)*o),l.set(m);for(let S=1;S<r;S++){m=(0,rl.arrayify)((0,Kk.computeHmac)(i,e,m));for(let P=0;P<o;P++)l[P]^=m[P]}let b=(f-1)*o,w=f===s?u:o;a.set((0,rl.arrayify)(l).slice(0,w),b)}return(0,rl.hexlify)(a)}d();h();d();h();var pt=ne(d1()),vc=ne(PN());function Bp(e,t,r){return r={path:t,exports:{},require:function(n,i){return Ade(n,i??r.path)}},e(r,r.exports),r.exports}function Ade(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var qk=jL;function jL(e,t){if(!e)throw new Error(t||"Assertion failed")}jL.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var ka=Bp(function(e,t){"use strict";var r=t;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)c[u]=s[u]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)c.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var l=s.charCodeAt(u),f=l>>8,m=l&255;f?c.push(f,m):c.push(m)}return c}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var a="",c=0;c<s.length;c++)a+=i(s[c].toString(16));return a}r.toHex=o,r.encode=function(a,c){return c==="hex"?o(a):a}}),Zo=Bp(function(e,t){"use strict";var r=t;r.assert=qk,r.toArray=ka.toArray,r.zero2=ka.zero2,r.toHex=ka.toHex,r.encode=ka.encode;function n(c,u,l){var f=new Array(Math.max(c.bitLength(),l)+1);f.fill(0);for(var m=1<<u+1,b=c.clone(),w=0;w<f.length;w++){var S,P=b.andln(m-1);b.isOdd()?(P>(m>>1)-1?S=(m>>1)-P:S=P,b.isubn(S)):S=0,f[w]=S,b.iushrn(1)}return f}r.getNAF=n;function i(c,u){var l=[[],[]];c=c.clone(),u=u.clone();for(var f=0,m=0,b;c.cmpn(-f)>0||u.cmpn(-m)>0;){var w=c.andln(3)+f&3,S=u.andln(3)+m&3;w===3&&(w=-1),S===3&&(S=-1);var P;w&1?(b=c.andln(7)+f&7,(b===3||b===5)&&S===2?P=-w:P=w):P=0,l[0].push(P);var M;S&1?(b=u.andln(7)+m&7,(b===3||b===5)&&w===2?M=-S:M=S):M=0,l[1].push(M),2*f===P+1&&(f=1-f),2*m===M+1&&(m=1-m),c.iushrn(1),u.iushrn(1)}return l}r.getJSF=i;function o(c,u,l){var f="_"+u;c.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=l.call(this)}}r.cachedProperty=o;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function a(c){return new pt.default(c,"hex","le")}r.intFromLE=a}),WS=Zo.getNAF,Ede=Zo.getJSF,jS=Zo.assert;function il(e,t){this.type=e,this.p=new pt.default(t.p,16),this.red=t.prime?pt.default.red(t.prime):pt.default.mont(this.p),this.zero=new pt.default(0).toRed(this.red),this.one=new pt.default(1).toRed(this.red),this.two=new pt.default(2).toRed(this.red),this.n=t.n&&new pt.default(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var uh=il;il.prototype.point=function(){throw new Error("Not implemented")};il.prototype.validate=function(){throw new Error("Not implemented")};il.prototype._fixedNafMul=function(t,r){jS(t.precomputed);var n=t._getDoubles(),i=WS(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var u=a+n.step-1;u>=a;u--)c=(c<<1)+i[u];s.push(c)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),m=o;m>0;m--){for(a=0;a<s.length;a++)c=s[a],c===m?f=f.mixedAdd(n.points[a]):c===-m&&(f=f.mixedAdd(n.points[a].neg()));l=l.add(f)}return l.toP()};il.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=WS(r,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var u=0;c>=0&&s[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var l=s[c];jS(l!==0),t.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return t.type==="affine"?a.toP():a};il.prototype._wnafMulAdd=function(t,r,n,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,l,f,m;for(l=0;l<i;l++){m=r[l];var b=m._getNAFPoints(t);s[l]=b.wnd,a[l]=b.points}for(l=i-1;l>=1;l-=2){var w=l-1,S=l;if(s[w]!==1||s[S]!==1){c[w]=WS(n[w],s[w],this._bitLength),c[S]=WS(n[S],s[S],this._bitLength),u=Math.max(c[w].length,u),u=Math.max(c[S].length,u);continue}var P=[r[w],null,null,r[S]];r[w].y.cmp(r[S].y)===0?(P[1]=r[w].add(r[S]),P[2]=r[w].toJ().mixedAdd(r[S].neg())):r[w].y.cmp(r[S].y.redNeg())===0?(P[1]=r[w].toJ().mixedAdd(r[S]),P[2]=r[w].add(r[S].neg())):(P[1]=r[w].toJ().mixedAdd(r[S]),P[2]=r[w].toJ().mixedAdd(r[S].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],D=Ede(n[w],n[S]);for(u=Math.max(D[0].length,u),c[w]=new Array(u),c[S]=new Array(u),f=0;f<u;f++){var C=D[0][f]|0,R=D[1][f]|0;c[w][f]=M[(C+1)*3+(R+1)],c[S][f]=0,a[w]=P}}var L=this.jpoint(null,null,null),W=this._wnafT4;for(l=u;l>=0;l--){for(var G=0;l>=0;){var H=!0;for(f=0;f<i;f++)W[f]=c[f][l]|0,W[f]!==0&&(H=!1);if(!H)break;G++,l--}if(l>=0&&G++,L=L.dblp(G),l<0)break;for(f=0;f<i;f++){var $=W[f];$!==0&&($>0?m=a[f][$-1>>1]:$<0&&(m=a[f][-$-1>>1].neg()),m.type==="affine"?L=L.mixedAdd(m):L=L.add(m))}}for(l=0;l<i;l++)a[l]=null;return o?L:L.toP()};function Bs(e,t){this.curve=e,this.type=t,this.precomputed=null}il.BasePoint=Bs;Bs.prototype.eq=function(){throw new Error("Not implemented")};Bs.prototype.validate=function(){return this.curve.validate(this)};il.prototype.decodePoint=function(t,r){t=Zo.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?jS(t[t.length-1]%2===0):t[0]===7&&jS(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Bs.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Bs.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Bs.prototype.encode=function(t,r){return Zo.encode(this._encode(r),t)};Bs.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Bs.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Bs.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}};Bs.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:t,points:r}};Bs.prototype._getBeta=function(){return null};Bs.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var Wk=Bp(function(e){typeof Object.create=="function"?e.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Ide=Zo.assert;function _s(e){uh.call(this,"short",e),this.a=new pt.default(e.a,16).toRed(this.red),this.b=new pt.default(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Wk(_s,uh);var kde=_s;_s.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new pt.default(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new pt.default(t.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],Ide(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(a){return{a:new pt.default(a.a,16),b:new pt.default(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};_s.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:pt.default.mont(t),n=new pt.default(2).toRed(r).redInvm(),i=n.redNeg(),o=new pt.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};_s.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),o=new pt.default(1),s=new pt.default(0),a=new pt.default(0),c=new pt.default(1),u,l,f,m,b,w,S,P=0,M,D;n.cmpn(0)!==0;){var C=i.div(n);M=i.sub(C.mul(n)),D=a.sub(C.mul(o));var R=c.sub(C.mul(s));if(!f&&M.cmp(r)<0)u=S.neg(),l=o,f=M.neg(),m=D;else if(f&&++P===2)break;S=M,i=n,n=M,a=o,o=D,c=s,s=R}b=M.neg(),w=D;var L=f.sqr().add(m.sqr()),W=b.sqr().add(w.sqr());return W.cmp(L)>=0&&(b=u,w=l),f.negative&&(f=f.neg(),m=m.neg()),b.negative&&(b=b.neg(),w=w.neg()),[{a:f,b:m},{a:b,b:w}]};_s.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),a=o.mul(n.a),c=s.mul(i.a),u=o.mul(n.b),l=s.mul(i.b),f=t.sub(a).sub(c),m=u.add(l).neg();return{k1:f,k2:m}};_s.prototype.pointFromX=function(t,r){t=new pt.default(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(t,i)};_s.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};_s.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<t.length;s++){var a=this._endoSplit(r[s]),c=t[s],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[s*2]=c,i[s*2+1]=u,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),f=0;f<s*2;f++)i[f]=null,o[f]=null;return l};function ei(e,t,r,n){uh.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new pt.default(t,16),this.y=new pt.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Wk(ei,uh.BasePoint);_s.prototype.point=function(t,r,n){return new ei(this,t,r,n)};_s.prototype.pointFromJSON=function(t,r){return ei.fromJSON(this,t,r)};ei.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ei.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function o(a){return t.point(a[0],a[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ei.prototype.isInfinity=function(){return this.inf};ei.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ei.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};ei.prototype.getX=function(){return this.x.fromRed()};ei.prototype.getY=function(){return this.y.fromRed()};ei.prototype.mul=function(t){return t=new pt.default(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};ei.prototype.mulAdd=function(t,r,n){var i=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};ei.prototype.jmulAdd=function(t,r,n){var i=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};ei.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};ei.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function yi(e,t,r,n){uh.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new pt.default(0)):(this.x=new pt.default(t,16),this.y=new pt.default(r,16),this.z=new pt.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Wk(yi,uh.BasePoint);_s.prototype.jpoint=function(t,r,n){return new yi(this,t,r,n)};yi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};yi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yi.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),c=i.redSub(o),u=s.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),f=l.redMul(c),m=i.redMul(l),b=u.redSqr().redIAdd(f).redISub(m).redISub(m),w=u.redMul(m.redISub(b)).redISub(s.redMul(f)),S=this.z.redMul(t.z).redMul(c);return this.curve.jpoint(b,w,S)};yi.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),o=this.y,s=t.y.redMul(r).redMul(this.z),a=n.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=n.redMul(u),m=c.redSqr().redIAdd(l).redISub(f).redISub(f),b=c.redMul(f.redISub(m)).redISub(o.redMul(l)),w=this.z.redMul(a);return this.curve.jpoint(m,b,w)};yi.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<t;r++){var f=s.redSqr(),m=l.redSqr(),b=m.redSqr(),w=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(u)),S=s.redMul(m),P=w.redSqr().redISub(S.redAdd(S)),M=S.redISub(P),D=w.redMul(M);D=D.redIAdd(D).redISub(b);var C=l.redMul(c);r+1<t&&(u=u.redMul(b)),s=P,c=C,l=D}return this.curve.jpoint(s,l.redMul(o),c)};yi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yi.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),u=c.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),t=u,r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),m=this.y.redSqr(),b=m.redSqr(),w=this.x.redAdd(m).redSqr().redISub(f).redISub(b);w=w.redIAdd(w);var S=f.redAdd(f).redIAdd(f),P=S.redSqr(),M=b.redIAdd(b);M=M.redIAdd(M),M=M.redIAdd(M),t=P.redISub(w).redISub(w),r=S.redMul(w.redISub(t)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};yi.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);t=u;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),m=this.y.redSqr(),b=this.x.redMul(m),w=this.x.redSub(f).redMul(this.x.redAdd(f));w=w.redAdd(w).redIAdd(w);var S=b.redIAdd(b);S=S.redIAdd(S);var P=S.redAdd(S);t=w.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(f);var M=m.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),r=w.redMul(S.redISub(t)).redISub(M)}return this.curve.jpoint(t,r,n)};yi.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(o)),u=r.redAdd(r);u=u.redIAdd(u);var l=u.redMul(a),f=c.redSqr().redISub(l.redAdd(l)),m=l.redISub(f),b=a.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var w=c.redMul(m).redISub(b),S=n.redAdd(n).redMul(i);return this.curve.jpoint(f,w,S)};yi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=t.redAdd(t).redIAdd(t),s=o.redSqr(),a=this.x.redAdd(r).redSqr().redISub(t).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var l=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(u),f=r.redMul(l);f=f.redIAdd(f),f=f.redIAdd(f);var m=this.x.redMul(c).redISub(f);m=m.redIAdd(m),m=m.redIAdd(m);var b=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(c)));b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var w=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(m,b,w)};yi.prototype.mul=function(t,r){return t=new pt.default(t,r),this.curve._wnafMul(this,t)};yi.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(t.z);return this.y.redMul(o).redISub(t.y.redMul(i)).cmpn(0)===0};yi.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};yi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var HS=Bp(function(e,t){"use strict";var r=t;r.base=uh,r.short=kde,r.mont=null,r.edwards=null}),qS=Bp(function(e,t){"use strict";var r=t,n=Zo.assert;function i(a){a.type==="short"?this.curve=new HS.short(a):a.type==="edwards"?this.curve=new HS.edwards(a):this.curve=new HS.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vc.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vc.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vc.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vc.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vc.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vc.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vc.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vc.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function nl(e){if(!(this instanceof nl))return new nl(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ka.toArray(e.entropy,e.entropyEnc||"hex"),r=ka.toArray(e.nonce,e.nonceEnc||"hex"),n=ka.toArray(e.pers,e.persEnc||"hex");qk(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var zL=nl;nl.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};nl.prototype._hmac=function(){return new vc.default.hmac(this.hash,this.K)};nl.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};nl.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=ka.toArray(t,r),n=ka.toArray(n,i),qk(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};nl.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ka.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(n),this._reseed++,ka.encode(s,r)};var Hk=Zo.assert;function Ui(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var jk=Ui;Ui.fromPublic=function(t,r,n){return r instanceof Ui?r:new Ui(t,{pub:r,pubEnc:n})};Ui.fromPrivate=function(t,r,n){return r instanceof Ui?r:new Ui(t,{priv:r,privEnc:n})};Ui.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ui.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Ui.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Ui.prototype._importPrivate=function(t,r){this.priv=new pt.default(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ui.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?Hk(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Hk(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Ui.prototype.derive=function(t){return t.validate()||Hk(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Ui.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Ui.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Ui.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Tde=Zo.assert;function zS(e,t){if(e instanceof zS)return e;this._importDER(e,t)||(Tde(e.r&&e.s,"Signature without r or s"),this.r=new pt.default(e.r,16),this.s=new pt.default(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var GS=zS;function Pde(){this.place=0}function Vk(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function WL(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}zS.prototype._importDER=function(t,r){t=Zo.toArray(t,r);var n=new Pde;if(t[n.place++]!==48)return!1;var i=Vk(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var o=Vk(t,n);if(o===!1)return!1;var s=t.slice(n.place,o+n.place);if(n.place+=o,t[n.place++]!==2)return!1;var a=Vk(t,n);if(a===!1||t.length!==a+n.place)return!1;var c=t.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new pt.default(s),this.s=new pt.default(c),this.recoveryParam=null,!0};function Fk(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}zS.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=WL(r),n=WL(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Fk(i,r.length),i=i.concat(r),i.push(2),Fk(i,n.length);var o=i.concat(n),s=[48];return Fk(s,o.length),s=s.concat(o),Zo.encode(s,t)};var Bde=function(){throw new Error("unsupported")},GL=Zo.assert;function Ps(e){if(!(this instanceof Ps))return new Ps(e);typeof e=="string"&&(GL(Object.prototype.hasOwnProperty.call(qS,e),"Unknown curve "+e),e=qS[e]),e instanceof qS.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var _de=Ps;Ps.prototype.keyPair=function(t){return new jk(this,t)};Ps.prototype.keyFromPrivate=function(t,r){return jk.fromPrivate(this,t,r)};Ps.prototype.keyFromPublic=function(t,r){return jk.fromPublic(this,t,r)};Ps.prototype.genKeyPair=function(t){t||(t={});for(var r=new zL({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Bde(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new pt.default(2));;){var o=new pt.default(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Ps.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Ps.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new pt.default(t,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),a=t.toArray("be",o),c=new zL({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new pt.default(1)),l=0;;l++){var f=i.k?i.k(l):new pt.default(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var m=this.g.mul(f);if(!m.isInfinity()){var b=m.getX(),w=b.umod(this.n);if(w.cmpn(0)!==0){var S=f.invm(this.n).mul(w.mul(r.getPrivate()).iadd(t));if(S=S.umod(this.n),S.cmpn(0)!==0){var P=(m.getY().isOdd()?1:0)|(b.cmp(w)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),P^=1),new GS({r:w,s:S,recoveryParam:P})}}}}}};Ps.prototype.verify=function(t,r,n,i){t=this._truncateToN(new pt.default(t,16)),n=this.keyFromPublic(n,i),r=new GS(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(t).umod(this.n),u=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};Ps.prototype.recoverPubKey=function(e,t,r,n){GL((3&r)===r,"The recovery param is more than two bits"),t=new GS(t,n);var i=this.n,o=new pt.default(e),s=t.r,a=t.s,c=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=t.r.invm(i),f=i.sub(o).mul(l).umod(i),m=a.mul(l).umod(i);return this.g.mulAdd(f,s,m)};Ps.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new GS(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Cde=Bp(function(e,t){"use strict";var r=t;r.version="6.5.4",r.utils=Zo,r.rand=function(){throw new Error("unsupported")},r.curve=HS,r.curves=qS,r.ec=_de,r.eddsa=null}),$L=Cde.ec;var Nr=ne(Yn());var ZL=ne(Yi());d();h();var YL="signing-key/5.7.0";var Gk=new ZL.Logger(YL),zk=null;function Ac(){return zk||(zk=new $L("secp256k1")),zk}var Cs=class{constructor(t){_e(this,"curve","secp256k1"),_e(this,"privateKey",(0,Nr.hexlify)(t)),(0,Nr.hexDataLength)(this.privateKey)!==32&&Gk.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Ac().keyFromPrivate((0,Nr.arrayify)(this.privateKey));_e(this,"publicKey","0x"+r.getPublic(!1,"hex")),_e(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),_e(this,"_isSigningKey",!0)}_addPoint(t){let r=Ac().keyFromPublic((0,Nr.arrayify)(this.publicKey)),n=Ac().keyFromPublic((0,Nr.arrayify)(t));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){let r=Ac().keyFromPrivate((0,Nr.arrayify)(this.privateKey)),n=(0,Nr.arrayify)(t);n.length!==32&&Gk.throwArgumentError("bad digest length","digest",t);let i=r.sign(n,{canonical:!0});return(0,Nr.splitSignature)({recoveryParam:i.recoveryParam,r:(0,Nr.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,Nr.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(t){let r=Ac().keyFromPrivate((0,Nr.arrayify)(this.privateKey)),n=Ac().keyFromPublic((0,Nr.arrayify)($k(t)));return(0,Nr.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}};function JL(e,t){let r=(0,Nr.splitSignature)(t),n={r:(0,Nr.arrayify)(r.r),s:(0,Nr.arrayify)(r.s)};return"0x"+Ac().recoverPubKey((0,Nr.arrayify)(e),n,r.recoveryParam).encode("hex",!1)}function $k(e,t){let r=(0,Nr.arrayify)(e);if(r.length===32){let n=new Cs(r);return t?"0x"+Ac().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return t?(0,Nr.hexlify)(r):"0x"+Ac().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return t?"0x"+Ac().keyFromPublic(r).getPublic(!0,"hex"):(0,Nr.hexlify)(r)}return Gk.throwArgumentError("invalid public or private key","key","[REDACTED]")}var To=ne(Lk());d();h();var ht=ne(Yn());var $S=ne(Yi());d();h();var XL="transactions/5.7.0";var Li=new $S.Logger(XL),QL;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(QL||(QL={}));function Zk(e){return e==="0x"?null:fi(e)}function Ri(e){return e==="0x"?Tk:ur.from(e)}var Mde=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Nde={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Ec(e){let t=$k(e);return fi((0,ht.hexDataSlice)(dr((0,ht.hexDataSlice)(t,1)),12))}function Jk(e,t){return Ec(JL((0,ht.arrayify)(e),t))}function Jo(e,t){let r=(0,ht.stripZeros)(ur.from(e).toHexString());return r.length>32&&Li.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function Yk(e,t){return{address:fi(e),storageKeys:(t||[]).map((r,n)=>((0,ht.hexDataLength)(r)!==32&&Li.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,r),r.toLowerCase()))}}function Xk(e){if(Array.isArray(e))return e.map((r,n)=>Array.isArray(r)?(r.length>2&&Li.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Yk(r[0],r[1])):Yk(r.address,r.storageKeys));let t=Object.keys(e).map(r=>{let n=e[r].reduce((i,o)=>(i[o]=!0,i),{});return Yk(r,Object.keys(n).sort())});return t.sort((r,n)=>r.address.localeCompare(n.address)),t}function eK(e){return Xk(e).map(t=>[t.address,t.storageKeys])}function tK(e,t){if(e.gasPrice!=null){let n=ur.from(e.gasPrice),i=ur.from(e.maxFeePerGas||0);n.eq(i)||Li.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[Jo(e.chainId||0,"chainId"),Jo(e.nonce||0,"nonce"),Jo(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jo(e.maxFeePerGas||0,"maxFeePerGas"),Jo(e.gasLimit||0,"gasLimit"),e.to!=null?fi(e.to):"0x",Jo(e.value||0,"value"),e.data||"0x",eK(e.accessList||[])];if(t){let n=(0,ht.splitSignature)(t);r.push(Jo(n.recoveryParam,"recoveryParam")),r.push((0,ht.stripZeros)(n.r)),r.push((0,ht.stripZeros)(n.s))}return(0,ht.hexConcat)(["0x02",D0(r)])}function rK(e,t){let r=[Jo(e.chainId||0,"chainId"),Jo(e.nonce||0,"nonce"),Jo(e.gasPrice||0,"gasPrice"),Jo(e.gasLimit||0,"gasLimit"),e.to!=null?fi(e.to):"0x",Jo(e.value||0,"value"),e.data||"0x",eK(e.accessList||[])];if(t){let n=(0,ht.splitSignature)(t);r.push(Jo(n.recoveryParam,"recoveryParam")),r.push((0,ht.stripZeros)(n.r)),r.push((0,ht.stripZeros)(n.s))}return(0,ht.hexConcat)(["0x01",D0(r)])}function Ode(e,t){rL(e,Nde);let r=[];Mde.forEach(function(s){let a=e[s.name]||[],c={};s.numeric&&(c.hexPad="left"),a=(0,ht.arrayify)((0,ht.hexlify)(a,c)),s.length&&a.length!==s.length&&a.length>0&&Li.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=(0,ht.stripZeros)(a),a.length>s.maxLength&&Li.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),r.push((0,ht.hexlify)(a))});let n=0;if(e.chainId!=null?(n=e.chainId,typeof n!="number"&&Li.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!(0,ht.isBytesLike)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),n!==0&&(r.push((0,ht.hexlify)(n)),r.push("0x"),r.push("0x")),!t)return D0(r);let i=(0,ht.splitSignature)(t),o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&Li.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&Li.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,ht.hexlify)(o)),r.push((0,ht.stripZeros)((0,ht.arrayify)(i.r))),r.push((0,ht.stripZeros)((0,ht.arrayify)(i.s))),D0(r)}function Qk(e,t){if(e.type==null||e.type===0)return e.accessList!=null&&Li.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),Ode(e,t);switch(e.type){case 1:return rK(e,t);case 2:return tK(e,t);default:break}return Li.throwError(`unsupported transaction type: ${e.type}`,$S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function nK(e,t,r){try{let n=Ri(t[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");e.v=n}catch{Li.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,ht.hexZeroPad)(t[1],32),e.s=(0,ht.hexZeroPad)(t[2],32);try{let n=dr(r(e));e.from=Jk(n,{r:e.r,s:e.s,recoveryParam:e.v})}catch{}}function Dde(e){let t=h1(e.slice(1));t.length!==9&&t.length!==12&&Li.throwArgumentError("invalid component count for transaction type: 2","payload",(0,ht.hexlify)(e));let r=Ri(t[2]),n=Ri(t[3]),i={type:2,chainId:Ri(t[0]).toNumber(),nonce:Ri(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ri(t[4]),to:Zk(t[5]),value:Ri(t[6]),data:t[7],accessList:Xk(t[8])};return t.length===9||(i.hash=dr(e),nK(i,t.slice(9),tK)),i}function Ude(e){let t=h1(e.slice(1));t.length!==8&&t.length!==11&&Li.throwArgumentError("invalid component count for transaction type: 1","payload",(0,ht.hexlify)(e));let r={type:1,chainId:Ri(t[0]).toNumber(),nonce:Ri(t[1]).toNumber(),gasPrice:Ri(t[2]),gasLimit:Ri(t[3]),to:Zk(t[4]),value:Ri(t[5]),data:t[6],accessList:Xk(t[7])};return t.length===8||(r.hash=dr(e),nK(r,t.slice(8),rK)),r}function Rde(e){let t=h1(e);t.length!==9&&t.length!==6&&Li.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:Ri(t[0]).toNumber(),gasPrice:Ri(t[1]),gasLimit:Ri(t[2]),to:Zk(t[3]),value:Ri(t[4]),data:t[5],chainId:0};if(t.length===6)return r;try{r.v=ur.from(t[6]).toNumber()}catch{return r}if(r.r=(0,ht.hexZeroPad)(t[7],32),r.s=(0,ht.hexZeroPad)(t[8],32),ur.from(r.r).isZero()&&ur.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);r.chainId!==0&&(i.push((0,ht.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let o=dr(D0(i));try{r.from=Jk(o,{r:(0,ht.hexlify)(r.r),s:(0,ht.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=dr(e)}return r.type=null,r}function tLe(e){let t=(0,ht.arrayify)(e);if(t[0]>127)return Rde(t);switch(t[0]){case 1:return Ude(t);case 2:return Dde(t);default:break}return Li.throwError(`unsupported transaction type: ${t[0]}`,$S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}d();h();d();h();var oK=ne(Yi());d();h();var iK="wordlists/5.7.0";var Lde=!1,Kde=new oK.Logger(iK),_p=class e{constructor(t){Kde.checkAbstract(new.target,e),_e(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){let r=[];for(let n=0;n<2048;n++){let i=t.getWord(n);if(n!==t.getWordIndex(i))return"0x";r.push(i)}return kp(r.join(`
`)+`
`)}static register(t,r){if(r||(r=t.locale),Lde)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||_e(n._ethers.wordlists,r,t))}catch{}}};d();h();d();h();var Vde="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",_b=null;function sK(e){if(_b==null&&(_b=Vde.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),_p.check(e)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw _b=null,new Error("BIP39 Wordlist for en (English) FAILED")}var eT=class extends _p{constructor(){super("en")}getWord(t){return sK(this),_b[t]}getWordIndex(t){return sK(this),_b.indexOf(t)}},tT=new eT;_p.register(tT);var YS={en:tT};var uK=ne(Yi());d();h();var aK="hdnode/5.7.0";var JS=new uK.Logger(aK),Fde=ur.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hde=Qn("Bitcoin seed"),Cb=2147483648;function fK(e){return(1<<e)-1<<8-e}function qde(e){return(1<<e)-1}function ZS(e){return(0,Jt.hexZeroPad)((0,Jt.hexlify)(e),32)}function cK(e){return Uk.encode((0,Jt.concat)([e,(0,Jt.hexDataSlice)((0,To.sha256)((0,To.sha256)(e)),0,4)]))}function rT(e){if(e==null)return YS.en;if(typeof e=="string"){let t=YS[e];return t==null&&JS.throwArgumentError("unknown locale","wordlist",e),t}return e}var Cp={},fh="m/44'/60'/0'/0/0",ol=class e{constructor(t,r,n,i,o,s,a,c){if(t!==Cp)throw new Error("HDNode constructor cannot be called directly");if(r){let u=new Cs(r);_e(this,"privateKey",u.privateKey),_e(this,"publicKey",u.compressedPublicKey)}else _e(this,"privateKey",null),_e(this,"publicKey",(0,Jt.hexlify)(n));_e(this,"parentFingerprint",i),_e(this,"fingerprint",(0,Jt.hexDataSlice)((0,To.ripemd160)((0,To.sha256)(this.publicKey)),0,4)),_e(this,"address",Ec(this.publicKey)),_e(this,"chainCode",o),_e(this,"index",s),_e(this,"depth",a),c==null?(_e(this,"mnemonic",null),_e(this,"path",null)):typeof c=="string"?(_e(this,"mnemonic",null),_e(this,"path",c)):(_e(this,"mnemonic",c),_e(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return cK((0,Jt.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,Jt.hexlify)(this.depth),this.parentFingerprint,(0,Jt.hexZeroPad)((0,Jt.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,Jt.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new e(Cp,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let r=this.path;r&&(r+="/"+(t&~Cb));let n=new Uint8Array(37);if(t&Cb){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,Jt.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,Jt.arrayify)(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=t>>24-f&255;let i=(0,Jt.arrayify)((0,To.computeHmac)(To.SupportedAlgorithm.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32),a=null,c=null;this.privateKey?a=ZS(ur.from(o).add(this.privateKey).mod(Fde)):c=new Cs((0,Jt.hexlify)(o))._addPoint(this.publicKey);let u=r,l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new e(Cp,a,c,this.fingerprint,ZS(s),t,this.depth+1,u)}derivePath(t){let r=t.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+t);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));if(s>=Cb)throw new Error("invalid path index - "+o);n=n._derive(Cb+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);if(s>=Cb)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(t,r){let n=(0,Jt.arrayify)(t);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,Jt.arrayify)((0,To.computeHmac)(To.SupportedAlgorithm.sha512,Hde,n));return new e(Cp,ZS(i.slice(0,32)),null,"0x00000000",ZS(i.slice(32)),0,0,r)}static fromMnemonic(t,r,n){return n=rT(n),t=Mb(nT(t,n),n),e._fromSeed(Wde(t,r),{phrase:t,path:"m",locale:n.locale})}static fromSeed(t){return e._fromSeed(t,null)}static fromExtendedKey(t){let r=Uk.decode(t);(r.length!==82||cK(r.slice(0,78))!==t)&&JS.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,Jt.hexlify)(r.slice(5,9)),o=parseInt((0,Jt.hexlify)(r.slice(9,13)).substring(2),16),s=(0,Jt.hexlify)(r.slice(13,45)),a=r.slice(45,78);switch((0,Jt.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(Cp,null,(0,Jt.hexlify)(a),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new e(Cp,(0,Jt.hexlify)(a.slice(1)),null,i,s,o,n,null)}return JS.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function Wde(e,t){t||(t="");let r=Qn("mnemonic"+t,Ia.NFKD);return ch(Qn(e,Ia.NFKD),r,2048,64,"sha512")}function nT(e,t){t=rT(t),JS.checkNormalize();let r=t.split(e);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,Jt.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let u=0;u<r.length;u++){let l=t.getWordIndex(r[u].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)l&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,a=fK(s);if(((0,Jt.arrayify)((0,To.sha256)(n.slice(0,o/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return(0,Jt.hexlify)(n.slice(0,o/8))}function Mb(e,t){if(t=rT(t),e=(0,Jt.arrayify)(e),e.length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<e.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[s]>>8-n,r.push(e[s]&qde(8-n)),n+=3);let i=e.length/4,o=(0,Jt.arrayify)((0,To.sha256)(e))[0]&fK(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,t.join(r.map(s=>t.getWord(s)))}d();h();d();h();var hK=ne(Yn()),oT=ne(Yi());d();h();var lK="random/5.7.0";var iT=new oT.Logger(lK);function jde(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var dK=jde(),XS=dK.crypto||dK.msCrypto;(!XS||!XS.getRandomValues)&&(iT.warn("WARNING: Missing strong random number source"),XS={getRandomValues:function(e){return iT.throwError("no secure random source avaialble",oT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function sl(e){(e<=0||e>1024||e%1||e!=e)&&iT.throwArgumentError("invalid length","length",e);let t=new Uint8Array(e);return XS.getRandomValues(t),(0,hK.arrayify)(t)}d();h();d();h();var cT=ne(aT());var uT=ne(Yn());var mK=ne(Yi());d();h();var QS="json-wallets/5.7.0";d();h();var Mp=ne(Yn());function _u(e){return typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),(0,Mp.arrayify)(e)}function Np(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function Nb(e){return typeof e=="string"?Qn(e,Ia.NFKC):(0,Mp.arrayify)(e)}function tn(e,t){let r=e,n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function yK(e){let t=(0,Mp.arrayify)(e);t[6]=t[6]&15|64,t[8]=t[8]&63|128;let r=(0,Mp.hexlify)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var zde=new mK.Logger(QS),fT=class extends tl{isCrowdsaleAccount(t){return!!(t&&t._isCrowdsaleAccount)}};function lT(e,t){let r=JSON.parse(e);t=Nb(t);let n=fi(tn(r,"ethaddr")),i=_u(tn(r,"encseed"));(!i||i.length%16!==0)&&zde.throwArgumentError("invalid encseed","json",e);let o=(0,uT.arrayify)(ch(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),c=new cT.default.ModeOfOperation.cbc(o,s),u=cT.default.padding.pkcs7.strip((0,uT.arrayify)(c.decrypt(a))),l="";for(let b=0;b<u.length;b++)l+=String.fromCharCode(u[b]);let f=Qn(l),m=dr(f);return new fT({_isCrowdsaleAccount:!0,address:n,privateKey:m})}d();h();function dT(e){let t=null;try{t=JSON.parse(e)}catch{return!1}return t.encseed&&t.ethaddr}function hT(e){let t=null;try{t=JSON.parse(e)}catch{return!1}return!(!t.version||parseInt(t.version)!==t.version||parseInt(t.version)!==3)}d();h();var Cu=ne(aT()),tv=ne(bK());var rn=ne(Yn());var ev=ne(Yi());var Gde=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},yT=new ev.Logger(QS);function xK(e){return e!=null&&e.mnemonic&&e.mnemonic.phrase}var mT=class extends tl{isKeystoreAccount(t){return!!(t&&t._isKeystoreAccount)}};function $de(e,t,r){if(tn(e,"crypto/cipher")==="aes-128-ctr"){let i=_u(tn(e,"crypto/cipherparams/iv")),o=new Cu.default.Counter(i),s=new Cu.default.ModeOfOperation.ctr(t,o);return(0,rn.arrayify)(s.decrypt(r))}return null}function wK(e,t){let r=_u(tn(e,"crypto/ciphertext"));if((0,rn.hexlify)(dr((0,rn.concat)([t.slice(16,32),r]))).substring(2)!==tn(e,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=$de(e,t.slice(0,16),r);i||yT.throwError("unsupported cipher",ev.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let o=t.slice(32,64),s=Ec(i);if(e.address){let c=e.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),fi(c)!==s)throw new Error("address mismatch")}let a={_isKeystoreAccount:!0,address:s,privateKey:(0,rn.hexlify)(i)};if(tn(e,"x-ethers/version")==="0.1"){let c=_u(tn(e,"x-ethers/mnemonicCiphertext")),u=_u(tn(e,"x-ethers/mnemonicCounter")),l=new Cu.default.Counter(u),f=new Cu.default.ModeOfOperation.ctr(o,l),m=tn(e,"x-ethers/path")||fh,b=tn(e,"x-ethers/locale")||"en",w=(0,rn.arrayify)(f.decrypt(c));try{let S=Mb(w,b),P=ol.fromMnemonic(S,null,b).derivePath(m);if(P.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=P.mnemonic}catch(S){if(S.code!==ev.Logger.errors.INVALID_ARGUMENT||S.argument!=="wordlist")throw S}}return new mT(a)}function SK(e,t,r,n,i){return(0,rn.arrayify)(ch(e,t,r,n,i))}function Yde(e,t,r,n,i){return Promise.resolve(SK(e,t,r,n,i))}function vK(e,t,r,n,i){let o=Nb(t),s=tn(e,"crypto/kdf");if(s&&typeof s=="string"){let a=function(c,u){return yT.throwArgumentError("invalid key-derivation function parameters",c,u)};if(s.toLowerCase()==="scrypt"){let c=_u(tn(e,"crypto/kdfparams/salt")),u=parseInt(tn(e,"crypto/kdfparams/n")),l=parseInt(tn(e,"crypto/kdfparams/r")),f=parseInt(tn(e,"crypto/kdfparams/p"));(!u||!l||!f)&&a("kdf",s),u&u-1&&a("N",u);let m=parseInt(tn(e,"crypto/kdfparams/dklen"));return m!==32&&a("dklen",m),n(o,c,u,l,f,64,i)}else if(s.toLowerCase()==="pbkdf2"){let c=_u(tn(e,"crypto/kdfparams/salt")),u=null,l=tn(e,"crypto/kdfparams/prf");l==="hmac-sha256"?u="sha256":l==="hmac-sha512"?u="sha512":a("prf",l);let f=parseInt(tn(e,"crypto/kdfparams/c")),m=parseInt(tn(e,"crypto/kdfparams/dklen"));return m!==32&&a("dklen",m),r(o,c,f,m,u)}}return yT.throwArgumentError("unsupported key-derivation function","kdf",s)}function AK(e,t){let r=JSON.parse(e),n=vK(r,t,SK,tv.default.syncScrypt);return wK(r,n)}function EK(e,t,r){return Gde(this,void 0,void 0,function*(){let n=JSON.parse(e),i=yield vK(n,t,Yde,tv.default.scrypt,r);return wK(n,i)})}function gT(e,t,r,n){try{if(fi(e.address)!==Ec(e.privateKey))throw new Error("address/privateKey mismatch");if(xK(e)){let P=e.mnemonic;if(ol.fromMnemonic(P.phrase,null,P.locale).derivePath(P.path||fh).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(P){return Promise.reject(P)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,rn.arrayify)(e.privateKey),o=Nb(t),s=null,a=null,c=null;if(xK(e)){let P=e.mnemonic;s=(0,rn.arrayify)(nT(P.phrase,P.locale||"en")),a=P.path||fh,c=P.locale||"en"}let u=r.client;u||(u="ethers.js");let l=null;r.salt?l=(0,rn.arrayify)(r.salt):l=sl(32);let f=null;if(r.iv){if(f=(0,rn.arrayify)(r.iv),f.length!==16)throw new Error("invalid iv")}else f=sl(16);let m=null;if(r.uuid){if(m=(0,rn.arrayify)(r.uuid),m.length!==16)throw new Error("invalid uuid")}else m=sl(16);let b=1<<17,w=8,S=1;return r.scrypt&&(r.scrypt.N&&(b=r.scrypt.N),r.scrypt.r&&(w=r.scrypt.r),r.scrypt.p&&(S=r.scrypt.p)),tv.default.scrypt(o,l,b,w,S,64,n).then(P=>{P=(0,rn.arrayify)(P);let M=P.slice(0,16),D=P.slice(16,32),C=P.slice(32,64),R=new Cu.default.Counter(f),L=new Cu.default.ModeOfOperation.ctr(M,R),W=(0,rn.arrayify)(L.encrypt(i)),G=dr((0,rn.concat)([D,W])),H={address:e.address.substring(2).toLowerCase(),id:yK(m),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,rn.hexlify)(f).substring(2)},ciphertext:(0,rn.hexlify)(W).substring(2),kdf:"scrypt",kdfparams:{salt:(0,rn.hexlify)(l).substring(2),n:b,dklen:32,p:S,r:w},mac:G.substring(2)}};if(s){let $=sl(16),B=new Cu.default.Counter($),p=new Cu.default.ModeOfOperation.ctr(C,B),g=(0,rn.arrayify)(p.encrypt(s)),x=new Date,A=x.getUTCFullYear()+"-"+Np(x.getUTCMonth()+1,2)+"-"+Np(x.getUTCDate(),2)+"T"+Np(x.getUTCHours(),2)+"-"+Np(x.getUTCMinutes(),2)+"-"+Np(x.getUTCSeconds(),2)+".0Z";H["x-ethers"]={client:u,gethFilename:"UTC--"+A+"--"+H.address,mnemonicCounter:(0,rn.hexlify)($).substring(2),mnemonicCiphertext:(0,rn.hexlify)(g).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(H)})}function IK(e,t,r){if(dT(e)){r&&r(0);let n=lT(e,t);return r&&r(1),Promise.resolve(n)}return hT(e)?EK(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function kK(e,t){if(dT(e))return lT(e,t);if(hT(e))return AK(e,t);throw new Error("invalid JSON wallet")}var bT=ne(Yi());d();h();var TK="wallet/5.7.0";var PK=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(f){s(f)}}function c(l){try{u(n.throw(l))}catch(f){s(f)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Op=new bT.Logger(TK);function Zde(e){return e!=null&&(0,Ta.isHexString)(e.privateKey,32)&&e.address!=null}function Jde(e){let t=e.mnemonic;return t&&t.phrase}var Dp=class e extends Ib{constructor(t,r){if(super(),Zde(t)){let n=new Cs(t.privateKey);if(_e(this,"_signingKey",()=>n),_e(this,"address",Ec(this.publicKey)),this.address!==fi(t.address)&&Op.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Jde(t)){let i=t.mnemonic;_e(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||fh,locale:i.locale||"en"}));let o=this.mnemonic,s=ol.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Ec(s.privateKey)!==this.address&&Op.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else _e(this,"_mnemonic",()=>null)}else{if(Cs.isSigningKey(t))t.curve!=="secp256k1"&&Op.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),_e(this,"_signingKey",()=>t);else{typeof t=="string"&&t.match(/^[0-9a-f]*$/i)&&t.length===64&&(t="0x"+t);let n=new Cs(t);_e(this,"_signingKey",()=>n)}_e(this,"_mnemonic",()=>null),_e(this,"address",Ec(this.publicKey))}r&&!US.isProvider(r)&&Op.throwArgumentError("invalid provider","provider",r),_e(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(t){return new e(this,t)}signTransaction(t){return Bu(t).then(r=>{r.from!=null&&(fi(r.from)!==this.address&&Op.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete r.from);let n=this._signingKey().signDigest(dr(Qk(r)));return Qk(r,n)})}signMessage(t){return PK(this,void 0,void 0,function*(){return(0,Ta.joinSignature)(this._signingKey().signDigest(Mk(t)))})}_signTypedData(t,r,n){return PK(this,void 0,void 0,function*(){let i=yield Pp.resolveNames(t,r,n,o=>(this.provider==null&&Op.throwError("cannot resolve ENS names without a provider",bT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return(0,Ta.joinSignature)(this._signingKey().signDigest(Pp.hash(i.domain,r,i.value)))})}encrypt(t,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),gT(this,t,r,n)}static createRandom(t){let r=sl(16);t||(t={}),t.extraEntropy&&(r=(0,Ta.arrayify)((0,Ta.hexDataSlice)(dr((0,Ta.concat)([r,t.extraEntropy])),0,16)));let n=Mb(r,t.locale);return e.fromMnemonic(n,t.path,t.locale)}static fromEncryptedJson(t,r,n){return IK(t,r,n).then(i=>new e(i))}static fromEncryptedJsonSync(t,r){return new e(kK(t,r))}static fromMnemonic(t,r,n){return r||(r=fh),new e(ol.fromMnemonic(t,null,n).derivePath(r))}};var rv=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(t){let r=t.fold(n=>new Dp(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(t,r,n){let i=t.fold(o=>new Oi(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();function xT(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Xde(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function BK(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Qde(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xT(e.outputLen),xT(e.blockLen)}function ehe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function the(e,t){BK(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var rhe={number:xT,bool:Xde,bytes:BK,hash:Qde,exists:ehe,output:the},Pa=rhe;d();h();d();h();var nhe={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var _K=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),nv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);var ihe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ihe)throw new Error("Non little-endian hardware is not supported");var bVe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ohe(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Rp(e){if(typeof e=="string"&&(e=ohe(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}var Up=class{clone(){return this._cloneInto()}};function lh(e){let t=n=>e().update(Rp(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function CK(e){let t=(n,i)=>e(i).update(Rp(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function she(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var iv=class extends Up{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=nv(this.buffer)}update(t){Pa.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=Rp(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=nv(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Pa.exists(this),Pa.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;she(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=nv(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};d();h();var ov=BigInt(4294967295),wT=BigInt(32);function MK(e,t=!1){return t?{h:Number(e&ov),l:Number(e>>wT&ov)}:{h:Number(e>>wT&ov)|0,l:Number(e&ov)|0}}function ahe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=MK(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var che=(e,t)=>BigInt(e>>>0)<<wT|BigInt(t>>>0),uhe=(e,t,r)=>e>>>r,fhe=(e,t,r)=>e<<32-r|t>>>r,lhe=(e,t,r)=>e>>>r|t<<32-r,dhe=(e,t,r)=>e<<32-r|t>>>r,hhe=(e,t,r)=>e<<64-r|t>>>r-32,phe=(e,t,r)=>e>>>r-32|t<<64-r,yhe=(e,t)=>t,mhe=(e,t)=>e,ghe=(e,t,r)=>e<<r|t>>>32-r,bhe=(e,t,r)=>t<<r|e>>>32-r,xhe=(e,t,r)=>t<<r-32|e>>>64-r,whe=(e,t,r)=>e<<r-32|t>>>64-r;function She(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var vhe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Ahe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Ehe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Ihe=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,khe=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),The=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,Phe={fromBig:MK,split:ahe,toBig:che,shrSH:uhe,shrSL:fhe,rotrSH:lhe,rotrSL:dhe,rotrBH:hhe,rotrBL:phe,rotr32H:yhe,rotr32L:mhe,rotlSH:ghe,rotlSL:bhe,rotlBH:xhe,rotlBL:whe,add:She,add3L:vhe,add3H:Ahe,add4L:Ehe,add4H:Ihe,add5H:The,add5L:khe},Ke=Phe;var[Bhe,_he]=Ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),al=new Uint32Array(80),cl=new Uint32Array(80),Lp=class extends iv{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)al[C]=t.getUint32(r),cl[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=al[C-15]|0,L=cl[C-15]|0,W=Ke.rotrSH(R,L,1)^Ke.rotrSH(R,L,8)^Ke.shrSH(R,L,7),G=Ke.rotrSL(R,L,1)^Ke.rotrSL(R,L,8)^Ke.shrSL(R,L,7),H=al[C-2]|0,$=cl[C-2]|0,B=Ke.rotrSH(H,$,19)^Ke.rotrBH(H,$,61)^Ke.shrSH(H,$,6),p=Ke.rotrSL(H,$,19)^Ke.rotrBL(H,$,61)^Ke.shrSL(H,$,6),g=Ke.add4L(G,p,cl[C-7],cl[C-16]),x=Ke.add4H(g,W,B,al[C-7],al[C-16]);al[C]=x|0,cl[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=Ke.rotrSH(f,m,14)^Ke.rotrSH(f,m,18)^Ke.rotrBH(f,m,41),L=Ke.rotrSL(f,m,14)^Ke.rotrSL(f,m,18)^Ke.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=Ke.add5L(D,L,G,_he[C],cl[C]),$=Ke.add5H(H,M,R,W,Bhe[C],al[C]),B=H|0,p=Ke.rotrSH(n,i,28)^Ke.rotrBH(n,i,34)^Ke.rotrBH(n,i,39),g=Ke.rotrSL(n,i,28)^Ke.rotrBL(n,i,34)^Ke.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=Ke.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=Ke.add3L(B,g,A);n=Ke.add3H(v,$,p,x),i=v|0}({h:n,l:i}=Ke.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ke.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Ke.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ke.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=Ke.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=Ke.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=Ke.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=Ke.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){al.fill(0),cl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ST=class extends Lp{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},vT=class extends Lp{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},AT=class extends Lp{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},NK=lh(()=>new Lp),NVe=lh(()=>new ST),OVe=lh(()=>new vT),DVe=lh(()=>new AT);Iu.sha512Sync=(...e)=>NK(Iu.concatBytes(...e));var{getPublicKey:Che}=fS,ET=e=>{let t=Che(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}};var sv=class{addressTypes=["solana"];generateKeypairFromPrivateKey(t){let r=t.fold(n=>new $o.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(t,r,n){let i=t.fold(o=>new Oi(o));try{let o=i.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:o.publicKey,privateKey:o.secretKey};case"deprecated":{let s=ET(o.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();d();h();d();h();function Mhe(e){if(e.length>=255)throw new TypeError("Alphabet too long");let t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){let l=e.charAt(u),f=l.charCodeAt(0);if(t[f]!==255)throw new TypeError(l+" is ambiguous");t[f]=u}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,f=0,m=0,b=u.length;for(;m!==b&&u[m]===0;)m++,l++;let w=(b-m)*o+1>>>0,S=new Uint8Array(w);for(;m!==b;){let D=u[m],C=0;for(let R=w-1;(D!==0||C<f)&&R!==-1;R--,C++)D+=256*S[R]>>>0,S[R]=D%r>>>0,D=D/r>>>0;if(D!==0)throw new Error("Non-zero carry");f=C,m++}let P=w-f;for(;P!==w&&S[P]===0;)P++;let M=n.repeat(l);for(;P<w;++P)M+=e.charAt(S[P]);return M}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,f=0,m=0;for(;u[l]===n;)f++,l++;let b=(u.length-l)*i+1>>>0,w=new Uint8Array(b);for(;u[l];){let D=t[u.charCodeAt(l)];if(D===255)return;let C=0;for(let R=b-1;(D!==0||C<m)&&R!==-1;R--,C++)D+=r*w[R]>>>0,w[R]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");m=C,l++}let S=b-m;for(;S!==b&&w[S]===0;)S++;let P=new Uint8Array(f+(b-S)),M=f;for(;S!==b;)P[M++]=w[S++];return P}function c(u){let l=a(u);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var OK=Mhe;var Nhe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",IT=OK(Nhe);var Mu=e=>IT.encode(e),Ic=e=>IT.decode(e);d();h();function rr(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}var kT=8192;function xt(e){if(e.length<kT)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=kT){let n=e.slice(r,r+kT);t+=String.fromCharCode(...n)}return btoa(t)}d();h();d();h();function Ms(e){let t=e.startsWith("0x")?e.slice(2):e,n=(t.length%2===0?t:`0${t}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}function Cn(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}d();h();d();h();function Kp(e){let t=[],r=0;if(e===0)return[0];for(;e>0;)t[r]=e&127,(e>>=7)&&(t[r]|=128),r+=1;return t}function DK(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(i&127)<<r,!(i&128))break;r+=7}return{value:t,length:n}}var av=class{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer)}shift(t){return this.bytePosition+=t,this}read8(){let t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){let t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){let t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){let t=this.read32(),n=this.read32().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let t=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+t.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let t=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+t.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(t){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,t);return this.shift(t),n}readULEB(){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t),{value:n,length:i}=DK(r);return this.shift(i),n}readVec(t){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(t(this,i,r));return n}};d();h();d();h();function TT(e,t){switch(t){case"base58":return Mu(e);case"base64":return xt(e);case"hex":return Cn(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function Ob(e,t=["<",">"]){let[r,n]=t,i=[],o="",s=0;for(let a=0;a<e.length;a++){let c=e[a];if(c===r&&s++,c===n&&s--,s===0&&c===","){i.push(o.trim()),o="";continue}o+=c}return i.push(o.trim()),i}var cv=class{constructor({initialSize:t=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=t,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(t))}ensureSizeOrGrow(t){let r=this.bytePosition+t;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(t){return this.bytePosition+=t,this}write8(t){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}write16(t){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return PT(BigInt(t),8).forEach(r=>this.write8(r)),this}write128(t){return PT(BigInt(t),16).forEach(r=>this.write8(r)),this}write256(t){return PT(BigInt(t),32).forEach(r=>this.write8(r)),this}writeULEB(t){return Kp(t).forEach(r=>this.write8(r)),this}writeVec(t,r){return this.writeULEB(t.length),Array.from(t).forEach((n,i)=>r(this,n,i,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return TT(this.toBytes(),t)}};function PT(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e=e/BigInt(256),n+=1;return r}var UK=e=>{throw TypeError(e)},RK=(e,t,r)=>t.has(e)||UK("Cannot "+r),Ba=(e,t,r)=>(RK(e,t,"read from private field"),r?r.call(e):t.get(e)),fv=(e,t,r)=>t.has(e)?UK("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lv=(e,t,r,n)=>(RK(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Vp,Db,uv,ul,Ohe=class LK{constructor(t){fv(this,Vp),fv(this,Db),this.name=t.name,this.read=t.read,this.serializedSize=t.serializedSize??(()=>null),lv(this,Vp,t.write),lv(this,Db,t.serialize??((r,n)=>{let i=new cv({initialSize:this.serializedSize(r)??void 0,...n});return Ba(this,Vp).call(this,r,i),i.toBytes()})),this.validate=t.validate??(()=>{})}write(t,r){this.validate(t),Ba(this,Vp).call(this,t,r)}serialize(t,r){return this.validate(t),new BT(this,Ba(this,Db).call(this,t,r))}parse(t){let r=new av(t);return this.read(r)}fromHex(t){return this.parse(Ms(t))}fromBase58(t){return this.parse(Ic(t))}fromBase64(t){return this.parse(rr(t))}transform({name:t,input:r,output:n,validate:i}){return new LK({name:t??this.name,read:o=>n(this.read(o)),write:(o,s)=>Ba(this,Vp).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>Ba(this,Db).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};Vp=new WeakMap;Db=new WeakMap;var kc=Ohe,Dhe=Symbol.for("@mysten/serialized-bcs");var BT=class{constructor(t,r){fv(this,uv),fv(this,ul),lv(this,uv,t),lv(this,ul,r)}get[Dhe](){return!0}toBytes(){return Ba(this,ul)}toHex(){return Cn(Ba(this,ul))}toBase64(){return xt(Ba(this,ul))}toBase58(){return Mu(Ba(this,ul))}parse(){return Ba(this,uv).parse(Ba(this,ul))}};uv=new WeakMap;ul=new WeakMap;function Ub({size:e,...t}){return new kc({...t,serializedSize:()=>e})}function dv({readMethod:e,writeMethod:t,...r}){return Ub({...r,read:n=>n[e](),write:(n,i)=>i[t](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function hv({readMethod:e,writeMethod:t,...r}){return Ub({...r,read:n=>n[e](),write:(n,i)=>i[t](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function KK({serialize:e,...t}){let r=new kc({...t,serialize:e,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function VK({toBytes:e,fromBytes:t,...r}){return new kc({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return t(o)},write:(n,i)=>{let o=e(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=e(n),o=Kp(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function FK(e){let t=null;function r(){return t||(t=e()),t}return new kc({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}d();h();var N={u8(e){return dv({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...e})},u16(e){return dv({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...e})},u32(e){return dv({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e})},u64(e){return hv({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e})},u128(e){return hv({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e})},u256(e){return hv({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e})},bool(e){return Ub({name:"bool",size:1,read:t=>t.read8()===1,write:(t,r)=>r.write8(t?1:0),...e,validate:t=>{if(e?.validate?.(t),typeof t!="boolean")throw new TypeError(`Expected boolean, found ${typeof t}`)}})},uleb128(e){return KK({name:"uleb128",read:t=>t.readULEB(),serialize:t=>Uint8Array.from(Kp(t)),...e})},bytes(e,t){return Ub({name:`bytes[${e}]`,size:e,read:r=>r.readBytes(e),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<e;o++)n.write8(i[o]??0)},...t,validate:r=>{if(t?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}})},string(e){return VK({name:"string",toBytes:t=>new TextEncoder().encode(t),fromBytes:t=>new TextDecoder().decode(t),...e})},fixedArray(e,t,r){return new kc({name:`${t.name}[${e}]`,read:n=>{let i=new Array(e);for(let o=0;o<e;o++)i[o]=t.read(n);return i},write:(n,i)=>{for(let o of n)t.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==e)throw new TypeError(`Expected array of length ${e}, found ${n.length}`)}})},option(e){return N.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:t=>t==null?{None:!0}:{Some:t},output:t=>t.$kind==="Some"?t.Some:null})},vector(e,t){return new kc({name:`vector<${e.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=e.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)e.write(i,n)},...t,validate:r=>{if(t?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(e,t){return new kc({name:`(${e.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<e.length;i++){let o=e[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of e)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<e.length;i++)e[i].write(r[i],n)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}})},struct(e,t,r){let n=Object.entries(t);return new kc({name:e,serializedSize:i=>{let o=0;for(let[s,a]of n){let c=a.serializedSize(i[s]);if(c==null)return null;o+=c}return o},read:i=>{let o={};for(let[s,a]of n)o[s]=a.read(i);return o},write:(i,o)=>{for(let[s,a]of n)a.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(e,t,r){let n=Object.entries(t);return new kc({name:e,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${e}`);let[a,c]=s;return{[a]:c?.read(i)??!0,$kind:a}},write:(i,o)=>{let[s,a]=Object.entries(i).filter(([c])=>Object.hasOwn(t,c))[0];for(let c=0;c<n.length;c++){let[u,l]=n[c];if(u===s){o.writeULEB(c),l?.write(a,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(a=>i[a]!==void 0&&Object.hasOwn(t,a));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${e}}`);let[s]=o;if(!Object.hasOwn(t,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(e,t){return N.vector(N.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(e){return FK(e)}};d();h();d();h();d();h();var fl=32;function HK(e){return Uhe(e)&&Rhe(e)===fl}function Tc(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(fl*2,"0")}`}function Uhe(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function Rhe(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}d();h();var Lhe=/^vector<(.+)>$/,Khe=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Rb=class e{static parseFromStr(t,r=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};let n=t.match(Lhe);if(n)return{vector:e.parseFromStr(n[1],r)};let i=t.match(Khe);if(i)return{struct:{address:r?Tc(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:e.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,r=!1){return Ob(t).map(n=>e.parseFromStr(n,r))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${e.tagToString(t.vector)}>`;if("struct"in t){let r=t.struct,n=r.typeParams.map(e.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function Vhe(e){return N.u64({name:"unsafe_u64",...e}).transform({input:t=>t,output:t=>Number(t)})}function Fhe(e){return N.enum("Option",{None:null,Some:e})}var Or=N.bytes(fl).transform({validate:e=>{let t=typeof e=="string"?e:Cn(e);if(!t||!HK(Tc(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>typeof e=="string"?Ms(Tc(e)):e,output:e=>Tc(Cn(e))}),Xo=N.vector(N.u8()).transform({name:"ObjectDigest",input:e=>Ic(e),output:e=>Mu(new Uint8Array(e)),validate:e=>{if(Ic(e).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Po=N.struct("SuiObjectRef",{objectId:Or,version:N.u64(),digest:Xo}),_T=N.struct("SharedObjectRef",{objectId:Or,initialSharedVersion:N.u64(),mutable:N.bool()}),CT=N.enum("ObjectArg",{ImmOrOwnedObject:Po,SharedObject:_T,Receiving:Po}),MT=N.enum("CallArg",{Pure:N.struct("Pure",{bytes:N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))})}),Object:CT}),NT=N.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:N.lazy(()=>NT),struct:N.lazy(()=>KT),u16:null,u32:null,u256:null}),pv=NT.transform({input:e=>typeof e=="string"?Rb.parseFromStr(e,!0):e,output:e=>Rb.tagToString(e)}),_a=N.enum("Argument",{GasCoin:null,Input:N.u16(),Result:N.u16(),NestedResult:N.tuple([N.u16(),N.u16()])}),OT=N.struct("ProgrammableMoveCall",{package:Or,module:N.string(),function:N.string(),typeArguments:N.vector(pv),arguments:N.vector(_a)}),DT=N.enum("Command",{MoveCall:OT,TransferObjects:N.struct("TransferObjects",{objects:N.vector(_a),address:_a}),SplitCoins:N.struct("SplitCoins",{coin:_a,amounts:N.vector(_a)}),MergeCoins:N.struct("MergeCoins",{destination:_a,sources:N.vector(_a)}),Publish:N.struct("Publish",{modules:N.vector(N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))})),dependencies:N.vector(Or)}),MakeMoveVec:N.struct("MakeMoveVec",{type:Fhe(pv).transform({input:e=>e===null?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:N.vector(_a)}),Upgrade:N.struct("Upgrade",{modules:N.vector(N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))})),dependencies:N.vector(Or),package:Or,ticket:_a})}),UT=N.struct("ProgrammableTransaction",{inputs:N.vector(MT),commands:N.vector(DT)}),RT=N.enum("TransactionKind",{ProgrammableTransaction:UT,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),LT=N.enum("TransactionExpiration",{None:null,Epoch:Vhe()}),KT=N.struct("StructTag",{address:Or,module:N.string(),name:N.string(),typeParams:N.vector(NT)}),VT=N.struct("GasData",{payment:N.vector(Po),owner:Or,price:N.u64(),budget:N.u64()}),FT=N.struct("TransactionDataV1",{kind:RT,sender:Or,gasData:VT,expiration:LT}),HT=N.enum("TransactionData",{V1:FT}),qT=N.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),WT=N.enum("IntentVersion",{V0:null}),jT=N.enum("AppId",{Sui:null}),zT=N.struct("Intent",{scope:qT,version:WT,appId:jT});function GT(e){return N.struct(`IntentMessage<${e.name}>`,{intent:zT,value:e})}var $T=N.enum("CompressedSignature",{ED25519:N.fixedArray(64,N.u8()),Secp256k1:N.fixedArray(64,N.u8()),Secp256r1:N.fixedArray(64,N.u8()),ZkLogin:N.vector(N.u8())}),YT=N.enum("PublicKey",{ED25519:N.fixedArray(32,N.u8()),Secp256k1:N.fixedArray(33,N.u8()),Secp256r1:N.fixedArray(33,N.u8()),ZkLogin:N.vector(N.u8())}),ZT=N.struct("MultiSigPkMap",{pubKey:YT,weight:N.u8()}),JT=N.struct("MultiSigPublicKey",{pk_map:N.vector(ZT),threshold:N.u16()}),qK=N.struct("MultiSig",{sigs:N.vector($T),bitmap:N.u16(),multisig_pk:JT}),Hhe=N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))}),XT=N.struct("SenderSignedTransaction",{intentMessage:GT(HT),txSignatures:N.vector(Hhe)}),WK=N.vector(XT,{name:"SenderSignedData"});d();h();var qhe=N.enum("PackageUpgradeError",{UnableToFetchPackage:N.struct("UnableToFetchPackage",{packageId:Or}),NotAPackage:N.struct("NotAPackage",{objectId:Or}),IncompatibleUpgrade:null,DigestDoesNotMatch:N.struct("DigestDoesNotMatch",{digest:N.vector(N.u8())}),UnknownUpgradePolicy:N.struct("UnknownUpgradePolicy",{policy:N.u8()}),PackageIDDoesNotMatch:N.struct("PackageIDDoesNotMatch",{packageId:Or,ticketId:Or})}),Whe=N.struct("ModuleId",{address:Or,name:N.string()}),jK=N.struct("MoveLocation",{module:Whe,function:N.u16(),instruction:N.u16(),functionName:N.option(N.string())}),jhe=N.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:N.struct("IndexOutOfBounds",{idx:N.u16()}),SecondaryIndexOutOfBounds:N.struct("SecondaryIndexOutOfBounds",{resultIdx:N.u16(),secondaryIdx:N.u16()}),InvalidResultArity:N.struct("InvalidResultArity",{resultIdx:N.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),zhe=N.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Ghe=N.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:N.struct("MoveObjectTooBig",{objectSize:N.u64(),maxObjectSize:N.u64()}),MovePackageTooBig:N.struct("MovePackageTooBig",{objectSize:N.u64(),maxObjectSize:N.u64()}),CircularObjectOwnership:N.struct("CircularObjectOwnership",{object:Or}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:N.option(jK),MoveAbort:N.tuple([jK,N.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:N.struct("CommandArgumentError",{argIdx:N.u16(),kind:jhe}),TypeArgumentError:N.struct("TypeArgumentError",{argumentIdx:N.u16(),kind:zhe}),UnusedValueWithoutDrop:N.struct("UnusedValueWithoutDrop",{resultIdx:N.u16(),secondaryIdx:N.u16()}),InvalidPublicFunctionReturnType:N.struct("InvalidPublicFunctionReturnType",{idx:N.u16()}),InvalidTransferObject:null,EffectsTooLarge:N.struct("EffectsTooLarge",{currentSize:N.u64(),maxSize:N.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:N.struct("PackageUpgradeError",{upgradeError:qhe}),WrittenObjectsTooLarge:N.struct("WrittenObjectsTooLarge",{currentSize:N.u64(),maxSize:N.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:N.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:N.vector(Or)}),AddressDeniedForCoin:N.struct("AddressDeniedForCoin",{address:Or,coinType:N.string()}),CoinTypeGlobalPause:N.struct("CoinTypeGlobalPause",{coinType:N.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),zK=N.enum("ExecutionStatus",{Success:null,Failed:N.struct("ExecutionFailed",{error:Ghe,command:N.option(N.u64())})}),GK=N.struct("GasCostSummary",{computationCost:N.u64(),storageCost:N.u64(),storageRebate:N.u64(),nonRefundableStorageFee:N.u64()}),Fp=N.enum("Owner",{AddressOwner:Or,ObjectOwner:Or,Shared:N.struct("Shared",{initialSharedVersion:N.u64()}),Immutable:null}),$he=N.struct("TransactionEffectsV1",{status:zK,executedEpoch:N.u64(),gasUsed:GK,modifiedAtVersions:N.vector(N.tuple([Or,N.u64()])),sharedObjects:N.vector(Po),transactionDigest:Xo,created:N.vector(N.tuple([Po,Fp])),mutated:N.vector(N.tuple([Po,Fp])),unwrapped:N.vector(N.tuple([Po,Fp])),deleted:N.vector(Po),unwrappedThenDeleted:N.vector(Po),wrapped:N.vector(Po),gasObject:N.tuple([Po,Fp]),eventsDigest:N.option(Xo),dependencies:N.vector(Xo)}),QT=N.tuple([N.u64(),Xo]),Yhe=N.enum("ObjectIn",{NotExist:null,Exist:N.tuple([QT,Fp])}),Zhe=N.enum("ObjectOut",{NotExist:null,ObjectWrite:N.tuple([Xo,Fp]),PackageWrite:QT}),Jhe=N.enum("IDOperation",{None:null,Created:null,Deleted:null}),Xhe=N.struct("EffectsObjectChange",{inputState:Yhe,outputState:Zhe,idOperation:Jhe}),Qhe=N.enum("UnchangedSharedKind",{ReadOnlyRoot:QT,MutateDeleted:N.u64(),ReadDeleted:N.u64(),Cancelled:N.u64(),PerEpochConfig:null}),e0e=N.struct("TransactionEffectsV2",{status:zK,executedEpoch:N.u64(),gasUsed:GK,transactionDigest:Xo,gasObjectIndex:N.option(N.u32()),eventsDigest:N.option(Xo),dependencies:N.vector(Xo),lamportVersion:N.u64(),changedObjects:N.vector(N.tuple([Or,Xhe])),unchangedSharedObjects:N.vector(N.tuple([Or,Qhe])),auxDataDigest:N.option(Xo)}),$K=N.enum("TransactionEffects",{V1:$he,V2:e0e});var Nu={...N,U8:N.u8(),U16:N.u16(),U32:N.u32(),U64:N.u64(),U128:N.u128(),U256:N.u256(),ULEB128:N.uleb128(),Bool:N.bool(),String:N.string(),Address:Or,AppId:jT,Argument:_a,CallArg:MT,CompressedSignature:$T,GasData:VT,Intent:zT,IntentMessage:GT,IntentScope:qT,IntentVersion:WT,MultiSig:qK,MultiSigPkMap:ZT,MultiSigPublicKey:JT,ObjectArg:CT,ObjectDigest:Xo,ProgrammableMoveCall:OT,ProgrammableTransaction:UT,PublicKey:YT,SenderSignedData:WK,SenderSignedTransaction:XT,SharedObjectRef:_T,StructTag:KT,SuiObjectRef:Po,Command:DT,TransactionData:HT,TransactionDataV1:FT,TransactionExpiration:LT,TransactionKind:RT,TypeTag:pv,TransactionEffects:$K};d();h();d();h();d();h();d();h();function Hp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function t0e(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function qp(e,...t){if(!t0e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function YK(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Hp(e.outputLen),Hp(e.blockLen)}function Ou(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function yv(e,t){qp(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var Wp=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),mv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);var dl=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,JK=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,Ca=dl?e=>e:e=>JK(e);function dh(e){for(let t=0;t<e.length;t++)e[t]=JK(e[t])}var r0e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gv(e){qp(e);let t="";for(let r=0;r<e.length;r++)t+=r0e[e[r]];return t}var Du={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ZK(e){if(e>=Du._0&&e<=Du._9)return e-Du._0;if(e>=Du._A&&e<=Du._F)return e-(Du._A-10);if(e>=Du._a&&e<=Du._f)return e-(Du._a-10)}function XK(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=ZK(e.charCodeAt(o)),a=ZK(e.charCodeAt(o+1));if(s===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function n0e(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ns(e){return typeof e=="string"&&(e=n0e(e)),qp(e),e}var ll=class{clone(){return this._cloneInto()}},UHe={}.toString;function QK(e){let t=n=>e().update(Ns(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eV(e){let t=(n,i)=>e(i).update(Ns(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}var tV=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),bv=class extends ll{constructor(t,r,n={},i,o,s){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Hp(t),Hp(r),Hp(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=Wp(this.buffer=new Uint8Array(t))}update(t){Ou(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=Ns(t);let o=t.length,s=t.byteOffset,a=t.buffer;for(let c=0;c<o;){this.pos===r&&(dl||dh(i),this.compress(i,0,!1),dl||dh(i),this.pos=0);let u=Math.min(r-this.pos,o-c),l=s+c;if(u===r&&!(l%4)&&c+u<o){let f=new Uint32Array(a,l,Math.floor((o-c)/4));dl||dh(f);for(let m=0;c+r<o;m+=i.length,c+=r)this.length+=r,this.compress(f,m,!1);dl||dh(f);continue}n.set(t.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(t){Ou(this),yv(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),dl||dh(n),this.compress(n,0,!0),dl||dh(n);let i=Wp(t);this.get().forEach((o,s)=>i[s]=Ca(o))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=o,t.outputLen=s,t.buffer.set(r),t.pos=a,t}};d();h();var xv=BigInt(4294967295),e5=BigInt(32);function rV(e,t=!1){return t?{h:Number(e&xv),l:Number(e>>e5&xv)}:{h:Number(e>>e5&xv)|0,l:Number(e&xv)|0}}function i0e(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=rV(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var o0e=(e,t)=>BigInt(e>>>0)<<e5|BigInt(t>>>0),s0e=(e,t,r)=>e>>>r,a0e=(e,t,r)=>e<<32-r|t>>>r,c0e=(e,t,r)=>e>>>r|t<<32-r,u0e=(e,t,r)=>e<<32-r|t>>>r,f0e=(e,t,r)=>e<<64-r|t>>>r-32,l0e=(e,t,r)=>e>>>r-32|t<<64-r,d0e=(e,t)=>t,h0e=(e,t)=>e,p0e=(e,t,r)=>e<<r|t>>>32-r,y0e=(e,t,r)=>t<<r|e>>>32-r,m0e=(e,t,r)=>t<<r-32|e>>>64-r,g0e=(e,t,r)=>e<<r-32|t>>>64-r;function b0e(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var x0e=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),w0e=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,S0e=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),v0e=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,A0e=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),E0e=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;var I0e={fromBig:rV,split:i0e,toBig:o0e,shrSH:s0e,shrSL:a0e,rotrSH:c0e,rotrSL:u0e,rotrBH:f0e,rotrBL:l0e,rotr32H:d0e,rotr32L:h0e,rotlSH:p0e,rotlSL:y0e,rotlBH:m0e,rotlBL:g0e,add:b0e,add3L:x0e,add3H:w0e,add4L:S0e,add4H:v0e,add5H:E0e,add5L:A0e},Ie=I0e;var Mn=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ge=new Uint32Array(32);function hl(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=ge[2*e],u=ge[2*e+1],l=ge[2*t],f=ge[2*t+1],m=ge[2*r],b=ge[2*r+1],w=ge[2*n],S=ge[2*n+1],P=Ie.add3L(c,l,s);u=Ie.add3H(P,u,f,a),c=P|0,{Dh:S,Dl:w}={Dh:S^u,Dl:w^c},{Dh:S,Dl:w}={Dh:Ie.rotr32H(S,w),Dl:Ie.rotr32L(S,w)},{h:b,l:m}=Ie.add(b,m,S,w),{Bh:f,Bl:l}={Bh:f^b,Bl:l^m},{Bh:f,Bl:l}={Bh:Ie.rotrSH(f,l,24),Bl:Ie.rotrSL(f,l,24)},ge[2*e]=c,ge[2*e+1]=u,ge[2*t]=l,ge[2*t+1]=f,ge[2*r]=m,ge[2*r+1]=b,ge[2*n]=w,ge[2*n+1]=S}function pl(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=ge[2*e],u=ge[2*e+1],l=ge[2*t],f=ge[2*t+1],m=ge[2*r],b=ge[2*r+1],w=ge[2*n],S=ge[2*n+1],P=Ie.add3L(c,l,s);u=Ie.add3H(P,u,f,a),c=P|0,{Dh:S,Dl:w}={Dh:S^u,Dl:w^c},{Dh:S,Dl:w}={Dh:Ie.rotrSH(S,w,16),Dl:Ie.rotrSL(S,w,16)},{h:b,l:m}=Ie.add(b,m,S,w),{Bh:f,Bl:l}={Bh:f^b,Bl:l^m},{Bh:f,Bl:l}={Bh:Ie.rotrBH(f,l,63),Bl:Ie.rotrBL(f,l,63)},ge[2*e]=c,ge[2*e+1]=u,ge[2*t]=l,ge[2*t+1]=f,ge[2*r]=m,ge[2*r+1]=b,ge[2*n]=w,ge[2*n+1]=S}var t5=class extends bv{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=Mn[0]|0,this.v0h=Mn[1]|0,this.v1l=Mn[2]|0,this.v1h=Mn[3]|0,this.v2l=Mn[4]|0,this.v2h=Mn[5]|0,this.v3l=Mn[6]|0,this.v3h=Mn[7]|0,this.v4l=Mn[8]|0,this.v4h=Mn[9]|0,this.v5l=Mn[10]|0,this.v5h=Mn[11]|0,this.v6l=Mn[12]|0,this.v6h=Mn[13]|0,this.v7l=Mn[14]|0,this.v7h=Mn[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,t.salt){let n=Wp(Ns(t.salt));this.v4l^=Ca(n[0]),this.v4h^=Ca(n[1]),this.v5l^=Ca(n[2]),this.v5h^=Ca(n[3])}if(t.personalization){let n=Wp(Ns(t.personalization));this.v6l^=Ca(n[0]),this.v6h^=Ca(n[1]),this.v7l^=Ca(n[2]),this.v7h^=Ca(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set(Ns(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:a,v3h:c,v4l:u,v4h:l,v5l:f,v5h:m,v6l:b,v6h:w,v7l:S,v7h:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=f|0,this.v5h=m|0,this.v6l=b|0,this.v6h=w|0,this.v7l=S|0,this.v7h=P|0}compress(t,r,n){this.get().forEach((c,u)=>ge[u]=c),ge.set(Mn,16);let{h:i,l:o}=Ie.fromBig(BigInt(this.length));ge[24]=Mn[8]^o,ge[25]=Mn[9]^i,n&&(ge[28]=~ge[28],ge[29]=~ge[29]);let s=0,a=tV;for(let c=0;c<12;c++)hl(0,4,8,12,t,r+2*a[s++]),pl(0,4,8,12,t,r+2*a[s++]),hl(1,5,9,13,t,r+2*a[s++]),pl(1,5,9,13,t,r+2*a[s++]),hl(2,6,10,14,t,r+2*a[s++]),pl(2,6,10,14,t,r+2*a[s++]),hl(3,7,11,15,t,r+2*a[s++]),pl(3,7,11,15,t,r+2*a[s++]),hl(0,5,10,15,t,r+2*a[s++]),pl(0,5,10,15,t,r+2*a[s++]),hl(1,6,11,12,t,r+2*a[s++]),pl(1,6,11,12,t,r+2*a[s++]),hl(2,7,8,13,t,r+2*a[s++]),pl(2,7,8,13,t,r+2*a[s++]),hl(3,4,9,14,t,r+2*a[s++]),pl(3,4,9,14,t,r+2*a[s++]);this.v0l^=ge[0]^ge[16],this.v0h^=ge[1]^ge[17],this.v1l^=ge[2]^ge[18],this.v1h^=ge[3]^ge[19],this.v2l^=ge[4]^ge[20],this.v2h^=ge[5]^ge[21],this.v3l^=ge[6]^ge[22],this.v3h^=ge[7]^ge[23],this.v4l^=ge[8]^ge[24],this.v4h^=ge[9]^ge[25],this.v5l^=ge[10]^ge[26],this.v5h^=ge[11]^ge[27],this.v6l^=ge[12]^ge[28],this.v6h^=ge[13]^ge[29],this.v7l^=ge[14]^ge[30],this.v7h^=ge[15]^ge[31],ge.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},hh=eV(e=>new t5(e));d();h();d();h();function wv(e,t){return Nu.IntentMessage(Nu.fixedArray(t.length,Nu.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}function r5(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var jp=class{equals(t){return r5(this.toRawBytes(),t.toRawBytes())}toBase64(){return xt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let t=this.toSuiBytes();return xt(t)}verifyWithIntent(t,r,n){let i=wv(n,t),o=hh(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(t,r){return this.verifyWithIntent(Nu.vector(Nu.u8()).serialize(t).toBytes(),r,"PersonalMessage")}verifyTransaction(t,r){return this.verifyWithIntent(t,r,"TransactionData")}toSuiBytes(){let t=this.toRawBytes(),r=new Uint8Array(t.length+1);return r.set([this.flag()]),r.set(t,1),r}toSuiAddress(){return Tc(gv(hh(this.toSuiBytes(),{dkLen:32})).slice(0,fl*2))}};d();h();var Uu={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},nV={ED25519:32,Secp256k1:33,Secp256r1:33},Sv={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function iV(e,t){if(!!!e)throw new Error(t)}d();h();var i5={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},k0e=new Set(Object.keys(i5));function o5(e){let t=e?.kind;return typeof t=="string"&&k0e.has(t)}var n5;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(n5||(n5={}));d();h();var Lb;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Lb||(Lb={}));d();h();d();h();function s5(e){return e===9||e===32}function oV(e,t){let r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(b=>b.length===0||s5(b.charCodeAt(0))),s=r.endsWith('\\"""'),a=e.endsWith('"')&&!s,c=e.endsWith("\\"),u=a||c,l=!(t!=null&&t.minimize)&&(!i||e.length>70||u||o||s),f="",m=i&&s5(e.charCodeAt(0));return(l&&!m||o)&&(f+=`
`),f+=r,(l||u)&&(f+=`
`),'"""'+f+'"""'}d();h();function sV(e){return vv(e,[])}function vv(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return T0e(e,t);default:return String(e)}}function T0e(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";let r=[...t,e];if(P0e(e)){let n=e.toJSON();if(n!==e)return typeof n=="string"?n:vv(n,r)}else if(Array.isArray(e))return _0e(e,r);return B0e(e,r)}function P0e(e){return typeof e.toJSON=="function"}function B0e(e,t){let r=Object.entries(e);return r.length===0?"{}":t.length>2?"["+C0e(e)+"]":"{ "+r.map(([i,o])=>i+": "+vv(o,t)).join(", ")+" }"}function _0e(e,t){if(e.length===0)return"[]";if(t.length>2)return"[Array]";let r=Math.min(10,e.length),n=e.length-r,i=[];for(let o=0;o<r;++o)i.push(vv(e[o],t));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function C0e(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){let r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}d();h();d();h();function aV(e){return`"${e.replace(M0e,N0e)}"`}var M0e=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function N0e(e){return O0e[e.charCodeAt(0)]}var O0e=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];d();h();var cV=Object.freeze({});function a5(e,t,r=i5){let n=new Map;for(let M of Object.values(Lb))n.set(M,uV(t,M));let i,o=Array.isArray(e),s=[e],a=-1,c=[],u=e,l,f,m=[],b=[];do{a++;let M=a===s.length,D=M&&c.length!==0;if(M){if(l=b.length===0?void 0:m[m.length-1],u=f,f=b.pop(),D)if(o){u=u.slice();let R=0;for(let[L,W]of c){let G=L-R;W===null?(u.splice(G,1),R++):u[G]=W}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(let[R,L]of c)u[R]=L}a=i.index,s=i.keys,c=i.edits,o=i.inArray,i=i.prev}else if(f){if(l=o?a:s[a],u=f[l],u==null)continue;m.push(l)}let C;if(!Array.isArray(u)){var w,S;o5(u)||iV(!1,`Invalid AST Node: ${sV(u)}.`);let R=M?(w=n.get(u.kind))===null||w===void 0?void 0:w.leave:(S=n.get(u.kind))===null||S===void 0?void 0:S.enter;if(C=R?.call(t,u,l,f,m,b),C===cV)break;if(C===!1){if(!M){m.pop();continue}}else if(C!==void 0&&(c.push([l,C]),!M))if(o5(C))u=C;else{m.pop();continue}}if(C===void 0&&D&&c.push([l,u]),M)m.pop();else{var P;i={inArray:o,index:a,keys:s,edits:c,prev:i},o=Array.isArray(u),s=o?u:(P=r[u.kind])!==null&&P!==void 0?P:[],a=-1,c=[],f&&b.push(f),f=u}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:e}function uV(e,t){let r=e[t];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function zp(e){return a5(e,U0e)}var D0e=80,U0e={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>we(e.definitions,`

`)},OperationDefinition:{leave(e){let t=Lt("(",we(e.variableDefinitions,", "),")"),r=we([e.operation,we([e.name,t]),we(e.directives," ")]," ");return(r==="query"?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+Lt(" = ",r)+Lt(" ",we(n," "))},SelectionSet:{leave:({selections:e})=>Ma(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let o=Lt("",e,": ")+t,s=o+Lt("(",we(r,", "),")");return s.length>D0e&&(s=o+Lt(`(
`,Av(we(r,`
`)),`
)`)),we([s,we(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Lt(" ",we(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>we(["...",Lt("on ",e),we(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${Lt("(",we(r,", "),")")} on ${t} ${Lt("",we(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?oV(e):aV(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+we(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+we(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Lt("(",we(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>Lt("",e,`
`)+we(["schema",we(t," "),Ma(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>Lt("",e,`
`)+we(["scalar",t,we(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>Lt("",e,`
`)+we(["type",t,Lt("implements ",we(r," & ")),we(n," "),Ma(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>Lt("",e,`
`)+t+(fV(r)?Lt(`(
`,Av(we(r,`
`)),`
)`):Lt("(",we(r,", "),")"))+": "+n+Lt(" ",we(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>Lt("",e,`
`)+we([t+": "+r,Lt("= ",n),we(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>Lt("",e,`
`)+we(["interface",t,Lt("implements ",we(r," & ")),we(n," "),Ma(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>Lt("",e,`
`)+we(["union",t,we(r," "),Lt("= ",we(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>Lt("",e,`
`)+we(["enum",t,we(r," "),Ma(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>Lt("",e,`
`)+we([t,we(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>Lt("",e,`
`)+we(["input",t,we(r," "),Ma(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>Lt("",e,`
`)+"directive @"+t+(fV(r)?Lt(`(
`,Av(we(r,`
`)),`
)`):Lt("(",we(r,", "),")"))+(n?" repeatable":"")+" on "+we(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>we(["extend schema",we(e," "),Ma(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>we(["extend scalar",e,we(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>we(["extend type",e,Lt("implements ",we(t," & ")),we(r," "),Ma(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>we(["extend interface",e,Lt("implements ",we(t," & ")),we(r," "),Ma(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>we(["extend union",e,we(t," "),Lt("= ",we(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>we(["extend enum",e,we(t," "),Ma(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>we(["extend input",e,we(t," "),Ma(r)]," ")}};function we(e,t=""){var r;return(r=e?.filter(n=>n).join(t))!==null&&r!==void 0?r:""}function Ma(e){return Lt(`{
`,Av(we(e,`
`)),`
}`)}function Lt(e,t,r=""){return t!=null&&t!==""?e+t+r:""}function Av(e){return Lt("  ",e.replace(/\n/g,`
  `))}function fV(e){var t;return(t=e?.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}d();h();var lV=e=>{throw TypeError(e)},dV=(e,t,r)=>t.has(e)||lV("Cannot "+r),Ev=(e,t,r)=>(dV(e,t,"read from private field"),r?r.call(e):t.get(e)),Iv=(e,t,r)=>t.has(e)?lV("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),kv=(e,t,r,n)=>(dV(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Tv,Pv,Bv,_v,c5=class extends Error{},Cv=class{constructor({url:t,fetch:r=fetch,headers:n={},queries:i={}}){Iv(this,Tv),Iv(this,Pv),Iv(this,Bv),Iv(this,_v),kv(this,Tv,t),kv(this,Pv,i),kv(this,Bv,n),kv(this,_v,(...o)=>r(...o))}async query(t){let r=await Ev(this,_v).call(this,Ev(this,Tv),{method:"POST",headers:{"Content-Type":"application/json",...Ev(this,Bv)},body:JSON.stringify({query:typeof t.query=="string"?String(t.query):zp(t.query),variables:t.variables,extensions:t.extensions,operationName:t.operationName})});if(!r.ok)throw new c5(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(t,r){return this.query({...r,query:Ev(this,Pv)[t]})}};Tv=new WeakMap;Pv=new WeakMap;Bv=new WeakMap;_v=new WeakMap;d();h();d();h();d();h();var Kb={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var l5=class extends Error{constructor(t,r,n,i,o,s,a){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var c=a;if(!c&&s){var u=s.extensions;u&&typeof u=="object"&&(c=u)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},nr,Pe;function yn(e){return new l5(`Syntax Error: Unexpected token at ${Pe} in ${e}`)}function Qo(e){if(e.lastIndex=Pe,e.test(nr))return nr.slice(Pe,Pe=e.lastIndex)}var Mv=/ +(?=[^\s])/y;function R0e(e){for(var t=e.split(`
`),r="",n=0,i=0,o=t.length-1,s=0;s<t.length;s++)Mv.lastIndex=0,Mv.test(t[s])&&(s&&(!n||Mv.lastIndex<n)&&(n=Mv.lastIndex),i=i||s,o=s);for(var a=i;a<=o;a++)a!==i&&(r+=`
`),r+=t[a].slice(n).replace(/\\"""/g,'"""');return r}function mt(){for(var e=0|nr.charCodeAt(Pe++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|nr.charCodeAt(Pe++))if(e===35)for(;(e=nr.charCodeAt(Pe++))!==10&&e!==13;);Pe--}var no=/[_A-Za-z]\w*/y,u5=new RegExp("(?:(null|true|false)|\\$("+no.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+no.source+"))","y"),yl=function(e){return e[e.Const=1]="Const",e[e.Var=2]="Var",e[e.Int=3]="Int",e[e.Float=4]="Float",e[e.BlockString=5]="BlockString",e[e.String=6]="String",e[e.Enum=7]="Enum",e}(yl||{}),L0e=/\\/;function Nv(e){var t,r;if(u5.lastIndex=Pe,nr.charCodeAt(Pe)===91){Pe++,mt();for(var n=[];nr.charCodeAt(Pe)!==93;)n.push(Nv(e));return Pe++,mt(),{kind:"ListValue",values:n}}else if(nr.charCodeAt(Pe)===123){Pe++,mt();for(var i=[];nr.charCodeAt(Pe)!==125;){if((t=Qo(no))==null||(mt(),nr.charCodeAt(Pe++)!==58))throw yn("ObjectField");mt(),i.push({kind:"ObjectField",name:{kind:"Name",value:t},value:Nv(e)})}return Pe++,mt(),{kind:"ObjectValue",fields:i}}else if((r=u5.exec(nr))!=null){if(Pe=u5.lastIndex,mt(),(t=r[yl.Const])!=null)return t==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:t==="true"};if((t=r[yl.Var])!=null){if(e)throw yn("Variable");return{kind:"Variable",name:{kind:"Name",value:t}}}else if((t=r[yl.Int])!=null){var o;return(o=r[yl.Float])!=null?{kind:"FloatValue",value:t+o}:{kind:"IntValue",value:t}}else{if((t=r[yl.BlockString])!=null)return{kind:"StringValue",value:R0e(t.slice(3,-3)),block:!0};if((t=r[yl.String])!=null)return{kind:"StringValue",value:L0e.test(t)?JSON.parse(t):t.slice(1,-1),block:!1};if((t=r[yl.Enum])!=null)return{kind:"EnumValue",value:t}}}throw yn("Value")}function hV(e){if(nr.charCodeAt(Pe)===40){var t=[];Pe++,mt();var r;do{if((r=Qo(no))==null||(mt(),nr.charCodeAt(Pe++)!==58))throw yn("Argument");mt(),t.push({kind:"Argument",name:{kind:"Name",value:r},value:Nv(e)})}while(nr.charCodeAt(Pe)!==41);return Pe++,mt(),t}}function Gp(e){if(nr.charCodeAt(Pe)===64){var t=[],r;do{if(Pe++,(r=Qo(no))==null)throw yn("Directive");mt(),t.push({kind:"Directive",name:{kind:"Name",value:r},arguments:hV(e)})}while(nr.charCodeAt(Pe)===64);return t}}function K0e(){for(var e,t=0;nr.charCodeAt(Pe)===91;)t++,Pe++,mt();if((e=Qo(no))==null)throw yn("NamedType");mt();var r={kind:"NamedType",name:{kind:"Name",value:e}};do if(nr.charCodeAt(Pe)===33&&(Pe++,mt(),r={kind:"NonNullType",type:r}),t){if(nr.charCodeAt(Pe++)!==93)throw yn("NamedType");mt(),r={kind:"ListType",type:r}}while(t--);return r}var f5=new RegExp("(?:(\\.{3})|("+no.source+"))","y"),d5=function(e){return e[e.Spread=1]="Spread",e[e.Name=2]="Name",e}(d5||{});function Ov(){var e=[],t,r;do if(f5.lastIndex=Pe,(r=f5.exec(nr))!=null){if(Pe=f5.lastIndex,r[d5.Spread]!=null){mt();var n=Qo(no);if(n!=null&&n!=="on")mt(),e.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:Gp(!1)});else{if(mt(),n==="on"){if((n=Qo(no))==null)throw yn("NamedType");mt()}var i=Gp(!1);if(nr.charCodeAt(Pe++)!==123)throw yn("InlineFragment");mt(),e.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:Ov()})}}else if((t=r[d5.Name])!=null){var o=void 0;if(mt(),nr.charCodeAt(Pe)===58){if(Pe++,mt(),o=t,(t=Qo(no))==null)throw yn("Field");mt()}var s=hV(!1);mt();var a=Gp(!1),c=void 0;nr.charCodeAt(Pe)===123&&(Pe++,mt(),c=Ov()),e.push({kind:"Field",alias:o?{kind:"Name",value:o}:void 0,name:{kind:"Name",value:t},arguments:s,directives:a,selectionSet:c})}}else throw yn("SelectionSet");while(nr.charCodeAt(Pe)!==125);return Pe++,mt(),{kind:"SelectionSet",selections:e}}function V0e(){var e,t;if((e=Qo(no))==null||(mt(),Qo(no)!=="on")||(mt(),(t=Qo(no))==null))throw yn("FragmentDefinition");mt();var r=Gp(!1);if(nr.charCodeAt(Pe++)!==123)throw yn("FragmentDefinition");return mt(),{kind:"FragmentDefinition",name:{kind:"Name",value:e},typeCondition:{kind:"NamedType",name:{kind:"Name",value:t}},directives:r,selectionSet:Ov()}}var F0e=/(?:query|mutation|subscription|fragment)/y;function H0e(e){var t,r,n;if(e&&(mt(),t=Qo(no),r=function(){if(mt(),nr.charCodeAt(Pe)===40){var o=[];Pe++,mt();var s;do{if(nr.charCodeAt(Pe++)!==36||(s=Qo(no))==null)throw yn("Variable");if(mt(),nr.charCodeAt(Pe++)!==58)throw yn("VariableDefinition");mt();var a=K0e(),c=void 0;nr.charCodeAt(Pe)===61&&(Pe++,mt(),c=Nv(!0)),mt(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:a,defaultValue:c,directives:Gp(!0)})}while(nr.charCodeAt(Pe)!==41);return Pe++,mt(),o}}(),n=Gp(!1)),nr.charCodeAt(Pe)===123)return Pe++,mt(),{kind:"OperationDefinition",operation:e||"query",name:t?{kind:"Name",value:t}:void 0,variableDefinitions:r,directives:n,selectionSet:Ov()}}function pV(e,t){return Pe=0,function(n,i){var o,s;mt();var a=[];do if((o=Qo(F0e))==="fragment")mt(),a.push(V0e());else if((s=H0e(o))!=null)a.push(s);else throw yn("Document");while(Pe<n.length);if(!i){var c;return{kind:"Document",definitions:a,set loc(u){c=u},get loc(){return c||(c={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),c}}}return{kind:"Document",definitions:a}}(nr=typeof e.body=="string"?e.body:e,t&&t.noLocation)}var yV=0,h5=new Set;function Vb(){function e(t,r){var n=pV(t).definitions,i=new Set;for(var o of r||[])for(var s of o.definitions)s.kind===Kb.FRAGMENT_DEFINITION&&!i.has(s)&&(n.push(s),i.add(s));var a;(a=n[0].kind===Kb.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(u=>u.name.value!=="_unmask"));var c;return{kind:Kb.DOCUMENT,definitions:n,get loc(){if(!c&&a){var u=t+function(f){try{yV++;var m="";for(var b of f)if(!h5.has(b)){h5.add(b);var{loc:w}=b;w&&(m+=w.source.body)}return m}finally{--yV==0&&h5.clear()}}(r||[]);return{start:0,end:u.length,source:{body:u,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return c},set loc(u){c=u}}}return e.scalar=function(r,n){return n},e.persisted=function(r,n){return{kind:Kb.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},e}var LWe=Vb();var mV=Vb();d();h();function q0e(e){if(e.length!==1)throw new Error("Invalid base64Url character: "+e);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(r===-1)throw new Error("Invalid base64Url character: "+e);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function W0e(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r),i=q0e(n);t=t.concat(i)}return t}function j0e(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=W0e(e),n=t%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let i=(t+e.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let a=0;a<r.length;a+=8){let c=r.slice(a,a+8),u=parseInt(c.join(""),2);o[s++]=u}return new TextDecoder().decode(o)}function z0e(e){if(!(e.slice(-1)==="}"||e.slice(-1)===","))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(Object.keys(t).length!==1)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}function gV(e,t){let r=j0e(e.value,e.indexMod4),[n,i]=z0e(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return i}d();h();d();h();var bV=N.struct("ZkLoginSignature",{inputs:N.struct("ZkLoginSignatureInputs",{proofPoints:N.struct("ZkLoginSignatureInputsProofPoints",{a:N.vector(N.string()),b:N.vector(N.vector(N.string())),c:N.vector(N.string())}),issBase64Details:N.struct("ZkLoginSignatureInputsClaim",{value:N.string(),indexMod4:N.u8()}),headerBase64:N.string(),addressSeed:N.string()}),maxEpoch:N.u64(),userSignature:N.vector(N.u8())});function xV(e){return bV.parse(typeof e=="string"?rr(e):e)}d();h();function G0e(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return t;return-1}function Dv(e,t){let r=e.toString(16);return XK(r.padStart(t*2,"0").slice(-t*2))}function p5(e,t){let r=Dv(e,t),n=G0e(r);return n===-1?new Uint8Array([0]):r.slice(n)}var vV=e=>{throw TypeError(e)},AV=(e,t,r)=>t.has(e)||vV("Cannot "+r),Ru=(e,t,r)=>(AV(e,t,"read from private field"),r?r.call(e):t.get(e)),y5=(e,t,r)=>t.has(e)?vV("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$p=(e,t,r,n)=>(AV(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Na,Fb,Hb,$0e=class m5 extends jp{constructor(t,{client:r}={}){super(),y5(this,Na),y5(this,Fb),y5(this,Hb),$p(this,Fb,r),typeof t=="string"?$p(this,Na,rr(t)):t instanceof Uint8Array?$p(this,Na,t):$p(this,Na,Uint8Array.from(t)),$p(this,Hb,Ru(this,Na).length!==Ru(this,Na)[0]+1+32),Ru(this,Hb)&&$p(this,Na,wV(Ru(this,Na)))}equals(t){return super.equals(t)}toSuiAddress(){if(Ru(this,Hb)){let t=wV(Ru(this,Na),!0),r=new Uint8Array(t.length+1);return r[0]=this.flag(),r.set(t,1),Tc(gv(hh(r,{dkLen:32})).slice(0,fl*2))}return super.toSuiAddress()}toRawBytes(){return Ru(this,Na)}flag(){return Uu.ZkLogin}async verify(t,r){throw Error("does not support")}verifyPersonalMessage(t,r){let n=Uv(r),i=new m5(n.publicKey).toSuiAddress();return SV({address:i,bytes:xt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Ru(this,Fb)})}verifyTransaction(t,r){let n=Uv(r),i=new m5(n.publicKey).toSuiAddress();return SV({address:i,bytes:xt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Ru(this,Fb)})}};Na=new WeakMap;Fb=new WeakMap;Hb=new WeakMap;var Y0e=$0e;function Z0e(e,t,r){let n=r?.legacyAddress?p5(e,32):Dv(e,32),i=new TextEncoder().encode(t),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new Y0e(o,r)}var J0e=mV(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function wV(e,t=!1){let r=e[0]+1,n=BigInt(`0x${Cn(e.slice(r))}`),i=t?p5(n,32):Dv(n,32),o=new Uint8Array(r+i.length);return o.set(e.slice(0,r),0),o.set(i,r),o}async function SV({address:e,bytes:t,signature:r,intentScope:n,client:i=new Cv({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:J0e,variables:{bytes:t,signature:r,intentScope:n,author:e}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function Uv(e){let t=typeof e=="string"?rr(e):e;if(t[0]!==Uu.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=xV(r),{issBase64Details:s,addressSeed:a}=n,c=gV(s,"iss"),u=Z0e(BigInt(a),c);return{serializedSignature:xt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:c,addressSeed:BigInt(a)},signature:t,publicKey:u.toRawBytes()}}function EV({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+e.length+n.length);return i.set([Uu[t]]),i.set(e,1),i.set(n,1+e.length),xt(i)}function IV(e){let t=rr(e),r=Sv[t[0]];switch(r){case"MultiSig":let n=Nu.MultiSig.parse(t.slice(1));return{serializedSignature:e,signatureScheme:r,multisig:n,bytes:t};case"ZkLogin":return Uv(e);case"ED25519":case"Secp256k1":case"Secp256r1":let i=nV[r],o=t.slice(1,t.length-i),s=t.slice(1+o.length);return{serializedSignature:e,signatureScheme:r,signature:o,publicKey:s,bytes:t};default:throw new Error("Unsupported signature scheme")}}d();h();d();h();d();h();function Yp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function X0e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function qb(e,...t){if(!X0e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Rv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yp(e.outputLen),Yp(e.blockLen)}function Zp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function kV(e,t){qb(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}d();h();d();h();d();h();var Xp=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Q0e(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function ml(e){return typeof e=="string"&&(e=Q0e(e)),qb(e),e}var Jp=class{clone(){return this._cloneInto()}};function TV(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function PV(e){let t=n=>e().update(ml(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}var Lv=class extends Jp{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Rv(t);let n=ml(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Zp(this),this.iHash.update(t),this}digestInto(t){Zp(this),qb(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},g5=(e,t,r)=>new Lv(e,t).update(r).digest();g5.create=(e,t)=>new Lv(e,t);function epe(e,t,r,n){Rv(e);let i=TV({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(Yp(o),Yp(s),Yp(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=ml(t),u=ml(r),l=new Uint8Array(s),f=g5.create(e,c),m=f._cloneInto().update(u);return{c:o,dkLen:s,asyncTick:a,DK:l,PRF:f,PRFSalt:m}}function tpe(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function BV(e,t,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=epe(e,t,r,n),u,l=new Uint8Array(4),f=Xp(l),m=new Uint8Array(a.outputLen);for(let b=1,w=0;w<o;b++,w+=a.outputLen){let S=s.subarray(w,w+a.outputLen);f.setInt32(0,b,!1),(u=c._cloneInto(u)).update(l).digestInto(m),S.set(m.subarray(0,S.length));for(let P=1;P<i;P++){a._cloneInto(u).update(m).digestInto(m);for(let M=0;M<S.length;M++)S[M]^=m[M]}}return tpe(a,c,s,u,m)}d();h();function rpe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var Kv=class extends Jp{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Xp(this.buffer)}update(t){Zp(this);let{view:r,buffer:n,blockLen:i}=this;t=ml(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=Xp(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Zp(this),kV(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;rpe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=Xp(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};d();h();d();h();var Vv=BigInt(4294967295),b5=BigInt(32);function _V(e,t=!1){return t?{h:Number(e&Vv),l:Number(e>>b5&Vv)}:{h:Number(e>>b5&Vv)|0,l:Number(e&Vv)|0}}function npe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=_V(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var ipe=(e,t)=>BigInt(e>>>0)<<b5|BigInt(t>>>0),ope=(e,t,r)=>e>>>r,spe=(e,t,r)=>e<<32-r|t>>>r,ape=(e,t,r)=>e>>>r|t<<32-r,cpe=(e,t,r)=>e<<32-r|t>>>r,upe=(e,t,r)=>e<<64-r|t>>>r-32,fpe=(e,t,r)=>e>>>r-32|t<<64-r,lpe=(e,t)=>t,dpe=(e,t)=>e,hpe=(e,t,r)=>e<<r|t>>>32-r,ppe=(e,t,r)=>t<<r|e>>>32-r,ype=(e,t,r)=>t<<r-32|e>>>64-r,mpe=(e,t,r)=>e<<r-32|t>>>64-r;function gpe(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var bpe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),xpe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,wpe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Spe=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,vpe=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Ape=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;var Epe={fromBig:_V,split:npe,toBig:ipe,shrSH:ope,shrSL:spe,rotrSH:ape,rotrSL:cpe,rotrBH:upe,rotrBL:fpe,rotr32H:lpe,rotr32L:dpe,rotlSH:hpe,rotlSL:ppe,rotlBH:ype,rotlBL:mpe,add:gpe,add3L:bpe,add3H:xpe,add4L:wpe,add4H:Spe,add5H:Ape,add5L:vpe},wt=Epe;var[Ipe,kpe]=wt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),gl=new Uint32Array(80),bl=new Uint32Array(80),x5=class extends Kv{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)gl[C]=t.getUint32(r),bl[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=gl[C-15]|0,L=bl[C-15]|0,W=wt.rotrSH(R,L,1)^wt.rotrSH(R,L,8)^wt.shrSH(R,L,7),G=wt.rotrSL(R,L,1)^wt.rotrSL(R,L,8)^wt.shrSL(R,L,7),H=gl[C-2]|0,$=bl[C-2]|0,B=wt.rotrSH(H,$,19)^wt.rotrBH(H,$,61)^wt.shrSH(H,$,6),p=wt.rotrSL(H,$,19)^wt.rotrBL(H,$,61)^wt.shrSL(H,$,6),g=wt.add4L(G,p,bl[C-7],bl[C-16]),x=wt.add4H(g,W,B,gl[C-7],gl[C-16]);gl[C]=x|0,bl[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=wt.rotrSH(f,m,14)^wt.rotrSH(f,m,18)^wt.rotrBH(f,m,41),L=wt.rotrSL(f,m,14)^wt.rotrSL(f,m,18)^wt.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=wt.add5L(D,L,G,kpe[C],bl[C]),$=wt.add5H(H,M,R,W,Ipe[C],gl[C]),B=H|0,p=wt.rotrSH(n,i,28)^wt.rotrBH(n,i,34)^wt.rotrBH(n,i,39),g=wt.rotrSL(n,i,28)^wt.rotrBL(n,i,34)^wt.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=wt.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=wt.add3L(B,g,A);n=wt.add3H(v,$,p,x),i=v|0}({h:n,l:i}=wt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=wt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=wt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=wt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=wt.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=wt.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=wt.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=wt.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){gl.fill(0),bl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var CV=PV(()=>new x5);function MV(e){if(typeof e!="string")throw new TypeError("invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function Tpe(e){let t=MV(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}var Ppe=e=>MV("mnemonic"+e);function Fv(e,t=""){return BV(CV,Tpe(e).nfkd,Ppe(t),{c:2048,dkLen:64})}function w5(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function Bpe(e){return Fv(e,"")}function NV(e){return Cn(Bpe(e))}d();h();var Wb=ne(ph(),1);var ty=32;var v5="suiprivkey",qv=class{async signWithIntent(t,r){let n=wv(r,t),i=hh(n,{dkLen:32});return{signature:EV({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:xt(t)}}async signTransaction(t){return this.signWithIntent(t,"TransactionData")}async signPersonalMessage(t){let{signature:r}=await this.signWithIntent(N.vector(N.u8()).serialize(t).toBytes(),"PersonalMessage");return{bytes:xt(t),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},jb=class extends qv{};function yh(e){let{prefix:t,words:r}=Wb.bech32.decode(e);if(t!==v5)throw new Error("invalid private key prefix");let n=new Uint8Array(Wb.bech32.fromWords(r)),i=n.slice(1);return{schema:Sv[n[0]],secretKey:i}}function A5(e,t){if(e.length!==ty)throw new Error("Invalid bytes length");let r=Uu[t],n=new Uint8Array(e.length+1);return n.set([r]),n.set(e,1),Wb.bech32.encode(v5,Wb.bech32.toWords(n))}d();h();d();h();var mh=ne(gs(),1);d();h();d();h();var Wv=class extends ll{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,YK(t);let n=Ns(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Ou(this),this.iHash.update(t),this}digestInto(t){Ou(this),qp(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},jv=(e,t,r)=>new Wv(e,t).update(r).digest();jv.create=(e,t)=>new Wv(e,t);d();h();d();h();function Npe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var zv=class extends ll{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=mv(this.buffer)}update(t){Ou(this);let{view:r,buffer:n,blockLen:i}=this;t=Ns(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=mv(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ou(this),yv(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;Npe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=mv(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var[Ope,Dpe]=Ie.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),xl=new Uint32Array(80),wl=new Uint32Array(80),E5=class extends zv{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)xl[C]=t.getUint32(r),wl[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=xl[C-15]|0,L=wl[C-15]|0,W=Ie.rotrSH(R,L,1)^Ie.rotrSH(R,L,8)^Ie.shrSH(R,L,7),G=Ie.rotrSL(R,L,1)^Ie.rotrSL(R,L,8)^Ie.shrSL(R,L,7),H=xl[C-2]|0,$=wl[C-2]|0,B=Ie.rotrSH(H,$,19)^Ie.rotrBH(H,$,61)^Ie.shrSH(H,$,6),p=Ie.rotrSL(H,$,19)^Ie.rotrBL(H,$,61)^Ie.shrSL(H,$,6),g=Ie.add4L(G,p,wl[C-7],wl[C-16]),x=Ie.add4H(g,W,B,xl[C-7],xl[C-16]);xl[C]=x|0,wl[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=Ie.rotrSH(f,m,14)^Ie.rotrSH(f,m,18)^Ie.rotrBH(f,m,41),L=Ie.rotrSL(f,m,14)^Ie.rotrSL(f,m,18)^Ie.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=Ie.add5L(D,L,G,Dpe[C],wl[C]),$=Ie.add5H(H,M,R,W,Ope[C],xl[C]),B=H|0,p=Ie.rotrSH(n,i,28)^Ie.rotrBH(n,i,34)^Ie.rotrBH(n,i,39),g=Ie.rotrSL(n,i,28)^Ie.rotrBL(n,i,34)^Ie.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=Ie.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=Ie.add3L(B,g,A);n=Ie.add3H(v,$,p,x),i=v|0}({h:n,l:i}=Ie.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ie.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Ie.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ie.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=Ie.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=Ie.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=Ie.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=Ie.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){xl.fill(0),wl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var I5=QK(()=>new E5);var Upe=ne(gs(),1),Rpe="ed25519 seed",Lpe=2147483648,Kpe=new RegExp("^m(\\/[0-9]+')+$"),RV=e=>e.replace("'",""),Vpe=e=>{let r=jv.create(I5,Rpe).update(Ms(e)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Fpe=({key:e,chainCode:t},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+e.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(e,1),o.set(new Uint8Array(n,0,n.byteLength),e.length+1);let s=jv.create(I5,t).update(o).digest(),a=s.slice(0,32),c=s.slice(32);return{key:a,chainCode:c}};var Hpe=e=>Kpe.test(e)?!e.split("/").slice(1).map(RV).some(isNaN):!1,k5=(e,t,r=Lpe)=>{if(!Hpe(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Vpe(t);return e.split("/").slice(1).map(RV).map(s=>parseInt(s,10)).reduce((s,a)=>Fpe(s,a+r),{key:n,chainCode:i})};d();h();var LV=ne(gs(),1);var T5=32,Sl=class extends jp{constructor(t){if(super(),typeof t=="string"?this.data=rr(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==T5)throw new Error(`Invalid public key input. Expected ${T5} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Uu.ED25519}async verify(t,r){let n;if(typeof r=="string"){let i=IV(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!r5(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return LV.default.sign.detached.verify(t,n,this.toRawBytes())}};Sl.SIZE=T5;var P5="m/44'/784'/0'/0'/0'",gh=class e extends jb{constructor(t){super(),t?this.keypair=t:this.keypair=mh.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new e(mh.default.sign.keyPair())}static fromSecretKey(t,r){if(typeof t=="string"){let o=yh(t);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=t.length;if(n!==ty)throw new Error(`Wrong secretKey size. Expected ${ty} bytes, got ${n}.`);let i=mh.default.sign.keyPair.fromSeed(t);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),a=mh.default.sign.detached(s,i.secretKey);if(!mh.default.sign.detached.verify(s,a,i.publicKey))throw new Error("provided secretKey is invalid")}return new e(i)}getPublicKey(){return new Sl(this.keypair.publicKey)}getSecretKey(){return A5(this.keypair.secretKey.slice(0,ty),this.getKeyScheme())}async sign(t){return mh.default.sign.detached(t,this.keypair.secretKey)}static deriveKeypair(t,r){if(r==null&&(r=P5),!w5(r))throw new Error("Invalid derivation path");let{key:n}=k5(r,NV(t));return e.fromSecretKey(n)}static deriveKeypairFromSeed(t,r){if(r==null&&(r=P5),!w5(r))throw new Error("Invalid derivation path");let{key:n}=k5(r,t);return e.fromSecretKey(n)}};var Gv=class{addressTypes=["sui"];generateKeypairFromPrivateKey(t){let r=t.fold(s=>new Uint8Array(s)),n=gh.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),o=yh(n.getSecretKey());if(o.schema!=="ED25519")throw new Error(`got unexpected schema ${o.schema} for Sui`);return{publicKey:i,privateKey:o.secretKey}}generateKeypairFromSeed(t,r,n){let i=t.fold(o=>new Oi(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};var zb=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new OS),this.registerChainPlugin(new rv),this.registerChainPlugin(new sv),this.registerChainPlugin(new Gv)}registerChainPlugin(t){for(let r of t.addressTypes)this.cryptoChainPlugins.set(r,t)}generateKeypairFromPrivateKey(t,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(t)}generateKeypairFromSeed(t,r,n){let i=Di.getAddressType(n),o=this.cryptoChainPlugins.get(i);if(!o)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return o.generateKeypairFromSeed(t,r,n)}};d();h();function B5(e){return Di.getAll().includes(e)}d();h();var uF=ne(wo()),fF=ne(ny()),tA=ne(gs()),lF=ne(Qv());var F5=e=>{let{privateKey:t,addressType:r}=e;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:wye(t,e.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:Sye(t),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return Aye(t)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:vye(t),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return ve(r)}},wye=(e,t)=>{try{let{privateKey:r}=lF.decodeRaw(fF.default.decode(e),t);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},Sye=e=>{let t=Buffer.from(e.replace("0x",""),"hex");try{return new Dp(new Uint8Array(t)),t}catch{throw new Error("Provided Ethereum private key is invalid!")}},eA=e=>{let t=tA.default.sign.keyPair.fromSecretKey(e),r=Buffer.from("phantom-secret-key-validation"),n=tA.default.sign.detached(r,e);if(!tA.default.sign.detached.verify(r,n,t.publicKey))throw new Error("Provided Solana private key is invalid!")},vye=e=>{try{let t=yh(e);if(t.schema!=="ED25519")throw new Error("Invalid schema");return t.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},Aye=e=>{try{let t=JSON.parse(e);return eA(Uint8Array.from(t)),{key:t,encoding:"uint8array"}}catch{}try{let t=uF.default.decode(e);return eA(t),{key:t,encoding:"base58"}}catch{}try{let t=Buffer.from(e,"hex");return eA(t),{key:t,encoding:"hex"}}catch{}try{let t=Buffer.from(e,"base64");return eA(t),{key:t,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};d();h();var dF=ne(wo()),hF=ne(ny()),pF=ne(Qv());var Eye=e=>{let{privateKey:t,addressType:r}=e;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return hF.default.encode(pF.encodeRaw(e.networkIDValue,Buffer.from(t),!0));case"eip155":return"0x"+Buffer.from(t).toString("hex");case"solana":return dF.default.encode(t);case"sui":return gh.fromSecretKey(t).getSecretKey();default:return ve(r)}};d();h();var $b=e=>{try{return Xi.from(F5(e).key)}catch(t){return console.error(t),Xi.from(Buffer.from(""))}};d();h();var l2e=ne(fA());d();h();var[DF,UF,RF]=[[],[],[]],bme=BigInt(0),Qb=BigInt(1),xme=BigInt(2),wme=BigInt(7),Sme=BigInt(256),vme=BigInt(113);for(let e=0,t=Qb,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],DF.push(2*(5*n+r)),UF.push((e+1)*(e+2)/2%64);let i=bme;for(let o=0;o<7;o++)t=(t<<Qb^(t>>wme)*vme)%Sme,t&xme&&(i^=Qb<<(Qb<<BigInt(o))-Qb);RF.push(i)}var[Ame,Eme]=Ke.split(RF,!0),NF=(e,t,r)=>r>32?Ke.rotlBH(e,t,r):Ke.rotlSH(e,t,r),OF=(e,t,r)=>r>32?Ke.rotlBL(e,t,r):Ke.rotlSL(e,t,r);function Ime(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],l=r[c+1],f=NF(u,l,1)^r[a],m=OF(u,l,1)^r[a+1];for(let b=0;b<50;b+=10)e[s+b]^=f,e[s+b+1]^=m}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=UF[s],c=NF(i,o,a),u=OF(i,o,a),l=DF[s];i=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Ame[n],e[1]^=Eme[n]}r.fill(0)}var lA=class e extends Up{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pa.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_K(this.state)}keccak(){Ime(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Pa.exists(this);let{blockLen:r,state:n}=this;t=Rp(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Pa.exists(this,!1),Pa.bytes(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pa.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Pa.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}},Pl=(e,t,r)=>lh(()=>new lA(t,e,r)),dYe=Pl(6,144,224/8),hYe=Pl(6,136,256/8),pYe=Pl(6,104,384/8),yYe=Pl(6,72,512/8),mYe=Pl(1,144,224/8),rP=Pl(1,136,256/8),gYe=Pl(1,104,384/8),bYe=Pl(1,72,512/8),LF=(e,t,r)=>CK((n={})=>new lA(t,e,n.dkLen===void 0?r:n.dkLen,!0)),xYe=LF(31,168,128/8),wYe=LF(31,136,256/8);var Ua=ne(Sx()),aj=ne(wo());function Hi(e){let{publicKey:t,addressType:r}=e;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return d2e(t,r,e.networkID);case"eip155":return h2e(t);case"solana":return aj.default.encode(t);case"sui":return new Sl(t).toSuiAddress();default:return ve(r)}}var d2e=(e,t,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?Ua.networks.testnet:Ua.networks.bitcoin,i;switch(t){case"bip122_p2tr":Ua.initEccLib(l2e),i=Ua.payments.p2tr({internalPubkey:Buffer.from(e.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":i=Ua.payments.p2wpkh({pubkey:Buffer.from(e),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let o=Buffer.from(e),s=Ua.payments.p2wpkh({pubkey:o,network:n},{validate:!1});i=Ua.payments.p2sh({pubkey:o,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{i=Ua.payments.p2pkh({pubkey:Buffer.from(e),network:n},{validate:!1})?.address;break}default:ve(t)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},h2e=e=>{let t=e.slice(1),n=rP(t).slice(12);return p2e(`0x${Buffer.from(n).toString("hex")}`)},p2e=e=>{if(!Fd.safeParse(e).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let t=e.toLowerCase().replace("0x",""),r=Buffer.from(rP(Buffer.from(t,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n};d();h();function Wl(e){return el.safeParse(e).success}d();h();function AB(e){switch(e){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}d();h();d();h();d();h();var ni=(c=>(c.Solana="solana",c.Monad="monad",c.Ethereum="ethereum",c.Base="base",c.Arbitrum="arbitrum",c.Polygon="polygon",c.Bitcoin="bitcoin",c.Sui="sui",c))(ni||{}),Mo=(c=>(c.Ethereum="60",c.Monad="143",c.Polygon="966",c.Base="8453",c.Arbitrum="9001",c.Solana="501",c.Bitcoin="0",c.Sui="784",c))(Mo||{}),EB=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},Ey=class extends EB{constructor(t){super("sui",t)}};var xE=(r=>(r.Mainnet="eip155:42161",r.Sepolia="eip155:421614",r))(xE||{}),cj=U.union([U.literal("eip155:42161"),U.literal("eip155:421614")]),IB={id:"arbitrum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{"eip155:42161":{id:"eip155:42161",name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},"eip155:421614":{id:"eip155:421614",name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:"eip155:42161",tokenDecimals:18,tokenSymbol:"ETH",slip44:"9001",parentChain:"ethereum"};d();h();var wE=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(wE||{}),uj=U.union([U.literal("eip155:8453"),U.literal("eip155:84532")]),kB={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};d();h();var y2e=ne(fA());var vE=ne(Sx());d();h();var vx=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(vx||{}),Iy=U.union([U.literal("sui:mainnet"),U.literal("sui:testnet")]),TB={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},SE=U.object({networkID:Iy,addressType:U.nativeEnum(Ee),address:gf,publicKey:U.instanceof(Uint8Array).optional()});var En=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(En||{}),jl=U.union([U.literal("bip122:000000000019d6689c085ae165831e93"),U.literal("bip122:000000000933ea01ad0ee984209779ba")]),fj=U.union([U.literal("sui:mainnet"),U.literal("sui:testnet")]),zl=U.string().refine(e=>{try{return vE.initEccLib(y2e),vE.address.toOutputScript(e),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),Ax=U.object({networkID:jl,addressType:U.nativeEnum(Ee),address:zl,publicKey:U.instanceof(Uint8Array).optional()}),PB={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};d();h();d();h();var Ex=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(Ex||{}),BB=U.union([U.literal("eip155:143"),U.literal("eip155:10143"),U.literal("eip155:41454")]),_B={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};d();h();var AE=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(AE||{}),CB=U.union([U.literal("eip155:137"),U.literal("eip155:80002")]),MB={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};var EE=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(EE||{}),lj=U.union([U.literal("eip155:1"),U.literal("eip155:11155111")]),Gl=U.union([lj,CB,uj,BB,cj]),Ix=U.object({networkID:Gl,addressType:U.nativeEnum(Ee),address:cc}),NB={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};d();h();var kx=(i=>(i.Mainnet="solana:101",i.Testnet="solana:102",i.Devnet="solana:103",i.Localnet="solana:localnet",i))(kx||{}),$l=U.union([U.literal("solana:101"),U.literal("solana:102"),U.literal("solana:103"),U.literal("solana:localnet")]),Tx=U.object({networkID:$l,addressType:U.nativeEnum(Ee),address:mf}),OB={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};d();h();function IE(e){return Object.values(ni).includes(e)}var qi={bitcoin:PB,ethereum:NB,polygon:MB,monad:_B,solana:OB,base:kB,sui:TB,arbitrum:IB},kE={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7,arbitrum:8},m2e={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!1,arbitrum:!1},DB=(e,t)=>{let r=kE[e]-kE[t];return r===0?0:r>0?1:-1},g2e=()=>{let e=Object.values(ni).sort(DB),t=e.map(Y=>qi[Y]),r={},n=[],i={},o={},s={};t.forEach(Y=>{let V=Object.fromEntries(Object.entries(Y.networks).filter(([ee,he])=>!he.hidden)),Z=Object.keys(V);n.push(...Z),Z.forEach(ee=>{r[ee]=Y});let X=Object.values(V);i[Y.id]=X.map(ee=>ee.id),X.forEach(ee=>{o[ee.id]=ee});for(let ee of Y.addressTypes){let he=s[ee];he?he.push(Y.id):s[ee]=[Y.id]}});let a=new Set(n);function c(Y){return Y?.evmOnly?e.filter(V=>qi[V].addressTypes.includes("eip155")):e}function u(Y,V){return Y==="sui"?V:m2e[Y]}function l(Y){return n.filter(V=>r[V].id===Y)}function f(Y){if(!Y)return n;let V=n;return Y.evmOnly&&(V=V.filter(Z=>_(Z))),Y.mainnetOnly&&(V=V.filter(Z=>q(Z))),V}function m(Y){return r[Y]}function b(Y){return o[Y].rpcProxyUrl}function w(Y){return r[Y].addressTypes[0]}function S(Y){let V=r[Y];if(V.addressTypes.length===1){let[Z]=V.addressTypes;return Z}else throw`The chain ${V.id} has multiple address types`}function P(Y){return r[Y].addressTypes}function M(Y){return r[Y].id}function D(Y){return qi[pe(Y)].name}function C(Y){return r[Y].tokenDecimals}function R(Y){return($(Y)?r[Y]:qi[Y]).tokenSymbol}function L(Y){return($(Y)?r[Y]:qi[Y]).iconUrl}function W(Y){return r[Y].slip44}function G(Y){return qi[pe(Y)].mainnetID}function H(Y){let V;if(_(Y)&&(V=o[Y].value),typeof V=="number")return V;throw new Error(`Invalid NetworkID: ${Y}. Must be an EVM NetworkID.`)}function $(Y){return a.has(Y)}function B(Y){return Object.keys(qi.bitcoin.networks).includes(Y)}function p(Y){return Object.keys(qi.ethereum.networks).includes(Y)}function g(Y){return Object.keys(qi.polygon.networks).includes(Y)}function x(Y){return Object.keys(qi.base.networks).includes(Y)}function A(Y){return Object.keys(qi.arbitrum.networks).includes(Y)}function v(Y){return Object.keys(qi.monad.networks).includes(Y)}function _(Y){return p(Y)||g(Y)||x(Y)||v(Y)||A(Y)}function O(Y){return Object.keys(qi.solana.networks).includes(Y)}function T(Y){return Object.keys(qi.sui.networks).includes(Y)}function y(Y){if(!O(Y))throw new Error(`Invalid NetworkID: ${Y}. Must be a Solana NetworkID.`);return qi.solana.networks[Y].value}function I(Y){return r[Y].localnetID===Y}function q(Y){return r[Y].mainnetID===Y}function K(Y){return o[Y]}function F(Y,V=!1){let Z=o[Y];return V&&Z.shortName?Z.shortName:Z.name}function J(Y){return r[Y].parentChain}function ae(Y){return s[Y]}function ce(Y,V){let Z=r[Y].id,X=r[V].id;return DB(Z,X)}function pe(Y){return IE(Y)?Y:$(Y)?re.getChainID(Y):ve(Y)}return{...qi,getAllChainIDs:c,isChainDefaultEnabled:u,getNetworkIDs:l,getAllNetworkIDs:f,getChainDefinition:m,getAddressType:S,getAddressTypes:P,getChainID:M,getChainName:D,getTokenDecimals:C,getTokenSymbol:R,getChainIconUrl:L,getSlip44:W,getMainnetNetworkID:G,getEVMNetworkIDValue:H,getSolanaNetworkIDValue:y,_DO_NOT_USE_getAddressType:w,isNetworkID:$,isBitcoinNetworkID:B,isEVMNetworkID:_,isSolanaNetworkID:O,isEthereumNetworkID:p,isPolygonNetworkID:g,isBaseNetworkID:x,isArbitrumNetworkID:A,isSuiNetworkID:T,isLocalNetworkID:I,isMainnetNetworkID:q,getNetworkDefinition:K,getNetworkName:F,getChainIDs:ae,compareChain:DB,compareNetworkID:ce,getRpcProxyUrl:b,getParentChain:J}},re=g2e();d();h();var jt={Bitcoin:En,Ethereum:EE,Polygon:AE,Solana:kx,Sui:vx,Base:wE,Monad:Ex,Arbitrum:xE},Yu=U.union([jl,Gl,$l,Iy]),b2e=U.union([Ax,Ix,Tx,SE]);d();h();d();h();var Ra=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(Ra||{}),dj=U.string(),hj=U.object({chainId:Yu,resourceType:U.nativeEnum(Ra)}),UB=hj.extend({resourceType:U.literal("nativeToken"),slip44:U.nativeEnum(Mo)}),Lh=hj.extend({resourceType:U.literal("address"),address:U.string()}),RB=Lh.extend({chainId:$l,address:mf}),LB=Lh.extend({chainId:Gl,address:cc,tokenId:U.string().optional()}),KB=Lh.extend({chainId:jl,address:zl.or(U.string())}),x2e=Lh.extend({chainId:fj,address:gf,tokenId:U.string().optional()}),pj=U.union([UB,Lh,RB,LB,KB,x2e]);var yj=e=>{let t=e.split("/");if(t.length>3||t.length<2)throw new Error(`Cannot decode malformed caip19 string '${e}'`);let r=t[0];if(!(re.isEVMNetworkID(r)||re.isSolanaNetworkID(r)||re.isBitcoinNetworkID(r)||re.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=t[1].split(/:(.+)/),[i,o]=n;if(!i||!o)throw new Error(`Invalid resource specification '${t[1]}'`);if(!Object.values(Ra).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i==="nativeToken"){if(!Object.values(Mo).includes(o))throw new Error(`Unsupported slip44 '${o}'`);return{chainId:r,resourceType:i,slip44:o}}else if(re.isEVMNetworkID(r)){if(i==="address")return t.length===3?{chainId:r,address:o,resourceType:i,tokenId:t[2]}:{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(re.isSolanaNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(re.isBitcoinNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(re.isSuiNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${e}'`)};d();h();var TE=e=>{if(e.resourceType==="nativeToken")return`${e.chainId}/nativeToken:${e.slip44}`;if(re.isEVMNetworkID(e.chainId))return e.address=e.address.toLowerCase(),"tokenId"in e&&typeof e.tokenId=="string"&&e.tokenId?`${e.chainId}/address:${e.address}/${e.tokenId}`:`${e.chainId}/address:${e.address}`;if(re.isSolanaNetworkID(e.chainId))return`${e.chainId}/address:${e.address}`;if(re.isBitcoinNetworkID(e.chainId)){let t=e;return`${t.chainId}/address:${t.address}`}return re.isSuiNetworkID(e.chainId)?"tokenId"in e&&typeof e.tokenId=="string"&&e.tokenId?`${e.chainId}/address:${e.address}/${e.tokenId}`:`${e.chainId}/address:${e.address}`:ve(e.chainId)};d();h();d();h();var mj=U.string().refine(e=>{let t=e.split("/");if(t.length<2)return!1;let r=t[0],i=t[1].split(":");if(i.length<2)return!1;let o=i[0],s=i[1];return typeof e=="string"&&re.isNetworkID(r)&&o.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});d();h();function gj(e){return!e||e.resourceType!=="address"?!1:!!re.isEVMNetworkID(e.chainId)}d();h();d();h();function PE(e,t){return re.isBitcoinNetworkID(t)?zl.safeParse(e).success:re.isEVMNetworkID(t)?cc.safeParse(e).success:re.isSolanaNetworkID(t)?mf.safeParse(e).success:re.isSuiNetworkID(t)?gf.safeParse(e).success:ve(t)}d();h();var BE=e=>{let t=re.getNetworkIDs(e),r=re.getMainnetNetworkID(t[0]),n=re[e].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};d();h();d();h();d();h();function bj(e){return Ax.safeParse(e).success}function xj(e){return Tx.safeParse(e).success}function wj(e){return Ix.safeParse(e).success}var Sj=U.object({networkID:Yu,addressType:U.nativeEnum(Ee),address:U.string()}),S2e=e=>`${e.networkID}-${e.address}`,vj={toKey:S2e},Aj=e=>{let t={chainId:e.networkID,address:e.address,resourceType:"address"};return re.isEVMNetworkID(e.networkID)&&(t.address=t.address.toLowerCase()),t};d();h();function Ej(e){return[jt.Solana.Devnet,jt.Solana.Testnet,jt.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(e,16))?`solana:${parseInt(e,16)}`:`eip155:${parseInt(e,16)}`}d();h();var Ij=U.object({id:Yu,name:U.string(),symbol:U.string(),imageUrl:U.string()});function kj(e){let{name:t,tokenSymbol:r,iconUrl:n}=re.getChainDefinition(e);return{id:e,name:t,symbol:r,imageUrl:n}}d();h();function Tj(e){switch(e){case"devnet":return jt.Solana.Devnet;case"mainnet":return jt.Solana.Mainnet;case"testnet":return jt.Solana.Testnet;case"localnet":return jt.Solana.Localnet}}function Pj(e){switch(e){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return e}}d();h();var Uc=(e,t)=>{if(re.isBitcoinNetworkID(e)){switch(!0){case(t.startsWith("bc1p")||t.startsWith("bcrt1p")||t.startsWith("tb1p")):return"bip122_p2tr";case(t.startsWith("bc1q")||t.startsWith("tb1q")):return"bip122_p2wpkh";case(t.startsWith("3")||t.startsWith("2")):return"bip122_p2sh";case(t.startsWith("1")||t.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${t}`)}else return re.isEVMNetworkID(e)?"eip155":re.isSolanaNetworkID(e)?"solana":re.isSuiNetworkID(e)?"sui":ve(e)};d();h();var v2e=re.getAllNetworkIDs().filter(e=>re.isEVMNetworkID(e)),Bj=e=>v2e.find(t=>re.getNetworkDefinition(t).value===e);d();h();var _j=e=>re.getAllNetworkIDs({evmOnly:!0}).filter(t=>{if(e){if(e==="mainnets_only")return re.isMainnetNetworkID(t);if(e==="testnets_only")return!re.isMainnetNetworkID(t)}else return!0}).map(VB),VB=e=>`0x${re.getNetworkDefinition(e).value.toString(16)}`;d();h();var k2e={[jt.Monad.Mainnet]:1,[jt.Monad.Devnet]:1,[jt.Monad.Testnet]:1,[jt.Ethereum.Mainnet]:6,[jt.Ethereum.Sepolia]:6,[jt.Polygon.Mainnet]:128,[jt.Polygon.Amoy]:128,[jt.Base.Mainnet]:3,[jt.Base.Sepolia]:3,[jt.Arbitrum.Mainnet]:1,[jt.Arbitrum.Sepolia]:1},T2e={[jt.Bitcoin.Mainnet]:1,[jt.Bitcoin.Testnet]:1};var P2e="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",B2e=100;d();h();d();h();function _2e(e,t){return t.getSupportedChains().includes(e)}function Cj(e,t){if(IE(e))return t.get(e);if(re.isNetworkID(e)){let r=re.getChainID(e);if(_2e(r,t))return t.get(r)}throw new Error("Invalid input type for chain config get method")}function FB(e){return{get:t=>Cj(t,e),supportedChains:e.getSupportedChains()}}d();h();var Px=class{chainConfigMap=new Map;constructor(t){Object.entries(t).forEach(([r,n])=>{this.register(r,n)})}register(t,r){this.chainConfigMap.set(t,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(t){let r=this.chainConfigMap.get(t);if(!r)throw new Error(`No chain config found for chain: ${t}`);return r}};d();h();var Mj=".phantom-labs.internal.enabledChainsOverrideSettings",Nj=async e=>{try{return(await e.get(Mj))?.settings}catch{return null}},Oj=async(e,t,r)=>{let n=await Nj(r);return r.set(Mj,{version:1,settings:{...n!=null&&n,[e]:t}})},Dj=async e=>{let t=[],r;try{r=await Nj(e),r&&Object.entries(r).forEach(([i,o])=>{o||t.push(i)})}catch{}try{let i=await e.get(C2e);!i||i.version===1||i.chains.forEach(o=>{r&&r[o]||t.push(o)})}catch{}let n=await Ji.isFeatureEnabledAsync("enable-sui-default-on");try{re.getAllChainIDs().forEach(i=>{r&&r[i]||re.isChainDefaultEnabled(i,n)||t.push(i)})}catch{}return[...new Set(t)]},Uj=async(e,t)=>Oj(e,!1,t),HB=async(e,t)=>Oj(e,!0,t),ky=".phantom-labs.internal.disabledAddressTypes",Rj=async e=>{let t;try{t=await e.get(ky)!==null}catch{t=!1}return t},Lj=async e=>{let t;try{t=(await e.get(ky))?.addressTypes??[]}catch{t=[]}return[...new Set([...t,"bip122_p2sh","bip122_p2pkh"])]},Kj=async(e,t)=>{let r=await t.get(ky),n=new Set(r?.addressTypes??[]);return n.delete(e),t.set(ky,{version:1,addressTypes:Array.from(n)})},Vj=async(e,t)=>{let r=await t.get(ky),n=new Set(r?.addressTypes??[]);return n.add(e),t.set(ky,{version:1,addressTypes:Array.from(n)})},C2e=".phantom-labs.internal.disabledChains";d();h();var Fj=!1,Kh=async(e,t,r)=>{t=t??await Ji.isFeatureEnabledAsync("enable-monad"),r=r??await Ji.isFeatureEnabledAsync("enable-arbitrum"),Fj||(fe.addBreadcrumb("network",`Fetched chain availability where ${JSON.stringify({isMonadFeatureEnabled:t})}`,"info"),Fj=!0);let n=re.getAllChainIDs().filter(D=>(D!=="monad"||t)&&(D!=="arbitrum"||r)),i=await Dj(e),o=new Set(i),s=n.filter(D=>!o.has(D)),a=D=>{let C=re.getChainID(D);return s.includes(C)},c=re.getAllNetworkIDs({mainnetOnly:!1}).filter(a),u=re.getAllNetworkIDs({mainnetOnly:!0}).filter(a),l=new Set(i.flatMap(D=>re.getNetworkIDs(D))),f=c.filter(D=>!l.has(D)),m=u.filter(D=>!l.has(D)),b=f.filter(D=>!re.isMainnetNetworkID(D)),w=Di.getAll(),S=await Lj(e),P=new Set(S);for(let D of w){let C=re.getChainIDs(D);if(!C){P.add(D);continue}C.every(L=>o.has(L))&&P.add(D)}let M=w.filter(D=>!P.has(D));return{supportedChainIDs:n,supportedAddressTypes:w,disabledChainIDs:i,enabledChainIDs:s,enabledAddressTypes:M,enabledNetworkIDs:f,enabledMainnetOnlyNetworkIDs:m,enabledTestnetOnlyNetworkIDs:b}};d();h();d();h();var _E="@phantom/chains",CE={enabledChains:[`${_E}:enabled-chains`],enabledAddressTypes:[`${_E}:enabled-address-types`],enabledNetworkIDs(e){return[`${_E}:enabled-network-ids`,{mainnetOnly:e}]},chainAvailability(e){return[`${_E}:chain-availability`,e]}};var Hj=[],qB=e=>{Hj.push(e)},Zu=async e=>{let t=Ji.isFeatureEnabled("enable-monad"),r=Ji.isFeatureEnabled("enable-arbitrum");await e.invalidateQueries({queryKey:CE.chainAvailability({isMonadEnabled:t,isArbitrumEnabled:r})}),await Promise.all(Hj.map(n=>n(e)))};d();h();d();h();var Ty=(i=>(i.Image="image",i.Emoji="emoji",i.ReadOnlyDefault="read-only-default",i.Default="default",i))(Ty||{}),M2e=U.object({type:U.nativeEnum(Ty),imageUrl:U.string().optional(),unicode:U.string().optional()}),ME=(t=>(t.Ledger="ledger",t))(ME||{}),NE=(t=>(t.BLE="ble",t))(NE||{}),N2e=U.object({version:U.literal(1),connectionType:U.nativeEnum(NE),deviceType:U.nativeEnum(ME),id:U.string().min(1),name:U.string().optional(),model:U.string().optional()}),O2e=U.object({value:U.number(),timestamp:U.number()}),D2e=U.object({name:U.string(),icon:M2e.optional(),connectedDevices:N2e.array().optional(),balance:O2e.optional()});var U2e=100,R2e={unicode:void 0,imageUrl:void 0,type:"default"},WB={version:1,isDeveloperMode:!1};var Py=jt.Solana.Devnet,By=jt.Ethereum.Sepolia,jB=jt.Sui.Testnet;function Bx(e){return{version:1,setting:{solana:Py,eip155:By,...e?{sui:jB}:{}}}}function La(e){return e.map(t=>Di[t].defaultDerivationPathType)}var L2e={bip44Root:"bip44RootEthereum",bip44Change:"bip44Ethereum",bip44:"bip44EthereumSecondary",deprecated:"bip44EthereumTertiary",bip44RootEthereum:null,bip44Ethereum:null,bip44EthereumSecondary:null,bip44EthereumTertiary:null,bitcoinTaproot:null,bitcoinNativeSegwit:null,bitcoinNestedSegwit:null,bitcoinLegacy:null,bip44Sui:null},Ju={bip44Root:-1,bip44RootEthereum:-1,bitcoinTaproot:0,bitcoinNativeSegwit:0,bitcoinNestedSegwit:0,bitcoinLegacy:0,bip44Change:0,bip44Ethereum:0,bip44:1,bip44EthereumSecondary:1,deprecated:2,bip44EthereumTertiary:2,bip44Sui:0},K2e="https://help.phantom.com/hc/en-us/articles/4406563212819";var V2e="https://help.phantom.com/hc/en-us/articles/21872962238355";d();h();var _x=(e,t=5)=>{let r=e.length,n=e.startsWith("0x")?t+2:t;return`${e.substring(0,n)}...${e.substring(r-t,r)}`};d();h();var F2e=e=>{let t=e.toString();return _x(t)};d();h();d();h();var H2e=e=>e.includes(".")||e.includes("@")?!1:mf.safeParse(e).success||cc.safeParse(e).success||zl.safeParse(e).success||gf.safeParse(e).success,zB=(e,t=5)=>H2e(e)?_x(e,t):e;var q2e=(e,t,r,n=4)=>{let i=t?t.name:r,o=zB(e,n);return i?`${i} (${o})`:o};d();h();var W2e=e=>`${e.substring(0,5)}...`;d();h();var _y=ne(Fr()),qj=(0,_y.createContext)(null);function j2e({children:e,analytics:t}){return _y.default.createElement(qj.Provider,{value:t},e)}function Rn(){let e=(0,_y.useContext)(qj);if(!e)throw new Error("useAnalytics must be used within a AnalyticsProvider");return e}d();h();d();h();var Cy=ne(Fr()),Wj=(0,Cy.createContext)(null);function z2e({children:e,userRepository:t,claimUsernameSigner:r}){return Cy.default.createElement(Wj.Provider,{value:{userRepository:t,claimUsernameSigner:r}},e)}function jj(){let e=(0,Cy.useContext)(Wj);if(!e)throw new Error("useUserContext must be used within a UserProvider");return e}function ir(){return jj().userRepository}function zj(){return jj().claimUsernameSigner}d();h();d();h();d();h();var My=(e,t)=>t?`/user/v1/users/${e}/wallet-accounts/${t}`:`/user/v1/users/${e}/wallet-accounts`,Cx=e=>`/user/v1/users/${e}/profile`,OE=e=>`/user/v1/profiles/${e}`,Gj=()=>"/user/v1/profiles/creation-check",$j=e=>`/v1/actors-search?query=${encodeURIComponent(e)}`,Yj=["seed","seedless","privateKey"];var GB=10,Zj=500,Mx={seedless:1,seed:2,privateKey:3};d();h();d();h();var Nx="@phantom/users",In={checkUsernameAvailability(e){return["user",`${Nx}:check-username-availability`,{username:e}]},userProfile(){return["user",`${Nx}:user-profile`]},userProfileAttributeEffect(e){return["user",`${Nx}:user-profile-attribute-effect`,{username:e}]},userSyncedAccounts(){return["user",`${Nx}:user-synced-accounts`]}};var $B=async e=>{await e.removeQueries({queryKey:In.userProfile()})},YB=async e=>{await e.resetQueries({queryKey:In.userProfile()})},Vh=async e=>{await e.invalidateQueries({queryKey:In.userProfile()})},ZB=async e=>{await e.removeQueries({queryKey:In.userSyncedAccounts()})};var Ka=async e=>{await e.invalidateQueries({queryKey:In.userSyncedAccounts()})};d();h();d();h();var Ny=(i=>(i.PUBLIC="public",i.PRIVATE="private",i.INVISIBLE="invisible",i.HIDDEN="hidden",i))(Ny||{}),G2e=Object.values(Ny),Qj=U.string().brand("ProfileId"),DE=U.object({id:Qj,username:U.string(),icon:U.string().nullish(),addresses:U.record(U.string(),U.string()),privacyState:U.nativeEnum(Ny).optional().default("public"),biography:U.string().nullish(),phantomJoinDate:U.string().nullish()}),JB=U.string().url().brand("ActorId"),$2e=U.object({id:U.string().optional(),orderedItems:JB.array(),next:U.string().optional()}),Jj=U.object({id:U.string().url(),current:$2e.optional(),totalItems:U.number().optional()}),Xj=U.object({type:U.string(),value:U.string().optional(),name:U.string().optional()}),Y2e=U.object({id:U.string().url().optional(),name:U.string().optional(),type:U.string()}),ez=U.object({id:JB,name:U.string(),preferredUsername:U.string(),manuallyApprovesFollowers:U.boolean(),followers:U.union([Jj,U.string().url()]),following:U.union([Jj,U.string().url()]),icon:Y2e.nullish(),attachment:U.union([Xj,U.array(Xj)]).optional(),summary:U.string().nullish(),published:U.string().nullish()}).transform(e=>{let{attachment:t,...r}=e,n={},i=!1,o=!1,s=!1,a=!1,c=!1;if(t){let u=Array.isArray(t)?t:[t];for(let l of u)if(!(!l.name||!l.value)){if(l.name.endsWith(":address")){let f=Yu.safeParse(l.name.replace(":address",""));if(f.success){let m=f.data;n[m]=l.value}}l.name==="requesting"&&(i=l.value==="true"),l.name==="requestedBy"&&(o=l.value==="true"),l.name==="blocking"&&(s=l.value==="true"),l.name==="following"&&(a=l.value==="true"),l.name==="followedBy"&&(c=l.value==="true")}}return{...r,addresses:n,isSentFollowRequestPending:i,hasPendingFollowRequest:o,isBlocking:s,isFollowing:a,isFollowedBy:c}}),tz=U.object({actors:ez.array()}),Ox={Image:"image",Emoji:"emoji",ReadOnlyDefault:"read-only-default",Default:"default"},nst=U.object({type:U.nativeEnum(Ox),imageUrl:U.string().optional(),unicode:U.string().optional()}),XB=U.object({error:U.object({message:U.string()})});var QB=async e=>{let t=await Zi.api().get(OE(e)),r=DE.safeParse(t.data);return r.success?r.data:null};d();h();var UE=U.string().regex(/^https?:\/\/.+$/),RE=U.string(),LE=U.literal("privateKey"),Z2e=U.object({networkId:$l,publicKey:Fd,address:DN,pathType:Sb.or(LE)}),J2e=U.object({networkId:Gl,publicKey:Fd,address:cc,pathType:wb.or(LE)}),X2e=U.object({networkId:jl,publicKey:Fd,address:U.string(),pathType:xb.or(LE)}),Q2e=U.object({networkId:Iy,publicKey:Fd,address:U.string(),pathType:wk.or(LE)}),eSe=U.union([Z2e,J2e,X2e,Q2e]),rz=U.object({accountHash:U.string(),accountOrigin:U.string().regex(/^(seed|privateKey|seedless):(.+)/).catch("readOnly"),name:U.string().nullish().default(null).catch(null),icon:U.union([UE,RE]).nullish().default(null).catch(null),derivationIndex:U.number().nullish().default(null).catch(null),addresses:U.array(eSe).min(1)}),tSe=rz.and(U.object({id:U.string()})),KE=U.object({walletAccounts:U.array(tSe)}),gst=U.record(U.string(),rz);d();h();var Oy=e=>{for(let t of Yj)if(e.accountOrigin?.split(":")[0]===t)return t;return null},Yl=e=>e.accountOrigin?.replace("seed:","")?.replace("privateKey:","")?.replace("seedless:",""),nz=(e=[])=>e.sort((t,r)=>{let n=Oy(t),i=Oy(r);if(n===null&&i===null)return 0;if(n===null)return 1;if(i===null)return-1;if(Mx[n]-Mx[i]!==0)return Mx[n]-Mx[i];let o=Yl(t),s=Yl(r);if(o===null&&s===null)return 0;if(o===null)return 1;if(s===null)return-1;let a=o.localeCompare(s);return a!==0?a:t.derivationIndex===null&&r.derivationIndex===null?0:t.derivationIndex===null?1:r.derivationIndex===null?-1:t.derivationIndex-r.derivationIndex});var rSe=e=>({getUsernameAvailability:t=>nSe(t),getUserProfile:()=>iSe(e),getUserProfileByUsername:t=>QB(t),getUserProfileByUsernameOrUserProfileId:t=>QB(t),searchForActor:(t,r,n)=>pSe(t,r,n),setUserProfile:({username:t,addresses:r,icon:n,signedMessages:i,privacyState:o})=>oSe(e,{username:t,addresses:r,signedMessages:i,icon:n,privacyState:o}),patchUserProfile:t=>sSe(e,t),deleteUserProfile:()=>aSe(e),isEligibleToClaim:t=>cSe(t),getSyncedAccounts:()=>e_(e),downloadSyncedAccounts:()=>uSe(e),uploadSyncedAccounts:t=>fSe(e,t),uploadSyncedAccount:t=>lSe(e,t),deleteSyncedAccounts:()=>dSe(e),deleteSyncedAccount:t=>hSe(e,t)}),nSe=async e=>{switch((await Zi.api().get(OE(e))).status){case 200:return!1;case 403:return!1;case 404:return!0;default:throw new Error("Failed to check for username availability.")}},iSe=async({authRepository:e})=>{let t=await e.getUser();if(!t)throw new Error("User is not logged in, unable to get user profile.");let{userID:r,accessToken:n}=t,i=await Zi.api().bearer(n).get(Cx(r)),o=DE.safeParse(i.data);return o.success?o.data:null},oSe=async({authRepository:e},{username:t,addresses:r,icon:n,signedMessages:i,privacyState:o})=>{let s=await e.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:a,accessToken:c}=s,u=await Zi.api().bearer(c).post(Cx(a),{username:t,signedMessages:i,icon:n,addresses:r,privacyState:o});if(u.status===201)return;let l=XB.safeParse(u.data);throw l.success?new Error(l.data.error.message):new Error("Unknown error")},sSe=async({authRepository:e},{username:t,addresses:r,icon:n,privacyState:i,biography:o})=>{let s=await e.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:a,accessToken:c}=s,u=await Zi.api().bearer(c).patch(Cx(a),{username:t,addresses:r,icon:n,privacyState:i,biography:o});if(u.status===200)return;fe.captureMessage(`Failed to patch user profile: ${u.status} ${JSON.stringify(u.data)}`,"Auth");let l=XB.safeParse(u.data);throw l.success?new Error(l.data.error.message):new Error("Unknown error")},aSe=async({authRepository:e})=>{let t=await e.getUser();if(!t)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=t,i=await Zi.api().bearer(n).delete(Cx(r));return 200<=i.status&&i.status<300},cSe=async e=>{try{return(await Zi.api().post(Gj(),{addresses:e})).status===200}catch{return!1}},e_=async({authRepository:e})=>{let t=await e.getUser();if(!t)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=t,i=await Zi.api().bearer(n).get(My(r)),o=KE.safeParse(i.data);if(!o.success)throw new Error("Unable to get synced accounts: unable to parse GET /wallet-accounts response.");return{walletAccounts:nz(o.data.walletAccounts)}},uSe=async e=>{let{walletAccounts:t}=await e_(e),r=t.reduce((n,i)=>(n[i.accountHash]=i,n),{});return await e.claimUsernameSigner.storeSyncedAccounts(r),!0},iz=(e,t,r)=>Zi.api().bearer(e).post(My(t),r),fSe=async(e,t)=>{let{authRepository:r,claimUsernameSigner:n,queryClient:i}=e,o=await r.getUser();if(!o)return fe.addBreadcrumb("Auth","User is not logged in, unable to sync up accounts.","info"),!1;try{let s=t;s||(fe.addBreadcrumb("Auth","Uploading all currently synced accounts...","info"),s=[...(await e_(e)).walletAccounts.reduce((b,w)=>(b.add(w.accountHash),b),new Set)]);let a=await n.getBatchAccountMetadata(s),{userID:c,accessToken:u}=o,l=s4(Object.values(a),GB);for(let f of l)await Promise.all(f.map(m=>iz(u,c,m))),await qN(Zj);return await Ka(i),fe.addBreadcrumb("Auth",`\u2705 Uploaded synced accounts: ${t?t?.join(" "):"all currently synced accounts"}`,"info"),!0}catch(s){throw fe.addBreadcrumb("Auth",`Unable to sync up accounts: ${t?t?.join(" "):"all currently synced accounts"}`,"info"),fe.captureError(s,"Auth"),s}},lSe=async({authRepository:e,claimUsernameSigner:t,queryClient:r},n)=>{let i=await e.getUser();if(!i)return fe.addBreadcrumb("Auth",`User is not logged in, unable to sync up account: ${n}`,"info"),!1;try{fe.addBreadcrumb("Auth",`Syncing account... : ${n}`,"info");let o=await t.getAccountMetadata(n),{userID:s,accessToken:a}=i;return await iz(a,s,o),await Ka(r),fe.addBreadcrumb("Auth",`\u2705 Synced account: ${n}`,"info"),!0}catch(o){throw fe.addBreadcrumb("Auth",`Unable to sync up account: ${n}`,"info"),fe.captureError(o,"Auth"),o}},oz=(e,t,r)=>Zi.api().bearer(e).delete(My(t,r.id),r),dSe=async({authRepository:e})=>{let t=await e.getUser();if(!t)throw new Error("User is not logged in, unable to delete all synced accounts.");let{userID:r,accessToken:n}=t,i=await Zi.api().bearer(n).get(My(r)),o=KE.safeParse(i.data);if(!o.success)throw new Error("Unable to delete all synced accounts => unable to parse GET /wallet-accounts response.");let s=s4(o.data.walletAccounts,GB);for(let a of s)await Promise.all(a.map(c=>oz(n,r,c)));return!0},hSe=async({authRepository:e},t)=>{let r=await e.getUser();if(!r)throw new Error(`User is not logged in, unable to remove synced account: ${t}`);let{userID:n,accessToken:i}=r,o=await Zi.api().bearer(i).get(My(n)),s=KE.safeParse(o.data);if(!s.success)throw new Error(`Unable to delete synced account [${t}] => unable to parse GET /wallet-accounts response`);let a=s.data.walletAccounts.find(c=>c.accountHash===t);if(!a)return fe.addBreadcrumb("Auth",`Calling deleteSyncedAccount on account that is not synced to begin with: ${t}`,"info"),!1;try{await oz(i,n,a)}catch(c){throw fe.addBreadcrumb("Auth",`Unable to delete synced account: ${t}`,"info"),fe.captureError(c,"Auth"),c}return!0},pSe=async(e,t,r)=>{fe.addBreadcrumb("network","User is searching for actors.","info",{query:e});let n=await Zi.api().bearer(t).get($j(e)),i=tz.safeParse(n.data);return i.success?{actors:i.data.actors}:{actors:[]}};d();h();var ySe=new Set([In.userProfile()[1],In.userSyncedAccounts()[1]]),mSe=e=>{let t=e.queryKey[1];return typeof t!="string"||!t?!1:ySe.has(t)};d();h();d();h();var Dx=bf(Rn,e=>new VE(e)),VE=class{#e;constructor(t){this.#e=t}onClaimFlowStart(){this.#e.capture("userUsernameClaimFlowStart")}onCheckAvailability(t,r){this.#e.capture("userUsernameCheckAvailability",{data:{username:t,isAvailable:r}})}onAvatarSaved(t){this.#e.capture("userUsernameClaimFlowAvatarSaved",{data:{avatarType:t}})}onAnonymousAuthSaved(t,r){this.#e.capture("userUsernameClaimFlowAnonymousAuthSaved",{data:{numAuthFactorsSaved:t,numAuthFactorsShown:r}})}onLinkWalletsSaved(t,r){this.#e.capture("userUsernameClaimFlowLinkWalletsSaved",{data:{numWalletsSaved:t,numWalletsShown:r}})}onPublicAddressesSaved(){this.#e.capture("userUsernameClaimFlowPublicAddressesSaved")}onClaimFlowComplete(t,r){this.#e.capture("userUsernameClaimComplete",{data:{username:t,authUserID:r}})}};function gSe(){let e=Dx(),t=R0(),r=ir(),n=zj(),i=Me(),o=async({username:s,addresses:a,icon:c,secretIdentifiers:u,accountIdentifiers:l})=>{if(fe.addBreadcrumb("Auth",`Claiming Username: ${s}.`,"info"),u.length===0)throw new Error("Unable to log in to claim a username. Select a secret identifier to use as an auth factor.");fe.addBreadcrumb("Auth","Logging in with first auth factor","info");let f=await t.logIn({type:"key",secretIdentifier:u[0]});for(let b of u.slice(1))fe.addBreadcrumb("Auth","Adding additional auth factor","info"),await t.addAuthFactor({secretIdentifier:b});fe.addBreadcrumb("Auth","Signing over messages","info");let m=await n.signMessages(s);fe.addBreadcrumb("Auth","Creating user profile to claim username","info"),await r.setUserProfile({username:s,addresses:a,icon:c,signedMessages:m,privacyState:"public"}),fe.addBreadcrumb("Auth","Uploading Synced Accounts","info"),await r.uploadSyncedAccounts(l),fe.addBreadcrumb("Auth","\u2705 Username Claimed!","info"),await JN(i),await YB(i),await x1(i),await Vh(i),await w1(i),e.onClaimFlowComplete(s,f.userID)};return Ne({mutationFn:async s=>{try{return await o(s)}catch(a){fe.addBreadcrumb("Auth","Could not claim username","error");let c;throw a instanceof Error?c=a:c=new Error("Unable to claim username"),fe.captureError(c,"Auth"),c}}})}d();h();function bSe(e){let t=Dx(),r=ir(),n=In.checkUsernameAvailability(e);return Yt({enabled:!!e,queryKey:n,queryFn:async()=>{if(!e)return!1;let s=await r.getUsernameAvailability(e);return t.onCheckAvailability(e,s),s}})}d();h();d();h();var Ux=class extends Error{constructor(t="No user profile."){super(t),this.name="NoUserProfileError"}};var xSe=U0({days:1}),wSe=U0({minutes:1});function Va(){let e=ir(),t=L0(),r=In.userProfile();return Yt({enabled:t,queryKey:r,queryFn:async()=>{let i=await e.getUserProfile();if(!i)throw new Ux;return i},gcTime:xSe,staleTime:wSe})}d();h();var SSe=U0({days:1}),vSe=U0({minutes:1}),sz=e=>{let t=ir(),r=L0();return Yt({enabled:r,queryKey:In.userSyncedAccounts(),queryFn:async()=>(await t.getSyncedAccounts()).walletAccounts,gcTime:SSe,staleTime:vSe,select:e})};d();h();var ASe=()=>{let e=Me(),t=R0(),r=ir();return Ne({mutationFn:async()=>{await r.deleteSyncedAccounts(),await r.deleteUserProfile(),await t.deleteAllAuthFactors(),await t.logOut(),await ZB(e),await $B(e),await ZN(e),await Ka(e),await Vh(e),await x1(e),await w1(e)}})};d();h();var t_=()=>{let e=Me(),t=ir(),r=async n=>{await t.patchUserProfile(n),await Vh(e)};return Ne({mutationFn:async n=>{try{return await r(n)}catch(i){fe.addBreadcrumb("Auth",`Could not update user profile: ${JSON.stringify(n)}`,"error");let o;throw i instanceof Error?o=i:o=new Error("Could not update user profile!"),fe.captureError(o,"Auth"),o}},onMutate:async n=>{let i=In.userProfile();await e.cancelQueries({queryKey:i});let o=e.getQueryData(i);return e.setQueryData(i,{...o,...n}),{previousData:o}},onError:(n,i,o)=>{o&&e.setQueryData(In.userProfile(),o.previousData)}})};d();h();d();h();var ESe=()=>{let e=Me(),t=ir(),r=async n=>{Array.isArray(n)?await t.uploadSyncedAccounts(n):await t.uploadSyncedAccount(n),await Ka(e)};return Ne({mutationFn:async n=>{try{return await r(n)}catch(i){let o=Array.isArray(n)?n.join(" "):n;fe.addBreadcrumb("Auth",`Could not add synced account: ${o}`,"error");let s;throw i instanceof Error?s=i:s=new Error("Could not add synced account!"),fe.captureError(s,"Auth"),s}}})};d();h();var ISe=()=>{let e=Me(),t=ir(),r=async n=>{Array.isArray(n)?await Promise.all(n.map(i=>t.deleteSyncedAccount(i))):await t.deleteSyncedAccount(n),await Ka(e)};return Ne({mutationFn:async n=>{try{return await r(n)}catch(i){let o=Array.isArray(n)?n.join(" "):n;fe.addBreadcrumb("Auth",`Could not remove synced account: ${o}`,"error");let s;throw i instanceof Error?s=i:s=new Error("Could not remove synced account!"),fe.captureError(s,"Auth"),s}}})};d();h();var kSe=bf(Rn,e=>new FE(e)),FE=class{#e;constructor(t){this.#e=t}onAvatarUpdated(t){this.#e.capture("userManageProfileAvatarUpdated",{data:{avatarType:t}})}onAuthFactorsUpdated(t,r){this.#e.capture("userManageProfileAuthFactorsUpdated",{data:{numAuthFactorsSaved:t,numAuthFactorsShown:r}})}onLinkedWalletsUpdated(t,r){this.#e.capture("userManageProfileLinkedWalletsUpdated",{data:{numWalletsSaved:t,numWalletsShown:r}})}onPrivacyStateUpdated(t){this.#e.capture("userManageProfilePrivacyStateUpdated",{data:{privacyState:t}})}onBiographyUpdated(){this.#e.capture("userManageProfileBiographyUpdated")}onPublicAddressesUpdated(t){this.#e.capture("userManageProfilePublicAddressesUpdated",{data:{networkIdsSaved:t}})}};d();h();d();h();d();h();d();h();var HE=(e,t)=>{let r=Uc(e,t);switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return Di.getDisplayName(r);default:return}};var az={badge:(e,t,r)=>t.filter(Wl).length<=1?"":HE(e,r)??"",showAddressTypeExplainer:e=>e.filter(Wl).length>1,addressTooltipNetworkName:(e,t,r)=>r.filter(Wl).length>=2?HE(e,t)??re.getChainName(e):re.getChainName(e)};d();h();var cz={badge:(e,t)=>{switch(e){case"eip155:41454":case"eip155:10143":return re.getNetworkDefinition(e).shortName;case"eip155:143":return}},networkNameOverride:()=>"Monad"};var TSe=new Px({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:cz,bitcoin:az,sui:{}}),Rx=FB(TSe);d();h();var lut=U.string().regex(/^(root-derivation-path-group|(recommended|secondary|tertiary)-group:index-[0-9]+)$/,{message:"Invalid derivation path group."});d();h();d();h();var _t=(s=>(s.Seed="seed",s.PrivateKey="privateKey",s.Ledger="ledger",s.SeedVault="seedVault",s.ReadOnly="readOnly",s.Seedless="seedless",s))(_t||{}),PSe=U.object({derivationIndex:U.number(),addresses:U.array(U.object({pathType:U.union([wb,Sb]),value:U.string()})),publicKeys:U.array(U.object({pathType:xb,value:U.string()}))}),Rc=class extends Error{message="No account exists in storage for identifier"},Fh=class extends Error{message="No account exists in storage for identifier"},Zl=class extends Error{message="Address type not found or incompatible with account"},Lx=class extends Error{message="Hardware wallet account does not have known secr*ts"},Kx=class extends Error{message="Read only account does not have known secr*ts"},Vx=class extends Error{message="Invalid configuration for read only account"},Hh=class extends Error{message="Seed already exists in storage"},Xu=class extends Error{message="No seed exists in storage for identifier"},Fx=class extends Error{message="The derivation index is missing or invalid"},Hx=class extends Error{message="Private key already exists in storage"},qh=class extends Error{message="No private key exists in storage for identifier"};var Lc=class extends Error{message;constructor(t,r){super(),this.message=`Account of type ${t} found in Vault, while trying to add ${r} account`}},qE=class extends Error{message="Vault already stores a seedless account"},BSe=U.union([U.literal("unonboarded"),U.literal("unable-to-load-accounts")]),_Se=U.union([U.literal("invalid-identifier"),U.literal("fetch-integrity-storage-error"),U.literal("fetch-entropy-storage-error"),U.literal("fetch-pk-storage-error"),U.literal("invalid-entropy"),U.literal("invalid-entropy-bip-39"),U.literal("invalid-checksum-bits"),U.literal("invalid-entropy-bits"),U.literal("invalid-checksum"),U.literal("invalid-entropy-length-less-than-twelve"),U.literal("invalid-entropy-length-more-than-twenty-four"),U.literal("invalid-entropy-length-wrong-word"),U.literal("invalid-pk-address-type"),U.literal("invalid-pk-identifier"),U.literal("invalid-pk"),U.literal("internal-error")]),CSe=U.literal("safely-onboarded"),MSe=U.union([U.object({status:BSe,isOnboarded:U.literal(!1),reonboardingNeeded:U.literal(!1)}),U.object({status:_Se,isOnboarded:U.literal(!0),reonboardingNeeded:U.literal(!0)}),U.object({status:CSe,isOnboarded:U.literal(!0),reonboardingNeeded:U.literal(!1)})]);var NSe=(e,t,r,n)=>{let i=[];for(let o of t){let s=re.getChainID(o);if(n.includes(s))for(let a of re[s].addressTypes){if(!r.includes(a))continue;let c=e.chains[a];if(c)switch(c.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:a,address:c.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:a,publicKey:c.publicKey,address:c.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:a,publicKey:c.publicKey,address:c.address});break}default:ve(c)}}}return i},OSe=(e,t,r,n)=>{let i=[];for(let o of t){let s=re.getChainID(o);if(n.includes(s))for(let a of re[s].addressTypes){if(!r.includes(a))continue;let c=e.chains[a];if(c)switch(c.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:a,address:c.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:a,publicKey:c.publicKey,address:c.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:a,publicKey:c.publicKey,address:c.address});break}default:ve(c)}}}return i},DSe=(e,t,r,n)=>{let i=[];for(let o of t){let s=re.getChainID(o);if(n.includes(s))for(let a of re[s].addressTypes)r.includes(a)&&e.chainType===a&&i.push({networkID:o,addressType:a,address:e.address})}return i},USe=(e,t,r,n)=>{let i=[];for(let o of t){let s=re.getChainID(o);if(n.includes(s)){for(let a of re[s].addressTypes)if(r.includes(a)&&e.chainType===a)switch(e.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:a,address:e.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:a,publicKey:e.publicKey,address:e.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:a,publicKey:e.publicKey,address:e.address});break}default:ve(e)}}}return i},RSe=(e,t,r,n)=>{let i=[];for(let o of t){let s=re.getChainID(o);if(n.includes(s)){for(let a of re[s].addressTypes)if(r.includes(a))for(let[c,u]of Object.entries(e.addresses))c===a&&i.push({networkID:o,addressType:a,address:u})}}return i},qx=(e,t,r,n,i,o)=>{let s;switch(o?s=Object.values(i.setting):s=t,s=s.sort((a,c)=>re.compareNetworkID(a,c)),e.type){case"seedless":case"seed":return NSe(e,s,r,n);case"ledger":return OSe(e,s,r,n);case"seedVault":return DSe(e,s,r,n);case"privateKey":return USe(e,s,r,n);case"readOnly":return RSe(e,s,r,n)}};d();h();var LSe=({account:e,syncedAccounts:t,index:r,offsetIndex:n})=>{let i=t.find(s=>s.accountHash===e.identifier),o={name:i?.name??WN("onboardingImportAccountsAccountName",{walletIndex:n+r+1})};return i?.icon&&(o.icon=i.icon.startsWith("https://")?{type:"image",imageUrl:i.icon}:{type:"emoji",unicode:i.icon}),o};d();h();d();h();var Dy="Trying to find a selected account, but there no accounts in the vault.",Wx="Missing ChainAvailability.",uz=(e,t)=>`No account found! Num accounts: ${e} | Identifier used: ${t}`,r_=new Error("The current account group has no valid bitcoin address"),n_=new Error("The current account group has no valid EIP-155 address"),i_=new Error("The current account group has no valid solana address"),o_=new Error("The current account group has no valid sui address"),fz=new Error("The current account group has no valid address or the the chain type was unsupported"),Mut=new Error("[Legacy Mn*monic Fetch] no legacy mn*monic in storage"),Nut=new Error("[Legacy Mn*monic Fetch] internal error fetching legacy mn*monic");d();h();var KSe=[".phantom-labs.account.accountMetadata","developerMode","networkSetting",".phantom-labs.account.selectedAccount","termsHaveBeenAcknowledgedLastSeenVersion"];var Rut=new Error("Failed to clear selected account index");async function s_(e){try{let t=await e.get(".phantom-labs.account.selectedAccount");return t?.version===2?t.identifier:null}catch{throw VSe}}var VSe=new Error("Failed to get selected account identifier");async function rs(e,t){try{let r={version:2,identifier:t};return await e.set(".phantom-labs.account.selectedAccount",r)}catch{throw FSe}}var FSe=new Error("Failed to set selected account identifier");var Qu=async(e,t)=>{if(e.length===0)throw new Error(Dy);let r=await s_(t),n=e.find(i=>i.identifier===r);return n||(await rs(t,e[0].identifier),e[0])};d();h();var a_=e=>{switch(e){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Change":case"bip44Ethereum":return!0;case"bip44":case"deprecated":case"bip44Root":case"bip44RootEthereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1}};d();h();var HSe=({pathType:e,index:t})=>{switch(e){case"bip44RootEthereum":case"bip44Root":return"root-derivation-path-group";case"bip44Change":case"bip44Ethereum":case"bip44Sui":case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return`recommended-group:index-${t}`;case"bip44EthereumSecondary":case"bip44":return`secondary-group:index-${t}`;case"bip44EthereumTertiary":case"deprecated":return`tertiary-group:index-${t}`}};d();h();d();h();var qSe=e=>e==null?!1:["ledger","seedVault"].includes(e);d();h();function lz(e,t){let n=(e?.addresses??[]).find(({addressType:i})=>i===t);if(!e?.addresses||!n)switch(t){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw r_;case"eip155":throw n_;case"solana":throw i_;case"sui":throw o_;default:throw fz}return n}function WSe(e,t){return lz(e,t)?.address}var WE=e=>{switch(e.type){case"seedless":case"seed":case"privateKey":return!0;case"ledger":case"seedVault":case"readOnly":return!1;default:ve(e)}};d();h();function jSe(e){let t=e.endsWith(".sol"),r=e==="@",n=e.startsWith("@")&&e.length>1;return[t,r,n]}d();h();function zSe(e){return[e.endsWith(".eth")]}d();h();var GSe=async(e,t,r)=>{let i=(await e.fetchAllAccounts()).find(s=>{switch(s.type){case"seed":case"seedless":return s.seedIdentifier===r;case"privateKey":return s.privateKeyIdentifier===r;case"ledger":case"seedVault":case"readOnly":return!1;default:ve(s)}});if(!i)throw new Error("Unable to find account to sign client JWT with.");let o=await e.sign(i.identifier,{isJWT:!0,data:t});if(o.status==="error")throw new Error("Error signing over clientJWT.");if(!("signedJWT"in o)||!o.signedJWT)throw new Error("No JWT from vault signing.");return o.signedJWT};d();h();var dz=async e=>[...(await e.fetchAllAccounts()).reduce((i,o)=>{switch(o.type){case"seed":case"seedless":{i.add(o.seedIdentifier);break}case"privateKey":{i.add(o.privateKeyIdentifier);break}case"ledger":case"seedVault":case"readOnly":break;default:ve(o);break}return i},new Set)];d();h();var B_=ne(wo());d();h();d();h();function vi(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(E.NODE_ENV!=="production"){var i=tve[e],o=i?typeof i=="function"?i.apply(null,r):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Uy(e){return!!e&&!!e[ns]}function jh(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===rve}(e)||Array.isArray(e)||!!e[wz]||!!e.constructor[wz]||g_(e)||b_(e))}function zx(e,t,r){r===void 0&&(r=!1),Ly(e)===0?(r?Object.keys:A_)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Ly(e){var t=e[ns];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:g_(e)?2:b_(e)?3:0}function d_(e,t){return Ly(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $Se(e,t){return Ly(e)===2?e.get(t):e[t]}function Sz(e,t,r){var n=Ly(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function YSe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function g_(e){return QSe&&e instanceof Map}function b_(e){return eve&&e instanceof Set}function Wh(e){return e.o||e.t}function x_(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=nve(e);delete t[ns];for(var r=A_(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function w_(e,t){return t===void 0&&(t=!1),S_(e)||Uy(e)||!jh(e)||(Ly(e)>1&&(e.set=e.add=e.clear=e.delete=ZSe),Object.freeze(e),t&&zx(e,function(r,n){return w_(n,!0)},!0)),e}function ZSe(){vi(2)}function S_(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Kc(e){var t=ive[e];return t||vi(18,e),t}function hz(){return E.NODE_ENV==="production"||Ry||vi(0),Ry}function c_(e,t){t&&(Kc("Patches"),e.u=[],e.s=[],e.v=t)}function jE(e){h_(e),e.p.forEach(JSe),e.p=null}function h_(e){e===Ry&&(Ry=e.l)}function pz(e){return Ry={p:[],l:Ry,h:e,m:!0,_:0}}function JSe(e){var t=e[ns];t.i===0||t.i===1?t.j():t.O=!0}function u_(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Kc("ES5").S(t,e,n),n?(r[ns].P&&(jE(t),vi(4)),jh(e)&&(e=zE(t,e),t.l||GE(t,e)),t.u&&Kc("Patches").M(r[ns].t,e,t.u,t.s)):e=zE(t,r,[]),jE(t),t.u&&t.v(t.u,t.s),e!==vz?e:void 0}function zE(e,t,r){if(S_(t))return t;var n=t[ns];if(!n)return zx(t,function(o,s){return yz(e,n,t,o,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return GE(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=x_(n.k):n.o;zx(n.i===3?new Set(i):i,function(o,s){return yz(e,n,i,o,s,r)}),GE(e,i,!1),r&&e.u&&Kc("Patches").R(n,r,e.u,e.s)}return n.o}function yz(e,t,r,n,i,o){if(E.NODE_ENV!=="production"&&i===r&&vi(5),Uy(i)){var s=zE(e,i,o&&t&&t.i!==3&&!d_(t.D,n)?o.concat(n):void 0);if(Sz(r,n,s),!Uy(s))return;e.m=!1}if(jh(i)&&!S_(i)){if(!e.h.F&&e._<1)return;zE(e,i),t&&t.A.l||GE(e,i)}}function GE(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&w_(t,r)}function f_(e,t){var r=e[ns];return(r?Wh(r):e)[t]}function mz(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function p_(e){e.P||(e.P=!0,e.l&&p_(e.l))}function l_(e){e.o||(e.o=x_(e.t))}function y_(e,t,r){var n=g_(t)?Kc("MapSet").N(t,r):b_(t)?Kc("MapSet").T(t,r):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:hz(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=a,u=m_;s&&(c=[a],u=jx);var l=Proxy.revocable(c,u),f=l.revoke,m=l.proxy;return a.k=m,a.j=f,m}(t,r):Kc("ES5").J(t,r);return(r?r.A:hz()).p.push(n),n}function XSe(e){return Uy(e)||vi(22,e),function t(r){if(!jh(r))return r;var n,i=r[ns],o=Ly(r);if(i){if(!i.P&&(i.i<4||!Kc("ES5").K(i)))return i.t;i.I=!0,n=gz(r,o),i.I=!1}else n=gz(r,o);return zx(n,function(s,a){i&&$Se(i.t,s)===a||Sz(n,s,t(a))}),o===3?new Set(n):n}(e)}function gz(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return x_(e)}var bz,Ry,v_=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",QSe=typeof Map<"u",eve=typeof Set<"u",xz=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",vz=v_?Symbol.for("immer-nothing"):((bz={})["immer-nothing"]=!0,bz),wz=v_?Symbol.for("immer-draftable"):"__$immer_draftable",ns=v_?Symbol.for("immer-state"):"__$immer_state";var tve={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},rve=""+Object.prototype.constructor,A_=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,nve=Object.getOwnPropertyDescriptors||function(e){var t={};return A_(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},ive={},m_={get:function(e,t){if(t===ns)return e;var r=Wh(e);if(!d_(r,t))return function(i,o,s){var a,c=mz(o,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!jh(n)?n:n===f_(e.t,t)?(l_(e),e.o[t]=y_(e.A.h,n,e)):n},has:function(e,t){return t in Wh(e)},ownKeys:function(e){return Reflect.ownKeys(Wh(e))},set:function(e,t,r){var n=mz(Wh(e),t);if(n?.set)return n.set.call(e.k,r),!0;if(!e.P){var i=f_(Wh(e),t),o=i?.[ns];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(YSe(r,i)&&(r!==void 0||d_(e.t,t)))return!0;l_(e),p_(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return f_(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,l_(e),p_(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Wh(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){vi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){vi(12)}},jx={};zx(m_,function(e,t){jx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),jx.deleteProperty=function(e,t){return E.NODE_ENV!=="production"&&isNaN(parseInt(t))&&vi(13),jx.set.call(this,e,t,void 0)},jx.set=function(e,t,r){return E.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&vi(14),m_.set.call(this,e[0],t,r,e[0])};var ove=function(){function e(r){var n=this;this.g=xz,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var c=n;return function(S){var P=this;S===void 0&&(S=a);for(var M=arguments.length,D=Array(M>1?M-1:0),C=1;C<M;C++)D[C-1]=arguments[C];return c.produce(S,function(R){var L;return(L=o).call.apply(L,[P,R].concat(D))})}}var u;if(typeof o!="function"&&vi(6),s!==void 0&&typeof s!="function"&&vi(7),jh(i)){var l=pz(n),f=y_(n,i,void 0),m=!0;try{u=o(f),m=!1}finally{m?jE(l):h_(l)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(S){return c_(l,s),u_(S,l)},function(S){throw jE(l),S}):(c_(l,s),u_(u,l))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===vz&&(u=void 0),n.F&&w_(u,!0),s){var b=[],w=[];Kc("Patches").M(i,u,b,w),s(b,w)}return u}vi(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var l=arguments.length,f=Array(l>1?l-1:0),m=1;m<l;m++)f[m-1]=arguments[m];return n.produceWithPatches(u,function(b){return i.apply(void 0,[b].concat(f))})};var s,a,c=n.produce(i,o,function(u,l){s=u,a=l});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){jh(r)||vi(8),Uy(r)&&(r=XSe(r));var n=pz(this),i=y_(this,r,void 0);return i[ns].C=!0,h_(n),i},t.finishDraft=function(r,n){var i=r&&r[ns];E.NODE_ENV!=="production"&&(i&&i.C||vi(9),i.I&&vi(10));var o=i.A;return c_(o,n),u_(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!xz&&vi(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Kc("Patches").$;return Uy(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},e}(),is=new ove,E_=is.produce,_ft=is.produceWithPatches.bind(is),Cft=is.setAutoFreeze.bind(is),Mft=is.setUseProxies.bind(is),Nft=is.applyPatches.bind(is),Oft=is.createDraft.bind(is),Dft=is.finishDraft.bind(is),Uft=E_;var I_=new Error("Failed to add user account metadata to storage"),Gx=new Error("Could not find account metadata in storage");async function k_(e,t,r){let n=await e.get(".phantom-labs.account.accountMetadata");if(!n)throw Gx;let i=n.accounts[t];i?i.name=r:(i={name:r},n.accounts[t]=i),await e.set(".phantom-labs.account.accountMetadata",n)}async function T_(e,t,r){let n=await e.get(".phantom-labs.account.accountMetadata");if(!n)throw Gx;let i=n.accounts[t];i?i.icon=r:(i={icon:r,name:xf.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[t]=i),await e.set(".phantom-labs.account.accountMetadata",n)}async function P_(e,t,r){let n=await e.get(".phantom-labs.account.accountMetadata");if(!n)throw Gx;let i=n.accounts[t];i?i.balance=r:(i={balance:r,name:xf.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[t]=i),await e.set(".phantom-labs.account.accountMetadata",n)}async function Xl(e,t,r){try{let n=await e.get(".phantom-labs.account.accountMetadata");n?n.accounts[t]=r:n={version:1,accounts:{[t]:r}},await e.set(".phantom-labs.account.accountMetadata",n)}catch{throw I_}}async function $x(e,t){try{let r=await e.get(".phantom-labs.account.accountMetadata");r?r.accounts=E_(r.accounts,n=>{for(let[i,o]of Object.entries(t))n[i]||(n[i]={name:""}),n[i].name=o.name,n[i].icon=o.icon??n[i].icon,n[i].balance=o.balance??n[i].balance,n[i].connectedDevices=o.connectedDevices??n[i].connectedDevices}):r={version:1,accounts:{...t}},await e.set(".phantom-labs.account.accountMetadata",r)}catch{throw I_}}async function Yx(e,t){let r=await e.get(".phantom-labs.account.accountMetadata");r||(r={version:1,accounts:{}});let n=r.accounts[t];return n||(n={name:xf.t("onboardingImportAccountsAccountName",{walletIndex:""})}),n}async function Zx(e){let t=await e.get(".phantom-labs.account.accountMetadata");return t?t.accounts:{}}async function Jx(e,t){let r=await e.get(".phantom-labs.account.accountMetadata");if(!r)throw Gx;delete r.accounts[t],await e.set(".phantom-labs.account.accountMetadata",r)}d();h();d();h();var Ky=async e=>{let t=await e.get("networkSetting"),r=await Ji.isFeatureEnabledAsync("enable-sui-testnet");if(!t)return Bx(r);let n=sve(t,r);return ave(e,n)};function sve(e,t){let r={...e,setting:{...e.setting}};return t&&!r.setting.sui?r.setting.sui=Bx(t).setting.sui:!t&&r.setting.sui&&delete r.setting.sui,r}var ave=async(e,t)=>{let r=!1;cve(t)&&(r=!0);let n=t.setting.solana;n&&re.isMainnetNetworkID(n)&&(t.setting.solana=Py,r=!0);let i=t.setting.eip155;return i&&re.isMainnetNetworkID(i)&&(t.setting.eip155=By,r=!0),r&&await e.set("networkSetting",t),t},cve=e=>{let t=!1,r=e.setting.eip155;return r&&(r.toString()==="eip155:5"&&(e.setting.eip155=jt.Ethereum.Sepolia,t=!0),r.toString()==="eip155:80001"&&(e.setting.eip155=jt.Polygon.Amoy,t=!0)),t};var zh=async(e,t,r)=>{let n=await e.fetchAllAccounts();if(n.length===0)return[];let i=t.get("developerMode"),o=Ky(t),s=Zx(t),[a,c,u]=await Promise.all([i,o,s]);return n.map(l=>{let f=u[l.identifier];f||(f={name:xf.t("onboardingImportAccountsAccountName",{walletIndex:""})});let m={name:f.name,icon:f.icon,identifier:l.identifier,addresses:qx(l,r.enabledMainnetOnlyNetworkIDs,r.enabledAddressTypes,r.enabledChainIDs,c,a?.isDeveloperMode??!1)};return l.type==="seed"?{...m,type:"seed",seedIdentifier:l.seedIdentifier,isReadOnly:!1}:l.type==="seedless"?{...m,type:"seedless",seedIdentifier:l.seedIdentifier,isReadOnly:!1}:l.type==="readOnly"?{...m,type:"readOnly",isReadOnly:!0}:l.type==="privateKey"?{...m,privateKeyIdentifier:l.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...m,type:l.type,isReadOnly:!1}})};var Az=(e,t)=>{let r=Math.floor(Date.now()/1e3);return`Signing this message to claim username ${e} | Public Key: ${t} | Time: ${r}`},Ez=(e,t)=>{let r=e.addresses.map(n=>{let i;switch(t.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":i=`0x${Buffer.from(t.publicKey).toString("hex")}`;break;case"solana":i=`0x${Buffer.from(B_.default.decode(t.address)).toString("hex")}`;break;case"eip155":i=t.address;break;case"sui":i=g1(t.publicKey);break}return{networkId:n.networkID,pathType:"privateKey",publicKey:i,address:n.address}});return r.length===0?null:{accountHash:e.identifier,accountOrigin:`privateKey:${e.privateKeyIdentifier}`,derivationIndex:-1,name:e.name,icon:e.icon?.imageUrl??e.icon?.unicode??null,addresses:r}},Iz=(e,t)=>{let r=[];for(let n of e.addresses){let i=t.chains[n.addressType];if(!i)continue;let o,s;switch(i.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o=`0x${Buffer.from(i.publicKey).toString("hex")}`,s=i.addresses["bip122:000000000019d6689c085ae165831e93"];break}case"solana":o=`0x${Buffer.from(B_.default.decode(i.address)).toString("hex")}`,s=i.address;break;case"eip155":o=i.address,s=i.address;break;case"sui":o=`0x${Buffer.from(i.publicKey).toString("hex")}`,s=i.address;break}let a=null;switch(!0){case(Ek(i.pathType)&&re.isSolanaNetworkID(n.networkID)):a={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break;case(Ak(i.pathType)&&re.isEVMNetworkID(n.networkID)):a={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break;case(vk(i.pathType)&&re.isBitcoinNetworkID(n.networkID)):a={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break;case(Ik(i.pathType)&&re.isSuiNetworkID(n.networkID)):a={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break}a&&r.push(a)}return{accountHash:e.identifier,accountOrigin:e.type==="seed"?`seed:${e.seedIdentifier}`:`seedless:${e.seedIdentifier}`,name:e.name,icon:e.icon?.imageUrl??e.icon?.unicode??null,derivationIndex:t.derivationIndex,addresses:r}},uve=e=>{let t=UE.safeParse(e);if(t.success)return{type:"image",imageUrl:t.data};let r=RE.safeParse(e);return r.success?{type:"emoji",unicode:r.data}:{type:"default"}},fve=async(e,t)=>{let r=Object.entries(t).reduce((n,[i,o])=>(n[i]={name:o.name??"",icon:uve(o.icon)},n),{});await $x(e,r)},lve=(e,t)=>({signMessages:async r=>{let n=[],i=await Kh(t),o=await zh(e,t,i);for(let s of o){if(!(s.type==="seed"||s.type==="privateKey"||s.type==="seedless"))continue;let a=s.identifier,c=s.addresses.find(f=>f.addressType==="solana");if(!c||c.addressType!=="solana")continue;let u=Az(r,c.address),l=await e.sign(a,{signingType:"message",chainType:c.addressType,message:Az(r,c.address)});l.status!=="error"&&n.push({networkID:c.networkID,address:c.address,message:u,signature:l.signature})}return n},getBatchAccountMetadata:async r=>{let n=new Set(r),i=await Kh(t),o=await zh(e,t,i),s=(await e.fetchAllAccounts()).reduce((c,u)=>(c[u.identifier]=u,c),{}),a={};for(let c of o){if(!WE(c))continue;let u=s?.[c.identifier]??null,l=null;switch(c.type){case"seedless":case"seed":n.has(c.identifier)&&u.type===c.type&&(l=Iz(c,u));break;case"privateKey":n.has(c.identifier)&&u.type===c.type&&(l=Ez(c,u));break}l&&(a[c.identifier]=l)}return a},getAccountMetadata:async r=>{let n=await Kh(t),i=await zh(e,t,n),o=(await e.fetchAllAccounts()).reduce((u,l)=>(u[l.identifier]=l,u),{}),s=i.find(u=>u.identifier===r)??null;if(!s)throw new Error(`Unable to get account metadata for account: ${r}`);if(!WE(s))throw new Error(`Syncing is not supported for account type: ${s.type}`);let a=o?.[s.identifier]??null,c=null;switch(s.type){case"seedless":case"seed":a.type===s.type&&(c=Iz(s,a));break;case"privateKey":a.type===s.type&&(c=Ez(s,a));break}if(!c)throw new Error(`Unable to construct metadata to sync for account: ${s.identifier}`);return c},storeSyncedAccounts:async r=>(fe.addBreadcrumb("Auth",`Storing ${Object.entries(r).length} synced accounts`,"info"),await fve(t,r),fe.addBreadcrumb("Auth","\u2705 Stored Synced Account metadata","info"),await e.syncAccounts(r),fe.addBreadcrumb("Auth","\u2705 Stored Sync Accounts in Vault","info"),!0)});d();h();var dve=(e,t)=>e.filter(r=>{switch(r.type){case"seed":case"seedless":return r.seedIdentifier===t;case"privateKey":return r.privateKeyIdentifier===t;case"ledger":case"seedVault":case"readOnly":return!1;default:ve(r);return}});d();h();function hve(e){return Rx.get(e).networkNameOverride?.(e)??re.getNetworkName(e,!0)}d();h();function pve(e){return{version:1,setting:{solana:Py,eip155:By,...e?{sui:jB}:{}}}}d();h();d();h();function Vy(e,t){return typeof e=="string"?e===t:e.length===t.length&&e.every((r,n)=>r===t[n])}d();h();var tw=ne(hG());function HAe(e){return e=(0,tw.default)(e),e.accounts.forEach(t=>{switch(t.type){case"privateKey":{switch(t.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Zh(t.publicKey)&&(t.publicKey=new Uint8Array(Buffer.from(t.publicKey)));break}default:ve(t)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(t.chains)){let n=t.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Zh(n.publicKey)&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)));break}default:ve(n)}}break;case"seedVault":break;default:ve(t)}}),e}function qAe(e){return e=(0,tw.default)(e),e.accounts.forEach(t=>{switch(t.type){case"privateKey":{switch(t.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{t.publicKey instanceof Uint8Array&&(t.publicKey=Buffer.from(t.publicKey).toJSON());break}default:ve(t)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(t.chains)){let n=t.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{n.publicKey instanceof Uint8Array&&(t.chains[r].publicKey=Buffer.from(n.publicKey).toJSON());break}default:ve(n)}}break;case"seedVault":break;default:ve(t)}}),e}function pG(e){return e=(0,tw.default)(e),e.accounts.forEach(t=>{switch(t.type){case"privateKey":{t.version===1&&Zh(t.publicKey)&&(t.publicKey=new Uint8Array(Buffer.from(t.publicKey)));break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(t.chains))if(t.version===1&&Zh(t.chains[r]?.publicKey)){let n=t.chains[r];n&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)))}break;case"seedVault":break;default:ve(t)}}),e}function yG(e){return e=(0,tw.default)(e),e.accounts.forEach(t=>{switch(t.type){case"privateKey":{t.version===1&&t.publicKey instanceof Uint8Array&&(t.publicKey=Buffer.from(t.publicKey).toJSON());break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(t.chains))t.version===1&&t.chains[r]?.publicKey instanceof Uint8Array&&(t.chains[r].publicKey=Buffer.from(t.chains[r]?.publicKey).toJSON());break;case"seedVault":break;default:ve(t)}}),e}function Zh(e){return!!e&&typeof e=="object"&&a4("type",e)&&typeof e.type=="string"&&a4("data",e)&&Array.isArray(e.data)&&e.data.every(t=>!Number.isNaN(parseInt(t)))}d();h();var Fs=".phantom-labs.vault";var n3=`${Fs}.accounts`,jy=`${Fs}.secrets`,i3=e=>`${Fs}.privateKey.${e}`,o3=e=>`${Fs}.seed.${e}`,s3=e=>`${Fs}.seedless.${e}`,r3=`${Fs}.integrityCheck`;async function wr(e){return(await EG(e))?.accounts??[]}async function bG(e){let t=await os(e),r=new Set(t.seedIdentifiers),n=await wr(e);for(let o of n)o.type==="seed"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function a3(e){let t=await os(e),r=new Set(t.seedlessIdentifiers),n=await wr(e);for(let o of n)o.type==="seedless"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function os(e){let t=await e.generalStorage.get(jy);return{privateKeyIdentifiers:t?.privateKeyIdentifiers??[],seedIdentifiers:t?.seedIdentifiers??[],seedlessIdentifiers:t?.seedlessIdentifiers??[]}}async function xG(e,t){let r=o3(t),n=await e.secretsStorage.getSecureValue(r);if(n===null){let i=s3(t);n=await e.secretsStorage.getSecureValue(i)}if(n==null)throw new Xu;return Zh(n.entropy)?n.entropy=new Uint8Array(Buffer.from(n.entropy)):n.entropy=new Uint8Array(Object.values(n.entropy)),n}async function ed(e,t){let r=i3(t),n=await e.secretsStorage.getSecureValue(r);if(n==null)throw new qh;return Zh(n.privateKey)?n.privateKey=new Uint8Array(Buffer.from(n.privateKey)):n.privateKey=new Uint8Array(Object.values(n.privateKey)),n}async function Wi(e,t,r=!0){let n=await EG(e);if(!n)n={version:1,accounts:[t]};else{let i=n.accounts,o=jAe(i,t);if(o.length>0){if(!r)throw new Lc(o[0].type,t.type);let s=gG(t.type);for(let c of o)if(gG(c.type)>=s)throw new Lc(c.type,t.type);let a=o.map(c=>c.identifier);return i=i.filter(c=>!a.includes(c.identifier)),i.push(t),await Fa(e,i),await W_(e)}else i.push(t);n.accounts=i}return Fa(e,n.accounts)}async function Fa(e,t){let r={version:1,accounts:t};return e.generalStorage.set(n3,yG(r))}async function wG(e,t){let r=i3(t.identifier);await e.secretsStorage.setSecureValue(r,t),await $Ae(e,t.identifier)}async function SG(e,t){let r=o3(t.identifier);await e.secretsStorage.setSecureValue(r,t),await zAe(e,t.identifier)}async function vG(e,t){let r=s3(t.identifier);await e.secretsStorage.setSecureValue(r,t),await GAe(e,t.identifier)}async function W_(e){let t=await wr(e),r=new Set,n=new Set;for(let a of t)switch(a.type){case"seed":case"seedless":r.add(a.seedIdentifier);break;case"privateKey":n.add(a.privateKeyIdentifier);break;case"ledger":case"readOnly":case"seedVault":break;default:ve(a)}let i=await os(e),o={seedIdentifiers:i.seedIdentifiers.filter(a=>r.has(a)),seedlessIdentifiers:i.seedlessIdentifiers.filter(a=>r.has(a)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(a=>n.has(a))},s={seedIdentifiers:i.seedIdentifiers.filter(a=>!r.has(a)),seedlessIdentifiers:i.seedlessIdentifiers.filter(a=>!r.has(a)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(a=>!n.has(a))};await e.generalStorage.set(jy,{version:1,...o}),await e.secretsStorage.removeSecureValue([...s.seedIdentifiers.map(a=>o3(a)),...s.seedlessIdentifiers.map(a=>s3(a)),...s.privateKeyIdentifiers.map(a=>i3(a))])}async function j_(e,t){t?await e.secretsStorage.setSecureValue(r3,t):await e.secretsStorage.removeSecureValue(r3)}async function z_(e){return e.secretsStorage.getSecureValue(r3)}async function AG(e){await e.generalStorage.remove(n3);let t=await os(e),r=t.privateKeyIdentifiers.map(o=>i3(o)),n=t.seedIdentifiers.map(o=>o3(o)),i=t.seedlessIdentifiers.map(o=>s3(o));await e.secretsStorage.removeSecureValue([...r,...i,...n]),await e.generalStorage.remove(jy),await e.secretsStorage.removeSecureValue(r3),await e.secureCache.clear()}async function EG(e){let t=await e.generalStorage.get(n3);return t?(t=pG(t),t=await WAe(e,t),t):null}async function WAe(e,t){let r=!1;return t.accounts.forEach(n=>{switch(n.type){case"privateKey":{r=mG(n)||r;break}case"readOnly":break;case"ledger":case"seed":case"seedless":Object.values(n.chains).forEach(i=>{r=mG(i)||r});break;case"seedVault":break;default:ve(n)}}),r&&await Fa(e,t.accounts),t}function mG(e){let t=!1;switch(e.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{Object.values(En).forEach(r=>{if(e.addresses&&e.addresses[r])return;let n=Hi({publicKey:e.publicKey,addressType:e.chainType,networkID:r});e.addresses={...e.addresses,[r]:n},t=!0});break}default:}return t}function jAe(e,t){let r=[],n=[];switch(t.type){case"seed":case"seedless":case"ledger":{Object.values(t.chains).forEach(o=>{switch(o.chainType){case"eip155":case"solana":{n.push(o.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(o.publicKey);break}case"sui":{n.push(o.address);break}default:ve(o)}});break}case"readOnly":{Object.values(t.addresses).forEach(o=>{n.push(o)});break}case"privateKey":{switch(t.chainType){case"eip155":case"solana":{n.push(t.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(t.publicKey);break}case"sui":{n.push(t.address);break}default:ve(t)}break}case"seedVault":{n.push(t.publicKey);break}default:(o=>{throw new Error("unknown account type")})(t)}let i=[];for(let o of e){let s;switch(o.type){case"seed":case"seedless":case"ledger":{s=Object.values(o.chains).some(a=>{switch(a.chainType){case"eip155":case"solana":return!!n.find(c=>Vy(c,a.publicKey));case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":return!!r.find(c=>Vy(c,a.publicKey));default:ve(a)}});break}case"readOnly":{s=Object.values(o.addresses).some(a=>!!n.find(c=>Vy(c,a)));break}case"privateKey":{s=!!n.find(a=>Vy(a,o.publicKey));break}case"seedVault":{s=!!n.find(a=>Vy(a,o.publicKey));break}default:(a=>{throw new Error("unknown account type")})(o)}s&&i.push(o)}return i}async function zAe(e,t){let r=await os(e);return r.seedIdentifiers=[...new Set([...r.seedIdentifiers,t])],e.generalStorage.set(jy,{version:1,...r})}async function GAe(e,t){let r=await os(e);return r.seedlessIdentifiers=[...new Set([...r.seedlessIdentifiers,t])],e.generalStorage.set(jy,{version:1,...r})}async function $Ae(e,t){let r=await os(e);return r.privateKeyIdentifiers=[...new Set([...r.privateKeyIdentifiers,t])],e.generalStorage.set(jy,{version:1,...r})}function gG(e){switch(e){case"readOnly":return 1;case"privateKey":return 2;case"seedless":case"seed":return 3;case"ledger":return 4;case"seedVault":return 5;default:return 0}}d();h();d();h();var Bw=ne(Pn()),Gc=ne(h7());d();h();d();h();var Y4e=U.array(U.object({address:U.string(),signingIndexes:U.array(U.number()),sigHash:U.number().optional(),isScriptSpend:U.boolean().optional()})),Z4e=U.object({chainType:el,signingType:U.literal("transaction"),message:U.string().min(1),inputsToSign:Y4e.optional(),finalize:U.boolean()}),J4e=U.object({chainType:el,signingType:U.literal("message"),message:U.instanceof(Uint8Array)}),X4e=Z4e.or(J4e),Q4e=U.object({chainType:U.literal("sui"),signingType:U.literal("transaction"),transaction:U.instanceof(Uint8Array)}),eIe=U.object({chainType:U.literal("sui"),signingType:U.literal("personalMessage"),message:U.instanceof(Uint8Array)}),tIe=Q4e.or(eIe),rIe=U.object({chainType:U.literal("solana"),signingType:U.literal("transaction"),message:U.union([U.string().min(1),U.instanceof(Uint8Array)])}),nIe=U.object({chainType:U.literal("solana"),signingType:U.literal("message"),message:U.string().min(1)}),KJ=rIe.or(nIe),iIe=U.object({chainType:U.literal("eip155"),signingType:U.literal("transaction"),message:U.string().min(1)}),VJ=U.object({chainType:U.literal("eip155"),signingType:U.literal("message"),message:U.string().min(1)}),FJ=U.object({chainType:U.literal("eip155"),signingType:U.literal("typedData"),version:U.literal(1),data:MN}),HJ=U.object({chainType:U.literal("eip155"),signingType:U.literal("typedData"),version:U.literal(3),data:NN}),qJ=U.object({chainType:U.literal("eip155"),signingType:U.literal("typedData"),version:U.literal(4),data:ON}),oIe=iIe.or(VJ).or(FJ).or(HJ).or(qJ),sIe=U.object({isJWT:U.literal(!0),data:$N}),aIe=U.object({isCash:U.literal(!0),data:KJ}),cIe=VJ.extend({isAgentWallet:U.literal(!0)}),uIe=FJ.extend({isAgentWallet:U.literal(!0)}),fIe=HJ.extend({isAgentWallet:U.literal(!0)}),lIe=qJ.extend({isAgentWallet:U.literal(!0)}),dIe=U.union([cIe,uIe,fIe,lIe]),hIe=U.object({status:U.literal("success"),signature:U.string()}),WJ=U.object({status:U.literal("success"),signature:U.string()}),pIe=U.object({status:U.literal("success"),signature:U.string(),message:U.instanceof(Uint8Array).optional()}),yIe=U.object({status:U.literal("success"),signature:U.string()}),mIe=U.object({status:U.literal("success"),signature:U.string(),signedJWT:GN.optional()}),gIe=WJ;var p7=KJ.or(oIe).or(X4e).or(tIe).or(sIe).or(dIe).or(aIe),$s=(S=>(S.InvalidInput="invalidInput",S.InvalidAccountId="invalidAccountId",S.InvalidAddressType="invalidAddressType",S.InvalidMessageEncoding="invalidMessageEncoding",S.InvalidDerivationPath="invalidDerivationPath",S.LedgerAppNotOpen="ledgerAppNotOpen",S.LedgerNotConnected="ledgerNotConnected",S.LedgerNeedPermission="ledgerNeedPermission",S.LedgerRejectAction="ledgerRejectAction",S.LedgerUnknownSignError="ledgerUnknownSignError",S.UnsupportedOperation="unsupportedOperation",S.InternalError="internalError",S.ExpiredTokenError="expiredToken",S.BeforeIATError="beforeTimeOfIssuance",S.InvalidClaimError="invalidClaim",S))($s||{}),bIe=U.object({status:U.literal("error"),type:U.nativeEnum($s),message:U.string()}),xIe=U.union([mIe,gIe,pIe,hIe,WJ,yIe,bIe]);var wIe={invalidInput:{message:"Invalid input"},invalidAccountId:{message:"Invalid account identifier."},invalidAddressType:{message:"Invalid chain type."},invalidMessageEncoding:{message:"Invalid message encoding."},invalidDerivationPath:{message:"Invalid derivation path."},ledgerAppNotOpen:{message:"Ledger App not open."},ledgerNotConnected:{message:"Ledger not connected."},ledgerNeedPermission:{message:"Need permission to connect to Ledger."},ledgerRejectAction:{message:"Ledger user rejected action."},ledgerUnknownSignError:{message:"Ledger unknown sign error."},unsupportedOperation:{message:"Unsupported operation."},internalError:{message:"Internal error."},expiredToken:{message:"Token is expired"},beforeTimeOfIssuance:{message:"Received token before issuance time"},invalidClaim:{message:"Claim is invalid"}},cr=(e,t)=>({status:"error",type:e,message:t??wIe[e].message});var jJ=()=>({type:"keyPair",sign:(e,t)=>{try{switch(t.signingType){case"typedData":{switch(t.version){case 1:{let r=Bw.Buffer.from(e.privateKey.slice()),n=Gc.SignTypedDataVersion.V1,{data:i}=t,o=(0,Gc.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=Bw.Buffer.from(e.privateKey.slice()),n=Gc.SignTypedDataVersion.V3,i=t.data,o=(0,Gc.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=Bw.Buffer.from(e.privateKey.slice()),n=Gc.SignTypedDataVersion.V4,i=t.data,o=(0,Gc.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=t.message,n=Bw.Buffer.from(e.privateKey);try{let i=(0,Gc.personalSign)({privateKey:n,data:r});return Promise.resolve({status:"success",signature:i})}finally{n.fill(0)}}}}catch(r){return console.error(r),Promise.resolve(cr("invalidMessageEncoding"))}}});d();h();var Ro=ne(Pn());d();h();d();h();var _w={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Im=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ya=(e,t)=>e<<32-t|e>>>t,SIe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!SIe)throw new Error("Non little-endian hardware is not supported");var Ryt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vIe(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function fd(e){if(typeof e=="string"&&(e=vIe(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}var Em=class{clone(){return this._cloneInto()}},AIe=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function zJ(e,t){if(t!==void 0&&(typeof t!="object"||!AIe(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}function y7(e){let t=n=>e().update(fd(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Cw(e=32){if(_w.web)return _w.web.getRandomValues(new Uint8Array(e));if(_w.node)return new Uint8Array(_w.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}d();h();d();h();d();h();var x7={};r4(x7,{bitGet:()=>_Ie,bitLen:()=>BIe,bitMask:()=>Mw,bitSet:()=>CIe,bytesToHex:()=>m0,bytesToNumberBE:()=>Ii,bytesToNumberLE:()=>s8,concatBytes:()=>rf,createHmacDrbg:()=>b7,ensureBytes:()=>Kn,equalBytes:()=>TIe,hexToBytes:()=>g0,hexToNumber:()=>g7,numberToBytesBE:()=>Za,numberToBytesLE:()=>a8,numberToHexUnpadded:()=>YJ,numberToVarBytesBE:()=>kIe,utf8ToBytes:()=>PIe,validateObject:()=>ld});d();h();var $J=BigInt(0),i8=BigInt(1),EIe=BigInt(2),o8=e=>e instanceof Uint8Array,IIe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function m0(e){if(!o8(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=IIe[e[r]];return t}function YJ(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function g7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function g0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){let i=n*2,o=e.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Ii(e){return g7(m0(e))}function s8(e){if(!o8(e))throw new Error("Uint8Array expected");return g7(m0(Uint8Array.from(e).reverse()))}function Za(e,t){return g0(e.toString(16).padStart(t*2,"0"))}function a8(e,t){return Za(e,t).reverse()}function kIe(e){return g0(YJ(e))}function Kn(e,t,r){let n;if(typeof t=="string")try{n=g0(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(o8(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function rf(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.length,0)),r=0;return e.forEach(n=>{if(!o8(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function TIe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function PIe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function BIe(e){let t;for(t=0;e>$J;e>>=i8,t+=1);return t}function _Ie(e,t){return e>>BigInt(t)&i8}var CIe=(e,t,r)=>e|(r?i8:$J)<<BigInt(t),Mw=e=>(EIe<<BigInt(e-1))-i8,m7=e=>new Uint8Array(e),GJ=e=>Uint8Array.from(e);function b7(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=m7(e),i=m7(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...f)=>r(i,n,...f),c=(f=m7())=>{i=a(GJ([0]),f),n=a(),f.length!==0&&(i=a(GJ([1]),f),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<t;){n=a();let b=n.slice();m.push(b),f+=n.length}return rf(...m)};return(f,m)=>{s(),c(f);let b;for(;!(b=m(u()));)c();return s(),b}}var MIe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ld(e,t,r={}){let n=(i,o,s)=>{let a=MIe[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(t))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return e}var Fn=BigInt(0),fn=BigInt(1),b0=BigInt(2),NIe=BigInt(3),w7=BigInt(4),ZJ=BigInt(5),JJ=BigInt(8),OIe=BigInt(9),DIe=BigInt(16);function Vn(e,t){let r=e%t;return r>=Fn?r:t+r}function UIe(e,t,r){if(r<=Fn||t<Fn)throw new Error("Expected power/modulo > 0");if(r===fn)return Fn;let n=fn;for(;t>Fn;)t&fn&&(n=n*e%r),e=e*e%r,t>>=fn;return n}function cs(e,t,r){let n=e;for(;t-- >Fn;)n*=n,n%=r;return n}function c8(e,t){if(e===Fn||t<=Fn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Vn(e,t),n=t,i=Fn,o=fn,s=fn,a=Fn;for(;r!==Fn;){let u=n/r,l=n%r,f=i-s*u,m=o-a*u;n=r,r=l,i=s,o=a,s=f,a=m}if(n!==fn)throw new Error("invert: does not exist");return Vn(i,t)}function RIe(e){let t=(e-fn)/b0,r,n,i;for(r=e-fn,n=0;r%b0===Fn;r/=b0,n++);for(i=b0;i<e&&UIe(i,t,e)!==e-fn;i++);if(n===1){let s=(e+fn)/w7;return function(c,u){let l=c.pow(u,s);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}let o=(r+fn)/b0;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),f=a.pow(c,o),m=a.pow(c,r);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let b=1;for(let S=a.sqr(m);b<u&&!a.eql(S,a.ONE);b++)S=a.sqr(S);let w=a.pow(l,fn<<BigInt(u-b-1));l=a.sqr(w),f=a.mul(f,w),m=a.mul(m,l),u=b}return f}}function LIe(e){if(e%w7===NIe){let t=(e+fn)/w7;return function(n,i){let o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%JJ===ZJ){let t=(e-ZJ)/JJ;return function(n,i){let o=n.mul(i,b0),s=n.pow(o,t),a=n.mul(i,s),c=n.mul(n.mul(a,b0),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return e%DIe,RIe(e)}var KIe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function S7(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=KIe.reduce((n,i)=>(n[i]="function",n),t);return ld(e,r)}function VIe(e,t,r){if(r<Fn)throw new Error("Expected power > 0");if(r===Fn)return e.ONE;if(r===fn)return t;let n=e.ONE,i=t;for(;r>Fn;)r&fn&&(n=e.mul(n,i)),i=e.sqr(i),r>>=fn;return n}function FIe(e,t){let r=new Array(t.length),n=t.reduce((o,s,a)=>e.is0(s)?o:(r[a]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,a)=>e.is0(s)?o:(r[a]=e.mul(o,r[a]),e.mul(o,s)),i),r}function v7(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function XJ(e,t,r=!1,n={}){if(e<=Fn)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:o}=v7(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=LIe(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Mw(i),ZERO:Fn,ONE:fn,create:c=>Vn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Fn<=c&&c<e},is0:c=>c===Fn,isOdd:c=>(c&fn)===fn,neg:c=>Vn(-c,e),eql:(c,u)=>c===u,sqr:c=>Vn(c*c,e),add:(c,u)=>Vn(c+u,e),sub:(c,u)=>Vn(c-u,e),mul:(c,u)=>Vn(c*u,e),pow:(c,u)=>VIe(a,c,u),div:(c,u)=>Vn(c*c8(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>c8(c,e),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>FIe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?a8(c,o):Za(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?s8(c):Ii(c)}});return Object.freeze(a)}function QJ(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function A7(e){let t=QJ(e);return t+Math.ceil(t/2)}function eX(e,t,r=!1){let n=e.length,i=QJ(t),o=A7(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Ii(e):s8(e),a=Vn(s,t-fn)+fn;return r?a8(a,i):Za(a,i)}d();h();d();h();var qIe=BigInt(0),E7=BigInt(1);function tX(e,t){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>qIe;)o&E7&&(s=s.add(a)),a=a.double(),o>>=E7;return s},precomputeWindow(i,o){let{windows:s,windowSize:a}=n(o),c=[],u=i,l=u;for(let f=0;f<s;f++){l=u,c.push(l);for(let m=1;m<a;m++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,o,s){let{windows:a,windowSize:c}=n(i),u=e.ZERO,l=e.BASE,f=BigInt(2**i-1),m=2**i,b=BigInt(i);for(let w=0;w<a;w++){let S=w*c,P=Number(s&f);s>>=b,P>c&&(P-=m,s+=E7);let M=S,D=S+Math.abs(P)-1,C=w%2!==0,R=P<0;P===0?l=l.add(r(C,o[M])):u=u.add(r(R,o[D]))}return{p:u,f:l}},wNAFCached(i,o,s,a){let c=i._WINDOW_SIZE||1,u=o.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&o.set(i,a(u))),this.wNAF(c,u,s)}}}function I7(e){return S7(e.Fp),ld(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...v7(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function WIe(e){let t=I7(e);ld(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:jIe,hexToBytes:zIe}=x7,x0={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=x0;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:jIe(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=x0,r=typeof e=="string"?zIe(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=x0._parseInt(r.subarray(2)),{d:s,l:a}=x0._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{let l=u.toString(16);return l.length&1?`0${l}`:l},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},nf=BigInt(0),Ys=BigInt(1),emt=BigInt(2),rX=BigInt(3),tmt=BigInt(4);function GIe(e){let t=WIe(e),{Fp:r}=t,n=t.toBytes||((w,S,P)=>{let M=S.toAffine();return rf(Uint8Array.from([4]),r.toBytes(M.x),r.toBytes(M.y))}),i=t.fromBytes||(w=>{let S=w.subarray(1),P=r.fromBytes(S.subarray(0,r.BYTES)),M=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:P,y:M}});function o(w){let{a:S,b:P}=t,M=r.sqr(w),D=r.mul(M,w);return r.add(r.add(D,r.mul(w,S)),P)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(w){return typeof w=="bigint"&&nf<w&&w<t.n}function a(w){if(!s(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){let{allowedPrivateKeyLengths:S,nByteLength:P,wrapPrivateKey:M,n:D}=t;if(S&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=m0(w)),typeof w!="string"||!S.includes(w.length))throw new Error("Invalid key");w=w.padStart(P*2,"0")}let C;try{C=typeof w=="bigint"?w:Ii(Kn("private key",w,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof w}`)}return M&&(C=Vn(C,D)),a(C),C}let u=new Map;function l(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(S,P,M){if(this.px=S,this.py=P,this.pz=M,S==null||!r.isValid(S))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(M==null||!r.isValid(M))throw new Error("z required")}static fromAffine(S){let{x:P,y:M}=S||{};if(!S||!r.isValid(P)||!r.isValid(M))throw new Error("invalid affine point");if(S instanceof f)throw new Error("projective point not allowed");let D=C=>r.eql(C,r.ZERO);return D(P)&&D(M)?f.ZERO:new f(P,M,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){let P=r.invertBatch(S.map(M=>M.pz));return S.map((M,D)=>M.toAffine(P[D])).map(f.fromAffine)}static fromHex(S){let P=f.fromAffine(i(Kn("pointHex",S)));return P.assertValidity(),P}static fromPrivateKey(S){return f.BASE.multiply(c(S))}_setWindowSize(S){this._WINDOW_SIZE=S,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:S,y:P}=this.toAffine();if(!r.isValid(S)||!r.isValid(P))throw new Error("bad point: x or y not FE");let M=r.sqr(P),D=o(S);if(!r.eql(M,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:S}=this.toAffine();if(r.isOdd)return!r.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){l(S);let{px:P,py:M,pz:D}=this,{px:C,py:R,pz:L}=S,W=r.eql(r.mul(P,L),r.mul(C,D)),G=r.eql(r.mul(M,L),r.mul(R,D));return W&&G}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:S,b:P}=t,M=r.mul(P,rX),{px:D,py:C,pz:R}=this,L=r.ZERO,W=r.ZERO,G=r.ZERO,H=r.mul(D,D),$=r.mul(C,C),B=r.mul(R,R),p=r.mul(D,C);return p=r.add(p,p),G=r.mul(D,R),G=r.add(G,G),L=r.mul(S,G),W=r.mul(M,B),W=r.add(L,W),L=r.sub($,W),W=r.add($,W),W=r.mul(L,W),L=r.mul(p,L),G=r.mul(M,G),B=r.mul(S,B),p=r.sub(H,B),p=r.mul(S,p),p=r.add(p,G),G=r.add(H,H),H=r.add(G,H),H=r.add(H,B),H=r.mul(H,p),W=r.add(W,H),B=r.mul(C,R),B=r.add(B,B),H=r.mul(B,p),L=r.sub(L,H),G=r.mul(B,$),G=r.add(G,G),G=r.add(G,G),new f(L,W,G)}add(S){l(S);let{px:P,py:M,pz:D}=this,{px:C,py:R,pz:L}=S,W=r.ZERO,G=r.ZERO,H=r.ZERO,$=t.a,B=r.mul(t.b,rX),p=r.mul(P,C),g=r.mul(M,R),x=r.mul(D,L),A=r.add(P,M),v=r.add(C,R);A=r.mul(A,v),v=r.add(p,g),A=r.sub(A,v),v=r.add(P,D);let _=r.add(C,L);return v=r.mul(v,_),_=r.add(p,x),v=r.sub(v,_),_=r.add(M,D),W=r.add(R,L),_=r.mul(_,W),W=r.add(g,x),_=r.sub(_,W),H=r.mul($,v),W=r.mul(B,x),H=r.add(W,H),W=r.sub(g,H),H=r.add(g,H),G=r.mul(W,H),g=r.add(p,p),g=r.add(g,p),x=r.mul($,x),v=r.mul(B,v),g=r.add(g,x),x=r.sub(p,x),x=r.mul($,x),v=r.add(v,x),p=r.mul(g,v),G=r.add(G,p),p=r.mul(_,v),W=r.mul(A,W),W=r.sub(W,p),p=r.mul(A,g),H=r.mul(_,H),H=r.add(H,p),new f(W,G,H)}subtract(S){return this.add(S.negate())}is0(){return this.equals(f.ZERO)}wNAF(S){return b.wNAFCached(this,u,S,P=>{let M=r.invertBatch(P.map(D=>D.pz));return P.map((D,C)=>D.toAffine(M[C])).map(f.fromAffine)})}multiplyUnsafe(S){let P=f.ZERO;if(S===nf)return P;if(a(S),S===Ys)return this;let{endo:M}=t;if(!M)return b.unsafeLadder(this,S);let{k1neg:D,k1:C,k2neg:R,k2:L}=M.splitScalar(S),W=P,G=P,H=this;for(;C>nf||L>nf;)C&Ys&&(W=W.add(H)),L&Ys&&(G=G.add(H)),H=H.double(),C>>=Ys,L>>=Ys;return D&&(W=W.negate()),R&&(G=G.negate()),G=new f(r.mul(G.px,M.beta),G.py,G.pz),W.add(G)}multiply(S){a(S);let P=S,M,D,{endo:C}=t;if(C){let{k1neg:R,k1:L,k2neg:W,k2:G}=C.splitScalar(P),{p:H,f:$}=this.wNAF(L),{p:B,f:p}=this.wNAF(G);H=b.constTimeNegate(R,H),B=b.constTimeNegate(W,B),B=new f(r.mul(B.px,C.beta),B.py,B.pz),M=H.add(B),D=$.add(p)}else{let{p:R,f:L}=this.wNAF(P);M=R,D=L}return f.normalizeZ([M,D])[0]}multiplyAndAddUnsafe(S,P,M){let D=f.BASE,C=(L,W)=>W===nf||W===Ys||!L.equals(D)?L.multiplyUnsafe(W):L.multiply(W),R=C(this,P).add(C(S,M));return R.is0()?void 0:R}toAffine(S){let{px:P,py:M,pz:D}=this,C=this.is0();S==null&&(S=C?r.ONE:r.inv(D));let R=r.mul(P,S),L=r.mul(M,S),W=r.mul(D,S);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(W,r.ONE))throw new Error("invZ was invalid");return{x:R,y:L}}isTorsionFree(){let{h:S,isTorsionFree:P}=t;if(S===Ys)return!0;if(P)return P(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:S,clearCofactor:P}=t;return S===Ys?this:P?P(f,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return this.assertValidity(),n(f,this,S)}toHex(S=!0){return m0(this.toRawBytes(S))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let m=t.nBitLength,b=tX(f,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function $Ie(e){let t=I7(e);return ld(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function nX(e){let t=$Ie(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(v){return nf<v&&v<r.ORDER}function a(v){return Vn(v,n)}function c(v){return c8(v,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:m}=GIe({...t,toBytes(v,_,O){let T=_.toAffine(),y=r.toBytes(T.x),I=rf;return O?I(Uint8Array.from([_.hasEvenY()?2:3]),y):I(Uint8Array.from([4]),y,r.toBytes(T.y))},fromBytes(v){let _=v.length,O=v[0],T=v.subarray(1);if(_===i&&(O===2||O===3)){let y=Ii(T);if(!s(y))throw new Error("Point is not on curve");let I=f(y),q=r.sqrt(I),K=(q&Ys)===Ys;return(O&1)===1!==K&&(q=r.neg(q)),{x:y,y:q}}else if(_===o&&O===4){let y=r.fromBytes(T.subarray(0,r.BYTES)),I=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:y,y:I}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),b=v=>m0(Za(v,t.nByteLength));function w(v){let _=n>>Ys;return v>_}function S(v){return w(v)?a(-v):v}let P=(v,_,O)=>Ii(v.slice(_,O));class M{constructor(_,O,T){this.r=_,this.s=O,this.recovery=T,this.assertValidity()}static fromCompact(_){let O=t.nByteLength;return _=Kn("compactSignature",_,O*2),new M(P(_,0,O),P(_,O,2*O))}static fromDER(_){let{r:O,s:T}=x0.toSig(Kn("DER",_));return new M(O,T)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new M(this.r,this.s,_)}recoverPublicKey(_){let{r:O,s:T,recovery:y}=this,I=G(Kn("msgHash",_));if(y==null||![0,1,2,3].includes(y))throw new Error("recovery id invalid");let q=y===2||y===3?O+t.n:O;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=y&1?"03":"02",F=u.fromHex(K+b(q)),J=c(q),ae=a(-I*J),ce=a(T*J),pe=u.BASE.multiplyAndAddUnsafe(F,ae,ce);if(!pe)throw new Error("point at infinify");return pe.assertValidity(),pe}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return g0(this.toDERHex())}toDERHex(){return x0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return g0(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}let D={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let v=A7(t.n);return eX(t.randomBytes(v),t.n)},precompute(v=8,_=u.BASE){return _._setWindowSize(v),_.multiply(BigInt(3)),_}};function C(v,_=!0){return u.fromPrivateKey(v).toRawBytes(_)}function R(v){let _=v instanceof Uint8Array,O=typeof v=="string",T=(_||O)&&v.length;return _?T===i||T===o:O?T===2*i||T===2*o:v instanceof u}function L(v,_,O=!0){if(R(v))throw new Error("first arg must be private key");if(!R(_))throw new Error("second arg must be public key");return u.fromHex(_).multiply(l(v)).toRawBytes(O)}let W=t.bits2int||function(v){let _=Ii(v),O=v.length*8-t.nBitLength;return O>0?_>>BigInt(O):_},G=t.bits2int_modN||function(v){return a(W(v))},H=Mw(t.nBitLength);function $(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(nf<=v&&v<H))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Za(v,t.nByteLength)}function B(v,_,O=p){if(["recovered","canonical"].some(V=>V in O))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:y}=t,{lowS:I,prehash:q,extraEntropy:K}=O;I==null&&(I=!0),v=Kn("msgHash",v),q&&(v=Kn("prehashed msgHash",T(v)));let F=G(v),J=l(_),ae=[$(J),$(F)];if(K!=null){let V=K===!0?y(r.BYTES):K;ae.push(Kn("extraEntropy",V))}let ce=rf(...ae),pe=F;function Y(V){let Z=W(V);if(!m(Z))return;let X=c(Z),ee=u.BASE.multiply(Z).toAffine(),he=a(ee.x);if(he===nf)return;let te=a(X*a(pe+he*J));if(te===nf)return;let se=(ee.x===he?0:2)|Number(ee.y&Ys),gt=te;return I&&w(te)&&(gt=S(te),se^=1),new M(he,gt,se)}return{seed:ce,k2sig:Y}}let p={lowS:t.lowS,prehash:!1},g={lowS:t.lowS,prehash:!1};function x(v,_,O=p){let{seed:T,k2sig:y}=B(v,_,O),I=t;return b7(I.hash.outputLen,I.nByteLength,I.hmac)(T,y)}u.BASE._setWindowSize(8);function A(v,_,O,T=g){let y=v;if(_=Kn("msgHash",_),O=Kn("publicKey",O),"strict"in T)throw new Error("options.strict was renamed to lowS");let{lowS:I,prehash:q}=T,K,F;try{if(typeof y=="string"||y instanceof Uint8Array)try{K=M.fromDER(y)}catch(ee){if(!(ee instanceof x0.Err))throw ee;K=M.fromCompact(y)}else if(typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint"){let{r:ee,s:he}=y;K=new M(ee,he)}else throw new Error("PARSE");F=u.fromHex(O)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&K.hasHighS())return!1;q&&(_=t.hash(_));let{r:J,s:ae}=K,ce=G(_),pe=c(ae),Y=a(ce*pe),V=a(J*pe),Z=u.BASE.multiplyAndAddUnsafe(F,Y,V)?.toAffine();return Z?a(Z.x)===J:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:L,sign:x,verify:A,ProjectivePoint:u,Signature:M,utils:D}}d();h();function YIe(e){return{hash:e,hmac:(t,...r)=>LN(e,t,UN(...r)),randomBytes:p1}}function iX(e,t){let r=n=>nX({...e,...YIe(n)});return Object.freeze({...r(t),create:r})}var d8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aX=BigInt(1),f8=BigInt(2),oX=(e,t)=>(e+t/f8)/t;function cX(e){let t=d8,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=cs(l,r,t)*l%t,m=cs(f,r,t)*l%t,b=cs(m,f8,t)*u%t,w=cs(b,i,t)*b%t,S=cs(w,o,t)*w%t,P=cs(S,a,t)*S%t,M=cs(P,c,t)*P%t,D=cs(M,a,t)*S%t,C=cs(D,r,t)*l%t,R=cs(C,s,t)*w%t,L=cs(R,n,t)*u%t,W=cs(L,f8,t);if(!T7.eql(T7.sqr(W),e))throw new Error("Cannot find square root");return W}var T7=XJ(d8,void 0,void 0,{sqrt:cX}),km=iX({a:BigInt(0),b:BigInt(7),Fp:T7,n:u8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=u8,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-aX*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=oX(o*e,t),c=oX(-n*e,t),u=Vn(e-a*r-c*i,t),l=Vn(-a*n-c*o,t),f=u>s,m=l>s;if(f&&(u=t-u),m&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:m,k2:l}}}},Ti),h8=BigInt(0),uX=e=>typeof e=="bigint"&&h8<e&&e<d8,ZIe=e=>typeof e=="bigint"&&h8<e&&e<u8,sX={};function l8(e,...t){let r=sX[e];if(r===void 0){let n=Ti(Uint8Array.from(e,i=>i.charCodeAt(0)));r=rf(n,n),sX[e]=r}return Ti(rf(r,...t))}var _7=e=>e.toRawBytes(!0).slice(1),P7=e=>Za(e,32),k7=e=>Vn(e,d8),Nw=e=>Vn(e,u8),C7=km.ProjectivePoint,JIe=(e,t,r)=>C7.BASE.multiplyAndAddUnsafe(e,t,r);function B7(e){let t=km.utils.normPrivateKeyToScalar(e),r=C7.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Nw(-t),bytes:_7(r)}}function fX(e){if(!uX(e))throw new Error("bad x: need 0 < x < p");let t=k7(e*e),r=k7(t*e+BigInt(7)),n=cX(r);n%f8!==h8&&(n=k7(-n));let i=new C7(e,n,aX);return i.assertValidity(),i}function lX(...e){return Nw(Ii(l8("BIP0340/challenge",...e)))}function XIe(e){return B7(e).bytes}function QIe(e,t,r=p1(32)){let n=Kn("message",e),{bytes:i,scalar:o}=B7(t),s=Kn("auxRand",r,32),a=P7(o^Ii(l8("BIP0340/aux",s))),c=l8("BIP0340/nonce",a,i,n),u=Nw(Ii(c));if(u===h8)throw new Error("sign failed: k is zero");let{bytes:l,scalar:f}=B7(u),m=lX(l,i,n),b=new Uint8Array(64);if(b.set(l,0),b.set(P7(Nw(f+m*o)),32),!dX(b,n,i))throw new Error("sign: Invalid signature produced");return b}function dX(e,t,r){let n=Kn("signature",e,64),i=Kn("message",t),o=Kn("publicKey",r,32);try{let s=fX(Ii(o)),a=Ii(n.subarray(0,32));if(!uX(a))return!1;let c=Ii(n.subarray(32,64));if(!ZIe(c))return!1;let u=lX(P7(a),_7(s),i),l=JIe(s,c,Nw(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}var us={getPublicKey:XIe,sign:QIe,verify:dX,utils:{randomPrivateKey:km.utils.randomPrivateKey,lift_x:fX,pointToBytes:_7,numberToBytesBE:Za,bytesToNumberBE:Ii,taggedHash:l8,mod:Vn}};d();h();var eke=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),pX=Uint8Array.from({length:16},(e,t)=>t),tke=pX.map(e=>(9*e+5)%16),N7=[pX],O7=[tke];for(let e=0;e<4;e++)for(let t of[N7,O7])t.push(t[e].map(r=>eke[r]));var yX=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),rke=N7.map((e,t)=>e.map(r=>yX[t][r])),nke=O7.map((e,t)=>e.map(r=>yX[t][r])),ike=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oke=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),p8=(e,t)=>e<<t|e>>>32-t;function hX(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var y8=new Uint32Array(16),M7=class extends KN{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(t,r){for(let b=0;b<16;b++,r+=4)y8[b]=t.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,c=a,u=this.h3|0,l=u,f=this.h4|0,m=f;for(let b=0;b<5;b++){let w=4-b,S=ike[b],P=oke[b],M=N7[b],D=O7[b],C=rke[b],R=nke[b];for(let L=0;L<16;L++){let W=p8(n+hX(b,o,a,u)+y8[M[L]]+S,C[L])+f|0;n=f,f=u,u=p8(a,10)|0,a=o,o=W}for(let L=0;L<16;L++){let W=p8(i+hX(w,s,c,l)+y8[D[L]]+P,R[L])+m|0;i=m,m=l,l=p8(c,10)|0,c=s,s=W}}this.set(this.h1+a+l|0,this.h2+u+m|0,this.h3+f+i|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){y8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},mX=RN(()=>new M7);d();h();function Tm(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function g8(...e){let t=(i,o)=>s=>i(o(s)),r=Array.from(e).reverse().reduce((i,o)=>i?t(i,o.encode):o.encode,void 0),n=e.reduce((i,o)=>i?t(i,o.decode):o.decode,void 0);return{encode:r,decode:n}}function R7(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function L7(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function ske(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function gX(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(s=>{if(s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let c=n;c<o.length;c++){let u=o[c],l=t*s+u;if(!Number.isSafeInteger(l)||t*s/t!==s||l-u!==t*s)throw new Error("convertRadix: carry overflow");s=l%r;let f=Math.floor(l/r);if(o[c]=f,!Number.isSafeInteger(f)||f*r+s!==l)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:n=c;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}var SX=(e,t)=>t?SX(t,e%t):e,m8=(e,t)=>e+(t-SX(e,t));function D7(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(m8(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${m8(t,r)}`);let i=0,o=0,s=2**r-1,a=[];for(let c of e){if(c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function ake(e){return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return gX(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(gX(t,e,2**8))}}}function vX(e,t=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(m8(8,e)>32||m8(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return D7(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(D7(r,e,8,t))}}}function bX(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}function cke(e,t){if(typeof t!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let s=0;s<e;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var uke=e=>g8(ake(58),R7(e),L7("")),fke=uke("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var AX=e=>g8(cke(4,t=>e(e(t))),fke),U7=g8(R7("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),L7("")),xX=[996825010,642813549,513874426,1027748829,705979059];function Ow(e){let t=e>>25,r=(e&33554431)<<5;for(let n=0;n<xX.length;n++)(t>>n&1)===1&&(r^=xX[n]);return r}function wX(e,t,r=1){let n=e.length,i=1;for(let o=0;o<n;o++){let s=e.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${e})`);i=Ow(i)^s>>5}i=Ow(i);for(let o=0;o<n;o++)i=Ow(i)^e.charCodeAt(o)&31;for(let o of t)i=Ow(i)^o;for(let o=0;o<6;o++)i=Ow(i);return i^=r,U7.encode(D7([i%2**30],30,5,!1))}function EX(e){let t=e==="bech32"?1:734539939,r=vX(5),n=r.decode,i=r.encode,o=bX(n);function s(l,f,m=90){if(typeof l!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof l}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);let b=l.length+7+f.length;if(m!==!1&&b>m)throw new TypeError(`Length ${b} exceeds limit ${m}`);let w=l.toLowerCase(),S=wX(w,f,t);return`${w}1${U7.encode(f)}${S}`}function a(l,f=90){if(typeof l!="string")throw new Error(`bech32.decode input should be string, not ${typeof l}`);if(l.length<8||f!==!1&&l.length>f)throw new TypeError(`Wrong string length: ${l.length} (${l}). Expected (8..${f})`);let m=l.toLowerCase();if(l!==m&&l!==l.toUpperCase())throw new Error("String must be lowercase or uppercase");l=m;let b=l.lastIndexOf("1");if(b===0||b===-1)throw new Error('Letter "1" must be present between prefix and data only');let w=l.slice(0,b),S=l.slice(b+1);if(S.length<6)throw new Error("Data must be at least 6 characters long");let P=U7.decode(S).slice(0,-6),M=wX(w,P,t);if(!S.endsWith(M))throw new Error(`Invalid checksum in ${l}: expected "${M}"`);return{prefix:w,words:P}}let c=bX(a);function u(l){let{prefix:f,words:m}=a(l,!1);return{prefix:f,words:m,bytes:n(m)}}return{encode:s,decode:a,decodeToBytes:u,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:o,toWords:i}}var b8=EX("bech32"),K7=EX("bech32m"),V7={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},on=g8(vX(4),R7("0123456789abcdef"),L7(""),ske(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));d();h();var sn=new Uint8Array,E8=new Uint8Array([0]);function Rr(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function x8(...e){if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var fs=e=>e instanceof Uint8Array,w8=class{constructor(t,r=[],n=[]){this.data=t,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(t){return new Error(`Reader(${this.fieldPath.join("/")}): ${t}`)}absBytes(t){if(t>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(t)}bytes(t,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(t))throw this.err(`readBytes: wrong length=${t}`);if(this.pos+t>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+t);return r||(this.pos+=t),n}byte(t=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[t?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(t){let r;if(dd(t)?r=Number(t.decodeStream(this)):typeof t=="number"?r=t:typeof t=="string"&&(r=A8(this.path,t.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(t){if(t>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;t;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(t,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,t-=n}return r>>>0}find(t,r=this.pos){if(!fs(t))throw this.err(`find: needle is not bytes! ${t}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!t.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(t[0],n))!==-1;n++){if(n===-1||this.data.length-n<t.length)return;if(Rr(t,this.data.subarray(n,n+t.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${on.encode(this.data.slice(this.pos))}`)}fieldPathPush(t){this.fieldPath.push(t)}fieldPathPop(){this.fieldPath.pop()}},S8=class{constructor(t=[],r=[]){this.path=t,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(t){return new Error(`Writer(${this.fieldPath.join("/")}): ${t}`)}bytes(t){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(t),this.pos+=t.length}byte(t){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([t])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let t=x8(...this.buffers);for(let r of this.ptrs){let n=t.length;t=x8(t,r.buffer);let i=r.ptr.encode(n);for(let o=0;o<i.length;o++)t[r.pos+o]=i[o]}return t}length(t,r){if(t===null)return;if(dd(t))return t.encodeStream(this,r);let n;if(typeof t=="number"?n=t:typeof t=="string"&&(n=A8(this.path,t.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${t} exp=${r}`)}bits(t,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(t>=2**r)throw this.err(`writeBits: value (${t}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|t>>r-n,this.bitPos+=n,r-=n,t&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(t){this.fieldPath.push(t)}fieldPathPop(){this.fieldPath.pop()}},v8=e=>Uint8Array.from(e).reverse();function IX(e,t,r,n){if(n){let i=2n**(r-1n);if(t<-i||t>=i)throw e.err("sInt: value out of bounds")}else if(0n>t||t>=2n**r)throw e.err("uInt: value out of bounds")}function Hn(e){return{...e,encode:t=>{let r=new S8;return e.encodeStream(r,t),r.buffer},decode:t=>{let r=new w8(t),n=e.decodeStream(r);return r.finish(),n}}}function A8(e,t){e=Array.from(e);let r=0;for(;r<t.length&&t[r]==="..";r++)e.pop();let n=e.pop();for(;r<t.length;r++){if(!n||n[t[r]]===void 0)return;n=n[t[r]]}return n}function dd(e){return typeof e.encode=="function"&&typeof e.encodeStream=="function"&&typeof e.decode=="function"&&typeof e.decodeStream=="function"}function dke(){return{encode:e=>{let t={};for(let[r,n]of e){if(t[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);t[r]=n}return t},decode:e=>Object.entries(e)}}var hke={encode:e=>{if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${e}`);return Number(e)},decode:e=>BigInt(e)};function pke(e){return{encode:t=>e[t],decode:t=>e[t]}}function yke(e){let t=10n**BigInt(e);return{encode:r=>{let n=(r<0n?-r:r).toString(10),i=n.length-e;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let o=n.length-1;for(;o>=i&&n[o]==="0";o--);let[s,a]=[n.slice(0,i),n.slice(i,o+1)];return s||(s="0"),r<0n&&(s="-"+s),a?`${s}.${a}`:s},decode:r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[o,s]=[r.slice(0,i),r.slice(i+1)],a=BigInt(o)*t,c=Math.min(s.length,e),u=BigInt(s.slice(0,c))*10n**BigInt(e-c),l=a+u;return n?-l:l}}}function mke(e){return{encode:t=>{for(let r of e){let n=r.encode(t);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${t}`)},decode:t=>{for(let r of e){let n=r.decode(t);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${t}`)}}}var Pm={dict:dke,number:hke,tsEnum:pke,decimal:yke,match:mke};var ls=(e,t=!1,r=!1)=>Hn({size:e,encodeStream:(n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let o=BigInt(i),s=BigInt(e);IX(n,o,8n*s,!!r);let a=2n**(8n*s-1n);r&&o<0&&(o=o|a);let c=[];for(let l=0;l<e;l++)c.push(Number(o&255n)),o>>=8n;let u=new Uint8Array(c).reverse();n.bytes(t?u.reverse():u)},decodeStream:n=>{let i=BigInt(e),o=n.bytes(e);t&&(o=v8(o));let s=v8(o),a=2n**(8n*i-1n),c=0n;for(let u=0;u<s.length;u++)c|=BigInt(s[u])<<8n*BigInt(u);return r&&c&a&&(c=(c^a)-a),IX(n,c,8n*i,!!r),c}}),Bmt=ls(32,!0),kX=ls(32,!1),_mt=ls(32,!0,!0),Cmt=ls(32,!1,!0),Mmt=ls(16,!0),Nmt=ls(16,!1),Omt=ls(16,!0,!0),Dmt=ls(16,!1,!0),Dw=ls(8,!0),Umt=ls(8,!1),TX=ls(8,!0,!0),Rmt=ls(8,!1,!0),$c=(e,t=!1,r=!1)=>{if(e>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return Rw(ls(e,t,r),Pm.number)},vr=$c(4,!0),PX=$c(4,!1),Bm=$c(4,!0,!0),Lmt=$c(4,!1,!0),F7=$c(2,!0),Kmt=$c(2,!1),Vmt=$c(2,!0,!0),Fmt=$c(2,!1,!0),of=$c(1,!1),Hmt=$c(1,!1,!0),qmt=Hn({size:1,encodeStream:(e,t)=>e.byte(t?1:0),decodeStream:e=>{let t=e.byte();if(t!==0&&t!==1)throw e.err(`bool: invalid value ${t}`);return t===1}}),Yr=(e,t=!1)=>Hn({size:typeof e=="number"?e:void 0,encodeStream:(r,n)=>{if(!fs(n))throw r.err(`bytes: invalid value ${n}`);fs(e)||r.length(e,n.length),r.bytes(t?v8(n):n),fs(e)&&r.bytes(e)},decodeStream:r=>{let n;if(fs(e)){let i=r.find(e);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(e.length)}else n=r.bytes(e===null?r.leftBytes:r.length(e));return t?v8(n):n}}),Uw=(e,t=!1)=>{let r=Yr(e,t);return Hn({size:r.size,encodeStream:(n,i)=>r.encodeStream(n,V7.decode(i)),decodeStream:n=>V7.encode(r.decodeStream(n))})},Wmt=Uw(E8),BX=(e,t=!1,r=!1)=>{let n=Yr(e,t);return Hn({size:n.size,encodeStream:(i,o)=>{if(r&&!o.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let s=on.decode(r?o.slice(2):o);return n.encodeStream(i,s)},decodeStream:i=>(r?"0x":"")+on.encode(n.decodeStream(i))})};function Rw(e,t){if(!dd(e))throw new Error(`apply: invalid inner value ${e}`);return Hn({size:e.size,encodeStream:(r,n)=>{let i;try{i=t.decode(n)}catch(o){throw r.err(""+o)}return e.encodeStream(r,i)},decodeStream:r=>{let n=e.decodeStream(r);try{return t.encode(n)}catch(i){throw r.err(""+i)}}})}function Zs(e,t){if(!dd(e))throw new Error(`validate: invalid inner value ${e}`);return Hn({size:e.size,encodeStream:(r,n)=>e.encodeStream(r,t(n)),decodeStream:r=>t(e.decodeStream(r))})}var _X=(e,t=!1)=>Hn({size:e.length,encodeStream:(r,n)=>{!!n!==t&&r.bytes(e)},decodeStream:r=>{let n=r.leftBytes>=e.length;return n&&(n=Rr(r.bytes(e.length,!0),e),n&&r.bytes(e.length)),n!==t}});function CX(e,t,r){if(!dd(t))throw new Error(`flagged: invalid inner value ${t}`);return Hn({encodeStream:(n,i)=>{typeof e=="string"?A8(n.path,e.split("/"))?t.encodeStream(n,i):r&&t.encodeStream(n,r):(e.encodeStream(n,!!i),i?t.encodeStream(n,i):r&&t.encodeStream(n,r))},decodeStream:n=>{let i=!1;if(typeof e=="string"?i=A8(n.path,e.split("/")):i=e.decodeStream(n),i)return t.decodeStream(n);r&&t.decodeStream(n)}})}function Lw(e,t,r=!0){if(!dd(e))throw new Error(`flagged: invalid inner value ${e}`);return Hn({size:e.size,encodeStream:(n,i)=>e.encodeStream(n,t),decodeStream:n=>{let i=e.decodeStream(n);if(r&&typeof i!="object"&&i!==t||fs(t)&&!Rr(t,i))throw n.err(`magic: invalid value: ${i} !== ${t}`)}})}function MX(e){let t=0;for(let r of e){if(!r.size)return;t+=r.size}return t}function ji(e){if(Array.isArray(e))throw new Error("Packed.Struct: got array instead of object");return Hn({size:MX(Object.values(e)),encodeStream:(t,r)=>{if(typeof r!="object"||r===null)throw t.err(`struct: invalid value ${r}`);t.path.push(r);for(let n in e)t.fieldPathPush(n),e[n].encodeStream(t,r[n]),t.fieldPathPop();t.path.pop()},decodeStream:t=>{let r={};t.path.push(r);for(let n in e)t.fieldPathPush(n),r[n]=e[n].decodeStream(t),t.fieldPathPop();return t.path.pop(),r}})}function NX(e){if(!Array.isArray(e))throw new Error(`Packed.Tuple: got ${typeof e} instead of array`);return Hn({size:MX(e),encodeStream:(t,r)=>{if(!Array.isArray(r))throw t.err(`tuple: invalid value ${r}`);t.path.push(r);for(let n=0;n<e.length;n++)t.fieldPathPush(""+n),e[n].encodeStream(t,r[n]),t.fieldPathPop();t.path.pop()},decodeStream:t=>{let r=[];t.path.push(r);for(let n=0;n<e.length;n++)t.fieldPathPush(""+n),r.push(e[n].decodeStream(t)),t.fieldPathPop();return t.path.pop(),r}})}function OX(e,t){if(!dd(t))throw new Error(`prefix: invalid inner value ${t}`);if(fs(e))throw new Error("prefix: len cannot be Uint8Array");let r=Yr(e);return Hn({size:typeof e=="number"?e:void 0,encodeStream:(n,i)=>{let o=new S8(n.path,n.fieldPath);t.encodeStream(o,i),r.encodeStream(n,o.buffer)},decodeStream:n=>{let i=r.decodeStream(n);return t.decodeStream(new w8(i,n.path,n.fieldPath))}})}function mo(e,t){if(!dd(t))throw new Error(`array: invalid inner value ${t}`);return Hn({size:typeof e=="number"&&t.size?e*t.size:void 0,encodeStream:(r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);fs(e)||r.length(e,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let o=n[i],s=r.pos;if(t.encodeStream(r,o),fs(e)){if(e.length>r.pos-s)continue;let a=r.buffer.subarray(s,r.pos);if(Rr(a.subarray(0,e.length),e))throw r.err(`array: inner element encoding same as separator. elm=${o} data=${a}`)}r.fieldPathPop()}r.path.pop(),fs(e)&&r.bytes(e)},decodeStream:r=>{let n=[];if(e===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(t.decodeStream(r)),r.fieldPathPop(),!(t.size&&r.leftBytes<t.size)););r.path.pop()}else if(fs(e)){let i=0;for(r.path.push(n);;){if(Rr(r.bytes(e.length,!0),e)){r.bytes(e.length);break}r.fieldPathPush(""+i++),n.push(t.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(e);r.fieldPathPop(),r.path.push(n);for(let o=0;o<i;o++)r.fieldPathPush(""+o),n.push(t.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n}})}var jmt=Lw(Yr(0),sn);var{ProjectivePoint:N8,sign:DX,getPublicKey:bke}=km,P8=km.CURVE.n,Vw=(e,t)=>e===void 0?t:e,Jr=fs,O8=e=>mX(Ti(e)),hd=(...e)=>Ti(Ti(pd(...e))),pd=x8,YX=AX(Ti);function B8(e){if(Array.isArray(e))return e.map(t=>B8(t));if(e instanceof Uint8Array)return Uint8Array.from(e);if(["number","bigint","boolean","string","undefined"].includes(typeof e))return e;if(e===null)return e;if(typeof e=="object")return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,B8(r)]));throw new Error(`cloneDeep: unknown type=${e} (${typeof e})`)}var zi;(function(e){e[e.ecdsa=0]="ecdsa",e[e.schnorr=1]="schnorr"})(zi||(zi={}));function Nm(e,t){let r=e.length;if(t===zi.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return N8.fromHex(e),e}else if(t===zi.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return us.utils.lift_x(us.utils.bytesToNumberBE(e)),e}else throw new Error("Unknown key type")}function S0(e,t){try{return Nm(e,t),!0}catch{return!1}}var UX=e=>e.r<P8/2n;function xke(e,t,r=!1){let n=DX(e,t);if(r&&!UX(n)){let i=new Uint8Array(32);for(let o=0;o<Number.MAX_SAFE_INTEGER&&(i.set(vr.encode(o)),n=DX(e,t,{extraEntropy:i}),!UX(n));o++);}return n.toDERRawBytes()}function ZX(e,t){let r=us.utils,n=r.taggedHash("TapTweak",e,t),i=r.bytesToNumberBE(n);if(i>=P8)throw new Error("tweak higher than curve order");return i}function wke(e,t=new Uint8Array){let r=us.utils,n=r.bytesToNumberBE(e),i=N8.fromPrivateKey(n),o=i.hasEvenY()?n:r.mod(-n,P8),s=r.pointToBytes(i),a=ZX(s,t);return r.numberToBytesBE(r.mod(o+a,P8),32)}function JX(e,t){let r=us.utils,n=ZX(e,t),o=r.lift_x(r.bytesToNumberBE(e)).add(N8.fromPrivateKey(n)),s=o.hasEvenY()?0:1;return[r.pointToBytes(o),s]}var z7=Zs(Yr(null),e=>Nm(e,zi.ecdsa)),_8=Zs(Yr(32),e=>Nm(e,zi.schnorr)),RX=Zs(Yr(null),e=>{if(e.length!==64&&e.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return e});var yd={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var Ske=8,vke=2,w0=0,XX=4294967295,I8=new Uint8Array(32),Xmt=Pm.decimal(Ske);function G7(e,t){if(!Jr(e)||!Jr(t))throw new Error(`cmp: wrong type a=${typeof e} b=${typeof t}`);let r=Math.min(e.length,t.length);for(let n=0;n<r;n++)if(e[n]!=t[n])return Math.sign(e[n]-t[n]);return Math.sign(e.length-t.length)}var qn;(function(e){e[e.OP_0=0]="OP_0",e[e.PUSHDATA1=76]="PUSHDATA1",e[e.PUSHDATA2=77]="PUSHDATA2",e[e.PUSHDATA4=78]="PUSHDATA4",e[e["1NEGATE"]=79]="1NEGATE",e[e.RESERVED=80]="RESERVED",e[e.OP_1=81]="OP_1",e[e.OP_2=82]="OP_2",e[e.OP_3=83]="OP_3",e[e.OP_4=84]="OP_4",e[e.OP_5=85]="OP_5",e[e.OP_6=86]="OP_6",e[e.OP_7=87]="OP_7",e[e.OP_8=88]="OP_8",e[e.OP_9=89]="OP_9",e[e.OP_10=90]="OP_10",e[e.OP_11=91]="OP_11",e[e.OP_12=92]="OP_12",e[e.OP_13=93]="OP_13",e[e.OP_14=94]="OP_14",e[e.OP_15=95]="OP_15",e[e.OP_16=96]="OP_16",e[e.NOP=97]="NOP",e[e.VER=98]="VER",e[e.IF=99]="IF",e[e.NOTIF=100]="NOTIF",e[e.VERIF=101]="VERIF",e[e.VERNOTIF=102]="VERNOTIF",e[e.ELSE=103]="ELSE",e[e.ENDIF=104]="ENDIF",e[e.VERIFY=105]="VERIFY",e[e.RETURN=106]="RETURN",e[e.TOALTSTACK=107]="TOALTSTACK",e[e.FROMALTSTACK=108]="FROMALTSTACK",e[e["2DROP"]=109]="2DROP",e[e["2DUP"]=110]="2DUP",e[e["3DUP"]=111]="3DUP",e[e["2OVER"]=112]="2OVER",e[e["2ROT"]=113]="2ROT",e[e["2SWAP"]=114]="2SWAP",e[e.IFDUP=115]="IFDUP",e[e.DEPTH=116]="DEPTH",e[e.DROP=117]="DROP",e[e.DUP=118]="DUP",e[e.NIP=119]="NIP",e[e.OVER=120]="OVER",e[e.PICK=121]="PICK",e[e.ROLL=122]="ROLL",e[e.ROT=123]="ROT",e[e.SWAP=124]="SWAP",e[e.TUCK=125]="TUCK",e[e.CAT=126]="CAT",e[e.SUBSTR=127]="SUBSTR",e[e.LEFT=128]="LEFT",e[e.RIGHT=129]="RIGHT",e[e.SIZE=130]="SIZE",e[e.INVERT=131]="INVERT",e[e.AND=132]="AND",e[e.OR=133]="OR",e[e.XOR=134]="XOR",e[e.EQUAL=135]="EQUAL",e[e.EQUALVERIFY=136]="EQUALVERIFY",e[e.RESERVED1=137]="RESERVED1",e[e.RESERVED2=138]="RESERVED2",e[e["1ADD"]=139]="1ADD",e[e["1SUB"]=140]="1SUB",e[e["2MUL"]=141]="2MUL",e[e["2DIV"]=142]="2DIV",e[e.NEGATE=143]="NEGATE",e[e.ABS=144]="ABS",e[e.NOT=145]="NOT",e[e["0NOTEQUAL"]=146]="0NOTEQUAL",e[e.ADD=147]="ADD",e[e.SUB=148]="SUB",e[e.MUL=149]="MUL",e[e.DIV=150]="DIV",e[e.MOD=151]="MOD",e[e.LSHIFT=152]="LSHIFT",e[e.RSHIFT=153]="RSHIFT",e[e.BOOLAND=154]="BOOLAND",e[e.BOOLOR=155]="BOOLOR",e[e.NUMEQUAL=156]="NUMEQUAL",e[e.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",e[e.NUMNOTEQUAL=158]="NUMNOTEQUAL",e[e.LESSTHAN=159]="LESSTHAN",e[e.GREATERTHAN=160]="GREATERTHAN",e[e.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",e[e.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",e[e.MIN=163]="MIN",e[e.MAX=164]="MAX",e[e.WITHIN=165]="WITHIN",e[e.RIPEMD160=166]="RIPEMD160",e[e.SHA1=167]="SHA1",e[e.SHA256=168]="SHA256",e[e.HASH160=169]="HASH160",e[e.HASH256=170]="HASH256",e[e.CODESEPARATOR=171]="CODESEPARATOR",e[e.CHECKSIG=172]="CHECKSIG",e[e.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",e[e.CHECKMULTISIG=174]="CHECKMULTISIG",e[e.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",e[e.NOP1=176]="NOP1",e[e.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",e[e.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",e[e.NOP4=179]="NOP4",e[e.NOP5=180]="NOP5",e[e.NOP6=181]="NOP6",e[e.NOP7=182]="NOP7",e[e.NOP8=183]="NOP8",e[e.NOP9=184]="NOP9",e[e.NOP10=185]="NOP10",e[e.CHECKSIGADD=186]="CHECKSIGADD",e[e.INVALID=255]="INVALID"})(qn||(qn={}));var Wn=Hn({encodeStream:(e,t)=>{for(let r of t){if(typeof r=="string"){if(qn[r]===void 0)throw new Error(`Unknown opcode=${r}`);e.byte(qn[r]);continue}else if(typeof r=="number"){if(r===0){e.byte(0);continue}else if(1<=r&&r<=16){e.byte(qn.OP_1-1+r);continue}}if(typeof r=="number"&&(r=QX().encode(BigInt(r))),!Jr(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<qn.PUSHDATA1?e.byte(n):n<=255?(e.byte(qn.PUSHDATA1),e.byte(n)):n<=65535?(e.byte(qn.PUSHDATA2),e.bytes(F7.encode(n))):(e.byte(qn.PUSHDATA4),e.bytes(vr.encode(n))),e.bytes(r)}},decodeStream:e=>{let t=[];for(;!e.isEnd();){let r=e.byte();if(qn.OP_0<r&&r<=qn.PUSHDATA4){let n;if(r<qn.PUSHDATA1)n=r;else if(r===qn.PUSHDATA1)n=of.decodeStream(e);else if(r===qn.PUSHDATA2)n=F7.decodeStream(e);else if(r===qn.PUSHDATA4)n=vr.decodeStream(e);else throw new Error("Should be not possible");t.push(e.bytes(n))}else if(r===0)t.push(0);else if(qn.OP_1<=r&&r<=qn.OP_16)t.push(r-(qn.OP_1-1));else{let n=qn[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);t.push(n)}}return t}});function QX(e=6,t=!1){return Hn({encodeStream:(r,n)=>{if(n===0n)return;let i=n<0,o=BigInt(n),s=[];for(let a=i?-o:o;a;a>>=8n)s.push(Number(a&0xffn));s[s.length-1]>=128?s.push(i?128:0):i&&(s[s.length-1]|=128),r.bytes(new Uint8Array(s))},decodeStream:r=>{let n=r.leftBytes;if(n>e)throw new Error(`ScriptNum: number (${n}) bigger than limit=${e}`);if(n===0)return 0n;if(t&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,o=0n;for(let s=0;s<n;++s)i=r.byte(),o|=BigInt(i)<<8n*BigInt(s);return i>=128&&(o&=2n**BigInt(n*8)-1n>>1n,o=-o),o}})}function Ake(e,t=4,r=!0){if(typeof e=="number")return e;if(Jr(e))try{let n=QX(t,r).decode(e);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}var LX={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},D8=Hn({encodeStream:(e,t)=>{if(typeof t=="number"&&(t=BigInt(t)),0n<=t&&t<=252n)return e.byte(Number(t));for(let[r,n,i,o]of Object.values(LX))if(!(i>t||t>o)){e.byte(r);for(let s=0;s<n;s++)e.byte(Number(t>>8n*BigInt(s)&0xffn));return}throw e.err(`VarInt too big: ${t}`)},decodeStream:e=>{let t=e.byte();if(t<=252)return BigInt(t);let[r,n,i]=LX[t],o=0n;for(let s=0;s<n;s++)o|=BigInt(e.byte())<<8n*BigInt(s);if(o<i)throw e.err(`Wrong CompactSize(${8*n})`);return o}}),Xa=Rw(D8,Pm.number),KX=e=>mo(D8,e),Ja=Yr(D8),Eke=ji({txid:Yr(32,!0),index:vr,finalScriptSig:Ja,sequence:vr}),Cm=ji({amount:Dw,script:Ja}),Ike={amount:0xffffffffffffffffn,script:sn},tC=mo(Xa,Ja),kke=ji({version:Bm,segwitFlag:_X(new Uint8Array([0,1])),inputs:KX(Eke),outputs:KX(Cm),witnesses:CX("segwitFlag",mo("inputs/length",tC)),lockTime:vr});function Tke(e){if(e.segwitFlag&&e.witnesses&&!e.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return e}var Yc=Zs(kke,Tke);function $7(e){let[t,r,n,i,o,s]=e;return{type:t,kc:r,vc:n,reqInc:i,allowInc:o,silentIgnore:s}}var U8=ji({fingerprint:PX,path:mo(null,vr)}),Pke=ji({version:of,internalKey:Yr(32),merklePath:mo(null,Yr(32))}),Mm=Zs(Pke,e=>{if(e.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return e}),eQ=ji({hashes:mo(Xa,Yr(32)),der:U8}),Bke=Yr(78),_ke=ji({pubKey:_8,leafHash:Yr(32)}),Cke=mo(null,ji({depth:of,version:of,script:Ja})),jn=Yr(null),VX=Yr(20),Kw=Yr(32),rC={unsignedTx:[0,!1,Yc,[0],[0],!1],xpub:[1,Bke,U8,[],[0,2],!1],txVersion:[2,!1,vr,[2],[2],!1],fallbackLocktime:[3,!1,vr,[],[2],!1],inputCount:[4,!1,Xa,[2],[2],!1],outputCount:[5,!1,Xa,[2],[2],!1],txModifiable:[6,!1,of,[],[2],!1],version:[251,!1,vr,[],[0,2],!1],proprietary:[252,jn,jn,[],[0,2],!1]},C8={nonWitnessUtxo:[0,!1,Yc,[],[0,2],!1],witnessUtxo:[1,!1,Cm,[],[0,2],!1],partialSig:[2,z7,jn,[],[0,2],!1],sighashType:[3,!1,vr,[],[0,2],!1],redeemScript:[4,!1,jn,[],[0,2],!1],witnessScript:[5,!1,jn,[],[0,2],!1],bip32Derivation:[6,z7,U8,[],[0,2],!1],finalScriptSig:[7,!1,jn,[],[0,2],!1],finalScriptWitness:[8,!1,tC,[],[0,2],!1],porCommitment:[9,!1,jn,[],[0,2],!1],ripemd160:[10,VX,jn,[],[0,2],!1],sha256:[11,Kw,jn,[],[0,2],!1],hash160:[12,VX,jn,[],[0,2],!1],hash256:[13,Kw,jn,[],[0,2],!1],txid:[14,!1,Kw,[2],[2],!0],index:[15,!1,vr,[2],[2],!0],sequence:[16,!1,vr,[],[2],!0],requiredTimeLocktime:[17,!1,vr,[],[2],!1],requiredHeightLocktime:[18,!1,vr,[],[2],!1],tapKeySig:[19,!1,RX,[],[0,2],!1],tapScriptSig:[20,_ke,RX,[],[0,2],!1],tapLeafScript:[21,Mm,jn,[],[0,2],!1],tapBip32Derivation:[22,Kw,eQ,[],[0,2],!1],tapInternalKey:[23,!1,_8,[],[0,2],!1],tapMerkleRoot:[24,!1,Kw,[],[0,2],!1],proprietary:[252,jn,jn,[],[0,2],!1]},Mke=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],Nke=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],M8={redeemScript:[0,!1,jn,[],[0,2],!1],witnessScript:[1,!1,jn,[],[0,2],!1],bip32Derivation:[2,z7,U8,[],[0,2],!1],amount:[3,!1,TX,[2],[2],!0],script:[4,!1,jn,[2],[2],!0],tapInternalKey:[5,!1,_8,[],[0,2],!1],tapTree:[6,!1,Cke,[],[0,2],!1],tapBip32Derivation:[7,_8,eQ,[],[0,2],!1],proprietary:[252,jn,jn,[],[0,2],!1]},Oke=[],FX=mo(E8,ji({key:OX(Xa,ji({type:Xa,key:Yr(null)})),value:Yr(Xa)})),Qmt=ji({type:Xa,key:Yr(null)});function nC(e){let t={};for(let r in e){let[n,i,o]=e[r];t[n]=[r,i,o]}return Hn({encodeStream:(r,n)=>{let i=[];for(let o in e){let s=n[o];if(s===void 0)continue;let[a,c,u]=e[o];if(!c)i.push({key:{type:a,key:sn},value:u.encode(s)});else{let l=s.map(([f,m])=>[c.encode(f),u.encode(m)]);l.sort((f,m)=>G7(f[0],m[0]));for(let[f,m]of l)i.push({key:{key:f,type:a},value:m})}}if(n.unknown){n.unknown.sort((o,s)=>G7(o[0].key,s[0].key));for(let[o,s]of n.unknown)i.push({key:o,value:s})}FX.encodeStream(r,i)},decodeStream:r=>{let n=FX.decodeStream(r),i={},o={};for(let s of n){let a="unknown",c=s.key.key,u=s.value;if(t[s.key.type]){let[l,f,m]=t[s.key.type];if(a=l,!f&&c.length)throw new Error(`PSBT: Non-empty key for ${a} (key=${on.encode(c)} value=${on.encode(u)}`);if(c=f?f.decode(c):void 0,u=m.decode(u),!f){if(i[a])throw new Error(`PSBT: Same keys: ${a} (key=${c} value=${u})`);i[a]=u,o[a]=!0;continue}}else c={type:s.key.type,key:s.key.key};if(o[a])throw new Error(`PSBT: Key type with empty key and no key=${a} val=${u}`);i[a]||(i[a]=[]),i[a].push([c,u])}return i}})}function HX(e,t){if(!Rr(e.hash,Ti(t)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=zn.decode(t);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function Y7(e,t,r){if(e){let n=zn.decode(e);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&t){if(!Rr(n.hash,O8(t)))throw new Error("checkScript: sh wrong redeemScript hash");let i=zn.decode(t);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&HX(n,r)}if(t){let n=zn.decode(t);n.type==="wsh"&&r&&HX(n,r)}}var iC=Zs(nC(C8),e=>{if(e.finalScriptWitness&&!e.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(e.partialSig&&!e.partialSig.length)throw new Error("Empty partialSig");if(e.partialSig)for(let[t]of e.partialSig)Nm(t,zi.ecdsa);if(e.bip32Derivation)for(let[t]of e.bip32Derivation)Nm(t,zi.ecdsa);if(e.requiredTimeLocktime!==void 0&&e.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${e.requiredTimeLocktime}`);if(e.requiredHeightLocktime!==void 0&&(e.requiredHeightLocktime<=0||e.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${e.requiredHeightLocktime}`);if(e.nonWitnessUtxo&&e.index!==void 0){let t=e.nonWitnessUtxo.outputs.length-1;if(e.index>t)throw new Error(`validateInput: index(${e.index}) not in nonWitnessUtxo`);let r=e.nonWitnessUtxo.outputs[e.index];if(e.witnessUtxo&&(!Rr(e.witnessUtxo.script,r.script)||e.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(e.tapLeafScript)for(let[t,r]of e.tapLeafScript){if((t.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(e.nonWitnessUtxo&&e.index&&e.txid){if(e.nonWitnessUtxo.outputs.length-1<e.index)throw new Error("nonWitnessUtxo: incorect output index");let r=v0.fromRaw(Yc.encode(e.nonWitnessUtxo)),n=on.encode(e.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return e}),oC=Zs(nC(M8),e=>{if(e.bip32Derivation)for(let[t]of e.bip32Derivation)Nm(t,zi.ecdsa);return e}),tQ=Zs(nC(rC),e=>{if((e.version||0)===0){if(!e.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(e.unsignedTx.segwitFlag||e.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of e.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return e}),Dke=ji({magic:Lw(Uw(new Uint8Array([255])),"psbt"),global:tQ,inputs:mo("global/unsignedTx/inputs/length",iC),outputs:mo(null,oC)}),Uke=ji({magic:Lw(Uw(new Uint8Array([255])),"psbt"),global:tQ,inputs:mo("global/inputCount",iC),outputs:mo("global/outputCount",oC)}),egt=ji({magic:Lw(Uw(new Uint8Array([255])),"psbt"),items:mo(null,Rw(mo(E8,NX([BX(Xa),Yr(D8)])),Pm.dict()))});function H7(e,t,r){for(let n in r){if(n==="unknown"||!t[n])continue;let{allowInc:i}=$7(t[n]);if(!i.includes(e))throw new Error(`PSBTv${e}: field ${n} is not allowed`)}for(let n in t){let{reqInc:i}=$7(t[n]);if(i.includes(e)&&r[n]===void 0)throw new Error(`PSBTv${e}: missing required field ${n}`)}}function qX(e,t,r){let n={};for(let i in r){let o=i;if(o!=="unknown"){if(!t[o])continue;let{allowInc:s,silentIgnore:a}=$7(t[o]);if(!s.includes(e)){if(a)continue;throw new Error(`Failed to serialize in PSBTv${e}: ${o} but versions allows inclusion=${s}`)}}n[o]=r[o]}return n}function rQ(e){let t=e&&e.global&&e.global.version||0;H7(t,rC,e.global);for(let s of e.inputs)H7(t,C8,s);for(let s of e.outputs)H7(t,M8,s);let r=t?e.global.inputCount:e.global.unsignedTx.inputs.length;if(e.inputs.length<r)throw new Error("Not enough inputs");let n=e.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=t?e.global.outputCount:e.global.unsignedTx.outputs.length;if(e.outputs.length<i)throw new Error("Not outputs inputs");let o=e.outputs.slice(i);if(o.length>1||o.length&&Object.keys(o[0]).length)throw new Error(`Unexpected outputs left in tx=${o}`);return e}function q7(e,t,r,n){let i={...r,...t};for(let o in e){let s=o,[a,c,u]=e[s],l=n&&!n.includes(o);if(t[o]===void 0&&o in t){if(l)throw new Error(`Cannot remove signed field=${o}`);delete i[o]}else if(c){let f=r&&r[o]?r[o]:[],m=t[s];if(m){if(!Array.isArray(m))throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);m=m.map(S=>{if(S.length!==2)throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);return[typeof S[0]=="string"?c.decode(on.decode(S[0])):S[0],typeof S[1]=="string"?u.decode(on.decode(S[1])):S[1]]});let b={},w=(S,P,M)=>{if(b[S]===void 0){b[S]=[P,M];return}let D=on.encode(u.encode(b[S][1])),C=on.encode(u.encode(M));if(D!==C)throw new Error(`keyMap(${s}): same key=${S} oldVal=${D} newVal=${C}`)};for(let[S,P]of f){let M=on.encode(c.encode(S));w(M,S,P)}for(let[S,P]of m){let M=on.encode(c.encode(S));if(P===void 0){if(l)throw new Error(`Cannot remove signed field=${s}/${S}`);delete b[M]}else w(M,S,P)}i[s]=Object.values(b)}}else if(typeof i[o]=="string")i[o]=u.decode(on.decode(i[o]));else if(l&&o in t&&r&&r[o]!==void 0&&!Rr(u.encode(t[o]),u.encode(r[o])))throw new Error(`Cannot change signed field=${o}`)}for(let o in i)e[o]||delete i[o];return i}var WX=Zs(Dke,rQ),jX=Zs(Uke,rQ),W7=ji({txid:Yr(32,!0),index:vr}),Rke={encode(e){if(!(e.length!==2||!Jr(e[0])||!S0(e[0],zi.ecdsa)||e[1]!=="CHECKSIG"))return{type:"pk",pubkey:e[0]}},decode:e=>e.type==="pk"?[e.pubkey,"CHECKSIG"]:void 0};var Lke={encode(e){if(!(e.length!==5||e[0]!=="DUP"||e[1]!=="HASH160"||!Jr(e[2]))&&!(e[3]!=="EQUALVERIFY"||e[4]!=="CHECKSIG"))return{type:"pkh",hash:e[2]}},decode:e=>e.type==="pkh"?["DUP","HASH160",e.hash,"EQUALVERIFY","CHECKSIG"]:void 0};var Kke={encode(e){if(!(e.length!==3||e[0]!=="HASH160"||!Jr(e[1])||e[2]!=="EQUAL"))return{type:"sh",hash:e[1]}},decode:e=>e.type==="sh"?["HASH160",e.hash,"EQUAL"]:void 0},nQ=(e,t=yd)=>{let r=e.script;if(!Jr(r))throw new Error(`Wrong script: ${typeof e.script}, expected Uint8Array`);let n=O8(r),i=zn.encode({type:"sh",hash:n});Y7(i,r,e.witnessScript);let o={type:"sh",redeemScript:r,script:zn.encode({type:"sh",hash:n}),address:R8(t).encode({type:"sh",hash:n})};return e.witnessScript&&(o.witnessScript=e.witnessScript),o},Vke={encode(e){if(!(e.length!==2||e[0]!==0||!Jr(e[1]))&&e[1].length===32)return{type:"wsh",hash:e[1]}},decode:e=>e.type==="wsh"?[0,e.hash]:void 0};var Fke={encode(e){if(!(e.length!==2||e[0]!==0||!Jr(e[1]))&&e[1].length===20)return{type:"wpkh",hash:e[1]}},decode:e=>e.type==="wpkh"?[0,e.hash]:void 0},sC=(e,t=yd)=>{if(!S0(e,zi.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(e.length===65)throw new Error("P2WPKH: uncompressed public key");let r=O8(e);return{type:"wpkh",script:zn.encode({type:"wpkh",hash:r}),address:R8(t).encode({type:"wpkh",hash:r})}},Hke={encode(e){let t=e.length-1;if(e[t]!=="CHECKMULTISIG")return;let r=e[0],n=e[t-1];if(typeof r!="number"||typeof n!="number")return;let i=e.slice(1,-2);if(n===i.length){for(let o of i)if(!Jr(o))return;return{type:"ms",m:r,pubkeys:i}}},decode:e=>e.type==="ms"?[e.m,...e.pubkeys,e.pubkeys.length,"CHECKMULTISIG"]:void 0};var qke={encode(e){if(!(e.length!==2||e[0]!==1||!Jr(e[1])))return{type:"tr",pubkey:e[1]}},decode:e=>e.type==="tr"?[1,e.pubkey]:void 0};function Wke(e){let t=Array.from(e);for(;t.length>=2;){t.sort((s,a)=>(a.weight||1)-(s.weight||1));let n=t.pop(),i=t.pop(),o=(i?.weight||1)+(n?.weight||1);t.push({weight:o,childs:[i?.childs||i,n?.childs||n]})}let r=t[0];return r?.childs||r}function jke(e,t,r=!1){let n=zn.decode(e);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let o of i.pubkeys){if(Rr(o,iQ))throw new Error("Unspendable taproot key in leaf script");if(Rr(o,t))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function Z7(e,t,r=!1){if(!e)throw new Error("taprootHashTree: empty tree");if(Array.isArray(e)&&e.length===1&&(e=e[0]),!Array.isArray(e)){let{leafVersion:a,script:c}=e;if(e.tapLeafScript||e.tapMerkleRoot&&!Rr(e.tapMerkleRoot,sn))throw new Error("P2TR: tapRoot leafScript cannot have tree");let u=typeof c=="string"?on.decode(c):c;if(!Jr(u))throw new Error(`checkScript: wrong script type=${u}`);return jke(u,t,r),{type:"leaf",version:a,script:u,hash:T8(u,a)}}if(e.length!==2&&(e=Wke(e)),e.length!==2)throw new Error("hashTree: non binary tree!");let n=Z7(e[0],t,r),i=Z7(e[1],t,r),[o,s]=[n.hash,i.hash];return G7(s,o)===-1&&([o,s]=[s,o]),{type:"branch",left:n,right:i,hash:us.utils.taggedHash("TapBranch",o,s)}}function J7(e,t=[]){if(!e)throw new Error("taprootAddPath: empty tree");if(e.type==="leaf")return{...e,path:t};if(e.type!=="branch")throw new Error(`taprootAddPath: wrong type=${e}`);return{...e,path:t,left:J7(e.left,[e.right.hash,...t]),right:J7(e.right,[e.left.hash,...t])}}function X7(e){if(!e)throw new Error("taprootAddPath: empty tree");if(e.type==="leaf")return[e];if(e.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${e}`);return[...X7(e.left),...X7(e.right)]}var iQ=Ti(N8.BASE.toRawBytes(!1));function oQ(e,t,r=yd,n=!1){if(!e&&!t)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof e=="string"?on.decode(e):e||iQ;if(!S0(i,zi.schnorr))throw new Error("p2tr: non-schnorr pubkey");let o=t?J7(Z7(t,i,n)):void 0,s=o?o.hash:void 0,[a,c]=JX(i,s||sn),u;o&&(u=X7(o).map(m=>({...m,controlBlock:Mm.encode({version:(m.version||eC)+c,internalKey:i,merklePath:m.path})})));let l;u&&(l=u.map(m=>[Mm.decode(m.controlBlock),pd(m.script,new Uint8Array([m.version||eC]))]));let f={type:"tr",script:zn.encode({type:"tr",pubkey:a}),address:R8(r).encode({type:"tr",pubkey:a}),tweakedPubkey:a,tapInternalKey:i};return u&&(f.leaves=u),l&&(f.tapLeafScript=l),s&&(f.tapMerkleRoot=s),f}var zke={encode(e){let t=e.length-1;if(e[t]!=="CHECKSIG")return;let r=[];for(let n=0;n<t;n++){let i=e[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===t-1)return;continue}if(!Jr(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:e=>{if(e.type!=="tr_ns")return;let t=[];for(let r=0;r<e.pubkeys.length-1;r++)t.push(e.pubkeys[r],"CHECKSIGVERIFY");return t.push(e.pubkeys[e.pubkeys.length-1],"CHECKSIG"),t}};var Gke={encode(e){let t=e.length-1;if(e[t]!=="NUMEQUAL"||e[1]!=="CHECKSIG")return;let r=[],n=Ake(e[t-1]);if(typeof n=="number"){for(let i=0;i<t-1;i++){let o=e[i];if(i&1){if(o!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Jr(o))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(o)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:e=>{if(e.type!=="tr_ms")return;let t=[e.pubkeys[0],"CHECKSIG"];for(let r=1;r<e.pubkeys.length;r++)t.push(e.pubkeys[r],"CHECKSIGADD");return t.push(e.m,"NUMEQUAL"),t}};var $ke={encode(e){return{type:"unknown",script:Wn.encode(e)}},decode:e=>e.type==="unknown"?Wn.decode(e.script):void 0},Yke=[Rke,Lke,Kke,Vke,Fke,Hke,qke,zke,Gke,$ke],Zke=Rw(Wn,Pm.match(Yke)),zn=Zs(Zke,e=>{if(e.type==="pk"&&!S0(e.pubkey,zi.ecdsa))throw new Error("OutScript/pk: wrong key");if((e.type==="pkh"||e.type==="sh"||e.type==="wpkh")&&(!Jr(e.hash)||e.hash.length!==20))throw new Error(`OutScript/${e.type}: wrong hash`);if(e.type==="wsh"&&(!Jr(e.hash)||e.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(e.type==="tr"&&(!Jr(e.pubkey)||!S0(e.pubkey,zi.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((e.type==="ms"||e.type==="tr_ns"||e.type==="tr_ms")&&!Array.isArray(e.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(e.type==="ms"){let t=e.pubkeys.length;for(let r of e.pubkeys)if(!S0(r,zi.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(e.m<=0||t>16||e.m>t)throw new Error("OutScript/multisig: invalid params")}if(e.type==="tr_ns"||e.type==="tr_ms"){for(let t of e.pubkeys)if(!S0(t,zi.schnorr))throw new Error(`OutScript/${e.type}: wrong pubkey`)}if(e.type==="tr_ms"){let t=e.pubkeys.length;if(e.m<=0||t>999||e.m>t)throw new Error("OutScript/tr_ms: invalid params")}return e});function sQ(e,t){if(t.length<2||t.length>40)throw new Error("Witness: invalid length");if(e>16)throw new Error("Witness: invalid version");if(e===0&&!(t.length===20||t.length===32))throw new Error("Witness: invalid length for version")}function j7(e,t,r=yd){sQ(e,t);let n=e===0?b8:K7;return n.encode(r.bech32,[e].concat(n.toWords(t)))}function zX(e,t){return YX.encode(pd(Uint8Array.from(t),e))}function R8(e=yd){return{encode(t){let{type:r}=t;if(r==="wpkh")return j7(0,t.hash,e);if(r==="wsh")return j7(0,t.hash,e);if(r==="tr")return j7(1,t.pubkey,e);if(r==="pkh")return zX(t.hash,[e.pubKeyHash]);if(r==="sh")return zX(t.hash,[e.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(t){if(t.length<14||t.length>74)throw new Error("Invalid address length");if(e.bech32&&t.toLowerCase().startsWith(e.bech32)){let n;try{if(n=b8.decode(t),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=K7.decode(t),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==e.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...o]=n.words,s=b8.fromWords(o);if(sQ(i,s),i===0&&s.length===32)return{type:"wsh",hash:s};if(i===0&&s.length===20)return{type:"wpkh",hash:s};if(i===1&&s.length===32)return{type:"tr",pubkey:s};throw new Error("Unknown witness program")}let r=YX.decode(t);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===e.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===e.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}var Zr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ALL=1]="ALL",e[e.NONE=2]="NONE",e[e.SINGLE=3]="SINGLE",e[e.ANYONECANPAY=128]="ANYONECANPAY"})(Zr||(Zr={}));var Q7;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ALL=1]="ALL",e[e.NONE=2]="NONE",e[e.SINGLE=3]="SINGLE",e[e.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",e[e.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",e[e.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",e[e.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(Q7||(Q7={}));function Jke(e){if(typeof e!="number"||typeof Q7[e]!="string")throw new Error(`Invalid SigHash=${e}`);return e}function GX(e){let t=e&31;return{isAny:!!(e&Zr.ANYONECANPAY),isNone:t===Zr.NONE,isSingle:t===Zr.SINGLE}}function k8(e){if(e.txid===void 0||e.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:e.txid,index:e.index,sequence:Vw(e.sequence,XX),finalScriptSig:Vw(e.finalScriptSig,sn)}}function $X(e){for(let t in e){let r=t;Mke.includes(r)||delete e[r]}}function _m(e){if(e.script===void 0||e.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:e.script,amount:e.amount}}var eC=192,T8=(e,t=eC)=>us.utils.taggedHash("TapLeaf",new Uint8Array([t]),Ja.encode(e));function Xke(e,t,r,n=sn){return Rr(r,t)&&(e=wke(e,n),t=us.getPublicKey(e)),{privKey:e,pubKey:t}}var Qke={}.toString;function eTe(e){if(e!==void 0&&Qke.call(e)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${e}`);let t={...e,version:Vw(e.version,vke),lockTime:Vw(e.lockTime,0),PSBTVersion:Vw(e.PSBTVersion,0)};if(typeof t.allowUnknowInput<"u"&&(e.allowUnknownInputs=t.allowUnknowInput),typeof t.allowUnknowOutput<"u"&&(e.allowUnknownOutputs=t.allowUnknowOutput),![-1,0,1,2].includes(t.version))throw new Error(`Unknown version: ${t.version}`);if(typeof t.lockTime!="number")throw new Error("Transaction lock time should be number");if(vr.encode(t.lockTime),t.PSBTVersion!==0&&t.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${t.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=t[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(t)}var v0=class e{constructor(t={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=eTe(t);r.lockTime!==w0&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(t,r={}){let n=Yc.decode(t),i=new e({...r,version:n.version,lockTime:n.lockTime});for(let o of n.outputs)i.addOutput(o);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let o=0;o<n.witnesses.length;o++)i.inputs[o].finalScriptWitness=n.witnesses[o];return i}static fromPSBT(t,r={}){let n;try{n=WX.decode(t)}catch(f){try{n=jX.decode(t)}catch{throw f}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let o=n.global.unsignedTx,s=i===0?o?.version:n.global.txVersion,a=i===0?o?.lockTime:n.global.fallbackLocktime,c=new e({...r,version:s,lockTime:a,PSBTVersion:i}),u=i===0?o?.inputs.length:n.global.inputCount;c.inputs=n.inputs.slice(0,u).map((f,m)=>({finalScriptSig:sn,...n.global.unsignedTx?.inputs[m],...f}));let l=i===0?o?.outputs.length:n.global.outputCount;return c.outputs=n.outputs.slice(0,l).map((f,m)=>({...f,...n.global.unsignedTx?.outputs[m]})),c.global={...n.global,txVersion:s},a!==w0&&(c.global.fallbackLocktime=a),c}toPSBT(t=this.opts.PSBTVersion){if(t!==0&&t!==2)throw new Error(`Wrong PSBT version=${t}`);let r=this.inputs.map(o=>qX(t,C8,o));for(let o of r)o.partialSig&&!o.partialSig.length&&delete o.partialSig,o.finalScriptSig&&!o.finalScriptSig.length&&delete o.finalScriptSig,o.finalScriptWitness&&!o.finalScriptWitness.length&&delete o.finalScriptWitness;let n=this.outputs.map(o=>qX(t,M8,o)),i={...this.global};return t===0?(i.unsignedTx=Yc.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=t,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===w0&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(t===0?WX:jX).encode({global:i,inputs:r,outputs:n})}get lockTime(){let t=w0,r=0,n=w0,i=0;for(let o of this.inputs)o.requiredHeightLocktime&&(t=Math.max(t,o.requiredHeightLocktime),r++),o.requiredTimeLocktime&&(n=Math.max(n,o.requiredTimeLocktime),i++);return r&&r>=i?t:n!==w0?n:this.global.fallbackLocktime||w0}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(t){this.checkInputIdx(t);let r=this.inputs[t];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(t){this.checkInputIdx(t);let r=this.inputType(this.inputs[t]).sighash,n=r===Zr.DEFAULT?Zr.ALL:r&3;return{sigInputs:r&Zr.ANYONECANPAY,sigOutputs:n}}signStatus(){let t=!0,r=!0,n=[],i=[];for(let o=0;o<this.inputs.length;o++){if(this.inputStatus(o)==="unsigned")continue;let{sigInputs:a,sigOutputs:c}=this.inputSighash(o);if(a===Zr.ANYONECANPAY?n.push(o):t=!1,c===Zr.ALL)r=!1;else if(c===Zr.SINGLE)i.push(o);else if(c!==Zr.NONE)throw new Error(`Wrong signature hash output type: ${c}`)}return{addInput:t,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let t=0;t<this.inputs.length;t++)if(this.inputStatus(t)!=="finalized")return!1;return!0}get hasWitnesses(){let t=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(t=!0);return t}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let t=32,r=this.outputs.map(_m);this.hasWitnesses&&(t+=2),t+=4*Xa.encode(this.inputs.length).length,t+=4*Xa.encode(this.outputs.length).length;for(let n of this.inputs)t+=160+4*Ja.encode(n.finalScriptSig||sn).length;for(let n of r)t+=32+4*Ja.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(t+=tC.encode(n.finalScriptWitness).length);return t}get vsize(){return Math.ceil(this.weight/4)}toBytes(t=!1,r=!1){return Yc.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(k8).map(n=>({...n,finalScriptSig:t&&n.finalScriptSig||sn})),outputs:this.outputs.map(_m),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return on.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return on.encode(hd(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return on.encode(hd(this.toBytes(!0)).reverse())}checkInputIdx(t){if(!Number.isSafeInteger(t)||0>t||t>=this.inputs.length)throw new Error(`Wrong input index=${t}`)}getInput(t){return this.checkInputIdx(t),B8(this.inputs[t])}get inputsLength(){return this.inputs.length}normalizeInput(t,r,n){let{nonWitnessUtxo:i,txid:o}=t;typeof i=="string"&&(i=on.decode(i)),Jr(i)&&(i=Yc.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof o=="string"&&(o=on.decode(o)),o===void 0&&(o=r?.txid);let s={...r,...t,nonWitnessUtxo:i,txid:o};s.nonWitnessUtxo===void 0&&delete s.nonWitnessUtxo,s.sequence===void 0&&(s.sequence=XX),s.tapMerkleRoot===null&&delete s.tapMerkleRoot,s=q7(C8,s,r,n),iC.encode(s);let a;return s.nonWitnessUtxo&&s.index!==void 0?a=s.nonWitnessUtxo.outputs[s.index]:s.witnessUtxo&&(a=s.witnessUtxo),a&&!this.opts.disableScriptCheck&&Y7(a&&a.script,s.redeemScript,s.witnessScript),s}addInput(t,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(t)),this.inputs.length-1}updateInput(t,r,n=!1){this.checkInputIdx(t);let i;if(!n){let o=this.signStatus();(!o.addInput||o.inputs.includes(t))&&(i=Nke)}this.inputs[t]=this.normalizeInput(r,this.inputs[t],i)}checkOutputIdx(t){if(!Number.isSafeInteger(t)||0>t||t>=this.outputs.length)throw new Error(`Wrong output index=${t}`)}getOutput(t){return this.checkOutputIdx(t),B8(this.outputs[t])}get outputsLength(){return this.outputs.length}normalizeOutput(t,r,n){let{amount:i,script:o}=t;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof o=="string"&&(o=on.decode(o)),o===void 0&&(o=r?.script);let s={...r,...t,amount:i,script:o};if(s.amount===void 0&&delete s.amount,s=q7(M8,s,r,n),oC.encode(s),s.script&&!this.opts.allowUnknownOutputs&&zn.decode(s.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||Y7(s.script,s.redeemScript,s.witnessScript),s}addOutput(t,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(t)),this.outputs.length-1}updateOutput(t,r,n=!1){this.checkOutputIdx(t);let i;if(!n){let o=this.signStatus();(!o.addOutput||o.outputs.includes(t))&&(i=Oke)}this.outputs[t]=this.normalizeOutput(r,this.outputs[t],i)}addOutputAddress(t,r,n=yd){return this.addOutput({script:zn.encode(R8(n).decode(t)),amount:r})}get fee(){let t=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");t+=i.amount}let r=this.outputs.map(_m);for(let n of r)t-=n.amount;return t}preimageLegacy(t,r,n){let{isAny:i,isNone:o,isSingle:s}=GX(n);if(t<0||!Number.isSafeInteger(t))throw new Error(`Invalid input idx=${t}`);if(s&&t>=this.outputs.length||t>=this.inputs.length)return kX.encode(1n);r=Wn.encode(Wn.decode(r).filter(l=>l!=="CODESEPARATOR"));let a=this.inputs.map(k8).map((l,f)=>({...l,finalScriptSig:f===t?r:sn}));i?a=[a[t]]:(o||s)&&(a=a.map((l,f)=>({...l,sequence:f===t?l.sequence:0})));let c=this.outputs.map(_m);o?c=[]:s&&(c=c.slice(0,t).fill(Ike).concat([c[t]]));let u=Yc.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:a,outputs:c});return hd(u,Bm.encode(n))}preimageWitnessV0(t,r,n,i){let{isAny:o,isNone:s,isSingle:a}=GX(n),c=I8,u=I8,l=I8,f=this.inputs.map(k8),m=this.outputs.map(_m);o||(c=hd(...f.map(W7.encode))),!o&&!a&&!s&&(u=hd(...f.map(w=>vr.encode(w.sequence)))),!a&&!s?l=hd(...m.map(Cm.encode)):a&&t<m.length&&(l=hd(Cm.encode(m[t])));let b=f[t];return hd(Bm.encode(this.version),c,u,Yr(32,!0).encode(b.txid),vr.encode(b.index),Ja.encode(r),Dw.encode(i),vr.encode(b.sequence),l,vr.encode(this.lockTime),vr.encode(n))}preimageWitnessV1(t,r,n,i,o=-1,s,a=192,c){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let u=[of.encode(0),of.encode(n),Bm.encode(this.version),vr.encode(this.lockTime)],l=n===Zr.DEFAULT?Zr.ALL:n&3,f=n&Zr.ANYONECANPAY,m=this.inputs.map(k8),b=this.outputs.map(_m);f!==Zr.ANYONECANPAY&&u.push(...[m.map(W7.encode),i.map(Dw.encode),r.map(Ja.encode),m.map(S=>vr.encode(S.sequence))].map(S=>Ti(pd(...S)))),l===Zr.ALL&&u.push(Ti(pd(...b.map(Cm.encode))));let w=(c?1:0)|(s?2:0);if(u.push(new Uint8Array([w])),f===Zr.ANYONECANPAY){let S=m[t];u.push(W7.encode(S),Dw.encode(i[t]),Ja.encode(r[t]),vr.encode(S.sequence))}else u.push(vr.encode(t));return w&1&&u.push(Ti(Ja.encode(c||sn))),l===Zr.SINGLE&&u.push(t<b.length?Ti(Cm.encode(b[t])):I8),s&&u.push(T8(s,a),of.encode(0),Bm.encode(o)),us.utils.taggedHash("TapSighash",...u)}prevOut(t){if(t.nonWitnessUtxo){if(t.index===void 0)throw new Error("Unknown input index");return t.nonWitnessUtxo.outputs[t.index]}else{if(t.witnessUtxo)return t.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(t){let r="legacy",n=Zr.ALL,i=this.prevOut(t),o=zn.decode(i.script),s=o.type,a=o,c=[o];if(o.type==="tr")return n=Zr.DEFAULT,{txType:"taproot",type:"tr",last:o,lastScript:i.script,defaultSighash:n,sighash:t.sighashType||n};{if((o.type==="wpkh"||o.type==="wsh")&&(r="segwit"),o.type==="sh"){if(!t.redeemScript)throw new Error("inputType: sh without redeemScript");let m=zn.decode(t.redeemScript);(m.type==="wpkh"||m.type==="wsh")&&(r="segwit"),c.push(m),a=m,s+=`-${m.type}`}if(a.type==="wsh"){if(!t.witnessScript)throw new Error("inputType: wsh without witnessScript");let m=zn.decode(t.witnessScript);m.type==="wsh"&&(r="segwit"),c.push(m),a=m,s+=`-${m.type}`}let u=c[c.length-1];if(u.type==="sh"||u.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let l=zn.encode(u),f={type:s,txType:r,last:u,lastScript:l,defaultSighash:n,sighash:t.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!t.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return f}}signIdx(t,r,n,i){this.checkInputIdx(r);let o=this.inputs[r],s=this.inputType(o);if(!Jr(t)){if(!o.bip32Derivation||!o.bip32Derivation.length)throw new Error("bip32Derivation: empty");let l=o.bip32Derivation.filter(m=>m[1].fingerprint==t.fingerprint).map(([m,{path:b}])=>{let w=t;for(let S of b)w=w.deriveChild(S);if(!Rr(w.publicKey,m))throw new Error("bip32Derivation: wrong pubKey");if(!w.privateKey)throw new Error("bip32Derivation: no privateKey");return w});if(!l.length)throw new Error(`bip32Derivation: no items with fingerprint=${t.fingerprint}`);let f=!1;for(let m of l)this.signIdx(m.privateKey,r)&&(f=!0);return f}n?n.forEach(Jke):n=[s.defaultSighash];let a=s.sighash;if(!n.includes(a))throw new Error(`Input with not allowed sigHash=${a}. Allowed: ${n.join(", ")}`);let{sigOutputs:c}=this.inputSighash(r);if(c===Zr.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let u=this.prevOut(o);if(s.txType==="taproot"){if(o.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let l=this.inputs.map(this.prevOut),f=l.map(P=>P.script),m=l.map(P=>P.amount),b=!1,w=us.getPublicKey(t),S=o.tapMerkleRoot||sn;if(o.tapInternalKey){let{pubKey:P,privKey:M}=Xke(t,w,o.tapInternalKey,S),[D,C]=JX(o.tapInternalKey,S);if(Rr(D,P)){let R=this.preimageWitnessV1(r,f,a,m),L=pd(us.sign(R,M,i),a!==Zr.DEFAULT?new Uint8Array([a]):sn);this.updateInput(r,{tapKeySig:L},!0),b=!0}}if(o.tapLeafScript){o.tapScriptSig=o.tapScriptSig||[];for(let[P,M]of o.tapLeafScript){let D=M.subarray(0,-1),C=Wn.decode(D),R=M[M.length-1],L=T8(D,R);if(C.findIndex($=>Jr($)&&Rr($,w))===-1)continue;let G=this.preimageWitnessV1(r,f,a,m,void 0,D,R),H=pd(us.sign(G,t,i),a!==Zr.DEFAULT?new Uint8Array([a]):sn);this.updateInput(r,{tapScriptSig:[[{pubKey:w,leafHash:L},H]]},!0),b=!0}}if(!b)throw new Error("No taproot scripts signed");return!0}else{let l=bke(t),f=!1,m=O8(l);for(let S of Wn.decode(s.lastScript))Jr(S)&&(Rr(S,l)||Rr(S,m))&&(f=!0);if(!f)throw new Error(`Input script doesn't have pubKey: ${s.lastScript}`);let b;if(s.txType==="legacy")b=this.preimageLegacy(r,s.lastScript,a);else if(s.txType==="segwit"){let S=s.lastScript;s.last.type==="wpkh"&&(S=zn.encode({type:"pkh",hash:s.last.hash})),b=this.preimageWitnessV0(r,S,a,u.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${s.txType}`);let w=xke(b,t,this.opts.lowR);this.updateInput(r,{partialSig:[[l,pd(w,new Uint8Array([a]))]]},!0)}return!0}sign(t,r,n){let i=0;for(let o=0;o<this.inputs.length;o++)try{this.signIdx(t,o,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(t){if(this.checkInputIdx(t),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[t],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let c=r.tapLeafScript.sort((u,l)=>Mm.encode(u[0]).length-Mm.encode(l[0]).length);for(let[u,l]of c){let f=l.slice(0,-1),m=l[l.length-1],b=zn.decode(f),w=T8(f,m),S=r.tapScriptSig.filter(M=>Rr(M[0].leafHash,w)),P=[];if(b.type==="tr_ms"){let M=b.m,D=b.pubkeys,C=0;for(let R of D){let L=S.findIndex(W=>Rr(W[0].pubKey,R));if(C===M||L===-1){P.push(sn);continue}P.push(S[L][1]),C++}if(C!==M)continue}else if(b.type==="tr_ns"){for(let M of b.pubkeys){let D=S.findIndex(C=>Rr(C[0].pubKey,M));D!==-1&&P.push(S[D][1])}if(P.length!==b.pubkeys.length)continue}else if(b.type==="unknown"&&this.opts.allowUnknownInputs){let M=Wn.decode(f);if(P=S.map(([{pubKey:D},C])=>{let R=M.findIndex(L=>Jr(L)&&Rr(L,D));if(R===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:C,pos:R}}).sort((D,C)=>D.pos-C.pos).map(D=>D.signature),!P.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=P.reverse().concat([f,Mm.encode(u)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=sn,$X(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=sn,o=[];if(n.last.type==="ms"){let c=n.last.m,u=n.last.pubkeys,l=[];for(let f of u){let m=r.partialSig.find(b=>Rr(f,b[0]));m&&l.push(m[1])}if(l=l.slice(0,c),l.length!==c)throw new Error(`Multisig: wrong signatures count, m=${c} n=${u.length} signatures=${l.length}`);i=Wn.encode([0,...l])}else if(n.last.type==="pk")i=Wn.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Wn.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=sn,o=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let s,a;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(o=Wn.decode(i).map(c=>{if(c===0)return sn;if(Jr(c))return c;throw new Error(`Wrong witness op=${c}`)})),o=o.concat(n.lastScript)),n.txType==="segwit"&&(a=o),n.type.startsWith("sh-wsh-")?s=Wn.encode([Wn.encode([0,Ti(n.lastScript)])]):n.type.startsWith("sh-")?s=Wn.encode([...Wn.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(s=i),!s&&!a)throw new Error("Unknown error finalizing input");s&&(r.finalScriptSig=s),a&&(r.finalScriptWitness=a),$X(r)}finalize(){for(let t=0;t<this.inputs.length;t++)this.finalizeIdx(t)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(t){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==t.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${t.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==t[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${t[i].length}`);let r=this.global.unsignedTx?Yc.encode(this.global.unsignedTx):sn,n=t.global.unsignedTx?Yc.encode(t.global.unsignedTx):sn;if(!Rr(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=q7(rC,this.global,t.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,t.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,t.outputs[i],!0);return this}clone(){return e.fromPSBT(this.toPSBT(2),this.opts)}};var aQ=ne(Sx()),aC=ne(NP());var cC=e=>e.length===32?e:e.slice(1,33);function rTe(e){return Ro.Buffer.concat([(0,aC.encode)(e.byteLength),e])}function nTe(e){let{sha256:t}=aQ.crypto,n=t(Ro.Buffer.from("BIP0322-signed-message"));return t(Ro.Buffer.concat([n,n,Ro.Buffer.from(e)])).toString("hex")}var iTe=(e,t)=>{switch(e){case"bip122_p2tr":return WR.getPublicKey(t);case"bip122_p2sh":return Tu(t,!0);case"bip122_p2wpkh":return Tu(t,!0);default:throw new Error("Unsupported Address Type")}},oTe=(e,t)=>{let r=yd;switch(e){case"bip122_p2tr":return oQ(t,void 0,r);case"bip122_p2wpkh":return sC(t,r);case"bip122_p2sh":{let n=sC(t,r);return nQ(n,r)}default:throw new Error("Unsupported Address Type")}};function sTe(e,t,r,n){let i=v0.fromPSBT(r,{allowUnknownInputs:!0});try{t.forEach(o=>{let s=Uc("bip122:000000000019d6689c085ae165831e93",o.address),a=e[s];if(!a)throw new Error("missing private key for ("+s+")");let{publicKey:c,privateKey:u}=a;o.signingIndexes.forEach(l=>{let f=i.getInput(l),m=f.witnessUtxo?.script&&zn.decode(f.witnessUtxo.script);if(!o.isScriptSpend&&!f.tapInternalKey&&m?.type==="tr"&&i.updateInput(l,{tapInternalKey:cC(Ro.Buffer.from(c))}),o.sigHash)try{i.signIdx(u,l,[o.sigHash],Cw(32))}catch{i.signIdx(u,l,void 0,Cw(32))}else i.signIdx(u,l,void 0,Cw(32));if(n)try{i.finalizeIdx(l)}catch{}})})}catch(o){throw console.error(o),new Error(`Error signing PSBT ${o.toString()}`)}return Promise.resolve(i.toPSBT(0))}var cQ=()=>({type:"keyPair",sign:async(e,t)=>{try{switch(t.signingType){case"message":{let r=t.chainType,n=Ro.Buffer.from(t.message).toString("utf8"),i=e[t.chainType]?.privateKey;if(!i)throw new Error("missing private key for ("+t.chainType+")");let o=Ro.Buffer.from(i).toString("hex"),s=iTe(r,o),a=oTe(r,s),c=Ro.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),u=0,l=4294967295,f=0,m=Wn.encode(["OP_0",Ro.Buffer.from(nTe(n),"hex")]),b=new v0({allowUnknownOutputs:!0,version:u});b.addOutput({amount:BigInt(0),script:a.script}),b.addInput({txid:c,index:l,sequence:f,finalScriptSig:m});let w=new v0({allowUnknownOutputs:!0,version:u});w.addInput({txid:b.id,index:0,sequence:f,tapInternalKey:r==="bip122_p2tr"?s:void 0,witnessUtxo:{script:a.script,amount:BigInt(0)},redeemScript:a.redeemScript}),w.addOutput({script:Wn.encode(["RETURN"]),amount:BigInt(0)}),w.sign(Ro.Buffer.from(o,"hex"),void 0,Cw(32)),w.finalize();let S=null,P=w.getInput(0);if(P.finalScriptWitness?.length){let M=(0,aC.encode)(P.finalScriptWitness?.length);S=Ro.Buffer.concat([M,...P.finalScriptWitness.map(D=>rTe(D))])}else throw new Error("couldnt produce a signature");return{status:"success",signature:S.toString("hex"),message:w.toBytes()}}case"transaction":{let r=await sTe(e,t.inputsToSign??[],Ro.Buffer.from(t.message??"","hex"),t.finalize??!1);return{status:"success",signature:Ro.Buffer.from(r).toString("hex")}}}}catch{return cr("internalError")}}});d();h();var uC=ne(wo()),uQ=ne(gs());var fQ=()=>({type:"keyPair",sign:(e,t)=>{let r=t.data;if(r.chainType!=="solana")return Promise.resolve(cr("invalidAddressType"));let n;try{typeof r.message=="string"?r.signingType==="transaction"?n=uC.default.decode(r.message):n=Buffer.from(r.message,"utf8"):n=r.message}catch{return Promise.resolve(cr("invalidMessageEncoding"))}let i=uC.default.encode(uQ.default.sign.detached(n,e.privateKey));return Promise.resolve({status:"success",signature:i})}});d();h();var Om=ne(Pn()),lQ=ne(Yn());var Zc=ne(h7()),dQ=ne(O0());var hQ=()=>({type:"keyPair",sign:(e,t)=>{try{switch(t.signingType){case"typedData":{switch(t.version){case 1:{let r=Om.Buffer.from(e.privateKey.slice()),n=Zc.SignTypedDataVersion.V1,{data:i}=t,o=(0,Zc.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=Om.Buffer.from(e.privateKey.slice()),n=Zc.SignTypedDataVersion.V3,i=t.data,o=(0,Zc.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=Om.Buffer.from(e.privateKey.slice()),n=Zc.SignTypedDataVersion.V4,i=t.data,o=(0,Zc.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=t.message,n=(0,Zc.personalSign)({privateKey:Om.Buffer.from(e.privateKey),data:r});return Promise.resolve({status:"success",signature:n})}case"transaction":{let r=Om.Buffer.from(t.message.replace("0x",""),"hex"),n=new Cs(e.privateKey),i=`0x${(0,dQ.keccak256)(r)}`,o=(0,lQ.joinSignature)(n.signDigest(i));return Promise.resolve({status:"success",signature:o})}}}catch(r){return console.error(r),Promise.resolve(cr("invalidMessageEncoding"))}}});d();h();var T0=ne(Pn());d();h();d();h();d();h();d();h();function pQ(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function aTe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function fC(e,...t){if(!aTe(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function yQ(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pQ(e.outputLen),pQ(e.blockLen)}function Dm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mQ(e,t){fC(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var L8=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function gQ(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}var K8=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Qa=(e,t)=>e<<32-t|e>>>t,cTe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cTe)throw new Error("Non little-endian hardware is not supported");function uTe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Fw(e){if(typeof e=="string"&&(e=uTe(e)),!gQ(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function bQ(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(!gQ(i))throw new Error("Uint8Array expected");t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Um=class{clone(){return this._cloneInto()}},_gt={}.toString;function xQ(e){let t=n=>e().update(Fw(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function wQ(e=32){if(L8&&typeof L8.getRandomValues=="function")return L8.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}var V8=class extends Um{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,yQ(t);let n=Fw(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Dm(this),this.iHash.update(t),this}digestInto(t){Dm(this),fC(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},lC=(e,t,r)=>new V8(e,t).update(r).digest();lC.create=(e,t)=>new V8(e,t);d();h();d();h();var yC={};r4(yC,{bitGet:()=>mTe,bitLen:()=>yTe,bitMask:()=>Hw,bitSet:()=>gTe,bytesToHex:()=>A0,bytesToNumberBE:()=>af,bytesToNumberLE:()=>H8,concatBytes:()=>Rm,createHmacDrbg:()=>pC,ensureBytes:()=>ds,equalBytes:()=>hTe,hexToBytes:()=>E0,hexToNumber:()=>hC,isBytes:()=>ec,numberToBytesBE:()=>md,numberToBytesLE:()=>q8,numberToHexUnpadded:()=>EQ,numberToVarBytesBE:()=>dTe,utf8ToBytes:()=>pTe,validateObject:()=>gd});d();h();var AQ=BigInt(0),F8=BigInt(1),fTe=BigInt(2);function ec(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}var lTe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function A0(e){if(!ec(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=lTe[e[r]];return t}function EQ(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function hC(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}var sf={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function SQ(e){if(e>=sf._0&&e<=sf._9)return e-sf._0;if(e>=sf._A&&e<=sf._F)return e-(sf._A-10);if(e>=sf._a&&e<=sf._f)return e-(sf._a-10)}function E0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=SQ(e.charCodeAt(o)),a=SQ(e.charCodeAt(o+1));if(s===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function af(e){return hC(A0(e))}function H8(e){if(!ec(e))throw new Error("Uint8Array expected");return hC(A0(Uint8Array.from(e).reverse()))}function md(e,t){return E0(e.toString(16).padStart(t*2,"0"))}function q8(e,t){return md(e,t).reverse()}function dTe(e){return E0(EQ(e))}function ds(e,t,r){let n;if(typeof t=="string")try{n=E0(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(ec(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Rm(...e){let t=0;for(let i=0;i<e.length;i++){let o=e[i];if(!ec(o))throw new Error("Uint8Array expected");t+=o.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){let o=e[i];r.set(o,n),n+=o.length}return r}function hTe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function pTe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function yTe(e){let t;for(t=0;e>AQ;e>>=F8,t+=1);return t}function mTe(e,t){return e>>BigInt(t)&F8}var gTe=(e,t,r)=>e|(r?F8:AQ)<<BigInt(t),Hw=e=>(fTe<<BigInt(e-1))-F8,dC=e=>new Uint8Array(e),vQ=e=>Uint8Array.from(e);function pC(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=dC(e),i=dC(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...f)=>r(i,n,...f),c=(f=dC())=>{i=a(vQ([0]),f),n=a(),f.length!==0&&(i=a(vQ([1]),f),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<t;){n=a();let b=n.slice();m.push(b),f+=n.length}return Rm(...m)};return(f,m)=>{s(),c(f);let b;for(;!(b=m(u()));)c();return s(),b}}var bTe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ec(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function gd(e,t,r={}){let n=(i,o,s)=>{let a=bTe[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(t))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return e}var Gn=BigInt(0),ln=BigInt(1),I0=BigInt(2),xTe=BigInt(3),mC=BigInt(4),IQ=BigInt(5),kQ=BigInt(8),wTe=BigInt(9),STe=BigInt(16);function Gi(e,t){let r=e%t;return r>=Gn?r:t+r}function vTe(e,t,r){if(r<=Gn||t<Gn)throw new Error("Expected power/modulo > 0");if(r===ln)return Gn;let n=ln;for(;t>Gn;)t&ln&&(n=n*e%r),e=e*e%r,t>>=ln;return n}function hs(e,t,r){let n=e;for(;t-- >Gn;)n*=n,n%=r;return n}function W8(e,t){if(e===Gn||t<=Gn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Gi(e,t),n=t,i=Gn,o=ln,s=ln,a=Gn;for(;r!==Gn;){let u=n/r,l=n%r,f=i-s*u,m=o-a*u;n=r,r=l,i=s,o=a,s=f,a=m}if(n!==ln)throw new Error("invert: does not exist");return Gi(i,t)}function ATe(e){let t=(e-ln)/I0,r,n,i;for(r=e-ln,n=0;r%I0===Gn;r/=I0,n++);for(i=I0;i<e&&vTe(i,t,e)!==e-ln;i++);if(n===1){let s=(e+ln)/mC;return function(c,u){let l=c.pow(u,s);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}let o=(r+ln)/I0;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),f=a.pow(c,o),m=a.pow(c,r);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let b=1;for(let S=a.sqr(m);b<u&&!a.eql(S,a.ONE);b++)S=a.sqr(S);let w=a.pow(l,ln<<BigInt(u-b-1));l=a.sqr(w),f=a.mul(f,w),m=a.mul(m,l),u=b}return f}}function ETe(e){if(e%mC===xTe){let t=(e+ln)/mC;return function(n,i){let o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%kQ===IQ){let t=(e-IQ)/kQ;return function(n,i){let o=n.mul(i,I0),s=n.pow(o,t),a=n.mul(i,s),c=n.mul(n.mul(a,I0),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return e%STe,ATe(e)}var ITe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gC(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ITe.reduce((n,i)=>(n[i]="function",n),t);return gd(e,r)}function kTe(e,t,r){if(r<Gn)throw new Error("Expected power > 0");if(r===Gn)return e.ONE;if(r===ln)return t;let n=e.ONE,i=t;for(;r>Gn;)r&ln&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ln;return n}function TTe(e,t){let r=new Array(t.length),n=t.reduce((o,s,a)=>e.is0(s)?o:(r[a]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,a)=>e.is0(s)?o:(r[a]=e.mul(o,r[a]),e.mul(o,s)),i),r}function bC(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function j8(e,t,r=!1,n={}){if(e<=Gn)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:o}=bC(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=ETe(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Hw(i),ZERO:Gn,ONE:ln,create:c=>Gi(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Gn<=c&&c<e},is0:c=>c===Gn,isOdd:c=>(c&ln)===ln,neg:c=>Gi(-c,e),eql:(c,u)=>c===u,sqr:c=>Gi(c*c,e),add:(c,u)=>Gi(c+u,e),sub:(c,u)=>Gi(c-u,e),mul:(c,u)=>Gi(c*u,e),pow:(c,u)=>kTe(a,c,u),div:(c,u)=>Gi(c*W8(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>W8(c,e),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>TTe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?q8(c,o):md(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?H8(c):af(c)}});return Object.freeze(a)}function TQ(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function xC(e){let t=TQ(e);return t+Math.ceil(t/2)}function z8(e,t,r=!1){let n=e.length,i=TQ(t),o=xC(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?af(e):H8(e),a=Gi(s,t-ln)+ln;return r?q8(a,i):md(a,i)}d();h();var PTe=BigInt(0),wC=BigInt(1);function BQ(e,t){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>PTe;)o&wC&&(s=s.add(a)),a=a.double(),o>>=wC;return s},precomputeWindow(i,o){let{windows:s,windowSize:a}=n(o),c=[],u=i,l=u;for(let f=0;f<s;f++){l=u,c.push(l);for(let m=1;m<a;m++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,o,s){let{windows:a,windowSize:c}=n(i),u=e.ZERO,l=e.BASE,f=BigInt(2**i-1),m=2**i,b=BigInt(i);for(let w=0;w<a;w++){let S=w*c,P=Number(s&f);s>>=b,P>c&&(P-=m,s+=wC);let M=S,D=S+Math.abs(P)-1,C=w%2!==0,R=P<0;P===0?l=l.add(r(C,o[M])):u=u.add(r(R,o[D]))}return{p:u,f:l}},wNAFCached(i,o,s,a){let c=i._WINDOW_SIZE||1,u=o.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&o.set(i,a(u))),this.wNAF(c,u,s)}}}function SC(e){return gC(e.Fp),gd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bC(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function BTe(e){let t=SC(e);gd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:_Te,hexToBytes:CTe}=yC,k0={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=k0;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:_Te(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=k0,r=typeof e=="string"?CTe(e):e;if(!ec(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=k0._parseInt(r.subarray(2)),{d:s,l:a}=k0._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{let l=u.toString(16);return l.length&1?`0${l}`:l},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},cf=BigInt(0),Js=BigInt(1),Xgt=BigInt(2),_Q=BigInt(3),Qgt=BigInt(4);function MTe(e){let t=BTe(e),{Fp:r}=t,n=t.toBytes||((w,S,P)=>{let M=S.toAffine();return Rm(Uint8Array.from([4]),r.toBytes(M.x),r.toBytes(M.y))}),i=t.fromBytes||(w=>{let S=w.subarray(1),P=r.fromBytes(S.subarray(0,r.BYTES)),M=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:P,y:M}});function o(w){let{a:S,b:P}=t,M=r.sqr(w),D=r.mul(M,w);return r.add(r.add(D,r.mul(w,S)),P)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(w){return typeof w=="bigint"&&cf<w&&w<t.n}function a(w){if(!s(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){let{allowedPrivateKeyLengths:S,nByteLength:P,wrapPrivateKey:M,n:D}=t;if(S&&typeof w!="bigint"){if(ec(w)&&(w=A0(w)),typeof w!="string"||!S.includes(w.length))throw new Error("Invalid key");w=w.padStart(P*2,"0")}let C;try{C=typeof w=="bigint"?w:af(ds("private key",w,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof w}`)}return M&&(C=Gi(C,D)),a(C),C}let u=new Map;function l(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(S,P,M){if(this.px=S,this.py=P,this.pz=M,S==null||!r.isValid(S))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(M==null||!r.isValid(M))throw new Error("z required")}static fromAffine(S){let{x:P,y:M}=S||{};if(!S||!r.isValid(P)||!r.isValid(M))throw new Error("invalid affine point");if(S instanceof f)throw new Error("projective point not allowed");let D=C=>r.eql(C,r.ZERO);return D(P)&&D(M)?f.ZERO:new f(P,M,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){let P=r.invertBatch(S.map(M=>M.pz));return S.map((M,D)=>M.toAffine(P[D])).map(f.fromAffine)}static fromHex(S){let P=f.fromAffine(i(ds("pointHex",S)));return P.assertValidity(),P}static fromPrivateKey(S){return f.BASE.multiply(c(S))}_setWindowSize(S){this._WINDOW_SIZE=S,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:S,y:P}=this.toAffine();if(!r.isValid(S)||!r.isValid(P))throw new Error("bad point: x or y not FE");let M=r.sqr(P),D=o(S);if(!r.eql(M,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:S}=this.toAffine();if(r.isOdd)return!r.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){l(S);let{px:P,py:M,pz:D}=this,{px:C,py:R,pz:L}=S,W=r.eql(r.mul(P,L),r.mul(C,D)),G=r.eql(r.mul(M,L),r.mul(R,D));return W&&G}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:S,b:P}=t,M=r.mul(P,_Q),{px:D,py:C,pz:R}=this,L=r.ZERO,W=r.ZERO,G=r.ZERO,H=r.mul(D,D),$=r.mul(C,C),B=r.mul(R,R),p=r.mul(D,C);return p=r.add(p,p),G=r.mul(D,R),G=r.add(G,G),L=r.mul(S,G),W=r.mul(M,B),W=r.add(L,W),L=r.sub($,W),W=r.add($,W),W=r.mul(L,W),L=r.mul(p,L),G=r.mul(M,G),B=r.mul(S,B),p=r.sub(H,B),p=r.mul(S,p),p=r.add(p,G),G=r.add(H,H),H=r.add(G,H),H=r.add(H,B),H=r.mul(H,p),W=r.add(W,H),B=r.mul(C,R),B=r.add(B,B),H=r.mul(B,p),L=r.sub(L,H),G=r.mul(B,$),G=r.add(G,G),G=r.add(G,G),new f(L,W,G)}add(S){l(S);let{px:P,py:M,pz:D}=this,{px:C,py:R,pz:L}=S,W=r.ZERO,G=r.ZERO,H=r.ZERO,$=t.a,B=r.mul(t.b,_Q),p=r.mul(P,C),g=r.mul(M,R),x=r.mul(D,L),A=r.add(P,M),v=r.add(C,R);A=r.mul(A,v),v=r.add(p,g),A=r.sub(A,v),v=r.add(P,D);let _=r.add(C,L);return v=r.mul(v,_),_=r.add(p,x),v=r.sub(v,_),_=r.add(M,D),W=r.add(R,L),_=r.mul(_,W),W=r.add(g,x),_=r.sub(_,W),H=r.mul($,v),W=r.mul(B,x),H=r.add(W,H),W=r.sub(g,H),H=r.add(g,H),G=r.mul(W,H),g=r.add(p,p),g=r.add(g,p),x=r.mul($,x),v=r.mul(B,v),g=r.add(g,x),x=r.sub(p,x),x=r.mul($,x),v=r.add(v,x),p=r.mul(g,v),G=r.add(G,p),p=r.mul(_,v),W=r.mul(A,W),W=r.sub(W,p),p=r.mul(A,g),H=r.mul(_,H),H=r.add(H,p),new f(W,G,H)}subtract(S){return this.add(S.negate())}is0(){return this.equals(f.ZERO)}wNAF(S){return b.wNAFCached(this,u,S,P=>{let M=r.invertBatch(P.map(D=>D.pz));return P.map((D,C)=>D.toAffine(M[C])).map(f.fromAffine)})}multiplyUnsafe(S){let P=f.ZERO;if(S===cf)return P;if(a(S),S===Js)return this;let{endo:M}=t;if(!M)return b.unsafeLadder(this,S);let{k1neg:D,k1:C,k2neg:R,k2:L}=M.splitScalar(S),W=P,G=P,H=this;for(;C>cf||L>cf;)C&Js&&(W=W.add(H)),L&Js&&(G=G.add(H)),H=H.double(),C>>=Js,L>>=Js;return D&&(W=W.negate()),R&&(G=G.negate()),G=new f(r.mul(G.px,M.beta),G.py,G.pz),W.add(G)}multiply(S){a(S);let P=S,M,D,{endo:C}=t;if(C){let{k1neg:R,k1:L,k2neg:W,k2:G}=C.splitScalar(P),{p:H,f:$}=this.wNAF(L),{p:B,f:p}=this.wNAF(G);H=b.constTimeNegate(R,H),B=b.constTimeNegate(W,B),B=new f(r.mul(B.px,C.beta),B.py,B.pz),M=H.add(B),D=$.add(p)}else{let{p:R,f:L}=this.wNAF(P);M=R,D=L}return f.normalizeZ([M,D])[0]}multiplyAndAddUnsafe(S,P,M){let D=f.BASE,C=(L,W)=>W===cf||W===Js||!L.equals(D)?L.multiplyUnsafe(W):L.multiply(W),R=C(this,P).add(C(S,M));return R.is0()?void 0:R}toAffine(S){let{px:P,py:M,pz:D}=this,C=this.is0();S==null&&(S=C?r.ONE:r.inv(D));let R=r.mul(P,S),L=r.mul(M,S),W=r.mul(D,S);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(W,r.ONE))throw new Error("invZ was invalid");return{x:R,y:L}}isTorsionFree(){let{h:S,isTorsionFree:P}=t;if(S===Js)return!0;if(P)return P(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:S,clearCofactor:P}=t;return S===Js?this:P?P(f,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return this.assertValidity(),n(f,this,S)}toHex(S=!0){return A0(this.toRawBytes(S))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let m=t.nBitLength,b=BQ(f,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function NTe(e){let t=SC(e);return gd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function CQ(e){let t=NTe(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(v){return cf<v&&v<r.ORDER}function a(v){return Gi(v,n)}function c(v){return W8(v,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:m}=MTe({...t,toBytes(v,_,O){let T=_.toAffine(),y=r.toBytes(T.x),I=Rm;return O?I(Uint8Array.from([_.hasEvenY()?2:3]),y):I(Uint8Array.from([4]),y,r.toBytes(T.y))},fromBytes(v){let _=v.length,O=v[0],T=v.subarray(1);if(_===i&&(O===2||O===3)){let y=af(T);if(!s(y))throw new Error("Point is not on curve");let I=f(y),q=r.sqrt(I),K=(q&Js)===Js;return(O&1)===1!==K&&(q=r.neg(q)),{x:y,y:q}}else if(_===o&&O===4){let y=r.fromBytes(T.subarray(0,r.BYTES)),I=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:y,y:I}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),b=v=>A0(md(v,t.nByteLength));function w(v){let _=n>>Js;return v>_}function S(v){return w(v)?a(-v):v}let P=(v,_,O)=>af(v.slice(_,O));class M{constructor(_,O,T){this.r=_,this.s=O,this.recovery=T,this.assertValidity()}static fromCompact(_){let O=t.nByteLength;return _=ds("compactSignature",_,O*2),new M(P(_,0,O),P(_,O,2*O))}static fromDER(_){let{r:O,s:T}=k0.toSig(ds("DER",_));return new M(O,T)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new M(this.r,this.s,_)}recoverPublicKey(_){let{r:O,s:T,recovery:y}=this,I=G(ds("msgHash",_));if(y==null||![0,1,2,3].includes(y))throw new Error("recovery id invalid");let q=y===2||y===3?O+t.n:O;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=y&1?"03":"02",F=u.fromHex(K+b(q)),J=c(q),ae=a(-I*J),ce=a(T*J),pe=u.BASE.multiplyAndAddUnsafe(F,ae,ce);if(!pe)throw new Error("point at infinify");return pe.assertValidity(),pe}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return E0(this.toDERHex())}toDERHex(){return k0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return E0(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}let D={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let v=xC(t.n);return z8(t.randomBytes(v),t.n)},precompute(v=8,_=u.BASE){return _._setWindowSize(v),_.multiply(BigInt(3)),_}};function C(v,_=!0){return u.fromPrivateKey(v).toRawBytes(_)}function R(v){let _=ec(v),O=typeof v=="string",T=(_||O)&&v.length;return _?T===i||T===o:O?T===2*i||T===2*o:v instanceof u}function L(v,_,O=!0){if(R(v))throw new Error("first arg must be private key");if(!R(_))throw new Error("second arg must be public key");return u.fromHex(_).multiply(l(v)).toRawBytes(O)}let W=t.bits2int||function(v){let _=af(v),O=v.length*8-t.nBitLength;return O>0?_>>BigInt(O):_},G=t.bits2int_modN||function(v){return a(W(v))},H=Hw(t.nBitLength);function $(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(cf<=v&&v<H))throw new Error(`bigint expected < 2^${t.nBitLength}`);return md(v,t.nByteLength)}function B(v,_,O=p){if(["recovered","canonical"].some(V=>V in O))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:y}=t,{lowS:I,prehash:q,extraEntropy:K}=O;I==null&&(I=!0),v=ds("msgHash",v),q&&(v=ds("prehashed msgHash",T(v)));let F=G(v),J=l(_),ae=[$(J),$(F)];if(K!=null){let V=K===!0?y(r.BYTES):K;ae.push(ds("extraEntropy",V))}let ce=Rm(...ae),pe=F;function Y(V){let Z=W(V);if(!m(Z))return;let X=c(Z),ee=u.BASE.multiply(Z).toAffine(),he=a(ee.x);if(he===cf)return;let te=a(X*a(pe+he*J));if(te===cf)return;let se=(ee.x===he?0:2)|Number(ee.y&Js),gt=te;return I&&w(te)&&(gt=S(te),se^=1),new M(he,gt,se)}return{seed:ce,k2sig:Y}}let p={lowS:t.lowS,prehash:!1},g={lowS:t.lowS,prehash:!1};function x(v,_,O=p){let{seed:T,k2sig:y}=B(v,_,O),I=t;return pC(I.hash.outputLen,I.nByteLength,I.hmac)(T,y)}u.BASE._setWindowSize(8);function A(v,_,O,T=g){let y=v;if(_=ds("msgHash",_),O=ds("publicKey",O),"strict"in T)throw new Error("options.strict was renamed to lowS");let{lowS:I,prehash:q}=T,K,F;try{if(typeof y=="string"||ec(y))try{K=M.fromDER(y)}catch(ee){if(!(ee instanceof k0.Err))throw ee;K=M.fromCompact(y)}else if(typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint"){let{r:ee,s:he}=y;K=new M(ee,he)}else throw new Error("PARSE");F=u.fromHex(O)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&K.hasHighS())return!1;q&&(_=t.hash(_));let{r:J,s:ae}=K,ce=G(_),pe=c(ae),Y=a(ce*pe),V=a(J*pe),Z=u.BASE.multiplyAndAddUnsafe(F,Y,V)?.toAffine();return Z?a(Z.x)===J:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:L,sign:x,verify:A,ProjectivePoint:u,Signature:M,utils:D}}function OTe(e){return{hash:e,hmac:(t,...r)=>lC(e,t,bQ(...r)),randomBytes:wQ}}function G8(e,t){let r=n=>CQ({...e,...OTe(n)});return Object.freeze({...r(t),create:r})}d();h();d();h();function DTe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var $8=class extends Um{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=K8(this.buffer)}update(t){Dm(this);let{view:r,buffer:n,blockLen:i}=this;t=Fw(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=K8(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Dm(this),mQ(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;DTe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=K8(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var UTe=(e,t,r)=>e&t^~e&r,RTe=(e,t,r)=>e&t^e&r^t&r,LTe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xd=new Uint32Array(64),vC=class extends $8{constructor(){super(64,32,8,!1),this.A=bd[0]|0,this.B=bd[1]|0,this.C=bd[2]|0,this.D=bd[3]|0,this.E=bd[4]|0,this.F=bd[5]|0,this.G=bd[6]|0,this.H=bd[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)xd[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=xd[f-15],b=xd[f-2],w=Qa(m,7)^Qa(m,18)^m>>>3,S=Qa(b,17)^Qa(b,19)^b>>>10;xd[f]=S+xd[f-7]+w+xd[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=Qa(a,6)^Qa(a,11)^Qa(a,25),b=l+m+UTe(a,c,u)+LTe[f]+xd[f]|0,S=(Qa(n,2)^Qa(n,13)^Qa(n,22))+RTe(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){xd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Y8=xQ(()=>new vC);var MQ=j8(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),KTe=MQ.create(BigInt("-3")),VTe=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),qw=G8({a:KTe,b:VTe,Fp:MQ,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Y8);var NQ=()=>({type:"keyPair",sign:(e,t)=>{if(!t.isJWT)return Promise.resolve(cr("invalidAddressType"));if(t.data.payload.iss!==jN)return Promise.resolve(cr("invalidClaim"));if(t.data.payload.aud!==zN)return Promise.resolve(cr("invalidClaim"));let r={...t.data.header,kid:Ho(T0.Buffer.from(e.publicKey))},n={...t.data.payload,sub:Ho(T0.Buffer.from(e.publicKey))},i=Ho(T0.Buffer.from(JSON.stringify(r)))+"."+Ho(T0.Buffer.from(JSON.stringify(n))),s=qw.sign(T0.Buffer.from(i).toString("hex"),e.privateKey,{prehash:!0}).toCompactRawBytes(),a=Ho(T0.Buffer.from(s)),c={header:r,payload:n,signature:a};return Promise.resolve({status:"success",signature:a,signedJWT:c})}});d();h();var OQ=ne(Pn());var AC=ne(wo()),DQ=ne(gs());var UQ=()=>({type:"keyPair",sign:(e,t)=>{if(t.chainType!=="solana")return Promise.resolve(cr("invalidAddressType"));let r;try{typeof t.message=="string"?t.signingType==="transaction"?r=AC.default.decode(t.message):r=OQ.Buffer.from(t.message,"utf8"):r=t.message}catch{return Promise.resolve(cr("invalidMessageEncoding"))}let n=AC.default.encode(DQ.default.sign.detached(r,e.privateKey));return Promise.resolve({status:"success",signature:n})}});d();h();d();h();d();h();var _0=ne(gs(),1);d();h();d();h();d();h();d();h();function Lm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function FTe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Km(e,...t){if(!FTe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function RQ(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lm(e.outputLen),Lm(e.blockLen)}function uf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Z8(e,t){Km(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var Vm=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),J8=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);var Sd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,KQ=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,tc=Sd?e=>e:e=>KQ(e);function P0(e){for(let t=0;t<e.length;t++)e[t]=KQ(e[t])}var HTe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function X8(e){Km(e);let t="";for(let r=0;r<e.length;r++)t+=HTe[e[r]];return t}var ff={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function LQ(e){if(e>=ff._0&&e<=ff._9)return e-ff._0;if(e>=ff._A&&e<=ff._F)return e-(ff._A-10);if(e>=ff._a&&e<=ff._f)return e-(ff._a-10)}function VQ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=LQ(e.charCodeAt(o)),a=LQ(e.charCodeAt(o+1));if(s===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function qTe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Xs(e){return typeof e=="string"&&(e=qTe(e)),Km(e),e}var wd=class{clone(){return this._cloneInto()}},Hbt={}.toString;function FQ(e){let t=n=>e().update(Xs(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function HQ(e){let t=(n,i)=>e(i).update(Xs(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}var qQ=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),Q8=class extends wd{constructor(t,r,n={},i,o,s){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Lm(t),Lm(r),Lm(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=Vm(this.buffer=new Uint8Array(t))}update(t){uf(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=Xs(t);let o=t.length,s=t.byteOffset,a=t.buffer;for(let c=0;c<o;){this.pos===r&&(Sd||P0(i),this.compress(i,0,!1),Sd||P0(i),this.pos=0);let u=Math.min(r-this.pos,o-c),l=s+c;if(u===r&&!(l%4)&&c+u<o){let f=new Uint32Array(a,l,Math.floor((o-c)/4));Sd||P0(f);for(let m=0;c+r<o;m+=i.length,c+=r)this.length+=r,this.compress(f,m,!1);Sd||P0(f);continue}n.set(t.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(t){uf(this),Z8(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Sd||P0(n),this.compress(n,0,!0),Sd||P0(n);let i=Vm(t);this.get().forEach((o,s)=>i[s]=tc(o))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=o,t.outputLen=s,t.buffer.set(r),t.pos=a,t}};d();h();var e6=BigInt(4294967295),EC=BigInt(32);function WQ(e,t=!1){return t?{h:Number(e&e6),l:Number(e>>EC&e6)}:{h:Number(e>>EC&e6)|0,l:Number(e&e6)|0}}function WTe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=WQ(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var jTe=(e,t)=>BigInt(e>>>0)<<EC|BigInt(t>>>0),zTe=(e,t,r)=>e>>>r,GTe=(e,t,r)=>e<<32-r|t>>>r,$Te=(e,t,r)=>e>>>r|t<<32-r,YTe=(e,t,r)=>e<<32-r|t>>>r,ZTe=(e,t,r)=>e<<64-r|t>>>r-32,JTe=(e,t,r)=>e>>>r-32|t<<64-r,XTe=(e,t)=>t,QTe=(e,t)=>e,e5e=(e,t,r)=>e<<r|t>>>32-r,t5e=(e,t,r)=>t<<r|e>>>32-r,r5e=(e,t,r)=>t<<r-32|e>>>64-r,n5e=(e,t,r)=>e<<r-32|t>>>64-r;function i5e(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var o5e=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),s5e=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,a5e=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),c5e=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,u5e=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),f5e=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;var l5e={fromBig:WQ,split:WTe,toBig:jTe,shrSH:zTe,shrSL:GTe,rotrSH:$Te,rotrSL:YTe,rotrBH:ZTe,rotrBL:JTe,rotr32H:XTe,rotr32L:QTe,rotlSH:e5e,rotlSL:t5e,rotlBH:r5e,rotlBL:n5e,add:i5e,add3L:o5e,add3H:s5e,add4L:a5e,add4H:c5e,add5H:f5e,add5L:u5e},ke=l5e;var $n=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),be=new Uint32Array(32);function vd(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=be[2*e],u=be[2*e+1],l=be[2*t],f=be[2*t+1],m=be[2*r],b=be[2*r+1],w=be[2*n],S=be[2*n+1],P=ke.add3L(c,l,s);u=ke.add3H(P,u,f,a),c=P|0,{Dh:S,Dl:w}={Dh:S^u,Dl:w^c},{Dh:S,Dl:w}={Dh:ke.rotr32H(S,w),Dl:ke.rotr32L(S,w)},{h:b,l:m}=ke.add(b,m,S,w),{Bh:f,Bl:l}={Bh:f^b,Bl:l^m},{Bh:f,Bl:l}={Bh:ke.rotrSH(f,l,24),Bl:ke.rotrSL(f,l,24)},be[2*e]=c,be[2*e+1]=u,be[2*t]=l,be[2*t+1]=f,be[2*r]=m,be[2*r+1]=b,be[2*n]=w,be[2*n+1]=S}function Ad(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=be[2*e],u=be[2*e+1],l=be[2*t],f=be[2*t+1],m=be[2*r],b=be[2*r+1],w=be[2*n],S=be[2*n+1],P=ke.add3L(c,l,s);u=ke.add3H(P,u,f,a),c=P|0,{Dh:S,Dl:w}={Dh:S^u,Dl:w^c},{Dh:S,Dl:w}={Dh:ke.rotrSH(S,w,16),Dl:ke.rotrSL(S,w,16)},{h:b,l:m}=ke.add(b,m,S,w),{Bh:f,Bl:l}={Bh:f^b,Bl:l^m},{Bh:f,Bl:l}={Bh:ke.rotrBH(f,l,63),Bl:ke.rotrBL(f,l,63)},be[2*e]=c,be[2*e+1]=u,be[2*t]=l,be[2*t+1]=f,be[2*r]=m,be[2*r+1]=b,be[2*n]=w,be[2*n+1]=S}var IC=class extends Q8{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=$n[0]|0,this.v0h=$n[1]|0,this.v1l=$n[2]|0,this.v1h=$n[3]|0,this.v2l=$n[4]|0,this.v2h=$n[5]|0,this.v3l=$n[6]|0,this.v3h=$n[7]|0,this.v4l=$n[8]|0,this.v4h=$n[9]|0,this.v5l=$n[10]|0,this.v5h=$n[11]|0,this.v6l=$n[12]|0,this.v6h=$n[13]|0,this.v7l=$n[14]|0,this.v7h=$n[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,t.salt){let n=Vm(Xs(t.salt));this.v4l^=tc(n[0]),this.v4h^=tc(n[1]),this.v5l^=tc(n[2]),this.v5h^=tc(n[3])}if(t.personalization){let n=Vm(Xs(t.personalization));this.v6l^=tc(n[0]),this.v6h^=tc(n[1]),this.v7l^=tc(n[2]),this.v7h^=tc(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set(Xs(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:a,v3h:c,v4l:u,v4h:l,v5l:f,v5h:m,v6l:b,v6h:w,v7l:S,v7h:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=f|0,this.v5h=m|0,this.v6l=b|0,this.v6h=w|0,this.v7l=S|0,this.v7h=P|0}compress(t,r,n){this.get().forEach((c,u)=>be[u]=c),be.set($n,16);let{h:i,l:o}=ke.fromBig(BigInt(this.length));be[24]=$n[8]^o,be[25]=$n[9]^i,n&&(be[28]=~be[28],be[29]=~be[29]);let s=0,a=qQ;for(let c=0;c<12;c++)vd(0,4,8,12,t,r+2*a[s++]),Ad(0,4,8,12,t,r+2*a[s++]),vd(1,5,9,13,t,r+2*a[s++]),Ad(1,5,9,13,t,r+2*a[s++]),vd(2,6,10,14,t,r+2*a[s++]),Ad(2,6,10,14,t,r+2*a[s++]),vd(3,7,11,15,t,r+2*a[s++]),Ad(3,7,11,15,t,r+2*a[s++]),vd(0,5,10,15,t,r+2*a[s++]),Ad(0,5,10,15,t,r+2*a[s++]),vd(1,6,11,12,t,r+2*a[s++]),Ad(1,6,11,12,t,r+2*a[s++]),vd(2,7,8,13,t,r+2*a[s++]),Ad(2,7,8,13,t,r+2*a[s++]),vd(3,4,9,14,t,r+2*a[s++]),Ad(3,4,9,14,t,r+2*a[s++]);this.v0l^=be[0]^be[16],this.v0h^=be[1]^be[17],this.v1l^=be[2]^be[18],this.v1h^=be[3]^be[19],this.v2l^=be[4]^be[20],this.v2h^=be[5]^be[21],this.v3l^=be[6]^be[22],this.v3h^=be[7]^be[23],this.v4l^=be[8]^be[24],this.v4h^=be[9]^be[25],this.v5l^=be[10]^be[26],this.v5h^=be[11]^be[27],this.v6l^=be[12]^be[28],this.v6h^=be[13]^be[29],this.v7l^=be[14]^be[30],this.v7h^=be[15]^be[31],be.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},B0=HQ(e=>new IC(e));var Gw=ne(ph(),1);d();h();d();h();d();h();d();h();var Ed=32;function jQ(e){return d5e(e)&&h5e(e)===Ed}function Jc(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Ed*2,"0")}`}function d5e(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function h5e(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}d();h();var p5e=/^vector<(.+)>$/,y5e=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Ww=class e{static parseFromStr(t,r=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};let n=t.match(p5e);if(n)return{vector:e.parseFromStr(n[1],r)};let i=t.match(y5e);if(i)return{struct:{address:r?Jc(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:e.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,r=!1){return Ob(t).map(n=>e.parseFromStr(n,r))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${e.tagToString(t.vector)}>`;if("struct"in t){let r=t.struct,n=r.typeParams.map(e.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function m5e(e){return N.u64({name:"unsafe_u64",...e}).transform({input:t=>t,output:t=>Number(t)})}function g5e(e){return N.enum("Option",{None:null,Some:e})}var Lr=N.bytes(Ed).transform({validate:e=>{let t=typeof e=="string"?e:Cn(e);if(!t||!jQ(Jc(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>typeof e=="string"?Ms(Jc(e)):e,output:e=>Jc(Cn(e))}),ps=N.vector(N.u8()).transform({name:"ObjectDigest",input:e=>Ic(e),output:e=>Mu(new Uint8Array(e)),validate:e=>{if(Ic(e).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Lo=N.struct("SuiObjectRef",{objectId:Lr,version:N.u64(),digest:ps}),kC=N.struct("SharedObjectRef",{objectId:Lr,initialSharedVersion:N.u64(),mutable:N.bool()}),TC=N.enum("ObjectArg",{ImmOrOwnedObject:Lo,SharedObject:kC,Receiving:Lo}),PC=N.enum("CallArg",{Pure:N.struct("Pure",{bytes:N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))})}),Object:TC}),BC=N.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:N.lazy(()=>BC),struct:N.lazy(()=>DC),u16:null,u32:null,u256:null}),t6=BC.transform({input:e=>typeof e=="string"?Ww.parseFromStr(e,!0):e,output:e=>Ww.tagToString(e)}),rc=N.enum("Argument",{GasCoin:null,Input:N.u16(),Result:N.u16(),NestedResult:N.tuple([N.u16(),N.u16()])}),_C=N.struct("ProgrammableMoveCall",{package:Lr,module:N.string(),function:N.string(),typeArguments:N.vector(t6),arguments:N.vector(rc)}),CC=N.enum("Command",{MoveCall:_C,TransferObjects:N.struct("TransferObjects",{objects:N.vector(rc),address:rc}),SplitCoins:N.struct("SplitCoins",{coin:rc,amounts:N.vector(rc)}),MergeCoins:N.struct("MergeCoins",{destination:rc,sources:N.vector(rc)}),Publish:N.struct("Publish",{modules:N.vector(N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))})),dependencies:N.vector(Lr)}),MakeMoveVec:N.struct("MakeMoveVec",{type:g5e(t6).transform({input:e=>e===null?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:N.vector(rc)}),Upgrade:N.struct("Upgrade",{modules:N.vector(N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))})),dependencies:N.vector(Lr),package:Lr,ticket:rc})}),MC=N.struct("ProgrammableTransaction",{inputs:N.vector(PC),commands:N.vector(CC)}),NC=N.enum("TransactionKind",{ProgrammableTransaction:MC,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),OC=N.enum("TransactionExpiration",{None:null,Epoch:m5e()}),DC=N.struct("StructTag",{address:Lr,module:N.string(),name:N.string(),typeParams:N.vector(BC)}),UC=N.struct("GasData",{payment:N.vector(Lo),owner:Lr,price:N.u64(),budget:N.u64()}),RC=N.struct("TransactionDataV1",{kind:NC,sender:Lr,gasData:UC,expiration:OC}),LC=N.enum("TransactionData",{V1:RC}),KC=N.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),VC=N.enum("IntentVersion",{V0:null}),FC=N.enum("AppId",{Sui:null}),HC=N.struct("Intent",{scope:KC,version:VC,appId:FC});function qC(e){return N.struct(`IntentMessage<${e.name}>`,{intent:HC,value:e})}var WC=N.enum("CompressedSignature",{ED25519:N.fixedArray(64,N.u8()),Secp256k1:N.fixedArray(64,N.u8()),Secp256r1:N.fixedArray(64,N.u8()),ZkLogin:N.vector(N.u8())}),jC=N.enum("PublicKey",{ED25519:N.fixedArray(32,N.u8()),Secp256k1:N.fixedArray(33,N.u8()),Secp256r1:N.fixedArray(33,N.u8()),ZkLogin:N.vector(N.u8())}),zC=N.struct("MultiSigPkMap",{pubKey:jC,weight:N.u8()}),GC=N.struct("MultiSigPublicKey",{pk_map:N.vector(zC),threshold:N.u16()}),zQ=N.struct("MultiSig",{sigs:N.vector(WC),bitmap:N.u16(),multisig_pk:GC}),b5e=N.vector(N.u8()).transform({input:e=>typeof e=="string"?rr(e):e,output:e=>xt(new Uint8Array(e))}),$C=N.struct("SenderSignedTransaction",{intentMessage:qC(LC),txSignatures:N.vector(b5e)}),GQ=N.vector($C,{name:"SenderSignedData"});d();h();var x5e=N.enum("PackageUpgradeError",{UnableToFetchPackage:N.struct("UnableToFetchPackage",{packageId:Lr}),NotAPackage:N.struct("NotAPackage",{objectId:Lr}),IncompatibleUpgrade:null,DigestDoesNotMatch:N.struct("DigestDoesNotMatch",{digest:N.vector(N.u8())}),UnknownUpgradePolicy:N.struct("UnknownUpgradePolicy",{policy:N.u8()}),PackageIDDoesNotMatch:N.struct("PackageIDDoesNotMatch",{packageId:Lr,ticketId:Lr})}),w5e=N.struct("ModuleId",{address:Lr,name:N.string()}),$Q=N.struct("MoveLocation",{module:w5e,function:N.u16(),instruction:N.u16(),functionName:N.option(N.string())}),S5e=N.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:N.struct("IndexOutOfBounds",{idx:N.u16()}),SecondaryIndexOutOfBounds:N.struct("SecondaryIndexOutOfBounds",{resultIdx:N.u16(),secondaryIdx:N.u16()}),InvalidResultArity:N.struct("InvalidResultArity",{resultIdx:N.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),v5e=N.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),A5e=N.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:N.struct("MoveObjectTooBig",{objectSize:N.u64(),maxObjectSize:N.u64()}),MovePackageTooBig:N.struct("MovePackageTooBig",{objectSize:N.u64(),maxObjectSize:N.u64()}),CircularObjectOwnership:N.struct("CircularObjectOwnership",{object:Lr}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:N.option($Q),MoveAbort:N.tuple([$Q,N.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:N.struct("CommandArgumentError",{argIdx:N.u16(),kind:S5e}),TypeArgumentError:N.struct("TypeArgumentError",{argumentIdx:N.u16(),kind:v5e}),UnusedValueWithoutDrop:N.struct("UnusedValueWithoutDrop",{resultIdx:N.u16(),secondaryIdx:N.u16()}),InvalidPublicFunctionReturnType:N.struct("InvalidPublicFunctionReturnType",{idx:N.u16()}),InvalidTransferObject:null,EffectsTooLarge:N.struct("EffectsTooLarge",{currentSize:N.u64(),maxSize:N.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:N.struct("PackageUpgradeError",{upgradeError:x5e}),WrittenObjectsTooLarge:N.struct("WrittenObjectsTooLarge",{currentSize:N.u64(),maxSize:N.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:N.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:N.vector(Lr)}),AddressDeniedForCoin:N.struct("AddressDeniedForCoin",{address:Lr,coinType:N.string()}),CoinTypeGlobalPause:N.struct("CoinTypeGlobalPause",{coinType:N.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),YQ=N.enum("ExecutionStatus",{Success:null,Failed:N.struct("ExecutionFailed",{error:A5e,command:N.option(N.u64())})}),ZQ=N.struct("GasCostSummary",{computationCost:N.u64(),storageCost:N.u64(),storageRebate:N.u64(),nonRefundableStorageFee:N.u64()}),Fm=N.enum("Owner",{AddressOwner:Lr,ObjectOwner:Lr,Shared:N.struct("Shared",{initialSharedVersion:N.u64()}),Immutable:null}),E5e=N.struct("TransactionEffectsV1",{status:YQ,executedEpoch:N.u64(),gasUsed:ZQ,modifiedAtVersions:N.vector(N.tuple([Lr,N.u64()])),sharedObjects:N.vector(Lo),transactionDigest:ps,created:N.vector(N.tuple([Lo,Fm])),mutated:N.vector(N.tuple([Lo,Fm])),unwrapped:N.vector(N.tuple([Lo,Fm])),deleted:N.vector(Lo),unwrappedThenDeleted:N.vector(Lo),wrapped:N.vector(Lo),gasObject:N.tuple([Lo,Fm]),eventsDigest:N.option(ps),dependencies:N.vector(ps)}),YC=N.tuple([N.u64(),ps]),I5e=N.enum("ObjectIn",{NotExist:null,Exist:N.tuple([YC,Fm])}),k5e=N.enum("ObjectOut",{NotExist:null,ObjectWrite:N.tuple([ps,Fm]),PackageWrite:YC}),T5e=N.enum("IDOperation",{None:null,Created:null,Deleted:null}),P5e=N.struct("EffectsObjectChange",{inputState:I5e,outputState:k5e,idOperation:T5e}),B5e=N.enum("UnchangedSharedKind",{ReadOnlyRoot:YC,MutateDeleted:N.u64(),ReadDeleted:N.u64(),Cancelled:N.u64(),PerEpochConfig:null}),_5e=N.struct("TransactionEffectsV2",{status:YQ,executedEpoch:N.u64(),gasUsed:ZQ,transactionDigest:ps,gasObjectIndex:N.option(N.u32()),eventsDigest:N.option(ps),dependencies:N.vector(ps),lamportVersion:N.u64(),changedObjects:N.vector(N.tuple([Lr,P5e])),unchangedSharedObjects:N.vector(N.tuple([Lr,B5e])),auxDataDigest:N.option(ps)}),JQ=N.enum("TransactionEffects",{V1:E5e,V2:_5e});var lf={...N,U8:N.u8(),U16:N.u16(),U32:N.u32(),U64:N.u64(),U128:N.u128(),U256:N.u256(),ULEB128:N.uleb128(),Bool:N.bool(),String:N.string(),Address:Lr,AppId:FC,Argument:rc,CallArg:PC,CompressedSignature:WC,GasData:UC,Intent:HC,IntentMessage:qC,IntentScope:KC,IntentVersion:VC,MultiSig:zQ,MultiSigPkMap:zC,MultiSigPublicKey:GC,ObjectArg:TC,ObjectDigest:ps,ProgrammableMoveCall:_C,ProgrammableTransaction:MC,PublicKey:jC,SenderSignedData:GQ,SenderSignedTransaction:$C,SharedObjectRef:kC,StructTag:DC,SuiObjectRef:Lo,Command:CC,TransactionData:LC,TransactionDataV1:RC,TransactionExpiration:OC,TransactionKind:NC,TypeTag:t6,TransactionEffects:JQ};function r6(e,t){return lf.IntentMessage(lf.fixedArray(t.length,lf.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}d();h();var df={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},XQ={ED25519:32,Secp256k1:33,Secp256r1:33},n6={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function ZC(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Hm=class{equals(t){return ZC(this.toRawBytes(),t.toRawBytes())}toBase64(){return xt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let t=this.toSuiBytes();return xt(t)}verifyWithIntent(t,r,n){let i=r6(n,t),o=B0(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(t,r){return this.verifyWithIntent(lf.vector(lf.u8()).serialize(t).toBytes(),r,"PersonalMessage")}verifyTransaction(t,r){return this.verifyWithIntent(t,r,"TransactionData")}toSuiBytes(){let t=this.toRawBytes(),r=new Uint8Array(t.length+1);return r.set([this.flag()]),r.set(t,1),r}toSuiAddress(){return Jc(X8(B0(this.toSuiBytes(),{dkLen:32})).slice(0,Ed*2))}};d();h();var QQ=e=>{throw TypeError(e)},eee=(e,t,r)=>t.has(e)||QQ("Cannot "+r),i6=(e,t,r)=>(eee(e,t,"read from private field"),r?r.call(e):t.get(e)),o6=(e,t,r)=>t.has(e)?QQ("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),s6=(e,t,r,n)=>(eee(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),a6,c6,u6,f6,JC=class extends Error{},l6=class{constructor({url:t,fetch:r=fetch,headers:n={},queries:i={}}){o6(this,a6),o6(this,c6),o6(this,u6),o6(this,f6),s6(this,a6,t),s6(this,c6,i),s6(this,u6,n),s6(this,f6,(...o)=>r(...o))}async query(t){let r=await i6(this,f6).call(this,i6(this,a6),{method:"POST",headers:{"Content-Type":"application/json",...i6(this,u6)},body:JSON.stringify({query:typeof t.query=="string"?String(t.query):zp(t.query),variables:t.variables,extensions:t.extensions,operationName:t.operationName})});if(!r.ok)throw new JC(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(t,r){return this.query({...r,query:i6(this,c6)[t]})}};a6=new WeakMap;c6=new WeakMap;u6=new WeakMap;f6=new WeakMap;d();h();var tee=Vb();d();h();function C5e(e){if(e.length!==1)throw new Error("Invalid base64Url character: "+e);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(r===-1)throw new Error("Invalid base64Url character: "+e);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function M5e(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r),i=C5e(n);t=t.concat(i)}return t}function N5e(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=M5e(e),n=t%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let i=(t+e.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let a=0;a<r.length;a+=8){let c=r.slice(a,a+8),u=parseInt(c.join(""),2);o[s++]=u}return new TextDecoder().decode(o)}function O5e(e){if(!(e.slice(-1)==="}"||e.slice(-1)===","))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(Object.keys(t).length!==1)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}function ree(e,t){let r=N5e(e.value,e.indexMod4),[n,i]=O5e(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return i}d();h();d();h();var nee=N.struct("ZkLoginSignature",{inputs:N.struct("ZkLoginSignatureInputs",{proofPoints:N.struct("ZkLoginSignatureInputsProofPoints",{a:N.vector(N.string()),b:N.vector(N.vector(N.string())),c:N.vector(N.string())}),issBase64Details:N.struct("ZkLoginSignatureInputsClaim",{value:N.string(),indexMod4:N.u8()}),headerBase64:N.string(),addressSeed:N.string()}),maxEpoch:N.u64(),userSignature:N.vector(N.u8())});function iee(e){return nee.parse(typeof e=="string"?rr(e):e)}d();h();function D5e(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return t;return-1}function d6(e,t){let r=e.toString(16);return VQ(r.padStart(t*2,"0").slice(-t*2))}function XC(e,t){let r=d6(e,t),n=D5e(r);return n===-1?new Uint8Array([0]):r.slice(n)}var aee=e=>{throw TypeError(e)},cee=(e,t,r)=>t.has(e)||aee("Cannot "+r),hf=(e,t,r)=>(cee(e,t,"read from private field"),r?r.call(e):t.get(e)),QC=(e,t,r)=>t.has(e)?aee("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qm=(e,t,r,n)=>(cee(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),nc,jw,zw,U5e=class eM extends Hm{constructor(t,{client:r}={}){super(),QC(this,nc),QC(this,jw),QC(this,zw),qm(this,jw,r),typeof t=="string"?qm(this,nc,rr(t)):t instanceof Uint8Array?qm(this,nc,t):qm(this,nc,Uint8Array.from(t)),qm(this,zw,hf(this,nc).length!==hf(this,nc)[0]+1+32),hf(this,zw)&&qm(this,nc,oee(hf(this,nc)))}equals(t){return super.equals(t)}toSuiAddress(){if(hf(this,zw)){let t=oee(hf(this,nc),!0),r=new Uint8Array(t.length+1);return r[0]=this.flag(),r.set(t,1),Jc(X8(B0(r,{dkLen:32})).slice(0,Ed*2))}return super.toSuiAddress()}toRawBytes(){return hf(this,nc)}flag(){return df.ZkLogin}async verify(t,r){throw Error("does not support")}verifyPersonalMessage(t,r){let n=h6(r),i=new eM(n.publicKey).toSuiAddress();return see({address:i,bytes:xt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:hf(this,jw)})}verifyTransaction(t,r){let n=h6(r),i=new eM(n.publicKey).toSuiAddress();return see({address:i,bytes:xt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:hf(this,jw)})}};nc=new WeakMap;jw=new WeakMap;zw=new WeakMap;var R5e=U5e;function L5e(e,t,r){let n=r?.legacyAddress?XC(e,32):d6(e,32),i=new TextEncoder().encode(t),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new R5e(o,r)}var K5e=tee(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function oee(e,t=!1){let r=e[0]+1,n=BigInt(`0x${Cn(e.slice(r))}`),i=t?XC(n,32):d6(n,32),o=new Uint8Array(r+i.length);return o.set(e.slice(0,r),0),o.set(i,r),o}async function see({address:e,bytes:t,signature:r,intentScope:n,client:i=new l6({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:K5e,variables:{bytes:t,signature:r,intentScope:n,author:e}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function h6(e){let t=typeof e=="string"?rr(e):e;if(t[0]!==df.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=iee(r),{issBase64Details:s,addressSeed:a}=n,c=ree(s,"iss"),u=L5e(BigInt(a),c);return{serializedSignature:xt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:c,addressSeed:BigInt(a)},signature:t,publicKey:u.toRawBytes()}}function uee({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+e.length+n.length);return i.set([df[t]]),i.set(e,1),i.set(n,1+e.length),xt(i)}function fee(e){let t=rr(e),r=n6[t[0]];switch(r){case"MultiSig":let n=lf.MultiSig.parse(t.slice(1));return{serializedSignature:e,signatureScheme:r,multisig:n,bytes:t};case"ZkLogin":return h6(e);case"ED25519":case"Secp256k1":case"Secp256r1":let i=XQ[r],o=t.slice(1,t.length-i),s=t.slice(1+o.length);return{serializedSignature:e,signatureScheme:r,signature:o,publicKey:s,bytes:t};default:throw new Error("Unsupported signature scheme")}}var $w=32;var lee="suiprivkey",tM=class{async signWithIntent(t,r){let n=r6(r,t),i=B0(n,{dkLen:32});return{signature:uee({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:xt(t)}}async signTransaction(t){return this.signWithIntent(t,"TransactionData")}async signPersonalMessage(t){let{signature:r}=await this.signWithIntent(N.vector(N.u8()).serialize(t).toBytes(),"PersonalMessage");return{bytes:xt(t),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},p6=class extends tM{};function dee(e){let{prefix:t,words:r}=Gw.bech32.decode(e);if(t!==lee)throw new Error("invalid private key prefix");let n=new Uint8Array(Gw.bech32.fromWords(r)),i=n.slice(1);return{schema:n6[n[0]],secretKey:i}}function hee(e,t){if(e.length!==$w)throw new Error("Invalid bytes length");let r=df[t],n=new Uint8Array(e.length+1);return n.set([r]),n.set(e,1),Gw.bech32.encode(lee,Gw.bech32.toWords(n))}d();h();function rM(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function V5e(e){return Fv(e,"")}function pee(e){return Cn(V5e(e))}d();h();d();h();var y6=class extends wd{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,RQ(t);let n=Xs(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return uf(this),this.iHash.update(t),this}digestInto(t){uf(this),Km(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},m6=(e,t,r)=>new y6(e,t).update(r).digest();m6.create=(e,t)=>new y6(e,t);d();h();d();h();function F5e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var g6=class extends wd{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=J8(this.buffer)}update(t){uf(this);let{view:r,buffer:n,blockLen:i}=this;t=Xs(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=J8(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){uf(this),Z8(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;F5e(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=J8(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var[H5e,q5e]=ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Id=new Uint32Array(80),kd=new Uint32Array(80),nM=class extends g6{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)Id[C]=t.getUint32(r),kd[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=Id[C-15]|0,L=kd[C-15]|0,W=ke.rotrSH(R,L,1)^ke.rotrSH(R,L,8)^ke.shrSH(R,L,7),G=ke.rotrSL(R,L,1)^ke.rotrSL(R,L,8)^ke.shrSL(R,L,7),H=Id[C-2]|0,$=kd[C-2]|0,B=ke.rotrSH(H,$,19)^ke.rotrBH(H,$,61)^ke.shrSH(H,$,6),p=ke.rotrSL(H,$,19)^ke.rotrBL(H,$,61)^ke.shrSL(H,$,6),g=ke.add4L(G,p,kd[C-7],kd[C-16]),x=ke.add4H(g,W,B,Id[C-7],Id[C-16]);Id[C]=x|0,kd[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=ke.rotrSH(f,m,14)^ke.rotrSH(f,m,18)^ke.rotrBH(f,m,41),L=ke.rotrSL(f,m,14)^ke.rotrSL(f,m,18)^ke.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=ke.add5L(D,L,G,q5e[C],kd[C]),$=ke.add5H(H,M,R,W,H5e[C],Id[C]),B=H|0,p=ke.rotrSH(n,i,28)^ke.rotrBH(n,i,34)^ke.rotrBH(n,i,39),g=ke.rotrSL(n,i,28)^ke.rotrBL(n,i,34)^ke.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=ke.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=ke.add3L(B,g,A);n=ke.add3H(v,$,p,x),i=v|0}({h:n,l:i}=ke.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=ke.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=ke.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ke.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=ke.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=ke.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=ke.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=ke.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){Id.fill(0),kd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var iM=FQ(()=>new nM);var W5e=ne(gs(),1),j5e="ed25519 seed",z5e=2147483648,G5e=new RegExp("^m(\\/[0-9]+')+$"),yee=e=>e.replace("'",""),$5e=e=>{let r=m6.create(iM,j5e).update(Ms(e)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Y5e=({key:e,chainCode:t},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+e.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(e,1),o.set(new Uint8Array(n,0,n.byteLength),e.length+1);let s=m6.create(iM,t).update(o).digest(),a=s.slice(0,32),c=s.slice(32);return{key:a,chainCode:c}};var Z5e=e=>G5e.test(e)?!e.split("/").slice(1).map(yee).some(isNaN):!1,oM=(e,t,r=z5e)=>{if(!Z5e(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=$5e(t);return e.split("/").slice(1).map(yee).map(s=>parseInt(s,10)).reduce((s,a)=>Y5e(s,a+r),{key:n,chainCode:i})};d();h();var mee=ne(gs(),1);var sM=32,Yw=class extends Hm{constructor(t){if(super(),typeof t=="string"?this.data=rr(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==sM)throw new Error(`Invalid public key input. Expected ${sM} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return df.ED25519}async verify(t,r){let n;if(typeof r=="string"){let i=fee(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!ZC(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return mee.default.sign.detached.verify(t,n,this.toRawBytes())}};Yw.SIZE=sM;var aM="m/44'/784'/0'/0'/0'",Zw=class e extends p6{constructor(t){super(),t?this.keypair=t:this.keypair=_0.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new e(_0.default.sign.keyPair())}static fromSecretKey(t,r){if(typeof t=="string"){let o=dee(t);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=t.length;if(n!==$w)throw new Error(`Wrong secretKey size. Expected ${$w} bytes, got ${n}.`);let i=_0.default.sign.keyPair.fromSeed(t);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),a=_0.default.sign.detached(s,i.secretKey);if(!_0.default.sign.detached.verify(s,a,i.publicKey))throw new Error("provided secretKey is invalid")}return new e(i)}getPublicKey(){return new Yw(this.keypair.publicKey)}getSecretKey(){return hee(this.keypair.secretKey.slice(0,$w),this.getKeyScheme())}async sign(t){return _0.default.sign.detached(t,this.keypair.secretKey)}static deriveKeypair(t,r){if(r==null&&(r=aM),!rM(r))throw new Error("Invalid derivation path");let{key:n}=oM(r,pee(t));return e.fromSecretKey(n)}static deriveKeypairFromSeed(t,r){if(r==null&&(r=aM),!rM(r))throw new Error("Invalid derivation path");let{key:n}=oM(r,t);return e.fromSecretKey(n)}};var gee=()=>({type:"keyPair",sign:async(e,t)=>{let r=Zw.fromSecretKey(e.privateKey);try{let n;switch(t.signingType){case"personalMessage":{n=await r.signPersonalMessage(t.message);break}case"transaction":{n=await r.signTransaction(t.transaction);break}}return Promise.resolve({status:"success",signature:n.signature})}catch(n){return console.error(n),Promise.resolve(cr("invalidMessageEncoding"))}}});d();h();var b6=class{#e;constructor(t){this.#e=t}async signWithKeypair(t,r){if("isJWT"in r)return this.#e.keyPair.JWT.sign(t,r);if("isAgentWallet"in r)return this.#e.keyPair.Agent.sign(t,r);if("isCash"in r)return this.#e.keyPair.Cash.sign(t,r);let n=r.chainType;switch(n){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return this.#e.keyPair[n].sign(t,r);case"eip155":return this.#e.keyPair[n].sign(t,r);case"solana":return this.#e.keyPair[n].sign(t,r);case"sui":return this.#e.keyPair[n].sign(t,r)}}async signWithHardware(t,r,n){return this.#e.ledger.sign(t,r,n)}async signWithSolanaSeedVault(t,r,n){return this.#e.seedVault.sign(t,r,n)}};d();h();var bee=e=>p7.safeParse(e).success;d();h();var J5e=e=>({getSeed:t=>X5e(e,t),setSeed:(t,r)=>Q5e(e,t,r),getClientJWTSigner:(t,r)=>ePe(e,t,r),setClientJWTSigner:(t,r,n)=>tPe(e,t,r,n),getAgentWalletKeypair:t=>rPe(e,t),setAgentWalletKeypair:(t,r)=>nPe(e,t,r),removeSeeds:t=>xee(e,t),removeClientJWTKeypairs:t=>wee(e,t),removeAgentWalletKeypairs:t=>See(e,t),clear:async()=>{await xee(e,"all"),await wee(e,"all"),await See(e,"all")}}),Qs=`${Fs}.cache.secrets`,cM=e=>`${Fs}.cache.seed.${e}`,uM=e=>`${Fs}.cache.client-jwt.${e}`,fM=e=>`${Fs}.cache.agent-wallet.${e}`,X5e=async({isEnabled:e,secretsStorage:t},r)=>{if(!e())return null;let n=cM(r),i=null;try{i=await t.getSecureValue(n)}catch{}if(!i)return null;let{bytes:o,encoding:s}=i.seed;return new Uint8Array(Buffer.from(o,s))},Q5e=async({isEnabled:e,generalStorage:t,secretsStorage:r},n,i)=>{if(!e())return;let o=cM(n);await r.setSecureValue(o,{version:1,identifier:n,seed:{bytes:Buffer.from(i).toString("base64"),encoding:"base64"}});let s=await t.get(Qs);if(!s)s={version:1,seedIdentifiers:[n],clientJWTKeypairIdentifiers:[],agentWalletKeypairIdentifiers:[]};else{let a=new Set(s.seedIdentifiers);a.add(n),s.seedIdentifiers=Array.from(a)}await t.set(Qs,s)},xee=async({generalStorage:e,secretsStorage:t},r)=>{let n=await e.get(Qs);if(!n)return;let i=r==="all"?n.seedIdentifiers:r,o=new Set(i),s=n.seedIdentifiers.filter(a=>o.has(a));await t.removeSecureValue(s.map(cM)),await e.set(Qs,{version:1,seedIdentifiers:n.seedIdentifiers.filter(a=>!o.has(a)),clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers??[],agentWalletKeypairIdentifiers:n.agentWalletKeypairIdentifiers??[]})},ePe=async({isEnabled:e,secretsStorage:t},r,n)=>{if(!e())return null;let i=uM(r),o=null;try{o=await t.getSecureValue(i)}catch{}if(!o||!o.keyPairs[n])return null;let s=o.keyPairs[n],a=new Uint8Array(Buffer.from(s.p256pubkey.bytes,s.p256pubkey.encoding)),c=new Uint8Array(Buffer.from(s.p256privkey.bytes,s.p256privkey.encoding));return{p256pubkey:a,p256privkey:c}},tPe=async({isEnabled:e,generalStorage:t,secretsStorage:r},n,i,o)=>{if(!e())return;let s=uM(n),a=await r.getSecureValue(s)??{version:1,identifier:n,keyPairs:{}};a.keyPairs[i]={p256pubkey:{bytes:Ho(Buffer.from(o.p256pubkey)),encoding:"base64"},p256privkey:{bytes:Ho(Buffer.from(o.p256privkey)),encoding:"base64"}},await r.setSecureValue(s,a);let c=await t.get(Qs);if(!c)c={version:1,seedIdentifiers:[],clientJWTKeypairIdentifiers:[n],agentWalletKeypairIdentifiers:[]};else{let u=new Set(c.clientJWTKeypairIdentifiers??[]);u.add(n),c.clientJWTKeypairIdentifiers=Array.from(u)}await t.set(Qs,c)},wee=async({generalStorage:e,secretsStorage:t},r)=>{let n=await e.get(Qs);if(!n||!n.clientJWTKeypairIdentifiers||n.clientJWTKeypairIdentifiers.length===0)return;let i=r==="all"?n.clientJWTKeypairIdentifiers:r,o=new Set(i);await t.removeSecureValue(i.map(uM)),await e.set(Qs,{version:1,seedIdentifiers:n.seedIdentifiers,clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers.filter(s=>!o.has(s)),agentWalletKeypairIdentifiers:n.agentWalletKeypairIdentifiers})},rPe=async({secretsStorage:e},t)=>{let r=fM(t),n=null;try{n=await e.getSecureValue(r)}catch{}if(!n)return null;let i=n.keyPair,o=new Uint8Array(Buffer.from(i.pubkey.bytes,i.pubkey.encoding)),s=new Uint8Array(Buffer.from(i.privkey.bytes,i.privkey.encoding));return{pubkey:o,privkey:s}},nPe=async({generalStorage:e,secretsStorage:t},r,n)=>{let i=fM(r),o={pubkey:{bytes:Ho(Buffer.from(n.pubkey)),encoding:"base64"},privkey:{bytes:Ho(Buffer.from(n.privkey)),encoding:"base64"}},s={version:1,identifier:r,keyPair:o};await t.setSecureValue(i,s);let a=await e.get(Qs);if(!a)a={version:1,seedIdentifiers:[],clientJWTKeypairIdentifiers:[],agentWalletKeypairIdentifiers:[r]};else{let c=new Set(a.agentWalletKeypairIdentifiers??[]);c.add(r),a.agentWalletKeypairIdentifiers=Array.from(c)}await e.set(Qs,a)},See=async({generalStorage:e,secretsStorage:t},r)=>{let n=await e.get(Qs);if(!n||!n.agentWalletKeypairIdentifiers||n.agentWalletKeypairIdentifiers.length===0)return;let i=r==="all"?n.agentWalletKeypairIdentifiers:r,o=new Set(i);await t.removeSecureValue(i.map(fM)),await e.set(Qs,{version:1,seedIdentifiers:n.seedIdentifiers,clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers,agentWalletKeypairIdentifiers:n.agentWalletKeypairIdentifiers.filter(s=>!o.has(s))})};d();h();d();h();d();h();d();h();d();h();async function lM(e){let t=new Uint8Array(Array.from("mnemonic"+(e.passphrase??"")).map(r=>r.charCodeAt(0)));return e.pbkdf2(e.mnemonic,t,2048,64,"sha512")}d();h();var kee=ne(Pn());d();h();d();h();function dM(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function iPe(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function vee(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function oPe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dM(e.outputLen),dM(e.blockLen)}function sPe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function aPe(e,t){vee(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var cPe={number:dM,bool:iPe,bytes:vee,hash:oPe,exists:sPe,output:aPe},Ko=cPe;d();h();d();h();d();h();var uPe={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var jm=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ic=(e,t)=>e<<32-t|e>>>t,fPe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fPe)throw new Error("Non little-endian hardware is not supported");var T2t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function lPe(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Td(e){if(typeof e=="string"&&(e=lPe(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}var Wm=class{clone(){return this._cloneInto()}},dPe=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function Aee(e,t){if(t!==void 0&&(typeof t!="object"||!dPe(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}function Pd(e){let t=n=>e().update(Td(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}var x6=class extends Wm{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Ko.hash(t);let n=Td(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Ko.exists(this),this.iHash.update(t),this}digestInto(t){Ko.exists(this),Ko.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},w6=(e,t,r)=>new x6(e,t).update(r).digest();w6.create=(e,t)=>new x6(e,t);function hPe(e,t,r,n){Ko.hash(e);let i=Aee({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(Ko.number(o),Ko.number(s),Ko.number(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Td(t),u=Td(r),l=new Uint8Array(s),f=w6.create(e,c),m=f._cloneInto().update(u);return{c:o,dkLen:s,asyncTick:a,DK:l,PRF:f,PRFSalt:m}}function pPe(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function Eee(e,t,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=hPe(e,t,r,n),u,l=new Uint8Array(4),f=jm(l),m=new Uint8Array(a.outputLen);for(let b=1,w=0;w<o;b++,w+=a.outputLen){let S=s.subarray(w,w+a.outputLen);f.setInt32(0,b,!1),(u=c._cloneInto(u)).update(l).digestInto(m),S.set(m.subarray(0,S.length));for(let P=1;P<i;P++){a._cloneInto(u).update(m).digestInto(m);for(let M=0;M<S.length;M++)S[M]^=m[M]}}return pPe(a,c,s,u,m)}d();h();d();h();function yPe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var zm=class extends Wm{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=jm(this.buffer)}update(t){Ko.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=Td(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=jm(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ko.exists(this),Ko.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;yPe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=jm(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var mPe=(e,t,r)=>e&t^~e&r,gPe=(e,t,r)=>e&t^e&r^t&r,bPe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_d=new Uint32Array(64),S6=class extends zm{constructor(){super(64,32,8,!1),this.A=Bd[0]|0,this.B=Bd[1]|0,this.C=Bd[2]|0,this.D=Bd[3]|0,this.E=Bd[4]|0,this.F=Bd[5]|0,this.G=Bd[6]|0,this.H=Bd[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)_d[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=_d[f-15],b=_d[f-2],w=ic(m,7)^ic(m,18)^m>>>3,S=ic(b,17)^ic(b,19)^b>>>10;_d[f]=S+_d[f-7]+w+_d[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=ic(a,6)^ic(a,11)^ic(a,25),b=l+m+mPe(a,c,u)+bPe[f]+_d[f]|0,S=(ic(n,2)^ic(n,13)^ic(n,22))+gPe(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){_d.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},hM=class extends S6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},pM=Pd(()=>new S6),Z2t=Pd(()=>new hM);d();h();d();h();var v6=BigInt(4294967295),yM=BigInt(32);function Iee(e,t=!1){return t?{h:Number(e&v6),l:Number(e>>yM&v6)}:{h:Number(e>>yM&v6)|0,l:Number(e&v6)|0}}function xPe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=Iee(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var wPe=(e,t)=>BigInt(e>>>0)<<yM|BigInt(t>>>0),SPe=(e,t,r)=>e>>>r,vPe=(e,t,r)=>e<<32-r|t>>>r,APe=(e,t,r)=>e>>>r|t<<32-r,EPe=(e,t,r)=>e<<32-r|t>>>r,IPe=(e,t,r)=>e<<64-r|t>>>r-32,kPe=(e,t,r)=>e>>>r-32|t<<64-r,TPe=(e,t)=>t,PPe=(e,t)=>e,BPe=(e,t,r)=>e<<r|t>>>32-r,_Pe=(e,t,r)=>t<<r|e>>>32-r,CPe=(e,t,r)=>t<<r-32|e>>>64-r,MPe=(e,t,r)=>e<<r-32|t>>>64-r;function NPe(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var OPe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),DPe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,UPe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),RPe=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,LPe=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),KPe=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,VPe={fromBig:Iee,split:xPe,toBig:wPe,shrSH:SPe,shrSL:vPe,rotrSH:APe,rotrSL:EPe,rotrBH:IPe,rotrBL:kPe,rotr32H:TPe,rotr32L:PPe,rotlSH:BPe,rotlSL:_Pe,rotlBH:CPe,rotlBL:MPe,add:NPe,add3L:OPe,add3H:DPe,add4L:UPe,add4H:RPe,add5H:KPe,add5L:LPe},vt=VPe;var[FPe,HPe]=vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Cd=new Uint32Array(80),Md=new Uint32Array(80),Gm=class extends zm{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:m,Gh:b,Gl:w,Hh:S,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P]}set(t,r,n,i,o,s,a,c,u,l,f,m,b,w,S,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=S|0,this.Hl=P|0}process(t,r){for(let C=0;C<16;C++,r+=4)Cd[C]=t.getUint32(r),Md[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let R=Cd[C-15]|0,L=Md[C-15]|0,W=vt.rotrSH(R,L,1)^vt.rotrSH(R,L,8)^vt.shrSH(R,L,7),G=vt.rotrSL(R,L,1)^vt.rotrSL(R,L,8)^vt.shrSL(R,L,7),H=Cd[C-2]|0,$=Md[C-2]|0,B=vt.rotrSH(H,$,19)^vt.rotrBH(H,$,61)^vt.shrSH(H,$,6),p=vt.rotrSL(H,$,19)^vt.rotrBL(H,$,61)^vt.shrSL(H,$,6),g=vt.add4L(G,p,Md[C-7],Md[C-16]),x=vt.add4H(g,W,B,Cd[C-7],Cd[C-16]);Cd[C]=x|0,Md[C]=g|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:m,Fh:b,Fl:w,Gh:S,Gl:P,Hh:M,Hl:D}=this;for(let C=0;C<80;C++){let R=vt.rotrSH(f,m,14)^vt.rotrSH(f,m,18)^vt.rotrBH(f,m,41),L=vt.rotrSL(f,m,14)^vt.rotrSL(f,m,18)^vt.rotrBL(f,m,41),W=f&b^~f&S,G=m&w^~m&P,H=vt.add5L(D,L,G,HPe[C],Md[C]),$=vt.add5H(H,M,R,W,FPe[C],Cd[C]),B=H|0,p=vt.rotrSH(n,i,28)^vt.rotrBH(n,i,34)^vt.rotrBH(n,i,39),g=vt.rotrSL(n,i,28)^vt.rotrBL(n,i,34)^vt.rotrBL(n,i,39),x=n&o^n&a^o&a,A=i&s^i&c^s&c;M=S|0,D=P|0,S=b|0,P=w|0,b=f|0,w=m|0,{h:f,l:m}=vt.add(u|0,l|0,$|0,B|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let v=vt.add3L(B,g,A);n=vt.add3H(v,$,p,x),i=v|0}({h:n,l:i}=vt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=vt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=vt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=vt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:m}=vt.add(this.Eh|0,this.El|0,f|0,m|0),{h:b,l:w}=vt.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:S,l:P}=vt.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:M,l:D}=vt.add(this.Hh|0,this.Hl|0,M|0,D|0),this.set(n,i,o,s,a,c,u,l,f,m,b,w,S,P,M,D)}roundClean(){Cd.fill(0),Md.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},mM=class extends Gm{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},gM=class extends Gm{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},bM=class extends Gm{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},xM=Pd(()=>new Gm),sSt=Pd(()=>new mM),aSt=Pd(()=>new gM),cSt=Pd(()=>new bM);var WPe=ne(gs());d();h();var wM=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],dSt=new Set(wM);var jPe=(e,t,r,n,i)=>{let o;switch(i){case"rmd160":case"md5":case"sha":throw new Error(`${i} is unsupported by noble`);case"ripemd160":case"sha1":case"sha224":case"sha384":throw new Error(`${i} is supported by noble, but we don't need it for bip39`);case"sha256":o=pM;break;case"sha512":o=xM;break}return Eee(o,e,t,{c:r,dkLen:n})},zPe=(e,t,r)=>{for(;e.length<r;)e=t+e;return e},Tee=e=>e.map(t=>zPe(t.toString(2),"0",8)).join(""),GPe=e=>parseInt(e,2),$Pe=e=>{let r=e.length*8/32,n=pM(e);return Tee(Array.from(n)).slice(0,r)};var SM=async e=>{let t=wM;if(e.length<16)throw new Error("LessThanTwelve");if(e.length>32)throw new Error("MoreThanTwentyFour");if(e.length%4!==0)throw new Error("WrongWord");let r,n;try{r=Tee(Array.from(e))}catch{throw new Error("InvalidEntropyBits")}try{n=$Pe(e)}catch{throw new Error("InvalidChecksumBits")}let o=(r+n).match(/(.{1,11})/g);if(!o)throw new Error("InvalidChecksum");let s=o.map(u=>{let l=GPe(u);return t[l]}),a=kee.Buffer.from(s.join(" "));return{seed:await lM({mnemonic:a,pbkdf2:jPe}),mnemonic:a}};d();h();var YPe=ne(gs()),kSt=new RegExp("^m(\\/[0-9]+')+$");d();h();async function Nd(e,t){let r=await xG(e,t);if(!r)throw new Xu;let n=Xi.from(r.entropy);return r.entropy.fill(0),n}async function kn(e,t){let r,n=await e.secureCache.getSeed(t);if(n)r=n;else{let o=await Nd(e,t),{seed:s}=await o.foldAsync(SM);r=s,await e.secureCache.setSeed(t,r)}let i=Xi.from(r);return r.fill(0),i}d();h();var vM=ne(O0());function C0(e){return e.fold(vM.keccak256)}function Od(e,t,r){let n=Ju[r];return vM.keccak256(`${e}:${t}:${n}`)}function Xc(e,t,r,n){let i={};for(let o of n){let{publicKey:s}=e.keypairGenerator.generateKeypairFromSeed(t,r,o),a=Di.getAddressType(o);switch(o){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":{i[a]={chainType:a,pathType:o,publicKey:s,addresses:Object.values(En).reduce((c,u)=>({...c,[u]:Hi({publicKey:s,addressType:a,networkID:u})}),{})};break}case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44Change":case"bip44":case"deprecated":{i[a]={chainType:a,pathType:o,publicKey:Hi({publicKey:s,addressType:a})};break}case"bip44Sui":{i[a]={chainType:a,pathType:o,publicKey:s,address:Hi({publicKey:s,addressType:a})};break}default:ve(o)}}return i}async function Pee(e,t){let r=new Set,n=await wr(e);for(let o of n)o.type==="seed"&&o.seedIdentifier===t&&Ju[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return Bee(e,t,i)}async function Bee(e,t,r){try{return await ZPe(e,t,r)}catch(n){if(n instanceof Lc)return await Bee(e,t,r+1);throw n}}async function ZPe(e,t,r){let n=await kn(e,t),i=(await e.fetchChainAvailability()).enabledAddressTypes,o=La(i),s=await Od(t,r,o[0]),a={version:1,type:"seed",identifier:s,seedIdentifier:t,derivationIndex:r,chains:Xc(e,n,r,o)};return await Wi(e,a,!1),a}d();h();var Uee=ne(fA());var Ree=ne(Sx()),Lee=ne(Dee()),Kee=ne(O0());function rBe(e,t,r){let n=Ju[r];return Kee.keccak256(`${e}:${t}:${n}`)}async function Vee(e,t,r){let n=[];for(let i of r){if(i.addresses.length===0&&i.publicKeys.length===0)throw new Error("Must have at least 1 address or public key in account to add Ledger account.");let o=i.addresses[0]?.pathType||i.publicKeys[0]?.pathType,s=rBe(t,i.derivationIndex,o);Ree.initEccLib(Uee);let a=(0,Lee.ECPairFactory)(Uee),c={...i.addresses.reduce((l,f)=>{let m=Di.getAddressType(f.pathType);switch(m){case"eip155":case"solana":{l[m]={chainType:m,pathType:f.pathType,publicKey:f.value};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw new Error("Bitcoin accounts should be using public key not computed addresses");case"sui":throw new Ey("add ledger account");default:ve(m)}return l},{}),...i.publicKeys.reduce((l,f)=>{let m=Di.getAddressType(f.pathType);switch(m){case"eip155":case"solana":throw new Error("EVM or Solana accounts should be using addreses directly, not public keys");case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let b=a.fromPublicKey(Buffer.from(f.value,"hex")),w=new Uint8Array(b.publicKey);l[m]={chainType:m,pathType:f.pathType,publicKey:w,addresses:Object.values(En).reduce((S,P)=>({...S,[P]:Hi({publicKey:w,addressType:m,networkID:P})}),{})};break}case"sui":throw new Ey("add ledger account");default:ve(m)}return l},{})},u={version:1,type:"ledger",identifier:s,ledgerGroupIdentifier:t,derivationIndex:i.derivationIndex,chains:c};n.push(u),await Wi(e,u)}return n}d();h();var Fee=ne(O0());function nBe(e){return Fee.keccak256(e)}async function Hee(e,t,r,n){let i=await e.keypairGenerator.generateKeypairFromPrivateKey(r,t),o=await os(e),s=nBe(i.publicKey);if((o?.privateKeyIdentifiers??[]).includes(s))throw new Hx;let u={version:1,identifier:s,name:n,chainType:t,privateKey:Buffer.from(i.privateKey)},l=s,f;switch(t){case"eip155":case"solana":{f={version:1,type:"privateKey",identifier:l,privateKeyIdentifier:s,publicKey:Hi({publicKey:i.publicKey,addressType:t}),chainType:t};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{f={version:1,type:"privateKey",identifier:l,privateKeyIdentifier:s,publicKey:i.publicKey,addresses:Object.values(En).reduce((m,b)=>({...m,[b]:Hi({publicKey:i.publicKey,addressType:t,networkID:b})}),{}),chainType:t};break}case"sui":{f={version:1,type:"privateKey",identifier:l,privateKeyIdentifier:s,publicKey:i.publicKey,address:Hi({publicKey:i.publicKey,addressType:t}),chainType:t};break}default:ve(t)}if(!f)throw new Error("unable to create a private key account based on the address type");return await Wi(e,f),await wG(e,u),f}d();h();var qee=ne(O0());function iBe(e){return qee.keccak256(e)}async function Wee(e,t){let r=Object.values(t).find(Boolean);if(!r)throw new Vx;let n=iBe(r),i={version:1,type:"readOnly",identifier:n,addresses:t};return await Wi(e,i),i}d();h();async function jee(e,t){let r=new Set,n=await wr(e);for(let o of n)o.type==="seedless"&&o.seedIdentifier===t&&Ju[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return zee(e,t,i)}async function zee(e,t,r){try{return await oBe(e,t,r)}catch(n){if(n instanceof Lc)return await zee(e,t,r+1);throw n}}async function oBe(e,t,r){let n=await kn(e,t),i=(await e.fetchChainAvailability()).enabledAddressTypes,o=La(i),s=await Od(t,r,o[0]),a={version:1,type:"seedless",identifier:s,seedIdentifier:t,derivationIndex:r,chains:Xc(e,n,r,o)};return await Wi(e,a,!1),a}d();h();d();h();d();h();async function Zm(e,t){let r=await os(e),n=C0(t),i=r?.seedIdentifiers??[],o=r?.seedlessIdentifiers??[];return i.concat(o).includes(n)}async function E6(e,t,r,n){if((await a3(e)).length>0)throw new qE;if(n.length===0)throw new Fx;if(await Zm(e,t))throw new Hh;let s=C0(t),a=t.fold(l=>({version:1,identifier:s,name:r,entropy:new Uint8Array(l)}));await vG(e,a);let c=[],u=await kn(e,s);for(let l of n){let f=Od(s,l.derivationIndex,l.derivationPathTypes[0]),m=Xc(e,u,l.derivationIndex,l.derivationPathTypes),b={version:1,type:"seedless",identifier:f,seedIdentifier:s,derivationIndex:l.derivationIndex,chains:m};await Wi(e,b),c.push(b)}return c}async function Gee(e,t,r){let n=(await e.fetchChainAvailability()).enabledAddressTypes,i=0,o=La(n);return(await E6(e,t,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();d();h();async function I6(e,t,r,n,i=!1){let o=await Zm(e,t);if(!i&&o)throw new Hh;let s=C0(t),a=t.fold(l=>({version:1,identifier:s,name:r,entropy:new Uint8Array(l)}));await SG(e,a);let c=[],u=await kn(e,s);for(let l of n){let f=await Od(s,l.derivationIndex,l.derivationPathTypes[0]),m=Xc(e,u,l.derivationIndex,l.derivationPathTypes),b={version:1,type:"seed",identifier:f,seedIdentifier:s,derivationIndex:l.derivationIndex,chains:m};await Wi(e,b),c.push(b)}return c}async function $ee(e,t,r){let n=(await e.fetchChainAvailability()).enabledAddressTypes,i=0,o=La(n);return(await I6(e,t,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();var Yee=ne(O0());function sBe(e){return Yee.keccak256(e)}async function Zee(e,t){let r=[];for(let{publicKey:n,derivationPath:i,authToken:o}of t){let s=sBe(n),a={version:1,type:"seedVault",identifier:s,derivationPath:i,authToken:o,publicKey:n,chainType:"solana"};r.push(a),await Wi(e,a)}return r}d();h();d();h();async function k6(e,t,r){let i=(await wr(e)).find(o=>o.identifier===t);if(!i)throw new Rc;switch(i.type){case"seed":case"seedless":{let o=i.chains[r]?.pathType;if(!o)throw new Zl;let s=await kn(e,i.seedIdentifier),a=e.keypairGenerator.generateKeypairFromSeed(s,i.derivationIndex,o);return Xi.from(a.privateKey)}case"privateKey":{let o=await ed(e,i.privateKeyIdentifier);if(o.chainType!==r)throw new Zl;let s=e.keypairGenerator.generateKeypairFromPrivateKey(Xi.from(o.privateKey),r);return Xi.from(s.privateKey)}case"ledger":case"seedVault":throw new Lx;case"readOnly":throw new Kx;default:(o=>{throw new Error("invalid account type")})(i)}}d();h();d();h();d();h();function kM(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function aBe(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Jee(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function cBe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kM(e.outputLen),kM(e.blockLen)}function uBe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fBe(e,t){Jee(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var lBe={number:kM,bool:aBe,bytes:Jee,hash:cBe,exists:uBe,output:fBe},Vo=lBe;d();h();var T6=class extends Em{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Vo.hash(t);let n=fd(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Vo.exists(this),this.iHash.update(t),this}digestInto(t){Vo.exists(this),Vo.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},TM=(e,t,r)=>new T6(e,t).update(r).digest();TM.create=(e,t)=>new T6(e,t);function dBe(e,t,r,n){Vo.hash(e);let i=zJ({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(Vo.number(o),Vo.number(s),Vo.number(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=fd(t),u=fd(r),l=new Uint8Array(s),f=TM.create(e,c),m=f._cloneInto().update(u);return{c:o,dkLen:s,asyncTick:a,DK:l,PRF:f,PRFSalt:m}}function hBe(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function Xee(e,t,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=dBe(e,t,r,n),u,l=new Uint8Array(4),f=Im(l),m=new Uint8Array(a.outputLen);for(let b=1,w=0;w<o;b++,w+=a.outputLen){let S=s.subarray(w,w+a.outputLen);f.setInt32(0,b,!1),(u=c._cloneInto(u)).update(l).digestInto(m),S.set(m.subarray(0,S.length));for(let P=1;P<i;P++){a._cloneInto(u).update(m).digestInto(m);for(let M=0;M<S.length;M++)S[M]^=m[M]}}return hBe(a,c,s,u,m)}d();h();d();h();function pBe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}var P6=class extends Em{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Im(this.buffer)}update(t){Vo.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=fd(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=Im(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Vo.exists(this),Vo.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;pBe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=Im(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var yBe=(e,t,r)=>e&t^~e&r,mBe=(e,t,r)=>e&t^e&r^t&r,gBe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ud=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rd=new Uint32Array(64),B6=class extends P6{constructor(){super(64,32,8,!1),this.A=Ud[0]|0,this.B=Ud[1]|0,this.C=Ud[2]|0,this.D=Ud[3]|0,this.E=Ud[4]|0,this.F=Ud[5]|0,this.G=Ud[6]|0,this.H=Ud[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Rd[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let m=Rd[f-15],b=Rd[f-2],w=Ya(m,7)^Ya(m,18)^m>>>3,S=Ya(b,17)^Ya(b,19)^b>>>10;Rd[f]=S+Rd[f-7]+w+Rd[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let m=Ya(a,6)^Ya(a,11)^Ya(a,25),b=l+m+yBe(a,c,u)+gBe[f]+Rd[f]|0,S=(Ya(n,2)^Ya(n,13)^Ya(n,22))+mBe(n,i,o)|0;l=u,u=c,c=a,a=s+b|0,s=o,o=i,i=n,n=b+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){Rd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},PM=class extends B6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},BM=y7(()=>new B6),PEt=y7(()=>new PM);d();h();d();h();var Xw=new Error("Unknown error"),_6=new Error("Invalid entropy length"),Jw=new Error("Invalid mn*monic sentence length"),MM=new Error("Invalid checksum"),Qee=new RangeError("Invalid mn*monic word"),CM=new RangeError("Invalid wordlist"),NM=new RangeError("Invalid wordlist index"),ea=(e,t)=>{if(!e)throw t};function Ld(e){ea(e>=128,_6),ea(e<=256,_6),ea(e%32===0,_6)}function Qw(e){ea(e>=12,Jw),ea(e<=24,Jw),ea(e%3===0,Jw)}function Jm(e){ea(e.length===2048,CM),ea(e.every(t=>typeof t=="string"),CM)}function OM(e,t){return Qw(e),t(e*4/3)}async function C6(e,t){let r=e.length*8;Ld(r);let n=r/32,i=await t(e),[o]=i,s=8-n,a=o>>>s<<s>>>0,c=new Uint8Array(e.length+1);return c.set(e,0),c[c.length-1]=a,c}function M6(e){let t=(e.length-1)*8;Ld(t);let r=t/32,n=(t+r)/11,i=new ArrayBuffer(n*4),o=new DataView(i),s=0,a=0,c=0;for(let u of e)if(c+=8,a|=u<<32-c,a>>>=0,c>=11){let l=a>>>21;ea(l>=0&&l<=2047,NM),o.setUint32(s*4,l,!0),s++,a<<=11,a>>>=0,c-=11}return ea(s===n,Jw),new Uint32Array(i)}function ete(e){let t=e.length;Qw(t);let r=11,n=e.length*r,i=new ArrayBuffer(Math.ceil(n/8)),o=new DataView(i),s=new DataView(e.buffer),a=e.length,c=0,u=0,l=0,f=8;for(let m=0;m<a;m++){let b=s.getUint32(m*4,!0);ea(b<2048,NM);let w=r;for(;w>0;){let S=32-w,P=w>=f?f:w;c|=b>>32-S-P&(1<<P)-1,u+=P,c<<=f-P,c>>>=0,w-=P,f-=P,f<=0&&(f=8),u%8===0&&(o.setUint8(l,c),l++,c=0)}}return a%8!==0&&o.setUint8(l,c),new Uint8Array(i)}function DM(e){Qw(e.length);let t=ete(e),r=t.slice(0,t.length-1);return t.fill(0),r}async function Xm(e,t){let r=e.length*8;Ld(r);let n=await C6(e,t),i=M6(n);return n.fill(0),i}function UM(e,t){Jm(t);let r=new Set(t),n=new Uint32Array(24),i=0,o="";for(let a=0;a<e.length;a++){let c=e[a],u=c===32,l=a===e.length-1;if(l&&(o+=String.fromCharCode(c)),u||l){ea(r.has(o),Qee);let f=0;for(let m of t){if(o===m)break;f++}n[i++]=f,o=""}else o+=String.fromCharCode(c)}Qw(i);let s=n.slice(0,i);return n.fill(0),s}async function Qm(e,t,r){let n=await Xm(e,r),i=new Uint8Array(n.reduce((s,a)=>s+t[a].length+1,-1)),o=0;for(let s of n){o>0&&(i[o++]=32);let a=t[s];for(let c of a)i[o++]=c.charCodeAt(0)}return n.fill(0),i}var _M=Uint8Array.of(109,110,101,109,111,110,105,99);async function M0(e,t,r,n,i){let o=await Qm(e,r,n),s=new Uint8Array(_M.length+t.length);s.set(_M,0),s.set(t,_M.length);let a=await i(o,s,2048,64,"sha512");return s.fill(0),o.fill(0),a}d();h();var eg=ne(sg());d();h();var e1=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function RM(e){switch(e){case"english":return e1}}function LM(e){return t=>new e(t)}function KM(e,t){return async r=>{let n=null,i=null,o=null,s=null,a=null;try{i=DM(r),o=await C6(i,t),s=M6(o);let c=r[r.length-1],u=s[s.length-1];if(c!==u)throw MM;a=e.fromEntropy(i)}catch(c){c instanceof Error?n=c:(console.error(c),n=Xw)}finally{if(i?.fill(0),o?.fill(0),s?.fill(0),n)throw n;return a}}}function VM(e,t){return async r=>{let n=null,i=null,o=null;try{i=UM(r,t),o=await e.fromIndexes(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=Xw)}finally{if(i?.fill(0),n)throw n;return o}}}function FM(e,t){return r=>{let n=null,i=null,o=null;try{i=OM(r,t),o=e.fromEntropy(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=Xw)}finally{if(i?.fill(0),n)throw n;return o}}}var HM=class{static async webCrypto(t){let r=typeof t=="string"?await RM(t):t;Jm(r);let n=s=>self.crypto.getRandomValues(new Uint8Array(s)),i=async s=>new Uint8Array(await self.crypto.subtle.digest("SHA-256",s)),o=async(s,a,c,u,l)=>{let f="SHA-"+l.substring(3),m=await self.crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveBits"]),b=await self.crypto.subtle.deriveBits({name:"PBKDF2",salt:a,iterations:c,hash:f},m,u*8);return new Uint8Array(b)};return class t1{static fromEntropy=LM(t1);static fromIndexes=KM(t1,i);static fromMnemonic=VM(t1,r);static fromSentenceLength=FM(t1,n);static wordlist=r;#e;constructor(a){Ld(a.length*8),this.#e=a.slice()}deriveSeed=(a=new Uint8Array)=>M0(this.#e,a,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>Xm(this.#e,i);getMnemonic=()=>Qm(this.#e,r,i);getSentenceLength=()=>{let a=this.#e.length*8,c=a/32;return(a+c)/11}}}static async nodeCrypto(t){let r=typeof t=="string"?await RM(t):t;Jm(r);let n=s=>new Uint8Array((0,eg.randomBytes)(s).buffer),i=s=>new Uint8Array((0,eg.createHash)("sha256").update(s).digest().buffer),o=(...s)=>new Promise((a,c)=>{(0,eg.pbkdf2)(...s,(u,l)=>{if(u)return c(u);a(new Uint8Array(l.buffer))})});return class r1{static fromEntropy=LM(r1);static fromIndexes=KM(r1,i);static fromMnemonic=VM(r1,r);static fromSentenceLength=FM(r1,n);static wordlist=r;#e;constructor(a){Ld(a.length*8),this.#e=a.slice()}deriveSeed=(a=new Uint8Array)=>M0(this.#e,a,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>Xm(this.#e,i);getMnemonic=()=>Qm(this.#e,r,i);getSentenceLength=()=>{let a=this.#e.length*8,c=a/32;return(a+c)/11}}}static async customCrypto(t,r){let n=typeof t=="string"?await RM(t):t;Jm(n);let{random:i,sha256:o,pbkdf2:s}=r;return class n1{static fromEntropy=LM(n1);static fromIndexes=KM(n1,o);static fromMnemonic=VM(n1,n);static fromSentenceLength=FM(n1,i);static wordlist=n;#e;constructor(c){Ld(c.length*8),this.#e=c.slice()}deriveSeed=(c=new Uint8Array)=>M0(this.#e,c,n,o,s);getEntropy=()=>this.#e.slice();getIndexes=()=>Xm(this.#e,o);getMnemonic=()=>Qm(this.#e,n,o);getSentenceLength=()=>{let c=this.#e.length*8,u=c/32;return(c+u)/11}}}};async function tte(e,t){let r,n=await e.secureCache.getSeed(t);if(n)r=n;else{let o=await Nd(e,t);try{r=await o.foldAsync(async a=>M0(a,new Uint8Array,e1,BM,(c,u,l,f)=>Xee(BM,c,u,{c:l,dkLen:f})))}catch{throw new Error("InvalidEntropyBip39")}await e.secureCache.setSeed(t,r)}let i=Xi.from(r);return r.fill(0),i}var bBe=new Xu,xBe=new Zl,wBe=new qh,xr={unableToLoadAccounts:{status:"unable-to-load-accounts",isOnboarded:!1,reonboardingNeeded:!1},unonboarded:{status:"unonboarded",isOnboarded:!1,reonboardingNeeded:!1},invalidIdentifier:{status:"invalid-identifier",isOnboarded:!0,reonboardingNeeded:!0},fetchIntegrityStorageError:{status:"fetch-integrity-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchEntropyStorageError:{status:"fetch-entropy-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchPkStorageError:{status:"fetch-pk-storage-error",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropy:{status:"invalid-entropy",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBip39:{status:"invalid-entropy-bip-39",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksumBits:{status:"invalid-checksum-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBits:{status:"invalid-entropy-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksum:{status:"invalid-checksum",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthLessThanTwelve:{status:"invalid-entropy-length-less-than-twelve",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthMoreThanTwentyFour:{status:"invalid-entropy-length-more-than-twenty-four",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthWrongWord:{status:"invalid-entropy-length-wrong-word",isOnboarded:!0,reonboardingNeeded:!0},invalidPkAddressType:{status:"invalid-pk-address-type",isOnboarded:!0,reonboardingNeeded:!0},invalidPkIdentifier:{status:"invalid-pk-identifier",isOnboarded:!0,reonboardingNeeded:!0},invalidPk:{status:"invalid-pk",isOnboarded:!0,reonboardingNeeded:!0},internalError:{status:"internal-error",isOnboarded:!0,reonboardingNeeded:!0},safelyOnboarded:{status:"safely-onboarded",isOnboarded:!0,reonboardingNeeded:!1}};async function ite(e,t=!1,r=!1){let n;try{if(n=await wr(e),n.length===0)return xr.unonboarded}catch{return xr.unableToLoadAccounts}return t?SBe(e,n,r):ote(e,n)}var SBe=async(e,t,r)=>{let n=await ote(e,t);if(n.status!=="safely-onboarded")return n;try{let a=await z_(e);if(a?.version===3&&a?.isSafelyOnboarded)return xr.safelyOnboarded}catch{return xr.fetchIntegrityStorageError}let i=await nte(e,t,"seed",r),o=await nte(e,t,"seedless",r),s=await ABe(e,t);return i.status!=="safely-onboarded"?i:o.status!=="safely-onboarded"?o:s.status!=="safely-onboarded"?s:(await j_(e,{version:3,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),xr.safelyOnboarded)},ote=async(e,t)=>{try{if((await z_(e))?.isSafelyOnboarded)return xr.safelyOnboarded}catch{return xr.fetchIntegrityStorageError}let r=await rte(e,t,"seed"),n=await rte(e,t,"seedless");return r.status!=="safely-onboarded"?r:n.status!=="safely-onboarded"?n:(await j_(e,{version:1,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),xr.safelyOnboarded)},rte=async(e,t,r)=>{let n=new Set;for(let i of t)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await Nd(e,i)}catch(o){if(o instanceof Error){if(o.message===bBe.message)return xr.invalidIdentifier;if(o.message.match(/ExpoSecureStorage/))return xr.fetchEntropyStorageError}return xr.internalError}return xr.safelyOnboarded},vBe=e=>{if(!(e instanceof Error))return xr.invalidEntropy;let t=[[/ExpoSecureStorage/,xr.fetchEntropyStorageError],[/InvalidEntropyBip39/,xr.invalidEntropyBip39],[/LessThanTwelve/,xr.invalidEntropyLengthLessThanTwelve],[/MoreThanTwentyFour/,xr.invalidEntropyLengthMoreThanTwentyFour],[/WrongWord/,xr.invalidEntropyLengthWrongWord],[/InvalidChecksumBits/,xr.invalidChecksumBits],[/InvalidEntropyBits/,xr.invalidEntropyBits],[/InvalidChecksum/,xr.invalidChecksum]];for(let[r,n]of t)if(e.message.match(r))return n;return xr.invalidEntropy},nte=async(e,t,r,n)=>{let i=new Set;for(let o of t)o.type===r&&i.add(o.seedIdentifier);for(let o of i)try{n?await tte(e,o):await kn(e,o)}catch(s){return vBe(s)}return xr.safelyOnboarded},ABe=async(e,t)=>{for(let r of t)if(r.type==="privateKey")try{await k6(e,r.identifier,r.chainType)}catch(n){if(n instanceof Error){if(n.message===xBe.message)return xr.invalidPkAddressType;if(n.message===wBe.message)return xr.invalidPkIdentifier;if(n.message.match(/ExpoSecureStorage/))return xr.fetchPkStorageError}return xr.invalidPk}return xr.safelyOnboarded};d();h();async function ste(e){let t=(await e.fetchChainAvailability()).enabledAddressTypes,r=!1,n=await wr(e);if(n.length===0)return r;let i=new Map;for(let o of n){if(o.type!=="seed"&&o.type!=="seedless")continue;let s=i.get(o.seedIdentifier);s?s.push(o):i.set(o.seedIdentifier,[o])}for(let[o,s]of i){let a;for(let c of s)if(!(c.chains&&!a_(Object.values(c.chains)[0].pathType)))for(let u of t){if(c.chains[u])continue;a||(a=await kn(e,o));let f=La([u]),m=Xc(e,a,c.derivationIndex,f);c.chains={...c.chains,...m},r=!0}}return r&&await Fa(e,n),r}d();h();var fte=ne(wo());d();h();d();h();var ute=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ate=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),EBe=BigInt(1),qM=BigInt(2),cte=(e,t)=>(e+t/qM)/t;function IBe(e){let t=ute,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=hs(l,r,t)*l%t,m=hs(f,r,t)*l%t,b=hs(m,qM,t)*u%t,w=hs(b,i,t)*b%t,S=hs(w,o,t)*w%t,P=hs(S,a,t)*S%t,M=hs(P,c,t)*P%t,D=hs(M,a,t)*S%t,C=hs(D,r,t)*l%t,R=hs(C,s,t)*w%t,L=hs(R,n,t)*u%t,W=hs(L,qM,t);if(!WM.eql(WM.sqr(W),e))throw new Error("Cannot find square root");return W}var WM=j8(ute,void 0,void 0,{sqrt:IBe}),N6=G8({a:BigInt(0),b:BigInt(7),Fp:WM,n:ate,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=ate,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-EBe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=cte(o*e,t),c=cte(-n*e,t),u=Gi(e-a*r-c*i,t),l=Gi(-a*n-c*o,t),f=u>s,m=l>s;if(f&&(u=t-u),m&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:m,k2:l}}}},Y8),E3t=BigInt(0);var I3t=N6.ProjectivePoint;async function O6(e,t,r){let n=await e.secureCache.getAgentWalletKeypair(t);if(n&&!r)return{publicKey:n.pubkey,privateKey:n.privkey};let i;try{i=N6.utils.randomPrivateKey();let o=N6.getPublicKey(i);await e.secureCache.setAgentWalletKeypair(t,{pubkey:o,privkey:i});let s=i.slice();return{publicKey:o,privateKey:s}}finally{i&&i.fill(0)}}var lte=async(e,t,r)=>{let{publicKey:n}=await O6(e,t,r);return fte.default.encode(n)};d();h();d();h();var jM="m/23001'/0'";async function D6(e,t){let r;switch(t.type){case"seedless":case"seed":r=t.seedIdentifier;break;case"privateKey":r=t.privateKeyIdentifier;break}let n=await e.secureCache.getClientJWTSigner(r,jM);if(n)return{publicKey:n.p256pubkey,privateKey:n.p256privkey};let i;switch(t.type){case"seedless":case"seed":{i=(await kn(e,t.seedIdentifier)).fold(s=>new Oi(s));break}case"privateKey":{let o=await ed(e,t.privateKeyIdentifier);i=new Oi(o.privateKey);break}}try{let o=i.derivePath({ellipticCurve:"ed25519",derivationPath:jM,bytesInPrivateKey:64}),s=z8(o.secretKey,qw.CURVE.n),a=qw.getPublicKey(s);return await e.secureCache.setClientJWTSigner(r,jM,{p256pubkey:a,p256privkey:s}),{publicKey:a,privateKey:s}}finally{i.cleanup()}}var kBe=e=>e.type==="seed"||e.type==="seedless"||e.type==="privateKey",dte=async(e,t)=>{let r=await wr(e);if(r.length===0)throw new Error("No accounts, unable to get authentication public key.");let i=r.filter(kBe).find(a=>a.type==="privateKey"?a.privateKeyIdentifier===t:a.seedIdentifier===t);if(!i)throw new Error("Unable to derive authentication public key for given secret identifier.");let o=await D6(e,i);return Ho(Buffer.from(o.publicKey))};d();h();var hte=ne(wo());d();h();var TBe="m/24001'/0'",U6=async e=>{let t=await wr(e);if(t.length===0)throw new Error("No accounts, unable to derive cash key.");let r=t[0],n;switch(r.type){case"seed":case"seedless":{n=(await kn(e,r.seedIdentifier)).fold(o=>new Oi(o));break}case"privateKey":{let i=await ed(e,r.privateKeyIdentifier);n=new Oi(i.privateKey);break}default:throw new Error(`Account type ${r.type} is not supported, unable to derive cash key.`)}try{let i=n.derivePath({ellipticCurve:"ed25519",derivationPath:TBe,bytesInPrivateKey:64});return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{n.cleanup()}};var pte=async e=>{let{publicKey:t}=await U6(e);return hte.default.encode(t)};d();h();async function yte(e,t){let r=await wr(e);if(r.length===0)throw new Rc;let n=r.filter(i=>i.identifier!==t);await Fa(e,n),await W_(e)}d();h();async function mte(e,t,r){let n=await wr(e);if(r<0||r>=n.length)throw new Rc;let i=n.map(s=>s.identifier).indexOf(t);if(i<0)throw new Rc;if(i===r)return;let o=n[i];n.splice(i,1),n.splice(r,0,o),await Fa(e,n)}d();h();async function R6(e,t,r){let n=t.chains[r]?.pathType;if(!n)return cr("invalidAddressType",`Seed Account does not contain a chain address for the chain type ${r}.`);let i=await kn(e,t.seedIdentifier);return e.keypairGenerator.generateKeypairFromSeed(i,t.derivationIndex,n)}async function gte(e,t,r){let n=await wr(e),i=n.find(o=>o.identifier===t);if(!i)return cr("invalidAccountId",`Vault (${n.length} account(s) found) does not contain an account for the given identifier: ${t}`);if("isAgentWallet"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await O6(e,i.identifier);return e.vaultSigner.signWithKeypair(o,r)}default:return cr("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isJWT"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await D6(e,i);return e.vaultSigner.signWithKeypair(o,r)}default:return cr("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isCash"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await U6(e);return e.vaultSigner.signWithKeypair(o,r)}default:return cr("unsupportedOperation","Invalid signingAccount type provided for paramType")}switch(i.type){case"seedless":case"seed":{switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{enabledAddressTypes:o}=await e.fetchChainAvailability(),s={},a=Object.keys(i.chains).filter(c=>el.safeParse(c).success).filter(c=>o.includes(c));for(let c of a){let u=await R6(e,i,c);if("status"in u&&u.status==="error")return u;s[c]=u}return e.vaultSigner.signWithKeypair(s,r)}case"eip155":{let o=await R6(e,i,r.chainType);return"status"in o&&o.status==="error"?o:e.vaultSigner.signWithKeypair(o,r)}case"solana":{let o=await R6(e,i,r.chainType);return"status"in o&&o.status==="error"?o:e.vaultSigner.signWithKeypair(o,r)}case"sui":{let o=await R6(e,i,r.chainType);return"status"in o&&o.status==="error"?o:e.vaultSigner.signWithKeypair(o,r)}}break}case"privateKey":{let o=await ed(e,i.privateKeyIdentifier);if(o.chainType!==r.chainType)return cr("invalidAddressType",`Private Key account from accountID is a different chain type from params. Expected ${o.chainType}, got ${r.chainType}`);let s=e.keypairGenerator.generateKeypairFromPrivateKey(Xi.from(o.privateKey),r.chainType);switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return e.vaultSigner.signWithKeypair({[r.chainType]:s},r);case"eip155":return e.vaultSigner.signWithKeypair(s,r);case"solana":return e.vaultSigner.signWithKeypair(s,r);case"sui":return e.vaultSigner.signWithKeypair(s,r)}break}case"ledger":{let o=i.chains[r.chainType];if(!o)return cr("invalidAddressType",`Ledger Account does not contain a chain address for the chain type ${r.chainType}.`);let s=kS.safeParse({pathType:o.pathType,index:i.derivationIndex});if(!s.success)return cr("invalidDerivationPath","Unsupported Derivation Path. Ledger account derivation path type is incompatible with ChainType in signing params.");let a=Sk(s.data);return e.vaultSigner.signWithHardware(t,a,r)}case"seedVault":{let{authToken:o,derivationPath:s,chainType:a}=i;return a!==r.chainType?cr("invalidAddressType",`Solana Seed Vault account from accountID is a different chain type from params. Expected ${a}, got ${r.chainType}`):e.vaultSigner.signWithSolanaSeedVault(o,s,r)}case"readOnly":return cr("unsupportedOperation","Read Only Accounts cannot sign transactions.");default:(o=>{throw new Error("invalid account type")})(i)}}d();h();function zM(e){switch(e.type){case"seed":return i1(e);case"seedless":return o1(e);case"privateKey":return $M(e);case"ledger":return GM(e);case"seedVault":return YM(e);case"readOnly":return e}}function GM(e){let{chains:t,version:r,...n}=e,i={};for(let o of Object.keys(t)){let s=t[o];if(!s)continue;let a;switch(s.chainType){case"solana":case"eip155":{let{publicKey:c,...u}=s;a={...u,address:c};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:c,...u}=s,l=Object.values(En).reduce((f,m)=>{let b=c?c[m]:void 0;if(!b)throw new Fh;return{...f,[m]:b}},{});a={...u,addresses:l};break}case"sui":{a=s;break}}i[o]=a}return{...n,chains:i}}function $M(e){switch(e.chainType){case"solana":case"eip155":{let{publicKey:t,version:r,...n}=e;return{...n,address:t}}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:t,version:r,...n}=e,i=Object.values(En).reduce((o,s)=>{let a=t?t[s]:void 0;if(!a)throw new Fh;return{...o,[s]:a}},{});return{...n,addresses:i}}case"sui":return e}}function YM(e){let{publicKey:t,version:r,...n}=e;return{...n,address:t}}function i1(e){let{chains:t,version:r,...n}=e,i={};for(let o of Object.keys(t)){let s=t[o];if(!s)continue;let a;switch(s.chainType){case"solana":case"eip155":{let{publicKey:c,...u}=s;a={...u,address:c};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:c,...u}=s,l=Object.values(En).reduce((f,m)=>{let b=c?c[m]:void 0;if(!b)throw new Fh;return{...f,[m]:b}},{});a={...u,addresses:l};break}case"sui":{a=s;break}}i[o]=a}return{...n,chains:i}}function o1(e){let{chains:t,version:r,...n}=e,i={};for(let o of Object.keys(t)){let s=t[o];if(!s)continue;let a;switch(s.chainType){case"solana":case"eip155":{let{publicKey:c,...u}=s;a={...u,address:c};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:c,...u}=s,l=Object.values(En).reduce((f,m)=>{let b=c?c[m]:void 0;if(!b)throw new Fh;return{...f,[m]:b}},{});a={...u,addresses:l};break}case"sui":a=s}i[o]=a}return{...n,chains:i}}d();h();var XM=ne(wo());var PBe=new Set(Object.values(_t)),bte=e=>e!==null&&PBe.has(e),JM=e=>{},ZM=(e,t)=>{let r=t==="seed"?"se*d":"se*dless";if(e.derivationIndex===null||e.derivationIndex<0)return fe.addBreadcrumb("Auth",`Invalid derivation index for ${r} account: ${e.derivationIndex}`,"error"),null;let n=e.addresses.reduce((o,s)=>{if(s.pathType==="privateKey")return fe.addBreadcrumb("Auth",`Invalid path type when converting synced account to ${r} account: ${s.pathType}`,"error"),o;let a=AB(s.pathType);switch(s.pathType){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":Wl(a)?o[a]={chainType:a,publicKey:Buffer.from(s.publicKey.replace("0x",""),"hex"),addresses:{"bip122:000000000019d6689c085ae165831e93":s.address},pathType:s.pathType}:fe.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:a,pathType:s.pathType});break;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":a==="solana"?o[a]={chainType:a,publicKey:XM.default.encode(Buffer.from(s.publicKey.replace("0x",""),"hex")),pathType:s.pathType}:fe.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:a,pathType:s.pathType});break;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":a==="eip155"?o[a]={chainType:a,publicKey:s.address,pathType:s.pathType}:fe.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:a,pathType:s.pathType});break;case"bip44Sui":a==="sui"?o[a]={chainType:a,publicKey:c4(s.publicKey),address:s.address,pathType:s.pathType}:fe.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:a,pathType:s.pathType});break;default:JM(s.pathType)}return o},{});if(Object.entries(n).length===0)return fe.captureError(new Error(`Unable to convert synced account to ${r} account. No addresses found.`),"Auth"),null;let i=Yl(e);return i?{version:1,type:t,identifier:e.accountHash,seedIdentifier:i,derivationIndex:e.derivationIndex,chains:n}:(fe.captureError(new Error(`Unable to convert synced account to ${r} account. Missing account origin.`),"Auth"),null)},xte=e=>{let t=Yl(e);if(!t)return fe.captureError(new Error("Unable to convert synced account to pk account. Missing account origin."),"Auth"),null;let r=e.addresses[0];if(!r)return fe.captureError(new Error("Unable to convert synced account to pk account. No address."),"Auth"),null;let n;try{n=Uc(r.networkId,r.address)}catch{return fe.captureError(new Error("Unable to convert synced account to pk account. Unable to determine address type."),"Auth"),null}return Wl(n)?{version:1,type:"privateKey",identifier:e.accountHash,privateKeyIdentifier:t,publicKey:Buffer.from(r.publicKey.replace("0x",""),"hex"),addresses:{"bip122:000000000019d6689c085ae165831e93":r.address},chainType:n}:n==="solana"?{version:1,type:"privateKey",identifier:e.accountHash,privateKeyIdentifier:t,publicKey:XM.default.encode(Buffer.from(r.publicKey.replace("0x",""),"hex")),chainType:n}:n==="eip155"?{version:1,type:"privateKey",identifier:e.accountHash,privateKeyIdentifier:t,publicKey:r.address,chainType:n}:n==="sui"?{version:1,type:"privateKey",identifier:e.accountHash,privateKeyIdentifier:t,publicKey:c4(r.publicKey),address:r.address,chainType:n}:(ve(n),null)},wte=async(e,t)=>{let r=await wr(e),n=await os(e),i=new Set(n.seedIdentifiers),o=new Set(n.seedlessIdentifiers),s=new Set(n.privateKeyIdentifiers);for(let c=0;c<r.length;++c){let u=r[c],l=t[u.identifier];if(delete t[u.identifier],!l||u.type!=="readOnly")continue;let f=Oy(l),m=Yl(l);if(!bte(f)||!m)continue;let b=null;switch(f){case"seed":case"seedless":try{(i.has(m)||o.has(m))&&(b=ZM(l,f))}catch{}break;case"privateKey":try{s.has(m)&&(b=xte(l))}catch{}break;default:JM(f)}b&&(r[c]=b)}let a=[...r];for(let c of Object.values(t)){if(c.addresses.length===0)continue;let u=Oy(c),l=Yl(c);if(!(!bte(u)||!l))switch(u){case"seed":if(i.has(l)){let f=ZM(c,u);f&&a.push(f)}break;case"seedless":if(o.has(l)){let f=ZM(c,u);f&&a.push(f)}break;case"privateKey":if(s.has(l)){let f=xte(c);f&&a.push(f)}break;default:JM(u)}}return await Fa(e,a),!1};function BBe(e){return{addSeedWithDefaultAccount:(t,r)=>$ee(e,t,r).then(i1),addAccountForExistingSeed:t=>Pee(e,t).then(i1),addSeedWithMultipleAccounts:(t,r,n,i)=>I6(e,t,r,n,i).then(o=>o.map(i1)),addPrivateKeyAccount:(t,r,n)=>Hee(e,t,r,n).then($M),addLedgerAccounts:(t,r)=>Vee(e,t,r).then(n=>n.map(GM)),addSolanaSeedVaultAccounts:t=>Zee(e,t).then(r=>r.map(YM)),addReadonlyAccount:t=>Wee(e,t),deriveAddresses:()=>ste(e),removeAccount:t=>yte(e,t),reorderAccount:(t,r)=>mte(e,t,r),exportEntropy:t=>Nd(e,t),exportPrivateKey:(t,r)=>k6(e,t,r),fetchAllAccounts:()=>wr(e).then(t=>t.map(zM)),fetchAllSeedMetas:()=>bG(e),fetchAllSeedlessMetas:()=>a3(e),sign:(t,r)=>gte(e,t,r),isExistingSeed:t=>Zm(e,t),checkVaultIntegrity:t=>ite(e,t),clearVault:()=>AG(e),addSeedlessWithMultipleAccounts:(t,r,n)=>E6(e,t,r,n).then(i=>i.map(o1)),addSeedlessWithDefaultAccount:(t,r)=>Gee(e,t,r).then(o1),addAccountForExistingSeedless:t=>jee(e,t).then(o1),getAuthenticationPublicKey:t=>dte(e,t),getCashAddress:()=>pte(e),getAgentAddress:(t,r)=>lte(e,t,r),syncAccounts:t=>wte(e,t)}}d();h();d();h();var _6t=bf(Rn,e=>new L6(e)),L6=class{#e;constructor(t){this.#e=t}onMigrateInvalidChecksum(){this.#e.capture("migrationMultichainMigrateInvalidChecksum")}onAccountsOnlyMigrationStarted(){this.#e.capture("migrationMultichainAccountOnlyMigrationStarted")}onAccountsOnlyMigrationSettled(t){this.#e.capture("migrationMultichainAccountOnlyMigrationSettled",{data:{isSuccess:t}})}onMigrationFailureFlowOpened(){this.#e.capture("migrationFailureOpen")}onMigrationFailureUnableToFetchLegacyMnemonic(t){this.#e.capture("migrationFailureUnableToFetchLegacyMnemonic",{data:{reason:t}})}onCanStartMigrationResult(t){t.result||this.#e.capture("migrationMultichainCannotStart",{data:{reason:t.reason}})}onMigrationStarted(){this.#e.capture("migrationMultichainStarted")}onMigrationSettled(t,r){this.#e.capture("migrationMultichain",{data:{isGTM:t,isSuccess:r}})}onMigrationSecureStore(){this.#e.capture("migrationSecureStore")}};d();h();var Ste=()=>bf(Rn,e=>new K6(e))(),K6=class{#e;constructor(t){this.#e=t}identifyAccount=async(t,r,n)=>{let i=!!r.addresses.find(m=>re.isSolanaNetworkID(m.networkID)),o=!!r.addresses.find(m=>re.isEthereumNetworkID(m.networkID)),s=!!r.addresses.find(m=>re.isBitcoinNetworkID(m.networkID)),a=!!r.addresses.find(m=>re.isSuiNetworkID(m.networkID)),c={hasSolanaAddress:i,hasEthereumAddress:o,hasBitcoinAddress:s,hasSuiAddress:a},u=n.enabledChainIDs.map(m=>re[m].name).join(", "),l=new Set,f=new Set;for(let m of t)switch(m.type){case"seed":case"seedless":l.add(m.seedIdentifier);break;case"readOnly":break;case"privateKey":case"ledger":case"seedVault":f.add(m.identifier);break;default:ve(m);break}switch(r.type){case"seed":case"seedless":this.#e.identify(r.identifier,{...c,accountType:r.type,rootID:r.seedIdentifier,rootIds:Array.from(l),accountIds:Array.from(f),isReadOnly:!1,enabledChains:u});break;case"readOnly":this.#e.identify(r.identifier,{...c,accountType:r.type,isReadOnly:!0,enabledChains:u});break;case"privateKey":case"ledger":case"seedVault":this.#e.identify(r.identifier,{...c,accountType:r.type,rootIds:Array.from(l),accountIds:Array.from(f),isReadOnly:!1,enabledChains:u});break;default:ve(r)}};onAppSessionStart=t=>{let r=new Map;for(let n of t){if(n.type==="readOnly")continue;let{addresses:i,identifier:o}=n;for(let s of i){let a=re.getChainName(s.networkID),c={type:n.type,accountId:o,id:s.address};if(!r.get(a))r.set(a,[c]);else{let u=r.get(a)??[];r.set(a,[...u,c])}}}this.#e.capture("appSessionStart",{data:{ids:Object.fromEntries(r)}})}};d();h();d();h();d();h();d();h();d();h();var V6=ne(Fr());d();h();var oc=()=>{let e=Te(),{data:[t,r],isLoading:n}=uc(["enable-monad","enable-arbitrum"]);return Yt({enabled:!n,queryKey:CE.chainAvailability({isMonadEnabled:t,isArbitrumEnabled:r}),queryFn:()=>Kh(e,t,r)})};d();h();var QM=()=>{let e=Me(),t=Te();return Ne({mutationFn:async({addressTypes:n})=>{for(let i of n)await Vj(i,t);Zu(e)}})};d();h();var _Be=()=>{let e=Te(),t=Me();return Ne({mutationFn:async({chainIDs:n})=>{for(let i of n)await Uj(i,e);Zu(t)}})};d();h();d();h();d();h();var tg=ne(Fr()),vte=(0,tg.createContext)(null);function CBe({children:e,vault:t}){return tg.default.createElement(vte.Provider,{value:t},e)}function Er(){let e=(0,tg.useContext)(vte);if(!e)throw new Error("useVaultProxy must be used within a VaultProxyProvider");return e}var eN=()=>{let e=Me(),t=Te(),r=Er();return Ne({mutationFn:async({addressTypes:i})=>{for(let o of i)await Kj(o,t);await r.deriveAddresses(),await Zu(e)}})};d();h();var MBe=()=>{let e=Te(),t=Me(),r=Er();return Ne({mutationFn:async({chainIDs:i})=>{for(let o of i)await HB(o,e);await r.deriveAddresses(),await Zu(t)}})};d();h();var NBe=()=>{let e=Te(),{mutateAsync:t}=QM(),{mutateAsync:r}=eN();return Ne({mutationFn:async({addressTypes:i})=>{if(await Rj(e))await r({addressTypes:i});else{let s=new Set(re.bitcoin.addressTypes);for(let a of i)s.delete(a);if(s.size===re.bitcoin.addressTypes.length&&s.delete("bip122_p2wpkh"),s.size>0){let a=Array.from(s);await t({addressTypes:a})}}}})};var tN=re.getAllChainIDs().filter(e=>re.isChainDefaultEnabled(e,!1)),Ate=tN.map(e=>re.getMainnetNetworkID(e)),OBe=Ate.flatMap(e=>re.getAddressTypes(e)),Ete=()=>oc().data?.enabledAddressTypes??OBe,rg=()=>oc().data?.enabledChainIDs??tN,wkt=()=>oc().data?.supportedChainIDs??tN,Skt=e=>{let t=oc().data;return t?e?t.enabledNetworkIDs:t.enabledMainnetOnlyNetworkIDs:Ate},vkt=()=>rg().length===1,Akt=()=>{let e=rg();return(0,V6.useMemo)(()=>re.getChainIDs("eip155").some(t=>e.includes(t)),[e])},Ekt=()=>{let e=rg();return(0,V6.useMemo)(()=>e.length===1&&e.includes("solana"),[e])},Ikt=e=>{let t=rg();return(0,V6.useMemo)(()=>e.map(r=>t.includes(r)),[t,e])};d();h();d();h();d();h();var Ite=async(e,t)=>(await Yx(e,t))?.balance,kte=async e=>await Zx(e);d();h();var $i="@phantom/accounts",rN=`${$i}:account-identifier`,nN=`${$i}:selected-account`,F6=`${$i}:all-accounts`,iN=`${$i}:all-seeds`,DBe=`${$i}:all-secrets`,Rkt=`${$i}:account-balance`,yt={accountBalance(e){return[`${$i}:account-balance`,{identifier:e}]},allAccountBalances(){return[`${$i}:all-account-balances`]},allAccounts(e){let t=e?{chainAvailability:{enabledChainIDs:e.enabledChainIDs,enabledAddressTypes:e.enabledAddressTypes}}:{};return[F6,{chainAvailabilityQueryObject:t}]},allSeeds(e){return[iN,e]},allSecretIdentifiers(){return[DBe]},developerMode(){return[`${$i}:developer-mode`]},accountIdentifier(e){return[rN,{identifier:e}]},selectedAccount(e){let t=e?{chainAvailability:{enabledChainIDs:e.enabledChainIDs,enabledAddressTypes:e.enabledAddressTypes}}:{};return[nN,t]},selectedAccountIdentifier(){return[`${$i}:selected-account-identifier`]},selectedNetworkSetting(e){return[`${$i}:selected-network-setting`,{isSuiTestnetEnabled:e}]},trustedApps(){return[`${$i}:trusted-apps`]},migratedWithInvalidChecksum(){return[`${$i}:migrated-with-invalid-checksum`]},syncUserAccounts(){return[`${$i}:sync-user-accounts`]},accountsEligibleToClaim(e,t,r){return[`${$i}:are-accounts-eligible-to-claim`,{username:e,selectedAccountIdentifier:t,solanaAddresses:r}]},patchProfileAddresses(e){return[`${$i}:patch-profile-addresses`,e]}};var UBe=(e,t=!0)=>{let r=Te(),n=t&&!!e,i=yt.accountBalance(e||"");return Yt({queryKey:i,queryFn:async()=>{try{return e&&await Ite(r,e)||null}catch(s){throw s instanceof Error&&fe.captureError(s,"account"),s}},enabled:n})},RBe=(e=!0)=>{let t=Te(),r=yt.allAccountBalances();return Yt({queryKey:r,queryFn:async()=>{try{return await kte(t)}catch(i){throw i instanceof Error&&fe.captureError(i,"account"),i}},enabled:e})};d();h();function N0(e){let{isSuccess:t,data:r}=oc(),n=Er(),i=yt.allAccounts(r),o=Te();return Yt({enabled:t,queryKey:i,queryFn:async()=>{if(!r)throw new Error(Wx);let a=await zh(n,o,r);return fe.addBreadcrumb("account",`Finished fetching all accounts. Num accounts: ${a.length}`,"info"),a},select:e})}var H6=()=>{let{isSuccess:e,isFetching:t,data:r=[]}=N0(),n=e&&!t&&!!r.length;return n?{enabled:n,accounts:r}:{enabled:n}};d();h();var lr=async e=>{await e.invalidateQueries({queryKey:[iN]}),await e.invalidateQueries({queryKey:[F6],predicate:t=>t.queryKey[0]===F6}),await e.invalidateQueries({queryKey:[rN]}),await q6(e)},q6=async e=>{await e.invalidateQueries({predicate:t=>typeof t.queryKey[0]=="string"&&t.queryKey[0]===nN}),await e.invalidateQueries({queryKey:yt.selectedAccountIdentifier()})};qB(lr);d();h();d();h();d();h();var ki=[];for(let e=0;e<256;++e)ki.push((e+256).toString(16).slice(1));function Tte(e,t=0){return(ki[e[t+0]]+ki[e[t+1]]+ki[e[t+2]]+ki[e[t+3]]+"-"+ki[e[t+4]]+ki[e[t+5]]+"-"+ki[e[t+6]]+ki[e[t+7]]+"-"+ki[e[t+8]]+ki[e[t+9]]+"-"+ki[e[t+10]]+ki[e[t+11]]+ki[e[t+12]]+ki[e[t+13]]+ki[e[t+14]]+ki[e[t+15]]).toLowerCase()}d();h();var oN,LBe=new Uint8Array(16);function sN(){if(!oN){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oN=self.crypto.getRandomValues.bind(self.crypto)}return oN(LBe)}d();h();d();h();var KBe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),aN={randomUUID:KBe};function VBe(e,t,r){if(aN.randomUUID&&!t&&!e)return aN.randomUUID();e=e||{};let n=e.random??e.rng?.()??sN();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Tte(n)}var cN=VBe;d();h();function W6(){let e=Te(),t=Me();return Ne({mutationFn:async({metadataBatch:o})=>{fe.addBreadcrumb("account",`Adding Account Metadata Batch: ${Object.entries(o).length} entries`,"info"),await $x(e,o)},onSuccess:async()=>{await lr(t)},onError:o=>{fe.captureError(o,"account")}})}function FBe(){let{mutateAsync:e}=W6(),t=Te(),r=Me(),n=Er(),{t:i}=hu();return Ne({mutationFn:async({accounts:c,pairedBLEDevice:u})=>{let l=cN(),f=await n.connectLedgerAccounts(l,c),m=f.reduce((w,S,P)=>{let{name:M,accountIndex:D}=c[P],C;!M||M.length===0?C=i("onboardingImportAccountsLedgerAccountName",{walletIndex:1+D}):C=M;let R;u&&(R=[{...u,version:1,connectionType:"ble",deviceType:"ledger"}]);let L={name:C,icon:void 0,connectedDevices:R};return w[S.identifier]=L,w},{});await e({metadataBatch:m});let b=f[0]?.identifier;return b||(b=(await n.fetchAllAccounts())[0].identifier),await rs(t,b),r.setQueryData(yt.selectedAccountIdentifier(),b),f},onSettled:async()=>{await lr(r)},onError:c=>fe.captureError(c,"account")})}d();h();var Pte=ne(Fr());var HBe=e=>{if(e){switch(e.type){case"seed":case"seedless":return e.seedIdentifier;case"privateKey":case"ledger":case"seedVault":case"readOnly":return}ve(e)}};function ta({select:e,updateESPUserProperties:t}={}){let r=(0,Pte.useMemo)(()=>Ji.isFeatureEnabled("frontend-enable-esp-user-properties-update"),[]),{isSuccess:n,data:i}=oc(),o=H6(),s=o.enabled&&n,a=b1(),c=Te(),u=Ste(),l=yt.selectedAccount(i);return Yt({queryKey:l,queryFn:async()=>{try{if(!i)throw new Error(Wx);if(!o.enabled)throw new Error(Dy);let m=await Qu(o.accounts,c);if(fe.addBreadcrumb("account",`Finished fetching selected account: ${m.identifier}`,"info"),r&&t){let b=m.addresses.map(w=>w.address)??[];Promise.all(b.map(w=>t(w,xf.language)))}return Ji.setSubjectAttributes({rootID:HBe(m)}),a(),u.identifyAccount(o.accounts,m,i),m}catch(m){throw m instanceof Error&&fe.captureError(m,"account"),m}},enabled:s,select:e})}d();h();function qBe(){let e=Te(),t=Me();return Ne({mutationFn:async({identifier:i,balance:o})=>(await P_(e,i,o),{identifier:i,balance:o}),onSuccess:({identifier:i,balance:o})=>{i&&t.invalidateQueries({queryKey:yt.accountBalance(i)}),o&&t.invalidateQueries({queryKey:yt.allAccountBalances()})}})}d();h();var Bte=ne(Fr());var s1=()=>{let{data:e}=ta();return(0,Bte.useMemo)(()=>{let t=e?.addresses??[];return[...new Set(t.map(r=>r.networkID))]},[e])};d();h();d();h();function uN(){let e=Te();return Yt(_te(e))}function _te(e){return{queryKey:yt.developerMode(),queryFn:async()=>await e.get("developerMode")||WB}}var WBe=()=>{let{data:e}=uN();return!!e?.isDeveloperMode},jBe=()=>s1().some(t=>re.isLocalNetworkID(t));d();h();var Cte=ne(Fr());var zBe=e=>{let t=(0,Cte.useMemo)(()=>{if(e){if(GBe(e))return n=>n.address===e.address&&n.networkID===e.networkID;if(re.isNetworkID(e))return n=>n.networkID===e;if(B5(e))return n=>n.addressType===e;throw new Error(`Unrecognized filter type: ${e}`)}else return()=>!1},[e]);return ta({select:n=>{let i=n.addresses.filter(t);if(i.length>1)throw new Error(`Multiple addresses match filter: ${e}`);return i[0]}})};function GBe(e){return typeof e=="object"&&"address"in e&&(typeof e.address=="string"||e.address===void 0)&&"networkID"in e}d();h();var Mte=ne(Fr()),$Be=({accountBalance:e,accountId:t,enabled:r,value:n,setAccountBalance:i})=>{(0,Mte.useEffect)(()=>{if(r&&t&&n!==void 0&&n!==e){let o=Date.now();i({identifier:t,balance:{timestamp:o,value:n}})}},[e,t,r,n,i])};d();h();d();h();function YBe(e){let t=H6(),r=t.enabled&&e.length>0,n=yt.accountIdentifier(e);return Yt({enabled:r,queryKey:n,queryFn:async()=>{try{if(fe.addBreadcrumb("account",`Fetching Account: ${e}`,"info"),!t.enabled)throw new Error(Dy);let{accounts:o}=t,s=o.find(a=>a.identifier===e);if(!s)throw new Error(uz(o.length,e));return s}catch(o){throw o instanceof Error&&fe.captureError(o,"account"),o}}})}d();h();d();h();function ZBe(){let e=Te(),t=Me(),r=Er();return Ne({mutationFn:async({name:a,addresses:c,icon:u})=>{let l=await r.addReadonlyAccount(c),f={name:a,icon:u};return await Xl(e,l.identifier,f),await rs(e,l.identifier),l},onSettled:async()=>{await lr(t)},onSuccess:a=>{t.setQueryData(yt.selectedAccountIdentifier(),a.identifier)},onError:a=>fe.captureError(a,"account")})}d();h();function JBe(){let{t:e}=hu(),t=Te(),r=Me(),n=ir(),{fetchAllAccounts:i,addAccountForSeed:o,addAccountForSeedless:s,fetchAllSeedlessMetas:a}=Er();return Ne({mutationFn:async({name:m,icon:b,seedIdentifier:w})=>{fe.addBreadcrumb("account",`Adding new account for s**d: ${w}`,"info");let P=(await a()).find(D=>D.identifier===w),M=P?await s(w):await o(w);return await Xl(t,M.identifier,{name:m||e("onboardingImportAccountsAccountName",{walletIndex:(await i()).length}),icon:b}),await rs(t,M.identifier),P&&n.uploadSyncedAccount(M.identifier),M},onSettled:async()=>{await lr(r)},onSuccess:m=>{r.setQueryData(yt.selectedAccountIdentifier(),m.identifier)},onError:m=>fe.captureError(m,"account")})}d();h();d();h();function a1(e){let t=Er(),r=yt.allSeeds(e);return Yt({queryKey:r,queryFn:async()=>{try{let i;switch(e){case"all":{let o=await t.fetchAllSeedMetas();i=[...await t.fetchAllSeedlessMetas(),...o];break}case"local-only":{i=[...await t.fetchAllSeedMetas()];break}case"recoverable-only":{i=[...await t.fetchAllSeedlessMetas()];break}}return i}catch(i){throw i instanceof Error&&fe.captureError(i,"account"),i}}})}d();h();d();h();function XBe(){let e=Te(),t=Me(),r=Er();return Ne({mutationFn:async({chainType:s,privateKey:a,name:c,icon:u})=>{fe.addBreadcrumb("account","Importing Private Key Account... \u23F3","info");let l=await r.importPrivateKeyAccount(s,a),f={name:c,icon:u};return await Xl(e,l.identifier,f),await rs(e,l.identifier),fe.addBreadcrumb("account",`Imported Private Key Account \u2705: ${l.identifier}`,"info"),l},onSettled:async()=>{await lr(t)},onSuccess:s=>{t.setQueryData(yt.selectedAccountIdentifier(),s.identifier)}})}d();h();d();h();function QBe(){let{data:[e]}=uc(["enable-sui-testnet"]),t=yt.selectedNetworkSetting(e),r=Te();return Yt({queryKey:t,queryFn:()=>Ky(r)})}d();h();function e_e(){let e=Te(),t=Rn(),r=Er(),n=Me(),i=ir();return Ne({mutationFn:async({identifier:a})=>{fe.addBreadcrumb("account",`Removing Account... \u23F3: ${a}`,"info"),await Promise.all([r.removeAccount(a),Jx(e,a)]),await Qu(await r.fetchAllAccounts(),e),t.capture("removeAccount"),i.deleteSyncedAccount(a),fe.addBreadcrumb("account",`Removed Account \u2705: ${a}`,"info")},onSuccess:async()=>{await lr(n)}})}d();h();function t_e(){let e=Te(),t=Rn(),r=Me(),n=Er();return Ne({mutationFn:async({seedIdentifier:a})=>{let c=await n.fetchAllAccounts(),u=[];for(let l of c)switch(l.type){case"privateKey":case"ledger":case"seedVault":case"readOnly":continue;case"seed":case"seedless":l.seedIdentifier===a&&u.push(l.identifier);break;default:ve(l)}for(let l of u)await Promise.all([n.removeAccount(l),Jx(e,l)]);t.capture("removeSeed",{data:{numOfAccounts:u.length}})},onSuccess:()=>{lr(r)},onError:a=>{fe.captureError(a,"account")}})}d();h();function r_e(){let e=Te(),t=Me(),r=ir();return Ne({mutationFn:async({identifier:s,name:a})=>{fe.addBreadcrumb("account","Renaming Multichain Account","info"),await k_(e,s,a),r.uploadSyncedAccounts()},onSuccess:async()=>{await lr(t)},onError:s=>fe.captureError(s,"account")})}d();h();function n_e(){let e=Me(),t=Er();return Ne({mutationFn:async({identifier:i,toIndex:o})=>{await t.reorderAccount(i,o)},onSuccess:()=>{lr(e)}})}d();h();function i_e(){let e=yt.selectedAccountIdentifier(),t=Te(),r=Er();return Yt({queryKey:e,queryFn:async()=>{try{let i=await r.fetchAllAccounts(),s=(await Qu(i,t)).identifier;if(!s)throw new Error("Unable to resolve selected account identifier => no available accounts or identifier!");return s}catch(i){throw i instanceof Error&&fe.captureError(i,"account"),i}}})}d();h();function o_e(){let e=Te(),t=Me();return Ne({mutationFn:async({developerMode:i})=>{t.setQueryData(yt.developerMode(),i),await e.set("developerMode",i)},onSuccess:()=>{lr(t)}})}d();h();function s_e(){let e=Te(),t=Me(),r=ir();return Ne({mutationFn:async({identifier:o,icon:s})=>{fe.addBreadcrumb("account","Setting Multichain Account Icon","info"),await T_(e,o,s),r.uploadSyncedAccounts()},onSuccess:async()=>{await lr(t)}})}d();h();function a_e(){let e=Te(),t=Me(),{data:[r]}=uc(["enable-sui-testnet"]);return Ne({mutationFn:async({networkSetting:o})=>{t.setQueryData(yt.selectedNetworkSetting(r),o),await e.set("networkSetting",o)},onSuccess:()=>{lr(t)}})}d();h();function c_e(){let e=Te(),t=Rn(),r=Me();return Ne({mutationFn:async({identifier:s})=>(await rs(e,s),t.capture("changeAccount",{data:{identifier:s}}),s),onSuccess:s=>{q6(r),r.setQueryData(yt.selectedAccountIdentifier(),s)},onError:s=>fe.captureError(s,"account")})}d();h();var u_e=()=>{let e=Me(),t=ir(),r=L0(),n=yt.syncUserAccounts();return Yt({enabled:r,queryKey:n,queryFn:async()=>{let o=!1;try{o=await t.downloadSyncedAccounts()}catch{return!1}return o&&await lr(e),o},gcTime:1/0,staleTime:1/0})};d();h();var Nte=ne(Fr());var f_e=()=>{let{data:e,isFetching:t}=N0(),{data:r,isFetching:n}=ta(),i=s1();return(0,Nte.useMemo)(()=>({data:{"All Accounts":e,"Selected Account":r??null,"Selected Networks":i.map(o=>re.getNetworkName(o))},isFetching:t||n}),[e,t,n,r,i])};d();h();var Ote=ne(Fr()),l_e=(e=[])=>{let t=rg();return(0,Ote.useMemo)(()=>e.filter(r=>{let n=re.getParentChain(r.networkID);return n?t.includes(n):!1}),[e,t])};d();h();var ore=ne(kre()),Q6=ne(Fr());d();h();var Vr=ne(Fr(),1),l1=e=>e.type==="checkbox",ig=e=>e instanceof Date,Fo=e=>e==null,jte=e=>typeof e=="object",ui=e=>!Fo(e)&&!Array.isArray(e)&&jte(e)&&!ig(e),zte=e=>ui(e)&&e.target?l1(e.target)?e.target.checked:e.target.value:e,d_e=e=>e.substring(0,e.search(/.\d/))||e,Gte=(e,t)=>[...e].some(r=>d_e(t)===r),Z6=e=>e.filter(Boolean),gn=e=>e===void 0,Se=(e,t,r)=>{if(!t||!ui(e))return r;let n=Z6(t.split(/[,[\].]+?/)).reduce((i,o)=>Fo(i)?i:i[o],e);return gn(n)||n===e?gn(e[t])?r:e[t]:n},hN={BLUR:"blur",CHANGE:"change"},sc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mN=(e,t)=>{let r=Object.assign({},e);return delete r[t],r},h_e=Vr.default.createContext(null),gN=()=>Vr.default.useContext(h_e);var $te=(e,t,r,n=!0)=>{function i(s){return()=>{if(s in e)return t[s]!==sc.all&&(t[s]=!n||sc.all),r&&(r[s]=!0),e[s]}}let o={};for(let s in e)Object.defineProperty(o,s,{get:i(s)});return o},ys=e=>ui(e)&&!Object.keys(e).length,Yte=(e,t,r)=>{let n=mN(e,"name");return ys(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(i=>t[i]===(!r||sc.all))},j6=e=>Array.isArray(e)?e:[e],Zte=(e,t,r)=>r&&t?e===t:!e||!t||e===t||j6(e).some(n=>n&&(n.startsWith(t)||t.startsWith(n)));function bN(e){let t=Vr.default.useRef(e);t.current=e,Vr.default.useEffect(()=>{let r=i=>{i&&i.unsubscribe()},n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>r(n)},[e.disabled])}function p_e(e){let t=gN(),{control:r=t.control,disabled:n,name:i,exact:o}=e||{},[s,a]=Vr.default.useState(r._formState),c=Vr.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Vr.default.useRef(i),l=Vr.default.useRef(!0);u.current=i;let f=Vr.default.useCallback(m=>l.current&&Zte(u.current,m.name,o)&&Yte(m,c.current)&&a(Object.assign(Object.assign({},r._formState),m)),[r,o]);return bN({disabled:n,callback:f,subject:r._subjects.state}),Vr.default.useEffect(()=>()=>{l.current=!1},[]),$te(s,r._proxyFormState,c.current,!1)}var Qc=e=>typeof e=="string",Jte=(e,t,r,n)=>{let i=Array.isArray(e);return Qc(e)?(n&&t.watch.add(e),Se(r,e)):i?e.map(o=>(n&&t.watch.add(o),Se(r,o))):(n&&(t.watchAll=!0),r)},J6=e=>typeof e=="function",xN=e=>{for(let t in e)if(J6(e[t]))return!0;return!1};function y_e(e){let t=gN(),{control:r=t.control,name:n,defaultValue:i,disabled:o,exact:s}=e||{},a=Vr.default.useRef(n);a.current=n;let c=Vr.default.useCallback(f=>{if(Zte(a.current,f.name,s)){let m=Jte(a.current,r._names,f.values||r._formValues);l(gn(a.current)||ui(m)&&!xN(m)?Object.assign({},m):Array.isArray(m)?[...m]:gn(m)?i:m)}},[r,s,i]);bN({disabled:o,subject:r._subjects.watch,callback:c});let[u,l]=Vr.default.useState(gn(i)?r._getWatch(n):i);return Vr.default.useEffect(()=>{r._removeUnmounted()}),u}function m_e(e){let t=gN(),{name:r,control:n=t.control,shouldUnregister:i}=e,o=Gte(n._names.array,r),s=y_e({control:n,name:r,defaultValue:Se(n._formValues,r,Se(n._defaultValues,r,e.defaultValue)),exact:!o}),a=p_e({control:n,name:r}),c=Vr.default.useRef(n.register(r,Object.assign(Object.assign({},e.rules),{value:s})));return Vr.default.useEffect(()=>{let u=(l,f)=>{let m=Se(n._fields,l);m&&(m._f.mount=f)};return u(r,!0),()=>{let l=n._options.shouldUnregister||i;o?l&&n._stateFlags.action:l?n.unregister(r):u(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Vr.default.useCallback(u=>{c.current.onChange({target:{value:zte(u),name:r},type:hN.CHANGE})},[r]),onBlur:Vr.default.useCallback(()=>{c.current.onBlur({target:{value:Se(n._formValues,r),name:r},type:hN.BLUR})},[r,n]),ref:Vr.default.useCallback(u=>{let l=Se(n._fields,r);u&&l&&u.focus&&(l._f.ref={focus:()=>u.focus(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[r,n])},formState:a,fieldState:{invalid:!!Se(a.errors,r),isDirty:!!Se(a.dirtyFields,r),isTouched:!!Se(a.touchedFields,r),error:Se(a.errors,r)}}}var Xte=e=>e.render(m_e(e)),g_e=(e,t,r,n,i)=>t?Object.assign(Object.assign({},r[e]),{types:Object.assign(Object.assign({},r[e]&&r[e].types?r[e].types:{}),{[n]:i||!0})}):{},wN=e=>/^\w*$/.test(e),Qte=e=>Z6(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Tn(e,t,r){let n=-1,i=wN(t)?[t]:Qte(t),o=i.length,s=o-1;for(;++n<o;){let a=i[n],c=r;if(n!==s){let u=e[a];c=ui(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}e[a]=c,e=e[a]}return e}var pN=(e,t,r)=>{for(let n of r||Object.keys(e)){let i=Se(e,n);if(i){let o=i._f,s=mN(i,"_f");if(o&&t(o.name)){if(o.ref.focus&&gn(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else ui(s)&&pN(s,t)}}};var Dte=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));function u1(e){let t,r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(r||ui(e)){t=r?[]:{};for(let n in e){if(J6(e[n])){t=e;break}t[n]=u1(e[n])}}else return e;return t}function fN(){let e=[];return{get observers(){return e},next:i=>{for(let o of e)o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}}var G6=e=>Fo(e)||!jte(e);function og(e,t){if(G6(e)||G6(t))return e===t;if(ig(e)&&ig(t))return e.getTime()===t.getTime();let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r){let o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=t[i];if(ig(o)&&ig(s)||ui(o)&&ui(s)||Array.isArray(o)&&Array.isArray(s)?!og(o,s):o!==s)return!1}}return!0}var Ute=e=>({isOnSubmit:!e||e===sc.onSubmit,isOnBlur:e===sc.onBlur,isOnChange:e===sc.onChange,isOnAll:e===sc.all,isOnTouch:e===sc.onTouched}),f1=e=>typeof e=="boolean",SN=e=>e.type==="file",yN=e=>e instanceof HTMLElement,ere=e=>e.type==="select-multiple",vN=e=>e.type==="radio",b_e=e=>vN(e)||l1(e),Rte=typeof self<"u"&&typeof self.HTMLElement<"u"&&typeof document<"u",lN=e=>yN(e)&&e.isConnected;function x_e(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=gn(e)?n++:e[t[n++]];return e}function bo(e,t){let r=wN(t)?[t]:Qte(t),n=r.length==1?e:x_e(e,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let a=-1,c,u=r.slice(0,-(s+1)),l=u.length-1;for(s>0&&(o=e);++a<u.length;){let f=u[a];c=c?c[f]:e[f],l===a&&(ui(c)&&ys(c)||Array.isArray(c)&&!c.filter(m=>ui(m)&&!ys(m)||f1(m)).length)&&(o?delete o[f]:delete e[f]),o=c}}return e}function $6(e,t={}){let r=Array.isArray(e);if(ui(e)||r)for(let n in e)Array.isArray(e[n])||ui(e[n])&&!xN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},$6(e[n],t[n])):Fo(e[n])||(t[n]=!0);return t}function tre(e,t,r){let n=Array.isArray(e);if(ui(e)||n)for(let i in e)Array.isArray(e[i])||ui(e[i])&&!xN(e[i])?gn(t)||G6(r[i])?r[i]=Array.isArray(e[i])?$6(e[i],[]):Object.assign({},$6(e[i])):tre(e[i],Fo(t)?{}:t[i],r[i]):r[i]=!og(e[i],t[i]);return r}var Lte=(e,t)=>tre(e,t,$6(t)),Kte={value:!1,isValid:!1},Vte={value:!0,isValid:!0},rre=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||e[0].value===""?Vte:{value:e[0].value,isValid:!0}:Vte:Kte}return Kte},nre=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>gn(e)?e:t?e===""?NaN:+e:r&&Qc(e)?new Date(e):n?n(e):e,Fte={isValid:!1,value:null},ire=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Fte):Fte;function dN(e){let t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return SN(t)?t.files:vN(t)?ire(e.refs).value:ere(t)?[...t.selectedOptions].map(({value:r})=>r):l1(t)?rre(e.refs).value:nre(gn(t.value)?e.ref.value:t.value,e)}var w_e=(e,t,r,n)=>{let i={};for(let o of e){let s=Se(t,o);s&&Tn(i,o,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Y6=e=>e instanceof RegExp,c1=e=>gn(e)?void 0:Y6(e)?e.source:ui(e)?Y6(e.value)?e.value.source:e.value:e,S_e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Hte(e,t,r){let n=Se(e,r);if(n||wN(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=Se(t,o),a=Se(e,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var v_e=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,A_e=(e,t)=>!Z6(Se(e,t)).length&&bo(e,t),z6=e=>Qc(e)||Vr.default.isValidElement(e);function qte(e,t,r="validate"){if(z6(e)||Array.isArray(e)&&e.every(z6)||f1(e)&&!e)return{type:r,message:z6(e)?e:"",ref:t}}var ng=e=>ui(e)&&!Y6(e)?e:{value:e,message:""},Wte=async(e,t,r,n)=>{let{ref:i,refs:o,required:s,maxLength:a,minLength:c,min:u,max:l,pattern:f,validate:m,name:b,valueAsNumber:w,mount:S,disabled:P}=e._f;if(!S||P)return{};let M=o?o[0]:i,D=B=>{n&&M.reportValidity&&(M.setCustomValidity(f1(B)?"":B||" "),M.reportValidity())},C={},R=vN(i),L=l1(i),W=R||L,G=(w||SN(i))&&!i.value||t===""||Array.isArray(t)&&!t.length,H=g_e.bind(null,b,r,C),$=(B,p,g,x=pf.maxLength,A=pf.minLength)=>{let v=B?p:g;C[b]=Object.assign({type:B?x:A,message:v,ref:i},H(B?x:A,v))};if(s&&(!W&&(G||Fo(t))||f1(t)&&!t||L&&!rre(o).isValid||R&&!ire(o).isValid)){let{value:B,message:p}=z6(s)?{value:!!s,message:s}:ng(s);if(B&&(C[b]=Object.assign({type:pf.required,message:p,ref:M},H(pf.required,p)),!r))return D(p),C}if(!G&&(!Fo(u)||!Fo(l))){let B,p,g=ng(l),x=ng(u);if(isNaN(t)){let A=i.valueAsDate||new Date(t);Qc(g.value)&&(B=A>new Date(g.value)),Qc(x.value)&&(p=A<new Date(x.value))}else{let A=i.valueAsNumber||parseFloat(t);Fo(g.value)||(B=A>g.value),Fo(x.value)||(p=A<x.value)}if((B||p)&&($(!!B,g.message,x.message,pf.max,pf.min),!r))return D(C[b].message),C}if((a||c)&&!G&&Qc(t)){let B=ng(a),p=ng(c),g=!Fo(B.value)&&t.length>B.value,x=!Fo(p.value)&&t.length<p.value;if((g||x)&&($(g,B.message,p.message),!r))return D(C[b].message),C}if(f&&!G&&Qc(t)){let{value:B,message:p}=ng(f);if(Y6(B)&&!t.match(B)&&(C[b]=Object.assign({type:pf.pattern,message:p,ref:i},H(pf.pattern,p)),!r))return D(p),C}if(m){if(J6(m)){let B=await m(t),p=qte(B,M);if(p&&(C[b]=Object.assign(Object.assign({},p),H(pf.validate,p.message)),!r))return D(p.message),C}else if(ui(m)){let B={};for(let p in m){if(!ys(B)&&!r)break;let g=qte(await m[p](t),M,p);g&&(B=Object.assign(Object.assign({},g),H(p,g.message)),D(g.message),r&&(C[b]=B))}if(!ys(B)&&(C[b]=Object.assign({ref:M},B),!r))return C}}return D(!0),C},E_e={mode:sc.onSubmit,reValidateMode:sc.onChange,shouldFocusError:!0};function I_e(e={}){let t=Object.assign(Object.assign({},E_e),e),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},i=t.defaultValues||{},o=t.shouldUnregister?{}:u1(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:fN(),array:fN(),state:fN()},b=Ute(t.mode),w=Ute(t.reValidateMode),S=t.criteriaMode===sc.all,P=(V,Z)=>(...X)=>{clearTimeout(u),u=self.setTimeout(()=>V(...X),Z)},M=async V=>{let Z=!1;return f.isValid&&(Z=t.resolver?ys((await G()).errors):await $(n,!0),!V&&Z!==r.isValid&&(r.isValid=Z,m.state.next({isValid:Z}))),Z},D=(V,Z,X,ee=[],he=!0,te=!0)=>{if(s.action=!0,te&&Array.isArray(Se(n,V))){let se=Z(Se(n,V),X.argA,X.argB);he&&Tn(n,V,se)}if(f.errors&&te&&Array.isArray(Se(r.errors,V))){let se=Z(Se(r.errors,V),X.argA,X.argB);he&&Tn(r.errors,V,se),A_e(r.errors,V)}if(f.touchedFields&&Array.isArray(Se(r.touchedFields,V))){let se=Z(Se(r.touchedFields,V),X.argA,X.argB);he&&Tn(r.touchedFields,V,se)}f.dirtyFields&&(r.dirtyFields=Lte(i,o)),m.state.next({isDirty:p(V,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},C=(V,Z)=>(Tn(r.errors,V,Z),m.state.next({errors:r.errors})),R=(V,Z,X,ee)=>{let he=Se(n,V);if(he){let te=Se(o,V,gn(X)?Se(i,V):X);gn(te)||ee&&ee.defaultChecked||Z?Tn(o,V,Z?te:dN(he._f)):A(V,te),s.mount&&M()}},L=(V,Z,X,ee,he)=>{let te=!1,se={name:V},gt=Se(r.touchedFields,V);if(f.isDirty){let Be=r.isDirty;r.isDirty=se.isDirty=p(),te=Be!==se.isDirty}if(f.dirtyFields&&(!X||ee)){let Be=Se(r.dirtyFields,V);og(Se(i,V),Z)?bo(r.dirtyFields,V):Tn(r.dirtyFields,V,!0),se.dirtyFields=r.dirtyFields,te=te||Be!==Se(r.dirtyFields,V)}return X&&!gt&&(Tn(r.touchedFields,V,X),se.touchedFields=r.touchedFields,te=te||f.touchedFields&&gt!==X),te&&he&&m.state.next(se),te?se:{}},W=async(V,Z,X,ee,he)=>{let te=Se(r.errors,Z),se=f.isValid&&r.isValid!==X;if(e.delayError&&ee?(c=c||P(C,e.delayError),c(Z,ee)):(clearTimeout(u),ee?Tn(r.errors,Z,ee):bo(r.errors,Z)),((ee?!og(te,ee):te)||!ys(he)||se)&&!V){let gt=Object.assign(Object.assign(Object.assign({},he),se?{isValid:X}:{}),{errors:r.errors,name:Z});r=Object.assign(Object.assign({},r),gt),m.state.next(gt)}l[Z]--,f.isValidating&&!l[Z]&&(m.state.next({isValidating:!1}),l={})},G=async V=>t.resolver?await t.resolver(Object.assign({},o),t.context,w_e(V||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation)):{},H=async V=>{let{errors:Z}=await G();if(V)for(let X of V){let ee=Se(Z,X);ee?Tn(r.errors,X,ee):bo(r.errors,X)}else r.errors=Z;return Z},$=async(V,Z,X={valid:!0})=>{for(let ee in V){let he=V[ee];if(he){let te=he._f,se=mN(he,"_f");if(te){let gt=await Wte(he,Se(o,te.name),S,t.shouldUseNativeValidation);if(gt[te.name]&&(X.valid=!1,Z))break;Z||(gt[te.name]?Tn(r.errors,te.name,gt[te.name]):bo(r.errors,te.name))}se&&await $(se,Z,X)}}return X.valid},B=()=>{for(let V of a.unMount){let Z=Se(n,V);Z&&(Z._f.refs?Z._f.refs.every(X=>!lN(X)):!lN(Z._f.ref))&&F(V)}a.unMount=new Set},p=(V,Z)=>(V&&Z&&Tn(o,V,Z),!og(y(),i)),g=(V,Z,X)=>{let ee=Object.assign({},s.mount?o:gn(Z)?i:Qc(V)?{[V]:Z}:Z);return Jte(V,a,ee,X)},x=V=>Z6(Se(s.mount?o:i,V,e.shouldUnregister?Se(i,V,[]):[])),A=(V,Z,X={})=>{let ee=Se(n,V),he=Z;if(ee){let te=ee._f;te&&(!te.disabled&&Tn(o,V,nre(Z,te)),he=Rte&&yN(te.ref)&&Fo(Z)?"":Z,ere(te.ref)?[...te.ref.options].forEach(se=>se.selected=he.includes(se.value)):te.refs?l1(te.ref)?te.refs.length>1?te.refs.forEach(se=>se.checked=Array.isArray(he)?!!he.find(gt=>gt===se.value):he===se.value):te.refs[0]&&(te.refs[0].checked=!!he):te.refs.forEach(se=>se.checked=se.value===he):SN(te.ref)||(te.ref.value=he,te.ref.type||m.watch.next({name:V})))}(X.shouldDirty||X.shouldTouch)&&L(V,he,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&T(V)},v=(V,Z,X)=>{for(let ee in Z){let he=Z[ee],te=`${V}.${ee}`,se=Se(n,te);(a.array.has(V)||!G6(he)||se&&!se._f)&&!ig(he)?v(te,he,X):A(te,he,X)}},_=(V,Z,X={})=>{let ee=Se(n,V),he=a.array.has(V);Tn(o,V,Z),he?(m.array.next({name:V,values:o}),(f.isDirty||f.dirtyFields)&&X.shouldDirty&&(r.dirtyFields=Lte(i,o),m.state.next({name:V,dirtyFields:r.dirtyFields,isDirty:p(V,Z)}))):ee&&!ee._f&&!Fo(Z)?v(V,Z,X):A(V,Z,X),Dte(V,a)&&m.state.next({}),m.watch.next({name:V})},O=async V=>{let Z=V.target,X=Z.name,ee=Se(n,X);if(ee){let he,te,se=Z.type?dN(ee._f):zte(V),gt=V.type===hN.BLUR,Be=!S_e(ee._f)&&!t.resolver&&!Se(r.errors,X)&&!ee._f.deps||v_e(gt,Se(r.touchedFields,X),r.isSubmitted,w,b),Ue=Dte(X,a,gt);Tn(o,X,se),gt?ee._f.onBlur&&ee._f.onBlur(V):ee._f.onChange&&ee._f.onChange(V);let ms=L(X,se,gt,!1),Fe=!ys(ms)||Ue;if(!gt&&m.watch.next({name:X,type:V.type}),Be)return Fe&&m.state.next(Object.assign({name:X},Ue?{}:ms));if(!gt&&Ue&&m.state.next({}),l[X]=(l[X],1),f.isValidating&&m.state.next({isValidating:!0}),t.resolver){let{errors:Re}=await G([X]),ac=Hte(r.errors,n,X),Le=Hte(Re,n,ac.name||X);he=Le.error,X=Le.name,te=ys(Re)}else he=(await Wte(ee,Se(o,X),S,t.shouldUseNativeValidation))[X],te=await M(!0);ee._f.deps&&T(ee._f.deps),W(!1,X,te,he,ms)}},T=async(V,Z={})=>{let X,ee,he=j6(V);if(m.state.next({isValidating:!0}),t.resolver){let te=await H(gn(V)?V:he);X=ys(te),ee=V?!he.some(se=>Se(te,se)):X}else V?(ee=(await Promise.all(he.map(async te=>{let se=Se(n,te);return await $(se&&se._f?{[te]:se}:se)}))).every(Boolean),!(!ee&&!r.isValid)&&M()):ee=X=await $(n);return m.state.next(Object.assign(Object.assign(Object.assign({},!Qc(V)||f.isValid&&X!==r.isValid?{}:{name:V}),t.resolver?{isValid:X}:{}),{errors:r.errors,isValidating:!1})),Z.shouldFocus&&!ee&&pN(n,te=>Se(r.errors,te),V?he:a.mount),ee},y=V=>{let Z=Object.assign(Object.assign({},i),s.mount?o:{});return gn(V)?Z:Qc(V)?Se(Z,V):V.map(X=>Se(Z,X))},I=V=>{V?j6(V).forEach(Z=>bo(r.errors,Z)):r.errors={},m.state.next({errors:r.errors})},q=(V,Z,X)=>{let ee=(Se(n,V,{_f:{}})._f||{}).ref;Tn(r.errors,V,Object.assign(Object.assign({},Z),{ref:ee})),m.state.next({name:V,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&ee&&ee.focus&&ee.focus()},K=(V,Z)=>J6(V)?m.watch.subscribe({next:X=>V(g(void 0,Z),X)}):g(V,Z,!0),F=(V,Z={})=>{for(let X of V?j6(V):a.mount)a.mount.delete(X),a.array.delete(X),Se(n,X)&&(Z.keepValue||(bo(n,X),bo(o,X)),!Z.keepError&&bo(r.errors,X),!Z.keepDirty&&bo(r.dirtyFields,X),!Z.keepTouched&&bo(r.touchedFields,X),!t.shouldUnregister&&!Z.keepDefaultValue&&bo(i,X));m.watch.next({}),m.state.next(Object.assign(Object.assign({},r),Z.keepDirty?{isDirty:p()}:{})),!Z.keepIsValid&&M()},J=(V,Z={})=>{let X=Se(n,V),ee=f1(Z.disabled);return Tn(n,V,{_f:Object.assign(Object.assign(Object.assign({},X&&X._f?X._f:{ref:{name:V}}),{name:V,mount:!0}),Z)}),a.mount.add(V),X?ee&&Tn(o,V,Z.disabled?void 0:Se(o,V,dN(X._f))):R(V,!0,Z.value),Object.assign(Object.assign(Object.assign({},ee?{disabled:Z.disabled}:{}),t.shouldUseNativeValidation?{required:!!Z.required,min:c1(Z.min),max:c1(Z.max),minLength:c1(Z.minLength),maxLength:c1(Z.maxLength),pattern:c1(Z.pattern)}:{}),{name:V,onChange:O,onBlur:O,ref:he=>{if(he){J(V,Z),X=Se(n,V);let te=gn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,se=b_e(te),gt=X._f.refs||[];if(se?gt.find(Be=>Be===te):te===X._f.ref)return;Tn(n,V,{_f:Object.assign(Object.assign({},X._f),se?{refs:gt.concat(te).filter(lN),ref:{type:te.type,name:V}}:{ref:te})}),R(V,!1,void 0,te)}else X=Se(n,V,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(Gte(a.array,V)&&s.action)&&a.unMount.add(V)}})};return{control:{register:J,unregister:F,_executeSchema:G,_getWatch:g,_getDirty:p,_updateValid:M,_removeUnmounted:B,_updateFieldArray:D,_getFieldArray:x,_subjects:m,_proxyFormState:f,get _fields(){return n},set _fields(V){n=V},get _formValues(){return o},set _formValues(V){o=V},get _stateFlags(){return s},set _stateFlags(V){s=V},get _defaultValues(){return i},set _defaultValues(V){i=V},get _names(){return a},set _names(V){a=V},get _formState(){return r},set _formState(V){r=V},get _options(){return t},set _options(V){t=Object.assign(Object.assign({},t),V)}},trigger:T,register:J,handleSubmit:(V,Z)=>async X=>{X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ee=!0,he=t.shouldUnregister?u1(o):Object.assign({},o);m.state.next({isSubmitting:!0});try{if(t.resolver){let{errors:te,values:se}=await G();r.errors=te,he=se}else await $(n);ys(r.errors)&&Object.keys(r.errors).every(te=>Se(he,te))?(m.state.next({errors:{},isSubmitting:!0}),await V(he,X)):(Z&&await Z(r.errors,X),t.shouldFocusError&&pN(n,te=>Se(r.errors,te),a.mount))}catch(te){throw ee=!1,te}finally{r.isSubmitted=!0,m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ys(r.errors)&&ee,submitCount:r.submitCount+1,errors:r.errors})}},watch:K,setValue:_,getValues:y,reset:(V,Z={})=>{let X=V||i,ee=u1(X),he=V&&!ys(V)?ee:i;if(Z.keepDefaultValues||(i=X),!Z.keepValues){if(Rte&&gn(V))for(let te of a.mount){let se=Se(n,te);if(se&&se._f){let gt=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;try{yN(gt)&&gt.closest("form").reset();break}catch{}}}o=e.shouldUnregister?Z.keepDefaultValues?u1(i):{}:ee,n={},m.array.next({values:he}),m.watch.next({values:he})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!Z.keepIsValid,s.watch=!!e.shouldUnregister,m.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:Z.keepDirty?r.isDirty:Z.keepDefaultValues?!og(V,i):!1,isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z.keepDirty?r.dirtyFields:Z.keepDefaultValues&&V?Object.entries(V).reduce((te,[se,gt])=>Object.assign(Object.assign({},te),{[se]:gt!==Se(i,se)}),{}):{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(V,Z={})=>{Se(n,V)&&(gn(Z.defaultValue)?_(V,Se(i,V)):(_(V,Z.defaultValue),Tn(i,V,Z.defaultValue)),Z.keepTouched||bo(r.touchedFields,V),Z.keepDirty||(bo(r.dirtyFields,V),r.isDirty=Z.defaultValue?p(V,Se(i,V)):p()),Z.keepError||(bo(r.errors,V),f.isValid&&M()),m.state.next(Object.assign({},r)))},clearErrors:I,unregister:F,setError:q,setFocus:V=>{let Z=Se(n,V)._f;(Z.ref.focus?Z.ref:Z.refs[0]).focus()}}}function X6(e={}){let t=Vr.default.useRef(),[r,n]=Vr.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current=Object.assign(Object.assign({},I_e(e)),{formState:r});let i=t.current.control,o=Vr.default.useCallback(s=>{Yte(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return bN({subject:i._subjects.state,callback:o}),Vr.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),t.current.formState=$te(r,i._proxyFormState),t.current}var k_e=({accounts:e,enabledAddressTypes:t,enableAddressTypes:r,editableAccountMetadata:n,addReadOnlyAccount:i,fetchDomainOwner:o})=>{let s=ir(),{t:a}=hu(),c=Rn(),u=n?.networkID||jt.Solana.Mainnet,{formState:{errors:l},control:f,clearErrors:m,getValues:b,setValue:w,register:S,handleSubmit:P,watch:M,trigger:D}=X6({mode:"all"}),{networkID:C,name:R,address:L,resolvedAddress:W}=M(),G={required:!0},H=(0,Q6.useMemo)(()=>({required:{value:!0,message:a("addAccountImportAccountPublicKeyRequired")},validate:(0,ore.default)(async p=>{if(p==="")return!0;if(!PE(p,C||u))try{let v=(await o(p,C,s,c))?.owner;return v?(w("resolvedAddress",v),e.find(O=>O.addresses.map(T=>T.address).includes(v))?a("addAccountImportAccountDuplicateAddress"):!0):a("addAccountImportAccountIncorrectFormat")}catch{return a("sendFormErrorInvalidDomain")}return w("resolvedAddress",p),e.find(A=>A.addresses.map(v=>v.address).includes(p))?a("addAccountImportAccountDuplicateAddress"):!0},500)}),[a,C,u,w,e,o,s,c]),$=R&&W&&!l.name&&!l.address,B=(0,Q6.useCallback)(async({networkID:p,name:g,resolvedAddress:x},A)=>{let v=Uc(p,x);t.includes(v)||await r({addressTypes:[v]});let _={};_[v]=x,i({name:g,addresses:_,icon:n?.icon}),A(),c.capture("addReadOnlyAccount",{data:{networkID:p,chainType:v}})},[i,n?.icon,r,t,c]);return{Controller:Xte,canSubmit:$,control:f,errors:l,nameValidations:G,address:L,addressValidations:H,clearErrors:m,getValues:b,handleSubmit:P,onSubmit:B,register:S,setValue:w,trigger:D}};d();h();function T_e(e){let t=Ete();return e.map(r=>Rx.get(r.networkID).addressTooltipNetworkName?.(r.networkID,r.address,t)??re.getNetworkName(r.networkID))}d();h();d();h();d();h();d();h();var P_e=()=>{let{data:e}=Va(),t=b1(),r=e?.username;return Yt({queryKey:In.userProfileAttributeEffect(r),queryFn:async()=>(r&&(Ji.setSubjectAttributes({username:r}),await t()),!0)}),r};d();h();var are=ne(Fr());d();h();var B_e=/^https?:\/\/.+$/,sre=e=>__e(e?.icon),__e=e=>e?e.match(B_e)?{type:Ox.Image,imageUrl:e}:{type:Ox.Emoji,unicode:e}:{type:Ox.Default};var C_e=()=>{let{data:e}=Va();return(0,are.useMemo)(()=>sre(e),[e])};d();h();var cre=ne(Fr());var M_e=()=>{let{data:e}=Va();return(0,cre.useMemo)(()=>e?.privacyState??"public",[e?.privacyState])};d();h();var ure=ne(Fr());var N_e=()=>{let{data:e}=Va();return(0,ure.useMemo)(()=>e?.addresses,[e?.addresses])};d();h();d();h();var fre=ne(Fr());var O_e=0,D_e=e=>e!==null?e.split("@")[O_e]:null,U_e=async(e,t)=>{let r=await e.getUser();if(!r)throw new Error("no user");let n=await t.getUserProfile();return{userID:r.userID,username:n?.username??null,email:D_e(r.email??null)}},R_e=()=>{let e=R0(),t=ir(),{data:r={}}=YN();return(0,fre.useCallback)(async()=>{try{return{...await U_e(e,t),authFactors:r}}catch{return{userID:null,username:null,email:null,authFactors:r}}},[r,e,t])};var K_e=ne(Fr());d();h();var lre=ne(Fr());var V_e=()=>{let{data:e}=ta(),t=(0,lre.useMemo)(()=>{if(!e||!e.addresses.length)return re.getChainID("solana:101");let r=e.addresses[0];return re.getChainID(r.networkID)},[e]);return{caip19:TE(BE(t)),tokenName:re.getChainName(t),tokenSymbol:re.getTokenSymbol(t)}};d();h();var F_e=()=>{let{data:[e]}=uc(["enable-sui-testnet"]);return Bx(e)};d();h();d();h();var hre=ne(Fr());d();h();var dre=()=>{let{data:e}=oc(),{data:t}=N0(),{data:r}=Va(),{data:[n]}=uc(["enable-auto-patch-chains"]);return Yt({queryKey:yt.patchProfileAddresses({chainAvailability:e?.enabledNetworkIDs,accountIdentifiers:t?.map(i=>i.identifier),user:r,isAutoPatchEnabled:n}),queryFn:e&&t&&r?()=>{let{enabledNetworkIDs:i}=e,o=i?.reduce((f,m)=>{let b=t.find(w=>w.addresses.some(S=>S.networkID===m))?.addresses.find(w=>w.networkID===m)?.address;return b&&(f[m]=b),f},{})??{},s=r?.addresses,a=s?Object.keys(s).filter(re.isNetworkID):[],c=(i??[]).filter(f=>!a.includes(f)).reduce((f,m)=>{let b=o[m];return b&&(f[m]=b),f},{});return Object.keys(c).length>0?{addresses:{...c,...s},addedAddresses:c}:null}:HN})};var H_e=()=>{let{data:e}=dre(),{mutate:t}=t_(),r=Rn();(0,hre.useEffect)(()=>{if(e){let{addresses:n,addedAddresses:i}=e,o=Object.keys(i);r.capture("autoSyncUsernameAddresses",{data:{addedChains:o}}),t({addresses:n})}},[e,t,r])};d();h();var pre=ne(Fr());var q_e=e=>{let t=(0,pre.useCallback)(r=>r.addresses.find(n=>e===re.getChainID(n.networkID))?.networkID,[e]);return ta({select:t})};d();h();var yre=ne(Fr());var W_e=()=>{let{data:e=[]}=a1("local-only"),{data:t=[]}=a1("recoverable-only");return(0,yre.useMemo)(()=>e.length+t.length>1,[e.length,t.length])};d();h();d();h();d();h();var xo=ne(Fr());function j_e(e){let t,r=new Set,n=(u,l)=>{let f=typeof u=="function"?u(t):u;if(f!==t){let m=t;t=l?f:Object.assign({},t,f),r.forEach(b=>b(t,m))}},i=()=>t,o=(u,l=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=l(t);function b(){let w=l(t);if(!f(m,w)){let S=m;u(m=w,S)}}return r.add(b),()=>r.delete(b)},c={setState:n,getState:i,subscribe:(u,l,f)=>l||f?o(u,l,f):(r.add(u),()=>r.delete(u)),destroy:()=>r.clear()};return t=e(n,i,c),c}var z_e=typeof self>"u"||!self.navigator||/ServerSideRendering|^Deno\//.test(self.navigator.userAgent),mre=z_e?xo.useEffect:xo.useLayoutEffect;function e4(e){let t=typeof e=="function"?j_e(e):e,r=(n=t.getState,i=Object.is)=>{let[,o]=(0,xo.useReducer)(P=>P+1,0),s=t.getState(),a=(0,xo.useRef)(s),c=(0,xo.useRef)(n),u=(0,xo.useRef)(i),l=(0,xo.useRef)(!1),f=(0,xo.useRef)();f.current===void 0&&(f.current=n(s));let m,b=!1;(a.current!==s||c.current!==n||u.current!==i||l.current)&&(m=n(s),b=!i(f.current,m)),mre(()=>{b&&(f.current=m),a.current=s,c.current=n,u.current=i,l.current=!1});let w=(0,xo.useRef)(s);mre(()=>{let P=()=>{try{let D=t.getState(),C=c.current(D);u.current(f.current,C)||(a.current=D,f.current=C,o())}catch{l.current=!0,o()}},M=t.subscribe(P);return t.getState()!==w.current&&P(),M},[]);let S=b?m:f.current;return(0,xo.useDebugValue)(S),S};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[r,t];return{next(){let i=n.length<=0;return{value:n.shift(),done:i}}}},r}var G_e={editableAccountMetadata:void 0,setEditableAccountMetadata:()=>{}},t4=e4(e=>({...G_e,setEditableAccountMetadata:t=>{e({editableAccountMetadata:t})}}));d();h();var gre={username:"",available:null,icon:null,secretIdentifiers:[],accountIdentifiersToSync:[],addresses:{}},bre=e4((e,t)=>({...gre,setUsername:r=>e({username:r}),setAvailable:r=>e({available:r}),setIcon:r=>e({icon:r}),addSecretIdentifier:r=>{let n=[...t().secretIdentifiers];n.includes(r)||n.push(r),e({secretIdentifiers:n})},removeSecretIdentifier:r=>{e({secretIdentifiers:t().secretIdentifiers.filter(n=>n!==r)})},addAccountIdentifierToSync:r=>{let n=[...t().accountIdentifiersToSync];n.includes(r)||n.push(r),e({accountIdentifiersToSync:n})},removeAccountIdentifierToSync:r=>{e({accountIdentifiersToSync:t().accountIdentifiersToSync.filter(n=>n!==r)})},clearAccountIdentifiersToSync:()=>e({accountIdentifiersToSync:[]}),setAccountIdentifiersToSync:r=>e({accountIdentifiersToSync:r}),addAddress:(r,n)=>{let i={...t().addresses};i[r]=n,e({addresses:i})},removeAddress:(r,n)=>{let i={...t().addresses};i[r]===n&&delete i[r],e({addresses:i})},clearAddresses:()=>{e({addresses:{}})},reset:()=>{e(gre)}}));d();h();var $_e=ne(Fr());d();h();var xre=ne(wo()),eu=ne(Fr());var Y_e=({importPrivateKeyCallback:e,existingAccounts:t,editableAccountMetadata:r,analytics:n})=>{let{t:i}=hu(),{formState:{errors:o},control:s,clearErrors:a,getValues:c,setValue:u,register:l,handleSubmit:f,watch:m,trigger:b}=X6({mode:"all",defaultValues:{addressType:r?.addressType||"solana",networkID:r?.networkID||jt.Solana.Mainnet}}),[w,S]=(0,eu.useState)(null),P=t4(g=>g.setEditableAccountMetadata),{name:M}=m(),D=r?.secrets,C=c("networkID"),R=c("addressType"),L=c("privateKey"),W=(0,eu.useMemo)(()=>new zb,[]),G={required:!0},H=(0,eu.useMemo)(()=>({required:{value:!0,message:i("addAccountImportAccountPrivateKeyRequired")},onChange:g=>{g.target.value||S(null)},validate:g=>{try{let x=c("networkID"),A=c("addressType");if(/\s/.test(g)||!A)return i("addAccountImportAccountIncorrectFormat");let v=re.getNetworkDefinition(x).value,_=$b({privateKey:g,addressType:A,networkIDValue:v});P({...r,secrets:_});let O=W.generateKeypairFromPrivateKey(_,A);return t.find(y=>!y.isReadOnly&&(y.addresses.map(I=>I.address).includes(Hi({publicKey:O.publicKey,addressType:A,networkID:x}))||y.addresses.filter(I=>"publicKey"in I).map(I=>I.publicKey).find(I=>I?Buffer.from(I).equals(Buffer.from(O.publicKey)):!1)))?i("addAccountImportAccountDuplicatePrivateKey"):!0}catch{return i("addAccountImportAccountIncorrectFormat")}}}),[i,W,t,r,P,c]);(0,eu.useEffect)(()=>{if(o.privateKey){S(null);return}if(L||D)try{let g=re.getNetworkDefinition(C).value,x=D||$b({privateKey:L,addressType:R,networkIDValue:g}),A=W.generateKeypairFromPrivateKey(x,R);if(!L){let v="";switch(R){case"solana":{v=xre.default.encode(A.privateKey);break}case"eip155":{v="0x"+Buffer.from(A.privateKey).toString("hex");break}case"sui":{v=g1(A.privateKey);break}}u("privateKey",v)}S(Hi({publicKey:A.publicKey,addressType:R,networkID:C}))}catch{S(null)}},[o.privateKey,R,W,L,D,u,C]);let $=(0,eu.useMemo)(()=>!!(M&&L&&!o.name&&!o.privateKey),[o.name,o.privateKey,M,L]),B=(0,eu.useCallback)(async({networkID:g,name:x,privateKey:A,addressType:v})=>{let _=re.getNetworkDefinition(g).value,O=$b({privateKey:A,addressType:v,networkIDValue:_});await e({chainType:v,name:x,icon:r?.icon,privateKey:O}),n.capture("addPrivateKeyAccount",{data:{networkID:g,chainType:v}})},[e,r?.icon,n]);return{formOnSubmitHandler:f(g=>B(g)),canSubmit:$,control:s,getValues:c,register:l,setValue:u,trigger:b,errors:o,clearErrors:a,nameValidations:G,privateKey:L,privateKeyValidations:H,addressPreview:w}};d();h();var Z_e=async(e,t,r)=>{let{enabledAddressTypes:n,enabledChainIDs:i,enabledMainnetOnlyNetworkIDs:o}=r,[s,a]=await Promise.all([t.get("developerMode"),Ky(t)]),c=await e.fetchAllAccounts(),u=await Qu(c,t),l=await Yx(t,u.identifier),f={name:l.name,icon:l.icon,identifier:u.identifier,addresses:qx(u,o,n,i,a,s?.isDeveloperMode??!1)};return u.type==="seed"?{...f,type:"seed",seedIdentifier:u.seedIdentifier,isReadOnly:!1}:u.type==="seedless"?{...f,type:"seedless",seedIdentifier:u.seedIdentifier,isReadOnly:!1}:u.type==="readOnly"?{...f,type:"readOnly",isReadOnly:!0}:u.type==="privateKey"?{...f,privateKeyIdentifier:u.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...f,type:u.type,isReadOnly:!1}};d();h();export{UO as a,LO as b,wg as c,j4 as d,JO as e,wD as f,tp as g,aI as h,BD as i,cI as j,fI as k,MD as l,lI as m,hI as n,OD as o,UD as p,bI as q,tS as r,mR as s,bR as t,JI as u,JU as v,vs as w,XI as x,mp as y,QI as z,ek as A,oR as B,sR as C,aR as D,cR as E,fR as F,lR as G,dR as H,hR as I,Xue as J,Io as K,$o as L,Sk as M,vle as N,vk as O,Ak as P,Ek as Q,Oi as R,Ee as S,QR as T,el as U,Di as V,_e as W,oDe as X,Bu as Y,rL as Z,Eb as _,Ab as $,tl as aa,oL as ba,US as ca,Ib as da,cL as ea,Cle as fa,Mle as ga,Tk as ha,Nle as ia,Ole as ja,Dle as ka,Qn as la,yL as ma,kp as na,Ck as oa,Kle as pa,ide as qa,ode as ra,Pp as sa,Uk as ta,Lk as ua,$k as va,Xk as wa,Qk as xa,tLe as ya,ol as za,ET as Aa,zp as Ba,Vb as Ca,zb as Da,ny as Ea,Qv as Fa,Eye as Ga,$b as Ha,fA as Ia,hP as Ja,NP as Ka,FP as La,UW as Ma,Sx as Na,Hi as Oa,Wl as Pa,AB as Qa,Ey as Ra,Iy as Sa,jl as Ta,zl as Ua,Gl as Va,$l as Wa,OB as Xa,re as Ya,mj as Za,jt as _a,Yu as $a,dj as ab,Lh as bb,pj as cb,yj as db,TE as eb,gj as fb,bj as gb,xj as hb,wj as ib,Sj as jb,vj as kb,Aj as lb,Ej as mb,Ij as nb,kj as ob,Tj as pb,Pj as qb,PE as rb,Uc as sb,BE as tb,Bj as ub,_j as vb,VB as wb,FB as xb,Px as yb,Mj as zb,k2e as Ab,T2e as Bb,P2e as Cb,B2e as Db,Kh as Eb,qB as Fb,Zu as Gb,U2e as Hb,R2e as Ib,WB as Jb,La as Kb,K2e as Lb,V2e as Mb,HE as Nb,Rx as Ob,PSe as Pb,LSe as Qb,Wx as Rb,r_ as Sb,o_ as Tb,KSe as Ub,a_ as Vb,HSe as Wb,qSe as Xb,lz as Yb,WSe as Zb,WE as _b,_x as $b,F2e as ac,q2e as bc,W2e as cc,jSe as dc,zSe as ec,GSe as fc,dz as gc,YB as hc,Vh as ic,Qj as jc,ez as kc,rSe as lc,mSe as mc,j2e as nc,Rn as oc,z2e as pc,ir as qc,gSe as rc,bSe as sc,Ux as tc,Va as uc,sz as vc,ASe as wc,t_ as xc,ESe as yc,ISe as zc,kSe as Ac,Uft as Bc,zh as Cc,lve as Dc,dve as Ec,hve as Fc,pve as Gc,hG as Hc,HAe as Ic,qAe as Jc,n3 as Kc,pw as Lc,h7 as Mc,p7 as Nc,cr as Oc,jJ as Pc,v0 as Qc,cC as Rc,cQ as Sc,fQ as Tc,hQ as Uc,NQ as Vc,UQ as Wc,gee as Xc,b6 as Yc,bee as Zc,J5e as _c,C0 as $c,Dee as ad,HM as bd,BBe as cd,K6 as dd,oc as ed,QM as fd,_Be as gd,CBe as hd,Er as id,eN as jd,MBe as kd,NBe as ld,Ete as md,rg as nd,wkt as od,Skt as pd,vkt as qd,Akt as rd,Ekt as sd,Ikt as td,UBe as ud,RBe as vd,N0 as wd,YBe as xd,lr as yd,W6 as zd,ZBe as Ad,JBe as Bd,a1 as Cd,FBe as Dd,uN as Ed,_te as Fd,XBe as Gd,QBe as Hd,e_e as Id,t_e as Jd,r_e as Kd,n_e as Ld,i_e as Md,ta as Nd,qBe as Od,o_e as Pd,s_e as Qd,a_e as Rd,c_e as Sd,u_e as Td,s1 as Ud,f_e as Vd,l_e as Wd,m_e as Xd,Xte as Yd,X6 as Zd,k_e as _d,T_e as $d,P_e as ae,C_e as be,M_e as ce,N_e as de,R_e as ee,V_e as fe,F_e as ge,WBe as he,jBe as ie,H_e as je,zBe as ke,q_e as le,$Be as me,W_e as ne,e4 as oe,t4 as pe,bre as qe,Y_e as re,Z_e as se};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-TCQHUZGC.js.map
