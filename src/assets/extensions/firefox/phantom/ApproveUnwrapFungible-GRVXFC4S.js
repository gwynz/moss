import{a as oe}from"./chunk-UAXPRQBH.js";import{Da as te,Ka as ne,o as R}from"./chunk-LXU7PQBU.js";import"./chunk-B2GYAJTC.js";import"./chunk-SQO2VQAO.js";import"./chunk-TD2D2QPX.js";import{a as ee}from"./chunk-W77K3WQV.js";import"./chunk-CNFJLKHQ.js";import"./chunk-5JHWCQWA.js";import"./chunk-ZWZ3CTXU.js";import"./chunk-M7OC3ILU.js";import"./chunk-JEI6X2RN.js";import"./chunk-7RBDLHGP.js";import"./chunk-GANXJ43B.js";import"./chunk-LKQVYUBB.js";import"./chunk-HBG63354.js";import"./chunk-35NHIGOT.js";import"./chunk-3HVMCTN3.js";import"./chunk-Y6OEKQLS.js";import{a as T}from"./chunk-MW77T3XA.js";import{g as Z,k as _}from"./chunk-SH3HHM7U.js";import"./chunk-TH3FTOYH.js";import"./chunk-6CWVZ3BT.js";import"./chunk-GHN74NOR.js";import"./chunk-WPJSEL3Z.js";import"./chunk-CR74PZMB.js";import"./chunk-KPWXSG5E.js";import"./chunk-D4DUYDHW.js";import"./chunk-5A2BEHTQ.js";import"./chunk-W2JNY544.js";import"./chunk-IFSDFPZB.js";import"./chunk-6ZHT5UCA.js";import{d as X}from"./chunk-WDCHYE5S.js";import{c as W,ib as Y,p as w}from"./chunk-GEV5XQQD.js";import"./chunk-ORUYTCTV.js";import"./chunk-T7JNUXFM.js";import"./chunk-KDJQAYSI.js";import"./chunk-QW27DYRA.js";import"./chunk-CQKN4YWV.js";import"./chunk-K3JNOO2M.js";import{X as K,aa as Q,m as z}from"./chunk-F4IQK4JV.js";import"./chunk-NCHS4J52.js";import"./chunk-NDCLJSYC.js";import"./chunk-WNIGPWPI.js";import"./chunk-JSNRVN5B.js";import{F as L,mc as O,oc as j,pc as q,wc as J}from"./chunk-MR3IPRFB.js";import"./chunk-OIVEKBUC.js";import"./chunk-EHX5ZB7Z.js";import{Nd as I,Ya as h,ke as $}from"./chunk-TCQHUZGC.js";import{p as M}from"./chunk-H52KJDU6.js";import"./chunk-RV6OM76W.js";import{D as B,j as H,s as i}from"./chunk-56MPBIEL.js";import"./chunk-OWVMO73E.js";import"./chunk-SHY2LMMT.js";import{b as V}from"./chunk-SEWPLVP7.js";import{a as ye}from"./chunk-CNVMLXTH.js";import"./chunk-4QXPQWJO.js";import"./chunk-FOF7ARFP.js";import"./chunk-RHRF26FB.js";import"./chunk-7TSTJFQS.js";import"./chunk-FFQ56KY4.js";import{f as Se,h as G,n as N}from"./chunk-JORLGFWZ.js";G();N();var e=Se(ye());var Te=w(T).attrs({align:"center"})`
  height: 100%;
`,be=w(T).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,he=w(T).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,Fe=w(Y).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Ee=(n,t)=>{let{status:c,data:s}=O({networkID:n}),[o,d]=(0,e.useState)("standard"),{popDetailView:a,pushDetailView:m}=Z(),f;return c!=="error"&&s&&o&&t&&(f=()=>{m(e.default.createElement(oe,{onSelectTransactionSpeed:d,selectedTransactionSpeed:o,networkID:n,transactionUnitAmount:t,closeModal:a}))}),{transactionSpeed:o,openGasSettings:f}},ke=n=>{let{t}=H(),c=W(),{handleHideModalVisibility:s}=ne(),{chain:o,tokenAddress:d,balance:a,symbol:m,logoUri:f,walletAddress:ae}=n.data,r=o.id,F=h.getNetworkName(r),{data:re}=I(),se=re?.addresses??[],{data:l}=$({networkID:r,address:ae}),u=(0,e.useMemo)(()=>({pageHeaderText:t("unwrapFungibleConfirmSwap"),swapTitle:t("unwrapFungibleConfirmSwapTitle",{fromToken:m,toToken:o.symbol}),networkFeeText:t("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:t("networkFeesTooltipDescription",{chainName:F}),confirmSwap:t("commandSwap"),cancelSwap:t("commandClose")}),[o.symbol,F,m,t]),{data:S,isPending:ie}=z({amount:a,caip19:{chainId:r,resourceType:"address",address:d??""},owner:l?.address??""}),p=(0,e.useMemo)(()=>S&&l?M.parse({to:S.to,from:l.address??"",data:S.data}):void 0,[S,l]),E=(0,e.useMemo)(()=>p?{type:"eip155",networkID:r,unsignedTransaction:p}:void 0,[r,p]),{data:ce}=j(E),{transactionSpeed:me,openGasSettings:k}=Ee(r,ce),{data:g,isFetched:U,isError:x,isSuccess:pe}=q({networkID:r,transactionSpeed:me,multichainTransaction:E,queryOptions:{refetchInterval:!1}}),{data:A}=J(r,g),de=A?.gasEstimationPriceUSD?t("gasUpTo",{amount:A?.gasEstimationPriceUSD}):void 0,le=L(g),b=de??le??"",{hasSufficientFunds:v,nativeTokenSymbol:D}=K({networkID:r,addressType:l?.addressType,gasEstimation:g,transactionValue:new V(a??"0",16)}),C=U&&!pe,y=(0,e.useMemo)(()=>x?t("transactionGasLimitError"):C?t("transactionGasEstimationError"):v==="insufficient"?t("transactionNotEnoughNative",{nativeTokenSymbol:D}):"",[x,C,v,t,D]),ue=(0,e.useMemo)(()=>[{label:t("commandSend"),value:`+${a} ${o.symbol}`,color:i.colors.legacy.accentSuccess},{label:t("commandReceive"),value:`-${a} ${m}`,color:i.colors.legacy.accentAlert},{label:u.networkFeeText,onClick:k,value:b.length>0?b:e.default.createElement(ee,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:i.colors.legacy.borderSecondary}),color:y?i.colors.legacy.accentAlert:i.colors.legacy.textPrimary,leftSubtext:y,subtextColor:i.colors.legacy.accentAlert,tooltipContent:u.networkFeeTextDescription}],[a,o.symbol,u.networkFeeText,u.networkFeeTextDescription,b,y,k,m,t]),{mutateAsync:P,isPending:ge}=Q(se),we=(0,e.useCallback)(()=>{P({fungible:n,unsignedUnwrapTx:p,gasEstimation:g}),s("approveUnwrapFungible"),c("/notifications")},[n,g,s,c,p,P]),fe=(0,e.useCallback)(()=>{s("approveUnwrapFungible")},[s]);return{isLoading:ie||!U,isSwapDisabled:ge||!p||!!y,logoUri:f,summaryRows:ue,i18nStrings:u,onConfirmSwap:we,onDenySwap:fe}},Ue=({fungible:n})=>{if(h.isEthereumNetworkID(n.data.chain.id)){let t=ke(n);return e.default.createElement(xe,{...t})}throw new Error(`Unwrap fungible not supported for chain: ${n.data.chain.id}`)},ot=Ue,xe=e.default.memo(({isLoading:n,isSwapDisabled:t,logoUri:c,summaryRows:s,i18nStrings:o,onConfirmSwap:d,onDenySwap:a})=>e.default.createElement(Te,null,e.default.createElement(_,null,o.pageHeaderText),e.default.createElement(be,null,e.default.createElement(he,null,e.default.createElement(R,{image:{type:"icon",preset:"swap"},size:64,badge:{src:c??""}}),e.default.createElement(Fe,null,o.swapTitle)),e.default.createElement(te,{rows:s,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),e.default.createElement(B,{mode:"wait",initial:!1},e.default.createElement(X,{primaryText:o.confirmSwap,secondaryText:o.cancelSwap,primaryDisabled:n||t,onPrimaryClicked:d,onSecondaryClicked:a})))));export{Ue as ApproveUnwrapFungible,ot as default};
//# sourceMappingURL=ApproveUnwrapFungible-GRVXFC4S.js.map
