import{a as ro,b as so}from"./chunk-3XEMZAYO.js";import"./chunk-OB6Y7PZE.js";import{b as ao}from"./chunk-QHAZE24Y.js";import{a as no}from"./chunk-XP6X767Y.js";import"./chunk-D6K7CI57.js";import"./chunk-OWMCKCTX.js";import"./chunk-7DCZZSBT.js";import"./chunk-QX3C2NCH.js";import{a as to,b as io}from"./chunk-AH2DITOJ.js";import{a as oo}from"./chunk-7JBLFEEJ.js";import"./chunk-5MMSJXKD.js";import"./chunk-TH3GNO6G.js";import"./chunk-R76PXW4I.js";import"./chunk-CVN7K22F.js";import"./chunk-QDEV7PLT.js";import"./chunk-KEQC6ZSM.js";import"./chunk-33GVPUX5.js";import"./chunk-24CQTVOH.js";import"./chunk-DIJN7ZGQ.js";import"./chunk-OS5QSVNY.js";import"./chunk-WQWAQFHQ.js";import"./chunk-WK76PFK2.js";import"./chunk-TIP7QPIY.js";import{Aa as Xe,Ba as Ye,Ca as Je,Ha as Re,Ja as eo,Ka as te,Q as Ge,S as re,T as qe,U as Ke,Z as Qe,y as $e}from"./chunk-LXU7PQBU.js";import{i as je}from"./chunk-B2GYAJTC.js";import"./chunk-SQO2VQAO.js";import"./chunk-TD2D2QPX.js";import{a as Ze}from"./chunk-W77K3WQV.js";import"./chunk-CNFJLKHQ.js";import{a as I}from"./chunk-5JHWCQWA.js";import"./chunk-ZWZ3CTXU.js";import"./chunk-M7OC3ILU.js";import"./chunk-JEI6X2RN.js";import"./chunk-7RBDLHGP.js";import"./chunk-GANXJ43B.js";import"./chunk-LKQVYUBB.js";import"./chunk-HBG63354.js";import"./chunk-35NHIGOT.js";import"./chunk-3HVMCTN3.js";import"./chunk-Y6OEKQLS.js";import{a as v}from"./chunk-MW77T3XA.js";import{g as We,i as _e}from"./chunk-SH3HHM7U.js";import"./chunk-TH3FTOYH.js";import"./chunk-6CWVZ3BT.js";import"./chunk-YPBKMPXL.js";import"./chunk-X7ZIPY4D.js";import"./chunk-GHN74NOR.js";import"./chunk-WPJSEL3Z.js";import{b as Ue}from"./chunk-CR74PZMB.js";import"./chunk-Y2NDFGZZ.js";import"./chunk-KPWXSG5E.js";import"./chunk-D4DUYDHW.js";import"./chunk-5A2BEHTQ.js";import"./chunk-W2JNY544.js";import"./chunk-IFSDFPZB.js";import"./chunk-6ZHT5UCA.js";import"./chunk-WDCHYE5S.js";import{R as De,ib as y,na as ze,p as a,sa as Ve}from"./chunk-GEV5XQQD.js";import{Jb as Ne,Kb as Le,Lb as He,p as Ce,q as ke,s as ve}from"./chunk-ORUYTCTV.js";import"./chunk-T7JNUXFM.js";import"./chunk-KDJQAYSI.js";import"./chunk-QW27DYRA.js";import"./chunk-CQKN4YWV.js";import"./chunk-K3JNOO2M.js";import{Z as Oe,d as Be,i as Fe,q as Pe}from"./chunk-F4IQK4JV.js";import"./chunk-NCHS4J52.js";import"./chunk-NDCLJSYC.js";import{c as Ae}from"./chunk-WNIGPWPI.js";import"./chunk-JSNRVN5B.js";import{Pb as Ee,ld as Ie,nd as Me}from"./chunk-MR3IPRFB.js";import"./chunk-OIVEKBUC.js";import"./chunk-EHX5ZB7Z.js";import{Nd as ee,Od as ge,Ud as fe,Ya as de,eb as ue,fe as he,he as oe,me as be,ud as pe}from"./chunk-TCQHUZGC.js";import"./chunk-H52KJDU6.js";import"./chunk-RV6OM76W.js";import{ba as xe,j as L,pa as we,s as c,sa as Te,ta as Se,w as k,x as ye}from"./chunk-56MPBIEL.js";import{L as me}from"./chunk-OWVMO73E.js";import"./chunk-SHY2LMMT.js";import{Q as ce,w as ne}from"./chunk-SEWPLVP7.js";import{a as P}from"./chunk-CNVMLXTH.js";import"./chunk-4QXPQWJO.js";import"./chunk-FOF7ARFP.js";import"./chunk-RHRF26FB.js";import"./chunk-7TSTJFQS.js";import"./chunk-FFQ56KY4.js";import{f as E,h as u,i as x,n as p}from"./chunk-JORLGFWZ.js";u();p();var e=E(P());u();p();var n=E(P());u();p();var w=E(P()),lo=({children:o,maxFontSize:i})=>{let l=(0,w.useRef)(null),[r,t]=(0,w.useState)(i);return(0,w.useEffect)(()=>{let s=l.current;if(!s)return;let m=new ResizeObserver(()=>{let g=r;s.querySelectorAll("*").forEach(b=>{for(;b.scrollWidth>s.clientWidth&&g>10;)g-=1,b.style.fontSize=`${g}px`}),t(g)});return m.observe(s),()=>{m.disconnect()}},[r]),w.default.createElement(k,{ref:l,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},w.default.createElement("div",{style:{fontSize:`${r}px`,whiteSpace:"nowrap"}},o))};u();p();var G=E(P());var co=()=>{let{data:o}=ee(),{caip19:i,tokenName:l,tokenSymbol:r}=he(),{handleShowModalVisibility:t,handleHideModalVisibility:s}=te(),{openBuy:m}=Qe({caip19:i,context:"nux",analyticsEvent:"nuxBuyTokenClickedByUser"}),g=(0,G.useCallback)(()=>{o&&t("receive",{account:o,onCloseClick:()=>s("receive")})},[s,t,o]);return G.default.createElement($e,{image:G.default.createElement(xe,{src:"https://assets.phantom.app/assets/nux-illustration-gm.webp",width:249,height:96}),onClickBuyToken:m,onClickReceive:g,tokenName:l,tokenSymbol:r})};var vo=a(v).attrs({align:"center"})`
  margin-top: 2rem;
`,Ao=a(v).attrs({align:"center"})`
  padding-left: 16px;
  padding-right: 16px;
  padding-top: 16px;
  padding-bottom: 0;
  margin-bottom: -8px; // Forces spacing between nux and CTA buttons to be 24px
`,se=a(v).attrs({align:"center",justify:"center",width:"100%"})`
  height: 5.3rem;
`,mo=a(Ze).attrs({height:"8px",borderRadius:"6px",backgroundColor:c.colors.legacy.borderPrimary})`
  opacity: 0.2;
`,uo=a(I)`
  height: 8px;
  border-radius: 6px;
  background-color: rgba(from ${c.colors.legacy.textSecondary} r g b / 50%);
  opacity: 0.5;
`,Bo=a.div`
  display: flex;
  flex-direction: row;
  padding: 16px 5px;
  justify-content: center;
  align-items: center;
  gap: 6px;
  flex: 1 0 0;
  border-radius: 62px;
  background: ${c.colors.legacy.bgButton};
`,Fo=a(y).attrs({size:15,weight:"600",color:c.colors.legacy.textPrimary,lineHeight:20})``,Eo=a(y).attrs({size:36,weight:"bold",color:c.colors.legacy.textSecondary})``,Po=a(I).attrs({justify:"center"})``,Io=a(y).attrs({weight:500,size:18})`
  border-radius: 6px;
  padding: 2px 5px;
`,Mo=a.div`
  > * {
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.16);
  }
  display: flex;
  flex-direction: row;
  gap: 8px;
  width: 326px;
  margin-top: 2rem;
  margin-bottom: 22px;
  margin-left: auto;
  margin-right: auto;
`,Oo=a.div`
  padding: 16px;
  padding-bottom: 0px;
`,No=a.div`
  padding: 32px 16px;
  width: 100%;
`,Lo={minimumFractionDigits:2,maximumFractionDigits:2},po=n.default.memo(({hasFungibles:o,isErrorTokens:i,isLoading:l,isHidingAllFungibles:r,isReadOnlyAccount:t,value:s,earnings:m,showDollarValues:g,shouldShowPartialError:h,partialErrorMessage:b,ctaActions:S})=>{let{t:f}=L(),A=Ho(m),C=Do(s,m),{buttonDisabled:D}=zo({isLoading:l,isEnabled:o||r,isErrorTokens:i}),z=Le();return n.default.createElement(k,{width:"100%"},h?n.default.createElement(Oo,null,n.default.createElement(Xe,{partialErrorMessage:b})):null,z?n.default.createElement(Ao,null,n.default.createElement(co,null)):n.default.createElement(vo,null,g?l?n.default.createElement(se,null,n.default.createElement(mo,{width:"184px",margin:"0 0 10px 0"}),n.default.createElement(mo,{width:"112px"})):o||r?n.default.createElement(n.default.Fragment,null,n.default.createElement(k,{width:"100%",marginBottom:10},n.default.createElement(lo,{maxFontSize:38},n.default.createElement(re,{font:"inherit",fontWeight:"semibold",value:s,intlNumberFormatOptions:Lo}))),n.default.createElement(Po,null,n.default.createElement(re,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:m}),n.default.createElement(Io,{color:A,backgroundColor:ce(A,.1)},C))):i?n.default.createElement(se,null,n.default.createElement(uo,{width:"184px",margin:"0 0 10px 0"}),n.default.createElement(uo,{width:"112px"})):null:n.default.createElement(se,null,n.default.createElement(Eo,null,"\u2013"))),n.default.createElement(oo,null),t?n.default.createElement(Mo,null,n.default.createElement(Bo,null,n.default.createElement(De,{width:20,height:20,fill:c.colors.legacy.textPrimary}),n.default.createElement(Fo,null,f("readOnlyAccountBannerWarning")))):n.default.createElement(No,null,n.default.createElement(Je,{disabled:D,actions:S,uiContextName:"home",maxButtons:4})))}),Ho=o=>o===void 0||o===0?c.colors.legacy.textSecondary:o>0?c.colors.legacy.accentSuccess:c.colors.legacy.accentAlert,Do=(o,i)=>{let l=o===void 0,r=i===void 0,t=r||i>=0?"+":"-";return l||r?"-":`${t}${Math.abs(Ee(o-i,o)).toFixed(2)}%`},zo=({isLoading:o,isEnabled:i,isErrorTokens:l})=>{let r="primary",t=!1;switch(!0){case o:r="secondary",t=!0;break;case i:r="primary",t=!1;break;case l:r="secondary",t=!0}return{buttonTheme:r,buttonDisabled:t}};u();p();var T=E(P());var Vo=a(v).attrs({align:"center"})``,Uo=a.div`
  width: 48px;
  height: 48px;
  position: relative;
  margin-bottom: 15px;
  border-radius: 100%;
  background: ${c.colors.legacy.bgRow};
`,Wo=a(I).attrs({align:"center",justify:"center"})`
  height: 100%;
`,_o=a(y).attrs({size:17,weight:500,lineHeight:22,margin:"0 0 10px 0"})``,$o=a(y).attrs({size:15,weight:500,lineHeight:21,margin:"0 0 15px 0",color:c.colors.legacy.textSecondary})``,Go=a(y).attrs({size:16,weight:500,lineHeight:22,margin:"0",color:c.colors.legacy.accentPrimary})``,go=T.default.memo(o=>T.default.createElement(Vo,null,T.default.createElement(Uo,null,T.default.createElement(Wo,null,T.default.createElement(Ve,{width:22,exclamationFill:"transparent",circleFill:c.colors.brand.yellowMoon}))),T.default.createElement(_o,null,o.title),T.default.createElement($o,null,o.description),T.default.createElement(Go,{onClick:o.refetch},o.buttonText)));u();p();var H=E(P());var Zo=a(I).attrs({justify:"center",margin:"0 auto",width:"auto"})`
  cursor: pointer;
  height: 48px;
  margin-bottom: 10px;
  p {
    font-weight: 500;
  }
  &:hover {
    p {
      color: ${c.colors.legacy.accentPrimary} !important;
    }
    svg {
      fill: ${c.colors.legacy.accentPrimary};
      path {
        stroke: ${c.colors.legacy.accentPrimary};
      }
      circle {
        stroke: ${c.colors.legacy.accentPrimary};
      }
    }
  }
`,jo=a(y).attrs({size:16,color:c.colors.legacy.textSecondary,weight:500,margin:"0 0 0 10px",lineHeight:19,noWrap:!0})``,ae=H.default.memo(o=>H.default.createElement(Zo,{onClick:o.onClick},H.default.createElement(Ue,null,H.default.createElement(ze,null)),H.default.createElement(jo,null,o.buttonText)));u();p();var Z=E(P());function fo(o,i,l){let r=oe(),[t,s]=(0,Z.useState)(!1);(0,Z.useEffect)(()=>{r||s(!1)},[l,r]),(0,Z.useEffect)(()=>{t||!i.length||!o.length||r||(Ye.walletBalance(l,i,o),s(!0))},[l,i,o,t,r])}u();p();var ho=()=>x.ENVIRONMENT==="e2e";var qo=Be(!0),Ko=e.default.memo(({listRowProps:o,fungible:i,isMainnet:l,visibilityOverrides:r})=>{let{t}=L(),{pushDetailView:s}=We(),{chain:m,name:g,tokenAddress:h}=i.data,b=g??t("assetDetailUnknownToken"),S=ue(Ie(i)),f=(0,e.useCallback)(()=>{Ae.capture("assetDetailClick",{data:{address:h,chain:m.name,chainId:de.getChainID(m.id),isNativeOfType:m.name,networkId:m.id,type:"fungible",spamStatus:i.data.spamStatus,name:b}}),s(e.default.createElement(eo,{caip19:S,fungibleKey:i.data.key,splTokenAccount:i.type==="SPL"?i.data.splTokenAccountPubkey:void 0,isSplCompressed:i.type==="CompressedSPL",entryPoint:"home"}))},[i,m,S,s,b,h]);return e.default.createElement("div",{key:o.key,style:o.style},e.default.createElement(Ke,{...Ge(i,r),onClick:()=>f(),showBalance:!0,showCurrencyValues:l,enableAnimations:!0}))}),Qo=ne({seconds:5}),Xo=ne({seconds:10}),Yo=()=>{let{data:o}=ee(),{data:i}=pe(o?.identifier),{shouldShowAdditionalPermissionsInterstitial:l}=io(),r=Re(),{handleShowModalVisibility:t,handleHideModalVisibility:s,isAnyModalOpen:m}=te(),g=(0,e.useCallback)(()=>{o&&t("onramp")},[t,o]),h=(0,e.useCallback)(()=>{o&&t("receive",{account:o,onCloseClick:()=>s("receive")})},[s,t,o]),b=(0,e.useCallback)(()=>{r({})},[r]),S=(0,e.useCallback)(()=>{t("sendFungibleSelect")},[t]),{t:f}=L(),A=(0,e.useMemo)(()=>({manageTokenList:f("homeManageTokenList"),errorTitle:f("homeErrorTitle"),errorDescription:f("homeErrorDescription"),errorButton:f("homeErrorButtonText")}),[f]),{ctaActions:C,shouldShowPartialError:D,partialErrorMessage:z}=Oe({onTappingBuy:g,onTappingReceive:h,onTappingSend:S,onTappingSwap:b,account:o}),B=(0,e.useCallback)(()=>{s("unifiedInterstitial")},[s]),{isOpen:j}=_e(),{shouldShow:V,showFlow:U}=Ne(),{interstitial:q,shouldShow:K}=Ce({onPrimaryAction:B,condition:()=>!j,image:e.default.createElement("img",{src:"/images/sui/onboarding.svg",style:{paddingTop:"16px"}})}),{interstitial:Q,shouldShow:W}=ke({onPrimaryAction:B,onSecondaryAction:B,condition:()=>!j,image:e.default.createElement("img",{src:"/images/arbitrum/onboarding.svg",style:{paddingTop:"16px"}})}),{shouldShowTermsOfServiceUpdateInterstitial:_,setTermsAcknowledgement:ie}=He(),{interstitial:X}=ve({onConfirm:()=>{ie(!0),B()},openUrl:async N=>{self.open(N,"_blank")}});(0,e.useEffect)(()=>{let N=setTimeout(()=>{m()||(_?t("unifiedInterstitial",X):V?U(()=>t("quickClaimUsername",{isDismissable:!1})):K?t("unifiedInterstitial",q):W&&t("unifiedInterstitial",Q))},500);return()=>clearTimeout(N)},[q,t,K,V,U,m,_,X,Q,W]);let{accountBalance:M,accountId:O}=(0,e.useMemo)(()=>({accountBalance:i?.value,accountId:o?.identifier??""}),[i?.value,o?.identifier]),d=o?.isReadOnly,F=!oe(),Y=Pe(N=>N.resetSendSlice);(0,e.useEffect)(function(){O&&Y()},[O,Y]);let{fungibles:$,visibilityOverrides:J,portfolio:R,isHidingAllFungibles:bo,isLoadingVisibilityOverrides:yo,isLoadingTokens:xo,isLoadingPrices:wo,isErrorTokens:To,refetch:So}=Me({useTokenQueryOptions:{staleTime:Qo,refetchInterval:Xo}}),{mutate:Co}=ge();be({accountBalance:M,accountId:O,enabled:F,value:R.value,setAccountBalance:Co});let ko=fe();return fo($,ko,O),{data:(0,e.useMemo)(()=>({fungibles:$,earnings:R.earnings,value:R.value,isMainnet:F,translations:A,visibilityOverrides:J,ctaActions:C,showReceiveModal:h,handleShowModalVisibility:t,handleHideModalVisibility:s}),[J,$,R,A,F,h,t,s,C]),isHidingAllFungibles:bo,isLoading:yo||xo||wo,isErrorTokens:To,isReadOnlyAccount:d,refetch:So,shouldShowPartialError:D,partialErrorMessage:z,shouldShowAdditionalPermissionsInterstitial:l}},le="home-tab",Jo=()=>{let{data:[o]}=me(["enable-merge-collectibles"]),{t:i}=L(),{data:l,isHidingAllFungibles:r,isLoading:t,isErrorTokens:s,isReadOnlyAccount:m,refetch:g,shouldShowPartialError:h,partialErrorMessage:b,shouldShowAdditionalPermissionsInterstitial:S}=Yo(),{fungibles:f,translations:A,isMainnet:C,earnings:D,value:z,visibilityOverrides:B,ctaActions:j,handleShowModalVisibility:V}=l,{manageTokenList:U,errorTitle:q,errorDescription:K,errorButton:Q}=A,W=f.length>0,_=(0,e.useRef)(document.getElementById(le));(0,e.useEffect)(()=>{let d=document.getElementById(le);d&&(_.current=d)},[]);let[ie,X]=Fe(qo),M=o?ie:!0,O=(0,e.useCallback)(d=>e.default.createElement(Ko,{key:d.key,listRowProps:d,fungible:f[d.index],isMainnet:C,visibilityOverrides:B}),[f,C,B]);return e.default.createElement("div",{id:le,style:{overflowY:M?"auto":void 0,overflowX:"hidden"}},e.default.createElement(po,{earnings:D,value:z,hasFungibles:W,isErrorTokens:s,isLoading:t,isHidingAllFungibles:r,isReadOnlyAccount:m,showDollarValues:C,shouldShowPartialError:h,partialErrorMessage:b,ctaActions:j}),e.default.createElement(v,{align:"center",padding:"0 16px 16px"},!m&&e.default.createElement(e.default.Fragment,null,e.default.createElement(so,null),e.default.createElement(ro,null)),!ho()&&e.default.createElement(e.default.Fragment,null,e.default.createElement(no,null)),S&&e.default.createElement(to,null),o?e.default.createElement(k,{direction:"row",gap:12,width:"100%",marginBottom:12},[{title:i("portfolioHomeTokens"),isActive:M},{title:i("portfolioHomeCollectibles"),isActive:!M}].map(d=>e.default.createElement(ye,{key:d.title,font:"title1Semibold",onPress:d.isActive?void 0:()=>X(F=>!F),color:d.isActive?"textPrimary":"textSecondary"},d.title))):null,t?[1,2,3].map(d=>e.default.createElement(je,{key:`fungible-token-row-loader-${d}`})):W?M?e.default.createElement(e.default.Fragment,null,e.default.createElement(Se,{scrollElement:_.current??void 0},({height:d=0,isScrolling:F,registerChild:Y,scrollTop:$})=>e.default.createElement("div",{style:{width:"100%"},ref:Y},e.default.createElement(we,{disableHeight:!0},({width:J})=>e.default.createElement(Te,{autoHeight:!0,width:J,height:d,scrollTop:$,isScrolling:F,rowCount:f.length,rowHeight:qe+10,rowRenderer:O})))),e.default.createElement(ae,{buttonText:U,onClick:()=>V("fungibleVisibility")})):e.default.createElement(k,{size:"100%"},e.default.createElement(ao,{hideSearch:!0,padding:0})):r?e.default.createElement(ae,{buttonText:U,onClick:()=>V("fungibleVisibility")}):e.default.createElement(go,{title:q,description:K,buttonText:Q,refetch:g})))},zi=Jo;export{zi as default};
//# sourceMappingURL=HomeTabPage-VA23RAXG.js.map
